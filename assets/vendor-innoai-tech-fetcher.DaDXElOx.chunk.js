import{O as e,B as t,S as s,h as r,t as n,j as a,e as i,k as o,o as c}from"./vendor-rxjs.BAdEGkJ2.chunk.js";import{c as p,v as u,i as h,b as d,a as l}from"./vendor-innoai-tech-lodash.CNO5VV2T.chunk.js";let f=(e,t)=>new b(e,t);class b extends e{constructor(e,t){super(e=>this._success$.subscribe(e)),this.createConfig=e,this.fetcher=t}requesting$=new t(!1);error$=new s;_success$=new s;_input$=new s;get operationID(){return this.createConfig.operationID}unsubscribe=this._input$.pipe(r(e=>(this.requesting$.next(!0),i(this.fetcher.request(this.createConfig(e))).pipe(n(e=>this._success$.next(e)),o(e=>(this.error$.next(e),c(e)))))),n(()=>{this.requesting$.next(!1)}),a()).subscribe();_prevInputs;next=e=>{let t=p(e)?e(this._prevInputs):e;this._prevInputs=t,this._input$.next(t)};toHref=e=>this.fetcher.toHref(this.createConfig(e))}let g=(e={})=>e["Content-Type"]||e["content-type"]||"",y=e=>{let t=new URLSearchParams,s=(e,r)=>h(r)?void u(r,t=>{s(e,t)}):d(r)?void s(e,JSON.stringify(r)):void(!l(r)&&0!==`${r}`.length&&t.append(e,`${r}`));return u(e,(e,t)=>{s(t,e)}),t.toString()},m=(e,t)=>{if(g(t).includes("multipart/form-data")){((e={})=>{e["Content-Type"]&&(e["Content-Type"]=void 0),e["content-type"]&&(e["content-type"]=void 0)})(t);let s=new FormData,r=(e,t)=>{t instanceof File||t instanceof Blob?s.append(e,t):h(t)?u(t,t=>r(e,t)):d(t)?s.append(e,JSON.stringify(t)):s.append(e,t)};return u(e,(e,t)=>r(t,e)),s}return g(t).includes("application/x-www-form-urlencoded")?y(e):h(e)||d(e)?JSON.stringify(e):e},$=({paramsSerializer:e,transformRequestBody:t})=>{let s=t=>{let s=e(t.params);return s.length&&!s.startsWith("?")&&(s="?"+s),`${t.url}${s}`},r=e=>t(e.body,e.headers||{});return{build:e=>e,toRequestBody:r,toHref:s,request:e=>fetch(s(e),{method:e.method,headers:e.headers||{},body:r(e)}).then(async t=>{let s;s=t.headers.get("Content-Type")?.includes("application/json")?await t.json():t.headers.get("Content-Type")?.includes("application/octet-stream")?await t.blob():await t.text();let r={config:e,status:t.status,headers:{}};for(let[e,s]of Object.entries(t.headers??{}))r.headers[e]=s;return r.body=s,r}).then(e=>{if(e.status>=400)throw e.error=e.body,e;return e})}};export{f as a,$ as c,y as p,m as t};
