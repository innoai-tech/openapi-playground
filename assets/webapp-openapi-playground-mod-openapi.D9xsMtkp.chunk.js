var __defProp = Object.defineProperty;
var __typeError = (msg) => {
  throw TypeError(msg);
};
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateMethod = (obj, member, method) => (__accessCheck(obj, member, "access private method"), method);
var _t2, _e2, _ed_instances, r_get, i_fn, _a2, _n2, _b2, _n3, _c2, _n4, _d2, _n5, _e3, _n6, _f2, _n7, _g2, _n8, _h2, _n9, _fE_instances, o_fn, a_fn, s_fn, _i, _n10, _j2, _n11, _k2, _n12, _l2, _n13, _m2, _n14, _n15, _n16, _o2, _n17, _p2, _n18, _q2, _n19, _r2, _n20, _s2, _n21, _t3, _n22, _u2, _n23, _v2, _n24, _w2, _n25, _x2, _n26, _y2, _n27, _z2, _n28, _A2, _n29, _B2, _n30, _C2, _n31, _D2, _n32, _E2, _n33, _F2, _n34, _G2, _n35, _H2, _n36, _I2, _n37, _J2, _n38, _K2, _n39, _L2, _n40, _M2, _n41, _N2, _n42, _l3;
let t;
import { I as e, r, c as i, a as n, o as a, e as o, s, y as l, k as h, j as u, C as d, R as p, d as g, F as f, b as y, D as v, E as x, G as b, m as w, g as k, _ } from "./lib-nodepkg-vuekit.B_6xzrjS.chunk.js";
import { S as T, s as E, b as C, e as S, f as A, g as L, h as N, j as I, o as M } from "./lib-nodepkg-typedef.Cok4nLsC.chunk.js";
import { c as R, a as D, p as O, t as P } from "./vendor-innoai-tech-fetcher.Brc9vN7P.chunk.js";
import { B as $, s as B, b as F, m as z, E as U, o as G, S as q, t as Y, k as H, O as j, l as W, c as V, e as X, n as K } from "./vendor-rxjs.0fvETg7O.chunk.js";
import { w as Z, g as Q, a as J, x as tt, d as te, e as tr, y as ti, z as tn, h as ta, A as to, b as ts, m as tl, B as th, v as tc, C as tu, D as td, E as tp, F as tg, G as tf, H as tm, I as ty, J as tv, j as tx, K as tb, L as tw, M as tk, N as t_, O as tT, l as tE, P as tC, n as tS, Q as tA, R as tL, S as tN, T as tI, U as tM, q as tR, f as tD, V as tO, r as tP, W as t$, X as tB, Y as tF, Z as tz, _ as tU, $ as tG, a0 as tq, a1 as tY, a2 as tH, a3 as tj, a4 as tW, a5 as tV, a6 as tX, a7 as tK } from "./vendor-innoai-tech-lodash.DgqfXwqr.chunk.js";
import { s as tZ, B as tQ, v as tJ, a as t0, c as t1, e as t2, f as t4 } from "./lib-nodepkg-vueuikit.DqQbMjnZ.chunk.js";
import { M as t5 } from "./lib-nodepkg-vuemarkdown.Dfm1twZp.chunk.js";
import { I as t3, D as t6, m as t7, T as t8, F as t9, f as et, g as ee, h as er, i as ei, a as en } from "./lib-nodepkg-vuematerial.B6bY_d9D.chunk.js";
import { l as ea, h as eo, i as es, F as el } from "./lib-nodepkg-vueformdata.DXkzOYlN.chunk.js";
import { J as eh, a as ec, b as eu } from "./lib-nodepkg-jsoneditor.B-z6Q4Te.chunk.js";
const _ed = class _ed extends e {
  constructor() {
    super(...arguments);
    __privateAdd(this, _ed_instances);
    __privateAdd(this, _t2, R({ paramsSerializer: O, transformRequestBody: P }));
    __privateAdd(this, _e2, new $(/* @__PURE__ */ new Map()));
  }
  static empty() {
    return new _ed({ openapi: "3.1.0", components: { schemas: {} }, paths: {} });
  }
  response$(t33) {
    return r(__privateGet(this, _e2), B((e10) => {
      let r10 = e10.get(t33);
      return r10 ? z(r10, r10.error$) : U;
    }));
  }
  requesting$(t33) {
    return r(__privateGet(this, _e2), B((e10) => {
      var r10, i10;
      return null !== (i10 = null === (r10 = e10.get(t33)) || void 0 === r10 ? void 0 : r10.requesting$) && void 0 !== i10 ? i10 : G(false);
    }));
  }
  asRequestConfigCreator(t33) {
    var e10, r10;
    let i10 = __privateMethod(this, _ed_instances, i_fn).call(this, t33);
    if (!i10) return null;
    let n10 = Object.keys(null !== (r10 = null === (e10 = i10.requestBody) || void 0 === e10 ? void 0 : e10.content) && void 0 !== r10 ? r10 : {})[0];
    return (t34) => {
      var e11, r11;
      return { method: i10.method, url: __privateGet(this, _ed_instances, r_get) + eg(i10.path, t34), params: Z(t34, null === (e11 = i10.parameters) || void 0 === e11 ? void 0 : e11.filter((t35) => "query" == t35.in).map((t35) => t35.name)), headers: { ...Z(t34, null === (r11 = i10.parameters) || void 0 === r11 ? void 0 : r11.filter((t35) => "header" == t35.in).map((t35) => t35.name)), ...n10 ? { "Content-Type": n10 } : {} }, body: t34.body, inputs: t34 };
    };
  }
  request(t33, e10) {
    let r10 = __privateGet(this, _e2).value.get(t33);
    if (!r10) {
      let e11 = this.asRequestConfigCreator(t33);
      if (!e11) return;
      r10 = D(Object.assign(e11, { operationID: t33, TRespData: {} }), __privateGet(this, _t2)), __privateGet(this, _e2).value.set(t33, r10), __privateGet(this, _e2).next(__privateGet(this, _e2).value);
    }
    r10.next(e10);
  }
  operation$(t33) {
    return r(this, B((e10) => {
      for (let r10 of ep(e10, { operationId: t33 })) if (r10) return G(r10);
      return G(null);
    }));
  }
  operations$(t33) {
    return r(this, B((e10) => G([...ep(e10, t33)])));
  }
  schema$(t33) {
    var e10, i10;
    let n10 = null !== (i10 = null === (e10 = t33.split("#/")[1]) || void 0 === e10 ? void 0 : e10.split("/")) && void 0 !== i10 ? i10 : [];
    return r(this, B((t34) => {
      if (n10) {
        var e11;
        return G(null !== (e11 = Q(t34, n10)) && void 0 !== e11 ? e11 : null);
      }
      return G(null);
    }), F((t34) => t34 ? { ...t34, $id: n10[n10.length - 1] } : t34));
  }
  schema(t33) {
    var e10, r10, i10;
    let n10 = null !== (r10 = null === (e10 = t33.split("#/")[1]) || void 0 === e10 ? void 0 : e10.split("/")) && void 0 !== r10 ? r10 : [];
    if (n10) return null !== (i10 = Q(this.value, n10)) && void 0 !== i10 ? i10 : void 0;
  }
};
_t2 = new WeakMap();
_e2 = new WeakMap();
_ed_instances = new WeakSet();
r_get = function() {
  var t33, e10, r10;
  return null !== (r10 = null === (e10 = this.value.servers) || void 0 === e10 ? void 0 : null === (t33 = e10[0]) || void 0 === t33 ? void 0 : t33.url) && void 0 !== r10 ? r10 : "";
};
i_fn = function(t33) {
  for (let e10 of ep(this.value, { operationId: t33 })) if (e10) return e10;
  return null;
};
let ed = _ed;
function* ep(t33, e10) {
  for (let [a10, o10] of Object.entries(t33.paths)) for (let [t34, s10] of Object.entries(o10)) {
    var r10, i10, n10;
    if ("OpenAPI" != s10.operationId && "OpenAPIView" != s10.operationId && (!e10.tag || (null !== (i10 = s10.tags) && void 0 !== i10 ? i10 : []).includes(e10.tag))) {
      if (e10.operationId) {
        if (e10.operationId.startsWith("*")) {
          if (!s10.operationId.toLowerCase().includes(e10.operationId.slice(1).toLowerCase())) continue;
        } else if (s10.operationId.toLowerCase() != e10.operationId.toLowerCase()) continue;
      }
      yield { ...s10, method: t34, path: a10, group: null !== (n10 = null === (r10 = s10.tags) || void 0 === r10 ? void 0 : r10[0]) && void 0 !== n10 ? n10 : "" };
    }
  }
}
let eg = function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  return t33.replace(/{([\s\S]+?)}/g, (t34, r10) => [].concat(e10[r10] || t34).join(","));
}, ef = i(() => ed.empty(), { name: "OpenAPI" }), em = (t33) => (e10, r10) => e10[t33] == r10[t33] ? 0 : e10[t33] < r10[t33] ? -1 : 1, ey = n((t33, i10) => {
  let {} = t33, {} = i10, n10 = ef.use(), g10 = new e({ operationId: void 0 }), f10 = new q();
  r(f10, H(200), Y((t34) => {
    g10.next((e10) => {
      e10.operationId = `*${null != t34 ? t34 : ""}`;
    });
  }), s());
  let y10 = a(null);
  r(y10, B((t34) => {
    if (t34) {
      let e10 = (e11) => {
        e11 && t34.scrollTo({ top: e11.offsetTop - t34.offsetTop });
      };
      return new j(() => {
        let r10 = new MutationObserver((t35) => {
          for (let r11 of t35) if ("attributes" === r11.type) {
            let t36 = r11.target;
            t36.classList.contains("router-link-active") && e10(t36);
          }
        });
        return r10.observe(t34, { attributes: true, subtree: true }), setTimeout(() => {
          e10(t34.querySelector(".router-link-active"));
        }, 100), () => {
          r10.disconnect();
        };
      });
    }
    return U;
  }), l());
  let v10 = r(g10, B((t34) => n10.operations$(t34)), h((t34) => {
    let e10 = Object.groupBy(t34, (t35) => t35.group);
    return o(ex, { children: [u(eb, { children: u("input", { type: "text", placeholder: "请输入 operationId 查询", onInput: (t35) => {
      f10.next(t35.target.value);
    } }) }), u(ew, { sx: { flex: 1, overflow: "scroll" }, ref: y10, children: Object.entries(e10).toSorted().map((t35) => {
      let [e11, r10] = t35;
      return o("div", { "data-nav-group": true, children: [u("div", { "data-nav-group-heading": true, children: e11 }), u("div", { "data-nav-group-contents": true, children: null == r10 ? void 0 : r10.toSorted(em("operationId")).map((t36) => {
        var e12;
        return o(e_, { component: d, to: `/operations/${t36.operationId}`, children: [u(tQ, { "data-operation-method": true, sx: { color: null !== (e12 = { get: "sys.primary", post: "sys.success", put: "sys.warning", delete: "sys.error" }[t36.method]) && void 0 !== e12 ? e12 : "sys.secondary" }, children: t36.method }), o("div", { "data-operation-desc": true, children: [u("div", { "data-operation-id": true, children: t36.operationId }), t36.summary ? u("div", { "data-operation-summary": true, children: t36.summary != t36.operationId ? t36.summary : u("span", { children: " " }) }) : void 0] })] });
      }) })] });
    }) })] });
  }));
  return () => o(ev, { children: [v10, u(ek, { children: u(p, {}) })] });
}, { displayName: "OpenAPIView" }), ev = tZ("div", { displayName: "Container" })({ width: "100vw", height: "100vh", overflow: "hidden", display: "flex" }), ex = tZ("aside", { displayName: "NavContainer" })({ width: 240, py: 4, display: "flex", flexDirection: "column", gap: 4, height: "100%", overflow: "hidden", borderRight: "1px solid", borderColor: "sys.outline" }), eb = tZ("div", { displayName: "NavSearchBox" })({ input: { py: 10, px: 12, border: "none", width: "100%", outline: 0 }, borderBottom: "1px solid", borderColor: "sys.outline" }), ew = tZ("div", { displayName: "Nav" })({ display: "flex", flexDirection: "column", gap: 4, $data_nav_group_heading: { px: 12, py: 4, textStyle: "sys.label-small", containerStyle: "sys.secondary-container" } }), ek = tZ("main", { displayName: "Main" })({ flex: 1, overflow: "hidden" }), e_ = tZ("a", { displayName: "OperationListItem" })({ px: 12, py: 8, pos: "relative", overflow: "hidden", width: 240, display: "flex", alignItems: "center", gap: 8, flexDirection: "row-reverse", textDecoration: "none", $data_operation_method: { textTransform: "uppercase", fontSize: 18, fontFamily: "code", display: "flex", alignItems: "center", pointerEvents: "none" }, $data_operation_desc: { flex: 1, overflow: "hidden" }, $data_operation_id: { textStyle: "sys.label-large", textOverflow: "ellipsis", overflow: "hidden" }, $data_operation_summary: { opacity: 0.7, textStyle: "sys.body-small", textOverflow: "ellipsis", overflow: "hidden" }, "&.router-link-active": { containerStyle: "sys.surface-container" } }), eT = tZ("div", { displayName: "Token" })({ display: "inline-table", textStyle: "sys.label-small", fontWeight: "bold", fontFamily: "inherit", fontSize: 11, lineHeight: 14 }), eE = tZ("div", { displayName: "PropName", props: ["deprecated", "optional", "nullable"] })({ display: "inline-table", textStyle: "sys.label-small", fontWeight: "bold", fontFamily: "inherit", fontSize: 11, lineHeight: 14, color: "sys.primary", _deprecated: { textDecoration: "line-through" }, _nullable: { "&:after": { content: '"??"', color: "sys.error" } }, _optional: { "&:after": { content: '"?"', color: "sys.secondary" } } }), eC = tZ("div", (t33, e10) => {
  let { slots: r10 } = e10, i10 = eN.use();
  return (e11) => {
    var n10, a10;
    return u(e11, { style: { paddingLeft: `${i10.indent}em`, marginTop: (null !== (a10 = t33.spacing) && void 0 !== a10 ? a10 : 0) * 0.5 }, children: null === (n10 = r10.default) || void 0 === n10 ? void 0 : n10.call(r10) });
  };
}, { displayName: "Line", props: ["spacing"] })({ position: "relative", display: "block" }), eS = tZ("div", (t33, e10) => {
  let {} = e10;
  return (e11) => {
    var r10, i10;
    let n10 = null !== (r10 = T.metaProp(t33.schema, "title")) && void 0 !== r10 ? r10 : "", a10 = null !== (i10 = T.metaProp(t33.schema, "description")) && void 0 !== i10 ? i10 : "";
    return o(e11, { children: [n10, " ", a10 ? u(t8, { title: u(eA, { children: u(t5, { text: a10 }) }), children: u(t3, { path: t7 }) }) : null] });
  };
}, { displayName: "Description", props: ["schema"] })({ position: "relative", pt: 8, display: "flex", alignItems: "center", gap: 4, "&::before": { content: '"// "', fontFamily: "code" }, textStyle: "sys.body-small", fontSize: 10, lineHeight: 12, [`${t3}`]: { width: 12, height: 12, overflow: "hidden" } }), eA = tZ("div", { displayName: "MarkdownContainer" })({ textStyle: "sys.body-small", "& p": { my: 1, wordBreak: "keep-all", whiteSpace: "nowrap", opacity: 0.7 }, "& code": { wordBreak: "keep-all", whiteSpace: "nowrap" } }), eL = (t33) => {
  let { name: e10, value: r10, extra: i10 } = t33;
  return "" == r10 ? null : u(eC, { children: o(eT, { sx: { opacity: 0.7, wordBreak: "keep-all", whiteSpace: "nowrap" }, children: [u(eT, { sx: { color: "sys.primary" }, children: `@${e10}(` }), `${r10}`, Object.entries(null != i10 ? i10 : {}).map((t34) => {
    let [e11, r11] = t34;
    return o(f, { children: [o(eT, { sx: { opacity: 0.5 }, children: [",", " "] }), u(eT, { sx: { opacity: 0.5 }, children: e11 }), o(eT, { sx: { opacity: 0.5 }, children: [":", " "] }), u(eT, { sx: { opacity: 0.7 }, children: r11 })] });
  }), u(eT, { sx: { color: "sys.primary" }, children: ")" })] }) });
}, eN = i(() => ({ indent: 0 }), { name: "IntentContext" }), eI = g((t33, e10) => {
  let {} = t33, { slots: r10 } = e10, i10 = eN.use();
  return () => {
    var t34;
    return u(eN, { value: { indent: i10.indent + 1 }, children: null === (t34 = r10.default) || void 0 === t34 ? void 0 : t34.call(r10) });
  };
}, { displayName: "Indent" });
class eM {
  constructor(t33, e10) {
    this.id = t33, this.parent = e10;
  }
  child(t33) {
    return new eM(t33, this);
  }
  safe(t33) {
    let e10 = this;
    for (; e10; ) {
      if (e10.id == t33) return false;
      e10 = e10.parent;
    }
    return true;
  }
}
let eR = i(() => new eM("")), eD = n((t33) => {
  let e10 = eR.use(), r10 = eN.use(), i10 = a(false);
  return () => {
    let n10 = t33.schema, a10 = T.schemaProp(t33.schema, "$ref"), s10 = "intersection" == (n10 = T.schemaProp(t33.schema, T.unwrap)()).type || "object" == n10.type || "union" == n10.type || "record" == n10.type || "array" == n10.type || "union" == n10.type, l10 = e10.safe(a10) && o(f, { children: [u("span", { children: " " }), u(eP, { schema: n10 })] });
    return u(eR, { value: e10.child(a10), children: s10 ? r10.indent < 3 ? o(f, { children: [u(d, { to: `#${a10}`, children: u(eT, { id: a10, children: a10 }) }), r10.indent < 3 && l10] }) : o(f, { children: [u("a", { href: `#${a10}`, onClick: (t34) => {
      t34.preventDefault(), i10.next(true);
    }, children: u(eT, { id: a10, children: a10 }) }), e10.safe(a10) && u(t6, { isOpen: i10.value, onClose: () => {
      i10.next(false);
    }, children: u(eO, { children: o(eC, { children: [u(eT, { children: a10 }), u(eN, { value: { indent: 0 }, children: l10 })] }) }) })] }) : l10 });
  };
}, { displayName: "SchemaViewLink", props: ["schema"] }), eO = tZ("div", { displayName: "DialogContainer" })({ display: "flex", containerStyle: "sys.surface", height: "100vh", width: "36vw", roundedLeft: "sm", px: 16, py: 36, top: 0, right: 0, position: "absolute", overflow: "auto" }), eP = n((t33) => {
  let e10 = t33.schema;
  return T.schemaProp(e10, "$ref") ? u(eD, { schema: e10 }) : () => {
    var t34, r10, i10, n10, a10, s10, l10, h10;
    switch (e10.type) {
      case "union":
        return u(f, { children: null === (t34 = T.schemaProp(e10, "oneOf")) || void 0 === t34 ? void 0 : t34.map((t35, e11) => o(f, { children: [e11 > 0 && o(eT, { children: [" ", " | ", " "] }), u(eP, { schema: t35 })] })) });
      case "intersection":
        return u(eT, { children: null === (r10 = T.schemaProp(e10, "allOf")) || void 0 === r10 ? void 0 : r10.filter((t35) => !Object.keys(t35).length).map((t35, e11) => o(f, { children: [e11 > 0 && o(eT, { children: [" ", "&", " "] }), u(eP, { schema: t35 })] })) });
      case "array":
        return o(eT, { sx: { wordBreak: "keep-all", whiteSpace: "nowrap" }, children: [u(eT, { children: "Array<" }), u(eP, { schema: null !== (i10 = T.schemaProp(e10, "items")) && void 0 !== i10 ? i10 : C() }), u(eT, { children: ">" })] });
      case "object":
        return o(f, { children: [u(eT, { children: "{" }), u(eI, { children: u(f, { children: Object.entries(null !== (n10 = T.schemaProp(e10, "properties")) && void 0 !== n10 ? n10 : {}).map((t35) => {
          var r11;
          let [i11, n11] = t35;
          return n11 ? u(f, { children: o(eC, { spacing: 2, children: [u(eS, { schema: n11 }), o(eT, { sx: { wordBreak: "keep-all", whiteSpace: "nowrap" }, children: [u(eE, { nullable: T.schemaProp(e10, "nullable"), deprecated: T.schemaProp(e10, "deprecated"), optional: !(null !== (r11 = T.schemaProp(e10, "required")) && void 0 !== r11 ? r11 : []).includes(i11), children: i11 }), u(eT, { sx: { mr: "1em" }, children: ":" }), u(eP, { schema: n11 })] })] }) }) : null;
        }) }) }), u(eT, { children: "}" })] });
      case "record":
        return o(f, { children: [u(eT, { children: "{" }), T.schemaProp(e10, "additionalProperties") && u(f, { children: u(eI, { children: o(eC, { children: [o(eT, { sx: { mr: 1 }, children: ["[K:", " "] }), u(eP, { schema: null !== (a10 = T.schemaProp(e10, "propertyNames")) && void 0 !== a10 ? a10 : E() }), o(eT, { sx: { mr: 1 }, children: ["]:", " "] }), u(eP, { schema: null !== (s10 = T.schemaProp(e10, "additionalProperties")) && void 0 !== s10 ? s10 : C() })] }) }) }), u(eT, { children: "}" })] });
      case "enums": {
        let t35 = null !== (l10 = T.schemaProp(e10, "enum")) && void 0 !== l10 ? l10 : [];
        if (1 == t35.length) return u(eT, { children: JSON.stringify(t35[0]) });
        let r11 = "any";
        return t35.length > 0 && (r11 = typeof t35[0]), o(f, { children: [u(eT, { sx: { fontWeight: "bold" }, children: r11 }), u(eI, { children: t35.map((t36, r12) => {
          var i11;
          return u(eL, { name: "enum", value: `${t36}`, extra: (null === (i11 = T.metaProp(e10, "enumLabels")) || void 0 === i11 ? void 0 : i11[r12]) ? { label: JSON.stringify(T.metaProp(e10, "enumLabels")[r12]) } : {} }, t36);
        }) })] });
      }
    }
    let [d10, p10, g10] = [e10.type, T.schemaProp(e10, "format"), T.schemaProp(e10, "default")];
    return o(f, { children: [u(eT, { sx: { fontWeight: "bold" }, children: d10 || "any" }), o(eI, { children: [p10 && u(eL, { name: "format", value: p10 }), !J(g10) && u(eL, { name: "default", value: g10 }), !e$(e10) && u(eL, { name: "validate", value: e$(h10 = e10) ? T.schemaProp(h10, "pattern") ? `@r/${String(T.schemaProp(h10, "pattern"))}/` : `@${T.schemaProp(h10, "exclusiveMinimum")} ? "(" : "["}${T.schemaProp(h10, "minProperties") ? T.schemaProp(h10, "minProperties") : T.schemaProp(h10, "minItems") ? T.schemaProp(h10, "minItems") : T.schemaProp(h10, "minimum") ? T.schemaProp(h10, "minimum") : T.schemaProp(h10, "minLength") ? T.schemaProp(h10, "minLength") : "string" === h10.type ? "0" : ("number" === h10.type || "integer" === h10.type) && T.schemaProp(h10, "format") ? `${Math.pow(2, Number(T.schemaProp(h10, "format").replace(/[^0-9]/g, "")) - 1) - 1}` : "-∞"},${T.schemaProp(h10, "maxProperties") ? T.schemaProp(h10, "maxProperties") : T.schemaProp(h10, "maxItems") ? T.schemaProp(h10, "maxItems") : T.schemaProp(h10, "maximum") ? T.schemaProp(h10, "maximum") : T.schemaProp(h10, "maxLength") ? T.schemaProp(h10, "maxLength") : "string" === h10.type && "uint64" === T.schemaProp(h10, "format") ? "19" : ("number" === h10.type || "integer" === h10.type) && T.schemaProp(h10, "format") ? `${Math.pow(2, Number(T.schemaProp(h10, "format").replace(/[^0-9]/g, "")) - 1) - 1}` : "+∞"}${T.schemaProp(h10, "exclusiveMaximum") ? ")" : "]"}` : "" })] })] });
  };
}, { displayName: "SchemaView", props: ["schema"] });
function e$(t33) {
  return ["enum", "maximum", "exclusiveMaximum", "minimum", "exclusiveMinimum", "maxLength", "minLength", "pattern", "maxItems", "minItems", "maxProperties", "minProperties"].some((e10) => T.schemaProp(t33, e10));
}
let eB = n({ code: S(), response: S() }, (t33) => {
  let e10 = ef.use();
  return () => {
    var r10, i10;
    return o(eF, { children: [u(ez, { "data-failed": function(t34) {
      try {
        return Number(t34) >= 400;
      } catch (t35) {
        return false;
      }
    }(t33.code), children: t33.code }), o(tQ, { sx: { pl: "4em" }, children: [u(f, { children: tt(null !== (r10 = t33.response["x-status-return-errors"]) && void 0 !== r10 ? r10 : []).map((t34) => function() {
      let t35 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e11 = t35.indexOf("{");
      return e11 > -1 ? t35.slice(e11 + 1, t35.length - 1).split(",").reduce((t36, e12) => (t36.joining ? t36.values[t36.values.length - 1] += "," + e12 : t36.values.push(e12), e12.split('"').length % 2 == 0 && (t36.joining = !t36.joining), t36), { values: [], joining: false }).values.reduce((t36, e12) => {
        let r11 = e12.indexOf("=");
        if (r11 < 0) return t36;
        let i11 = e12.slice(0, r11), n10 = e12.slice(r11 + 1);
        return J(i11) || J(n10) ? t36 : { ...t36, [i11]: JSON.parse(n10) };
      }, { key: t35.slice(0, e11) }) : null;
    }(t34)).map((t34) => t34 ? u(tQ, { sx: { mb: 16 }, children: o(eC, { spacing: 0, children: [o(eT, { children: ["{", " "] }), u(eI, { children: Object.entries(t34).map((t35) => {
      let [e11, r11] = t35;
      return "code" === e11 ? null : o(eC, { children: [u(eE, { children: e11 }), u(eT, { children: ": " }), u(eT, { children: JSON.stringify(r11) })] });
    }) }), o(eT, { children: [" ", "}"] })] }) }) : null) }), u(f, { children: Object.entries(null !== (i10 = t33.response.content) && void 0 !== i10 ? i10 : {}).map((t34) => {
      let [r11, { schema: i11 }] = t34;
      return o(eU, { children: [u(eC, { spacing: 0, children: u(eP, { schema: A.decode(i11, (t35) => {
        var r12;
        return [null !== (r12 = e10.schema(t35)) && void 0 !== r12 ? r12 : {}, L(t35)];
      }) }) }), u("div", { "data-content-type": true, children: r11 })] });
    }) })] })] });
  };
}, { displayName: "ResponseView" }), eF = tZ("section", { displayName: "ResponseSection" })({}), ez = tZ("div", { displayName: "ResponseStatusCode" })({ fontSize: 18, fontFamily: "code", color: "sys.success", py: 12, pos: "sticky", top: 0, _data_failed__true: { color: "sys.error" } }), eU = tZ("section", { displayName: "ResponseSchema" })({ pos: "relative", $data_content_type: { pos: "absolute", right: 0, top: 0, fontFamily: "code", opacity: 0.3 } }), eG = tZ("div", (t33, e10) => {
  let { slots: r10 } = e10;
  return (e11) => {
    var i10, n10, a10, s10;
    let l10 = t33.valued, h10 = t33.invalid, d10 = t33.disabled, p10 = (null !== (s10 = null === (i10 = r10.default) || void 0 === i10 ? void 0 : i10.call(r10)) && void 0 !== s10 ? s10 : []).map((t34) => {
      if ("input" === t34.type) {
        var e12, r11, i11, n11, a11, o10;
        return l10 = !!(null !== (a11 = null !== (n11 = null === (e12 = t34.props) || void 0 === e12 ? void 0 : e12.value) && void 0 !== n11 ? n11 : null === (r11 = t34.props) || void 0 === r11 ? void 0 : r11.placeholder) && void 0 !== a11 ? a11 : l10), d10 = null !== (o10 = null === (i11 = t34.props) || void 0 === i11 ? void 0 : i11.disabled) && void 0 !== o10 ? o10 : d10, y(t34, { disabled: d10 });
      }
      return y(t34);
    });
    return o(e11, { "data-valued": l10, "data-invalid": h10, "data-disabled": d10, "data-focus-within": t33.focus, "data-has-leading": !!r10.leading, "data-has-trailing": !!r10.trailing, children: [o("div", { "data-input-container": true, children: [o("div", { "data-input-decorator-container": true, children: [u("div", { "data-input-decorator-leading": true }), u("div", { "data-input-decorator-label": true, children: u("div", { "data-input-label": true, children: null === (n10 = r10.label) || void 0 === n10 ? void 0 : n10.call(r10) }) }), u("div", { "data-input-decorator-trailing": true })] }), o("div", { "data-input-row": true, children: [r10.leading && u(eq, { role: "leading", children: r10.leading() }), p10, r10.trailing && u(eq, { role: "trailing", children: r10.trailing() })] })] }), r10.supporting && u("div", { "data-input-supporting": true, children: null === (a10 = r10.supporting) || void 0 === a10 ? void 0 : a10.call(r10) })] });
  };
}, { displayName: "TextField", props: ["valued", "focus", "invalid", "disabled"] })({ display: "block", pos: "relative", textStyle: "sys.body-medium", $data_input_container: { pos: "relative", zIndex: 1 }, $data_input_row: { pos: "relative", rounded: "xs", overflow: "hidden", minHeight: 40, display: "flex", alignItems: "stretch" }, $data_input_decorator_container: { pos: "absolute", left: 0, top: 0, bottom: 0, right: 0, display: "flex", zIndex: 1, pointerEvents: "none", rounded: "xs" }, $data_input_decorator_leading: { roundedLeft: "xs", transitionDuration: "sm1", transitionTimingFunction: "standard", width: 16, borderLeft: "1px solid", borderTop: "1px solid", borderBottom: "1px solid", borderColor: "sys.outline" }, $data_input_decorator_label: { transitionDuration: "sm1", transitionTimingFunction: "standard", borderBottom: "1px solid", borderColor: "sys.outline" }, $data_input_decorator_trailing: { borderRight: "1px solid", borderTop: "1px solid", borderBottom: "1px solid", borderColor: "sys.outline", roundedRight: "xs", transitionDuration: "sm1", transitionTimingFunction: "standard", flex: 1 }, $data_input_label: { position: "relative", top: -12, padding: 4, textStyle: "sys.body-small", color: "sys.on-surface-variant", display: "flex", alignItems: "center" }, $data_input: { flex: 1, w: "100%", m: 0, px: 16, py: 4, cursor: "text", "&[readonly]": { cursor: "pointer" }, bg: "inherit", color: "sys.on-surface", outline: "none", border: "none", textStyle: "sys.body-medium", _disabled: { cursor: "not-allowed" } }, $data_input_supporting: { textStyle: "sys.body-small", px: 16, pt: 4, display: "flex", gap: 16, width: "100%", overflow: "auto", color: "sys.on-surface-variant" }, $data_icon: { color: "sys.on-surface-variant" }, _has_leading: { $data_input: { pl: 36 }, $data_input_label: { left: 36 } }, _has_trailing: { $data_input: { pr: 32 } }, _valued: { $data_input: {} }, _focusWithin: { $data_input_decorator_leading: { borderWidth: "2px", borderColor: "sys.primary" }, $data_input_decorator_label: { borderWidth: "2px", borderColor: "sys.primary" }, $data_input_decorator_trailing: { borderWidth: "2px", borderColor: "sys.primary" }, $data_input_label: { color: "sys.primary" } }, _invalid: { $data_input_decorator_leading: { borderWidth: "2px", borderColor: "sys.error" }, $data_input_decorator_label: { borderWidth: "2px", borderColor: "sys.error" }, $data_input_decorator_trailing: { borderWidth: "2px", borderColor: "sys.error" }, $data_input_label: { color: "sys.error" }, $data_input_supporting: { color: "sys.error" }, $data_icon: { color: "sys.error" } }, _disabled: { opacity: 0.38, cursor: "not-allowed" } }), eq = tZ("div", { role: N(["leading", "trailing"]) }, { displayName: "Maker" })({ pos: "absolute", top: 4, bottom: 4, display: "flex", alignItems: "center", color: "sys.on-surface-variant", _role__leading: { left: 12, $data_icon: { ml: -4 } }, _role__trailing: { right: 12, $data_icon: { mr: -4 } } }), eY = n((t33, e10) => {
  let {} = e10, i10 = eh.of(t33.field$.typedef, J(t33.field$.input) ? void 0 : t33.field$.input);
  return r(i10, W(1), Y((e11) => {
    t33.field$.update(e11);
  }), s()), () => u(eH, { children: u(ec, { value: i10, children: u(eu, {}) }) });
}, { displayName: "JSONEditorInput", props: ["field$", "readOnly"] }), eH = tZ("div", { displayName: "JSONInputContainer" })({ position: "relative", width: "100%", minHeight: "40em", py: 8, px: 12, overflow: "hidden" }), ej = () => ({ "User-Agent": navigator.userAgent, Origin: location.origin, Referer: `${location.origin}${location.pathname}` }), eW = (t33) => {
  let { field: e10, value: r10 } = t33;
  return o(tQ, { component: "span", sx: { display: "block" }, children: [o(tQ, { component: "span", sx: { fontWeight: "bold", marginRight: "0.5em" }, children: [e10, ":"] }), u("span", { children: r10 })] });
}, eV = (t33) => {
  let { method: e10, url: r10, params: i10 } = t33, n10 = O(i10);
  return o(tQ, { component: "span", sx: { fontWeight: "bold" }, children: [`${e10.toUpperCase()} `, o(tQ, { component: "span", sx: { fontWeight: "medium" }, children: [r10, n10 ? `?${n10}` : ""] }), " HTTP/*"] });
}, eX = (t33, e10) => {
  let r10 = (e11, i10) => i10 instanceof File || i10 instanceof Blob ? `${t33}
Content-Disposition: form-data; name="${e11}"${i10.name ? `; filename="${i10.name}"` : ""}
Content-Type: ${i10.type}

[File Content]
` : te(i10) ? i10.map((t34) => r10(e11, t34)).join("\n") : `${t33}
Content-Disposition: form-data; name="${e11}"

${tr(i10) ? JSON.stringify(i10) : String(i10)}
`;
  return Object.entries(e10).map((t34) => {
    let [e11, i10] = t34;
    return r10(e11, i10);
  }).join("\n") + `${t33}--`;
}, eK = g({ $default: S().optional() }, (t33, e10) => {
  let {} = t33, { slots: r10 } = e10;
  return () => {
    var t34;
    return u(tQ, { sx: { containerStyle: "sys.surface-container", rounded: "xs", width: "100%", overflow: "auto", py: 4, px: 8 }, children: u(tQ, { component: "pre", sx: { padding: 4, margin: 0, textStyle: "sys.body-small", fontFamily: "code" }, children: u("code", { children: null === (t34 = r10.default) || void 0 === t34 ? void 0 : t34.call(r10) }) }) });
  };
}, { displayName: "CodeView" }), eZ = g({ request: S() }, (t33) => () => {
  let e10 = t33.request;
  return o(eK, { children: [u(eV, { ...e10 }), u(f, { children: Object.entries({ ...ej(), ...e10.headers }).toSorted().map((t34) => {
    let [e11, r10] = t34;
    return u(eW, { field: e11, value: r10 }, e11);
  }) }), e10.body && o(f, { children: [u("br", {}), function(t34) {
    if (e0(t34.headers).includes("multipart/form-data")) {
      let e11 = "----WebKitFormBoundaryfakefakefakefakefakefakefakefakefake";
      return t34.headers = { ...t34.headers, "Content-Type": `multipart/form-data; boundary=${e11}` }, eX(e11, t34.body);
    }
    return e0(t34.headers).includes("application/x-www-form-urlencoded") ? O(t34.body) : e1(t34.headers) ? JSON.stringify(t34.body, null, 2) : t34.body;
  }(e10)] })] });
}, { displayName: "HttpRequest" }), eQ = (t33, e10) => {
  let r10 = new Uint8Array(t33), i10 = "";
  for (let t34 = r10.byteLength, e11 = 0; e11 < t34; e11++) i10 += String.fromCharCode(r10[e11]);
  return `data:${e10};base64,${btoa(i10)}`;
}, eJ = g({ response: S() }, (t33, e10) => {
  let {} = e10;
  return () => {
    let e11 = t33.response;
    return e0(e11.headers).includes("image/") ? u("div", { children: u("img", { src: eQ(e11.body, e0(e11.headers)), alt: "" }) }) : o(eK, { children: [o("span", { children: ["HTTP/* ", e11.status] }), u("br", {}), e11.headers && u(f, { children: Object.entries(e11.headers).map((t34) => {
      let [e12, r10] = t34;
      return u(eW, { field: e12, value: r10 }, e12);
    }) }), u("br", {}), e11.body ? e1(e11.headers) ? JSON.stringify(e11.body, null, 2) : `${e11.body}` : null] });
  };
}, { displayName: "HTTPResponse" });
function e0() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
  for (let [e10, r10] of Object.entries(t33)) if ("content-type" == e10.toLowerCase()) return r10;
  return "";
}
let e1 = (t33) => e0(t33).includes("application/json"), e2 = n({ operationID: E() }, (t33) => r(ef.use().response$(t33.operationID), h((t34) => u(e4, { children: u(eJ, { response: t34 }) }))), { displayName: "ResponsePreview" }), e4 = tZ("section", { displayName: "ResponseSection" })({ maxHeight: "40vh", overflow: "auto" }), e5 = n((t33, e10) => {
  var i10, n10, a10, l10;
  let { slots: d10 } = e10, p10 = ef.use(), g10 = {};
  for (let e11 of null !== (i10 = t33.operation.parameters) && void 0 !== i10 ? i10 : []) {
    let t34 = A.decode(e11.schema, (t35) => {
      var e12;
      return [null !== (e12 = p10.schema(t35)) && void 0 !== e12 ? e12 : {}, L(t35)];
    }).use(ea(`${e11.name}, in=${JSON.stringify(e11.in)}`));
    e11.required || (t34 = t34.optional()), t34.use(eo(e11.schema.title)), ["object", "array"].includes(null !== (n10 = e11.schema.type) && void 0 !== n10 ? n10 : "") ? g10[e11.name] = t34.use(es(eY)) : g10[e11.name] = t34;
  }
  if (t33.operation.requestBody) {
    let e11 = Object.entries(null !== (a10 = t33.operation.requestBody.content) && void 0 !== a10 ? a10 : {})[0];
    if (e11) {
      let [t34, r10] = e11, i11 = A.decode(null !== (l10 = r10.schema) && void 0 !== l10 ? l10 : {}, (t35) => {
        var e12;
        return [null !== (e12 = p10.schema(t35)) && void 0 !== e12 ? e12 : {}, L(t35)];
      }).use(ea(`body, content-type = ${JSON.stringify(t34)}`));
      t34.includes("json") ? g10.body = i11.use(es(eY)) : t34.includes("octet-stream") ? g10.body = i11.use(es(e7)) : g10.body = i11;
    }
  }
  let f10 = x(), y10 = b(), v10 = el.of(M(g10), (() => {
    try {
      var t34;
      let e11 = y10.query.params;
      return JSON.parse(atob(null !== (t34 = Array.isArray(e11) ? e11[0] : e11) && void 0 !== t34 ? t34 : ""));
    } catch (t35) {
    }
    return {};
  })());
  r(v10, Y((e11) => {
    p10.request(t33.operation.operationId, e11);
  }), Y((t34) => {
    f10.replace({ query: { params: btoa(JSON.stringify(t34)) } });
  }), s());
  let w10 = r(v10.inputs$, h((e11) => {
    let r10 = p10.asRequestConfigCreator(t33.operation.operationId);
    return r10 ? u(eZ, { request: r10(e11) }) : null;
  }));
  return () => {
    var e11;
    return o(tQ, { sx: { py: 24, px: 24, gap: 24, width: "100%", height: "100%", display: "flex", alignItems: "stretch", overflow: "hidden" }, component: "form", onSubmit: (t34) => {
      t34.preventDefault(), v10.submit();
    }, children: [u(tQ, { sx: { flex: 2, py: 24, display: "flex", flexDirection: "column", gap: 32, height: "100%", overflow: "auto" }, children: [...v10.fields(v10.typedef)].map((t34) => u(e3, { field$: t34 })) }), u(tQ, { sx: { flex: 3, gap: 24, display: "flex", flexDirection: "column", height: "100%", overflow: "hidden" }, children: o(tQ, { sx: { display: "flex", flexDirection: "column", gap: 24, height: "100%", overflow: "hidden" }, children: [w10, u(tQ, { sx: { px: 8 }, children: u(t9, { type: "submit", children: "发起请求" }) }), u(e2, { operationID: t33.operation.operationId }), u(tQ, { sx: { flex: 1, overflow: "auto" }, children: null === (e11 = d10.default) || void 0 === e11 ? void 0 : e11.call(d10) })] }) })] }, t33.operation.operationId);
  };
}, { displayName: "RequestBuilder", props: ["operation"] }), e3 = n((t33, e10) => {
  let { field$: i10 } = t33, { render: n10 } = e10;
  return v(() => {
    i10.destroy();
  }), r(V([i10, i10.input$]), n10((t34) => {
    var e11, r10, n11;
    let [a10, s10] = t34, l10 = null !== (e11 = T.metaProp(i10.typedef, "inputBy")) && void 0 !== e11 ? e11 : e6, h10 = null !== (r10 = T.metaProp(i10.typedef, "readOnlyWhenInitialExist")) && void 0 !== r10 && r10 && !!a10.initial;
    return u(eG, { valued: !J(null != s10 ? s10 : a10.initial), invalid: !!a10.error, focus: !!a10.focus, $label: o("span", { children: [null !== (n11 = i10.meta.label) && void 0 !== n11 ? n11 : i10.name, i10.optional ? "（非必填）" : ""] }), $supporting: o(eC, { children: [u(eS, { schema: i10.typedef }), u(eP, { schema: i10.typedef })] }), $trailing: l10.$trailing, children: u(l10, { field$: i10, readOnly: h10 }) });
  }));
}, { displayName: "ParameterInput", props: ["field$"] }), e6 = g({ readOnly: I().optional(), field$: S() }, (t33) => () => {
  let { readOnly: e10, field$: r10, ...i10 } = t33;
  return u("input", { ...i10, "data-input": true, type: "text", readonly: e10, name: r10.name, value: r10.input, onChange: (t34) => {
    let e11 = t34.target.value;
    switch (r10.typedef.type) {
      case "number":
        try {
          r10.update(r10.typedef.create(parseFloat(e11)));
        } catch (t35) {
        }
        break;
      case "integer":
        try {
          r10.update(r10.typedef.create(parseInt(e11)));
        } catch (t35) {
        }
        break;
      case "boolean":
        try {
          r10.update(r10.typedef.create("false" !== e11 || !!e11));
        } catch (t35) {
        }
        break;
      default:
        r10.update(r10.typedef.create(e11));
    }
  }, onFocus: () => r10.focus(), onBlur: () => r10.blur() });
}, { displayName: "TextInput" }), e7 = n((t33) => {
  let e10 = a(null);
  return r(e10, Y((e11) => {
    e11 && t33.field$.update(e11);
  }), l()), () => {
    var r10;
    let { readOnly: i10, accept: n10 } = t33;
    return o(tQ, { component: "label", "data-input": true, sx: { display: "flex", alignItems: "center", justifyContent: "center", gap: 8, $data_file_input: { display: "none" }, $data_icon: { width: 40, height: 40, my: 40 } }, children: [u("input", { type: "file", name: t33.field$.name, readonly: i10, accept: n10, "data-file-input": true, onChange: (t34) => {
      var r11;
      let i11 = null === (r11 = t34.target.files) || void 0 === r11 ? void 0 : r11[0];
      i11 && (e10.value = i11);
    } }), u(t3, { path: et }), u("span", { children: null === (r10 = e10.value) || void 0 === r10 ? void 0 : r10.name })] });
  };
}, { displayName: "FileSelectInput", props: ["field$", "readOnly", "accept"] }), e8 = n((t33, e10) => {
  let { render: i10 } = e10, n10 = ef.use();
  return w(() => {
    n10.request(t33.op.operationId, {});
  }), r(n10.response$(t33.op.operationId), i10((t34) => u(e9, { database: t34.body })));
}, { displayName: "DatabaseErContainer", props: ["op"] }), e9 = n((t33) => () => o(rr, { children: [u(ri, { children: t33.database.name }), Object.entries(t33.database.tables).map((e10) => {
  let [r10, i10] = e10;
  return u(rt, { database: t33.database, table: i10, tableName: r10 });
})] }), { displayName: "DatabaseErView", props: ["database"] }), rt = n((t33, i10) => {
  let { render: n10 } = i10, a10 = new e([]);
  return r(a10, n10((e10) => {
    let r10 = t33.table.columns, i11 = t33.table.constraints;
    return o(rn, { open: true, children: [o(ra, { children: [u("span", { children: t33.tableName }), u(rg, {}), u(ru, { meta: t33.table })] }), Object.keys(r10).map((i12) => {
      let n11 = r10[i12];
      return o(ro, { "data-hover": e10.includes(i12), children: [u(rs, { children: i12 }), n11.of ? u(re, { database: t33.database, of: n11.of }) : u(rc, { children: n11.type }), u(rl, { children: u(ru, { meta: n11 }) })] });
    }), Object.entries(i11).map((t34) => {
      let [e11, r11] = t34;
      return u(ro, { onMouseover: () => {
        a10.next(r11.columnNames.map((t35) => t35.name));
      }, onMouseleave: () => {
        a10.next([]);
      }, children: o(rp, { "data-primary": r11.primary, "data-unique": r11.unique, children: [u(t3, { path: r11.unique ? ee : er }), u("span", { children: e11 }), o("span", { children: ["(", r11.columnNames.map((t35) => {
        var e12;
        return [t35.name, ...null !== (e12 = t35.options) && void 0 !== e12 ? e12 : []].join(" ");
      }).join(","), ")"] })] }) });
    }), u(tQ, { sx: { py: 4 } })] });
  }));
}, { displayName: "DatabaseErTableView", props: ["database", "table", "tableName"] }), re = n((t33, i10) => {
  let { render: n10 } = i10, a10 = e.seed(false), s10 = r(a10, n10((e10) => {
    let r10 = t33.of.split(".")[0];
    return u(t6, { isOpen: e10, onClose: () => {
      a10.next(false);
    }, children: u(rd, { children: u(rt, { database: t33.database, tableName: r10, table: t33.database.tables[r10] }) }) });
  }));
  return () => o(rh, { onClick: () => {
    a10.next(true);
  }, children: [t33.of, s10] });
}, { displayName: "DatabaseErTableColumnOfView", props: ["of", "database"] }), rr = tZ("div", { displayName: "DatabaseErMain" })({ py: 18, px: 24, flex: 1, overflow: "auto" }), ri = tZ("div", { displayName: "DatabaseErHeader" })({ py: 8, px: 16, textStyle: "sys.label-large" }), rn = tZ("details", { displayName: "DatabaseErTable" })({ "& + &": { mt: 16 }, rounded: "sm", border: "1px solid", borderColor: tJ("sys.outline-variant", t0(0.38)), overflow: "hidden", width: "100%" }), ra = tZ("summary", { displayName: "DatabaseErTableSummary" })({ textStyle: "sys.label-large", py: 8, px: 16, display: "flex", color: "sys.primary" }), ro = tZ("div", { displayName: "DatabaseErTableDef" })({ px: 16, py: 4, display: "flex", _hover: { containerStyle: "sys.surface-container-low" } }), rs = tZ("div", { displayName: "DatabaseErTableColumnName" })({ display: "flex", width: "20vw", textStyle: "sys.label-small", font: "code" }), rl = tZ("div", { displayName: "DatabaseErTableColumnComment" })({ display: "flex", textStyle: "sys.label-small", width: "20vw", justifyContent: "end" }), rh = tZ("div", { displayName: "DatabaseErTableColumnOf" })({ flex: 1, textStyle: "sys.label-small", font: "code", fontWeight: "bold", color: "sys.primary", _hover: { cursor: "pointer" } }), rc = tZ("div", { displayName: "DatabaseErTableColumnType" })({ flex: 1, textStyle: "sys.label-small" }), ru = tZ("div", (t33, e10) => {
  let {} = e10;
  return (e11) => o(e11, { children: [t33.meta.title, " ", t33.meta.description ? u(t8, { title: u(eA, { children: u(t5, { text: t33.meta.description }) }), children: u(t3, { path: t7 }) }) : null] });
}, { displayName: "DatabaseDescription", props: ["meta"] })({ position: "relative", display: "flex", alignItems: "center", gap: 4, textStyle: "sys.body-small", fontSize: 10, lineHeight: 12, [`${t3}`]: { width: 12, height: 12, overflow: "hidden" } }), rd = tZ("div", { displayName: "DialogContainer" })({ display: "flex", containerStyle: "sys.surface", width: "90vw", roundedBottom: "sm", px: 16, py: 36, top: 0, position: "absolute", overflow: "auto" }), rp = tZ("div", { displayName: "DatabaseErTableConstraintName" })({ flex: 1, textStyle: "sys.label-small", font: "code", fontWeight: "bold", display: "flex", alignItems: "center", gap: "1em", _primary: { [`${t3}`]: { color: "sys.primary" } }, _unique: { [`${t3}`]: { position: "relative", "&::before": { content: JSON.stringify("1"), position: "absolute", right: -6, textStyle: "sys.label-small", fontSize: 8 } } } }), rg = tZ("div", { displayName: "Spacer" })({ flex: 1 });
var rf, rm, ry, rv, rx, rb, rw, rk, r_, rT, rE, rC, rS, rA, rL, rN, rI, rM, rR, rD, rO, rP = { exports: {} };
rP.exports;
let r$ = k((cd || (cd = 1, ch = function() {
  var t33 = "millisecond", e10 = "second", r10 = "minute", i10 = "hour", n10 = "week", a10 = "month", o10 = "quarter", s10 = "year", l10 = "date", h10 = "Invalid Date", u10 = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/, d10 = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g, p10 = function(t34, e11, r11) {
    var i11 = String(t34);
    return !i11 || i11.length >= e11 ? t34 : "" + Array(e11 + 1 - i11.length).join(r11) + t34;
  }, g10 = "en", f10 = {};
  f10[g10] = { name: "en", weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), ordinal: function(t34) {
    var e11 = ["th", "st", "nd", "rd"], r11 = t34 % 100;
    return "[" + t34 + (e11[(r11 - 20) % 10] || e11[r11] || "th") + "]";
  } };
  var y10 = "$isDayjsObject", v10 = function(t34) {
    return t34 instanceof k10 || !(!t34 || !t34[y10]);
  }, x10 = function t34(e11, r11, i11) {
    var n11;
    if (!e11) return g10;
    if ("string" == typeof e11) {
      var a11 = e11.toLowerCase();
      f10[a11] && (n11 = a11), r11 && (f10[a11] = r11, n11 = a11);
      var o11 = e11.split("-");
      if (!n11 && o11.length > 1) return t34(o11[0]);
    } else {
      var s11 = e11.name;
      f10[s11] = e11, n11 = s11;
    }
    return !i11 && n11 && (g10 = n11), n11 || !i11 && g10;
  }, b10 = function(t34, e11) {
    if (v10(t34)) return t34.clone();
    var r11 = "object" == typeof e11 ? e11 : {};
    return r11.date = t34, r11.args = arguments, new k10(r11);
  }, w10 = { s: p10, z: function(t34) {
    var e11 = -t34.utcOffset(), r11 = Math.abs(e11);
    return (e11 <= 0 ? "+" : "-") + p10(Math.floor(r11 / 60), 2, "0") + ":" + p10(r11 % 60, 2, "0");
  }, m: function t34(e11, r11) {
    if (e11.date() < r11.date()) return -t34(r11, e11);
    var i11 = 12 * (r11.year() - e11.year()) + (r11.month() - e11.month()), n11 = e11.clone().add(i11, a10), o11 = r11 - n11 < 0, s11 = e11.clone().add(i11 + (o11 ? -1 : 1), a10);
    return +(-(i11 + (r11 - n11) / (o11 ? n11 - s11 : s11 - n11)) || 0);
  }, a: function(t34) {
    return t34 < 0 ? Math.ceil(t34) || 0 : Math.floor(t34);
  }, p: function(h11) {
    return { M: a10, y: s10, w: n10, d: "day", D: l10, h: i10, m: r10, s: e10, ms: t33, Q: o10 }[h11] || String(h11 || "").toLowerCase().replace(/s$/, "");
  }, u: function(t34) {
    return void 0 === t34;
  } };
  w10.l = x10, w10.i = v10, w10.w = function(t34, e11) {
    return b10(t34, { locale: e11.$L, utc: e11.$u, x: e11.$x, $offset: e11.$offset });
  };
  var k10 = function() {
    function p11(t34) {
      this.$L = x10(t34.locale, null, true), this.parse(t34), this.$x = this.$x || t34.x || {}, this[y10] = true;
    }
    var g11 = p11.prototype;
    return g11.parse = function(t34) {
      this.$d = function(t35) {
        var e11 = t35.date, r11 = t35.utc;
        if (null === e11) return /* @__PURE__ */ new Date(NaN);
        if (w10.u(e11)) return /* @__PURE__ */ new Date();
        if (e11 instanceof Date) return new Date(e11);
        if ("string" == typeof e11 && !/Z$/i.test(e11)) {
          var i11 = e11.match(u10);
          if (i11) {
            var n11 = i11[2] - 1 || 0, a11 = (i11[7] || "0").substring(0, 3);
            return r11 ? new Date(Date.UTC(i11[1], n11, i11[3] || 1, i11[4] || 0, i11[5] || 0, i11[6] || 0, a11)) : new Date(i11[1], n11, i11[3] || 1, i11[4] || 0, i11[5] || 0, i11[6] || 0, a11);
          }
        }
        return new Date(e11);
      }(t34), this.init();
    }, g11.init = function() {
      var t34 = this.$d;
      this.$y = t34.getFullYear(), this.$M = t34.getMonth(), this.$D = t34.getDate(), this.$W = t34.getDay(), this.$H = t34.getHours(), this.$m = t34.getMinutes(), this.$s = t34.getSeconds(), this.$ms = t34.getMilliseconds();
    }, g11.$utils = function() {
      return w10;
    }, g11.isValid = function() {
      return this.$d.toString() !== h10;
    }, g11.isSame = function(t34, e11) {
      var r11 = b10(t34);
      return this.startOf(e11) <= r11 && r11 <= this.endOf(e11);
    }, g11.isAfter = function(t34, e11) {
      return b10(t34) < this.startOf(e11);
    }, g11.isBefore = function(t34, e11) {
      return this.endOf(e11) < b10(t34);
    }, g11.$g = function(t34, e11, r11) {
      return w10.u(t34) ? this[e11] : this.set(r11, t34);
    }, g11.unix = function() {
      return Math.floor(this.valueOf() / 1e3);
    }, g11.valueOf = function() {
      return this.$d.getTime();
    }, g11.startOf = function(t34, o11) {
      var h11 = this, u11 = !!w10.u(o11) || o11, d11 = w10.p(t34), p12 = function(t35, e11) {
        var r11 = w10.w(h11.$u ? Date.UTC(h11.$y, e11, t35) : new Date(h11.$y, e11, t35), h11);
        return u11 ? r11 : r11.endOf("day");
      }, g12 = function(t35, e11) {
        return w10.w(h11.toDate()[t35].apply(h11.toDate("s"), (u11 ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(e11)), h11);
      }, f11 = this.$W, y11 = this.$M, v11 = this.$D, x11 = "set" + (this.$u ? "UTC" : "");
      switch (d11) {
        case s10:
          return u11 ? p12(1, 0) : p12(31, 11);
        case a10:
          return u11 ? p12(1, y11) : p12(0, y11 + 1);
        case n10:
          var b11 = this.$locale().weekStart || 0, k11 = (f11 < b11 ? f11 + 7 : f11) - b11;
          return p12(u11 ? v11 - k11 : v11 + (6 - k11), y11);
        case "day":
        case l10:
          return g12(x11 + "Hours", 0);
        case i10:
          return g12(x11 + "Minutes", 1);
        case r10:
          return g12(x11 + "Seconds", 2);
        case e10:
          return g12(x11 + "Milliseconds", 3);
        default:
          return this.clone();
      }
    }, g11.endOf = function(t34) {
      return this.startOf(t34, false);
    }, g11.$set = function(n11, o11) {
      var h11, u11 = w10.p(n11), d11 = "set" + (this.$u ? "UTC" : ""), p12 = ((h11 = {}).day = d11 + "Date", h11[l10] = d11 + "Date", h11[a10] = d11 + "Month", h11[s10] = d11 + "FullYear", h11[i10] = d11 + "Hours", h11[r10] = d11 + "Minutes", h11[e10] = d11 + "Seconds", h11[t33] = d11 + "Milliseconds", h11)[u11], g12 = "day" === u11 ? this.$D + (o11 - this.$W) : o11;
      if (u11 === a10 || u11 === s10) {
        var f11 = this.clone().set(l10, 1);
        f11.$d[p12](g12), f11.init(), this.$d = f11.set(l10, Math.min(this.$D, f11.daysInMonth())).$d;
      } else p12 && this.$d[p12](g12);
      return this.init(), this;
    }, g11.set = function(t34, e11) {
      return this.clone().$set(t34, e11);
    }, g11.get = function(t34) {
      return this[w10.p(t34)]();
    }, g11.add = function(t34, o11) {
      var l11, h11 = this;
      t34 = Number(t34);
      var u11 = w10.p(o11), d11 = function(e11) {
        var r11 = b10(h11);
        return w10.w(r11.date(r11.date() + Math.round(e11 * t34)), h11);
      };
      if (u11 === a10) return this.set(a10, this.$M + t34);
      if (u11 === s10) return this.set(s10, this.$y + t34);
      if ("day" === u11) return d11(1);
      if (u11 === n10) return d11(7);
      var p12 = ((l11 = {})[r10] = 6e4, l11[i10] = 36e5, l11[e10] = 1e3, l11)[u11] || 1, g12 = this.$d.getTime() + t34 * p12;
      return w10.w(g12, this);
    }, g11.subtract = function(t34, e11) {
      return this.add(-1 * t34, e11);
    }, g11.format = function(t34) {
      var e11 = this, r11 = this.$locale();
      if (!this.isValid()) return r11.invalidDate || h10;
      var i11 = t34 || "YYYY-MM-DDTHH:mm:ssZ", n11 = w10.z(this), a11 = this.$H, o11 = this.$m, s11 = this.$M, l11 = r11.weekdays, u11 = r11.months, p12 = r11.meridiem, g12 = function(t35, r12, n12, a12) {
        return t35 && (t35[r12] || t35(e11, i11)) || n12[r12].slice(0, a12);
      }, f11 = function(t35) {
        return w10.s(a11 % 12 || 12, t35, "0");
      }, y11 = p12 || function(t35, e12, r12) {
        var i12 = t35 < 12 ? "AM" : "PM";
        return r12 ? i12.toLowerCase() : i12;
      };
      return i11.replace(d10, function(t35, i12) {
        return i12 || function(t36) {
          switch (t36) {
            case "YY":
              return String(e11.$y).slice(-2);
            case "YYYY":
              return w10.s(e11.$y, 4, "0");
            case "M":
              return s11 + 1;
            case "MM":
              return w10.s(s11 + 1, 2, "0");
            case "MMM":
              return g12(r11.monthsShort, s11, u11, 3);
            case "MMMM":
              return g12(u11, s11);
            case "D":
              return e11.$D;
            case "DD":
              return w10.s(e11.$D, 2, "0");
            case "d":
              return String(e11.$W);
            case "dd":
              return g12(r11.weekdaysMin, e11.$W, l11, 2);
            case "ddd":
              return g12(r11.weekdaysShort, e11.$W, l11, 3);
            case "dddd":
              return l11[e11.$W];
            case "H":
              return String(a11);
            case "HH":
              return w10.s(a11, 2, "0");
            case "h":
              return f11(1);
            case "hh":
              return f11(2);
            case "a":
              return y11(a11, o11, true);
            case "A":
              return y11(a11, o11, false);
            case "m":
              return String(o11);
            case "mm":
              return w10.s(o11, 2, "0");
            case "s":
              return String(e11.$s);
            case "ss":
              return w10.s(e11.$s, 2, "0");
            case "SSS":
              return w10.s(e11.$ms, 3, "0");
            case "Z":
              return n11;
          }
          return null;
        }(t35) || n11.replace(":", "");
      });
    }, g11.utcOffset = function() {
      return -(15 * Math.round(this.$d.getTimezoneOffset() / 15));
    }, g11.diff = function(t34, l11, h11) {
      var u11, d11 = this, p12 = w10.p(l11), g12 = b10(t34), f11 = (g12.utcOffset() - this.utcOffset()) * 6e4, y11 = this - g12, v11 = function() {
        return w10.m(d11, g12);
      };
      switch (p12) {
        case s10:
          u11 = v11() / 12;
          break;
        case a10:
          u11 = v11();
          break;
        case o10:
          u11 = v11() / 3;
          break;
        case n10:
          u11 = (y11 - f11) / 6048e5;
          break;
        case "day":
          u11 = (y11 - f11) / 864e5;
          break;
        case i10:
          u11 = y11 / 36e5;
          break;
        case r10:
          u11 = y11 / 6e4;
          break;
        case e10:
          u11 = y11 / 1e3;
          break;
        default:
          u11 = y11;
      }
      return h11 ? u11 : w10.a(u11);
    }, g11.daysInMonth = function() {
      return this.endOf(a10).$D;
    }, g11.$locale = function() {
      return f10[this.$L];
    }, g11.locale = function(t34, e11) {
      if (!t34) return this.$L;
      var r11 = this.clone(), i11 = x10(t34, e11, true);
      return i11 && (r11.$L = i11), r11;
    }, g11.clone = function() {
      return w10.w(this.$d, this);
    }, g11.toDate = function() {
      return new Date(this.valueOf());
    }, g11.toJSON = function() {
      return this.isValid() ? this.toISOString() : null;
    }, g11.toISOString = function() {
      return this.$d.toISOString();
    }, g11.toString = function() {
      return this.$d.toUTCString();
    }, p11;
  }(), _10 = k10.prototype;
  return b10.prototype = _10, [["$ms", t33], ["$s", e10], ["$m", r10], ["$H", i10], ["$W", "day"], ["$M", a10], ["$y", s10], ["$D", l10]].forEach(function(t34) {
    _10[t34[1]] = function(e11) {
      return this.$g(e11, t34[0], t34[1]);
    };
  }), b10.extend = function(t34, e11) {
    return t34.$i || (t34(e11, k10, b10), t34.$i = true), b10;
  }, b10.locale = x10, b10.isDayjs = v10, b10.unix = function(t34) {
    return b10(1e3 * t34);
  }, b10.en = f10[g10], b10.Ls = f10, b10.p = {}, b10;
}, rP.exports = ch()), rP.exports)), rB = { min: { r: 0, g: 0, b: 0, s: 0, l: 0, a: 0 }, max: { r: 255, g: 255, b: 255, h: 360, s: 100, l: 100, a: 1 }, clamp: { r: (t33) => t33 >= 255 ? 255 : t33 < 0 ? 0 : t33, g: (t33) => t33 >= 255 ? 255 : t33 < 0 ? 0 : t33, b: (t33) => t33 >= 255 ? 255 : t33 < 0 ? 0 : t33, h: (t33) => t33 % 360, s: (t33) => t33 >= 100 ? 100 : t33 < 0 ? 0 : t33, l: (t33) => t33 >= 100 ? 100 : t33 < 0 ? 0 : t33, a: (t33) => t33 >= 1 ? 1 : t33 < 0 ? 0 : t33 }, toLinear: (t33) => {
  let e10 = t33 / 255;
  return t33 > 0.03928 ? Math.pow((e10 + 0.055) / 1.055, 2.4) : e10 / 12.92;
}, hue2rgb: (t33, e10, r10) => (r10 < 0 && (r10 += 1), r10 > 1 && (r10 -= 1), r10 < 1 / 6) ? t33 + (e10 - t33) * 6 * r10 : r10 < 0.5 ? e10 : r10 < 2 / 3 ? t33 + (e10 - t33) * (2 / 3 - r10) * 6 : t33, hsl2rgb: (t33, e10) => {
  let { h: r10, s: i10, l: n10 } = t33;
  if (!i10) return 2.55 * n10;
  r10 /= 360, i10 /= 100;
  let a10 = (n10 /= 100) < 0.5 ? n10 * (1 + i10) : n10 + i10 - n10 * i10, o10 = 2 * n10 - a10;
  switch (e10) {
    case "r":
      return 255 * rB.hue2rgb(o10, a10, r10 + 1 / 3);
    case "g":
      return 255 * rB.hue2rgb(o10, a10, r10);
    case "b":
      return 255 * rB.hue2rgb(o10, a10, r10 - 1 / 3);
  }
}, rgb2hsl: (t33, e10) => {
  let { r: r10, g: i10, b: n10 } = t33, a10 = Math.max(r10 /= 255, i10 /= 255, n10 /= 255), o10 = Math.min(r10, i10, n10), s10 = (a10 + o10) / 2;
  if ("l" === e10) return 100 * s10;
  if (a10 === o10) return 0;
  let l10 = a10 - o10;
  if ("s" === e10) return 100 * (s10 > 0.5 ? l10 / (2 - a10 - o10) : l10 / (a10 + o10));
  switch (a10) {
    case r10:
      return ((i10 - n10) / l10 + (i10 < n10 ? 6 : 0)) * 60;
    case i10:
      return ((n10 - r10) / l10 + 2) * 60;
    case n10:
      return ((r10 - i10) / l10 + 4) * 60;
    default:
      return -1;
  }
} }, rF = { channel: rB, lang: { clamp: (t33, e10, r10) => e10 > r10 ? Math.min(e10, Math.max(r10, t33)) : Math.min(r10, Math.max(e10, t33)), round: (t33) => Math.round(1e10 * t33) / 1e10 }, unit: { dec2hex: (t33) => {
  let e10 = Math.round(t33).toString(16);
  return e10.length > 1 ? e10 : `0${e10}`;
} } }, rz = {};
for (let t33 = 0; t33 <= 255; t33++) rz[t33] = rF.unit.dec2hex(t33);
let rU = { ALL: 0, RGB: 1, HSL: 2 }, rG = class {
  constructor() {
    this.type = rU.ALL;
  }
  get() {
    return this.type;
  }
  set(t33) {
    if (this.type && this.type !== t33) throw Error("Cannot change both RGB and HSL channels at the same time");
    this.type = t33;
  }
  reset() {
    this.type = rU.ALL;
  }
  is(t33) {
    return this.type === t33;
  }
}, rq = new class {
  constructor(t33, e10) {
    this.color = e10, this.changed = false, this.data = t33, this.type = new rG();
  }
  set(t33, e10) {
    return this.color = e10, this.changed = false, this.data = t33, this.type.type = rU.ALL, this;
  }
  _ensureHSL() {
    let t33 = this.data, { h: e10, s: r10, l: i10 } = t33;
    void 0 === e10 && (t33.h = rF.channel.rgb2hsl(t33, "h")), void 0 === r10 && (t33.s = rF.channel.rgb2hsl(t33, "s")), void 0 === i10 && (t33.l = rF.channel.rgb2hsl(t33, "l"));
  }
  _ensureRGB() {
    let t33 = this.data, { r: e10, g: r10, b: i10 } = t33;
    void 0 === e10 && (t33.r = rF.channel.hsl2rgb(t33, "r")), void 0 === r10 && (t33.g = rF.channel.hsl2rgb(t33, "g")), void 0 === i10 && (t33.b = rF.channel.hsl2rgb(t33, "b"));
  }
  get r() {
    let t33 = this.data, e10 = t33.r;
    return this.type.is(rU.HSL) || void 0 === e10 ? (this._ensureHSL(), rF.channel.hsl2rgb(t33, "r")) : e10;
  }
  get g() {
    let t33 = this.data, e10 = t33.g;
    return this.type.is(rU.HSL) || void 0 === e10 ? (this._ensureHSL(), rF.channel.hsl2rgb(t33, "g")) : e10;
  }
  get b() {
    let t33 = this.data, e10 = t33.b;
    return this.type.is(rU.HSL) || void 0 === e10 ? (this._ensureHSL(), rF.channel.hsl2rgb(t33, "b")) : e10;
  }
  get h() {
    let t33 = this.data, e10 = t33.h;
    return this.type.is(rU.RGB) || void 0 === e10 ? (this._ensureRGB(), rF.channel.rgb2hsl(t33, "h")) : e10;
  }
  get s() {
    let t33 = this.data, e10 = t33.s;
    return this.type.is(rU.RGB) || void 0 === e10 ? (this._ensureRGB(), rF.channel.rgb2hsl(t33, "s")) : e10;
  }
  get l() {
    let t33 = this.data, e10 = t33.l;
    return this.type.is(rU.RGB) || void 0 === e10 ? (this._ensureRGB(), rF.channel.rgb2hsl(t33, "l")) : e10;
  }
  get a() {
    return this.data.a;
  }
  set r(t33) {
    this.type.set(rU.RGB), this.changed = true, this.data.r = t33;
  }
  set g(t33) {
    this.type.set(rU.RGB), this.changed = true, this.data.g = t33;
  }
  set b(t33) {
    this.type.set(rU.RGB), this.changed = true, this.data.b = t33;
  }
  set h(t33) {
    this.type.set(rU.HSL), this.changed = true, this.data.h = t33;
  }
  set s(t33) {
    this.type.set(rU.HSL), this.changed = true, this.data.s = t33;
  }
  set l(t33) {
    this.type.set(rU.HSL), this.changed = true, this.data.l = t33;
  }
  set a(t33) {
    this.changed = true, this.data.a = t33;
  }
}({ r: 0, g: 0, b: 0, a: 0 }, "transparent"), rY = { re: /^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i, parse: (t33) => {
  if (35 !== t33.charCodeAt(0)) return;
  let e10 = t33.match(rY.re);
  if (!e10) return;
  let r10 = e10[1], i10 = parseInt(r10, 16), n10 = r10.length, a10 = n10 % 4 == 0, o10 = n10 > 4, s10 = o10 ? 1 : 17, l10 = o10 ? 8 : 4, h10 = a10 ? 0 : -1, u10 = o10 ? 255 : 15;
  return rq.set({ r: (i10 >> l10 * (h10 + 3) & u10) * s10, g: (i10 >> l10 * (h10 + 2) & u10) * s10, b: (i10 >> l10 * (h10 + 1) & u10) * s10, a: a10 ? (i10 & u10) * s10 / 255 : 1 }, t33);
}, stringify: (t33) => {
  let { r: e10, g: r10, b: i10, a: n10 } = t33;
  return n10 < 1 ? `#${rz[Math.round(e10)]}${rz[Math.round(r10)]}${rz[Math.round(i10)]}${rz[Math.round(255 * n10)]}` : `#${rz[Math.round(e10)]}${rz[Math.round(r10)]}${rz[Math.round(i10)]}`;
} }, rH = { re: /^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i, hueRe: /^(.+?)(deg|grad|rad|turn)$/i, _hue2deg: (t33) => {
  let e10 = t33.match(rH.hueRe);
  if (e10) {
    let [, t34, r10] = e10;
    switch (r10) {
      case "grad":
        return rF.channel.clamp.h(0.9 * parseFloat(t34));
      case "rad":
        return rF.channel.clamp.h(180 * parseFloat(t34) / Math.PI);
      case "turn":
        return rF.channel.clamp.h(360 * parseFloat(t34));
    }
  }
  return rF.channel.clamp.h(parseFloat(t33));
}, parse: (t33) => {
  let e10 = t33.charCodeAt(0);
  if (104 !== e10 && 72 !== e10) return;
  let r10 = t33.match(rH.re);
  if (!r10) return;
  let [, i10, n10, a10, o10, s10] = r10;
  return rq.set({ h: rH._hue2deg(i10), s: rF.channel.clamp.s(parseFloat(n10)), l: rF.channel.clamp.l(parseFloat(a10)), a: o10 ? rF.channel.clamp.a(s10 ? parseFloat(o10) / 100 : parseFloat(o10)) : 1 }, t33);
}, stringify: (t33) => {
  let { h: e10, s: r10, l: i10, a: n10 } = t33;
  return n10 < 1 ? `hsla(${rF.lang.round(e10)}, ${rF.lang.round(r10)}%, ${rF.lang.round(i10)}%, ${n10})` : `hsl(${rF.lang.round(e10)}, ${rF.lang.round(r10)}%, ${rF.lang.round(i10)}%)`;
} }, rj = { colors: { aliceblue: "#f0f8ff", antiquewhite: "#faebd7", aqua: "#00ffff", aquamarine: "#7fffd4", azure: "#f0ffff", beige: "#f5f5dc", bisque: "#ffe4c4", black: "#000000", blanchedalmond: "#ffebcd", blue: "#0000ff", blueviolet: "#8a2be2", brown: "#a52a2a", burlywood: "#deb887", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cyanaqua: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", darkkhaki: "#bdb76b", darkmagenta: "#8b008b", darkolivegreen: "#556b2f", darkorange: "#ff8c00", darkorchid: "#9932cc", darkred: "#8b0000", darksalmon: "#e9967a", darkseagreen: "#8fbc8f", darkslateblue: "#483d8b", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", darkturquoise: "#00ced1", darkviolet: "#9400d3", deeppink: "#ff1493", deepskyblue: "#00bfff", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1e90ff", firebrick: "#b22222", floralwhite: "#fffaf0", forestgreen: "#228b22", fuchsia: "#ff00ff", gainsboro: "#dcdcdc", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gray: "#808080", green: "#008000", greenyellow: "#adff2f", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", indianred: "#cd5c5c", indigo: "#4b0082", ivory: "#fffff0", khaki: "#f0e68c", lavender: "#e6e6fa", lavenderblush: "#fff0f5", lawngreen: "#7cfc00", lemonchiffon: "#fffacd", lightblue: "#add8e6", lightcoral: "#f08080", lightcyan: "#e0ffff", lightgoldenrodyellow: "#fafad2", lightgray: "#d3d3d3", lightgreen: "#90ee90", lightgrey: "#d3d3d3", lightpink: "#ffb6c1", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", lightskyblue: "#87cefa", lightslategray: "#778899", lightslategrey: "#778899", lightsteelblue: "#b0c4de", lightyellow: "#ffffe0", lime: "#00ff00", limegreen: "#32cd32", linen: "#faf0e6", magenta: "#ff00ff", maroon: "#800000", mediumaquamarine: "#66cdaa", mediumblue: "#0000cd", mediumorchid: "#ba55d3", mediumpurple: "#9370db", mediumseagreen: "#3cb371", mediumslateblue: "#7b68ee", mediumspringgreen: "#00fa9a", mediumturquoise: "#48d1cc", mediumvioletred: "#c71585", midnightblue: "#191970", mintcream: "#f5fffa", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", navajowhite: "#ffdead", navy: "#000080", oldlace: "#fdf5e6", olive: "#808000", olivedrab: "#6b8e23", orange: "#ffa500", orangered: "#ff4500", orchid: "#da70d6", palegoldenrod: "#eee8aa", palegreen: "#98fb98", paleturquoise: "#afeeee", palevioletred: "#db7093", papayawhip: "#ffefd5", peachpuff: "#ffdab9", peru: "#cd853f", pink: "#ffc0cb", plum: "#dda0dd", powderblue: "#b0e0e6", purple: "#800080", rebeccapurple: "#663399", red: "#ff0000", rosybrown: "#bc8f8f", royalblue: "#4169e1", saddlebrown: "#8b4513", salmon: "#fa8072", sandybrown: "#f4a460", seagreen: "#2e8b57", seashell: "#fff5ee", sienna: "#a0522d", silver: "#c0c0c0", skyblue: "#87ceeb", slateblue: "#6a5acd", slategray: "#708090", slategrey: "#708090", snow: "#fffafa", springgreen: "#00ff7f", tan: "#d2b48c", teal: "#008080", thistle: "#d8bfd8", transparent: "#00000000", turquoise: "#40e0d0", violet: "#ee82ee", wheat: "#f5deb3", white: "#ffffff", whitesmoke: "#f5f5f5", yellow: "#ffff00", yellowgreen: "#9acd32" }, parse: (t33) => {
  t33 = t33.toLowerCase();
  let e10 = rj.colors[t33];
  if (e10) return rY.parse(e10);
}, stringify: (t33) => {
  let e10 = rY.stringify(t33);
  for (let t34 in rj.colors) if (rj.colors[t34] === e10) return t34;
} }, rW = { re: /^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i, parse: (t33) => {
  let e10 = t33.charCodeAt(0);
  if (114 !== e10 && 82 !== e10) return;
  let r10 = t33.match(rW.re);
  if (!r10) return;
  let [, i10, n10, a10, o10, s10, l10, h10, u10] = r10;
  return rq.set({ r: rF.channel.clamp.r(n10 ? 2.55 * parseFloat(i10) : parseFloat(i10)), g: rF.channel.clamp.g(o10 ? 2.55 * parseFloat(a10) : parseFloat(a10)), b: rF.channel.clamp.b(l10 ? 2.55 * parseFloat(s10) : parseFloat(s10)), a: h10 ? rF.channel.clamp.a(u10 ? parseFloat(h10) / 100 : parseFloat(h10)) : 1 }, t33);
}, stringify: (t33) => {
  let { r: e10, g: r10, b: i10, a: n10 } = t33;
  return n10 < 1 ? `rgba(${rF.lang.round(e10)}, ${rF.lang.round(r10)}, ${rF.lang.round(i10)}, ${rF.lang.round(n10)})` : `rgb(${rF.lang.round(e10)}, ${rF.lang.round(r10)}, ${rF.lang.round(i10)})`;
} }, rV = { parse: (t33) => {
  if ("string" != typeof t33) return t33;
  let e10 = rY.parse(t33) || rW.parse(t33) || rH.parse(t33) || rj.parse(t33);
  if (e10) return e10;
  throw Error(`Unsupported color format: "${t33}"`);
}, stringify: (t33) => !t33.changed && t33.color ? t33.color : t33.type.is(rU.HSL) || void 0 === t33.data.r ? rH.stringify(t33) : !(t33.a < 1) && Number.isInteger(t33.r) && Number.isInteger(t33.g) && Number.isInteger(t33.b) ? rY.stringify(t33) : rW.stringify(t33) }, rX = (t33, e10) => {
  let r10 = rV.parse(t33);
  for (let t34 in e10) r10[t34] = rF.channel.clamp[t34](e10[t34]);
  return rV.stringify(r10);
}, rK = function(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
  if ("number" != typeof t33) return rX(t33, { a: e10 });
  let n10 = rq.set({ r: rF.channel.clamp.r(t33), g: rF.channel.clamp.g(e10), b: rF.channel.clamp.b(r10), a: rF.channel.clamp.a(i10) });
  return rV.stringify(n10);
}, rZ = (t33, e10) => rF.lang.round(rV.parse(t33)[e10]), rQ = (t33) => {
  let { r: e10, g: r10, b: i10 } = rV.parse(t33), n10 = 0.2126 * rF.channel.toLinear(e10) + 0.7152 * rF.channel.toLinear(r10) + 0.0722 * rF.channel.toLinear(i10);
  return rF.lang.round(n10);
}, rJ = (t33) => rQ(t33) >= 0.5, r0 = (t33) => !rJ(t33), r1 = (t33, e10, r10) => {
  let i10 = rV.parse(t33), n10 = i10[e10], a10 = rF.channel.clamp[e10](n10 + r10);
  return n10 !== a10 && (i10[e10] = a10), rV.stringify(i10);
}, r2 = (t33, e10) => r1(t33, "l", e10), r4 = (t33, e10) => r1(t33, "l", -e10), r5 = (t33, e10) => {
  let r10 = rV.parse(t33), i10 = {};
  for (let t34 in e10) e10[t34] && (i10[t34] = r10[t34] + e10[t34]);
  return rX(t33, i10);
}, r3 = function(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 50, { r: i10, g: n10, b: a10, a: o10 } = rV.parse(t33), { r: s10, g: l10, b: h10, a: u10 } = rV.parse(e10), d10 = r10 / 100, p10 = 2 * d10 - 1, g10 = o10 - u10, f10 = ((p10 * g10 == -1 ? p10 : (p10 + g10) / (1 + p10 * g10)) + 1) / 2, y10 = 1 - f10;
  return rK(i10 * f10 + s10 * y10, n10 * f10 + l10 * y10, a10 * f10 + h10 * y10, o10 * d10 + u10 * (1 - d10));
}, r6 = function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100, r10 = rV.parse(t33);
  return r10.r = 255 - r10.r, r10.g = 255 - r10.g, r10.b = 255 - r10.b, r3(r10, t33, e10);
}, { entries: r7, setPrototypeOf: r8, isFrozen: r9, getPrototypeOf: it, getOwnPropertyDescriptor: ie } = Object, { freeze: ir, seal: ii, create: ia } = Object, { apply: io, construct: is } = "undefined" != typeof Reflect && Reflect;
ir || (ir = function(t33) {
  return t33;
}), ii || (ii = function(t33) {
  return t33;
}), io || (io = function(t33, e10, r10) {
  return t33.apply(e10, r10);
}), is || (is = function(t33, e10) {
  return new t33(...e10);
});
let il = iw(Array.prototype.forEach), ih = iw(Array.prototype.pop), ic = iw(Array.prototype.push), iu = iw(String.prototype.toLowerCase), id = iw(String.prototype.toString), ip = iw(String.prototype.match), ig = iw(String.prototype.replace), im = iw(String.prototype.indexOf), iy = iw(String.prototype.trim), iv = iw(Object.prototype.hasOwnProperty), ix = iw(RegExp.prototype.test), ib = (cc = TypeError, function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
  return is(cc, e10);
});
function iw(t33) {
  return function(e10) {
    for (var r10 = arguments.length, i10 = Array(r10 > 1 ? r10 - 1 : 0), n10 = 1; n10 < r10; n10++) i10[n10 - 1] = arguments[n10];
    return io(t33, e10, i10);
  };
}
function ik(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : iu;
  r8 && r8(t33, null);
  let i10 = e10.length;
  for (; i10--; ) {
    let n10 = e10[i10];
    if ("string" == typeof n10) {
      let t34 = r10(n10);
      t34 !== n10 && (r9(e10) || (e10[i10] = t34), n10 = t34);
    }
    t33[n10] = true;
  }
  return t33;
}
function i_(t33) {
  let e10 = ia(null);
  for (let [r10, i10] of r7(t33)) iv(t33, r10) && (Array.isArray(i10) ? e10[r10] = function(t34) {
    for (let e11 = 0; e11 < t34.length; e11++) iv(t34, e11) || (t34[e11] = null);
    return t34;
  }(i10) : i10 && "object" == typeof i10 && i10.constructor === Object ? e10[r10] = i_(i10) : e10[r10] = i10);
  return e10;
}
function iT(t33, e10) {
  for (; null !== t33; ) {
    let r10 = ie(t33, e10);
    if (r10) {
      if (r10.get) return iw(r10.get);
      if ("function" == typeof r10.value) return iw(r10.value);
    }
    t33 = it(t33);
  }
  return function() {
    return null;
  };
}
let iE = ir(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]), iC = ir(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]), iS = ir(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]), iA = ir(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]), iL = ir(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]), iN = ir(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]), iI = ir(["#text"]), iM = ir(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"]), iR = ir(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]), iD = ir(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]), iO = ir(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]), iP = ii(/\{\{[\w\W]*|[\w\W]*\}\}/gm), i$ = ii(/<%[\w\W]*|[\w\W]*%>/gm), iB = ii(/\$\{[\w\W]*}/gm), iF = ii(/^data-[\-\w.\u00B7-\uFFFF]+$/), iz = ii(/^aria-[\-\w]+$/), iU = ii(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i), iG = ii(/^(?:\w+script|data):/i), iq = ii(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g), iY = ii(/^html$/i);
var iH = Object.freeze({ __proto__: null, ARIA_ATTR: iz, ATTR_WHITESPACE: iq, CUSTOM_ELEMENT: ii(/^[a-z][.\w]*(-[.\w]+)+$/i), DATA_ATTR: iF, DOCTYPE_NAME: iY, ERB_EXPR: i$, IS_ALLOWED_URI: iU, IS_SCRIPT_OR_DATA: iG, MUSTACHE_EXPR: iP, TMPLIT_EXPR: iB });
let ij = { element: 1, text: 3, progressingInstruction: 7, comment: 8, document: 9 }, iW = function(t33, e10) {
  if ("object" != typeof t33 || "function" != typeof t33.createPolicy) return null;
  let r10 = null, i10 = "data-tt-policy-suffix";
  e10 && e10.hasAttribute(i10) && (r10 = e10.getAttribute(i10));
  let n10 = "dompurify" + (r10 ? "#" + r10 : "");
  try {
    return t33.createPolicy(n10, { createHTML: (t34) => t34, createScriptURL: (t34) => t34 });
  } catch (t34) {
    return console.warn("TrustedTypes policy " + n10 + " could not be created."), null;
  }
}, iV = function() {
  return { afterSanitizeAttributes: [], afterSanitizeElements: [], afterSanitizeShadowDOM: [], beforeSanitizeAttributes: [], beforeSanitizeElements: [], beforeSanitizeShadowDOM: [], uponSanitizeAttribute: [], uponSanitizeElement: [], uponSanitizeShadowNode: [] };
};
var iX = function t10() {
  let e10, r10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "undefined" == typeof window ? null : window, i10 = (e11) => t10(e11);
  if (i10.version = "3.2.3", i10.removed = [], !r10 || !r10.document || r10.document.nodeType !== ij.document) return i10.isSupported = false, i10;
  let { document: n10 } = r10, a10 = n10, o10 = a10.currentScript, { DocumentFragment: s10, HTMLTemplateElement: l10, Node: h10, Element: u10, NodeFilter: d10, NamedNodeMap: p10 = r10.NamedNodeMap || r10.MozNamedAttrMap, HTMLFormElement: g10, DOMParser: f10, trustedTypes: y10 } = r10, v10 = u10.prototype, x10 = iT(v10, "cloneNode"), b10 = iT(v10, "remove"), w10 = iT(v10, "nextSibling"), k10 = iT(v10, "childNodes"), _10 = iT(v10, "parentNode");
  if ("function" == typeof l10) {
    let t33 = n10.createElement("template");
    t33.content && t33.content.ownerDocument && (n10 = t33.content.ownerDocument);
  }
  let T10 = "", { implementation: E10, createNodeIterator: C10, createDocumentFragment: S10, getElementsByTagName: A10 } = n10, { importNode: L10 } = a10, N10 = iV();
  i10.isSupported = "function" == typeof r7 && "function" == typeof _10 && E10 && void 0 !== E10.createHTMLDocument;
  let { MUSTACHE_EXPR: I10, ERB_EXPR: M10, TMPLIT_EXPR: R10, DATA_ATTR: D10, ARIA_ATTR: O10, IS_SCRIPT_OR_DATA: P10, ATTR_WHITESPACE: $10, CUSTOM_ELEMENT: B10 } = iH, { IS_ALLOWED_URI: F10 } = iH, z10 = null, U10 = ik({}, [...iE, ...iC, ...iS, ...iL, ...iI]), G10 = null, q10 = ik({}, [...iM, ...iR, ...iD, ...iO]), Y10 = Object.seal(ia(null, { tagNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, attributeNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, allowCustomizedBuiltInElements: { writable: true, configurable: false, enumerable: true, value: false } })), H10 = null, j10 = null, W10 = true, V10 = true, X10 = false, K10 = true, Z10 = false, Q10 = true, J10 = false, tt10 = false, te10 = false, tr10 = false, ti10 = false, tn10 = false, ta10 = true, to10 = false, ts2 = true, tl2 = false, th2 = {}, tc2 = null, tu2 = ik({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]), td2 = null, tp2 = ik({}, ["audio", "video", "img", "source", "image", "track"]), tg2 = null, tf2 = ik({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), tm2 = "http://www.w3.org/1998/Math/MathML", ty2 = "http://www.w3.org/2000/svg", tv2 = "http://www.w3.org/1999/xhtml", tx2 = tv2, tb2 = false, tw2 = null, tk2 = ik({}, [tm2, ty2, tv2], id), t_2 = ik({}, ["mi", "mo", "mn", "ms", "mtext"]), tT2 = ik({}, ["annotation-xml"]), tE2 = ik({}, ["title", "style", "font", "a", "script"]), tC2 = null, tS2 = ["application/xhtml+xml", "text/html"], tA2 = null, tL2 = null, tN2 = n10.createElement("form"), tI2 = function(t33) {
    return t33 instanceof RegExp || t33 instanceof Function;
  }, tM2 = function() {
    let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
    if (!tL2 || tL2 !== t33) {
      if (t33 && "object" == typeof t33 || (t33 = {}), t33 = i_(t33), tA2 = "application/xhtml+xml" === (tC2 = -1 === tS2.indexOf(t33.PARSER_MEDIA_TYPE) ? "text/html" : t33.PARSER_MEDIA_TYPE) ? id : iu, z10 = iv(t33, "ALLOWED_TAGS") ? ik({}, t33.ALLOWED_TAGS, tA2) : U10, G10 = iv(t33, "ALLOWED_ATTR") ? ik({}, t33.ALLOWED_ATTR, tA2) : q10, tw2 = iv(t33, "ALLOWED_NAMESPACES") ? ik({}, t33.ALLOWED_NAMESPACES, id) : tk2, tg2 = iv(t33, "ADD_URI_SAFE_ATTR") ? ik(i_(tf2), t33.ADD_URI_SAFE_ATTR, tA2) : tf2, td2 = iv(t33, "ADD_DATA_URI_TAGS") ? ik(i_(tp2), t33.ADD_DATA_URI_TAGS, tA2) : tp2, tc2 = iv(t33, "FORBID_CONTENTS") ? ik({}, t33.FORBID_CONTENTS, tA2) : tu2, H10 = iv(t33, "FORBID_TAGS") ? ik({}, t33.FORBID_TAGS, tA2) : {}, j10 = iv(t33, "FORBID_ATTR") ? ik({}, t33.FORBID_ATTR, tA2) : {}, th2 = !!iv(t33, "USE_PROFILES") && t33.USE_PROFILES, W10 = false !== t33.ALLOW_ARIA_ATTR, V10 = false !== t33.ALLOW_DATA_ATTR, X10 = t33.ALLOW_UNKNOWN_PROTOCOLS || false, K10 = false !== t33.ALLOW_SELF_CLOSE_IN_ATTR, Z10 = t33.SAFE_FOR_TEMPLATES || false, Q10 = false !== t33.SAFE_FOR_XML, J10 = t33.WHOLE_DOCUMENT || false, tr10 = t33.RETURN_DOM || false, ti10 = t33.RETURN_DOM_FRAGMENT || false, tn10 = t33.RETURN_TRUSTED_TYPE || false, te10 = t33.FORCE_BODY || false, ta10 = false !== t33.SANITIZE_DOM, to10 = t33.SANITIZE_NAMED_PROPS || false, ts2 = false !== t33.KEEP_CONTENT, tl2 = t33.IN_PLACE || false, F10 = t33.ALLOWED_URI_REGEXP || iU, tx2 = t33.NAMESPACE || tv2, t_2 = t33.MATHML_TEXT_INTEGRATION_POINTS || t_2, tT2 = t33.HTML_INTEGRATION_POINTS || tT2, Y10 = t33.CUSTOM_ELEMENT_HANDLING || {}, t33.CUSTOM_ELEMENT_HANDLING && tI2(t33.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (Y10.tagNameCheck = t33.CUSTOM_ELEMENT_HANDLING.tagNameCheck), t33.CUSTOM_ELEMENT_HANDLING && tI2(t33.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (Y10.attributeNameCheck = t33.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), t33.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof t33.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (Y10.allowCustomizedBuiltInElements = t33.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), Z10 && (V10 = false), ti10 && (tr10 = true), th2 && (z10 = ik({}, iI), G10 = [], true === th2.html && (ik(z10, iE), ik(G10, iM)), true === th2.svg && (ik(z10, iC), ik(G10, iR), ik(G10, iO)), true === th2.svgFilters && (ik(z10, iS), ik(G10, iR), ik(G10, iO)), true === th2.mathMl && (ik(z10, iL), ik(G10, iD), ik(G10, iO))), t33.ADD_TAGS && (z10 === U10 && (z10 = i_(z10)), ik(z10, t33.ADD_TAGS, tA2)), t33.ADD_ATTR && (G10 === q10 && (G10 = i_(G10)), ik(G10, t33.ADD_ATTR, tA2)), t33.ADD_URI_SAFE_ATTR && ik(tg2, t33.ADD_URI_SAFE_ATTR, tA2), t33.FORBID_CONTENTS && (tc2 === tu2 && (tc2 = i_(tc2)), ik(tc2, t33.FORBID_CONTENTS, tA2)), ts2 && (z10["#text"] = true), J10 && ik(z10, ["html", "head", "body"]), z10.table && (ik(z10, ["tbody"]), delete H10.tbody), t33.TRUSTED_TYPES_POLICY) {
        if ("function" != typeof t33.TRUSTED_TYPES_POLICY.createHTML) throw ib('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
        if ("function" != typeof t33.TRUSTED_TYPES_POLICY.createScriptURL) throw ib('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
        T10 = (e10 = t33.TRUSTED_TYPES_POLICY).createHTML("");
      } else void 0 === e10 && (e10 = iW(y10, o10)), null !== e10 && "string" == typeof T10 && (T10 = e10.createHTML(""));
      ir && ir(t33), tL2 = t33;
    }
  }, tR2 = ik({}, [...iC, ...iS, ...iA]), tD2 = ik({}, [...iL, ...iN]), tO2 = function(t33) {
    let e11 = _10(t33);
    e11 && e11.tagName || (e11 = { namespaceURI: tx2, tagName: "template" });
    let r11 = iu(t33.tagName), i11 = iu(e11.tagName);
    return !!tw2[t33.namespaceURI] && (t33.namespaceURI === ty2 ? e11.namespaceURI === tv2 ? "svg" === r11 : e11.namespaceURI === tm2 ? "svg" === r11 && ("annotation-xml" === i11 || t_2[i11]) : !!tR2[r11] : t33.namespaceURI === tm2 ? e11.namespaceURI === tv2 ? "math" === r11 : e11.namespaceURI === ty2 ? "math" === r11 && tT2[i11] : !!tD2[r11] : t33.namespaceURI === tv2 ? (e11.namespaceURI !== ty2 || !!tT2[i11]) && (e11.namespaceURI !== tm2 || !!t_2[i11]) && !tD2[r11] && (tE2[r11] || !tR2[r11]) : "application/xhtml+xml" === tC2 && !!tw2[t33.namespaceURI]);
  }, tP2 = function(t33) {
    ic(i10.removed, { element: t33 });
    try {
      _10(t33).removeChild(t33);
    } catch (e11) {
      b10(t33);
    }
  }, t$2 = function(t33, e11) {
    try {
      ic(i10.removed, { attribute: e11.getAttributeNode(t33), from: e11 });
    } catch (t34) {
      ic(i10.removed, { attribute: null, from: e11 });
    }
    if (e11.removeAttribute(t33), "is" === t33) {
      if (tr10 || ti10) try {
        tP2(e11);
      } catch (t34) {
      }
      else try {
        e11.setAttribute(t33, "");
      } catch (t34) {
      }
    }
  }, tB2 = function(t33) {
    let r11 = null, i11 = null;
    if (te10) t33 = "<remove></remove>" + t33;
    else {
      let e11 = ip(t33, /^[\r\n\t ]+/);
      i11 = e11 && e11[0];
    }
    "application/xhtml+xml" === tC2 && tx2 === tv2 && (t33 = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + t33 + "</body></html>");
    let a11 = e10 ? e10.createHTML(t33) : t33;
    if (tx2 === tv2) try {
      r11 = new f10().parseFromString(a11, tC2);
    } catch (t34) {
    }
    if (!r11 || !r11.documentElement) {
      r11 = E10.createDocument(tx2, "template", null);
      try {
        r11.documentElement.innerHTML = tb2 ? T10 : a11;
      } catch (t34) {
      }
    }
    let o11 = r11.body || r11.documentElement;
    return (t33 && i11 && o11.insertBefore(n10.createTextNode(i11), o11.childNodes[0] || null), tx2 === tv2) ? A10.call(r11, J10 ? "html" : "body")[0] : J10 ? r11.documentElement : o11;
  }, tF2 = function(t33) {
    return C10.call(t33.ownerDocument || t33, t33, d10.SHOW_ELEMENT | d10.SHOW_COMMENT | d10.SHOW_TEXT | d10.SHOW_PROCESSING_INSTRUCTION | d10.SHOW_CDATA_SECTION, null);
  }, tz2 = function(t33) {
    return t33 instanceof g10 && ("string" != typeof t33.nodeName || "string" != typeof t33.textContent || "function" != typeof t33.removeChild || !(t33.attributes instanceof p10) || "function" != typeof t33.removeAttribute || "function" != typeof t33.setAttribute || "string" != typeof t33.namespaceURI || "function" != typeof t33.insertBefore || "function" != typeof t33.hasChildNodes);
  }, tU2 = function(t33) {
    return "function" == typeof h10 && t33 instanceof h10;
  };
  function tG2(t33, e11, r11) {
    il(t33, (t34) => {
      t34.call(i10, e11, r11, tL2);
    });
  }
  let tq2 = function(t33) {
    let e11 = null;
    if (tG2(N10.beforeSanitizeElements, t33, null), tz2(t33)) return tP2(t33), true;
    let r11 = tA2(t33.nodeName);
    if (tG2(N10.uponSanitizeElement, t33, { tagName: r11, allowedTags: z10 }), t33.hasChildNodes() && !tU2(t33.firstElementChild) && ix(/<[/\w]/g, t33.innerHTML) && ix(/<[/\w]/g, t33.textContent) || t33.nodeType === ij.progressingInstruction || Q10 && t33.nodeType === ij.comment && ix(/<[/\w]/g, t33.data)) return tP2(t33), true;
    if (!z10[r11] || H10[r11]) {
      if (!H10[r11] && tH2(r11) && (Y10.tagNameCheck instanceof RegExp && ix(Y10.tagNameCheck, r11) || Y10.tagNameCheck instanceof Function && Y10.tagNameCheck(r11))) return false;
      if (ts2 && !tc2[r11]) {
        let e12 = _10(t33) || t33.parentNode, r12 = k10(t33) || t33.childNodes;
        if (r12 && e12) {
          let i11 = r12.length;
          for (let n11 = i11 - 1; n11 >= 0; --n11) {
            let i12 = x10(r12[n11], true);
            i12.__removalCount = (t33.__removalCount || 0) + 1, e12.insertBefore(i12, w10(t33));
          }
        }
      }
      return tP2(t33), true;
    }
    return t33 instanceof u10 && !tO2(t33) || ("noscript" === r11 || "noembed" === r11 || "noframes" === r11) && ix(/<\/no(script|embed|frames)/i, t33.innerHTML) ? (tP2(t33), true) : (Z10 && t33.nodeType === ij.text && (e11 = t33.textContent, il([I10, M10, R10], (t34) => {
      e11 = ig(e11, t34, " ");
    }), t33.textContent !== e11 && (ic(i10.removed, { element: t33.cloneNode() }), t33.textContent = e11)), tG2(N10.afterSanitizeElements, t33, null), false);
  }, tY2 = function(t33, e11, r11) {
    if (ta10 && ("id" === e11 || "name" === e11) && (r11 in n10 || r11 in tN2)) return false;
    if (V10 && !j10[e11] && ix(D10, e11)) ;
    else if (W10 && ix(O10, e11)) ;
    else if (!G10[e11] || j10[e11]) {
      if (!(tH2(t33) && (Y10.tagNameCheck instanceof RegExp && ix(Y10.tagNameCheck, t33) || Y10.tagNameCheck instanceof Function && Y10.tagNameCheck(t33)) && (Y10.attributeNameCheck instanceof RegExp && ix(Y10.attributeNameCheck, e11) || Y10.attributeNameCheck instanceof Function && Y10.attributeNameCheck(e11)) || "is" === e11 && Y10.allowCustomizedBuiltInElements && (Y10.tagNameCheck instanceof RegExp && ix(Y10.tagNameCheck, r11) || Y10.tagNameCheck instanceof Function && Y10.tagNameCheck(r11)))) return false;
    } else if (tg2[e11]) ;
    else if (ix(F10, ig(r11, $10, ""))) ;
    else if (("src" === e11 || "xlink:href" === e11 || "href" === e11) && "script" !== t33 && 0 === im(r11, "data:") && td2[t33]) ;
    else if (X10 && !ix(P10, ig(r11, $10, ""))) ;
    else if (r11) return false;
    return true;
  }, tH2 = function(t33) {
    return "annotation-xml" !== t33 && ip(t33, B10);
  }, tj2 = function(t33) {
    tG2(N10.beforeSanitizeAttributes, t33, null);
    let { attributes: r11 } = t33;
    if (!r11 || tz2(t33)) return;
    let n11 = { attrName: "", attrValue: "", keepAttr: true, allowedAttributes: G10, forceKeepAttr: void 0 }, a11 = r11.length;
    for (; a11--; ) {
      let { name: o11, namespaceURI: s11, value: l11 } = r11[a11], h11 = tA2(o11), u11 = "value" === o11 ? l11 : iy(l11);
      if (n11.attrName = h11, n11.attrValue = u11, n11.keepAttr = true, n11.forceKeepAttr = void 0, tG2(N10.uponSanitizeAttribute, t33, n11), u11 = n11.attrValue, to10 && ("id" === h11 || "name" === h11) && (t$2(o11, t33), u11 = "user-content-" + u11), Q10 && ix(/((--!?|])>)|<\/(style|title)/i, u11)) {
        t$2(o11, t33);
        continue;
      }
      if (n11.forceKeepAttr || (t$2(o11, t33), !n11.keepAttr)) continue;
      if (!K10 && ix(/\/>/i, u11)) {
        t$2(o11, t33);
        continue;
      }
      Z10 && il([I10, M10, R10], (t34) => {
        u11 = ig(u11, t34, " ");
      });
      let d11 = tA2(t33.nodeName);
      if (tY2(d11, h11, u11)) {
        if (e10 && "object" == typeof y10 && "function" == typeof y10.getAttributeType) {
          if (s11) ;
          else switch (y10.getAttributeType(d11, h11)) {
            case "TrustedHTML":
              u11 = e10.createHTML(u11);
              break;
            case "TrustedScriptURL":
              u11 = e10.createScriptURL(u11);
          }
        }
        try {
          s11 ? t33.setAttributeNS(s11, o11, u11) : t33.setAttribute(o11, u11), tz2(t33) ? tP2(t33) : ih(i10.removed);
        } catch (t34) {
        }
      }
    }
    tG2(N10.afterSanitizeAttributes, t33, null);
  }, tW2 = function t33(e11) {
    let r11 = null, i11 = tF2(e11);
    for (tG2(N10.beforeSanitizeShadowDOM, e11, null); r11 = i11.nextNode(); ) tG2(N10.uponSanitizeShadowNode, r11, null), tq2(r11), tj2(r11), r11.content instanceof s10 && t33(r11.content);
    tG2(N10.afterSanitizeShadowDOM, e11, null);
  };
  return i10.sanitize = function(t33) {
    let r11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n11 = null, o11 = null, l11 = null, u11 = null;
    if ((tb2 = !t33) && (t33 = "<!-->"), "string" != typeof t33 && !tU2(t33)) {
      if ("function" == typeof t33.toString) {
        if ("string" != typeof (t33 = t33.toString())) throw ib("dirty is not a string, aborting");
      } else throw ib("toString is not a function");
    }
    if (!i10.isSupported) return t33;
    if (tt10 || tM2(r11), i10.removed = [], "string" == typeof t33 && (tl2 = false), tl2) {
      if (t33.nodeName) {
        let e11 = tA2(t33.nodeName);
        if (!z10[e11] || H10[e11]) throw ib("root node is forbidden and cannot be sanitized in-place");
      }
    } else if (t33 instanceof h10) (o11 = (n11 = tB2("<!---->")).ownerDocument.importNode(t33, true)).nodeType === ij.element && "BODY" === o11.nodeName ? n11 = o11 : "HTML" === o11.nodeName ? n11 = o11 : n11.appendChild(o11);
    else {
      if (!tr10 && !Z10 && !J10 && -1 === t33.indexOf("<")) return e10 && tn10 ? e10.createHTML(t33) : t33;
      if (!(n11 = tB2(t33))) return tr10 ? null : tn10 ? T10 : "";
    }
    n11 && te10 && tP2(n11.firstChild);
    let d11 = tF2(tl2 ? t33 : n11);
    for (; l11 = d11.nextNode(); ) tq2(l11), tj2(l11), l11.content instanceof s10 && tW2(l11.content);
    if (tl2) return t33;
    if (tr10) {
      if (ti10) for (u11 = S10.call(n11.ownerDocument); n11.firstChild; ) u11.appendChild(n11.firstChild);
      else u11 = n11;
      return (G10.shadowroot || G10.shadowrootmode) && (u11 = L10.call(a10, u11, true)), u11;
    }
    let p11 = J10 ? n11.outerHTML : n11.innerHTML;
    return J10 && z10["!doctype"] && n11.ownerDocument && n11.ownerDocument.doctype && n11.ownerDocument.doctype.name && ix(iY, n11.ownerDocument.doctype.name) && (p11 = "<!DOCTYPE " + n11.ownerDocument.doctype.name + ">\n" + p11), Z10 && il([I10, M10, R10], (t34) => {
      p11 = ig(p11, t34, " ");
    }), e10 && tn10 ? e10.createHTML(p11) : p11;
  }, i10.setConfig = function() {
    let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
    tM2(t33), tt10 = true;
  }, i10.clearConfig = function() {
    tL2 = null, tt10 = false;
  }, i10.isValidAttribute = function(t33, e11, r11) {
    return tL2 || tM2({}), tY2(tA2(t33), tA2(e11), r11);
  }, i10.addHook = function(t33, e11) {
    "function" == typeof e11 && ic(N10[t33], e11);
  }, i10.removeHook = function(t33) {
    return ih(N10[t33]);
  }, i10.removeHooks = function(t33) {
    N10[t33] = [];
  }, i10.removeAllHooks = function() {
    N10 = iV();
  }, i10;
}(), iK = Object.defineProperty, iZ = (t33, e10) => iK(t33, "name", { value: e10, configurable: true }), iQ = (t33, e10) => {
  for (var r10 in e10) iK(t33, r10, { get: e10[r10], enumerable: true });
}, iJ = { trace: 0, debug: 1, info: 2, warn: 3, error: 4, fatal: 5 }, i0 = { trace: iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
}, "trace"), debug: iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
}, "debug"), info: iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
}, "info"), warn: iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
}, "warn"), error: iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
}, "error"), fatal: iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
}, "fatal") }, i1 = iZ(function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "fatal", e10 = iJ.fatal;
  "string" == typeof t33 ? t33.toLowerCase() in iJ && (e10 = iJ[t33]) : "number" == typeof t33 && (e10 = t33), i0.trace = () => {
  }, i0.debug = () => {
  }, i0.info = () => {
  }, i0.warn = () => {
  }, i0.error = () => {
  }, i0.fatal = () => {
  }, e10 <= iJ.fatal && (i0.fatal = console.error ? console.error.bind(console, i2("FATAL"), "color: orange") : console.log.bind(console, "\x1B[35m", i2("FATAL"))), e10 <= iJ.error && (i0.error = console.error ? console.error.bind(console, i2("ERROR"), "color: orange") : console.log.bind(console, "\x1B[31m", i2("ERROR"))), e10 <= iJ.warn && (i0.warn = console.warn ? console.warn.bind(console, i2("WARN"), "color: orange") : console.log.bind(console, `\x1B[33m`, i2("WARN"))), e10 <= iJ.info && (i0.info = console.info ? console.info.bind(console, i2("INFO"), "color: lightblue") : console.log.bind(console, "\x1B[34m", i2("INFO"))), e10 <= iJ.debug && (i0.debug = console.debug ? console.debug.bind(console, i2("DEBUG"), "color: lightgreen") : console.log.bind(console, "\x1B[32m", i2("DEBUG"))), e10 <= iJ.trace && (i0.trace = console.debug ? console.debug.bind(console, i2("TRACE"), "color: lightgreen") : console.log.bind(console, "\x1B[32m", i2("TRACE")));
}, "setLogLevel"), i2 = iZ((t33) => {
  let e10 = r$().format("ss.SSS");
  return `%c${e10} : ${t33} : `;
}, "format"), i4 = /^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s, i5 = /%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi, i3 = /\s*%%.*\n/gm, i6 = (_a2 = class extends Error {
  constructor(t33) {
    super(t33), this.name = "UnknownDiagramError";
  }
}, _n2 = new WeakMap(), __privateAdd(_a2, _n2, iZ(_a2, "UnknownDiagramError")), _a2), i7 = {}, i8 = iZ(function(t33, e10) {
  for (let [r10, { detector: i10 }] of (t33 = t33.replace(i4, "").replace(i5, "").replace(i3, "\n"), Object.entries(i7))) if (i10(t33, e10)) return r10;
  throw new i6(`No diagram type detected matching given configuration for text: ${t33}`);
}, "detectType"), i9 = iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
  for (let { id: t34, detector: r11, loader: i10 } of e10) nt(t34, r11, i10);
}, "registerLazyLoadedDiagrams"), nt = iZ((t33, e10, r10) => {
  i7[t33] && i0.warn(`Detector with key ${t33} already exists. Overwriting.`), i7[t33] = { detector: e10, loader: r10 }, i0.debug(`Detector with key ${t33} added${r10 ? " with loader" : ""}`);
}, "addDetector"), ne = iZ((t33) => i7[t33].loader, "getDiagramLoader"), nr = iZ(function(t33, e10) {
  let { depth: r10 = 2, clobber: i10 = false } = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n10 = { depth: r10, clobber: i10 };
  return Array.isArray(e10) && !Array.isArray(t33) ? (e10.forEach((e11) => nr(t33, e11, n10)), t33) : Array.isArray(e10) && Array.isArray(t33) ? (e10.forEach((e11) => {
    t33.includes(e11) || t33.push(e11);
  }), t33) : void 0 === t33 || r10 <= 0 ? null != t33 && "object" == typeof t33 && "object" == typeof e10 ? Object.assign(t33, e10) : e10 : (void 0 !== e10 && "object" == typeof t33 && "object" == typeof e10 && Object.keys(e10).forEach((n11) => {
    "object" == typeof e10[n11] && (void 0 === t33[n11] || "object" == typeof t33[n11]) ? (void 0 === t33[n11] && (t33[n11] = Array.isArray(e10[n11]) ? [] : {}), t33[n11] = nr(t33[n11], e10[n11], { depth: r10 - 1, clobber: i10 })) : (i10 || "object" != typeof t33[n11] && "object" != typeof e10[n11]) && (t33[n11] = e10[n11]);
  }), t33);
}, "assignWithDepth"), ni = "#ffffff", nn = "#f2f2f2", na = iZ((t33, e10) => e10 ? r5(t33, { s: -40, l: 10 }) : r5(t33, { s: -40, l: -10 }), "mkBorder"), no = (_b2 = class {
  constructor() {
    this.background = "#f4f4f4", this.primaryColor = "#fff4dd", this.noteBkgColor = "#fff5ad", this.noteTextColor = "#333", this.THEME_COLOR_LIMIT = 12, this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px";
  }
  updateColors() {
    var t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10;
    if (this.primaryTextColor = this.primaryTextColor || (this.darkMode ? "#eee" : "#333"), this.secondaryColor = this.secondaryColor || r5(this.primaryColor, { h: -120 }), this.tertiaryColor = this.tertiaryColor || r5(this.primaryColor, { h: 180, l: 5 }), this.primaryBorderColor = this.primaryBorderColor || na(this.primaryColor, this.darkMode), this.secondaryBorderColor = this.secondaryBorderColor || na(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = this.tertiaryBorderColor || na(this.tertiaryColor, this.darkMode), this.noteBorderColor = this.noteBorderColor || na(this.noteBkgColor, this.darkMode), this.noteBkgColor = this.noteBkgColor || "#fff5ad", this.noteTextColor = this.noteTextColor || "#333", this.secondaryTextColor = this.secondaryTextColor || r6(this.secondaryColor), this.tertiaryTextColor = this.tertiaryTextColor || r6(this.tertiaryColor), this.lineColor = this.lineColor || r6(this.background), this.arrowheadColor = this.arrowheadColor || r6(this.background), this.textColor = this.textColor || this.primaryTextColor, this.border2 = this.border2 || this.tertiaryBorderColor, this.nodeBkg = this.nodeBkg || this.primaryColor, this.mainBkg = this.mainBkg || this.primaryColor, this.nodeBorder = this.nodeBorder || this.primaryBorderColor, this.clusterBkg = this.clusterBkg || this.tertiaryColor, this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor, this.defaultLinkColor = this.defaultLinkColor || this.lineColor, this.titleColor = this.titleColor || this.tertiaryTextColor, this.edgeLabelBackground = this.edgeLabelBackground || (this.darkMode ? r4(this.secondaryColor, 30) : this.secondaryColor), this.nodeTextColor = this.nodeTextColor || this.primaryTextColor, this.actorBorder = this.actorBorder || this.primaryBorderColor, this.actorBkg = this.actorBkg || this.mainBkg, this.actorTextColor = this.actorTextColor || this.primaryTextColor, this.actorLineColor = this.actorLineColor || this.actorBorder, this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg, this.signalColor = this.signalColor || this.textColor, this.signalTextColor = this.signalTextColor || this.textColor, this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder, this.labelTextColor = this.labelTextColor || this.actorTextColor, this.loopTextColor = this.loopTextColor || this.actorTextColor, this.activationBorderColor = this.activationBorderColor || r4(this.secondaryColor, 10), this.activationBkgColor = this.activationBkgColor || this.secondaryColor, this.sequenceNumberColor = this.sequenceNumberColor || r6(this.lineColor), this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor, this.altSectionBkgColor = this.altSectionBkgColor || "white", this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor, this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor, this.excludeBkgColor = this.excludeBkgColor || "#eeeeee", this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor, this.taskBkgColor = this.taskBkgColor || this.primaryColor, this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor, this.activeTaskBkgColor = this.activeTaskBkgColor || r2(this.primaryColor, 23), this.gridColor = this.gridColor || "lightgrey", this.doneTaskBkgColor = this.doneTaskBkgColor || "lightgrey", this.doneTaskBorderColor = this.doneTaskBorderColor || "grey", this.critBorderColor = this.critBorderColor || "#ff8888", this.critBkgColor = this.critBkgColor || "red", this.todayLineColor = this.todayLineColor || "red", this.taskTextColor = this.taskTextColor || this.textColor, this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor, this.taskTextLightColor = this.taskTextLightColor || this.textColor, this.taskTextColor = this.taskTextColor || this.primaryTextColor, this.taskTextDarkColor = this.taskTextDarkColor || this.textColor, this.taskTextClickableColor = this.taskTextClickableColor || "#003163", this.personBorder = this.personBorder || this.primaryBorderColor, this.personBkg = this.personBkg || this.mainBkg, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || this.tertiaryColor, this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.nodeBorder, this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.transitionColor = this.transitionColor || this.lineColor, this.specialStateColor = this.lineColor, this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || r5(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || r5(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || r5(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || r5(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || r5(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || r5(this.primaryColor, { h: 210, l: 150 }), this.cScale9 = this.cScale9 || r5(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || r5(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || r5(this.primaryColor, { h: 330 }), this.darkMode) for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScale" + t34] = r4(this["cScale" + t34], 75);
    else for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScale" + t34] = r4(this["cScale" + t34], 25);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleInv" + t34] = this["cScaleInv" + t34] || r6(this["cScale" + t34]);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this.darkMode ? this["cScalePeer" + t34] = this["cScalePeer" + t34] || r2(this["cScale" + t34], 10) : this["cScalePeer" + t34] = this["cScalePeer" + t34] || r4(this["cScale" + t34], 10);
    this.scaleLabelColor = this.scaleLabelColor || this.labelTextColor;
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleLabel" + t34] = this["cScaleLabel" + t34] || this.scaleLabelColor;
    let d10 = this.darkMode ? -4 : -1;
    for (let t34 = 0; t34 < 5; t34++) this["surface" + t34] = this["surface" + t34] || r5(this.mainBkg, { h: 180, s: -15, l: d10 * (5 + 3 * t34) }), this["surfacePeer" + t34] = this["surfacePeer" + t34] || r5(this.mainBkg, { h: 180, s: -15, l: d10 * (8 + 3 * t34) });
    this.classText = this.classText || this.textColor, this.fillType0 = this.fillType0 || this.primaryColor, this.fillType1 = this.fillType1 || this.secondaryColor, this.fillType2 = this.fillType2 || r5(this.primaryColor, { h: 64 }), this.fillType3 = this.fillType3 || r5(this.secondaryColor, { h: 64 }), this.fillType4 = this.fillType4 || r5(this.primaryColor, { h: -64 }), this.fillType5 = this.fillType5 || r5(this.secondaryColor, { h: -64 }), this.fillType6 = this.fillType6 || r5(this.primaryColor, { h: 128 }), this.fillType7 = this.fillType7 || r5(this.secondaryColor, { h: 128 }), this.pie1 = this.pie1 || this.primaryColor, this.pie2 = this.pie2 || this.secondaryColor, this.pie3 = this.pie3 || this.tertiaryColor, this.pie4 = this.pie4 || r5(this.primaryColor, { l: -10 }), this.pie5 = this.pie5 || r5(this.secondaryColor, { l: -10 }), this.pie6 = this.pie6 || r5(this.tertiaryColor, { l: -10 }), this.pie7 = this.pie7 || r5(this.primaryColor, { h: 60, l: -10 }), this.pie8 = this.pie8 || r5(this.primaryColor, { h: -60, l: -10 }), this.pie9 = this.pie9 || r5(this.primaryColor, { h: 120, l: 0 }), this.pie10 = this.pie10 || r5(this.primaryColor, { h: 60, l: -20 }), this.pie11 = this.pie11 || r5(this.primaryColor, { h: -60, l: -20 }), this.pie12 = this.pie12 || r5(this.primaryColor, { h: 120, l: -10 }), this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.archEdgeColor = this.archEdgeColor || "#777", this.archEdgeArrowColor = this.archEdgeArrowColor || "#777", this.archEdgeWidth = this.archEdgeWidth || "3", this.archGroupBorderColor = this.archGroupBorderColor || "#000", this.archGroupBorderWidth = this.archGroupBorderWidth || "2px", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || r5(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || r5(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || r5(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || r5(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || r5(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || r5(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || r0(this.quadrant1Fill) ? r2(this.quadrant1Fill) : r4(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (t33 = this.xyChart) || void 0 === t33 ? void 0 : t33.backgroundColor) || this.background, titleColor: (null === (e10 = this.xyChart) || void 0 === e10 ? void 0 : e10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? r4(this.secondaryColor, 30) : this.secondaryColor), this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = this.git0 || this.primaryColor, this.git1 = this.git1 || this.secondaryColor, this.git2 = this.git2 || this.tertiaryColor, this.git3 = this.git3 || r5(this.primaryColor, { h: -30 }), this.git4 = this.git4 || r5(this.primaryColor, { h: -60 }), this.git5 = this.git5 || r5(this.primaryColor, { h: -90 }), this.git6 = this.git6 || r5(this.primaryColor, { h: 60 }), this.git7 = this.git7 || r5(this.primaryColor, { h: 120 }), this.darkMode ? (this.git0 = r2(this.git0, 25), this.git1 = r2(this.git1, 25), this.git2 = r2(this.git2, 25), this.git3 = r2(this.git3, 25), this.git4 = r2(this.git4, 25), this.git5 = r2(this.git5, 25), this.git6 = r2(this.git6, 25), this.git7 = r2(this.git7, 25)) : (this.git0 = r4(this.git0, 25), this.git1 = r4(this.git1, 25), this.git2 = r4(this.git2, 25), this.git3 = r4(this.git3, 25), this.git4 = r4(this.git4, 25), this.git5 = r4(this.git5, 25), this.git6 = r4(this.git6, 25), this.git7 = r4(this.git7, 25)), this.gitInv0 = this.gitInv0 || r6(this.git0), this.gitInv1 = this.gitInv1 || r6(this.git1), this.gitInv2 = this.gitInv2 || r6(this.git2), this.gitInv3 = this.gitInv3 || r6(this.git3), this.gitInv4 = this.gitInv4 || r6(this.git4), this.gitInv5 = this.gitInv5 || r6(this.git5), this.gitInv6 = this.gitInv6 || r6(this.git6), this.gitInv7 = this.gitInv7 || r6(this.git7), this.branchLabelColor = this.branchLabelColor || (this.darkMode ? "black" : this.labelTextColor), this.gitBranchLabel0 = this.gitBranchLabel0 || this.branchLabelColor, this.gitBranchLabel1 = this.gitBranchLabel1 || this.branchLabelColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.branchLabelColor, this.gitBranchLabel3 = this.gitBranchLabel3 || this.branchLabelColor, this.gitBranchLabel4 = this.gitBranchLabel4 || this.branchLabelColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.branchLabelColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.branchLabelColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.branchLabelColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ni, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || nn;
  }
  calculate(t33) {
    if ("object" != typeof t33) {
      this.updateColors();
      return;
    }
    let e10 = Object.keys(t33);
    e10.forEach((e11) => {
      this[e11] = t33[e11];
    }), this.updateColors(), e10.forEach((e11) => {
      this[e11] = t33[e11];
    });
  }
}, _n3 = new WeakMap(), __privateAdd(_b2, _n3, iZ(_b2, "Theme")), _b2), ns = iZ((t33) => {
  let e10 = new no();
  return e10.calculate(t33), e10;
}, "getThemeVariables"), nl = (_c2 = class {
  constructor() {
    this.background = "#333", this.primaryColor = "#1f2020", this.secondaryColor = r2(this.primaryColor, 16), this.tertiaryColor = r5(this.primaryColor, { h: -160 }), this.primaryBorderColor = r6(this.background), this.secondaryBorderColor = na(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = na(this.tertiaryColor, this.darkMode), this.primaryTextColor = r6(this.primaryColor), this.secondaryTextColor = r6(this.secondaryColor), this.tertiaryTextColor = r6(this.tertiaryColor), this.lineColor = r6(this.background), this.textColor = r6(this.background), this.mainBkg = "#1f2020", this.secondBkg = "calculated", this.mainContrastColor = "lightgrey", this.darkTextColor = r2(r6("#323D47"), 10), this.lineColor = "calculated", this.border1 = "#ccc", this.border2 = rK(255, 255, 255, 0.25), this.arrowheadColor = "calculated", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.labelBackground = "#181818", this.textColor = "#ccc", this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "#F9FFFE", this.edgeLabelBackground = "calculated", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "calculated", this.actorLineColor = "calculated", this.signalColor = "calculated", this.signalTextColor = "calculated", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "calculated", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "#fff5ad", this.noteTextColor = "calculated", this.activationBorderColor = "calculated", this.activationBkgColor = "calculated", this.sequenceNumberColor = "black", this.sectionBkgColor = r4("#EAE8D9", 30), this.altSectionBkgColor = "calculated", this.sectionBkgColor2 = "#EAE8D9", this.excludeBkgColor = r4(this.sectionBkgColor, 10), this.taskBorderColor = rK(255, 255, 255, 70), this.taskBkgColor = "calculated", this.taskTextColor = "calculated", this.taskTextLightColor = "calculated", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = rK(255, 255, 255, 50), this.activeTaskBkgColor = "#81B1DB", this.gridColor = "calculated", this.doneTaskBkgColor = "calculated", this.doneTaskBorderColor = "grey", this.critBorderColor = "#E83737", this.critBkgColor = "#E83737", this.taskTextDarkColor = "calculated", this.todayLineColor = "#DB5757", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "calculated", this.errorBkgColor = "#a44141", this.errorTextColor = "#ddd";
  }
  updateColors() {
    var t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10;
    this.secondBkg = r2(this.mainBkg, 16), this.lineColor = this.mainContrastColor, this.arrowheadColor = this.mainContrastColor, this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.edgeLabelBackground = r2(this.labelBackground, 25), this.actorBorder = this.border1, this.actorBkg = this.mainBkg, this.actorTextColor = this.mainContrastColor, this.actorLineColor = this.actorBorder, this.signalColor = this.mainContrastColor, this.signalTextColor = this.mainContrastColor, this.labelBoxBkgColor = this.actorBkg, this.labelBoxBorderColor = this.actorBorder, this.labelTextColor = this.mainContrastColor, this.loopTextColor = this.mainContrastColor, this.noteBorderColor = this.secondaryBorderColor, this.noteBkgColor = this.secondBkg, this.noteTextColor = this.secondaryTextColor, this.activationBorderColor = this.border1, this.activationBkgColor = this.secondBkg, this.altSectionBkgColor = this.background, this.taskBkgColor = r2(this.mainBkg, 23), this.taskTextColor = this.darkTextColor, this.taskTextLightColor = this.mainContrastColor, this.taskTextOutsideColor = this.taskTextLightColor, this.gridColor = this.mainContrastColor, this.doneTaskBkgColor = this.mainContrastColor, this.taskTextDarkColor = this.darkTextColor, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#555", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.primaryBorderColor, this.specialStateColor = "#f4f4f4", this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = r5(this.primaryColor, { h: 64 }), this.fillType3 = r5(this.secondaryColor, { h: 64 }), this.fillType4 = r5(this.primaryColor, { h: -64 }), this.fillType5 = r5(this.secondaryColor, { h: -64 }), this.fillType6 = r5(this.primaryColor, { h: 128 }), this.fillType7 = r5(this.secondaryColor, { h: 128 }), this.cScale1 = this.cScale1 || "#0b0000", this.cScale2 = this.cScale2 || "#4d1037", this.cScale3 = this.cScale3 || "#3f5258", this.cScale4 = this.cScale4 || "#4f2f1b", this.cScale5 = this.cScale5 || "#6e0a0a", this.cScale6 = this.cScale6 || "#3b0048", this.cScale7 = this.cScale7 || "#995a01", this.cScale8 = this.cScale8 || "#154706", this.cScale9 = this.cScale9 || "#161722", this.cScale10 = this.cScale10 || "#00296f", this.cScale11 = this.cScale11 || "#01629c", this.cScale12 = this.cScale12 || "#010029", this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || r5(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || r5(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || r5(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || r5(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || r5(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || r5(this.primaryColor, { h: 210 }), this.cScale9 = this.cScale9 || r5(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || r5(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || r5(this.primaryColor, { h: 330 });
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleInv" + t34] = this["cScaleInv" + t34] || r6(this["cScale" + t34]);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScalePeer" + t34] = this["cScalePeer" + t34] || r2(this["cScale" + t34], 10);
    for (let t34 = 0; t34 < 5; t34++) this["surface" + t34] = this["surface" + t34] || r5(this.mainBkg, { h: 30, s: -30, l: -(-10 + 4 * t34) }), this["surfacePeer" + t34] = this["surfacePeer" + t34] || r5(this.mainBkg, { h: 30, s: -30, l: -(-7 + 4 * t34) });
    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleLabel" + t34] = this["cScaleLabel" + t34] || this.scaleLabelColor;
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["pie" + t34] = this["cScale" + t34];
    this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || r5(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || r5(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || r5(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || r5(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || r5(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || r5(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || r0(this.quadrant1Fill) ? r2(this.quadrant1Fill) : r4(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (t33 = this.xyChart) || void 0 === t33 ? void 0 : t33.backgroundColor) || this.background, titleColor: (null === (e10 = this.xyChart) || void 0 === e10 ? void 0 : e10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22" }, this.packet = { startByteColor: this.primaryTextColor, endByteColor: this.primaryTextColor, labelColor: this.primaryTextColor, titleColor: this.primaryTextColor, blockStrokeColor: this.primaryTextColor, blockFillColor: this.background }, this.classText = this.primaryTextColor, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? r4(this.secondaryColor, 30) : this.secondaryColor), this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = r2(this.secondaryColor, 20), this.git1 = r2(this.pie2 || this.secondaryColor, 20), this.git2 = r2(this.pie3 || this.tertiaryColor, 20), this.git3 = r2(this.pie4 || r5(this.primaryColor, { h: -30 }), 20), this.git4 = r2(this.pie5 || r5(this.primaryColor, { h: -60 }), 20), this.git5 = r2(this.pie6 || r5(this.primaryColor, { h: -90 }), 10), this.git6 = r2(this.pie7 || r5(this.primaryColor, { h: 60 }), 10), this.git7 = r2(this.pie8 || r5(this.primaryColor, { h: 120 }), 20), this.gitInv0 = this.gitInv0 || r6(this.git0), this.gitInv1 = this.gitInv1 || r6(this.git1), this.gitInv2 = this.gitInv2 || r6(this.git2), this.gitInv3 = this.gitInv3 || r6(this.git3), this.gitInv4 = this.gitInv4 || r6(this.git4), this.gitInv5 = this.gitInv5 || r6(this.git5), this.gitInv6 = this.gitInv6 || r6(this.git6), this.gitInv7 = this.gitInv7 || r6(this.git7), this.gitBranchLabel0 = this.gitBranchLabel0 || r6(this.labelTextColor), this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor, this.gitBranchLabel3 = this.gitBranchLabel3 || r6(this.labelTextColor), this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || r2(this.background, 12), this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || r2(this.background, 2), this.nodeBorder = this.nodeBorder || "#999";
  }
  calculate(t33) {
    if ("object" != typeof t33) {
      this.updateColors();
      return;
    }
    let e10 = Object.keys(t33);
    e10.forEach((e11) => {
      this[e11] = t33[e11];
    }), this.updateColors(), e10.forEach((e11) => {
      this[e11] = t33[e11];
    });
  }
}, _n4 = new WeakMap(), __privateAdd(_c2, _n4, iZ(_c2, "Theme")), _c2), nh = iZ((t33) => {
  let e10 = new nl();
  return e10.calculate(t33), e10;
}, "getThemeVariables"), nc = (_d2 = class {
  constructor() {
    this.background = "#f4f4f4", this.primaryColor = "#ECECFF", this.secondaryColor = r5(this.primaryColor, { h: 120 }), this.secondaryColor = "#ffffde", this.tertiaryColor = r5(this.primaryColor, { h: -160 }), this.primaryBorderColor = na(this.primaryColor, this.darkMode), this.secondaryBorderColor = na(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = na(this.tertiaryColor, this.darkMode), this.primaryTextColor = r6(this.primaryColor), this.secondaryTextColor = r6(this.secondaryColor), this.tertiaryTextColor = r6(this.tertiaryColor), this.lineColor = r6(this.background), this.textColor = r6(this.background), this.background = "white", this.mainBkg = "#ECECFF", this.secondBkg = "#ffffde", this.lineColor = "#333333", this.border1 = "#9370DB", this.border2 = "#aaaa33", this.arrowheadColor = "#333333", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.labelBackground = "rgba(232,232,232, 0.8)", this.textColor = "#333", this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "calculated", this.edgeLabelBackground = "calculated", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "black", this.actorLineColor = "calculated", this.signalColor = "calculated", this.signalTextColor = "calculated", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "calculated", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "#fff5ad", this.noteTextColor = "calculated", this.activationBorderColor = "#666", this.activationBkgColor = "#f4f4f4", this.sequenceNumberColor = "white", this.sectionBkgColor = "calculated", this.altSectionBkgColor = "calculated", this.sectionBkgColor2 = "calculated", this.excludeBkgColor = "#eeeeee", this.taskBorderColor = "calculated", this.taskBkgColor = "calculated", this.taskTextLightColor = "calculated", this.taskTextColor = this.taskTextLightColor, this.taskTextDarkColor = "calculated", this.taskTextOutsideColor = this.taskTextDarkColor, this.taskTextClickableColor = "calculated", this.activeTaskBorderColor = "calculated", this.activeTaskBkgColor = "calculated", this.gridColor = "calculated", this.doneTaskBkgColor = "calculated", this.doneTaskBorderColor = "calculated", this.critBorderColor = "calculated", this.critBkgColor = "calculated", this.todayLineColor = "calculated", this.sectionBkgColor = rK(102, 102, 255, 0.49), this.altSectionBkgColor = "white", this.sectionBkgColor2 = "#fff400", this.taskBorderColor = "#534fbc", this.taskBkgColor = "#8a90dd", this.taskTextLightColor = "white", this.taskTextColor = "calculated", this.taskTextDarkColor = "black", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = "#534fbc", this.activeTaskBkgColor = "#bfc7ff", this.gridColor = "lightgrey", this.doneTaskBkgColor = "lightgrey", this.doneTaskBorderColor = "grey", this.critBorderColor = "#ff8888", this.critBkgColor = "red", this.todayLineColor = "red", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "black", this.errorBkgColor = "#552222", this.errorTextColor = "#552222", this.updateColors();
  }
  updateColors() {
    var t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10;
    this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || r5(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || r5(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || r5(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || r5(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || r5(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || r5(this.primaryColor, { h: 210 }), this.cScale9 = this.cScale9 || r5(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || r5(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || r5(this.primaryColor, { h: 330 }), this.cScalePeer1 = this.cScalePeer1 || r4(this.secondaryColor, 45), this.cScalePeer2 = this.cScalePeer2 || r4(this.tertiaryColor, 40);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScale" + t34] = r4(this["cScale" + t34], 10), this["cScalePeer" + t34] = this["cScalePeer" + t34] || r4(this["cScale" + t34], 25);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleInv" + t34] = this["cScaleInv" + t34] || r5(this["cScale" + t34], { h: 180 });
    for (let t34 = 0; t34 < 5; t34++) this["surface" + t34] = this["surface" + t34] || r5(this.mainBkg, { h: 30, l: -(5 + 5 * t34) }), this["surfacePeer" + t34] = this["surfacePeer" + t34] || r5(this.mainBkg, { h: 30, l: -(7 + 5 * t34) });
    if (this.scaleLabelColor = "calculated" !== this.scaleLabelColor && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor, "calculated" !== this.labelTextColor) {
      this.cScaleLabel0 = this.cScaleLabel0 || r6(this.labelTextColor), this.cScaleLabel3 = this.cScaleLabel3 || r6(this.labelTextColor);
      for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleLabel" + t34] = this["cScaleLabel" + t34] || this.labelTextColor;
    }
    this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.titleColor = this.textColor, this.edgeLabelBackground = this.labelBackground, this.actorBorder = r2(this.border1, 23), this.actorBkg = this.mainBkg, this.labelBoxBkgColor = this.actorBkg, this.signalColor = this.textColor, this.signalTextColor = this.textColor, this.labelBoxBorderColor = this.actorBorder, this.labelTextColor = this.actorTextColor, this.loopTextColor = this.actorTextColor, this.noteBorderColor = this.border2, this.noteTextColor = this.actorTextColor, this.actorLineColor = this.actorBorder, this.taskTextColor = this.taskTextLightColor, this.taskTextOutsideColor = this.taskTextDarkColor, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#f0f0f0", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.nodeBorder, this.specialStateColor = this.lineColor, this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.transitionColor = this.transitionColor || this.lineColor, this.classText = this.primaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = r5(this.primaryColor, { h: 64 }), this.fillType3 = r5(this.secondaryColor, { h: 64 }), this.fillType4 = r5(this.primaryColor, { h: -64 }), this.fillType5 = r5(this.secondaryColor, { h: -64 }), this.fillType6 = r5(this.primaryColor, { h: 128 }), this.fillType7 = r5(this.secondaryColor, { h: 128 }), this.pie1 = this.pie1 || this.primaryColor, this.pie2 = this.pie2 || this.secondaryColor, this.pie3 = this.pie3 || r5(this.tertiaryColor, { l: -40 }), this.pie4 = this.pie4 || r5(this.primaryColor, { l: -10 }), this.pie5 = this.pie5 || r5(this.secondaryColor, { l: -30 }), this.pie6 = this.pie6 || r5(this.tertiaryColor, { l: -20 }), this.pie7 = this.pie7 || r5(this.primaryColor, { h: 60, l: -20 }), this.pie8 = this.pie8 || r5(this.primaryColor, { h: -60, l: -40 }), this.pie9 = this.pie9 || r5(this.primaryColor, { h: 120, l: -40 }), this.pie10 = this.pie10 || r5(this.primaryColor, { h: 60, l: -40 }), this.pie11 = this.pie11 || r5(this.primaryColor, { h: -90, l: -40 }), this.pie12 = this.pie12 || r5(this.primaryColor, { h: 120, l: -30 }), this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || r5(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || r5(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || r5(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || r5(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || r5(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || r5(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || r0(this.quadrant1Fill) ? r2(this.quadrant1Fill) : r4(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (t33 = this.xyChart) || void 0 === t33 ? void 0 : t33.backgroundColor) || this.background, titleColor: (null === (e10 = this.xyChart) || void 0 === e10 ? void 0 : e10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || this.labelBackground, this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = this.git0 || this.primaryColor, this.git1 = this.git1 || this.secondaryColor, this.git2 = this.git2 || this.tertiaryColor, this.git3 = this.git3 || r5(this.primaryColor, { h: -30 }), this.git4 = this.git4 || r5(this.primaryColor, { h: -60 }), this.git5 = this.git5 || r5(this.primaryColor, { h: -90 }), this.git6 = this.git6 || r5(this.primaryColor, { h: 60 }), this.git7 = this.git7 || r5(this.primaryColor, { h: 120 }), this.darkMode ? (this.git0 = r2(this.git0, 25), this.git1 = r2(this.git1, 25), this.git2 = r2(this.git2, 25), this.git3 = r2(this.git3, 25), this.git4 = r2(this.git4, 25), this.git5 = r2(this.git5, 25), this.git6 = r2(this.git6, 25), this.git7 = r2(this.git7, 25)) : (this.git0 = r4(this.git0, 25), this.git1 = r4(this.git1, 25), this.git2 = r4(this.git2, 25), this.git3 = r4(this.git3, 25), this.git4 = r4(this.git4, 25), this.git5 = r4(this.git5, 25), this.git6 = r4(this.git6, 25), this.git7 = r4(this.git7, 25)), this.gitInv0 = this.gitInv0 || r4(r6(this.git0), 25), this.gitInv1 = this.gitInv1 || r6(this.git1), this.gitInv2 = this.gitInv2 || r6(this.git2), this.gitInv3 = this.gitInv3 || r6(this.git3), this.gitInv4 = this.gitInv4 || r6(this.git4), this.gitInv5 = this.gitInv5 || r6(this.git5), this.gitInv6 = this.gitInv6 || r6(this.git6), this.gitInv7 = this.gitInv7 || r6(this.git7), this.gitBranchLabel0 = this.gitBranchLabel0 || r6(this.labelTextColor), this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor, this.gitBranchLabel3 = this.gitBranchLabel3 || r6(this.labelTextColor), this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ni, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || nn;
  }
  calculate(t33) {
    if ("object" != typeof t33) {
      this.updateColors();
      return;
    }
    let e10 = Object.keys(t33);
    e10.forEach((e11) => {
      this[e11] = t33[e11];
    }), this.updateColors(), e10.forEach((e11) => {
      this[e11] = t33[e11];
    });
  }
}, _n5 = new WeakMap(), __privateAdd(_d2, _n5, iZ(_d2, "Theme")), _d2), nu = iZ((t33) => {
  let e10 = new nc();
  return e10.calculate(t33), e10;
}, "getThemeVariables"), nd = (_e3 = class {
  constructor() {
    this.background = "#f4f4f4", this.primaryColor = "#cde498", this.secondaryColor = "#cdffb2", this.background = "white", this.mainBkg = "#cde498", this.secondBkg = "#cdffb2", this.lineColor = "green", this.border1 = "#13540c", this.border2 = "#6eaa49", this.arrowheadColor = "green", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.tertiaryColor = r2("#cde498", 10), this.primaryBorderColor = na(this.primaryColor, this.darkMode), this.secondaryBorderColor = na(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = na(this.tertiaryColor, this.darkMode), this.primaryTextColor = r6(this.primaryColor), this.secondaryTextColor = r6(this.secondaryColor), this.tertiaryTextColor = r6(this.primaryColor), this.lineColor = r6(this.background), this.textColor = r6(this.background), this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "#333", this.edgeLabelBackground = "#e8e8e8", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "black", this.actorLineColor = "calculated", this.signalColor = "#333", this.signalTextColor = "#333", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "#326932", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "#fff5ad", this.noteTextColor = "calculated", this.activationBorderColor = "#666", this.activationBkgColor = "#f4f4f4", this.sequenceNumberColor = "white", this.sectionBkgColor = "#6eaa49", this.altSectionBkgColor = "white", this.sectionBkgColor2 = "#6eaa49", this.excludeBkgColor = "#eeeeee", this.taskBorderColor = "calculated", this.taskBkgColor = "#487e3a", this.taskTextLightColor = "white", this.taskTextColor = "calculated", this.taskTextDarkColor = "black", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = "calculated", this.activeTaskBkgColor = "calculated", this.gridColor = "lightgrey", this.doneTaskBkgColor = "lightgrey", this.doneTaskBorderColor = "grey", this.critBorderColor = "#ff8888", this.critBkgColor = "red", this.todayLineColor = "red", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "black", this.errorBkgColor = "#552222", this.errorTextColor = "#552222";
  }
  updateColors() {
    var t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10;
    this.actorBorder = r4(this.mainBkg, 20), this.actorBkg = this.mainBkg, this.labelBoxBkgColor = this.actorBkg, this.labelTextColor = this.actorTextColor, this.loopTextColor = this.actorTextColor, this.noteBorderColor = this.border2, this.noteTextColor = this.actorTextColor, this.actorLineColor = this.actorBorder, this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || r5(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || r5(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || r5(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || r5(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || r5(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || r5(this.primaryColor, { h: 210 }), this.cScale9 = this.cScale9 || r5(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || r5(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || r5(this.primaryColor, { h: 330 }), this.cScalePeer1 = this.cScalePeer1 || r4(this.secondaryColor, 45), this.cScalePeer2 = this.cScalePeer2 || r4(this.tertiaryColor, 40);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScale" + t34] = r4(this["cScale" + t34], 10), this["cScalePeer" + t34] = this["cScalePeer" + t34] || r4(this["cScale" + t34], 25);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleInv" + t34] = this["cScaleInv" + t34] || r5(this["cScale" + t34], { h: 180 });
    this.scaleLabelColor = "calculated" !== this.scaleLabelColor && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleLabel" + t34] = this["cScaleLabel" + t34] || this.scaleLabelColor;
    for (let t34 = 0; t34 < 5; t34++) this["surface" + t34] = this["surface" + t34] || r5(this.mainBkg, { h: 30, s: -30, l: -(5 + 5 * t34) }), this["surfacePeer" + t34] = this["surfacePeer" + t34] || r5(this.mainBkg, { h: 30, s: -30, l: -(8 + 5 * t34) });
    this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.taskBorderColor = this.border1, this.taskTextColor = this.taskTextLightColor, this.taskTextOutsideColor = this.taskTextDarkColor, this.activeTaskBorderColor = this.taskBorderColor, this.activeTaskBkgColor = this.mainBkg, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#f0f0f0", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.primaryBorderColor, this.specialStateColor = this.lineColor, this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.transitionColor = this.transitionColor || this.lineColor, this.classText = this.primaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = r5(this.primaryColor, { h: 64 }), this.fillType3 = r5(this.secondaryColor, { h: 64 }), this.fillType4 = r5(this.primaryColor, { h: -64 }), this.fillType5 = r5(this.secondaryColor, { h: -64 }), this.fillType6 = r5(this.primaryColor, { h: 128 }), this.fillType7 = r5(this.secondaryColor, { h: 128 }), this.pie1 = this.pie1 || this.primaryColor, this.pie2 = this.pie2 || this.secondaryColor, this.pie3 = this.pie3 || this.tertiaryColor, this.pie4 = this.pie4 || r5(this.primaryColor, { l: -30 }), this.pie5 = this.pie5 || r5(this.secondaryColor, { l: -30 }), this.pie6 = this.pie6 || r5(this.tertiaryColor, { h: 40, l: -40 }), this.pie7 = this.pie7 || r5(this.primaryColor, { h: 60, l: -10 }), this.pie8 = this.pie8 || r5(this.primaryColor, { h: -60, l: -10 }), this.pie9 = this.pie9 || r5(this.primaryColor, { h: 120, l: 0 }), this.pie10 = this.pie10 || r5(this.primaryColor, { h: 60, l: -50 }), this.pie11 = this.pie11 || r5(this.primaryColor, { h: -60, l: -50 }), this.pie12 = this.pie12 || r5(this.primaryColor, { h: 120, l: -50 }), this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || r5(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || r5(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || r5(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || r5(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || r5(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || r5(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || r0(this.quadrant1Fill) ? r2(this.quadrant1Fill) : r4(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.packet = { startByteColor: this.primaryTextColor, endByteColor: this.primaryTextColor, labelColor: this.primaryTextColor, titleColor: this.primaryTextColor, blockStrokeColor: this.primaryTextColor, blockFillColor: this.mainBkg }, this.xyChart = { backgroundColor: (null === (t33 = this.xyChart) || void 0 === t33 ? void 0 : t33.backgroundColor) || this.background, titleColor: (null === (e10 = this.xyChart) || void 0 === e10 ? void 0 : e10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground, this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = this.git0 || this.primaryColor, this.git1 = this.git1 || this.secondaryColor, this.git2 = this.git2 || this.tertiaryColor, this.git3 = this.git3 || r5(this.primaryColor, { h: -30 }), this.git4 = this.git4 || r5(this.primaryColor, { h: -60 }), this.git5 = this.git5 || r5(this.primaryColor, { h: -90 }), this.git6 = this.git6 || r5(this.primaryColor, { h: 60 }), this.git7 = this.git7 || r5(this.primaryColor, { h: 120 }), this.darkMode ? (this.git0 = r2(this.git0, 25), this.git1 = r2(this.git1, 25), this.git2 = r2(this.git2, 25), this.git3 = r2(this.git3, 25), this.git4 = r2(this.git4, 25), this.git5 = r2(this.git5, 25), this.git6 = r2(this.git6, 25), this.git7 = r2(this.git7, 25)) : (this.git0 = r4(this.git0, 25), this.git1 = r4(this.git1, 25), this.git2 = r4(this.git2, 25), this.git3 = r4(this.git3, 25), this.git4 = r4(this.git4, 25), this.git5 = r4(this.git5, 25), this.git6 = r4(this.git6, 25), this.git7 = r4(this.git7, 25)), this.gitInv0 = this.gitInv0 || r6(this.git0), this.gitInv1 = this.gitInv1 || r6(this.git1), this.gitInv2 = this.gitInv2 || r6(this.git2), this.gitInv3 = this.gitInv3 || r6(this.git3), this.gitInv4 = this.gitInv4 || r6(this.git4), this.gitInv5 = this.gitInv5 || r6(this.git5), this.gitInv6 = this.gitInv6 || r6(this.git6), this.gitInv7 = this.gitInv7 || r6(this.git7), this.gitBranchLabel0 = this.gitBranchLabel0 || r6(this.labelTextColor), this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor, this.gitBranchLabel3 = this.gitBranchLabel3 || r6(this.labelTextColor), this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ni, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || nn;
  }
  calculate(t33) {
    if ("object" != typeof t33) {
      this.updateColors();
      return;
    }
    let e10 = Object.keys(t33);
    e10.forEach((e11) => {
      this[e11] = t33[e11];
    }), this.updateColors(), e10.forEach((e11) => {
      this[e11] = t33[e11];
    });
  }
}, _n6 = new WeakMap(), __privateAdd(_e3, _n6, iZ(_e3, "Theme")), _e3), np = iZ((t33) => {
  let e10 = new nd();
  return e10.calculate(t33), e10;
}, "getThemeVariables"), ng = (_f2 = class {
  constructor() {
    this.primaryColor = "#eee", this.contrast = "#707070", this.secondaryColor = r2(this.contrast, 55), this.background = "#ffffff", this.tertiaryColor = r5(this.primaryColor, { h: -160 }), this.primaryBorderColor = na(this.primaryColor, this.darkMode), this.secondaryBorderColor = na(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = na(this.tertiaryColor, this.darkMode), this.primaryTextColor = r6(this.primaryColor), this.secondaryTextColor = r6(this.secondaryColor), this.tertiaryTextColor = r6(this.tertiaryColor), this.lineColor = r6(this.background), this.textColor = r6(this.background), this.mainBkg = "#eee", this.secondBkg = "calculated", this.lineColor = "#666", this.border1 = "#999", this.border2 = "calculated", this.note = "#ffa", this.text = "#333", this.critical = "#d42", this.done = "#bbb", this.arrowheadColor = "#333333", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "calculated", this.edgeLabelBackground = "white", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "calculated", this.actorLineColor = this.actorBorder, this.signalColor = "calculated", this.signalTextColor = "calculated", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "calculated", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "calculated", this.noteTextColor = "calculated", this.activationBorderColor = "#666", this.activationBkgColor = "#f4f4f4", this.sequenceNumberColor = "white", this.sectionBkgColor = "calculated", this.altSectionBkgColor = "white", this.sectionBkgColor2 = "calculated", this.excludeBkgColor = "#eeeeee", this.taskBorderColor = "calculated", this.taskBkgColor = "calculated", this.taskTextLightColor = "white", this.taskTextColor = "calculated", this.taskTextDarkColor = "calculated", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = "calculated", this.activeTaskBkgColor = "calculated", this.gridColor = "calculated", this.doneTaskBkgColor = "calculated", this.doneTaskBorderColor = "calculated", this.critBkgColor = "calculated", this.critBorderColor = "calculated", this.todayLineColor = "calculated", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "black", this.errorBkgColor = "#552222", this.errorTextColor = "#552222";
  }
  updateColors() {
    var t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10;
    this.secondBkg = r2(this.contrast, 55), this.border2 = this.contrast, this.actorBorder = r2(this.border1, 23), this.actorBkg = this.mainBkg, this.actorTextColor = this.text, this.actorLineColor = this.actorBorder, this.signalColor = this.text, this.signalTextColor = this.text, this.labelBoxBkgColor = this.actorBkg, this.labelBoxBorderColor = this.actorBorder, this.labelTextColor = this.text, this.loopTextColor = this.text, this.noteBorderColor = "#999", this.noteBkgColor = "#666", this.noteTextColor = "#fff", this.cScale0 = this.cScale0 || "#555", this.cScale1 = this.cScale1 || "#F4F4F4", this.cScale2 = this.cScale2 || "#555", this.cScale3 = this.cScale3 || "#BBB", this.cScale4 = this.cScale4 || "#777", this.cScale5 = this.cScale5 || "#999", this.cScale6 = this.cScale6 || "#DDD", this.cScale7 = this.cScale7 || "#FFF", this.cScale8 = this.cScale8 || "#DDD", this.cScale9 = this.cScale9 || "#BBB", this.cScale10 = this.cScale10 || "#999", this.cScale11 = this.cScale11 || "#777";
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleInv" + t34] = this["cScaleInv" + t34] || r6(this["cScale" + t34]);
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this.darkMode ? this["cScalePeer" + t34] = this["cScalePeer" + t34] || r2(this["cScale" + t34], 10) : this["cScalePeer" + t34] = this["cScalePeer" + t34] || r4(this["cScale" + t34], 10);
    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor), this.cScaleLabel0 = this.cScaleLabel0 || this.cScale1, this.cScaleLabel2 = this.cScaleLabel2 || this.cScale1;
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["cScaleLabel" + t34] = this["cScaleLabel" + t34] || this.scaleLabelColor;
    for (let t34 = 0; t34 < 5; t34++) this["surface" + t34] = this["surface" + t34] || r5(this.mainBkg, { l: -(5 + 5 * t34) }), this["surfacePeer" + t34] = this["surfacePeer" + t34] || r5(this.mainBkg, { l: -(8 + 5 * t34) });
    this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.titleColor = this.text, this.sectionBkgColor = r2(this.contrast, 30), this.sectionBkgColor2 = r2(this.contrast, 30), this.taskBorderColor = r4(this.contrast, 10), this.taskBkgColor = this.contrast, this.taskTextColor = this.taskTextLightColor, this.taskTextDarkColor = this.text, this.taskTextOutsideColor = this.taskTextDarkColor, this.activeTaskBorderColor = this.taskBorderColor, this.activeTaskBkgColor = this.mainBkg, this.gridColor = r2(this.border1, 30), this.doneTaskBkgColor = this.done, this.doneTaskBorderColor = this.lineColor, this.critBkgColor = this.critical, this.critBorderColor = r4(this.critBkgColor, 10), this.todayLineColor = this.critBkgColor, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || "#000", this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#f4f4f4", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.stateBorder = this.stateBorder || "#000", this.innerEndBackground = this.primaryBorderColor, this.specialStateColor = "#222", this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.classText = this.primaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = r5(this.primaryColor, { h: 64 }), this.fillType3 = r5(this.secondaryColor, { h: 64 }), this.fillType4 = r5(this.primaryColor, { h: -64 }), this.fillType5 = r5(this.secondaryColor, { h: -64 }), this.fillType6 = r5(this.primaryColor, { h: 128 }), this.fillType7 = r5(this.secondaryColor, { h: 128 });
    for (let t34 = 0; t34 < this.THEME_COLOR_LIMIT; t34++) this["pie" + t34] = this["cScale" + t34];
    this.pie12 = this.pie0, this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || r5(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || r5(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || r5(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || r5(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || r5(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || r5(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || r0(this.quadrant1Fill) ? r2(this.quadrant1Fill) : r4(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (t33 = this.xyChart) || void 0 === t33 ? void 0 : t33.backgroundColor) || this.background, titleColor: (null === (e10 = this.xyChart) || void 0 === e10 ? void 0 : e10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground, this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = r4(this.pie1, 25) || this.primaryColor, this.git1 = this.pie2 || this.secondaryColor, this.git2 = this.pie3 || this.tertiaryColor, this.git3 = this.pie4 || r5(this.primaryColor, { h: -30 }), this.git4 = this.pie5 || r5(this.primaryColor, { h: -60 }), this.git5 = this.pie6 || r5(this.primaryColor, { h: -90 }), this.git6 = this.pie7 || r5(this.primaryColor, { h: 60 }), this.git7 = this.pie8 || r5(this.primaryColor, { h: 120 }), this.gitInv0 = this.gitInv0 || r6(this.git0), this.gitInv1 = this.gitInv1 || r6(this.git1), this.gitInv2 = this.gitInv2 || r6(this.git2), this.gitInv3 = this.gitInv3 || r6(this.git3), this.gitInv4 = this.gitInv4 || r6(this.git4), this.gitInv5 = this.gitInv5 || r6(this.git5), this.gitInv6 = this.gitInv6 || r6(this.git6), this.gitInv7 = this.gitInv7 || r6(this.git7), this.branchLabelColor = this.branchLabelColor || this.labelTextColor, this.gitBranchLabel0 = this.branchLabelColor, this.gitBranchLabel1 = "white", this.gitBranchLabel2 = this.branchLabelColor, this.gitBranchLabel3 = "white", this.gitBranchLabel4 = this.branchLabelColor, this.gitBranchLabel5 = this.branchLabelColor, this.gitBranchLabel6 = this.branchLabelColor, this.gitBranchLabel7 = this.branchLabelColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ni, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || nn;
  }
  calculate(t33) {
    if ("object" != typeof t33) {
      this.updateColors();
      return;
    }
    let e10 = Object.keys(t33);
    e10.forEach((e11) => {
      this[e11] = t33[e11];
    }), this.updateColors(), e10.forEach((e11) => {
      this[e11] = t33[e11];
    });
  }
}, _n7 = new WeakMap(), __privateAdd(_f2, _n7, iZ(_f2, "Theme")), _f2), nf = { base: { getThemeVariables: ns }, dark: { getThemeVariables: nh }, default: { getThemeVariables: nu }, forest: { getThemeVariables: np }, neutral: { getThemeVariables: iZ((t33) => {
  let e10 = new ng();
  return e10.calculate(t33), e10;
}, "getThemeVariables") } }, nm = { flowchart: { useMaxWidth: true, titleTopMargin: 25, subGraphTitleMargin: { top: 0, bottom: 0 }, diagramPadding: 8, htmlLabels: true, nodeSpacing: 50, rankSpacing: 50, curve: "basis", padding: 15, defaultRenderer: "dagre-wrapper", wrappingWidth: 200 }, sequence: { useMaxWidth: true, hideUnusedParticipants: false, activationWidth: 10, diagramMarginX: 50, diagramMarginY: 10, actorMargin: 50, width: 150, height: 65, boxMargin: 10, boxTextMargin: 5, noteMargin: 10, messageMargin: 35, messageAlign: "center", mirrorActors: true, forceMenus: false, bottomMarginAdj: 1, rightAngles: false, showSequenceNumbers: false, actorFontSize: 14, actorFontFamily: '"Open Sans", sans-serif', actorFontWeight: 400, noteFontSize: 14, noteFontFamily: '"trebuchet ms", verdana, arial, sans-serif', noteFontWeight: 400, noteAlign: "center", messageFontSize: 16, messageFontFamily: '"trebuchet ms", verdana, arial, sans-serif', messageFontWeight: 400, wrap: false, wrapPadding: 10, labelBoxWidth: 50, labelBoxHeight: 20 }, gantt: { useMaxWidth: true, titleTopMargin: 25, barHeight: 20, barGap: 4, topPadding: 50, rightPadding: 75, leftPadding: 75, gridLineStartPadding: 35, fontSize: 11, sectionFontSize: 11, numberSectionStyles: 4, axisFormat: "%Y-%m-%d", topAxis: false, displayMode: "", weekday: "sunday" }, journey: { useMaxWidth: true, diagramMarginX: 50, diagramMarginY: 10, leftMargin: 150, width: 150, height: 50, boxMargin: 10, boxTextMargin: 5, noteMargin: 10, messageMargin: 35, messageAlign: "center", bottomMarginAdj: 1, rightAngles: false, taskFontSize: 14, taskFontFamily: '"Open Sans", sans-serif', taskMargin: 50, activationWidth: 10, textPlacement: "fo", actorColours: ["#8FBC8F", "#7CFC00", "#00FFFF", "#20B2AA", "#B0E0E6", "#FFFFE0"], sectionFills: ["#191970", "#8B008B", "#4B0082", "#2F4F4F", "#800000", "#8B4513", "#00008B"], sectionColours: ["#fff"] }, class: { useMaxWidth: true, titleTopMargin: 25, arrowMarkerAbsolute: false, dividerMargin: 10, padding: 5, textHeight: 10, defaultRenderer: "dagre-wrapper", htmlLabels: false, hideEmptyMembersBox: false }, state: { useMaxWidth: true, titleTopMargin: 25, dividerMargin: 10, sizeUnit: 5, padding: 8, textHeight: 10, titleShift: -15, noteMargin: 10, forkWidth: 70, forkHeight: 7, miniPadding: 2, fontSizeFactor: 5.02, fontSize: 24, labelHeight: 16, edgeLengthFactor: "20", compositTitleSize: 35, radius: 5, defaultRenderer: "dagre-wrapper" }, er: { useMaxWidth: true, titleTopMargin: 25, diagramPadding: 20, layoutDirection: "TB", minEntityWidth: 100, minEntityHeight: 75, entityPadding: 15, stroke: "gray", fill: "honeydew", fontSize: 12 }, pie: { useMaxWidth: true, textPosition: 0.75 }, quadrantChart: { useMaxWidth: true, chartWidth: 500, chartHeight: 500, titleFontSize: 20, titlePadding: 10, quadrantPadding: 5, xAxisLabelPadding: 5, yAxisLabelPadding: 5, xAxisLabelFontSize: 16, yAxisLabelFontSize: 16, quadrantLabelFontSize: 16, quadrantTextTopPadding: 5, pointTextPadding: 5, pointLabelFontSize: 12, pointRadius: 5, xAxisPosition: "top", yAxisPosition: "left", quadrantInternalBorderStrokeWidth: 1, quadrantExternalBorderStrokeWidth: 2 }, xyChart: { useMaxWidth: true, width: 700, height: 500, titleFontSize: 20, titlePadding: 10, showTitle: true, xAxis: { $ref: "#/$defs/XYChartAxisConfig", showLabel: true, labelFontSize: 14, labelPadding: 5, showTitle: true, titleFontSize: 16, titlePadding: 5, showTick: true, tickLength: 5, tickWidth: 2, showAxisLine: true, axisLineWidth: 2 }, yAxis: { $ref: "#/$defs/XYChartAxisConfig", showLabel: true, labelFontSize: 14, labelPadding: 5, showTitle: true, titleFontSize: 16, titlePadding: 5, showTick: true, tickLength: 5, tickWidth: 2, showAxisLine: true, axisLineWidth: 2 }, chartOrientation: "vertical", plotReservedSpacePercent: 50 }, requirement: { useMaxWidth: true, rect_fill: "#f9f9f9", text_color: "#333", rect_border_size: "0.5px", rect_border_color: "#bbb", rect_min_width: 200, rect_min_height: 200, fontSize: 14, rect_padding: 10, line_height: 20 }, mindmap: { useMaxWidth: true, padding: 10, maxNodeWidth: 200 }, kanban: { useMaxWidth: true, padding: 8, sectionWidth: 200, ticketBaseUrl: "" }, timeline: { useMaxWidth: true, diagramMarginX: 50, diagramMarginY: 10, leftMargin: 150, width: 150, height: 50, boxMargin: 10, boxTextMargin: 5, noteMargin: 10, messageMargin: 35, messageAlign: "center", bottomMarginAdj: 1, rightAngles: false, taskFontSize: 14, taskFontFamily: '"Open Sans", sans-serif', taskMargin: 50, activationWidth: 10, textPlacement: "fo", actorColours: ["#8FBC8F", "#7CFC00", "#00FFFF", "#20B2AA", "#B0E0E6", "#FFFFE0"], sectionFills: ["#191970", "#8B008B", "#4B0082", "#2F4F4F", "#800000", "#8B4513", "#00008B"], sectionColours: ["#fff"], disableMulticolor: false }, gitGraph: { useMaxWidth: true, titleTopMargin: 25, diagramPadding: 8, nodeLabel: { width: 75, height: 100, x: -25, y: 0 }, mainBranchName: "main", mainBranchOrder: 0, showCommitLabel: true, showBranches: true, rotateCommitLabel: true, parallelCommits: false, arrowMarkerAbsolute: false }, c4: { useMaxWidth: true, diagramMarginX: 50, diagramMarginY: 10, c4ShapeMargin: 50, c4ShapePadding: 20, width: 216, height: 60, boxMargin: 10, c4ShapeInRow: 4, nextLinePaddingX: 0, c4BoundaryInRow: 2, personFontSize: 14, personFontFamily: '"Open Sans", sans-serif', personFontWeight: "normal", external_personFontSize: 14, external_personFontFamily: '"Open Sans", sans-serif', external_personFontWeight: "normal", systemFontSize: 14, systemFontFamily: '"Open Sans", sans-serif', systemFontWeight: "normal", external_systemFontSize: 14, external_systemFontFamily: '"Open Sans", sans-serif', external_systemFontWeight: "normal", system_dbFontSize: 14, system_dbFontFamily: '"Open Sans", sans-serif', system_dbFontWeight: "normal", external_system_dbFontSize: 14, external_system_dbFontFamily: '"Open Sans", sans-serif', external_system_dbFontWeight: "normal", system_queueFontSize: 14, system_queueFontFamily: '"Open Sans", sans-serif', system_queueFontWeight: "normal", external_system_queueFontSize: 14, external_system_queueFontFamily: '"Open Sans", sans-serif', external_system_queueFontWeight: "normal", boundaryFontSize: 14, boundaryFontFamily: '"Open Sans", sans-serif', boundaryFontWeight: "normal", messageFontSize: 12, messageFontFamily: '"Open Sans", sans-serif', messageFontWeight: "normal", containerFontSize: 14, containerFontFamily: '"Open Sans", sans-serif', containerFontWeight: "normal", external_containerFontSize: 14, external_containerFontFamily: '"Open Sans", sans-serif', external_containerFontWeight: "normal", container_dbFontSize: 14, container_dbFontFamily: '"Open Sans", sans-serif', container_dbFontWeight: "normal", external_container_dbFontSize: 14, external_container_dbFontFamily: '"Open Sans", sans-serif', external_container_dbFontWeight: "normal", container_queueFontSize: 14, container_queueFontFamily: '"Open Sans", sans-serif', container_queueFontWeight: "normal", external_container_queueFontSize: 14, external_container_queueFontFamily: '"Open Sans", sans-serif', external_container_queueFontWeight: "normal", componentFontSize: 14, componentFontFamily: '"Open Sans", sans-serif', componentFontWeight: "normal", external_componentFontSize: 14, external_componentFontFamily: '"Open Sans", sans-serif', external_componentFontWeight: "normal", component_dbFontSize: 14, component_dbFontFamily: '"Open Sans", sans-serif', component_dbFontWeight: "normal", external_component_dbFontSize: 14, external_component_dbFontFamily: '"Open Sans", sans-serif', external_component_dbFontWeight: "normal", component_queueFontSize: 14, component_queueFontFamily: '"Open Sans", sans-serif', component_queueFontWeight: "normal", external_component_queueFontSize: 14, external_component_queueFontFamily: '"Open Sans", sans-serif', external_component_queueFontWeight: "normal", wrap: true, wrapPadding: 10, person_bg_color: "#08427B", person_border_color: "#073B6F", external_person_bg_color: "#686868", external_person_border_color: "#8A8A8A", system_bg_color: "#1168BD", system_border_color: "#3C7FC0", system_db_bg_color: "#1168BD", system_db_border_color: "#3C7FC0", system_queue_bg_color: "#1168BD", system_queue_border_color: "#3C7FC0", external_system_bg_color: "#999999", external_system_border_color: "#8A8A8A", external_system_db_bg_color: "#999999", external_system_db_border_color: "#8A8A8A", external_system_queue_bg_color: "#999999", external_system_queue_border_color: "#8A8A8A", container_bg_color: "#438DD5", container_border_color: "#3C7FC0", container_db_bg_color: "#438DD5", container_db_border_color: "#3C7FC0", container_queue_bg_color: "#438DD5", container_queue_border_color: "#3C7FC0", external_container_bg_color: "#B3B3B3", external_container_border_color: "#A6A6A6", external_container_db_bg_color: "#B3B3B3", external_container_db_border_color: "#A6A6A6", external_container_queue_bg_color: "#B3B3B3", external_container_queue_border_color: "#A6A6A6", component_bg_color: "#85BBF0", component_border_color: "#78A8D8", component_db_bg_color: "#85BBF0", component_db_border_color: "#78A8D8", component_queue_bg_color: "#85BBF0", component_queue_border_color: "#78A8D8", external_component_bg_color: "#CCCCCC", external_component_border_color: "#BFBFBF", external_component_db_bg_color: "#CCCCCC", external_component_db_border_color: "#BFBFBF", external_component_queue_bg_color: "#CCCCCC", external_component_queue_border_color: "#BFBFBF" }, sankey: { useMaxWidth: true, width: 600, height: 400, linkColor: "gradient", nodeAlignment: "justify", showValues: true, prefix: "", suffix: "" }, block: { useMaxWidth: true, padding: 8 }, packet: { useMaxWidth: true, rowHeight: 32, bitWidth: 32, bitsPerRow: 32, showBits: true, paddingX: 5, paddingY: 5 }, architecture: { useMaxWidth: true, padding: 40, iconSize: 80, fontSize: 16 }, theme: "default", look: "classic", handDrawnSeed: 0, layout: "dagre", maxTextSize: 5e4, maxEdges: 500, darkMode: false, fontFamily: '"trebuchet ms", verdana, arial, sans-serif;', logLevel: 5, securityLevel: "strict", startOnLoad: true, arrowMarkerAbsolute: false, secure: ["secure", "securityLevel", "startOnLoad", "maxTextSize", "suppressErrorRendering", "maxEdges"], legacyMathML: false, forceLegacyMathML: false, deterministicIds: false, fontSize: 16, markdownAutoWrap: true, suppressErrorRendering: false }, ny = { ...nm, deterministicIDSeed: void 0, elk: { mergeEdges: false, nodePlacementStrategy: "BRANDES_KOEPF" }, themeCSS: void 0, themeVariables: nf.default.getThemeVariables(), sequence: { ...nm.sequence, messageFont: iZ(function() {
  return { fontFamily: this.messageFontFamily, fontSize: this.messageFontSize, fontWeight: this.messageFontWeight };
}, "messageFont"), noteFont: iZ(function() {
  return { fontFamily: this.noteFontFamily, fontSize: this.noteFontSize, fontWeight: this.noteFontWeight };
}, "noteFont"), actorFont: iZ(function() {
  return { fontFamily: this.actorFontFamily, fontSize: this.actorFontSize, fontWeight: this.actorFontWeight };
}, "actorFont") }, class: { hideEmptyMembersBox: false }, gantt: { ...nm.gantt, tickInterval: void 0, useWidth: void 0 }, c4: { ...nm.c4, useWidth: void 0, personFont: iZ(function() {
  return { fontFamily: this.personFontFamily, fontSize: this.personFontSize, fontWeight: this.personFontWeight };
}, "personFont"), external_personFont: iZ(function() {
  return { fontFamily: this.external_personFontFamily, fontSize: this.external_personFontSize, fontWeight: this.external_personFontWeight };
}, "external_personFont"), systemFont: iZ(function() {
  return { fontFamily: this.systemFontFamily, fontSize: this.systemFontSize, fontWeight: this.systemFontWeight };
}, "systemFont"), external_systemFont: iZ(function() {
  return { fontFamily: this.external_systemFontFamily, fontSize: this.external_systemFontSize, fontWeight: this.external_systemFontWeight };
}, "external_systemFont"), system_dbFont: iZ(function() {
  return { fontFamily: this.system_dbFontFamily, fontSize: this.system_dbFontSize, fontWeight: this.system_dbFontWeight };
}, "system_dbFont"), external_system_dbFont: iZ(function() {
  return { fontFamily: this.external_system_dbFontFamily, fontSize: this.external_system_dbFontSize, fontWeight: this.external_system_dbFontWeight };
}, "external_system_dbFont"), system_queueFont: iZ(function() {
  return { fontFamily: this.system_queueFontFamily, fontSize: this.system_queueFontSize, fontWeight: this.system_queueFontWeight };
}, "system_queueFont"), external_system_queueFont: iZ(function() {
  return { fontFamily: this.external_system_queueFontFamily, fontSize: this.external_system_queueFontSize, fontWeight: this.external_system_queueFontWeight };
}, "external_system_queueFont"), containerFont: iZ(function() {
  return { fontFamily: this.containerFontFamily, fontSize: this.containerFontSize, fontWeight: this.containerFontWeight };
}, "containerFont"), external_containerFont: iZ(function() {
  return { fontFamily: this.external_containerFontFamily, fontSize: this.external_containerFontSize, fontWeight: this.external_containerFontWeight };
}, "external_containerFont"), container_dbFont: iZ(function() {
  return { fontFamily: this.container_dbFontFamily, fontSize: this.container_dbFontSize, fontWeight: this.container_dbFontWeight };
}, "container_dbFont"), external_container_dbFont: iZ(function() {
  return { fontFamily: this.external_container_dbFontFamily, fontSize: this.external_container_dbFontSize, fontWeight: this.external_container_dbFontWeight };
}, "external_container_dbFont"), container_queueFont: iZ(function() {
  return { fontFamily: this.container_queueFontFamily, fontSize: this.container_queueFontSize, fontWeight: this.container_queueFontWeight };
}, "container_queueFont"), external_container_queueFont: iZ(function() {
  return { fontFamily: this.external_container_queueFontFamily, fontSize: this.external_container_queueFontSize, fontWeight: this.external_container_queueFontWeight };
}, "external_container_queueFont"), componentFont: iZ(function() {
  return { fontFamily: this.componentFontFamily, fontSize: this.componentFontSize, fontWeight: this.componentFontWeight };
}, "componentFont"), external_componentFont: iZ(function() {
  return { fontFamily: this.external_componentFontFamily, fontSize: this.external_componentFontSize, fontWeight: this.external_componentFontWeight };
}, "external_componentFont"), component_dbFont: iZ(function() {
  return { fontFamily: this.component_dbFontFamily, fontSize: this.component_dbFontSize, fontWeight: this.component_dbFontWeight };
}, "component_dbFont"), external_component_dbFont: iZ(function() {
  return { fontFamily: this.external_component_dbFontFamily, fontSize: this.external_component_dbFontSize, fontWeight: this.external_component_dbFontWeight };
}, "external_component_dbFont"), component_queueFont: iZ(function() {
  return { fontFamily: this.component_queueFontFamily, fontSize: this.component_queueFontSize, fontWeight: this.component_queueFontWeight };
}, "component_queueFont"), external_component_queueFont: iZ(function() {
  return { fontFamily: this.external_component_queueFontFamily, fontSize: this.external_component_queueFontSize, fontWeight: this.external_component_queueFontWeight };
}, "external_component_queueFont"), boundaryFont: iZ(function() {
  return { fontFamily: this.boundaryFontFamily, fontSize: this.boundaryFontSize, fontWeight: this.boundaryFontWeight };
}, "boundaryFont"), messageFont: iZ(function() {
  return { fontFamily: this.messageFontFamily, fontSize: this.messageFontSize, fontWeight: this.messageFontWeight };
}, "messageFont") }, pie: { ...nm.pie, useWidth: 984 }, xyChart: { ...nm.xyChart, useWidth: void 0 }, requirement: { ...nm.requirement, useWidth: void 0 }, packet: { ...nm.packet } }, nv = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
  return Object.keys(t33).reduce((r10, i10) => Array.isArray(t33[i10]) ? r10 : "object" == typeof t33[i10] && null !== t33[i10] ? [...r10, e10 + i10, ...nv(t33[i10], "")] : [...r10, e10 + i10], []);
}, "keyify"), nx = new Set(nv(ny, "")), nb = iZ((t33) => {
  if (i0.debug("sanitizeDirective called with", t33), "object" == typeof t33 && null != t33) {
    if (Array.isArray(t33)) {
      t33.forEach((t34) => nb(t34));
      return;
    }
    for (let e10 of Object.keys(t33)) {
      if (i0.debug("Checking key", e10), e10.startsWith("__") || e10.includes("proto") || e10.includes("constr") || !nx.has(e10) || null == t33[e10]) {
        i0.debug("sanitize deleting key: ", e10), delete t33[e10];
        continue;
      }
      if ("object" == typeof t33[e10]) {
        i0.debug("sanitizing object", e10), nb(t33[e10]);
        continue;
      }
      for (let r10 of ["themeCSS", "fontFamily", "altFontFamily"]) e10.includes(r10) && (i0.debug("sanitizing css option", e10), t33[e10] = nw(t33[e10]));
    }
    if (t33.themeVariables) for (let e10 of Object.keys(t33.themeVariables)) {
      let r10 = t33.themeVariables[e10];
      (null == r10 ? void 0 : r10.match) && !r10.match(/^[\d "#%(),.;A-Za-z]+$/) && (t33.themeVariables[e10] = "");
    }
    i0.debug("After sanitization", t33);
  }
}, "sanitizeDirective"), nw = iZ((t33) => {
  let e10 = 0, r10 = 0;
  for (let i10 of t33) {
    if (e10 < r10) return "{ /* ERROR: Unbalanced CSS */ }";
    "{" === i10 ? e10++ : "}" === i10 && r10++;
  }
  return e10 !== r10 ? "{ /* ERROR: Unbalanced CSS */ }" : t33;
}, "sanitizeCss"), nk = Object.freeze(ny), n_ = nr({}, nk), nT = [], nE = nr({}, nk), nC = iZ((t33, e10) => {
  let r10 = nr({}, t33), i10 = {};
  for (let t34 of e10) nR(t34), i10 = nr(i10, t34);
  if (r10 = nr(r10, i10), i10.theme && i10.theme in nf) {
    let t34 = nr({}, cp), e11 = nr(t34.themeVariables || {}, i10.themeVariables);
    r10.theme && r10.theme in nf && (r10.themeVariables = nf[r10.theme].getThemeVariables(e11));
  }
  return nF(nE = r10), nE;
}, "updateCurrentConfig"), nS = iZ((t33) => (n_ = nr({}, nk), n_ = nr(n_, t33), t33.theme && nf[t33.theme] && (n_.themeVariables = nf[t33.theme].getThemeVariables(t33.themeVariables)), nC(n_, nT), n_), "setSiteConfig"), nA = iZ((t33) => {
  cp = nr({}, t33);
}, "saveConfigFromInitialize"), nL = iZ((t33) => (nC(n_ = nr(n_, t33), nT), n_), "updateSiteConfig"), nN = iZ(() => nr({}, n_), "getSiteConfig"), nI = iZ((t33) => (nF(t33), nr(nE, t33), nM()), "setConfig"), nM = iZ(() => nr({}, nE), "getConfig"), nR = iZ((t33) => {
  var e10;
  t33 && (["secure", ...null !== (e10 = n_.secure) && void 0 !== e10 ? e10 : []].forEach((e11) => {
    Object.hasOwn(t33, e11) && (i0.debug(`Denied attempt to modify a secure key ${e11}`, t33[e11]), delete t33[e11]);
  }), Object.keys(t33).forEach((e11) => {
    e11.startsWith("__") && delete t33[e11];
  }), Object.keys(t33).forEach((e11) => {
    "string" == typeof t33[e11] && (t33[e11].includes("<") || t33[e11].includes(">") || t33[e11].includes("url(data:")) && delete t33[e11], "object" == typeof t33[e11] && nR(t33[e11]);
  }));
}, "sanitize"), nD = iZ((t33) => {
  var e10;
  nb(t33), !t33.fontFamily || (null === (e10 = t33.themeVariables) || void 0 === e10 ? void 0 : e10.fontFamily) || (t33.themeVariables = { ...t33.themeVariables, fontFamily: t33.fontFamily }), nT.push(t33), nC(n_, nT);
}, "addDirective"), nO = iZ(function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : n_;
  nC(t33, nT = []);
}, "reset"), nP = { LAZY_LOAD_DEPRECATED: "The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead." }, n$ = {}, nB = iZ((t33) => {
  n$[t33] || (i0.warn(nP[t33]), n$[t33] = true);
}, "issueWarning"), nF = iZ((t33) => {
  t33 && (t33.lazyLoadedDiagrams || t33.loadExternalDiagramsAtStartup) && nB("LAZY_LOAD_DEPRECATED");
}, "checkConfig"), nz = /<br\s*\/?>/gi, nU = iZ((t33) => t33 ? nZ(t33).replace(/\\n/g, "#br#").split("#br#") : [""], "getRows"), nG = (t = false, () => {
  t || (nq(), t = true);
});
function nq() {
  let t33 = "data-temp-href-target";
  iX.addHook("beforeSanitizeAttributes", (e10) => {
    if (e10 instanceof Element && "A" === e10.tagName && e10.hasAttribute("target")) {
      var r10;
      e10.setAttribute(t33, null !== (r10 = e10.getAttribute("target")) && void 0 !== r10 ? r10 : "");
    }
  }), iX.addHook("afterSanitizeAttributes", (e10) => {
    if (e10 instanceof Element && "A" === e10.tagName && e10.hasAttribute(t33)) {
      var r10;
      e10.setAttribute("target", null !== (r10 = e10.getAttribute(t33)) && void 0 !== r10 ? r10 : ""), e10.removeAttribute(t33), "_blank" === e10.getAttribute("target") && e10.setAttribute("rel", "noopener");
    }
  });
}
iZ(nq, "setupDompurifyHooks");
var nY = iZ((t33) => (nG(), iX.sanitize(t33)), "removeScript"), nH = iZ((t33, e10) => {
  var r10;
  if ((null === (r10 = e10.flowchart) || void 0 === r10 ? void 0 : r10.htmlLabels) !== false) {
    let r11 = e10.securityLevel;
    "antiscript" === r11 || "strict" === r11 ? t33 = nY(t33) : "loose" !== r11 && (t33 = nK(t33 = (t33 = (t33 = nZ(t33)).replace(/</g, "&lt;").replace(/>/g, "&gt;")).replace(/=/g, "&equals;")));
  }
  return t33;
}, "sanitizeMore"), nj = iZ((t33, e10) => t33 ? t33 = e10.dompurifyConfig ? iX.sanitize(nH(t33, e10), e10.dompurifyConfig).toString() : iX.sanitize(nH(t33, e10), { FORBID_TAGS: ["style"] }).toString() : t33, "sanitizeText"), nW = iZ((t33, e10) => "string" == typeof t33 ? nj(t33, e10) : t33.flat().map((t34) => nj(t34, e10)), "sanitizeTextOrArray"), nV = iZ((t33) => nz.test(t33), "hasBreaks"), nX = iZ((t33) => t33.split(nz), "splitBreaks"), nK = iZ((t33) => t33.replace(/#br#/g, "<br/>"), "placeholderToBreak"), nZ = iZ((t33) => t33.replace(nz, "#br#"), "breakToPlaceholder"), nQ = iZ((t33) => {
  let e10 = "";
  return t33 && (e10 = (e10 = (e10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replaceAll(/\(/g, "\\(")).replaceAll(/\)/g, "\\)")), e10;
}, "getUrl"), nJ = iZ((t33) => !(false === t33 || ["false", "null", "0"].includes(String(t33).trim().toLowerCase())), "evaluate"), n0 = iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
  return Math.max(...e10.filter((t34) => !isNaN(t34)));
}, "getMax"), n1 = iZ(function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
  return Math.min(...e10.filter((t34) => !isNaN(t34)));
}, "getMin"), n2 = iZ(function(t33) {
  let e10 = t33.split(/(,)/), r10 = [];
  for (let t34 = 0; t34 < e10.length; t34++) {
    let i10 = e10[t34];
    if ("," === i10 && t34 > 0 && t34 + 1 < e10.length) {
      let n10 = e10[t34 - 1], a10 = e10[t34 + 1];
      n5(n10, a10) && (i10 = n10 + "," + a10, t34++, r10.pop());
    }
    r10.push(n3(i10));
  }
  return r10.join("");
}, "parseGenericTypes"), n4 = iZ((t33, e10) => Math.max(0, t33.split(e10).length - 1), "countOccurrence"), n5 = iZ((t33, e10) => {
  let r10 = n4(t33, "~"), i10 = n4(e10, "~");
  return 1 === r10 && 1 === i10;
}, "shouldCombineSets"), n3 = iZ((t33) => {
  let e10 = n4(t33, "~"), r10 = false;
  if (e10 <= 1) return t33;
  e10 % 2 != 0 && t33.startsWith("~") && (t33 = t33.substring(1), r10 = true);
  let i10 = [...t33], n10 = i10.indexOf("~"), a10 = i10.lastIndexOf("~");
  for (; -1 !== n10 && -1 !== a10 && n10 !== a10; ) i10[n10] = "<", i10[a10] = ">", n10 = i10.indexOf("~"), a10 = i10.lastIndexOf("~");
  return r10 && i10.unshift("~"), i10.join("");
}, "processSet"), n6 = iZ(() => void 0 !== window.MathMLElement, "isMathMLSupported"), n7 = /\$\$(.*)\$\$/g, n8 = iZ((t33) => {
  var e10, r10;
  return (null !== (r10 = null === (e10 = t33.match(n7)) || void 0 === e10 ? void 0 : e10.length) && void 0 !== r10 ? r10 : 0) > 0;
}, "hasKatex"), n9 = iZ(async (t33, e10) => {
  t33 = await at(t33, e10);
  let r10 = document.createElement("div");
  r10.innerHTML = t33, r10.id = "katex-temp", r10.style.visibility = "hidden", r10.style.position = "absolute", r10.style.top = "0";
  let i10 = document.querySelector("body");
  null == i10 || i10.insertAdjacentElement("beforeend", r10);
  let n10 = { width: r10.clientWidth, height: r10.clientHeight };
  return r10.remove(), n10;
}, "calculateMathMLDimensions"), at = iZ(async (t33, e10) => {
  if (!n8(t33)) return t33;
  if (!(n6() || e10.legacyMathML || e10.forceLegacyMathML)) return t33.replace(n7, "MathML is unsupported in this environment.");
  let { default: r10 } = await _(async () => {
    let { default: t34 } = await Promise.resolve().then(() => Ex);
    return { default: t34 };
  }, true ? void 0 : void 0), i10 = e10.forceLegacyMathML || !n6() && e10.legacyMathML ? "htmlAndMathml" : "mathml";
  return t33.split(nz).map((t34) => n8(t34) ? `<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${t34}</div>` : `<div>${t34}</div>`).join("").replace(n7, (t34, e11) => r10.renderToString(e11, { throwOnError: true, displayMode: true, output: i10 }).replace(/\n/g, " ").replace(/<annotation.*<\/annotation>/g, ""));
}, "renderKatex"), ae = { getRows: nU, sanitizeText: nj, sanitizeTextOrArray: nW, hasBreaks: nV, splitBreaks: nX, lineBreakRegex: nz, removeScript: nY, getUrl: nQ, evaluate: nJ, getMax: n0, getMin: n1 }, ar = iZ(function(t33, e10) {
  for (let r10 of e10) t33.attr(r10[0], r10[1]);
}, "d3Attrs"), ai = iZ(function(t33, e10, r10) {
  let i10 = /* @__PURE__ */ new Map();
  return r10 ? (i10.set("width", "100%"), i10.set("style", `max-width: ${e10}px;`)) : (i10.set("height", t33), i10.set("width", e10)), i10;
}, "calculateSvgSizeAttrs"), an = iZ(function(t33, e10, r10, i10) {
  ar(t33, ai(e10, r10, i10));
}, "configureSvgSize"), aa = iZ(function(t33, e10, r10, i10) {
  let n10 = e10.node().getBBox(), a10 = n10.width, o10 = n10.height;
  i0.info(`SVG bounds: ${a10}x${o10}`, n10);
  let s10 = 0, l10 = 0;
  i0.info(`Graph bounds: ${s10}x${l10}`, t33), s10 = a10 + 2 * r10, l10 = o10 + 2 * r10, i0.info(`Calculated bounds: ${s10}x${l10}`), an(e10, l10, s10, i10);
  let h10 = `${n10.x - r10} ${n10.y - r10} ${n10.width + 2 * r10} ${n10.height + 2 * r10}`;
  e10.attr("viewBox", h10);
}, "setupGraphViewbox"), ao = {}, as = iZ((t33, e10, r10) => {
  let i10 = "";
  return t33 in ao && ao[t33] ? i10 = ao[t33](r10) : i0.warn(`No theme found for ${t33}`), ` & {
    font-family: ${r10.fontFamily};
    font-size: ${r10.fontSize};
    fill: ${r10.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r10.errorBkgColor};
  }
  & .error-text {
    fill: ${r10.errorTextColor};
    stroke: ${r10.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r10.lineColor};
    stroke: ${r10.lineColor};
  }
  & .marker.cross {
    stroke: ${r10.lineColor};
  }

  & svg {
    font-family: ${r10.fontFamily};
    font-size: ${r10.fontSize};
  }
   & p {
    margin: 0
   }

  ${i10}

  ${e10}
`;
}, "getStyles"), al = iZ((t33, e10) => {
  void 0 !== e10 && (ao[t33] = e10);
}, "addStylesForDiagram"), ah = {};
iQ(ah, { clear: () => ag, getAccDescription: () => av, getAccTitle: () => am, getDiagramTitle: () => ab, setAccDescription: () => ay, setAccTitle: () => af, setDiagramTitle: () => ax });
var ac = "", au = "", ad = "", ap = iZ((t33) => nj(t33, nM()), "sanitizeText"), ag = iZ(() => {
  ac = "", ad = "", au = "";
}, "clear"), af = iZ((t33) => {
  ac = ap(t33).replace(/^\s+/g, "");
}, "setAccTitle"), am = iZ(() => ac, "getAccTitle"), ay = iZ((t33) => {
  ad = ap(t33).replace(/\n\s+/g, "\n");
}, "setAccDescription"), av = iZ(() => ad, "getAccDescription"), ax = iZ((t33) => {
  au = ap(t33);
}, "setDiagramTitle"), ab = iZ(() => au, "getDiagramTitle"), aw = iZ((t33) => nj(t33, nM()), "sanitizeText"), ak = iZ(() => ah, "getCommonDb"), a_ = {}, aT = iZ((t33, e10, r10) => {
  var i10;
  a_[t33] && i0.warn(`Diagram with id ${t33} already registered. Overwriting.`), a_[t33] = e10, r10 && nt(t33, r10), al(t33, e10.styles), null === (i10 = e10.injectUtils) || void 0 === i10 || i10.call(e10, i0, i1, nM, aw, aa, ak(), () => {
  });
}, "registerDiagram"), aE = iZ((t33) => {
  if (t33 in a_) return a_[t33];
  throw new aC(t33);
}, "getDiagram"), aC = (_g2 = class extends Error {
  constructor(t33) {
    super(`Diagram ${t33} not found.`);
  }
}, _n8 = new WeakMap(), __privateAdd(_g2, _n8, iZ(_g2, "DiagramNotFoundError")), _g2);
function aS(t33) {
  return null == t33;
}
function aA(t33) {
  return "object" == typeof t33 && null !== t33;
}
function aL(t33, e10) {
  var r10, i10 = "";
  for (r10 = 0; r10 < e10; r10 += 1) i10 += t33;
  return i10;
}
function aN(t33) {
  return 0 === t33 && Number.NEGATIVE_INFINITY === 1 / t33;
}
iZ(aS, "isNothing"), iZ(aA, "isObject"), iZ(function(t33) {
  return Array.isArray(t33) ? t33 : aS(t33) ? [] : [t33];
}, "toArray"), iZ(function(t33, e10) {
  var r10, i10, n10, a10;
  if (e10) for (r10 = 0, i10 = (a10 = Object.keys(e10)).length; r10 < i10; r10 += 1) t33[n10 = a10[r10]] = e10[n10];
  return t33;
}, "extend"), iZ(aL, "repeat"), iZ(aN, "isNegativeZero");
var aI = { isNothing: aS, isObject: aA, repeat: aL, isNegativeZero: aN };
function aM(t33, e10) {
  var r10 = "", i10 = t33.reason || "(unknown reason)";
  return t33.mark ? (t33.mark.name && (r10 += 'in "' + t33.mark.name + '" '), r10 += "(" + (t33.mark.line + 1) + ":" + (t33.mark.column + 1) + ")", !e10 && t33.mark.snippet && (r10 += "\n\n" + t33.mark.snippet), i10 + " " + r10) : i10;
}
function aR(t33, e10) {
  Error.call(this), this.name = "YAMLException", this.reason = t33, this.mark = e10, this.message = aM(this, false), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = Error().stack || "";
}
function aD(t33, e10, r10, i10, n10) {
  var a10 = "", o10 = "", s10 = Math.floor(n10 / 2) - 1;
  return i10 - e10 > s10 && (e10 = i10 - s10 + (a10 = " ... ").length), r10 - i10 > s10 && (r10 = i10 + s10 - (o10 = " ...").length), { str: a10 + t33.slice(e10, r10).replace(/\t/g, "→") + o10, pos: i10 - e10 + a10.length };
}
function aO(t33, e10) {
  return aI.repeat(" ", e10 - t33.length) + t33;
}
function aP(t33, e10) {
  if (e10 = Object.create(e10 || null), !t33.buffer) return null;
  e10.maxLength || (e10.maxLength = 79), "number" != typeof e10.indent && (e10.indent = 1), "number" != typeof e10.linesBefore && (e10.linesBefore = 3), "number" != typeof e10.linesAfter && (e10.linesAfter = 2);
  for (var r10 = /\r?\n|\r|\0/g, i10 = [0], n10 = [], a10 = -1; o10 = r10.exec(t33.buffer); ) n10.push(o10.index), i10.push(o10.index + o10[0].length), t33.position <= o10.index && a10 < 0 && (a10 = i10.length - 2);
  a10 < 0 && (a10 = i10.length - 1);
  var o10, s10, l10, h10 = "", u10 = Math.min(t33.line + e10.linesAfter, n10.length).toString().length, d10 = e10.maxLength - (e10.indent + u10 + 3);
  for (s10 = 1; s10 <= e10.linesBefore && !(a10 - s10 < 0); s10++) l10 = aD(t33.buffer, i10[a10 - s10], n10[a10 - s10], t33.position - (i10[a10] - i10[a10 - s10]), d10), h10 = aI.repeat(" ", e10.indent) + aO((t33.line - s10 + 1).toString(), u10) + " | " + l10.str + "\n" + h10;
  for (l10 = aD(t33.buffer, i10[a10], n10[a10], t33.position, d10), h10 += aI.repeat(" ", e10.indent) + aO((t33.line + 1).toString(), u10) + " | " + l10.str + "\n" + aI.repeat("-", e10.indent + u10 + 3 + l10.pos) + "^\n", s10 = 1; s10 <= e10.linesAfter && !(a10 + s10 >= n10.length); s10++) l10 = aD(t33.buffer, i10[a10 + s10], n10[a10 + s10], t33.position - (i10[a10] - i10[a10 + s10]), d10), h10 += aI.repeat(" ", e10.indent) + aO((t33.line + s10 + 1).toString(), u10) + " | " + l10.str + "\n";
  return h10.replace(/\n$/, "");
}
iZ(aM, "formatError"), iZ(aR, "YAMLException$1"), aR.prototype = Object.create(Error.prototype), aR.prototype.constructor = aR, aR.prototype.toString = iZ(function(t33) {
  return this.name + ": " + aM(this, t33);
}, "toString"), iZ(aD, "getLine"), iZ(aO, "padStart"), iZ(aP, "makeSnippet");
var a$ = ["kind", "multi", "resolve", "construct", "instanceOf", "predicate", "represent", "representName", "defaultStyle", "styleAliases"], aB = ["scalar", "sequence", "mapping"];
function aF(t33) {
  var e10 = {};
  return null !== t33 && Object.keys(t33).forEach(function(r10) {
    t33[r10].forEach(function(t34) {
      e10[String(t34)] = r10;
    });
  }), e10;
}
function az(t33, e10) {
  if (Object.keys(e10 = e10 || {}).forEach(function(e11) {
    if (-1 === a$.indexOf(e11)) throw new aR('Unknown option "' + e11 + '" is met in definition of "' + t33 + '" YAML type.');
  }), this.options = e10, this.tag = t33, this.kind = e10.kind || null, this.resolve = e10.resolve || function() {
    return true;
  }, this.construct = e10.construct || function(t34) {
    return t34;
  }, this.instanceOf = e10.instanceOf || null, this.predicate = e10.predicate || null, this.represent = e10.represent || null, this.representName = e10.representName || null, this.defaultStyle = e10.defaultStyle || null, this.multi = e10.multi || false, this.styleAliases = aF(e10.styleAliases || null), -1 === aB.indexOf(this.kind)) throw new aR('Unknown kind "' + this.kind + '" is specified for "' + t33 + '" YAML type.');
}
function aU(t33, e10) {
  var r10 = [];
  return t33[e10].forEach(function(t34) {
    var e11 = r10.length;
    r10.forEach(function(r11, i10) {
      r11.tag === t34.tag && r11.kind === t34.kind && r11.multi === t34.multi && (e11 = i10);
    }), r10[e11] = t34;
  }), r10;
}
function aG() {
  var t33, e10, r10 = { scalar: {}, sequence: {}, mapping: {}, fallback: {}, multi: { scalar: [], sequence: [], mapping: [], fallback: [] } };
  function i10(t34) {
    t34.multi ? (r10.multi[t34.kind].push(t34), r10.multi.fallback.push(t34)) : r10[t34.kind][t34.tag] = r10.fallback[t34.tag] = t34;
  }
  for (iZ(i10, "collectType"), t33 = 0, e10 = arguments.length; t33 < e10; t33 += 1) arguments[t33].forEach(i10);
  return r10;
}
function aq(t33) {
  return this.extend(t33);
}
iZ(aF, "compileStyleAliases"), iZ(az, "Type$1"), iZ(aU, "compileList"), iZ(aG, "compileMap"), iZ(aq, "Schema$1"), aq.prototype.extend = iZ(function(t33) {
  var e10 = [], r10 = [];
  if (t33 instanceof az) r10.push(t33);
  else if (Array.isArray(t33)) r10 = r10.concat(t33);
  else if (t33 && (Array.isArray(t33.implicit) || Array.isArray(t33.explicit))) t33.implicit && (e10 = e10.concat(t33.implicit)), t33.explicit && (r10 = r10.concat(t33.explicit));
  else throw new aR("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");
  e10.forEach(function(t34) {
    if (!(t34 instanceof az)) throw new aR("Specified list of YAML types (or a single Type object) contains a non-Type object.");
    if (t34.loadKind && "scalar" !== t34.loadKind) throw new aR("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");
    if (t34.multi) throw new aR("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.");
  }), r10.forEach(function(t34) {
    if (!(t34 instanceof az)) throw new aR("Specified list of YAML types (or a single Type object) contains a non-Type object.");
  });
  var i10 = Object.create(aq.prototype);
  return i10.implicit = (this.implicit || []).concat(e10), i10.explicit = (this.explicit || []).concat(r10), i10.compiledImplicit = aU(i10, "implicit"), i10.compiledExplicit = aU(i10, "explicit"), i10.compiledTypeMap = aG(i10.compiledImplicit, i10.compiledExplicit), i10;
}, "extend");
var aY = new aq({ explicit: [new az("tag:yaml.org,2002:str", { kind: "scalar", construct: iZ(function(t33) {
  return null !== t33 ? t33 : "";
}, "construct") }), new az("tag:yaml.org,2002:seq", { kind: "sequence", construct: iZ(function(t33) {
  return null !== t33 ? t33 : [];
}, "construct") }), new az("tag:yaml.org,2002:map", { kind: "mapping", construct: iZ(function(t33) {
  return null !== t33 ? t33 : {};
}, "construct") })] });
function aH(t33) {
  if (null === t33) return true;
  var e10 = t33.length;
  return 1 === e10 && "~" === t33 || 4 === e10 && ("null" === t33 || "Null" === t33 || "NULL" === t33);
}
function aj() {
  return null;
}
function aW(t33) {
  return null === t33;
}
iZ(aH, "resolveYamlNull"), iZ(aj, "constructYamlNull"), iZ(aW, "isNull");
var aV = new az("tag:yaml.org,2002:null", { kind: "scalar", resolve: aH, construct: aj, predicate: aW, represent: { canonical: iZ(function() {
  return "~";
}, "canonical"), lowercase: iZ(function() {
  return "null";
}, "lowercase"), uppercase: iZ(function() {
  return "NULL";
}, "uppercase"), camelcase: iZ(function() {
  return "Null";
}, "camelcase"), empty: iZ(function() {
  return "";
}, "empty") }, defaultStyle: "lowercase" });
function aX(t33) {
  if (null === t33) return false;
  var e10 = t33.length;
  return 4 === e10 && ("true" === t33 || "True" === t33 || "TRUE" === t33) || 5 === e10 && ("false" === t33 || "False" === t33 || "FALSE" === t33);
}
function aK(t33) {
  return "true" === t33 || "True" === t33 || "TRUE" === t33;
}
function aZ(t33) {
  return "[object Boolean]" === Object.prototype.toString.call(t33);
}
iZ(aX, "resolveYamlBoolean"), iZ(aK, "constructYamlBoolean"), iZ(aZ, "isBoolean");
var aQ = new az("tag:yaml.org,2002:bool", { kind: "scalar", resolve: aX, construct: aK, predicate: aZ, represent: { lowercase: iZ(function(t33) {
  return t33 ? "true" : "false";
}, "lowercase"), uppercase: iZ(function(t33) {
  return t33 ? "TRUE" : "FALSE";
}, "uppercase"), camelcase: iZ(function(t33) {
  return t33 ? "True" : "False";
}, "camelcase") }, defaultStyle: "lowercase" });
function aJ(t33) {
  return 48 <= t33 && t33 <= 57 || 65 <= t33 && t33 <= 70 || 97 <= t33 && t33 <= 102;
}
function a0(t33) {
  return 48 <= t33 && t33 <= 55;
}
function a1(t33) {
  return 48 <= t33 && t33 <= 57;
}
function a2(t33) {
  if (null === t33) return false;
  var e10, r10 = t33.length, i10 = 0, n10 = false;
  if (!r10) return false;
  if (("-" === (e10 = t33[i10]) || "+" === e10) && (e10 = t33[++i10]), "0" === e10) {
    if (i10 + 1 === r10) return true;
    if ("b" === (e10 = t33[++i10])) {
      for (i10++; i10 < r10; i10++) if ("_" !== (e10 = t33[i10])) {
        if ("0" !== e10 && "1" !== e10) return false;
        n10 = true;
      }
      return n10 && "_" !== e10;
    }
    if ("x" === e10) {
      for (i10++; i10 < r10; i10++) if ("_" !== (e10 = t33[i10])) {
        if (!aJ(t33.charCodeAt(i10))) return false;
        n10 = true;
      }
      return n10 && "_" !== e10;
    }
    if ("o" === e10) {
      for (i10++; i10 < r10; i10++) if ("_" !== (e10 = t33[i10])) {
        if (!a0(t33.charCodeAt(i10))) return false;
        n10 = true;
      }
      return n10 && "_" !== e10;
    }
  }
  if ("_" === e10) return false;
  for (; i10 < r10; i10++) if ("_" !== (e10 = t33[i10])) {
    if (!a1(t33.charCodeAt(i10))) return false;
    n10 = true;
  }
  return !!n10 && "_" !== e10;
}
function a4(t33) {
  var e10, r10 = t33, i10 = 1;
  if (-1 !== r10.indexOf("_") && (r10 = r10.replace(/_/g, "")), ("-" === (e10 = r10[0]) || "+" === e10) && ("-" === e10 && (i10 = -1), e10 = (r10 = r10.slice(1))[0]), "0" === r10) return 0;
  if ("0" === e10) {
    if ("b" === r10[1]) return i10 * parseInt(r10.slice(2), 2);
    if ("x" === r10[1]) return i10 * parseInt(r10.slice(2), 16);
    if ("o" === r10[1]) return i10 * parseInt(r10.slice(2), 8);
  }
  return i10 * parseInt(r10, 10);
}
function a5(t33) {
  return "[object Number]" === Object.prototype.toString.call(t33) && t33 % 1 == 0 && !aI.isNegativeZero(t33);
}
iZ(aJ, "isHexCode"), iZ(a0, "isOctCode"), iZ(a1, "isDecCode"), iZ(a2, "resolveYamlInteger"), iZ(a4, "constructYamlInteger"), iZ(a5, "isInteger");
var a3 = new az("tag:yaml.org,2002:int", { kind: "scalar", resolve: a2, construct: a4, predicate: a5, represent: { binary: iZ(function(t33) {
  return t33 >= 0 ? "0b" + t33.toString(2) : "-0b" + t33.toString(2).slice(1);
}, "binary"), octal: iZ(function(t33) {
  return t33 >= 0 ? "0o" + t33.toString(8) : "-0o" + t33.toString(8).slice(1);
}, "octal"), decimal: iZ(function(t33) {
  return t33.toString(10);
}, "decimal"), hexadecimal: iZ(function(t33) {
  return t33 >= 0 ? "0x" + t33.toString(16).toUpperCase() : "-0x" + t33.toString(16).toUpperCase().slice(1);
}, "hexadecimal") }, defaultStyle: "decimal", styleAliases: { binary: [2, "bin"], octal: [8, "oct"], decimal: [10, "dec"], hexadecimal: [16, "hex"] } }), a6 = RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");
function a7(t33) {
  return !!(null !== t33 && a6.test(t33) && "_" !== t33[t33.length - 1]);
}
function a8(t33) {
  var e10, r10;
  return (r10 = "-" === (e10 = t33.replace(/_/g, "").toLowerCase())[0] ? -1 : 1, "+-".indexOf(e10[0]) >= 0 && (e10 = e10.slice(1)), ".inf" === e10) ? 1 === r10 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY : ".nan" === e10 ? NaN : r10 * parseFloat(e10, 10);
}
iZ(a7, "resolveYamlFloat"), iZ(a8, "constructYamlFloat");
var a9 = /^[-+]?[0-9]+e/;
function ot(t33, e10) {
  var r10;
  if (isNaN(t33)) switch (e10) {
    case "lowercase":
      return ".nan";
    case "uppercase":
      return ".NAN";
    case "camelcase":
      return ".NaN";
  }
  else if (Number.POSITIVE_INFINITY === t33) switch (e10) {
    case "lowercase":
      return ".inf";
    case "uppercase":
      return ".INF";
    case "camelcase":
      return ".Inf";
  }
  else if (Number.NEGATIVE_INFINITY === t33) switch (e10) {
    case "lowercase":
      return "-.inf";
    case "uppercase":
      return "-.INF";
    case "camelcase":
      return "-.Inf";
  }
  else if (aI.isNegativeZero(t33)) return "-0.0";
  return r10 = t33.toString(10), a9.test(r10) ? r10.replace("e", ".e") : r10;
}
function oe(t33) {
  return "[object Number]" === Object.prototype.toString.call(t33) && (t33 % 1 != 0 || aI.isNegativeZero(t33));
}
iZ(ot, "representYamlFloat"), iZ(oe, "isFloat");
var or = new az("tag:yaml.org,2002:float", { kind: "scalar", resolve: a7, construct: a8, predicate: oe, represent: ot, defaultStyle: "lowercase" }), oi = aY.extend({ implicit: [aV, aQ, a3, or] }), on = RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"), oa = RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");
function oo(t33) {
  return null !== t33 && (null !== on.exec(t33) || null !== oa.exec(t33));
}
function os(t33) {
  var e10, r10, i10, n10, a10, o10, s10, l10, h10 = 0, u10 = null;
  if (null === (e10 = on.exec(t33)) && (e10 = oa.exec(t33)), null === e10) throw Error("Date resolve error");
  if (r10 = +e10[1], i10 = +e10[2] - 1, n10 = +e10[3], !e10[4]) return new Date(Date.UTC(r10, i10, n10));
  if (a10 = +e10[4], o10 = +e10[5], s10 = +e10[6], e10[7]) {
    for (h10 = e10[7].slice(0, 3); h10.length < 3; ) h10 += "0";
    h10 = +h10;
  }
  return e10[9] && (u10 = (60 * +e10[10] + +(e10[11] || 0)) * 6e4, "-" === e10[9] && (u10 = -u10)), l10 = new Date(Date.UTC(r10, i10, n10, a10, o10, s10, h10)), u10 && l10.setTime(l10.getTime() - u10), l10;
}
function ol(t33) {
  return t33.toISOString();
}
iZ(oo, "resolveYamlTimestamp"), iZ(os, "constructYamlTimestamp"), iZ(ol, "representYamlTimestamp");
var oh = new az("tag:yaml.org,2002:timestamp", { kind: "scalar", resolve: oo, construct: os, instanceOf: Date, represent: ol });
function oc(t33) {
  return "<<" === t33 || null === t33;
}
iZ(oc, "resolveYamlMerge");
var ou = new az("tag:yaml.org,2002:merge", { kind: "scalar", resolve: oc }), od = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";
function op(t33) {
  if (null === t33) return false;
  var e10, r10, i10 = 0, n10 = t33.length;
  for (r10 = 0; r10 < n10; r10++) if (!((e10 = od.indexOf(t33.charAt(r10))) > 64)) {
    if (e10 < 0) return false;
    i10 += 6;
  }
  return i10 % 8 == 0;
}
function og(t33) {
  var e10, r10, i10 = t33.replace(/[\r\n=]/g, ""), n10 = i10.length, a10 = 0, o10 = [];
  for (e10 = 0; e10 < n10; e10++) e10 % 4 == 0 && e10 && (o10.push(a10 >> 16 & 255), o10.push(a10 >> 8 & 255), o10.push(255 & a10)), a10 = a10 << 6 | od.indexOf(i10.charAt(e10));
  return 0 == (r10 = n10 % 4 * 6) ? (o10.push(a10 >> 16 & 255), o10.push(a10 >> 8 & 255), o10.push(255 & a10)) : 18 === r10 ? (o10.push(a10 >> 10 & 255), o10.push(a10 >> 2 & 255)) : 12 === r10 && o10.push(a10 >> 4 & 255), new Uint8Array(o10);
}
function of(t33) {
  var e10, r10, i10 = "", n10 = 0, a10 = t33.length;
  for (e10 = 0; e10 < a10; e10++) e10 % 3 == 0 && e10 && (i10 += od[n10 >> 18 & 63], i10 += od[n10 >> 12 & 63], i10 += od[n10 >> 6 & 63], i10 += od[63 & n10]), n10 = (n10 << 8) + t33[e10];
  return 0 == (r10 = a10 % 3) ? (i10 += od[n10 >> 18 & 63], i10 += od[n10 >> 12 & 63], i10 += od[n10 >> 6 & 63], i10 += od[63 & n10]) : 2 === r10 ? (i10 += od[n10 >> 10 & 63], i10 += od[n10 >> 4 & 63], i10 += od[n10 << 2 & 63], i10 += od[64]) : 1 === r10 && (i10 += od[n10 >> 2 & 63], i10 += od[n10 << 4 & 63], i10 += od[64], i10 += od[64]), i10;
}
function om(t33) {
  return "[object Uint8Array]" === Object.prototype.toString.call(t33);
}
iZ(op, "resolveYamlBinary"), iZ(og, "constructYamlBinary"), iZ(of, "representYamlBinary"), iZ(om, "isBinary");
var oy = new az("tag:yaml.org,2002:binary", { kind: "scalar", resolve: op, construct: og, predicate: om, represent: of }), ov = Object.prototype.hasOwnProperty, ox = Object.prototype.toString;
function ob(t33) {
  if (null === t33) return true;
  var e10, r10, i10, n10, a10, o10 = [];
  for (e10 = 0, r10 = t33.length; e10 < r10; e10 += 1) {
    if (i10 = t33[e10], a10 = false, "[object Object]" !== ox.call(i10)) return false;
    for (n10 in i10) if (ov.call(i10, n10)) {
      if (a10) return false;
      a10 = true;
    }
    if (!a10 || -1 !== o10.indexOf(n10)) return false;
    o10.push(n10);
  }
  return true;
}
function ow(t33) {
  return null !== t33 ? t33 : [];
}
iZ(ob, "resolveYamlOmap"), iZ(ow, "constructYamlOmap");
var ok = new az("tag:yaml.org,2002:omap", { kind: "sequence", resolve: ob, construct: ow }), o_ = Object.prototype.toString;
function oT(t33) {
  var e10, r10, i10, n10, a10;
  if (null === t33) return true;
  for (e10 = 0, a10 = Array(t33.length), r10 = t33.length; e10 < r10; e10 += 1) {
    if (i10 = t33[e10], "[object Object]" !== o_.call(i10) || 1 !== (n10 = Object.keys(i10)).length) return false;
    a10[e10] = [n10[0], i10[n10[0]]];
  }
  return true;
}
function oE(t33) {
  var e10, r10, i10, n10, a10;
  if (null === t33) return [];
  for (e10 = 0, a10 = Array(t33.length), r10 = t33.length; e10 < r10; e10 += 1) n10 = Object.keys(i10 = t33[e10]), a10[e10] = [n10[0], i10[n10[0]]];
  return a10;
}
iZ(oT, "resolveYamlPairs"), iZ(oE, "constructYamlPairs");
var oC = new az("tag:yaml.org,2002:pairs", { kind: "sequence", resolve: oT, construct: oE }), oS = Object.prototype.hasOwnProperty;
function oA(t33) {
  var e10;
  if (null === t33) return true;
  for (e10 in t33) if (oS.call(t33, e10) && null !== t33[e10]) return false;
  return true;
}
function oL(t33) {
  return null !== t33 ? t33 : {};
}
iZ(oA, "resolveYamlSet"), iZ(oL, "constructYamlSet");
var oN = new az("tag:yaml.org,2002:set", { kind: "mapping", resolve: oA, construct: oL }), oI = oi.extend({ implicit: [oh, ou], explicit: [oy, ok, oC, oN] }), oM = Object.prototype.hasOwnProperty, oR = /[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/, oD = /[\x85\u2028\u2029]/, oO = /[,\[\]\{\}]/, oP = /^(?:!|!!|![a-z\-]+!)$/i, o$ = /^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;
function oB(t33) {
  return Object.prototype.toString.call(t33);
}
function oF(t33) {
  return 10 === t33 || 13 === t33;
}
function oz(t33) {
  return 9 === t33 || 32 === t33;
}
function oU(t33) {
  return 9 === t33 || 32 === t33 || 10 === t33 || 13 === t33;
}
function oG(t33) {
  return 44 === t33 || 91 === t33 || 93 === t33 || 123 === t33 || 125 === t33;
}
function oq(t33) {
  var e10;
  return 48 <= t33 && t33 <= 57 ? t33 - 48 : 97 <= (e10 = 32 | t33) && e10 <= 102 ? e10 - 97 + 10 : -1;
}
function oY(t33) {
  return 120 === t33 ? 2 : 117 === t33 ? 4 : 85 === t33 ? 8 : 0;
}
function oH(t33) {
  return 48 <= t33 && t33 <= 57 ? t33 - 48 : -1;
}
function oj(t33) {
  return 48 === t33 ? "\0" : 97 === t33 ? "\x07" : 98 === t33 ? "\b" : 116 === t33 ? "	" : 9 === t33 ? "	" : 110 === t33 ? "\n" : 118 === t33 ? "\v" : 102 === t33 ? "\f" : 114 === t33 ? "\r" : 101 === t33 ? "\x1B" : 32 === t33 ? " " : 34 === t33 ? '"' : 47 === t33 ? "/" : 92 === t33 ? "\\" : 78 === t33 ? "" : 95 === t33 ? " " : 76 === t33 ? "\u2028" : 80 === t33 ? "\u2029" : "";
}
function oW(t33) {
  return t33 <= 65535 ? String.fromCharCode(t33) : String.fromCharCode((t33 - 65536 >> 10) + 55296, (t33 - 65536 & 1023) + 56320);
}
iZ(oB, "_class"), iZ(oF, "is_EOL"), iZ(oz, "is_WHITE_SPACE"), iZ(oU, "is_WS_OR_EOL"), iZ(oG, "is_FLOW_INDICATOR"), iZ(oq, "fromHexCode"), iZ(oY, "escapedHexLen"), iZ(oH, "fromDecimalCode"), iZ(oj, "simpleEscapeSequence"), iZ(oW, "charFromCodepoint");
var oV = Array(256), oX = Array(256);
for (cg = 0; cg < 256; cg++) oV[cg] = oj(cg) ? 1 : 0, oX[cg] = oj(cg);
function oK(t33, e10) {
  this.input = t33, this.filename = e10.filename || null, this.schema = e10.schema || oI, this.onWarning = e10.onWarning || null, this.legacy = e10.legacy || false, this.json = e10.json || false, this.listener = e10.listener || null, this.implicitTypes = this.schema.compiledImplicit, this.typeMap = this.schema.compiledTypeMap, this.length = t33.length, this.position = 0, this.line = 0, this.lineStart = 0, this.lineIndent = 0, this.firstTabInLine = -1, this.documents = [];
}
function oZ(t33, e10) {
  var r10 = { name: t33.filename, buffer: t33.input.slice(0, -1), position: t33.position, line: t33.line, column: t33.position - t33.lineStart };
  return r10.snippet = aP(r10), new aR(e10, r10);
}
function oQ(t33, e10) {
  throw oZ(t33, e10);
}
function oJ(t33, e10) {
  t33.onWarning && t33.onWarning.call(null, oZ(t33, e10));
}
iZ(oK, "State$1"), iZ(oZ, "generateError"), iZ(oQ, "throwError"), iZ(oJ, "throwWarning");
var o0 = { YAML: iZ(function(t33, e10, r10) {
  var i10, n10, a10;
  null !== t33.version && oQ(t33, "duplication of %YAML directive"), 1 !== r10.length && oQ(t33, "YAML directive accepts exactly one argument"), null === (i10 = /^([0-9]+)\.([0-9]+)$/.exec(r10[0])) && oQ(t33, "ill-formed argument of the YAML directive"), n10 = parseInt(i10[1], 10), a10 = parseInt(i10[2], 10), 1 !== n10 && oQ(t33, "unacceptable YAML version of the document"), t33.version = r10[0], t33.checkLineBreaks = a10 < 2, 1 !== a10 && 2 !== a10 && oJ(t33, "unsupported YAML version of the document");
}, "handleYamlDirective"), TAG: iZ(function(t33, e10, r10) {
  var i10, n10;
  2 !== r10.length && oQ(t33, "TAG directive accepts exactly two arguments"), i10 = r10[0], n10 = r10[1], oP.test(i10) || oQ(t33, "ill-formed tag handle (first argument) of the TAG directive"), oM.call(t33.tagMap, i10) && oQ(t33, 'there is a previously declared suffix for "' + i10 + '" tag handle'), o$.test(n10) || oQ(t33, "ill-formed tag prefix (second argument) of the TAG directive");
  try {
    n10 = decodeURIComponent(n10);
  } catch (e11) {
    oQ(t33, "tag prefix is malformed: " + n10);
  }
  t33.tagMap[i10] = n10;
}, "handleTagDirective") };
function o1(t33, e10, r10, i10) {
  var n10, a10, o10, s10;
  if (e10 < r10) {
    if (s10 = t33.input.slice(e10, r10), i10) for (n10 = 0, a10 = s10.length; n10 < a10; n10 += 1) 9 === (o10 = s10.charCodeAt(n10)) || 32 <= o10 && o10 <= 1114111 || oQ(t33, "expected valid JSON character");
    else oR.test(s10) && oQ(t33, "the stream contains non-printable characters");
    t33.result += s10;
  }
}
function o2(t33, e10, r10, i10) {
  var n10, a10, o10, s10;
  for (aI.isObject(r10) || oQ(t33, "cannot merge mappings; the provided source object is unacceptable"), o10 = 0, s10 = (n10 = Object.keys(r10)).length; o10 < s10; o10 += 1) a10 = n10[o10], oM.call(e10, a10) || (e10[a10] = r10[a10], i10[a10] = true);
}
function o4(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  var h10, u10;
  if (Array.isArray(n10)) for (h10 = 0, u10 = (n10 = Array.prototype.slice.call(n10)).length; h10 < u10; h10 += 1) Array.isArray(n10[h10]) && oQ(t33, "nested arrays are not supported inside keys"), "object" == typeof n10 && "[object Object]" === oB(n10[h10]) && (n10[h10] = "[object Object]");
  if ("object" == typeof n10 && "[object Object]" === oB(n10) && (n10 = "[object Object]"), n10 = String(n10), null === e10 && (e10 = {}), "tag:yaml.org,2002:merge" === i10) {
    if (Array.isArray(a10)) for (h10 = 0, u10 = a10.length; h10 < u10; h10 += 1) o2(t33, e10, a10[h10], r10);
    else o2(t33, e10, a10, r10);
  } else !t33.json && !oM.call(r10, n10) && oM.call(e10, n10) && (t33.line = o10 || t33.line, t33.lineStart = s10 || t33.lineStart, t33.position = l10 || t33.position, oQ(t33, "duplicated mapping key")), "__proto__" === n10 ? Object.defineProperty(e10, n10, { configurable: true, enumerable: true, writable: true, value: a10 }) : e10[n10] = a10, delete r10[n10];
  return e10;
}
function o5(t33) {
  var e10;
  10 === (e10 = t33.input.charCodeAt(t33.position)) ? t33.position++ : 13 === e10 ? (t33.position++, 10 === t33.input.charCodeAt(t33.position) && t33.position++) : oQ(t33, "a line break is expected"), t33.line += 1, t33.lineStart = t33.position, t33.firstTabInLine = -1;
}
function o3(t33, e10, r10) {
  for (var i10 = 0, n10 = t33.input.charCodeAt(t33.position); 0 !== n10; ) {
    for (; oz(n10); ) 9 === n10 && -1 === t33.firstTabInLine && (t33.firstTabInLine = t33.position), n10 = t33.input.charCodeAt(++t33.position);
    if (e10 && 35 === n10) do
      n10 = t33.input.charCodeAt(++t33.position);
    while (10 !== n10 && 13 !== n10 && 0 !== n10);
    if (oF(n10)) for (o5(t33), n10 = t33.input.charCodeAt(t33.position), i10++, t33.lineIndent = 0; 32 === n10; ) t33.lineIndent++, n10 = t33.input.charCodeAt(++t33.position);
    else break;
  }
  return -1 !== r10 && 0 !== i10 && t33.lineIndent < r10 && oJ(t33, "deficient indentation"), i10;
}
function o6(t33) {
  var e10, r10 = t33.position;
  return !!((45 === (e10 = t33.input.charCodeAt(r10)) || 46 === e10) && e10 === t33.input.charCodeAt(r10 + 1) && e10 === t33.input.charCodeAt(r10 + 2) && (r10 += 3, 0 === (e10 = t33.input.charCodeAt(r10)) || oU(e10)));
}
function o7(t33, e10) {
  1 === e10 ? t33.result += " " : e10 > 1 && (t33.result += aI.repeat("\n", e10 - 1));
}
function o8(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10, h10, u10, d10 = t33.kind, p10 = t33.result;
  if (oU(u10 = t33.input.charCodeAt(t33.position)) || oG(u10) || 35 === u10 || 38 === u10 || 42 === u10 || 33 === u10 || 124 === u10 || 62 === u10 || 39 === u10 || 34 === u10 || 37 === u10 || 64 === u10 || 96 === u10 || (63 === u10 || 45 === u10) && (oU(i10 = t33.input.charCodeAt(t33.position + 1)) || r10 && oG(i10))) return false;
  for (t33.kind = "scalar", t33.result = "", n10 = a10 = t33.position, o10 = false; 0 !== u10; ) {
    if (58 === u10) {
      if (oU(i10 = t33.input.charCodeAt(t33.position + 1)) || r10 && oG(i10)) break;
    } else if (35 === u10) {
      if (oU(t33.input.charCodeAt(t33.position - 1))) break;
    } else if (t33.position === t33.lineStart && o6(t33) || r10 && oG(u10)) break;
    else if (oF(u10)) {
      if (s10 = t33.line, l10 = t33.lineStart, h10 = t33.lineIndent, o3(t33, false, -1), t33.lineIndent >= e10) {
        o10 = true, u10 = t33.input.charCodeAt(t33.position);
        continue;
      }
      t33.position = a10, t33.line = s10, t33.lineStart = l10, t33.lineIndent = h10;
      break;
    }
    o10 && (o1(t33, n10, a10, false), o7(t33, t33.line - s10), n10 = a10 = t33.position, o10 = false), oz(u10) || (a10 = t33.position + 1), u10 = t33.input.charCodeAt(++t33.position);
  }
  return o1(t33, n10, a10, false), !!t33.result || (t33.kind = d10, t33.result = p10, false);
}
function o9(t33, e10) {
  var r10, i10, n10;
  if (39 !== (r10 = t33.input.charCodeAt(t33.position))) return false;
  for (t33.kind = "scalar", t33.result = "", t33.position++, i10 = n10 = t33.position; 0 !== (r10 = t33.input.charCodeAt(t33.position)); ) if (39 === r10) {
    if (o1(t33, i10, t33.position, true), 39 !== (r10 = t33.input.charCodeAt(++t33.position))) return true;
    i10 = t33.position, t33.position++, n10 = t33.position;
  } else oF(r10) ? (o1(t33, i10, n10, true), o7(t33, o3(t33, false, e10)), i10 = n10 = t33.position) : t33.position === t33.lineStart && o6(t33) ? oQ(t33, "unexpected end of the document within a single quoted scalar") : (t33.position++, n10 = t33.position);
  oQ(t33, "unexpected end of the stream within a single quoted scalar");
}
function st(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  if (34 !== (s10 = t33.input.charCodeAt(t33.position))) return false;
  for (t33.kind = "scalar", t33.result = "", t33.position++, r10 = i10 = t33.position; 0 !== (s10 = t33.input.charCodeAt(t33.position)); ) {
    if (34 === s10) return o1(t33, r10, t33.position, true), t33.position++, true;
    if (92 === s10) {
      if (o1(t33, r10, t33.position, true), oF(s10 = t33.input.charCodeAt(++t33.position))) o3(t33, false, e10);
      else if (s10 < 256 && oV[s10]) t33.result += oX[s10], t33.position++;
      else if ((o10 = oY(s10)) > 0) {
        for (n10 = o10, a10 = 0; n10 > 0; n10--) (o10 = oq(s10 = t33.input.charCodeAt(++t33.position))) >= 0 ? a10 = (a10 << 4) + o10 : oQ(t33, "expected hexadecimal character");
        t33.result += oW(a10), t33.position++;
      } else oQ(t33, "unknown escape sequence");
      r10 = i10 = t33.position;
    } else oF(s10) ? (o1(t33, r10, i10, true), o7(t33, o3(t33, false, e10)), r10 = i10 = t33.position) : t33.position === t33.lineStart && o6(t33) ? oQ(t33, "unexpected end of the document within a double quoted scalar") : (t33.position++, i10 = t33.position);
  }
  oQ(t33, "unexpected end of the stream within a double quoted scalar");
}
function se(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10 = true, y10 = t33.tag, v10 = t33.anchor, x10 = /* @__PURE__ */ Object.create(null);
  if (91 === (g10 = t33.input.charCodeAt(t33.position))) o10 = 93, h10 = false, a10 = [];
  else {
    if (123 !== g10) return false;
    o10 = 125, h10 = true, a10 = {};
  }
  for (null !== t33.anchor && (t33.anchorMap[t33.anchor] = a10), g10 = t33.input.charCodeAt(++t33.position); 0 !== g10; ) {
    if (o3(t33, true, e10), (g10 = t33.input.charCodeAt(t33.position)) === o10) return t33.position++, t33.tag = y10, t33.anchor = v10, t33.kind = h10 ? "mapping" : "sequence", t33.result = a10, true;
    f10 ? 44 === g10 && oQ(t33, "expected the node content, but found ','") : oQ(t33, "missed comma between flow collection entries"), d10 = u10 = p10 = null, s10 = l10 = false, 63 === g10 && oU(t33.input.charCodeAt(t33.position + 1)) && (s10 = l10 = true, t33.position++, o3(t33, true, e10)), r10 = t33.line, i10 = t33.lineStart, n10 = t33.position, sl(t33, e10, 1, false, true), d10 = t33.tag, u10 = t33.result, o3(t33, true, e10), g10 = t33.input.charCodeAt(t33.position), (l10 || t33.line === r10) && 58 === g10 && (s10 = true, g10 = t33.input.charCodeAt(++t33.position), o3(t33, true, e10), sl(t33, e10, 1, false, true), p10 = t33.result), h10 ? o4(t33, a10, x10, d10, u10, p10, r10, i10, n10) : s10 ? a10.push(o4(t33, null, x10, d10, u10, p10, r10, i10, n10)) : a10.push(u10), o3(t33, true, e10), 44 === (g10 = t33.input.charCodeAt(t33.position)) ? (f10 = true, g10 = t33.input.charCodeAt(++t33.position)) : f10 = false;
  }
  oQ(t33, "unexpected end of the stream within a flow collection");
}
function sr(t33, e10) {
  var r10, i10, n10, a10, o10 = 1, s10 = false, l10 = false, h10 = e10, u10 = 0, d10 = false;
  if (124 === (a10 = t33.input.charCodeAt(t33.position))) i10 = false;
  else {
    if (62 !== a10) return false;
    i10 = true;
  }
  for (t33.kind = "scalar", t33.result = ""; 0 !== a10; ) if (43 === (a10 = t33.input.charCodeAt(++t33.position)) || 45 === a10) 1 === o10 ? o10 = 43 === a10 ? 3 : 2 : oQ(t33, "repeat of a chomping mode identifier");
  else if ((n10 = oH(a10)) >= 0) 0 === n10 ? oQ(t33, "bad explicit indentation width of a block scalar; it cannot be less than one") : l10 ? oQ(t33, "repeat of an indentation width identifier") : (h10 = e10 + n10 - 1, l10 = true);
  else break;
  if (oz(a10)) {
    do
      a10 = t33.input.charCodeAt(++t33.position);
    while (oz(a10));
    if (35 === a10) do
      a10 = t33.input.charCodeAt(++t33.position);
    while (!oF(a10) && 0 !== a10);
  }
  for (; 0 !== a10; ) {
    for (o5(t33), t33.lineIndent = 0, a10 = t33.input.charCodeAt(t33.position); (!l10 || t33.lineIndent < h10) && 32 === a10; ) t33.lineIndent++, a10 = t33.input.charCodeAt(++t33.position);
    if (!l10 && t33.lineIndent > h10 && (h10 = t33.lineIndent), oF(a10)) {
      u10++;
      continue;
    }
    if (t33.lineIndent < h10) {
      3 === o10 ? t33.result += aI.repeat("\n", s10 ? 1 + u10 : u10) : 1 === o10 && s10 && (t33.result += "\n");
      break;
    }
    for (i10 ? oz(a10) ? (d10 = true, t33.result += aI.repeat("\n", s10 ? 1 + u10 : u10)) : d10 ? (d10 = false, t33.result += aI.repeat("\n", u10 + 1)) : 0 === u10 ? s10 && (t33.result += " ") : t33.result += aI.repeat("\n", u10) : t33.result += aI.repeat("\n", s10 ? 1 + u10 : u10), s10 = true, l10 = true, u10 = 0, r10 = t33.position; !oF(a10) && 0 !== a10; ) a10 = t33.input.charCodeAt(++t33.position);
    o1(t33, r10, t33.position, false);
  }
  return true;
}
function si(t33, e10) {
  var r10, i10, n10 = t33.tag, a10 = t33.anchor, o10 = [], s10 = false;
  if (-1 !== t33.firstTabInLine) return false;
  for (null !== t33.anchor && (t33.anchorMap[t33.anchor] = o10), i10 = t33.input.charCodeAt(t33.position); 0 !== i10 && (-1 !== t33.firstTabInLine && (t33.position = t33.firstTabInLine, oQ(t33, "tab characters must not be used in indentation")), 45 === i10 && oU(t33.input.charCodeAt(t33.position + 1))); ) {
    if (s10 = true, t33.position++, o3(t33, true, -1) && t33.lineIndent <= e10) {
      o10.push(null), i10 = t33.input.charCodeAt(t33.position);
      continue;
    }
    if (r10 = t33.line, sl(t33, e10, 3, false, true), o10.push(t33.result), o3(t33, true, -1), i10 = t33.input.charCodeAt(t33.position), (t33.line === r10 || t33.lineIndent > e10) && 0 !== i10) oQ(t33, "bad indentation of a sequence entry");
    else if (t33.lineIndent < e10) break;
  }
  return !!s10 && (t33.tag = n10, t33.anchor = a10, t33.kind = "sequence", t33.result = o10, true);
}
function sn(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10, h10, u10 = t33.tag, d10 = t33.anchor, p10 = {}, g10 = /* @__PURE__ */ Object.create(null), f10 = null, y10 = null, v10 = null, x10 = false, b10 = false;
  if (-1 !== t33.firstTabInLine) return false;
  for (null !== t33.anchor && (t33.anchorMap[t33.anchor] = p10), h10 = t33.input.charCodeAt(t33.position); 0 !== h10; ) {
    if (x10 || -1 === t33.firstTabInLine || (t33.position = t33.firstTabInLine, oQ(t33, "tab characters must not be used in indentation")), i10 = t33.input.charCodeAt(t33.position + 1), a10 = t33.line, (63 === h10 || 58 === h10) && oU(i10)) 63 === h10 ? (x10 && (o4(t33, p10, g10, f10, y10, null, o10, s10, l10), f10 = y10 = v10 = null), b10 = true, x10 = true, n10 = true) : x10 ? (x10 = false, n10 = true) : oQ(t33, "incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"), t33.position += 1, h10 = i10;
    else {
      if (o10 = t33.line, s10 = t33.lineStart, l10 = t33.position, !sl(t33, r10, 2, false, true)) break;
      if (t33.line === a10) {
        for (h10 = t33.input.charCodeAt(t33.position); oz(h10); ) h10 = t33.input.charCodeAt(++t33.position);
        if (58 === h10) oU(h10 = t33.input.charCodeAt(++t33.position)) || oQ(t33, "a whitespace character is expected after the key-value separator within a block mapping"), x10 && (o4(t33, p10, g10, f10, y10, null, o10, s10, l10), f10 = y10 = v10 = null), b10 = true, x10 = false, n10 = false, f10 = t33.tag, y10 = t33.result;
        else {
          if (!b10) return t33.tag = u10, t33.anchor = d10, true;
          oQ(t33, "can not read an implicit mapping pair; a colon is missed");
        }
      } else {
        if (!b10) return t33.tag = u10, t33.anchor = d10, true;
        oQ(t33, "can not read a block mapping entry; a multiline key may not be an implicit key");
      }
    }
    if ((t33.line === a10 || t33.lineIndent > e10) && (x10 && (o10 = t33.line, s10 = t33.lineStart, l10 = t33.position), sl(t33, e10, 4, true, n10) && (x10 ? y10 = t33.result : v10 = t33.result), x10 || (o4(t33, p10, g10, f10, y10, v10, o10, s10, l10), f10 = y10 = v10 = null), o3(t33, true, -1), h10 = t33.input.charCodeAt(t33.position)), (t33.line === a10 || t33.lineIndent > e10) && 0 !== h10) oQ(t33, "bad indentation of a mapping entry");
    else if (t33.lineIndent < e10) break;
  }
  return x10 && o4(t33, p10, g10, f10, y10, null, o10, s10, l10), b10 && (t33.tag = u10, t33.anchor = d10, t33.kind = "mapping", t33.result = p10), b10;
}
function sa(t33) {
  var e10, r10, i10, n10, a10 = false, o10 = false;
  if (33 !== (n10 = t33.input.charCodeAt(t33.position))) return false;
  if (null !== t33.tag && oQ(t33, "duplication of a tag property"), 60 === (n10 = t33.input.charCodeAt(++t33.position)) ? (a10 = true, n10 = t33.input.charCodeAt(++t33.position)) : 33 === n10 ? (o10 = true, r10 = "!!", n10 = t33.input.charCodeAt(++t33.position)) : r10 = "!", e10 = t33.position, a10) {
    do
      n10 = t33.input.charCodeAt(++t33.position);
    while (0 !== n10 && 62 !== n10);
    t33.position < t33.length ? (i10 = t33.input.slice(e10, t33.position), n10 = t33.input.charCodeAt(++t33.position)) : oQ(t33, "unexpected end of the stream within a verbatim tag");
  } else {
    for (; 0 !== n10 && !oU(n10); ) 33 === n10 && (o10 ? oQ(t33, "tag suffix cannot contain exclamation marks") : (r10 = t33.input.slice(e10 - 1, t33.position + 1), oP.test(r10) || oQ(t33, "named tag handle cannot contain such characters"), o10 = true, e10 = t33.position + 1)), n10 = t33.input.charCodeAt(++t33.position);
    i10 = t33.input.slice(e10, t33.position), oO.test(i10) && oQ(t33, "tag suffix cannot contain flow indicator characters");
  }
  i10 && !o$.test(i10) && oQ(t33, "tag name cannot contain such characters: " + i10);
  try {
    i10 = decodeURIComponent(i10);
  } catch (e11) {
    oQ(t33, "tag name is malformed: " + i10);
  }
  return a10 ? t33.tag = i10 : oM.call(t33.tagMap, r10) ? t33.tag = t33.tagMap[r10] + i10 : "!" === r10 ? t33.tag = "!" + i10 : "!!" === r10 ? t33.tag = "tag:yaml.org,2002:" + i10 : oQ(t33, 'undeclared tag handle "' + r10 + '"'), true;
}
function so(t33) {
  var e10, r10;
  if (38 !== (r10 = t33.input.charCodeAt(t33.position))) return false;
  for (null !== t33.anchor && oQ(t33, "duplication of an anchor property"), r10 = t33.input.charCodeAt(++t33.position), e10 = t33.position; 0 !== r10 && !oU(r10) && !oG(r10); ) r10 = t33.input.charCodeAt(++t33.position);
  return t33.position === e10 && oQ(t33, "name of an anchor node must contain at least one character"), t33.anchor = t33.input.slice(e10, t33.position), true;
}
function ss(t33) {
  var e10, r10, i10;
  if (42 !== (i10 = t33.input.charCodeAt(t33.position))) return false;
  for (i10 = t33.input.charCodeAt(++t33.position), e10 = t33.position; 0 !== i10 && !oU(i10) && !oG(i10); ) i10 = t33.input.charCodeAt(++t33.position);
  return t33.position === e10 && oQ(t33, "name of an alias node must contain at least one character"), r10 = t33.input.slice(e10, t33.position), oM.call(t33.anchorMap, r10) || oQ(t33, 'unidentified alias "' + r10 + '"'), t33.result = t33.anchorMap[r10], o3(t33, true, -1), true;
}
function sl(t33, e10, r10, i10, n10) {
  var a10, o10, s10, l10, h10, u10, d10, p10, g10, f10 = 1, y10 = false, v10 = false;
  if (null !== t33.listener && t33.listener("open", t33), t33.tag = null, t33.anchor = null, t33.kind = null, t33.result = null, a10 = o10 = s10 = 4 === r10 || 3 === r10, i10 && o3(t33, true, -1) && (y10 = true, t33.lineIndent > e10 ? f10 = 1 : t33.lineIndent === e10 ? f10 = 0 : t33.lineIndent < e10 && (f10 = -1)), 1 === f10) for (; sa(t33) || so(t33); ) o3(t33, true, -1) ? (y10 = true, s10 = a10, t33.lineIndent > e10 ? f10 = 1 : t33.lineIndent === e10 ? f10 = 0 : t33.lineIndent < e10 && (f10 = -1)) : s10 = false;
  if (s10 && (s10 = y10 || n10), (1 === f10 || 4 === r10) && (p10 = 1 === r10 || 2 === r10 ? e10 : e10 + 1, g10 = t33.position - t33.lineStart, 1 === f10 ? s10 && (si(t33, g10) || sn(t33, g10, p10)) || se(t33, p10) ? v10 = true : (o10 && sr(t33, p10) || o9(t33, p10) || st(t33, p10) ? v10 = true : ss(t33) ? (v10 = true, (null !== t33.tag || null !== t33.anchor) && oQ(t33, "alias node should not have any properties")) : o8(t33, p10, 1 === r10) && (v10 = true, null === t33.tag && (t33.tag = "?")), null !== t33.anchor && (t33.anchorMap[t33.anchor] = t33.result)) : 0 === f10 && (v10 = s10 && si(t33, g10))), null === t33.tag) null !== t33.anchor && (t33.anchorMap[t33.anchor] = t33.result);
  else if ("?" === t33.tag) {
    for (null !== t33.result && "scalar" !== t33.kind && oQ(t33, 'unacceptable node kind for !<?> tag; it should be "scalar", not "' + t33.kind + '"'), l10 = 0, h10 = t33.implicitTypes.length; l10 < h10; l10 += 1) if ((d10 = t33.implicitTypes[l10]).resolve(t33.result)) {
      t33.result = d10.construct(t33.result), t33.tag = d10.tag, null !== t33.anchor && (t33.anchorMap[t33.anchor] = t33.result);
      break;
    }
  } else if ("!" !== t33.tag) {
    if (oM.call(t33.typeMap[t33.kind || "fallback"], t33.tag)) d10 = t33.typeMap[t33.kind || "fallback"][t33.tag];
    else for (l10 = 0, d10 = null, h10 = (u10 = t33.typeMap.multi[t33.kind || "fallback"]).length; l10 < h10; l10 += 1) if (t33.tag.slice(0, u10[l10].tag.length) === u10[l10].tag) {
      d10 = u10[l10];
      break;
    }
    d10 || oQ(t33, "unknown tag !<" + t33.tag + ">"), null !== t33.result && d10.kind !== t33.kind && oQ(t33, "unacceptable node kind for !<" + t33.tag + '> tag; it should be "' + d10.kind + '", not "' + t33.kind + '"'), d10.resolve(t33.result, t33.tag) ? (t33.result = d10.construct(t33.result, t33.tag), null !== t33.anchor && (t33.anchorMap[t33.anchor] = t33.result)) : oQ(t33, "cannot resolve a node with !<" + t33.tag + "> explicit tag");
  }
  return null !== t33.listener && t33.listener("close", t33), null !== t33.tag || null !== t33.anchor || v10;
}
function sh(t33) {
  var e10, r10, i10, n10, a10 = t33.position, o10 = false;
  for (t33.version = null, t33.checkLineBreaks = t33.legacy, t33.tagMap = /* @__PURE__ */ Object.create(null), t33.anchorMap = /* @__PURE__ */ Object.create(null); 0 !== (n10 = t33.input.charCodeAt(t33.position)) && (o3(t33, true, -1), n10 = t33.input.charCodeAt(t33.position), !(t33.lineIndent > 0) && 37 === n10); ) {
    for (o10 = true, n10 = t33.input.charCodeAt(++t33.position), e10 = t33.position; 0 !== n10 && !oU(n10); ) n10 = t33.input.charCodeAt(++t33.position);
    for (r10 = t33.input.slice(e10, t33.position), i10 = [], r10.length < 1 && oQ(t33, "directive name must not be less than one character in length"); 0 !== n10; ) {
      for (; oz(n10); ) n10 = t33.input.charCodeAt(++t33.position);
      if (35 === n10) {
        do
          n10 = t33.input.charCodeAt(++t33.position);
        while (0 !== n10 && !oF(n10));
        break;
      }
      if (oF(n10)) break;
      for (e10 = t33.position; 0 !== n10 && !oU(n10); ) n10 = t33.input.charCodeAt(++t33.position);
      i10.push(t33.input.slice(e10, t33.position));
    }
    0 !== n10 && o5(t33), oM.call(o0, r10) ? o0[r10](t33, r10, i10) : oJ(t33, 'unknown document directive "' + r10 + '"');
  }
  if (o3(t33, true, -1), 0 === t33.lineIndent && 45 === t33.input.charCodeAt(t33.position) && 45 === t33.input.charCodeAt(t33.position + 1) && 45 === t33.input.charCodeAt(t33.position + 2) ? (t33.position += 3, o3(t33, true, -1)) : o10 && oQ(t33, "directives end mark is expected"), sl(t33, t33.lineIndent - 1, 4, false, true), o3(t33, true, -1), t33.checkLineBreaks && oD.test(t33.input.slice(a10, t33.position)) && oJ(t33, "non-ASCII line breaks are interpreted as content"), t33.documents.push(t33.result), t33.position === t33.lineStart && o6(t33)) {
    46 === t33.input.charCodeAt(t33.position) && (t33.position += 3, o3(t33, true, -1));
    return;
  }
  t33.position < t33.length - 1 && oQ(t33, "end of the stream or a document separator is expected");
}
function sc(t33, e10) {
  t33 = String(t33), e10 = e10 || {}, 0 !== t33.length && (10 !== t33.charCodeAt(t33.length - 1) && 13 !== t33.charCodeAt(t33.length - 1) && (t33 += "\n"), 65279 === t33.charCodeAt(0) && (t33 = t33.slice(1)));
  var r10 = new oK(t33, e10), i10 = t33.indexOf("\0");
  for (-1 !== i10 && (r10.position = i10, oQ(r10, "null byte is not allowed in input")), r10.input += "\0"; 32 === r10.input.charCodeAt(r10.position); ) r10.lineIndent += 1, r10.position += 1;
  for (; r10.position < r10.length - 1; ) sh(r10);
  return r10.documents;
}
function su(t33, e10) {
  var r10 = sc(t33, e10);
  if (0 !== r10.length) {
    if (1 === r10.length) return r10[0];
    throw new aR("expected a single document in the stream, but found more");
  }
}
iZ(o1, "captureSegment"), iZ(o2, "mergeMappings"), iZ(o4, "storeMappingPair"), iZ(o5, "readLineBreak"), iZ(o3, "skipSeparationSpace"), iZ(o6, "testDocumentSeparator"), iZ(o7, "writeFoldedLines"), iZ(o8, "readPlainScalar"), iZ(o9, "readSingleQuotedScalar"), iZ(st, "readDoubleQuotedScalar"), iZ(se, "readFlowCollection"), iZ(sr, "readBlockScalar"), iZ(si, "readBlockSequence"), iZ(sn, "readBlockMapping"), iZ(sa, "readTagProperty"), iZ(so, "readAnchorProperty"), iZ(ss, "readAlias"), iZ(sl, "composeNode"), iZ(sh, "readDocument"), iZ(sc, "loadDocuments"), iZ(function(t33, e10, r10) {
  null !== e10 && "object" == typeof e10 && void 0 === r10 && (r10 = e10, e10 = null);
  var i10 = sc(t33, r10);
  if ("function" != typeof e10) return i10;
  for (var n10 = 0, a10 = i10.length; n10 < a10; n10 += 1) e10(i10[n10]);
}, "loadAll$1"), iZ(su, "load$1");
var sd = Object.prototype.toString, sp = Object.prototype.hasOwnProperty, sg = {};
sg[0] = "\\0", sg[7] = "\\a", sg[8] = "\\b", sg[9] = "\\t", sg[10] = "\\n", sg[11] = "\\v", sg[12] = "\\f", sg[13] = "\\r", sg[27] = "\\e", sg[34] = '\\"', sg[92] = "\\\\", sg[133] = "\\N", sg[160] = "\\_", sg[8232] = "\\L", sg[8233] = "\\P";
var sf = ["y", "Y", "yes", "Yes", "YES", "on", "On", "ON", "n", "N", "no", "No", "NO", "off", "Off", "OFF"], sm = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;
function sy(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10;
  if (null === e10) return {};
  for (n10 = 0, r10 = {}, a10 = (i10 = Object.keys(e10)).length; n10 < a10; n10 += 1) s10 = String(e10[o10 = i10[n10]]), "!!" === o10.slice(0, 2) && (o10 = "tag:yaml.org,2002:" + o10.slice(2)), (l10 = t33.compiledTypeMap.fallback[o10]) && sp.call(l10.styleAliases, s10) && (s10 = l10.styleAliases[s10]), r10[o10] = s10;
  return r10;
}
function sv(t33) {
  var e10, r10, i10;
  if (e10 = t33.toString(16).toUpperCase(), t33 <= 255) r10 = "x", i10 = 2;
  else if (t33 <= 65535) r10 = "u", i10 = 4;
  else if (t33 <= 4294967295) r10 = "U", i10 = 8;
  else throw new aR("code point within a string may not be greater than 0xFFFFFFFF");
  return "\\" + r10 + aI.repeat("0", i10 - e10.length) + e10;
}
function sx(t33) {
  this.schema = t33.schema || oI, this.indent = Math.max(1, t33.indent || 2), this.noArrayIndent = t33.noArrayIndent || false, this.skipInvalid = t33.skipInvalid || false, this.flowLevel = aI.isNothing(t33.flowLevel) ? -1 : t33.flowLevel, this.styleMap = sy(this.schema, t33.styles || null), this.sortKeys = t33.sortKeys || false, this.lineWidth = t33.lineWidth || 80, this.noRefs = t33.noRefs || false, this.noCompatMode = t33.noCompatMode || false, this.condenseFlow = t33.condenseFlow || false, this.quotingType = '"' === t33.quotingType ? 2 : 1, this.forceQuotes = t33.forceQuotes || false, this.replacer = "function" == typeof t33.replacer ? t33.replacer : null, this.implicitTypes = this.schema.compiledImplicit, this.explicitTypes = this.schema.compiledExplicit, this.tag = null, this.result = "", this.duplicates = [], this.usedDuplicates = null;
}
function sb(t33, e10) {
  for (var r10, i10 = aI.repeat(" ", e10), n10 = 0, a10 = -1, o10 = "", s10 = t33.length; n10 < s10; ) -1 === (a10 = t33.indexOf("\n", n10)) ? (r10 = t33.slice(n10), n10 = s10) : (r10 = t33.slice(n10, a10 + 1), n10 = a10 + 1), r10.length && "\n" !== r10 && (o10 += i10), o10 += r10;
  return o10;
}
function sw(t33, e10) {
  return "\n" + aI.repeat(" ", t33.indent * e10);
}
function sk(t33, e10) {
  var r10, i10;
  for (r10 = 0, i10 = t33.implicitTypes.length; r10 < i10; r10 += 1) if (t33.implicitTypes[r10].resolve(e10)) return true;
  return false;
}
function s_(t33) {
  return 32 === t33 || 9 === t33;
}
function sT(t33) {
  return 32 <= t33 && t33 <= 126 || 161 <= t33 && t33 <= 55295 && 8232 !== t33 && 8233 !== t33 || 57344 <= t33 && t33 <= 65533 && 65279 !== t33 || 65536 <= t33 && t33 <= 1114111;
}
function sE(t33) {
  return sT(t33) && 65279 !== t33 && 13 !== t33 && 10 !== t33;
}
function sC(t33, e10, r10) {
  var i10 = sE(t33), n10 = i10 && !s_(t33);
  return (r10 ? i10 : i10 && 44 !== t33 && 91 !== t33 && 93 !== t33 && 123 !== t33 && 125 !== t33) && 35 !== t33 && !(58 === e10 && !n10) || sE(e10) && !s_(e10) && 35 === t33 || 58 === e10 && n10;
}
function sS(t33) {
  return sT(t33) && 65279 !== t33 && !s_(t33) && 45 !== t33 && 63 !== t33 && 58 !== t33 && 44 !== t33 && 91 !== t33 && 93 !== t33 && 123 !== t33 && 125 !== t33 && 35 !== t33 && 38 !== t33 && 42 !== t33 && 33 !== t33 && 124 !== t33 && 61 !== t33 && 62 !== t33 && 39 !== t33 && 34 !== t33 && 37 !== t33 && 64 !== t33 && 96 !== t33;
}
function sA(t33) {
  return !s_(t33) && 58 !== t33;
}
function sL(t33, e10) {
  var r10, i10 = t33.charCodeAt(e10);
  return i10 >= 55296 && i10 <= 56319 && e10 + 1 < t33.length && (r10 = t33.charCodeAt(e10 + 1)) >= 56320 && r10 <= 57343 ? (i10 - 55296) * 1024 + r10 - 56320 + 65536 : i10;
}
function sN(t33) {
  return /^\n* /.test(t33);
}
function sI(t33, e10, r10, i10, n10, a10, o10, s10) {
  var l10, h10 = 0, u10 = null, d10 = false, p10 = false, g10 = -1 !== i10, f10 = -1, y10 = sS(sL(t33, 0)) && sA(sL(t33, t33.length - 1));
  if (e10 || o10) for (l10 = 0; l10 < t33.length; h10 >= 65536 ? l10 += 2 : l10++) {
    if (!sT(h10 = sL(t33, l10))) return 5;
    y10 = y10 && sC(h10, u10, s10), u10 = h10;
  }
  else {
    for (l10 = 0; l10 < t33.length; h10 >= 65536 ? l10 += 2 : l10++) {
      if (10 === (h10 = sL(t33, l10))) d10 = true, g10 && (p10 = p10 || l10 - f10 - 1 > i10 && " " !== t33[f10 + 1], f10 = l10);
      else if (!sT(h10)) return 5;
      y10 = y10 && sC(h10, u10, s10), u10 = h10;
    }
    p10 = p10 || g10 && l10 - f10 - 1 > i10 && " " !== t33[f10 + 1];
  }
  return d10 || p10 ? r10 > 9 && sN(t33) ? 5 : o10 ? 2 === a10 ? 5 : 2 : p10 ? 4 : 3 : !y10 || o10 || n10(t33) ? 2 === a10 ? 5 : 2 : 1;
}
function sM(t33, e10, r10, i10, n10) {
  t33.dump = function() {
    if (0 === e10.length) return 2 === t33.quotingType ? '""' : "''";
    if (!t33.noCompatMode && (-1 !== sf.indexOf(e10) || sm.test(e10))) return 2 === t33.quotingType ? '"' + e10 + '"' : "'" + e10 + "'";
    var a10 = t33.indent * Math.max(1, r10), o10 = -1 === t33.lineWidth ? -1 : Math.max(Math.min(t33.lineWidth, 40), t33.lineWidth - a10), s10 = i10 || t33.flowLevel > -1 && r10 >= t33.flowLevel;
    function l10(e11) {
      return sk(t33, e11);
    }
    switch (iZ(l10, "testAmbiguity"), sI(e10, s10, t33.indent, o10, l10, t33.quotingType, t33.forceQuotes && !i10, n10)) {
      case 1:
        return e10;
      case 2:
        return "'" + e10.replace(/'/g, "''") + "'";
      case 3:
        return "|" + sR(e10, t33.indent) + sD(sb(e10, a10));
      case 4:
        return ">" + sR(e10, t33.indent) + sD(sb(sO(e10, o10), a10));
      case 5:
        return '"' + s$(e10) + '"';
      default:
        throw new aR("impossible error: invalid scalar style");
    }
  }();
}
function sR(t33, e10) {
  var r10 = sN(t33) ? String(e10) : "", i10 = "\n" === t33[t33.length - 1];
  return r10 + (i10 && ("\n" === t33[t33.length - 2] || "\n" === t33) ? "+" : i10 ? "" : "-") + "\n";
}
function sD(t33) {
  return "\n" === t33[t33.length - 1] ? t33.slice(0, -1) : t33;
}
function sO(t33, e10) {
  for (var r10, i10, n10, a10 = /(\n+)([^\n]*)/g, o10 = (r10 = -1 !== (r10 = t33.indexOf("\n")) ? r10 : t33.length, a10.lastIndex = r10, sP(t33.slice(0, r10), e10)), s10 = "\n" === t33[0] || " " === t33[0]; n10 = a10.exec(t33); ) {
    var l10 = n10[1], h10 = n10[2];
    i10 = " " === h10[0], o10 += l10 + (s10 || i10 || "" === h10 ? "" : "\n") + sP(h10, e10), s10 = i10;
  }
  return o10;
}
function sP(t33, e10) {
  if ("" === t33 || " " === t33[0]) return t33;
  for (var r10, i10, n10 = / [^ ]/g, a10 = 0, o10 = 0, s10 = 0, l10 = ""; r10 = n10.exec(t33); ) (s10 = r10.index) - a10 > e10 && (i10 = o10 > a10 ? o10 : s10, l10 += "\n" + t33.slice(a10, i10), a10 = i10 + 1), o10 = s10;
  return l10 += "\n", t33.length - a10 > e10 && o10 > a10 ? l10 += t33.slice(a10, o10) + "\n" + t33.slice(o10 + 1) : l10 += t33.slice(a10), l10.slice(1);
}
function s$(t33) {
  for (var e10, r10 = "", i10 = 0, n10 = 0; n10 < t33.length; i10 >= 65536 ? n10 += 2 : n10++) !(e10 = sg[i10 = sL(t33, n10)]) && sT(i10) ? (r10 += t33[n10], i10 >= 65536 && (r10 += t33[n10 + 1])) : r10 += e10 || sv(i10);
  return r10;
}
function sB(t33, e10, r10) {
  var i10, n10, a10, o10 = "", s10 = t33.tag;
  for (i10 = 0, n10 = r10.length; i10 < n10; i10 += 1) a10 = r10[i10], t33.replacer && (a10 = t33.replacer.call(r10, String(i10), a10)), (sq(t33, e10, a10, false, false) || void 0 === a10 && sq(t33, e10, null, false, false)) && ("" !== o10 && (o10 += "," + (t33.condenseFlow ? "" : " ")), o10 += t33.dump);
  t33.tag = s10, t33.dump = "[" + o10 + "]";
}
function sF(t33, e10, r10, i10) {
  var n10, a10, o10, s10 = "", l10 = t33.tag;
  for (n10 = 0, a10 = r10.length; n10 < a10; n10 += 1) o10 = r10[n10], t33.replacer && (o10 = t33.replacer.call(r10, String(n10), o10)), (sq(t33, e10 + 1, o10, true, true, false, true) || void 0 === o10 && sq(t33, e10 + 1, null, true, true, false, true)) && (i10 && "" === s10 || (s10 += sw(t33, e10)), t33.dump && 10 === t33.dump.charCodeAt(0) ? s10 += "-" : s10 += "- ", s10 += t33.dump);
  t33.tag = l10, t33.dump = s10 || "[]";
}
function sz(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10 = "", h10 = t33.tag, u10 = Object.keys(r10);
  for (i10 = 0, n10 = u10.length; i10 < n10; i10 += 1) s10 = "", "" !== l10 && (s10 += ", "), t33.condenseFlow && (s10 += '"'), o10 = r10[a10 = u10[i10]], t33.replacer && (o10 = t33.replacer.call(r10, a10, o10)), sq(t33, e10, a10, false, false) && (t33.dump.length > 1024 && (s10 += "? "), s10 += t33.dump + (t33.condenseFlow ? '"' : "") + ":" + (t33.condenseFlow ? "" : " "), sq(t33, e10, o10, false, false) && (s10 += t33.dump, l10 += s10));
  t33.tag = h10, t33.dump = "{" + l10 + "}";
}
function sU(t33, e10, r10, i10) {
  var n10, a10, o10, s10, l10, h10, u10 = "", d10 = t33.tag, p10 = Object.keys(r10);
  if (true === t33.sortKeys) p10.sort();
  else if ("function" == typeof t33.sortKeys) p10.sort(t33.sortKeys);
  else if (t33.sortKeys) throw new aR("sortKeys must be a boolean or a function");
  for (n10 = 0, a10 = p10.length; n10 < a10; n10 += 1) h10 = "", i10 && "" === u10 || (h10 += sw(t33, e10)), s10 = r10[o10 = p10[n10]], t33.replacer && (s10 = t33.replacer.call(r10, o10, s10)), sq(t33, e10 + 1, o10, true, true, true) && ((l10 = null !== t33.tag && "?" !== t33.tag || t33.dump && t33.dump.length > 1024) && (t33.dump && 10 === t33.dump.charCodeAt(0) ? h10 += "?" : h10 += "? "), h10 += t33.dump, l10 && (h10 += sw(t33, e10)), sq(t33, e10 + 1, s10, true, l10) && (t33.dump && 10 === t33.dump.charCodeAt(0) ? h10 += ":" : h10 += ": ", h10 += t33.dump, u10 += h10));
  t33.tag = d10, t33.dump = u10 || "{}";
}
function sG(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10;
  for (a10 = 0, o10 = (n10 = r10 ? t33.explicitTypes : t33.implicitTypes).length; a10 < o10; a10 += 1) if (((s10 = n10[a10]).instanceOf || s10.predicate) && (!s10.instanceOf || "object" == typeof e10 && e10 instanceof s10.instanceOf) && (!s10.predicate || s10.predicate(e10))) {
    if (r10 ? s10.multi && s10.representName ? t33.tag = s10.representName(e10) : t33.tag = s10.tag : t33.tag = "?", s10.represent) {
      if (l10 = t33.styleMap[s10.tag] || s10.defaultStyle, "[object Function]" === sd.call(s10.represent)) i10 = s10.represent(e10, l10);
      else if (sp.call(s10.represent, l10)) i10 = s10.represent[l10](e10, l10);
      else throw new aR("!<" + s10.tag + '> tag resolver accepts not "' + l10 + '" style');
      t33.dump = i10;
    }
    return true;
  }
  return false;
}
function sq(t33, e10, r10, i10, n10, a10, o10) {
  t33.tag = null, t33.dump = r10, sG(t33, r10, false) || sG(t33, r10, true);
  var s10 = sd.call(t33.dump), l10 = i10;
  i10 && (i10 = t33.flowLevel < 0 || t33.flowLevel > e10);
  var h10, u10, d10, p10 = "[object Object]" === s10 || "[object Array]" === s10;
  if (p10 && (d10 = -1 !== (u10 = t33.duplicates.indexOf(r10))), (null !== t33.tag && "?" !== t33.tag || d10 || 2 !== t33.indent && e10 > 0) && (n10 = false), d10 && t33.usedDuplicates[u10]) t33.dump = "*ref_" + u10;
  else {
    if (p10 && d10 && !t33.usedDuplicates[u10] && (t33.usedDuplicates[u10] = true), "[object Object]" === s10) i10 && 0 !== Object.keys(t33.dump).length ? (sU(t33, e10, t33.dump, n10), d10 && (t33.dump = "&ref_" + u10 + t33.dump)) : (sz(t33, e10, t33.dump), d10 && (t33.dump = "&ref_" + u10 + " " + t33.dump));
    else if ("[object Array]" === s10) i10 && 0 !== t33.dump.length ? (t33.noArrayIndent && !o10 && e10 > 0 ? sF(t33, e10 - 1, t33.dump, n10) : sF(t33, e10, t33.dump, n10), d10 && (t33.dump = "&ref_" + u10 + t33.dump)) : (sB(t33, e10, t33.dump), d10 && (t33.dump = "&ref_" + u10 + " " + t33.dump));
    else if ("[object String]" === s10) "?" !== t33.tag && sM(t33, t33.dump, e10, a10, l10);
    else {
      if ("[object Undefined]" === s10 || t33.skipInvalid) return false;
      throw new aR("unacceptable kind of an object to dump " + s10);
    }
    null !== t33.tag && "?" !== t33.tag && (h10 = encodeURI("!" === t33.tag[0] ? t33.tag.slice(1) : t33.tag).replace(/!/g, "%21"), h10 = "!" === t33.tag[0] ? "!" + h10 : "tag:yaml.org,2002:" === h10.slice(0, 18) ? "!!" + h10.slice(18) : "!<" + h10 + ">", t33.dump = h10 + " " + t33.dump);
  }
  return true;
}
function sY(t33, e10) {
  var r10, i10, n10 = [], a10 = [];
  for (sH(t33, n10, a10), r10 = 0, i10 = a10.length; r10 < i10; r10 += 1) e10.duplicates.push(n10[a10[r10]]);
  e10.usedDuplicates = Array(i10);
}
function sH(t33, e10, r10) {
  var i10, n10, a10;
  if (null !== t33 && "object" == typeof t33) {
    if (-1 !== (n10 = e10.indexOf(t33))) -1 === r10.indexOf(n10) && r10.push(n10);
    else if (e10.push(t33), Array.isArray(t33)) for (n10 = 0, a10 = t33.length; n10 < a10; n10 += 1) sH(t33[n10], e10, r10);
    else for (n10 = 0, a10 = (i10 = Object.keys(t33)).length; n10 < a10; n10 += 1) sH(t33[i10[n10]], e10, r10);
  }
}
iZ(sy, "compileStyleMap"), iZ(sv, "encodeHex"), iZ(sx, "State"), iZ(sb, "indentString"), iZ(sw, "generateNextLine"), iZ(sk, "testImplicitResolving"), iZ(s_, "isWhitespace"), iZ(sT, "isPrintable"), iZ(sE, "isNsCharOrWhitespace"), iZ(sC, "isPlainSafe"), iZ(sS, "isPlainSafeFirst"), iZ(sA, "isPlainSafeLast"), iZ(sL, "codePointAt"), iZ(sN, "needIndentIndicator"), iZ(sI, "chooseScalarStyle"), iZ(sM, "writeScalar"), iZ(sR, "blockHeader"), iZ(sD, "dropEndingNewline"), iZ(sO, "foldString"), iZ(sP, "foldLine"), iZ(s$, "escapeString"), iZ(sB, "writeFlowSequence"), iZ(sF, "writeBlockSequence"), iZ(sz, "writeFlowMapping"), iZ(sU, "writeBlockMapping"), iZ(sG, "detectType"), iZ(sq, "writeNode"), iZ(sY, "getDuplicateReferences"), iZ(sH, "inspectNode"), iZ(function(t33, e10) {
  var r10 = new sx(e10 = e10 || {});
  r10.noRefs || sY(t33, r10);
  var i10 = t33;
  return (r10.replacer && (i10 = r10.replacer.call({ "": i10 }, "", i10)), sq(r10, 0, i10, true, true)) ? r10.dump + "\n" : "";
}, "dump$1"), iZ(function(t33, e10) {
  return function() {
    throw Error("Function yaml." + t33 + " is removed in js-yaml 4. Use yaml." + e10 + " instead, which is now safe by default.");
  };
}, "renamed");
let sj = Object.freeze({ left: 0, top: 0, width: 16, height: 16 }), sW = Object.freeze({ rotate: 0, vFlip: false, hFlip: false }), sV = Object.freeze({ ...sj, ...sW }), sX = Object.freeze({ ...sV, body: "", hidden: false }), sK = Object.freeze({ ...Object.freeze({ width: null, height: null }), ...sW }), sZ = function(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "", n10 = t33.split(":");
  if ("@" === t33.slice(0, 1)) {
    if (n10.length < 2 || n10.length > 3) return null;
    i10 = n10.shift().slice(1);
  }
  if (n10.length > 3 || !n10.length) return null;
  if (n10.length > 1) {
    let t34 = n10.pop(), e11 = n10.pop(), r11 = { provider: n10.length > 0 ? n10[0] : i10, prefix: e11, name: t34 };
    return sQ(r11) ? r11 : null;
  }
  let a10 = n10[0], o10 = a10.split("-");
  if (o10.length > 1) {
    let t34 = { provider: i10, prefix: o10.shift(), name: o10.join("-") };
    return sQ(t34) ? t34 : null;
  }
  if (r10 && "" === i10) {
    let t34 = { provider: i10, prefix: "", name: a10 };
    return sQ(t34, r10) ? t34 : null;
  }
  return null;
}, sQ = (t33, e10) => !!t33 && !!((e10 && "" === t33.prefix || t33.prefix) && t33.name);
function sJ(t33, e10) {
  let r10 = function(t34, e11) {
    let r11 = {};
    !t34.hFlip != !e11.hFlip && (r11.hFlip = true), !t34.vFlip != !e11.vFlip && (r11.vFlip = true);
    let i10 = ((t34.rotate || 0) + (e11.rotate || 0)) % 4;
    return i10 && (r11.rotate = i10), r11;
  }(t33, e10);
  for (let i10 in sX) i10 in sW ? i10 in t33 && !(i10 in r10) && (r10[i10] = sW[i10]) : i10 in e10 ? r10[i10] = e10[i10] : i10 in t33 && (r10[i10] = t33[i10]);
  return r10;
}
function s0(t33, e10, r10) {
  let i10 = t33.icons, n10 = t33.aliases || /* @__PURE__ */ Object.create(null), a10 = {};
  function o10(t34) {
    a10 = sJ(i10[t34] || n10[t34], a10);
  }
  return o10(e10), r10.forEach(o10), sJ(t33, a10);
}
let s1 = /(-?[0-9.]*[0-9]+[0-9.]*)/g, s2 = /^-?[0-9.]*[0-9]+[0-9.]*$/g;
function s4(t33, e10, r10) {
  if (1 === e10) return t33;
  if (r10 = r10 || 100, "number" == typeof t33) return Math.ceil(t33 * e10 * r10) / r10;
  if ("string" != typeof t33) return t33;
  let i10 = t33.split(s1);
  if (null === i10 || !i10.length) return t33;
  let n10 = [], a10 = i10.shift(), o10 = s2.test(a10);
  for (; ; ) {
    if (o10) {
      let t34 = parseFloat(a10);
      isNaN(t34) ? n10.push(a10) : n10.push(Math.ceil(t34 * e10 * r10) / r10);
    } else n10.push(a10);
    if (void 0 === (a10 = i10.shift())) return n10.join("");
    o10 = !o10;
  }
}
let s5 = (t33) => "unset" === t33 || "undefined" === t33 || "none" === t33, s3 = /\sid="(\S+)"/g, s6 = "IconifyId" + Date.now().toString(16) + (16777216 * Math.random() | 0).toString(16), s7 = 0;
var s8 = { body: '<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>', height: 80, width: 80 }, s9 = /* @__PURE__ */ new Map(), lt = /* @__PURE__ */ new Map(), le = iZ((t33) => {
  for (let e10 of t33) {
    if (!e10.name) throw Error('Invalid icon loader. Must have a "name" property with non-empty string value.');
    if (i0.debug("Registering icon pack:", e10.name), "loader" in e10) lt.set(e10.name, e10.loader);
    else if ("icons" in e10) s9.set(e10.name, e10.icons);
    else throw i0.error("Invalid icon loader:", e10), Error('Invalid icon loader. Must have either "icons" or "loader" property.');
  }
}, "registerIconPacks"), lr = iZ(async (t33, e10) => {
  let r10 = sZ(t33, true, void 0 !== e10);
  if (!r10) throw Error(`Invalid icon name: ${t33}`);
  let i10 = r10.prefix || e10;
  if (!i10) throw Error(`Icon name must contain a prefix: ${t33}`);
  let n10 = s9.get(i10);
  if (!n10) {
    let t34 = lt.get(i10);
    if (!t34) throw Error(`Icon set not found: ${r10.prefix}`);
    try {
      n10 = { ...await t34(), prefix: i10 }, s9.set(i10, n10);
    } catch (t35) {
      throw i0.error(t35), Error(`Failed to load icon set: ${r10.prefix}`);
    }
  }
  let a10 = function(t34, e11) {
    if (t34.icons[e11]) return s0(t34, e11, []);
    let r11 = function(t35, e12) {
      let r12 = t35.icons, i11 = t35.aliases || /* @__PURE__ */ Object.create(null), n11 = /* @__PURE__ */ Object.create(null);
      return e12.forEach(function t36(e13) {
        if (r12[e13]) return n11[e13] = [];
        if (!(e13 in n11)) {
          n11[e13] = null;
          let r13 = i11[e13] && i11[e13].parent, a11 = r13 && t36(r13);
          a11 && (n11[e13] = [r13].concat(a11));
        }
        return n11[e13];
      }), n11;
    }(t34, [e11])[e11];
    return r11 ? s0(t34, e11, r11) : null;
  }(n10, r10.name);
  if (!a10) throw Error(`Icon not found: ${t33}`);
  return a10;
}, "getRegisteredIconData"), li = iZ(async (t33, e10) => {
  let r10;
  try {
    r10 = await lr(t33, null == e10 ? void 0 : e10.fallbackPrefix);
  } catch (t34) {
    i0.error(t34), r10 = s8;
  }
  let i10 = function(t34, e11) {
    let r11, i11;
    let n10 = { ...sV, ...t34 }, a10 = { ...sK, ...e11 }, o10 = { left: n10.left, top: n10.top, width: n10.width, height: n10.height }, s10 = n10.body;
    [n10, a10].forEach((t35) => {
      let e12;
      let r12 = [], i12 = t35.hFlip, n11 = t35.vFlip, a11 = t35.rotate;
      switch (i12 ? n11 ? a11 += 2 : (r12.push("translate(" + (o10.width + o10.left).toString() + " " + (0 - o10.top).toString() + ")"), r12.push("scale(-1 1)"), o10.top = o10.left = 0) : n11 && (r12.push("translate(" + (0 - o10.left).toString() + " " + (o10.height + o10.top).toString() + ")"), r12.push("scale(1 -1)"), o10.top = o10.left = 0), a11 < 0 && (a11 -= 4 * Math.floor(a11 / 4)), a11 %= 4) {
        case 1:
          r12.unshift("rotate(90 " + (e12 = o10.height / 2 + o10.top).toString() + " " + e12.toString() + ")");
          break;
        case 2:
          r12.unshift("rotate(180 " + (o10.width / 2 + o10.left).toString() + " " + (o10.height / 2 + o10.top).toString() + ")");
          break;
        case 3:
          r12.unshift("rotate(-90 " + (e12 = o10.width / 2 + o10.left).toString() + " " + e12.toString() + ")");
      }
      a11 % 2 == 1 && (o10.left !== o10.top && (e12 = o10.left, o10.left = o10.top, o10.top = e12), o10.width !== o10.height && (e12 = o10.width, o10.width = o10.height, o10.height = e12)), r12.length && (s10 = function(t36, e13, r13) {
        var i13, n12;
        let a12 = function(t37) {
          let e14 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "defs", r14 = "", i14 = t37.indexOf("<" + e14);
          for (; i14 >= 0; ) {
            let n13 = t37.indexOf(">", i14), a13 = t37.indexOf("</" + e14);
            if (-1 === n13 || -1 === a13) break;
            let o11 = t37.indexOf(">", a13);
            if (-1 === o11) break;
            r14 += t37.slice(n13 + 1, a13).trim(), t37 = t37.slice(0, i14).trim() + t37.slice(o11 + 1);
          }
          return { defs: r14, content: t37 };
        }(t36);
        return i13 = a12.defs, n12 = e13 + a12.content + r13, i13 ? "<defs>" + i13 + "</defs>" + n12 : n12;
      }(s10, '<g transform="' + r12.join(" ") + '">', "</g>"));
    });
    let l10 = a10.width, h10 = a10.height, u10 = o10.width, d10 = o10.height;
    null === l10 ? r11 = s4(i11 = null === h10 ? "1em" : "auto" === h10 ? d10 : h10, u10 / d10) : (r11 = "auto" === l10 ? u10 : l10, i11 = null === h10 ? s4(r11, d10 / u10) : "auto" === h10 ? d10 : h10);
    let p10 = {}, g10 = (t35, e12) => {
      s5(e12) || (p10[t35] = e12.toString());
    };
    g10("width", r11), g10("height", i11);
    let f10 = [o10.left, o10.top, u10, d10];
    return p10.viewBox = f10.join(" "), { attributes: p10, viewBox: f10, body: s10 };
  }(r10, e10);
  return function(t34, e11) {
    let r11 = -1 === t34.indexOf("xlink:") ? "" : ' xmlns:xlink="http://www.w3.org/1999/xlink"';
    for (let t35 in e11) r11 += " " + t35 + '="' + e11[t35] + '"';
    return '<svg xmlns="http://www.w3.org/2000/svg"' + r11 + ">" + t34 + "</svg>";
  }(function(t34) {
    let e11, r11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : s6, i11 = [];
    for (; e11 = s3.exec(t34); ) i11.push(e11[1]);
    if (!i11.length) return t34;
    let n10 = "suffix" + (16777216 * Math.random() | Date.now()).toString(16);
    return i11.forEach((e12) => {
      let i12 = "function" == typeof r11 ? r11(e12) : r11 + (s7++).toString(), a10 = e12.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
      t34 = t34.replace(RegExp('([#;"])(' + a10 + ')([")]|\\.[a-z])', "g"), "$1" + i12 + n10 + "$3");
    }), t34 = t34.replace(RegExp(n10, "g"), "");
  }(i10.body), i10.attributes);
}, "getIconSVG"), ln = iZ((t33) => {
  var e10, r10, i10, n10;
  let { flowchart: a10 } = t33, o10 = null !== (i10 = null == a10 ? void 0 : null === (e10 = a10.subGraphTitleMargin) || void 0 === e10 ? void 0 : e10.top) && void 0 !== i10 ? i10 : 0, s10 = null !== (n10 = null == a10 ? void 0 : null === (r10 = a10.subGraphTitleMargin) || void 0 === r10 ? void 0 : r10.bottom) && void 0 !== n10 ? n10 : 0;
  return { subGraphTitleTopMargin: o10, subGraphTitleBottomMargin: s10, subGraphTitleTotalMargin: o10 + s10 };
}, "getSubGraphTitleMargins"), la = {}, lo = {}, ls = function() {
  if (cm) return la;
  cm = 1, Object.defineProperty(la, "__esModule", { value: true }), la.sanitizeUrl = void 0;
  var t33 = (cf || (cf = 1, Object.defineProperty(lo, "__esModule", { value: true }), lo.BLANK_URL = lo.relativeFirstCharacters = lo.whitespaceEscapeCharsRegex = lo.urlSchemeRegex = lo.ctrlCharactersRegex = lo.htmlCtrlEntityRegex = lo.htmlEntitiesRegex = lo.invalidProtocolRegex = void 0, lo.invalidProtocolRegex = /^([^\w]*)(javascript|data|vbscript)/im, lo.htmlEntitiesRegex = /&#(\w+)(^\w|;)?/g, lo.htmlCtrlEntityRegex = /&(newline|tab);/gi, lo.ctrlCharactersRegex = /[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim, lo.urlSchemeRegex = /^.+(:|&colon;)/gim, lo.whitespaceEscapeCharsRegex = /(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g, lo.relativeFirstCharacters = [".", "/"], lo.BLANK_URL = "about:blank"), lo);
  function e10(t34) {
    try {
      return decodeURIComponent(t34);
    } catch (e11) {
      return t34;
    }
  }
  return la.sanitizeUrl = function(r10) {
    if (!r10) return t33.BLANK_URL;
    var i10, n10 = e10(r10.trim());
    do
      i10 = (n10 = e10(n10 = n10.replace(t33.ctrlCharactersRegex, "").replace(t33.htmlEntitiesRegex, function(t34, e11) {
        return String.fromCharCode(e11);
      }).replace(t33.htmlCtrlEntityRegex, "").replace(t33.ctrlCharactersRegex, "").replace(t33.whitespaceEscapeCharsRegex, "").trim())).match(t33.ctrlCharactersRegex) || n10.match(t33.htmlEntitiesRegex) || n10.match(t33.htmlCtrlEntityRegex) || n10.match(t33.whitespaceEscapeCharsRegex);
    while (i10 && i10.length > 0);
    var a10 = n10;
    if (!a10) return t33.BLANK_URL;
    if (t33.relativeFirstCharacters.indexOf(a10[0]) > -1) return a10;
    var o10 = a10.trimStart(), s10 = o10.match(t33.urlSchemeRegex);
    if (!s10) return a10;
    var l10 = s10[0].toLowerCase().trim();
    if (t33.invalidProtocolRegex.test(l10)) return t33.BLANK_URL;
    var h10 = o10.replace(/\\/g, "/");
    if ("mailto:" === l10 || l10.includes("://")) return h10;
    if ("http:" === l10 || "https:" === l10) {
      if (!URL.canParse(h10)) return t33.BLANK_URL;
      var u10 = new URL(h10);
      return u10.protocol = u10.protocol.toLowerCase(), u10.hostname = u10.hostname.toLowerCase(), u10.toString();
    }
    return h10;
  }, la;
}();
function ll(t33, e10) {
  return null == t33 || null == e10 ? NaN : t33 < e10 ? -1 : t33 > e10 ? 1 : t33 >= e10 ? 0 : NaN;
}
function lh(t33, e10) {
  return null == t33 || null == e10 ? NaN : e10 < t33 ? -1 : e10 > t33 ? 1 : e10 >= t33 ? 0 : NaN;
}
function lc(t33) {
  let e10, r10, i10;
  function n10(t34, i11) {
    let n11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, a10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t34.length;
    if (n11 < a10) {
      if (0 !== e10(i11, i11)) return a10;
      do {
        let e11 = n11 + a10 >>> 1;
        0 > r10(t34[e11], i11) ? n11 = e11 + 1 : a10 = e11;
      } while (n11 < a10);
    }
    return n11;
  }
  return 2 !== t33.length ? (e10 = ll, r10 = (e11, r11) => ll(t33(e11), r11), i10 = (e11, r11) => t33(e11) - r11) : (e10 = t33 === ll || t33 === lh ? t33 : lu, r10 = t33, i10 = t33), { left: n10, center: function(t34, e11) {
    let r11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, a10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t34.length, o10 = n10(t34, e11, r11, a10 - 1);
    return o10 > r11 && i10(t34[o10 - 1], e11) > -i10(t34[o10], e11) ? o10 - 1 : o10;
  }, right: function(t34, i11) {
    let n11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, a10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t34.length;
    if (n11 < a10) {
      if (0 !== e10(i11, i11)) return a10;
      do {
        let e11 = n11 + a10 >>> 1;
        0 >= r10(t34[e11], i11) ? n11 = e11 + 1 : a10 = e11;
      } while (n11 < a10);
    }
    return n11;
  } };
}
function lu() {
  return 0;
}
let ld = lc(ll).right;
lc(function(t33) {
  return null === t33 ? NaN : +t33;
}).center;
class lp extends Map {
  constructor(t33, e10 = lf) {
    if (super(), Object.defineProperties(this, { _intern: { value: /* @__PURE__ */ new Map() }, _key: { value: e10 } }), null != t33) for (let [e11, r10] of t33) this.set(e11, r10);
  }
  get(t33) {
    return super.get(lg(this, t33));
  }
  has(t33) {
    return super.has(lg(this, t33));
  }
  set(t33, e10) {
    return super.set(function(t34, e11) {
      let { _intern: r10, _key: i10 } = t34, n10 = i10(e11);
      return r10.has(n10) ? r10.get(n10) : (r10.set(n10, e11), e11);
    }(this, t33), e10);
  }
  delete(t33) {
    return super.delete(function(t34, e10) {
      let { _intern: r10, _key: i10 } = t34, n10 = i10(e10);
      return r10.has(n10) && (e10 = r10.get(e10), r10.delete(n10)), e10;
    }(this, t33));
  }
}
function lg(t33, e10) {
  let { _intern: r10, _key: i10 } = t33, n10 = i10(e10);
  return r10.has(n10) ? r10.get(n10) : e10;
}
function lf(t33) {
  return null !== t33 && "object" == typeof t33 ? t33.valueOf() : t33;
}
let lm = Math.sqrt(50), ly = Math.sqrt(10), lv = Math.sqrt(2);
function lx(t33, e10, r10) {
  let i10, n10, a10;
  let o10 = (e10 - t33) / Math.max(0, r10), s10 = Math.floor(Math.log10(o10)), l10 = o10 / Math.pow(10, s10), h10 = l10 >= lm ? 10 : l10 >= ly ? 5 : l10 >= lv ? 2 : 1;
  return (s10 < 0 ? (i10 = Math.round(t33 * (a10 = Math.pow(10, -s10) / h10)), n10 = Math.round(e10 * a10), i10 / a10 < t33 && ++i10, n10 / a10 > e10 && --n10, a10 = -a10) : (i10 = Math.round(t33 / (a10 = Math.pow(10, s10) * h10)), n10 = Math.round(e10 / a10), i10 * a10 < t33 && ++i10, n10 * a10 > e10 && --n10), n10 < i10 && 0.5 <= r10 && r10 < 2) ? lx(t33, e10, 2 * r10) : [i10, n10, a10];
}
function lb(t33, e10, r10) {
  return lx(t33 = +t33, e10 = +e10, r10 = +r10)[2];
}
function lw(t33, e10, r10) {
  e10 = +e10, t33 = +t33, r10 = +r10;
  let i10 = e10 < t33, n10 = i10 ? lb(e10, t33, r10) : lb(t33, e10, r10);
  return (i10 ? -1 : 1) * (n10 < 0 ? -(1 / n10) : n10);
}
function lk(t33) {
  return t33;
}
function l_(t33) {
  return "translate(" + t33 + ",0)";
}
function lT(t33) {
  return "translate(0," + t33 + ")";
}
function lE() {
  return !this.__axis;
}
function lC(t33, e10) {
  var r10 = [], i10 = null, n10 = null, a10 = 6, o10 = 6, s10 = 3, l10 = "undefined" != typeof window && window.devicePixelRatio > 1 ? 0 : 0.5, h10 = 1 === t33 || 4 === t33 ? -1 : 1, u10 = 4 === t33 || 2 === t33 ? "x" : "y", d10 = 1 === t33 || 3 === t33 ? l_ : lT;
  function p10(p11) {
    var g10 = null == i10 ? e10.ticks ? e10.ticks.apply(e10, r10) : e10.domain() : i10, f10 = null == n10 ? e10.tickFormat ? e10.tickFormat.apply(e10, r10) : lk : n10, y10 = Math.max(a10, 0) + s10, v10 = e10.range(), x10 = +v10[0] + l10, b10 = +v10[v10.length - 1] + l10, w10 = (e10.bandwidth ? function(t34, e11) {
      return e11 = Math.max(0, t34.bandwidth() - 2 * e11) / 2, t34.round() && (e11 = Math.round(e11)), (r11) => +t34(r11) + e11;
    } : function(t34) {
      return (e11) => +t34(e11);
    })(e10.copy(), l10), k10 = p11.selection ? p11.selection() : p11, _10 = k10.selectAll(".domain").data([null]), T10 = k10.selectAll(".tick").data(g10, e10).order(), E10 = T10.exit(), C10 = T10.enter().append("g").attr("class", "tick"), S10 = T10.select("line"), A10 = T10.select("text");
    _10 = _10.merge(_10.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor")), T10 = T10.merge(C10), S10 = S10.merge(C10.append("line").attr("stroke", "currentColor").attr(u10 + "2", h10 * a10)), A10 = A10.merge(C10.append("text").attr("fill", "currentColor").attr(u10, h10 * y10).attr("dy", 1 === t33 ? "0em" : 3 === t33 ? "0.71em" : "0.32em")), p11 !== k10 && (_10 = _10.transition(p11), T10 = T10.transition(p11), S10 = S10.transition(p11), A10 = A10.transition(p11), E10 = E10.transition(p11).attr("opacity", 1e-6).attr("transform", function(t34) {
      return isFinite(t34 = w10(t34)) ? d10(t34 + l10) : this.getAttribute("transform");
    }), C10.attr("opacity", 1e-6).attr("transform", function(t34) {
      var e11 = this.parentNode.__axis;
      return d10((e11 && isFinite(e11 = e11(t34)) ? e11 : w10(t34)) + l10);
    })), E10.remove(), _10.attr("d", 4 === t33 || 2 === t33 ? o10 ? "M" + h10 * o10 + "," + x10 + "H" + l10 + "V" + b10 + "H" + h10 * o10 : "M" + l10 + "," + x10 + "V" + b10 : o10 ? "M" + x10 + "," + h10 * o10 + "V" + l10 + "H" + b10 + "V" + h10 * o10 : "M" + x10 + "," + l10 + "H" + b10), T10.attr("opacity", 1).attr("transform", function(t34) {
      return d10(w10(t34) + l10);
    }), S10.attr(u10 + "2", h10 * a10), A10.attr(u10, h10 * y10).text(f10), k10.filter(lE).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", 2 === t33 ? "start" : 4 === t33 ? "end" : "middle"), k10.each(function() {
      this.__axis = w10;
    });
  }
  return p10.scale = function(t34) {
    return arguments.length ? (e10 = t34, p10) : e10;
  }, p10.ticks = function() {
    return r10 = Array.from(arguments), p10;
  }, p10.tickArguments = function(t34) {
    return arguments.length ? (r10 = null == t34 ? [] : Array.from(t34), p10) : r10.slice();
  }, p10.tickValues = function(t34) {
    return arguments.length ? (i10 = null == t34 ? null : Array.from(t34), p10) : i10 && i10.slice();
  }, p10.tickFormat = function(t34) {
    return arguments.length ? (n10 = t34, p10) : n10;
  }, p10.tickSize = function(t34) {
    return arguments.length ? (a10 = o10 = +t34, p10) : a10;
  }, p10.tickSizeInner = function(t34) {
    return arguments.length ? (a10 = +t34, p10) : a10;
  }, p10.tickSizeOuter = function(t34) {
    return arguments.length ? (o10 = +t34, p10) : o10;
  }, p10.tickPadding = function(t34) {
    return arguments.length ? (s10 = +t34, p10) : s10;
  }, p10.offset = function(t34) {
    return arguments.length ? (l10 = +t34, p10) : l10;
  }, p10;
}
var lS = { value: () => {
} };
function lA() {
  for (var t33, e10 = 0, r10 = arguments.length, i10 = {}; e10 < r10; ++e10) {
    if (!(t33 = arguments[e10] + "") || t33 in i10 || /[\s.]/.test(t33)) throw Error("illegal type: " + t33);
    i10[t33] = [];
  }
  return new lL(i10);
}
function lL(t33) {
  this._ = t33;
}
function lN(t33, e10, r10) {
  for (var i10 = 0, n10 = t33.length; i10 < n10; ++i10) if (t33[i10].name === e10) {
    t33[i10] = lS, t33 = t33.slice(0, i10).concat(t33.slice(i10 + 1));
    break;
  }
  return null != r10 && t33.push({ name: e10, value: r10 }), t33;
}
lL.prototype = lA.prototype = { constructor: lL, on: function(t33, e10) {
  var r10, i10 = this._, n10 = (t33 + "").trim().split(/^|\s+/).map(function(t34) {
    var e11 = "", r11 = t34.indexOf(".");
    if (r11 >= 0 && (e11 = t34.slice(r11 + 1), t34 = t34.slice(0, r11)), t34 && !i10.hasOwnProperty(t34)) throw Error("unknown type: " + t34);
    return { type: t34, name: e11 };
  }), a10 = -1, o10 = n10.length;
  if (arguments.length < 2) {
    for (; ++a10 < o10; ) if ((r10 = (t33 = n10[a10]).type) && (r10 = function(t34, e11) {
      for (var r11, i11 = 0, n11 = t34.length; i11 < n11; ++i11) if ((r11 = t34[i11]).name === e11) return r11.value;
    }(i10[r10], t33.name))) return r10;
    return;
  }
  if (null != e10 && "function" != typeof e10) throw Error("invalid callback: " + e10);
  for (; ++a10 < o10; ) if (r10 = (t33 = n10[a10]).type) i10[r10] = lN(i10[r10], t33.name, e10);
  else if (null == e10) for (r10 in i10) i10[r10] = lN(i10[r10], t33.name, null);
  return this;
}, copy: function() {
  var t33 = {}, e10 = this._;
  for (var r10 in e10) t33[r10] = e10[r10].slice();
  return new lL(t33);
}, call: function(t33, e10) {
  if ((r10 = arguments.length - 2) > 0) for (var r10, i10, n10 = Array(r10), a10 = 0; a10 < r10; ++a10) n10[a10] = arguments[a10 + 2];
  if (!this._.hasOwnProperty(t33)) throw Error("unknown type: " + t33);
  for (i10 = this._[t33], a10 = 0, r10 = i10.length; a10 < r10; ++a10) i10[a10].value.apply(e10, n10);
}, apply: function(t33, e10, r10) {
  if (!this._.hasOwnProperty(t33)) throw Error("unknown type: " + t33);
  for (var i10 = this._[t33], n10 = 0, a10 = i10.length; n10 < a10; ++n10) i10[n10].value.apply(e10, r10);
} };
var lI = "http://www.w3.org/1999/xhtml";
let lM = { svg: "http://www.w3.org/2000/svg", xhtml: lI, xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" };
function lR(t33) {
  var e10 = t33 += "", r10 = e10.indexOf(":");
  return r10 >= 0 && "xmlns" !== (e10 = t33.slice(0, r10)) && (t33 = t33.slice(r10 + 1)), lM.hasOwnProperty(e10) ? { space: lM[e10], local: t33 } : t33;
}
function lD(t33) {
  var e10 = lR(t33);
  return (e10.local ? function(t34) {
    return function() {
      return this.ownerDocument.createElementNS(t34.space, t34.local);
    };
  } : function(t34) {
    return function() {
      var e11 = this.ownerDocument, r10 = this.namespaceURI;
      return r10 === lI && e11.documentElement.namespaceURI === lI ? e11.createElement(t34) : e11.createElementNS(r10, t34);
    };
  })(e10);
}
function lO() {
}
function lP(t33) {
  return null == t33 ? lO : function() {
    return this.querySelector(t33);
  };
}
function l$() {
  return [];
}
function lB(t33) {
  return null == t33 ? l$ : function() {
    return this.querySelectorAll(t33);
  };
}
function lF(t33) {
  return function() {
    return this.matches(t33);
  };
}
function lz(t33) {
  return function(e10) {
    return e10.matches(t33);
  };
}
var lU = Array.prototype.find;
function lG() {
  return this.firstElementChild;
}
var lq = Array.prototype.filter;
function lY() {
  return Array.from(this.children);
}
function lH(t33) {
  return Array(t33.length);
}
function lj(t33, e10) {
  this.ownerDocument = t33.ownerDocument, this.namespaceURI = t33.namespaceURI, this._next = null, this._parent = t33, this.__data__ = e10;
}
function lW(t33, e10, r10, i10, n10, a10) {
  for (var o10, s10 = 0, l10 = e10.length, h10 = a10.length; s10 < h10; ++s10) (o10 = e10[s10]) ? (o10.__data__ = a10[s10], i10[s10] = o10) : r10[s10] = new lj(t33, a10[s10]);
  for (; s10 < l10; ++s10) (o10 = e10[s10]) && (n10[s10] = o10);
}
function lV(t33, e10, r10, i10, n10, a10, o10) {
  var s10, l10, h10, u10 = /* @__PURE__ */ new Map(), d10 = e10.length, p10 = a10.length, g10 = Array(d10);
  for (s10 = 0; s10 < d10; ++s10) (l10 = e10[s10]) && (g10[s10] = h10 = o10.call(l10, l10.__data__, s10, e10) + "", u10.has(h10) ? n10[s10] = l10 : u10.set(h10, l10));
  for (s10 = 0; s10 < p10; ++s10) h10 = o10.call(t33, a10[s10], s10, a10) + "", (l10 = u10.get(h10)) ? (i10[s10] = l10, l10.__data__ = a10[s10], u10.delete(h10)) : r10[s10] = new lj(t33, a10[s10]);
  for (s10 = 0; s10 < d10; ++s10) (l10 = e10[s10]) && u10.get(g10[s10]) === l10 && (n10[s10] = l10);
}
function lX(t33) {
  return t33.__data__;
}
function lK(t33, e10) {
  return t33 < e10 ? -1 : t33 > e10 ? 1 : t33 >= e10 ? 0 : NaN;
}
function lZ(t33) {
  return t33.ownerDocument && t33.ownerDocument.defaultView || t33.document && t33 || t33.defaultView;
}
function lQ(t33, e10) {
  return t33.style.getPropertyValue(e10) || lZ(t33).getComputedStyle(t33, null).getPropertyValue(e10);
}
function lJ(t33) {
  return t33.trim().split(/^|\s+/);
}
function l0(t33) {
  return t33.classList || new l1(t33);
}
function l1(t33) {
  this._node = t33, this._names = lJ(t33.getAttribute("class") || "");
}
function l2(t33, e10) {
  for (var r10 = l0(t33), i10 = -1, n10 = e10.length; ++i10 < n10; ) r10.add(e10[i10]);
}
function l4(t33, e10) {
  for (var r10 = l0(t33), i10 = -1, n10 = e10.length; ++i10 < n10; ) r10.remove(e10[i10]);
}
function l5() {
  this.textContent = "";
}
function l3() {
  this.innerHTML = "";
}
function l6() {
  this.nextSibling && this.parentNode.appendChild(this);
}
function l7() {
  this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function l8() {
  return null;
}
function l9() {
  var t33 = this.parentNode;
  t33 && t33.removeChild(this);
}
function ht() {
  var t33 = this.cloneNode(false), e10 = this.parentNode;
  return e10 ? e10.insertBefore(t33, this.nextSibling) : t33;
}
function he() {
  var t33 = this.cloneNode(true), e10 = this.parentNode;
  return e10 ? e10.insertBefore(t33, this.nextSibling) : t33;
}
function hr(t33) {
  return function() {
    var e10 = this.__on;
    if (e10) {
      for (var r10, i10 = 0, n10 = -1, a10 = e10.length; i10 < a10; ++i10) (r10 = e10[i10], t33.type && r10.type !== t33.type || r10.name !== t33.name) ? e10[++n10] = r10 : this.removeEventListener(r10.type, r10.listener, r10.options);
      ++n10 ? e10.length = n10 : delete this.__on;
    }
  };
}
function hi(t33, e10, r10) {
  return function() {
    var i10, n10 = this.__on, a10 = function(t34) {
      e10.call(this, t34, this.__data__);
    };
    if (n10) {
      for (var o10 = 0, s10 = n10.length; o10 < s10; ++o10) if ((i10 = n10[o10]).type === t33.type && i10.name === t33.name) {
        this.removeEventListener(i10.type, i10.listener, i10.options), this.addEventListener(i10.type, i10.listener = a10, i10.options = r10), i10.value = e10;
        return;
      }
    }
    this.addEventListener(t33.type, a10, r10), i10 = { type: t33.type, name: t33.name, value: e10, listener: a10, options: r10 }, n10 ? n10.push(i10) : this.__on = [i10];
  };
}
function hn(t33, e10, r10) {
  var i10 = lZ(t33), n10 = i10.CustomEvent;
  "function" == typeof n10 ? n10 = new n10(e10, r10) : (n10 = i10.document.createEvent("Event"), r10 ? (n10.initEvent(e10, r10.bubbles, r10.cancelable), n10.detail = r10.detail) : n10.initEvent(e10, false, false)), t33.dispatchEvent(n10);
}
lj.prototype = { constructor: lj, appendChild: function(t33) {
  return this._parent.insertBefore(t33, this._next);
}, insertBefore: function(t33, e10) {
  return this._parent.insertBefore(t33, e10);
}, querySelector: function(t33) {
  return this._parent.querySelector(t33);
}, querySelectorAll: function(t33) {
  return this._parent.querySelectorAll(t33);
} }, l1.prototype = { add: function(t33) {
  0 > this._names.indexOf(t33) && (this._names.push(t33), this._node.setAttribute("class", this._names.join(" ")));
}, remove: function(t33) {
  var e10 = this._names.indexOf(t33);
  e10 >= 0 && (this._names.splice(e10, 1), this._node.setAttribute("class", this._names.join(" ")));
}, contains: function(t33) {
  return this._names.indexOf(t33) >= 0;
} };
var ha = [null];
function ho(t33, e10) {
  this._groups = t33, this._parents = e10;
}
function hs() {
  return new ho([[document.documentElement]], ha);
}
function hl(t33) {
  return "string" == typeof t33 ? new ho([[document.querySelector(t33)]], [document.documentElement]) : new ho([[t33]], ha);
}
function hh(t33, e10, r10) {
  t33.prototype = e10.prototype = r10, r10.constructor = t33;
}
function hc(t33, e10) {
  var r10 = Object.create(t33.prototype);
  for (var i10 in e10) r10[i10] = e10[i10];
  return r10;
}
function hu() {
}
ho.prototype = hs.prototype = { constructor: ho, select: function(t33) {
  "function" != typeof t33 && (t33 = lP(t33));
  for (var e10 = this._groups, r10 = e10.length, i10 = Array(r10), n10 = 0; n10 < r10; ++n10) for (var a10, o10, s10 = e10[n10], l10 = s10.length, h10 = i10[n10] = Array(l10), u10 = 0; u10 < l10; ++u10) (a10 = s10[u10]) && (o10 = t33.call(a10, a10.__data__, u10, s10)) && ("__data__" in a10 && (o10.__data__ = a10.__data__), h10[u10] = o10);
  return new ho(i10, this._parents);
}, selectAll: function(t33) {
  if ("function" == typeof t33) {
    var e10;
    e10 = t33, t33 = function() {
      var t34;
      return t34 = e10.apply(this, arguments), null == t34 ? [] : Array.isArray(t34) ? t34 : Array.from(t34);
    };
  } else t33 = lB(t33);
  for (var r10 = this._groups, i10 = r10.length, n10 = [], a10 = [], o10 = 0; o10 < i10; ++o10) for (var s10, l10 = r10[o10], h10 = l10.length, u10 = 0; u10 < h10; ++u10) (s10 = l10[u10]) && (n10.push(t33.call(s10, s10.__data__, u10, l10)), a10.push(s10));
  return new ho(n10, a10);
}, selectChild: function(t33) {
  var e10;
  return this.select(null == t33 ? lG : (e10 = "function" == typeof t33 ? t33 : lz(t33), function() {
    return lU.call(this.children, e10);
  }));
}, selectChildren: function(t33) {
  var e10;
  return this.selectAll(null == t33 ? lY : (e10 = "function" == typeof t33 ? t33 : lz(t33), function() {
    return lq.call(this.children, e10);
  }));
}, filter: function(t33) {
  "function" != typeof t33 && (t33 = lF(t33));
  for (var e10 = this._groups, r10 = e10.length, i10 = Array(r10), n10 = 0; n10 < r10; ++n10) for (var a10, o10 = e10[n10], s10 = o10.length, l10 = i10[n10] = [], h10 = 0; h10 < s10; ++h10) (a10 = o10[h10]) && t33.call(a10, a10.__data__, h10, o10) && l10.push(a10);
  return new ho(i10, this._parents);
}, data: function(t33, e10) {
  if (!arguments.length) return Array.from(this, lX);
  var r10 = e10 ? lV : lW, i10 = this._parents, n10 = this._groups;
  "function" != typeof t33 && (b10 = t33, t33 = function() {
    return b10;
  });
  for (var a10 = n10.length, o10 = Array(a10), s10 = Array(a10), l10 = Array(a10), h10 = 0; h10 < a10; ++h10) {
    var u10 = i10[h10], d10 = n10[h10], p10 = d10.length, g10 = "object" == typeof (x10 = t33.call(u10, u10 && u10.__data__, h10, i10)) && "length" in x10 ? x10 : Array.from(x10), f10 = g10.length, y10 = s10[h10] = Array(f10), v10 = o10[h10] = Array(f10);
    r10(u10, d10, y10, v10, l10[h10] = Array(p10), g10, e10);
    for (var x10, b10, w10, k10, _10 = 0, T10 = 0; _10 < f10; ++_10) if (w10 = y10[_10]) {
      for (_10 >= T10 && (T10 = _10 + 1); !(k10 = v10[T10]) && ++T10 < f10; ) ;
      w10._next = k10 || null;
    }
  }
  return (o10 = new ho(o10, i10))._enter = s10, o10._exit = l10, o10;
}, enter: function() {
  return new ho(this._enter || this._groups.map(lH), this._parents);
}, exit: function() {
  return new ho(this._exit || this._groups.map(lH), this._parents);
}, join: function(t33, e10, r10) {
  var i10 = this.enter(), n10 = this, a10 = this.exit();
  return "function" == typeof t33 ? (i10 = t33(i10)) && (i10 = i10.selection()) : i10 = i10.append(t33 + ""), null != e10 && (n10 = e10(n10)) && (n10 = n10.selection()), null == r10 ? a10.remove() : r10(a10), i10 && n10 ? i10.merge(n10).order() : n10;
}, merge: function(t33) {
  for (var e10 = t33.selection ? t33.selection() : t33, r10 = this._groups, i10 = e10._groups, n10 = r10.length, a10 = i10.length, o10 = Math.min(n10, a10), s10 = Array(n10), l10 = 0; l10 < o10; ++l10) for (var h10, u10 = r10[l10], d10 = i10[l10], p10 = u10.length, g10 = s10[l10] = Array(p10), f10 = 0; f10 < p10; ++f10) (h10 = u10[f10] || d10[f10]) && (g10[f10] = h10);
  for (; l10 < n10; ++l10) s10[l10] = r10[l10];
  return new ho(s10, this._parents);
}, selection: function() {
  return this;
}, order: function() {
  for (var t33 = this._groups, e10 = -1, r10 = t33.length; ++e10 < r10; ) for (var i10, n10 = t33[e10], a10 = n10.length - 1, o10 = n10[a10]; --a10 >= 0; ) (i10 = n10[a10]) && (o10 && 4 ^ i10.compareDocumentPosition(o10) && o10.parentNode.insertBefore(i10, o10), o10 = i10);
  return this;
}, sort: function(t33) {
  function e10(e11, r11) {
    return e11 && r11 ? t33(e11.__data__, r11.__data__) : !e11 - !r11;
  }
  t33 || (t33 = lK);
  for (var r10 = this._groups, i10 = r10.length, n10 = Array(i10), a10 = 0; a10 < i10; ++a10) {
    for (var o10, s10 = r10[a10], l10 = s10.length, h10 = n10[a10] = Array(l10), u10 = 0; u10 < l10; ++u10) (o10 = s10[u10]) && (h10[u10] = o10);
    h10.sort(e10);
  }
  return new ho(n10, this._parents).order();
}, call: function() {
  var t33 = arguments[0];
  return arguments[0] = this, t33.apply(null, arguments), this;
}, nodes: function() {
  return Array.from(this);
}, node: function() {
  for (var t33 = this._groups, e10 = 0, r10 = t33.length; e10 < r10; ++e10) for (var i10 = t33[e10], n10 = 0, a10 = i10.length; n10 < a10; ++n10) {
    var o10 = i10[n10];
    if (o10) return o10;
  }
  return null;
}, size: function() {
  let t33 = 0;
  for (let e10 of this) ++t33;
  return t33;
}, empty: function() {
  return !this.node();
}, each: function(t33) {
  for (var e10 = this._groups, r10 = 0, i10 = e10.length; r10 < i10; ++r10) for (var n10, a10 = e10[r10], o10 = 0, s10 = a10.length; o10 < s10; ++o10) (n10 = a10[o10]) && t33.call(n10, n10.__data__, o10, a10);
  return this;
}, attr: function(t33, e10) {
  var r10 = lR(t33);
  if (arguments.length < 2) {
    var i10 = this.node();
    return r10.local ? i10.getAttributeNS(r10.space, r10.local) : i10.getAttribute(r10);
  }
  return this.each((null == e10 ? r10.local ? function(t34) {
    return function() {
      this.removeAttributeNS(t34.space, t34.local);
    };
  } : function(t34) {
    return function() {
      this.removeAttribute(t34);
    };
  } : "function" == typeof e10 ? r10.local ? function(t34, e11) {
    return function() {
      var r11 = e11.apply(this, arguments);
      null == r11 ? this.removeAttributeNS(t34.space, t34.local) : this.setAttributeNS(t34.space, t34.local, r11);
    };
  } : function(t34, e11) {
    return function() {
      var r11 = e11.apply(this, arguments);
      null == r11 ? this.removeAttribute(t34) : this.setAttribute(t34, r11);
    };
  } : r10.local ? function(t34, e11) {
    return function() {
      this.setAttributeNS(t34.space, t34.local, e11);
    };
  } : function(t34, e11) {
    return function() {
      this.setAttribute(t34, e11);
    };
  })(r10, e10));
}, style: function(t33, e10, r10) {
  return arguments.length > 1 ? this.each((null == e10 ? function(t34) {
    return function() {
      this.style.removeProperty(t34);
    };
  } : "function" == typeof e10 ? function(t34, e11, r11) {
    return function() {
      var i10 = e11.apply(this, arguments);
      null == i10 ? this.style.removeProperty(t34) : this.style.setProperty(t34, i10, r11);
    };
  } : function(t34, e11, r11) {
    return function() {
      this.style.setProperty(t34, e11, r11);
    };
  })(t33, e10, null == r10 ? "" : r10)) : lQ(this.node(), t33);
}, property: function(t33, e10) {
  return arguments.length > 1 ? this.each((null == e10 ? function(t34) {
    return function() {
      delete this[t34];
    };
  } : "function" == typeof e10 ? function(t34, e11) {
    return function() {
      var r10 = e11.apply(this, arguments);
      null == r10 ? delete this[t34] : this[t34] = r10;
    };
  } : function(t34, e11) {
    return function() {
      this[t34] = e11;
    };
  })(t33, e10)) : this.node()[t33];
}, classed: function(t33, e10) {
  var r10 = lJ(t33 + "");
  if (arguments.length < 2) {
    for (var i10 = l0(this.node()), n10 = -1, a10 = r10.length; ++n10 < a10; ) if (!i10.contains(r10[n10])) return false;
    return true;
  }
  return this.each(("function" == typeof e10 ? function(t34, e11) {
    return function() {
      (e11.apply(this, arguments) ? l2 : l4)(this, t34);
    };
  } : e10 ? function(t34) {
    return function() {
      l2(this, t34);
    };
  } : function(t34) {
    return function() {
      l4(this, t34);
    };
  })(r10, e10));
}, text: function(t33) {
  return arguments.length ? this.each(null == t33 ? l5 : ("function" == typeof t33 ? function(t34) {
    return function() {
      var e10 = t34.apply(this, arguments);
      this.textContent = null == e10 ? "" : e10;
    };
  } : function(t34) {
    return function() {
      this.textContent = t34;
    };
  })(t33)) : this.node().textContent;
}, html: function(t33) {
  return arguments.length ? this.each(null == t33 ? l3 : ("function" == typeof t33 ? function(t34) {
    return function() {
      var e10 = t34.apply(this, arguments);
      this.innerHTML = null == e10 ? "" : e10;
    };
  } : function(t34) {
    return function() {
      this.innerHTML = t34;
    };
  })(t33)) : this.node().innerHTML;
}, raise: function() {
  return this.each(l6);
}, lower: function() {
  return this.each(l7);
}, append: function(t33) {
  var e10 = "function" == typeof t33 ? t33 : lD(t33);
  return this.select(function() {
    return this.appendChild(e10.apply(this, arguments));
  });
}, insert: function(t33, e10) {
  var r10 = "function" == typeof t33 ? t33 : lD(t33), i10 = null == e10 ? l8 : "function" == typeof e10 ? e10 : lP(e10);
  return this.select(function() {
    return this.insertBefore(r10.apply(this, arguments), i10.apply(this, arguments) || null);
  });
}, remove: function() {
  return this.each(l9);
}, clone: function(t33) {
  return this.select(t33 ? he : ht);
}, datum: function(t33) {
  return arguments.length ? this.property("__data__", t33) : this.node().__data__;
}, on: function(t33, e10, r10) {
  var i10, n10, a10 = (t33 + "").trim().split(/^|\s+/).map(function(t34) {
    var e11 = "", r11 = t34.indexOf(".");
    return r11 >= 0 && (e11 = t34.slice(r11 + 1), t34 = t34.slice(0, r11)), { type: t34, name: e11 };
  }), o10 = a10.length;
  if (arguments.length < 2) {
    var s10 = this.node().__on;
    if (s10) {
      for (var l10, h10 = 0, u10 = s10.length; h10 < u10; ++h10) for (i10 = 0, l10 = s10[h10]; i10 < o10; ++i10) if ((n10 = a10[i10]).type === l10.type && n10.name === l10.name) return l10.value;
    }
    return;
  }
  for (i10 = 0, s10 = e10 ? hi : hr; i10 < o10; ++i10) this.each(s10(a10[i10], e10, r10));
  return this;
}, dispatch: function(t33, e10) {
  return this.each(("function" == typeof e10 ? function(t34, e11) {
    return function() {
      return hn(this, t34, e11.apply(this, arguments));
    };
  } : function(t34, e11) {
    return function() {
      return hn(this, t34, e11);
    };
  })(t33, e10));
}, [Symbol.iterator]: function* () {
  for (var t33 = this._groups, e10 = 0, r10 = t33.length; e10 < r10; ++e10) for (var i10, n10 = t33[e10], a10 = 0, o10 = n10.length; a10 < o10; ++a10) (i10 = n10[a10]) && (yield i10);
} };
var hd = "\\s*([+-]?\\d+)\\s*", hp = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*", hg = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*", hf = /^#([0-9a-f]{3,8})$/, hm = RegExp(`^rgb\\(${hd},${hd},${hd}\\)$`), hy = RegExp(`^rgb\\(${hg},${hg},${hg}\\)$`), hv = RegExp(`^rgba\\(${hd},${hd},${hd},${hp}\\)$`), hx = RegExp(`^rgba\\(${hg},${hg},${hg},${hp}\\)$`), hb = RegExp(`^hsl\\(${hp},${hg},${hg}\\)$`), hw = RegExp(`^hsla\\(${hp},${hg},${hg},${hp}\\)$`), hk = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 };
function h_() {
  return this.rgb().formatHex();
}
function hT() {
  return this.rgb().formatRgb();
}
function hE(t33) {
  var e10, r10;
  return t33 = (t33 + "").trim().toLowerCase(), (e10 = hf.exec(t33)) ? (r10 = e10[1].length, e10 = parseInt(e10[1], 16), 6 === r10 ? hC(e10) : 3 === r10 ? new hN(e10 >> 8 & 15 | e10 >> 4 & 240, e10 >> 4 & 15 | 240 & e10, (15 & e10) << 4 | 15 & e10, 1) : 8 === r10 ? hS(e10 >> 24 & 255, e10 >> 16 & 255, e10 >> 8 & 255, (255 & e10) / 255) : 4 === r10 ? hS(e10 >> 12 & 15 | e10 >> 8 & 240, e10 >> 8 & 15 | e10 >> 4 & 240, e10 >> 4 & 15 | 240 & e10, ((15 & e10) << 4 | 15 & e10) / 255) : null) : (e10 = hm.exec(t33)) ? new hN(e10[1], e10[2], e10[3], 1) : (e10 = hy.exec(t33)) ? new hN(255 * e10[1] / 100, 255 * e10[2] / 100, 255 * e10[3] / 100, 1) : (e10 = hv.exec(t33)) ? hS(e10[1], e10[2], e10[3], e10[4]) : (e10 = hx.exec(t33)) ? hS(255 * e10[1] / 100, 255 * e10[2] / 100, 255 * e10[3] / 100, e10[4]) : (e10 = hb.exec(t33)) ? hP(e10[1], e10[2] / 100, e10[3] / 100, 1) : (e10 = hw.exec(t33)) ? hP(e10[1], e10[2] / 100, e10[3] / 100, e10[4]) : hk.hasOwnProperty(t33) ? hC(hk[t33]) : "transparent" === t33 ? new hN(NaN, NaN, NaN, 0) : null;
}
function hC(t33) {
  return new hN(t33 >> 16 & 255, t33 >> 8 & 255, 255 & t33, 1);
}
function hS(t33, e10, r10, i10) {
  return i10 <= 0 && (t33 = e10 = r10 = NaN), new hN(t33, e10, r10, i10);
}
function hA(t33) {
  return (t33 instanceof hu || (t33 = hE(t33)), t33) ? new hN((t33 = t33.rgb()).r, t33.g, t33.b, t33.opacity) : new hN();
}
function hL(t33, e10, r10, i10) {
  return 1 == arguments.length ? hA(t33) : new hN(t33, e10, r10, null == i10 ? 1 : i10);
}
function hN(t33, e10, r10, i10) {
  this.r = +t33, this.g = +e10, this.b = +r10, this.opacity = +i10;
}
function hI() {
  return `#${hO(this.r)}${hO(this.g)}${hO(this.b)}`;
}
function hM() {
  let t33 = hR(this.opacity);
  return `${1 === t33 ? "rgb(" : "rgba("}${hD(this.r)}, ${hD(this.g)}, ${hD(this.b)}${1 === t33 ? ")" : `, ${t33})`}`;
}
function hR(t33) {
  return isNaN(t33) ? 1 : Math.max(0, Math.min(1, t33));
}
function hD(t33) {
  return Math.max(0, Math.min(255, Math.round(t33) || 0));
}
function hO(t33) {
  return ((t33 = hD(t33)) < 16 ? "0" : "") + t33.toString(16);
}
function hP(t33, e10, r10, i10) {
  return i10 <= 0 ? t33 = e10 = r10 = NaN : r10 <= 0 || r10 >= 1 ? t33 = e10 = NaN : e10 <= 0 && (t33 = NaN), new hB(t33, e10, r10, i10);
}
function h$(t33) {
  if (t33 instanceof hB) return new hB(t33.h, t33.s, t33.l, t33.opacity);
  if (t33 instanceof hu || (t33 = hE(t33)), !t33) return new hB();
  if (t33 instanceof hB) return t33;
  var e10 = (t33 = t33.rgb()).r / 255, r10 = t33.g / 255, i10 = t33.b / 255, n10 = Math.min(e10, r10, i10), a10 = Math.max(e10, r10, i10), o10 = NaN, s10 = a10 - n10, l10 = (a10 + n10) / 2;
  return s10 ? (o10 = e10 === a10 ? (r10 - i10) / s10 + (r10 < i10) * 6 : r10 === a10 ? (i10 - e10) / s10 + 2 : (e10 - r10) / s10 + 4, s10 /= l10 < 0.5 ? a10 + n10 : 2 - a10 - n10, o10 *= 60) : s10 = l10 > 0 && l10 < 1 ? 0 : o10, new hB(o10, s10, l10, t33.opacity);
}
function hB(t33, e10, r10, i10) {
  this.h = +t33, this.s = +e10, this.l = +r10, this.opacity = +i10;
}
function hF(t33) {
  return (t33 = (t33 || 0) % 360) < 0 ? t33 + 360 : t33;
}
function hz(t33) {
  return Math.max(0, Math.min(1, t33 || 0));
}
function hU(t33, e10, r10) {
  return (t33 < 60 ? e10 + (r10 - e10) * t33 / 60 : t33 < 180 ? r10 : t33 < 240 ? e10 + (r10 - e10) * (240 - t33) / 60 : e10) * 255;
}
hh(hu, hE, { copy(t33) {
  return Object.assign(new this.constructor(), this, t33);
}, displayable() {
  return this.rgb().displayable();
}, hex: h_, formatHex: h_, formatHex8: function() {
  return this.rgb().formatHex8();
}, formatHsl: function() {
  return h$(this).formatHsl();
}, formatRgb: hT, toString: hT }), hh(hN, hL, hc(hu, { brighter(t33) {
  return t33 = null == t33 ? 1.4285714285714286 : Math.pow(1.4285714285714286, t33), new hN(this.r * t33, this.g * t33, this.b * t33, this.opacity);
}, darker(t33) {
  return t33 = null == t33 ? 0.7 : Math.pow(0.7, t33), new hN(this.r * t33, this.g * t33, this.b * t33, this.opacity);
}, rgb() {
  return this;
}, clamp() {
  return new hN(hD(this.r), hD(this.g), hD(this.b), hR(this.opacity));
}, displayable() {
  return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;
}, hex: hI, formatHex: hI, formatHex8: function() {
  return `#${hO(this.r)}${hO(this.g)}${hO(this.b)}${hO((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}, formatRgb: hM, toString: hM })), hh(hB, function(t33, e10, r10, i10) {
  return 1 == arguments.length ? h$(t33) : new hB(t33, e10, r10, null == i10 ? 1 : i10);
}, hc(hu, { brighter(t33) {
  return t33 = null == t33 ? 1.4285714285714286 : Math.pow(1.4285714285714286, t33), new hB(this.h, this.s, this.l * t33, this.opacity);
}, darker(t33) {
  return t33 = null == t33 ? 0.7 : Math.pow(0.7, t33), new hB(this.h, this.s, this.l * t33, this.opacity);
}, rgb() {
  var t33 = this.h % 360 + (this.h < 0) * 360, e10 = isNaN(t33) || isNaN(this.s) ? 0 : this.s, r10 = this.l, i10 = r10 + (r10 < 0.5 ? r10 : 1 - r10) * e10, n10 = 2 * r10 - i10;
  return new hN(hU(t33 >= 240 ? t33 - 240 : t33 + 120, n10, i10), hU(t33, n10, i10), hU(t33 < 120 ? t33 + 240 : t33 - 120, n10, i10), this.opacity);
}, clamp() {
  return new hB(hF(this.h), hz(this.s), hz(this.l), hR(this.opacity));
}, displayable() {
  return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
}, formatHsl() {
  let t33 = hR(this.opacity);
  return `${1 === t33 ? "hsl(" : "hsla("}${hF(this.h)}, ${100 * hz(this.s)}%, ${100 * hz(this.l)}%${1 === t33 ? ")" : `, ${t33})`}`;
} }));
let hG = Math.PI / 180, hq = 180 / Math.PI, hY = 4 / 29, hH = 6 / 29, hj = 6 / 29 * 3 * (6 / 29), hW = 6 / 29 * (6 / 29) * (6 / 29);
function hV(t33) {
  if (t33 instanceof hX) return new hX(t33.l, t33.a, t33.b, t33.opacity);
  if (t33 instanceof h1) return h2(t33);
  t33 instanceof hN || (t33 = hA(t33));
  var e10, r10, i10 = hJ(t33.r), n10 = hJ(t33.g), a10 = hJ(t33.b), o10 = hK((0.2225045 * i10 + 0.7168786 * n10 + 0.0606169 * a10) / 1);
  return i10 === n10 && n10 === a10 ? e10 = r10 = o10 : (e10 = hK((0.4360747 * i10 + 0.3850649 * n10 + 0.1430804 * a10) / 0.96422), r10 = hK((0.0139322 * i10 + 0.0971045 * n10 + 0.7141733 * a10) / 0.82521)), new hX(116 * o10 - 16, 500 * (e10 - o10), 200 * (o10 - r10), t33.opacity);
}
function hX(t33, e10, r10, i10) {
  this.l = +t33, this.a = +e10, this.b = +r10, this.opacity = +i10;
}
function hK(t33) {
  return t33 > hW ? Math.pow(t33, 1 / 3) : t33 / hj + hY;
}
function hZ(t33) {
  return t33 > hH ? t33 * t33 * t33 : hj * (t33 - hY);
}
function hQ(t33) {
  return 255 * (t33 <= 31308e-7 ? 12.92 * t33 : 1.055 * Math.pow(t33, 1 / 2.4) - 0.055);
}
function hJ(t33) {
  return (t33 /= 255) <= 0.04045 ? t33 / 12.92 : Math.pow((t33 + 0.055) / 1.055, 2.4);
}
function h0(t33, e10, r10, i10) {
  return 1 == arguments.length ? function(t34) {
    if (t34 instanceof h1) return new h1(t34.h, t34.c, t34.l, t34.opacity);
    if (t34 instanceof hX || (t34 = hV(t34)), 0 === t34.a && 0 === t34.b) return new h1(NaN, 0 < t34.l && t34.l < 100 ? 0 : NaN, t34.l, t34.opacity);
    var e11 = Math.atan2(t34.b, t34.a) * hq;
    return new h1(e11 < 0 ? e11 + 360 : e11, Math.sqrt(t34.a * t34.a + t34.b * t34.b), t34.l, t34.opacity);
  }(t33) : new h1(t33, e10, r10, null == i10 ? 1 : i10);
}
function h1(t33, e10, r10, i10) {
  this.h = +t33, this.c = +e10, this.l = +r10, this.opacity = +i10;
}
function h2(t33) {
  if (isNaN(t33.h)) return new hX(t33.l, 0, 0, t33.opacity);
  var e10 = t33.h * hG;
  return new hX(t33.l, Math.cos(e10) * t33.c, Math.sin(e10) * t33.c, t33.opacity);
}
hh(hX, function(t33, e10, r10, i10) {
  return 1 == arguments.length ? hV(t33) : new hX(t33, e10, r10, null == i10 ? 1 : i10);
}, hc(hu, { brighter(t33) {
  return new hX(this.l + 18 * (null == t33 ? 1 : t33), this.a, this.b, this.opacity);
}, darker(t33) {
  return new hX(this.l - 18 * (null == t33 ? 1 : t33), this.a, this.b, this.opacity);
}, rgb() {
  var t33 = (this.l + 16) / 116, e10 = isNaN(this.a) ? t33 : t33 + this.a / 500, r10 = isNaN(this.b) ? t33 : t33 - this.b / 200;
  return new hN(hQ(3.1338561 * (e10 = 0.96422 * hZ(e10)) - 1.6168667 * (t33 = 1 * hZ(t33)) - 0.4906146 * (r10 = 0.82521 * hZ(r10))), hQ(-0.9787684 * e10 + 1.9161415 * t33 + 0.033454 * r10), hQ(0.0719453 * e10 - 0.2289914 * t33 + 1.4052427 * r10), this.opacity);
} })), hh(h1, h0, hc(hu, { brighter(t33) {
  return new h1(this.h, this.c, this.l + 18 * (null == t33 ? 1 : t33), this.opacity);
}, darker(t33) {
  return new h1(this.h, this.c, this.l - 18 * (null == t33 ? 1 : t33), this.opacity);
}, rgb() {
  return h2(this).rgb();
} }));
let h4 = (t33) => () => t33;
function h5(t33, e10) {
  return function(r10) {
    return t33 + r10 * e10;
  };
}
function h3(t33, e10) {
  var r10 = e10 - t33;
  return r10 ? h5(t33, r10) : h4(isNaN(t33) ? e10 : t33);
}
let h6 = function t11(e10) {
  var r10, i10 = 1 == (r10 = +(r10 = e10)) ? h3 : function(t33, e11) {
    var i11, n11, a10;
    return e11 - t33 ? (i11 = t33, n11 = e11, i11 = Math.pow(i11, a10 = r10), n11 = Math.pow(n11, a10) - i11, a10 = 1 / a10, function(t34) {
      return Math.pow(i11 + t34 * n11, a10);
    }) : h4(isNaN(t33) ? e11 : t33);
  };
  function n10(t33, e11) {
    var r11 = i10((t33 = hL(t33)).r, (e11 = hL(e11)).r), n11 = i10(t33.g, e11.g), a10 = i10(t33.b, e11.b), o10 = h3(t33.opacity, e11.opacity);
    return function(e12) {
      return t33.r = r11(e12), t33.g = n11(e12), t33.b = a10(e12), t33.opacity = o10(e12), t33 + "";
    };
  }
  return n10.gamma = t11, n10;
}(1);
function h7(t33, e10) {
  return t33 = +t33, e10 = +e10, function(r10) {
    return t33 * (1 - r10) + e10 * r10;
  };
}
var h8 = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, h9 = RegExp(h8.source, "g");
function ct(t33, e10) {
  var r10, i10, n10, a10, o10, s10 = h8.lastIndex = h9.lastIndex = 0, l10 = -1, h10 = [], u10 = [];
  for (t33 += "", e10 += ""; (n10 = h8.exec(t33)) && (a10 = h9.exec(e10)); ) (o10 = a10.index) > s10 && (o10 = e10.slice(s10, o10), h10[l10] ? h10[l10] += o10 : h10[++l10] = o10), (n10 = n10[0]) === (a10 = a10[0]) ? h10[l10] ? h10[l10] += a10 : h10[++l10] = a10 : (h10[++l10] = null, u10.push({ i: l10, x: h7(n10, a10) })), s10 = h9.lastIndex;
  return s10 < e10.length && (o10 = e10.slice(s10), h10[l10] ? h10[l10] += o10 : h10[++l10] = o10), h10.length < 2 ? u10[0] ? (r10 = u10[0].x, function(t34) {
    return r10(t34) + "";
  }) : (i10 = e10, function() {
    return i10;
  }) : (e10 = u10.length, function(t34) {
    for (var r11, i11 = 0; i11 < e10; ++i11) h10[(r11 = u10[i11]).i] = r11.x(t34);
    return h10.join("");
  });
}
function ce(t33, e10) {
  return t33 = +t33, e10 = +e10, function(r10) {
    return Math.round(t33 * (1 - r10) + e10 * r10);
  };
}
var cr = 180 / Math.PI, ci = { translateX: 0, translateY: 0, rotate: 0, skewX: 0, scaleX: 1, scaleY: 1 };
function cn(t33, e10, r10, i10, n10, a10) {
  var o10, s10, l10;
  return (o10 = Math.sqrt(t33 * t33 + e10 * e10)) && (t33 /= o10, e10 /= o10), (l10 = t33 * r10 + e10 * i10) && (r10 -= t33 * l10, i10 -= e10 * l10), (s10 = Math.sqrt(r10 * r10 + i10 * i10)) && (r10 /= s10, i10 /= s10, l10 /= s10), t33 * i10 < e10 * r10 && (t33 = -t33, e10 = -e10, l10 = -l10, o10 = -o10), { translateX: n10, translateY: a10, rotate: Math.atan2(e10, t33) * cr, skewX: Math.atan(l10) * cr, scaleX: o10, scaleY: s10 };
}
function ca(t33, e10, r10, i10) {
  function n10(t34) {
    return t34.length ? t34.pop() + " " : "";
  }
  return function(a10, o10) {
    var s10, l10, h10, u10, d10 = [], p10 = [];
    return a10 = t33(a10), o10 = t33(o10), !function(t34, i11, n11, a11, o11, s11) {
      if (t34 !== n11 || i11 !== a11) {
        var l11 = o11.push("translate(", null, e10, null, r10);
        s11.push({ i: l11 - 4, x: h7(t34, n11) }, { i: l11 - 2, x: h7(i11, a11) });
      } else (n11 || a11) && o11.push("translate(" + n11 + e10 + a11 + r10);
    }(a10.translateX, a10.translateY, o10.translateX, o10.translateY, d10, p10), (s10 = a10.rotate) !== (l10 = o10.rotate) ? (s10 - l10 > 180 ? l10 += 360 : l10 - s10 > 180 && (s10 += 360), p10.push({ i: d10.push(n10(d10) + "rotate(", null, i10) - 2, x: h7(s10, l10) })) : l10 && d10.push(n10(d10) + "rotate(" + l10 + i10), (h10 = a10.skewX) !== (u10 = o10.skewX) ? p10.push({ i: d10.push(n10(d10) + "skewX(", null, i10) - 2, x: h7(h10, u10) }) : u10 && d10.push(n10(d10) + "skewX(" + u10 + i10), !function(t34, e11, r11, i11, a11, o11) {
      if (t34 !== r11 || e11 !== i11) {
        var s11 = a11.push(n10(a11) + "scale(", null, ",", null, ")");
        o11.push({ i: s11 - 4, x: h7(t34, r11) }, { i: s11 - 2, x: h7(e11, i11) });
      } else (1 !== r11 || 1 !== i11) && a11.push(n10(a11) + "scale(" + r11 + "," + i11 + ")");
    }(a10.scaleX, a10.scaleY, o10.scaleX, o10.scaleY, d10, p10), a10 = o10 = null, function(t34) {
      for (var e11, r11 = -1, i11 = p10.length; ++r11 < i11; ) d10[(e11 = p10[r11]).i] = e11.x(t34);
      return d10.join("");
    };
  };
}
var co = ca(function(t33) {
  let e10 = new ("function" == typeof DOMMatrix ? DOMMatrix : WebKitCSSMatrix)(t33 + "");
  return e10.isIdentity ? ci : cn(e10.a, e10.b, e10.c, e10.d, e10.e, e10.f);
}, "px, ", "px)", "deg)"), cs = ca(function(t33) {
  return null == t33 ? ci : (cy || (cy = document.createElementNS("http://www.w3.org/2000/svg", "g")), cy.setAttribute("transform", t33), t33 = cy.transform.baseVal.consolidate()) ? cn((t33 = t33.matrix).a, t33.b, t33.c, t33.d, t33.e, t33.f) : ci;
}, ", ", ")", ")");
let cl = (cu = function(t33, e10) {
  var r10 = e10 - t33;
  return r10 ? h5(t33, r10 > 180 || r10 < -180 ? r10 - 360 * Math.round(r10 / 360) : r10) : h4(isNaN(t33) ? e10 : t33);
}, function(t33, e10) {
  var r10 = cu((t33 = h0(t33)).h, (e10 = h0(e10)).h), i10 = h3(t33.c, e10.c), n10 = h3(t33.l, e10.l), a10 = h3(t33.opacity, e10.opacity);
  return function(e11) {
    return t33.h = r10(e11), t33.c = i10(e11), t33.l = n10(e11), t33.opacity = a10(e11), t33 + "";
  };
});
var ch, cc, cu, cd, cp, cg, cf, cm, cy, cv, cx, cb = 0, cw = 0, ck = 0, c_ = 0, cT = 0, cE = 0, cC = "object" == typeof performance && performance.now ? performance : Date, cS = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(t33) {
  setTimeout(t33, 17);
};
function cA() {
  return cT || (cS(cL), cT = cC.now() + cE);
}
function cL() {
  cT = 0;
}
function cN() {
  this._call = this._time = this._next = null;
}
function cI(t33, e10, r10) {
  var i10 = new cN();
  return i10.restart(t33, e10, r10), i10;
}
function cM() {
  cT = (c_ = cC.now()) + cE, cb = cw = 0;
  try {
    !function() {
      cA(), ++cb;
      for (var t33, e10 = cv; e10; ) (t33 = cT - e10._time) >= 0 && e10._call.call(void 0, t33), e10 = e10._next;
      --cb;
    }();
  } finally {
    cb = 0, function() {
      for (var t33, e10, r10 = cv, i10 = 1 / 0; r10; ) r10._call ? (i10 > r10._time && (i10 = r10._time), t33 = r10, r10 = r10._next) : (e10 = r10._next, r10._next = null, r10 = t33 ? t33._next = e10 : cv = e10);
      cx = t33, cD(i10);
    }(), cT = 0;
  }
}
function cR() {
  var t33 = cC.now(), e10 = t33 - c_;
  e10 > 1e3 && (cE -= e10, c_ = t33);
}
function cD(t33) {
  !cb && (cw && (cw = clearTimeout(cw)), t33 - cT > 24 ? (t33 < 1 / 0 && (cw = setTimeout(cM, t33 - cC.now() - cE)), ck && (ck = clearInterval(ck))) : (ck || (c_ = cC.now(), ck = setInterval(cR, 1e3)), cb = 1, cS(cM)));
}
function cO(t33, e10, r10) {
  var i10 = new cN();
  return e10 = null == e10 ? 0 : +e10, i10.restart((r11) => {
    i10.stop(), t33(r11 + e10);
  }, e10, r10), i10;
}
cN.prototype = cI.prototype = { constructor: cN, restart: function(t33, e10, r10) {
  if ("function" != typeof t33) throw TypeError("callback is not a function");
  r10 = (null == r10 ? cA() : +r10) + (null == e10 ? 0 : +e10), this._next || cx === this || (cx ? cx._next = this : cv = this, cx = this), this._call = t33, this._time = r10, cD();
}, stop: function() {
  this._call && (this._call = null, this._time = 1 / 0, cD());
} };
var cP = lA("start", "end", "cancel", "interrupt"), c$ = [];
function cB(t33, e10, r10, i10, n10, a10) {
  var o10 = t33.__transition;
  if (o10) {
    if (r10 in o10) return;
  } else t33.__transition = {};
  !function(t34, e11, r11) {
    var i11, n11 = t34.__transition;
    function a11(l10) {
      var h10, u10, d10, p10;
      if (1 !== r11.state) return s10();
      for (h10 in n11) if ((p10 = n11[h10]).name === r11.name) {
        if (3 === p10.state) return cO(a11);
        4 === p10.state ? (p10.state = 6, p10.timer.stop(), p10.on.call("interrupt", t34, t34.__data__, p10.index, p10.group), delete n11[h10]) : +h10 < e11 && (p10.state = 6, p10.timer.stop(), p10.on.call("cancel", t34, t34.__data__, p10.index, p10.group), delete n11[h10]);
      }
      if (cO(function() {
        3 === r11.state && (r11.state = 4, r11.timer.restart(o11, r11.delay, r11.time), o11(l10));
      }), r11.state = 2, r11.on.call("start", t34, t34.__data__, r11.index, r11.group), 2 === r11.state) {
        for (h10 = 0, r11.state = 3, i11 = Array(d10 = r11.tween.length), u10 = -1; h10 < d10; ++h10) (p10 = r11.tween[h10].value.call(t34, t34.__data__, r11.index, r11.group)) && (i11[++u10] = p10);
        i11.length = u10 + 1;
      }
    }
    function o11(e12) {
      for (var n12 = e12 < r11.duration ? r11.ease.call(null, e12 / r11.duration) : (r11.timer.restart(s10), r11.state = 5, 1), a12 = -1, o12 = i11.length; ++a12 < o12; ) i11[a12].call(t34, n12);
      5 === r11.state && (r11.on.call("end", t34, t34.__data__, r11.index, r11.group), s10());
    }
    function s10() {
      for (var i12 in r11.state = 6, r11.timer.stop(), delete n11[e11], n11) return;
      delete t34.__transition;
    }
    n11[e11] = r11, r11.timer = cI(function(t35) {
      r11.state = 1, r11.timer.restart(a11, r11.delay, r11.time), r11.delay <= t35 && a11(t35 - r11.delay);
    }, 0, r11.time);
  }(t33, r10, { name: e10, index: i10, group: n10, on: cP, tween: c$, time: a10.time, delay: a10.delay, duration: a10.duration, ease: a10.ease, timer: null, state: 0 });
}
function cF(t33, e10) {
  var r10 = cU(t33, e10);
  if (r10.state > 0) throw Error("too late; already scheduled");
  return r10;
}
function cz(t33, e10) {
  var r10 = cU(t33, e10);
  if (r10.state > 3) throw Error("too late; already running");
  return r10;
}
function cU(t33, e10) {
  var r10 = t33.__transition;
  if (!r10 || !(r10 = r10[e10])) throw Error("transition not found");
  return r10;
}
function cG(t33, e10, r10) {
  var i10 = t33._id;
  return t33.each(function() {
    var t34 = cz(this, i10);
    (t34.value || (t34.value = {}))[e10] = r10.apply(this, arguments);
  }), function(t34) {
    return cU(t34, i10).value[e10];
  };
}
function cq(t33, e10) {
  var r10;
  return ("number" == typeof e10 ? h7 : e10 instanceof hE ? h6 : (r10 = hE(e10)) ? (e10 = r10, h6) : ct)(t33, e10);
}
var cY = hs.prototype.constructor;
function cH(t33) {
  return function() {
    this.style.removeProperty(t33);
  };
}
var cj = 0;
function cW(t33, e10, r10, i10) {
  this._groups = t33, this._parents = e10, this._name = r10, this._id = i10;
}
var cV = hs.prototype;
cW.prototype = { constructor: cW, select: function(t33) {
  var e10 = this._name, r10 = this._id;
  "function" != typeof t33 && (t33 = lP(t33));
  for (var i10 = this._groups, n10 = i10.length, a10 = Array(n10), o10 = 0; o10 < n10; ++o10) for (var s10, l10, h10 = i10[o10], u10 = h10.length, d10 = a10[o10] = Array(u10), p10 = 0; p10 < u10; ++p10) (s10 = h10[p10]) && (l10 = t33.call(s10, s10.__data__, p10, h10)) && ("__data__" in s10 && (l10.__data__ = s10.__data__), d10[p10] = l10, cB(d10[p10], e10, r10, p10, d10, cU(s10, r10)));
  return new cW(a10, this._parents, e10, r10);
}, selectAll: function(t33) {
  var e10 = this._name, r10 = this._id;
  "function" != typeof t33 && (t33 = lB(t33));
  for (var i10 = this._groups, n10 = i10.length, a10 = [], o10 = [], s10 = 0; s10 < n10; ++s10) for (var l10, h10 = i10[s10], u10 = h10.length, d10 = 0; d10 < u10; ++d10) if (l10 = h10[d10]) {
    for (var p10, g10 = t33.call(l10, l10.__data__, d10, h10), f10 = cU(l10, r10), y10 = 0, v10 = g10.length; y10 < v10; ++y10) (p10 = g10[y10]) && cB(p10, e10, r10, y10, g10, f10);
    a10.push(g10), o10.push(l10);
  }
  return new cW(a10, o10, e10, r10);
}, selectChild: cV.selectChild, selectChildren: cV.selectChildren, filter: function(t33) {
  "function" != typeof t33 && (t33 = lF(t33));
  for (var e10 = this._groups, r10 = e10.length, i10 = Array(r10), n10 = 0; n10 < r10; ++n10) for (var a10, o10 = e10[n10], s10 = o10.length, l10 = i10[n10] = [], h10 = 0; h10 < s10; ++h10) (a10 = o10[h10]) && t33.call(a10, a10.__data__, h10, o10) && l10.push(a10);
  return new cW(i10, this._parents, this._name, this._id);
}, merge: function(t33) {
  if (t33._id !== this._id) throw Error();
  for (var e10 = this._groups, r10 = t33._groups, i10 = e10.length, n10 = r10.length, a10 = Math.min(i10, n10), o10 = Array(i10), s10 = 0; s10 < a10; ++s10) for (var l10, h10 = e10[s10], u10 = r10[s10], d10 = h10.length, p10 = o10[s10] = Array(d10), g10 = 0; g10 < d10; ++g10) (l10 = h10[g10] || u10[g10]) && (p10[g10] = l10);
  for (; s10 < i10; ++s10) o10[s10] = e10[s10];
  return new cW(o10, this._parents, this._name, this._id);
}, selection: function() {
  return new cY(this._groups, this._parents);
}, transition: function() {
  for (var t33 = this._name, e10 = this._id, r10 = ++cj, i10 = this._groups, n10 = i10.length, a10 = 0; a10 < n10; ++a10) for (var o10, s10 = i10[a10], l10 = s10.length, h10 = 0; h10 < l10; ++h10) if (o10 = s10[h10]) {
    var u10 = cU(o10, e10);
    cB(o10, t33, r10, h10, s10, { time: u10.time + u10.delay + u10.duration, delay: 0, duration: u10.duration, ease: u10.ease });
  }
  return new cW(i10, this._parents, t33, r10);
}, call: cV.call, nodes: cV.nodes, node: cV.node, size: cV.size, empty: cV.empty, each: cV.each, on: function(t33, e10) {
  var r10, i10, n10, a10 = this._id;
  return arguments.length < 2 ? cU(this.node(), a10).on.on(t33) : this.each((n10 = (t33 + "").trim().split(/^|\s+/).every(function(t34) {
    var e11 = t34.indexOf(".");
    return e11 >= 0 && (t34 = t34.slice(0, e11)), !t34 || "start" === t34;
  }) ? cF : cz, function() {
    var o10 = n10(this, a10), s10 = o10.on;
    s10 !== r10 && (i10 = (r10 = s10).copy()).on(t33, e10), o10.on = i10;
  }));
}, attr: function(t33, e10) {
  var r10 = lR(t33), i10 = "transform" === r10 ? cs : cq;
  return this.attrTween(t33, "function" == typeof e10 ? (r10.local ? function(t34, e11, r11) {
    var i11, n10, a10;
    return function() {
      var o10, s10, l10 = r11(this);
      return null == l10 ? void this.removeAttributeNS(t34.space, t34.local) : (o10 = this.getAttributeNS(t34.space, t34.local)) === (s10 = l10 + "") ? null : o10 === i11 && s10 === n10 ? a10 : (n10 = s10, a10 = e11(i11 = o10, l10));
    };
  } : function(t34, e11, r11) {
    var i11, n10, a10;
    return function() {
      var o10, s10, l10 = r11(this);
      return null == l10 ? void this.removeAttribute(t34) : (o10 = this.getAttribute(t34)) === (s10 = l10 + "") ? null : o10 === i11 && s10 === n10 ? a10 : (n10 = s10, a10 = e11(i11 = o10, l10));
    };
  })(r10, i10, cG(this, "attr." + t33, e10)) : null == e10 ? (r10.local ? function(t34) {
    return function() {
      this.removeAttributeNS(t34.space, t34.local);
    };
  } : function(t34) {
    return function() {
      this.removeAttribute(t34);
    };
  })(r10) : (r10.local ? function(t34, e11, r11) {
    var i11, n10, a10 = r11 + "";
    return function() {
      var o10 = this.getAttributeNS(t34.space, t34.local);
      return o10 === a10 ? null : o10 === i11 ? n10 : n10 = e11(i11 = o10, r11);
    };
  } : function(t34, e11, r11) {
    var i11, n10, a10 = r11 + "";
    return function() {
      var o10 = this.getAttribute(t34);
      return o10 === a10 ? null : o10 === i11 ? n10 : n10 = e11(i11 = o10, r11);
    };
  })(r10, i10, e10));
}, attrTween: function(t33, e10) {
  var r10 = "attr." + t33;
  if (arguments.length < 2) return (r10 = this.tween(r10)) && r10._value;
  if (null == e10) return this.tween(r10, null);
  if ("function" != typeof e10) throw Error();
  var i10 = lR(t33);
  return this.tween(r10, (i10.local ? function(t34, e11) {
    var r11, i11;
    function n10() {
      var n11 = e11.apply(this, arguments);
      return n11 !== i11 && (r11 = (i11 = n11) && function(e12) {
        this.setAttributeNS(t34.space, t34.local, n11.call(this, e12));
      }), r11;
    }
    return n10._value = e11, n10;
  } : function(t34, e11) {
    var r11, i11;
    function n10() {
      var n11 = e11.apply(this, arguments);
      return n11 !== i11 && (r11 = (i11 = n11) && function(e12) {
        this.setAttribute(t34, n11.call(this, e12));
      }), r11;
    }
    return n10._value = e11, n10;
  })(i10, e10));
}, style: function(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10, x10, b10, w10, k10, _10, T10, E10, C10 = "transform" == (t33 += "") ? co : cq;
  return null == e10 ? this.styleTween(t33, (i10 = t33, function() {
    var t34 = lQ(this, i10), e11 = (this.style.removeProperty(i10), lQ(this, i10));
    return t34 === e11 ? null : t34 === n10 && e11 === a10 ? o10 : o10 = C10(n10 = t34, a10 = e11);
  })).on("end.style." + t33, cH(t33)) : "function" == typeof e10 ? this.styleTween(t33, (s10 = t33, l10 = cG(this, "style." + t33, e10), function() {
    var t34 = lQ(this, s10), e11 = l10(this), r11 = e11 + "";
    return null == e11 && (this.style.removeProperty(s10), r11 = e11 = lQ(this, s10)), t34 === r11 ? null : t34 === h10 && r11 === u10 ? d10 : (u10 = r11, d10 = C10(h10 = t34, e11));
  })).each((p10 = this._id, w10 = "end." + (b10 = "style." + (g10 = t33)), function() {
    var t34 = cz(this, p10), e11 = t34.on, r11 = null == t34.value[b10] ? x10 || (x10 = cH(g10)) : void 0;
    (e11 !== f10 || v10 !== r11) && (y10 = (f10 = e11).copy()).on(w10, v10 = r11), t34.on = y10;
  })) : this.styleTween(t33, (k10 = t33, E10 = e10 + "", function() {
    var t34 = lQ(this, k10);
    return t34 === E10 ? null : t34 === _10 ? T10 : T10 = C10(_10 = t34, e10);
  }), r10).on("end.style." + t33, null);
}, styleTween: function(t33, e10, r10) {
  var i10 = "style." + (t33 += "");
  if (arguments.length < 2) return (i10 = this.tween(i10)) && i10._value;
  if (null == e10) return this.tween(i10, null);
  if ("function" != typeof e10) throw Error();
  return this.tween(i10, function(t34, e11, r11) {
    var i11, n10;
    function a10() {
      var a11 = e11.apply(this, arguments);
      return a11 !== n10 && (i11 = (n10 = a11) && function(e12) {
        this.style.setProperty(t34, a11.call(this, e12), r11);
      }), i11;
    }
    return a10._value = e11, a10;
  }(t33, e10, null == r10 ? "" : r10));
}, text: function(t33) {
  var e10, r10;
  return this.tween("text", "function" == typeof t33 ? (e10 = cG(this, "text", t33), function() {
    var t34 = e10(this);
    this.textContent = null == t34 ? "" : t34;
  }) : (r10 = null == t33 ? "" : t33 + "", function() {
    this.textContent = r10;
  }));
}, textTween: function(t33) {
  var e10 = "text";
  if (arguments.length < 1) return (e10 = this.tween(e10)) && e10._value;
  if (null == t33) return this.tween(e10, null);
  if ("function" != typeof t33) throw Error();
  return this.tween(e10, function(t34) {
    var e11, r10;
    function i10() {
      var i11 = t34.apply(this, arguments);
      return i11 !== r10 && (e11 = (r10 = i11) && function(t35) {
        this.textContent = i11.call(this, t35);
      }), e11;
    }
    return i10._value = t34, i10;
  }(t33));
}, remove: function() {
  var t33;
  return this.on("end.remove", (t33 = this._id, function() {
    var e10 = this.parentNode;
    for (var r10 in this.__transition) if (+r10 !== t33) return;
    e10 && e10.removeChild(this);
  }));
}, tween: function(t33, e10) {
  var r10 = this._id;
  if (t33 += "", arguments.length < 2) {
    for (var i10, n10 = cU(this.node(), r10).tween, a10 = 0, o10 = n10.length; a10 < o10; ++a10) if ((i10 = n10[a10]).name === t33) return i10.value;
    return null;
  }
  return this.each((null == e10 ? function(t34, e11) {
    var r11, i11;
    return function() {
      var n11 = cz(this, t34), a11 = n11.tween;
      if (a11 !== r11) {
        i11 = r11 = a11;
        for (var o11 = 0, s10 = i11.length; o11 < s10; ++o11) if (i11[o11].name === e11) {
          (i11 = i11.slice()).splice(o11, 1);
          break;
        }
      }
      n11.tween = i11;
    };
  } : function(t34, e11, r11) {
    var i11, n11;
    if ("function" != typeof r11) throw Error();
    return function() {
      var a11 = cz(this, t34), o11 = a11.tween;
      if (o11 !== i11) {
        n11 = (i11 = o11).slice();
        for (var s10 = { name: e11, value: r11 }, l10 = 0, h10 = n11.length; l10 < h10; ++l10) if (n11[l10].name === e11) {
          n11[l10] = s10;
          break;
        }
        l10 === h10 && n11.push(s10);
      }
      a11.tween = n11;
    };
  })(r10, t33, e10));
}, delay: function(t33) {
  var e10 = this._id;
  return arguments.length ? this.each(("function" == typeof t33 ? function(t34, e11) {
    return function() {
      cF(this, t34).delay = +e11.apply(this, arguments);
    };
  } : function(t34, e11) {
    return e11 = +e11, function() {
      cF(this, t34).delay = e11;
    };
  })(e10, t33)) : cU(this.node(), e10).delay;
}, duration: function(t33) {
  var e10 = this._id;
  return arguments.length ? this.each(("function" == typeof t33 ? function(t34, e11) {
    return function() {
      cz(this, t34).duration = +e11.apply(this, arguments);
    };
  } : function(t34, e11) {
    return e11 = +e11, function() {
      cz(this, t34).duration = e11;
    };
  })(e10, t33)) : cU(this.node(), e10).duration;
}, ease: function(t33) {
  var e10 = this._id;
  return arguments.length ? this.each(function(t34, e11) {
    if ("function" != typeof e11) throw Error();
    return function() {
      cz(this, t34).ease = e11;
    };
  }(e10, t33)) : cU(this.node(), e10).ease;
}, easeVarying: function(t33) {
  var e10;
  if ("function" != typeof t33) throw Error();
  return this.each((e10 = this._id, function() {
    var r10 = t33.apply(this, arguments);
    if ("function" != typeof r10) throw Error();
    cz(this, e10).ease = r10;
  }));
}, end: function() {
  var t33, e10, r10 = this, i10 = r10._id, n10 = r10.size();
  return new Promise(function(a10, o10) {
    var s10 = { value: o10 }, l10 = { value: function() {
      0 == --n10 && a10();
    } };
    r10.each(function() {
      var r11 = cz(this, i10), n11 = r11.on;
      n11 !== t33 && ((e10 = (t33 = n11).copy())._.cancel.push(s10), e10._.interrupt.push(s10), e10._.end.push(l10)), r11.on = e10;
    }), 0 === n10 && a10();
  });
}, [Symbol.iterator]: cV[Symbol.iterator] };
var cX = { time: null, delay: 0, duration: 250, ease: function(t33) {
  return ((t33 *= 2) <= 1 ? t33 * t33 * t33 : (t33 -= 2) * t33 * t33 + 2) / 2;
} };
hs.prototype.interrupt = function(t33) {
  return this.each(function() {
    !function(t34, e10) {
      var r10, i10, n10, a10 = t34.__transition, o10 = true;
      if (a10) {
        for (n10 in e10 = null == e10 ? null : e10 + "", a10) {
          if ((r10 = a10[n10]).name !== e10) {
            o10 = false;
            continue;
          }
          i10 = r10.state > 2 && r10.state < 5, r10.state = 6, r10.timer.stop(), r10.on.call(i10 ? "interrupt" : "cancel", t34, t34.__data__, r10.index, r10.group), delete a10[n10];
        }
        o10 && delete t34.__transition;
      }
    }(this, t33);
  });
}, hs.prototype.transition = function(t33) {
  var e10, r10;
  t33 instanceof cW ? (e10 = t33._id, t33 = t33._name) : (e10 = ++cj, (r10 = cX).time = cA(), t33 = null == t33 ? null : t33 + "");
  for (var i10 = this._groups, n10 = i10.length, a10 = 0; a10 < n10; ++a10) for (var o10, s10 = i10[a10], l10 = s10.length, h10 = 0; h10 < l10; ++h10) (o10 = s10[h10]) && cB(o10, t33, e10, h10, s10, r10 || function(t34, e11) {
    for (var r11; !(r11 = t34.__transition) || !(r11 = r11[e11]); ) if (!(t34 = t34.parentNode)) throw Error(`transition ${e11} not found`);
    return r11;
  }(o10, e10));
  return new cW(i10, this._parents, t33, e10);
};
let cK = Math.PI, cZ = 2 * cK, cQ = cZ - 1e-6;
function cJ(t33) {
  this._ += t33[0];
  for (let e10 = 1, r10 = t33.length; e10 < r10; ++e10) this._ += arguments[e10] + t33[e10];
}
let c0 = class {
  constructor(t33) {
    this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "", this._append = null == t33 ? cJ : function(t34) {
      let e10 = Math.floor(t34);
      if (!(e10 >= 0)) throw Error(`invalid digits: ${t34}`);
      if (e10 > 15) return cJ;
      let r10 = 10 ** e10;
      return function(t35) {
        this._ += t35[0];
        for (let e11 = 1, i10 = t35.length; e11 < i10; ++e11) this._ += Math.round(arguments[e11] * r10) / r10 + t35[e11];
      };
    }(t33);
  }
  moveTo(t33, e10) {
    this._append`M${this._x0 = this._x1 = +t33},${this._y0 = this._y1 = +e10}`;
  }
  closePath() {
    null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._append`Z`);
  }
  lineTo(t33, e10) {
    this._append`L${this._x1 = +t33},${this._y1 = +e10}`;
  }
  quadraticCurveTo(t33, e10, r10, i10) {
    this._append`Q${+t33},${+e10},${this._x1 = +r10},${this._y1 = +i10}`;
  }
  bezierCurveTo(t33, e10, r10, i10, n10, a10) {
    this._append`C${+t33},${+e10},${+r10},${+i10},${this._x1 = +n10},${this._y1 = +a10}`;
  }
  arcTo(t33, e10, r10, i10, n10) {
    if (t33 = +t33, e10 = +e10, r10 = +r10, i10 = +i10, (n10 = +n10) < 0) throw Error(`negative radius: ${n10}`);
    let a10 = this._x1, o10 = this._y1, s10 = r10 - t33, l10 = i10 - e10, h10 = a10 - t33, u10 = o10 - e10, d10 = h10 * h10 + u10 * u10;
    if (null === this._x1) this._append`M${this._x1 = t33},${this._y1 = e10}`;
    else if (d10 > 1e-6) {
      if (Math.abs(u10 * s10 - l10 * h10) > 1e-6 && n10) {
        let p10 = r10 - a10, g10 = i10 - o10, f10 = s10 * s10 + l10 * l10, y10 = Math.sqrt(f10), v10 = Math.sqrt(d10), x10 = n10 * Math.tan((cK - Math.acos((f10 + d10 - (p10 * p10 + g10 * g10)) / (2 * y10 * v10))) / 2), b10 = x10 / v10, w10 = x10 / y10;
        Math.abs(b10 - 1) > 1e-6 && this._append`L${t33 + b10 * h10},${e10 + b10 * u10}`, this._append`A${n10},${n10},0,0,${+(u10 * p10 > h10 * g10)},${this._x1 = t33 + w10 * s10},${this._y1 = e10 + w10 * l10}`;
      } else this._append`L${this._x1 = t33},${this._y1 = e10}`;
    }
  }
  arc(t33, e10, r10, i10, n10, a10) {
    if (t33 = +t33, e10 = +e10, a10 = !!a10, (r10 = +r10) < 0) throw Error(`negative radius: ${r10}`);
    let o10 = r10 * Math.cos(i10), s10 = r10 * Math.sin(i10), l10 = t33 + o10, h10 = e10 + s10, u10 = 1 ^ a10, d10 = a10 ? i10 - n10 : n10 - i10;
    null === this._x1 ? this._append`M${l10},${h10}` : (Math.abs(this._x1 - l10) > 1e-6 || Math.abs(this._y1 - h10) > 1e-6) && this._append`L${l10},${h10}`, r10 && (d10 < 0 && (d10 = d10 % cZ + cZ), d10 > cQ ? this._append`A${r10},${r10},0,1,${u10},${t33 - o10},${e10 - s10}A${r10},${r10},0,1,${u10},${this._x1 = l10},${this._y1 = h10}` : d10 > 1e-6 && this._append`A${r10},${r10},0,${+(d10 >= cK)},${u10},${this._x1 = t33 + r10 * Math.cos(n10)},${this._y1 = e10 + r10 * Math.sin(n10)}`);
  }
  rect(t33, e10, r10, i10) {
    this._append`M${this._x0 = this._x1 = +t33},${this._y0 = this._y1 = +e10}h${r10 = +r10}v${+i10}h${-r10}Z`;
  }
  toString() {
    return this._;
  }
};
function c1(t33, e10) {
  if ((r10 = (t33 = e10 ? t33.toExponential(e10 - 1) : t33.toExponential()).indexOf("e")) < 0) return null;
  var r10, i10 = t33.slice(0, r10);
  return [i10.length > 1 ? i10[0] + i10.slice(2) : i10, +t33.slice(r10 + 1)];
}
function c2(t33) {
  return (t33 = c1(Math.abs(t33))) ? t33[1] : NaN;
}
var c4 = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function c5(t33) {
  var e10;
  if (!(e10 = c4.exec(t33))) throw Error("invalid format: " + t33);
  return new c3({ fill: e10[1], align: e10[2], sign: e10[3], symbol: e10[4], zero: e10[5], width: e10[6], comma: e10[7], precision: e10[8] && e10[8].slice(1), trim: e10[9], type: e10[10] });
}
function c3(t33) {
  this.fill = void 0 === t33.fill ? " " : t33.fill + "", this.align = void 0 === t33.align ? ">" : t33.align + "", this.sign = void 0 === t33.sign ? "-" : t33.sign + "", this.symbol = void 0 === t33.symbol ? "" : t33.symbol + "", this.zero = !!t33.zero, this.width = void 0 === t33.width ? void 0 : +t33.width, this.comma = !!t33.comma, this.precision = void 0 === t33.precision ? void 0 : +t33.precision, this.trim = !!t33.trim, this.type = void 0 === t33.type ? "" : t33.type + "";
}
function c6(t33, e10) {
  var r10 = c1(t33, e10);
  if (!r10) return t33 + "";
  var i10 = r10[0], n10 = r10[1];
  return n10 < 0 ? "0." + Array(-n10).join("0") + i10 : i10.length > n10 + 1 ? i10.slice(0, n10 + 1) + "." + i10.slice(n10 + 1) : i10 + Array(n10 - i10.length + 2).join("0");
}
c5.prototype = c3.prototype, c3.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (void 0 === this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (void 0 === this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type;
};
let c7 = { "%": (t33, e10) => (100 * t33).toFixed(e10), b: (t33) => Math.round(t33).toString(2), c: (t33) => t33 + "", d: function(t33) {
  return Math.abs(t33 = Math.round(t33)) >= 1e21 ? t33.toLocaleString("en").replace(/,/g, "") : t33.toString(10);
}, e: (t33, e10) => t33.toExponential(e10), f: (t33, e10) => t33.toFixed(e10), g: (t33, e10) => t33.toPrecision(e10), o: (t33) => Math.round(t33).toString(8), p: (t33, e10) => c6(100 * t33, e10), r: c6, s: function(t33, e10) {
  var r10 = c1(t33, e10);
  if (!r10) return t33 + "";
  var i10 = r10[0], n10 = r10[1], a10 = n10 - (JT = 3 * Math.max(-8, Math.min(8, Math.floor(n10 / 3)))) + 1, o10 = i10.length;
  return a10 === o10 ? i10 : a10 > o10 ? i10 + Array(a10 - o10 + 1).join("0") : a10 > 0 ? i10.slice(0, a10) + "." + i10.slice(a10) : "0." + Array(1 - a10).join("0") + c1(t33, Math.max(0, e10 + a10 - 1))[0];
}, X: (t33) => Math.round(t33).toString(16).toUpperCase(), x: (t33) => Math.round(t33).toString(16) };
function c8(t33) {
  return t33;
}
var c9 = Array.prototype.map, ut = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function ue(t33, e10) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(t33);
      break;
    default:
      this.range(e10).domain(t33);
  }
  return this;
}
JC = (JE = function(t33) {
  var e10, r10, i10, n10 = void 0 === t33.grouping || void 0 === t33.thousands ? c8 : (e10 = c9.call(t33.grouping, Number), r10 = t33.thousands + "", function(t34, i11) {
    for (var n11 = t34.length, a11 = [], o11 = 0, s11 = e10[0], l11 = 0; n11 > 0 && s11 > 0 && (l11 + s11 + 1 > i11 && (s11 = Math.max(1, i11 - l11)), a11.push(t34.substring(n11 -= s11, n11 + s11)), !((l11 += s11 + 1) > i11)); ) s11 = e10[o11 = (o11 + 1) % e10.length];
    return a11.reverse().join(r10);
  }), a10 = void 0 === t33.currency ? "" : t33.currency[0] + "", o10 = void 0 === t33.currency ? "" : t33.currency[1] + "", s10 = void 0 === t33.decimal ? "." : t33.decimal + "", l10 = void 0 === t33.numerals ? c8 : (i10 = c9.call(t33.numerals, String), function(t34) {
    return t34.replace(/[0-9]/g, function(t35) {
      return i10[+t35];
    });
  }), h10 = void 0 === t33.percent ? "%" : t33.percent + "", u10 = void 0 === t33.minus ? "−" : t33.minus + "", d10 = void 0 === t33.nan ? "NaN" : t33.nan + "";
  function p10(t34) {
    var e11 = (t34 = c5(t34)).fill, r11 = t34.align, i11 = t34.sign, p11 = t34.symbol, g10 = t34.zero, f10 = t34.width, y10 = t34.comma, v10 = t34.precision, x10 = t34.trim, b10 = t34.type;
    "n" === b10 ? (y10 = true, b10 = "g") : c7[b10] || (void 0 === v10 && (v10 = 12), x10 = true, b10 = "g"), (g10 || "0" === e11 && "=" === r11) && (g10 = true, e11 = "0", r11 = "=");
    var w10 = "$" === p11 ? a10 : "#" === p11 && /[boxX]/.test(b10) ? "0" + b10.toLowerCase() : "", k10 = "$" === p11 ? o10 : /[%p]/.test(b10) ? h10 : "", _10 = c7[b10], T10 = /[defgprs%]/.test(b10);
    function E10(t35) {
      var a11, o11, h11, p12 = w10, E11 = k10;
      if ("c" === b10) E11 = _10(t35) + E11, t35 = "";
      else {
        var C10 = (t35 = +t35) < 0 || 1 / t35 < 0;
        if (t35 = isNaN(t35) ? d10 : _10(Math.abs(t35), v10), x10 && (t35 = function(t36) {
          t: for (var e12, r12 = t36.length, i12 = 1, n11 = -1; i12 < r12; ++i12) switch (t36[i12]) {
            case ".":
              n11 = e12 = i12;
              break;
            case "0":
              0 === n11 && (n11 = i12), e12 = i12;
              break;
            default:
              if (!+t36[i12]) break t;
              n11 > 0 && (n11 = 0);
          }
          return n11 > 0 ? t36.slice(0, n11) + t36.slice(e12 + 1) : t36;
        }(t35)), C10 && 0 == +t35 && "+" !== i11 && (C10 = false), p12 = (C10 ? "(" === i11 ? i11 : u10 : "-" === i11 || "(" === i11 ? "" : i11) + p12, E11 = ("s" === b10 ? ut[8 + JT / 3] : "") + E11 + (C10 && "(" === i11 ? ")" : ""), T10) {
          for (a11 = -1, o11 = t35.length; ++a11 < o11; ) if (48 > (h11 = t35.charCodeAt(a11)) || h11 > 57) {
            E11 = (46 === h11 ? s10 + t35.slice(a11 + 1) : t35.slice(a11)) + E11, t35 = t35.slice(0, a11);
            break;
          }
        }
      }
      y10 && !g10 && (t35 = n10(t35, 1 / 0));
      var S10 = p12.length + t35.length + E11.length, A10 = S10 < f10 ? Array(f10 - S10 + 1).join(e11) : "";
      switch (y10 && g10 && (t35 = n10(A10 + t35, A10.length ? f10 - E11.length : 1 / 0), A10 = ""), r11) {
        case "<":
          t35 = p12 + t35 + E11 + A10;
          break;
        case "=":
          t35 = p12 + A10 + t35 + E11;
          break;
        case "^":
          t35 = A10.slice(0, S10 = A10.length >> 1) + p12 + t35 + E11 + A10.slice(S10);
          break;
        default:
          t35 = A10 + p12 + t35 + E11;
      }
      return l10(t35);
    }
    return v10 = void 0 === v10 ? 6 : /[gprs]/.test(b10) ? Math.max(1, Math.min(21, v10)) : Math.max(0, Math.min(20, v10)), E10.toString = function() {
      return t34 + "";
    }, E10;
  }
  return { format: p10, formatPrefix: function(t34, e11) {
    var r11 = p10(((t34 = c5(t34)).type = "f", t34)), i11 = 3 * Math.max(-8, Math.min(8, Math.floor(c2(e11) / 3))), n11 = Math.pow(10, -i11), a11 = ut[8 + i11 / 3];
    return function(t35) {
      return r11(n11 * t35) + a11;
    };
  } };
}({ thousands: ",", grouping: [3], currency: ["$", ""] })).format, JS = JE.formatPrefix;
let ur = Symbol("implicit");
function ui() {
  var t33 = new lp(), e10 = [], r10 = [], i10 = ur;
  function n10(n11) {
    let a10 = t33.get(n11);
    if (void 0 === a10) {
      if (i10 !== ur) return i10;
      t33.set(n11, a10 = e10.push(n11) - 1);
    }
    return r10[a10 % r10.length];
  }
  return n10.domain = function(r11) {
    if (!arguments.length) return e10.slice();
    for (let i11 of (e10 = [], t33 = new lp(), r11)) t33.has(i11) || t33.set(i11, e10.push(i11) - 1);
    return n10;
  }, n10.range = function(t34) {
    return arguments.length ? (r10 = Array.from(t34), n10) : r10.slice();
  }, n10.unknown = function(t34) {
    return arguments.length ? (i10 = t34, n10) : i10;
  }, n10.copy = function() {
    return ui(e10, r10).unknown(i10);
  }, ue.apply(n10, arguments), n10;
}
function un() {
  var t33, e10, r10 = ui().unknown(void 0), i10 = r10.domain, n10 = r10.range, a10 = 0, o10 = 1, s10 = false, l10 = 0, h10 = 0, u10 = 0.5;
  function d10() {
    var r11 = i10().length, d11 = o10 < a10, p10 = d11 ? o10 : a10, g10 = d11 ? a10 : o10;
    t33 = (g10 - p10) / Math.max(1, r11 - l10 + 2 * h10), s10 && (t33 = Math.floor(t33)), p10 += (g10 - p10 - t33 * (r11 - l10)) * u10, e10 = t33 * (1 - l10), s10 && (p10 = Math.round(p10), e10 = Math.round(e10));
    var f10 = function(t34, e11, r12) {
      t34 = +t34, e11 = +e11, r12 = (n11 = arguments.length) < 2 ? (e11 = t34, t34 = 0, 1) : n11 < 3 ? 1 : +r12;
      for (var i11 = -1, n11 = 0 | Math.max(0, Math.ceil((e11 - t34) / r12)), a11 = Array(n11); ++i11 < n11; ) a11[i11] = t34 + i11 * r12;
      return a11;
    }(r11).map(function(e11) {
      return p10 + t33 * e11;
    });
    return n10(d11 ? f10.reverse() : f10);
  }
  return delete r10.unknown, r10.domain = function(t34) {
    return arguments.length ? (i10(t34), d10()) : i10();
  }, r10.range = function(t34) {
    return arguments.length ? ([a10, o10] = t34, a10 = +a10, o10 = +o10, d10()) : [a10, o10];
  }, r10.rangeRound = function(t34) {
    return [a10, o10] = t34, a10 = +a10, o10 = +o10, s10 = true, d10();
  }, r10.bandwidth = function() {
    return e10;
  }, r10.step = function() {
    return t33;
  }, r10.round = function(t34) {
    return arguments.length ? (s10 = !!t34, d10()) : s10;
  }, r10.padding = function(t34) {
    return arguments.length ? (l10 = Math.min(1, h10 = +t34), d10()) : l10;
  }, r10.paddingInner = function(t34) {
    return arguments.length ? (l10 = Math.min(1, t34), d10()) : l10;
  }, r10.paddingOuter = function(t34) {
    return arguments.length ? (h10 = +t34, d10()) : h10;
  }, r10.align = function(t34) {
    return arguments.length ? (u10 = Math.max(0, Math.min(1, t34)), d10()) : u10;
  }, r10.copy = function() {
    return un(i10(), [a10, o10]).round(s10).paddingInner(l10).paddingOuter(h10).align(u10);
  }, ue.apply(d10(), arguments);
}
function ua(t33) {
  return +t33;
}
var uo = [0, 1];
function us(t33) {
  return t33;
}
function ul(t33, e10) {
  var r10;
  return (e10 -= t33 = +t33) ? function(r11) {
    return (r11 - t33) / e10;
  } : (r10 = isNaN(e10) ? NaN : 0.5, function() {
    return r10;
  });
}
function uh(t33, e10, r10) {
  var i10 = t33[0], n10 = t33[1], a10 = e10[0], o10 = e10[1];
  return n10 < i10 ? (i10 = ul(n10, i10), a10 = r10(o10, a10)) : (i10 = ul(i10, n10), a10 = r10(a10, o10)), function(t34) {
    return a10(i10(t34));
  };
}
function uc(t33, e10, r10) {
  var i10 = Math.min(t33.length, e10.length) - 1, n10 = Array(i10), a10 = Array(i10), o10 = -1;
  for (t33[i10] < t33[0] && (t33 = t33.slice().reverse(), e10 = e10.slice().reverse()); ++o10 < i10; ) n10[o10] = ul(t33[o10], t33[o10 + 1]), a10[o10] = r10(e10[o10], e10[o10 + 1]);
  return function(e11) {
    var r11 = ld(t33, e11, 1, i10) - 1;
    return a10[r11](n10[r11](e11));
  };
}
function uu(t33, e10) {
  return e10.domain(t33.domain()).range(t33.range()).interpolate(t33.interpolate()).clamp(t33.clamp()).unknown(t33.unknown());
}
function ud() {
  return function() {
    var t33, e10, r10, i10, n10, a10, o10 = uo, s10 = uo, l10 = function t34(e11, r11) {
      var i11, n11, a11 = typeof r11;
      return null == r11 || "boolean" === a11 ? h4(r11) : ("number" === a11 ? h7 : "string" === a11 ? (n11 = hE(r11)) ? (r11 = n11, h6) : ct : r11 instanceof hE ? h6 : r11 instanceof Date ? function(t35, e12) {
        var r12 = /* @__PURE__ */ new Date();
        return t35 = +t35, e12 = +e12, function(i12) {
          return r12.setTime(t35 * (1 - i12) + e12 * i12), r12;
        };
      } : !ArrayBuffer.isView(i11 = r11) || i11 instanceof DataView ? Array.isArray(r11) ? function(e12, r12) {
        var i12, n12 = r12 ? r12.length : 0, a12 = e12 ? Math.min(n12, e12.length) : 0, o11 = Array(a12), s11 = Array(n12);
        for (i12 = 0; i12 < a12; ++i12) o11[i12] = t34(e12[i12], r12[i12]);
        for (; i12 < n12; ++i12) s11[i12] = r12[i12];
        return function(t35) {
          for (i12 = 0; i12 < a12; ++i12) s11[i12] = o11[i12](t35);
          return s11;
        };
      } : "function" != typeof r11.valueOf && "function" != typeof r11.toString || isNaN(r11) ? function(e12, r12) {
        var i12, n12 = {}, a12 = {};
        for (i12 in (null === e12 || "object" != typeof e12) && (e12 = {}), (null === r12 || "object" != typeof r12) && (r12 = {}), r12) i12 in e12 ? n12[i12] = t34(e12[i12], r12[i12]) : a12[i12] = r12[i12];
        return function(t35) {
          for (i12 in n12) a12[i12] = n12[i12](t35);
          return a12;
        };
      } : h7 : function(t35, e12) {
        e12 || (e12 = []);
        var r12, i12 = t35 ? Math.min(e12.length, t35.length) : 0, n12 = e12.slice();
        return function(a12) {
          for (r12 = 0; r12 < i12; ++r12) n12[r12] = t35[r12] * (1 - a12) + e12[r12] * a12;
          return n12;
        };
      })(e11, r11);
    }, h10 = us;
    function u10() {
      var t34, e11, r11, l11 = Math.min(o10.length, s10.length);
      return h10 !== us && (t34 = o10[0], e11 = o10[l11 - 1], t34 > e11 && (r11 = t34, t34 = e11, e11 = r11), h10 = function(r12) {
        return Math.max(t34, Math.min(e11, r12));
      }), i10 = l11 > 2 ? uc : uh, n10 = a10 = null, d10;
    }
    function d10(e11) {
      return null == e11 || isNaN(e11 = +e11) ? r10 : (n10 || (n10 = i10(o10.map(t33), s10, l10)))(t33(h10(e11)));
    }
    return d10.invert = function(r11) {
      return h10(e10((a10 || (a10 = i10(s10, o10.map(t33), h7)))(r11)));
    }, d10.domain = function(t34) {
      return arguments.length ? (o10 = Array.from(t34, ua), u10()) : o10.slice();
    }, d10.range = function(t34) {
      return arguments.length ? (s10 = Array.from(t34), u10()) : s10.slice();
    }, d10.rangeRound = function(t34) {
      return s10 = Array.from(t34), l10 = ce, u10();
    }, d10.clamp = function(t34) {
      return arguments.length ? (h10 = !!t34 || us, u10()) : h10 !== us;
    }, d10.interpolate = function(t34) {
      return arguments.length ? (l10 = t34, u10()) : l10;
    }, d10.unknown = function(t34) {
      return arguments.length ? (r10 = t34, d10) : r10;
    }, function(r11, i11) {
      return t33 = r11, e10 = i11, u10();
    };
  }()(us, us);
}
function up() {
  var t33, e10 = ud();
  return e10.copy = function() {
    return uu(e10, up());
  }, ue.apply(e10, arguments), t33 = e10.domain, e10.ticks = function(e11) {
    var r10 = t33();
    return function(t34, e12, r11) {
      if (e12 = +e12, t34 = +t34, !((r11 = +r11) > 0)) return [];
      if (t34 === e12) return [t34];
      let i10 = e12 < t34, [n10, a10, o10] = i10 ? lx(e12, t34, r11) : lx(t34, e12, r11);
      if (!(a10 >= n10)) return [];
      let s10 = a10 - n10 + 1, l10 = Array(s10);
      if (i10) {
        if (o10 < 0) for (let t35 = 0; t35 < s10; ++t35) l10[t35] = -((a10 - t35) / o10);
        else for (let t35 = 0; t35 < s10; ++t35) l10[t35] = (a10 - t35) * o10;
      } else if (o10 < 0) for (let t35 = 0; t35 < s10; ++t35) l10[t35] = -((n10 + t35) / o10);
      else for (let t35 = 0; t35 < s10; ++t35) l10[t35] = (n10 + t35) * o10;
      return l10;
    }(r10[0], r10[r10.length - 1], null == e11 ? 10 : e11);
  }, e10.tickFormat = function(e11, r10) {
    var i10 = t33();
    return function(t34, e12, r11, i11) {
      var n10, a10, o10 = lw(t34, e12, r11);
      switch ((i11 = c5(null == i11 ? ",f" : i11)).type) {
        case "s":
          var s10 = Math.max(Math.abs(t34), Math.abs(e12));
          return null != i11.precision || isNaN(a10 = Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(c2(s10) / 3))) - c2(Math.abs(o10)))) || (i11.precision = a10), JS(i11, s10);
        case "":
        case "e":
        case "g":
        case "p":
        case "r":
          null != i11.precision || isNaN(a10 = Math.max(0, c2(Math.abs(Math.max(Math.abs(t34), Math.abs(e12))) - (n10 = Math.abs(n10 = o10))) - c2(n10)) + 1) || (i11.precision = a10 - ("e" === i11.type));
          break;
        case "f":
        case "%":
          null != i11.precision || isNaN(a10 = Math.max(0, -c2(Math.abs(o10)))) || (i11.precision = a10 - ("%" === i11.type) * 2);
      }
      return JC(i11);
    }(i10[0], i10[i10.length - 1], null == e11 ? 10 : e11, r10);
  }, e10.nice = function(r10) {
    null == r10 && (r10 = 10);
    var i10, n10, a10 = t33(), o10 = 0, s10 = a10.length - 1, l10 = a10[o10], h10 = a10[s10], u10 = 10;
    for (h10 < l10 && (n10 = l10, l10 = h10, h10 = n10, n10 = o10, o10 = s10, s10 = n10); u10-- > 0; ) {
      if ((n10 = lb(l10, h10, r10)) === i10) return a10[o10] = l10, a10[s10] = h10, t33(a10);
      if (n10 > 0) l10 = Math.floor(l10 / n10) * n10, h10 = Math.ceil(h10 / n10) * n10;
      else if (n10 < 0) l10 = Math.ceil(l10 * n10) / n10, h10 = Math.floor(h10 * n10) / n10;
      else break;
      i10 = n10;
    }
    return e10;
  }, e10;
}
let ug = /* @__PURE__ */ new Date(), uf = /* @__PURE__ */ new Date();
function um(t33, e10, r10, i10) {
  function n10(e11) {
    return t33(e11 = 0 == arguments.length ? /* @__PURE__ */ new Date() : /* @__PURE__ */ new Date(+e11)), e11;
  }
  return n10.floor = (e11) => (t33(e11 = /* @__PURE__ */ new Date(+e11)), e11), n10.ceil = (r11) => (t33(r11 = new Date(r11 - 1)), e10(r11, 1), t33(r11), r11), n10.round = (t34) => {
    let e11 = n10(t34), r11 = n10.ceil(t34);
    return t34 - e11 < r11 - t34 ? e11 : r11;
  }, n10.offset = (t34, r11) => (e10(t34 = /* @__PURE__ */ new Date(+t34), null == r11 ? 1 : Math.floor(r11)), t34), n10.range = (r11, i11, a10) => {
    let o10;
    let s10 = [];
    if (r11 = n10.ceil(r11), a10 = null == a10 ? 1 : Math.floor(a10), !(r11 < i11) || !(a10 > 0)) return s10;
    do
      s10.push(o10 = /* @__PURE__ */ new Date(+r11)), e10(r11, a10), t33(r11);
    while (o10 < r11 && r11 < i11);
    return s10;
  }, n10.filter = (r11) => um((e11) => {
    if (e11 >= e11) for (; t33(e11), !r11(e11); ) e11.setTime(e11 - 1);
  }, (t34, i11) => {
    if (t34 >= t34) {
      if (i11 < 0) for (; ++i11 <= 0; ) for (; e10(t34, -1), !r11(t34); ) ;
      else for (; --i11 >= 0; ) for (; e10(t34, 1), !r11(t34); ) ;
    }
  }), r10 && (n10.count = (e11, i11) => (ug.setTime(+e11), uf.setTime(+i11), t33(ug), t33(uf), Math.floor(r10(ug, uf))), n10.every = (t34) => isFinite(t34 = Math.floor(t34)) && t34 > 0 ? t34 > 1 ? n10.filter(i10 ? (e11) => i10(e11) % t34 == 0 : (e11) => n10.count(0, e11) % t34 == 0) : n10 : null), n10;
}
let uy = um(() => {
}, (t33, e10) => {
  t33.setTime(+t33 + e10);
}, (t33, e10) => e10 - t33);
uy.every = (t33) => isFinite(t33 = Math.floor(t33)) && t33 > 0 ? t33 > 1 ? um((e10) => {
  e10.setTime(Math.floor(e10 / t33) * t33);
}, (e10, r10) => {
  e10.setTime(+e10 + r10 * t33);
}, (e10, r10) => (r10 - e10) / t33) : uy : null, uy.range;
let uv = um((t33) => {
  t33.setTime(t33 - t33.getMilliseconds());
}, (t33, e10) => {
  t33.setTime(+t33 + 1e3 * e10);
}, (t33, e10) => (e10 - t33) / 1e3, (t33) => t33.getUTCSeconds());
uv.range;
let ux = um((t33) => {
  t33.setTime(t33 - t33.getMilliseconds() - 1e3 * t33.getSeconds());
}, (t33, e10) => {
  t33.setTime(+t33 + 6e4 * e10);
}, (t33, e10) => (e10 - t33) / 6e4, (t33) => t33.getMinutes());
ux.range, um((t33) => {
  t33.setUTCSeconds(0, 0);
}, (t33, e10) => {
  t33.setTime(+t33 + 6e4 * e10);
}, (t33, e10) => (e10 - t33) / 6e4, (t33) => t33.getUTCMinutes()).range;
let ub = um((t33) => {
  t33.setTime(t33 - t33.getMilliseconds() - 1e3 * t33.getSeconds() - 6e4 * t33.getMinutes());
}, (t33, e10) => {
  t33.setTime(+t33 + 36e5 * e10);
}, (t33, e10) => (e10 - t33) / 36e5, (t33) => t33.getHours());
ub.range, um((t33) => {
  t33.setUTCMinutes(0, 0, 0);
}, (t33, e10) => {
  t33.setTime(+t33 + 36e5 * e10);
}, (t33, e10) => (e10 - t33) / 36e5, (t33) => t33.getUTCHours()).range;
let uw = um((t33) => t33.setHours(0, 0, 0, 0), (t33, e10) => t33.setDate(t33.getDate() + e10), (t33, e10) => (e10 - t33 - (e10.getTimezoneOffset() - t33.getTimezoneOffset()) * 6e4) / 864e5, (t33) => t33.getDate() - 1);
uw.range;
let uk = um((t33) => {
  t33.setUTCHours(0, 0, 0, 0);
}, (t33, e10) => {
  t33.setUTCDate(t33.getUTCDate() + e10);
}, (t33, e10) => (e10 - t33) / 864e5, (t33) => t33.getUTCDate() - 1);
function u_(t33) {
  return um((e10) => {
    e10.setDate(e10.getDate() - (e10.getDay() + 7 - t33) % 7), e10.setHours(0, 0, 0, 0);
  }, (t34, e10) => {
    t34.setDate(t34.getDate() + 7 * e10);
  }, (t34, e10) => (e10 - t34 - (e10.getTimezoneOffset() - t34.getTimezoneOffset()) * 6e4) / 6048e5);
}
uk.range, um((t33) => {
  t33.setUTCHours(0, 0, 0, 0);
}, (t33, e10) => {
  t33.setUTCDate(t33.getUTCDate() + e10);
}, (t33, e10) => (e10 - t33) / 864e5, (t33) => Math.floor(t33 / 864e5)).range;
let uT = u_(0), uE = u_(1), uC = u_(2), uS = u_(3), uA = u_(4), uL = u_(5), uN = u_(6);
function uI(t33) {
  return um((e10) => {
    e10.setUTCDate(e10.getUTCDate() - (e10.getUTCDay() + 7 - t33) % 7), e10.setUTCHours(0, 0, 0, 0);
  }, (t34, e10) => {
    t34.setUTCDate(t34.getUTCDate() + 7 * e10);
  }, (t34, e10) => (e10 - t34) / 6048e5);
}
uT.range, uE.range, uC.range, uS.range, uA.range, uL.range, uN.range;
let uM = uI(0), uR = uI(1), uD = uI(2), uO = uI(3), uP = uI(4), u$ = uI(5), uB = uI(6);
uM.range, uR.range, uD.range, uO.range, uP.range, u$.range, uB.range;
let uF = um((t33) => {
  t33.setDate(1), t33.setHours(0, 0, 0, 0);
}, (t33, e10) => {
  t33.setMonth(t33.getMonth() + e10);
}, (t33, e10) => e10.getMonth() - t33.getMonth() + (e10.getFullYear() - t33.getFullYear()) * 12, (t33) => t33.getMonth());
uF.range, um((t33) => {
  t33.setUTCDate(1), t33.setUTCHours(0, 0, 0, 0);
}, (t33, e10) => {
  t33.setUTCMonth(t33.getUTCMonth() + e10);
}, (t33, e10) => e10.getUTCMonth() - t33.getUTCMonth() + (e10.getUTCFullYear() - t33.getUTCFullYear()) * 12, (t33) => t33.getUTCMonth()).range;
let uz = um((t33) => {
  t33.setMonth(0, 1), t33.setHours(0, 0, 0, 0);
}, (t33, e10) => {
  t33.setFullYear(t33.getFullYear() + e10);
}, (t33, e10) => e10.getFullYear() - t33.getFullYear(), (t33) => t33.getFullYear());
uz.every = (t33) => isFinite(t33 = Math.floor(t33)) && t33 > 0 ? um((e10) => {
  e10.setFullYear(Math.floor(e10.getFullYear() / t33) * t33), e10.setMonth(0, 1), e10.setHours(0, 0, 0, 0);
}, (e10, r10) => {
  e10.setFullYear(e10.getFullYear() + r10 * t33);
}) : null, uz.range;
let uU = um((t33) => {
  t33.setUTCMonth(0, 1), t33.setUTCHours(0, 0, 0, 0);
}, (t33, e10) => {
  t33.setUTCFullYear(t33.getUTCFullYear() + e10);
}, (t33, e10) => e10.getUTCFullYear() - t33.getUTCFullYear(), (t33) => t33.getUTCFullYear());
uU.every = (t33) => isFinite(t33 = Math.floor(t33)) && t33 > 0 ? um((e10) => {
  e10.setUTCFullYear(Math.floor(e10.getUTCFullYear() / t33) * t33), e10.setUTCMonth(0, 1), e10.setUTCHours(0, 0, 0, 0);
}, (e10, r10) => {
  e10.setUTCFullYear(e10.getUTCFullYear() + r10 * t33);
}) : null, uU.range;
let [uG, uq] = /* @__PURE__ */ function(t33, e10, r10, i10, n10, a10) {
  let o10 = [[uv, 1, 1e3], [uv, 5, 5e3], [uv, 15, 15e3], [uv, 30, 3e4], [a10, 1, 6e4], [a10, 5, 3e5], [a10, 15, 9e5], [a10, 30, 18e5], [n10, 1, 36e5], [n10, 3, 108e5], [n10, 6, 216e5], [n10, 12, 432e5], [i10, 1, 864e5], [i10, 2, 1728e5], [r10, 1, 6048e5], [e10, 1, 2592e6], [e10, 3, 7776e6], [t33, 1, 31536e6]];
  function s10(e11, r11, i11) {
    let n11 = Math.abs(r11 - e11) / i11, a11 = lc((t34) => {
      let [, , e12] = t34;
      return e12;
    }).right(o10, n11);
    if (a11 === o10.length) return t33.every(lw(e11 / 31536e6, r11 / 31536e6, i11));
    if (0 === a11) return uy.every(Math.max(lw(e11, r11, i11), 1));
    let [s11, l10] = o10[n11 / o10[a11 - 1][2] < o10[a11][2] / n11 ? a11 - 1 : a11];
    return s11.every(l10);
  }
  return [function(t34, e11, r11) {
    let i11 = e11 < t34;
    i11 && ([t34, e11] = [e11, t34]);
    let n11 = r11 && "function" == typeof r11.range ? r11 : s10(t34, e11, r11), a11 = n11 ? n11.range(t34, +e11 + 1) : [];
    return i11 ? a11.reverse() : a11;
  }, s10];
}(uz, uF, uT, uw, ub, ux);
function uY(t33) {
  if (0 <= t33.y && t33.y < 100) {
    var e10 = new Date(-1, t33.m, t33.d, t33.H, t33.M, t33.S, t33.L);
    return e10.setFullYear(t33.y), e10;
  }
  return new Date(t33.y, t33.m, t33.d, t33.H, t33.M, t33.S, t33.L);
}
function uH(t33) {
  if (0 <= t33.y && t33.y < 100) {
    var e10 = new Date(Date.UTC(-1, t33.m, t33.d, t33.H, t33.M, t33.S, t33.L));
    return e10.setUTCFullYear(t33.y), e10;
  }
  return new Date(Date.UTC(t33.y, t33.m, t33.d, t33.H, t33.M, t33.S, t33.L));
}
function uj(t33, e10, r10) {
  return { y: t33, m: e10, d: r10, H: 0, M: 0, S: 0, L: 0 };
}
var uW = { "-": "", _: " ", 0: "0" }, uV = /^\s*\d+/, uX = /^%/, uK = /[\\^$*+?|[\]().{}]/g;
function uZ(t33, e10, r10) {
  var i10 = t33 < 0 ? "-" : "", n10 = (i10 ? -t33 : t33) + "", a10 = n10.length;
  return i10 + (a10 < r10 ? Array(r10 - a10 + 1).join(e10) + n10 : n10);
}
function uQ(t33) {
  return t33.replace(uK, "\\$&");
}
function uJ(t33) {
  return RegExp("^(?:" + t33.map(uQ).join("|") + ")", "i");
}
function u0(t33) {
  return new Map(t33.map((t34, e10) => [t34.toLowerCase(), e10]));
}
function u1(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 1));
  return i10 ? (t33.w = +i10[0], r10 + i10[0].length) : -1;
}
function u2(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 1));
  return i10 ? (t33.u = +i10[0], r10 + i10[0].length) : -1;
}
function u4(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.U = +i10[0], r10 + i10[0].length) : -1;
}
function u5(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.V = +i10[0], r10 + i10[0].length) : -1;
}
function u3(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.W = +i10[0], r10 + i10[0].length) : -1;
}
function u6(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 4));
  return i10 ? (t33.y = +i10[0], r10 + i10[0].length) : -1;
}
function u7(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.y = +i10[0] + (+i10[0] > 68 ? 1900 : 2e3), r10 + i10[0].length) : -1;
}
function u8(t33, e10, r10) {
  var i10 = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e10.slice(r10, r10 + 6));
  return i10 ? (t33.Z = i10[1] ? 0 : -(i10[2] + (i10[3] || "00")), r10 + i10[0].length) : -1;
}
function u9(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 1));
  return i10 ? (t33.q = 3 * i10[0] - 3, r10 + i10[0].length) : -1;
}
function dt(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.m = i10[0] - 1, r10 + i10[0].length) : -1;
}
function de(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.d = +i10[0], r10 + i10[0].length) : -1;
}
function dr(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 3));
  return i10 ? (t33.m = 0, t33.d = +i10[0], r10 + i10[0].length) : -1;
}
function di(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.H = +i10[0], r10 + i10[0].length) : -1;
}
function dn(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.M = +i10[0], r10 + i10[0].length) : -1;
}
function da(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 2));
  return i10 ? (t33.S = +i10[0], r10 + i10[0].length) : -1;
}
function ds(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 3));
  return i10 ? (t33.L = +i10[0], r10 + i10[0].length) : -1;
}
function dl(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10, r10 + 6));
  return i10 ? (t33.L = Math.floor(i10[0] / 1e3), r10 + i10[0].length) : -1;
}
function dh(t33, e10, r10) {
  var i10 = uX.exec(e10.slice(r10, r10 + 1));
  return i10 ? r10 + i10[0].length : -1;
}
function dc(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10));
  return i10 ? (t33.Q = +i10[0], r10 + i10[0].length) : -1;
}
function du(t33, e10, r10) {
  var i10 = uV.exec(e10.slice(r10));
  return i10 ? (t33.s = +i10[0], r10 + i10[0].length) : -1;
}
function dd(t33, e10) {
  return uZ(t33.getDate(), e10, 2);
}
function dp(t33, e10) {
  return uZ(t33.getHours(), e10, 2);
}
function dg(t33, e10) {
  return uZ(t33.getHours() % 12 || 12, e10, 2);
}
function df(t33, e10) {
  return uZ(1 + uw.count(uz(t33), t33), e10, 3);
}
function dm(t33, e10) {
  return uZ(t33.getMilliseconds(), e10, 3);
}
function dy(t33, e10) {
  return dm(t33, e10) + "000";
}
function dv(t33, e10) {
  return uZ(t33.getMonth() + 1, e10, 2);
}
function dx(t33, e10) {
  return uZ(t33.getMinutes(), e10, 2);
}
function db(t33, e10) {
  return uZ(t33.getSeconds(), e10, 2);
}
function dw(t33) {
  var e10 = t33.getDay();
  return 0 === e10 ? 7 : e10;
}
function dk(t33, e10) {
  return uZ(uT.count(uz(t33) - 1, t33), e10, 2);
}
function d_(t33) {
  var e10 = t33.getDay();
  return e10 >= 4 || 0 === e10 ? uA(t33) : uA.ceil(t33);
}
function dT(t33, e10) {
  return t33 = d_(t33), uZ(uA.count(uz(t33), t33) + (4 === uz(t33).getDay()), e10, 2);
}
function dE(t33) {
  return t33.getDay();
}
function dC(t33, e10) {
  return uZ(uE.count(uz(t33) - 1, t33), e10, 2);
}
function dS(t33, e10) {
  return uZ(t33.getFullYear() % 100, e10, 2);
}
function dA(t33, e10) {
  return uZ((t33 = d_(t33)).getFullYear() % 100, e10, 2);
}
function dL(t33, e10) {
  return uZ(t33.getFullYear() % 1e4, e10, 4);
}
function dN(t33, e10) {
  var r10 = t33.getDay();
  return uZ((t33 = r10 >= 4 || 0 === r10 ? uA(t33) : uA.ceil(t33)).getFullYear() % 1e4, e10, 4);
}
function dI(t33) {
  var e10 = t33.getTimezoneOffset();
  return (e10 > 0 ? "-" : (e10 *= -1, "+")) + uZ(e10 / 60 | 0, "0", 2) + uZ(e10 % 60, "0", 2);
}
function dM(t33, e10) {
  return uZ(t33.getUTCDate(), e10, 2);
}
function dR(t33, e10) {
  return uZ(t33.getUTCHours(), e10, 2);
}
function dD(t33, e10) {
  return uZ(t33.getUTCHours() % 12 || 12, e10, 2);
}
function dO(t33, e10) {
  return uZ(1 + uk.count(uU(t33), t33), e10, 3);
}
function dP(t33, e10) {
  return uZ(t33.getUTCMilliseconds(), e10, 3);
}
function d$(t33, e10) {
  return dP(t33, e10) + "000";
}
function dB(t33, e10) {
  return uZ(t33.getUTCMonth() + 1, e10, 2);
}
function dF(t33, e10) {
  return uZ(t33.getUTCMinutes(), e10, 2);
}
function dz(t33, e10) {
  return uZ(t33.getUTCSeconds(), e10, 2);
}
function dU(t33) {
  var e10 = t33.getUTCDay();
  return 0 === e10 ? 7 : e10;
}
function dG(t33, e10) {
  return uZ(uM.count(uU(t33) - 1, t33), e10, 2);
}
function dq(t33) {
  var e10 = t33.getUTCDay();
  return e10 >= 4 || 0 === e10 ? uP(t33) : uP.ceil(t33);
}
function dY(t33, e10) {
  return t33 = dq(t33), uZ(uP.count(uU(t33), t33) + (4 === uU(t33).getUTCDay()), e10, 2);
}
function dH(t33) {
  return t33.getUTCDay();
}
function dj(t33, e10) {
  return uZ(uR.count(uU(t33) - 1, t33), e10, 2);
}
function dW(t33, e10) {
  return uZ(t33.getUTCFullYear() % 100, e10, 2);
}
function dV(t33, e10) {
  return uZ((t33 = dq(t33)).getUTCFullYear() % 100, e10, 2);
}
function dX(t33, e10) {
  return uZ(t33.getUTCFullYear() % 1e4, e10, 4);
}
function dK(t33, e10) {
  var r10 = t33.getUTCDay();
  return uZ((t33 = r10 >= 4 || 0 === r10 ? uP(t33) : uP.ceil(t33)).getUTCFullYear() % 1e4, e10, 4);
}
function dZ() {
  return "+0000";
}
function dQ() {
  return "%";
}
function dJ(t33) {
  return +t33;
}
function d0(t33) {
  return Math.floor(+t33 / 1e3);
}
function d1(t33) {
  return new Date(t33);
}
function d2(t33) {
  return t33 instanceof Date ? +t33 : +/* @__PURE__ */ new Date(+t33);
}
JL = (JA = function(t33) {
  var e10 = t33.dateTime, r10 = t33.date, i10 = t33.time, n10 = t33.periods, a10 = t33.days, o10 = t33.shortDays, s10 = t33.months, l10 = t33.shortMonths, h10 = uJ(n10), u10 = u0(n10), d10 = uJ(a10), p10 = u0(a10), g10 = uJ(o10), f10 = u0(o10), y10 = uJ(s10), v10 = u0(s10), x10 = uJ(l10), b10 = u0(l10), w10 = { a: function(t34) {
    return o10[t34.getDay()];
  }, A: function(t34) {
    return a10[t34.getDay()];
  }, b: function(t34) {
    return l10[t34.getMonth()];
  }, B: function(t34) {
    return s10[t34.getMonth()];
  }, c: null, d: dd, e: dd, f: dy, g: dA, G: dN, H: dp, I: dg, j: df, L: dm, m: dv, M: dx, p: function(t34) {
    return n10[+(t34.getHours() >= 12)];
  }, q: function(t34) {
    return 1 + ~~(t34.getMonth() / 3);
  }, Q: dJ, s: d0, S: db, u: dw, U: dk, V: dT, w: dE, W: dC, x: null, X: null, y: dS, Y: dL, Z: dI, "%": dQ }, k10 = { a: function(t34) {
    return o10[t34.getUTCDay()];
  }, A: function(t34) {
    return a10[t34.getUTCDay()];
  }, b: function(t34) {
    return l10[t34.getUTCMonth()];
  }, B: function(t34) {
    return s10[t34.getUTCMonth()];
  }, c: null, d: dM, e: dM, f: d$, g: dV, G: dK, H: dR, I: dD, j: dO, L: dP, m: dB, M: dF, p: function(t34) {
    return n10[+(t34.getUTCHours() >= 12)];
  }, q: function(t34) {
    return 1 + ~~(t34.getUTCMonth() / 3);
  }, Q: dJ, s: d0, S: dz, u: dU, U: dG, V: dY, w: dH, W: dj, x: null, X: null, y: dW, Y: dX, Z: dZ, "%": dQ }, _10 = { a: function(t34, e11, r11) {
    var i11 = g10.exec(e11.slice(r11));
    return i11 ? (t34.w = f10.get(i11[0].toLowerCase()), r11 + i11[0].length) : -1;
  }, A: function(t34, e11, r11) {
    var i11 = d10.exec(e11.slice(r11));
    return i11 ? (t34.w = p10.get(i11[0].toLowerCase()), r11 + i11[0].length) : -1;
  }, b: function(t34, e11, r11) {
    var i11 = x10.exec(e11.slice(r11));
    return i11 ? (t34.m = b10.get(i11[0].toLowerCase()), r11 + i11[0].length) : -1;
  }, B: function(t34, e11, r11) {
    var i11 = y10.exec(e11.slice(r11));
    return i11 ? (t34.m = v10.get(i11[0].toLowerCase()), r11 + i11[0].length) : -1;
  }, c: function(t34, r11, i11) {
    return C10(t34, e10, r11, i11);
  }, d: de, e: de, f: dl, g: u7, G: u6, H: di, I: di, j: dr, L: ds, m: dt, M: dn, p: function(t34, e11, r11) {
    var i11 = h10.exec(e11.slice(r11));
    return i11 ? (t34.p = u10.get(i11[0].toLowerCase()), r11 + i11[0].length) : -1;
  }, q: u9, Q: dc, s: du, S: da, u: u2, U: u4, V: u5, w: u1, W: u3, x: function(t34, e11, i11) {
    return C10(t34, r10, e11, i11);
  }, X: function(t34, e11, r11) {
    return C10(t34, i10, e11, r11);
  }, y: u7, Y: u6, Z: u8, "%": dh };
  function T10(t34, e11) {
    return function(r11) {
      var i11, n11, a11, o11 = [], s11 = -1, l11 = 0, h11 = t34.length;
      for (r11 instanceof Date || (r11 = /* @__PURE__ */ new Date(+r11)); ++s11 < h11; ) 37 === t34.charCodeAt(s11) && (o11.push(t34.slice(l11, s11)), null != (n11 = uW[i11 = t34.charAt(++s11)]) ? i11 = t34.charAt(++s11) : n11 = "e" === i11 ? " " : "0", (a11 = e11[i11]) && (i11 = a11(r11, n11)), o11.push(i11), l11 = s11 + 1);
      return o11.push(t34.slice(l11, s11)), o11.join("");
    };
  }
  function E10(t34, e11) {
    return function(r11) {
      var i11, n11, a11 = uj(1900, void 0, 1);
      if (C10(a11, t34, r11 += "", 0) != r11.length) return null;
      if ("Q" in a11) return new Date(a11.Q);
      if ("s" in a11) return new Date(1e3 * a11.s + ("L" in a11 ? a11.L : 0));
      if (!e11 || "Z" in a11 || (a11.Z = 0), "p" in a11 && (a11.H = a11.H % 12 + 12 * a11.p), void 0 === a11.m && (a11.m = "q" in a11 ? a11.q : 0), "V" in a11) {
        if (a11.V < 1 || a11.V > 53) return null;
        "w" in a11 || (a11.w = 1), "Z" in a11 ? (i11 = (n11 = (i11 = uH(uj(a11.y, 0, 1))).getUTCDay()) > 4 || 0 === n11 ? uR.ceil(i11) : uR(i11), i11 = uk.offset(i11, (a11.V - 1) * 7), a11.y = i11.getUTCFullYear(), a11.m = i11.getUTCMonth(), a11.d = i11.getUTCDate() + (a11.w + 6) % 7) : (i11 = (n11 = (i11 = uY(uj(a11.y, 0, 1))).getDay()) > 4 || 0 === n11 ? uE.ceil(i11) : uE(i11), i11 = uw.offset(i11, (a11.V - 1) * 7), a11.y = i11.getFullYear(), a11.m = i11.getMonth(), a11.d = i11.getDate() + (a11.w + 6) % 7);
      } else ("W" in a11 || "U" in a11) && ("w" in a11 || (a11.w = "u" in a11 ? a11.u % 7 : "W" in a11 ? 1 : 0), n11 = "Z" in a11 ? uH(uj(a11.y, 0, 1)).getUTCDay() : uY(uj(a11.y, 0, 1)).getDay(), a11.m = 0, a11.d = "W" in a11 ? (a11.w + 6) % 7 + 7 * a11.W - (n11 + 5) % 7 : a11.w + 7 * a11.U - (n11 + 6) % 7);
      return "Z" in a11 ? (a11.H += a11.Z / 100 | 0, a11.M += a11.Z % 100, uH(a11)) : uY(a11);
    };
  }
  function C10(t34, e11, r11, i11) {
    for (var n11, a11, o11 = 0, s11 = e11.length, l11 = r11.length; o11 < s11; ) {
      if (i11 >= l11) return -1;
      if (37 === (n11 = e11.charCodeAt(o11++))) {
        if (!(a11 = _10[(n11 = e11.charAt(o11++)) in uW ? e11.charAt(o11++) : n11]) || (i11 = a11(t34, r11, i11)) < 0) return -1;
      } else if (n11 != r11.charCodeAt(i11++)) return -1;
    }
    return i11;
  }
  return w10.x = T10(r10, w10), w10.X = T10(i10, w10), w10.c = T10(e10, w10), k10.x = T10(r10, k10), k10.X = T10(i10, k10), k10.c = T10(e10, k10), { format: function(t34) {
    var e11 = T10(t34 += "", w10);
    return e11.toString = function() {
      return t34;
    }, e11;
  }, parse: function(t34) {
    var e11 = E10(t34 += "", false);
    return e11.toString = function() {
      return t34;
    }, e11;
  }, utcFormat: function(t34) {
    var e11 = T10(t34 += "", k10);
    return e11.toString = function() {
      return t34;
    }, e11;
  }, utcParse: function(t34) {
    var e11 = E10(t34 += "", true);
    return e11.toString = function() {
      return t34;
    }, e11;
  } };
}({ dateTime: "%x, %X", date: "%-m/%-d/%Y", time: "%-I:%M:%S %p", periods: ["AM", "PM"], days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] })).format, JA.parse, JA.utcFormat, JA.utcParse;
let d4 = function(t33) {
  for (var e10 = t33.length / 6 | 0, r10 = Array(e10), i10 = 0; i10 < e10; ) r10[i10] = "#" + t33.slice(6 * i10, 6 * ++i10);
  return r10;
}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");
function d5(t33) {
  return function() {
    return t33;
  };
}
let d3 = Math.abs, d6 = Math.atan2, d7 = Math.cos, d8 = Math.max, d9 = Math.min, pt = Math.sin, pe = Math.sqrt, pr = Math.PI, pi = pr / 2, pn = 2 * pr;
function pa(t33) {
  return t33 >= 1 ? pi : t33 <= -1 ? -pi : Math.asin(t33);
}
function po(t33) {
  let e10 = 3;
  return t33.digits = function(r10) {
    if (!arguments.length) return e10;
    if (null == r10) e10 = null;
    else {
      let t34 = Math.floor(r10);
      if (!(t34 >= 0)) throw RangeError(`invalid digits: ${r10}`);
      e10 = t34;
    }
    return t33;
  }, () => new c0(e10);
}
function ps(t33) {
  return t33.innerRadius;
}
function pl(t33) {
  return t33.outerRadius;
}
function ph(t33) {
  return t33.startAngle;
}
function pc(t33) {
  return t33.endAngle;
}
function pu(t33) {
  return t33 && t33.padAngle;
}
function pd(t33, e10, r10, i10, n10, a10, o10) {
  var s10 = t33 - r10, l10 = e10 - i10, h10 = (o10 ? a10 : -a10) / pe(s10 * s10 + l10 * l10), u10 = h10 * l10, d10 = -h10 * s10, p10 = t33 + u10, g10 = e10 + d10, f10 = r10 + u10, y10 = i10 + d10, v10 = (p10 + f10) / 2, x10 = (g10 + y10) / 2, b10 = f10 - p10, w10 = y10 - g10, k10 = b10 * b10 + w10 * w10, _10 = n10 - a10, T10 = p10 * y10 - f10 * g10, E10 = (w10 < 0 ? -1 : 1) * pe(d8(0, _10 * _10 * k10 - T10 * T10)), C10 = (T10 * w10 - b10 * E10) / k10, S10 = (-T10 * b10 - w10 * E10) / k10, A10 = (T10 * w10 + b10 * E10) / k10, L10 = (-T10 * b10 + w10 * E10) / k10, N10 = C10 - v10, I10 = S10 - x10, M10 = A10 - v10, R10 = L10 - x10;
  return N10 * N10 + I10 * I10 > M10 * M10 + R10 * R10 && (C10 = A10, S10 = L10), { cx: C10, cy: S10, x01: -u10, y01: -d10, x11: C10 * (n10 / _10 - 1), y11: S10 * (n10 / _10 - 1) };
}
function pp() {
  var t33 = ps, e10 = pl, r10 = d5(0), i10 = null, n10 = ph, a10 = pc, o10 = pu, s10 = null, l10 = po(h10);
  function h10() {
    var h11, u10, d10 = +t33.apply(this, arguments), p10 = +e10.apply(this, arguments), g10 = n10.apply(this, arguments) - pi, f10 = a10.apply(this, arguments) - pi, y10 = d3(f10 - g10), v10 = f10 > g10;
    if (s10 || (s10 = h11 = l10()), p10 < d10 && (u10 = p10, p10 = d10, d10 = u10), p10 > 1e-12) {
      if (y10 > pn - 1e-12) s10.moveTo(p10 * d7(g10), p10 * pt(g10)), s10.arc(0, 0, p10, g10, f10, !v10), d10 > 1e-12 && (s10.moveTo(d10 * d7(f10), d10 * pt(f10)), s10.arc(0, 0, d10, f10, g10, v10));
      else {
        var x10, b10, w10 = g10, k10 = f10, _10 = g10, T10 = f10, E10 = y10, C10 = y10, S10 = o10.apply(this, arguments) / 2, A10 = S10 > 1e-12 && (i10 ? +i10.apply(this, arguments) : pe(d10 * d10 + p10 * p10)), L10 = d9(d3(p10 - d10) / 2, +r10.apply(this, arguments)), N10 = L10, I10 = L10;
        if (A10 > 1e-12) {
          var M10 = pa(A10 / d10 * pt(S10)), R10 = pa(A10 / p10 * pt(S10));
          (E10 -= 2 * M10) > 1e-12 ? (M10 *= v10 ? 1 : -1, _10 += M10, T10 -= M10) : (E10 = 0, _10 = T10 = (g10 + f10) / 2), (C10 -= 2 * R10) > 1e-12 ? (R10 *= v10 ? 1 : -1, w10 += R10, k10 -= R10) : (C10 = 0, w10 = k10 = (g10 + f10) / 2);
        }
        var D10 = p10 * d7(w10), O10 = p10 * pt(w10), P10 = d10 * d7(T10), $10 = d10 * pt(T10);
        if (L10 > 1e-12) {
          var B10, F10 = p10 * d7(k10), z10 = p10 * pt(k10), U10 = d10 * d7(_10), G10 = d10 * pt(_10);
          if (y10 < pr) {
            if (B10 = function(t34, e11, r11, i11, n11, a11, o11, s11) {
              var l11 = r11 - t34, h12 = i11 - e11, u11 = o11 - n11, d11 = s11 - a11, p11 = d11 * l11 - u11 * h12;
              if (!(p11 * p11 < 1e-12)) return p11 = (u11 * (e11 - a11) - d11 * (t34 - n11)) / p11, [t34 + p11 * l11, e11 + p11 * h12];
            }(D10, O10, U10, G10, F10, z10, P10, $10)) {
              var q10, Y10 = D10 - B10[0], H10 = O10 - B10[1], j10 = F10 - B10[0], W10 = z10 - B10[1], V10 = 1 / pt(((q10 = (Y10 * j10 + H10 * W10) / (pe(Y10 * Y10 + H10 * H10) * pe(j10 * j10 + W10 * W10))) > 1 ? 0 : q10 < -1 ? pr : Math.acos(q10)) / 2), X10 = pe(B10[0] * B10[0] + B10[1] * B10[1]);
              N10 = d9(L10, (d10 - X10) / (V10 - 1)), I10 = d9(L10, (p10 - X10) / (V10 + 1));
            } else N10 = I10 = 0;
          }
        }
        C10 > 1e-12 ? I10 > 1e-12 ? (x10 = pd(U10, G10, D10, O10, p10, I10, v10), b10 = pd(F10, z10, P10, $10, p10, I10, v10), s10.moveTo(x10.cx + x10.x01, x10.cy + x10.y01), I10 < L10 ? s10.arc(x10.cx, x10.cy, I10, d6(x10.y01, x10.x01), d6(b10.y01, b10.x01), !v10) : (s10.arc(x10.cx, x10.cy, I10, d6(x10.y01, x10.x01), d6(x10.y11, x10.x11), !v10), s10.arc(0, 0, p10, d6(x10.cy + x10.y11, x10.cx + x10.x11), d6(b10.cy + b10.y11, b10.cx + b10.x11), !v10), s10.arc(b10.cx, b10.cy, I10, d6(b10.y11, b10.x11), d6(b10.y01, b10.x01), !v10))) : (s10.moveTo(D10, O10), s10.arc(0, 0, p10, w10, k10, !v10)) : s10.moveTo(D10, O10), d10 > 1e-12 && E10 > 1e-12 ? N10 > 1e-12 ? (x10 = pd(P10, $10, F10, z10, d10, -N10, v10), b10 = pd(D10, O10, U10, G10, d10, -N10, v10), s10.lineTo(x10.cx + x10.x01, x10.cy + x10.y01), N10 < L10 ? s10.arc(x10.cx, x10.cy, N10, d6(x10.y01, x10.x01), d6(b10.y01, b10.x01), !v10) : (s10.arc(x10.cx, x10.cy, N10, d6(x10.y01, x10.x01), d6(x10.y11, x10.x11), !v10), s10.arc(0, 0, d10, d6(x10.cy + x10.y11, x10.cx + x10.x11), d6(b10.cy + b10.y11, b10.cx + b10.x11), v10), s10.arc(b10.cx, b10.cy, N10, d6(b10.y11, b10.x11), d6(b10.y01, b10.x01), !v10))) : s10.arc(0, 0, d10, T10, _10, v10) : s10.lineTo(P10, $10);
      }
    } else s10.moveTo(0, 0);
    if (s10.closePath(), h11) return s10 = null, h11 + "" || null;
  }
  return h10.centroid = function() {
    var r11 = (+t33.apply(this, arguments) + +e10.apply(this, arguments)) / 2, i11 = (+n10.apply(this, arguments) + +a10.apply(this, arguments)) / 2 - pr / 2;
    return [d7(i11) * r11, pt(i11) * r11];
  }, h10.innerRadius = function(e11) {
    return arguments.length ? (t33 = "function" == typeof e11 ? e11 : d5(+e11), h10) : t33;
  }, h10.outerRadius = function(t34) {
    return arguments.length ? (e10 = "function" == typeof t34 ? t34 : d5(+t34), h10) : e10;
  }, h10.cornerRadius = function(t34) {
    return arguments.length ? (r10 = "function" == typeof t34 ? t34 : d5(+t34), h10) : r10;
  }, h10.padRadius = function(t34) {
    return arguments.length ? (i10 = null == t34 ? null : "function" == typeof t34 ? t34 : d5(+t34), h10) : i10;
  }, h10.startAngle = function(t34) {
    return arguments.length ? (n10 = "function" == typeof t34 ? t34 : d5(+t34), h10) : n10;
  }, h10.endAngle = function(t34) {
    return arguments.length ? (a10 = "function" == typeof t34 ? t34 : d5(+t34), h10) : a10;
  }, h10.padAngle = function(t34) {
    return arguments.length ? (o10 = "function" == typeof t34 ? t34 : d5(+t34), h10) : o10;
  }, h10.context = function(t34) {
    return arguments.length ? (s10 = null == t34 ? null : t34, h10) : s10;
  }, h10;
}
function pg(t33) {
  return "object" == typeof t33 && "length" in t33 ? t33 : Array.from(t33);
}
function pf(t33) {
  this._context = t33;
}
function pm(t33) {
  return new pf(t33);
}
function py(t33) {
  return t33[0];
}
function pv(t33) {
  return t33[1];
}
function px(t33, e10) {
  var r10 = d5(true), i10 = null, n10 = pm, a10 = null, o10 = po(s10);
  function s10(s11) {
    var l10, h10, u10, d10 = (s11 = pg(s11)).length, p10 = false;
    for (null == i10 && (a10 = n10(u10 = o10())), l10 = 0; l10 <= d10; ++l10) !(l10 < d10 && r10(h10 = s11[l10], l10, s11)) === p10 && ((p10 = !p10) ? a10.lineStart() : a10.lineEnd()), p10 && a10.point(+t33(h10, l10, s11), +e10(h10, l10, s11));
    if (u10) return a10 = null, u10 + "" || null;
  }
  return t33 = "function" == typeof t33 ? t33 : void 0 === t33 ? py : d5(t33), e10 = "function" == typeof e10 ? e10 : void 0 === e10 ? pv : d5(e10), s10.x = function(e11) {
    return arguments.length ? (t33 = "function" == typeof e11 ? e11 : d5(+e11), s10) : t33;
  }, s10.y = function(t34) {
    return arguments.length ? (e10 = "function" == typeof t34 ? t34 : d5(+t34), s10) : e10;
  }, s10.defined = function(t34) {
    return arguments.length ? (r10 = "function" == typeof t34 ? t34 : d5(!!t34), s10) : r10;
  }, s10.curve = function(t34) {
    return arguments.length ? (n10 = t34, null != i10 && (a10 = n10(i10)), s10) : n10;
  }, s10.context = function(t34) {
    return arguments.length ? (null == t34 ? i10 = a10 = null : a10 = n10(i10 = t34), s10) : i10;
  }, s10;
}
function pb(t33, e10) {
  return e10 < t33 ? -1 : e10 > t33 ? 1 : e10 >= t33 ? 0 : NaN;
}
function pw(t33) {
  return t33;
}
pf.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._point = 0;
}, lineEnd: function() {
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(t33, e10) : this._context.moveTo(t33, e10);
      break;
    case 1:
      this._point = 2;
    default:
      this._context.lineTo(t33, e10);
  }
} };
class pk {
  constructor(t33, e10) {
    this._context = t33, this._x = e10;
  }
  areaStart() {
    this._line = 0;
  }
  areaEnd() {
    this._line = NaN;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
    (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
  }
  point(t33, e10) {
    switch (t33 = +t33, e10 = +e10, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(t33, e10) : this._context.moveTo(t33, e10);
        break;
      case 1:
        this._point = 2;
      default:
        this._x ? this._context.bezierCurveTo(this._x0 = (this._x0 + t33) / 2, this._y0, this._x0, e10, t33, e10) : this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + e10) / 2, t33, this._y0, t33, e10);
    }
    this._x0 = t33, this._y0 = e10;
  }
}
function p_() {
}
function pT(t33, e10, r10) {
  t33._context.bezierCurveTo((2 * t33._x0 + t33._x1) / 3, (2 * t33._y0 + t33._y1) / 3, (t33._x0 + 2 * t33._x1) / 3, (t33._y0 + 2 * t33._y1) / 3, (t33._x0 + 4 * t33._x1 + e10) / 6, (t33._y0 + 4 * t33._y1 + r10) / 6);
}
function pE(t33) {
  this._context = t33;
}
function pC(t33) {
  return new pE(t33);
}
function pS(t33) {
  this._context = t33;
}
function pA(t33) {
  this._context = t33;
}
function pL(t33, e10) {
  this._basis = new pE(t33), this._beta = e10;
}
pE.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
}, lineEnd: function() {
  switch (this._point) {
    case 3:
      pT(this, this._x1, this._y1);
    case 2:
      this._context.lineTo(this._x1, this._y1);
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(t33, e10) : this._context.moveTo(t33, e10);
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
    default:
      pT(this, t33, e10);
  }
  this._x0 = this._x1, this._x1 = t33, this._y0 = this._y1, this._y1 = e10;
} }, pS.prototype = { areaStart: p_, areaEnd: p_, lineStart: function() {
  this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0;
}, lineEnd: function() {
  switch (this._point) {
    case 1:
      this._context.moveTo(this._x2, this._y2), this._context.closePath();
      break;
    case 2:
      this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath();
      break;
    case 3:
      this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4);
  }
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1, this._x2 = t33, this._y2 = e10;
      break;
    case 1:
      this._point = 2, this._x3 = t33, this._y3 = e10;
      break;
    case 2:
      this._point = 3, this._x4 = t33, this._y4 = e10, this._context.moveTo((this._x0 + 4 * this._x1 + t33) / 6, (this._y0 + 4 * this._y1 + e10) / 6);
      break;
    default:
      pT(this, t33, e10);
  }
  this._x0 = this._x1, this._x1 = t33, this._y0 = this._y1, this._y1 = e10;
} }, pA.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
}, lineEnd: function() {
  (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1;
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3;
      var r10 = (this._x0 + 4 * this._x1 + t33) / 6, i10 = (this._y0 + 4 * this._y1 + e10) / 6;
      this._line ? this._context.lineTo(r10, i10) : this._context.moveTo(r10, i10);
      break;
    case 3:
      this._point = 4;
    default:
      pT(this, t33, e10);
  }
  this._x0 = this._x1, this._x1 = t33, this._y0 = this._y1, this._y1 = e10;
} }, pL.prototype = { lineStart: function() {
  this._x = [], this._y = [], this._basis.lineStart();
}, lineEnd: function() {
  var t33 = this._x, e10 = this._y, r10 = t33.length - 1;
  if (r10 > 0) for (var i10, n10 = t33[0], a10 = e10[0], o10 = t33[r10] - n10, s10 = e10[r10] - a10, l10 = -1; ++l10 <= r10; ) i10 = l10 / r10, this._basis.point(this._beta * t33[l10] + (1 - this._beta) * (n10 + i10 * o10), this._beta * e10[l10] + (1 - this._beta) * (a10 + i10 * s10));
  this._x = this._y = null, this._basis.lineEnd();
}, point: function(t33, e10) {
  this._x.push(+t33), this._y.push(+e10);
} };
let pN = function t12(e10) {
  function r10(t33) {
    return 1 === e10 ? new pE(t33) : new pL(t33, e10);
  }
  return r10.beta = function(e11) {
    return t12(+e11);
  }, r10;
}(0.85);
function pI(t33, e10, r10) {
  t33._context.bezierCurveTo(t33._x1 + t33._k * (t33._x2 - t33._x0), t33._y1 + t33._k * (t33._y2 - t33._y0), t33._x2 + t33._k * (t33._x1 - e10), t33._y2 + t33._k * (t33._y1 - r10), t33._x2, t33._y2);
}
function pM(t33, e10) {
  this._context = t33, this._k = (1 - e10) / 6;
}
pM.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0;
}, lineEnd: function() {
  switch (this._point) {
    case 2:
      this._context.lineTo(this._x2, this._y2);
      break;
    case 3:
      pI(this, this._x1, this._y1);
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(t33, e10) : this._context.moveTo(t33, e10);
      break;
    case 1:
      this._point = 2, this._x1 = t33, this._y1 = e10;
      break;
    case 2:
      this._point = 3;
    default:
      pI(this, t33, e10);
  }
  this._x0 = this._x1, this._x1 = this._x2, this._x2 = t33, this._y0 = this._y1, this._y1 = this._y2, this._y2 = e10;
} };
let pR = function t13(e10) {
  function r10(t33) {
    return new pM(t33, e10);
  }
  return r10.tension = function(e11) {
    return t13(+e11);
  }, r10;
}(0);
function pD(t33, e10) {
  this._context = t33, this._k = (1 - e10) / 6;
}
pD.prototype = { areaStart: p_, areaEnd: p_, lineStart: function() {
  this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._point = 0;
}, lineEnd: function() {
  switch (this._point) {
    case 1:
      this._context.moveTo(this._x3, this._y3), this._context.closePath();
      break;
    case 2:
      this._context.lineTo(this._x3, this._y3), this._context.closePath();
      break;
    case 3:
      this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5);
  }
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1, this._x3 = t33, this._y3 = e10;
      break;
    case 1:
      this._point = 2, this._context.moveTo(this._x4 = t33, this._y4 = e10);
      break;
    case 2:
      this._point = 3, this._x5 = t33, this._y5 = e10;
      break;
    default:
      pI(this, t33, e10);
  }
  this._x0 = this._x1, this._x1 = this._x2, this._x2 = t33, this._y0 = this._y1, this._y1 = this._y2, this._y2 = e10;
} };
let pO = function t14(e10) {
  function r10(t33) {
    return new pD(t33, e10);
  }
  return r10.tension = function(e11) {
    return t14(+e11);
  }, r10;
}(0);
function pP(t33, e10) {
  this._context = t33, this._k = (1 - e10) / 6;
}
pP.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0;
}, lineEnd: function() {
  (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1;
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
      break;
    case 3:
      this._point = 4;
    default:
      pI(this, t33, e10);
  }
  this._x0 = this._x1, this._x1 = this._x2, this._x2 = t33, this._y0 = this._y1, this._y1 = this._y2, this._y2 = e10;
} };
let p$ = function t15(e10) {
  function r10(t33) {
    return new pP(t33, e10);
  }
  return r10.tension = function(e11) {
    return t15(+e11);
  }, r10;
}(0);
function pB(t33, e10, r10) {
  var i10 = t33._x1, n10 = t33._y1, a10 = t33._x2, o10 = t33._y2;
  if (t33._l01_a > 1e-12) {
    var s10 = 2 * t33._l01_2a + 3 * t33._l01_a * t33._l12_a + t33._l12_2a, l10 = 3 * t33._l01_a * (t33._l01_a + t33._l12_a);
    i10 = (i10 * s10 - t33._x0 * t33._l12_2a + t33._x2 * t33._l01_2a) / l10, n10 = (n10 * s10 - t33._y0 * t33._l12_2a + t33._y2 * t33._l01_2a) / l10;
  }
  if (t33._l23_a > 1e-12) {
    var h10 = 2 * t33._l23_2a + 3 * t33._l23_a * t33._l12_a + t33._l12_2a, u10 = 3 * t33._l23_a * (t33._l23_a + t33._l12_a);
    a10 = (a10 * h10 + t33._x1 * t33._l23_2a - e10 * t33._l12_2a) / u10, o10 = (o10 * h10 + t33._y1 * t33._l23_2a - r10 * t33._l12_2a) / u10;
  }
  t33._context.bezierCurveTo(i10, n10, a10, o10, t33._x2, t33._y2);
}
function pF(t33, e10) {
  this._context = t33, this._alpha = e10;
}
pF.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
}, lineEnd: function() {
  switch (this._point) {
    case 2:
      this._context.lineTo(this._x2, this._y2);
      break;
    case 3:
      this.point(this._x2, this._y2);
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  if (t33 = +t33, e10 = +e10, this._point) {
    var r10 = this._x2 - t33, i10 = this._y2 - e10;
    this._l23_a = Math.sqrt(this._l23_2a = Math.pow(r10 * r10 + i10 * i10, this._alpha));
  }
  switch (this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(t33, e10) : this._context.moveTo(t33, e10);
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3;
    default:
      pB(this, t33, e10);
  }
  this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t33, this._y0 = this._y1, this._y1 = this._y2, this._y2 = e10;
} };
let pz = function t16(e10) {
  function r10(t33) {
    return e10 ? new pF(t33, e10) : new pM(t33, 0);
  }
  return r10.alpha = function(e11) {
    return t16(+e11);
  }, r10;
}(0.5);
function pU(t33, e10) {
  this._context = t33, this._alpha = e10;
}
pU.prototype = { areaStart: p_, areaEnd: p_, lineStart: function() {
  this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
}, lineEnd: function() {
  switch (this._point) {
    case 1:
      this._context.moveTo(this._x3, this._y3), this._context.closePath();
      break;
    case 2:
      this._context.lineTo(this._x3, this._y3), this._context.closePath();
      break;
    case 3:
      this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5);
  }
}, point: function(t33, e10) {
  if (t33 = +t33, e10 = +e10, this._point) {
    var r10 = this._x2 - t33, i10 = this._y2 - e10;
    this._l23_a = Math.sqrt(this._l23_2a = Math.pow(r10 * r10 + i10 * i10, this._alpha));
  }
  switch (this._point) {
    case 0:
      this._point = 1, this._x3 = t33, this._y3 = e10;
      break;
    case 1:
      this._point = 2, this._context.moveTo(this._x4 = t33, this._y4 = e10);
      break;
    case 2:
      this._point = 3, this._x5 = t33, this._y5 = e10;
      break;
    default:
      pB(this, t33, e10);
  }
  this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t33, this._y0 = this._y1, this._y1 = this._y2, this._y2 = e10;
} };
let pG = function t17(e10) {
  function r10(t33) {
    return e10 ? new pU(t33, e10) : new pD(t33, 0);
  }
  return r10.alpha = function(e11) {
    return t17(+e11);
  }, r10;
}(0.5);
function pq(t33, e10) {
  this._context = t33, this._alpha = e10;
}
pq.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
}, lineEnd: function() {
  (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  if (t33 = +t33, e10 = +e10, this._point) {
    var r10 = this._x2 - t33, i10 = this._y2 - e10;
    this._l23_a = Math.sqrt(this._l23_2a = Math.pow(r10 * r10 + i10 * i10, this._alpha));
  }
  switch (this._point) {
    case 0:
      this._point = 1;
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
      break;
    case 3:
      this._point = 4;
    default:
      pB(this, t33, e10);
  }
  this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t33, this._y0 = this._y1, this._y1 = this._y2, this._y2 = e10;
} };
let pY = function t18(e10) {
  function r10(t33) {
    return e10 ? new pq(t33, e10) : new pP(t33, 0);
  }
  return r10.alpha = function(e11) {
    return t18(+e11);
  }, r10;
}(0.5);
function pH(t33) {
  this._context = t33;
}
function pj(t33, e10, r10) {
  var i10 = t33._x1 - t33._x0, n10 = e10 - t33._x1, a10 = (t33._y1 - t33._y0) / (i10 || n10 < 0 && -0), o10 = (r10 - t33._y1) / (n10 || i10 < 0 && -0);
  return ((a10 < 0 ? -1 : 1) + (o10 < 0 ? -1 : 1)) * Math.min(Math.abs(a10), Math.abs(o10), 0.5 * Math.abs((a10 * n10 + o10 * i10) / (i10 + n10))) || 0;
}
function pW(t33, e10) {
  var r10 = t33._x1 - t33._x0;
  return r10 ? (3 * (t33._y1 - t33._y0) / r10 - e10) / 2 : e10;
}
function pV(t33, e10, r10) {
  var i10 = t33._x0, n10 = t33._y0, a10 = t33._x1, o10 = t33._y1, s10 = (a10 - i10) / 3;
  t33._context.bezierCurveTo(i10 + s10, n10 + s10 * e10, a10 - s10, o10 - s10 * r10, a10, o10);
}
function pX(t33) {
  this._context = t33;
}
function pK(t33) {
  this._context = new pZ(t33);
}
function pZ(t33) {
  this._context = t33;
}
function pQ(t33) {
  this._context = t33;
}
function pJ(t33) {
  var e10, r10, i10 = t33.length - 1, n10 = Array(i10), a10 = Array(i10), o10 = Array(i10);
  for (n10[0] = 0, a10[0] = 2, o10[0] = t33[0] + 2 * t33[1], e10 = 1; e10 < i10 - 1; ++e10) n10[e10] = 1, a10[e10] = 4, o10[e10] = 4 * t33[e10] + 2 * t33[e10 + 1];
  for (n10[i10 - 1] = 2, a10[i10 - 1] = 7, o10[i10 - 1] = 8 * t33[i10 - 1] + t33[i10], e10 = 1; e10 < i10; ++e10) r10 = n10[e10] / a10[e10 - 1], a10[e10] -= r10, o10[e10] -= r10 * o10[e10 - 1];
  for (n10[i10 - 1] = o10[i10 - 1] / a10[i10 - 1], e10 = i10 - 2; e10 >= 0; --e10) n10[e10] = (o10[e10] - n10[e10 + 1]) / a10[e10];
  for (e10 = 0, a10[i10 - 1] = (t33[i10] + n10[i10 - 1]) / 2; e10 < i10 - 1; ++e10) a10[e10] = 2 * t33[e10 + 1] - n10[e10 + 1];
  return [n10, a10];
}
function p0(t33, e10) {
  this._context = t33, this._t = e10;
}
function p1(t33, e10, r10) {
  this.k = t33, this.x = e10, this.y = r10;
}
pH.prototype = { areaStart: p_, areaEnd: p_, lineStart: function() {
  this._point = 0;
}, lineEnd: function() {
  this._point && this._context.closePath();
}, point: function(t33, e10) {
  t33 = +t33, e10 = +e10, this._point ? this._context.lineTo(t33, e10) : (this._point = 1, this._context.moveTo(t33, e10));
} }, pX.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0;
}, lineEnd: function() {
  switch (this._point) {
    case 2:
      this._context.lineTo(this._x1, this._y1);
      break;
    case 3:
      pV(this, this._t0, pW(this, this._t0));
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, point: function(t33, e10) {
  var r10 = NaN;
  if (e10 = +e10, (t33 = +t33) !== this._x1 || e10 !== this._y1) {
    switch (this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(t33, e10) : this._context.moveTo(t33, e10);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3, pV(this, pW(this, r10 = pj(this, t33, e10)), r10);
        break;
      default:
        pV(this, this._t0, r10 = pj(this, t33, e10));
    }
    this._x0 = this._x1, this._x1 = t33, this._y0 = this._y1, this._y1 = e10, this._t0 = r10;
  }
} }, (pK.prototype = Object.create(pX.prototype)).point = function(t33, e10) {
  pX.prototype.point.call(this, e10, t33);
}, pZ.prototype = { moveTo: function(t33, e10) {
  this._context.moveTo(e10, t33);
}, closePath: function() {
  this._context.closePath();
}, lineTo: function(t33, e10) {
  this._context.lineTo(e10, t33);
}, bezierCurveTo: function(t33, e10, r10, i10, n10, a10) {
  this._context.bezierCurveTo(e10, t33, i10, r10, a10, n10);
} }, pQ.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x = [], this._y = [];
}, lineEnd: function() {
  var t33 = this._x, e10 = this._y, r10 = t33.length;
  if (r10) {
    if (this._line ? this._context.lineTo(t33[0], e10[0]) : this._context.moveTo(t33[0], e10[0]), 2 === r10) this._context.lineTo(t33[1], e10[1]);
    else for (var i10 = pJ(t33), n10 = pJ(e10), a10 = 0, o10 = 1; o10 < r10; ++a10, ++o10) this._context.bezierCurveTo(i10[0][a10], n10[0][a10], i10[1][a10], n10[1][a10], t33[o10], e10[o10]);
  }
  (this._line || 0 !== this._line && 1 === r10) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null;
}, point: function(t33, e10) {
  this._x.push(+t33), this._y.push(+e10);
} }, p0.prototype = { areaStart: function() {
  this._line = 0;
}, areaEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._x = this._y = NaN, this._point = 0;
}, lineEnd: function() {
  0 < this._t && this._t < 1 && 2 === this._point && this._context.lineTo(this._x, this._y), (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line);
}, point: function(t33, e10) {
  switch (t33 = +t33, e10 = +e10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(t33, e10) : this._context.moveTo(t33, e10);
      break;
    case 1:
      this._point = 2;
    default:
      if (this._t <= 0) this._context.lineTo(this._x, e10), this._context.lineTo(t33, e10);
      else {
        var r10 = this._x * (1 - this._t) + t33 * this._t;
        this._context.lineTo(r10, this._y), this._context.lineTo(r10, e10);
      }
  }
  this._x = t33, this._y = e10;
} }, p1.prototype = { constructor: p1, scale: function(t33) {
  return 1 === t33 ? this : new p1(this.k * t33, this.x, this.y);
}, translate: function(t33, e10) {
  return 0 === t33 & 0 === e10 ? this : new p1(this.k, this.x + this.k * t33, this.y + this.k * e10);
}, apply: function(t33) {
  return [t33[0] * this.k + this.x, t33[1] * this.k + this.y];
}, applyX: function(t33) {
  return t33 * this.k + this.x;
}, applyY: function(t33) {
  return t33 * this.k + this.y;
}, invert: function(t33) {
  return [(t33[0] - this.x) / this.k, (t33[1] - this.y) / this.k];
}, invertX: function(t33) {
  return (t33 - this.x) / this.k;
}, invertY: function(t33) {
  return (t33 - this.y) / this.k;
}, rescaleX: function(t33) {
  return t33.copy().domain(t33.range().map(this.invertX, this).map(t33.invert, t33));
}, rescaleY: function(t33) {
  return t33.copy().domain(t33.range().map(this.invertY, this).map(t33.invert, t33));
}, toString: function() {
  return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
} }, p1.prototype;
var p2 = { curveBasis: pC, curveBasisClosed: function(t33) {
  return new pS(t33);
}, curveBasisOpen: function(t33) {
  return new pA(t33);
}, curveBumpX: function(t33) {
  return new pk(t33, true);
}, curveBumpY: function(t33) {
  return new pk(t33, false);
}, curveBundle: pN, curveCardinalClosed: pO, curveCardinalOpen: p$, curveCardinal: pR, curveCatmullRomClosed: pG, curveCatmullRomOpen: pY, curveCatmullRom: pz, curveLinear: pm, curveLinearClosed: function(t33) {
  return new pH(t33);
}, curveMonotoneX: function(t33) {
  return new pX(t33);
}, curveMonotoneY: function(t33) {
  return new pK(t33);
}, curveNatural: function(t33) {
  return new pQ(t33);
}, curveStep: function(t33) {
  return new p0(t33, 0.5);
}, curveStepAfter: function(t33) {
  return new p0(t33, 1);
}, curveStepBefore: function(t33) {
  return new p0(t33, 0);
} }, p4 = /\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi, p5 = iZ(function(t33, e10) {
  let r10 = p3(t33, /(?:init\b)|(?:initialize\b)/), i10 = {};
  if (Array.isArray(r10)) {
    let t34 = r10.map((t35) => t35.args);
    nb(t34), i10 = nr(i10, [...t34]);
  } else i10 = r10.args;
  if (!i10) return;
  let n10 = i8(t33, e10), a10 = "config";
  return void 0 !== i10[a10] && ("flowchart-v2" === n10 && (n10 = "flowchart"), i10[n10] = i10[a10], delete i10[a10]), i10;
}, "detectInit"), p3 = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
  try {
    let n10;
    let a10 = RegExp(`[%]{2}(?![{]${p4.source})(?=[}][%]{2}).*
`, "ig");
    t33 = t33.trim().replace(a10, "").replace(/'/gm, '"'), i0.debug(`Detecting diagram directive${null !== e10 ? " type:" + e10 : ""} based on the text:${t33}`);
    let o10 = [];
    for (; null !== (n10 = i5.exec(t33)); ) {
      var r10, i10;
      if (n10.index === i5.lastIndex && i5.lastIndex++, n10 && !e10 || e10 && (null === (r10 = n10[1]) || void 0 === r10 ? void 0 : r10.match(e10)) || e10 && (null === (i10 = n10[2]) || void 0 === i10 ? void 0 : i10.match(e10))) {
        let t34 = n10[1] ? n10[1] : n10[2], e11 = n10[3] ? n10[3].trim() : n10[4] ? JSON.parse(n10[4].trim()) : null;
        o10.push({ type: t34, args: e11 });
      }
    }
    if (0 === o10.length) return { type: t33, args: null };
    return 1 === o10.length ? o10[0] : o10;
  } catch (r11) {
    return i0.error(`ERROR: ${r11.message} - Unable to parse directive type: '${e10}' based on the text: '${t33}'`), { type: void 0, args: null };
  }
}, "detectDirective"), p6 = iZ(function(t33) {
  return t33.replace(i5, "");
}, "removeDirectives");
function p7(t33, e10) {
  var r10;
  return t33 && null !== (r10 = p2[`curve${t33.charAt(0).toUpperCase() + t33.slice(1)}`]) && void 0 !== r10 ? r10 : e10;
}
function p8(t33, e10) {
  let r10 = t33.trim();
  return r10 ? "loose" !== e10.securityLevel ? ls.sanitizeUrl(r10) : r10 : void 0;
}
iZ(p7, "interpolateToCurve"), iZ(p8, "formatUrl");
var p9 = iZ(function(t33) {
  for (var e10 = arguments.length, r10 = Array(e10 > 1 ? e10 - 1 : 0), i10 = 1; i10 < e10; i10++) r10[i10 - 1] = arguments[i10];
  let n10 = t33.split("."), a10 = n10.length - 1, o10 = n10[a10], s10 = window;
  for (let e11 = 0; e11 < a10; e11++) if (!(s10 = s10[n10[e11]])) {
    i0.error(`Function name: ${t33} not found in window`);
    return;
  }
  s10[o10](...r10);
}, "runFunc");
function gt(t33, e10) {
  return t33 && e10 ? Math.sqrt(Math.pow(e10.x - t33.x, 2) + Math.pow(e10.y - t33.y, 2)) : 0;
}
function ge(t33) {
  let e10;
  let r10 = 0;
  return t33.forEach((t34) => {
    r10 += gt(t34, e10), e10 = t34;
  }), gn(t33, r10 / 2);
}
function gr(t33) {
  return 1 === t33.length ? t33[0] : ge(t33);
}
iZ(gt, "distance"), iZ(ge, "traverseEdge"), iZ(gr, "calcLabelPosition");
var gi = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2, r10 = Math.pow(10, e10);
  return Math.round(t33 * r10) / r10;
}, "roundNumber"), gn = iZ((t33, e10) => {
  let r10;
  let i10 = e10;
  for (let e11 of t33) {
    if (r10) {
      let t34 = gt(e11, r10);
      if (t34 < i10) i10 -= t34;
      else {
        let n10 = i10 / t34;
        if (n10 <= 0) return r10;
        if (n10 >= 1) return { x: e11.x, y: e11.y };
        if (n10 > 0 && n10 < 1) return { x: gi((1 - n10) * r10.x + n10 * e11.x, 5), y: gi((1 - n10) * r10.y + n10 * e11.y, 5) };
      }
    }
    r10 = e11;
  }
  throw Error("Could not find a suitable point for the given distance");
}, "calculatePoint");
function ga(t33, e10, r10) {
  let i10 = structuredClone(r10);
  i0.info("our points", i10), "start_left" !== e10 && "start_right" !== e10 && i10.reverse();
  let n10 = gn(i10, 25 + t33), a10 = 10 + 0.5 * t33, o10 = Math.atan2(i10[0].y - n10.y, i10[0].x - n10.x), s10 = { x: 0, y: 0 };
  return "start_left" === e10 ? (s10.x = Math.sin(o10 + Math.PI) * a10 + (i10[0].x + n10.x) / 2, s10.y = -Math.cos(o10 + Math.PI) * a10 + (i10[0].y + n10.y) / 2) : "end_right" === e10 ? (s10.x = Math.sin(o10 - Math.PI) * a10 + (i10[0].x + n10.x) / 2 - 5, s10.y = -Math.cos(o10 - Math.PI) * a10 + (i10[0].y + n10.y) / 2 - 5) : "end_left" === e10 ? (s10.x = Math.sin(o10) * a10 + (i10[0].x + n10.x) / 2 - 5, s10.y = -Math.cos(o10) * a10 + (i10[0].y + n10.y) / 2 - 5) : (s10.x = Math.sin(o10) * a10 + (i10[0].x + n10.x) / 2, s10.y = -Math.cos(o10) * a10 + (i10[0].y + n10.y) / 2), s10;
}
function go(t33) {
  let e10 = "", r10 = "";
  for (let i10 of t33) void 0 !== i10 && (i10.startsWith("color:") || i10.startsWith("text-align:") ? r10 = r10 + i10 + ";" : e10 = e10 + i10 + ";");
  return { style: e10, labelStyle: r10 };
}
iZ(ga, "calcTerminalLabelPosition"), iZ(go, "getStylesFromArray");
var gs = 0, gl = iZ(() => (gs++, "id-" + Math.random().toString(36).substr(2, 12) + "-" + gs), "generateId");
function gh(t33) {
  let e10 = "", r10 = "0123456789abcdef", i10 = r10.length;
  for (let n10 = 0; n10 < t33; n10++) e10 += r10.charAt(Math.floor(Math.random() * i10));
  return e10;
}
iZ(gh, "makeRandomHex");
var gc = iZ((t33) => gh(t33.length), "random"), gu = iZ(function() {
  return { x: 0, y: 0, fill: void 0, anchor: "start", style: "#666", width: 100, height: 100, textMargin: 0, rx: 0, ry: 0, valign: void 0, text: "" };
}, "getTextObj"), gd = iZ(function(t33, e10) {
  let r10 = e10.text.replace(ae.lineBreakRegex, " "), [, i10] = gk(e10.fontSize), n10 = t33.append("text");
  n10.attr("x", e10.x), n10.attr("y", e10.y), n10.style("text-anchor", e10.anchor), n10.style("font-family", e10.fontFamily), n10.style("font-size", i10), n10.style("font-weight", e10.fontWeight), n10.attr("fill", e10.fill), void 0 !== e10.class && n10.attr("class", e10.class);
  let a10 = n10.append("tspan");
  return a10.attr("x", e10.x + 2 * e10.textMargin), a10.attr("fill", e10.fill), a10.text(r10), n10;
}, "drawSimpleText"), gp = ti((t33, e10, r10) => {
  if (!t33 || (r10 = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: "Arial", joinWith: "<br/>" }, r10), ae.lineBreakRegex.test(t33))) return t33;
  let i10 = t33.split(" ").filter(Boolean), n10 = [], a10 = "";
  return i10.forEach((t34, o10) => {
    let s10 = gm(`${t34} `, r10), l10 = gm(a10, r10);
    if (s10 > e10) {
      let { hyphenatedStrings: i11, remainingWord: o11 } = gg(t34, e10, "-", r10);
      n10.push(a10, ...i11), a10 = o11;
    } else l10 + s10 >= e10 ? (n10.push(a10), a10 = t34) : a10 = [a10, t34].filter(Boolean).join(" ");
    o10 + 1 === i10.length && n10.push(a10);
  }), n10.filter((t34) => "" !== t34).join(r10.joinWith);
}, (t33, e10, r10) => `${t33}${e10}${r10.fontSize}${r10.fontWeight}${r10.fontFamily}${r10.joinWith}`), gg = ti(function(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "-", i10 = arguments.length > 3 ? arguments[3] : void 0;
  i10 = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: "Arial", margin: 0 }, i10);
  let n10 = [...t33], a10 = [], o10 = "";
  return n10.forEach((t34, s10) => {
    let l10 = `${o10}${t34}`;
    if (gm(l10, i10) >= e10) {
      let t35 = n10.length === s10 + 1, e11 = `${l10}${r10}`;
      a10.push(t35 ? l10 : e11), o10 = "";
    } else o10 = l10;
  }), { hyphenatedStrings: a10, remainingWord: o10 };
}, function(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "-", i10 = arguments.length > 3 ? arguments[3] : void 0;
  return `${t33}${e10}${r10}${i10.fontSize}${i10.fontWeight}${i10.fontFamily}`;
});
function gf(t33, e10) {
  return gy(t33, e10).height;
}
function gm(t33, e10) {
  return gy(t33, e10).width;
}
iZ(gf, "calculateTextHeight"), iZ(gm, "calculateTextWidth");
var gy = ti((t33, e10) => {
  let { fontSize: r10 = 12, fontFamily: i10 = "Arial", fontWeight: n10 = 400 } = e10;
  if (!t33) return { width: 0, height: 0 };
  let [, a10] = gk(r10), o10 = t33.split(ae.lineBreakRegex), s10 = [], l10 = hl("body");
  if (!l10.remove) return { width: 0, height: 0, lineHeight: 0 };
  let h10 = l10.append("svg");
  for (let t34 of ["sans-serif", i10]) {
    let e11 = 0, r11 = { width: 0, height: 0, lineHeight: 0 };
    for (let i11 of o10) {
      let o11 = gu();
      o11.text = i11 || "​";
      let s11 = gd(h10, o11).style("font-size", a10).style("font-weight", n10).style("font-family", t34), l11 = (s11._groups || s11)[0][0].getBBox();
      if (0 === l11.width && 0 === l11.height) throw Error("svg element not in render tree");
      r11.width = Math.round(Math.max(r11.width, l11.width)), e11 = Math.round(l11.height), r11.height += e11, r11.lineHeight = Math.round(Math.max(r11.lineHeight, e11));
    }
    s10.push(r11);
  }
  h10.remove();
  let u10 = isNaN(s10[1].height) || isNaN(s10[1].width) || isNaN(s10[1].lineHeight) || s10[0].height > s10[1].height && s10[0].width > s10[1].width && s10[0].lineHeight > s10[1].lineHeight ? 0 : 1;
  return s10[u10];
}, (t33, e10) => `${t33}${e10.fontSize}${e10.fontWeight}${e10.fontFamily}`), gv = (_h2 = class {
  constructor(t33 = false, e10) {
    this.count = 0, this.count = e10 ? e10.length : 0, this.next = t33 ? () => this.count++ : () => Date.now();
  }
}, _n9 = new WeakMap(), __privateAdd(_h2, _n9, iZ(_h2, "InitIDGenerator")), _h2), gx = iZ(function(t33) {
  return JN = JN || document.createElement("div"), t33 = escape(t33).replace(/%26/g, "&").replace(/%23/g, "#").replace(/%3B/g, ";"), JN.innerHTML = t33, unescape(JN.textContent);
}, "entityDecode");
function gb(t33) {
  return "str" in t33;
}
iZ(gb, "isDetailedError");
var gw = iZ((t33, e10, r10, i10) => {
  var n10;
  if (!i10) return;
  let a10 = null === (n10 = t33.node()) || void 0 === n10 ? void 0 : n10.getBBox();
  a10 && t33.append("text").text(i10).attr("text-anchor", "middle").attr("x", a10.x + a10.width / 2).attr("y", -r10).attr("class", e10);
}, "insertTitle"), gk = iZ((t33) => {
  if ("number" == typeof t33) return [t33, t33 + "px"];
  let e10 = parseInt(null != t33 ? t33 : "", 10);
  return Number.isNaN(e10) ? [void 0, void 0] : t33 === String(e10) ? [e10, t33 + "px"] : [e10, t33];
}, "parseFontSize");
function g_(t33, e10) {
  return tn({}, t33, e10);
}
iZ(g_, "cleanAndMerge");
var gT = { wrapLabel: gp, calculateTextDimensions: gy, detectInit: p5, detectDirective: p3, calcLabelPosition: gr, calcTerminalLabelPosition: ga, formatUrl: p8, random: gc, runFunc: p9, entityDecode: gx, insertTitle: gw, InitIDGenerator: gv }, gE = iZ(function(t33) {
  let e10 = t33;
  return (e10 = (e10 = e10.replace(/style.*:\S*#.*;/g, function(t34) {
    return t34.substring(0, t34.length - 1);
  })).replace(/classDef.*:\S*#.*;/g, function(t34) {
    return t34.substring(0, t34.length - 1);
  })).replace(/#\w+;/g, function(t34) {
    let e11 = t34.substring(1, t34.length - 1);
    return /^\+?\d+$/.test(e11) ? "ﬂ°°" + e11 + "¶ß" : "ﬂ°" + e11 + "¶ß";
  });
}, "encodeEntities"), gC = iZ(function(t33) {
  return t33.replace(/ﬂ°°/g, "&#").replace(/ﬂ°/g, "&").replace(/¶ß/g, ";");
}, "decodeEntities"), gS = iZ((t33, e10, r10) => {
  let { counter: i10 = 0, prefix: n10, suffix: a10 } = r10;
  return `${n10 ? `${n10}_` : ""}${t33}_${e10}_${i10}${a10 ? `_${a10}` : ""}`;
}, "getEdgeId");
function gA(t33) {
  return null != t33 ? t33 : null;
}
function gL() {
  return { async: false, breaks: false, extensions: null, gfm: true, hooks: null, pedantic: false, renderer: null, silent: false, tokenizer: null, walkTokens: null };
}
iZ(gA, "handleUndefinedAttr");
let gN = gL(), gI = /[&<>"']/, gM = RegExp(gI.source, "g"), gR = /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/, gD = RegExp(gR.source, "g"), gO = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, gP = (t33) => gO[t33];
function g$(t33, e10) {
  if (e10) {
    if (gI.test(t33)) return t33.replace(gM, gP);
  } else if (gR.test(t33)) return t33.replace(gD, gP);
  return t33;
}
let gB = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig, gF = /(^|[^\[])\^/g;
function gz(t33, e10) {
  let r10 = "string" == typeof t33 ? t33 : t33.source;
  e10 = e10 || "";
  let i10 = { replace: (t34, e11) => {
    let n10 = "string" == typeof e11 ? e11 : e11.source;
    return n10 = n10.replace(gF, "$1"), r10 = r10.replace(t34, n10), i10;
  }, getRegex: () => new RegExp(r10, e10) };
  return i10;
}
function gU(t33) {
  try {
    t33 = encodeURI(t33).replace(/%25/g, "%");
  } catch {
    return null;
  }
  return t33;
}
let gG = { exec: () => null };
function gq(t33, e10) {
  let r10 = t33.replace(/\|/g, (t34, e11, r11) => {
    let i11 = false, n10 = e11;
    for (; --n10 >= 0 && "\\" === r11[n10]; ) i11 = !i11;
    return i11 ? "|" : " |";
  }).split(/ \|/), i10 = 0;
  if (r10[0].trim() || r10.shift(), r10.length > 0 && !r10[r10.length - 1].trim() && r10.pop(), e10) {
    if (r10.length > e10) r10.splice(e10);
    else for (; r10.length < e10; ) r10.push("");
  }
  for (; i10 < r10.length; i10++) r10[i10] = r10[i10].trim().replace(/\\\|/g, "|");
  return r10;
}
function gY(t33, e10, r10) {
  let i10 = t33.length;
  if (0 === i10) return "";
  let n10 = 0;
  for (; n10 < i10; ) if (t33.charAt(i10 - n10 - 1) === e10) n10++;
  else break;
  return t33.slice(0, i10 - n10);
}
function gH(t33, e10, r10, i10) {
  let n10 = e10.href, a10 = e10.title ? g$(e10.title) : null, o10 = t33[1].replace(/\\([\[\]])/g, "$1");
  if ("!" !== t33[0].charAt(0)) {
    i10.state.inLink = true;
    let t34 = { type: "link", raw: r10, href: n10, title: a10, text: o10, tokens: i10.inlineTokens(o10) };
    return i10.state.inLink = false, t34;
  }
  return { type: "image", raw: r10, href: n10, title: a10, text: g$(o10) };
}
class gj {
  constructor(t33) {
    __publicField(this, "options");
    __publicField(this, "rules");
    __publicField(this, "lexer");
    this.options = t33 || gN;
  }
  space(t33) {
    let e10 = this.rules.block.newline.exec(t33);
    if (e10 && e10[0].length > 0) return { type: "space", raw: e10[0] };
  }
  code(t33) {
    let e10 = this.rules.block.code.exec(t33);
    if (e10) {
      let t34 = e10[0].replace(/^ {1,4}/gm, "");
      return { type: "code", raw: e10[0], codeBlockStyle: "indented", text: this.options.pedantic ? t34 : gY(t34, "\n") };
    }
  }
  fences(t33) {
    let e10 = this.rules.block.fences.exec(t33);
    if (e10) {
      let t34 = e10[0], r10 = function(t35, e11) {
        let r11 = t35.match(/^(\s+)(?:```)/);
        if (null === r11) return e11;
        let i10 = r11[1];
        return e11.split("\n").map((t36) => {
          let e12 = t36.match(/^\s+/);
          if (null === e12) return t36;
          let [r12] = e12;
          return r12.length >= i10.length ? t36.slice(i10.length) : t36;
        }).join("\n");
      }(t34, e10[3] || "");
      return { type: "code", raw: t34, lang: e10[2] ? e10[2].trim().replace(this.rules.inline.anyPunctuation, "$1") : e10[2], text: r10 };
    }
  }
  heading(t33) {
    let e10 = this.rules.block.heading.exec(t33);
    if (e10) {
      let t34 = e10[2].trim();
      if (/#$/.test(t34)) {
        let e11 = gY(t34, "#");
        this.options.pedantic ? t34 = e11.trim() : (!e11 || / $/.test(e11)) && (t34 = e11.trim());
      }
      return { type: "heading", raw: e10[0], depth: e10[1].length, text: t34, tokens: this.lexer.inline(t34) };
    }
  }
  hr(t33) {
    let e10 = this.rules.block.hr.exec(t33);
    if (e10) return { type: "hr", raw: gY(e10[0], "\n") };
  }
  blockquote(t33) {
    let e10 = this.rules.block.blockquote.exec(t33);
    if (e10) {
      let t34 = gY(e10[0], "\n").split("\n"), r10 = "", i10 = "", n10 = [];
      for (; t34.length > 0; ) {
        let e11, a10 = false, o10 = [];
        for (e11 = 0; e11 < t34.length; e11++) if (/^ {0,3}>/.test(t34[e11])) o10.push(t34[e11]), a10 = true;
        else if (a10) break;
        else o10.push(t34[e11]);
        t34 = t34.slice(e11);
        let s10 = o10.join("\n"), l10 = s10.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g, "\n    $1").replace(/^ {0,3}>[ \t]?/gm, "");
        r10 = r10 ? `${r10}
${s10}` : s10, i10 = i10 ? `${i10}
${l10}` : l10;
        let h10 = this.lexer.state.top;
        if (this.lexer.state.top = true, this.lexer.blockTokens(l10, n10, true), this.lexer.state.top = h10, 0 === t34.length) break;
        let u10 = n10[n10.length - 1];
        if ((null == u10 ? void 0 : u10.type) === "code") break;
        if ((null == u10 ? void 0 : u10.type) === "blockquote") {
          let e12 = u10.raw + "\n" + t34.join("\n"), a11 = this.blockquote(e12);
          n10[n10.length - 1] = a11, r10 = r10.substring(0, r10.length - u10.raw.length) + a11.raw, i10 = i10.substring(0, i10.length - u10.text.length) + a11.text;
          break;
        }
        if ((null == u10 ? void 0 : u10.type) === "list") {
          let e12 = u10.raw + "\n" + t34.join("\n"), a11 = this.list(e12);
          n10[n10.length - 1] = a11, r10 = r10.substring(0, r10.length - u10.raw.length) + a11.raw, i10 = i10.substring(0, i10.length - u10.raw.length) + a11.raw, t34 = e12.substring(n10[n10.length - 1].raw.length).split("\n");
          continue;
        }
      }
      return { type: "blockquote", raw: r10, tokens: n10, text: i10 };
    }
  }
  list(t33) {
    let e10 = this.rules.block.list.exec(t33);
    if (e10) {
      let r10 = e10[1].trim(), i10 = r10.length > 1, n10 = { type: "list", raw: "", ordered: i10, start: i10 ? +r10.slice(0, -1) : "", loose: false, items: [] };
      r10 = i10 ? `\\d{1,9}\\${r10.slice(-1)}` : `\\${r10}`, this.options.pedantic && (r10 = i10 ? r10 : "[*+-]");
      let a10 = RegExp(`^( {0,3}${r10})((?:[	 ][^\\n]*)?(?:\\n|$))`), o10 = false;
      for (; t33; ) {
        let r11, i11 = false, s10 = "", l10 = "";
        if (!(e10 = a10.exec(t33)) || this.rules.block.hr.test(t33)) break;
        s10 = e10[0], t33 = t33.substring(s10.length);
        let h10 = e10[2].split("\n", 1)[0].replace(/^\t+/, (t34) => " ".repeat(3 * t34.length)), u10 = t33.split("\n", 1)[0], d10 = !h10.trim(), p10 = 0;
        if (this.options.pedantic ? (p10 = 2, l10 = h10.trimStart()) : d10 ? p10 = e10[1].length + 1 : (p10 = (p10 = e10[2].search(/[^ ]/)) > 4 ? 1 : p10, l10 = h10.slice(p10), p10 += e10[1].length), d10 && /^ *$/.test(u10) && (s10 += u10 + "\n", t33 = t33.substring(u10.length + 1), i11 = true), !i11) {
          let e11 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`), r12 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`), i12 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}(?:\`\`\`|~~~)`), n11 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}#`);
          for (; t33; ) {
            let a11 = t33.split("\n", 1)[0];
            if (u10 = a11, this.options.pedantic && (u10 = u10.replace(/^ {1,4}(?=( {4})*[^ ])/g, "  ")), i12.test(u10) || n11.test(u10) || e11.test(u10) || r12.test(t33)) break;
            if (u10.search(/[^ ]/) >= p10 || !u10.trim()) l10 += "\n" + u10.slice(p10);
            else {
              if (d10 || h10.search(/[^ ]/) >= 4 || i12.test(h10) || n11.test(h10) || r12.test(h10)) break;
              l10 += "\n" + u10;
            }
            d10 || u10.trim() || (d10 = true), s10 += a11 + "\n", t33 = t33.substring(a11.length + 1), h10 = u10.slice(p10);
          }
        }
        !n10.loose && (o10 ? n10.loose = true : /\n *\n *$/.test(s10) && (o10 = true));
        let g10 = null;
        this.options.gfm && (g10 = /^\[[ xX]\] /.exec(l10)) && (r11 = "[ ] " !== g10[0], l10 = l10.replace(/^\[[ xX]\] +/, "")), n10.items.push({ type: "list_item", raw: s10, task: !!g10, checked: r11, loose: false, text: l10, tokens: [] }), n10.raw += s10;
      }
      n10.items[n10.items.length - 1].raw = n10.items[n10.items.length - 1].raw.trimEnd(), n10.items[n10.items.length - 1].text = n10.items[n10.items.length - 1].text.trimEnd(), n10.raw = n10.raw.trimEnd();
      for (let t34 = 0; t34 < n10.items.length; t34++) if (this.lexer.state.top = false, n10.items[t34].tokens = this.lexer.blockTokens(n10.items[t34].text, []), !n10.loose) {
        let e11 = n10.items[t34].tokens.filter((t35) => "space" === t35.type), r11 = e11.length > 0 && e11.some((t35) => /\n.*\n/.test(t35.raw));
        n10.loose = r11;
      }
      if (n10.loose) for (let t34 = 0; t34 < n10.items.length; t34++) n10.items[t34].loose = true;
      return n10;
    }
  }
  html(t33) {
    let e10 = this.rules.block.html.exec(t33);
    if (e10) return { type: "html", block: true, raw: e10[0], pre: "pre" === e10[1] || "script" === e10[1] || "style" === e10[1], text: e10[0] };
  }
  def(t33) {
    let e10 = this.rules.block.def.exec(t33);
    if (e10) {
      let t34 = e10[1].toLowerCase().replace(/\s+/g, " "), r10 = e10[2] ? e10[2].replace(/^<(.*)>$/, "$1").replace(this.rules.inline.anyPunctuation, "$1") : "", i10 = e10[3] ? e10[3].substring(1, e10[3].length - 1).replace(this.rules.inline.anyPunctuation, "$1") : e10[3];
      return { type: "def", tag: t34, raw: e10[0], href: r10, title: i10 };
    }
  }
  table(t33) {
    let e10 = this.rules.block.table.exec(t33);
    if (!e10 || !/[:|]/.test(e10[2])) return;
    let r10 = gq(e10[1]), i10 = e10[2].replace(/^\||\| *$/g, "").split("|"), n10 = e10[3] && e10[3].trim() ? e10[3].replace(/\n[ \t]*$/, "").split("\n") : [], a10 = { type: "table", raw: e10[0], header: [], align: [], rows: [] };
    if (r10.length === i10.length) {
      for (let t34 of i10) /^ *-+: *$/.test(t34) ? a10.align.push("right") : /^ *:-+: *$/.test(t34) ? a10.align.push("center") : /^ *:-+ *$/.test(t34) ? a10.align.push("left") : a10.align.push(null);
      for (let t34 = 0; t34 < r10.length; t34++) a10.header.push({ text: r10[t34], tokens: this.lexer.inline(r10[t34]), header: true, align: a10.align[t34] });
      for (let t34 of n10) a10.rows.push(gq(t34, a10.header.length).map((t35, e11) => ({ text: t35, tokens: this.lexer.inline(t35), header: false, align: a10.align[e11] })));
      return a10;
    }
  }
  lheading(t33) {
    let e10 = this.rules.block.lheading.exec(t33);
    if (e10) return { type: "heading", raw: e10[0], depth: "=" === e10[2].charAt(0) ? 1 : 2, text: e10[1], tokens: this.lexer.inline(e10[1]) };
  }
  paragraph(t33) {
    let e10 = this.rules.block.paragraph.exec(t33);
    if (e10) {
      let t34 = "\n" === e10[1].charAt(e10[1].length - 1) ? e10[1].slice(0, -1) : e10[1];
      return { type: "paragraph", raw: e10[0], text: t34, tokens: this.lexer.inline(t34) };
    }
  }
  text(t33) {
    let e10 = this.rules.block.text.exec(t33);
    if (e10) return { type: "text", raw: e10[0], text: e10[0], tokens: this.lexer.inline(e10[0]) };
  }
  escape(t33) {
    let e10 = this.rules.inline.escape.exec(t33);
    if (e10) return { type: "escape", raw: e10[0], text: g$(e10[1]) };
  }
  tag(t33) {
    let e10 = this.rules.inline.tag.exec(t33);
    if (e10) return !this.lexer.state.inLink && /^<a /i.test(e10[0]) ? this.lexer.state.inLink = true : this.lexer.state.inLink && /^<\/a>/i.test(e10[0]) && (this.lexer.state.inLink = false), !this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(e10[0]) ? this.lexer.state.inRawBlock = true : this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(e10[0]) && (this.lexer.state.inRawBlock = false), { type: "html", raw: e10[0], inLink: this.lexer.state.inLink, inRawBlock: this.lexer.state.inRawBlock, block: false, text: e10[0] };
  }
  link(t33) {
    let e10 = this.rules.inline.link.exec(t33);
    if (e10) {
      let t34 = e10[2].trim();
      if (!this.options.pedantic && /^</.test(t34)) {
        if (!/>$/.test(t34)) return;
        let e11 = gY(t34.slice(0, -1), "\\");
        if ((t34.length - e11.length) % 2 == 0) return;
      } else {
        let t35 = function(t36, e11) {
          if (-1 === t36.indexOf(")")) return -1;
          let r11 = 0;
          for (let e12 = 0; e12 < t36.length; e12++) if ("\\" === t36[e12]) e12++;
          else if ("(" === t36[e12]) r11++;
          else if (")" === t36[e12] && --r11 < 0) return e12;
          return -1;
        }(e10[2], "()");
        if (t35 > -1) {
          let r11 = (0 === e10[0].indexOf("!") ? 5 : 4) + e10[1].length + t35;
          e10[2] = e10[2].substring(0, t35), e10[0] = e10[0].substring(0, r11).trim(), e10[3] = "";
        }
      }
      let r10 = e10[2], i10 = "";
      if (this.options.pedantic) {
        let t35 = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r10);
        t35 && (r10 = t35[1], i10 = t35[3]);
      } else i10 = e10[3] ? e10[3].slice(1, -1) : "";
      return r10 = r10.trim(), /^</.test(r10) && (r10 = this.options.pedantic && !/>$/.test(t34) ? r10.slice(1) : r10.slice(1, -1)), gH(e10, { href: r10 ? r10.replace(this.rules.inline.anyPunctuation, "$1") : r10, title: i10 ? i10.replace(this.rules.inline.anyPunctuation, "$1") : i10 }, e10[0], this.lexer);
    }
  }
  reflink(t33, e10) {
    let r10;
    if ((r10 = this.rules.inline.reflink.exec(t33)) || (r10 = this.rules.inline.nolink.exec(t33))) {
      let t34 = e10[(r10[2] || r10[1]).replace(/\s+/g, " ").toLowerCase()];
      if (!t34) {
        let t35 = r10[0].charAt(0);
        return { type: "text", raw: t35, text: t35 };
      }
      return gH(r10, t34, r10[0], this.lexer);
    }
  }
  emStrong(t33, e10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "", i10 = this.rules.inline.emStrongLDelim.exec(t33);
    if (!(!i10 || i10[3] && r10.match(/[\p{L}\p{N}]/u)) && (!(i10[1] || i10[2]) || !r10 || this.rules.inline.punctuation.exec(r10))) {
      let r11 = [...i10[0]].length - 1, n10, a10, o10 = r11, s10 = 0, l10 = "*" === i10[0][0] ? this.rules.inline.emStrongRDelimAst : this.rules.inline.emStrongRDelimUnd;
      for (l10.lastIndex = 0, e10 = e10.slice(-1 * t33.length + r11); null != (i10 = l10.exec(e10)); ) {
        if (!(n10 = i10[1] || i10[2] || i10[3] || i10[4] || i10[5] || i10[6])) continue;
        if (a10 = [...n10].length, i10[3] || i10[4]) {
          o10 += a10;
          continue;
        }
        if ((i10[5] || i10[6]) && r11 % 3 && !((r11 + a10) % 3)) {
          s10 += a10;
          continue;
        }
        if ((o10 -= a10) > 0) continue;
        a10 = Math.min(a10, a10 + o10 + s10);
        let e11 = [...i10[0]][0].length, l11 = t33.slice(0, r11 + i10.index + e11 + a10);
        if (Math.min(r11, a10) % 2) {
          let t34 = l11.slice(1, -1);
          return { type: "em", raw: l11, text: t34, tokens: this.lexer.inlineTokens(t34) };
        }
        let h10 = l11.slice(2, -2);
        return { type: "strong", raw: l11, text: h10, tokens: this.lexer.inlineTokens(h10) };
      }
    }
  }
  codespan(t33) {
    let e10 = this.rules.inline.code.exec(t33);
    if (e10) {
      let t34 = e10[2].replace(/\n/g, " "), r10 = /[^ ]/.test(t34), i10 = /^ /.test(t34) && / $/.test(t34);
      return r10 && i10 && (t34 = t34.substring(1, t34.length - 1)), t34 = g$(t34, true), { type: "codespan", raw: e10[0], text: t34 };
    }
  }
  br(t33) {
    let e10 = this.rules.inline.br.exec(t33);
    if (e10) return { type: "br", raw: e10[0] };
  }
  del(t33) {
    let e10 = this.rules.inline.del.exec(t33);
    if (e10) return { type: "del", raw: e10[0], text: e10[2], tokens: this.lexer.inlineTokens(e10[2]) };
  }
  autolink(t33) {
    let e10 = this.rules.inline.autolink.exec(t33);
    if (e10) {
      let t34, r10;
      return r10 = "@" === e10[2] ? "mailto:" + (t34 = g$(e10[1])) : t34 = g$(e10[1]), { type: "link", raw: e10[0], text: t34, href: r10, tokens: [{ type: "text", raw: t34, text: t34 }] };
    }
  }
  url(t33) {
    let e10;
    if (e10 = this.rules.inline.url.exec(t33)) {
      let t34, n10;
      if ("@" === e10[2]) n10 = "mailto:" + (t34 = g$(e10[0]));
      else {
        let a10;
        do {
          var r10, i10;
          a10 = e10[0], e10[0] = null !== (i10 = null === (r10 = this.rules.inline._backpedal.exec(e10[0])) || void 0 === r10 ? void 0 : r10[0]) && void 0 !== i10 ? i10 : "";
        } while (a10 !== e10[0]);
        t34 = g$(e10[0]), n10 = "www." === e10[1] ? "http://" + e10[0] : e10[0];
      }
      return { type: "link", raw: e10[0], text: t34, href: n10, tokens: [{ type: "text", raw: t34, text: t34 }] };
    }
  }
  inlineText(t33) {
    let e10 = this.rules.inline.text.exec(t33);
    if (e10) {
      let t34;
      return t34 = this.lexer.state.inRawBlock ? e10[0] : g$(e10[0]), { type: "text", raw: e10[0], text: t34 };
    }
  }
}
let gW = /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/, gV = /(?:[*+-]|\d{1,9}[.)])/, gX = gz(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g, gV).replace(/blockCode/g, / {4}/).replace(/fences/g, / {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g, / {0,3}>/).replace(/heading/g, / {0,3}#{1,6}/).replace(/html/g, / {0,3}<[^\n>]+>\n/).getRegex(), gK = /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/, gZ = /(?!\s*\])(?:\\.|[^\[\]\\])+/, gQ = gz(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label", gZ).replace("title", /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(), gJ = gz(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g, gV).getRegex(), g0 = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul", g1 = /<!--(?:-?>|[\s\S]*?(?:-->|$))/, g2 = gz("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))", "i").replace("comment", g1).replace("tag", g0).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(), g4 = gz(gK).replace("hr", gW).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("|lheading", "").replace("|table", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", g0).getRegex(), g5 = { blockquote: gz(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph", g4).getRegex(), code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/, def: gQ, fences: /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/, heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/, hr: gW, html: g2, lheading: gX, list: gJ, newline: /^(?: *(?:\n|$))+/, paragraph: g4, table: gG, text: /^[^\n]+/ }, g3 = gz("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr", gW).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", g0).getRegex(), g6 = { ...g5, table: g3, paragraph: gz(gK).replace("hr", gW).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("|lheading", "").replace("table", g3).replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", g0).getRegex() }, g7 = { ...g5, html: gz(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment", g1).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(), def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/, heading: /^(#{1,6})(.*)(?:\n+|$)/, fences: gG, lheading: /^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/, paragraph: gz(gK).replace("hr", gW).replace("heading", " *#{1,6} *[^\n]").replace("lheading", gX).replace("|table", "").replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").replace("|tag", "").getRegex() }, g8 = /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/, g9 = /^( {2,}|\\)\n(?!\s*$)/, ft = "\\p{P}\\p{S}", fe = gz(/^((?![*_])[\spunctuation])/, "u").replace(/punctuation/g, ft).getRegex(), fr = gz(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/, "u").replace(/punct/g, ft).getRegex(), fi = gz("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])", "gu").replace(/punct/g, ft).getRegex(), fn = gz("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])", "gu").replace(/punct/g, ft).getRegex(), fa = gz(/\\([punct])/, "gu").replace(/punct/g, ft).getRegex(), fo = gz(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme", /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email", /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(), fs = gz(g1).replace("(?:-->|$)", "-->").getRegex(), fl = gz("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment", fs).replace("attribute", /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(), fh = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/, fc = gz(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label", fh).replace("href", /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title", /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(), fu = gz(/^!?\[(label)\]\[(ref)\]/).replace("label", fh).replace("ref", gZ).getRegex(), fd = gz(/^!?\[(ref)\](?:\[\])?/).replace("ref", gZ).getRegex(), fp = gz("reflink|nolink(?!\\()", "g").replace("reflink", fu).replace("nolink", fd).getRegex(), fg = { _backpedal: gG, anyPunctuation: fa, autolink: fo, blockSkip: /\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g, br: g9, code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/, del: gG, emStrongLDelim: fr, emStrongRDelimAst: fi, emStrongRDelimUnd: fn, escape: g8, link: fc, nolink: fd, punctuation: fe, reflink: fu, reflinkSearch: fp, tag: fl, text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/, url: gG }, ff = { ...fg, link: gz(/^!?\[(label)\]\((.*?)\)/).replace("label", fh).getRegex(), reflink: gz(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", fh).getRegex() }, fm = { ...fg, escape: gz(g8).replace("])", "~|])").getRegex(), url: gz(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/, "i").replace("email", /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(), _backpedal: /(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/, del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/, text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/ }, fy = { ...fm, br: gz(g9).replace("{2,}", "*").getRegex(), text: gz(fm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex() }, fv = { normal: g5, gfm: g6, pedantic: g7 }, fx = { normal: fg, gfm: fm, breaks: fy, pedantic: ff };
class fb {
  constructor(t33) {
    __publicField(this, "tokens");
    __publicField(this, "options");
    __publicField(this, "state");
    __publicField(this, "tokenizer");
    __publicField(this, "inlineQueue");
    this.tokens = [], this.tokens.links = /* @__PURE__ */ Object.create(null), this.options = t33 || gN, this.options.tokenizer = this.options.tokenizer || new gj(), this.tokenizer = this.options.tokenizer, this.tokenizer.options = this.options, this.tokenizer.lexer = this, this.inlineQueue = [], this.state = { inLink: false, inRawBlock: false, top: true };
    let e10 = { block: fv.normal, inline: fx.normal };
    this.options.pedantic ? (e10.block = fv.pedantic, e10.inline = fx.pedantic) : this.options.gfm && (e10.block = fv.gfm, this.options.breaks ? e10.inline = fx.breaks : e10.inline = fx.gfm), this.tokenizer.rules = e10;
  }
  static get rules() {
    return { block: fv, inline: fx };
  }
  static lex(t33, e10) {
    return new fb(e10).lex(t33);
  }
  static lexInline(t33, e10) {
    return new fb(e10).inlineTokens(t33);
  }
  lex(t33) {
    t33 = t33.replace(/\r\n|\r/g, "\n"), this.blockTokens(t33, this.tokens);
    for (let t34 = 0; t34 < this.inlineQueue.length; t34++) {
      let e10 = this.inlineQueue[t34];
      this.inlineTokens(e10.src, e10.tokens);
    }
    return this.inlineQueue = [], this.tokens;
  }
  blockTokens(t33) {
    let e10, r10, i10, n10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], a10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
    for (t33 = this.options.pedantic ? t33.replace(/\t/g, "    ").replace(/^ +$/gm, "") : t33.replace(/^( *)(\t+)/gm, (t34, e11, r11) => e11 + "    ".repeat(r11.length)); t33; ) if (!(this.options.extensions && this.options.extensions.block && this.options.extensions.block.some((r11) => !!(e10 = r11.call({ lexer: this }, t33, n10)) && (t33 = t33.substring(e10.raw.length), n10.push(e10), true)))) {
      if (e10 = this.tokenizer.space(t33)) {
        t33 = t33.substring(e10.raw.length), 1 === e10.raw.length && n10.length > 0 ? n10[n10.length - 1].raw += "\n" : n10.push(e10);
        continue;
      }
      if (e10 = this.tokenizer.code(t33)) {
        t33 = t33.substring(e10.raw.length), (r10 = n10[n10.length - 1]) && ("paragraph" === r10.type || "text" === r10.type) ? (r10.raw += "\n" + e10.raw, r10.text += "\n" + e10.text, this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : n10.push(e10);
        continue;
      }
      if ((e10 = this.tokenizer.fences(t33)) || (e10 = this.tokenizer.heading(t33)) || (e10 = this.tokenizer.hr(t33)) || (e10 = this.tokenizer.blockquote(t33)) || (e10 = this.tokenizer.list(t33)) || (e10 = this.tokenizer.html(t33))) {
        t33 = t33.substring(e10.raw.length), n10.push(e10);
        continue;
      }
      if (e10 = this.tokenizer.def(t33)) {
        t33 = t33.substring(e10.raw.length), (r10 = n10[n10.length - 1]) && ("paragraph" === r10.type || "text" === r10.type) ? (r10.raw += "\n" + e10.raw, r10.text += "\n" + e10.raw, this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : this.tokens.links[e10.tag] || (this.tokens.links[e10.tag] = { href: e10.href, title: e10.title });
        continue;
      }
      if ((e10 = this.tokenizer.table(t33)) || (e10 = this.tokenizer.lheading(t33))) {
        t33 = t33.substring(e10.raw.length), n10.push(e10);
        continue;
      }
      if (i10 = t33, this.options.extensions && this.options.extensions.startBlock) {
        let e11, r11 = 1 / 0, n11 = t33.slice(1);
        this.options.extensions.startBlock.forEach((t34) => {
          "number" == typeof (e11 = t34.call({ lexer: this }, n11)) && e11 >= 0 && (r11 = Math.min(r11, e11));
        }), r11 < 1 / 0 && r11 >= 0 && (i10 = t33.substring(0, r11 + 1));
      }
      if (this.state.top && (e10 = this.tokenizer.paragraph(i10))) {
        r10 = n10[n10.length - 1], a10 && (null == r10 ? void 0 : r10.type) === "paragraph" ? (r10.raw += "\n" + e10.raw, r10.text += "\n" + e10.text, this.inlineQueue.pop(), this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : n10.push(e10), a10 = i10.length !== t33.length, t33 = t33.substring(e10.raw.length);
        continue;
      }
      if (e10 = this.tokenizer.text(t33)) {
        t33 = t33.substring(e10.raw.length), (r10 = n10[n10.length - 1]) && "text" === r10.type ? (r10.raw += "\n" + e10.raw, r10.text += "\n" + e10.text, this.inlineQueue.pop(), this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : n10.push(e10);
        continue;
      }
      if (t33) {
        let e11 = "Infinite loop on byte: " + t33.charCodeAt(0);
        if (this.options.silent) {
          console.error(e11);
          break;
        }
        throw Error(e11);
      }
    }
    return this.state.top = true, n10;
  }
  inline(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
    return this.inlineQueue.push({ src: t33, tokens: e10 }), e10;
  }
  inlineTokens(t33) {
    let e10, r10, i10, n10, a10, o10, s10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], l10 = t33;
    if (this.tokens.links) {
      let t34 = Object.keys(this.tokens.links);
      if (t34.length > 0) for (; null != (n10 = this.tokenizer.rules.inline.reflinkSearch.exec(l10)); ) t34.includes(n10[0].slice(n10[0].lastIndexOf("[") + 1, -1)) && (l10 = l10.slice(0, n10.index) + "[" + "a".repeat(n10[0].length - 2) + "]" + l10.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex));
    }
    for (; null != (n10 = this.tokenizer.rules.inline.blockSkip.exec(l10)); ) l10 = l10.slice(0, n10.index) + "[" + "a".repeat(n10[0].length - 2) + "]" + l10.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
    for (; null != (n10 = this.tokenizer.rules.inline.anyPunctuation.exec(l10)); ) l10 = l10.slice(0, n10.index) + "++" + l10.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);
    for (; t33; ) if (a10 || (o10 = ""), a10 = false, !(this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some((r11) => !!(e10 = r11.call({ lexer: this }, t33, s10)) && (t33 = t33.substring(e10.raw.length), s10.push(e10), true)))) {
      if (e10 = this.tokenizer.escape(t33)) {
        t33 = t33.substring(e10.raw.length), s10.push(e10);
        continue;
      }
      if (e10 = this.tokenizer.tag(t33)) {
        t33 = t33.substring(e10.raw.length), (r10 = s10[s10.length - 1]) && "text" === e10.type && "text" === r10.type ? (r10.raw += e10.raw, r10.text += e10.text) : s10.push(e10);
        continue;
      }
      if (e10 = this.tokenizer.link(t33)) {
        t33 = t33.substring(e10.raw.length), s10.push(e10);
        continue;
      }
      if (e10 = this.tokenizer.reflink(t33, this.tokens.links)) {
        t33 = t33.substring(e10.raw.length), (r10 = s10[s10.length - 1]) && "text" === e10.type && "text" === r10.type ? (r10.raw += e10.raw, r10.text += e10.text) : s10.push(e10);
        continue;
      }
      if ((e10 = this.tokenizer.emStrong(t33, l10, o10)) || (e10 = this.tokenizer.codespan(t33)) || (e10 = this.tokenizer.br(t33)) || (e10 = this.tokenizer.del(t33)) || (e10 = this.tokenizer.autolink(t33)) || !this.state.inLink && (e10 = this.tokenizer.url(t33))) {
        t33 = t33.substring(e10.raw.length), s10.push(e10);
        continue;
      }
      if (i10 = t33, this.options.extensions && this.options.extensions.startInline) {
        let e11, r11 = 1 / 0, n11 = t33.slice(1);
        this.options.extensions.startInline.forEach((t34) => {
          "number" == typeof (e11 = t34.call({ lexer: this }, n11)) && e11 >= 0 && (r11 = Math.min(r11, e11));
        }), r11 < 1 / 0 && r11 >= 0 && (i10 = t33.substring(0, r11 + 1));
      }
      if (e10 = this.tokenizer.inlineText(i10)) {
        t33 = t33.substring(e10.raw.length), "_" !== e10.raw.slice(-1) && (o10 = e10.raw.slice(-1)), a10 = true, (r10 = s10[s10.length - 1]) && "text" === r10.type ? (r10.raw += e10.raw, r10.text += e10.text) : s10.push(e10);
        continue;
      }
      if (t33) {
        let e11 = "Infinite loop on byte: " + t33.charCodeAt(0);
        if (this.options.silent) {
          console.error(e11);
          break;
        }
        throw Error(e11);
      }
    }
    return s10;
  }
}
class fw {
  constructor(t33) {
    __publicField(this, "options");
    __publicField(this, "parser");
    this.options = t33 || gN;
  }
  space(t33) {
    return "";
  }
  code(t33) {
    var e10;
    let { text: r10, lang: i10, escaped: n10 } = t33, a10 = null === (e10 = (i10 || "").match(/^\S*/)) || void 0 === e10 ? void 0 : e10[0], o10 = r10.replace(/\n$/, "") + "\n";
    return a10 ? '<pre><code class="language-' + g$(a10) + '">' + (n10 ? o10 : g$(o10, true)) + "</code></pre>\n" : "<pre><code>" + (n10 ? o10 : g$(o10, true)) + "</code></pre>\n";
  }
  blockquote(t33) {
    let { tokens: e10 } = t33, r10 = this.parser.parse(e10);
    return `<blockquote>
${r10}</blockquote>
`;
  }
  html(t33) {
    let { text: e10 } = t33;
    return e10;
  }
  heading(t33) {
    let { tokens: e10, depth: r10 } = t33;
    return `<h${r10}>${this.parser.parseInline(e10)}</h${r10}>
`;
  }
  hr(t33) {
    return "<hr>\n";
  }
  list(t33) {
    let e10 = t33.ordered, r10 = t33.start, i10 = "";
    for (let e11 = 0; e11 < t33.items.length; e11++) {
      let r11 = t33.items[e11];
      i10 += this.listitem(r11);
    }
    let n10 = e10 ? "ol" : "ul";
    return "<" + n10 + (e10 && 1 !== r10 ? ' start="' + r10 + '"' : "") + ">\n" + i10 + "</" + n10 + ">\n";
  }
  listitem(t33) {
    let e10 = "";
    if (t33.task) {
      let r10 = this.checkbox({ checked: !!t33.checked });
      t33.loose ? t33.tokens.length > 0 && "paragraph" === t33.tokens[0].type ? (t33.tokens[0].text = r10 + " " + t33.tokens[0].text, t33.tokens[0].tokens && t33.tokens[0].tokens.length > 0 && "text" === t33.tokens[0].tokens[0].type && (t33.tokens[0].tokens[0].text = r10 + " " + t33.tokens[0].tokens[0].text)) : t33.tokens.unshift({ type: "text", raw: r10 + " ", text: r10 + " " }) : e10 += r10 + " ";
    }
    return e10 += this.parser.parse(t33.tokens, !!t33.loose), `<li>${e10}</li>
`;
  }
  checkbox(t33) {
    let { checked: e10 } = t33;
    return "<input " + (e10 ? 'checked="" ' : "") + 'disabled="" type="checkbox">';
  }
  paragraph(t33) {
    let { tokens: e10 } = t33;
    return `<p>${this.parser.parseInline(e10)}</p>
`;
  }
  table(t33) {
    let e10 = "", r10 = "";
    for (let e11 = 0; e11 < t33.header.length; e11++) r10 += this.tablecell(t33.header[e11]);
    e10 += this.tablerow({ text: r10 });
    let i10 = "";
    for (let e11 = 0; e11 < t33.rows.length; e11++) {
      let n10 = t33.rows[e11];
      r10 = "";
      for (let t34 = 0; t34 < n10.length; t34++) r10 += this.tablecell(n10[t34]);
      i10 += this.tablerow({ text: r10 });
    }
    return i10 && (i10 = `<tbody>${i10}</tbody>`), "<table>\n<thead>\n" + e10 + "</thead>\n" + i10 + "</table>\n";
  }
  tablerow(t33) {
    let { text: e10 } = t33;
    return `<tr>
${e10}</tr>
`;
  }
  tablecell(t33) {
    let e10 = this.parser.parseInline(t33.tokens), r10 = t33.header ? "th" : "td";
    return (t33.align ? `<${r10} align="${t33.align}">` : `<${r10}>`) + e10 + `</${r10}>
`;
  }
  strong(t33) {
    let { tokens: e10 } = t33;
    return `<strong>${this.parser.parseInline(e10)}</strong>`;
  }
  em(t33) {
    let { tokens: e10 } = t33;
    return `<em>${this.parser.parseInline(e10)}</em>`;
  }
  codespan(t33) {
    let { text: e10 } = t33;
    return `<code>${e10}</code>`;
  }
  br(t33) {
    return "<br>";
  }
  del(t33) {
    let { tokens: e10 } = t33;
    return `<del>${this.parser.parseInline(e10)}</del>`;
  }
  link(t33) {
    let { href: e10, title: r10, tokens: i10 } = t33, n10 = this.parser.parseInline(i10), a10 = gU(e10);
    if (null === a10) return n10;
    let o10 = '<a href="' + (e10 = a10) + '"';
    return r10 && (o10 += ' title="' + r10 + '"'), o10 += ">" + n10 + "</a>";
  }
  image(t33) {
    let { href: e10, title: r10, text: i10 } = t33, n10 = gU(e10);
    if (null === n10) return i10;
    e10 = n10;
    let a10 = `<img src="${e10}" alt="${i10}"`;
    return r10 && (a10 += ` title="${r10}"`), a10 += ">";
  }
  text(t33) {
    return "tokens" in t33 && t33.tokens ? this.parser.parseInline(t33.tokens) : t33.text;
  }
}
class fk {
  strong(t33) {
    let { text: e10 } = t33;
    return e10;
  }
  em(t33) {
    let { text: e10 } = t33;
    return e10;
  }
  codespan(t33) {
    let { text: e10 } = t33;
    return e10;
  }
  del(t33) {
    let { text: e10 } = t33;
    return e10;
  }
  html(t33) {
    let { text: e10 } = t33;
    return e10;
  }
  text(t33) {
    let { text: e10 } = t33;
    return e10;
  }
  link(t33) {
    let { text: e10 } = t33;
    return "" + e10;
  }
  image(t33) {
    let { text: e10 } = t33;
    return "" + e10;
  }
  br() {
    return "";
  }
}
class f_ {
  constructor(t33) {
    __publicField(this, "options");
    __publicField(this, "renderer");
    __publicField(this, "textRenderer");
    this.options = t33 || gN, this.options.renderer = this.options.renderer || new fw(), this.renderer = this.options.renderer, this.renderer.options = this.options, this.renderer.parser = this, this.textRenderer = new fk();
  }
  static parse(t33, e10) {
    return new f_(e10).parse(t33);
  }
  static parseInline(t33, e10) {
    return new f_(e10).parseInline(t33);
  }
  parse(t33) {
    let e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = "";
    for (let i10 = 0; i10 < t33.length; i10++) {
      let n10 = t33[i10];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[n10.type]) {
        let t34 = this.options.extensions.renderers[n10.type].call({ parser: this }, n10);
        if (false !== t34 || !["space", "hr", "heading", "code", "table", "blockquote", "list", "html", "paragraph", "text"].includes(n10.type)) {
          r10 += t34 || "";
          continue;
        }
      }
      switch (n10.type) {
        case "space":
          r10 += this.renderer.space(n10);
          continue;
        case "hr":
          r10 += this.renderer.hr(n10);
          continue;
        case "heading":
          r10 += this.renderer.heading(n10);
          continue;
        case "code":
          r10 += this.renderer.code(n10);
          continue;
        case "table":
          r10 += this.renderer.table(n10);
          continue;
        case "blockquote":
          r10 += this.renderer.blockquote(n10);
          continue;
        case "list":
          r10 += this.renderer.list(n10);
          continue;
        case "html":
          r10 += this.renderer.html(n10);
          continue;
        case "paragraph":
          r10 += this.renderer.paragraph(n10);
          continue;
        case "text": {
          let a10 = n10, o10 = this.renderer.text(a10);
          for (; i10 + 1 < t33.length && "text" === t33[i10 + 1].type; ) a10 = t33[++i10], o10 += "\n" + this.renderer.text(a10);
          e10 ? r10 += this.renderer.paragraph({ type: "paragraph", raw: o10, text: o10, tokens: [{ type: "text", raw: o10, text: o10 }] }) : r10 += o10;
          continue;
        }
        default: {
          let t34 = 'Token with "' + n10.type + '" type was not found.';
          if (this.options.silent) return console.error(t34), "";
          throw Error(t34);
        }
      }
    }
    return r10;
  }
  parseInline(t33, e10) {
    e10 = e10 || this.renderer;
    let r10 = "";
    for (let i10 = 0; i10 < t33.length; i10++) {
      let n10 = t33[i10];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[n10.type]) {
        let t34 = this.options.extensions.renderers[n10.type].call({ parser: this }, n10);
        if (false !== t34 || !["escape", "html", "link", "image", "strong", "em", "codespan", "br", "del", "text"].includes(n10.type)) {
          r10 += t34 || "";
          continue;
        }
      }
      switch (n10.type) {
        case "escape":
        case "text":
          r10 += e10.text(n10);
          break;
        case "html":
          r10 += e10.html(n10);
          break;
        case "link":
          r10 += e10.link(n10);
          break;
        case "image":
          r10 += e10.image(n10);
          break;
        case "strong":
          r10 += e10.strong(n10);
          break;
        case "em":
          r10 += e10.em(n10);
          break;
        case "codespan":
          r10 += e10.codespan(n10);
          break;
        case "br":
          r10 += e10.br(n10);
          break;
        case "del":
          r10 += e10.del(n10);
          break;
        default: {
          let t34 = 'Token with "' + n10.type + '" type was not found.';
          if (this.options.silent) return console.error(t34), "";
          throw Error(t34);
        }
      }
    }
    return r10;
  }
}
class fT {
  constructor(t33) {
    __publicField(this, "options");
    this.options = t33 || gN;
  }
  preprocess(t33) {
    return t33;
  }
  postprocess(t33) {
    return t33;
  }
  processAllTokens(t33) {
    return t33;
  }
}
__publicField(fT, "passThroughHooks", /* @__PURE__ */ new Set(["preprocess", "postprocess", "processAllTokens"]));
class fE {
  constructor(...t33) {
    __privateAdd(this, _fE_instances);
    __publicField(this, "defaults", gL());
    __publicField(this, "options", this.setOptions);
    __publicField(this, "parse", __privateMethod(this, _fE_instances, a_fn).call(this, fb.lex, f_.parse));
    __publicField(this, "parseInline", __privateMethod(this, _fE_instances, a_fn).call(this, fb.lexInline, f_.parseInline));
    __publicField(this, "Parser", f_);
    __publicField(this, "Renderer", fw);
    __publicField(this, "TextRenderer", fk);
    __publicField(this, "Lexer", fb);
    __publicField(this, "Tokenizer", gj);
    __publicField(this, "Hooks", fT);
    this.use(...t33);
  }
  walkTokens(t33, e10) {
    let r10 = [];
    for (let a10 of t33) switch (r10 = r10.concat(e10.call(this, a10)), a10.type) {
      case "table":
        for (let t34 of a10.header) r10 = r10.concat(this.walkTokens(t34.tokens, e10));
        for (let t34 of a10.rows) for (let i11 of t34) r10 = r10.concat(this.walkTokens(i11.tokens, e10));
        break;
      case "list":
        r10 = r10.concat(this.walkTokens(a10.items, e10));
        break;
      default: {
        var i10, n10;
        let t34 = a10;
        (null === (n10 = this.defaults.extensions) || void 0 === n10 ? void 0 : null === (i10 = n10.childTokens) || void 0 === i10 ? void 0 : i10[t34.type]) ? this.defaults.extensions.childTokens[t34.type].forEach((i11) => {
          let n11 = t34[i11].flat(1 / 0);
          r10 = r10.concat(this.walkTokens(n11, e10));
        }) : t34.tokens && (r10 = r10.concat(this.walkTokens(t34.tokens, e10)));
      }
    }
    return r10;
  }
  use() {
    for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
    let i10 = this.defaults.extensions || { renderers: {}, childTokens: {} };
    return e10.forEach((t34) => {
      let e11 = { ...t34 };
      if (e11.async = this.defaults.async || e11.async || false, t34.extensions && (t34.extensions.forEach((t35) => {
        if (!t35.name) throw Error("extension name required");
        if ("renderer" in t35) {
          let e12 = i10.renderers[t35.name];
          e12 ? i10.renderers[t35.name] = function() {
            for (var r11 = arguments.length, i11 = Array(r11), n10 = 0; n10 < r11; n10++) i11[n10] = arguments[n10];
            let a10 = t35.renderer.apply(this, i11);
            return false === a10 && (a10 = e12.apply(this, i11)), a10;
          } : i10.renderers[t35.name] = t35.renderer;
        }
        if ("tokenizer" in t35) {
          if (!t35.level || "block" !== t35.level && "inline" !== t35.level) throw Error("extension level must be 'block' or 'inline'");
          let e12 = i10[t35.level];
          e12 ? e12.unshift(t35.tokenizer) : i10[t35.level] = [t35.tokenizer], t35.start && ("block" === t35.level ? i10.startBlock ? i10.startBlock.push(t35.start) : i10.startBlock = [t35.start] : "inline" === t35.level && (i10.startInline ? i10.startInline.push(t35.start) : i10.startInline = [t35.start]));
        }
        "childTokens" in t35 && t35.childTokens && (i10.childTokens[t35.name] = t35.childTokens);
      }), e11.extensions = i10), t34.renderer) {
        let r11 = this.defaults.renderer || new fw(this.defaults);
        for (let e12 in t34.renderer) {
          if (!(e12 in r11)) throw Error(`renderer '${e12}' does not exist`);
          if (["options", "parser"].includes(e12)) continue;
          let i11 = t34.renderer[e12];
          t34.useNewRenderer || (i11 = __privateMethod(this, _fE_instances, o_fn).call(this, i11, e12, r11));
          let n10 = r11[e12];
          r11[e12] = function() {
            for (var t35 = arguments.length, e13 = Array(t35), a10 = 0; a10 < t35; a10++) e13[a10] = arguments[a10];
            let o10 = i11.apply(r11, e13);
            return false === o10 && (o10 = n10.apply(r11, e13)), o10 || "";
          };
        }
        e11.renderer = r11;
      }
      if (t34.tokenizer) {
        let r11 = this.defaults.tokenizer || new gj(this.defaults);
        for (let e12 in t34.tokenizer) {
          if (!(e12 in r11)) throw Error(`tokenizer '${e12}' does not exist`);
          if (["options", "rules", "lexer"].includes(e12)) continue;
          let i11 = t34.tokenizer[e12], n10 = r11[e12];
          r11[e12] = function() {
            for (var t35 = arguments.length, e13 = Array(t35), a10 = 0; a10 < t35; a10++) e13[a10] = arguments[a10];
            let o10 = i11.apply(r11, e13);
            return false === o10 && (o10 = n10.apply(r11, e13)), o10;
          };
        }
        e11.tokenizer = r11;
      }
      if (t34.hooks) {
        let r11 = this.defaults.hooks || new fT();
        for (let e12 in t34.hooks) {
          if (!(e12 in r11)) throw Error(`hook '${e12}' does not exist`);
          if ("options" === e12) continue;
          let i11 = t34.hooks[e12], n10 = r11[e12];
          fT.passThroughHooks.has(e12) ? r11[e12] = (t35) => {
            if (this.defaults.async) return Promise.resolve(i11.call(r11, t35)).then((t36) => n10.call(r11, t36));
            let e13 = i11.call(r11, t35);
            return n10.call(r11, e13);
          } : r11[e12] = function() {
            for (var t35 = arguments.length, e13 = Array(t35), a10 = 0; a10 < t35; a10++) e13[a10] = arguments[a10];
            let o10 = i11.apply(r11, e13);
            return false === o10 && (o10 = n10.apply(r11, e13)), o10;
          };
        }
        e11.hooks = r11;
      }
      if (t34.walkTokens) {
        let r11 = this.defaults.walkTokens, i11 = t34.walkTokens;
        e11.walkTokens = function(t35) {
          let e12 = [];
          return e12.push(i11.call(this, t35)), r11 && (e12 = e12.concat(r11.call(this, t35))), e12;
        };
      }
      this.defaults = { ...this.defaults, ...e11 };
    }), this;
  }
  setOptions(t33) {
    return this.defaults = { ...this.defaults, ...t33 }, this;
  }
  lexer(t33, e10) {
    return fb.lex(t33, null != e10 ? e10 : this.defaults);
  }
  parser(t33, e10) {
    return f_.parse(t33, null != e10 ? e10 : this.defaults);
  }
}
_fE_instances = new WeakSet();
o_fn = function(t33, e10, r10) {
  switch (e10) {
    case "heading":
      return function(i10) {
        return i10.type && i10.type === e10 ? t33.call(this, r10.parser.parseInline(i10.tokens), i10.depth, r10.parser.parseInline(i10.tokens, r10.parser.textRenderer).replace(gB, (t34, e11) => "colon" === (e11 = e11.toLowerCase()) ? ":" : "#" === e11.charAt(0) ? "x" === e11.charAt(1) ? String.fromCharCode(parseInt(e11.substring(2), 16)) : String.fromCharCode(+e11.substring(1)) : "")) : t33.apply(this, arguments);
      };
    case "code":
      return function(r11) {
        return r11.type && r11.type === e10 ? t33.call(this, r11.text, r11.lang, !!r11.escaped) : t33.apply(this, arguments);
      };
    case "table":
      return function(r11) {
        if (!r11.type || r11.type !== e10) return t33.apply(this, arguments);
        let i10 = "", n10 = "";
        for (let t34 = 0; t34 < r11.header.length; t34++) n10 += this.tablecell({ text: r11.header[t34].text, tokens: r11.header[t34].tokens, header: true, align: r11.align[t34] });
        i10 += this.tablerow({ text: n10 });
        let a10 = "";
        for (let t34 = 0; t34 < r11.rows.length; t34++) {
          let e11 = r11.rows[t34];
          n10 = "";
          for (let t35 = 0; t35 < e11.length; t35++) n10 += this.tablecell({ text: e11[t35].text, tokens: e11[t35].tokens, header: false, align: r11.align[t35] });
          a10 += this.tablerow({ text: n10 });
        }
        return t33.call(this, i10, a10);
      };
    case "blockquote":
      return function(r11) {
        if (!r11.type || r11.type !== e10) return t33.apply(this, arguments);
        let i10 = this.parser.parse(r11.tokens);
        return t33.call(this, i10);
      };
    case "list":
      return function(r11) {
        if (!r11.type || r11.type !== e10) return t33.apply(this, arguments);
        let i10 = r11.ordered, n10 = r11.start, a10 = r11.loose, o10 = "";
        for (let t34 = 0; t34 < r11.items.length; t34++) {
          let e11 = r11.items[t34], i11 = e11.checked, n11 = e11.task, s10 = "";
          if (e11.task) {
            let t35 = this.checkbox({ checked: !!i11 });
            a10 ? e11.tokens.length > 0 && "paragraph" === e11.tokens[0].type ? (e11.tokens[0].text = t35 + " " + e11.tokens[0].text, e11.tokens[0].tokens && e11.tokens[0].tokens.length > 0 && "text" === e11.tokens[0].tokens[0].type && (e11.tokens[0].tokens[0].text = t35 + " " + e11.tokens[0].tokens[0].text)) : e11.tokens.unshift({ type: "text", text: t35 + " " }) : s10 += t35 + " ";
          }
          s10 += this.parser.parse(e11.tokens, a10), o10 += this.listitem({ type: "list_item", raw: s10, text: s10, task: n11, checked: !!i11, loose: a10, tokens: e11.tokens });
        }
        return t33.call(this, o10, i10, n10);
      };
    case "html":
      return function(r11) {
        return r11.type && r11.type === e10 ? t33.call(this, r11.text, r11.block) : t33.apply(this, arguments);
      };
    case "paragraph":
    case "strong":
    case "del":
    case "em":
      return function(r11) {
        return r11.type && r11.type === e10 ? t33.call(this, this.parser.parseInline(r11.tokens)) : t33.apply(this, arguments);
      };
    case "escape":
    case "text":
    case "codespan":
      return function(r11) {
        return r11.type && r11.type === e10 ? t33.call(this, r11.text) : t33.apply(this, arguments);
      };
    case "link":
      return function(r11) {
        return r11.type && r11.type === e10 ? t33.call(this, r11.href, r11.title, this.parser.parseInline(r11.tokens)) : t33.apply(this, arguments);
      };
    case "image":
      return function(r11) {
        return r11.type && r11.type === e10 ? t33.call(this, r11.href, r11.title, r11.text) : t33.apply(this, arguments);
      };
  }
  return t33;
};
a_fn = function(t33, e10) {
  return (r10, i10) => {
    let n10 = { ...i10 }, a10 = { ...this.defaults, ...n10 };
    true === this.defaults.async && false === n10.async && (a10.silent || console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."), a10.async = true);
    let o10 = __privateMethod(this, _fE_instances, s_fn).call(this, !!a10.silent, !!a10.async);
    if (null == r10) return o10(Error("marked(): input parameter is undefined or null"));
    if ("string" != typeof r10) return o10(Error("marked(): input parameter is of type " + Object.prototype.toString.call(r10) + ", string expected"));
    if (a10.hooks && (a10.hooks.options = a10), a10.async) return Promise.resolve(a10.hooks ? a10.hooks.preprocess(r10) : r10).then((e11) => t33(e11, a10)).then((t34) => a10.hooks ? a10.hooks.processAllTokens(t34) : t34).then((t34) => a10.walkTokens ? Promise.all(this.walkTokens(t34, a10.walkTokens)).then(() => t34) : t34).then((t34) => e10(t34, a10)).then((t34) => a10.hooks ? a10.hooks.postprocess(t34) : t34).catch(o10);
    try {
      a10.hooks && (r10 = a10.hooks.preprocess(r10));
      let i11 = t33(r10, a10);
      a10.hooks && (i11 = a10.hooks.processAllTokens(i11)), a10.walkTokens && this.walkTokens(i11, a10.walkTokens);
      let n11 = e10(i11, a10);
      return a10.hooks && (n11 = a10.hooks.postprocess(n11)), n11;
    } catch (t34) {
      return o10(t34);
    }
  };
};
s_fn = function(t33, e10) {
  return (r10) => {
    if (r10.message += "\nPlease report this to https://github.com/markedjs/marked.", t33) {
      let t34 = "<p>An error occurred:</p><pre>" + g$(r10.message + "", true) + "</pre>";
      return e10 ? Promise.resolve(t34) : t34;
    }
    if (e10) return Promise.reject(r10);
    throw r10;
  };
};
let fC = new fE();
function fS(t33, e10) {
  return fC.parse(t33, e10);
}
function fA(t33) {
  for (var e10 = [], r10 = 1; r10 < arguments.length; r10++) e10[r10 - 1] = arguments[r10];
  var i10 = Array.from("string" == typeof t33 ? [t33] : t33);
  i10[i10.length - 1] = i10[i10.length - 1].replace(/\r?\n([\t ]*)$/, "");
  var n10 = i10.reduce(function(t34, e11) {
    var r11 = e11.match(/\n([\t ]+|(?!\s).)/g);
    return r11 ? t34.concat(r11.map(function(t35) {
      var e12, r12;
      return null !== (r12 = null === (e12 = t35.match(/[\t ]/g)) || void 0 === e12 ? void 0 : e12.length) && void 0 !== r12 ? r12 : 0;
    })) : t34;
  }, []);
  if (n10.length) {
    var a10 = RegExp("\n[	 ]{" + Math.min.apply(Math, n10) + "}", "g");
    i10 = i10.map(function(t34) {
      return t34.replace(a10, "\n");
    });
  }
  i10[0] = i10[0].replace(/^\r?\n/, "");
  var o10 = i10[0];
  return e10.forEach(function(t34, e11) {
    var r11 = o10.match(/(?:^|\n)( *)$/), n11 = r11 ? r11[1] : "", a11 = t34;
    "string" == typeof t34 && t34.includes("\n") && (a11 = String(t34).split("\n").map(function(t35, e12) {
      return 0 === e12 ? t35 : "" + n11 + t35;
    }).join("\n")), o10 += a11 + i10[e11 + 1];
  }), o10;
}
function fL(t33, e10) {
  let { markdownAutoWrap: r10 } = e10, i10 = fA(t33.replace(/<br\/>/g, "\n").replace(/\n{2,}/g, "\n"));
  return false === r10 ? i10.replace(/ /g, "&nbsp;") : i10;
}
function fN(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = fL(t33, e10), i10 = fS.lexer(r10), n10 = [[]], a10 = 0;
  function o10(t34) {
    let e11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "normal";
    "text" === t34.type ? t34.text.split("\n").forEach((t35, r11) => {
      0 !== r11 && (a10++, n10.push([])), t35.split(" ").forEach((t36) => {
        (t36 = t36.replace(/&#39;/g, "'")) && n10[a10].push({ content: t36, type: e11 });
      });
    }) : "strong" === t34.type || "em" === t34.type ? t34.tokens.forEach((e12) => {
      o10(e12, t34.type);
    }) : "html" === t34.type && n10[a10].push({ content: t34.text, type: "normal" });
  }
  return iZ(o10, "processNode"), i10.forEach((t34) => {
    if ("paragraph" === t34.type) {
      var e11;
      null === (e11 = t34.tokens) || void 0 === e11 || e11.forEach((t35) => {
        o10(t35);
      });
    } else "html" === t34.type && n10[a10].push({ content: t34.text, type: "normal" });
  }), n10;
}
function fI(t33) {
  let { markdownAutoWrap: e10 } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = fS.lexer(t33);
  function i10(t34) {
    var r11, n10, a10;
    if ("text" === t34.type) return false === e10 ? t34.text.replace(/\n */g, "<br/>").replace(/ /g, "&nbsp;") : t34.text.replace(/\n */g, "<br/>");
    if ("strong" === t34.type) return `<strong>${null === (r11 = t34.tokens) || void 0 === r11 ? void 0 : r11.map(i10).join("")}</strong>`;
    if ("em" === t34.type) return `<em>${null === (n10 = t34.tokens) || void 0 === n10 ? void 0 : n10.map(i10).join("")}</em>`;
    if ("paragraph" === t34.type) return `<p>${null === (a10 = t34.tokens) || void 0 === a10 ? void 0 : a10.map(i10).join("")}</p>`;
    if ("space" === t34.type) return "";
    if ("html" === t34.type) return `${t34.text}`;
    if ("escape" === t34.type) return t34.text;
    return `Unsupported markdown: ${t34.type}`;
  }
  return iZ(i10, "output"), r10.map(i10).join("");
}
function fM(t33) {
  return Intl.Segmenter ? [...new Intl.Segmenter().segment(t33)].map((t34) => t34.segment) : [...t33];
}
function fR(t33, e10) {
  return fD(t33, [], fM(e10.content), e10.type);
}
function fD(t33, e10, r10, i10) {
  if (0 === r10.length) return [{ content: e10.join(""), type: i10 }, { content: "", type: i10 }];
  let [n10, ...a10] = r10, o10 = [...e10, n10];
  return t33([{ content: o10.join(""), type: i10 }]) ? fD(t33, o10, a10, i10) : (0 === e10.length && n10 && (e10.push(n10), r10.shift()), [{ content: e10.join(""), type: i10 }, { content: r10.join(""), type: i10 }]);
}
function fO(t33, e10) {
  if (t33.some((t34) => {
    let { content: e11 } = t34;
    return e11.includes("\n");
  })) throw Error("splitLineToFitWidth does not support newlines in the line");
  return fP(t33, e10);
}
function fP(t33, e10) {
  var r10;
  let i10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [];
  if (0 === t33.length) return n10.length > 0 && i10.push(n10), i10.length > 0 ? i10 : [];
  let a10 = "";
  " " === t33[0].content && (a10 = " ", t33.shift());
  let o10 = null !== (r10 = t33.shift()) && void 0 !== r10 ? r10 : { content: " ", type: "normal" }, s10 = [...n10];
  if ("" !== a10 && s10.push({ content: a10, type: "normal" }), s10.push(o10), e10(s10)) return fP(t33, e10, i10, s10);
  if (n10.length > 0) i10.push(n10), t33.unshift(o10);
  else if (o10.content) {
    let [r11, n11] = fR(e10, o10);
    i10.push([r11]), n11.content && t33.unshift(n11);
  }
  return fP(t33, e10, i10);
}
function f$(t33, e10) {
  e10 && t33.attr("style", e10);
}
async function fB(t33, e10, r10, i10) {
  let n10 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], a10 = t33.append("foreignObject");
  a10.attr("width", `${10 * r10}px`), a10.attr("height", `${10 * r10}px`);
  let o10 = a10.append("xhtml:div"), s10 = e10.label;
  e10.label && n8(e10.label) && (s10 = await at(e10.label.replace(ae.lineBreakRegex, "\n"), nM()));
  let l10 = e10.isNode ? "nodeLabel" : "edgeLabel", h10 = o10.append("span");
  h10.html(s10), f$(h10, e10.labelStyle), h10.attr("class", `${l10} ${i10}`), f$(o10, e10.labelStyle), o10.style("display", "table-cell"), o10.style("white-space", "nowrap"), o10.style("line-height", "1.5"), o10.style("max-width", r10 + "px"), o10.style("text-align", "center"), o10.attr("xmlns", "http://www.w3.org/1999/xhtml"), n10 && o10.attr("class", "labelBkg");
  let u10 = o10.node().getBoundingClientRect();
  return u10.width === r10 && (o10.style("display", "table"), o10.style("white-space", "break-spaces"), o10.style("width", r10 + "px"), u10 = o10.node().getBoundingClientRect()), a10.node();
}
function fF(t33, e10, r10) {
  return t33.append("tspan").attr("class", "text-outer-tspan").attr("x", 0).attr("y", e10 * r10 - 0.1 + "em").attr("dy", r10 + "em");
}
function fz(t33, e10, r10) {
  let i10 = t33.append("text"), n10 = fF(i10, 1, e10);
  fq(n10, r10);
  let a10 = n10.node().getComputedTextLength();
  return i10.remove(), a10;
}
function fU(t33, e10, r10) {
  var i10;
  let n10 = t33.append("text"), a10 = fF(n10, 1, e10);
  fq(a10, [{ content: r10, type: "normal" }]);
  let o10 = null === (i10 = a10.node()) || void 0 === i10 ? void 0 : i10.getBoundingClientRect();
  return o10 && n10.remove(), o10;
}
function fG(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], n10 = e10.append("g"), a10 = n10.insert("rect").attr("class", "background").attr("style", "stroke: none"), o10 = n10.append("text").attr("y", "-10.1"), s10 = 0;
  for (let e11 of r10) {
    let r11 = iZ((e12) => fz(n10, 1.1, e12) <= t33, "checkWidth");
    for (let t34 of r11(e11) ? [e11] : fO(e11, r11)) fq(fF(o10, s10, 1.1), t34), s10++;
  }
  if (!i10) return o10.node();
  {
    let t34 = o10.node().getBBox();
    return a10.attr("x", t34.x - 2).attr("y", t34.y - 2).attr("width", t34.width + 4).attr("height", t34.height + 4), n10.node();
  }
}
function fq(t33, e10) {
  t33.text(""), e10.forEach((e11, r10) => {
    let i10 = t33.append("tspan").attr("font-style", "em" === e11.type ? "italic" : "normal").attr("class", "text-inner-tspan").attr("font-weight", "strong" === e11.type ? "bold" : "normal");
    0 === r10 ? i10.text(e11.content) : i10.text(" " + e11.content);
  });
}
function fY(t33) {
  return t33.replace(/fa[bklrs]?:fa-[\w-]+/g, (t34) => `<i class='${t34.replace(":", " ")}'></i>`);
}
fS.options = fS.setOptions = function(t33) {
  return fC.setOptions(t33), fS.defaults = fC.defaults, gN = fS.defaults, fS;
}, fS.getDefaults = gL, fS.defaults = gN, fS.use = function() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
  return fC.use(...e10), fS.defaults = fC.defaults, gN = fS.defaults, fS;
}, fS.walkTokens = function(t33, e10) {
  return fC.walkTokens(t33, e10);
}, fS.parseInline = fC.parseInline, fS.Parser = f_, fS.parser = f_.parse, fS.Renderer = fw, fS.TextRenderer = fk, fS.Lexer = fb, fS.lexer = fb.lex, fS.Tokenizer = gj, fS.Hooks = fT, fS.parse = fS, fS.options, fS.setOptions, fS.use, fS.walkTokens, fS.parseInline, f_.parse, fb.lex, iZ(fL, "preprocessMarkdown"), iZ(fN, "markdownToLines"), iZ(fI, "markdownToHTML"), iZ(fM, "splitTextToChars"), iZ(fR, "splitWordToFitWidth"), iZ(fD, "splitWordToFitWidthRecursion"), iZ(fO, "splitLineToFitWidth"), iZ(fP, "splitLineToFitWidthRecursion"), iZ(f$, "applyStyle"), iZ(fB, "addHtmlSpan"), iZ(fF, "createTspan"), iZ(fz, "computeWidthOfText"), iZ(fU, "computeDimensionOfText"), iZ(fG, "createFormattedText"), iZ(fq, "updateTextContentAndStyles"), iZ(fY, "replaceIconSubstring");
var fH = iZ(async function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", { style: r10 = "", isTitle: i10 = false, classes: n10 = "", useHtmlLabels: a10 = true, isNode: o10 = true, width: s10 = 200, addSvgBackground: l10 = false } = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, h10 = arguments.length > 3 ? arguments[3] : void 0;
  if (i0.debug("XYZ createText", e10, r10, i10, n10, a10, o10, "addSvgBackground: ", l10), a10) {
    let i11 = fY(gC(fI(e10, h10))), a11 = e10.replace(/\\\\/g, "\\"), u10 = { isNode: o10, label: n8(e10) ? a11 : i11, labelStyle: r10.replace("fill:", "color:") };
    return await fB(t33, u10, s10, n10, l10);
  }
  {
    let i11 = fG(s10, t33, fN(e10.replace(/<br\s*\/?>/g, "<br/>").replace("<br>", "<br/>"), h10), !!e10 && l10);
    if (o10) {
      /stroke:/.exec(r10) && (r10 = r10.replace("stroke:", "lineColor:"));
      let t34 = r10.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/color:/g, "fill:");
      hl(i11).attr("style", t34);
    } else {
      let t34 = r10.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/background:/g, "fill:");
      hl(i11).select("rect").attr("style", t34.replace(/background:/g, "fill:"));
      let e11 = r10.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/color:/g, "fill:");
      hl(i11).select("text").attr("style", e11);
    }
    return i11;
  }
}, "createText");
function fj(t33, e10, r10) {
  if (t33 && t33.length) {
    let [i10, n10] = e10, a10 = Math.PI / 180 * r10, o10 = Math.cos(a10), s10 = Math.sin(a10);
    for (let e11 of t33) {
      let [t34, r11] = e11;
      e11[0] = (t34 - i10) * o10 - (r11 - n10) * s10 + i10, e11[1] = (t34 - i10) * s10 + (r11 - n10) * o10 + n10;
    }
  }
}
function fW(t33, e10) {
  var r10;
  let i10 = e10.hachureAngle + 90, n10 = e10.hachureGap;
  n10 < 0 && (n10 = 4 * e10.strokeWidth), n10 = Math.round(Math.max(n10, 0.1));
  let a10 = 1;
  return e10.roughness >= 1 && ((null === (r10 = e10.randomizer) || void 0 === r10 ? void 0 : r10.next()) || Math.random()) > 0.7 && (a10 = n10), function(t34, e11, r11) {
    let i11 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, n11 = Math.max(e11, 0.1), a11 = t34[0] && t34[0][0] && "number" == typeof t34[0][0] ? [t34] : t34, o10 = [0, 0];
    if (r11) for (let t35 of a11) fj(t35, o10, r11);
    let s10 = function(t35, e12, r12) {
      let i12 = [];
      for (let e13 of t35) {
        var n12, a12;
        let t36 = [...e13];
        n12 = t36[0], a12 = t36[t36.length - 1], n12[0] === a12[0] && n12[1] === a12[1] || t36.push([t36[0][0], t36[0][1]]), t36.length > 2 && i12.push(t36);
      }
      let o11 = [];
      e12 = Math.max(e12, 0.1);
      let s11 = [];
      for (let t36 of i12) for (let e13 = 0; e13 < t36.length - 1; e13++) {
        let r13 = t36[e13], i13 = t36[e13 + 1];
        if (r13[1] !== i13[1]) {
          let t37 = Math.min(r13[1], i13[1]);
          s11.push({ ymin: t37, ymax: Math.max(r13[1], i13[1]), x: t37 === r13[1] ? r13[0] : i13[0], islope: (i13[0] - r13[0]) / (i13[1] - r13[1]) });
        }
      }
      if (s11.sort((t36, e13) => t36.ymin < e13.ymin ? -1 : t36.ymin > e13.ymin ? 1 : t36.x < e13.x ? -1 : t36.x > e13.x ? 1 : t36.ymax === e13.ymax ? 0 : (t36.ymax - e13.ymax) / Math.abs(t36.ymax - e13.ymax)), !s11.length) return o11;
      let l10 = [], h10 = s11[0].ymin, u10 = 0;
      for (; l10.length || s11.length; ) {
        if (s11.length) {
          let t36 = -1;
          for (let e13 = 0; e13 < s11.length && !(s11[e13].ymin > h10); e13++) t36 = e13;
          s11.splice(0, t36 + 1).forEach((t37) => {
            l10.push({ s: h10, edge: t37 });
          });
        }
        if ((l10 = l10.filter((t36) => !(t36.edge.ymax <= h10))).sort((t36, e13) => t36.edge.x === e13.edge.x ? 0 : (t36.edge.x - e13.edge.x) / Math.abs(t36.edge.x - e13.edge.x)), (1 !== r12 || u10 % e12 == 0) && l10.length > 1) for (let t36 = 0; t36 < l10.length; t36 += 2) {
          let e13 = t36 + 1;
          if (e13 >= l10.length) break;
          let r13 = l10[t36].edge, i13 = l10[e13].edge;
          o11.push([[Math.round(r13.x), h10], [Math.round(i13.x), h10]]);
        }
        h10 += r12, l10.forEach((t36) => {
          t36.edge.x = t36.edge.x + r12 * t36.edge.islope;
        }), u10++;
      }
      return o11;
    }(a11, n11, i11);
    if (r11) {
      for (let t35 of a11) fj(t35, o10, -r11);
      !function(t35, e12, r12) {
        let i12 = [];
        t35.forEach((t36) => i12.push(...t36)), fj(i12, e12, r12);
      }(s10, o10, -r11);
    }
    return s10;
  }(t33, n10, i10, a10 || 1);
}
class fV {
  constructor(t33) {
    this.helper = t33;
  }
  fillPolygons(t33, e10) {
    return this._fillPolygons(t33, e10);
  }
  _fillPolygons(t33, e10) {
    let r10 = fW(t33, e10);
    return { type: "fillSketch", ops: this.renderLines(r10, e10) };
  }
  renderLines(t33, e10) {
    let r10 = [];
    for (let i10 of t33) r10.push(...this.helper.doubleLineOps(i10[0][0], i10[0][1], i10[1][0], i10[1][1], e10));
    return r10;
  }
}
function fX(t33) {
  let e10 = t33[0], r10 = t33[1];
  return Math.sqrt(Math.pow(e10[0] - r10[0], 2) + Math.pow(e10[1] - r10[1], 2));
}
class fK extends fV {
  fillPolygons(t33, e10) {
    let r10 = e10.hachureGap;
    r10 < 0 && (r10 = 4 * e10.strokeWidth);
    let i10 = fW(t33, Object.assign({}, e10, { hachureGap: r10 = Math.max(r10, 0.1) })), n10 = Math.PI / 180 * e10.hachureAngle, a10 = [], o10 = 0.5 * r10 * Math.cos(n10), s10 = 0.5 * r10 * Math.sin(n10);
    for (let [t34, e11] of i10) fX([t34, e11]) && a10.push([[t34[0] - o10, t34[1] + s10], [...e11]], [[t34[0] + o10, t34[1] - s10], [...e11]]);
    return { type: "fillSketch", ops: this.renderLines(a10, e10) };
  }
}
class fZ extends fV {
  fillPolygons(t33, e10) {
    let r10 = this._fillPolygons(t33, e10), i10 = Object.assign({}, e10, { hachureAngle: e10.hachureAngle + 90 }), n10 = this._fillPolygons(t33, i10);
    return r10.ops = r10.ops.concat(n10.ops), r10;
  }
}
let fQ = class {
  constructor(t33) {
    this.helper = t33;
  }
  fillPolygons(t33, e10) {
    let r10 = fW(t33, e10 = Object.assign({}, e10, { hachureAngle: 0 }));
    return this.dotsOnLines(r10, e10);
  }
  dotsOnLines(t33, e10) {
    let r10 = [], i10 = e10.hachureGap;
    i10 < 0 && (i10 = 4 * e10.strokeWidth), i10 = Math.max(i10, 0.1);
    let n10 = e10.fillWeight;
    n10 < 0 && (n10 = e10.strokeWidth / 2);
    let a10 = i10 / 4;
    for (let o10 of t33) {
      let t34 = fX(o10), s10 = Math.ceil(t34 / i10) - 1, l10 = t34 - s10 * i10, h10 = (o10[0][0] + o10[1][0]) / 2 - i10 / 4, u10 = Math.min(o10[0][1], o10[1][1]);
      for (let t35 = 0; t35 < s10; t35++) {
        let o11 = h10 - a10 + 2 * Math.random() * a10, s11 = u10 + l10 + t35 * i10 - a10 + 2 * Math.random() * a10, d10 = this.helper.ellipse(o11, s11, n10, n10, e10);
        r10.push(...d10.ops);
      }
    }
    return { type: "fillSketch", ops: r10 };
  }
}, fJ = class {
  constructor(t33) {
    this.helper = t33;
  }
  fillPolygons(t33, e10) {
    let r10 = fW(t33, e10);
    return { type: "fillSketch", ops: this.dashedLine(r10, e10) };
  }
  dashedLine(t33, e10) {
    let r10 = e10.dashOffset < 0 ? e10.hachureGap < 0 ? 4 * e10.strokeWidth : e10.hachureGap : e10.dashOffset, i10 = e10.dashGap < 0 ? e10.hachureGap < 0 ? 4 * e10.strokeWidth : e10.hachureGap : e10.dashGap, n10 = [];
    return t33.forEach((t34) => {
      let a10 = fX(t34), o10 = Math.floor(a10 / (r10 + i10)), s10 = (a10 + i10 - o10 * (r10 + i10)) / 2, l10 = t34[0], h10 = t34[1];
      l10[0] > h10[0] && (l10 = t34[1], h10 = t34[0]);
      let u10 = Math.atan((h10[1] - l10[1]) / (h10[0] - l10[0]));
      for (let t35 = 0; t35 < o10; t35++) {
        let a11 = t35 * (r10 + i10), o11 = a11 + r10, h11 = [l10[0] + a11 * Math.cos(u10) + s10 * Math.cos(u10), l10[1] + a11 * Math.sin(u10) + s10 * Math.sin(u10)], d10 = [l10[0] + o11 * Math.cos(u10) + s10 * Math.cos(u10), l10[1] + o11 * Math.sin(u10) + s10 * Math.sin(u10)];
        n10.push(...this.helper.doubleLineOps(h11[0], h11[1], d10[0], d10[1], e10));
      }
    }), n10;
  }
};
class f0 {
  constructor(t33) {
    this.helper = t33;
  }
  fillPolygons(t33, e10) {
    let r10 = e10.hachureGap < 0 ? 4 * e10.strokeWidth : e10.hachureGap, i10 = e10.zigzagOffset < 0 ? r10 : e10.zigzagOffset, n10 = fW(t33, e10 = Object.assign({}, e10, { hachureGap: r10 + i10 }));
    return { type: "fillSketch", ops: this.zigzagLines(n10, i10, e10) };
  }
  zigzagLines(t33, e10, r10) {
    let i10 = [];
    return t33.forEach((t34) => {
      let n10 = Math.round(fX(t34) / (2 * e10)), a10 = t34[0], o10 = t34[1];
      a10[0] > o10[0] && (a10 = t34[1], o10 = t34[0]);
      let s10 = Math.atan((o10[1] - a10[1]) / (o10[0] - a10[0]));
      for (let t35 = 0; t35 < n10; t35++) {
        let n11 = 2 * t35 * e10, o11 = 2 * (t35 + 1) * e10, l10 = Math.sqrt(2 * Math.pow(e10, 2)), h10 = [a10[0] + n11 * Math.cos(s10), a10[1] + n11 * Math.sin(s10)], u10 = [a10[0] + o11 * Math.cos(s10), a10[1] + o11 * Math.sin(s10)], d10 = [h10[0] + l10 * Math.cos(s10 + Math.PI / 4), h10[1] + l10 * Math.sin(s10 + Math.PI / 4)];
        i10.push(...this.helper.doubleLineOps(h10[0], h10[1], d10[0], d10[1], r10), ...this.helper.doubleLineOps(d10[0], d10[1], u10[0], u10[1], r10));
      }
    }), i10;
  }
}
let f1 = {}, f2 = class {
  constructor(t33) {
    this.seed = t33;
  }
  next() {
    return this.seed ? (2147483648 - 1 & (this.seed = Math.imul(48271, this.seed))) / 2147483648 : Math.random();
  }
}, f4 = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };
function f5(t33) {
  let e10 = [], r10 = function(t34) {
    let e11 = [];
    for (; "" !== t34; ) if (t34.match(/^([ \t\r\n,]+)/)) t34 = t34.substr(RegExp.$1.length);
    else if (t34.match(/^([aAcChHlLmMqQsStTvVzZ])/)) e11[e11.length] = { type: 0, text: RegExp.$1 }, t34 = t34.substr(RegExp.$1.length);
    else {
      if (!t34.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)) return [];
      e11[e11.length] = { type: 1, text: `${parseFloat(RegExp.$1)}` }, t34 = t34.substr(RegExp.$1.length);
    }
    return e11[e11.length] = { type: 2, text: "" }, e11;
  }(t33), i10 = "BOD", n10 = 0, a10 = r10[0];
  for (; 2 !== a10.type; ) {
    let o10 = 0, s10 = [];
    if ("BOD" === i10) {
      if ("M" !== a10.text && "m" !== a10.text) return f5("M0,0" + t33);
      n10++, o10 = f4[a10.text], i10 = a10.text;
    } else 1 === a10.type ? o10 = f4[i10] : (n10++, o10 = f4[a10.text], i10 = a10.text);
    if (!(n10 + o10 < r10.length)) throw Error("Path data ended short");
    for (let t34 = n10; t34 < n10 + o10; t34++) {
      let e11 = r10[t34];
      if (1 !== e11.type) throw Error("Param not a number: " + i10 + "," + e11.text);
      s10[s10.length] = +e11.text;
    }
    if ("number" != typeof f4[i10]) throw Error("Bad segment: " + i10);
    {
      let t34 = { key: i10, data: s10 };
      e10.push(t34), n10 += o10, a10 = r10[n10], "M" === i10 && (i10 = "L"), "m" === i10 && (i10 = "l");
    }
  }
  return e10;
}
function f3(t33) {
  let e10 = 0, r10 = 0, i10 = 0, n10 = 0, a10 = [];
  for (let { key: o10, data: s10 } of t33) switch (o10) {
    case "M":
      a10.push({ key: "M", data: [...s10] }), [e10, r10] = s10, [i10, n10] = s10;
      break;
    case "m":
      e10 += s10[0], r10 += s10[1], a10.push({ key: "M", data: [e10, r10] }), i10 = e10, n10 = r10;
      break;
    case "L":
      a10.push({ key: "L", data: [...s10] }), [e10, r10] = s10;
      break;
    case "l":
      e10 += s10[0], r10 += s10[1], a10.push({ key: "L", data: [e10, r10] });
      break;
    case "C":
      a10.push({ key: "C", data: [...s10] }), e10 = s10[4], r10 = s10[5];
      break;
    case "c": {
      let t34 = s10.map((t35, i11) => i11 % 2 ? t35 + r10 : t35 + e10);
      a10.push({ key: "C", data: t34 }), e10 = t34[4], r10 = t34[5];
      break;
    }
    case "Q":
      a10.push({ key: "Q", data: [...s10] }), e10 = s10[2], r10 = s10[3];
      break;
    case "q": {
      let t34 = s10.map((t35, i11) => i11 % 2 ? t35 + r10 : t35 + e10);
      a10.push({ key: "Q", data: t34 }), e10 = t34[2], r10 = t34[3];
      break;
    }
    case "A":
      a10.push({ key: "A", data: [...s10] }), e10 = s10[5], r10 = s10[6];
      break;
    case "a":
      e10 += s10[5], r10 += s10[6], a10.push({ key: "A", data: [s10[0], s10[1], s10[2], s10[3], s10[4], e10, r10] });
      break;
    case "H":
      a10.push({ key: "H", data: [...s10] }), e10 = s10[0];
      break;
    case "h":
      e10 += s10[0], a10.push({ key: "H", data: [e10] });
      break;
    case "V":
      a10.push({ key: "V", data: [...s10] }), r10 = s10[0];
      break;
    case "v":
      r10 += s10[0], a10.push({ key: "V", data: [r10] });
      break;
    case "S":
      a10.push({ key: "S", data: [...s10] }), e10 = s10[2], r10 = s10[3];
      break;
    case "s": {
      let t34 = s10.map((t35, i11) => i11 % 2 ? t35 + r10 : t35 + e10);
      a10.push({ key: "S", data: t34 }), e10 = t34[2], r10 = t34[3];
      break;
    }
    case "T":
      a10.push({ key: "T", data: [...s10] }), e10 = s10[0], r10 = s10[1];
      break;
    case "t":
      e10 += s10[0], r10 += s10[1], a10.push({ key: "T", data: [e10, r10] });
      break;
    case "Z":
    case "z":
      a10.push({ key: "Z", data: [] }), e10 = i10, r10 = n10;
  }
  return a10;
}
function f6(t33) {
  let e10 = [], r10 = "", i10 = 0, n10 = 0, a10 = 0, o10 = 0, s10 = 0, l10 = 0;
  for (let { key: h10, data: u10 } of t33) {
    switch (h10) {
      case "M":
        e10.push({ key: "M", data: [...u10] }), [i10, n10] = u10, [a10, o10] = u10;
        break;
      case "C":
        e10.push({ key: "C", data: [...u10] }), i10 = u10[4], n10 = u10[5], s10 = u10[2], l10 = u10[3];
        break;
      case "L":
        e10.push({ key: "L", data: [...u10] }), [i10, n10] = u10;
        break;
      case "H":
        i10 = u10[0], e10.push({ key: "L", data: [i10, n10] });
        break;
      case "V":
        n10 = u10[0], e10.push({ key: "L", data: [i10, n10] });
        break;
      case "S": {
        let t34 = 0, a11 = 0;
        "C" === r10 || "S" === r10 ? (t34 = i10 + (i10 - s10), a11 = n10 + (n10 - l10)) : (t34 = i10, a11 = n10), e10.push({ key: "C", data: [t34, a11, ...u10] }), s10 = u10[0], l10 = u10[1], i10 = u10[2], n10 = u10[3];
        break;
      }
      case "T": {
        let [t34, a11] = u10, o11 = 0, h11 = 0;
        "Q" === r10 || "T" === r10 ? (o11 = i10 + (i10 - s10), h11 = n10 + (n10 - l10)) : (o11 = i10, h11 = n10);
        let d10 = i10 + 2 * (o11 - i10) / 3, p10 = n10 + 2 * (h11 - n10) / 3, g10 = t34 + 2 * (o11 - t34) / 3, f10 = a11 + 2 * (h11 - a11) / 3;
        e10.push({ key: "C", data: [d10, p10, g10, f10, t34, a11] }), s10 = o11, l10 = h11, i10 = t34, n10 = a11;
        break;
      }
      case "Q": {
        let [t34, r11, a11, o11] = u10, h11 = i10 + 2 * (t34 - i10) / 3, d10 = n10 + 2 * (r11 - n10) / 3, p10 = a11 + 2 * (t34 - a11) / 3, g10 = o11 + 2 * (r11 - o11) / 3;
        e10.push({ key: "C", data: [h11, d10, p10, g10, a11, o11] }), s10 = t34, l10 = r11, i10 = a11, n10 = o11;
        break;
      }
      case "A": {
        let t34 = Math.abs(u10[0]), r11 = Math.abs(u10[1]), a11 = u10[2], o11 = u10[3], s11 = u10[4], l11 = u10[5], h11 = u10[6];
        0 === t34 || 0 === r11 ? (e10.push({ key: "C", data: [i10, n10, l11, h11, l11, h11] }), i10 = l11, n10 = h11) : (i10 !== l11 || n10 !== h11) && (function t35(e11, r12, i11, n11, a12, o12, s12, l12, h12, u11) {
          let d10 = Math.PI * s12 / 180, p10 = [], g10 = 0, f10 = 0, y10 = 0, v10 = 0;
          if (u11) [g10, f10, y10, v10] = u11;
          else {
            [e11, r12] = f7(e11, r12, -d10), [i11, n11] = f7(i11, n11, -d10);
            let t36 = (e11 - i11) / 2, s13 = (r12 - n11) / 2, u12 = t36 * t36 / (a12 * a12) + s13 * s13 / (o12 * o12);
            u12 > 1 && (a12 *= u12 = Math.sqrt(u12), o12 *= u12);
            let p11 = a12 * a12, x11 = o12 * o12, b11 = (l12 === h12 ? -1 : 1) * Math.sqrt(Math.abs((p11 * x11 - p11 * s13 * s13 - x11 * t36 * t36) / (p11 * s13 * s13 + x11 * t36 * t36)));
            y10 = b11 * a12 * s13 / o12 + (e11 + i11) / 2, v10 = -(b11 * o12) * t36 / a12 + (r12 + n11) / 2, g10 = Math.asin(parseFloat(((r12 - v10) / o12).toFixed(9))), f10 = Math.asin(parseFloat(((n11 - v10) / o12).toFixed(9))), e11 < y10 && (g10 = Math.PI - g10), i11 < y10 && (f10 = Math.PI - f10), g10 < 0 && (g10 = 2 * Math.PI + g10), f10 < 0 && (f10 = 2 * Math.PI + f10), h12 && g10 > f10 && (g10 -= 2 * Math.PI), !h12 && f10 > g10 && (f10 -= 2 * Math.PI);
          }
          let x10 = f10 - g10;
          if (Math.abs(x10) > 120 * Math.PI / 180) {
            let e12 = f10, r13 = i11, l13 = n11;
            p10 = t35(i11 = y10 + a12 * Math.cos(f10 = h12 && f10 > g10 ? g10 + 120 * Math.PI / 180 * 1 : g10 + -(120 * Math.PI / 180 * 1)), n11 = v10 + o12 * Math.sin(f10), r13, l13, a12, o12, s12, 0, h12, [f10, e12, y10, v10]);
          }
          x10 = f10 - g10;
          let b10 = Math.cos(g10), w10 = Math.cos(f10), k10 = Math.tan(x10 / 4), _10 = 4 / 3 * a12 * k10, T10 = 4 / 3 * o12 * k10, E10 = [e11, r12], C10 = [e11 + _10 * Math.sin(g10), r12 - T10 * b10], S10 = [i11 + _10 * Math.sin(f10), n11 - T10 * w10], A10 = [i11, n11];
          if (C10[0] = 2 * E10[0] - C10[0], C10[1] = 2 * E10[1] - C10[1], u11) return [C10, S10, A10].concat(p10);
          {
            p10 = [C10, S10, A10].concat(p10);
            let t36 = [];
            for (let e12 = 0; e12 < p10.length; e12 += 3) {
              let r13 = f7(p10[e12][0], p10[e12][1], d10), i12 = f7(p10[e12 + 1][0], p10[e12 + 1][1], d10), n12 = f7(p10[e12 + 2][0], p10[e12 + 2][1], d10);
              t36.push([r13[0], r13[1], i12[0], i12[1], n12[0], n12[1]]);
            }
            return t36;
          }
        }(i10, n10, l11, h11, t34, r11, a11, o11, s11).forEach(function(t35) {
          e10.push({ key: "C", data: t35 });
        }), i10 = l11, n10 = h11);
        break;
      }
      case "Z":
        e10.push({ key: "Z", data: [] }), i10 = a10, n10 = o10;
    }
    r10 = h10;
  }
  return e10;
}
function f7(t33, e10, r10) {
  return [t33 * Math.cos(r10) - e10 * Math.sin(r10), t33 * Math.sin(r10) + e10 * Math.cos(r10)];
}
let f8 = { randOffset: function(t33, e10) {
  return mu(t33, e10);
}, randOffsetWithRange: function(t33, e10, r10) {
  return mc(t33, e10, r10);
}, ellipse: function(t33, e10, r10, i10, n10) {
  let a10 = mr(r10, i10, n10);
  return mi(t33, e10, n10, a10).opset;
}, doubleLineOps: function(t33, e10, r10, i10, n10) {
  return md(t33, e10, r10, i10, n10, true);
} };
function f9(t33, e10, r10, i10, n10) {
  return { type: "path", ops: md(t33, e10, r10, i10, n10) };
}
function mt(t33, e10, r10) {
  let i10 = (t33 || []).length;
  if (i10 > 2) {
    let n10 = [];
    for (let e11 = 0; e11 < i10 - 1; e11++) n10.push(...md(t33[e11][0], t33[e11][1], t33[e11 + 1][0], t33[e11 + 1][1], r10));
    return e10 && n10.push(...md(t33[i10 - 1][0], t33[i10 - 1][1], t33[0][0], t33[0][1], r10)), { type: "path", ops: n10 };
  }
  return 2 === i10 ? f9(t33[0][0], t33[0][1], t33[1][0], t33[1][1], r10) : { type: "path", ops: [] };
}
function me(t33, e10) {
  if (t33.length) {
    let r10 = "number" == typeof t33[0][0] ? [t33] : t33, i10 = mg(r10[0], 1 * (1 + 0.2 * e10.roughness), e10), n10 = e10.disableMultiStroke ? [] : mg(r10[0], 1.5 * (1 + 0.22 * e10.roughness), ml(e10));
    for (let t34 = 1; t34 < r10.length; t34++) {
      let a10 = r10[t34];
      if (a10.length) {
        let t35 = mg(a10, 1 * (1 + 0.2 * e10.roughness), e10), r11 = e10.disableMultiStroke ? [] : mg(a10, 1.5 * (1 + 0.22 * e10.roughness), ml(e10));
        for (let e11 of t35) "move" !== e11.op && i10.push(e11);
        for (let t36 of r11) "move" !== t36.op && n10.push(t36);
      }
    }
    return { type: "path", ops: i10.concat(n10) };
  }
  return { type: "path", ops: [] };
}
function mr(t33, e10, r10) {
  let i10 = Math.sqrt(2 * Math.PI * Math.sqrt((Math.pow(t33 / 2, 2) + Math.pow(e10 / 2, 2)) / 2)), n10 = 2 * Math.PI / Math.ceil(Math.max(r10.curveStepCount, r10.curveStepCount / Math.sqrt(200) * i10)), a10 = Math.abs(t33 / 2), o10 = Math.abs(e10 / 2), s10 = 1 - r10.curveFitting;
  return a10 += mu(a10 * s10, r10), o10 += mu(o10 * s10, r10), { increment: n10, rx: a10, ry: o10 };
}
function mi(t33, e10, r10, i10) {
  let [n10, a10] = mm(i10.increment, t33, e10, i10.rx, i10.ry, 1, i10.increment * mc(0.1, mc(0.4, 1, r10), r10), r10), o10 = mf(n10, null, r10);
  if (!r10.disableMultiStroke && 0 !== r10.roughness) {
    let [n11] = mm(i10.increment, t33, e10, i10.rx, i10.ry, 1.5, 0, r10), a11 = mf(n11, null, r10);
    o10 = o10.concat(a11);
  }
  return { estimatedPoints: a10, opset: { type: "path", ops: o10 } };
}
function mn(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  let h10 = Math.abs(r10 / 2), u10 = Math.abs(i10 / 2);
  h10 += mu(0.01 * h10, l10), u10 += mu(0.01 * u10, l10);
  let d10 = n10, p10 = a10;
  for (; d10 < 0; ) d10 += 2 * Math.PI, p10 += 2 * Math.PI;
  p10 - d10 > 2 * Math.PI && (d10 = 0, p10 = 2 * Math.PI);
  let g10 = Math.min(2 * Math.PI / l10.curveStepCount / 2, (p10 - d10) / 2), f10 = my(g10, t33, e10, h10, u10, d10, p10, 1, l10);
  if (!l10.disableMultiStroke) {
    let r11 = my(g10, t33, e10, h10, u10, d10, p10, 1.5, l10);
    f10.push(...r11);
  }
  return o10 && (s10 ? f10.push(...md(t33, e10, t33 + h10 * Math.cos(d10), e10 + u10 * Math.sin(d10), l10), ...md(t33, e10, t33 + h10 * Math.cos(p10), e10 + u10 * Math.sin(p10), l10)) : f10.push({ op: "lineTo", data: [t33, e10] }, { op: "lineTo", data: [t33 + h10 * Math.cos(d10), e10 + u10 * Math.sin(d10)] })), { type: "path", ops: f10 };
}
function ma(t33, e10) {
  let r10 = f6(f3(f5(t33))), i10 = [], n10 = [0, 0], a10 = [0, 0];
  for (let { key: t34, data: o10 } of r10) switch (t34) {
    case "M":
      a10 = [o10[0], o10[1]], n10 = [o10[0], o10[1]];
      break;
    case "L":
      i10.push(...md(a10[0], a10[1], o10[0], o10[1], e10)), a10 = [o10[0], o10[1]];
      break;
    case "C": {
      let [t35, r11, n11, s10, l10, h10] = o10;
      i10.push(...function(t36, e11, r12, i11, n12, a11, o11, s11) {
        let l11 = [], h11 = [s11.maxRandomnessOffset || 1, (s11.maxRandomnessOffset || 1) + 0.3], u10 = [0, 0], d10 = s11.disableMultiStroke ? 1 : 2, p10 = s11.preserveVertices;
        for (let g10 = 0; g10 < d10; g10++) 0 === g10 ? l11.push({ op: "move", data: [o11[0], o11[1]] }) : l11.push({ op: "move", data: [o11[0] + (p10 ? 0 : mu(h11[0], s11)), o11[1] + (p10 ? 0 : mu(h11[0], s11))] }), u10 = p10 ? [n12, a11] : [n12 + mu(h11[g10], s11), a11 + mu(h11[g10], s11)], l11.push({ op: "bcurveTo", data: [t36 + mu(h11[g10], s11), e11 + mu(h11[g10], s11), r12 + mu(h11[g10], s11), i11 + mu(h11[g10], s11), u10[0], u10[1]] });
        return l11;
      }(t35, r11, n11, s10, l10, h10, a10, e10)), a10 = [l10, h10];
      break;
    }
    case "Z":
      i10.push(...md(a10[0], a10[1], n10[0], n10[1], e10)), a10 = [n10[0], n10[1]];
  }
  return { type: "path", ops: i10 };
}
function mo(t33, e10) {
  let r10 = [];
  for (let i10 of t33) if (i10.length) {
    let t34 = e10.maxRandomnessOffset || 0, n10 = i10.length;
    if (n10 > 2) {
      r10.push({ op: "move", data: [i10[0][0] + mu(t34, e10), i10[0][1] + mu(t34, e10)] });
      for (let a10 = 1; a10 < n10; a10++) r10.push({ op: "lineTo", data: [i10[a10][0] + mu(t34, e10), i10[a10][1] + mu(t34, e10)] });
    }
  }
  return { type: "fillPath", ops: r10 };
}
function ms(t33, e10) {
  return function(t34, e11) {
    let r10 = t34.fillStyle || "hachure";
    if (!f1[r10]) switch (r10) {
      case "zigzag":
        f1[r10] || (f1[r10] = new fK(e11));
        break;
      case "cross-hatch":
        f1[r10] || (f1[r10] = new fZ(e11));
        break;
      case "dots":
        f1[r10] || (f1[r10] = new fQ(e11));
        break;
      case "dashed":
        f1[r10] || (f1[r10] = new fJ(e11));
        break;
      case "zigzag-line":
        f1[r10] || (f1[r10] = new f0(e11));
        break;
      default:
        f1[r10 = "hachure"] || (f1[r10] = new fV(e11));
    }
    return f1[r10];
  }(e10, f8).fillPolygons(t33, e10);
}
function ml(t33) {
  let e10 = Object.assign({}, t33);
  return e10.randomizer = void 0, t33.seed && (e10.seed = t33.seed + 1), e10;
}
function mh(t33) {
  return t33.randomizer || (t33.randomizer = new f2(t33.seed || 0)), t33.randomizer.next();
}
function mc(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
  return r10.roughness * i10 * (mh(r10) * (e10 - t33) + t33);
}
function mu(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
  return mc(-t33, t33, e10, r10);
}
function md(t33, e10, r10, i10, n10) {
  let a10 = arguments.length > 5 && void 0 !== arguments[5] && arguments[5], o10 = a10 ? n10.disableMultiStrokeFill : n10.disableMultiStroke, s10 = mp(t33, e10, r10, i10, n10, true, false);
  if (o10) return s10;
  let l10 = mp(t33, e10, r10, i10, n10, true, true);
  return s10.concat(l10);
}
function mp(t33, e10, r10, i10, n10, a10, o10) {
  let s10 = Math.pow(t33 - r10, 2) + Math.pow(e10 - i10, 2), l10 = Math.sqrt(s10), h10 = 1;
  h10 = l10 < 200 ? 1 : l10 > 500 ? 0.4 : -16668e-7 * l10 + 1.233334;
  let u10 = n10.maxRandomnessOffset || 0;
  u10 * u10 * 100 > s10 && (u10 = l10 / 10);
  let d10 = u10 / 2, p10 = 0.2 + 0.2 * mh(n10), g10 = n10.bowing * n10.maxRandomnessOffset * (i10 - e10) / 200, f10 = n10.bowing * n10.maxRandomnessOffset * (t33 - r10) / 200;
  g10 = mu(g10, n10, h10), f10 = mu(f10, n10, h10);
  let y10 = [], v10 = () => mu(d10, n10, h10), x10 = () => mu(u10, n10, h10), b10 = n10.preserveVertices;
  return o10 ? y10.push({ op: "move", data: [t33 + (b10 ? 0 : v10()), e10 + (b10 ? 0 : v10())] }) : y10.push({ op: "move", data: [t33 + (b10 ? 0 : mu(u10, n10, h10)), e10 + (b10 ? 0 : mu(u10, n10, h10))] }), o10 ? y10.push({ op: "bcurveTo", data: [g10 + t33 + (r10 - t33) * p10 + v10(), f10 + e10 + (i10 - e10) * p10 + v10(), g10 + t33 + 2 * (r10 - t33) * p10 + v10(), f10 + e10 + 2 * (i10 - e10) * p10 + v10(), r10 + (b10 ? 0 : v10()), i10 + (b10 ? 0 : v10())] }) : y10.push({ op: "bcurveTo", data: [g10 + t33 + (r10 - t33) * p10 + x10(), f10 + e10 + (i10 - e10) * p10 + x10(), g10 + t33 + 2 * (r10 - t33) * p10 + x10(), f10 + e10 + 2 * (i10 - e10) * p10 + x10(), r10 + (b10 ? 0 : x10()), i10 + (b10 ? 0 : x10())] }), y10;
}
function mg(t33, e10, r10) {
  if (!t33.length) return [];
  let i10 = [];
  i10.push([t33[0][0] + mu(e10, r10), t33[0][1] + mu(e10, r10)]), i10.push([t33[0][0] + mu(e10, r10), t33[0][1] + mu(e10, r10)]);
  for (let n10 = 1; n10 < t33.length; n10++) i10.push([t33[n10][0] + mu(e10, r10), t33[n10][1] + mu(e10, r10)]), n10 === t33.length - 1 && i10.push([t33[n10][0] + mu(e10, r10), t33[n10][1] + mu(e10, r10)]);
  return mf(i10, null, r10);
}
function mf(t33, e10, r10) {
  let i10 = t33.length, n10 = [];
  if (i10 > 3) {
    let e11 = [], a10 = 1 - r10.curveTightness;
    n10.push({ op: "move", data: [t33[1][0], t33[1][1]] });
    for (let r11 = 1; r11 + 2 < i10; r11++) {
      let i11 = t33[r11];
      e11[0] = [i11[0], i11[1]], e11[1] = [i11[0] + (a10 * t33[r11 + 1][0] - a10 * t33[r11 - 1][0]) / 6, i11[1] + (a10 * t33[r11 + 1][1] - a10 * t33[r11 - 1][1]) / 6], e11[2] = [t33[r11 + 1][0] + (a10 * t33[r11][0] - a10 * t33[r11 + 2][0]) / 6, t33[r11 + 1][1] + (a10 * t33[r11][1] - a10 * t33[r11 + 2][1]) / 6], e11[3] = [t33[r11 + 1][0], t33[r11 + 1][1]], n10.push({ op: "bcurveTo", data: [e11[1][0], e11[1][1], e11[2][0], e11[2][1], e11[3][0], e11[3][1]] });
    }
  } else 3 === i10 ? (n10.push({ op: "move", data: [t33[1][0], t33[1][1]] }), n10.push({ op: "bcurveTo", data: [t33[1][0], t33[1][1], t33[2][0], t33[2][1], t33[2][0], t33[2][1]] })) : 2 === i10 && n10.push(...mp(t33[0][0], t33[0][1], t33[1][0], t33[1][1], r10, true, true));
  return n10;
}
function mm(t33, e10, r10, i10, n10, a10, o10, s10) {
  let l10 = [], h10 = [];
  if (0 === s10.roughness) {
    t33 /= 4, h10.push([e10 + i10 * Math.cos(-t33), r10 + n10 * Math.sin(-t33)]);
    for (let a11 = 0; a11 <= 2 * Math.PI; a11 += t33) {
      let t34 = [e10 + i10 * Math.cos(a11), r10 + n10 * Math.sin(a11)];
      l10.push(t34), h10.push(t34);
    }
    h10.push([e10 + 1 * i10, r10 + 0 * n10]), h10.push([e10 + i10 * Math.cos(t33), r10 + n10 * Math.sin(t33)]);
  } else {
    let u10 = mu(0.5, s10) - Math.PI / 2;
    h10.push([mu(a10, s10) + e10 + 0.9 * i10 * Math.cos(u10 - t33), mu(a10, s10) + r10 + 0.9 * n10 * Math.sin(u10 - t33)]);
    let d10 = 2 * Math.PI + u10 - 0.01;
    for (let o11 = u10; o11 < d10; o11 += t33) {
      let t34 = [mu(a10, s10) + e10 + i10 * Math.cos(o11), mu(a10, s10) + r10 + n10 * Math.sin(o11)];
      l10.push(t34), h10.push(t34);
    }
    h10.push([mu(a10, s10) + e10 + i10 * Math.cos(u10 + 2 * Math.PI + 0.5 * o10), mu(a10, s10) + r10 + n10 * Math.sin(u10 + 2 * Math.PI + 0.5 * o10)]), h10.push([mu(a10, s10) + e10 + 0.98 * i10 * Math.cos(u10 + o10), mu(a10, s10) + r10 + 0.98 * n10 * Math.sin(u10 + o10)]), h10.push([mu(a10, s10) + e10 + 0.9 * i10 * Math.cos(u10 + 0.5 * o10), mu(a10, s10) + r10 + 0.9 * n10 * Math.sin(u10 + 0.5 * o10)]);
  }
  return [h10, l10];
}
function my(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  let h10 = a10 + mu(0.1, l10), u10 = [];
  u10.push([mu(s10, l10) + e10 + 0.9 * i10 * Math.cos(h10 - t33), mu(s10, l10) + r10 + 0.9 * n10 * Math.sin(h10 - t33)]);
  for (let a11 = h10; a11 <= o10; a11 += t33) u10.push([mu(s10, l10) + e10 + i10 * Math.cos(a11), mu(s10, l10) + r10 + n10 * Math.sin(a11)]);
  return u10.push([e10 + i10 * Math.cos(o10), r10 + n10 * Math.sin(o10)]), u10.push([e10 + i10 * Math.cos(o10), r10 + n10 * Math.sin(o10)]), mf(u10, null, l10);
}
function mv(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = t33.length;
  if (r10 < 3) throw Error("A curve must have at least three points.");
  let i10 = [];
  if (3 === r10) i10.push([...t33[0]], [...t33[1]], [...t33[2]], [...t33[2]]);
  else {
    let r11 = [];
    r11.push(t33[0], t33[0]);
    for (let e11 = 1; e11 < t33.length; e11++) r11.push(t33[e11]), e11 === t33.length - 1 && r11.push(t33[e11]);
    let n10 = [], a10 = 1 - e10;
    i10.push([...r11[0]]);
    for (let t34 = 1; t34 + 2 < r11.length; t34++) {
      let e11 = r11[t34];
      n10[0] = [e11[0], e11[1]], n10[1] = [e11[0] + (a10 * r11[t34 + 1][0] - a10 * r11[t34 - 1][0]) / 6, e11[1] + (a10 * r11[t34 + 1][1] - a10 * r11[t34 - 1][1]) / 6], n10[2] = [r11[t34 + 1][0] + (a10 * r11[t34][0] - a10 * r11[t34 + 2][0]) / 6, r11[t34 + 1][1] + (a10 * r11[t34][1] - a10 * r11[t34 + 2][1]) / 6], n10[3] = [r11[t34 + 1][0], r11[t34 + 1][1]], i10.push(n10[1], n10[2], n10[3]);
    }
  }
  return i10;
}
function mx(t33, e10) {
  return Math.pow(t33[0] - e10[0], 2) + Math.pow(t33[1] - e10[1], 2);
}
function mb(t33, e10, r10) {
  return [t33[0] + (e10[0] - t33[0]) * r10, t33[1] + (e10[1] - t33[1]) * r10];
}
function mw(t33, e10, r10, i10, n10) {
  let a10 = n10 || [], o10 = t33[e10], s10 = t33[r10 - 1], l10 = 0, h10 = 1;
  for (let i11 = e10 + 1; i11 < r10 - 1; ++i11) {
    let e11 = function(t34, e12, r11) {
      let i12 = mx(e12, r11);
      if (0 === i12) return mx(t34, e12);
      let n11 = ((t34[0] - e12[0]) * (r11[0] - e12[0]) + (t34[1] - e12[1]) * (r11[1] - e12[1])) / i12;
      return mx(t34, mb(e12, r11, n11 = Math.max(0, Math.min(1, n11))));
    }(t33[i11], o10, s10);
    e11 > l10 && (l10 = e11, h10 = i11);
  }
  return Math.sqrt(l10) > i10 ? (mw(t33, e10, h10 + 1, i10, a10), mw(t33, h10, r10, i10, a10)) : (a10.length || a10.push(o10), a10.push(s10)), a10;
}
function mk(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0.15, r10 = arguments.length > 2 ? arguments[2] : void 0, i10 = [], n10 = (t33.length - 1) / 3;
  for (let r11 = 0; r11 < n10; r11++) !function t34(e11, r12, i11, n11) {
    let a10 = n11 || [];
    if (function(t35, e12) {
      let r13 = t35[e12 + 0], i12 = t35[e12 + 1], n12 = t35[e12 + 2], a11 = t35[e12 + 3], o10 = 3 * i12[0] - 2 * r13[0] - a11[0];
      o10 *= o10;
      let s10 = 3 * i12[1] - 2 * r13[1] - a11[1];
      s10 *= s10;
      let l10 = 3 * n12[0] - 2 * a11[0] - r13[0];
      l10 *= l10;
      let h10 = 3 * n12[1] - 2 * a11[1] - r13[1];
      return h10 *= h10, o10 < l10 && (o10 = l10), s10 < h10 && (s10 = h10), o10 + s10;
    }(e11, r12) < i11) {
      let t35 = e11[r12 + 0];
      a10.length ? Math.sqrt(mx(a10[a10.length - 1], t35)) > 1 && a10.push(t35) : a10.push(t35), a10.push(e11[r12 + 3]);
    } else {
      let n12 = e11[r12 + 0], o10 = e11[r12 + 1], s10 = e11[r12 + 2], l10 = e11[r12 + 3], h10 = mb(n12, o10, 0.5), u10 = mb(o10, s10, 0.5), d10 = mb(s10, l10, 0.5), p10 = mb(h10, u10, 0.5), g10 = mb(u10, d10, 0.5), f10 = mb(p10, g10, 0.5);
      t34([n12, h10, p10, f10], 0, i11, a10), t34([f10, g10, d10, l10], 0, i11, a10);
    }
    return a10;
  }(t33, 3 * r11, e10, i10);
  return r10 && r10 > 0 ? mw(i10, 0, i10.length, r10) : i10;
}
let m_ = "none";
class mT {
  constructor(t33) {
    this.defaultOptions = { maxRandomnessOffset: 2, roughness: 1, bowing: 1, stroke: "#000", strokeWidth: 1, curveTightness: 0, curveFitting: 0.95, curveStepCount: 9, fillStyle: "hachure", fillWeight: -1, hachureAngle: -41, hachureGap: -1, dashOffset: -1, dashGap: -1, zigzagOffset: -1, seed: 0, disableMultiStroke: false, disableMultiStrokeFill: false, preserveVertices: false, fillShapeRoughnessGain: 0.8 }, this.config = t33 || {}, this.config.options && (this.defaultOptions = this._o(this.config.options));
  }
  static newSeed() {
    return Math.floor(2147483648 * Math.random());
  }
  _o(t33) {
    return t33 ? Object.assign({}, this.defaultOptions, t33) : this.defaultOptions;
  }
  _d(t33, e10, r10) {
    return { shape: t33, sets: e10 || [], options: r10 || this.defaultOptions };
  }
  line(t33, e10, r10, i10, n10) {
    let a10 = this._o(n10);
    return this._d("line", [f9(t33, e10, r10, i10, a10)], a10);
  }
  rectangle(t33, e10, r10, i10, n10) {
    let a10 = this._o(n10), o10 = [], s10 = mt([[t33, e10], [t33 + r10, e10], [t33 + r10, e10 + i10], [t33, e10 + i10]], true, a10);
    if (a10.fill) {
      let n11 = [[t33, e10], [t33 + r10, e10], [t33 + r10, e10 + i10], [t33, e10 + i10]];
      "solid" === a10.fillStyle ? o10.push(mo([n11], a10)) : o10.push(ms([n11], a10));
    }
    return a10.stroke !== m_ && o10.push(s10), this._d("rectangle", o10, a10);
  }
  ellipse(t33, e10, r10, i10, n10) {
    let a10 = this._o(n10), o10 = [], s10 = mr(r10, i10, a10), l10 = mi(t33, e10, a10, s10);
    if (a10.fill) {
      if ("solid" === a10.fillStyle) {
        let r11 = mi(t33, e10, a10, s10).opset;
        r11.type = "fillPath", o10.push(r11);
      } else o10.push(ms([l10.estimatedPoints], a10));
    }
    return a10.stroke !== m_ && o10.push(l10.opset), this._d("ellipse", o10, a10);
  }
  circle(t33, e10, r10, i10) {
    let n10 = this.ellipse(t33, e10, r10, r10, i10);
    return n10.shape = "circle", n10;
  }
  linearPath(t33, e10) {
    let r10 = this._o(e10);
    return this._d("linearPath", [mt(t33, false, r10)], r10);
  }
  arc(t33, e10, r10, i10, n10, a10) {
    let o10 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6], s10 = arguments.length > 7 ? arguments[7] : void 0, l10 = this._o(s10), h10 = [], u10 = mn(t33, e10, r10, i10, n10, a10, o10, true, l10);
    if (o10 && l10.fill) {
      if ("solid" === l10.fillStyle) {
        let o11 = Object.assign({}, l10);
        o11.disableMultiStroke = true;
        let s11 = mn(t33, e10, r10, i10, n10, a10, true, false, o11);
        s11.type = "fillPath", h10.push(s11);
      } else h10.push(function(t34, e11, r11, i11, n11, a11, o11) {
        let s11 = Math.abs(r11 / 2), l11 = Math.abs(i11 / 2);
        s11 += mu(0.01 * s11, o11), l11 += mu(0.01 * l11, o11);
        let h11 = n11, u11 = a11;
        for (; h11 < 0; ) h11 += 2 * Math.PI, u11 += 2 * Math.PI;
        u11 - h11 > 2 * Math.PI && (h11 = 0, u11 = 2 * Math.PI);
        let d10 = (u11 - h11) / o11.curveStepCount, p10 = [];
        for (let r12 = h11; r12 <= u11; r12 += d10) p10.push([t34 + s11 * Math.cos(r12), e11 + l11 * Math.sin(r12)]);
        return p10.push([t34 + s11 * Math.cos(u11), e11 + l11 * Math.sin(u11)]), p10.push([t34, e11]), ms([p10], o11);
      }(t33, e10, r10, i10, n10, a10, l10));
    }
    return l10.stroke !== m_ && h10.push(u10), this._d("arc", h10, l10);
  }
  curve(t33, e10) {
    let r10 = this._o(e10), i10 = [], n10 = me(t33, r10);
    if (r10.fill && r10.fill !== m_) {
      if ("solid" === r10.fillStyle) {
        let e11 = me(t33, Object.assign(Object.assign({}, r10), { disableMultiStroke: true, roughness: r10.roughness ? r10.roughness + r10.fillShapeRoughnessGain : 0 }));
        i10.push({ type: "fillPath", ops: this._mergedShape(e11.ops) });
      } else {
        let e11 = [];
        if (t33.length) for (let i11 of "number" == typeof t33[0][0] ? [t33] : t33) i11.length < 3 ? e11.push(...i11) : 3 === i11.length ? e11.push(...mk(mv([i11[0], i11[0], i11[1], i11[2]]), 10, (1 + r10.roughness) / 2)) : e11.push(...mk(mv(i11), 10, (1 + r10.roughness) / 2));
        e11.length && i10.push(ms([e11], r10));
      }
    }
    return r10.stroke !== m_ && i10.push(n10), this._d("curve", i10, r10);
  }
  polygon(t33, e10) {
    let r10 = this._o(e10), i10 = [], n10 = mt(t33, true, r10);
    return r10.fill && ("solid" === r10.fillStyle ? i10.push(mo([t33], r10)) : i10.push(ms([t33], r10))), r10.stroke !== m_ && i10.push(n10), this._d("polygon", i10, r10);
  }
  path(t33, e10) {
    let r10 = this._o(e10), i10 = [];
    if (!t33) return this._d("path", i10, r10);
    t33 = (t33 || "").replace(/\n/g, " ").replace(/(-\s)/g, "-").replace("/(ss)/g", " ");
    let n10 = r10.fill && "transparent" !== r10.fill && r10.fill !== m_, a10 = r10.stroke !== m_, o10 = !!(r10.simplification && r10.simplification < 1), s10 = function(t34, e11, r11) {
      let i11 = f6(f3(f5(t34))), n11 = [], a11 = [], o11 = [0, 0], s11 = [], l11 = () => {
        s11.length >= 4 && a11.push(...mk(s11, 1)), s11 = [];
      }, h10 = () => {
        l11(), a11.length && (n11.push(a11), a11 = []);
      };
      for (let { key: t35, data: e12 } of i11) switch (t35) {
        case "M":
          h10(), o11 = [e12[0], e12[1]], a11.push(o11);
          break;
        case "L":
          l11(), a11.push([e12[0], e12[1]]);
          break;
        case "C":
          if (!s11.length) {
            let t36 = a11.length ? a11[a11.length - 1] : o11;
            s11.push([t36[0], t36[1]]);
          }
          s11.push([e12[0], e12[1]]), s11.push([e12[2], e12[3]]), s11.push([e12[4], e12[5]]);
          break;
        case "Z":
          l11(), a11.push([o11[0], o11[1]]);
      }
      if (h10(), !r11) return n11;
      let u10 = [];
      for (let t35 of n11) {
        let e12 = mw(t35, 0, t35.length, r11);
        e12.length && u10.push(e12);
      }
      return u10;
    }(t33, 0, o10 ? 4 - 4 * (r10.simplification || 1) : (1 + r10.roughness) / 2), l10 = ma(t33, r10);
    if (n10) {
      if ("solid" === r10.fillStyle) {
        if (1 === s10.length) {
          let e11 = ma(t33, Object.assign(Object.assign({}, r10), { disableMultiStroke: true, roughness: r10.roughness ? r10.roughness + r10.fillShapeRoughnessGain : 0 }));
          i10.push({ type: "fillPath", ops: this._mergedShape(e11.ops) });
        } else i10.push(mo(s10, r10));
      } else i10.push(ms(s10, r10));
    }
    return a10 && (o10 ? s10.forEach((t34) => {
      i10.push(mt(t34, false, r10));
    }) : i10.push(l10)), this._d("path", i10, r10);
  }
  opsToPath(t33, e10) {
    let r10 = "";
    for (let i10 of t33.ops) {
      let t34 = "number" == typeof e10 && e10 >= 0 ? i10.data.map((t35) => +t35.toFixed(e10)) : i10.data;
      switch (i10.op) {
        case "move":
          r10 += `M${t34[0]} ${t34[1]} `;
          break;
        case "bcurveTo":
          r10 += `C${t34[0]} ${t34[1]}, ${t34[2]} ${t34[3]}, ${t34[4]} ${t34[5]} `;
          break;
        case "lineTo":
          r10 += `L${t34[0]} ${t34[1]} `;
      }
    }
    return r10.trim();
  }
  toPaths(t33) {
    let e10 = t33.sets || [], r10 = t33.options || this.defaultOptions, i10 = [];
    for (let t34 of e10) {
      let e11 = null;
      switch (t34.type) {
        case "path":
          e11 = { d: this.opsToPath(t34), stroke: r10.stroke, strokeWidth: r10.strokeWidth, fill: m_ };
          break;
        case "fillPath":
          e11 = { d: this.opsToPath(t34), stroke: m_, strokeWidth: 0, fill: r10.fill || m_ };
          break;
        case "fillSketch":
          e11 = this.fillSketch(t34, r10);
      }
      e11 && i10.push(e11);
    }
    return i10;
  }
  fillSketch(t33, e10) {
    let r10 = e10.fillWeight;
    return r10 < 0 && (r10 = e10.strokeWidth / 2), { d: this.opsToPath(t33), stroke: e10.fill || m_, strokeWidth: r10, fill: m_ };
  }
  _mergedShape(t33) {
    return t33.filter((t34, e10) => 0 === e10 || "move" !== t34.op);
  }
}
let mE = "http://www.w3.org/2000/svg";
class mC {
  constructor(t33, e10) {
    this.svg = t33, this.gen = new mT(e10);
  }
  draw(t33) {
    let e10 = t33.sets || [], r10 = t33.options || this.getDefaultOptions(), i10 = this.svg.ownerDocument || window.document, n10 = i10.createElementNS(mE, "g"), a10 = t33.options.fixedDecimalPlaceDigits;
    for (let o10 of e10) {
      let e11 = null;
      switch (o10.type) {
        case "path":
          (e11 = i10.createElementNS(mE, "path")).setAttribute("d", this.opsToPath(o10, a10)), e11.setAttribute("stroke", r10.stroke), e11.setAttribute("stroke-width", r10.strokeWidth + ""), e11.setAttribute("fill", "none"), r10.strokeLineDash && e11.setAttribute("stroke-dasharray", r10.strokeLineDash.join(" ").trim()), r10.strokeLineDashOffset && e11.setAttribute("stroke-dashoffset", `${r10.strokeLineDashOffset}`);
          break;
        case "fillPath":
          (e11 = i10.createElementNS(mE, "path")).setAttribute("d", this.opsToPath(o10, a10)), e11.setAttribute("stroke", "none"), e11.setAttribute("stroke-width", "0"), e11.setAttribute("fill", r10.fill || ""), "curve" !== t33.shape && "polygon" !== t33.shape || e11.setAttribute("fill-rule", "evenodd");
          break;
        case "fillSketch":
          e11 = this.fillSketch(i10, o10, r10);
      }
      e11 && n10.appendChild(e11);
    }
    return n10;
  }
  fillSketch(t33, e10, r10) {
    let i10 = r10.fillWeight;
    i10 < 0 && (i10 = r10.strokeWidth / 2);
    let n10 = t33.createElementNS(mE, "path");
    return n10.setAttribute("d", this.opsToPath(e10, r10.fixedDecimalPlaceDigits)), n10.setAttribute("stroke", r10.fill || ""), n10.setAttribute("stroke-width", i10 + ""), n10.setAttribute("fill", "none"), r10.fillLineDash && n10.setAttribute("stroke-dasharray", r10.fillLineDash.join(" ").trim()), r10.fillLineDashOffset && n10.setAttribute("stroke-dashoffset", `${r10.fillLineDashOffset}`), n10;
  }
  get generator() {
    return this.gen;
  }
  getDefaultOptions() {
    return this.gen.defaultOptions;
  }
  opsToPath(t33, e10) {
    return this.gen.opsToPath(t33, e10);
  }
  line(t33, e10, r10, i10, n10) {
    let a10 = this.gen.line(t33, e10, r10, i10, n10);
    return this.draw(a10);
  }
  rectangle(t33, e10, r10, i10, n10) {
    let a10 = this.gen.rectangle(t33, e10, r10, i10, n10);
    return this.draw(a10);
  }
  ellipse(t33, e10, r10, i10, n10) {
    let a10 = this.gen.ellipse(t33, e10, r10, i10, n10);
    return this.draw(a10);
  }
  circle(t33, e10, r10, i10) {
    let n10 = this.gen.circle(t33, e10, r10, i10);
    return this.draw(n10);
  }
  linearPath(t33, e10) {
    let r10 = this.gen.linearPath(t33, e10);
    return this.draw(r10);
  }
  polygon(t33, e10) {
    let r10 = this.gen.polygon(t33, e10);
    return this.draw(r10);
  }
  arc(t33, e10, r10, i10, n10, a10) {
    let o10 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6], s10 = arguments.length > 7 ? arguments[7] : void 0, l10 = this.gen.arc(t33, e10, r10, i10, n10, a10, o10, s10);
    return this.draw(l10);
  }
  curve(t33, e10) {
    let r10 = this.gen.curve(t33, e10);
    return this.draw(r10);
  }
  path(t33, e10) {
    let r10 = this.gen.path(t33, e10);
    return this.draw(r10);
  }
}
var mS = { svg: (t33, e10) => new mC(t33, e10) }, mA = iZ(async (t33, e10, r10) => {
  var i10, n10, a10;
  let o10, s10;
  let l10 = e10.useHtmlLabels || nJ(null === (i10 = nM()) || void 0 === i10 ? void 0 : i10.htmlLabels);
  o10 = r10 || "node default";
  let h10 = t33.insert("g").attr("class", o10).attr("id", e10.domId || e10.id), u10 = h10.insert("g").attr("class", "label").attr("style", gA(e10.labelStyle));
  s10 = void 0 === e10.label ? "" : "string" == typeof e10.label ? e10.label : e10.label[0];
  let d10 = await fH(u10, nj(gC(s10), nM()), { useHtmlLabels: l10, width: e10.width || (null === (n10 = nM().flowchart) || void 0 === n10 ? void 0 : n10.wrappingWidth), cssClasses: "markdown-node-label", style: e10.labelStyle, addSvgBackground: !!e10.icon || !!e10.img }), p10 = d10.getBBox(), g10 = (null !== (a10 = null == e10 ? void 0 : e10.padding) && void 0 !== a10 ? a10 : 0) / 2;
  if (l10) {
    let t34 = d10.children[0], e11 = hl(d10), r11 = t34.getElementsByTagName("img");
    if (r11) {
      let t35 = "" === s10.replace(/<img[^>]*>/g, "").trim();
      await Promise.all([...r11].map((e12) => new Promise((r12) => {
        function i11() {
          if (e12.style.display = "flex", e12.style.flexDirection = "column", t35) {
            let [t36 = ny.fontSize] = gk(nM().fontSize ? nM().fontSize : window.getComputedStyle(document.body).fontSize), r13 = 5 * t36 + "px";
            e12.style.minWidth = r13, e12.style.maxWidth = r13;
          } else e12.style.width = "100%";
          r12(e12);
        }
        iZ(i11, "setupImage"), setTimeout(() => {
          e12.complete && i11();
        }), e12.addEventListener("error", i11), e12.addEventListener("load", i11);
      })));
    }
    p10 = t34.getBoundingClientRect(), e11.attr("width", p10.width), e11.attr("height", p10.height);
  }
  return l10 ? u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")") : u10.attr("transform", "translate(0, " + -p10.height / 2 + ")"), e10.centerLabel && u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")"), u10.insert("rect", ":first-child"), { shapeSvg: h10, bbox: p10, halfPadding: g10, label: u10 };
}, "labelHelper"), mL = iZ(async (t33, e10, r10) => {
  var i10, n10, a10, o10, s10, l10;
  let h10 = r10.useHtmlLabels || nJ(null === (n10 = nM()) || void 0 === n10 ? void 0 : null === (i10 = n10.flowchart) || void 0 === i10 ? void 0 : i10.htmlLabels), u10 = t33.insert("g").attr("class", "label").attr("style", r10.labelStyle || ""), d10 = await fH(u10, nj(gC(e10), nM()), { useHtmlLabels: h10, width: r10.width || (null === (o10 = nM()) || void 0 === o10 ? void 0 : null === (a10 = o10.flowchart) || void 0 === a10 ? void 0 : a10.wrappingWidth), style: r10.labelStyle, addSvgBackground: !!r10.icon || !!r10.img }), p10 = d10.getBBox(), g10 = r10.padding / 2;
  if (nJ(null === (l10 = nM()) || void 0 === l10 ? void 0 : null === (s10 = l10.flowchart) || void 0 === s10 ? void 0 : s10.htmlLabels)) {
    let t34 = d10.children[0], e11 = hl(d10);
    p10 = t34.getBoundingClientRect(), e11.attr("width", p10.width), e11.attr("height", p10.height);
  }
  return h10 ? u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")") : u10.attr("transform", "translate(0, " + -p10.height / 2 + ")"), r10.centerLabel && u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")"), u10.insert("rect", ":first-child"), { shapeSvg: t33, bbox: p10, halfPadding: g10, label: u10 };
}, "insertLabel"), mN = iZ((t33, e10) => {
  let r10 = e10.node().getBBox();
  t33.width = r10.width, t33.height = r10.height;
}, "updateNodeBounds"), mI = iZ((t33, e10) => ("handDrawn" === t33.look ? "rough-node" : "node") + " " + t33.cssClasses + " " + (e10 || ""), "getNodeClasses");
function mM(t33) {
  let e10 = t33.map((t34, e11) => `${0 === e11 ? "M" : "L"}${t34.x},${t34.y}`);
  return e10.push("Z"), e10.join(" ");
}
function mR(t33, e10, r10, i10, n10, a10) {
  let o10 = [], s10 = r10 - t33, l10 = 2 * Math.PI / (s10 / a10), h10 = e10 + (i10 - e10) / 2;
  for (let e11 = 0; e11 <= 50; e11++) {
    let r11 = t33 + e11 / 50 * s10, i11 = h10 + n10 * Math.sin(l10 * (r11 - t33));
    o10.push({ x: r11, y: i11 });
  }
  return o10;
}
function mD(t33, e10, r10, i10, n10, a10) {
  let o10 = [], s10 = n10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - s10) / (i10 - 1);
  for (let n11 = 0; n11 < i10; n11++) {
    let i11 = s10 + n11 * l10, a11 = t33 + r10 * Math.cos(i11), h10 = e10 + r10 * Math.sin(i11);
    o10.push({ x: -a11, y: -h10 });
  }
  return o10;
}
iZ(mM, "createPathFromPoints"), iZ(mR, "generateFullSineWavePoints"), iZ(mD, "generateCirclePoints");
var mO = iZ((t33, e10) => {
  var r10, i10, n10 = t33.x, a10 = t33.y, o10 = e10.x - n10, s10 = e10.y - a10, l10 = t33.width / 2, h10 = t33.height / 2;
  return Math.abs(s10) * l10 > Math.abs(o10) * h10 ? (s10 < 0 && (h10 = -h10), r10 = 0 === s10 ? 0 : h10 * o10 / s10, i10 = h10) : (o10 < 0 && (l10 = -l10), r10 = l10, i10 = 0 === o10 ? 0 : l10 * s10 / o10), { x: n10 + r10, y: a10 + i10 };
}, "intersectRect");
function mP(t33, e10) {
  e10 && t33.attr("style", e10);
}
async function m$(t33) {
  let e10 = hl(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject")), r10 = e10.append("xhtml:div"), i10 = t33.label;
  t33.label && n8(t33.label) && (i10 = await at(t33.label.replace(ae.lineBreakRegex, "\n"), nM()));
  let n10 = t33.isNode ? "nodeLabel" : "edgeLabel";
  return r10.html('<span class="' + n10 + '" ' + (t33.labelStyle ? 'style="' + t33.labelStyle + '"' : "") + ">" + i10 + "</span>"), mP(r10, t33.labelStyle), r10.style("display", "inline-block"), r10.style("padding-right", "1px"), r10.style("white-space", "nowrap"), r10.attr("xmlns", "http://www.w3.org/1999/xhtml"), e10.node();
}
iZ(mP, "applyStyle"), iZ(m$, "addHtmlLabel");
var mB = iZ(async (t33, e10, r10, i10) => {
  let n10 = t33 || "";
  if ("object" == typeof n10 && (n10 = n10[0]), nJ(nM().flowchart.htmlLabels)) {
    n10 = n10.replace(/\\n|\n/g, "<br />"), i0.info("vertexText" + n10);
    let t34 = { isNode: i10, label: gC(n10).replace(/fa[blrs]?:fa-[\w-]+/g, (t35) => `<i class='${t35.replace(":", " ")}'></i>`), labelStyle: e10 ? e10.replace("fill:", "color:") : e10 };
    return await m$(t34);
  }
  {
    let t34 = document.createElementNS("http://www.w3.org/2000/svg", "text");
    t34.setAttribute("style", e10.replace("color:", "fill:"));
    for (let e11 of "string" == typeof n10 ? n10.split(/\\n|\n|<br\s*\/?>/gi) : Array.isArray(n10) ? n10 : []) {
      let i11 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
      i11.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), i11.setAttribute("dy", "1em"), i11.setAttribute("x", "0"), r10 ? i11.setAttribute("class", "title-row") : i11.setAttribute("class", "row"), i11.textContent = e11.trim(), t34.appendChild(i11);
    }
    return t34;
  }
}, "createLabel"), mF = iZ((t33, e10, r10, i10, n10) => ["M", t33 + n10, e10, "H", t33 + r10 - n10, "A", n10, n10, 0, 0, 1, t33 + r10, e10 + n10, "V", e10 + i10 - n10, "A", n10, n10, 0, 0, 1, t33 + r10 - n10, e10 + i10, "H", t33 + n10, "A", n10, n10, 0, 0, 1, t33, e10 + i10 - n10, "V", e10 + n10, "A", n10, n10, 0, 0, 1, t33 + n10, e10, "Z"].join(" "), "createRoundedRectPathD"), mz = iZ((t33) => {
  let { handDrawnSeed: e10 } = nM();
  return { fill: t33, hachureAngle: 120, hachureGap: 4, fillWeight: 2, roughness: 0.7, stroke: t33, seed: e10 };
}, "solidStateFill"), mU = iZ((t33) => {
  let e10 = mG([...t33.cssCompiledStyles || [], ...t33.cssStyles || []]);
  return { stylesMap: e10, stylesArray: [...e10] };
}, "compileStyles"), mG = iZ((t33) => {
  let e10 = /* @__PURE__ */ new Map();
  return t33.forEach((t34) => {
    let [r10, i10] = t34.split(":");
    e10.set(r10.trim(), null == i10 ? void 0 : i10.trim());
  }), e10;
}, "styles2Map"), mq = iZ((t33) => {
  let { stylesArray: e10 } = mU(t33), r10 = [], i10 = [], n10 = [], a10 = [];
  return e10.forEach((t34) => {
    let e11 = t34[0];
    "color" === e11 || "font-size" === e11 || "font-family" === e11 || "font-weight" === e11 || "font-style" === e11 || "text-decoration" === e11 || "text-align" === e11 || "text-transform" === e11 || "line-height" === e11 || "letter-spacing" === e11 || "word-spacing" === e11 || "text-shadow" === e11 || "text-overflow" === e11 || "white-space" === e11 || "word-wrap" === e11 || "word-break" === e11 || "overflow-wrap" === e11 || "hyphens" === e11 ? r10.push(t34.join(":") + " !important") : (i10.push(t34.join(":") + " !important"), e11.includes("stroke") && n10.push(t34.join(":") + " !important"), "fill" === e11 && a10.push(t34.join(":") + " !important"));
  }), { labelStyles: r10.join(";"), nodeStyles: i10.join(";"), stylesArray: e10, borderStyles: n10, backgroundStyles: a10 };
}, "styles2String"), mY = iZ((t33, e10) => {
  var r10;
  let { themeVariables: i10, handDrawnSeed: n10 } = nM(), { nodeBorder: a10, mainBkg: o10 } = i10, { stylesMap: s10 } = mU(t33);
  return Object.assign({ roughness: 0.7, fill: s10.get("fill") || o10, fillStyle: "hachure", fillWeight: 4, hachureGap: 5.2, stroke: s10.get("stroke") || a10, seed: n10, strokeWidth: (null === (r10 = s10.get("stroke-width")) || void 0 === r10 ? void 0 : r10.replace("px", "")) || 1.3, fillLineDash: [0, 0] }, e10);
}, "userNodeOverrides"), mH = iZ(async (t33, e10) => {
  let r10;
  i0.info("Creating subgraph rect for ", e10.id, e10);
  let i10 = nM(), { themeVariables: n10, handDrawnSeed: a10 } = i10, { clusterBkg: o10, clusterBorder: s10 } = n10, { labelStyles: l10, nodeStyles: h10, borderStyles: u10, backgroundStyles: d10 } = mq(e10), p10 = t33.insert("g").attr("class", "cluster " + e10.cssClasses).attr("id", e10.id).attr("data-look", e10.look), g10 = nJ(i10.flowchart.htmlLabels), f10 = p10.insert("g").attr("class", "cluster-label "), y10 = await fH(f10, e10.label, { style: e10.labelStyle, useHtmlLabels: g10, isNode: true }), v10 = y10.getBBox();
  if (nJ(i10.flowchart.htmlLabels)) {
    let t34 = y10.children[0], e11 = hl(y10);
    v10 = t34.getBoundingClientRect(), e11.attr("width", v10.width), e11.attr("height", v10.height);
  }
  let x10 = e10.width <= v10.width + e10.padding ? v10.width + e10.padding : e10.width;
  e10.width <= v10.width + e10.padding ? e10.diff = (x10 - e10.width) / 2 - e10.padding : e10.diff = -e10.padding;
  let b10 = e10.height, w10 = e10.x - x10 / 2, k10 = e10.y - b10 / 2;
  if (i0.trace("Data ", e10, JSON.stringify(e10)), "handDrawn" === e10.look) {
    let t34 = mS.svg(p10), i11 = mY(e10, { roughness: 0.7, fill: o10, stroke: s10, fillWeight: 3, seed: a10 }), n11 = t34.path(mF(w10, k10, x10, b10, 0), i11);
    (r10 = p10.insert(() => (i0.debug("Rough node insert CXC", n11), n11), ":first-child")).select("path:nth-child(2)").attr("style", u10.join(";")), r10.select("path").attr("style", d10.join(";").replace("fill", "stroke"));
  } else (r10 = p10.insert("rect", ":first-child")).attr("style", h10).attr("rx", e10.rx).attr("ry", e10.ry).attr("x", w10).attr("y", k10).attr("width", x10).attr("height", b10);
  let { subGraphTitleTopMargin: _10 } = ln(i10);
  if (f10.attr("transform", `translate(${e10.x - v10.width / 2}, ${e10.y - e10.height / 2 + _10})`), l10) {
    let t34 = f10.select("span");
    t34 && t34.attr("style", l10);
  }
  let T10 = r10.node().getBBox();
  return e10.offsetX = 0, e10.width = T10.width, e10.height = T10.height, e10.offsetY = v10.height - e10.padding / 2, e10.intersect = function(t34) {
    return mO(e10, t34);
  }, { cluster: p10, labelBBox: v10 };
}, "rect"), mj = iZ((t33, e10) => {
  let r10 = t33.insert("g").attr("class", "note-cluster").attr("id", e10.id), i10 = r10.insert("rect", ":first-child"), n10 = 0 * e10.padding, a10 = n10 / 2;
  i10.attr("rx", e10.rx).attr("ry", e10.ry).attr("x", e10.x - e10.width / 2 - a10).attr("y", e10.y - e10.height / 2 - a10).attr("width", e10.width + n10).attr("height", e10.height + n10).attr("fill", "none");
  let o10 = i10.node().getBBox();
  return e10.width = o10.width, e10.height = o10.height, e10.intersect = function(t34) {
    return mO(e10, t34);
  }, { cluster: r10, labelBBox: { width: 0, height: 0 } };
}, "noteGroup"), mW = iZ(async (t33, e10) => {
  let r10;
  let i10 = nM(), { themeVariables: n10, handDrawnSeed: a10 } = i10, { altBackground: o10, compositeBackground: s10, compositeTitleBackground: l10, nodeBorder: h10 } = n10, u10 = t33.insert("g").attr("class", e10.cssClasses).attr("id", e10.id).attr("data-id", e10.id).attr("data-look", e10.look), d10 = u10.insert("g", ":first-child"), p10 = u10.insert("g").attr("class", "cluster-label"), g10 = u10.append("rect"), f10 = p10.node().appendChild(await mB(e10.label, e10.labelStyle, void 0, true)), y10 = f10.getBBox();
  if (nJ(i10.flowchart.htmlLabels)) {
    let t34 = f10.children[0], e11 = hl(f10);
    y10 = t34.getBoundingClientRect(), e11.attr("width", y10.width), e11.attr("height", y10.height);
  }
  let v10 = 0 * e10.padding, x10 = (e10.width <= y10.width + e10.padding ? y10.width + e10.padding : e10.width) + v10;
  e10.width <= y10.width + e10.padding ? e10.diff = (x10 - e10.width) / 2 - e10.padding : e10.diff = -e10.padding;
  let b10 = e10.height + v10, w10 = e10.height + v10 - y10.height - 6, k10 = e10.x - x10 / 2, _10 = e10.y - b10 / 2;
  e10.width = x10;
  let T10 = e10.y - e10.height / 2 - v10 / 2 + y10.height + 2;
  if ("handDrawn" === e10.look) {
    let t34 = e10.cssClasses.includes("statediagram-cluster-alt"), i11 = mS.svg(u10), n11 = e10.rx || e10.ry ? i11.path(mF(k10, _10, x10, b10, 10), { roughness: 0.7, fill: l10, fillStyle: "solid", stroke: h10, seed: a10 }) : i11.rectangle(k10, _10, x10, b10, { seed: a10 });
    r10 = u10.insert(() => n11, ":first-child");
    let d11 = i11.rectangle(k10, T10, x10, w10, { fill: t34 ? o10 : s10, fillStyle: t34 ? "hachure" : "solid", stroke: h10, seed: a10 });
    r10 = u10.insert(() => n11, ":first-child"), g10 = u10.insert(() => d11);
  } else (r10 = d10.insert("rect", ":first-child")).attr("class", "outer").attr("x", k10).attr("y", _10).attr("width", x10).attr("height", b10).attr("data-look", e10.look), g10.attr("class", "inner").attr("x", k10).attr("y", T10).attr("width", x10).attr("height", w10);
  p10.attr("transform", `translate(${e10.x - y10.width / 2}, ${_10 + 1 - (nJ(i10.flowchart.htmlLabels) ? 0 : 3)})`);
  let E10 = r10.node().getBBox();
  return e10.height = E10.height, e10.offsetX = 0, e10.offsetY = y10.height - e10.padding / 2, e10.labelBBox = y10, e10.intersect = function(t34) {
    return mO(e10, t34);
  }, { cluster: u10, labelBBox: y10 };
}, "roundedWithTitle"), mV = iZ(async (t33, e10) => {
  let r10;
  i0.info("Creating subgraph rect for ", e10.id, e10);
  let i10 = nM(), { themeVariables: n10, handDrawnSeed: a10 } = i10, { clusterBkg: o10, clusterBorder: s10 } = n10, { labelStyles: l10, nodeStyles: h10, borderStyles: u10, backgroundStyles: d10 } = mq(e10), p10 = t33.insert("g").attr("class", "cluster " + e10.cssClasses).attr("id", e10.id).attr("data-look", e10.look), g10 = nJ(i10.flowchart.htmlLabels), f10 = p10.insert("g").attr("class", "cluster-label "), y10 = await fH(f10, e10.label, { style: e10.labelStyle, useHtmlLabels: g10, isNode: true, width: e10.width }), v10 = y10.getBBox();
  if (nJ(i10.flowchart.htmlLabels)) {
    let t34 = y10.children[0], e11 = hl(y10);
    v10 = t34.getBoundingClientRect(), e11.attr("width", v10.width), e11.attr("height", v10.height);
  }
  let x10 = e10.width <= v10.width + e10.padding ? v10.width + e10.padding : e10.width;
  e10.width <= v10.width + e10.padding ? e10.diff = (x10 - e10.width) / 2 - e10.padding : e10.diff = -e10.padding;
  let b10 = e10.height, w10 = e10.x - x10 / 2, k10 = e10.y - b10 / 2;
  if (i0.trace("Data ", e10, JSON.stringify(e10)), "handDrawn" === e10.look) {
    let t34 = mS.svg(p10), i11 = mY(e10, { roughness: 0.7, fill: o10, stroke: s10, fillWeight: 4, seed: a10 }), n11 = t34.path(mF(w10, k10, x10, b10, e10.rx), i11);
    (r10 = p10.insert(() => (i0.debug("Rough node insert CXC", n11), n11), ":first-child")).select("path:nth-child(2)").attr("style", u10.join(";")), r10.select("path").attr("style", d10.join(";").replace("fill", "stroke"));
  } else (r10 = p10.insert("rect", ":first-child")).attr("style", h10).attr("rx", e10.rx).attr("ry", e10.ry).attr("x", w10).attr("y", k10).attr("width", x10).attr("height", b10);
  let { subGraphTitleTopMargin: _10 } = ln(i10);
  if (f10.attr("transform", `translate(${e10.x - v10.width / 2}, ${e10.y - e10.height / 2 + _10})`), l10) {
    let t34 = f10.select("span");
    t34 && t34.attr("style", l10);
  }
  let T10 = r10.node().getBBox();
  return e10.offsetX = 0, e10.width = T10.width, e10.height = T10.height, e10.offsetY = v10.height - e10.padding / 2, e10.intersect = function(t34) {
    return mO(e10, t34);
  }, { cluster: p10, labelBBox: v10 };
}, "kanbanSection"), mX = { rect: mH, squareRect: mH, roundedWithTitle: mW, noteGroup: mj, divider: iZ((t33, e10) => {
  let r10;
  let { themeVariables: i10, handDrawnSeed: n10 } = nM(), { nodeBorder: a10 } = i10, o10 = t33.insert("g").attr("class", e10.cssClasses).attr("id", e10.id).attr("data-look", e10.look), s10 = o10.insert("g", ":first-child"), l10 = 0 * e10.padding, h10 = e10.width + l10;
  e10.diff = -e10.padding;
  let u10 = e10.height + l10, d10 = e10.x - h10 / 2, p10 = e10.y - u10 / 2;
  if (e10.width = h10, "handDrawn" === e10.look) {
    let t34 = mS.svg(o10).rectangle(d10, p10, h10, u10, { fill: "lightgrey", roughness: 0.5, strokeLineDash: [5], stroke: a10, seed: n10 });
    r10 = o10.insert(() => t34, ":first-child");
  } else (r10 = s10.insert("rect", ":first-child")).attr("class", "divider").attr("x", d10).attr("y", p10).attr("width", h10).attr("height", u10).attr("data-look", e10.look);
  let g10 = r10.node().getBBox();
  return e10.height = g10.height, e10.offsetX = 0, e10.offsetY = 0, e10.intersect = function(t34) {
    return mO(e10, t34);
  }, { cluster: o10, labelBBox: {} };
}, "divider"), kanbanSection: mV }, mK = /* @__PURE__ */ new Map(), mZ = iZ(async (t33, e10) => {
  let r10 = e10.shape || "rect", i10 = await mX[r10](t33, e10);
  return mK.set(e10.id, i10), i10;
}, "insertCluster"), mQ = iZ(() => {
  mK = /* @__PURE__ */ new Map();
}, "clear");
function mJ(t33, e10, r10, i10) {
  var n10 = t33.x, a10 = t33.y, o10 = n10 - i10.x, s10 = a10 - i10.y, l10 = Math.sqrt(e10 * e10 * s10 * s10 + r10 * r10 * o10 * o10), h10 = Math.abs(e10 * r10 * o10 / l10);
  i10.x < n10 && (h10 = -h10);
  var u10 = Math.abs(e10 * r10 * s10 / l10);
  return i10.y < a10 && (u10 = -u10), { x: n10 + h10, y: a10 + u10 };
}
function m0(t33, e10, r10) {
  return mJ(t33, e10, e10, r10);
}
function m1(t33, e10, r10, i10) {
  var n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10;
  if (n10 = e10.y - t33.y, o10 = t33.x - e10.x, l10 = e10.x * t33.y - t33.x * e10.y, p10 = n10 * r10.x + o10 * r10.y + l10, g10 = n10 * i10.x + o10 * i10.y + l10, !(0 !== p10 && 0 !== g10 && m2(p10, g10)) && (a10 = i10.y - r10.y, s10 = r10.x - i10.x, h10 = i10.x * r10.y - r10.x * i10.y, u10 = a10 * t33.x + s10 * t33.y + h10, d10 = a10 * e10.x + s10 * e10.y + h10, !(0 !== u10 && 0 !== d10 && m2(u10, d10)) && 0 != (f10 = n10 * s10 - a10 * o10))) return y10 = Math.abs(f10 / 2), { x: (v10 = o10 * h10 - s10 * l10) < 0 ? (v10 - y10) / f10 : (v10 + y10) / f10, y: (v10 = a10 * l10 - n10 * h10) < 0 ? (v10 - y10) / f10 : (v10 + y10) / f10 };
}
function m2(t33, e10) {
  return t33 * e10 > 0;
}
function m4(t33, e10, r10) {
  let i10 = t33.x, n10 = t33.y, a10 = [], o10 = Number.POSITIVE_INFINITY, s10 = Number.POSITIVE_INFINITY;
  "function" == typeof e10.forEach ? e10.forEach(function(t34) {
    o10 = Math.min(o10, t34.x), s10 = Math.min(s10, t34.y);
  }) : (o10 = Math.min(o10, e10.x), s10 = Math.min(s10, e10.y));
  let l10 = i10 - t33.width / 2 - o10, h10 = n10 - t33.height / 2 - s10;
  for (let i11 = 0; i11 < e10.length; i11++) {
    let n11 = e10[i11], o11 = e10[i11 < e10.length - 1 ? i11 + 1 : 0], s11 = m1(t33, r10, { x: l10 + n11.x, y: h10 + n11.y }, { x: l10 + o11.x, y: h10 + o11.y });
    s11 && a10.push(s11);
  }
  return a10.length ? (a10.length > 1 && a10.sort(function(t34, e11) {
    let i11 = t34.x - r10.x, n11 = t34.y - r10.y, a11 = Math.sqrt(i11 * i11 + n11 * n11), o11 = e11.x - r10.x, s11 = e11.y - r10.y, l11 = Math.sqrt(o11 * o11 + s11 * s11);
    return a11 < l11 ? -1 : a11 === l11 ? 0 : 1;
  }), a10[0]) : t33;
}
iZ(function(t33, e10) {
  return t33.intersect(e10);
}, "intersectNode"), iZ(mJ, "intersectEllipse"), iZ(m0, "intersectCircle"), iZ(m1, "intersectLine"), iZ(m2, "sameSign"), iZ(m4, "intersectPolygon");
var m5 = { circle: m0, polygon: m4, rect: mO };
function m3(t33, e10) {
  let { labelStyles: r10 } = mq(e10);
  e10.labelStyle = r10;
  let i10 = mI(e10), n10 = i10;
  i10 || (n10 = "anchor");
  let a10 = t33.insert("g").attr("class", n10).attr("id", e10.domId || e10.id), { cssStyles: o10 } = e10, s10 = mS.svg(a10), l10 = mY(e10, { fill: "black", stroke: "none", fillStyle: "solid" });
  "handDrawn" !== e10.look && (l10.roughness = 0);
  let h10 = s10.circle(0, 0, 2, l10), u10 = a10.insert(() => h10, ":first-child");
  return u10.attr("class", "anchor").attr("style", gA(o10)), mN(e10, u10), e10.intersect = function(t34) {
    return i0.info("Circle intersect", e10, 1, t34), m5.circle(e10, 1, t34);
  }, a10;
}
function m6(t33, e10, r10, i10, n10, a10, o10) {
  let s10 = Math.atan2(i10 - e10, r10 - t33), l10 = Math.sqrt(((r10 - t33) / 2 / n10) ** 2 + ((i10 - e10) / 2 / a10) ** 2);
  if (l10 > 1) throw Error("The given radii are too small to create an arc between the points.");
  let h10 = Math.sqrt(1 - l10 ** 2), u10 = (t33 + r10) / 2 + h10 * a10 * Math.sin(s10) * (o10 ? -1 : 1), d10 = (e10 + i10) / 2 - h10 * n10 * Math.cos(s10) * (o10 ? -1 : 1), p10 = Math.atan2((e10 - d10) / a10, (t33 - u10) / n10), g10 = Math.atan2((i10 - d10) / a10, (r10 - u10) / n10) - p10;
  o10 && g10 < 0 && (g10 += 2 * Math.PI), !o10 && g10 > 0 && (g10 -= 2 * Math.PI);
  let f10 = [];
  for (let t34 = 0; t34 < 20; t34++) {
    let e11 = p10 + t34 / 19 * g10, r11 = u10 + n10 * Math.cos(e11), i11 = d10 + a10 * Math.sin(e11);
    f10.push({ x: r11, y: i11 });
  }
  return f10;
}
async function m7(t33, e10) {
  let { labelStyles: r10, nodeStyles: i10 } = mq(e10);
  e10.labelStyle = r10;
  let { shapeSvg: n10, bbox: a10 } = await mA(t33, e10, mI(e10)), o10 = a10.width + e10.padding + 20, s10 = a10.height + e10.padding, l10 = s10 / 2, h10 = l10 / (2.5 + s10 / 50), { cssStyles: u10 } = e10, d10 = [{ x: o10 / 2, y: -s10 / 2 }, { x: -o10 / 2, y: -s10 / 2 }, ...m6(-o10 / 2, -s10 / 2, -o10 / 2, s10 / 2, h10, l10, false), { x: o10 / 2, y: s10 / 2 }, ...m6(o10 / 2, s10 / 2, o10 / 2, -s10 / 2, h10, l10, true)], p10 = mS.svg(n10), g10 = mY(e10, {});
  "handDrawn" !== e10.look && (g10.roughness = 0, g10.fillStyle = "solid");
  let f10 = mM(d10), y10 = p10.path(f10, g10), v10 = n10.insert(() => y10, ":first-child");
  return v10.attr("class", "basic label-container"), u10 && "handDrawn" !== e10.look && v10.selectAll("path").attr("style", u10), i10 && "handDrawn" !== e10.look && v10.selectAll("path").attr("style", i10), v10.attr("transform", `translate(${h10 / 2}, 0)`), mN(e10, v10), e10.intersect = function(t34) {
    return m5.polygon(e10, d10, t34);
  }, n10;
}
function m8(t33, e10, r10, i10) {
  return t33.insert("polygon", ":first-child").attr("points", i10.map(function(t34) {
    return t34.x + "," + t34.y;
  }).join(" ")).attr("class", "label-container").attr("transform", "translate(" + -e10 / 2 + "," + r10 / 2 + ")");
}
async function m9(t33, e10) {
  let r10;
  let { labelStyles: i10, nodeStyles: n10 } = mq(e10);
  e10.labelStyle = i10;
  let { shapeSvg: a10, bbox: o10 } = await mA(t33, e10, mI(e10)), s10 = o10.height + e10.padding, l10 = o10.width + e10.padding + 12, h10 = -s10, u10 = [{ x: 12, y: h10 }, { x: l10, y: h10 }, { x: l10, y: 0 }, { x: 0, y: 0 }, { x: 0, y: h10 + 12 }, { x: 12, y: h10 }], { cssStyles: d10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(a10), i11 = mY(e10, {}), n11 = mM(u10), o11 = t34.path(n11, i11);
    r10 = a10.insert(() => o11, ":first-child").attr("transform", `translate(${-l10 / 2}, ${s10 / 2})`), d10 && r10.attr("style", d10);
  } else r10 = m8(a10, l10, s10, u10);
  return n10 && r10.attr("style", n10), mN(e10, r10), e10.intersect = function(t34) {
    return m5.polygon(e10, u10, t34);
  }, a10;
}
function yt(t33, e10) {
  var r10, i10;
  let { nodeStyles: n10 } = mq(e10);
  e10.label = "";
  let a10 = t33.insert("g").attr("class", mI(e10)).attr("id", null !== (r10 = e10.domId) && void 0 !== r10 ? r10 : e10.id), { cssStyles: o10 } = e10, s10 = Math.max(28, null !== (i10 = e10.width) && void 0 !== i10 ? i10 : 0), l10 = [{ x: 0, y: s10 / 2 }, { x: s10 / 2, y: 0 }, { x: 0, y: -s10 / 2 }, { x: -s10 / 2, y: 0 }], h10 = mS.svg(a10), u10 = mY(e10, {});
  "handDrawn" !== e10.look && (u10.roughness = 0, u10.fillStyle = "solid");
  let d10 = mM(l10), p10 = h10.path(d10, u10), g10 = a10.insert(() => p10, ":first-child");
  return o10 && "handDrawn" !== e10.look && g10.selectAll("path").attr("style", o10), n10 && "handDrawn" !== e10.look && g10.selectAll("path").attr("style", n10), e10.width = 28, e10.height = 28, e10.intersect = function(t34) {
    return m5.polygon(e10, l10, t34);
  }, a10;
}
async function ye(t33, e10) {
  let r10;
  let { labelStyles: i10, nodeStyles: n10 } = mq(e10);
  e10.labelStyle = i10;
  let { shapeSvg: a10, bbox: o10, halfPadding: s10 } = await mA(t33, e10, mI(e10)), l10 = o10.width / 2 + s10, { cssStyles: h10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(a10), i11 = mY(e10, {}), n11 = t34.circle(0, 0, 2 * l10, i11);
    (r10 = a10.insert(() => n11, ":first-child")).attr("class", "basic label-container").attr("style", gA(h10));
  } else r10 = a10.insert("circle", ":first-child").attr("class", "basic label-container").attr("style", n10).attr("r", l10).attr("cx", 0).attr("cy", 0);
  return mN(e10, r10), e10.intersect = function(t34) {
    return i0.info("Circle intersect", e10, l10, t34), m5.circle(e10, l10, t34);
  }, a10;
}
function yr(t33) {
  let e10 = Math.cos(Math.PI / 4), r10 = Math.sin(Math.PI / 4), i10 = 2 * t33, n10 = { x: i10 / 2 * e10, y: i10 / 2 * r10 }, a10 = { x: -(i10 / 2) * e10, y: i10 / 2 * r10 }, o10 = { x: -(i10 / 2) * e10, y: -(i10 / 2) * r10 }, s10 = { x: i10 / 2 * e10, y: -(i10 / 2) * r10 };
  return `M ${a10.x},${a10.y} L ${s10.x},${s10.y}
                   M ${n10.x},${n10.y} L ${o10.x},${o10.y}`;
}
function yi(t33, e10) {
  var r10, i10;
  let { labelStyles: n10, nodeStyles: a10 } = mq(e10);
  e10.labelStyle = n10, e10.label = "";
  let o10 = t33.insert("g").attr("class", mI(e10)).attr("id", null !== (r10 = e10.domId) && void 0 !== r10 ? r10 : e10.id), s10 = Math.max(30, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), { cssStyles: l10 } = e10, h10 = mS.svg(o10), u10 = mY(e10, {});
  "handDrawn" !== e10.look && (u10.roughness = 0, u10.fillStyle = "solid");
  let d10 = h10.circle(0, 0, 2 * s10, u10), p10 = yr(s10), g10 = h10.path(p10, u10), f10 = o10.insert(() => d10, ":first-child");
  return f10.insert(() => g10), l10 && "handDrawn" !== e10.look && f10.selectAll("path").attr("style", l10), a10 && "handDrawn" !== e10.look && f10.selectAll("path").attr("style", a10), mN(e10, f10), e10.intersect = function(t34) {
    return i0.info("crossedCircle intersect", e10, { radius: s10, point: t34 }), m5.circle(e10, s10, t34);
  }, o10;
}
function yn(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100, n10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 180, o10 = [], s10 = n10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - s10) / (i10 - 1);
  for (let n11 = 0; n11 < i10; n11++) {
    let i11 = s10 + n11 * l10, a11 = t33 + r10 * Math.cos(i11), h10 = e10 + r10 * Math.sin(i11);
    o10.push({ x: -a11, y: -h10 });
  }
  return o10;
}
async function ya(t33, e10) {
  var r10, i10, n10, a10, o10;
  let { labelStyles: s10, nodeStyles: l10 } = mq(e10);
  e10.labelStyle = s10;
  let { shapeSvg: h10, bbox: u10, label: d10 } = await mA(t33, e10, mI(e10)), p10 = u10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), g10 = u10.height + (null !== (i10 = e10.padding) && void 0 !== i10 ? i10 : 0), f10 = Math.max(5, 0.1 * g10), { cssStyles: y10 } = e10, v10 = [...yn(p10 / 2, -g10 / 2, f10, 30, -90, 0), { x: -p10 / 2 - f10, y: f10 }, ...yn(p10 / 2 + 2 * f10, -f10, f10, 20, -180, -270), ...yn(p10 / 2 + 2 * f10, f10, f10, 20, -90, -180), { x: -p10 / 2 - f10, y: -g10 / 2 }, ...yn(p10 / 2, g10 / 2, f10, 20, 0, 90)], x10 = [{ x: p10 / 2, y: -g10 / 2 - f10 }, { x: -p10 / 2, y: -g10 / 2 - f10 }, ...yn(p10 / 2, -g10 / 2, f10, 20, -90, 0), { x: -p10 / 2 - f10, y: -f10 }, ...yn(p10 / 2 + 0.1 * p10, -f10, f10, 20, -180, -270), ...yn(p10 / 2 + 0.1 * p10, f10, f10, 20, -90, -180), { x: -p10 / 2 - f10, y: g10 / 2 }, ...yn(p10 / 2, g10 / 2, f10, 20, 0, 90), { x: -p10 / 2, y: g10 / 2 + f10 }, { x: p10 / 2, y: g10 / 2 + f10 }], b10 = mS.svg(h10), w10 = mY(e10, { fill: "none" });
  "handDrawn" !== e10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let k10 = mM(v10).replace("Z", ""), _10 = b10.path(k10, w10), T10 = mM(x10), E10 = b10.path(T10, { ...w10 }), C10 = h10.insert("g", ":first-child");
  return C10.insert(() => E10, ":first-child").attr("stroke-opacity", 0), C10.insert(() => _10, ":first-child"), C10.attr("class", "text"), y10 && "handDrawn" !== e10.look && C10.selectAll("path").attr("style", y10), l10 && "handDrawn" !== e10.look && C10.selectAll("path").attr("style", l10), C10.attr("transform", `translate(${f10}, 0)`), d10.attr("transform", `translate(${-p10 / 2 + f10 - (u10.x - (null !== (n10 = u10.left) && void 0 !== n10 ? n10 : 0))},${-g10 / 2 + (null !== (a10 = e10.padding) && void 0 !== a10 ? a10 : 0) / 2 - (u10.y - (null !== (o10 = u10.top) && void 0 !== o10 ? o10 : 0))})`), mN(e10, C10), e10.intersect = function(t34) {
    return m5.polygon(e10, x10, t34);
  }, h10;
}
function yo(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100, n10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 180, o10 = [], s10 = n10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - s10) / (i10 - 1);
  for (let n11 = 0; n11 < i10; n11++) {
    let i11 = s10 + n11 * l10, a11 = t33 + r10 * Math.cos(i11), h10 = e10 + r10 * Math.sin(i11);
    o10.push({ x: a11, y: h10 });
  }
  return o10;
}
async function ys(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  let { labelStyles: l10, nodeStyles: h10 } = mq(e10);
  e10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await mA(t33, e10, mI(e10)), g10 = d10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), f10 = d10.height + (null !== (i10 = e10.padding) && void 0 !== i10 ? i10 : 0), y10 = Math.max(5, 0.1 * f10), { cssStyles: v10 } = e10, x10 = [...yo(g10 / 2, -f10 / 2, y10, 20, -90, 0), { x: g10 / 2 + y10, y: -y10 }, ...yo(g10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...yo(g10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: g10 / 2 + y10, y: f10 / 2 }, ...yo(g10 / 2, f10 / 2, y10, 20, 0, 90)], b10 = [{ x: -g10 / 2, y: -f10 / 2 - y10 }, { x: g10 / 2, y: -f10 / 2 - y10 }, ...yo(g10 / 2, -f10 / 2, y10, 20, -90, 0), { x: g10 / 2 + y10, y: -y10 }, ...yo(g10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...yo(g10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: g10 / 2 + y10, y: f10 / 2 }, ...yo(g10 / 2, f10 / 2, y10, 20, 0, 90), { x: g10 / 2, y: f10 / 2 + y10 }, { x: -g10 / 2, y: f10 / 2 + y10 }], w10 = mS.svg(u10), k10 = mY(e10, { fill: "none" });
  "handDrawn" !== e10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let _10 = mM(x10).replace("Z", ""), T10 = w10.path(_10, k10), E10 = mM(b10), C10 = w10.path(E10, { ...k10 }), S10 = u10.insert("g", ":first-child");
  return S10.insert(() => C10, ":first-child").attr("stroke-opacity", 0), S10.insert(() => T10, ":first-child"), S10.attr("class", "text"), v10 && "handDrawn" !== e10.look && S10.selectAll("path").attr("style", v10), h10 && "handDrawn" !== e10.look && S10.selectAll("path").attr("style", h10), S10.attr("transform", `translate(${-y10}, 0)`), p10.attr("transform", `translate(${-g10 / 2 + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) / 2 - (d10.x - (null !== (a10 = d10.left) && void 0 !== a10 ? a10 : 0))},${-f10 / 2 + (null !== (o10 = e10.padding) && void 0 !== o10 ? o10 : 0) / 2 - (d10.y - (null !== (s10 = d10.top) && void 0 !== s10 ? s10 : 0))})`), mN(e10, S10), e10.intersect = function(t34) {
    return m5.polygon(e10, b10, t34);
  }, u10;
}
function yl(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100, n10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 180, o10 = [], s10 = n10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - s10) / (i10 - 1);
  for (let n11 = 0; n11 < i10; n11++) {
    let i11 = s10 + n11 * l10, a11 = t33 + r10 * Math.cos(i11), h10 = e10 + r10 * Math.sin(i11);
    o10.push({ x: -a11, y: -h10 });
  }
  return o10;
}
async function yh(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  let { labelStyles: l10, nodeStyles: h10 } = mq(e10);
  e10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await mA(t33, e10, mI(e10)), g10 = d10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), f10 = d10.height + (null !== (i10 = e10.padding) && void 0 !== i10 ? i10 : 0), y10 = Math.max(5, 0.1 * f10), { cssStyles: v10 } = e10, x10 = [...yl(g10 / 2, -f10 / 2, y10, 30, -90, 0), { x: -g10 / 2 - y10, y: y10 }, ...yl(g10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...yl(g10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: -g10 / 2 - y10, y: -f10 / 2 }, ...yl(g10 / 2, f10 / 2, y10, 20, 0, 90)], b10 = [...yl(-g10 / 2 + y10 + y10 / 2, -f10 / 2, y10, 20, -90, -180), { x: g10 / 2 - y10 / 2, y: y10 }, ...yl(-g10 / 2 - y10 / 2, -y10, y10, 20, 0, 90), ...yl(-g10 / 2 - y10 / 2, y10, y10, 20, -90, 0), { x: g10 / 2 - y10 / 2, y: -y10 }, ...yl(-g10 / 2 + y10 + y10 / 2, f10 / 2, y10, 30, -180, -270)], w10 = [{ x: g10 / 2, y: -f10 / 2 - y10 }, { x: -g10 / 2, y: -f10 / 2 - y10 }, ...yl(g10 / 2, -f10 / 2, y10, 20, -90, 0), { x: -g10 / 2 - y10, y: -y10 }, ...yl(g10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...yl(g10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: -g10 / 2 - y10, y: f10 / 2 }, ...yl(g10 / 2, f10 / 2, y10, 20, 0, 90), { x: -g10 / 2, y: f10 / 2 + y10 }, { x: g10 / 2 - y10 - y10 / 2, y: f10 / 2 + y10 }, ...yl(-g10 / 2 + y10 + y10 / 2, -f10 / 2, y10, 20, -90, -180), { x: g10 / 2 - y10 / 2, y: y10 }, ...yl(-g10 / 2 - y10 / 2, -y10, y10, 20, 0, 90), ...yl(-g10 / 2 - y10 / 2, y10, y10, 20, -90, 0), { x: g10 / 2 - y10 / 2, y: -y10 }, ...yl(-g10 / 2 + y10 + y10 / 2, f10 / 2, y10, 30, -180, -270)], k10 = mS.svg(u10), _10 = mY(e10, { fill: "none" });
  "handDrawn" !== e10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = mM(x10).replace("Z", ""), E10 = k10.path(T10, _10), C10 = mM(b10).replace("Z", ""), S10 = k10.path(C10, _10), A10 = mM(w10), L10 = k10.path(A10, { ..._10 }), N10 = u10.insert("g", ":first-child");
  return N10.insert(() => L10, ":first-child").attr("stroke-opacity", 0), N10.insert(() => E10, ":first-child"), N10.insert(() => S10, ":first-child"), N10.attr("class", "text"), v10 && "handDrawn" !== e10.look && N10.selectAll("path").attr("style", v10), h10 && "handDrawn" !== e10.look && N10.selectAll("path").attr("style", h10), N10.attr("transform", `translate(${y10 - y10 / 4}, 0)`), p10.attr("transform", `translate(${-g10 / 2 + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) / 2 - (d10.x - (null !== (a10 = d10.left) && void 0 !== a10 ? a10 : 0))},${-f10 / 2 + (null !== (o10 = e10.padding) && void 0 !== o10 ? o10 : 0) / 2 - (d10.y - (null !== (s10 = d10.top) && void 0 !== s10 ? s10 : 0))})`), mN(e10, N10), e10.intersect = function(t34) {
    return m5.polygon(e10, w10, t34);
  }, u10;
}
async function yc(t33, e10) {
  var r10, i10, n10, a10;
  let { labelStyles: o10, nodeStyles: s10 } = mq(e10);
  e10.labelStyle = o10;
  let { shapeSvg: l10, bbox: h10 } = await mA(t33, e10, mI(e10)), u10 = Math.max(80, (h10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2) * 1.25, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), d10 = Math.max(20, h10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), p10 = d10 / 2, { cssStyles: g10 } = e10, f10 = mS.svg(l10), y10 = mY(e10, {});
  "handDrawn" !== e10.look && (y10.roughness = 0, y10.fillStyle = "solid");
  let v10 = u10 - p10, x10 = d10 / 4, b10 = [{ x: v10, y: 0 }, { x: x10, y: 0 }, { x: 0, y: d10 / 2 }, { x: x10, y: d10 }, { x: v10, y: d10 }, ...mD(-v10, -d10 / 2, p10, 50, 270, 90)], w10 = mM(b10), k10 = f10.path(w10, y10), _10 = l10.insert(() => k10, ":first-child");
  return _10.attr("class", "basic label-container"), g10 && "handDrawn" !== e10.look && _10.selectChildren("path").attr("style", g10), s10 && "handDrawn" !== e10.look && _10.selectChildren("path").attr("style", s10), _10.attr("transform", `translate(${-u10 / 2}, ${-d10 / 2})`), mN(e10, _10), e10.intersect = function(t34) {
    return m5.polygon(e10, b10, t34);
  }, l10;
}
iZ(m3, "anchor"), iZ(m6, "generateArcPoints"), iZ(m7, "bowTieRect"), iZ(m8, "insertPolygonShape"), iZ(m9, "card"), iZ(yt, "choice"), iZ(ye, "circle"), iZ(yr, "createLine"), iZ(yi, "crossedCircle"), iZ(yn, "generateCirclePoints"), iZ(ya, "curlyBraceLeft"), iZ(yo, "generateCirclePoints"), iZ(ys, "curlyBraceRight"), iZ(yl, "generateCirclePoints"), iZ(yh, "curlyBraces"), iZ(yc, "curvedTrapezoid");
var yu = iZ((t33, e10, r10, i10, n10, a10) => `M${t33},${e10 + a10} a${n10},${a10} 0,0,0 ${r10},0 a${n10},${a10} 0,0,0 ${-r10},0 l0,${i10} a${n10},${a10} 0,0,0 ${r10},0 l0,${-i10}`, "createCylinderPathD"), yd = iZ((t33, e10, r10, i10, n10, a10) => `M${t33},${e10 + a10} M${t33 + r10},${e10 + a10} a${n10},${a10} 0,0,0 ${-r10},0 l0,${i10} a${n10},${a10} 0,0,0 ${r10},0 l0,${-i10}`, "createOuterCylinderPathD"), yp = iZ((t33, e10, r10, i10, n10, a10) => `M${t33 - r10 / 2},${-i10 / 2} a${n10},${a10} 0,0,0 ${r10},0`, "createInnerCylinderPathD");
async function yg(t33, e10) {
  var r10, i10, n10, a10, o10;
  let s10;
  let { labelStyles: l10, nodeStyles: h10 } = mq(e10);
  e10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await mA(t33, e10, mI(e10)), g10 = Math.max(d10.width + e10.padding, null !== (r10 = e10.width) && void 0 !== r10 ? r10 : 0), f10 = g10 / 2, y10 = f10 / (2.5 + g10 / 50), v10 = Math.max(d10.height + y10 + e10.padding, null !== (i10 = e10.height) && void 0 !== i10 ? i10 : 0), { cssStyles: x10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(u10), r11 = yd(0, 0, g10, v10, f10, y10), i11 = yp(0, y10, g10, v10, f10, y10), n11 = t34.path(r11, mY(e10, {})), a11 = t34.path(i11, mY(e10, { fill: "none" }));
    s10 = u10.insert(() => a11, ":first-child"), (s10 = u10.insert(() => n11, ":first-child")).attr("class", "basic label-container"), x10 && s10.attr("style", x10);
  } else {
    let t34 = yu(0, 0, g10, v10, f10, y10);
    s10 = u10.insert("path", ":first-child").attr("d", t34).attr("class", "basic label-container").attr("style", gA(x10)).attr("style", h10);
  }
  return s10.attr("label-offset-y", y10), s10.attr("transform", `translate(${-g10 / 2}, ${-(v10 / 2 + y10)})`), mN(e10, s10), p10.attr("transform", `translate(${-(d10.width / 2) - (d10.x - (null !== (n10 = d10.left) && void 0 !== n10 ? n10 : 0))}, ${-(d10.height / 2) + (null !== (a10 = e10.padding) && void 0 !== a10 ? a10 : 0) / 1.5 - (d10.y - (null !== (o10 = d10.top) && void 0 !== o10 ? o10 : 0))})`), e10.intersect = function(t34) {
    var r11, i11, n11, a11, o11, s11;
    let l11 = m5.rect(e10, t34), h11 = l11.x - (null !== (r11 = e10.x) && void 0 !== r11 ? r11 : 0);
    if (0 != f10 && (Math.abs(h11) < (null !== (i11 = e10.width) && void 0 !== i11 ? i11 : 0) / 2 || Math.abs(h11) == (null !== (n11 = e10.width) && void 0 !== n11 ? n11 : 0) / 2 && Math.abs(l11.y - (null !== (a11 = e10.y) && void 0 !== a11 ? a11 : 0)) > (null !== (o11 = e10.height) && void 0 !== o11 ? o11 : 0) / 2 - y10)) {
      let r12 = y10 * y10 * (1 - h11 * h11 / (f10 * f10));
      r12 > 0 && (r12 = Math.sqrt(r12)), r12 = y10 - r12, t34.y - (null !== (s11 = e10.y) && void 0 !== s11 ? s11 : 0) > 0 && (r12 = -r12), l11.y += r12;
    }
    return l11;
  }, u10;
}
async function yf(t33, e10) {
  var r10, i10, n10, a10;
  let { labelStyles: o10, nodeStyles: s10 } = mq(e10);
  e10.labelStyle = o10;
  let { shapeSvg: l10, bbox: h10, label: u10 } = await mA(t33, e10, mI(e10)), d10 = h10.width + e10.padding, p10 = h10.height + e10.padding, g10 = 0.2 * p10, f10 = -d10 / 2, y10 = -p10 / 2 - g10 / 2, { cssStyles: v10 } = e10, x10 = mS.svg(l10), b10 = mY(e10, {});
  "handDrawn" !== e10.look && (b10.roughness = 0, b10.fillStyle = "solid");
  let w10 = x10.polygon([{ x: f10, y: y10 + g10 }, { x: -f10, y: y10 + g10 }, { x: -f10, y: -y10 }, { x: f10, y: -y10 }, { x: f10, y: y10 }, { x: -f10, y: y10 }, { x: -f10, y: y10 + g10 }].map((t34) => [t34.x, t34.y]), b10), k10 = l10.insert(() => w10, ":first-child");
  return k10.attr("class", "basic label-container"), v10 && "handDrawn" !== e10.look && k10.selectAll("path").attr("style", v10), s10 && "handDrawn" !== e10.look && k10.selectAll("path").attr("style", s10), u10.attr("transform", `translate(${f10 + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) / 2 - (h10.x - (null !== (i10 = h10.left) && void 0 !== i10 ? i10 : 0))}, ${y10 + g10 + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) / 2 - (h10.y - (null !== (a10 = h10.top) && void 0 !== a10 ? a10 : 0))})`), mN(e10, k10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, l10;
}
async function ym(t33, e10) {
  let r10;
  let { labelStyles: i10, nodeStyles: n10 } = mq(e10);
  e10.labelStyle = i10;
  let { shapeSvg: a10, bbox: o10, halfPadding: s10 } = await mA(t33, e10, mI(e10)), l10 = o10.width / 2 + s10 + 5, h10 = o10.width / 2 + s10, { cssStyles: u10 } = e10;
  if ("handDrawn" === e10.look) {
    var d10, p10;
    let t34 = mS.svg(a10), i11 = mY(e10, { roughness: 0.2, strokeWidth: 2.5 }), n11 = mY(e10, { roughness: 0.2, strokeWidth: 1.5 }), o11 = t34.circle(0, 0, 2 * l10, i11), s11 = t34.circle(0, 0, 2 * h10, n11);
    (r10 = a10.insert("g", ":first-child")).attr("class", gA(e10.cssClasses)).attr("style", gA(u10)), null === (d10 = r10.node()) || void 0 === d10 || d10.appendChild(o11), null === (p10 = r10.node()) || void 0 === p10 || p10.appendChild(s11);
  } else {
    let t34 = (r10 = a10.insert("g", ":first-child")).insert("circle", ":first-child"), e11 = r10.insert("circle");
    r10.attr("class", "basic label-container").attr("style", n10), t34.attr("class", "outer-circle").attr("style", n10).attr("r", l10).attr("cx", 0).attr("cy", 0), e11.attr("class", "inner-circle").attr("style", n10).attr("r", h10).attr("cx", 0).attr("cy", 0);
  }
  return mN(e10, r10), e10.intersect = function(t34) {
    return i0.info("DoubleCircle intersect", e10, l10, t34), m5.circle(e10, l10, t34);
  }, a10;
}
function yy(t33, e10, r10) {
  var i10;
  let { config: { themeVariables: n10 } } = r10, { labelStyles: a10, nodeStyles: o10 } = mq(e10);
  e10.label = "", e10.labelStyle = a10;
  let s10 = t33.insert("g").attr("class", mI(e10)).attr("id", null !== (i10 = e10.domId) && void 0 !== i10 ? i10 : e10.id), { cssStyles: l10 } = e10, h10 = mS.svg(s10), { nodeBorder: u10 } = n10, d10 = mY(e10, { fillStyle: "solid" });
  "handDrawn" !== e10.look && (d10.roughness = 0);
  let p10 = h10.circle(0, 0, 14, d10), g10 = s10.insert(() => p10, ":first-child");
  return g10.selectAll("path").attr("style", `fill: ${u10} !important;`), l10 && l10.length > 0 && "handDrawn" !== e10.look && g10.selectAll("path").attr("style", l10), o10 && "handDrawn" !== e10.look && g10.selectAll("path").attr("style", o10), mN(e10, g10), e10.intersect = function(t34) {
    return i0.info("filledCircle intersect", e10, { radius: 7, point: t34 }), m5.circle(e10, 7, t34);
  }, s10;
}
async function yv(t33, e10) {
  var r10, i10, n10, a10;
  let { labelStyles: o10, nodeStyles: s10 } = mq(e10);
  e10.labelStyle = o10;
  let { shapeSvg: l10, bbox: h10, label: u10 } = await mA(t33, e10, mI(e10)), d10 = h10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), p10 = d10 + h10.height, g10 = d10 + h10.height, f10 = [{ x: 0, y: -p10 }, { x: g10, y: -p10 }, { x: g10 / 2, y: 0 }], { cssStyles: y10 } = e10, v10 = mS.svg(l10), x10 = mY(e10, {});
  "handDrawn" !== e10.look && (x10.roughness = 0, x10.fillStyle = "solid");
  let b10 = mM(f10), w10 = v10.path(b10, x10), k10 = l10.insert(() => w10, ":first-child").attr("transform", `translate(${-p10 / 2}, ${p10 / 2})`);
  return y10 && "handDrawn" !== e10.look && k10.selectChildren("path").attr("style", y10), s10 && "handDrawn" !== e10.look && k10.selectChildren("path").attr("style", s10), e10.width = d10, e10.height = p10, mN(e10, k10), u10.attr("transform", `translate(${-h10.width / 2 - (h10.x - (null !== (i10 = h10.left) && void 0 !== i10 ? i10 : 0))}, ${-p10 / 2 + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) / 2 + (h10.y - (null !== (a10 = h10.top) && void 0 !== a10 ? a10 : 0))})`), e10.intersect = function(t34) {
    return i0.info("Triangle intersect", e10, f10, t34), m5.polygon(e10, f10, t34);
  }, l10;
}
function yx(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10;
  let { dir: h10, config: { state: u10, themeVariables: d10 } } = r10, { nodeStyles: p10 } = mq(e10);
  e10.label = "";
  let g10 = t33.insert("g").attr("class", mI(e10)).attr("id", null !== (i10 = e10.domId) && void 0 !== i10 ? i10 : e10.id), { cssStyles: f10 } = e10, y10 = Math.max(70, null !== (n10 = null == e10 ? void 0 : e10.width) && void 0 !== n10 ? n10 : 0), v10 = Math.max(10, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0);
  "LR" === h10 && (y10 = Math.max(10, null !== (o10 = null == e10 ? void 0 : e10.width) && void 0 !== o10 ? o10 : 0), v10 = Math.max(70, null !== (s10 = null == e10 ? void 0 : e10.height) && void 0 !== s10 ? s10 : 0));
  let x10 = -1 * y10 / 2, b10 = -1 * v10 / 2, w10 = mS.svg(g10), k10 = mY(e10, { stroke: d10.lineColor, fill: d10.lineColor });
  "handDrawn" !== e10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let _10 = w10.rectangle(x10, b10, y10, v10, k10), T10 = g10.insert(() => _10, ":first-child");
  f10 && "handDrawn" !== e10.look && T10.selectAll("path").attr("style", f10), p10 && "handDrawn" !== e10.look && T10.selectAll("path").attr("style", p10), mN(e10, T10);
  let E10 = null !== (l10 = null == u10 ? void 0 : u10.padding) && void 0 !== l10 ? l10 : 0;
  return e10.width && e10.height && (e10.width += E10 / 2 || 0, e10.height += E10 / 2 || 0), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, g10;
}
async function yb(t33, e10) {
  var r10, i10, n10, a10;
  let { labelStyles: o10, nodeStyles: s10 } = mq(e10);
  e10.labelStyle = o10;
  let { shapeSvg: l10, bbox: h10 } = await mA(t33, e10, mI(e10)), u10 = Math.max(80, h10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), d10 = Math.max(50, h10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), p10 = d10 / 2, { cssStyles: g10 } = e10, f10 = mS.svg(l10), y10 = mY(e10, {});
  "handDrawn" !== e10.look && (y10.roughness = 0, y10.fillStyle = "solid");
  let v10 = [{ x: -u10 / 2, y: -d10 / 2 }, { x: u10 / 2 - p10, y: -d10 / 2 }, ...mD(-u10 / 2 + p10, 0, p10, 50, 90, 270), { x: u10 / 2 - p10, y: d10 / 2 }, { x: -u10 / 2, y: d10 / 2 }], x10 = mM(v10), b10 = f10.path(x10, y10), w10 = l10.insert(() => b10, ":first-child");
  return w10.attr("class", "basic label-container"), g10 && "handDrawn" !== e10.look && w10.selectChildren("path").attr("style", g10), s10 && "handDrawn" !== e10.look && w10.selectChildren("path").attr("style", s10), mN(e10, w10), e10.intersect = function(t34) {
    return i0.info("Pill intersect", e10, { radius: p10, point: t34 }), m5.polygon(e10, v10, t34);
  }, l10;
}
iZ(yg, "cylinder"), iZ(yf, "dividedRectangle"), iZ(ym, "doublecircle"), iZ(yy, "filledCircle"), iZ(yv, "flippedTriangle"), iZ(yx, "forkJoin"), iZ(yb, "halfRoundedRectangle");
var yw = iZ((t33, e10, r10, i10, n10) => `M${t33 + n10},${e10} L${t33 + r10 - n10},${e10} L${t33 + r10},${e10 - i10 / 2} L${t33 + r10 - n10},${e10 - i10} L${t33 + n10},${e10 - i10} L${t33},${e10 - i10 / 2} Z`, "createHexagonPathD");
async function yk(t33, e10) {
  let r10;
  let { labelStyles: i10, nodeStyles: n10 } = mq(e10);
  e10.labelStyle = i10;
  let { shapeSvg: a10, bbox: o10 } = await mA(t33, e10, mI(e10)), s10 = o10.height + e10.padding, l10 = s10 / 4, h10 = o10.width + 2 * l10 + e10.padding, u10 = [{ x: l10, y: 0 }, { x: h10 - l10, y: 0 }, { x: h10, y: -s10 / 2 }, { x: h10 - l10, y: -s10 }, { x: l10, y: -s10 }, { x: 0, y: -s10 / 2 }], { cssStyles: d10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(a10), i11 = mY(e10, {}), n11 = yw(0, 0, h10, s10, l10), o11 = t34.path(n11, i11);
    r10 = a10.insert(() => o11, ":first-child").attr("transform", `translate(${-h10 / 2}, ${s10 / 2})`), d10 && r10.attr("style", d10);
  } else r10 = m8(a10, h10, s10, u10);
  return n10 && r10.attr("style", n10), e10.width = h10, e10.height = s10, mN(e10, r10), e10.intersect = function(t34) {
    return m5.polygon(e10, u10, t34);
  }, a10;
}
async function y_(t33, e10) {
  var r10, i10;
  let { labelStyles: n10, nodeStyles: a10 } = mq(e10);
  e10.label = "", e10.labelStyle = n10;
  let { shapeSvg: o10 } = await mA(t33, e10, mI(e10)), s10 = Math.max(30, null !== (r10 = null == e10 ? void 0 : e10.width) && void 0 !== r10 ? r10 : 0), l10 = Math.max(30, null !== (i10 = null == e10 ? void 0 : e10.height) && void 0 !== i10 ? i10 : 0), { cssStyles: h10 } = e10, u10 = mS.svg(o10), d10 = mY(e10, {});
  "handDrawn" !== e10.look && (d10.roughness = 0, d10.fillStyle = "solid");
  let p10 = [{ x: 0, y: 0 }, { x: s10, y: 0 }, { x: 0, y: l10 }, { x: s10, y: l10 }], g10 = mM(p10), f10 = u10.path(g10, d10), y10 = o10.insert(() => f10, ":first-child");
  return y10.attr("class", "basic label-container"), h10 && "handDrawn" !== e10.look && y10.selectChildren("path").attr("style", h10), a10 && "handDrawn" !== e10.look && y10.selectChildren("path").attr("style", a10), y10.attr("transform", `translate(${-s10 / 2}, ${-l10 / 2})`), mN(e10, y10), e10.intersect = function(t34) {
    return i0.info("Pill intersect", e10, { points: p10 }), m5.polygon(e10, p10, t34);
  }, o10;
}
async function yT(t33, e10, r10) {
  var i10, n10, a10, o10;
  let { config: { themeVariables: s10, flowchart: l10 } } = r10, { labelStyles: h10 } = mq(e10);
  e10.labelStyle = h10;
  let u10 = Math.max(null !== (i10 = e10.assetHeight) && void 0 !== i10 ? i10 : 48, null !== (n10 = e10.assetWidth) && void 0 !== n10 ? n10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  e10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: g10, label: f10 } = await mA(t33, e10, "icon-shape default"), y10 = "t" === e10.pos, { nodeBorder: v10 } = s10, { stylesMap: x10 } = mU(e10), b10 = -u10 / 2, w10 = -u10 / 2, k10 = e10.label ? 8 : 0, _10 = mS.svg(p10), T10 = mY(e10, { stroke: "none", fill: "none" });
  "handDrawn" !== e10.look && (T10.roughness = 0, T10.fillStyle = "solid");
  let E10 = _10.rectangle(b10, w10, u10, u10, T10), C10 = Math.max(u10, g10.width), S10 = u10 + g10.height + k10, A10 = _10.rectangle(-C10 / 2, -S10 / 2, C10, S10, { ...T10, fill: "transparent", stroke: "none" }), L10 = p10.insert(() => E10, ":first-child"), N10 = p10.insert(() => A10);
  if (e10.icon) {
    let t34 = p10.append("g");
    t34.html(`<g>${await li(e10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
    let r11 = t34.node().getBBox(), i11 = r11.width, n11 = r11.height, o11 = r11.x, s11 = r11.y;
    t34.attr("transform", `translate(${-i11 / 2 - o11},${y10 ? g10.height / 2 + k10 / 2 - n11 / 2 - s11 : -g10.height / 2 - k10 / 2 - n11 / 2 - s11})`), t34.attr("style", `color: ${null !== (a10 = x10.get("stroke")) && void 0 !== a10 ? a10 : v10};`);
  }
  return f10.attr("transform", `translate(${-g10.width / 2 - (g10.x - (null !== (o10 = g10.left) && void 0 !== o10 ? o10 : 0))},${y10 ? -S10 / 2 : S10 / 2 - g10.height})`), L10.attr("transform", `translate(0,${y10 ? g10.height / 2 + k10 / 2 : -g10.height / 2 - k10 / 2})`), mN(e10, N10), e10.intersect = function(t34) {
    var r11, i11, n11;
    if (i0.info("iconSquare intersect", e10, t34), !e10.label) return m5.rect(e10, t34);
    let a11 = null !== (r11 = e10.x) && void 0 !== r11 ? r11 : 0, o11 = null !== (i11 = e10.y) && void 0 !== i11 ? i11 : 0, s11 = null !== (n11 = e10.height) && void 0 !== n11 ? n11 : 0, l11 = [];
    return l11 = y10 ? [{ x: a11 - g10.width / 2, y: o11 - s11 / 2 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 + g10.height + k10 }, { x: a11 + u10 / 2, y: o11 - s11 / 2 + g10.height + k10 }, { x: a11 + u10 / 2, y: o11 + s11 / 2 }, { x: a11 - u10 / 2, y: o11 + s11 / 2 }, { x: a11 - u10 / 2, y: o11 - s11 / 2 + g10.height + k10 }, { x: a11 - g10.width / 2, y: o11 - s11 / 2 + g10.height + k10 }] : [{ x: a11 - u10 / 2, y: o11 - s11 / 2 }, { x: a11 + u10 / 2, y: o11 - s11 / 2 }, { x: a11 + u10 / 2, y: o11 - s11 / 2 + u10 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 + u10 }, { x: a11 + g10.width / 2 / 2, y: o11 + s11 / 2 }, { x: a11 - g10.width / 2, y: o11 + s11 / 2 }, { x: a11 - g10.width / 2, y: o11 - s11 / 2 + u10 }, { x: a11 - u10 / 2, y: o11 - s11 / 2 + u10 }], m5.polygon(e10, l11, t34);
  }, p10;
}
async function yE(t33, e10, r10) {
  var i10, n10, a10, o10;
  let { config: { themeVariables: s10, flowchart: l10 } } = r10, { labelStyles: h10 } = mq(e10);
  e10.labelStyle = h10;
  let u10 = Math.max(null !== (i10 = e10.assetHeight) && void 0 !== i10 ? i10 : 48, null !== (n10 = e10.assetWidth) && void 0 !== n10 ? n10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  e10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: g10, label: f10 } = await mA(t33, e10, "icon-shape default"), y10 = e10.label ? 8 : 0, v10 = "t" === e10.pos, { nodeBorder: x10, mainBkg: b10 } = s10, { stylesMap: w10 } = mU(e10), k10 = mS.svg(p10), _10 = mY(e10, {});
  "handDrawn" !== e10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = w10.get("fill");
  _10.stroke = null != T10 ? T10 : b10;
  let E10 = p10.append("g");
  e10.icon && E10.html(`<g>${await li(e10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
  let C10 = E10.node().getBBox(), S10 = C10.width, A10 = C10.height, L10 = C10.x, N10 = C10.y, I10 = Math.max(S10, A10) * Math.SQRT2 + 40, M10 = k10.circle(0, 0, I10, _10), R10 = Math.max(I10, g10.width), D10 = I10 + g10.height + y10, O10 = k10.rectangle(-R10 / 2, -D10 / 2, R10, D10, { ..._10, fill: "transparent", stroke: "none" }), P10 = p10.insert(() => M10, ":first-child"), $10 = p10.insert(() => O10);
  return E10.attr("transform", `translate(${-S10 / 2 - L10},${v10 ? g10.height / 2 + y10 / 2 - A10 / 2 - N10 : -g10.height / 2 - y10 / 2 - A10 / 2 - N10})`), E10.attr("style", `color: ${null !== (a10 = w10.get("stroke")) && void 0 !== a10 ? a10 : x10};`), f10.attr("transform", `translate(${-g10.width / 2 - (g10.x - (null !== (o10 = g10.left) && void 0 !== o10 ? o10 : 0))},${v10 ? -D10 / 2 : D10 / 2 - g10.height})`), P10.attr("transform", `translate(0,${v10 ? g10.height / 2 + y10 / 2 : -g10.height / 2 - y10 / 2})`), mN(e10, $10), e10.intersect = function(t34) {
    return i0.info("iconSquare intersect", e10, t34), m5.rect(e10, t34);
  }, p10;
}
async function yC(t33, e10, r10) {
  var i10, n10, a10, o10;
  let { config: { themeVariables: s10, flowchart: l10 } } = r10, { labelStyles: h10 } = mq(e10);
  e10.labelStyle = h10;
  let u10 = Math.max(null !== (i10 = e10.assetHeight) && void 0 !== i10 ? i10 : 48, null !== (n10 = e10.assetWidth) && void 0 !== n10 ? n10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  e10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: g10, halfPadding: f10, label: y10 } = await mA(t33, e10, "icon-shape default"), v10 = "t" === e10.pos, x10 = u10 + 2 * f10, b10 = u10 + 2 * f10, { nodeBorder: w10, mainBkg: k10 } = s10, { stylesMap: _10 } = mU(e10), T10 = e10.label ? 8 : 0, E10 = mS.svg(p10), C10 = mY(e10, {});
  "handDrawn" !== e10.look && (C10.roughness = 0, C10.fillStyle = "solid");
  let S10 = _10.get("fill");
  C10.stroke = null != S10 ? S10 : k10;
  let A10 = E10.path(mF(-b10 / 2, -x10 / 2, b10, x10, 5), C10), L10 = Math.max(b10, g10.width), N10 = x10 + g10.height + T10, I10 = E10.rectangle(-L10 / 2, -N10 / 2, L10, N10, { ...C10, fill: "transparent", stroke: "none" }), M10 = p10.insert(() => A10, ":first-child").attr("class", "icon-shape2"), R10 = p10.insert(() => I10);
  if (e10.icon) {
    let t34 = p10.append("g");
    t34.html(`<g>${await li(e10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
    let r11 = t34.node().getBBox(), i11 = r11.width, n11 = r11.height, o11 = r11.x, s11 = r11.y;
    t34.attr("transform", `translate(${-i11 / 2 - o11},${v10 ? g10.height / 2 + T10 / 2 - n11 / 2 - s11 : -g10.height / 2 - T10 / 2 - n11 / 2 - s11})`), t34.attr("style", `color: ${null !== (a10 = _10.get("stroke")) && void 0 !== a10 ? a10 : w10};`);
  }
  return y10.attr("transform", `translate(${-g10.width / 2 - (g10.x - (null !== (o10 = g10.left) && void 0 !== o10 ? o10 : 0))},${v10 ? -N10 / 2 : N10 / 2 - g10.height})`), M10.attr("transform", `translate(0,${v10 ? g10.height / 2 + T10 / 2 : -g10.height / 2 - T10 / 2})`), mN(e10, R10), e10.intersect = function(t34) {
    var r11, i11, n11;
    if (i0.info("iconSquare intersect", e10, t34), !e10.label) return m5.rect(e10, t34);
    let a11 = null !== (r11 = e10.x) && void 0 !== r11 ? r11 : 0, o11 = null !== (i11 = e10.y) && void 0 !== i11 ? i11 : 0, s11 = null !== (n11 = e10.height) && void 0 !== n11 ? n11 : 0, l11 = [];
    return l11 = v10 ? [{ x: a11 - g10.width / 2, y: o11 - s11 / 2 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 + g10.height + T10 }, { x: a11 + b10 / 2, y: o11 - s11 / 2 + g10.height + T10 }, { x: a11 + b10 / 2, y: o11 + s11 / 2 }, { x: a11 - b10 / 2, y: o11 + s11 / 2 }, { x: a11 - b10 / 2, y: o11 - s11 / 2 + g10.height + T10 }, { x: a11 - g10.width / 2, y: o11 - s11 / 2 + g10.height + T10 }] : [{ x: a11 - b10 / 2, y: o11 - s11 / 2 }, { x: a11 + b10 / 2, y: o11 - s11 / 2 }, { x: a11 + b10 / 2, y: o11 - s11 / 2 + x10 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 + x10 }, { x: a11 + g10.width / 2 / 2, y: o11 + s11 / 2 }, { x: a11 - g10.width / 2, y: o11 + s11 / 2 }, { x: a11 - g10.width / 2, y: o11 - s11 / 2 + x10 }, { x: a11 - b10 / 2, y: o11 - s11 / 2 + x10 }], m5.polygon(e10, l11, t34);
  }, p10;
}
async function yS(t33, e10, r10) {
  var i10, n10, a10, o10;
  let { config: { themeVariables: s10, flowchart: l10 } } = r10, { labelStyles: h10 } = mq(e10);
  e10.labelStyle = h10;
  let u10 = Math.max(null !== (i10 = e10.assetHeight) && void 0 !== i10 ? i10 : 48, null !== (n10 = e10.assetWidth) && void 0 !== n10 ? n10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  e10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: g10, halfPadding: f10, label: y10 } = await mA(t33, e10, "icon-shape default"), v10 = "t" === e10.pos, x10 = u10 + 2 * f10, b10 = u10 + 2 * f10, { nodeBorder: w10, mainBkg: k10 } = s10, { stylesMap: _10 } = mU(e10), T10 = e10.label ? 8 : 0, E10 = mS.svg(p10), C10 = mY(e10, {});
  "handDrawn" !== e10.look && (C10.roughness = 0, C10.fillStyle = "solid");
  let S10 = _10.get("fill");
  C10.stroke = null != S10 ? S10 : k10;
  let A10 = E10.path(mF(-b10 / 2, -x10 / 2, b10, x10, 0.1), C10), L10 = Math.max(b10, g10.width), N10 = x10 + g10.height + T10, I10 = E10.rectangle(-L10 / 2, -N10 / 2, L10, N10, { ...C10, fill: "transparent", stroke: "none" }), M10 = p10.insert(() => A10, ":first-child"), R10 = p10.insert(() => I10);
  if (e10.icon) {
    let t34 = p10.append("g");
    t34.html(`<g>${await li(e10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
    let r11 = t34.node().getBBox(), i11 = r11.width, n11 = r11.height, o11 = r11.x, s11 = r11.y;
    t34.attr("transform", `translate(${-i11 / 2 - o11},${v10 ? g10.height / 2 + T10 / 2 - n11 / 2 - s11 : -g10.height / 2 - T10 / 2 - n11 / 2 - s11})`), t34.attr("style", `color: ${null !== (a10 = _10.get("stroke")) && void 0 !== a10 ? a10 : w10};`);
  }
  return y10.attr("transform", `translate(${-g10.width / 2 - (g10.x - (null !== (o10 = g10.left) && void 0 !== o10 ? o10 : 0))},${v10 ? -N10 / 2 : N10 / 2 - g10.height})`), M10.attr("transform", `translate(0,${v10 ? g10.height / 2 + T10 / 2 : -g10.height / 2 - T10 / 2})`), mN(e10, R10), e10.intersect = function(t34) {
    var r11, i11, n11;
    if (i0.info("iconSquare intersect", e10, t34), !e10.label) return m5.rect(e10, t34);
    let a11 = null !== (r11 = e10.x) && void 0 !== r11 ? r11 : 0, o11 = null !== (i11 = e10.y) && void 0 !== i11 ? i11 : 0, s11 = null !== (n11 = e10.height) && void 0 !== n11 ? n11 : 0, l11 = [];
    return l11 = v10 ? [{ x: a11 - g10.width / 2, y: o11 - s11 / 2 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 + g10.height + T10 }, { x: a11 + b10 / 2, y: o11 - s11 / 2 + g10.height + T10 }, { x: a11 + b10 / 2, y: o11 + s11 / 2 }, { x: a11 - b10 / 2, y: o11 + s11 / 2 }, { x: a11 - b10 / 2, y: o11 - s11 / 2 + g10.height + T10 }, { x: a11 - g10.width / 2, y: o11 - s11 / 2 + g10.height + T10 }] : [{ x: a11 - b10 / 2, y: o11 - s11 / 2 }, { x: a11 + b10 / 2, y: o11 - s11 / 2 }, { x: a11 + b10 / 2, y: o11 - s11 / 2 + x10 }, { x: a11 + g10.width / 2, y: o11 - s11 / 2 + x10 }, { x: a11 + g10.width / 2 / 2, y: o11 + s11 / 2 }, { x: a11 - g10.width / 2, y: o11 + s11 / 2 }, { x: a11 - g10.width / 2, y: o11 - s11 / 2 + x10 }, { x: a11 - b10 / 2, y: o11 - s11 / 2 + x10 }], m5.polygon(e10, l11, t34);
  }, p10;
}
async function yA(t33, e10, r10) {
  var i10, n10, a10, o10;
  let { config: { flowchart: s10 } } = r10, l10 = new Image();
  l10.src = null !== (i10 = null == e10 ? void 0 : e10.img) && void 0 !== i10 ? i10 : "", await l10.decode();
  let h10 = Number(l10.naturalWidth.toString().replace("px", "")), u10 = Number(l10.naturalHeight.toString().replace("px", ""));
  e10.imageAspectRatio = h10 / u10;
  let { labelStyles: d10 } = mq(e10);
  e10.labelStyle = d10;
  let p10 = null == s10 ? void 0 : s10.wrappingWidth;
  e10.defaultWidth = null == s10 ? void 0 : s10.wrappingWidth;
  let g10 = Math.max(e10.label && null != p10 ? p10 : 0, null !== (n10 = null == e10 ? void 0 : e10.assetWidth) && void 0 !== n10 ? n10 : h10), f10 = "on" === e10.constraint && (null == e10 ? void 0 : e10.assetHeight) ? e10.assetHeight * e10.imageAspectRatio : g10, y10 = "on" === e10.constraint ? f10 / e10.imageAspectRatio : null !== (a10 = null == e10 ? void 0 : e10.assetHeight) && void 0 !== a10 ? a10 : u10;
  e10.width = Math.max(f10, null != p10 ? p10 : 0);
  let { shapeSvg: v10, bbox: x10, label: b10 } = await mA(t33, e10, "image-shape default"), w10 = "t" === e10.pos, k10 = -f10 / 2, _10 = e10.label ? 8 : 0, T10 = mS.svg(v10), E10 = mY(e10, {});
  "handDrawn" !== e10.look && (E10.roughness = 0, E10.fillStyle = "solid");
  let C10 = T10.rectangle(k10, -y10 / 2, f10, y10, E10), S10 = Math.max(f10, x10.width), A10 = y10 + x10.height + _10, L10 = T10.rectangle(-S10 / 2, -A10 / 2, S10, A10, { ...E10, fill: "none", stroke: "none" }), N10 = v10.insert(() => C10, ":first-child"), I10 = v10.insert(() => L10);
  if (e10.img) {
    let t34 = v10.append("image");
    t34.attr("href", e10.img), t34.attr("width", f10), t34.attr("height", y10), t34.attr("preserveAspectRatio", "none"), t34.attr("transform", `translate(${-f10 / 2},${w10 ? A10 / 2 - y10 : -A10 / 2})`);
  }
  return b10.attr("transform", `translate(${-x10.width / 2 - (x10.x - (null !== (o10 = x10.left) && void 0 !== o10 ? o10 : 0))},${w10 ? -y10 / 2 - x10.height / 2 - _10 / 2 : y10 / 2 - x10.height / 2 + _10 / 2})`), N10.attr("transform", `translate(0,${w10 ? x10.height / 2 + _10 / 2 : -x10.height / 2 - _10 / 2})`), mN(e10, I10), e10.intersect = function(t34) {
    var r11, i11, n11;
    if (i0.info("iconSquare intersect", e10, t34), !e10.label) return m5.rect(e10, t34);
    let a11 = null !== (r11 = e10.x) && void 0 !== r11 ? r11 : 0, o11 = null !== (i11 = e10.y) && void 0 !== i11 ? i11 : 0, s11 = null !== (n11 = e10.height) && void 0 !== n11 ? n11 : 0, l11 = [];
    return l11 = w10 ? [{ x: a11 - x10.width / 2, y: o11 - s11 / 2 }, { x: a11 + x10.width / 2, y: o11 - s11 / 2 }, { x: a11 + x10.width / 2, y: o11 - s11 / 2 + x10.height + _10 }, { x: a11 + f10 / 2, y: o11 - s11 / 2 + x10.height + _10 }, { x: a11 + f10 / 2, y: o11 + s11 / 2 }, { x: a11 - f10 / 2, y: o11 + s11 / 2 }, { x: a11 - f10 / 2, y: o11 - s11 / 2 + x10.height + _10 }, { x: a11 - x10.width / 2, y: o11 - s11 / 2 + x10.height + _10 }] : [{ x: a11 - f10 / 2, y: o11 - s11 / 2 }, { x: a11 + f10 / 2, y: o11 - s11 / 2 }, { x: a11 + f10 / 2, y: o11 - s11 / 2 + y10 }, { x: a11 + x10.width / 2, y: o11 - s11 / 2 + y10 }, { x: a11 + x10.width / 2 / 2, y: o11 + s11 / 2 }, { x: a11 - x10.width / 2, y: o11 + s11 / 2 }, { x: a11 - x10.width / 2, y: o11 - s11 / 2 + y10 }, { x: a11 - f10 / 2, y: o11 - s11 / 2 + y10 }], m5.polygon(e10, l11, t34);
  }, v10;
}
async function yL(t33, e10) {
  var r10, i10, n10, a10;
  let o10;
  let { labelStyles: s10, nodeStyles: l10 } = mq(e10);
  e10.labelStyle = s10;
  let { shapeSvg: h10, bbox: u10 } = await mA(t33, e10, mI(e10)), d10 = Math.max(u10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), p10 = Math.max(u10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), g10 = [{ x: 0, y: 0 }, { x: d10, y: 0 }, { x: d10 + 3 * p10 / 6, y: -p10 }, { x: -3 * p10 / 6, y: -p10 }], { cssStyles: f10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(h10), r11 = mY(e10, {}), i11 = mM(g10), n11 = t34.path(i11, r11);
    o10 = h10.insert(() => n11, ":first-child").attr("transform", `translate(${-d10 / 2}, ${p10 / 2})`), f10 && o10.attr("style", f10);
  } else o10 = m8(h10, d10, p10, g10);
  return l10 && o10.attr("style", l10), e10.width = d10, e10.height = p10, mN(e10, o10), e10.intersect = function(t34) {
    return m5.polygon(e10, g10, t34);
  }, h10;
}
async function yN(t33, e10, r10) {
  let i10;
  let { labelStyles: n10, nodeStyles: a10 } = mq(e10);
  e10.labelStyle = n10;
  let { shapeSvg: o10, bbox: s10 } = await mA(t33, e10, mI(e10)), l10 = Math.max(s10.width + 2 * r10.labelPaddingX, (null == e10 ? void 0 : e10.width) || 0), h10 = Math.max(s10.height + 2 * r10.labelPaddingY, (null == e10 ? void 0 : e10.height) || 0), u10 = -l10 / 2, d10 = -h10 / 2, { rx: p10, ry: g10 } = e10, { cssStyles: f10 } = e10;
  if ((null == r10 ? void 0 : r10.rx) && r10.ry && (p10 = r10.rx, g10 = r10.ry), "handDrawn" === e10.look) {
    let t34 = mS.svg(o10), r11 = mY(e10, {}), n11 = p10 || g10 ? t34.path(mF(u10, d10, l10, h10, p10 || 0), r11) : t34.rectangle(u10, d10, l10, h10, r11);
    (i10 = o10.insert(() => n11, ":first-child")).attr("class", "basic label-container").attr("style", gA(f10));
  } else (i10 = o10.insert("rect", ":first-child")).attr("class", "basic label-container").attr("style", a10).attr("rx", gA(p10)).attr("ry", gA(g10)).attr("x", u10).attr("y", d10).attr("width", l10).attr("height", h10);
  return mN(e10, i10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, o10;
}
async function yI(t33, e10) {
  var r10, i10;
  let { shapeSvg: n10, bbox: a10, label: o10 } = await mA(t33, e10, "label"), s10 = n10.insert("rect", ":first-child");
  return s10.attr("width", 0.1).attr("height", 0.1), n10.attr("class", "label edgeLabel"), o10.attr("transform", `translate(${-(a10.width / 2) - (a10.x - (null !== (r10 = a10.left) && void 0 !== r10 ? r10 : 0))}, ${-(a10.height / 2) - (a10.y - (null !== (i10 = a10.top) && void 0 !== i10 ? i10 : 0))})`), mN(e10, s10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, n10;
}
async function yM(t33, e10) {
  var r10, i10, n10, a10;
  let o10;
  let { labelStyles: s10, nodeStyles: l10 } = mq(e10);
  e10.labelStyle = s10;
  let { shapeSvg: h10, bbox: u10 } = await mA(t33, e10, mI(e10)), d10 = Math.max(u10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), p10 = Math.max(u10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0), null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), g10 = [{ x: 0, y: 0 }, { x: d10 + 3 * p10 / 6, y: 0 }, { x: d10, y: -p10 }, { x: -(3 * p10) / 6, y: -p10 }], { cssStyles: f10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(h10), r11 = mY(e10, {}), i11 = mM(g10), n11 = t34.path(i11, r11);
    o10 = h10.insert(() => n11, ":first-child").attr("transform", `translate(${-d10 / 2}, ${p10 / 2})`), f10 && o10.attr("style", f10);
  } else o10 = m8(h10, d10, p10, g10);
  return l10 && o10.attr("style", l10), e10.width = d10, e10.height = p10, mN(e10, o10), e10.intersect = function(t34) {
    return m5.polygon(e10, g10, t34);
  }, h10;
}
async function yR(t33, e10) {
  var r10, i10, n10, a10;
  let o10;
  let { labelStyles: s10, nodeStyles: l10 } = mq(e10);
  e10.labelStyle = s10;
  let { shapeSvg: h10, bbox: u10 } = await mA(t33, e10, mI(e10)), d10 = Math.max(u10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), p10 = Math.max(u10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0), null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), g10 = [{ x: -3 * p10 / 6, y: 0 }, { x: d10, y: 0 }, { x: d10 + 3 * p10 / 6, y: -p10 }, { x: 0, y: -p10 }], { cssStyles: f10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(h10), r11 = mY(e10, {}), i11 = mM(g10), n11 = t34.path(i11, r11);
    o10 = h10.insert(() => n11, ":first-child").attr("transform", `translate(${-d10 / 2}, ${p10 / 2})`), f10 && o10.attr("style", f10);
  } else o10 = m8(h10, d10, p10, g10);
  return l10 && o10.attr("style", l10), e10.width = d10, e10.height = p10, mN(e10, o10), e10.intersect = function(t34) {
    return m5.polygon(e10, g10, t34);
  }, h10;
}
function yD(t33, e10) {
  var r10, i10, n10;
  let { labelStyles: a10, nodeStyles: o10 } = mq(e10);
  e10.label = "", e10.labelStyle = a10;
  let s10 = t33.insert("g").attr("class", mI(e10)).attr("id", null !== (r10 = e10.domId) && void 0 !== r10 ? r10 : e10.id), { cssStyles: l10 } = e10, h10 = Math.max(35, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), u10 = Math.max(35, null !== (n10 = null == e10 ? void 0 : e10.height) && void 0 !== n10 ? n10 : 0), d10 = [{ x: h10, y: 0 }, { x: 0, y: u10 + 3.5 }, { x: h10 - 14, y: u10 + 3.5 }, { x: 0, y: 2 * u10 }, { x: h10, y: u10 - 3.5 }, { x: 14, y: u10 - 3.5 }], p10 = mS.svg(s10), g10 = mY(e10, {});
  "handDrawn" !== e10.look && (g10.roughness = 0, g10.fillStyle = "solid");
  let f10 = mM(d10), y10 = p10.path(f10, g10), v10 = s10.insert(() => y10, ":first-child");
  return l10 && "handDrawn" !== e10.look && v10.selectAll("path").attr("style", l10), o10 && "handDrawn" !== e10.look && v10.selectAll("path").attr("style", o10), v10.attr("transform", `translate(-${h10 / 2},${-u10})`), mN(e10, v10), e10.intersect = function(t34) {
    return i0.info("lightningBolt intersect", e10, t34), m5.polygon(e10, d10, t34);
  }, s10;
}
iZ(yk, "hexagon"), iZ(y_, "hourglass"), iZ(yT, "icon"), iZ(yE, "iconCircle"), iZ(yC, "iconRounded"), iZ(yS, "iconSquare"), iZ(yA, "imageSquare"), iZ(yL, "inv_trapezoid"), iZ(yN, "drawRect"), iZ(yI, "labelRect"), iZ(yM, "lean_left"), iZ(yR, "lean_right"), iZ(yD, "lightningBolt");
var yO = iZ((t33, e10, r10, i10, n10, a10, o10) => `M${t33},${e10 + a10} a${n10},${a10} 0,0,0 ${r10},0 a${n10},${a10} 0,0,0 ${-r10},0 l0,${i10} a${n10},${a10} 0,0,0 ${r10},0 l0,${-i10} M${t33},${e10 + a10 + o10} a${n10},${a10} 0,0,0 ${r10},0`, "createCylinderPathD"), yP = iZ((t33, e10, r10, i10, n10, a10, o10) => `M${t33},${e10 + a10} M${t33 + r10},${e10 + a10} a${n10},${a10} 0,0,0 ${-r10},0 l0,${i10} a${n10},${a10} 0,0,0 ${r10},0 l0,${-i10} M${t33},${e10 + a10 + o10} a${n10},${a10} 0,0,0 ${r10},0`, "createOuterCylinderPathD"), y$ = iZ((t33, e10, r10, i10, n10, a10) => `M${t33 - r10 / 2},${-i10 / 2} a${n10},${a10} 0,0,0 ${r10},0`, "createInnerCylinderPathD");
async function yB(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  let l10;
  let { labelStyles: h10, nodeStyles: u10 } = mq(e10);
  e10.labelStyle = h10;
  let { shapeSvg: d10, bbox: p10, label: g10 } = await mA(t33, e10, mI(e10)), f10 = Math.max(p10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), null !== (i10 = e10.width) && void 0 !== i10 ? i10 : 0), y10 = f10 / 2, v10 = y10 / (2.5 + f10 / 50), x10 = Math.max(p10.height + v10 + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0), null !== (a10 = e10.height) && void 0 !== a10 ? a10 : 0), b10 = 0.1 * x10, { cssStyles: w10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(d10), r11 = yP(0, 0, f10, x10, y10, v10, b10), i11 = y$(0, v10, f10, x10, y10, v10), n11 = mY(e10, {}), a11 = t34.path(r11, n11), o11 = t34.path(i11, n11);
    d10.insert(() => o11, ":first-child").attr("class", "line"), (l10 = d10.insert(() => a11, ":first-child")).attr("class", "basic label-container"), w10 && l10.attr("style", w10);
  } else {
    let t34 = yO(0, 0, f10, x10, y10, v10, b10);
    l10 = d10.insert("path", ":first-child").attr("d", t34).attr("class", "basic label-container").attr("style", gA(w10)).attr("style", u10);
  }
  return l10.attr("label-offset-y", v10), l10.attr("transform", `translate(${-f10 / 2}, ${-(x10 / 2 + v10)})`), mN(e10, l10), g10.attr("transform", `translate(${-(p10.width / 2) - (p10.x - (null !== (o10 = p10.left) && void 0 !== o10 ? o10 : 0))}, ${-(p10.height / 2) + v10 - (p10.y - (null !== (s10 = p10.top) && void 0 !== s10 ? s10 : 0))})`), e10.intersect = function(t34) {
    var r11, i11, n11, a11, o11, s11;
    let l11 = m5.rect(e10, t34), h11 = l11.x - (null !== (r11 = e10.x) && void 0 !== r11 ? r11 : 0);
    if (0 != y10 && (Math.abs(h11) < (null !== (i11 = e10.width) && void 0 !== i11 ? i11 : 0) / 2 || Math.abs(h11) == (null !== (n11 = e10.width) && void 0 !== n11 ? n11 : 0) / 2 && Math.abs(l11.y - (null !== (a11 = e10.y) && void 0 !== a11 ? a11 : 0)) > (null !== (o11 = e10.height) && void 0 !== o11 ? o11 : 0) / 2 - v10)) {
      let r12 = v10 * v10 * (1 - h11 * h11 / (y10 * y10));
      r12 > 0 && (r12 = Math.sqrt(r12)), r12 = v10 - r12, t34.y - (null !== (s11 = e10.y) && void 0 !== s11 ? s11 : 0) > 0 && (r12 = -r12), l11.y += r12;
    }
    return l11;
  }, d10;
}
async function yF(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = mq(e10);
  e10.labelStyle = u10;
  let { shapeSvg: p10, bbox: g10, label: f10 } = await mA(t33, e10, mI(e10)), y10 = Math.max(g10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), v10 = Math.max(g10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), x10 = v10 / 4, b10 = v10 + x10, { cssStyles: w10 } = e10, k10 = mS.svg(p10), _10 = mY(e10, {});
  "handDrawn" !== e10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = [{ x: -y10 / 2 - y10 / 2 * 0.1, y: -b10 / 2 }, { x: -y10 / 2 - y10 / 2 * 0.1, y: b10 / 2 }, ...mR(-y10 / 2 - y10 / 2 * 0.1, b10 / 2, y10 / 2 + y10 / 2 * 0.1, b10 / 2, x10, 0.8), { x: y10 / 2 + y10 / 2 * 0.1, y: -b10 / 2 }, { x: -y10 / 2 - y10 / 2 * 0.1, y: -b10 / 2 }, { x: -y10 / 2, y: -b10 / 2 }, { x: -y10 / 2, y: b10 / 2 * 1.1 }, { x: -y10 / 2, y: -b10 / 2 }], E10 = k10.polygon(T10.map((t34) => [t34.x, t34.y]), _10), C10 = p10.insert(() => E10, ":first-child");
  return C10.attr("class", "basic label-container"), w10 && "handDrawn" !== e10.look && C10.selectAll("path").attr("style", w10), d10 && "handDrawn" !== e10.look && C10.selectAll("path").attr("style", d10), C10.attr("transform", `translate(0,${-x10 / 2})`), f10.attr("transform", `translate(${-y10 / 2 + (null !== (o10 = e10.padding) && void 0 !== o10 ? o10 : 0) + y10 / 2 * 0.1 / 2 - (g10.x - (null !== (s10 = g10.left) && void 0 !== s10 ? s10 : 0))},${-v10 / 2 + (null !== (l10 = e10.padding) && void 0 !== l10 ? l10 : 0) - x10 / 2 - (g10.y - (null !== (h10 = g10.top) && void 0 !== h10 ? h10 : 0))})`), mN(e10, C10), e10.intersect = function(t34) {
    return m5.polygon(e10, T10, t34);
  }, p10;
}
async function yz(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  let { labelStyles: l10, nodeStyles: h10 } = mq(e10);
  e10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await mA(t33, e10, mI(e10)), g10 = Math.max(d10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), f10 = Math.max(d10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), y10 = -g10 / 2, v10 = -f10 / 2, { cssStyles: x10 } = e10, b10 = mS.svg(u10), w10 = mY(e10, {}), k10 = [{ x: y10 - 5, y: v10 + 5 }, { x: y10 - 5, y: v10 + f10 + 5 }, { x: y10 + g10 - 5, y: v10 + f10 + 5 }, { x: y10 + g10 - 5, y: v10 + f10 }, { x: y10 + g10, y: v10 + f10 }, { x: y10 + g10, y: v10 + f10 - 5 }, { x: y10 + g10 + 5, y: v10 + f10 - 5 }, { x: y10 + g10 + 5, y: v10 - 5 }, { x: y10 + 5, y: v10 - 5 }, { x: y10 + 5, y: v10 }, { x: y10, y: v10 }, { x: y10, y: v10 + 5 }];
  "handDrawn" !== e10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let _10 = mM(k10), T10 = b10.path(_10, w10), E10 = mM([{ x: y10, y: v10 + 5 }, { x: y10 + g10 - 5, y: v10 + 5 }, { x: y10 + g10 - 5, y: v10 + f10 }, { x: y10 + g10, y: v10 + f10 }, { x: y10 + g10, y: v10 }, { x: y10, y: v10 }]), C10 = b10.path(E10, { ...w10, fill: "none" }), S10 = u10.insert(() => C10, ":first-child");
  return S10.insert(() => T10, ":first-child"), S10.attr("class", "basic label-container"), x10 && "handDrawn" !== e10.look && S10.selectAll("path").attr("style", x10), h10 && "handDrawn" !== e10.look && S10.selectAll("path").attr("style", h10), p10.attr("transform", `translate(${-(d10.width / 2) - 5 - (d10.x - (null !== (o10 = d10.left) && void 0 !== o10 ? o10 : 0))}, ${-(d10.height / 2) + 5 - (d10.y - (null !== (s10 = d10.top) && void 0 !== s10 ? s10 : 0))})`), mN(e10, S10), e10.intersect = function(t34) {
    return m5.polygon(e10, k10, t34);
  }, u10;
}
async function yU(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  let { labelStyles: l10, nodeStyles: h10 } = mq(e10);
  e10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await mA(t33, e10, mI(e10)), g10 = Math.max(d10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), f10 = Math.max(d10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), y10 = f10 / 4, v10 = f10 + y10, x10 = -g10 / 2, b10 = -v10 / 2, { cssStyles: w10 } = e10, k10 = mR(x10 - 5, b10 + v10 + 5, x10 + g10 - 5, b10 + v10 + 5, y10, 0.8), _10 = null == k10 ? void 0 : k10[k10.length - 1], T10 = [{ x: x10 - 5, y: b10 + 5 }, { x: x10 - 5, y: b10 + v10 + 5 }, ...k10, { x: x10 + g10 - 5, y: _10.y - 5 }, { x: x10 + g10, y: _10.y - 5 }, { x: x10 + g10, y: _10.y - 10 }, { x: x10 + g10 + 5, y: _10.y - 10 }, { x: x10 + g10 + 5, y: b10 - 5 }, { x: x10 + 5, y: b10 - 5 }, { x: x10 + 5, y: b10 }, { x: x10, y: b10 }, { x: x10, y: b10 + 5 }], E10 = [{ x: x10, y: b10 + 5 }, { x: x10 + g10 - 5, y: b10 + 5 }, { x: x10 + g10 - 5, y: _10.y - 5 }, { x: x10 + g10, y: _10.y - 5 }, { x: x10 + g10, y: b10 }, { x: x10, y: b10 }], C10 = mS.svg(u10), S10 = mY(e10, {});
  "handDrawn" !== e10.look && (S10.roughness = 0, S10.fillStyle = "solid");
  let A10 = mM(T10), L10 = C10.path(A10, S10), N10 = mM(E10), I10 = C10.path(N10, S10), M10 = u10.insert(() => L10, ":first-child");
  return M10.insert(() => I10), M10.attr("class", "basic label-container"), w10 && "handDrawn" !== e10.look && M10.selectAll("path").attr("style", w10), h10 && "handDrawn" !== e10.look && M10.selectAll("path").attr("style", h10), M10.attr("transform", `translate(0,${-y10 / 2})`), p10.attr("transform", `translate(${-(d10.width / 2) - 5 - (d10.x - (null !== (o10 = d10.left) && void 0 !== o10 ? o10 : 0))}, ${-(d10.height / 2) + 5 - y10 / 2 - (d10.y - (null !== (s10 = d10.top) && void 0 !== s10 ? s10 : 0))})`), mN(e10, M10), e10.intersect = function(t34) {
    return m5.polygon(e10, T10, t34);
  }, u10;
}
async function yG(t33, e10, r10) {
  var i10, n10, a10, o10, s10;
  let { config: { themeVariables: l10 } } = r10, { labelStyles: h10, nodeStyles: u10 } = mq(e10);
  e10.labelStyle = h10, e10.useHtmlLabels || (null === (i10 = nM().flowchart) || void 0 === i10 ? void 0 : i10.htmlLabels) !== false || (e10.centerLabel = true);
  let { shapeSvg: d10, bbox: p10 } = await mA(t33, e10, mI(e10)), g10 = Math.max(p10.width + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.width) && void 0 !== a10 ? a10 : 0), f10 = Math.max(p10.height + (null !== (o10 = e10.padding) && void 0 !== o10 ? o10 : 0) * 2, null !== (s10 = null == e10 ? void 0 : e10.height) && void 0 !== s10 ? s10 : 0), { cssStyles: y10 } = e10, v10 = mS.svg(d10), x10 = mY(e10, { fill: l10.noteBkgColor, stroke: l10.noteBorderColor });
  "handDrawn" !== e10.look && (x10.roughness = 0, x10.fillStyle = "solid");
  let b10 = v10.rectangle(-g10 / 2, -f10 / 2, g10, f10, x10), w10 = d10.insert(() => b10, ":first-child");
  return w10.attr("class", "basic label-container"), y10 && "handDrawn" !== e10.look && w10.selectAll("path").attr("style", y10), u10 && "handDrawn" !== e10.look && w10.selectAll("path").attr("style", u10), mN(e10, w10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, d10;
}
iZ(yB, "linedCylinder"), iZ(yF, "linedWaveEdgedRect"), iZ(yz, "multiRect"), iZ(yU, "multiWaveEdgedRectangle"), iZ(yG, "note");
var yq = iZ((t33, e10, r10) => `M${t33 + r10 / 2},${e10} L${t33 + r10},${e10 - r10 / 2} L${t33 + r10 / 2},${e10 - r10} L${t33},${e10 - r10 / 2} Z`, "createDecisionBoxPathD");
async function yY(t33, e10) {
  let r10;
  let { labelStyles: i10, nodeStyles: n10 } = mq(e10);
  e10.labelStyle = i10;
  let { shapeSvg: a10, bbox: o10 } = await mA(t33, e10, mI(e10)), s10 = o10.width + e10.padding + (o10.height + e10.padding), l10 = [{ x: s10 / 2, y: 0 }, { x: s10, y: -s10 / 2 }, { x: s10 / 2, y: -s10 }, { x: 0, y: -s10 / 2 }], { cssStyles: h10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(a10), i11 = mY(e10, {}), n11 = yq(0, 0, s10), o11 = t34.path(n11, i11);
    r10 = a10.insert(() => o11, ":first-child").attr("transform", `translate(${-s10 / 2}, ${s10 / 2})`), h10 && r10.attr("style", h10);
  } else r10 = m8(a10, s10, s10, l10);
  return n10 && r10.attr("style", n10), mN(e10, r10), e10.intersect = function(t34) {
    return i0.debug("APA12 Intersect called SPLIT\npoint:", t34, "\nnode:\n", e10, "\nres:", m5.polygon(e10, l10, t34)), m5.polygon(e10, l10, t34);
  }, a10;
}
async function yH(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  let { labelStyles: l10, nodeStyles: h10 } = mq(e10);
  e10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await mA(t33, e10, mI(e10)), g10 = Math.max(d10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0), null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), f10 = Math.max(d10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0), null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), y10 = -g10 / 2, v10 = -f10 / 2, x10 = v10 / 2, b10 = [{ x: y10 + x10, y: v10 }, { x: y10, y: 0 }, { x: y10 + x10, y: -v10 }, { x: -y10, y: -v10 }, { x: -y10, y: v10 }], { cssStyles: w10 } = e10, k10 = mS.svg(u10), _10 = mY(e10, {});
  "handDrawn" !== e10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = mM(b10), E10 = k10.path(T10, _10), C10 = u10.insert(() => E10, ":first-child");
  return C10.attr("class", "basic label-container"), w10 && "handDrawn" !== e10.look && C10.selectAll("path").attr("style", w10), h10 && "handDrawn" !== e10.look && C10.selectAll("path").attr("style", h10), C10.attr("transform", `translate(${-x10 / 2},0)`), p10.attr("transform", `translate(${-x10 / 2 - d10.width / 2 - (d10.x - (null !== (o10 = d10.left) && void 0 !== o10 ? o10 : 0))}, ${-(d10.height / 2) - (d10.y - (null !== (s10 = d10.top) && void 0 !== s10 ? s10 : 0))})`), mN(e10, C10), e10.intersect = function(t34) {
    return m5.polygon(e10, b10, t34);
  }, u10;
}
async function yj(t33, e10) {
  var r10, i10;
  let n10, a10, o10;
  let { labelStyles: s10, nodeStyles: l10 } = mq(e10);
  e10.labelStyle = s10, n10 = e10.cssClasses ? "node " + e10.cssClasses : "node default";
  let h10 = t33.insert("g").attr("class", n10).attr("id", e10.domId || e10.id), u10 = h10.insert("g"), d10 = h10.insert("g").attr("class", "label").attr("style", l10), p10 = e10.description, g10 = e10.label, f10 = d10.node().appendChild(await mB(g10, e10.labelStyle, true, true)), y10 = { width: 0, height: 0 };
  if (nJ(null === (i10 = nM()) || void 0 === i10 ? void 0 : null === (r10 = i10.flowchart) || void 0 === r10 ? void 0 : r10.htmlLabels)) {
    let t34 = f10.children[0], e11 = hl(f10);
    y10 = t34.getBoundingClientRect(), e11.attr("width", y10.width), e11.attr("height", y10.height);
  }
  i0.info("Text 2", p10);
  let v10 = p10 || [], x10 = f10.getBBox(), b10 = d10.node().appendChild(await mB(v10.join ? v10.join("<br/>") : v10, e10.labelStyle, true, true)), w10 = b10.children[0], k10 = hl(b10);
  y10 = w10.getBoundingClientRect(), k10.attr("width", y10.width), k10.attr("height", y10.height);
  let _10 = (e10.padding || 0) / 2;
  hl(b10).attr("transform", "translate( " + (y10.width > x10.width ? 0 : (x10.width - y10.width) / 2) + ", " + (x10.height + _10 + 5) + ")"), hl(f10).attr("transform", "translate( " + (y10.width < x10.width ? 0 : -(x10.width - y10.width) / 2) + ", 0)"), y10 = d10.node().getBBox(), d10.attr("transform", "translate(" + -y10.width / 2 + ", " + (-y10.height / 2 - _10 + 3) + ")");
  let T10 = y10.width + (e10.padding || 0), E10 = y10.height + (e10.padding || 0), C10 = -y10.width / 2 - _10, S10 = -y10.height / 2 - _10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(h10), r11 = mY(e10, {}), i11 = t34.path(mF(C10, S10, T10, E10, e10.rx || 0), r11), n11 = t34.line(-y10.width / 2 - _10, -y10.height / 2 - _10 + x10.height + _10, y10.width / 2 + _10, -y10.height / 2 - _10 + x10.height + _10, r11);
    o10 = h10.insert(() => (i0.debug("Rough node insert CXC", i11), n11), ":first-child"), a10 = h10.insert(() => (i0.debug("Rough node insert CXC", i11), i11), ":first-child");
  } else a10 = u10.insert("rect", ":first-child"), o10 = u10.insert("line"), a10.attr("class", "outer title-state").attr("style", l10).attr("x", -y10.width / 2 - _10).attr("y", -y10.height / 2 - _10).attr("width", y10.width + (e10.padding || 0)).attr("height", y10.height + (e10.padding || 0)), o10.attr("class", "divider").attr("x1", -y10.width / 2 - _10).attr("x2", y10.width / 2 + _10).attr("y1", -y10.height / 2 - _10 + x10.height + _10).attr("y2", -y10.height / 2 - _10 + x10.height + _10);
  return mN(e10, a10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, h10;
}
async function yW(t33, e10) {
  let r10 = { rx: 5, ry: 5, classes: "", labelPaddingX: 1 * ((null == e10 ? void 0 : e10.padding) || 0), labelPaddingY: 1 * ((null == e10 ? void 0 : e10.padding) || 0) };
  return yN(t33, e10, r10);
}
async function yV(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10, u10;
  let { labelStyles: d10, nodeStyles: p10 } = mq(e10);
  e10.labelStyle = d10;
  let { shapeSvg: g10, bbox: f10, label: y10 } = await mA(t33, e10, mI(e10)), v10 = null !== (r10 = null == e10 ? void 0 : e10.padding) && void 0 !== r10 ? r10 : 0, x10 = Math.max(f10.width + (null !== (i10 = e10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (n10 = null == e10 ? void 0 : e10.width) && void 0 !== n10 ? n10 : 0), b10 = Math.max(f10.height + (null !== (a10 = e10.padding) && void 0 !== a10 ? a10 : 0) * 2, null !== (o10 = null == e10 ? void 0 : e10.height) && void 0 !== o10 ? o10 : 0), w10 = -f10.width / 2 - v10, k10 = -f10.height / 2 - v10, { cssStyles: _10 } = e10, T10 = mS.svg(g10), E10 = mY(e10, {});
  "handDrawn" !== e10.look && (E10.roughness = 0, E10.fillStyle = "solid");
  let C10 = T10.polygon([{ x: w10, y: k10 }, { x: w10 + x10 + 8, y: k10 }, { x: w10 + x10 + 8, y: k10 + b10 }, { x: w10 - 8, y: k10 + b10 }, { x: w10 - 8, y: k10 }, { x: w10, y: k10 }, { x: w10, y: k10 + b10 }].map((t34) => [t34.x, t34.y]), E10), S10 = g10.insert(() => C10, ":first-child");
  return S10.attr("class", "basic label-container").attr("style", gA(_10)), p10 && "handDrawn" !== e10.look && S10.selectAll("path").attr("style", p10), _10 && "handDrawn" !== e10.look && S10.selectAll("path").attr("style", p10), y10.attr("transform", `translate(${-x10 / 2 + 4 + (null !== (s10 = e10.padding) && void 0 !== s10 ? s10 : 0) - (f10.x - (null !== (l10 = f10.left) && void 0 !== l10 ? l10 : 0))},${-b10 / 2 + (null !== (h10 = e10.padding) && void 0 !== h10 ? h10 : 0) - (f10.y - (null !== (u10 = f10.top) && void 0 !== u10 ? u10 : 0))})`), mN(e10, S10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, g10;
}
async function yX(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = mq(e10);
  e10.labelStyle = u10;
  let { shapeSvg: p10, bbox: g10, label: f10 } = await mA(t33, e10, mI(e10)), y10 = Math.max(g10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), v10 = Math.max(g10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), x10 = -y10 / 2, b10 = -v10 / 2, { cssStyles: w10 } = e10, k10 = mS.svg(p10), _10 = mY(e10, {});
  "handDrawn" !== e10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = [{ x: x10, y: b10 }, { x: x10, y: b10 + v10 }, { x: x10 + y10, y: b10 + v10 }, { x: x10 + y10, y: b10 - v10 / 2 }], E10 = mM(T10), C10 = k10.path(E10, _10), S10 = p10.insert(() => C10, ":first-child");
  return S10.attr("class", "basic label-container"), w10 && "handDrawn" !== e10.look && S10.selectChildren("path").attr("style", w10), d10 && "handDrawn" !== e10.look && S10.selectChildren("path").attr("style", d10), S10.attr("transform", `translate(0, ${v10 / 4})`), f10.attr("transform", `translate(${-y10 / 2 + (null !== (o10 = e10.padding) && void 0 !== o10 ? o10 : 0) - (g10.x - (null !== (s10 = g10.left) && void 0 !== s10 ? s10 : 0))}, ${-v10 / 4 + (null !== (l10 = e10.padding) && void 0 !== l10 ? l10 : 0) - (g10.y - (null !== (h10 = g10.top) && void 0 !== h10 ? h10 : 0))})`), mN(e10, S10), e10.intersect = function(t34) {
    return m5.polygon(e10, T10, t34);
  }, p10;
}
async function yK(t33, e10) {
  let r10 = { rx: 0, ry: 0, classes: "", labelPaddingX: 2 * ((null == e10 ? void 0 : e10.padding) || 0), labelPaddingY: 1 * ((null == e10 ? void 0 : e10.padding) || 0) };
  return yN(t33, e10, r10);
}
async function yZ(t33, e10) {
  let r10;
  let { labelStyles: i10, nodeStyles: n10 } = mq(e10);
  e10.labelStyle = i10;
  let { shapeSvg: a10, bbox: o10 } = await mA(t33, e10, mI(e10)), s10 = o10.height + e10.padding, l10 = o10.width + s10 / 4 + e10.padding, { cssStyles: h10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(a10), i11 = mY(e10, {}), n11 = mF(-l10 / 2, -s10 / 2, l10, s10, s10 / 2), o11 = t34.path(n11, i11);
    (r10 = a10.insert(() => o11, ":first-child")).attr("class", "basic label-container").attr("style", gA(h10));
  } else (r10 = a10.insert("rect", ":first-child")).attr("class", "basic label-container").attr("style", n10).attr("rx", s10 / 2).attr("ry", s10 / 2).attr("x", -l10 / 2).attr("y", -s10 / 2).attr("width", l10).attr("height", s10);
  return mN(e10, r10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, a10;
}
async function yQ(t33, e10) {
  return yN(t33, e10, { rx: 5, ry: 5, classes: "flowchart-node" });
}
function yJ(t33, e10, r10) {
  let { config: { themeVariables: i10 } } = r10, { labelStyles: n10, nodeStyles: a10 } = mq(e10);
  e10.labelStyle = n10;
  let { cssStyles: o10 } = e10, { lineColor: s10, stateBorder: l10, nodeBorder: h10 } = i10, u10 = t33.insert("g").attr("class", "node default").attr("id", e10.domId || e10.id), d10 = mS.svg(u10), p10 = mY(e10, {});
  "handDrawn" !== e10.look && (p10.roughness = 0, p10.fillStyle = "solid");
  let g10 = d10.circle(0, 0, 14, { ...p10, stroke: s10, strokeWidth: 2 }), f10 = null != l10 ? l10 : h10, y10 = d10.circle(0, 0, 5, { ...p10, fill: f10, stroke: f10, strokeWidth: 2, fillStyle: "solid" }), v10 = u10.insert(() => g10, ":first-child");
  return v10.insert(() => y10), o10 && v10.selectAll("path").attr("style", o10), a10 && v10.selectAll("path").attr("style", a10), mN(e10, v10), e10.intersect = function(t34) {
    return m5.circle(e10, 7, t34);
  }, u10;
}
function y0(t33, e10, r10) {
  let i10, { config: { themeVariables: n10 } } = r10, { lineColor: a10 } = n10, o10 = t33.insert("g").attr("class", "node default").attr("id", e10.domId || e10.id);
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(o10).circle(0, 0, 14, mz(a10));
    (i10 = o10.insert(() => t34)).attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
  } else (i10 = o10.insert("circle", ":first-child")).attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
  return mN(e10, i10), e10.intersect = function(t34) {
    return m5.circle(e10, 7, t34);
  }, o10;
}
async function y1(t33, e10) {
  let { labelStyles: r10, nodeStyles: i10 } = mq(e10);
  e10.labelStyle = r10;
  let { shapeSvg: n10, bbox: a10 } = await mA(t33, e10, mI(e10)), o10 = ((null == e10 ? void 0 : e10.padding) || 0) / 2, s10 = a10.width + e10.padding, l10 = a10.height + e10.padding, h10 = -a10.width / 2 - o10, u10 = -a10.height / 2 - o10, d10 = [{ x: 0, y: 0 }, { x: s10, y: 0 }, { x: s10, y: -l10 }, { x: 0, y: -l10 }, { x: 0, y: 0 }, { x: -8, y: 0 }, { x: s10 + 8, y: 0 }, { x: s10 + 8, y: -l10 }, { x: -8, y: -l10 }, { x: -8, y: 0 }];
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(n10), r11 = mY(e10, {}), i11 = t34.rectangle(h10 - 8, u10, s10 + 16, l10, r11), a11 = t34.line(h10, u10, h10, u10 + l10, r11), o11 = t34.line(h10 + s10, u10, h10 + s10, u10 + l10, r11);
    n10.insert(() => a11, ":first-child"), n10.insert(() => o11, ":first-child");
    let d11 = n10.insert(() => i11, ":first-child"), { cssStyles: p10 } = e10;
    d11.attr("class", "basic label-container").attr("style", gA(p10)), mN(e10, d11);
  } else {
    let t34 = m8(n10, s10, l10, d10);
    i10 && t34.attr("style", i10), mN(e10, t34);
  }
  return e10.intersect = function(t34) {
    return m5.polygon(e10, d10, t34);
  }, n10;
}
async function y2(t33, e10) {
  var r10, i10, n10, a10;
  let { labelStyles: o10, nodeStyles: s10 } = mq(e10);
  e10.labelStyle = o10;
  let { shapeSvg: l10, bbox: h10 } = await mA(t33, e10, mI(e10)), u10 = Math.max(h10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), d10 = Math.max(h10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), p10 = -u10 / 2, g10 = -d10 / 2, f10 = 0.2 * d10, { cssStyles: y10 } = e10, v10 = mS.svg(l10), x10 = mY(e10, {}), b10 = [{ x: p10 - f10 / 2, y: g10 }, { x: p10 + u10 + f10 / 2, y: g10 }, { x: p10 + u10 + f10 / 2, y: g10 + d10 }, { x: p10 - f10 / 2, y: g10 + d10 }];
  "handDrawn" !== e10.look && (x10.roughness = 0, x10.fillStyle = "solid");
  let w10 = mM(b10), k10 = v10.path(w10, x10), _10 = mM([{ x: p10 + u10 - f10 / 2, y: g10 + d10 }, { x: p10 + u10 + f10 / 2, y: g10 + d10 }, { x: p10 + u10 + f10 / 2, y: g10 + d10 - 0.2 * d10 }]), T10 = v10.path(_10, { ...x10, fillStyle: "solid" }), E10 = l10.insert(() => T10, ":first-child");
  return E10.insert(() => k10, ":first-child"), E10.attr("class", "basic label-container"), y10 && "handDrawn" !== e10.look && E10.selectAll("path").attr("style", y10), s10 && "handDrawn" !== e10.look && E10.selectAll("path").attr("style", s10), mN(e10, E10), e10.intersect = function(t34) {
    return m5.polygon(e10, b10, t34);
  }, l10;
}
async function y4(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = mq(e10);
  e10.labelStyle = u10;
  let { shapeSvg: p10, bbox: g10, label: f10 } = await mA(t33, e10, mI(e10)), y10 = Math.max(g10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), v10 = Math.max(g10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), x10 = v10 / 4, b10 = 0.2 * y10, w10 = 0.2 * v10, k10 = v10 + x10, { cssStyles: _10 } = e10, T10 = mS.svg(p10), E10 = mY(e10, {});
  "handDrawn" !== e10.look && (E10.roughness = 0, E10.fillStyle = "solid");
  let C10 = [{ x: -y10 / 2 - y10 / 2 * 0.1, y: k10 / 2 }, ...mR(-y10 / 2 - y10 / 2 * 0.1, k10 / 2, y10 / 2 + y10 / 2 * 0.1, k10 / 2, x10, 0.8), { x: y10 / 2 + y10 / 2 * 0.1, y: -k10 / 2 }, { x: -y10 / 2 - y10 / 2 * 0.1, y: -k10 / 2 }], S10 = -y10 / 2 + y10 / 2 * 0.1, A10 = -k10 / 2 - 0.4 * w10, L10 = [{ x: S10 + y10 - b10, y: (A10 + v10) * 1.4 }, { x: S10 + y10, y: A10 + v10 - w10 }, { x: S10 + y10, y: (A10 + v10) * 0.9 }, ...mR(S10 + y10, (A10 + v10) * 1.3, S10 + y10 - b10, (A10 + v10) * 1.5, -(0.03 * v10), 0.5)], N10 = mM(C10), I10 = T10.path(N10, E10), M10 = mM(L10), R10 = T10.path(M10, { ...E10, fillStyle: "solid" }), D10 = p10.insert(() => R10, ":first-child");
  return D10.insert(() => I10, ":first-child"), D10.attr("class", "basic label-container"), _10 && "handDrawn" !== e10.look && D10.selectAll("path").attr("style", _10), d10 && "handDrawn" !== e10.look && D10.selectAll("path").attr("style", d10), D10.attr("transform", `translate(0,${-x10 / 2})`), f10.attr("transform", `translate(${-y10 / 2 + (null !== (o10 = e10.padding) && void 0 !== o10 ? o10 : 0) - (g10.x - (null !== (s10 = g10.left) && void 0 !== s10 ? s10 : 0))},${-v10 / 2 + (null !== (l10 = e10.padding) && void 0 !== l10 ? l10 : 0) - x10 / 2 - (g10.y - (null !== (h10 = g10.top) && void 0 !== h10 ? h10 : 0))})`), mN(e10, D10), e10.intersect = function(t34) {
    return m5.polygon(e10, C10, t34);
  }, p10;
}
async function y5(t33, e10) {
  let { labelStyles: r10, nodeStyles: i10 } = mq(e10);
  e10.labelStyle = r10;
  let { shapeSvg: n10, bbox: a10 } = await mA(t33, e10, mI(e10)), o10 = Math.max(a10.width + e10.padding, (null == e10 ? void 0 : e10.width) || 0), s10 = Math.max(a10.height + e10.padding, (null == e10 ? void 0 : e10.height) || 0), l10 = n10.insert("rect", ":first-child");
  return l10.attr("class", "text").attr("style", i10).attr("rx", 0).attr("ry", 0).attr("x", -o10 / 2).attr("y", -s10 / 2).attr("width", o10).attr("height", s10), mN(e10, l10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, n10;
}
iZ(yY, "question"), iZ(yH, "rect_left_inv_arrow"), iZ(yj, "rectWithTitle"), iZ(yW, "roundedRect"), iZ(yV, "shadedProcess"), iZ(yX, "slopedRect"), iZ(yK, "squareRect"), iZ(yZ, "stadium"), iZ(yQ, "state"), iZ(yJ, "stateEnd"), iZ(y0, "stateStart"), iZ(y1, "subroutine"), iZ(y2, "taggedRect"), iZ(y4, "taggedWaveEdgedRectangle"), iZ(y5, "text");
var y3 = iZ((t33, e10, r10, i10, n10, a10) => `M${t33},${e10}
    a${n10},${a10} 0,0,1 0,${-i10}
    l${r10},0
    a${n10},${a10} 0,0,1 0,${i10}
    M${r10},${-i10}
    a${n10},${a10} 0,0,0 0,${i10}
    l${-r10},0`, "createCylinderPathD"), y6 = iZ((t33, e10, r10, i10, n10, a10) => `M${t33},${e10} M${t33 + r10},${e10} a${n10},${a10} 0,0,0 0,${-i10} l${-r10},0 a${n10},${a10} 0,0,0 0,${i10} l${r10},0`, "createOuterCylinderPathD"), y7 = iZ((t33, e10, r10, i10, n10, a10) => `M${t33 + r10 / 2},${-i10 / 2} a${n10},${a10} 0,0,0 0,${i10}`, "createInnerCylinderPathD");
async function y8(t33, e10) {
  var r10, i10;
  let n10;
  let { labelStyles: a10, nodeStyles: o10 } = mq(e10);
  e10.labelStyle = a10;
  let { shapeSvg: s10, bbox: l10, label: h10, halfPadding: u10 } = await mA(t33, e10, mI(e10)), d10 = "neo" === e10.look ? 2 * u10 : u10, p10 = l10.height + d10, g10 = p10 / 2, f10 = g10 / (2.5 + p10 / 50), y10 = l10.width + f10 + d10, { cssStyles: v10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(s10), r11 = y6(0, 0, y10, p10, f10, g10), i11 = y7(0, 0, y10, p10, f10, g10), a11 = t34.path(r11, mY(e10, {})), o11 = t34.path(i11, mY(e10, { fill: "none" }));
    n10 = s10.insert(() => o11, ":first-child"), (n10 = s10.insert(() => a11, ":first-child")).attr("class", "basic label-container"), v10 && n10.attr("style", v10);
  } else {
    let t34 = y3(0, 0, y10, p10, f10, g10);
    (n10 = s10.insert("path", ":first-child").attr("d", t34).attr("class", "basic label-container").attr("style", gA(v10)).attr("style", o10)).attr("class", "basic label-container"), v10 && n10.selectAll("path").attr("style", v10), o10 && n10.selectAll("path").attr("style", o10);
  }
  return n10.attr("label-offset-x", f10), n10.attr("transform", `translate(${-y10 / 2}, ${p10 / 2} )`), h10.attr("transform", `translate(${-(l10.width / 2) - f10 - (l10.x - (null !== (r10 = l10.left) && void 0 !== r10 ? r10 : 0))}, ${-(l10.height / 2) - (l10.y - (null !== (i10 = l10.top) && void 0 !== i10 ? i10 : 0))})`), mN(e10, n10), e10.intersect = function(t34) {
    var r11, i11, n11, a11, o11, s11;
    let l11 = m5.rect(e10, t34), h11 = l11.y - (null !== (r11 = e10.y) && void 0 !== r11 ? r11 : 0);
    if (0 != g10 && (Math.abs(h11) < (null !== (i11 = e10.height) && void 0 !== i11 ? i11 : 0) / 2 || Math.abs(h11) == (null !== (n11 = e10.height) && void 0 !== n11 ? n11 : 0) / 2 && Math.abs(l11.x - (null !== (a11 = e10.x) && void 0 !== a11 ? a11 : 0)) > (null !== (o11 = e10.width) && void 0 !== o11 ? o11 : 0) / 2 - f10)) {
      let r12 = f10 * f10 * (1 - h11 * h11 / (g10 * g10));
      0 != r12 && (r12 = Math.sqrt(Math.abs(r12))), r12 = f10 - r12, t34.x - (null !== (s11 = e10.x) && void 0 !== s11 ? s11 : 0) > 0 && (r12 = -r12), l11.x += r12;
    }
    return l11;
  }, s10;
}
async function y9(t33, e10) {
  let r10;
  let { labelStyles: i10, nodeStyles: n10 } = mq(e10);
  e10.labelStyle = i10;
  let { shapeSvg: a10, bbox: o10 } = await mA(t33, e10, mI(e10)), s10 = o10.width + e10.padding, l10 = o10.height + e10.padding, h10 = [{ x: -3 * l10 / 6, y: 0 }, { x: s10 + 3 * l10 / 6, y: 0 }, { x: s10, y: -l10 }, { x: 0, y: -l10 }], { cssStyles: u10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(a10), i11 = mY(e10, {}), n11 = mM(h10), o11 = t34.path(n11, i11);
    r10 = a10.insert(() => o11, ":first-child").attr("transform", `translate(${-s10 / 2}, ${l10 / 2})`), u10 && r10.attr("style", u10);
  } else r10 = m8(a10, s10, l10, h10);
  return n10 && r10.attr("style", n10), e10.width = s10, e10.height = l10, mN(e10, r10), e10.intersect = function(t34) {
    return m5.polygon(e10, h10, t34);
  }, a10;
}
async function vt(t33, e10) {
  var r10, i10, n10, a10;
  let { labelStyles: o10, nodeStyles: s10 } = mq(e10);
  e10.labelStyle = o10;
  let { shapeSvg: l10, bbox: h10 } = await mA(t33, e10, mI(e10)), u10 = Math.max(60, h10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), d10 = Math.max(20, h10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), { cssStyles: p10 } = e10, g10 = mS.svg(l10), f10 = mY(e10, {});
  "handDrawn" !== e10.look && (f10.roughness = 0, f10.fillStyle = "solid");
  let y10 = [{ x: -u10 / 2 * 0.8, y: -d10 / 2 }, { x: u10 / 2 * 0.8, y: -d10 / 2 }, { x: u10 / 2, y: -d10 / 2 * 0.6 }, { x: u10 / 2, y: d10 / 2 }, { x: -u10 / 2, y: d10 / 2 }, { x: -u10 / 2, y: -d10 / 2 * 0.6 }], v10 = mM(y10), x10 = g10.path(v10, f10), b10 = l10.insert(() => x10, ":first-child");
  return b10.attr("class", "basic label-container"), p10 && "handDrawn" !== e10.look && b10.selectChildren("path").attr("style", p10), s10 && "handDrawn" !== e10.look && b10.selectChildren("path").attr("style", s10), mN(e10, b10), e10.intersect = function(t34) {
    return m5.polygon(e10, y10, t34);
  }, l10;
}
async function ve(t33, e10) {
  var r10, i10, n10, a10, o10;
  let { labelStyles: s10, nodeStyles: l10 } = mq(e10);
  e10.labelStyle = s10;
  let { shapeSvg: h10, bbox: u10, label: d10 } = await mA(t33, e10, mI(e10)), p10 = nJ(null === (r10 = nM().flowchart) || void 0 === r10 ? void 0 : r10.htmlLabels), g10 = u10.width + (null !== (i10 = e10.padding) && void 0 !== i10 ? i10 : 0), f10 = g10 + u10.height, y10 = g10 + u10.height, v10 = [{ x: 0, y: 0 }, { x: y10, y: 0 }, { x: y10 / 2, y: -f10 }], { cssStyles: x10 } = e10, b10 = mS.svg(h10), w10 = mY(e10, {});
  "handDrawn" !== e10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let k10 = mM(v10), _10 = b10.path(k10, w10), T10 = h10.insert(() => _10, ":first-child").attr("transform", `translate(${-f10 / 2}, ${f10 / 2})`);
  return x10 && "handDrawn" !== e10.look && T10.selectChildren("path").attr("style", x10), l10 && "handDrawn" !== e10.look && T10.selectChildren("path").attr("style", l10), e10.width = g10, e10.height = f10, mN(e10, T10), d10.attr("transform", `translate(${-u10.width / 2 - (u10.x - (null !== (n10 = u10.left) && void 0 !== n10 ? n10 : 0))}, ${f10 / 2 - (u10.height + (null !== (a10 = e10.padding) && void 0 !== a10 ? a10 : 0) / (p10 ? 2 : 1) - (u10.y - (null !== (o10 = u10.top) && void 0 !== o10 ? o10 : 0)))})`), e10.intersect = function(t34) {
    return i0.info("Triangle intersect", e10, v10, t34), m5.polygon(e10, v10, t34);
  }, h10;
}
async function vr(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = mq(e10);
  e10.labelStyle = u10;
  let { shapeSvg: p10, bbox: g10, label: f10 } = await mA(t33, e10, mI(e10)), y10 = Math.max(g10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), v10 = Math.max(g10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), x10 = v10 / 8, b10 = v10 + x10, { cssStyles: w10 } = e10, k10 = 70 - y10, _10 = k10 > 0 ? k10 / 2 : 0, T10 = mS.svg(p10), E10 = mY(e10, {});
  "handDrawn" !== e10.look && (E10.roughness = 0, E10.fillStyle = "solid");
  let C10 = [{ x: -y10 / 2 - _10, y: b10 / 2 }, ...mR(-y10 / 2 - _10, b10 / 2, y10 / 2 + _10, b10 / 2, x10, 0.8), { x: y10 / 2 + _10, y: -b10 / 2 }, { x: -y10 / 2 - _10, y: -b10 / 2 }], S10 = mM(C10), A10 = T10.path(S10, E10), L10 = p10.insert(() => A10, ":first-child");
  return L10.attr("class", "basic label-container"), w10 && "handDrawn" !== e10.look && L10.selectAll("path").attr("style", w10), d10 && "handDrawn" !== e10.look && L10.selectAll("path").attr("style", d10), L10.attr("transform", `translate(0,${-x10 / 2})`), f10.attr("transform", `translate(${-y10 / 2 + (null !== (o10 = e10.padding) && void 0 !== o10 ? o10 : 0) - (g10.x - (null !== (s10 = g10.left) && void 0 !== s10 ? s10 : 0))},${-v10 / 2 + (null !== (l10 = e10.padding) && void 0 !== l10 ? l10 : 0) - x10 - (g10.y - (null !== (h10 = g10.top) && void 0 !== h10 ? h10 : 0))})`), mN(e10, L10), e10.intersect = function(t34) {
    return m5.polygon(e10, C10, t34);
  }, p10;
}
async function vi(t33, e10) {
  var r10, i10, n10, a10;
  let { labelStyles: o10, nodeStyles: s10 } = mq(e10);
  e10.labelStyle = o10;
  let { shapeSvg: l10, bbox: h10 } = await mA(t33, e10, mI(e10)), u10 = Math.max(h10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), d10 = Math.max(h10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), p10 = u10 / d10, g10 = u10, f10 = d10;
  g10 > f10 * p10 ? f10 = g10 / p10 : g10 = f10 * p10, g10 = Math.max(g10, 100);
  let y10 = Math.min(0.2 * (f10 = Math.max(f10, 50)), f10 / 4), v10 = f10 + 2 * y10, { cssStyles: x10 } = e10, b10 = mS.svg(l10), w10 = mY(e10, {});
  "handDrawn" !== e10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let k10 = [{ x: -g10 / 2, y: v10 / 2 }, ...mR(-g10 / 2, v10 / 2, g10 / 2, v10 / 2, y10, 1), { x: g10 / 2, y: -v10 / 2 }, ...mR(g10 / 2, -v10 / 2, -g10 / 2, -v10 / 2, y10, -1)], _10 = mM(k10), T10 = b10.path(_10, w10), E10 = l10.insert(() => T10, ":first-child");
  return E10.attr("class", "basic label-container"), x10 && "handDrawn" !== e10.look && E10.selectAll("path").attr("style", x10), s10 && "handDrawn" !== e10.look && E10.selectAll("path").attr("style", s10), mN(e10, E10), e10.intersect = function(t34) {
    return m5.polygon(e10, k10, t34);
  }, l10;
}
async function vn(t33, e10) {
  var r10, i10, n10, a10, o10, s10;
  let { labelStyles: l10, nodeStyles: h10 } = mq(e10);
  e10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await mA(t33, e10, mI(e10)), g10 = Math.max(d10.width + (null !== (r10 = e10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (i10 = null == e10 ? void 0 : e10.width) && void 0 !== i10 ? i10 : 0), f10 = Math.max(d10.height + (null !== (n10 = e10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (a10 = null == e10 ? void 0 : e10.height) && void 0 !== a10 ? a10 : 0), y10 = -g10 / 2, v10 = -f10 / 2, { cssStyles: x10 } = e10, b10 = mS.svg(u10), w10 = mY(e10, {}), k10 = [{ x: y10 - 5, y: v10 - 5 }, { x: y10 - 5, y: v10 + f10 }, { x: y10 + g10, y: v10 + f10 }, { x: y10 + g10, y: v10 - 5 }], _10 = `M${y10 - 5},${v10 - 5} L${y10 + g10},${v10 - 5} L${y10 + g10},${v10 + f10} L${y10 - 5},${v10 + f10} L${y10 - 5},${v10 - 5}
                M${y10 - 5},${v10} L${y10 + g10},${v10}
                M${y10},${v10 - 5} L${y10},${v10 + f10}`;
  "handDrawn" !== e10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let T10 = b10.path(_10, w10), E10 = u10.insert(() => T10, ":first-child");
  return E10.attr("transform", "translate(2.5, 2.5)"), E10.attr("class", "basic label-container"), x10 && "handDrawn" !== e10.look && E10.selectAll("path").attr("style", x10), h10 && "handDrawn" !== e10.look && E10.selectAll("path").attr("style", h10), p10.attr("transform", `translate(${-(d10.width / 2) + 2.5 - (d10.x - (null !== (o10 = d10.left) && void 0 !== o10 ? o10 : 0))}, ${-(d10.height / 2) + 2.5 - (d10.y - (null !== (s10 = d10.top) && void 0 !== s10 ? s10 : 0))})`), mN(e10, E10), e10.intersect = function(t34) {
    return m5.polygon(e10, k10, t34);
  }, u10;
}
async function va(t33, e10, r10, i10) {
  let n10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null !== (JI = r10.class.padding) && void 0 !== JI ? JI : 12, a10 = i10 ? 0 : 3, o10 = t33.insert("g").attr("class", mI(e10)).attr("id", e10.domId || e10.id), s10 = null, l10 = null, h10 = null, u10 = null, d10 = 0, p10 = 0, g10 = 0;
  if (s10 = o10.insert("g").attr("class", "annotation-group text"), e10.annotations.length > 0) {
    let t34 = e10.annotations[0];
    await vo(s10, { text: `«${t34}»` }, 0), d10 = s10.node().getBBox().height;
  }
  l10 = o10.insert("g").attr("class", "label-group text"), await vo(l10, e10, 0, ["font-weight: bolder"]);
  let f10 = l10.node().getBBox();
  p10 = f10.height, h10 = o10.insert("g").attr("class", "members-group text");
  let y10 = 0;
  for (let t34 of e10.members) {
    let e11 = await vo(h10, t34, y10, [t34.parseClassifier()]);
    y10 += e11 + a10;
  }
  (g10 = h10.node().getBBox().height) <= 0 && (g10 = n10 / 2), u10 = o10.insert("g").attr("class", "methods-group text");
  let v10 = 0;
  for (let t34 of e10.methods) {
    let e11 = await vo(u10, t34, v10, [t34.parseClassifier()]);
    v10 += e11 + a10;
  }
  let x10 = o10.node().getBBox();
  if (null !== s10) {
    let t34 = s10.node().getBBox();
    s10.attr("transform", `translate(${-t34.width / 2})`);
  }
  return l10.attr("transform", `translate(${-f10.width / 2}, ${d10})`), x10 = o10.node().getBBox(), h10.attr("transform", `translate(0, ${d10 + p10 + 2 * n10})`), x10 = o10.node().getBBox(), u10.attr("transform", `translate(0, ${d10 + p10 + (g10 ? g10 + 4 * n10 : 2 * n10)})`), x10 = o10.node().getBBox(), { shapeSvg: o10, bbox: x10 };
}
async function vo(t33, e10, r10) {
  var i10;
  let n10, a10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [], o10 = t33.insert("g").attr("class", "label").attr("style", a10.join("; ")), s10 = nM(), l10 = "useHtmlLabels" in e10 ? e10.useHtmlLabels : null === (i10 = nJ(s10.htmlLabels)) || void 0 === i10 || i10, h10 = "";
  h10 = "text" in e10 ? e10.text : e10.label, !l10 && h10.startsWith("\\") && (h10 = h10.substring(1)), n8(h10) && (l10 = true);
  let u10 = await fH(o10, aw(gC(h10)), { width: gm(h10, s10) + 50, classes: "markdown-node-label", useHtmlLabels: l10 }, s10), d10 = 1;
  if (l10) {
    let t34 = u10.children[0], e11 = hl(u10);
    d10 = t34.innerHTML.split("<br>").length, t34.innerHTML.includes("</math>") && (d10 += t34.innerHTML.split("<mrow>").length - 1);
    let r11 = t34.getElementsByTagName("img");
    if (r11) {
      let t35 = "" === h10.replace(/<img[^>]*>/g, "").trim();
      await Promise.all([...r11].map((e12) => new Promise((r12) => {
        function i11() {
          if (e12.style.display = "flex", e12.style.flexDirection = "column", t35) {
            var i12, n11;
            let t36 = 5 * parseInt(null !== (n11 = null === (i12 = s10.fontSize) || void 0 === i12 ? void 0 : i12.toString()) && void 0 !== n11 ? n11 : window.getComputedStyle(document.body).fontSize, 10) + "px";
            e12.style.minWidth = t36, e12.style.maxWidth = t36;
          } else e12.style.width = "100%";
          r12(e12);
        }
        iZ(i11, "setupImage"), setTimeout(() => {
          e12.complete && i11();
        }), e12.addEventListener("error", i11), e12.addEventListener("load", i11);
      })));
    }
    n10 = t34.getBoundingClientRect(), e11.attr("width", n10.width), e11.attr("height", n10.height);
  } else {
    a10.includes("font-weight: bolder") && hl(u10).selectAll("tspan").attr("font-weight", ""), d10 = u10.children.length;
    let t34 = u10.children[0];
    ("" === u10.textContent || u10.textContent.includes("&gt")) && (t34.textContent = h10[0] + h10.substring(1).replaceAll("&gt;", ">").replaceAll("&lt;", "<").trim(), " " === h10[1] && (t34.textContent = t34.textContent[0] + " " + t34.textContent.substring(1))), "undefined" === t34.textContent && (t34.textContent = ""), n10 = u10.getBBox();
  }
  return o10.attr("transform", "translate(0," + (-n10.height / (2 * d10) + r10) + ")"), n10.height;
}
async function vs(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10;
  let u10 = nM(), d10 = null !== (n10 = u10.class.padding) && void 0 !== n10 ? n10 : 12, p10 = null === (o10 = null !== (a10 = e10.useHtmlLabels) && void 0 !== a10 ? a10 : nJ(u10.htmlLabels)) || void 0 === o10 || o10;
  e10.annotations = null !== (s10 = e10.annotations) && void 0 !== s10 ? s10 : [], e10.members = null !== (l10 = e10.members) && void 0 !== l10 ? l10 : [], e10.methods = null !== (h10 = e10.methods) && void 0 !== h10 ? h10 : [];
  let { shapeSvg: g10, bbox: f10 } = await va(t33, e10, u10, p10, d10), { labelStyles: y10, nodeStyles: v10 } = mq(e10);
  e10.labelStyle = y10, e10.cssStyles = e10.styles || "";
  let x10 = (null === (r10 = e10.styles) || void 0 === r10 ? void 0 : r10.join(";")) || v10 || "";
  e10.cssStyles || (e10.cssStyles = x10.replaceAll("!important", "").split(";"));
  let b10 = 0 === e10.members.length && 0 === e10.methods.length && !(null === (i10 = u10.class) || void 0 === i10 ? void 0 : i10.hideEmptyMembersBox), w10 = mS.svg(g10), k10 = mY(e10, {});
  "handDrawn" !== e10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let _10 = f10.width, T10 = f10.height;
  0 === e10.members.length && 0 === e10.methods.length ? T10 += d10 : e10.members.length > 0 && 0 === e10.methods.length && (T10 += 2 * d10);
  let E10 = -_10 / 2, C10 = -T10 / 2, S10 = w10.rectangle(E10 - d10, C10 - d10 - (b10 ? d10 : 0 === e10.members.length && 0 === e10.methods.length ? -d10 / 2 : 0), _10 + 2 * d10, T10 + 2 * d10 + (b10 ? 2 * d10 : 0 === e10.members.length && 0 === e10.methods.length ? -d10 : 0), k10), A10 = g10.insert(() => S10, ":first-child");
  A10.attr("class", "basic label-container");
  let L10 = A10.node().getBBox();
  g10.selectAll(".text").each((t34, r11, i11) => {
    let n11 = hl(i11[r11]), a11 = n11.attr("transform"), o11 = 0;
    if (a11) {
      let t35 = RegExp(/translate\(([^,]+),([^)]+)\)/).exec(a11);
      t35 && (o11 = parseFloat(t35[2]));
    }
    let s11 = o11 + C10 + d10 - (b10 ? d10 : 0 === e10.members.length && 0 === e10.methods.length ? -d10 / 2 : 0);
    p10 || (s11 -= 4);
    let l11 = E10;
    if (n11.attr("class").includes("label-group") || n11.attr("class").includes("annotation-group")) {
      var h11;
      l11 = -(null === (h11 = n11.node()) || void 0 === h11 ? void 0 : h11.getBBox().width) / 2 || 0, g10.selectAll("text").each(function(t35, e11, r12) {
        "middle" === window.getComputedStyle(r12[e11]).textAnchor && (l11 = 0);
      });
    }
    n11.attr("transform", `translate(${l11}, ${s11})`);
  });
  let N10 = g10.select(".annotation-group").node().getBBox().height - (b10 ? d10 / 2 : 0) || 0, I10 = g10.select(".label-group").node().getBBox().height - (b10 ? d10 / 2 : 0) || 0, M10 = g10.select(".members-group").node().getBBox().height - (b10 ? d10 / 2 : 0) || 0;
  if (e10.members.length > 0 || e10.methods.length > 0 || b10) {
    let t34 = w10.line(L10.x, N10 + I10 + C10 + d10, L10.x + L10.width, N10 + I10 + C10 + d10, k10);
    g10.insert(() => t34).attr("class", "divider").attr("style", x10);
  }
  if (b10 || e10.members.length > 0 || e10.methods.length > 0) {
    let t34 = w10.line(L10.x, N10 + I10 + M10 + C10 + 2 * d10 + d10, L10.x + L10.width, N10 + I10 + M10 + C10 + d10 + 2 * d10, k10);
    g10.insert(() => t34).attr("class", "divider").attr("style", x10);
  }
  if ("handDrawn" !== e10.look && g10.selectAll("path").attr("style", x10), A10.select(":nth-child(2)").attr("style", x10), g10.selectAll(".divider").select("path").attr("style", x10), e10.labelStyle ? g10.selectAll("span").attr("style", e10.labelStyle) : g10.selectAll("span").attr("style", x10), !p10) {
    let t34 = RegExp(/color\s*:\s*([^;]*)/), e11 = t34.exec(x10);
    if (e11) {
      let t35 = e11[0].replace("color", "fill");
      g10.selectAll("tspan").attr("style", t35);
    } else if (y10) {
      let e12 = t34.exec(y10);
      if (e12) {
        let t35 = e12[0].replace("color", "fill");
        g10.selectAll("tspan").attr("style", t35);
      }
    }
  }
  return mN(e10, A10), e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, g10;
}
iZ(y8, "tiltedCylinder"), iZ(y9, "trapezoid"), iZ(vt, "trapezoidalPentagon"), iZ(ve, "triangle"), iZ(vr, "waveEdgedRectangle"), iZ(vi, "waveRectangle"), iZ(vn, "windowPane"), iZ(va, "textHelper"), iZ(vo, "addText"), iZ(vs, "classBox");
var vl = iZ((t33) => {
  switch (t33) {
    case "Very High":
      return "red";
    case "High":
      return "orange";
    case "Medium":
      return null;
    case "Low":
      return "blue";
    case "Very Low":
      return "lightblue";
  }
}, "colorFromPriority");
async function vh(t33, e10, r10) {
  var i10, n10, a10;
  let o10, s10, l10, h10, { config: u10 } = r10, { labelStyles: d10, nodeStyles: p10 } = mq(e10);
  e10.labelStyle = d10 || "";
  let g10 = e10.width;
  e10.width = (null !== (n10 = e10.width) && void 0 !== n10 ? n10 : 200) - 10;
  let { shapeSvg: f10, bbox: y10, label: v10 } = await mA(t33, e10, mI(e10)), x10 = e10.padding || 10, b10 = "";
  "ticket" in e10 && e10.ticket && (null == u10 ? void 0 : null === (i10 = u10.kanban) || void 0 === i10 ? void 0 : i10.ticketBaseUrl) && (b10 = null == u10 ? void 0 : null === (a10 = u10.kanban) || void 0 === a10 ? void 0 : a10.ticketBaseUrl.replace("#TICKET#", e10.ticket), o10 = f10.insert("svg:a", ":first-child").attr("class", "kanban-ticket-link").attr("xlink:href", b10).attr("target", "_blank"));
  let w10 = { useHtmlLabels: e10.useHtmlLabels, labelStyle: e10.labelStyle || "", width: e10.width, img: e10.img, padding: e10.padding || 8, centerLabel: false };
  o10 ? { label: s10, bbox: l10 } = await mL(o10, "ticket" in e10 && e10.ticket || "", w10) : { label: s10, bbox: l10 } = await mL(f10, "ticket" in e10 && e10.ticket || "", w10);
  let { label: k10, bbox: _10 } = await mL(f10, "assigned" in e10 && e10.assigned || "", w10);
  e10.width = g10;
  let T10 = (null == e10 ? void 0 : e10.width) || 0, E10 = Math.max(l10.height, _10.height) / 2, C10 = Math.max(y10.height + 20, (null == e10 ? void 0 : e10.height) || 0) + E10, S10 = -T10 / 2, A10 = -C10 / 2;
  v10.attr("transform", "translate(" + (x10 - T10 / 2) + ", " + (-E10 - y10.height / 2) + ")"), s10.attr("transform", "translate(" + (x10 - T10 / 2) + ", " + (-E10 + y10.height / 2) + ")"), k10.attr("transform", "translate(" + (x10 + T10 / 2 - _10.width - 20) + ", " + (-E10 + y10.height / 2) + ")");
  let { rx: L10, ry: N10 } = e10, { cssStyles: I10 } = e10;
  if ("handDrawn" === e10.look) {
    let t34 = mS.svg(f10), r11 = mY(e10, {}), i11 = L10 || N10 ? t34.path(mF(S10, A10, T10, C10, L10 || 0), r11) : t34.rectangle(S10, A10, T10, C10, r11);
    (h10 = f10.insert(() => i11, ":first-child")).attr("class", "basic label-container").attr("style", I10 || null);
  } else {
    (h10 = f10.insert("rect", ":first-child")).attr("class", "basic label-container __APA__").attr("style", p10).attr("rx", null != L10 ? L10 : 5).attr("ry", null != N10 ? N10 : 5).attr("x", S10).attr("y", A10).attr("width", T10).attr("height", C10);
    let t34 = "priority" in e10 && e10.priority;
    if (t34) {
      let e11 = f10.append("line"), r11 = S10 + 2, i11 = A10 + Math.floor((null != L10 ? L10 : 0) / 2), n11 = A10 + C10 - Math.floor((null != L10 ? L10 : 0) / 2);
      e11.attr("x1", r11).attr("y1", i11).attr("x2", r11).attr("y2", n11).attr("stroke-width", "4").attr("stroke", vl(t34));
    }
  }
  return mN(e10, h10), e10.height = C10, e10.intersect = function(t34) {
    return m5.rect(e10, t34);
  }, f10;
}
iZ(vh, "kanbanItem");
var vc = [{ semanticName: "Process", name: "Rectangle", shortName: "rect", description: "Standard process shape", aliases: ["proc", "process", "rectangle"], internalAliases: ["squareRect"], handler: yK }, { semanticName: "Event", name: "Rounded Rectangle", shortName: "rounded", description: "Represents an event", aliases: ["event"], internalAliases: ["roundedRect"], handler: yW }, { semanticName: "Terminal Point", name: "Stadium", shortName: "stadium", description: "Terminal point", aliases: ["terminal", "pill"], handler: yZ }, { semanticName: "Subprocess", name: "Framed Rectangle", shortName: "fr-rect", description: "Subprocess", aliases: ["subprocess", "subproc", "framed-rectangle", "subroutine"], handler: y1 }, { semanticName: "Database", name: "Cylinder", shortName: "cyl", description: "Database storage", aliases: ["db", "database", "cylinder"], handler: yg }, { semanticName: "Start", name: "Circle", shortName: "circle", description: "Starting point", aliases: ["circ"], handler: ye }, { semanticName: "Decision", name: "Diamond", shortName: "diam", description: "Decision-making step", aliases: ["decision", "diamond", "question"], handler: yY }, { semanticName: "Prepare Conditional", name: "Hexagon", shortName: "hex", description: "Preparation or condition step", aliases: ["hexagon", "prepare"], handler: yk }, { semanticName: "Data Input/Output", name: "Lean Right", shortName: "lean-r", description: "Represents input or output", aliases: ["lean-right", "in-out"], internalAliases: ["lean_right"], handler: yR }, { semanticName: "Data Input/Output", name: "Lean Left", shortName: "lean-l", description: "Represents output or input", aliases: ["lean-left", "out-in"], internalAliases: ["lean_left"], handler: yM }, { semanticName: "Priority Action", name: "Trapezoid Base Bottom", shortName: "trap-b", description: "Priority action", aliases: ["priority", "trapezoid-bottom", "trapezoid"], handler: y9 }, { semanticName: "Manual Operation", name: "Trapezoid Base Top", shortName: "trap-t", description: "Represents a manual task", aliases: ["manual", "trapezoid-top", "inv-trapezoid"], internalAliases: ["inv_trapezoid"], handler: yL }, { semanticName: "Stop", name: "Double Circle", shortName: "dbl-circ", description: "Represents a stop point", aliases: ["double-circle"], internalAliases: ["doublecircle"], handler: ym }, { semanticName: "Text Block", name: "Text Block", shortName: "text", description: "Text block", handler: y5 }, { semanticName: "Card", name: "Notched Rectangle", shortName: "notch-rect", description: "Represents a card", aliases: ["card", "notched-rectangle"], handler: m9 }, { semanticName: "Lined/Shaded Process", name: "Lined Rectangle", shortName: "lin-rect", description: "Lined process shape", aliases: ["lined-rectangle", "lined-process", "lin-proc", "shaded-process"], handler: yV }, { semanticName: "Start", name: "Small Circle", shortName: "sm-circ", description: "Small starting point", aliases: ["start", "small-circle"], internalAliases: ["stateStart"], handler: y0 }, { semanticName: "Stop", name: "Framed Circle", shortName: "fr-circ", description: "Stop point", aliases: ["stop", "framed-circle"], internalAliases: ["stateEnd"], handler: yJ }, { semanticName: "Fork/Join", name: "Filled Rectangle", shortName: "fork", description: "Fork or join in process flow", aliases: ["join"], internalAliases: ["forkJoin"], handler: yx }, { semanticName: "Collate", name: "Hourglass", shortName: "hourglass", description: "Represents a collate operation", aliases: ["hourglass", "collate"], handler: y_ }, { semanticName: "Comment", name: "Curly Brace", shortName: "brace", description: "Adds a comment", aliases: ["comment", "brace-l"], handler: ya }, { semanticName: "Comment Right", name: "Curly Brace", shortName: "brace-r", description: "Adds a comment", handler: ys }, { semanticName: "Comment with braces on both sides", name: "Curly Braces", shortName: "braces", description: "Adds a comment", handler: yh }, { semanticName: "Com Link", name: "Lightning Bolt", shortName: "bolt", description: "Communication link", aliases: ["com-link", "lightning-bolt"], handler: yD }, { semanticName: "Document", name: "Document", shortName: "doc", description: "Represents a document", aliases: ["doc", "document"], handler: vr }, { semanticName: "Delay", name: "Half-Rounded Rectangle", shortName: "delay", description: "Represents a delay", aliases: ["half-rounded-rectangle"], handler: yb }, { semanticName: "Direct Access Storage", name: "Horizontal Cylinder", shortName: "h-cyl", description: "Direct access storage", aliases: ["das", "horizontal-cylinder"], handler: y8 }, { semanticName: "Disk Storage", name: "Lined Cylinder", shortName: "lin-cyl", description: "Disk storage", aliases: ["disk", "lined-cylinder"], handler: yB }, { semanticName: "Display", name: "Curved Trapezoid", shortName: "curv-trap", description: "Represents a display", aliases: ["curved-trapezoid", "display"], handler: yc }, { semanticName: "Divided Process", name: "Divided Rectangle", shortName: "div-rect", description: "Divided process shape", aliases: ["div-proc", "divided-rectangle", "divided-process"], handler: yf }, { semanticName: "Extract", name: "Triangle", shortName: "tri", description: "Extraction process", aliases: ["extract", "triangle"], handler: ve }, { semanticName: "Internal Storage", name: "Window Pane", shortName: "win-pane", description: "Internal storage", aliases: ["internal-storage", "window-pane"], handler: vn }, { semanticName: "Junction", name: "Filled Circle", shortName: "f-circ", description: "Junction point", aliases: ["junction", "filled-circle"], handler: yy }, { semanticName: "Loop Limit", name: "Trapezoidal Pentagon", shortName: "notch-pent", description: "Loop limit step", aliases: ["loop-limit", "notched-pentagon"], handler: vt }, { semanticName: "Manual File", name: "Flipped Triangle", shortName: "flip-tri", description: "Manual file operation", aliases: ["manual-file", "flipped-triangle"], handler: yv }, { semanticName: "Manual Input", name: "Sloped Rectangle", shortName: "sl-rect", description: "Manual input step", aliases: ["manual-input", "sloped-rectangle"], handler: yX }, { semanticName: "Multi-Document", name: "Stacked Document", shortName: "docs", description: "Multiple documents", aliases: ["documents", "st-doc", "stacked-document"], handler: yU }, { semanticName: "Multi-Process", name: "Stacked Rectangle", shortName: "st-rect", description: "Multiple processes", aliases: ["procs", "processes", "stacked-rectangle"], handler: yz }, { semanticName: "Stored Data", name: "Bow Tie Rectangle", shortName: "bow-rect", description: "Stored data", aliases: ["stored-data", "bow-tie-rectangle"], handler: m7 }, { semanticName: "Summary", name: "Crossed Circle", shortName: "cross-circ", description: "Summary", aliases: ["summary", "crossed-circle"], handler: yi }, { semanticName: "Tagged Document", name: "Tagged Document", shortName: "tag-doc", description: "Tagged document", aliases: ["tag-doc", "tagged-document"], handler: y4 }, { semanticName: "Tagged Process", name: "Tagged Rectangle", shortName: "tag-rect", description: "Tagged process", aliases: ["tagged-rectangle", "tag-proc", "tagged-process"], handler: y2 }, { semanticName: "Paper Tape", name: "Flag", shortName: "flag", description: "Paper tape", aliases: ["paper-tape"], handler: vi }, { semanticName: "Odd", name: "Odd", shortName: "odd", description: "Odd shape", internalAliases: ["rect_left_inv_arrow"], handler: yH }, { semanticName: "Lined Document", name: "Lined Document", shortName: "lin-doc", description: "Lined document", aliases: ["lined-document"], handler: yF }], vu = iZ(() => Object.fromEntries([...Object.entries({ state: yQ, choice: yt, note: yG, rectWithTitle: yj, labelRect: yI, iconSquare: yS, iconCircle: yE, icon: yT, iconRounded: yC, imageSquare: yA, anchor: m3, kanbanItem: vh, classBox: vs }), ...vc.flatMap((t33) => [t33.shortName, ..."aliases" in t33 ? t33.aliases : [], ..."internalAliases" in t33 ? t33.internalAliases : []].map((e10) => [e10, t33.handler]))]), "generateShapeMap")();
function vd(t33) {
  return t33 in vu;
}
iZ(vd, "isValidShape");
var vp = /* @__PURE__ */ new Map();
async function vg(t33, e10, r10) {
  let i10, n10;
  "rect" === e10.shape && (e10.rx && e10.ry ? e10.shape = "roundedRect" : e10.shape = "squareRect");
  let a10 = e10.shape ? vu[e10.shape] : void 0;
  if (!a10) throw Error(`No such shape: ${e10.shape}. Please check your syntax.`);
  if (e10.link) {
    let o10;
    "sandbox" === r10.config.securityLevel ? o10 = "_top" : e10.linkTarget && (o10 = e10.linkTarget || "_blank"), i10 = t33.insert("svg:a").attr("xlink:href", e10.link).attr("target", null != o10 ? o10 : null), n10 = await a10(i10, e10, r10);
  } else i10 = n10 = await a10(t33, e10, r10);
  return e10.tooltip && n10.attr("title", e10.tooltip), vp.set(e10.id, i10), e10.haveCallback && i10.attr("class", i10.attr("class") + " clickable"), i10;
}
iZ(vg, "insertNode");
var vf = iZ((t33, e10) => {
  vp.set(e10.id, t33);
}, "setNodeElem"), vm = iZ(() => {
  vp.clear();
}, "clear"), vy = iZ((t33) => {
  let e10 = vp.get(t33.id);
  i0.trace("Transforming node", t33.diff, t33, "translate(" + (t33.x - t33.width / 2 - 5) + ", " + t33.width / 2 + ")");
  let r10 = t33.diff || 0;
  return t33.clusterNode ? e10.attr("transform", "translate(" + (t33.x + r10 - t33.width / 2) + ", " + (t33.y - t33.height / 2 - 8) + ")") : e10.attr("transform", "translate(" + t33.x + ", " + t33.y + ")"), r10;
}, "positionNode"), vv = { aggregation: 18, extension: 18, composition: 18, dependency: 6, lollipop: 13.5, arrow_point: 4 };
function vx(t33, e10) {
  if (void 0 === t33 || void 0 === e10) return { angle: 0, deltaX: 0, deltaY: 0 };
  t33 = vb(t33), e10 = vb(e10);
  let [r10, i10] = [t33.x, t33.y], [n10, a10] = [e10.x, e10.y], o10 = n10 - r10, s10 = a10 - i10;
  return { angle: Math.atan(s10 / o10), deltaX: o10, deltaY: s10 };
}
iZ(vx, "calculateDeltaAndAngle");
var vb = iZ((t33) => Array.isArray(t33) ? { x: t33[0], y: t33[1] } : t33, "pointTransformer"), vw = iZ((t33) => ({ x: iZ(function(e10, r10, i10) {
  let n10 = 0, a10 = vb(i10[0]).x < vb(i10[i10.length - 1]).x ? "left" : "right";
  if (0 === r10 && Object.hasOwn(vv, t33.arrowTypeStart)) {
    let { angle: e11, deltaX: r11 } = vx(i10[0], i10[1]);
    n10 = vv[t33.arrowTypeStart] * Math.cos(e11) * (r11 >= 0 ? 1 : -1);
  } else if (r10 === i10.length - 1 && Object.hasOwn(vv, t33.arrowTypeEnd)) {
    let { angle: e11, deltaX: r11 } = vx(i10[i10.length - 1], i10[i10.length - 2]);
    n10 = vv[t33.arrowTypeEnd] * Math.cos(e11) * (r11 >= 0 ? 1 : -1);
  }
  let o10 = Math.abs(vb(e10).x - vb(i10[i10.length - 1]).x), s10 = Math.abs(vb(e10).y - vb(i10[i10.length - 1]).y), l10 = Math.abs(vb(e10).x - vb(i10[0]).x), h10 = Math.abs(vb(e10).y - vb(i10[0]).y), u10 = vv[t33.arrowTypeStart], d10 = vv[t33.arrowTypeEnd];
  if (o10 < d10 && o10 > 0 && s10 < d10) {
    let t34 = d10 + 1 - o10;
    t34 *= "right" === a10 ? -1 : 1, n10 -= t34;
  }
  if (l10 < u10 && l10 > 0 && h10 < u10) {
    let t34 = u10 + 1 - l10;
    t34 *= "right" === a10 ? -1 : 1, n10 += t34;
  }
  return vb(e10).x + n10;
}, "x"), y: iZ(function(e10, r10, i10) {
  let n10 = 0, a10 = vb(i10[0]).y < vb(i10[i10.length - 1]).y ? "down" : "up";
  if (0 === r10 && Object.hasOwn(vv, t33.arrowTypeStart)) {
    let { angle: e11, deltaY: r11 } = vx(i10[0], i10[1]);
    n10 = vv[t33.arrowTypeStart] * Math.abs(Math.sin(e11)) * (r11 >= 0 ? 1 : -1);
  } else if (r10 === i10.length - 1 && Object.hasOwn(vv, t33.arrowTypeEnd)) {
    let { angle: e11, deltaY: r11 } = vx(i10[i10.length - 1], i10[i10.length - 2]);
    n10 = vv[t33.arrowTypeEnd] * Math.abs(Math.sin(e11)) * (r11 >= 0 ? 1 : -1);
  }
  let o10 = Math.abs(vb(e10).y - vb(i10[i10.length - 1]).y), s10 = Math.abs(vb(e10).x - vb(i10[i10.length - 1]).x), l10 = Math.abs(vb(e10).y - vb(i10[0]).y), h10 = Math.abs(vb(e10).x - vb(i10[0]).x), u10 = vv[t33.arrowTypeStart], d10 = vv[t33.arrowTypeEnd];
  if (o10 < d10 && o10 > 0 && s10 < d10) {
    let t34 = d10 + 1 - o10;
    t34 *= "up" === a10 ? -1 : 1, n10 -= t34;
  }
  if (l10 < u10 && l10 > 0 && h10 < u10) {
    let t34 = u10 + 1 - l10;
    t34 *= "up" === a10 ? -1 : 1, n10 += t34;
  }
  return vb(e10).y + n10;
}, "y") }), "getLineFunctionsWithOffset"), vk = iZ((t33, e10, r10, i10, n10) => {
  e10.arrowTypeStart && vT(t33, "start", e10.arrowTypeStart, r10, i10, n10), e10.arrowTypeEnd && vT(t33, "end", e10.arrowTypeEnd, r10, i10, n10);
}, "addEdgeMarkers"), v_ = { arrow_cross: "cross", arrow_point: "point", arrow_barb: "barb", arrow_circle: "circle", aggregation: "aggregation", extension: "extension", composition: "composition", dependency: "dependency", lollipop: "lollipop" }, vT = iZ((t33, e10, r10, i10, n10, a10) => {
  let o10 = v_[r10];
  if (!o10) {
    i0.warn(`Unknown arrow type: ${r10}`);
    return;
  }
  t33.attr(`marker-${e10}`, `url(${i10}#${n10}_${a10}-${o10}${"start" === e10 ? "Start" : "End"})`);
}, "addEdgeMarker"), vE = /* @__PURE__ */ new Map(), vC = /* @__PURE__ */ new Map(), vS = iZ(() => {
  vE.clear(), vC.clear();
}, "clear"), vA = iZ((t33) => t33 ? t33.reduce((t34, e10) => t34 + ";" + e10, "") : "", "getLabelStyles"), vL = iZ(async (t33, e10) => {
  let r10, i10 = nJ(nM().flowchart.htmlLabels), n10 = await fH(t33, e10.label, { style: vA(e10.labelStyle), useHtmlLabels: i10, addSvgBackground: true, isNode: false });
  i0.info("abc82", e10, e10.labelType);
  let a10 = t33.insert("g").attr("class", "edgeLabel"), o10 = a10.insert("g").attr("class", "label");
  o10.node().appendChild(n10);
  let s10 = n10.getBBox();
  if (i10) {
    let t34 = n10.children[0], e11 = hl(n10);
    s10 = t34.getBoundingClientRect(), e11.attr("width", s10.width), e11.attr("height", s10.height);
  }
  if (o10.attr("transform", "translate(" + -s10.width / 2 + ", " + -s10.height / 2 + ")"), vE.set(e10.id, a10), e10.width = s10.width, e10.height = s10.height, e10.startLabelLeft) {
    let i11 = await mB(e10.startLabelLeft, vA(e10.labelStyle)), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), vC.get(e10.id) || vC.set(e10.id, {}), vC.get(e10.id).startLeft = n11, vN(r10, e10.startLabelLeft);
  }
  if (e10.startLabelRight) {
    let i11 = await mB(e10.startLabelRight, vA(e10.labelStyle)), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = n11.node().appendChild(i11), a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), vC.get(e10.id) || vC.set(e10.id, {}), vC.get(e10.id).startRight = n11, vN(r10, e10.startLabelRight);
  }
  if (e10.endLabelLeft) {
    let i11 = await mB(e10.endLabelLeft, vA(e10.labelStyle)), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), n11.node().appendChild(i11), vC.get(e10.id) || vC.set(e10.id, {}), vC.get(e10.id).endLeft = n11, vN(r10, e10.endLabelLeft);
  }
  if (e10.endLabelRight) {
    let i11 = await mB(e10.endLabelRight, vA(e10.labelStyle)), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), n11.node().appendChild(i11), vC.get(e10.id) || vC.set(e10.id, {}), vC.get(e10.id).endRight = n11, vN(r10, e10.endLabelRight);
  }
  return n10;
}, "insertEdgeLabel");
function vN(t33, e10) {
  nM().flowchart.htmlLabels && t33 && (t33.style.width = 9 * e10.length + "px", t33.style.height = "12px");
}
iZ(vN, "setTerminalWidth");
var vI = iZ((t33, e10) => {
  i0.debug("Moving label abc88 ", t33.id, t33.label, vE.get(t33.id), e10);
  let r10 = e10.updatedPath ? e10.updatedPath : e10.originalPath, { subGraphTitleTotalMargin: i10 } = ln(nM());
  if (t33.label) {
    let n10 = vE.get(t33.id), a10 = t33.x, o10 = t33.y;
    if (r10) {
      let i11 = gT.calcLabelPosition(r10);
      i0.debug("Moving label " + t33.label + " from (", a10, ",", o10, ") to (", i11.x, ",", i11.y, ") abc88"), e10.updatedPath && (a10 = i11.x, o10 = i11.y);
    }
    n10.attr("transform", `translate(${a10}, ${o10 + i10 / 2})`);
  }
  if (t33.startLabelLeft) {
    let e11 = vC.get(t33.id).startLeft, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeStart ? 10 : 0, "start_left", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
  if (t33.startLabelRight) {
    let e11 = vC.get(t33.id).startRight, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeStart ? 10 : 0, "start_right", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
  if (t33.endLabelLeft) {
    let e11 = vC.get(t33.id).endLeft, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeEnd ? 10 : 0, "end_left", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
  if (t33.endLabelRight) {
    let e11 = vC.get(t33.id).endRight, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeEnd ? 10 : 0, "end_right", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
}, "positionEdgeLabel"), vM = iZ((t33, e10) => {
  let r10 = t33.x, i10 = t33.y, n10 = Math.abs(e10.x - r10), a10 = Math.abs(e10.y - i10), o10 = t33.width / 2, s10 = t33.height / 2;
  return n10 >= o10 || a10 >= s10;
}, "outsideNode"), vR = iZ((t33, e10, r10) => {
  i0.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e10)}
  insidePoint : ${JSON.stringify(r10)}
  node        : x:${t33.x} y:${t33.y} w:${t33.width} h:${t33.height}`);
  let i10 = t33.x, n10 = t33.y, a10 = Math.abs(i10 - r10.x), o10 = t33.width / 2, s10 = r10.x < e10.x ? o10 - a10 : o10 + a10, l10 = t33.height / 2, h10 = Math.abs(e10.y - r10.y), u10 = Math.abs(e10.x - r10.x);
  if (Math.abs(n10 - e10.y) * o10 > Math.abs(i10 - e10.x) * l10) {
    let t34 = r10.y < e10.y ? e10.y - l10 - n10 : n10 - l10 - e10.y;
    s10 = u10 * t34 / h10;
    let i11 = { x: r10.x < e10.x ? r10.x + s10 : r10.x - u10 + s10, y: r10.y < e10.y ? r10.y + h10 - t34 : r10.y - h10 + t34 };
    return 0 === s10 && (i11.x = e10.x, i11.y = e10.y), 0 === u10 && (i11.x = e10.x), 0 === h10 && (i11.y = e10.y), i0.debug(`abc89 top/bottom calc, Q ${h10}, q ${t34}, R ${u10}, r ${s10}`, i11), i11;
  }
  {
    let t34 = h10 * (s10 = r10.x < e10.x ? e10.x - o10 - i10 : i10 - o10 - e10.x) / u10, n11 = r10.x < e10.x ? r10.x + u10 - s10 : r10.x - u10 + s10, a11 = r10.y < e10.y ? r10.y + t34 : r10.y - t34;
    return i0.debug(`sides calc abc89, Q ${h10}, q ${t34}, R ${u10}, r ${s10}`, { _x: n11, _y: a11 }), 0 === s10 && (n11 = e10.x, a11 = e10.y), 0 === u10 && (n11 = e10.x), 0 === h10 && (a11 = e10.y), { x: n11, y: a11 };
  }
}, "intersection"), vD = iZ((t33, e10) => {
  i0.warn("abc88 cutPathAtIntersect", t33, e10);
  let r10 = [], i10 = t33[0], n10 = false;
  return t33.forEach((t34) => {
    if (i0.info("abc88 checking point", t34, e10), vM(e10, t34) || n10) i0.warn("abc88 outside", t34, i10), i10 = t34, n10 || r10.push(t34);
    else {
      let a10 = vR(e10, i10, t34);
      i0.debug("abc88 inside", t34, i10, a10), i0.debug("abc88 intersection", a10, e10);
      let o10 = false;
      r10.forEach((t35) => {
        o10 = o10 || t35.x === a10.x && t35.y === a10.y;
      }), r10.some((t35) => t35.x === a10.x && t35.y === a10.y) ? i0.warn("abc88 no intersect", a10, r10) : r10.push(a10), n10 = true;
    }
  }), i0.debug("returning points", r10), r10;
}, "cutPathAtIntersect");
function vO(t33) {
  let e10 = [], r10 = [];
  for (let i10 = 1; i10 < t33.length - 1; i10++) {
    let n10 = t33[i10 - 1], a10 = t33[i10], o10 = t33[i10 + 1];
    n10.x === a10.x && a10.y === o10.y && Math.abs(a10.x - o10.x) > 5 && Math.abs(a10.y - n10.y) > 5 ? (e10.push(a10), r10.push(i10)) : n10.y === a10.y && a10.x === o10.x && Math.abs(a10.x - n10.x) > 5 && Math.abs(a10.y - o10.y) > 5 && (e10.push(a10), r10.push(i10));
  }
  return { cornerPoints: e10, cornerPointPositions: r10 };
}
iZ(vO, "extractCornerPoints");
var vP = iZ(function(t33, e10, r10) {
  let i10 = e10.x - t33.x, n10 = e10.y - t33.y, a10 = r10 / Math.sqrt(i10 * i10 + n10 * n10);
  return { x: e10.x - a10 * i10, y: e10.y - a10 * n10 };
}, "findAdjacentPoint"), v$ = iZ(function(t33) {
  let { cornerPointPositions: e10 } = vO(t33), r10 = [];
  for (let i10 = 0; i10 < t33.length; i10++) if (e10.includes(i10)) {
    let e11 = t33[i10 - 1], n10 = t33[i10 + 1], a10 = t33[i10], o10 = vP(e11, a10, 5), s10 = vP(n10, a10, 5), l10 = s10.x - o10.x, h10 = s10.y - o10.y;
    r10.push(o10);
    let u10 = 2 * Math.sqrt(2), d10 = { x: a10.x, y: a10.y };
    Math.abs(n10.x - e11.x) > 10 && Math.abs(n10.y - e11.y) >= 10 ? (i0.debug("Corner point fixing", Math.abs(n10.x - e11.x), Math.abs(n10.y - e11.y)), d10 = a10.x === o10.x ? { x: l10 < 0 ? o10.x - 5 + u10 : o10.x + 5 - u10, y: h10 < 0 ? o10.y - u10 : o10.y + u10 } : { x: l10 < 0 ? o10.x - u10 : o10.x + u10, y: h10 < 0 ? o10.y - 5 + u10 : o10.y + 5 - u10 }) : i0.debug("Corner point skipping fixing", Math.abs(n10.x - e11.x), Math.abs(n10.y - e11.y)), r10.push(d10, s10);
  } else r10.push(t33[i10]);
  return r10;
}, "fixCorners"), vB = iZ(function(t33, e10, r10, i10, n10, a10, o10) {
  let s10, l10;
  let { handDrawnSeed: h10 } = nM(), u10 = e10.points, d10 = false;
  a10.intersect && n10.intersect && ((u10 = u10.slice(1, e10.points.length - 1)).unshift(n10.intersect(u10[0])), i0.debug("Last point APA12", e10.start, "-->", e10.end, u10[u10.length - 1], a10, a10.intersect(u10[u10.length - 1])), u10.push(a10.intersect(u10[u10.length - 1]))), e10.toCluster && (i0.info("to cluster abc88", r10.get(e10.toCluster)), u10 = vD(e10.points, r10.get(e10.toCluster).node), d10 = true), e10.fromCluster && (i0.debug("from cluster abc88", r10.get(e10.fromCluster), JSON.stringify(u10, null, 2)), u10 = vD(u10.reverse(), r10.get(e10.fromCluster).node).reverse(), d10 = true);
  let p10 = u10.filter((t34) => !Number.isNaN(t34.y));
  p10 = v$(p10);
  let g10 = pC;
  e10.curve && (g10 = e10.curve);
  let { x: f10, y: y10 } = vw(e10), v10 = px().x(f10).y(y10).curve(g10);
  switch (e10.thickness) {
    case "normal":
    default:
      s10 = "edge-thickness-normal";
      break;
    case "thick":
      s10 = "edge-thickness-thick";
      break;
    case "invisible":
      s10 = "edge-thickness-invisible";
  }
  switch (e10.pattern) {
    case "solid":
    default:
      s10 += " edge-pattern-solid";
      break;
    case "dotted":
      s10 += " edge-pattern-dotted";
      break;
    case "dashed":
      s10 += " edge-pattern-dashed";
  }
  let x10 = v10(p10), b10 = Array.isArray(e10.style) ? e10.style : [e10.style];
  if ("handDrawn" === e10.look) {
    let r11 = mS.svg(t33);
    Object.assign([], p10);
    let i11 = r11.path(x10, { roughness: 0.3, seed: h10 });
    s10 += " transition";
    let n11 = (l10 = hl(i11).select("path").attr("id", e10.id).attr("class", " " + s10 + (e10.classes ? " " + e10.classes : "")).attr("style", b10 ? b10.reduce((t34, e11) => t34 + ";" + e11, "") : "")).attr("d");
    l10.attr("d", n11), t33.node().appendChild(l10.node());
  } else l10 = t33.append("path").attr("d", x10).attr("id", e10.id).attr("class", " " + s10 + (e10.classes ? " " + e10.classes : "")).attr("style", b10 ? b10.reduce((t34, e11) => t34 + ";" + e11, "") : "");
  let w10 = "";
  (nM().flowchart.arrowMarkerAbsolute || nM().state.arrowMarkerAbsolute) && (w10 = (w10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(").replace(/\)/g, "\\)")), i0.info("arrowTypeStart", e10.arrowTypeStart), i0.info("arrowTypeEnd", e10.arrowTypeEnd), vk(l10, e10, w10, o10, i10);
  let k10 = {};
  return d10 && (k10.updatedPath = u10), k10.originalPath = e10.points, k10;
}, "insertEdge"), vF = iZ((t33, e10, r10, i10) => {
  e10.forEach((e11) => {
    vz[e11](t33, r10, i10);
  });
}, "insertMarkers"), vz = { extension: iZ((t33, e10, r10) => {
  i0.trace("Making markers for ", r10), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-extensionStart").attr("class", "marker extension " + e10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-extensionEnd").attr("class", "marker extension " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
}, "extension"), composition: iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-compositionStart").attr("class", "marker composition " + e10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-compositionEnd").attr("class", "marker composition " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "composition"), aggregation: iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-aggregationStart").attr("class", "marker aggregation " + e10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-aggregationEnd").attr("class", "marker aggregation " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "aggregation"), dependency: iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-dependencyStart").attr("class", "marker dependency " + e10).attr("refX", 6).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-dependencyEnd").attr("class", "marker dependency " + e10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "dependency"), lollipop: iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-lollipopStart").attr("class", "marker lollipop " + e10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-lollipopEnd").attr("class", "marker lollipop " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);
}, "lollipop"), point: iZ((t33, e10, r10) => {
  t33.append("marker").attr("id", r10 + "_" + e10 + "-pointEnd").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", 5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 8).attr("markerHeight", 8).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), t33.append("marker").attr("id", r10 + "_" + e10 + "-pointStart").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", 4.5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 8).attr("markerHeight", 8).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "point"), circle: iZ((t33, e10, r10) => {
  t33.append("marker").attr("id", r10 + "_" + e10 + "-circleEnd").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), t33.append("marker").attr("id", r10 + "_" + e10 + "-circleStart").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "circle"), cross: iZ((t33, e10, r10) => {
  t33.append("marker").attr("id", r10 + "_" + e10 + "-crossEnd").attr("class", "marker cross " + e10).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0"), t33.append("marker").attr("id", r10 + "_" + e10 + "-crossStart").attr("class", "marker cross " + e10).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
}, "cross"), barb: iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "userSpaceOnUse").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
}, "barb") }, vU = { common: ae, getConfig: nM, insertCluster: mZ, insertEdge: vB, insertEdgeLabel: vL, insertMarkers: vF, insertNode: vg, interpolateToCurve: p7, labelHelper: mA, log: i0, positionEdgeLabel: vI }, vG = {}, vq = iZ((t33) => {
  for (let e10 of t33) vG[e10.name] = e10;
}, "registerLayoutLoaders");
iZ(() => {
  vq([{ name: "dagre", loader: iZ(async () => await _(() => Promise.resolve().then(() => Ck), true ? void 0 : void 0), "loader") }]);
}, "registerDefaultLayoutLoaders")();
var vY = iZ(async (t33, e10) => {
  if (!(t33.layoutAlgorithm in vG)) throw Error(`Unknown layout algorithm: ${t33.layoutAlgorithm}`);
  let r10 = vG[t33.layoutAlgorithm];
  return (await r10.loader()).render(t33, e10, vU, { algorithm: r10.algorithm });
}, "render"), vH = iZ(function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", { fallback: e10 = "dagre" } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  if (t33 in vG) return t33;
  if (e10 in vG) return i0.warn(`Layout algorithm ${t33} is not registered. Using ${e10} as fallback.`), e10;
  throw Error(`Both layout algorithms ${t33} and ${e10} are not registered.`);
}, "getRegisteredLayoutAlgorithm"), vj = "11.4.1", vW = iZ((t33) => {
  let { securityLevel: e10 } = nM(), r10 = hl("body");
  if ("sandbox" === e10) {
    var i10, n10;
    let e11 = null !== (n10 = null === (i10 = hl(`#i${t33}`).node()) || void 0 === i10 ? void 0 : i10.contentDocument) && void 0 !== n10 ? n10 : document;
    r10 = hl(e11.body);
  }
  return r10.select(`#${t33}`);
}, "selectSvgElement"), vV = { id: "c4", detector: iZ((t33) => /^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t33), "detector"), loader: iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => SF);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: "c4", diagram: t33 };
}, "loader") }, vX = "flowchart", vK = iZ((t33, e10) => {
  var r10, i10;
  return (null == e10 ? void 0 : null === (r10 = e10.flowchart) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-wrapper" && (null == e10 ? void 0 : null === (i10 = e10.flowchart) || void 0 === i10 ? void 0 : i10.defaultRenderer) !== "elk" && /^\s*graph/.test(t33);
}, "detector"), vZ = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => AU);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: vX, diagram: t33 };
}, "loader"), vQ = { id: vX, detector: vK, loader: vZ }, vJ = "flowchart-v2", v0 = iZ((t33, e10) => {
  var r10, i10, n10;
  return (null == e10 ? void 0 : null === (r10 = e10.flowchart) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-d3" && ((null == e10 ? void 0 : null === (i10 = e10.flowchart) || void 0 === i10 ? void 0 : i10.defaultRenderer) === "elk" && (e10.layout = "elk"), !!/^\s*graph/.test(t33) && (null == e10 ? void 0 : null === (n10 = e10.flowchart) || void 0 === n10 ? void 0 : n10.defaultRenderer) === "dagre-wrapper" || /^\s*flowchart/.test(t33));
}, "detector"), v1 = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => AU);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: vJ, diagram: t33 };
}, "loader"), v2 = { id: vJ, detector: v0, loader: v1 }, v4 = { id: "er", detector: iZ((t33) => /^\s*erDiagram/.test(t33), "detector"), loader: iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Lh);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: "er", diagram: t33 };
}, "loader") }, v5 = "gitGraph", v3 = iZ((t33) => /^\s*gitGraph/.test(t33), "detector"), v6 = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => PZ);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: v5, diagram: t33 };
}, "loader"), v7 = { id: v5, detector: v3, loader: v6 }, v8 = "gantt", v9 = iZ((t33) => /^\s*gantt/.test(t33), "detector"), xt = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Bi);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: v8, diagram: t33 };
}, "loader"), xe = { id: v8, detector: v9, loader: xt }, xr = "info", xi = iZ((t33) => /^\s*info/.test(t33), "detector"), xn = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Bn);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xr, diagram: t33 };
}, "loader"), xa = { id: xr, detector: xi, loader: xn }, xo = { id: "pie", detector: iZ((t33) => /^\s*pie/.test(t33), "detector"), loader: iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Bf);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: "pie", diagram: t33 };
}, "loader") }, xs = "quadrantChart", xl = iZ((t33) => /^\s*quadrantChart/.test(t33), "detector"), xh = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Bz);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xs, diagram: t33 };
}, "loader"), xc = { id: xs, detector: xl, loader: xh }, xu = "xychart", xd = iZ((t33) => /^\s*xychart-beta/.test(t33), "detector"), xp = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Fb);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xu, diagram: t33 };
}, "loader"), xg = { id: xu, detector: xd, loader: xp }, xf = "requirement", xm = iZ((t33) => /^\s*requirement(Diagram)?/.test(t33), "detector"), xy = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => F4);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xf, diagram: t33 };
}, "loader"), xv = { id: xf, detector: xm, loader: xy }, xx = "sequence", xb = iZ((t33) => /^\s*sequenceDiagram/.test(t33), "detector"), xw = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Uk);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xx, diagram: t33 };
}, "loader"), xk = { id: xx, detector: xb, loader: xw }, x_ = "class", xT = iZ((t33, e10) => {
  var r10;
  return (null == e10 ? void 0 : null === (r10 = e10.class) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-wrapper" && /^\s*classDiagram/.test(t33);
}, "detector"), xE = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Gp);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: x_, diagram: t33 };
}, "loader"), xC = { id: x_, detector: xT, loader: xE }, xS = "classDiagram", xA = iZ((t33, e10) => {
  var r10;
  return !!/^\s*classDiagram/.test(t33) && (null == e10 ? void 0 : null === (r10 = e10.class) || void 0 === r10 ? void 0 : r10.defaultRenderer) === "dagre-wrapper" || /^\s*classDiagram-v2/.test(t33);
}, "detector"), xL = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Gg);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xS, diagram: t33 };
}, "loader"), xN = { id: xS, detector: xA, loader: xL }, xI = "state", xM = iZ((t33, e10) => {
  var r10;
  return (null == e10 ? void 0 : null === (r10 = e10.state) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-wrapper" && /^\s*stateDiagram/.test(t33);
}, "detector"), xR = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => q2);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xI, diagram: t33 };
}, "loader"), xD = { id: xI, detector: xM, loader: xR }, xO = "stateDiagram", xP = iZ((t33, e10) => {
  var r10;
  return !!(/^\s*stateDiagram-v2/.test(t33) || /^\s*stateDiagram/.test(t33) && (null == e10 ? void 0 : null === (r10 = e10.state) || void 0 === r10 ? void 0 : r10.defaultRenderer) === "dagre-wrapper");
}, "detector"), x$ = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => q4);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xO, diagram: t33 };
}, "loader"), xB = { id: xO, detector: xP, loader: x$ }, xF = "journey", xz = iZ((t33) => /^\s*journey/.test(t33), "detector"), xU = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => YN);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xF, diagram: t33 };
}, "loader"), xG = { id: xF, detector: xz, loader: xU }, xq = { draw: iZ((t33, e10, r10) => {
  i0.debug("rendering svg for syntax error\n");
  let i10 = vW(e10), n10 = i10.append("g");
  i10.attr("viewBox", "0 0 2412 512"), an(i10, 100, 512, true), n10.append("path").attr("class", "error-icon").attr("d", "m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"), n10.append("path").attr("class", "error-icon").attr("d", "m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"), n10.append("path").attr("class", "error-icon").attr("d", "m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"), n10.append("path").attr("class", "error-icon").attr("d", "m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"), n10.append("path").attr("class", "error-icon").attr("d", "m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"), n10.append("path").attr("class", "error-icon").attr("d", "m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"), n10.append("text").attr("class", "error-text").attr("x", 1440).attr("y", 250).attr("font-size", "150px").style("text-anchor", "middle").text("Syntax error in text"), n10.append("text").attr("class", "error-text").attr("x", 1250).attr("y", 400).attr("font-size", "100px").style("text-anchor", "middle").text(`mermaid version ${r10}`);
}, "draw") }, xY = { db: {}, renderer: xq, parser: { parse: iZ(() => {
}, "parse") } }, xH = "flowchart-elk", xj = iZ(function(t33) {
  var e10;
  let r10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  return !!(/^\s*flowchart-elk/.test(t33) || /^\s*flowchart|graph/.test(t33) && (null == r10 ? void 0 : null === (e10 = r10.flowchart) || void 0 === e10 ? void 0 : e10.defaultRenderer) === "elk") && (r10.layout = "elk", true);
}, "detector"), xW = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => AU);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xH, diagram: t33 };
}, "loader"), xV = { id: xH, detector: xj, loader: xW }, xX = "timeline", xK = iZ((t33) => /^\s*timeline/.test(t33), "detector"), xZ = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => Y3);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xX, diagram: t33 };
}, "loader"), xQ = { id: xX, detector: xK, loader: xZ }, xJ = "mindmap", x0 = iZ((t33) => /^\s*mindmap/.test(t33), "detector"), x1 = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => tiI);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: xJ, diagram: t33 };
}, "loader"), x2 = { id: xJ, detector: x0, loader: x1 }, x4 = "kanban", x5 = iZ((t33) => /^\s*kanban/.test(t33), "detector"), x3 = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => tiZ);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: x4, diagram: t33 };
}, "loader"), x6 = { id: x4, detector: x5, loader: x3 }, x7 = "sankey", x8 = iZ((t33) => /^\s*sankey-beta/.test(t33), "detector"), x9 = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => tnO);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: x7, diagram: t33 };
}, "loader"), bt = { id: x7, detector: x8, loader: x9 }, be = "packet", br = iZ((t33) => /^\s*packet-beta/.test(t33), "detector"), bi = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => tnV);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: be, diagram: t33 };
}, "loader"), bn = { id: be, detector: br, loader: bi }, ba = "block", bo = iZ((t33) => /^\s*block-beta/.test(t33), "detector"), bs = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => toI);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: ba, diagram: t33 };
}, "loader"), bl = { id: ba, detector: bo, loader: bs }, bh = "architecture", bc = iZ((t33) => /^\s*architecture/.test(t33), "detector"), bu = iZ(async () => {
  let { diagram: t33 } = await _(async () => {
    let { diagram: t34 } = await Promise.resolve().then(() => tsk);
    return { diagram: t34 };
  }, true ? void 0 : void 0);
  return { id: bh, diagram: t33 };
}, "loader"), bd = { id: bh, detector: bc, loader: bu }, bp = false, bg = iZ(() => {
  bp || (bp = true, aT("error", xY, (t33) => "error" === t33.toLowerCase().trim()), aT("---", { db: { clear: iZ(() => {
  }, "clear") }, styles: {}, renderer: { draw: iZ(() => {
  }, "draw") }, parser: { parse: iZ(() => {
    throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks");
  }, "parse") }, init: iZ(() => null, "init") }, (t33) => t33.toLowerCase().trimStart().startsWith("---")), i9(vV, x6, xN, xC, v4, xe, xa, xo, xv, xk, xV, v2, vQ, x2, xQ, v7, xB, xD, xG, xc, bt, bn, xg, bl, bd));
}, "addDiagrams"), bf = iZ(async () => {
  i0.debug("Loading registered diagrams");
  let t33 = (await Promise.allSettled(Object.entries(i7).map(async (t34) => {
    let [e10, { detector: r10, loader: i10 }] = t34;
    if (i10) try {
      aE(e10);
    } catch {
      try {
        let { diagram: t35, id: e11 } = await i10();
        aT(e11, t35, r10);
      } catch (t35) {
        throw i0.error(`Failed to load external diagram with key ${e10}. Removing from detectors.`), delete i7[e10], t35;
      }
    }
  }))).filter((t34) => "rejected" === t34.status);
  if (t33.length > 0) {
    for (let e10 of (i0.error(`Failed to load ${t33.length} external diagrams`), t33)) i0.error(e10);
    throw Error(`Failed to load ${t33.length} external diagrams`);
  }
}, "loadRegisteredDiagrams");
function bm(t33, e10) {
  t33.attr("role", "graphics-document document"), "" !== e10 && t33.attr("aria-roledescription", e10);
}
function by(t33, e10, r10, i10) {
  if (void 0 !== t33.insert) {
    if (r10) {
      let e11 = `chart-desc-${i10}`;
      t33.attr("aria-describedby", e11), t33.insert("desc", ":first-child").attr("id", e11).text(r10);
    }
    if (e10) {
      let r11 = `chart-title-${i10}`;
      t33.attr("aria-labelledby", r11), t33.insert("title", ":first-child").attr("id", r11).text(e10);
    }
  }
}
iZ(bm, "setA11yDiagramInfo"), iZ(by, "addSVGa11yTitleDescription");
var bv = (_i = class {
  constructor(t33, e10, r10, i10, n10) {
    this.type = t33, this.text = e10, this.db = r10, this.parser = i10, this.renderer = n10;
  }
  static async fromText(e10) {
    var r10, i10;
    let n10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a10 = nM(), o10 = i8(e10, a10);
    e10 = gE(e10) + "\n";
    try {
      aE(o10);
    } catch {
      let t33 = ne(o10);
      if (!t33) throw new i6(`Diagram ${o10} not found.`);
      let { id: e11, diagram: r11 } = await t33();
      aT(e11, r11);
    }
    let { db: s10, parser: l10, renderer: h10, init: u10 } = aE(o10);
    return l10.parser && (l10.parser.yy = s10), null === (r10 = s10.clear) || void 0 === r10 || r10.call(s10), null == u10 || u10(a10), n10.title && (null === (i10 = s10.setDiagramTitle) || void 0 === i10 || i10.call(s10, n10.title)), await l10.parse(e10), new _i(o10, e10, s10, l10, h10);
  }
  async render(t33, e10) {
    await this.renderer.draw(this.text, t33, e10, this);
  }
  getParser() {
    return this.parser;
  }
  getType() {
    return this.type;
  }
}, _n10 = new WeakMap(), __privateAdd(_i, _n10, iZ(_i, "Diagram")), _i), bx = [], bb = iZ(() => {
  bx.forEach((t33) => {
    t33();
  }), bx = [];
}, "attachFunctions"), bw = iZ((t33) => t33.replace(/^\s*%%(?!{)[^\n]+\n?/gm, "").trimStart(), "cleanupComments");
function bk(t33) {
  var e10;
  let r10 = t33.match(i4);
  if (!r10) return { text: t33, metadata: {} };
  let i10 = null !== (e10 = su(r10[1], { schema: oi })) && void 0 !== e10 ? e10 : {};
  i10 = "object" != typeof i10 || Array.isArray(i10) ? {} : i10;
  let n10 = {};
  return i10.displayMode && (n10.displayMode = i10.displayMode.toString()), i10.title && (n10.title = i10.title.toString()), i10.config && (n10.config = i10.config), { text: t33.slice(r10[0].length), metadata: n10 };
}
iZ(bk, "extractFrontMatter");
var b_ = iZ((t33) => t33.replace(/\r\n?/g, "\n").replace(/<(\w+)([^>]*)>/g, (t34, e10, r10) => "<" + e10 + r10.replace(/="([^"]*)"/g, "='$1'") + ">"), "cleanupText"), bT = iZ((t33) => {
  let { text: e10, metadata: r10 } = bk(t33), { displayMode: i10, title: n10, config: a10 = {} } = r10;
  return i10 && (a10.gantt || (a10.gantt = {}), a10.gantt.displayMode = i10), { title: n10, config: a10, text: e10 };
}, "processFrontmatter"), bE = iZ((t33) => {
  var e10;
  let r10 = null !== (e10 = gT.detectInit(t33)) && void 0 !== e10 ? e10 : {}, i10 = gT.detectDirective(t33, "wrap");
  return Array.isArray(i10) ? r10.wrap = i10.some((t34) => {
    let { type: e11 } = t34;
    return "wrap" === e11;
  }) : (null == i10 ? void 0 : i10.type) === "wrap" && (r10.wrap = true), { text: p6(t33), directive: r10 };
}, "processDirectives");
function bC(t33) {
  let e10 = bT(b_(t33)), r10 = bE(e10.text), i10 = g_(e10.config, r10.directive);
  return { code: t33 = bw(r10.text), title: e10.title, config: i10 };
}
function bS(t33) {
  return btoa(Array.from(new TextEncoder().encode(t33), (t34) => String.fromCodePoint(t34)).join(""));
}
iZ(bC, "preprocessDiagram"), iZ(bS, "toBase64");
var bA = ["foreignobject"], bL = ["dominant-baseline"];
function bN(t33) {
  var e10;
  let r10 = bC(t33);
  return nO(), nD(null !== (e10 = r10.config) && void 0 !== e10 ? e10 : {}), r10;
}
async function bI(t33, e10) {
  bg();
  try {
    let { code: e11, config: r10 } = bN(t33);
    return { diagramType: (await bG(e11)).type, config: r10 };
  } catch (t34) {
    if (null == e10 ? void 0 : e10.suppressErrors) return false;
    throw t34;
  }
}
iZ(bN, "processAndSetConfigs"), iZ(bI, "parse");
var bM = iZ(function(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
  return `
.${t33} ${e10} { ${r10.join(" !important; ")} !important; }`;
}, "cssImportantStyles"), bR = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : /* @__PURE__ */ new Map(), r10 = "";
  if (void 0 !== t33.themeCSS && (r10 += `
${t33.themeCSS}`), void 0 !== t33.fontFamily && (r10 += `
:root { --mermaid-font-family: ${t33.fontFamily}}`), void 0 !== t33.altFontFamily && (r10 += `
:root { --mermaid-alt-font-family: ${t33.altFontFamily}}`), e10 instanceof Map) {
    var i10, n10;
    let a10 = (null !== (n10 = t33.htmlLabels) && void 0 !== n10 ? n10 : null === (i10 = t33.flowchart) || void 0 === i10 ? void 0 : i10.htmlLabels) ? ["> *", "span"] : ["rect", "polygon", "ellipse", "circle", "path"];
    e10.forEach((t34) => {
      ta(t34.styles) || a10.forEach((e11) => {
        r10 += bM(t34.id, e11, t34.styles);
      }), ta(t34.textStyles) || (r10 += bM(t34.id, "tspan", ((null == t34 ? void 0 : t34.textStyles) || []).map((t35) => t35.replace("color", "fill"))));
    });
  }
  return r10;
}, "createCssStyles"), bD = iZ((t33, e10, r10, i10) => {
  let n10 = as(e10, bR(t33, r10), t33.themeVariables);
  return t1(t2(`${i10}{${n10}}`), t4);
}, "createUserStyles"), bO = iZ(function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e10 = arguments.length > 1 ? arguments[1] : void 0, r10 = arguments.length > 2 ? arguments[2] : void 0, i10 = t33;
  return r10 || e10 || (i10 = i10.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g, 'marker-end="url(#')), i10 = (i10 = gC(i10)).replace(/<br>/g, "<br/>");
}, "cleanUpSvgCode"), bP = iZ(function() {
  var t33, e10;
  let r10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", i10 = arguments.length > 1 ? arguments[1] : void 0, n10 = (null == i10 ? void 0 : null === (e10 = i10.viewBox) || void 0 === e10 ? void 0 : null === (t33 = e10.baseVal) || void 0 === t33 ? void 0 : t33.height) ? i10.viewBox.baseVal.height + "px" : "100%", a10 = bS(`<body style="margin:0">${r10}</body>`);
  return `<iframe style="width:100%;height:${n10};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${a10}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`;
}, "putIntoIFrame"), b$ = iZ((t33, e10, r10, i10, n10) => {
  let a10 = t33.append("div");
  a10.attr("id", r10), i10 && a10.attr("style", i10);
  let o10 = a10.append("svg").attr("id", e10).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg");
  return n10 && o10.attr("xmlns:xlink", n10), o10.append("g"), t33;
}, "appendDivSvgG");
function bB(t33, e10) {
  return t33.append("iframe").attr("id", e10).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
}
iZ(bB, "sandboxedIframe");
var bF = iZ((t33, e10, r10, i10) => {
  var n10, a10, o10;
  null === (n10 = t33.getElementById(e10)) || void 0 === n10 || n10.remove(), null === (a10 = t33.getElementById(r10)) || void 0 === a10 || a10.remove(), null === (o10 = t33.getElementById(i10)) || void 0 === o10 || o10.remove();
}, "removeExistingElements"), bz = iZ(async function(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10, h10;
  let u10, d10;
  bg();
  let p10 = bN(e10);
  e10 = p10.code;
  let g10 = nM();
  i0.debug(g10), e10.length > (null !== (h10 = null == g10 ? void 0 : g10.maxTextSize) && void 0 !== h10 ? h10 : 5e4) && (e10 = "graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");
  let f10 = "#" + t33, y10 = "i" + t33, v10 = "#" + y10, x10 = "d" + t33, b10 = "#" + x10, w10 = iZ(() => {
    let t34 = hl(_10 ? v10 : b10).node();
    t34 && "remove" in t34 && t34.remove();
  }, "removeTempElements"), k10 = hl("body"), _10 = "sandbox" === g10.securityLevel, T10 = "loose" === g10.securityLevel, E10 = g10.fontFamily;
  if (void 0 !== r10) {
    if (r10 && (r10.innerHTML = ""), _10) {
      let t34 = bB(hl(r10), y10);
      (k10 = hl(t34.nodes()[0].contentDocument.body)).node().style.margin = 0;
    } else k10 = hl(r10);
    b$(k10, t33, x10, `font-family: ${E10}`, "http://www.w3.org/1999/xlink");
  } else {
    if (bF(document, t33, x10, y10), _10) {
      let t34 = bB(hl("body"), y10);
      (k10 = hl(t34.nodes()[0].contentDocument.body)).node().style.margin = 0;
    } else k10 = hl("body");
    b$(k10, t33, x10);
  }
  try {
    u10 = await bv.fromText(e10, { title: p10.title });
  } catch (t34) {
    if (g10.suppressErrorRendering) throw w10(), t34;
    u10 = await bv.fromText("error"), d10 = t34;
  }
  let C10 = k10.select(b10).node(), S10 = u10.type, A10 = C10.firstChild, L10 = A10.firstChild, N10 = bD(g10, S10, null === (i10 = (n10 = u10.renderer).getClasses) || void 0 === i10 ? void 0 : i10.call(n10, e10, u10), f10), I10 = document.createElement("style");
  I10.innerHTML = N10, A10.insertBefore(I10, L10);
  try {
    await u10.renderer.draw(e10, t33, vj, u10);
  } catch (r11) {
    throw g10.suppressErrorRendering ? w10() : xq.draw(e10, t33, vj), r11;
  }
  bq(S10, k10.select(`${b10} svg`), null === (a10 = (o10 = u10.db).getAccTitle) || void 0 === a10 ? void 0 : a10.call(o10), null === (s10 = (l10 = u10.db).getAccDescription) || void 0 === s10 ? void 0 : s10.call(l10)), k10.select(`[id="${t33}"]`).selectAll("foreignobject > *").attr("xmlns", "http://www.w3.org/1999/xhtml");
  let M10 = k10.select(b10).node().innerHTML;
  if (i0.debug("config.arrowMarkerAbsolute", g10.arrowMarkerAbsolute), M10 = bO(M10, _10, nJ(g10.arrowMarkerAbsolute)), _10 ? M10 = bP(M10, k10.select(b10 + " svg").node()) : T10 || (M10 = iX.sanitize(M10, { ADD_TAGS: bA, ADD_ATTR: bL, HTML_INTEGRATION_POINTS: { foreignobject: true } })), bb(), d10) throw d10;
  return w10(), { diagramType: S10, svg: M10, bindFunctions: u10.db.bindFunctions };
}, "render");
function bU() {
  var t33;
  let e10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r10 = nr({}, e10);
  (null == r10 ? void 0 : r10.fontFamily) && !(null === (t33 = r10.themeVariables) || void 0 === t33 ? void 0 : t33.fontFamily) && (r10.themeVariables || (r10.themeVariables = {}), r10.themeVariables.fontFamily = r10.fontFamily), nA(r10), (null == r10 ? void 0 : r10.theme) && r10.theme in nf ? r10.themeVariables = nf[r10.theme].getThemeVariables(r10.themeVariables) : r10 && (r10.themeVariables = nf.default.getThemeVariables(r10.themeVariables)), i1(("object" == typeof r10 ? nS(r10) : nN()).logLevel), bg();
}
iZ(bU, "initialize");
var bG = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, { code: r10 } = bC(t33);
  return bv.fromText(r10, e10);
}, "getDiagramFromText");
function bq(t33, e10, r10, i10) {
  bm(e10, t33), by(e10, r10, i10, e10.attr("id"));
}
iZ(bq, "addA11yInfo");
var bY = Object.freeze({ render: bz, parse: bI, getDiagramFromText: bG, initialize: bU, getConfig: nM, setConfig: nI, getSiteConfig: nN, updateSiteConfig: nL, reset: iZ(() => {
  nO();
}, "reset"), globalReset: iZ(() => {
  nO(nk);
}, "globalReset"), defaultConfig: nk });
i1(nM().logLevel), nO(nM());
var bH = iZ((t33, e10, r10) => {
  i0.warn(t33), gb(t33) ? (r10 && r10(t33.str, t33.hash), e10.push({ ...t33, message: t33.str, error: t33 })) : (r10 && r10(t33), t33 instanceof Error && e10.push({ str: t33.message, message: t33.message, hash: t33.name, error: t33 }));
}, "handleError"), bj = iZ(async function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { querySelector: ".mermaid" };
  try {
    await bW(t33);
  } catch (e10) {
    if (gb(e10) && i0.error(e10.str), b5.parseError && b5.parseError(e10), !t33.suppressErrors) throw i0.error("Use the suppressErrors option to suppress these errors"), e10;
  }
}, "run"), bW = iZ(async function() {
  let t33, e10, { postRenderCallback: r10, querySelector: i10, nodes: n10 } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { querySelector: ".mermaid" }, a10 = bY.getConfig();
  if (i0.debug(`${r10 ? "" : "No "}Callback function found`), n10) t33 = n10;
  else if (i10) t33 = document.querySelectorAll(i10);
  else throw Error("Nodes and querySelector are both undefined");
  i0.debug(`Found ${t33.length} diagrams`), (null == a10 ? void 0 : a10.startOnLoad) !== void 0 && (i0.debug("Start On Load: " + (null == a10 ? void 0 : a10.startOnLoad)), bY.updateSiteConfig({ startOnLoad: null == a10 ? void 0 : a10.startOnLoad }));
  let o10 = new gT.InitIDGenerator(a10.deterministicIds, a10.deterministicIDSeed), s10 = [];
  for (let i11 of Array.from(t33)) {
    if (i0.info("Rendering diagram: " + i11.id), i11.getAttribute("data-processed")) continue;
    i11.setAttribute("data-processed", "true");
    let t34 = `mermaid-${o10.next()}`;
    e10 = i11.innerHTML, e10 = fA(gT.entityDecode(e10)).trim().replace(/<br\s*\/?>/gi, "<br/>");
    let n11 = gT.detectInit(e10);
    n11 && i0.debug("Detected early reinit: ", n11);
    try {
      let { svg: n12, bindFunctions: a11 } = await b4(t34, e10, i11);
      i11.innerHTML = n12, r10 && await r10(t34), a11 && a11(i11);
    } catch (t35) {
      bH(t35, s10, b5.parseError);
    }
  }
  if (s10.length > 0) throw s10[0];
}, "runThrowsErrors"), bV = iZ(function(t33) {
  bY.initialize(t33);
}, "initialize"), bX = iZ(async function(t33, e10, r10) {
  i0.warn("mermaid.init is deprecated. Please use run instead."), t33 && bV(t33);
  let i10 = { postRenderCallback: r10, querySelector: ".mermaid" };
  "string" == typeof e10 ? i10.querySelector = e10 : e10 && (e10 instanceof HTMLElement ? i10.nodes = [e10] : i10.nodes = e10), await bj(i10);
}, "init"), bK = iZ(async function(t33) {
  let { lazyLoad: e10 = true } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  bg(), i9(...t33), false === e10 && await bf();
}, "registerExternalDiagrams"), bZ = iZ(function() {
  if (b5.startOnLoad) {
    let { startOnLoad: t33 } = bY.getConfig();
    t33 && b5.run().catch((t34) => i0.error("Mermaid failed to initialize", t34));
  }
}, "contentLoaded");
"undefined" != typeof document && window.addEventListener("load", bZ, false);
var bQ = iZ(function(t33) {
  b5.parseError = t33;
}, "setParseErrorHandler"), bJ = [], b0 = false, b1 = iZ(async () => {
  if (!b0) {
    for (b0 = true; bJ.length > 0; ) {
      let t33 = bJ.shift();
      if (t33) try {
        await t33();
      } catch (t34) {
        i0.error("Error executing queue", t34);
      }
    }
    b0 = false;
  }
}, "executeQueue"), b2 = iZ(async (t33, e10) => new Promise((r10, i10) => {
  let n10 = iZ(() => new Promise((n11, a10) => {
    bY.parse(t33, e10).then((t34) => {
      n11(t34), r10(t34);
    }, (t34) => {
      var e11;
      i0.error("Error parsing", t34), null === (e11 = b5.parseError) || void 0 === e11 || e11.call(b5, t34), a10(t34), i10(t34);
    });
  }), "performCall");
  bJ.push(n10), b1().catch(i10);
}), "parse"), b4 = iZ((t33, e10, r10) => new Promise((i10, n10) => {
  let a10 = iZ(() => new Promise((a11, o10) => {
    bY.render(t33, e10, r10).then((t34) => {
      a11(t34), i10(t34);
    }, (t34) => {
      var e11;
      i0.error("Error parsing", t34), null === (e11 = b5.parseError) || void 0 === e11 || e11.call(b5, t34), o10(t34), n10(t34);
    });
  }), "performCall");
  bJ.push(a10), b1().catch(n10);
}), "render"), b5 = { startOnLoad: true, mermaidAPI: bY, parse: b2, render: b4, init: bX, run: bj, registerExternalDiagrams: bK, registerLayoutLoaders: vq, initialize: bV, parseError: void 0, contentLoaded: bZ, setParseErrorHandler: bQ, detectType: i8, registerIconPacks: le };
let b3 = tZ("pre", (t33, e10) => {
  let {} = t33, { slots: r10 } = e10;
  return (t34) => {
    var e11;
    let i10 = null === (e11 = r10.default) || void 0 === e11 ? void 0 : e11.call(r10), n10 = null == i10 ? void 0 : i10[0];
    return n10 && "language-mermaid" === n10.props.className ? u(b6, { code: n10.children }) : u(t34, { children: i10 });
  };
}, { displayName: "PreWithMermaid" })({}), b6 = n((t33, e10) => {
  let {} = e10, i10 = a(null);
  return b5.initialize({}), r(i10, B((t34) => t34 ? X(b5.run({ nodes: [t34] })) : U), l()), () => u(b7, { ref: i10, class: "mermaid", children: t33.code });
}, { displayName: "Mermaid", props: ["code"] }), b7 = tZ("div", { displayName: "MermaidContainer" })({ "& > svg": { minWidth: "80%" } }), b8 = n({ operationId: E() }, (t33, i10) => {
  let {} = i10, n10 = ef.use(), a10 = r(t33.operationId$, B((t34) => n10.operation$(t34))), s10 = r(a10, K((t34) => !!t34)), l10 = e.seed(false), d10 = r(s10, h((t34) => t34.description ? u(t5, { text: t34.description, components: { pre: b3 } }) : null)), p10 = r(l10, h((t34) => u(t6, { isOpen: t34, onClose: () => {
    l10.next(false);
  }, children: u(g10, { children: u(tQ, { sx: { px: 24, py: 12, width: "100%" }, children: u(eA, { children: d10 }) }) }) }))), g10 = tZ("div", { displayName: "DialogContainer" })({ display: "flex", containerStyle: "sys.surface", width: "90vw", roundedBottom: "sm", px: 16, py: 36, top: 0, position: "absolute", overflow: "auto" }), y10 = r(s10, h((t34) => t34.description ? o(en, { onClick: () => {
    l10.next(true);
  }, children: [u(t3, { path: ei }), p10] }) : null)), v10 = r(s10, h((t34) => {
    var e10;
    return u(e5, { operation: t34, children: u(f, { children: Object.entries(null !== (e10 = t34.responses) && void 0 !== e10 ? e10 : {}).map((t35) => {
      let [e11, r10] = t35;
      return u(eB, { code: e11, response: r10 }, e11);
    }) }) }, t34.operationId);
  })), x10 = r(s10, h((t34) => {
    var e10;
    return o(we, { sx: { containerStyle: null !== (e10 = { get: "sys.primary-container", post: "sys.success-container", put: "sys.warning-container", delete: "sys.error-container" }[t34.method]) && void 0 !== e10 ? e10 : "sys.secondary-container" }, children: [u("div", { "data-operation-method": true, children: t34.method }), o("div", { "data-operation-desc": true, children: [u("div", { "data-operation-path": true, children: t34.path }), o("div", { "data-operation-summary": true, children: [t34.summary, " ", t34.operationId != t34.summary ? t34.operationId : ""] })] }), u(tQ, { sx: { flex: 1 } }), y10] });
  }));
  return r(a10, h((t34) => t34 ? "SycDatabaseEr" == t34.operationId ? o(b9, { children: [x10, u(wt, { children: u(e8, { op: t34 }) })] }, t34.operationId) : o(b9, { children: [x10, u(wt, { children: u(tQ, { sx: { flex: 1, overflow: "auto" }, children: v10 }) })] }, t34.operationId) : null));
}, { displayName: "OperationView" }), b9 = tZ("div", { displayName: "OperationContainer" })({ height: "100%", display: "flex", flexDirection: "column", alignItems: "stretch" }), wt = tZ("div", { displayName: "OperationMain" })({ flex: 1, overflow: "hidden", display: "flex", flexDirection: "column", alignItems: "stretch" }), we = tZ("summary", { displayName: "OperationHeading" })({ display: "flex", alignItems: "center", width: "100%", px: 16, py: 8, gap: 16, $data_operation_method: { textTransform: "uppercase", fontSize: 24, fontFamily: "code" }, $data_operation_path: { fontFamily: "code" }, $data_operation_summary: { opacity: 0.8, textStyle: "sys.body-small" } });
class wr {
  constructor(t33, e10, r10) {
    this.lexer = void 0, this.start = void 0, this.end = void 0, this.lexer = t33, this.start = e10, this.end = r10;
  }
  static range(t33, e10) {
    return e10 ? t33 && t33.loc && e10.loc && t33.loc.lexer === e10.loc.lexer ? new wr(t33.loc.lexer, t33.loc.start, e10.loc.end) : null : t33 && t33.loc;
  }
}
class wi {
  constructor(t33, e10) {
    this.text = void 0, this.loc = void 0, this.noexpand = void 0, this.treatAsRelax = void 0, this.text = t33, this.loc = e10;
  }
  range(t33, e10) {
    return new wi(e10, wr.range(this, t33));
  }
}
class wn {
  constructor(t33, e10) {
    this.name = void 0, this.position = void 0, this.length = void 0, this.rawMessage = void 0;
    var r10 = "KaTeX parse error: " + t33, i10 = e10 && e10.loc;
    if (i10 && i10.start <= i10.end) {
      var n10, a10, o10 = i10.lexer.input;
      n10 = i10.start, a10 = i10.end, n10 === o10.length ? r10 += " at end of input: " : r10 += " at position " + (n10 + 1) + ": ";
      var s10 = o10.slice(n10, a10).replace(/[^]/g, "$&̲");
      r10 += (n10 > 15 ? "…" + o10.slice(n10 - 15, n10) : o10.slice(0, n10)) + s10 + (a10 + 15 < o10.length ? o10.slice(a10, a10 + 15) + "…" : o10.slice(a10));
    }
    var l10 = Error(r10);
    return l10.name = "ParseError", l10.__proto__ = wn.prototype, l10.position = n10, null != n10 && null != a10 && (l10.length = a10 - n10), l10.rawMessage = t33, l10;
  }
}
wn.prototype.__proto__ = Error.prototype;
var wa = /([A-Z])/g, wo = { "&": "&amp;", ">": "&gt;", "<": "&lt;", '"': "&quot;", "'": "&#x27;" }, ws = /[&><"']/g, wl = function t19(e10) {
  return "ordgroup" === e10.type || "color" === e10.type ? 1 === e10.body.length ? t19(e10.body[0]) : e10 : "font" === e10.type ? t19(e10.body) : e10;
}, wh = function(t33) {
  if (!t33) throw Error("Expected non-null, but got " + String(t33));
  return t33;
}, wc = { contains: function(t33, e10) {
  return -1 !== t33.indexOf(e10);
}, deflt: function(t33, e10) {
  return void 0 === t33 ? e10 : t33;
}, escape: function(t33) {
  return String(t33).replace(ws, (t34) => wo[t34]);
}, hyphenate: function(t33) {
  return t33.replace(wa, "-$1").toLowerCase();
}, getBaseElem: wl, isCharacterBox: function(t33) {
  var e10 = wl(t33);
  return "mathord" === e10.type || "textord" === e10.type || "atom" === e10.type;
}, protocolFromUrl: function(t33) {
  var e10 = /^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t33);
  return e10 ? ":" === e10[2] && /^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e10[1]) ? e10[1].toLowerCase() : null : "_relative";
} }, wu = { displayMode: { type: "boolean", description: "Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.", cli: "-d, --display-mode" }, output: { type: { enum: ["htmlAndMathml", "html", "mathml"] }, description: "Determines the markup language of the output.", cli: "-F, --format <type>" }, leqno: { type: "boolean", description: "Render display math in leqno style (left-justified tags)." }, fleqn: { type: "boolean", description: "Render display math flush left." }, throwOnError: { type: "boolean", default: true, cli: "-t, --no-throw-on-error", cliDescription: "Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error." }, errorColor: { type: "string", default: "#cc0000", cli: "-c, --error-color <color>", cliDescription: "A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.", cliProcessor: (t33) => "#" + t33 }, macros: { type: "object", cli: "-m, --macro <def>", cliDescription: "Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).", cliDefault: [], cliProcessor: (t33, e10) => (e10.push(t33), e10) }, minRuleThickness: { type: "number", description: "Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.", processor: (t33) => Math.max(0, t33), cli: "--min-rule-thickness <size>", cliProcessor: parseFloat }, colorIsTextColor: { type: "boolean", description: "Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.", cli: "-b, --color-is-text-color" }, strict: { type: [{ enum: ["warn", "ignore", "error"] }, "boolean", "function"], description: "Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.", cli: "-S, --strict", cliDefault: false }, trust: { type: ["boolean", "function"], description: "Trust the input, enabling all HTML features such as \\url.", cli: "-T, --trust" }, maxSize: { type: "number", default: 1 / 0, description: "If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large", processor: (t33) => Math.max(0, t33), cli: "-s, --max-size <n>", cliProcessor: parseInt }, maxExpand: { type: "number", default: 1e3, description: "Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.", processor: (t33) => Math.max(0, t33), cli: "-e, --max-expand <n>", cliProcessor: (t33) => "Infinity" === t33 ? 1 / 0 : parseInt(t33) }, globalGroup: { type: "boolean", cli: false } };
class wd {
  constructor(t33) {
    for (var e10 in this.displayMode = void 0, this.output = void 0, this.leqno = void 0, this.fleqn = void 0, this.throwOnError = void 0, this.errorColor = void 0, this.macros = void 0, this.minRuleThickness = void 0, this.colorIsTextColor = void 0, this.strict = void 0, this.trust = void 0, this.maxSize = void 0, this.maxExpand = void 0, this.globalGroup = void 0, t33 = t33 || {}, wu) if (wu.hasOwnProperty(e10)) {
      var r10 = wu[e10];
      this[e10] = void 0 !== t33[e10] ? r10.processor ? r10.processor(t33[e10]) : t33[e10] : function(t34) {
        if (t34.default) return t34.default;
        var e11 = t34.type, r11 = Array.isArray(e11) ? e11[0] : e11;
        if ("string" != typeof r11) return r11.enum[0];
        switch (r11) {
          case "boolean":
            return false;
          case "string":
            return "";
          case "number":
            return 0;
          case "object":
            return {};
        }
      }(r10);
    }
  }
  reportNonstrict(t33, e10, r10) {
    var i10 = this.strict;
    if ("function" == typeof i10 && (i10 = i10(t33, e10, r10)), i10 && "ignore" !== i10) {
      if (true === i10 || "error" === i10) throw new wn("LaTeX-incompatible input and strict mode is set to 'error': " + e10 + " [" + t33 + "]", r10);
      "warn" === i10 ? "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to 'warn': " + e10 + " [" + t33 + "]") : "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to " + ("unrecognized '" + i10 + "': " + e10) + " [" + t33 + "]");
    }
  }
  useStrictBehavior(t33, e10, r10) {
    var i10 = this.strict;
    if ("function" == typeof i10) try {
      i10 = i10(t33, e10, r10);
    } catch (t34) {
      i10 = "error";
    }
    return !!i10 && "ignore" !== i10 && (true === i10 || "error" === i10 || ("warn" === i10 ? "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to 'warn': " + e10 + " [" + t33 + "]") : "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to " + ("unrecognized '" + i10 + "': " + e10) + " [" + t33 + "]"), false));
  }
  isTrusted(t33) {
    if (t33.url && !t33.protocol) {
      var e10 = wc.protocolFromUrl(t33.url);
      if (null == e10) return false;
      t33.protocol = e10;
    }
    return !!("function" == typeof this.trust ? this.trust(t33) : this.trust);
  }
}
let wp = class {
  constructor(t33, e10, r10) {
    this.id = void 0, this.size = void 0, this.cramped = void 0, this.id = t33, this.size = e10, this.cramped = r10;
  }
  sup() {
    return wg[wf[this.id]];
  }
  sub() {
    return wg[wm[this.id]];
  }
  fracNum() {
    return wg[wy[this.id]];
  }
  fracDen() {
    return wg[wv[this.id]];
  }
  cramp() {
    return wg[wx[this.id]];
  }
  text() {
    return wg[wb[this.id]];
  }
  isTight() {
    return this.size >= 2;
  }
};
var wg = [new wp(0, 0, false), new wp(1, 0, true), new wp(2, 1, false), new wp(3, 1, true), new wp(4, 2, false), new wp(5, 2, true), new wp(6, 3, false), new wp(7, 3, true)], wf = [4, 5, 4, 5, 6, 7, 6, 7], wm = [5, 5, 5, 5, 7, 7, 7, 7], wy = [2, 3, 4, 5, 6, 7, 6, 7], wv = [3, 3, 5, 5, 7, 7, 7, 7], wx = [1, 1, 3, 3, 5, 5, 7, 7], wb = [0, 1, 2, 3, 2, 3, 2, 3], ww = { DISPLAY: wg[0], TEXT: wg[2], SCRIPT: wg[4], SCRIPTSCRIPT: wg[6] }, wk = [{ name: "latin", blocks: [[256, 591], [768, 879]] }, { name: "cyrillic", blocks: [[1024, 1279]] }, { name: "armenian", blocks: [[1328, 1423]] }, { name: "brahmic", blocks: [[2304, 4255]] }, { name: "georgian", blocks: [[4256, 4351]] }, { name: "cjk", blocks: [[12288, 12543], [19968, 40879], [65280, 65376]] }, { name: "hangul", blocks: [[44032, 55215]] }], w_ = [];
function wT(t33) {
  for (var e10 = 0; e10 < w_.length; e10 += 2) if (t33 >= w_[e10] && t33 <= w_[e10 + 1]) return true;
  return false;
}
wk.forEach((t33) => t33.blocks.forEach((t34) => w_.push(...t34)));
var wE = function(t33, e10, r10) {
  e10 *= 1e3;
  var i10, n10, a10, o10, s10, l10, h10 = "";
  switch (t33) {
    case "sqrtMain":
      h10 = "M95," + (622 + (i10 = e10) + 80) + "\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl" + i10 / 2.075 + " -" + i10 + "\nc5.3,-9.3,12,-14,20,-14\nH400000v" + (40 + i10) + "H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM" + (834 + i10) + " 80h400000v" + (40 + i10) + "h-400000z";
      break;
    case "sqrtSize1":
      h10 = "M263," + (601 + (n10 = e10) + 80) + "c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl" + n10 / 2.084 + " -" + n10 + "\nc4.7,-7.3,11,-11,19,-11\nH40000v" + (40 + n10) + "H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM" + (1001 + n10) + " 80h400000v" + (40 + n10) + "h-400000z";
      break;
    case "sqrtSize2":
      h10 = "M983 " + (10 + (a10 = e10) + 80) + "\nl" + a10 / 3.13 + " -" + a10 + "\nc4,-6.7,10,-10,18,-10 H400000v" + (40 + a10) + "\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM" + (1001 + a10) + " 80h400000v" + (40 + a10) + "h-400000z";
      break;
    case "sqrtSize3":
      h10 = "M424," + (2398 + (o10 = e10) + 80) + "\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl" + o10 / 4.223 + " -" + o10 + "c4,-6.7,10,-10,18,-10 H400000\nv" + (40 + o10) + "H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M" + (1001 + o10) + " 80\nh400000v" + (40 + o10) + "h-400000z";
      break;
    case "sqrtSize4":
      h10 = "M473," + (2713 + (s10 = e10) + 80) + "\nc339.3,-1799.3,509.3,-2700,510,-2702 l" + s10 / 5.298 + " -" + s10 + "\nc3.3,-7.3,9.3,-11,18,-11 H400000v" + (40 + s10) + "H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM" + (1001 + s10) + " 80h400000v" + (40 + s10) + "H1017.7z";
      break;
    case "sqrtTall":
      h10 = "M702 " + ((l10 = e10) + 80) + "H400000" + (40 + l10) + "\nH742v" + (r10 - 54 - 80 - l10) + "l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v" + (40 + l10) + "H742z";
  }
  return h10;
}, wC = function(t33, e10) {
  switch (t33) {
    case "⎜":
      return "M291 0 H417 V" + e10 + " H291z M291 0 H417 V" + e10 + " H291z";
    case "∣":
      return "M145 0 H188 V" + e10 + " H145z M145 0 H188 V" + e10 + " H145z";
    case "∥":
      return "M145 0 H188 V" + e10 + " H145z M145 0 H188 V" + e10 + " H145z" + ("M367 0 H410 V" + e10) + " H367z M367 0 H410 V" + e10 + " H367z";
    case "⎟":
      return "M457 0 H583 V" + e10 + " H457z M457 0 H583 V" + e10 + " H457z";
    case "⎢":
      return "M319 0 H403 V" + e10 + " H319z M319 0 H403 V" + e10 + " H319z";
    case "⎥":
      return "M263 0 H347 V" + e10 + " H263z M263 0 H347 V" + e10 + " H263z";
    case "⎪":
      return "M384 0 H504 V" + e10 + " H384z M384 0 H504 V" + e10 + " H384z";
    case "⏐":
      return "M312 0 H355 V" + e10 + " H312z M312 0 H355 V" + e10 + " H312z";
    case "‖":
      return "M257 0 H300 V" + e10 + " H257z M257 0 H300 V" + e10 + " H257z" + ("M478 0 H521 V" + e10) + " H478z M478 0 H521 V" + e10 + " H478z";
    default:
      return "";
  }
}, wS = { doubleleftarrow: "M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z", doublerightarrow: "M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z", leftarrow: "M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z", leftbrace: "M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z", leftbraceunder: "M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z", leftgroup: "M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z", leftgroupunder: "M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z", leftharpoon: "M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z", leftharpoonplus: "M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z", leftharpoondown: "M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z", leftharpoondownplus: "M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z", lefthook: "M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z", leftlinesegment: "M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z", leftmapsto: "M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z", leftToFrom: "M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z", longequal: "M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z", midbrace: "M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z", midbraceunder: "M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z", oiintSize1: "M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z", oiintSize2: "M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z", oiiintSize1: "M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z", oiiintSize2: "M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z", rightarrow: "M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z", rightbrace: "M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z", rightbraceunder: "M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z", rightgroup: "M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z", rightgroupunder: "M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z", rightharpoon: "M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z", rightharpoonplus: "M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z", rightharpoondown: "M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z", rightharpoondownplus: "M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z", righthook: "M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z", rightlinesegment: "M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z", rightToFrom: "M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z", twoheadleftarrow: "M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z", twoheadrightarrow: "M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z", tilde1: "M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z", tilde2: "M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z", tilde3: "M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z", tilde4: "M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z", vec: "M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z", widehat1: "M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z", widehat2: "M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z", widehat3: "M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z", widehat4: "M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z", widecheck1: "M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z", widecheck2: "M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z", widecheck3: "M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z", widecheck4: "M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z", baraboveleftarrow: "M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z", rightarrowabovebar: "M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z", baraboveshortleftharpoon: "M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z", rightharpoonaboveshortbar: "M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z", shortbaraboveleftharpoon: "M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z", shortrightharpoonabovebar: "M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z" }, wA = function(t33, e10) {
  switch (t33) {
    case "lbrack":
      return "M403 1759 V84 H666 V0 H319 V1759 v" + e10 + " v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v" + e10 + " v1759 h84z";
    case "rbrack":
      return "M347 1759 V0 H0 V84 H263 V1759 v" + e10 + " v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v" + e10 + " v1759 h84z";
    case "vert":
      return "M145 15 v585 v" + e10 + " v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v" + -e10 + " v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v" + e10 + " v585 h43z";
    case "doublevert":
      return "M145 15 v585 v" + e10 + " v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v" + -e10 + " v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v" + e10 + " v585 h43z\nM367 15 v585 v" + e10 + " v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v" + -e10 + " v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v" + e10 + " v585 h43z";
    case "lfloor":
      return "M319 602 V0 H403 V602 v" + e10 + " v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v" + e10 + " v1715 H319z";
    case "rfloor":
      return "M319 602 V0 H403 V602 v" + e10 + " v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v" + e10 + " v1715 H319z";
    case "lceil":
      return "M403 1759 V84 H666 V0 H319 V1759 v" + e10 + " v602 h84z\nM403 1759 V0 H319 V1759 v" + e10 + " v602 h84z";
    case "rceil":
      return "M347 1759 V0 H0 V84 H263 V1759 v" + e10 + " v602 h84z\nM347 1759 V0 h-84 V1759 v" + e10 + " v602 h84z";
    case "lparen":
      return "M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0," + (e10 + 84) + "c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-" + (e10 + 92) + "c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";
    case "rparen":
      return "M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0," + (e10 + 9) + "\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-" + (e10 + 144) + "c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";
    default:
      throw Error("Unknown stretchy delimiter.");
  }
};
class wL {
  constructor(t33) {
    this.children = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, this.children = t33, this.classes = [], this.height = 0, this.depth = 0, this.maxFontSize = 0, this.style = {};
  }
  hasClass(t33) {
    return wc.contains(this.classes, t33);
  }
  toNode() {
    for (var t33 = document.createDocumentFragment(), e10 = 0; e10 < this.children.length; e10++) t33.appendChild(this.children[e10].toNode());
    return t33;
  }
  toMarkup() {
    for (var t33 = "", e10 = 0; e10 < this.children.length; e10++) t33 += this.children[e10].toMarkup();
    return t33;
  }
  toText() {
    return this.children.map((t33) => t33.toText()).join("");
  }
}
var wN = { "AMS-Regular": { 32: [0, 0, 0, 0, 0.25], 65: [0, 0.68889, 0, 0, 0.72222], 66: [0, 0.68889, 0, 0, 0.66667], 67: [0, 0.68889, 0, 0, 0.72222], 68: [0, 0.68889, 0, 0, 0.72222], 69: [0, 0.68889, 0, 0, 0.66667], 70: [0, 0.68889, 0, 0, 0.61111], 71: [0, 0.68889, 0, 0, 0.77778], 72: [0, 0.68889, 0, 0, 0.77778], 73: [0, 0.68889, 0, 0, 0.38889], 74: [0.16667, 0.68889, 0, 0, 0.5], 75: [0, 0.68889, 0, 0, 0.77778], 76: [0, 0.68889, 0, 0, 0.66667], 77: [0, 0.68889, 0, 0, 0.94445], 78: [0, 0.68889, 0, 0, 0.72222], 79: [0.16667, 0.68889, 0, 0, 0.77778], 80: [0, 0.68889, 0, 0, 0.61111], 81: [0.16667, 0.68889, 0, 0, 0.77778], 82: [0, 0.68889, 0, 0, 0.72222], 83: [0, 0.68889, 0, 0, 0.55556], 84: [0, 0.68889, 0, 0, 0.66667], 85: [0, 0.68889, 0, 0, 0.72222], 86: [0, 0.68889, 0, 0, 0.72222], 87: [0, 0.68889, 0, 0, 1], 88: [0, 0.68889, 0, 0, 0.72222], 89: [0, 0.68889, 0, 0, 0.72222], 90: [0, 0.68889, 0, 0, 0.66667], 107: [0, 0.68889, 0, 0, 0.55556], 160: [0, 0, 0, 0, 0.25], 165: [0, 0.675, 0.025, 0, 0.75], 174: [0.15559, 0.69224, 0, 0, 0.94666], 240: [0, 0.68889, 0, 0, 0.55556], 295: [0, 0.68889, 0, 0, 0.54028], 710: [0, 0.825, 0, 0, 2.33334], 732: [0, 0.9, 0, 0, 2.33334], 770: [0, 0.825, 0, 0, 2.33334], 771: [0, 0.9, 0, 0, 2.33334], 989: [0.08167, 0.58167, 0, 0, 0.77778], 1008: [0, 0.43056, 0.04028, 0, 0.66667], 8245: [0, 0.54986, 0, 0, 0.275], 8463: [0, 0.68889, 0, 0, 0.54028], 8487: [0, 0.68889, 0, 0, 0.72222], 8498: [0, 0.68889, 0, 0, 0.55556], 8502: [0, 0.68889, 0, 0, 0.66667], 8503: [0, 0.68889, 0, 0, 0.44445], 8504: [0, 0.68889, 0, 0, 0.66667], 8513: [0, 0.68889, 0, 0, 0.63889], 8592: [-0.03598, 0.46402, 0, 0, 0.5], 8594: [-0.03598, 0.46402, 0, 0, 0.5], 8602: [-0.13313, 0.36687, 0, 0, 1], 8603: [-0.13313, 0.36687, 0, 0, 1], 8606: [0.01354, 0.52239, 0, 0, 1], 8608: [0.01354, 0.52239, 0, 0, 1], 8610: [0.01354, 0.52239, 0, 0, 1.11111], 8611: [0.01354, 0.52239, 0, 0, 1.11111], 8619: [0, 0.54986, 0, 0, 1], 8620: [0, 0.54986, 0, 0, 1], 8621: [-0.13313, 0.37788, 0, 0, 1.38889], 8622: [-0.13313, 0.36687, 0, 0, 1], 8624: [0, 0.69224, 0, 0, 0.5], 8625: [0, 0.69224, 0, 0, 0.5], 8630: [0, 0.43056, 0, 0, 1], 8631: [0, 0.43056, 0, 0, 1], 8634: [0.08198, 0.58198, 0, 0, 0.77778], 8635: [0.08198, 0.58198, 0, 0, 0.77778], 8638: [0.19444, 0.69224, 0, 0, 0.41667], 8639: [0.19444, 0.69224, 0, 0, 0.41667], 8642: [0.19444, 0.69224, 0, 0, 0.41667], 8643: [0.19444, 0.69224, 0, 0, 0.41667], 8644: [0.1808, 0.675, 0, 0, 1], 8646: [0.1808, 0.675, 0, 0, 1], 8647: [0.1808, 0.675, 0, 0, 1], 8648: [0.19444, 0.69224, 0, 0, 0.83334], 8649: [0.1808, 0.675, 0, 0, 1], 8650: [0.19444, 0.69224, 0, 0, 0.83334], 8651: [0.01354, 0.52239, 0, 0, 1], 8652: [0.01354, 0.52239, 0, 0, 1], 8653: [-0.13313, 0.36687, 0, 0, 1], 8654: [-0.13313, 0.36687, 0, 0, 1], 8655: [-0.13313, 0.36687, 0, 0, 1], 8666: [0.13667, 0.63667, 0, 0, 1], 8667: [0.13667, 0.63667, 0, 0, 1], 8669: [-0.13313, 0.37788, 0, 0, 1], 8672: [-0.064, 0.437, 0, 0, 1.334], 8674: [-0.064, 0.437, 0, 0, 1.334], 8705: [0, 0.825, 0, 0, 0.5], 8708: [0, 0.68889, 0, 0, 0.55556], 8709: [0.08167, 0.58167, 0, 0, 0.77778], 8717: [0, 0.43056, 0, 0, 0.42917], 8722: [-0.03598, 0.46402, 0, 0, 0.5], 8724: [0.08198, 0.69224, 0, 0, 0.77778], 8726: [0.08167, 0.58167, 0, 0, 0.77778], 8733: [0, 0.69224, 0, 0, 0.77778], 8736: [0, 0.69224, 0, 0, 0.72222], 8737: [0, 0.69224, 0, 0, 0.72222], 8738: [0.03517, 0.52239, 0, 0, 0.72222], 8739: [0.08167, 0.58167, 0, 0, 0.22222], 8740: [0.25142, 0.74111, 0, 0, 0.27778], 8741: [0.08167, 0.58167, 0, 0, 0.38889], 8742: [0.25142, 0.74111, 0, 0, 0.5], 8756: [0, 0.69224, 0, 0, 0.66667], 8757: [0, 0.69224, 0, 0, 0.66667], 8764: [-0.13313, 0.36687, 0, 0, 0.77778], 8765: [-0.13313, 0.37788, 0, 0, 0.77778], 8769: [-0.13313, 0.36687, 0, 0, 0.77778], 8770: [-0.03625, 0.46375, 0, 0, 0.77778], 8774: [0.30274, 0.79383, 0, 0, 0.77778], 8776: [-0.01688, 0.48312, 0, 0, 0.77778], 8778: [0.08167, 0.58167, 0, 0, 0.77778], 8782: [0.06062, 0.54986, 0, 0, 0.77778], 8783: [0.06062, 0.54986, 0, 0, 0.77778], 8785: [0.08198, 0.58198, 0, 0, 0.77778], 8786: [0.08198, 0.58198, 0, 0, 0.77778], 8787: [0.08198, 0.58198, 0, 0, 0.77778], 8790: [0, 0.69224, 0, 0, 0.77778], 8791: [0.22958, 0.72958, 0, 0, 0.77778], 8796: [0.08198, 0.91667, 0, 0, 0.77778], 8806: [0.25583, 0.75583, 0, 0, 0.77778], 8807: [0.25583, 0.75583, 0, 0, 0.77778], 8808: [0.25142, 0.75726, 0, 0, 0.77778], 8809: [0.25142, 0.75726, 0, 0, 0.77778], 8812: [0.25583, 0.75583, 0, 0, 0.5], 8814: [0.20576, 0.70576, 0, 0, 0.77778], 8815: [0.20576, 0.70576, 0, 0, 0.77778], 8816: [0.30274, 0.79383, 0, 0, 0.77778], 8817: [0.30274, 0.79383, 0, 0, 0.77778], 8818: [0.22958, 0.72958, 0, 0, 0.77778], 8819: [0.22958, 0.72958, 0, 0, 0.77778], 8822: [0.1808, 0.675, 0, 0, 0.77778], 8823: [0.1808, 0.675, 0, 0, 0.77778], 8828: [0.13667, 0.63667, 0, 0, 0.77778], 8829: [0.13667, 0.63667, 0, 0, 0.77778], 8830: [0.22958, 0.72958, 0, 0, 0.77778], 8831: [0.22958, 0.72958, 0, 0, 0.77778], 8832: [0.20576, 0.70576, 0, 0, 0.77778], 8833: [0.20576, 0.70576, 0, 0, 0.77778], 8840: [0.30274, 0.79383, 0, 0, 0.77778], 8841: [0.30274, 0.79383, 0, 0, 0.77778], 8842: [0.13597, 0.63597, 0, 0, 0.77778], 8843: [0.13597, 0.63597, 0, 0, 0.77778], 8847: [0.03517, 0.54986, 0, 0, 0.77778], 8848: [0.03517, 0.54986, 0, 0, 0.77778], 8858: [0.08198, 0.58198, 0, 0, 0.77778], 8859: [0.08198, 0.58198, 0, 0, 0.77778], 8861: [0.08198, 0.58198, 0, 0, 0.77778], 8862: [0, 0.675, 0, 0, 0.77778], 8863: [0, 0.675, 0, 0, 0.77778], 8864: [0, 0.675, 0, 0, 0.77778], 8865: [0, 0.675, 0, 0, 0.77778], 8872: [0, 0.69224, 0, 0, 0.61111], 8873: [0, 0.69224, 0, 0, 0.72222], 8874: [0, 0.69224, 0, 0, 0.88889], 8876: [0, 0.68889, 0, 0, 0.61111], 8877: [0, 0.68889, 0, 0, 0.61111], 8878: [0, 0.68889, 0, 0, 0.72222], 8879: [0, 0.68889, 0, 0, 0.72222], 8882: [0.03517, 0.54986, 0, 0, 0.77778], 8883: [0.03517, 0.54986, 0, 0, 0.77778], 8884: [0.13667, 0.63667, 0, 0, 0.77778], 8885: [0.13667, 0.63667, 0, 0, 0.77778], 8888: [0, 0.54986, 0, 0, 1.11111], 8890: [0.19444, 0.43056, 0, 0, 0.55556], 8891: [0.19444, 0.69224, 0, 0, 0.61111], 8892: [0.19444, 0.69224, 0, 0, 0.61111], 8901: [0, 0.54986, 0, 0, 0.27778], 8903: [0.08167, 0.58167, 0, 0, 0.77778], 8905: [0.08167, 0.58167, 0, 0, 0.77778], 8906: [0.08167, 0.58167, 0, 0, 0.77778], 8907: [0, 0.69224, 0, 0, 0.77778], 8908: [0, 0.69224, 0, 0, 0.77778], 8909: [-0.03598, 0.46402, 0, 0, 0.77778], 8910: [0, 0.54986, 0, 0, 0.76042], 8911: [0, 0.54986, 0, 0, 0.76042], 8912: [0.03517, 0.54986, 0, 0, 0.77778], 8913: [0.03517, 0.54986, 0, 0, 0.77778], 8914: [0, 0.54986, 0, 0, 0.66667], 8915: [0, 0.54986, 0, 0, 0.66667], 8916: [0, 0.69224, 0, 0, 0.66667], 8918: [0.0391, 0.5391, 0, 0, 0.77778], 8919: [0.0391, 0.5391, 0, 0, 0.77778], 8920: [0.03517, 0.54986, 0, 0, 1.33334], 8921: [0.03517, 0.54986, 0, 0, 1.33334], 8922: [0.38569, 0.88569, 0, 0, 0.77778], 8923: [0.38569, 0.88569, 0, 0, 0.77778], 8926: [0.13667, 0.63667, 0, 0, 0.77778], 8927: [0.13667, 0.63667, 0, 0, 0.77778], 8928: [0.30274, 0.79383, 0, 0, 0.77778], 8929: [0.30274, 0.79383, 0, 0, 0.77778], 8934: [0.23222, 0.74111, 0, 0, 0.77778], 8935: [0.23222, 0.74111, 0, 0, 0.77778], 8936: [0.23222, 0.74111, 0, 0, 0.77778], 8937: [0.23222, 0.74111, 0, 0, 0.77778], 8938: [0.20576, 0.70576, 0, 0, 0.77778], 8939: [0.20576, 0.70576, 0, 0, 0.77778], 8940: [0.30274, 0.79383, 0, 0, 0.77778], 8941: [0.30274, 0.79383, 0, 0, 0.77778], 8994: [0.19444, 0.69224, 0, 0, 0.77778], 8995: [0.19444, 0.69224, 0, 0, 0.77778], 9416: [0.15559, 0.69224, 0, 0, 0.90222], 9484: [0, 0.69224, 0, 0, 0.5], 9488: [0, 0.69224, 0, 0, 0.5], 9492: [0, 0.37788, 0, 0, 0.5], 9496: [0, 0.37788, 0, 0, 0.5], 9585: [0.19444, 0.68889, 0, 0, 0.88889], 9586: [0.19444, 0.74111, 0, 0, 0.88889], 9632: [0, 0.675, 0, 0, 0.77778], 9633: [0, 0.675, 0, 0, 0.77778], 9650: [0, 0.54986, 0, 0, 0.72222], 9651: [0, 0.54986, 0, 0, 0.72222], 9654: [0.03517, 0.54986, 0, 0, 0.77778], 9660: [0, 0.54986, 0, 0, 0.72222], 9661: [0, 0.54986, 0, 0, 0.72222], 9664: [0.03517, 0.54986, 0, 0, 0.77778], 9674: [0.11111, 0.69224, 0, 0, 0.66667], 9733: [0.19444, 0.69224, 0, 0, 0.94445], 10003: [0, 0.69224, 0, 0, 0.83334], 10016: [0, 0.69224, 0, 0, 0.83334], 10731: [0.11111, 0.69224, 0, 0, 0.66667], 10846: [0.19444, 0.75583, 0, 0, 0.61111], 10877: [0.13667, 0.63667, 0, 0, 0.77778], 10878: [0.13667, 0.63667, 0, 0, 0.77778], 10885: [0.25583, 0.75583, 0, 0, 0.77778], 10886: [0.25583, 0.75583, 0, 0, 0.77778], 10887: [0.13597, 0.63597, 0, 0, 0.77778], 10888: [0.13597, 0.63597, 0, 0, 0.77778], 10889: [0.26167, 0.75726, 0, 0, 0.77778], 10890: [0.26167, 0.75726, 0, 0, 0.77778], 10891: [0.48256, 0.98256, 0, 0, 0.77778], 10892: [0.48256, 0.98256, 0, 0, 0.77778], 10901: [0.13667, 0.63667, 0, 0, 0.77778], 10902: [0.13667, 0.63667, 0, 0, 0.77778], 10933: [0.25142, 0.75726, 0, 0, 0.77778], 10934: [0.25142, 0.75726, 0, 0, 0.77778], 10935: [0.26167, 0.75726, 0, 0, 0.77778], 10936: [0.26167, 0.75726, 0, 0, 0.77778], 10937: [0.26167, 0.75726, 0, 0, 0.77778], 10938: [0.26167, 0.75726, 0, 0, 0.77778], 10949: [0.25583, 0.75583, 0, 0, 0.77778], 10950: [0.25583, 0.75583, 0, 0, 0.77778], 10955: [0.28481, 0.79383, 0, 0, 0.77778], 10956: [0.28481, 0.79383, 0, 0, 0.77778], 57350: [0.08167, 0.58167, 0, 0, 0.22222], 57351: [0.08167, 0.58167, 0, 0, 0.38889], 57352: [0.08167, 0.58167, 0, 0, 0.77778], 57353: [0, 0.43056, 0.04028, 0, 0.66667], 57356: [0.25142, 0.75726, 0, 0, 0.77778], 57357: [0.25142, 0.75726, 0, 0, 0.77778], 57358: [0.41951, 0.91951, 0, 0, 0.77778], 57359: [0.30274, 0.79383, 0, 0, 0.77778], 57360: [0.30274, 0.79383, 0, 0, 0.77778], 57361: [0.41951, 0.91951, 0, 0, 0.77778], 57366: [0.25142, 0.75726, 0, 0, 0.77778], 57367: [0.25142, 0.75726, 0, 0, 0.77778], 57368: [0.25142, 0.75726, 0, 0, 0.77778], 57369: [0.25142, 0.75726, 0, 0, 0.77778], 57370: [0.13597, 0.63597, 0, 0, 0.77778], 57371: [0.13597, 0.63597, 0, 0, 0.77778] }, "Caligraphic-Regular": { 32: [0, 0, 0, 0, 0.25], 65: [0, 0.68333, 0, 0.19445, 0.79847], 66: [0, 0.68333, 0.03041, 0.13889, 0.65681], 67: [0, 0.68333, 0.05834, 0.13889, 0.52653], 68: [0, 0.68333, 0.02778, 0.08334, 0.77139], 69: [0, 0.68333, 0.08944, 0.11111, 0.52778], 70: [0, 0.68333, 0.09931, 0.11111, 0.71875], 71: [0.09722, 0.68333, 0.0593, 0.11111, 0.59487], 72: [0, 0.68333, 965e-5, 0.11111, 0.84452], 73: [0, 0.68333, 0.07382, 0, 0.54452], 74: [0.09722, 0.68333, 0.18472, 0.16667, 0.67778], 75: [0, 0.68333, 0.01445, 0.05556, 0.76195], 76: [0, 0.68333, 0, 0.13889, 0.68972], 77: [0, 0.68333, 0, 0.13889, 1.2009], 78: [0, 0.68333, 0.14736, 0.08334, 0.82049], 79: [0, 0.68333, 0.02778, 0.11111, 0.79611], 80: [0, 0.68333, 0.08222, 0.08334, 0.69556], 81: [0.09722, 0.68333, 0, 0.11111, 0.81667], 82: [0, 0.68333, 0, 0.08334, 0.8475], 83: [0, 0.68333, 0.075, 0.13889, 0.60556], 84: [0, 0.68333, 0.25417, 0, 0.54464], 85: [0, 0.68333, 0.09931, 0.08334, 0.62583], 86: [0, 0.68333, 0.08222, 0, 0.61278], 87: [0, 0.68333, 0.08222, 0.08334, 0.98778], 88: [0, 0.68333, 0.14643, 0.13889, 0.7133], 89: [0.09722, 0.68333, 0.08222, 0.08334, 0.66834], 90: [0, 0.68333, 0.07944, 0.13889, 0.72473], 160: [0, 0, 0, 0, 0.25] }, "Fraktur-Regular": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69141, 0, 0, 0.29574], 34: [0, 0.69141, 0, 0, 0.21471], 38: [0, 0.69141, 0, 0, 0.73786], 39: [0, 0.69141, 0, 0, 0.21201], 40: [0.24982, 0.74947, 0, 0, 0.38865], 41: [0.24982, 0.74947, 0, 0, 0.38865], 42: [0, 0.62119, 0, 0, 0.27764], 43: [0.08319, 0.58283, 0, 0, 0.75623], 44: [0, 0.10803, 0, 0, 0.27764], 45: [0.08319, 0.58283, 0, 0, 0.75623], 46: [0, 0.10803, 0, 0, 0.27764], 47: [0.24982, 0.74947, 0, 0, 0.50181], 48: [0, 0.47534, 0, 0, 0.50181], 49: [0, 0.47534, 0, 0, 0.50181], 50: [0, 0.47534, 0, 0, 0.50181], 51: [0.18906, 0.47534, 0, 0, 0.50181], 52: [0.18906, 0.47534, 0, 0, 0.50181], 53: [0.18906, 0.47534, 0, 0, 0.50181], 54: [0, 0.69141, 0, 0, 0.50181], 55: [0.18906, 0.47534, 0, 0, 0.50181], 56: [0, 0.69141, 0, 0, 0.50181], 57: [0.18906, 0.47534, 0, 0, 0.50181], 58: [0, 0.47534, 0, 0, 0.21606], 59: [0.12604, 0.47534, 0, 0, 0.21606], 61: [-0.13099, 0.36866, 0, 0, 0.75623], 63: [0, 0.69141, 0, 0, 0.36245], 65: [0, 0.69141, 0, 0, 0.7176], 66: [0, 0.69141, 0, 0, 0.88397], 67: [0, 0.69141, 0, 0, 0.61254], 68: [0, 0.69141, 0, 0, 0.83158], 69: [0, 0.69141, 0, 0, 0.66278], 70: [0.12604, 0.69141, 0, 0, 0.61119], 71: [0, 0.69141, 0, 0, 0.78539], 72: [0.06302, 0.69141, 0, 0, 0.7203], 73: [0, 0.69141, 0, 0, 0.55448], 74: [0.12604, 0.69141, 0, 0, 0.55231], 75: [0, 0.69141, 0, 0, 0.66845], 76: [0, 0.69141, 0, 0, 0.66602], 77: [0, 0.69141, 0, 0, 1.04953], 78: [0, 0.69141, 0, 0, 0.83212], 79: [0, 0.69141, 0, 0, 0.82699], 80: [0.18906, 0.69141, 0, 0, 0.82753], 81: [0.03781, 0.69141, 0, 0, 0.82699], 82: [0, 0.69141, 0, 0, 0.82807], 83: [0, 0.69141, 0, 0, 0.82861], 84: [0, 0.69141, 0, 0, 0.66899], 85: [0, 0.69141, 0, 0, 0.64576], 86: [0, 0.69141, 0, 0, 0.83131], 87: [0, 0.69141, 0, 0, 1.04602], 88: [0, 0.69141, 0, 0, 0.71922], 89: [0.18906, 0.69141, 0, 0, 0.83293], 90: [0.12604, 0.69141, 0, 0, 0.60201], 91: [0.24982, 0.74947, 0, 0, 0.27764], 93: [0.24982, 0.74947, 0, 0, 0.27764], 94: [0, 0.69141, 0, 0, 0.49965], 97: [0, 0.47534, 0, 0, 0.50046], 98: [0, 0.69141, 0, 0, 0.51315], 99: [0, 0.47534, 0, 0, 0.38946], 100: [0, 0.62119, 0, 0, 0.49857], 101: [0, 0.47534, 0, 0, 0.40053], 102: [0.18906, 0.69141, 0, 0, 0.32626], 103: [0.18906, 0.47534, 0, 0, 0.5037], 104: [0.18906, 0.69141, 0, 0, 0.52126], 105: [0, 0.69141, 0, 0, 0.27899], 106: [0, 0.69141, 0, 0, 0.28088], 107: [0, 0.69141, 0, 0, 0.38946], 108: [0, 0.69141, 0, 0, 0.27953], 109: [0, 0.47534, 0, 0, 0.76676], 110: [0, 0.47534, 0, 0, 0.52666], 111: [0, 0.47534, 0, 0, 0.48885], 112: [0.18906, 0.52396, 0, 0, 0.50046], 113: [0.18906, 0.47534, 0, 0, 0.48912], 114: [0, 0.47534, 0, 0, 0.38919], 115: [0, 0.47534, 0, 0, 0.44266], 116: [0, 0.62119, 0, 0, 0.33301], 117: [0, 0.47534, 0, 0, 0.5172], 118: [0, 0.52396, 0, 0, 0.5118], 119: [0, 0.52396, 0, 0, 0.77351], 120: [0.18906, 0.47534, 0, 0, 0.38865], 121: [0.18906, 0.47534, 0, 0, 0.49884], 122: [0.18906, 0.47534, 0, 0, 0.39054], 160: [0, 0, 0, 0, 0.25], 8216: [0, 0.69141, 0, 0, 0.21471], 8217: [0, 0.69141, 0, 0, 0.21471], 58112: [0, 0.62119, 0, 0, 0.49749], 58113: [0, 0.62119, 0, 0, 0.4983], 58114: [0.18906, 0.69141, 0, 0, 0.33328], 58115: [0.18906, 0.69141, 0, 0, 0.32923], 58116: [0.18906, 0.47534, 0, 0, 0.50343], 58117: [0, 0.69141, 0, 0, 0.33301], 58118: [0, 0.62119, 0, 0, 0.33409], 58119: [0, 0.47534, 0, 0, 0.50073] }, "Main-Bold": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.35], 34: [0, 0.69444, 0, 0, 0.60278], 35: [0.19444, 0.69444, 0, 0, 0.95833], 36: [0.05556, 0.75, 0, 0, 0.575], 37: [0.05556, 0.75, 0, 0, 0.95833], 38: [0, 0.69444, 0, 0, 0.89444], 39: [0, 0.69444, 0, 0, 0.31944], 40: [0.25, 0.75, 0, 0, 0.44722], 41: [0.25, 0.75, 0, 0, 0.44722], 42: [0, 0.75, 0, 0, 0.575], 43: [0.13333, 0.63333, 0, 0, 0.89444], 44: [0.19444, 0.15556, 0, 0, 0.31944], 45: [0, 0.44444, 0, 0, 0.38333], 46: [0, 0.15556, 0, 0, 0.31944], 47: [0.25, 0.75, 0, 0, 0.575], 48: [0, 0.64444, 0, 0, 0.575], 49: [0, 0.64444, 0, 0, 0.575], 50: [0, 0.64444, 0, 0, 0.575], 51: [0, 0.64444, 0, 0, 0.575], 52: [0, 0.64444, 0, 0, 0.575], 53: [0, 0.64444, 0, 0, 0.575], 54: [0, 0.64444, 0, 0, 0.575], 55: [0, 0.64444, 0, 0, 0.575], 56: [0, 0.64444, 0, 0, 0.575], 57: [0, 0.64444, 0, 0, 0.575], 58: [0, 0.44444, 0, 0, 0.31944], 59: [0.19444, 0.44444, 0, 0, 0.31944], 60: [0.08556, 0.58556, 0, 0, 0.89444], 61: [-0.10889, 0.39111, 0, 0, 0.89444], 62: [0.08556, 0.58556, 0, 0, 0.89444], 63: [0, 0.69444, 0, 0, 0.54305], 64: [0, 0.69444, 0, 0, 0.89444], 65: [0, 0.68611, 0, 0, 0.86944], 66: [0, 0.68611, 0, 0, 0.81805], 67: [0, 0.68611, 0, 0, 0.83055], 68: [0, 0.68611, 0, 0, 0.88194], 69: [0, 0.68611, 0, 0, 0.75555], 70: [0, 0.68611, 0, 0, 0.72361], 71: [0, 0.68611, 0, 0, 0.90416], 72: [0, 0.68611, 0, 0, 0.9], 73: [0, 0.68611, 0, 0, 0.43611], 74: [0, 0.68611, 0, 0, 0.59444], 75: [0, 0.68611, 0, 0, 0.90138], 76: [0, 0.68611, 0, 0, 0.69166], 77: [0, 0.68611, 0, 0, 1.09166], 78: [0, 0.68611, 0, 0, 0.9], 79: [0, 0.68611, 0, 0, 0.86388], 80: [0, 0.68611, 0, 0, 0.78611], 81: [0.19444, 0.68611, 0, 0, 0.86388], 82: [0, 0.68611, 0, 0, 0.8625], 83: [0, 0.68611, 0, 0, 0.63889], 84: [0, 0.68611, 0, 0, 0.8], 85: [0, 0.68611, 0, 0, 0.88472], 86: [0, 0.68611, 0.01597, 0, 0.86944], 87: [0, 0.68611, 0.01597, 0, 1.18888], 88: [0, 0.68611, 0, 0, 0.86944], 89: [0, 0.68611, 0.02875, 0, 0.86944], 90: [0, 0.68611, 0, 0, 0.70277], 91: [0.25, 0.75, 0, 0, 0.31944], 92: [0.25, 0.75, 0, 0, 0.575], 93: [0.25, 0.75, 0, 0, 0.31944], 94: [0, 0.69444, 0, 0, 0.575], 95: [0.31, 0.13444, 0.03194, 0, 0.575], 97: [0, 0.44444, 0, 0, 0.55902], 98: [0, 0.69444, 0, 0, 0.63889], 99: [0, 0.44444, 0, 0, 0.51111], 100: [0, 0.69444, 0, 0, 0.63889], 101: [0, 0.44444, 0, 0, 0.52708], 102: [0, 0.69444, 0.10903, 0, 0.35139], 103: [0.19444, 0.44444, 0.01597, 0, 0.575], 104: [0, 0.69444, 0, 0, 0.63889], 105: [0, 0.69444, 0, 0, 0.31944], 106: [0.19444, 0.69444, 0, 0, 0.35139], 107: [0, 0.69444, 0, 0, 0.60694], 108: [0, 0.69444, 0, 0, 0.31944], 109: [0, 0.44444, 0, 0, 0.95833], 110: [0, 0.44444, 0, 0, 0.63889], 111: [0, 0.44444, 0, 0, 0.575], 112: [0.19444, 0.44444, 0, 0, 0.63889], 113: [0.19444, 0.44444, 0, 0, 0.60694], 114: [0, 0.44444, 0, 0, 0.47361], 115: [0, 0.44444, 0, 0, 0.45361], 116: [0, 0.63492, 0, 0, 0.44722], 117: [0, 0.44444, 0, 0, 0.63889], 118: [0, 0.44444, 0.01597, 0, 0.60694], 119: [0, 0.44444, 0.01597, 0, 0.83055], 120: [0, 0.44444, 0, 0, 0.60694], 121: [0.19444, 0.44444, 0.01597, 0, 0.60694], 122: [0, 0.44444, 0, 0, 0.51111], 123: [0.25, 0.75, 0, 0, 0.575], 124: [0.25, 0.75, 0, 0, 0.31944], 125: [0.25, 0.75, 0, 0, 0.575], 126: [0.35, 0.34444, 0, 0, 0.575], 160: [0, 0, 0, 0, 0.25], 163: [0, 0.69444, 0, 0, 0.86853], 168: [0, 0.69444, 0, 0, 0.575], 172: [0, 0.44444, 0, 0, 0.76666], 176: [0, 0.69444, 0, 0, 0.86944], 177: [0.13333, 0.63333, 0, 0, 0.89444], 184: [0.17014, 0, 0, 0, 0.51111], 198: [0, 0.68611, 0, 0, 1.04166], 215: [0.13333, 0.63333, 0, 0, 0.89444], 216: [0.04861, 0.73472, 0, 0, 0.89444], 223: [0, 0.69444, 0, 0, 0.59722], 230: [0, 0.44444, 0, 0, 0.83055], 247: [0.13333, 0.63333, 0, 0, 0.89444], 248: [0.09722, 0.54167, 0, 0, 0.575], 305: [0, 0.44444, 0, 0, 0.31944], 338: [0, 0.68611, 0, 0, 1.16944], 339: [0, 0.44444, 0, 0, 0.89444], 567: [0.19444, 0.44444, 0, 0, 0.35139], 710: [0, 0.69444, 0, 0, 0.575], 711: [0, 0.63194, 0, 0, 0.575], 713: [0, 0.59611, 0, 0, 0.575], 714: [0, 0.69444, 0, 0, 0.575], 715: [0, 0.69444, 0, 0, 0.575], 728: [0, 0.69444, 0, 0, 0.575], 729: [0, 0.69444, 0, 0, 0.31944], 730: [0, 0.69444, 0, 0, 0.86944], 732: [0, 0.69444, 0, 0, 0.575], 733: [0, 0.69444, 0, 0, 0.575], 915: [0, 0.68611, 0, 0, 0.69166], 916: [0, 0.68611, 0, 0, 0.95833], 920: [0, 0.68611, 0, 0, 0.89444], 923: [0, 0.68611, 0, 0, 0.80555], 926: [0, 0.68611, 0, 0, 0.76666], 928: [0, 0.68611, 0, 0, 0.9], 931: [0, 0.68611, 0, 0, 0.83055], 933: [0, 0.68611, 0, 0, 0.89444], 934: [0, 0.68611, 0, 0, 0.83055], 936: [0, 0.68611, 0, 0, 0.89444], 937: [0, 0.68611, 0, 0, 0.83055], 8211: [0, 0.44444, 0.03194, 0, 0.575], 8212: [0, 0.44444, 0.03194, 0, 1.14999], 8216: [0, 0.69444, 0, 0, 0.31944], 8217: [0, 0.69444, 0, 0, 0.31944], 8220: [0, 0.69444, 0, 0, 0.60278], 8221: [0, 0.69444, 0, 0, 0.60278], 8224: [0.19444, 0.69444, 0, 0, 0.51111], 8225: [0.19444, 0.69444, 0, 0, 0.51111], 8242: [0, 0.55556, 0, 0, 0.34444], 8407: [0, 0.72444, 0.15486, 0, 0.575], 8463: [0, 0.69444, 0, 0, 0.66759], 8465: [0, 0.69444, 0, 0, 0.83055], 8467: [0, 0.69444, 0, 0, 0.47361], 8472: [0.19444, 0.44444, 0, 0, 0.74027], 8476: [0, 0.69444, 0, 0, 0.83055], 8501: [0, 0.69444, 0, 0, 0.70277], 8592: [-0.10889, 0.39111, 0, 0, 1.14999], 8593: [0.19444, 0.69444, 0, 0, 0.575], 8594: [-0.10889, 0.39111, 0, 0, 1.14999], 8595: [0.19444, 0.69444, 0, 0, 0.575], 8596: [-0.10889, 0.39111, 0, 0, 1.14999], 8597: [0.25, 0.75, 0, 0, 0.575], 8598: [0.19444, 0.69444, 0, 0, 1.14999], 8599: [0.19444, 0.69444, 0, 0, 1.14999], 8600: [0.19444, 0.69444, 0, 0, 1.14999], 8601: [0.19444, 0.69444, 0, 0, 1.14999], 8636: [-0.10889, 0.39111, 0, 0, 1.14999], 8637: [-0.10889, 0.39111, 0, 0, 1.14999], 8640: [-0.10889, 0.39111, 0, 0, 1.14999], 8641: [-0.10889, 0.39111, 0, 0, 1.14999], 8656: [-0.10889, 0.39111, 0, 0, 1.14999], 8657: [0.19444, 0.69444, 0, 0, 0.70277], 8658: [-0.10889, 0.39111, 0, 0, 1.14999], 8659: [0.19444, 0.69444, 0, 0, 0.70277], 8660: [-0.10889, 0.39111, 0, 0, 1.14999], 8661: [0.25, 0.75, 0, 0, 0.70277], 8704: [0, 0.69444, 0, 0, 0.63889], 8706: [0, 0.69444, 0.06389, 0, 0.62847], 8707: [0, 0.69444, 0, 0, 0.63889], 8709: [0.05556, 0.75, 0, 0, 0.575], 8711: [0, 0.68611, 0, 0, 0.95833], 8712: [0.08556, 0.58556, 0, 0, 0.76666], 8715: [0.08556, 0.58556, 0, 0, 0.76666], 8722: [0.13333, 0.63333, 0, 0, 0.89444], 8723: [0.13333, 0.63333, 0, 0, 0.89444], 8725: [0.25, 0.75, 0, 0, 0.575], 8726: [0.25, 0.75, 0, 0, 0.575], 8727: [-0.02778, 0.47222, 0, 0, 0.575], 8728: [-0.02639, 0.47361, 0, 0, 0.575], 8729: [-0.02639, 0.47361, 0, 0, 0.575], 8730: [0.18, 0.82, 0, 0, 0.95833], 8733: [0, 0.44444, 0, 0, 0.89444], 8734: [0, 0.44444, 0, 0, 1.14999], 8736: [0, 0.69224, 0, 0, 0.72222], 8739: [0.25, 0.75, 0, 0, 0.31944], 8741: [0.25, 0.75, 0, 0, 0.575], 8743: [0, 0.55556, 0, 0, 0.76666], 8744: [0, 0.55556, 0, 0, 0.76666], 8745: [0, 0.55556, 0, 0, 0.76666], 8746: [0, 0.55556, 0, 0, 0.76666], 8747: [0.19444, 0.69444, 0.12778, 0, 0.56875], 8764: [-0.10889, 0.39111, 0, 0, 0.89444], 8768: [0.19444, 0.69444, 0, 0, 0.31944], 8771: [222e-5, 0.50222, 0, 0, 0.89444], 8773: [0.027, 0.638, 0, 0, 0.894], 8776: [0.02444, 0.52444, 0, 0, 0.89444], 8781: [222e-5, 0.50222, 0, 0, 0.89444], 8801: [222e-5, 0.50222, 0, 0, 0.89444], 8804: [0.19667, 0.69667, 0, 0, 0.89444], 8805: [0.19667, 0.69667, 0, 0, 0.89444], 8810: [0.08556, 0.58556, 0, 0, 1.14999], 8811: [0.08556, 0.58556, 0, 0, 1.14999], 8826: [0.08556, 0.58556, 0, 0, 0.89444], 8827: [0.08556, 0.58556, 0, 0, 0.89444], 8834: [0.08556, 0.58556, 0, 0, 0.89444], 8835: [0.08556, 0.58556, 0, 0, 0.89444], 8838: [0.19667, 0.69667, 0, 0, 0.89444], 8839: [0.19667, 0.69667, 0, 0, 0.89444], 8846: [0, 0.55556, 0, 0, 0.76666], 8849: [0.19667, 0.69667, 0, 0, 0.89444], 8850: [0.19667, 0.69667, 0, 0, 0.89444], 8851: [0, 0.55556, 0, 0, 0.76666], 8852: [0, 0.55556, 0, 0, 0.76666], 8853: [0.13333, 0.63333, 0, 0, 0.89444], 8854: [0.13333, 0.63333, 0, 0, 0.89444], 8855: [0.13333, 0.63333, 0, 0, 0.89444], 8856: [0.13333, 0.63333, 0, 0, 0.89444], 8857: [0.13333, 0.63333, 0, 0, 0.89444], 8866: [0, 0.69444, 0, 0, 0.70277], 8867: [0, 0.69444, 0, 0, 0.70277], 8868: [0, 0.69444, 0, 0, 0.89444], 8869: [0, 0.69444, 0, 0, 0.89444], 8900: [-0.02639, 0.47361, 0, 0, 0.575], 8901: [-0.02639, 0.47361, 0, 0, 0.31944], 8902: [-0.02778, 0.47222, 0, 0, 0.575], 8968: [0.25, 0.75, 0, 0, 0.51111], 8969: [0.25, 0.75, 0, 0, 0.51111], 8970: [0.25, 0.75, 0, 0, 0.51111], 8971: [0.25, 0.75, 0, 0, 0.51111], 8994: [-0.13889, 0.36111, 0, 0, 1.14999], 8995: [-0.13889, 0.36111, 0, 0, 1.14999], 9651: [0.19444, 0.69444, 0, 0, 1.02222], 9657: [-0.02778, 0.47222, 0, 0, 0.575], 9661: [0.19444, 0.69444, 0, 0, 1.02222], 9667: [-0.02778, 0.47222, 0, 0, 0.575], 9711: [0.19444, 0.69444, 0, 0, 1.14999], 9824: [0.12963, 0.69444, 0, 0, 0.89444], 9825: [0.12963, 0.69444, 0, 0, 0.89444], 9826: [0.12963, 0.69444, 0, 0, 0.89444], 9827: [0.12963, 0.69444, 0, 0, 0.89444], 9837: [0, 0.75, 0, 0, 0.44722], 9838: [0.19444, 0.69444, 0, 0, 0.44722], 9839: [0.19444, 0.69444, 0, 0, 0.44722], 10216: [0.25, 0.75, 0, 0, 0.44722], 10217: [0.25, 0.75, 0, 0, 0.44722], 10815: [0, 0.68611, 0, 0, 0.9], 10927: [0.19667, 0.69667, 0, 0, 0.89444], 10928: [0.19667, 0.69667, 0, 0, 0.89444], 57376: [0.19444, 0.69444, 0, 0, 0] }, "Main-BoldItalic": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0.11417, 0, 0.38611], 34: [0, 0.69444, 0.07939, 0, 0.62055], 35: [0.19444, 0.69444, 0.06833, 0, 0.94444], 37: [0.05556, 0.75, 0.12861, 0, 0.94444], 38: [0, 0.69444, 0.08528, 0, 0.88555], 39: [0, 0.69444, 0.12945, 0, 0.35555], 40: [0.25, 0.75, 0.15806, 0, 0.47333], 41: [0.25, 0.75, 0.03306, 0, 0.47333], 42: [0, 0.75, 0.14333, 0, 0.59111], 43: [0.10333, 0.60333, 0.03306, 0, 0.88555], 44: [0.19444, 0.14722, 0, 0, 0.35555], 45: [0, 0.44444, 0.02611, 0, 0.41444], 46: [0, 0.14722, 0, 0, 0.35555], 47: [0.25, 0.75, 0.15806, 0, 0.59111], 48: [0, 0.64444, 0.13167, 0, 0.59111], 49: [0, 0.64444, 0.13167, 0, 0.59111], 50: [0, 0.64444, 0.13167, 0, 0.59111], 51: [0, 0.64444, 0.13167, 0, 0.59111], 52: [0.19444, 0.64444, 0.13167, 0, 0.59111], 53: [0, 0.64444, 0.13167, 0, 0.59111], 54: [0, 0.64444, 0.13167, 0, 0.59111], 55: [0.19444, 0.64444, 0.13167, 0, 0.59111], 56: [0, 0.64444, 0.13167, 0, 0.59111], 57: [0, 0.64444, 0.13167, 0, 0.59111], 58: [0, 0.44444, 0.06695, 0, 0.35555], 59: [0.19444, 0.44444, 0.06695, 0, 0.35555], 61: [-0.10889, 0.39111, 0.06833, 0, 0.88555], 63: [0, 0.69444, 0.11472, 0, 0.59111], 64: [0, 0.69444, 0.09208, 0, 0.88555], 65: [0, 0.68611, 0, 0, 0.86555], 66: [0, 0.68611, 0.0992, 0, 0.81666], 67: [0, 0.68611, 0.14208, 0, 0.82666], 68: [0, 0.68611, 0.09062, 0, 0.87555], 69: [0, 0.68611, 0.11431, 0, 0.75666], 70: [0, 0.68611, 0.12903, 0, 0.72722], 71: [0, 0.68611, 0.07347, 0, 0.89527], 72: [0, 0.68611, 0.17208, 0, 0.8961], 73: [0, 0.68611, 0.15681, 0, 0.47166], 74: [0, 0.68611, 0.145, 0, 0.61055], 75: [0, 0.68611, 0.14208, 0, 0.89499], 76: [0, 0.68611, 0, 0, 0.69777], 77: [0, 0.68611, 0.17208, 0, 1.07277], 78: [0, 0.68611, 0.17208, 0, 0.8961], 79: [0, 0.68611, 0.09062, 0, 0.85499], 80: [0, 0.68611, 0.0992, 0, 0.78721], 81: [0.19444, 0.68611, 0.09062, 0, 0.85499], 82: [0, 0.68611, 0.02559, 0, 0.85944], 83: [0, 0.68611, 0.11264, 0, 0.64999], 84: [0, 0.68611, 0.12903, 0, 0.7961], 85: [0, 0.68611, 0.17208, 0, 0.88083], 86: [0, 0.68611, 0.18625, 0, 0.86555], 87: [0, 0.68611, 0.18625, 0, 1.15999], 88: [0, 0.68611, 0.15681, 0, 0.86555], 89: [0, 0.68611, 0.19803, 0, 0.86555], 90: [0, 0.68611, 0.14208, 0, 0.70888], 91: [0.25, 0.75, 0.1875, 0, 0.35611], 93: [0.25, 0.75, 0.09972, 0, 0.35611], 94: [0, 0.69444, 0.06709, 0, 0.59111], 95: [0.31, 0.13444, 0.09811, 0, 0.59111], 97: [0, 0.44444, 0.09426, 0, 0.59111], 98: [0, 0.69444, 0.07861, 0, 0.53222], 99: [0, 0.44444, 0.05222, 0, 0.53222], 100: [0, 0.69444, 0.10861, 0, 0.59111], 101: [0, 0.44444, 0.085, 0, 0.53222], 102: [0.19444, 0.69444, 0.21778, 0, 0.4], 103: [0.19444, 0.44444, 0.105, 0, 0.53222], 104: [0, 0.69444, 0.09426, 0, 0.59111], 105: [0, 0.69326, 0.11387, 0, 0.35555], 106: [0.19444, 0.69326, 0.1672, 0, 0.35555], 107: [0, 0.69444, 0.11111, 0, 0.53222], 108: [0, 0.69444, 0.10861, 0, 0.29666], 109: [0, 0.44444, 0.09426, 0, 0.94444], 110: [0, 0.44444, 0.09426, 0, 0.64999], 111: [0, 0.44444, 0.07861, 0, 0.59111], 112: [0.19444, 0.44444, 0.07861, 0, 0.59111], 113: [0.19444, 0.44444, 0.105, 0, 0.53222], 114: [0, 0.44444, 0.11111, 0, 0.50167], 115: [0, 0.44444, 0.08167, 0, 0.48694], 116: [0, 0.63492, 0.09639, 0, 0.385], 117: [0, 0.44444, 0.09426, 0, 0.62055], 118: [0, 0.44444, 0.11111, 0, 0.53222], 119: [0, 0.44444, 0.11111, 0, 0.76777], 120: [0, 0.44444, 0.12583, 0, 0.56055], 121: [0.19444, 0.44444, 0.105, 0, 0.56166], 122: [0, 0.44444, 0.13889, 0, 0.49055], 126: [0.35, 0.34444, 0.11472, 0, 0.59111], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.69444, 0.11473, 0, 0.59111], 176: [0, 0.69444, 0, 0, 0.94888], 184: [0.17014, 0, 0, 0, 0.53222], 198: [0, 0.68611, 0.11431, 0, 1.02277], 216: [0.04861, 0.73472, 0.09062, 0, 0.88555], 223: [0.19444, 0.69444, 0.09736, 0, 0.665], 230: [0, 0.44444, 0.085, 0, 0.82666], 248: [0.09722, 0.54167, 0.09458, 0, 0.59111], 305: [0, 0.44444, 0.09426, 0, 0.35555], 338: [0, 0.68611, 0.11431, 0, 1.14054], 339: [0, 0.44444, 0.085, 0, 0.82666], 567: [0.19444, 0.44444, 0.04611, 0, 0.385], 710: [0, 0.69444, 0.06709, 0, 0.59111], 711: [0, 0.63194, 0.08271, 0, 0.59111], 713: [0, 0.59444, 0.10444, 0, 0.59111], 714: [0, 0.69444, 0.08528, 0, 0.59111], 715: [0, 0.69444, 0, 0, 0.59111], 728: [0, 0.69444, 0.10333, 0, 0.59111], 729: [0, 0.69444, 0.12945, 0, 0.35555], 730: [0, 0.69444, 0, 0, 0.94888], 732: [0, 0.69444, 0.11472, 0, 0.59111], 733: [0, 0.69444, 0.11472, 0, 0.59111], 915: [0, 0.68611, 0.12903, 0, 0.69777], 916: [0, 0.68611, 0, 0, 0.94444], 920: [0, 0.68611, 0.09062, 0, 0.88555], 923: [0, 0.68611, 0, 0, 0.80666], 926: [0, 0.68611, 0.15092, 0, 0.76777], 928: [0, 0.68611, 0.17208, 0, 0.8961], 931: [0, 0.68611, 0.11431, 0, 0.82666], 933: [0, 0.68611, 0.10778, 0, 0.88555], 934: [0, 0.68611, 0.05632, 0, 0.82666], 936: [0, 0.68611, 0.10778, 0, 0.88555], 937: [0, 0.68611, 0.0992, 0, 0.82666], 8211: [0, 0.44444, 0.09811, 0, 0.59111], 8212: [0, 0.44444, 0.09811, 0, 1.18221], 8216: [0, 0.69444, 0.12945, 0, 0.35555], 8217: [0, 0.69444, 0.12945, 0, 0.35555], 8220: [0, 0.69444, 0.16772, 0, 0.62055], 8221: [0, 0.69444, 0.07939, 0, 0.62055] }, "Main-Italic": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0.12417, 0, 0.30667], 34: [0, 0.69444, 0.06961, 0, 0.51444], 35: [0.19444, 0.69444, 0.06616, 0, 0.81777], 37: [0.05556, 0.75, 0.13639, 0, 0.81777], 38: [0, 0.69444, 0.09694, 0, 0.76666], 39: [0, 0.69444, 0.12417, 0, 0.30667], 40: [0.25, 0.75, 0.16194, 0, 0.40889], 41: [0.25, 0.75, 0.03694, 0, 0.40889], 42: [0, 0.75, 0.14917, 0, 0.51111], 43: [0.05667, 0.56167, 0.03694, 0, 0.76666], 44: [0.19444, 0.10556, 0, 0, 0.30667], 45: [0, 0.43056, 0.02826, 0, 0.35778], 46: [0, 0.10556, 0, 0, 0.30667], 47: [0.25, 0.75, 0.16194, 0, 0.51111], 48: [0, 0.64444, 0.13556, 0, 0.51111], 49: [0, 0.64444, 0.13556, 0, 0.51111], 50: [0, 0.64444, 0.13556, 0, 0.51111], 51: [0, 0.64444, 0.13556, 0, 0.51111], 52: [0.19444, 0.64444, 0.13556, 0, 0.51111], 53: [0, 0.64444, 0.13556, 0, 0.51111], 54: [0, 0.64444, 0.13556, 0, 0.51111], 55: [0.19444, 0.64444, 0.13556, 0, 0.51111], 56: [0, 0.64444, 0.13556, 0, 0.51111], 57: [0, 0.64444, 0.13556, 0, 0.51111], 58: [0, 0.43056, 0.0582, 0, 0.30667], 59: [0.19444, 0.43056, 0.0582, 0, 0.30667], 61: [-0.13313, 0.36687, 0.06616, 0, 0.76666], 63: [0, 0.69444, 0.1225, 0, 0.51111], 64: [0, 0.69444, 0.09597, 0, 0.76666], 65: [0, 0.68333, 0, 0, 0.74333], 66: [0, 0.68333, 0.10257, 0, 0.70389], 67: [0, 0.68333, 0.14528, 0, 0.71555], 68: [0, 0.68333, 0.09403, 0, 0.755], 69: [0, 0.68333, 0.12028, 0, 0.67833], 70: [0, 0.68333, 0.13305, 0, 0.65277], 71: [0, 0.68333, 0.08722, 0, 0.77361], 72: [0, 0.68333, 0.16389, 0, 0.74333], 73: [0, 0.68333, 0.15806, 0, 0.38555], 74: [0, 0.68333, 0.14028, 0, 0.525], 75: [0, 0.68333, 0.14528, 0, 0.76888], 76: [0, 0.68333, 0, 0, 0.62722], 77: [0, 0.68333, 0.16389, 0, 0.89666], 78: [0, 0.68333, 0.16389, 0, 0.74333], 79: [0, 0.68333, 0.09403, 0, 0.76666], 80: [0, 0.68333, 0.10257, 0, 0.67833], 81: [0.19444, 0.68333, 0.09403, 0, 0.76666], 82: [0, 0.68333, 0.03868, 0, 0.72944], 83: [0, 0.68333, 0.11972, 0, 0.56222], 84: [0, 0.68333, 0.13305, 0, 0.71555], 85: [0, 0.68333, 0.16389, 0, 0.74333], 86: [0, 0.68333, 0.18361, 0, 0.74333], 87: [0, 0.68333, 0.18361, 0, 0.99888], 88: [0, 0.68333, 0.15806, 0, 0.74333], 89: [0, 0.68333, 0.19383, 0, 0.74333], 90: [0, 0.68333, 0.14528, 0, 0.61333], 91: [0.25, 0.75, 0.1875, 0, 0.30667], 93: [0.25, 0.75, 0.10528, 0, 0.30667], 94: [0, 0.69444, 0.06646, 0, 0.51111], 95: [0.31, 0.12056, 0.09208, 0, 0.51111], 97: [0, 0.43056, 0.07671, 0, 0.51111], 98: [0, 0.69444, 0.06312, 0, 0.46], 99: [0, 0.43056, 0.05653, 0, 0.46], 100: [0, 0.69444, 0.10333, 0, 0.51111], 101: [0, 0.43056, 0.07514, 0, 0.46], 102: [0.19444, 0.69444, 0.21194, 0, 0.30667], 103: [0.19444, 0.43056, 0.08847, 0, 0.46], 104: [0, 0.69444, 0.07671, 0, 0.51111], 105: [0, 0.65536, 0.1019, 0, 0.30667], 106: [0.19444, 0.65536, 0.14467, 0, 0.30667], 107: [0, 0.69444, 0.10764, 0, 0.46], 108: [0, 0.69444, 0.10333, 0, 0.25555], 109: [0, 0.43056, 0.07671, 0, 0.81777], 110: [0, 0.43056, 0.07671, 0, 0.56222], 111: [0, 0.43056, 0.06312, 0, 0.51111], 112: [0.19444, 0.43056, 0.06312, 0, 0.51111], 113: [0.19444, 0.43056, 0.08847, 0, 0.46], 114: [0, 0.43056, 0.10764, 0, 0.42166], 115: [0, 0.43056, 0.08208, 0, 0.40889], 116: [0, 0.61508, 0.09486, 0, 0.33222], 117: [0, 0.43056, 0.07671, 0, 0.53666], 118: [0, 0.43056, 0.10764, 0, 0.46], 119: [0, 0.43056, 0.10764, 0, 0.66444], 120: [0, 0.43056, 0.12042, 0, 0.46389], 121: [0.19444, 0.43056, 0.08847, 0, 0.48555], 122: [0, 0.43056, 0.12292, 0, 0.40889], 126: [0.35, 0.31786, 0.11585, 0, 0.51111], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.66786, 0.10474, 0, 0.51111], 176: [0, 0.69444, 0, 0, 0.83129], 184: [0.17014, 0, 0, 0, 0.46], 198: [0, 0.68333, 0.12028, 0, 0.88277], 216: [0.04861, 0.73194, 0.09403, 0, 0.76666], 223: [0.19444, 0.69444, 0.10514, 0, 0.53666], 230: [0, 0.43056, 0.07514, 0, 0.71555], 248: [0.09722, 0.52778, 0.09194, 0, 0.51111], 338: [0, 0.68333, 0.12028, 0, 0.98499], 339: [0, 0.43056, 0.07514, 0, 0.71555], 710: [0, 0.69444, 0.06646, 0, 0.51111], 711: [0, 0.62847, 0.08295, 0, 0.51111], 713: [0, 0.56167, 0.10333, 0, 0.51111], 714: [0, 0.69444, 0.09694, 0, 0.51111], 715: [0, 0.69444, 0, 0, 0.51111], 728: [0, 0.69444, 0.10806, 0, 0.51111], 729: [0, 0.66786, 0.11752, 0, 0.30667], 730: [0, 0.69444, 0, 0, 0.83129], 732: [0, 0.66786, 0.11585, 0, 0.51111], 733: [0, 0.69444, 0.1225, 0, 0.51111], 915: [0, 0.68333, 0.13305, 0, 0.62722], 916: [0, 0.68333, 0, 0, 0.81777], 920: [0, 0.68333, 0.09403, 0, 0.76666], 923: [0, 0.68333, 0, 0, 0.69222], 926: [0, 0.68333, 0.15294, 0, 0.66444], 928: [0, 0.68333, 0.16389, 0, 0.74333], 931: [0, 0.68333, 0.12028, 0, 0.71555], 933: [0, 0.68333, 0.11111, 0, 0.76666], 934: [0, 0.68333, 0.05986, 0, 0.71555], 936: [0, 0.68333, 0.11111, 0, 0.76666], 937: [0, 0.68333, 0.10257, 0, 0.71555], 8211: [0, 0.43056, 0.09208, 0, 0.51111], 8212: [0, 0.43056, 0.09208, 0, 1.02222], 8216: [0, 0.69444, 0.12417, 0, 0.30667], 8217: [0, 0.69444, 0.12417, 0, 0.30667], 8220: [0, 0.69444, 0.1685, 0, 0.51444], 8221: [0, 0.69444, 0.06961, 0, 0.51444], 8463: [0, 0.68889, 0, 0, 0.54028] }, "Main-Regular": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.27778], 34: [0, 0.69444, 0, 0, 0.5], 35: [0.19444, 0.69444, 0, 0, 0.83334], 36: [0.05556, 0.75, 0, 0, 0.5], 37: [0.05556, 0.75, 0, 0, 0.83334], 38: [0, 0.69444, 0, 0, 0.77778], 39: [0, 0.69444, 0, 0, 0.27778], 40: [0.25, 0.75, 0, 0, 0.38889], 41: [0.25, 0.75, 0, 0, 0.38889], 42: [0, 0.75, 0, 0, 0.5], 43: [0.08333, 0.58333, 0, 0, 0.77778], 44: [0.19444, 0.10556, 0, 0, 0.27778], 45: [0, 0.43056, 0, 0, 0.33333], 46: [0, 0.10556, 0, 0, 0.27778], 47: [0.25, 0.75, 0, 0, 0.5], 48: [0, 0.64444, 0, 0, 0.5], 49: [0, 0.64444, 0, 0, 0.5], 50: [0, 0.64444, 0, 0, 0.5], 51: [0, 0.64444, 0, 0, 0.5], 52: [0, 0.64444, 0, 0, 0.5], 53: [0, 0.64444, 0, 0, 0.5], 54: [0, 0.64444, 0, 0, 0.5], 55: [0, 0.64444, 0, 0, 0.5], 56: [0, 0.64444, 0, 0, 0.5], 57: [0, 0.64444, 0, 0, 0.5], 58: [0, 0.43056, 0, 0, 0.27778], 59: [0.19444, 0.43056, 0, 0, 0.27778], 60: [0.0391, 0.5391, 0, 0, 0.77778], 61: [-0.13313, 0.36687, 0, 0, 0.77778], 62: [0.0391, 0.5391, 0, 0, 0.77778], 63: [0, 0.69444, 0, 0, 0.47222], 64: [0, 0.69444, 0, 0, 0.77778], 65: [0, 0.68333, 0, 0, 0.75], 66: [0, 0.68333, 0, 0, 0.70834], 67: [0, 0.68333, 0, 0, 0.72222], 68: [0, 0.68333, 0, 0, 0.76389], 69: [0, 0.68333, 0, 0, 0.68056], 70: [0, 0.68333, 0, 0, 0.65278], 71: [0, 0.68333, 0, 0, 0.78472], 72: [0, 0.68333, 0, 0, 0.75], 73: [0, 0.68333, 0, 0, 0.36111], 74: [0, 0.68333, 0, 0, 0.51389], 75: [0, 0.68333, 0, 0, 0.77778], 76: [0, 0.68333, 0, 0, 0.625], 77: [0, 0.68333, 0, 0, 0.91667], 78: [0, 0.68333, 0, 0, 0.75], 79: [0, 0.68333, 0, 0, 0.77778], 80: [0, 0.68333, 0, 0, 0.68056], 81: [0.19444, 0.68333, 0, 0, 0.77778], 82: [0, 0.68333, 0, 0, 0.73611], 83: [0, 0.68333, 0, 0, 0.55556], 84: [0, 0.68333, 0, 0, 0.72222], 85: [0, 0.68333, 0, 0, 0.75], 86: [0, 0.68333, 0.01389, 0, 0.75], 87: [0, 0.68333, 0.01389, 0, 1.02778], 88: [0, 0.68333, 0, 0, 0.75], 89: [0, 0.68333, 0.025, 0, 0.75], 90: [0, 0.68333, 0, 0, 0.61111], 91: [0.25, 0.75, 0, 0, 0.27778], 92: [0.25, 0.75, 0, 0, 0.5], 93: [0.25, 0.75, 0, 0, 0.27778], 94: [0, 0.69444, 0, 0, 0.5], 95: [0.31, 0.12056, 0.02778, 0, 0.5], 97: [0, 0.43056, 0, 0, 0.5], 98: [0, 0.69444, 0, 0, 0.55556], 99: [0, 0.43056, 0, 0, 0.44445], 100: [0, 0.69444, 0, 0, 0.55556], 101: [0, 0.43056, 0, 0, 0.44445], 102: [0, 0.69444, 0.07778, 0, 0.30556], 103: [0.19444, 0.43056, 0.01389, 0, 0.5], 104: [0, 0.69444, 0, 0, 0.55556], 105: [0, 0.66786, 0, 0, 0.27778], 106: [0.19444, 0.66786, 0, 0, 0.30556], 107: [0, 0.69444, 0, 0, 0.52778], 108: [0, 0.69444, 0, 0, 0.27778], 109: [0, 0.43056, 0, 0, 0.83334], 110: [0, 0.43056, 0, 0, 0.55556], 111: [0, 0.43056, 0, 0, 0.5], 112: [0.19444, 0.43056, 0, 0, 0.55556], 113: [0.19444, 0.43056, 0, 0, 0.52778], 114: [0, 0.43056, 0, 0, 0.39167], 115: [0, 0.43056, 0, 0, 0.39445], 116: [0, 0.61508, 0, 0, 0.38889], 117: [0, 0.43056, 0, 0, 0.55556], 118: [0, 0.43056, 0.01389, 0, 0.52778], 119: [0, 0.43056, 0.01389, 0, 0.72222], 120: [0, 0.43056, 0, 0, 0.52778], 121: [0.19444, 0.43056, 0.01389, 0, 0.52778], 122: [0, 0.43056, 0, 0, 0.44445], 123: [0.25, 0.75, 0, 0, 0.5], 124: [0.25, 0.75, 0, 0, 0.27778], 125: [0.25, 0.75, 0, 0, 0.5], 126: [0.35, 0.31786, 0, 0, 0.5], 160: [0, 0, 0, 0, 0.25], 163: [0, 0.69444, 0, 0, 0.76909], 167: [0.19444, 0.69444, 0, 0, 0.44445], 168: [0, 0.66786, 0, 0, 0.5], 172: [0, 0.43056, 0, 0, 0.66667], 176: [0, 0.69444, 0, 0, 0.75], 177: [0.08333, 0.58333, 0, 0, 0.77778], 182: [0.19444, 0.69444, 0, 0, 0.61111], 184: [0.17014, 0, 0, 0, 0.44445], 198: [0, 0.68333, 0, 0, 0.90278], 215: [0.08333, 0.58333, 0, 0, 0.77778], 216: [0.04861, 0.73194, 0, 0, 0.77778], 223: [0, 0.69444, 0, 0, 0.5], 230: [0, 0.43056, 0, 0, 0.72222], 247: [0.08333, 0.58333, 0, 0, 0.77778], 248: [0.09722, 0.52778, 0, 0, 0.5], 305: [0, 0.43056, 0, 0, 0.27778], 338: [0, 0.68333, 0, 0, 1.01389], 339: [0, 0.43056, 0, 0, 0.77778], 567: [0.19444, 0.43056, 0, 0, 0.30556], 710: [0, 0.69444, 0, 0, 0.5], 711: [0, 0.62847, 0, 0, 0.5], 713: [0, 0.56778, 0, 0, 0.5], 714: [0, 0.69444, 0, 0, 0.5], 715: [0, 0.69444, 0, 0, 0.5], 728: [0, 0.69444, 0, 0, 0.5], 729: [0, 0.66786, 0, 0, 0.27778], 730: [0, 0.69444, 0, 0, 0.75], 732: [0, 0.66786, 0, 0, 0.5], 733: [0, 0.69444, 0, 0, 0.5], 915: [0, 0.68333, 0, 0, 0.625], 916: [0, 0.68333, 0, 0, 0.83334], 920: [0, 0.68333, 0, 0, 0.77778], 923: [0, 0.68333, 0, 0, 0.69445], 926: [0, 0.68333, 0, 0, 0.66667], 928: [0, 0.68333, 0, 0, 0.75], 931: [0, 0.68333, 0, 0, 0.72222], 933: [0, 0.68333, 0, 0, 0.77778], 934: [0, 0.68333, 0, 0, 0.72222], 936: [0, 0.68333, 0, 0, 0.77778], 937: [0, 0.68333, 0, 0, 0.72222], 8211: [0, 0.43056, 0.02778, 0, 0.5], 8212: [0, 0.43056, 0.02778, 0, 1], 8216: [0, 0.69444, 0, 0, 0.27778], 8217: [0, 0.69444, 0, 0, 0.27778], 8220: [0, 0.69444, 0, 0, 0.5], 8221: [0, 0.69444, 0, 0, 0.5], 8224: [0.19444, 0.69444, 0, 0, 0.44445], 8225: [0.19444, 0.69444, 0, 0, 0.44445], 8230: [0, 0.123, 0, 0, 1.172], 8242: [0, 0.55556, 0, 0, 0.275], 8407: [0, 0.71444, 0.15382, 0, 0.5], 8463: [0, 0.68889, 0, 0, 0.54028], 8465: [0, 0.69444, 0, 0, 0.72222], 8467: [0, 0.69444, 0, 0.11111, 0.41667], 8472: [0.19444, 0.43056, 0, 0.11111, 0.63646], 8476: [0, 0.69444, 0, 0, 0.72222], 8501: [0, 0.69444, 0, 0, 0.61111], 8592: [-0.13313, 0.36687, 0, 0, 1], 8593: [0.19444, 0.69444, 0, 0, 0.5], 8594: [-0.13313, 0.36687, 0, 0, 1], 8595: [0.19444, 0.69444, 0, 0, 0.5], 8596: [-0.13313, 0.36687, 0, 0, 1], 8597: [0.25, 0.75, 0, 0, 0.5], 8598: [0.19444, 0.69444, 0, 0, 1], 8599: [0.19444, 0.69444, 0, 0, 1], 8600: [0.19444, 0.69444, 0, 0, 1], 8601: [0.19444, 0.69444, 0, 0, 1], 8614: [0.011, 0.511, 0, 0, 1], 8617: [0.011, 0.511, 0, 0, 1.126], 8618: [0.011, 0.511, 0, 0, 1.126], 8636: [-0.13313, 0.36687, 0, 0, 1], 8637: [-0.13313, 0.36687, 0, 0, 1], 8640: [-0.13313, 0.36687, 0, 0, 1], 8641: [-0.13313, 0.36687, 0, 0, 1], 8652: [0.011, 0.671, 0, 0, 1], 8656: [-0.13313, 0.36687, 0, 0, 1], 8657: [0.19444, 0.69444, 0, 0, 0.61111], 8658: [-0.13313, 0.36687, 0, 0, 1], 8659: [0.19444, 0.69444, 0, 0, 0.61111], 8660: [-0.13313, 0.36687, 0, 0, 1], 8661: [0.25, 0.75, 0, 0, 0.61111], 8704: [0, 0.69444, 0, 0, 0.55556], 8706: [0, 0.69444, 0.05556, 0.08334, 0.5309], 8707: [0, 0.69444, 0, 0, 0.55556], 8709: [0.05556, 0.75, 0, 0, 0.5], 8711: [0, 0.68333, 0, 0, 0.83334], 8712: [0.0391, 0.5391, 0, 0, 0.66667], 8715: [0.0391, 0.5391, 0, 0, 0.66667], 8722: [0.08333, 0.58333, 0, 0, 0.77778], 8723: [0.08333, 0.58333, 0, 0, 0.77778], 8725: [0.25, 0.75, 0, 0, 0.5], 8726: [0.25, 0.75, 0, 0, 0.5], 8727: [-0.03472, 0.46528, 0, 0, 0.5], 8728: [-0.05555, 0.44445, 0, 0, 0.5], 8729: [-0.05555, 0.44445, 0, 0, 0.5], 8730: [0.2, 0.8, 0, 0, 0.83334], 8733: [0, 0.43056, 0, 0, 0.77778], 8734: [0, 0.43056, 0, 0, 1], 8736: [0, 0.69224, 0, 0, 0.72222], 8739: [0.25, 0.75, 0, 0, 0.27778], 8741: [0.25, 0.75, 0, 0, 0.5], 8743: [0, 0.55556, 0, 0, 0.66667], 8744: [0, 0.55556, 0, 0, 0.66667], 8745: [0, 0.55556, 0, 0, 0.66667], 8746: [0, 0.55556, 0, 0, 0.66667], 8747: [0.19444, 0.69444, 0.11111, 0, 0.41667], 8764: [-0.13313, 0.36687, 0, 0, 0.77778], 8768: [0.19444, 0.69444, 0, 0, 0.27778], 8771: [-0.03625, 0.46375, 0, 0, 0.77778], 8773: [-0.022, 0.589, 0, 0, 0.778], 8776: [-0.01688, 0.48312, 0, 0, 0.77778], 8781: [-0.03625, 0.46375, 0, 0, 0.77778], 8784: [-0.133, 0.673, 0, 0, 0.778], 8801: [-0.03625, 0.46375, 0, 0, 0.77778], 8804: [0.13597, 0.63597, 0, 0, 0.77778], 8805: [0.13597, 0.63597, 0, 0, 0.77778], 8810: [0.0391, 0.5391, 0, 0, 1], 8811: [0.0391, 0.5391, 0, 0, 1], 8826: [0.0391, 0.5391, 0, 0, 0.77778], 8827: [0.0391, 0.5391, 0, 0, 0.77778], 8834: [0.0391, 0.5391, 0, 0, 0.77778], 8835: [0.0391, 0.5391, 0, 0, 0.77778], 8838: [0.13597, 0.63597, 0, 0, 0.77778], 8839: [0.13597, 0.63597, 0, 0, 0.77778], 8846: [0, 0.55556, 0, 0, 0.66667], 8849: [0.13597, 0.63597, 0, 0, 0.77778], 8850: [0.13597, 0.63597, 0, 0, 0.77778], 8851: [0, 0.55556, 0, 0, 0.66667], 8852: [0, 0.55556, 0, 0, 0.66667], 8853: [0.08333, 0.58333, 0, 0, 0.77778], 8854: [0.08333, 0.58333, 0, 0, 0.77778], 8855: [0.08333, 0.58333, 0, 0, 0.77778], 8856: [0.08333, 0.58333, 0, 0, 0.77778], 8857: [0.08333, 0.58333, 0, 0, 0.77778], 8866: [0, 0.69444, 0, 0, 0.61111], 8867: [0, 0.69444, 0, 0, 0.61111], 8868: [0, 0.69444, 0, 0, 0.77778], 8869: [0, 0.69444, 0, 0, 0.77778], 8872: [0.249, 0.75, 0, 0, 0.867], 8900: [-0.05555, 0.44445, 0, 0, 0.5], 8901: [-0.05555, 0.44445, 0, 0, 0.27778], 8902: [-0.03472, 0.46528, 0, 0, 0.5], 8904: [5e-3, 0.505, 0, 0, 0.9], 8942: [0.03, 0.903, 0, 0, 0.278], 8943: [-0.19, 0.313, 0, 0, 1.172], 8945: [-0.1, 0.823, 0, 0, 1.282], 8968: [0.25, 0.75, 0, 0, 0.44445], 8969: [0.25, 0.75, 0, 0, 0.44445], 8970: [0.25, 0.75, 0, 0, 0.44445], 8971: [0.25, 0.75, 0, 0, 0.44445], 8994: [-0.14236, 0.35764, 0, 0, 1], 8995: [-0.14236, 0.35764, 0, 0, 1], 9136: [0.244, 0.744, 0, 0, 0.412], 9137: [0.244, 0.745, 0, 0, 0.412], 9651: [0.19444, 0.69444, 0, 0, 0.88889], 9657: [-0.03472, 0.46528, 0, 0, 0.5], 9661: [0.19444, 0.69444, 0, 0, 0.88889], 9667: [-0.03472, 0.46528, 0, 0, 0.5], 9711: [0.19444, 0.69444, 0, 0, 1], 9824: [0.12963, 0.69444, 0, 0, 0.77778], 9825: [0.12963, 0.69444, 0, 0, 0.77778], 9826: [0.12963, 0.69444, 0, 0, 0.77778], 9827: [0.12963, 0.69444, 0, 0, 0.77778], 9837: [0, 0.75, 0, 0, 0.38889], 9838: [0.19444, 0.69444, 0, 0, 0.38889], 9839: [0.19444, 0.69444, 0, 0, 0.38889], 10216: [0.25, 0.75, 0, 0, 0.38889], 10217: [0.25, 0.75, 0, 0, 0.38889], 10222: [0.244, 0.744, 0, 0, 0.412], 10223: [0.244, 0.745, 0, 0, 0.412], 10229: [0.011, 0.511, 0, 0, 1.609], 10230: [0.011, 0.511, 0, 0, 1.638], 10231: [0.011, 0.511, 0, 0, 1.859], 10232: [0.024, 0.525, 0, 0, 1.609], 10233: [0.024, 0.525, 0, 0, 1.638], 10234: [0.024, 0.525, 0, 0, 1.858], 10236: [0.011, 0.511, 0, 0, 1.638], 10815: [0, 0.68333, 0, 0, 0.75], 10927: [0.13597, 0.63597, 0, 0, 0.77778], 10928: [0.13597, 0.63597, 0, 0, 0.77778], 57376: [0.19444, 0.69444, 0, 0, 0] }, "Math-BoldItalic": { 32: [0, 0, 0, 0, 0.25], 48: [0, 0.44444, 0, 0, 0.575], 49: [0, 0.44444, 0, 0, 0.575], 50: [0, 0.44444, 0, 0, 0.575], 51: [0.19444, 0.44444, 0, 0, 0.575], 52: [0.19444, 0.44444, 0, 0, 0.575], 53: [0.19444, 0.44444, 0, 0, 0.575], 54: [0, 0.64444, 0, 0, 0.575], 55: [0.19444, 0.44444, 0, 0, 0.575], 56: [0, 0.64444, 0, 0, 0.575], 57: [0.19444, 0.44444, 0, 0, 0.575], 65: [0, 0.68611, 0, 0, 0.86944], 66: [0, 0.68611, 0.04835, 0, 0.8664], 67: [0, 0.68611, 0.06979, 0, 0.81694], 68: [0, 0.68611, 0.03194, 0, 0.93812], 69: [0, 0.68611, 0.05451, 0, 0.81007], 70: [0, 0.68611, 0.15972, 0, 0.68889], 71: [0, 0.68611, 0, 0, 0.88673], 72: [0, 0.68611, 0.08229, 0, 0.98229], 73: [0, 0.68611, 0.07778, 0, 0.51111], 74: [0, 0.68611, 0.10069, 0, 0.63125], 75: [0, 0.68611, 0.06979, 0, 0.97118], 76: [0, 0.68611, 0, 0, 0.75555], 77: [0, 0.68611, 0.11424, 0, 1.14201], 78: [0, 0.68611, 0.11424, 0, 0.95034], 79: [0, 0.68611, 0.03194, 0, 0.83666], 80: [0, 0.68611, 0.15972, 0, 0.72309], 81: [0.19444, 0.68611, 0, 0, 0.86861], 82: [0, 0.68611, 421e-5, 0, 0.87235], 83: [0, 0.68611, 0.05382, 0, 0.69271], 84: [0, 0.68611, 0.15972, 0, 0.63663], 85: [0, 0.68611, 0.11424, 0, 0.80027], 86: [0, 0.68611, 0.25555, 0, 0.67778], 87: [0, 0.68611, 0.15972, 0, 1.09305], 88: [0, 0.68611, 0.07778, 0, 0.94722], 89: [0, 0.68611, 0.25555, 0, 0.67458], 90: [0, 0.68611, 0.06979, 0, 0.77257], 97: [0, 0.44444, 0, 0, 0.63287], 98: [0, 0.69444, 0, 0, 0.52083], 99: [0, 0.44444, 0, 0, 0.51342], 100: [0, 0.69444, 0, 0, 0.60972], 101: [0, 0.44444, 0, 0, 0.55361], 102: [0.19444, 0.69444, 0.11042, 0, 0.56806], 103: [0.19444, 0.44444, 0.03704, 0, 0.5449], 104: [0, 0.69444, 0, 0, 0.66759], 105: [0, 0.69326, 0, 0, 0.4048], 106: [0.19444, 0.69326, 0.0622, 0, 0.47083], 107: [0, 0.69444, 0.01852, 0, 0.6037], 108: [0, 0.69444, 88e-4, 0, 0.34815], 109: [0, 0.44444, 0, 0, 1.0324], 110: [0, 0.44444, 0, 0, 0.71296], 111: [0, 0.44444, 0, 0, 0.58472], 112: [0.19444, 0.44444, 0, 0, 0.60092], 113: [0.19444, 0.44444, 0.03704, 0, 0.54213], 114: [0, 0.44444, 0.03194, 0, 0.5287], 115: [0, 0.44444, 0, 0, 0.53125], 116: [0, 0.63492, 0, 0, 0.41528], 117: [0, 0.44444, 0, 0, 0.68102], 118: [0, 0.44444, 0.03704, 0, 0.56666], 119: [0, 0.44444, 0.02778, 0, 0.83148], 120: [0, 0.44444, 0, 0, 0.65903], 121: [0.19444, 0.44444, 0.03704, 0, 0.59028], 122: [0, 0.44444, 0.04213, 0, 0.55509], 160: [0, 0, 0, 0, 0.25], 915: [0, 0.68611, 0.15972, 0, 0.65694], 916: [0, 0.68611, 0, 0, 0.95833], 920: [0, 0.68611, 0.03194, 0, 0.86722], 923: [0, 0.68611, 0, 0, 0.80555], 926: [0, 0.68611, 0.07458, 0, 0.84125], 928: [0, 0.68611, 0.08229, 0, 0.98229], 931: [0, 0.68611, 0.05451, 0, 0.88507], 933: [0, 0.68611, 0.15972, 0, 0.67083], 934: [0, 0.68611, 0, 0, 0.76666], 936: [0, 0.68611, 0.11653, 0, 0.71402], 937: [0, 0.68611, 0.04835, 0, 0.8789], 945: [0, 0.44444, 0, 0, 0.76064], 946: [0.19444, 0.69444, 0.03403, 0, 0.65972], 947: [0.19444, 0.44444, 0.06389, 0, 0.59003], 948: [0, 0.69444, 0.03819, 0, 0.52222], 949: [0, 0.44444, 0, 0, 0.52882], 950: [0.19444, 0.69444, 0.06215, 0, 0.50833], 951: [0.19444, 0.44444, 0.03704, 0, 0.6], 952: [0, 0.69444, 0.03194, 0, 0.5618], 953: [0, 0.44444, 0, 0, 0.41204], 954: [0, 0.44444, 0, 0, 0.66759], 955: [0, 0.69444, 0, 0, 0.67083], 956: [0.19444, 0.44444, 0, 0, 0.70787], 957: [0, 0.44444, 0.06898, 0, 0.57685], 958: [0.19444, 0.69444, 0.03021, 0, 0.50833], 959: [0, 0.44444, 0, 0, 0.58472], 960: [0, 0.44444, 0.03704, 0, 0.68241], 961: [0.19444, 0.44444, 0, 0, 0.6118], 962: [0.09722, 0.44444, 0.07917, 0, 0.42361], 963: [0, 0.44444, 0.03704, 0, 0.68588], 964: [0, 0.44444, 0.13472, 0, 0.52083], 965: [0, 0.44444, 0.03704, 0, 0.63055], 966: [0.19444, 0.44444, 0, 0, 0.74722], 967: [0.19444, 0.44444, 0, 0, 0.71805], 968: [0.19444, 0.69444, 0.03704, 0, 0.75833], 969: [0, 0.44444, 0.03704, 0, 0.71782], 977: [0, 0.69444, 0, 0, 0.69155], 981: [0.19444, 0.69444, 0, 0, 0.7125], 982: [0, 0.44444, 0.03194, 0, 0.975], 1009: [0.19444, 0.44444, 0, 0, 0.6118], 1013: [0, 0.44444, 0, 0, 0.48333], 57649: [0, 0.44444, 0, 0, 0.39352], 57911: [0.19444, 0.44444, 0, 0, 0.43889] }, "Math-Italic": { 32: [0, 0, 0, 0, 0.25], 48: [0, 0.43056, 0, 0, 0.5], 49: [0, 0.43056, 0, 0, 0.5], 50: [0, 0.43056, 0, 0, 0.5], 51: [0.19444, 0.43056, 0, 0, 0.5], 52: [0.19444, 0.43056, 0, 0, 0.5], 53: [0.19444, 0.43056, 0, 0, 0.5], 54: [0, 0.64444, 0, 0, 0.5], 55: [0.19444, 0.43056, 0, 0, 0.5], 56: [0, 0.64444, 0, 0, 0.5], 57: [0.19444, 0.43056, 0, 0, 0.5], 65: [0, 0.68333, 0, 0.13889, 0.75], 66: [0, 0.68333, 0.05017, 0.08334, 0.75851], 67: [0, 0.68333, 0.07153, 0.08334, 0.71472], 68: [0, 0.68333, 0.02778, 0.05556, 0.82792], 69: [0, 0.68333, 0.05764, 0.08334, 0.7382], 70: [0, 0.68333, 0.13889, 0.08334, 0.64306], 71: [0, 0.68333, 0, 0.08334, 0.78625], 72: [0, 0.68333, 0.08125, 0.05556, 0.83125], 73: [0, 0.68333, 0.07847, 0.11111, 0.43958], 74: [0, 0.68333, 0.09618, 0.16667, 0.55451], 75: [0, 0.68333, 0.07153, 0.05556, 0.84931], 76: [0, 0.68333, 0, 0.02778, 0.68056], 77: [0, 0.68333, 0.10903, 0.08334, 0.97014], 78: [0, 0.68333, 0.10903, 0.08334, 0.80347], 79: [0, 0.68333, 0.02778, 0.08334, 0.76278], 80: [0, 0.68333, 0.13889, 0.08334, 0.64201], 81: [0.19444, 0.68333, 0, 0.08334, 0.79056], 82: [0, 0.68333, 773e-5, 0.08334, 0.75929], 83: [0, 0.68333, 0.05764, 0.08334, 0.6132], 84: [0, 0.68333, 0.13889, 0.08334, 0.58438], 85: [0, 0.68333, 0.10903, 0.02778, 0.68278], 86: [0, 0.68333, 0.22222, 0, 0.58333], 87: [0, 0.68333, 0.13889, 0, 0.94445], 88: [0, 0.68333, 0.07847, 0.08334, 0.82847], 89: [0, 0.68333, 0.22222, 0, 0.58056], 90: [0, 0.68333, 0.07153, 0.08334, 0.68264], 97: [0, 0.43056, 0, 0, 0.52859], 98: [0, 0.69444, 0, 0, 0.42917], 99: [0, 0.43056, 0, 0.05556, 0.43276], 100: [0, 0.69444, 0, 0.16667, 0.52049], 101: [0, 0.43056, 0, 0.05556, 0.46563], 102: [0.19444, 0.69444, 0.10764, 0.16667, 0.48959], 103: [0.19444, 0.43056, 0.03588, 0.02778, 0.47697], 104: [0, 0.69444, 0, 0, 0.57616], 105: [0, 0.65952, 0, 0, 0.34451], 106: [0.19444, 0.65952, 0.05724, 0, 0.41181], 107: [0, 0.69444, 0.03148, 0, 0.5206], 108: [0, 0.69444, 0.01968, 0.08334, 0.29838], 109: [0, 0.43056, 0, 0, 0.87801], 110: [0, 0.43056, 0, 0, 0.60023], 111: [0, 0.43056, 0, 0.05556, 0.48472], 112: [0.19444, 0.43056, 0, 0.08334, 0.50313], 113: [0.19444, 0.43056, 0.03588, 0.08334, 0.44641], 114: [0, 0.43056, 0.02778, 0.05556, 0.45116], 115: [0, 0.43056, 0, 0.05556, 0.46875], 116: [0, 0.61508, 0, 0.08334, 0.36111], 117: [0, 0.43056, 0, 0.02778, 0.57246], 118: [0, 0.43056, 0.03588, 0.02778, 0.48472], 119: [0, 0.43056, 0.02691, 0.08334, 0.71592], 120: [0, 0.43056, 0, 0.02778, 0.57153], 121: [0.19444, 0.43056, 0.03588, 0.05556, 0.49028], 122: [0, 0.43056, 0.04398, 0.05556, 0.46505], 160: [0, 0, 0, 0, 0.25], 915: [0, 0.68333, 0.13889, 0.08334, 0.61528], 916: [0, 0.68333, 0, 0.16667, 0.83334], 920: [0, 0.68333, 0.02778, 0.08334, 0.76278], 923: [0, 0.68333, 0, 0.16667, 0.69445], 926: [0, 0.68333, 0.07569, 0.08334, 0.74236], 928: [0, 0.68333, 0.08125, 0.05556, 0.83125], 931: [0, 0.68333, 0.05764, 0.08334, 0.77986], 933: [0, 0.68333, 0.13889, 0.05556, 0.58333], 934: [0, 0.68333, 0, 0.08334, 0.66667], 936: [0, 0.68333, 0.11, 0.05556, 0.61222], 937: [0, 0.68333, 0.05017, 0.08334, 0.7724], 945: [0, 0.43056, 37e-4, 0.02778, 0.6397], 946: [0.19444, 0.69444, 0.05278, 0.08334, 0.56563], 947: [0.19444, 0.43056, 0.05556, 0, 0.51773], 948: [0, 0.69444, 0.03785, 0.05556, 0.44444], 949: [0, 0.43056, 0, 0.08334, 0.46632], 950: [0.19444, 0.69444, 0.07378, 0.08334, 0.4375], 951: [0.19444, 0.43056, 0.03588, 0.05556, 0.49653], 952: [0, 0.69444, 0.02778, 0.08334, 0.46944], 953: [0, 0.43056, 0, 0.05556, 0.35394], 954: [0, 0.43056, 0, 0, 0.57616], 955: [0, 0.69444, 0, 0, 0.58334], 956: [0.19444, 0.43056, 0, 0.02778, 0.60255], 957: [0, 0.43056, 0.06366, 0.02778, 0.49398], 958: [0.19444, 0.69444, 0.04601, 0.11111, 0.4375], 959: [0, 0.43056, 0, 0.05556, 0.48472], 960: [0, 0.43056, 0.03588, 0, 0.57003], 961: [0.19444, 0.43056, 0, 0.08334, 0.51702], 962: [0.09722, 0.43056, 0.07986, 0.08334, 0.36285], 963: [0, 0.43056, 0.03588, 0, 0.57141], 964: [0, 0.43056, 0.1132, 0.02778, 0.43715], 965: [0, 0.43056, 0.03588, 0.02778, 0.54028], 966: [0.19444, 0.43056, 0, 0.08334, 0.65417], 967: [0.19444, 0.43056, 0, 0.05556, 0.62569], 968: [0.19444, 0.69444, 0.03588, 0.11111, 0.65139], 969: [0, 0.43056, 0.03588, 0, 0.62245], 977: [0, 0.69444, 0, 0.08334, 0.59144], 981: [0.19444, 0.69444, 0, 0.08334, 0.59583], 982: [0, 0.43056, 0.02778, 0, 0.82813], 1009: [0.19444, 0.43056, 0, 0.08334, 0.51702], 1013: [0, 0.43056, 0, 0.05556, 0.4059], 57649: [0, 0.43056, 0, 0.02778, 0.32246], 57911: [0.19444, 0.43056, 0, 0.08334, 0.38403] }, "SansSerif-Bold": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.36667], 34: [0, 0.69444, 0, 0, 0.55834], 35: [0.19444, 0.69444, 0, 0, 0.91667], 36: [0.05556, 0.75, 0, 0, 0.55], 37: [0.05556, 0.75, 0, 0, 1.02912], 38: [0, 0.69444, 0, 0, 0.83056], 39: [0, 0.69444, 0, 0, 0.30556], 40: [0.25, 0.75, 0, 0, 0.42778], 41: [0.25, 0.75, 0, 0, 0.42778], 42: [0, 0.75, 0, 0, 0.55], 43: [0.11667, 0.61667, 0, 0, 0.85556], 44: [0.10556, 0.13056, 0, 0, 0.30556], 45: [0, 0.45833, 0, 0, 0.36667], 46: [0, 0.13056, 0, 0, 0.30556], 47: [0.25, 0.75, 0, 0, 0.55], 48: [0, 0.69444, 0, 0, 0.55], 49: [0, 0.69444, 0, 0, 0.55], 50: [0, 0.69444, 0, 0, 0.55], 51: [0, 0.69444, 0, 0, 0.55], 52: [0, 0.69444, 0, 0, 0.55], 53: [0, 0.69444, 0, 0, 0.55], 54: [0, 0.69444, 0, 0, 0.55], 55: [0, 0.69444, 0, 0, 0.55], 56: [0, 0.69444, 0, 0, 0.55], 57: [0, 0.69444, 0, 0, 0.55], 58: [0, 0.45833, 0, 0, 0.30556], 59: [0.10556, 0.45833, 0, 0, 0.30556], 61: [-0.09375, 0.40625, 0, 0, 0.85556], 63: [0, 0.69444, 0, 0, 0.51945], 64: [0, 0.69444, 0, 0, 0.73334], 65: [0, 0.69444, 0, 0, 0.73334], 66: [0, 0.69444, 0, 0, 0.73334], 67: [0, 0.69444, 0, 0, 0.70278], 68: [0, 0.69444, 0, 0, 0.79445], 69: [0, 0.69444, 0, 0, 0.64167], 70: [0, 0.69444, 0, 0, 0.61111], 71: [0, 0.69444, 0, 0, 0.73334], 72: [0, 0.69444, 0, 0, 0.79445], 73: [0, 0.69444, 0, 0, 0.33056], 74: [0, 0.69444, 0, 0, 0.51945], 75: [0, 0.69444, 0, 0, 0.76389], 76: [0, 0.69444, 0, 0, 0.58056], 77: [0, 0.69444, 0, 0, 0.97778], 78: [0, 0.69444, 0, 0, 0.79445], 79: [0, 0.69444, 0, 0, 0.79445], 80: [0, 0.69444, 0, 0, 0.70278], 81: [0.10556, 0.69444, 0, 0, 0.79445], 82: [0, 0.69444, 0, 0, 0.70278], 83: [0, 0.69444, 0, 0, 0.61111], 84: [0, 0.69444, 0, 0, 0.73334], 85: [0, 0.69444, 0, 0, 0.76389], 86: [0, 0.69444, 0.01528, 0, 0.73334], 87: [0, 0.69444, 0.01528, 0, 1.03889], 88: [0, 0.69444, 0, 0, 0.73334], 89: [0, 0.69444, 0.0275, 0, 0.73334], 90: [0, 0.69444, 0, 0, 0.67223], 91: [0.25, 0.75, 0, 0, 0.34306], 93: [0.25, 0.75, 0, 0, 0.34306], 94: [0, 0.69444, 0, 0, 0.55], 95: [0.35, 0.10833, 0.03056, 0, 0.55], 97: [0, 0.45833, 0, 0, 0.525], 98: [0, 0.69444, 0, 0, 0.56111], 99: [0, 0.45833, 0, 0, 0.48889], 100: [0, 0.69444, 0, 0, 0.56111], 101: [0, 0.45833, 0, 0, 0.51111], 102: [0, 0.69444, 0.07639, 0, 0.33611], 103: [0.19444, 0.45833, 0.01528, 0, 0.55], 104: [0, 0.69444, 0, 0, 0.56111], 105: [0, 0.69444, 0, 0, 0.25556], 106: [0.19444, 0.69444, 0, 0, 0.28611], 107: [0, 0.69444, 0, 0, 0.53056], 108: [0, 0.69444, 0, 0, 0.25556], 109: [0, 0.45833, 0, 0, 0.86667], 110: [0, 0.45833, 0, 0, 0.56111], 111: [0, 0.45833, 0, 0, 0.55], 112: [0.19444, 0.45833, 0, 0, 0.56111], 113: [0.19444, 0.45833, 0, 0, 0.56111], 114: [0, 0.45833, 0.01528, 0, 0.37222], 115: [0, 0.45833, 0, 0, 0.42167], 116: [0, 0.58929, 0, 0, 0.40417], 117: [0, 0.45833, 0, 0, 0.56111], 118: [0, 0.45833, 0.01528, 0, 0.5], 119: [0, 0.45833, 0.01528, 0, 0.74445], 120: [0, 0.45833, 0, 0, 0.5], 121: [0.19444, 0.45833, 0.01528, 0, 0.5], 122: [0, 0.45833, 0, 0, 0.47639], 126: [0.35, 0.34444, 0, 0, 0.55], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.69444, 0, 0, 0.55], 176: [0, 0.69444, 0, 0, 0.73334], 180: [0, 0.69444, 0, 0, 0.55], 184: [0.17014, 0, 0, 0, 0.48889], 305: [0, 0.45833, 0, 0, 0.25556], 567: [0.19444, 0.45833, 0, 0, 0.28611], 710: [0, 0.69444, 0, 0, 0.55], 711: [0, 0.63542, 0, 0, 0.55], 713: [0, 0.63778, 0, 0, 0.55], 728: [0, 0.69444, 0, 0, 0.55], 729: [0, 0.69444, 0, 0, 0.30556], 730: [0, 0.69444, 0, 0, 0.73334], 732: [0, 0.69444, 0, 0, 0.55], 733: [0, 0.69444, 0, 0, 0.55], 915: [0, 0.69444, 0, 0, 0.58056], 916: [0, 0.69444, 0, 0, 0.91667], 920: [0, 0.69444, 0, 0, 0.85556], 923: [0, 0.69444, 0, 0, 0.67223], 926: [0, 0.69444, 0, 0, 0.73334], 928: [0, 0.69444, 0, 0, 0.79445], 931: [0, 0.69444, 0, 0, 0.79445], 933: [0, 0.69444, 0, 0, 0.85556], 934: [0, 0.69444, 0, 0, 0.79445], 936: [0, 0.69444, 0, 0, 0.85556], 937: [0, 0.69444, 0, 0, 0.79445], 8211: [0, 0.45833, 0.03056, 0, 0.55], 8212: [0, 0.45833, 0.03056, 0, 1.10001], 8216: [0, 0.69444, 0, 0, 0.30556], 8217: [0, 0.69444, 0, 0, 0.30556], 8220: [0, 0.69444, 0, 0, 0.55834], 8221: [0, 0.69444, 0, 0, 0.55834] }, "SansSerif-Italic": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0.05733, 0, 0.31945], 34: [0, 0.69444, 316e-5, 0, 0.5], 35: [0.19444, 0.69444, 0.05087, 0, 0.83334], 36: [0.05556, 0.75, 0.11156, 0, 0.5], 37: [0.05556, 0.75, 0.03126, 0, 0.83334], 38: [0, 0.69444, 0.03058, 0, 0.75834], 39: [0, 0.69444, 0.07816, 0, 0.27778], 40: [0.25, 0.75, 0.13164, 0, 0.38889], 41: [0.25, 0.75, 0.02536, 0, 0.38889], 42: [0, 0.75, 0.11775, 0, 0.5], 43: [0.08333, 0.58333, 0.02536, 0, 0.77778], 44: [0.125, 0.08333, 0, 0, 0.27778], 45: [0, 0.44444, 0.01946, 0, 0.33333], 46: [0, 0.08333, 0, 0, 0.27778], 47: [0.25, 0.75, 0.13164, 0, 0.5], 48: [0, 0.65556, 0.11156, 0, 0.5], 49: [0, 0.65556, 0.11156, 0, 0.5], 50: [0, 0.65556, 0.11156, 0, 0.5], 51: [0, 0.65556, 0.11156, 0, 0.5], 52: [0, 0.65556, 0.11156, 0, 0.5], 53: [0, 0.65556, 0.11156, 0, 0.5], 54: [0, 0.65556, 0.11156, 0, 0.5], 55: [0, 0.65556, 0.11156, 0, 0.5], 56: [0, 0.65556, 0.11156, 0, 0.5], 57: [0, 0.65556, 0.11156, 0, 0.5], 58: [0, 0.44444, 0.02502, 0, 0.27778], 59: [0.125, 0.44444, 0.02502, 0, 0.27778], 61: [-0.13, 0.37, 0.05087, 0, 0.77778], 63: [0, 0.69444, 0.11809, 0, 0.47222], 64: [0, 0.69444, 0.07555, 0, 0.66667], 65: [0, 0.69444, 0, 0, 0.66667], 66: [0, 0.69444, 0.08293, 0, 0.66667], 67: [0, 0.69444, 0.11983, 0, 0.63889], 68: [0, 0.69444, 0.07555, 0, 0.72223], 69: [0, 0.69444, 0.11983, 0, 0.59722], 70: [0, 0.69444, 0.13372, 0, 0.56945], 71: [0, 0.69444, 0.11983, 0, 0.66667], 72: [0, 0.69444, 0.08094, 0, 0.70834], 73: [0, 0.69444, 0.13372, 0, 0.27778], 74: [0, 0.69444, 0.08094, 0, 0.47222], 75: [0, 0.69444, 0.11983, 0, 0.69445], 76: [0, 0.69444, 0, 0, 0.54167], 77: [0, 0.69444, 0.08094, 0, 0.875], 78: [0, 0.69444, 0.08094, 0, 0.70834], 79: [0, 0.69444, 0.07555, 0, 0.73611], 80: [0, 0.69444, 0.08293, 0, 0.63889], 81: [0.125, 0.69444, 0.07555, 0, 0.73611], 82: [0, 0.69444, 0.08293, 0, 0.64584], 83: [0, 0.69444, 0.09205, 0, 0.55556], 84: [0, 0.69444, 0.13372, 0, 0.68056], 85: [0, 0.69444, 0.08094, 0, 0.6875], 86: [0, 0.69444, 0.1615, 0, 0.66667], 87: [0, 0.69444, 0.1615, 0, 0.94445], 88: [0, 0.69444, 0.13372, 0, 0.66667], 89: [0, 0.69444, 0.17261, 0, 0.66667], 90: [0, 0.69444, 0.11983, 0, 0.61111], 91: [0.25, 0.75, 0.15942, 0, 0.28889], 93: [0.25, 0.75, 0.08719, 0, 0.28889], 94: [0, 0.69444, 0.0799, 0, 0.5], 95: [0.35, 0.09444, 0.08616, 0, 0.5], 97: [0, 0.44444, 981e-5, 0, 0.48056], 98: [0, 0.69444, 0.03057, 0, 0.51667], 99: [0, 0.44444, 0.08336, 0, 0.44445], 100: [0, 0.69444, 0.09483, 0, 0.51667], 101: [0, 0.44444, 0.06778, 0, 0.44445], 102: [0, 0.69444, 0.21705, 0, 0.30556], 103: [0.19444, 0.44444, 0.10836, 0, 0.5], 104: [0, 0.69444, 0.01778, 0, 0.51667], 105: [0, 0.67937, 0.09718, 0, 0.23889], 106: [0.19444, 0.67937, 0.09162, 0, 0.26667], 107: [0, 0.69444, 0.08336, 0, 0.48889], 108: [0, 0.69444, 0.09483, 0, 0.23889], 109: [0, 0.44444, 0.01778, 0, 0.79445], 110: [0, 0.44444, 0.01778, 0, 0.51667], 111: [0, 0.44444, 0.06613, 0, 0.5], 112: [0.19444, 0.44444, 0.0389, 0, 0.51667], 113: [0.19444, 0.44444, 0.04169, 0, 0.51667], 114: [0, 0.44444, 0.10836, 0, 0.34167], 115: [0, 0.44444, 0.0778, 0, 0.38333], 116: [0, 0.57143, 0.07225, 0, 0.36111], 117: [0, 0.44444, 0.04169, 0, 0.51667], 118: [0, 0.44444, 0.10836, 0, 0.46111], 119: [0, 0.44444, 0.10836, 0, 0.68334], 120: [0, 0.44444, 0.09169, 0, 0.46111], 121: [0.19444, 0.44444, 0.10836, 0, 0.46111], 122: [0, 0.44444, 0.08752, 0, 0.43472], 126: [0.35, 0.32659, 0.08826, 0, 0.5], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.67937, 0.06385, 0, 0.5], 176: [0, 0.69444, 0, 0, 0.73752], 184: [0.17014, 0, 0, 0, 0.44445], 305: [0, 0.44444, 0.04169, 0, 0.23889], 567: [0.19444, 0.44444, 0.04169, 0, 0.26667], 710: [0, 0.69444, 0.0799, 0, 0.5], 711: [0, 0.63194, 0.08432, 0, 0.5], 713: [0, 0.60889, 0.08776, 0, 0.5], 714: [0, 0.69444, 0.09205, 0, 0.5], 715: [0, 0.69444, 0, 0, 0.5], 728: [0, 0.69444, 0.09483, 0, 0.5], 729: [0, 0.67937, 0.07774, 0, 0.27778], 730: [0, 0.69444, 0, 0, 0.73752], 732: [0, 0.67659, 0.08826, 0, 0.5], 733: [0, 0.69444, 0.09205, 0, 0.5], 915: [0, 0.69444, 0.13372, 0, 0.54167], 916: [0, 0.69444, 0, 0, 0.83334], 920: [0, 0.69444, 0.07555, 0, 0.77778], 923: [0, 0.69444, 0, 0, 0.61111], 926: [0, 0.69444, 0.12816, 0, 0.66667], 928: [0, 0.69444, 0.08094, 0, 0.70834], 931: [0, 0.69444, 0.11983, 0, 0.72222], 933: [0, 0.69444, 0.09031, 0, 0.77778], 934: [0, 0.69444, 0.04603, 0, 0.72222], 936: [0, 0.69444, 0.09031, 0, 0.77778], 937: [0, 0.69444, 0.08293, 0, 0.72222], 8211: [0, 0.44444, 0.08616, 0, 0.5], 8212: [0, 0.44444, 0.08616, 0, 1], 8216: [0, 0.69444, 0.07816, 0, 0.27778], 8217: [0, 0.69444, 0.07816, 0, 0.27778], 8220: [0, 0.69444, 0.14205, 0, 0.5], 8221: [0, 0.69444, 316e-5, 0, 0.5] }, "SansSerif-Regular": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.31945], 34: [0, 0.69444, 0, 0, 0.5], 35: [0.19444, 0.69444, 0, 0, 0.83334], 36: [0.05556, 0.75, 0, 0, 0.5], 37: [0.05556, 0.75, 0, 0, 0.83334], 38: [0, 0.69444, 0, 0, 0.75834], 39: [0, 0.69444, 0, 0, 0.27778], 40: [0.25, 0.75, 0, 0, 0.38889], 41: [0.25, 0.75, 0, 0, 0.38889], 42: [0, 0.75, 0, 0, 0.5], 43: [0.08333, 0.58333, 0, 0, 0.77778], 44: [0.125, 0.08333, 0, 0, 0.27778], 45: [0, 0.44444, 0, 0, 0.33333], 46: [0, 0.08333, 0, 0, 0.27778], 47: [0.25, 0.75, 0, 0, 0.5], 48: [0, 0.65556, 0, 0, 0.5], 49: [0, 0.65556, 0, 0, 0.5], 50: [0, 0.65556, 0, 0, 0.5], 51: [0, 0.65556, 0, 0, 0.5], 52: [0, 0.65556, 0, 0, 0.5], 53: [0, 0.65556, 0, 0, 0.5], 54: [0, 0.65556, 0, 0, 0.5], 55: [0, 0.65556, 0, 0, 0.5], 56: [0, 0.65556, 0, 0, 0.5], 57: [0, 0.65556, 0, 0, 0.5], 58: [0, 0.44444, 0, 0, 0.27778], 59: [0.125, 0.44444, 0, 0, 0.27778], 61: [-0.13, 0.37, 0, 0, 0.77778], 63: [0, 0.69444, 0, 0, 0.47222], 64: [0, 0.69444, 0, 0, 0.66667], 65: [0, 0.69444, 0, 0, 0.66667], 66: [0, 0.69444, 0, 0, 0.66667], 67: [0, 0.69444, 0, 0, 0.63889], 68: [0, 0.69444, 0, 0, 0.72223], 69: [0, 0.69444, 0, 0, 0.59722], 70: [0, 0.69444, 0, 0, 0.56945], 71: [0, 0.69444, 0, 0, 0.66667], 72: [0, 0.69444, 0, 0, 0.70834], 73: [0, 0.69444, 0, 0, 0.27778], 74: [0, 0.69444, 0, 0, 0.47222], 75: [0, 0.69444, 0, 0, 0.69445], 76: [0, 0.69444, 0, 0, 0.54167], 77: [0, 0.69444, 0, 0, 0.875], 78: [0, 0.69444, 0, 0, 0.70834], 79: [0, 0.69444, 0, 0, 0.73611], 80: [0, 0.69444, 0, 0, 0.63889], 81: [0.125, 0.69444, 0, 0, 0.73611], 82: [0, 0.69444, 0, 0, 0.64584], 83: [0, 0.69444, 0, 0, 0.55556], 84: [0, 0.69444, 0, 0, 0.68056], 85: [0, 0.69444, 0, 0, 0.6875], 86: [0, 0.69444, 0.01389, 0, 0.66667], 87: [0, 0.69444, 0.01389, 0, 0.94445], 88: [0, 0.69444, 0, 0, 0.66667], 89: [0, 0.69444, 0.025, 0, 0.66667], 90: [0, 0.69444, 0, 0, 0.61111], 91: [0.25, 0.75, 0, 0, 0.28889], 93: [0.25, 0.75, 0, 0, 0.28889], 94: [0, 0.69444, 0, 0, 0.5], 95: [0.35, 0.09444, 0.02778, 0, 0.5], 97: [0, 0.44444, 0, 0, 0.48056], 98: [0, 0.69444, 0, 0, 0.51667], 99: [0, 0.44444, 0, 0, 0.44445], 100: [0, 0.69444, 0, 0, 0.51667], 101: [0, 0.44444, 0, 0, 0.44445], 102: [0, 0.69444, 0.06944, 0, 0.30556], 103: [0.19444, 0.44444, 0.01389, 0, 0.5], 104: [0, 0.69444, 0, 0, 0.51667], 105: [0, 0.67937, 0, 0, 0.23889], 106: [0.19444, 0.67937, 0, 0, 0.26667], 107: [0, 0.69444, 0, 0, 0.48889], 108: [0, 0.69444, 0, 0, 0.23889], 109: [0, 0.44444, 0, 0, 0.79445], 110: [0, 0.44444, 0, 0, 0.51667], 111: [0, 0.44444, 0, 0, 0.5], 112: [0.19444, 0.44444, 0, 0, 0.51667], 113: [0.19444, 0.44444, 0, 0, 0.51667], 114: [0, 0.44444, 0.01389, 0, 0.34167], 115: [0, 0.44444, 0, 0, 0.38333], 116: [0, 0.57143, 0, 0, 0.36111], 117: [0, 0.44444, 0, 0, 0.51667], 118: [0, 0.44444, 0.01389, 0, 0.46111], 119: [0, 0.44444, 0.01389, 0, 0.68334], 120: [0, 0.44444, 0, 0, 0.46111], 121: [0.19444, 0.44444, 0.01389, 0, 0.46111], 122: [0, 0.44444, 0, 0, 0.43472], 126: [0.35, 0.32659, 0, 0, 0.5], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.67937, 0, 0, 0.5], 176: [0, 0.69444, 0, 0, 0.66667], 184: [0.17014, 0, 0, 0, 0.44445], 305: [0, 0.44444, 0, 0, 0.23889], 567: [0.19444, 0.44444, 0, 0, 0.26667], 710: [0, 0.69444, 0, 0, 0.5], 711: [0, 0.63194, 0, 0, 0.5], 713: [0, 0.60889, 0, 0, 0.5], 714: [0, 0.69444, 0, 0, 0.5], 715: [0, 0.69444, 0, 0, 0.5], 728: [0, 0.69444, 0, 0, 0.5], 729: [0, 0.67937, 0, 0, 0.27778], 730: [0, 0.69444, 0, 0, 0.66667], 732: [0, 0.67659, 0, 0, 0.5], 733: [0, 0.69444, 0, 0, 0.5], 915: [0, 0.69444, 0, 0, 0.54167], 916: [0, 0.69444, 0, 0, 0.83334], 920: [0, 0.69444, 0, 0, 0.77778], 923: [0, 0.69444, 0, 0, 0.61111], 926: [0, 0.69444, 0, 0, 0.66667], 928: [0, 0.69444, 0, 0, 0.70834], 931: [0, 0.69444, 0, 0, 0.72222], 933: [0, 0.69444, 0, 0, 0.77778], 934: [0, 0.69444, 0, 0, 0.72222], 936: [0, 0.69444, 0, 0, 0.77778], 937: [0, 0.69444, 0, 0, 0.72222], 8211: [0, 0.44444, 0.02778, 0, 0.5], 8212: [0, 0.44444, 0.02778, 0, 1], 8216: [0, 0.69444, 0, 0, 0.27778], 8217: [0, 0.69444, 0, 0, 0.27778], 8220: [0, 0.69444, 0, 0, 0.5], 8221: [0, 0.69444, 0, 0, 0.5] }, "Script-Regular": { 32: [0, 0, 0, 0, 0.25], 65: [0, 0.7, 0.22925, 0, 0.80253], 66: [0, 0.7, 0.04087, 0, 0.90757], 67: [0, 0.7, 0.1689, 0, 0.66619], 68: [0, 0.7, 0.09371, 0, 0.77443], 69: [0, 0.7, 0.18583, 0, 0.56162], 70: [0, 0.7, 0.13634, 0, 0.89544], 71: [0, 0.7, 0.17322, 0, 0.60961], 72: [0, 0.7, 0.29694, 0, 0.96919], 73: [0, 0.7, 0.19189, 0, 0.80907], 74: [0.27778, 0.7, 0.19189, 0, 1.05159], 75: [0, 0.7, 0.31259, 0, 0.91364], 76: [0, 0.7, 0.19189, 0, 0.87373], 77: [0, 0.7, 0.15981, 0, 1.08031], 78: [0, 0.7, 0.3525, 0, 0.9015], 79: [0, 0.7, 0.08078, 0, 0.73787], 80: [0, 0.7, 0.08078, 0, 1.01262], 81: [0, 0.7, 0.03305, 0, 0.88282], 82: [0, 0.7, 0.06259, 0, 0.85], 83: [0, 0.7, 0.19189, 0, 0.86767], 84: [0, 0.7, 0.29087, 0, 0.74697], 85: [0, 0.7, 0.25815, 0, 0.79996], 86: [0, 0.7, 0.27523, 0, 0.62204], 87: [0, 0.7, 0.27523, 0, 0.80532], 88: [0, 0.7, 0.26006, 0, 0.94445], 89: [0, 0.7, 0.2939, 0, 0.70961], 90: [0, 0.7, 0.24037, 0, 0.8212], 160: [0, 0, 0, 0, 0.25] }, "Size1-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [0.35001, 0.85, 0, 0, 0.45834], 41: [0.35001, 0.85, 0, 0, 0.45834], 47: [0.35001, 0.85, 0, 0, 0.57778], 91: [0.35001, 0.85, 0, 0, 0.41667], 92: [0.35001, 0.85, 0, 0, 0.57778], 93: [0.35001, 0.85, 0, 0, 0.41667], 123: [0.35001, 0.85, 0, 0, 0.58334], 125: [0.35001, 0.85, 0, 0, 0.58334], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.72222, 0, 0, 0.55556], 732: [0, 0.72222, 0, 0, 0.55556], 770: [0, 0.72222, 0, 0, 0.55556], 771: [0, 0.72222, 0, 0, 0.55556], 8214: [-99e-5, 0.601, 0, 0, 0.77778], 8593: [1e-5, 0.6, 0, 0, 0.66667], 8595: [1e-5, 0.6, 0, 0, 0.66667], 8657: [1e-5, 0.6, 0, 0, 0.77778], 8659: [1e-5, 0.6, 0, 0, 0.77778], 8719: [0.25001, 0.75, 0, 0, 0.94445], 8720: [0.25001, 0.75, 0, 0, 0.94445], 8721: [0.25001, 0.75, 0, 0, 1.05556], 8730: [0.35001, 0.85, 0, 0, 1], 8739: [-599e-5, 0.606, 0, 0, 0.33333], 8741: [-599e-5, 0.606, 0, 0, 0.55556], 8747: [0.30612, 0.805, 0.19445, 0, 0.47222], 8748: [0.306, 0.805, 0.19445, 0, 0.47222], 8749: [0.306, 0.805, 0.19445, 0, 0.47222], 8750: [0.30612, 0.805, 0.19445, 0, 0.47222], 8896: [0.25001, 0.75, 0, 0, 0.83334], 8897: [0.25001, 0.75, 0, 0, 0.83334], 8898: [0.25001, 0.75, 0, 0, 0.83334], 8899: [0.25001, 0.75, 0, 0, 0.83334], 8968: [0.35001, 0.85, 0, 0, 0.47222], 8969: [0.35001, 0.85, 0, 0, 0.47222], 8970: [0.35001, 0.85, 0, 0, 0.47222], 8971: [0.35001, 0.85, 0, 0, 0.47222], 9168: [-99e-5, 0.601, 0, 0, 0.66667], 10216: [0.35001, 0.85, 0, 0, 0.47222], 10217: [0.35001, 0.85, 0, 0, 0.47222], 10752: [0.25001, 0.75, 0, 0, 1.11111], 10753: [0.25001, 0.75, 0, 0, 1.11111], 10754: [0.25001, 0.75, 0, 0, 1.11111], 10756: [0.25001, 0.75, 0, 0, 0.83334], 10758: [0.25001, 0.75, 0, 0, 0.83334] }, "Size2-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [0.65002, 1.15, 0, 0, 0.59722], 41: [0.65002, 1.15, 0, 0, 0.59722], 47: [0.65002, 1.15, 0, 0, 0.81111], 91: [0.65002, 1.15, 0, 0, 0.47222], 92: [0.65002, 1.15, 0, 0, 0.81111], 93: [0.65002, 1.15, 0, 0, 0.47222], 123: [0.65002, 1.15, 0, 0, 0.66667], 125: [0.65002, 1.15, 0, 0, 0.66667], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.75, 0, 0, 1], 732: [0, 0.75, 0, 0, 1], 770: [0, 0.75, 0, 0, 1], 771: [0, 0.75, 0, 0, 1], 8719: [0.55001, 1.05, 0, 0, 1.27778], 8720: [0.55001, 1.05, 0, 0, 1.27778], 8721: [0.55001, 1.05, 0, 0, 1.44445], 8730: [0.65002, 1.15, 0, 0, 1], 8747: [0.86225, 1.36, 0.44445, 0, 0.55556], 8748: [0.862, 1.36, 0.44445, 0, 0.55556], 8749: [0.862, 1.36, 0.44445, 0, 0.55556], 8750: [0.86225, 1.36, 0.44445, 0, 0.55556], 8896: [0.55001, 1.05, 0, 0, 1.11111], 8897: [0.55001, 1.05, 0, 0, 1.11111], 8898: [0.55001, 1.05, 0, 0, 1.11111], 8899: [0.55001, 1.05, 0, 0, 1.11111], 8968: [0.65002, 1.15, 0, 0, 0.52778], 8969: [0.65002, 1.15, 0, 0, 0.52778], 8970: [0.65002, 1.15, 0, 0, 0.52778], 8971: [0.65002, 1.15, 0, 0, 0.52778], 10216: [0.65002, 1.15, 0, 0, 0.61111], 10217: [0.65002, 1.15, 0, 0, 0.61111], 10752: [0.55001, 1.05, 0, 0, 1.51112], 10753: [0.55001, 1.05, 0, 0, 1.51112], 10754: [0.55001, 1.05, 0, 0, 1.51112], 10756: [0.55001, 1.05, 0, 0, 1.11111], 10758: [0.55001, 1.05, 0, 0, 1.11111] }, "Size3-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [0.95003, 1.45, 0, 0, 0.73611], 41: [0.95003, 1.45, 0, 0, 0.73611], 47: [0.95003, 1.45, 0, 0, 1.04445], 91: [0.95003, 1.45, 0, 0, 0.52778], 92: [0.95003, 1.45, 0, 0, 1.04445], 93: [0.95003, 1.45, 0, 0, 0.52778], 123: [0.95003, 1.45, 0, 0, 0.75], 125: [0.95003, 1.45, 0, 0, 0.75], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.75, 0, 0, 1.44445], 732: [0, 0.75, 0, 0, 1.44445], 770: [0, 0.75, 0, 0, 1.44445], 771: [0, 0.75, 0, 0, 1.44445], 8730: [0.95003, 1.45, 0, 0, 1], 8968: [0.95003, 1.45, 0, 0, 0.58334], 8969: [0.95003, 1.45, 0, 0, 0.58334], 8970: [0.95003, 1.45, 0, 0, 0.58334], 8971: [0.95003, 1.45, 0, 0, 0.58334], 10216: [0.95003, 1.45, 0, 0, 0.75], 10217: [0.95003, 1.45, 0, 0, 0.75] }, "Size4-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [1.25003, 1.75, 0, 0, 0.79167], 41: [1.25003, 1.75, 0, 0, 0.79167], 47: [1.25003, 1.75, 0, 0, 1.27778], 91: [1.25003, 1.75, 0, 0, 0.58334], 92: [1.25003, 1.75, 0, 0, 1.27778], 93: [1.25003, 1.75, 0, 0, 0.58334], 123: [1.25003, 1.75, 0, 0, 0.80556], 125: [1.25003, 1.75, 0, 0, 0.80556], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.825, 0, 0, 1.8889], 732: [0, 0.825, 0, 0, 1.8889], 770: [0, 0.825, 0, 0, 1.8889], 771: [0, 0.825, 0, 0, 1.8889], 8730: [1.25003, 1.75, 0, 0, 1], 8968: [1.25003, 1.75, 0, 0, 0.63889], 8969: [1.25003, 1.75, 0, 0, 0.63889], 8970: [1.25003, 1.75, 0, 0, 0.63889], 8971: [1.25003, 1.75, 0, 0, 0.63889], 9115: [0.64502, 1.155, 0, 0, 0.875], 9116: [1e-5, 0.6, 0, 0, 0.875], 9117: [0.64502, 1.155, 0, 0, 0.875], 9118: [0.64502, 1.155, 0, 0, 0.875], 9119: [1e-5, 0.6, 0, 0, 0.875], 9120: [0.64502, 1.155, 0, 0, 0.875], 9121: [0.64502, 1.155, 0, 0, 0.66667], 9122: [-99e-5, 0.601, 0, 0, 0.66667], 9123: [0.64502, 1.155, 0, 0, 0.66667], 9124: [0.64502, 1.155, 0, 0, 0.66667], 9125: [-99e-5, 0.601, 0, 0, 0.66667], 9126: [0.64502, 1.155, 0, 0, 0.66667], 9127: [1e-5, 0.9, 0, 0, 0.88889], 9128: [0.65002, 1.15, 0, 0, 0.88889], 9129: [0.90001, 0, 0, 0, 0.88889], 9130: [0, 0.3, 0, 0, 0.88889], 9131: [1e-5, 0.9, 0, 0, 0.88889], 9132: [0.65002, 1.15, 0, 0, 0.88889], 9133: [0.90001, 0, 0, 0, 0.88889], 9143: [0.88502, 0.915, 0, 0, 1.05556], 10216: [1.25003, 1.75, 0, 0, 0.80556], 10217: [1.25003, 1.75, 0, 0, 0.80556], 57344: [-499e-5, 0.605, 0, 0, 1.05556], 57345: [-499e-5, 0.605, 0, 0, 1.05556], 57680: [0, 0.12, 0, 0, 0.45], 57681: [0, 0.12, 0, 0, 0.45], 57682: [0, 0.12, 0, 0, 0.45], 57683: [0, 0.12, 0, 0, 0.45] }, "Typewriter-Regular": { 32: [0, 0, 0, 0, 0.525], 33: [0, 0.61111, 0, 0, 0.525], 34: [0, 0.61111, 0, 0, 0.525], 35: [0, 0.61111, 0, 0, 0.525], 36: [0.08333, 0.69444, 0, 0, 0.525], 37: [0.08333, 0.69444, 0, 0, 0.525], 38: [0, 0.61111, 0, 0, 0.525], 39: [0, 0.61111, 0, 0, 0.525], 40: [0.08333, 0.69444, 0, 0, 0.525], 41: [0.08333, 0.69444, 0, 0, 0.525], 42: [0, 0.52083, 0, 0, 0.525], 43: [-0.08056, 0.53055, 0, 0, 0.525], 44: [0.13889, 0.125, 0, 0, 0.525], 45: [-0.08056, 0.53055, 0, 0, 0.525], 46: [0, 0.125, 0, 0, 0.525], 47: [0.08333, 0.69444, 0, 0, 0.525], 48: [0, 0.61111, 0, 0, 0.525], 49: [0, 0.61111, 0, 0, 0.525], 50: [0, 0.61111, 0, 0, 0.525], 51: [0, 0.61111, 0, 0, 0.525], 52: [0, 0.61111, 0, 0, 0.525], 53: [0, 0.61111, 0, 0, 0.525], 54: [0, 0.61111, 0, 0, 0.525], 55: [0, 0.61111, 0, 0, 0.525], 56: [0, 0.61111, 0, 0, 0.525], 57: [0, 0.61111, 0, 0, 0.525], 58: [0, 0.43056, 0, 0, 0.525], 59: [0.13889, 0.43056, 0, 0, 0.525], 60: [-0.05556, 0.55556, 0, 0, 0.525], 61: [-0.19549, 0.41562, 0, 0, 0.525], 62: [-0.05556, 0.55556, 0, 0, 0.525], 63: [0, 0.61111, 0, 0, 0.525], 64: [0, 0.61111, 0, 0, 0.525], 65: [0, 0.61111, 0, 0, 0.525], 66: [0, 0.61111, 0, 0, 0.525], 67: [0, 0.61111, 0, 0, 0.525], 68: [0, 0.61111, 0, 0, 0.525], 69: [0, 0.61111, 0, 0, 0.525], 70: [0, 0.61111, 0, 0, 0.525], 71: [0, 0.61111, 0, 0, 0.525], 72: [0, 0.61111, 0, 0, 0.525], 73: [0, 0.61111, 0, 0, 0.525], 74: [0, 0.61111, 0, 0, 0.525], 75: [0, 0.61111, 0, 0, 0.525], 76: [0, 0.61111, 0, 0, 0.525], 77: [0, 0.61111, 0, 0, 0.525], 78: [0, 0.61111, 0, 0, 0.525], 79: [0, 0.61111, 0, 0, 0.525], 80: [0, 0.61111, 0, 0, 0.525], 81: [0.13889, 0.61111, 0, 0, 0.525], 82: [0, 0.61111, 0, 0, 0.525], 83: [0, 0.61111, 0, 0, 0.525], 84: [0, 0.61111, 0, 0, 0.525], 85: [0, 0.61111, 0, 0, 0.525], 86: [0, 0.61111, 0, 0, 0.525], 87: [0, 0.61111, 0, 0, 0.525], 88: [0, 0.61111, 0, 0, 0.525], 89: [0, 0.61111, 0, 0, 0.525], 90: [0, 0.61111, 0, 0, 0.525], 91: [0.08333, 0.69444, 0, 0, 0.525], 92: [0.08333, 0.69444, 0, 0, 0.525], 93: [0.08333, 0.69444, 0, 0, 0.525], 94: [0, 0.61111, 0, 0, 0.525], 95: [0.09514, 0, 0, 0, 0.525], 96: [0, 0.61111, 0, 0, 0.525], 97: [0, 0.43056, 0, 0, 0.525], 98: [0, 0.61111, 0, 0, 0.525], 99: [0, 0.43056, 0, 0, 0.525], 100: [0, 0.61111, 0, 0, 0.525], 101: [0, 0.43056, 0, 0, 0.525], 102: [0, 0.61111, 0, 0, 0.525], 103: [0.22222, 0.43056, 0, 0, 0.525], 104: [0, 0.61111, 0, 0, 0.525], 105: [0, 0.61111, 0, 0, 0.525], 106: [0.22222, 0.61111, 0, 0, 0.525], 107: [0, 0.61111, 0, 0, 0.525], 108: [0, 0.61111, 0, 0, 0.525], 109: [0, 0.43056, 0, 0, 0.525], 110: [0, 0.43056, 0, 0, 0.525], 111: [0, 0.43056, 0, 0, 0.525], 112: [0.22222, 0.43056, 0, 0, 0.525], 113: [0.22222, 0.43056, 0, 0, 0.525], 114: [0, 0.43056, 0, 0, 0.525], 115: [0, 0.43056, 0, 0, 0.525], 116: [0, 0.55358, 0, 0, 0.525], 117: [0, 0.43056, 0, 0, 0.525], 118: [0, 0.43056, 0, 0, 0.525], 119: [0, 0.43056, 0, 0, 0.525], 120: [0, 0.43056, 0, 0, 0.525], 121: [0.22222, 0.43056, 0, 0, 0.525], 122: [0, 0.43056, 0, 0, 0.525], 123: [0.08333, 0.69444, 0, 0, 0.525], 124: [0.08333, 0.69444, 0, 0, 0.525], 125: [0.08333, 0.69444, 0, 0, 0.525], 126: [0, 0.61111, 0, 0, 0.525], 127: [0, 0.61111, 0, 0, 0.525], 160: [0, 0, 0, 0, 0.525], 176: [0, 0.61111, 0, 0, 0.525], 184: [0.19445, 0, 0, 0, 0.525], 305: [0, 0.43056, 0, 0, 0.525], 567: [0.22222, 0.43056, 0, 0, 0.525], 711: [0, 0.56597, 0, 0, 0.525], 713: [0, 0.56555, 0, 0, 0.525], 714: [0, 0.61111, 0, 0, 0.525], 715: [0, 0.61111, 0, 0, 0.525], 728: [0, 0.61111, 0, 0, 0.525], 730: [0, 0.61111, 0, 0, 0.525], 770: [0, 0.61111, 0, 0, 0.525], 771: [0, 0.61111, 0, 0, 0.525], 776: [0, 0.61111, 0, 0, 0.525], 915: [0, 0.61111, 0, 0, 0.525], 916: [0, 0.61111, 0, 0, 0.525], 920: [0, 0.61111, 0, 0, 0.525], 923: [0, 0.61111, 0, 0, 0.525], 926: [0, 0.61111, 0, 0, 0.525], 928: [0, 0.61111, 0, 0, 0.525], 931: [0, 0.61111, 0, 0, 0.525], 933: [0, 0.61111, 0, 0, 0.525], 934: [0, 0.61111, 0, 0, 0.525], 936: [0, 0.61111, 0, 0, 0.525], 937: [0, 0.61111, 0, 0, 0.525], 8216: [0, 0.61111, 0, 0, 0.525], 8217: [0, 0.61111, 0, 0, 0.525], 8242: [0, 0.61111, 0, 0, 0.525], 9251: [0.11111, 0.21944, 0, 0, 0.525] } }, wI = { slant: [0.25, 0.25, 0.25], space: [0, 0, 0], stretch: [0, 0, 0], shrink: [0, 0, 0], xHeight: [0.431, 0.431, 0.431], quad: [1, 1.171, 1.472], extraSpace: [0, 0, 0], num1: [0.677, 0.732, 0.925], num2: [0.394, 0.384, 0.387], num3: [0.444, 0.471, 0.504], denom1: [0.686, 0.752, 1.025], denom2: [0.345, 0.344, 0.532], sup1: [0.413, 0.503, 0.504], sup2: [0.363, 0.431, 0.404], sup3: [0.289, 0.286, 0.294], sub1: [0.15, 0.143, 0.2], sub2: [0.247, 0.286, 0.4], supDrop: [0.386, 0.353, 0.494], subDrop: [0.05, 0.071, 0.1], delim1: [2.39, 1.7, 1.98], delim2: [1.01, 1.157, 1.42], axisHeight: [0.25, 0.25, 0.25], defaultRuleThickness: [0.04, 0.049, 0.049], bigOpSpacing1: [0.111, 0.111, 0.111], bigOpSpacing2: [0.166, 0.166, 0.166], bigOpSpacing3: [0.2, 0.2, 0.2], bigOpSpacing4: [0.6, 0.611, 0.611], bigOpSpacing5: [0.1, 0.143, 0.143], sqrtRuleThickness: [0.04, 0.04, 0.04], ptPerEm: [10, 10, 10], doubleRuleSep: [0.2, 0.2, 0.2], arrayRuleWidth: [0.04, 0.04, 0.04], fboxsep: [0.3, 0.3, 0.3], fboxrule: [0.04, 0.04, 0.04] }, wM = { Å: "A", Ð: "D", Þ: "o", å: "a", ð: "d", þ: "o", А: "A", Б: "B", В: "B", Г: "F", Д: "A", Е: "E", Ж: "K", З: "3", И: "N", Й: "N", К: "K", Л: "N", М: "M", Н: "H", О: "O", П: "N", Р: "P", С: "C", Т: "T", У: "y", Ф: "O", Х: "X", Ц: "U", Ч: "h", Ш: "W", Щ: "W", Ъ: "B", Ы: "X", Ь: "B", Э: "3", Ю: "X", Я: "R", а: "a", б: "b", в: "a", г: "r", д: "y", е: "e", ж: "m", з: "e", и: "n", й: "n", к: "n", л: "n", м: "m", н: "n", о: "o", п: "n", р: "p", с: "c", т: "o", у: "y", ф: "b", х: "x", ц: "n", ч: "n", ш: "w", щ: "w", ъ: "a", ы: "m", ь: "a", э: "e", ю: "m", я: "r" };
function wR(t33, e10) {
  wN[t33] = e10;
}
function wD(t33, e10, r10) {
  if (!wN[e10]) throw Error("Font metrics not found for font: " + e10 + ".");
  var i10 = t33.charCodeAt(0), n10 = wN[e10][i10];
  if (!n10 && t33[0] in wM && (i10 = wM[t33[0]].charCodeAt(0), n10 = wN[e10][i10]), !n10 && "text" === r10 && wT(i10) && (n10 = wN[e10][77]), n10) return { depth: n10[0], height: n10[1], italic: n10[2], skew: n10[3], width: n10[4] };
}
var wO = {}, wP = [[1, 1, 1], [2, 1, 1], [3, 1, 1], [4, 2, 1], [5, 2, 1], [6, 3, 1], [7, 4, 2], [8, 6, 3], [9, 7, 6], [10, 8, 7], [11, 10, 9]], w$ = [0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.2, 1.44, 1.728, 2.074, 2.488], wB = function(t33, e10) {
  return e10.size < 2 ? t33 : wP[t33 - 1][e10.size - 1];
};
class wF {
  constructor(t33) {
    this.style = void 0, this.color = void 0, this.size = void 0, this.textSize = void 0, this.phantom = void 0, this.font = void 0, this.fontFamily = void 0, this.fontWeight = void 0, this.fontShape = void 0, this.sizeMultiplier = void 0, this.maxSize = void 0, this.minRuleThickness = void 0, this._fontMetrics = void 0, this.style = t33.style, this.color = t33.color, this.size = t33.size || wF.BASESIZE, this.textSize = t33.textSize || this.size, this.phantom = !!t33.phantom, this.font = t33.font || "", this.fontFamily = t33.fontFamily || "", this.fontWeight = t33.fontWeight || "", this.fontShape = t33.fontShape || "", this.sizeMultiplier = w$[this.size - 1], this.maxSize = t33.maxSize, this.minRuleThickness = t33.minRuleThickness, this._fontMetrics = void 0;
  }
  extend(t33) {
    var e10 = { style: this.style, size: this.size, textSize: this.textSize, color: this.color, phantom: this.phantom, font: this.font, fontFamily: this.fontFamily, fontWeight: this.fontWeight, fontShape: this.fontShape, maxSize: this.maxSize, minRuleThickness: this.minRuleThickness };
    for (var r10 in t33) t33.hasOwnProperty(r10) && (e10[r10] = t33[r10]);
    return new wF(e10);
  }
  havingStyle(t33) {
    return this.style === t33 ? this : this.extend({ style: t33, size: wB(this.textSize, t33) });
  }
  havingCrampedStyle() {
    return this.havingStyle(this.style.cramp());
  }
  havingSize(t33) {
    return this.size === t33 && this.textSize === t33 ? this : this.extend({ style: this.style.text(), size: t33, textSize: t33, sizeMultiplier: w$[t33 - 1] });
  }
  havingBaseStyle(t33) {
    t33 = t33 || this.style.text();
    var e10 = wB(wF.BASESIZE, t33);
    return this.size === e10 && this.textSize === wF.BASESIZE && this.style === t33 ? this : this.extend({ style: t33, size: e10 });
  }
  havingBaseSizing() {
    var t33;
    switch (this.style.id) {
      case 4:
      case 5:
        t33 = 3;
        break;
      case 6:
      case 7:
        t33 = 1;
        break;
      default:
        t33 = 6;
    }
    return this.extend({ style: this.style.text(), size: t33 });
  }
  withColor(t33) {
    return this.extend({ color: t33 });
  }
  withPhantom() {
    return this.extend({ phantom: true });
  }
  withFont(t33) {
    return this.extend({ font: t33 });
  }
  withTextFontFamily(t33) {
    return this.extend({ fontFamily: t33, font: "" });
  }
  withTextFontWeight(t33) {
    return this.extend({ fontWeight: t33, font: "" });
  }
  withTextFontShape(t33) {
    return this.extend({ fontShape: t33, font: "" });
  }
  sizingClasses(t33) {
    return t33.size !== this.size ? ["sizing", "reset-size" + t33.size, "size" + this.size] : [];
  }
  baseSizingClasses() {
    return this.size !== wF.BASESIZE ? ["sizing", "reset-size" + this.size, "size" + wF.BASESIZE] : [];
  }
  fontMetrics() {
    return this._fontMetrics || (this._fontMetrics = function(t33) {
      var e10;
      if (!wO[e10 = t33 >= 5 ? 0 : t33 >= 3 ? 1 : 2]) {
        var r10 = wO[e10] = { cssEmPerMu: wI.quad[e10] / 18 };
        for (var i10 in wI) wI.hasOwnProperty(i10) && (r10[i10] = wI[i10][e10]);
      }
      return wO[e10];
    }(this.size)), this._fontMetrics;
  }
  getColor() {
    return this.phantom ? "transparent" : this.color;
  }
}
wF.BASESIZE = 6;
var wz = { pt: 1, mm: 7227 / 2540, cm: 7227 / 254, in: 72.27, bp: 1.00375, pc: 12, dd: 1238 / 1157, cc: 14856 / 1157, nd: 685 / 642, nc: 1370 / 107, sp: 1 / 65536, px: 1.00375 }, wU = { ex: true, em: true, mu: true }, wG = function(t33) {
  return "string" != typeof t33 && (t33 = t33.unit), t33 in wz || t33 in wU || "ex" === t33;
}, wq = function(t33, e10) {
  var r10, i10;
  if (t33.unit in wz) r10 = wz[t33.unit] / e10.fontMetrics().ptPerEm / e10.sizeMultiplier;
  else if ("mu" === t33.unit) r10 = e10.fontMetrics().cssEmPerMu;
  else {
    if (i10 = e10.style.isTight() ? e10.havingStyle(e10.style.text()) : e10, "ex" === t33.unit) r10 = i10.fontMetrics().xHeight;
    else if ("em" === t33.unit) r10 = i10.fontMetrics().quad;
    else throw new wn("Invalid unit: '" + t33.unit + "'");
    i10 !== e10 && (r10 *= i10.sizeMultiplier / e10.sizeMultiplier);
  }
  return Math.min(t33.number * r10, e10.maxSize);
}, wY = function(t33) {
  return +t33.toFixed(4) + "em";
}, wH = function(t33) {
  return t33.filter((t34) => t34).join(" ");
}, wj = function(t33, e10, r10) {
  if (this.classes = t33 || [], this.attributes = {}, this.height = 0, this.depth = 0, this.maxFontSize = 0, this.style = r10 || {}, e10) {
    e10.style.isTight() && this.classes.push("mtight");
    var i10 = e10.getColor();
    i10 && (this.style.color = i10);
  }
}, wW = function(t33) {
  var e10 = document.createElement(t33);
  for (var r10 in e10.className = wH(this.classes), this.style) this.style.hasOwnProperty(r10) && (e10.style[r10] = this.style[r10]);
  for (var i10 in this.attributes) this.attributes.hasOwnProperty(i10) && e10.setAttribute(i10, this.attributes[i10]);
  for (var n10 = 0; n10 < this.children.length; n10++) e10.appendChild(this.children[n10].toNode());
  return e10;
}, wV = function(t33) {
  var e10 = "<" + t33;
  this.classes.length && (e10 += ' class="' + wc.escape(wH(this.classes)) + '"');
  var r10 = "";
  for (var i10 in this.style) this.style.hasOwnProperty(i10) && (r10 += wc.hyphenate(i10) + ":" + this.style[i10] + ";");
  for (var n10 in r10 && (e10 += ' style="' + wc.escape(r10) + '"'), this.attributes) this.attributes.hasOwnProperty(n10) && (e10 += " " + n10 + '="' + wc.escape(this.attributes[n10]) + '"');
  e10 += ">";
  for (var a10 = 0; a10 < this.children.length; a10++) e10 += this.children[a10].toMarkup();
  return e10 + ("</" + t33) + ">";
};
class wX {
  constructor(t33, e10, r10, i10) {
    this.children = void 0, this.attributes = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.width = void 0, this.maxFontSize = void 0, this.style = void 0, wj.call(this, t33, r10, i10), this.children = e10 || [];
  }
  setAttribute(t33, e10) {
    this.attributes[t33] = e10;
  }
  hasClass(t33) {
    return wc.contains(this.classes, t33);
  }
  toNode() {
    return wW.call(this, "span");
  }
  toMarkup() {
    return wV.call(this, "span");
  }
}
class wK {
  constructor(t33, e10, r10, i10) {
    this.children = void 0, this.attributes = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, wj.call(this, e10, i10), this.children = r10 || [], this.setAttribute("href", t33);
  }
  setAttribute(t33, e10) {
    this.attributes[t33] = e10;
  }
  hasClass(t33) {
    return wc.contains(this.classes, t33);
  }
  toNode() {
    return wW.call(this, "a");
  }
  toMarkup() {
    return wV.call(this, "a");
  }
}
class wZ {
  constructor(t33, e10, r10) {
    this.src = void 0, this.alt = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, this.alt = e10, this.src = t33, this.classes = ["mord"], this.style = r10;
  }
  hasClass(t33) {
    return wc.contains(this.classes, t33);
  }
  toNode() {
    var t33 = document.createElement("img");
    for (var e10 in t33.src = this.src, t33.alt = this.alt, t33.className = "mord", this.style) this.style.hasOwnProperty(e10) && (t33.style[e10] = this.style[e10]);
    return t33;
  }
  toMarkup() {
    var t33 = '<img src="' + wc.escape(this.src) + '" alt="' + wc.escape(this.alt) + '"', e10 = "";
    for (var r10 in this.style) this.style.hasOwnProperty(r10) && (e10 += wc.hyphenate(r10) + ":" + this.style[r10] + ";");
    return e10 && (t33 += ' style="' + wc.escape(e10) + '"'), t33 += "'/>";
  }
}
var wQ = { î: "ı̂", ï: "ı̈", í: "ı́", ì: "ı̀" };
class wJ {
  constructor(t33, e10, r10, i10, n10, a10, o10, s10) {
    this.text = void 0, this.height = void 0, this.depth = void 0, this.italic = void 0, this.skew = void 0, this.width = void 0, this.maxFontSize = void 0, this.classes = void 0, this.style = void 0, this.text = t33, this.height = e10 || 0, this.depth = r10 || 0, this.italic = i10 || 0, this.skew = n10 || 0, this.width = a10 || 0, this.classes = o10 || [], this.style = s10 || {}, this.maxFontSize = 0;
    var l10 = function(t34) {
      for (var e11 = 0; e11 < wk.length; e11++) for (var r11 = wk[e11], i11 = 0; i11 < r11.blocks.length; i11++) {
        var n11 = r11.blocks[i11];
        if (t34 >= n11[0] && t34 <= n11[1]) return r11.name;
      }
      return null;
    }(this.text.charCodeAt(0));
    l10 && this.classes.push(l10 + "_fallback"), /[îïíì]/.test(this.text) && (this.text = wQ[this.text]);
  }
  hasClass(t33) {
    return wc.contains(this.classes, t33);
  }
  toNode() {
    var t33 = document.createTextNode(this.text), e10 = null;
    for (var r10 in this.italic > 0 && ((e10 = document.createElement("span")).style.marginRight = wY(this.italic)), this.classes.length > 0 && ((e10 = e10 || document.createElement("span")).className = wH(this.classes)), this.style) this.style.hasOwnProperty(r10) && ((e10 = e10 || document.createElement("span")).style[r10] = this.style[r10]);
    return e10 ? (e10.appendChild(t33), e10) : t33;
  }
  toMarkup() {
    var t33 = false, e10 = "<span";
    this.classes.length && (t33 = true, e10 += ' class="', e10 += wc.escape(wH(this.classes)), e10 += '"');
    var r10 = "";
    for (var i10 in this.italic > 0 && (r10 += "margin-right:" + this.italic + "em;"), this.style) this.style.hasOwnProperty(i10) && (r10 += wc.hyphenate(i10) + ":" + this.style[i10] + ";");
    r10 && (t33 = true, e10 += ' style="' + wc.escape(r10) + '"');
    var n10 = wc.escape(this.text);
    return t33 ? (e10 += ">", e10 += n10, e10 += "</span>") : n10;
  }
}
class w0 {
  constructor(t33, e10) {
    this.children = void 0, this.attributes = void 0, this.children = t33 || [], this.attributes = e10 || {};
  }
  toNode() {
    var t33 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    for (var e10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, e10) && t33.setAttribute(e10, this.attributes[e10]);
    for (var r10 = 0; r10 < this.children.length; r10++) t33.appendChild(this.children[r10].toNode());
    return t33;
  }
  toMarkup() {
    var t33 = '<svg xmlns="http://www.w3.org/2000/svg"';
    for (var e10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, e10) && (t33 += " " + e10 + '="' + wc.escape(this.attributes[e10]) + '"');
    t33 += ">";
    for (var r10 = 0; r10 < this.children.length; r10++) t33 += this.children[r10].toMarkup();
    return t33 + "</svg>";
  }
}
class w1 {
  constructor(t33, e10) {
    this.pathName = void 0, this.alternate = void 0, this.pathName = t33, this.alternate = e10;
  }
  toNode() {
    var t33 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    return this.alternate ? t33.setAttribute("d", this.alternate) : t33.setAttribute("d", wS[this.pathName]), t33;
  }
  toMarkup() {
    return this.alternate ? '<path d="' + wc.escape(this.alternate) + '"/>' : '<path d="' + wc.escape(wS[this.pathName]) + '"/>';
  }
}
class w2 {
  constructor(t33) {
    this.attributes = void 0, this.attributes = t33 || {};
  }
  toNode() {
    var t33 = document.createElementNS("http://www.w3.org/2000/svg", "line");
    for (var e10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, e10) && t33.setAttribute(e10, this.attributes[e10]);
    return t33;
  }
  toMarkup() {
    var t33 = "<line";
    for (var e10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, e10) && (t33 += " " + e10 + '="' + wc.escape(this.attributes[e10]) + '"');
    return t33 + "/>";
  }
}
function w4(t33) {
  if (t33 instanceof wJ) return t33;
  throw Error("Expected symbolNode but got " + String(t33) + ".");
}
var w5 = { bin: 1, close: 1, inner: 1, open: 1, punct: 1, rel: 1 }, w3 = { "accent-token": 1, mathord: 1, "op-token": 1, spacing: 1, textord: 1 }, w6 = { math: {}, text: {} };
function w7(t33, e10, r10, i10, n10, a10) {
  w6[t33][n10] = { font: e10, group: r10, replace: i10 }, a10 && i10 && (w6[t33][i10] = w6[t33][n10]);
}
var w8 = "math", w9 = "text", kt = "main", ke = "accent-token", kr = "close", ki = "inner", kn = "mathord", ka = "op-token", ko = "open", ks = "punct", kl = "spacing", kh = "textord";
w7(w8, kt, "rel", "≡", "\\equiv", true), w7(w8, kt, "rel", "≺", "\\prec", true), w7(w8, kt, "rel", "≻", "\\succ", true), w7(w8, kt, "rel", "∼", "\\sim", true), w7(w8, kt, "rel", "⊥", "\\perp"), w7(w8, kt, "rel", "⪯", "\\preceq", true), w7(w8, kt, "rel", "⪰", "\\succeq", true), w7(w8, kt, "rel", "≃", "\\simeq", true), w7(w8, kt, "rel", "∣", "\\mid", true), w7(w8, kt, "rel", "≪", "\\ll", true), w7(w8, kt, "rel", "≫", "\\gg", true), w7(w8, kt, "rel", "≍", "\\asymp", true), w7(w8, kt, "rel", "∥", "\\parallel"), w7(w8, kt, "rel", "⋈", "\\bowtie", true), w7(w8, kt, "rel", "⌣", "\\smile", true), w7(w8, kt, "rel", "⊑", "\\sqsubseteq", true), w7(w8, kt, "rel", "⊒", "\\sqsupseteq", true), w7(w8, kt, "rel", "≐", "\\doteq", true), w7(w8, kt, "rel", "⌢", "\\frown", true), w7(w8, kt, "rel", "∋", "\\ni", true), w7(w8, kt, "rel", "∝", "\\propto", true), w7(w8, kt, "rel", "⊢", "\\vdash", true), w7(w8, kt, "rel", "⊣", "\\dashv", true), w7(w8, kt, "rel", "∋", "\\owns"), w7(w8, kt, ks, ".", "\\ldotp"), w7(w8, kt, ks, "⋅", "\\cdotp"), w7(w8, kt, kh, "#", "\\#"), w7(w9, kt, kh, "#", "\\#"), w7(w8, kt, kh, "&", "\\&"), w7(w9, kt, kh, "&", "\\&"), w7(w8, kt, kh, "ℵ", "\\aleph", true), w7(w8, kt, kh, "∀", "\\forall", true), w7(w8, kt, kh, "ℏ", "\\hbar", true), w7(w8, kt, kh, "∃", "\\exists", true), w7(w8, kt, kh, "∇", "\\nabla", true), w7(w8, kt, kh, "♭", "\\flat", true), w7(w8, kt, kh, "ℓ", "\\ell", true), w7(w8, kt, kh, "♮", "\\natural", true), w7(w8, kt, kh, "♣", "\\clubsuit", true), w7(w8, kt, kh, "℘", "\\wp", true), w7(w8, kt, kh, "♯", "\\sharp", true), w7(w8, kt, kh, "♢", "\\diamondsuit", true), w7(w8, kt, kh, "ℜ", "\\Re", true), w7(w8, kt, kh, "♡", "\\heartsuit", true), w7(w8, kt, kh, "ℑ", "\\Im", true), w7(w8, kt, kh, "♠", "\\spadesuit", true), w7(w8, kt, kh, "§", "\\S", true), w7(w9, kt, kh, "§", "\\S"), w7(w8, kt, kh, "¶", "\\P", true), w7(w9, kt, kh, "¶", "\\P"), w7(w8, kt, kh, "†", "\\dag"), w7(w9, kt, kh, "†", "\\dag"), w7(w9, kt, kh, "†", "\\textdagger"), w7(w8, kt, kh, "‡", "\\ddag"), w7(w9, kt, kh, "‡", "\\ddag"), w7(w9, kt, kh, "‡", "\\textdaggerdbl"), w7(w8, kt, kr, "⎱", "\\rmoustache", true), w7(w8, kt, ko, "⎰", "\\lmoustache", true), w7(w8, kt, kr, "⟯", "\\rgroup", true), w7(w8, kt, ko, "⟮", "\\lgroup", true), w7(w8, kt, "bin", "∓", "\\mp", true), w7(w8, kt, "bin", "⊖", "\\ominus", true), w7(w8, kt, "bin", "⊎", "\\uplus", true), w7(w8, kt, "bin", "⊓", "\\sqcap", true), w7(w8, kt, "bin", "∗", "\\ast"), w7(w8, kt, "bin", "⊔", "\\sqcup", true), w7(w8, kt, "bin", "◯", "\\bigcirc", true), w7(w8, kt, "bin", "∙", "\\bullet", true), w7(w8, kt, "bin", "‡", "\\ddagger"), w7(w8, kt, "bin", "≀", "\\wr", true), w7(w8, kt, "bin", "⨿", "\\amalg"), w7(w8, kt, "bin", "&", "\\And"), w7(w8, kt, "rel", "⟵", "\\longleftarrow", true), w7(w8, kt, "rel", "⇐", "\\Leftarrow", true), w7(w8, kt, "rel", "⟸", "\\Longleftarrow", true), w7(w8, kt, "rel", "⟶", "\\longrightarrow", true), w7(w8, kt, "rel", "⇒", "\\Rightarrow", true), w7(w8, kt, "rel", "⟹", "\\Longrightarrow", true), w7(w8, kt, "rel", "↔", "\\leftrightarrow", true), w7(w8, kt, "rel", "⟷", "\\longleftrightarrow", true), w7(w8, kt, "rel", "⇔", "\\Leftrightarrow", true), w7(w8, kt, "rel", "⟺", "\\Longleftrightarrow", true), w7(w8, kt, "rel", "↦", "\\mapsto", true), w7(w8, kt, "rel", "⟼", "\\longmapsto", true), w7(w8, kt, "rel", "↗", "\\nearrow", true), w7(w8, kt, "rel", "↩", "\\hookleftarrow", true), w7(w8, kt, "rel", "↪", "\\hookrightarrow", true), w7(w8, kt, "rel", "↘", "\\searrow", true), w7(w8, kt, "rel", "↼", "\\leftharpoonup", true), w7(w8, kt, "rel", "⇀", "\\rightharpoonup", true), w7(w8, kt, "rel", "↙", "\\swarrow", true), w7(w8, kt, "rel", "↽", "\\leftharpoondown", true), w7(w8, kt, "rel", "⇁", "\\rightharpoondown", true), w7(w8, kt, "rel", "↖", "\\nwarrow", true), w7(w8, kt, "rel", "⇌", "\\rightleftharpoons", true), w7(w8, "ams", "rel", "≮", "\\nless", true), w7(w8, "ams", "rel", "", "\\@nleqslant"), w7(w8, "ams", "rel", "", "\\@nleqq"), w7(w8, "ams", "rel", "⪇", "\\lneq", true), w7(w8, "ams", "rel", "≨", "\\lneqq", true), w7(w8, "ams", "rel", "", "\\@lvertneqq"), w7(w8, "ams", "rel", "⋦", "\\lnsim", true), w7(w8, "ams", "rel", "⪉", "\\lnapprox", true), w7(w8, "ams", "rel", "⊀", "\\nprec", true), w7(w8, "ams", "rel", "⋠", "\\npreceq", true), w7(w8, "ams", "rel", "⋨", "\\precnsim", true), w7(w8, "ams", "rel", "⪹", "\\precnapprox", true), w7(w8, "ams", "rel", "≁", "\\nsim", true), w7(w8, "ams", "rel", "", "\\@nshortmid"), w7(w8, "ams", "rel", "∤", "\\nmid", true), w7(w8, "ams", "rel", "⊬", "\\nvdash", true), w7(w8, "ams", "rel", "⊭", "\\nvDash", true), w7(w8, "ams", "rel", "⋪", "\\ntriangleleft"), w7(w8, "ams", "rel", "⋬", "\\ntrianglelefteq", true), w7(w8, "ams", "rel", "⊊", "\\subsetneq", true), w7(w8, "ams", "rel", "", "\\@varsubsetneq"), w7(w8, "ams", "rel", "⫋", "\\subsetneqq", true), w7(w8, "ams", "rel", "", "\\@varsubsetneqq"), w7(w8, "ams", "rel", "≯", "\\ngtr", true), w7(w8, "ams", "rel", "", "\\@ngeqslant"), w7(w8, "ams", "rel", "", "\\@ngeqq"), w7(w8, "ams", "rel", "⪈", "\\gneq", true), w7(w8, "ams", "rel", "≩", "\\gneqq", true), w7(w8, "ams", "rel", "", "\\@gvertneqq"), w7(w8, "ams", "rel", "⋧", "\\gnsim", true), w7(w8, "ams", "rel", "⪊", "\\gnapprox", true), w7(w8, "ams", "rel", "⊁", "\\nsucc", true), w7(w8, "ams", "rel", "⋡", "\\nsucceq", true), w7(w8, "ams", "rel", "⋩", "\\succnsim", true), w7(w8, "ams", "rel", "⪺", "\\succnapprox", true), w7(w8, "ams", "rel", "≆", "\\ncong", true), w7(w8, "ams", "rel", "", "\\@nshortparallel"), w7(w8, "ams", "rel", "∦", "\\nparallel", true), w7(w8, "ams", "rel", "⊯", "\\nVDash", true), w7(w8, "ams", "rel", "⋫", "\\ntriangleright"), w7(w8, "ams", "rel", "⋭", "\\ntrianglerighteq", true), w7(w8, "ams", "rel", "", "\\@nsupseteqq"), w7(w8, "ams", "rel", "⊋", "\\supsetneq", true), w7(w8, "ams", "rel", "", "\\@varsupsetneq"), w7(w8, "ams", "rel", "⫌", "\\supsetneqq", true), w7(w8, "ams", "rel", "", "\\@varsupsetneqq"), w7(w8, "ams", "rel", "⊮", "\\nVdash", true), w7(w8, "ams", "rel", "⪵", "\\precneqq", true), w7(w8, "ams", "rel", "⪶", "\\succneqq", true), w7(w8, "ams", "rel", "", "\\@nsubseteqq"), w7(w8, "ams", "bin", "⊴", "\\unlhd"), w7(w8, "ams", "bin", "⊵", "\\unrhd"), w7(w8, "ams", "rel", "↚", "\\nleftarrow", true), w7(w8, "ams", "rel", "↛", "\\nrightarrow", true), w7(w8, "ams", "rel", "⇍", "\\nLeftarrow", true), w7(w8, "ams", "rel", "⇏", "\\nRightarrow", true), w7(w8, "ams", "rel", "↮", "\\nleftrightarrow", true), w7(w8, "ams", "rel", "⇎", "\\nLeftrightarrow", true), w7(w8, "ams", "rel", "△", "\\vartriangle"), w7(w8, "ams", kh, "ℏ", "\\hslash"), w7(w8, "ams", kh, "▽", "\\triangledown"), w7(w8, "ams", kh, "◊", "\\lozenge"), w7(w8, "ams", kh, "Ⓢ", "\\circledS"), w7(w8, "ams", kh, "®", "\\circledR"), w7(w9, "ams", kh, "®", "\\circledR"), w7(w8, "ams", kh, "∡", "\\measuredangle", true), w7(w8, "ams", kh, "∄", "\\nexists"), w7(w8, "ams", kh, "℧", "\\mho"), w7(w8, "ams", kh, "Ⅎ", "\\Finv", true), w7(w8, "ams", kh, "⅁", "\\Game", true), w7(w8, "ams", kh, "‵", "\\backprime"), w7(w8, "ams", kh, "▲", "\\blacktriangle"), w7(w8, "ams", kh, "▼", "\\blacktriangledown"), w7(w8, "ams", kh, "■", "\\blacksquare"), w7(w8, "ams", kh, "⧫", "\\blacklozenge"), w7(w8, "ams", kh, "★", "\\bigstar"), w7(w8, "ams", kh, "∢", "\\sphericalangle", true), w7(w8, "ams", kh, "∁", "\\complement", true), w7(w8, "ams", kh, "ð", "\\eth", true), w7(w9, kt, kh, "ð", "ð"), w7(w8, "ams", kh, "╱", "\\diagup"), w7(w8, "ams", kh, "╲", "\\diagdown"), w7(w8, "ams", kh, "□", "\\square"), w7(w8, "ams", kh, "□", "\\Box"), w7(w8, "ams", kh, "◊", "\\Diamond"), w7(w8, "ams", kh, "¥", "\\yen", true), w7(w9, "ams", kh, "¥", "\\yen", true), w7(w8, "ams", kh, "✓", "\\checkmark", true), w7(w9, "ams", kh, "✓", "\\checkmark"), w7(w8, "ams", kh, "ℶ", "\\beth", true), w7(w8, "ams", kh, "ℸ", "\\daleth", true), w7(w8, "ams", kh, "ℷ", "\\gimel", true), w7(w8, "ams", kh, "ϝ", "\\digamma", true), w7(w8, "ams", kh, "ϰ", "\\varkappa"), w7(w8, "ams", ko, "┌", "\\@ulcorner", true), w7(w8, "ams", kr, "┐", "\\@urcorner", true), w7(w8, "ams", ko, "└", "\\@llcorner", true), w7(w8, "ams", kr, "┘", "\\@lrcorner", true), w7(w8, "ams", "rel", "≦", "\\leqq", true), w7(w8, "ams", "rel", "⩽", "\\leqslant", true), w7(w8, "ams", "rel", "⪕", "\\eqslantless", true), w7(w8, "ams", "rel", "≲", "\\lesssim", true), w7(w8, "ams", "rel", "⪅", "\\lessapprox", true), w7(w8, "ams", "rel", "≊", "\\approxeq", true), w7(w8, "ams", "bin", "⋖", "\\lessdot"), w7(w8, "ams", "rel", "⋘", "\\lll", true), w7(w8, "ams", "rel", "≶", "\\lessgtr", true), w7(w8, "ams", "rel", "⋚", "\\lesseqgtr", true), w7(w8, "ams", "rel", "⪋", "\\lesseqqgtr", true), w7(w8, "ams", "rel", "≑", "\\doteqdot"), w7(w8, "ams", "rel", "≓", "\\risingdotseq", true), w7(w8, "ams", "rel", "≒", "\\fallingdotseq", true), w7(w8, "ams", "rel", "∽", "\\backsim", true), w7(w8, "ams", "rel", "⋍", "\\backsimeq", true), w7(w8, "ams", "rel", "⫅", "\\subseteqq", true), w7(w8, "ams", "rel", "⋐", "\\Subset", true), w7(w8, "ams", "rel", "⊏", "\\sqsubset", true), w7(w8, "ams", "rel", "≼", "\\preccurlyeq", true), w7(w8, "ams", "rel", "⋞", "\\curlyeqprec", true), w7(w8, "ams", "rel", "≾", "\\precsim", true), w7(w8, "ams", "rel", "⪷", "\\precapprox", true), w7(w8, "ams", "rel", "⊲", "\\vartriangleleft"), w7(w8, "ams", "rel", "⊴", "\\trianglelefteq"), w7(w8, "ams", "rel", "⊨", "\\vDash", true), w7(w8, "ams", "rel", "⊪", "\\Vvdash", true), w7(w8, "ams", "rel", "⌣", "\\smallsmile"), w7(w8, "ams", "rel", "⌢", "\\smallfrown"), w7(w8, "ams", "rel", "≏", "\\bumpeq", true), w7(w8, "ams", "rel", "≎", "\\Bumpeq", true), w7(w8, "ams", "rel", "≧", "\\geqq", true), w7(w8, "ams", "rel", "⩾", "\\geqslant", true), w7(w8, "ams", "rel", "⪖", "\\eqslantgtr", true), w7(w8, "ams", "rel", "≳", "\\gtrsim", true), w7(w8, "ams", "rel", "⪆", "\\gtrapprox", true), w7(w8, "ams", "bin", "⋗", "\\gtrdot"), w7(w8, "ams", "rel", "⋙", "\\ggg", true), w7(w8, "ams", "rel", "≷", "\\gtrless", true), w7(w8, "ams", "rel", "⋛", "\\gtreqless", true), w7(w8, "ams", "rel", "⪌", "\\gtreqqless", true), w7(w8, "ams", "rel", "≖", "\\eqcirc", true), w7(w8, "ams", "rel", "≗", "\\circeq", true), w7(w8, "ams", "rel", "≜", "\\triangleq", true), w7(w8, "ams", "rel", "∼", "\\thicksim"), w7(w8, "ams", "rel", "≈", "\\thickapprox"), w7(w8, "ams", "rel", "⫆", "\\supseteqq", true), w7(w8, "ams", "rel", "⋑", "\\Supset", true), w7(w8, "ams", "rel", "⊐", "\\sqsupset", true), w7(w8, "ams", "rel", "≽", "\\succcurlyeq", true), w7(w8, "ams", "rel", "⋟", "\\curlyeqsucc", true), w7(w8, "ams", "rel", "≿", "\\succsim", true), w7(w8, "ams", "rel", "⪸", "\\succapprox", true), w7(w8, "ams", "rel", "⊳", "\\vartriangleright"), w7(w8, "ams", "rel", "⊵", "\\trianglerighteq"), w7(w8, "ams", "rel", "⊩", "\\Vdash", true), w7(w8, "ams", "rel", "∣", "\\shortmid"), w7(w8, "ams", "rel", "∥", "\\shortparallel"), w7(w8, "ams", "rel", "≬", "\\between", true), w7(w8, "ams", "rel", "⋔", "\\pitchfork", true), w7(w8, "ams", "rel", "∝", "\\varpropto"), w7(w8, "ams", "rel", "◀", "\\blacktriangleleft"), w7(w8, "ams", "rel", "∴", "\\therefore", true), w7(w8, "ams", "rel", "∍", "\\backepsilon"), w7(w8, "ams", "rel", "▶", "\\blacktriangleright"), w7(w8, "ams", "rel", "∵", "\\because", true), w7(w8, "ams", "rel", "⋘", "\\llless"), w7(w8, "ams", "rel", "⋙", "\\gggtr"), w7(w8, "ams", "bin", "⊲", "\\lhd"), w7(w8, "ams", "bin", "⊳", "\\rhd"), w7(w8, "ams", "rel", "≂", "\\eqsim", true), w7(w8, kt, "rel", "⋈", "\\Join"), w7(w8, "ams", "rel", "≑", "\\Doteq", true), w7(w8, "ams", "bin", "∔", "\\dotplus", true), w7(w8, "ams", "bin", "∖", "\\smallsetminus"), w7(w8, "ams", "bin", "⋒", "\\Cap", true), w7(w8, "ams", "bin", "⋓", "\\Cup", true), w7(w8, "ams", "bin", "⩞", "\\doublebarwedge", true), w7(w8, "ams", "bin", "⊟", "\\boxminus", true), w7(w8, "ams", "bin", "⊞", "\\boxplus", true), w7(w8, "ams", "bin", "⋇", "\\divideontimes", true), w7(w8, "ams", "bin", "⋉", "\\ltimes", true), w7(w8, "ams", "bin", "⋊", "\\rtimes", true), w7(w8, "ams", "bin", "⋋", "\\leftthreetimes", true), w7(w8, "ams", "bin", "⋌", "\\rightthreetimes", true), w7(w8, "ams", "bin", "⋏", "\\curlywedge", true), w7(w8, "ams", "bin", "⋎", "\\curlyvee", true), w7(w8, "ams", "bin", "⊝", "\\circleddash", true), w7(w8, "ams", "bin", "⊛", "\\circledast", true), w7(w8, "ams", "bin", "⋅", "\\centerdot"), w7(w8, "ams", "bin", "⊺", "\\intercal", true), w7(w8, "ams", "bin", "⋒", "\\doublecap"), w7(w8, "ams", "bin", "⋓", "\\doublecup"), w7(w8, "ams", "bin", "⊠", "\\boxtimes", true), w7(w8, "ams", "rel", "⇢", "\\dashrightarrow", true), w7(w8, "ams", "rel", "⇠", "\\dashleftarrow", true), w7(w8, "ams", "rel", "⇇", "\\leftleftarrows", true), w7(w8, "ams", "rel", "⇆", "\\leftrightarrows", true), w7(w8, "ams", "rel", "⇚", "\\Lleftarrow", true), w7(w8, "ams", "rel", "↞", "\\twoheadleftarrow", true), w7(w8, "ams", "rel", "↢", "\\leftarrowtail", true), w7(w8, "ams", "rel", "↫", "\\looparrowleft", true), w7(w8, "ams", "rel", "⇋", "\\leftrightharpoons", true), w7(w8, "ams", "rel", "↶", "\\curvearrowleft", true), w7(w8, "ams", "rel", "↺", "\\circlearrowleft", true), w7(w8, "ams", "rel", "↰", "\\Lsh", true), w7(w8, "ams", "rel", "⇈", "\\upuparrows", true), w7(w8, "ams", "rel", "↿", "\\upharpoonleft", true), w7(w8, "ams", "rel", "⇃", "\\downharpoonleft", true), w7(w8, kt, "rel", "⊶", "\\origof", true), w7(w8, kt, "rel", "⊷", "\\imageof", true), w7(w8, "ams", "rel", "⊸", "\\multimap", true), w7(w8, "ams", "rel", "↭", "\\leftrightsquigarrow", true), w7(w8, "ams", "rel", "⇉", "\\rightrightarrows", true), w7(w8, "ams", "rel", "⇄", "\\rightleftarrows", true), w7(w8, "ams", "rel", "↠", "\\twoheadrightarrow", true), w7(w8, "ams", "rel", "↣", "\\rightarrowtail", true), w7(w8, "ams", "rel", "↬", "\\looparrowright", true), w7(w8, "ams", "rel", "↷", "\\curvearrowright", true), w7(w8, "ams", "rel", "↻", "\\circlearrowright", true), w7(w8, "ams", "rel", "↱", "\\Rsh", true), w7(w8, "ams", "rel", "⇊", "\\downdownarrows", true), w7(w8, "ams", "rel", "↾", "\\upharpoonright", true), w7(w8, "ams", "rel", "⇂", "\\downharpoonright", true), w7(w8, "ams", "rel", "⇝", "\\rightsquigarrow", true), w7(w8, "ams", "rel", "⇝", "\\leadsto"), w7(w8, "ams", "rel", "⇛", "\\Rrightarrow", true), w7(w8, "ams", "rel", "↾", "\\restriction"), w7(w8, kt, kh, "‘", "`"), w7(w8, kt, kh, "$", "\\$"), w7(w9, kt, kh, "$", "\\$"), w7(w9, kt, kh, "$", "\\textdollar"), w7(w8, kt, kh, "%", "\\%"), w7(w9, kt, kh, "%", "\\%"), w7(w8, kt, kh, "_", "\\_"), w7(w9, kt, kh, "_", "\\_"), w7(w9, kt, kh, "_", "\\textunderscore"), w7(w8, kt, kh, "∠", "\\angle", true), w7(w8, kt, kh, "∞", "\\infty", true), w7(w8, kt, kh, "′", "\\prime"), w7(w8, kt, kh, "△", "\\triangle"), w7(w8, kt, kh, "Γ", "\\Gamma", true), w7(w8, kt, kh, "Δ", "\\Delta", true), w7(w8, kt, kh, "Θ", "\\Theta", true), w7(w8, kt, kh, "Λ", "\\Lambda", true), w7(w8, kt, kh, "Ξ", "\\Xi", true), w7(w8, kt, kh, "Π", "\\Pi", true), w7(w8, kt, kh, "Σ", "\\Sigma", true), w7(w8, kt, kh, "Υ", "\\Upsilon", true), w7(w8, kt, kh, "Φ", "\\Phi", true), w7(w8, kt, kh, "Ψ", "\\Psi", true), w7(w8, kt, kh, "Ω", "\\Omega", true), w7(w8, kt, kh, "A", "Α"), w7(w8, kt, kh, "B", "Β"), w7(w8, kt, kh, "E", "Ε"), w7(w8, kt, kh, "Z", "Ζ"), w7(w8, kt, kh, "H", "Η"), w7(w8, kt, kh, "I", "Ι"), w7(w8, kt, kh, "K", "Κ"), w7(w8, kt, kh, "M", "Μ"), w7(w8, kt, kh, "N", "Ν"), w7(w8, kt, kh, "O", "Ο"), w7(w8, kt, kh, "P", "Ρ"), w7(w8, kt, kh, "T", "Τ"), w7(w8, kt, kh, "X", "Χ"), w7(w8, kt, kh, "¬", "\\neg", true), w7(w8, kt, kh, "¬", "\\lnot"), w7(w8, kt, kh, "⊤", "\\top"), w7(w8, kt, kh, "⊥", "\\bot"), w7(w8, kt, kh, "∅", "\\emptyset"), w7(w8, "ams", kh, "∅", "\\varnothing"), w7(w8, kt, kn, "α", "\\alpha", true), w7(w8, kt, kn, "β", "\\beta", true), w7(w8, kt, kn, "γ", "\\gamma", true), w7(w8, kt, kn, "δ", "\\delta", true), w7(w8, kt, kn, "ϵ", "\\epsilon", true), w7(w8, kt, kn, "ζ", "\\zeta", true), w7(w8, kt, kn, "η", "\\eta", true), w7(w8, kt, kn, "θ", "\\theta", true), w7(w8, kt, kn, "ι", "\\iota", true), w7(w8, kt, kn, "κ", "\\kappa", true), w7(w8, kt, kn, "λ", "\\lambda", true), w7(w8, kt, kn, "μ", "\\mu", true), w7(w8, kt, kn, "ν", "\\nu", true), w7(w8, kt, kn, "ξ", "\\xi", true), w7(w8, kt, kn, "ο", "\\omicron", true), w7(w8, kt, kn, "π", "\\pi", true), w7(w8, kt, kn, "ρ", "\\rho", true), w7(w8, kt, kn, "σ", "\\sigma", true), w7(w8, kt, kn, "τ", "\\tau", true), w7(w8, kt, kn, "υ", "\\upsilon", true), w7(w8, kt, kn, "ϕ", "\\phi", true), w7(w8, kt, kn, "χ", "\\chi", true), w7(w8, kt, kn, "ψ", "\\psi", true), w7(w8, kt, kn, "ω", "\\omega", true), w7(w8, kt, kn, "ε", "\\varepsilon", true), w7(w8, kt, kn, "ϑ", "\\vartheta", true), w7(w8, kt, kn, "ϖ", "\\varpi", true), w7(w8, kt, kn, "ϱ", "\\varrho", true), w7(w8, kt, kn, "ς", "\\varsigma", true), w7(w8, kt, kn, "φ", "\\varphi", true), w7(w8, kt, "bin", "∗", "*", true), w7(w8, kt, "bin", "+", "+"), w7(w8, kt, "bin", "−", "-", true), w7(w8, kt, "bin", "⋅", "\\cdot", true), w7(w8, kt, "bin", "∘", "\\circ", true), w7(w8, kt, "bin", "÷", "\\div", true), w7(w8, kt, "bin", "±", "\\pm", true), w7(w8, kt, "bin", "×", "\\times", true), w7(w8, kt, "bin", "∩", "\\cap", true), w7(w8, kt, "bin", "∪", "\\cup", true), w7(w8, kt, "bin", "∖", "\\setminus", true), w7(w8, kt, "bin", "∧", "\\land"), w7(w8, kt, "bin", "∨", "\\lor"), w7(w8, kt, "bin", "∧", "\\wedge", true), w7(w8, kt, "bin", "∨", "\\vee", true), w7(w8, kt, kh, "√", "\\surd"), w7(w8, kt, ko, "⟨", "\\langle", true), w7(w8, kt, ko, "∣", "\\lvert"), w7(w8, kt, ko, "∥", "\\lVert"), w7(w8, kt, kr, "?", "?"), w7(w8, kt, kr, "!", "!"), w7(w8, kt, kr, "⟩", "\\rangle", true), w7(w8, kt, kr, "∣", "\\rvert"), w7(w8, kt, kr, "∥", "\\rVert"), w7(w8, kt, "rel", "=", "="), w7(w8, kt, "rel", ":", ":"), w7(w8, kt, "rel", "≈", "\\approx", true), w7(w8, kt, "rel", "≅", "\\cong", true), w7(w8, kt, "rel", "≥", "\\ge"), w7(w8, kt, "rel", "≥", "\\geq", true), w7(w8, kt, "rel", "←", "\\gets"), w7(w8, kt, "rel", ">", "\\gt", true), w7(w8, kt, "rel", "∈", "\\in", true), w7(w8, kt, "rel", "", "\\@not"), w7(w8, kt, "rel", "⊂", "\\subset", true), w7(w8, kt, "rel", "⊃", "\\supset", true), w7(w8, kt, "rel", "⊆", "\\subseteq", true), w7(w8, kt, "rel", "⊇", "\\supseteq", true), w7(w8, "ams", "rel", "⊈", "\\nsubseteq", true), w7(w8, "ams", "rel", "⊉", "\\nsupseteq", true), w7(w8, kt, "rel", "⊨", "\\models"), w7(w8, kt, "rel", "←", "\\leftarrow", true), w7(w8, kt, "rel", "≤", "\\le"), w7(w8, kt, "rel", "≤", "\\leq", true), w7(w8, kt, "rel", "<", "\\lt", true), w7(w8, kt, "rel", "→", "\\rightarrow", true), w7(w8, kt, "rel", "→", "\\to"), w7(w8, "ams", "rel", "≱", "\\ngeq", true), w7(w8, "ams", "rel", "≰", "\\nleq", true), w7(w8, kt, kl, " ", "\\ "), w7(w8, kt, kl, " ", "\\space"), w7(w8, kt, kl, " ", "\\nobreakspace"), w7(w9, kt, kl, " ", "\\ "), w7(w9, kt, kl, " ", " "), w7(w9, kt, kl, " ", "\\space"), w7(w9, kt, kl, " ", "\\nobreakspace"), w7(w8, kt, kl, null, "\\nobreak"), w7(w8, kt, kl, null, "\\allowbreak"), w7(w8, kt, ks, ",", ","), w7(w8, kt, ks, ";", ";"), w7(w8, "ams", "bin", "⊼", "\\barwedge", true), w7(w8, "ams", "bin", "⊻", "\\veebar", true), w7(w8, kt, "bin", "⊙", "\\odot", true), w7(w8, kt, "bin", "⊕", "\\oplus", true), w7(w8, kt, "bin", "⊗", "\\otimes", true), w7(w8, kt, kh, "∂", "\\partial", true), w7(w8, kt, "bin", "⊘", "\\oslash", true), w7(w8, "ams", "bin", "⊚", "\\circledcirc", true), w7(w8, "ams", "bin", "⊡", "\\boxdot", true), w7(w8, kt, "bin", "△", "\\bigtriangleup"), w7(w8, kt, "bin", "▽", "\\bigtriangledown"), w7(w8, kt, "bin", "†", "\\dagger"), w7(w8, kt, "bin", "⋄", "\\diamond"), w7(w8, kt, "bin", "⋆", "\\star"), w7(w8, kt, "bin", "◃", "\\triangleleft"), w7(w8, kt, "bin", "▹", "\\triangleright"), w7(w8, kt, ko, "{", "\\{"), w7(w9, kt, kh, "{", "\\{"), w7(w9, kt, kh, "{", "\\textbraceleft"), w7(w8, kt, kr, "}", "\\}"), w7(w9, kt, kh, "}", "\\}"), w7(w9, kt, kh, "}", "\\textbraceright"), w7(w8, kt, ko, "{", "\\lbrace"), w7(w8, kt, kr, "}", "\\rbrace"), w7(w8, kt, ko, "[", "\\lbrack", true), w7(w9, kt, kh, "[", "\\lbrack", true), w7(w8, kt, kr, "]", "\\rbrack", true), w7(w9, kt, kh, "]", "\\rbrack", true), w7(w8, kt, ko, "(", "\\lparen", true), w7(w8, kt, kr, ")", "\\rparen", true), w7(w9, kt, kh, "<", "\\textless", true), w7(w9, kt, kh, ">", "\\textgreater", true), w7(w8, kt, ko, "⌊", "\\lfloor", true), w7(w8, kt, kr, "⌋", "\\rfloor", true), w7(w8, kt, ko, "⌈", "\\lceil", true), w7(w8, kt, kr, "⌉", "\\rceil", true), w7(w8, kt, kh, "\\", "\\backslash"), w7(w8, kt, kh, "∣", "|"), w7(w8, kt, kh, "∣", "\\vert"), w7(w9, kt, kh, "|", "\\textbar", true), w7(w8, kt, kh, "∥", "\\|"), w7(w8, kt, kh, "∥", "\\Vert"), w7(w9, kt, kh, "∥", "\\textbardbl"), w7(w9, kt, kh, "~", "\\textasciitilde"), w7(w9, kt, kh, "\\", "\\textbackslash"), w7(w9, kt, kh, "^", "\\textasciicircum"), w7(w8, kt, "rel", "↑", "\\uparrow", true), w7(w8, kt, "rel", "⇑", "\\Uparrow", true), w7(w8, kt, "rel", "↓", "\\downarrow", true), w7(w8, kt, "rel", "⇓", "\\Downarrow", true), w7(w8, kt, "rel", "↕", "\\updownarrow", true), w7(w8, kt, "rel", "⇕", "\\Updownarrow", true), w7(w8, kt, ka, "∐", "\\coprod"), w7(w8, kt, ka, "⋁", "\\bigvee"), w7(w8, kt, ka, "⋀", "\\bigwedge"), w7(w8, kt, ka, "⨄", "\\biguplus"), w7(w8, kt, ka, "⋂", "\\bigcap"), w7(w8, kt, ka, "⋃", "\\bigcup"), w7(w8, kt, ka, "∫", "\\int"), w7(w8, kt, ka, "∫", "\\intop"), w7(w8, kt, ka, "∬", "\\iint"), w7(w8, kt, ka, "∭", "\\iiint"), w7(w8, kt, ka, "∏", "\\prod"), w7(w8, kt, ka, "∑", "\\sum"), w7(w8, kt, ka, "⨂", "\\bigotimes"), w7(w8, kt, ka, "⨁", "\\bigoplus"), w7(w8, kt, ka, "⨀", "\\bigodot"), w7(w8, kt, ka, "∮", "\\oint"), w7(w8, kt, ka, "∯", "\\oiint"), w7(w8, kt, ka, "∰", "\\oiiint"), w7(w8, kt, ka, "⨆", "\\bigsqcup"), w7(w8, kt, ka, "∫", "\\smallint"), w7(w9, kt, ki, "…", "\\textellipsis"), w7(w8, kt, ki, "…", "\\mathellipsis"), w7(w9, kt, ki, "…", "\\ldots", true), w7(w8, kt, ki, "…", "\\ldots", true), w7(w8, kt, ki, "⋯", "\\@cdots", true), w7(w8, kt, ki, "⋱", "\\ddots", true), w7(w8, kt, kh, "⋮", "\\varvdots"), w7(w9, kt, kh, "⋮", "\\varvdots"), w7(w8, kt, ke, "ˊ", "\\acute"), w7(w8, kt, ke, "ˋ", "\\grave"), w7(w8, kt, ke, "¨", "\\ddot"), w7(w8, kt, ke, "~", "\\tilde"), w7(w8, kt, ke, "ˉ", "\\bar"), w7(w8, kt, ke, "˘", "\\breve"), w7(w8, kt, ke, "ˇ", "\\check"), w7(w8, kt, ke, "^", "\\hat"), w7(w8, kt, ke, "⃗", "\\vec"), w7(w8, kt, ke, "˙", "\\dot"), w7(w8, kt, ke, "˚", "\\mathring"), w7(w8, kt, kn, "", "\\@imath"), w7(w8, kt, kn, "", "\\@jmath"), w7(w8, kt, kh, "ı", "ı"), w7(w8, kt, kh, "ȷ", "ȷ"), w7(w9, kt, kh, "ı", "\\i", true), w7(w9, kt, kh, "ȷ", "\\j", true), w7(w9, kt, kh, "ß", "\\ss", true), w7(w9, kt, kh, "æ", "\\ae", true), w7(w9, kt, kh, "œ", "\\oe", true), w7(w9, kt, kh, "ø", "\\o", true), w7(w9, kt, kh, "Æ", "\\AE", true), w7(w9, kt, kh, "Œ", "\\OE", true), w7(w9, kt, kh, "Ø", "\\O", true), w7(w9, kt, ke, "ˊ", "\\'"), w7(w9, kt, ke, "ˋ", "\\`"), w7(w9, kt, ke, "ˆ", "\\^"), w7(w9, kt, ke, "˜", "\\~"), w7(w9, kt, ke, "ˉ", "\\="), w7(w9, kt, ke, "˘", "\\u"), w7(w9, kt, ke, "˙", "\\."), w7(w9, kt, ke, "¸", "\\c"), w7(w9, kt, ke, "˚", "\\r"), w7(w9, kt, ke, "ˇ", "\\v"), w7(w9, kt, ke, "¨", '\\"'), w7(w9, kt, ke, "˝", "\\H"), w7(w9, kt, ke, "◯", "\\textcircled");
var kc = { "--": true, "---": true, "``": true, "''": true };
w7(w9, kt, kh, "–", "--", true), w7(w9, kt, kh, "–", "\\textendash"), w7(w9, kt, kh, "—", "---", true), w7(w9, kt, kh, "—", "\\textemdash"), w7(w9, kt, kh, "‘", "`", true), w7(w9, kt, kh, "‘", "\\textquoteleft"), w7(w9, kt, kh, "’", "'", true), w7(w9, kt, kh, "’", "\\textquoteright"), w7(w9, kt, kh, "“", "``", true), w7(w9, kt, kh, "“", "\\textquotedblleft"), w7(w9, kt, kh, "”", "''", true), w7(w9, kt, kh, "”", "\\textquotedblright"), w7(w8, kt, kh, "°", "\\degree", true), w7(w9, kt, kh, "°", "\\degree"), w7(w9, kt, kh, "°", "\\textdegree", true), w7(w8, kt, kh, "£", "\\pounds"), w7(w8, kt, kh, "£", "\\mathsterling", true), w7(w9, kt, kh, "£", "\\pounds"), w7(w9, kt, kh, "£", "\\textsterling", true), w7(w8, "ams", kh, "✠", "\\maltese"), w7(w9, "ams", kh, "✠", "\\maltese");
for (var ku = '0123456789/@."', kd = 0; kd < ku.length; kd++) {
  var kp = ku.charAt(kd);
  w7(w8, kt, kh, kp, kp);
}
for (var kg = '0123456789!@*()-=+";:?/.,', kf = 0; kf < kg.length; kf++) {
  var km = kg.charAt(kf);
  w7(w9, kt, kh, km, km);
}
for (var ky = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz", kv = 0; kv < ky.length; kv++) {
  var kx = ky.charAt(kv);
  w7(w8, kt, kn, kx, kx), w7(w9, kt, kh, kx, kx);
}
w7(w8, "ams", kh, "C", "ℂ"), w7(w9, "ams", kh, "C", "ℂ"), w7(w8, "ams", kh, "H", "ℍ"), w7(w9, "ams", kh, "H", "ℍ"), w7(w8, "ams", kh, "N", "ℕ"), w7(w9, "ams", kh, "N", "ℕ"), w7(w8, "ams", kh, "P", "ℙ"), w7(w9, "ams", kh, "P", "ℙ"), w7(w8, "ams", kh, "Q", "ℚ"), w7(w9, "ams", kh, "Q", "ℚ"), w7(w8, "ams", kh, "R", "ℝ"), w7(w9, "ams", kh, "R", "ℝ"), w7(w8, "ams", kh, "Z", "ℤ"), w7(w9, "ams", kh, "Z", "ℤ"), w7(w8, kt, kn, "h", "ℎ"), w7(w9, kt, kn, "h", "ℎ");
for (var kb = "", kw = 0; kw < ky.length; kw++) {
  var kk = ky.charAt(kw);
  w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56320 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56372 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56424 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56580 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56684 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56736 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56788 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56840 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56944 + kw)), w7(w9, kt, kh, kk, kb), kw < 26 && (w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56632 + kw)), w7(w9, kt, kh, kk, kb), w7(w8, kt, kn, kk, kb = String.fromCharCode(55349, 56476 + kw)), w7(w9, kt, kh, kk, kb));
}
w7(w8, kt, kn, "k", kb = String.fromCharCode(55349, 56668)), w7(w9, kt, kh, "k", kb);
for (var k_ = 0; k_ < 10; k_++) {
  var kT = k_.toString();
  w7(w8, kt, kn, kT, kb = String.fromCharCode(55349, 57294 + k_)), w7(w9, kt, kh, kT, kb), w7(w8, kt, kn, kT, kb = String.fromCharCode(55349, 57314 + k_)), w7(w9, kt, kh, kT, kb), w7(w8, kt, kn, kT, kb = String.fromCharCode(55349, 57324 + k_)), w7(w9, kt, kh, kT, kb), w7(w8, kt, kn, kT, kb = String.fromCharCode(55349, 57334 + k_)), w7(w9, kt, kh, kT, kb);
}
for (var kE = "ÐÞþ", kC = 0; kC < kE.length; kC++) {
  var kS = kE.charAt(kC);
  w7(w8, kt, kn, kS, kS), w7(w9, kt, kh, kS, kS);
}
var kA = [["mathbf", "textbf", "Main-Bold"], ["mathbf", "textbf", "Main-Bold"], ["mathnormal", "textit", "Math-Italic"], ["mathnormal", "textit", "Math-Italic"], ["boldsymbol", "boldsymbol", "Main-BoldItalic"], ["boldsymbol", "boldsymbol", "Main-BoldItalic"], ["mathscr", "textscr", "Script-Regular"], ["", "", ""], ["", "", ""], ["", "", ""], ["mathfrak", "textfrak", "Fraktur-Regular"], ["mathfrak", "textfrak", "Fraktur-Regular"], ["mathbb", "textbb", "AMS-Regular"], ["mathbb", "textbb", "AMS-Regular"], ["mathboldfrak", "textboldfrak", "Fraktur-Regular"], ["mathboldfrak", "textboldfrak", "Fraktur-Regular"], ["mathsf", "textsf", "SansSerif-Regular"], ["mathsf", "textsf", "SansSerif-Regular"], ["mathboldsf", "textboldsf", "SansSerif-Bold"], ["mathboldsf", "textboldsf", "SansSerif-Bold"], ["mathitsf", "textitsf", "SansSerif-Italic"], ["mathitsf", "textitsf", "SansSerif-Italic"], ["", "", ""], ["", "", ""], ["mathtt", "texttt", "Typewriter-Regular"], ["mathtt", "texttt", "Typewriter-Regular"]], kL = [["mathbf", "textbf", "Main-Bold"], ["", "", ""], ["mathsf", "textsf", "SansSerif-Regular"], ["mathboldsf", "textboldsf", "SansSerif-Bold"], ["mathtt", "texttt", "Typewriter-Regular"]], kN = function(t33, e10) {
  var r10 = (t33.charCodeAt(0) - 55296) * 1024 + (t33.charCodeAt(1) - 56320) + 65536, i10 = "math" === e10 ? 0 : 1;
  if (119808 <= r10 && r10 < 120484) {
    var n10 = Math.floor((r10 - 119808) / 26);
    return [kA[n10][2], kA[n10][i10]];
  }
  if (120782 <= r10 && r10 <= 120831) {
    var a10 = Math.floor((r10 - 120782) / 10);
    return [kL[a10][2], kL[a10][i10]];
  }
  if (120485 === r10 || 120486 === r10) return [kA[0][2], kA[0][i10]];
  if (120486 < r10 && r10 < 120782) return ["", ""];
  throw new wn("Unsupported character: " + t33);
}, kI = function(t33, e10, r10) {
  return w6[r10][t33] && w6[r10][t33].replace && (t33 = w6[r10][t33].replace), { value: t33, metrics: wD(t33, e10, r10) };
}, kM = function(t33, e10, r10, i10, n10) {
  var a10, o10 = kI(t33, e10, r10), s10 = o10.metrics;
  if (t33 = o10.value, s10) {
    var l10 = s10.italic;
    ("text" === r10 || i10 && "mathit" === i10.font) && (l10 = 0), a10 = new wJ(t33, s10.height, s10.depth, l10, s10.skew, s10.width, n10);
  } else "undefined" != typeof console && console.warn("No character metrics " + ("for '" + t33 + "' in style '" + e10) + "' and mode '" + r10 + "'"), a10 = new wJ(t33, 0, 0, 0, 0, 0, n10);
  if (i10) {
    a10.maxFontSize = i10.sizeMultiplier, i10.style.isTight() && a10.classes.push("mtight");
    var h10 = i10.getColor();
    h10 && (a10.style.color = h10);
  }
  return a10;
}, kR = (t33, e10) => {
  if (wH(t33.classes) !== wH(e10.classes) || t33.skew !== e10.skew || t33.maxFontSize !== e10.maxFontSize) return false;
  if (1 === t33.classes.length) {
    var r10 = t33.classes[0];
    if ("mbin" === r10 || "mord" === r10) return false;
  }
  for (var i10 in t33.style) if (t33.style.hasOwnProperty(i10) && t33.style[i10] !== e10.style[i10]) return false;
  for (var n10 in e10.style) if (e10.style.hasOwnProperty(n10) && t33.style[n10] !== e10.style[n10]) return false;
  return true;
}, kD = function(t33) {
  for (var e10 = 0, r10 = 0, i10 = 0, n10 = 0; n10 < t33.children.length; n10++) {
    var a10 = t33.children[n10];
    a10.height > e10 && (e10 = a10.height), a10.depth > r10 && (r10 = a10.depth), a10.maxFontSize > i10 && (i10 = a10.maxFontSize);
  }
  t33.height = e10, t33.depth = r10, t33.maxFontSize = i10;
}, kO = function(t33, e10, r10, i10) {
  var n10 = new wX(t33, e10, r10, i10);
  return kD(n10), n10;
}, kP = (t33, e10, r10, i10) => new wX(t33, e10, r10, i10), k$ = function(t33) {
  var e10 = new wL(t33);
  return kD(e10), e10;
}, kB = function(t33) {
  if ("individualShift" === t33.positionType) {
    for (var e10, r10 = t33.children, i10 = [r10[0]], n10 = -r10[0].shift - r10[0].elem.depth, a10 = n10, o10 = 1; o10 < r10.length; o10++) {
      var s10 = -r10[o10].shift - a10 - r10[o10].elem.depth, l10 = s10 - (r10[o10 - 1].elem.height + r10[o10 - 1].elem.depth);
      a10 += s10, i10.push({ type: "kern", size: l10 }), i10.push(r10[o10]);
    }
    return { children: i10, depth: n10 };
  }
  if ("top" === t33.positionType) {
    for (var h10 = t33.positionData, u10 = 0; u10 < t33.children.length; u10++) {
      var d10 = t33.children[u10];
      h10 -= "kern" === d10.type ? d10.size : d10.elem.height + d10.elem.depth;
    }
    e10 = h10;
  } else if ("bottom" === t33.positionType) e10 = -t33.positionData;
  else {
    var p10 = t33.children[0];
    if ("elem" !== p10.type) throw Error('First child must have type "elem".');
    if ("shift" === t33.positionType) e10 = -p10.elem.depth - t33.positionData;
    else if ("firstBaseline" === t33.positionType) e10 = -p10.elem.depth;
    else throw Error("Invalid positionType " + t33.positionType + ".");
  }
  return { children: t33.children, depth: e10 };
}, kF = function(t33, e10, r10) {
  var i10 = "";
  switch (t33) {
    case "amsrm":
      i10 = "AMS";
      break;
    case "textrm":
      i10 = "Main";
      break;
    case "textsf":
      i10 = "SansSerif";
      break;
    case "texttt":
      i10 = "Typewriter";
      break;
    default:
      i10 = t33;
  }
  return i10 + "-" + ("textbf" === e10 && "textit" === r10 ? "BoldItalic" : "textbf" === e10 ? "Bold" : "textit" === e10 ? "Italic" : "Regular");
}, kz = { mathbf: { variant: "bold", fontName: "Main-Bold" }, mathrm: { variant: "normal", fontName: "Main-Regular" }, textit: { variant: "italic", fontName: "Main-Italic" }, mathit: { variant: "italic", fontName: "Main-Italic" }, mathnormal: { variant: "italic", fontName: "Math-Italic" }, mathsfit: { variant: "sans-serif-italic", fontName: "SansSerif-Italic" }, mathbb: { variant: "double-struck", fontName: "AMS-Regular" }, mathcal: { variant: "script", fontName: "Caligraphic-Regular" }, mathfrak: { variant: "fraktur", fontName: "Fraktur-Regular" }, mathscr: { variant: "script", fontName: "Script-Regular" }, mathsf: { variant: "sans-serif", fontName: "SansSerif-Regular" }, mathtt: { variant: "monospace", fontName: "Typewriter-Regular" } }, kU = { vec: ["vec", 0.471, 0.714], oiintSize1: ["oiintSize1", 0.957, 0.499], oiintSize2: ["oiintSize2", 1.472, 0.659], oiiintSize1: ["oiiintSize1", 1.304, 0.499], oiiintSize2: ["oiiintSize2", 1.98, 0.659] }, kG = { fontMap: kz, makeSymbol: kM, mathsym: function(t33, e10, r10, i10) {
  return (void 0 === i10 && (i10 = []), "boldsymbol" === r10.font && kI(t33, "Main-Bold", e10).metrics) ? kM(t33, "Main-Bold", e10, r10, i10.concat(["mathbf"])) : "\\" === t33 || "main" === w6[e10][t33].font ? kM(t33, "Main-Regular", e10, r10, i10) : kM(t33, "AMS-Regular", e10, r10, i10.concat(["amsrm"]));
}, makeSpan: kO, makeSvgSpan: kP, makeLineSpan: function(t33, e10, r10) {
  var i10 = kO([t33], [], e10);
  return i10.height = Math.max(r10 || e10.fontMetrics().defaultRuleThickness, e10.minRuleThickness), i10.style.borderBottomWidth = wY(i10.height), i10.maxFontSize = 1, i10;
}, makeAnchor: function(t33, e10, r10, i10) {
  var n10 = new wK(t33, e10, r10, i10);
  return kD(n10), n10;
}, makeFragment: k$, wrapFragment: function(t33, e10) {
  return t33 instanceof wL ? kO([], [t33], e10) : t33;
}, makeVList: function(t33, e10) {
  for (var r10, { children: i10, depth: n10 } = kB(t33), a10 = 0, o10 = 0; o10 < i10.length; o10++) {
    var s10 = i10[o10];
    if ("elem" === s10.type) {
      var l10 = s10.elem;
      a10 = Math.max(a10, l10.maxFontSize, l10.height);
    }
  }
  a10 += 2;
  var h10 = kO(["pstrut"], []);
  h10.style.height = wY(a10);
  for (var u10 = [], d10 = n10, p10 = n10, g10 = n10, f10 = 0; f10 < i10.length; f10++) {
    var y10 = i10[f10];
    if ("kern" === y10.type) g10 += y10.size;
    else {
      var v10 = y10.elem, x10 = kO(y10.wrapperClasses || [], [h10, v10], void 0, y10.wrapperStyle || {});
      x10.style.top = wY(-a10 - g10 - v10.depth), y10.marginLeft && (x10.style.marginLeft = y10.marginLeft), y10.marginRight && (x10.style.marginRight = y10.marginRight), u10.push(x10), g10 += v10.height + v10.depth;
    }
    d10 = Math.min(d10, g10), p10 = Math.max(p10, g10);
  }
  var b10 = kO(["vlist"], u10);
  if (b10.style.height = wY(p10), d10 < 0) {
    var w10 = kO([], []), k10 = kO(["vlist"], [w10]);
    k10.style.height = wY(-d10);
    var _10 = kO(["vlist-s"], [new wJ("​")]);
    r10 = [kO(["vlist-r"], [b10, _10]), kO(["vlist-r"], [k10])];
  } else r10 = [kO(["vlist-r"], [b10])];
  var T10 = kO(["vlist-t"], r10);
  return 2 === r10.length && T10.classes.push("vlist-t2"), T10.height = p10, T10.depth = -d10, T10;
}, makeOrd: function(t33, e10, r10) {
  var i10 = t33.mode, n10 = t33.text, a10 = ["mord"], o10 = "math" === i10 || "text" === i10 && e10.font, s10 = o10 ? e10.font : e10.fontFamily, l10 = "", h10 = "";
  if (55349 === n10.charCodeAt(0) && ([l10, h10] = kN(n10, i10)), l10.length > 0) return kM(n10, l10, i10, e10, a10.concat(h10));
  if (s10) {
    if ("boldsymbol" === s10) {
      var u10, d10, p10 = "textord" !== r10 && kI(n10, "Math-BoldItalic", i10).metrics ? { fontName: "Math-BoldItalic", fontClass: "boldsymbol" } : { fontName: "Main-Bold", fontClass: "mathbf" };
      u10 = p10.fontName, d10 = [p10.fontClass];
    } else o10 ? (u10 = kz[s10].fontName, d10 = [s10]) : (u10 = kF(s10, e10.fontWeight, e10.fontShape), d10 = [s10, e10.fontWeight, e10.fontShape]);
    if (kI(n10, u10, i10).metrics) return kM(n10, u10, i10, e10, a10.concat(d10));
    if (kc.hasOwnProperty(n10) && "Typewriter" === u10.slice(0, 10)) {
      for (var g10 = [], f10 = 0; f10 < n10.length; f10++) g10.push(kM(n10[f10], u10, i10, e10, a10.concat(d10)));
      return k$(g10);
    }
  }
  if ("mathord" === r10) return kM(n10, "Math-Italic", i10, e10, a10.concat(["mathnormal"]));
  if ("textord" === r10) {
    var y10 = w6[i10][n10] && w6[i10][n10].font;
    if ("ams" === y10) return kM(n10, kF("amsrm", e10.fontWeight, e10.fontShape), i10, e10, a10.concat("amsrm", e10.fontWeight, e10.fontShape));
    if ("main" === y10 || !y10) return kM(n10, kF("textrm", e10.fontWeight, e10.fontShape), i10, e10, a10.concat(e10.fontWeight, e10.fontShape));
    var v10 = kF(y10, e10.fontWeight, e10.fontShape);
    return kM(n10, v10, i10, e10, a10.concat(v10, e10.fontWeight, e10.fontShape));
  }
  throw Error("unexpected type: " + r10 + " in makeOrd");
}, makeGlue: (t33, e10) => {
  var r10 = kO(["mspace"], [], e10), i10 = wq(t33, e10);
  return r10.style.marginRight = wY(i10), r10;
}, staticSvg: function(t33, e10) {
  var [r10, i10, n10] = kU[t33], a10 = kP(["overlay"], [new w0([new w1(r10)], { width: wY(i10), height: wY(n10), style: "width:" + wY(i10), viewBox: "0 0 " + 1e3 * i10 + " " + 1e3 * n10, preserveAspectRatio: "xMinYMin" })], e10);
  return a10.height = n10, a10.style.height = wY(n10), a10.style.width = wY(i10), a10;
}, svgData: kU, tryCombineChars: (t33) => {
  for (var e10 = 0; e10 < t33.length - 1; e10++) {
    var r10 = t33[e10], i10 = t33[e10 + 1];
    r10 instanceof wJ && i10 instanceof wJ && kR(r10, i10) && (r10.text += i10.text, r10.height = Math.max(r10.height, i10.height), r10.depth = Math.max(r10.depth, i10.depth), r10.italic = i10.italic, t33.splice(e10 + 1, 1), e10--);
  }
  return t33;
} }, kq = { number: 3, unit: "mu" }, kY = { number: 4, unit: "mu" }, kH = { number: 5, unit: "mu" }, kj = { mord: { mop: kq, mbin: kY, mrel: kH, minner: kq }, mop: { mord: kq, mop: kq, mrel: kH, minner: kq }, mbin: { mord: kY, mop: kY, mopen: kY, minner: kY }, mrel: { mord: kH, mop: kH, mopen: kH, minner: kH }, mopen: {}, mclose: { mop: kq, mbin: kY, mrel: kH, minner: kq }, mpunct: { mord: kq, mop: kq, mrel: kH, mopen: kq, mclose: kq, mpunct: kq, minner: kq }, minner: { mord: kq, mop: kq, mbin: kY, mrel: kH, mopen: kq, mpunct: kq, minner: kq } }, kW = { mord: { mop: kq }, mop: { mord: kq, mop: kq }, mbin: {}, mrel: {}, mopen: {}, mclose: { mop: kq }, mpunct: {}, minner: { mop: kq } }, kV = {}, kX = {}, kK = {};
function kZ(t33) {
  for (var { type: e10, names: r10, props: i10, handler: n10, htmlBuilder: a10, mathmlBuilder: o10 } = t33, s10 = { type: e10, numArgs: i10.numArgs, argTypes: i10.argTypes, allowedInArgument: !!i10.allowedInArgument, allowedInText: !!i10.allowedInText, allowedInMath: void 0 === i10.allowedInMath || i10.allowedInMath, numOptionalArgs: i10.numOptionalArgs || 0, infix: !!i10.infix, primitive: !!i10.primitive, handler: n10 }, l10 = 0; l10 < r10.length; ++l10) kV[r10[l10]] = s10;
  e10 && (a10 && (kX[e10] = a10), o10 && (kK[e10] = o10));
}
function kQ(t33) {
  var { type: e10, htmlBuilder: r10, mathmlBuilder: i10 } = t33;
  kZ({ type: e10, names: [], props: { numArgs: 0 }, handler() {
    throw Error("Should never be called.");
  }, htmlBuilder: r10, mathmlBuilder: i10 });
}
var kJ = function(t33) {
  return "ordgroup" === t33.type && 1 === t33.body.length ? t33.body[0] : t33;
}, k0 = function(t33) {
  return "ordgroup" === t33.type ? t33.body : [t33];
}, k1 = kG.makeSpan, k2 = ["leftmost", "mbin", "mopen", "mrel", "mop", "mpunct"], k4 = ["rightmost", "mrel", "mclose", "mpunct"], k5 = { display: ww.DISPLAY, text: ww.TEXT, script: ww.SCRIPT, scriptscript: ww.SCRIPTSCRIPT }, k3 = { mord: "mord", mop: "mop", mbin: "mbin", mrel: "mrel", mopen: "mopen", mclose: "mclose", mpunct: "mpunct", minner: "minner" }, k6 = function(t33, e10, r10, i10) {
  void 0 === i10 && (i10 = [null, null]);
  for (var n10 = [], a10 = 0; a10 < t33.length; a10++) {
    var o10 = _r(t33[a10], e10);
    if (o10 instanceof wL) {
      var s10 = o10.children;
      n10.push(...s10);
    } else n10.push(o10);
  }
  if (kG.tryCombineChars(n10), !r10) return n10;
  var l10 = e10;
  if (1 === t33.length) {
    var h10 = t33[0];
    "sizing" === h10.type ? l10 = e10.havingSize(h10.size) : "styling" === h10.type && (l10 = e10.havingStyle(k5[h10.style]));
  }
  var u10 = k1([i10[0] || "leftmost"], [], e10), d10 = k1([i10[1] || "rightmost"], [], e10), p10 = "root" === r10;
  return k7(n10, (t34, e11) => {
    var r11 = e11.classes[0], i11 = t34.classes[0];
    "mbin" === r11 && wc.contains(k4, i11) ? e11.classes[0] = "mord" : "mbin" === i11 && wc.contains(k2, r11) && (t34.classes[0] = "mord");
  }, { node: u10 }, d10, p10), k7(n10, (t34, e11) => {
    var r11 = _t(e11), i11 = _t(t34), n11 = r11 && i11 ? t34.hasClass("mtight") ? kW[r11][i11] : kj[r11][i11] : null;
    if (n11) return kG.makeGlue(n11, l10);
  }, { node: u10 }, d10, p10), n10;
}, k7 = function t20(e10, r10, i10, n10, a10) {
  n10 && e10.push(n10);
  for (var o10 = 0; o10 < e10.length; o10++) {
    let n11;
    var s10 = e10[o10], l10 = k8(s10);
    if (l10) {
      t20(l10.children, r10, i10, null, a10);
      continue;
    }
    var h10 = !s10.hasClass("mspace");
    if (h10) {
      var u10 = r10(s10, i10.node);
      u10 && (i10.insertAfter ? i10.insertAfter(u10) : (e10.unshift(u10), o10++));
    }
    h10 ? i10.node = s10 : a10 && s10.hasClass("newline") && (i10.node = k1(["leftmost"])), i10.insertAfter = (n11 = o10, (t33) => {
      e10.splice(n11 + 1, 0, t33), o10++;
    });
  }
  n10 && e10.pop();
}, k8 = function(t33) {
  return t33 instanceof wL || t33 instanceof wK || t33 instanceof wX && t33.hasClass("enclosing") ? t33 : null;
}, k9 = function t21(e10, r10) {
  var i10 = k8(e10);
  if (i10) {
    var n10 = i10.children;
    if (n10.length) {
      if ("right" === r10) return t21(n10[n10.length - 1], "right");
      if ("left" === r10) return t21(n10[0], "left");
    }
  }
  return e10;
}, _t = function(t33, e10) {
  return t33 ? (e10 && (t33 = k9(t33, e10)), k3[t33.classes[0]] || null) : null;
}, _e = function(t33, e10) {
  var r10 = ["nulldelimiter"].concat(t33.baseSizingClasses());
  return k1(e10.concat(r10));
}, _r = function(t33, e10, r10) {
  if (!t33) return k1();
  if (kX[t33.type]) {
    var i10 = kX[t33.type](t33, e10);
    if (r10 && e10.size !== r10.size) {
      i10 = k1(e10.sizingClasses(r10), [i10], e10);
      var n10 = e10.sizeMultiplier / r10.sizeMultiplier;
      i10.height *= n10, i10.depth *= n10;
    }
    return i10;
  }
  throw new wn("Got group of unknown type: '" + t33.type + "'");
};
function _i2(t33, e10) {
  var r10 = k1(["base"], t33, e10), i10 = k1(["strut"]);
  return i10.style.height = wY(r10.height + r10.depth), r10.depth && (i10.style.verticalAlign = wY(-r10.depth)), r10.children.unshift(i10), r10;
}
function _n(t33, e10) {
  var r10, i10, n10 = null;
  1 === t33.length && "tag" === t33[0].type && (n10 = t33[0].tag, t33 = t33[0].body);
  var a10 = k6(t33, e10, "root");
  2 === a10.length && a10[1].hasClass("tag") && (r10 = a10.pop());
  for (var o10 = [], s10 = [], l10 = 0; l10 < a10.length; l10++) if (s10.push(a10[l10]), a10[l10].hasClass("mbin") || a10[l10].hasClass("mrel") || a10[l10].hasClass("allowbreak")) {
    for (var h10 = false; l10 < a10.length - 1 && a10[l10 + 1].hasClass("mspace") && !a10[l10 + 1].hasClass("newline"); ) l10++, s10.push(a10[l10]), a10[l10].hasClass("nobreak") && (h10 = true);
    h10 || (o10.push(_i2(s10, e10)), s10 = []);
  } else a10[l10].hasClass("newline") && (s10.pop(), s10.length > 0 && (o10.push(_i2(s10, e10)), s10 = []), o10.push(a10[l10]));
  s10.length > 0 && o10.push(_i2(s10, e10)), n10 ? ((i10 = _i2(k6(n10, e10, true))).classes = ["tag"], o10.push(i10)) : r10 && o10.push(r10);
  var u10 = k1(["katex-html"], o10);
  if (u10.setAttribute("aria-hidden", "true"), i10) {
    var d10 = i10.children[0];
    d10.style.height = wY(u10.height + u10.depth), u10.depth && (d10.style.verticalAlign = wY(-u10.depth));
  }
  return u10;
}
function _a(t33) {
  return new wL(t33);
}
class _o {
  constructor(t33, e10, r10) {
    this.type = void 0, this.attributes = void 0, this.children = void 0, this.classes = void 0, this.type = t33, this.attributes = {}, this.children = e10 || [], this.classes = r10 || [];
  }
  setAttribute(t33, e10) {
    this.attributes[t33] = e10;
  }
  getAttribute(t33) {
    return this.attributes[t33];
  }
  toNode() {
    var t33 = document.createElementNS("http://www.w3.org/1998/Math/MathML", this.type);
    for (var e10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, e10) && t33.setAttribute(e10, this.attributes[e10]);
    this.classes.length > 0 && (t33.className = wH(this.classes));
    for (var r10 = 0; r10 < this.children.length; r10++) if (this.children[r10] instanceof _s && this.children[r10 + 1] instanceof _s) {
      for (var i10 = this.children[r10].toText() + this.children[++r10].toText(); this.children[r10 + 1] instanceof _s; ) i10 += this.children[++r10].toText();
      t33.appendChild(new _s(i10).toNode());
    } else t33.appendChild(this.children[r10].toNode());
    return t33;
  }
  toMarkup() {
    var t33 = "<" + this.type;
    for (var e10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, e10) && (t33 += " " + e10 + '="', t33 += wc.escape(this.attributes[e10]), t33 += '"');
    this.classes.length > 0 && (t33 += ' class ="' + wc.escape(wH(this.classes)) + '"'), t33 += ">";
    for (var r10 = 0; r10 < this.children.length; r10++) t33 += this.children[r10].toMarkup();
    return t33 + ("</" + this.type) + ">";
  }
  toText() {
    return this.children.map((t33) => t33.toText()).join("");
  }
}
class _s {
  constructor(t33) {
    this.text = void 0, this.text = t33;
  }
  toNode() {
    return document.createTextNode(this.text);
  }
  toMarkup() {
    return wc.escape(this.toText());
  }
  toText() {
    return this.text;
  }
}
var _l = { MathNode: _o, TextNode: _s, SpaceNode: class {
  constructor(t33) {
    this.width = void 0, this.character = void 0, this.width = t33, t33 >= 0.05555 && t33 <= 0.05556 ? this.character = " " : t33 >= 0.1666 && t33 <= 0.1667 ? this.character = " " : t33 >= 0.2222 && t33 <= 0.2223 ? this.character = " " : t33 >= 0.2777 && t33 <= 0.2778 ? this.character = "  " : t33 >= -0.05556 && t33 <= -0.05555 ? this.character = " ⁣" : t33 >= -0.1667 && t33 <= -0.1666 ? this.character = " ⁣" : t33 >= -0.2223 && t33 <= -0.2222 ? this.character = " ⁣" : t33 >= -0.2778 && t33 <= -0.2777 ? this.character = " ⁣" : this.character = null;
  }
  toNode() {
    if (this.character) return document.createTextNode(this.character);
    var t33 = document.createElementNS("http://www.w3.org/1998/Math/MathML", "mspace");
    return t33.setAttribute("width", wY(this.width)), t33;
  }
  toMarkup() {
    return this.character ? "<mtext>" + this.character + "</mtext>" : '<mspace width="' + wY(this.width) + '"/>';
  }
  toText() {
    return this.character ? this.character : " ";
  }
}, newDocumentFragment: _a }, _h = function(t33, e10, r10) {
  return w6[e10][t33] && w6[e10][t33].replace && 55349 !== t33.charCodeAt(0) && !(kc.hasOwnProperty(t33) && r10 && (r10.fontFamily && "tt" === r10.fontFamily.slice(4, 6) || r10.font && "tt" === r10.font.slice(4, 6))) && (t33 = w6[e10][t33].replace), new _l.TextNode(t33);
}, _c = function(t33) {
  return 1 === t33.length ? t33[0] : new _l.MathNode("mrow", t33);
}, _u = function(t33, e10) {
  if ("texttt" === e10.fontFamily) return "monospace";
  if ("textsf" === e10.fontFamily) return "textit" === e10.fontShape && "textbf" === e10.fontWeight ? "sans-serif-bold-italic" : "textit" === e10.fontShape ? "sans-serif-italic" : "textbf" === e10.fontWeight ? "bold-sans-serif" : "sans-serif";
  if ("textit" === e10.fontShape && "textbf" === e10.fontWeight) return "bold-italic";
  if ("textit" === e10.fontShape) return "italic";
  if ("textbf" === e10.fontWeight) return "bold";
  var r10 = e10.font;
  if (!r10 || "mathnormal" === r10) return null;
  var i10 = t33.mode;
  if ("mathit" === r10) return "italic";
  if ("boldsymbol" === r10) return "textord" === t33.type ? "bold" : "bold-italic";
  if ("mathbf" === r10) return "bold";
  if ("mathbb" === r10) return "double-struck";
  if ("mathsfit" === r10) return "sans-serif-italic";
  if ("mathfrak" === r10) return "fraktur";
  if ("mathscr" === r10 || "mathcal" === r10) return "script";
  else if ("mathsf" === r10) return "sans-serif";
  else if ("mathtt" === r10) return "monospace";
  var n10 = t33.text;
  return wc.contains(["\\imath", "\\jmath"], n10) ? null : (w6[i10][n10] && w6[i10][n10].replace && (n10 = w6[i10][n10].replace), wD(n10, kG.fontMap[r10].fontName, i10)) ? kG.fontMap[r10].variant : null;
};
function _d(t33) {
  if (!t33) return false;
  if ("mi" === t33.type && 1 === t33.children.length) {
    var e10 = t33.children[0];
    return e10 instanceof _s && "." === e10.text;
  }
  if ("mo" !== t33.type || 1 !== t33.children.length || "true" !== t33.getAttribute("separator") || "0em" !== t33.getAttribute("lspace") || "0em" !== t33.getAttribute("rspace")) return false;
  var r10 = t33.children[0];
  return r10 instanceof _s && "," === r10.text;
}
var _p = function(t33, e10, r10) {
  if (1 === t33.length) {
    var i10, n10 = _f(t33[0], e10);
    return r10 && n10 instanceof _o && "mo" === n10.type && (n10.setAttribute("lspace", "0em"), n10.setAttribute("rspace", "0em")), [n10];
  }
  for (var a10 = [], o10 = 0; o10 < t33.length; o10++) {
    var s10 = _f(t33[o10], e10);
    if (s10 instanceof _o && i10 instanceof _o) {
      if ("mtext" === s10.type && "mtext" === i10.type && s10.getAttribute("mathvariant") === i10.getAttribute("mathvariant") || "mn" === s10.type && "mn" === i10.type) {
        i10.children.push(...s10.children);
        continue;
      }
      if (_d(s10) && "mn" === i10.type) {
        i10.children.push(...s10.children);
        continue;
      }
      if ("mn" === s10.type && _d(i10)) s10.children = [...i10.children, ...s10.children], a10.pop();
      else if (("msup" === s10.type || "msub" === s10.type) && s10.children.length >= 1 && ("mn" === i10.type || _d(i10))) {
        var l10 = s10.children[0];
        l10 instanceof _o && "mn" === l10.type && (l10.children = [...i10.children, ...l10.children], a10.pop());
      } else if ("mi" === i10.type && 1 === i10.children.length) {
        var h10 = i10.children[0];
        if (h10 instanceof _s && "̸" === h10.text && ("mo" === s10.type || "mi" === s10.type || "mn" === s10.type)) {
          var u10 = s10.children[0];
          u10 instanceof _s && u10.text.length > 0 && (u10.text = u10.text.slice(0, 1) + "̸" + u10.text.slice(1), a10.pop());
        }
      }
    }
    a10.push(s10), i10 = s10;
  }
  return a10;
}, _g = function(t33, e10, r10) {
  return _c(_p(t33, e10, r10));
}, _f = function(t33, e10) {
  if (!t33) return new _l.MathNode("mrow");
  if (kK[t33.type]) return kK[t33.type](t33, e10);
  throw new wn("Got group of unknown type: '" + t33.type + "'");
};
function _m(t33, e10, r10, i10, n10) {
  var a10, o10 = _p(t33, r10);
  a10 = 1 === o10.length && o10[0] instanceof _o && wc.contains(["mrow", "mtable"], o10[0].type) ? o10[0] : new _l.MathNode("mrow", o10);
  var s10 = new _l.MathNode("annotation", [new _l.TextNode(e10)]);
  s10.setAttribute("encoding", "application/x-tex");
  var l10 = new _l.MathNode("semantics", [a10, s10]), h10 = new _l.MathNode("math", [l10]);
  return h10.setAttribute("xmlns", "http://www.w3.org/1998/Math/MathML"), i10 && h10.setAttribute("display", "block"), kG.makeSpan([n10 ? "katex" : "katex-mathml"], [h10]);
}
var _y = function(t33) {
  return new wF({ style: t33.displayMode ? ww.DISPLAY : ww.TEXT, maxSize: t33.maxSize, minRuleThickness: t33.minRuleThickness });
}, _v = function(t33, e10) {
  if (e10.displayMode) {
    var r10 = ["katex-display"];
    e10.leqno && r10.push("leqno"), e10.fleqn && r10.push("fleqn"), t33 = kG.makeSpan(r10, [t33]);
  }
  return t33;
}, _x = function(t33, e10, r10) {
  var i10, n10 = _y(r10);
  if ("mathml" === r10.output) return _m(t33, e10, n10, r10.displayMode, true);
  if ("html" === r10.output) {
    var a10 = _n(t33, n10);
    i10 = kG.makeSpan(["katex"], [a10]);
  } else {
    var o10 = _m(t33, e10, n10, r10.displayMode, false), s10 = _n(t33, n10);
    i10 = kG.makeSpan(["katex"], [o10, s10]);
  }
  return _v(i10, r10);
}, _b = function(t33, e10, r10) {
  var i10 = _n(t33, _y(r10));
  return _v(kG.makeSpan(["katex"], [i10]), r10);
}, _w = { widehat: "^", widecheck: "ˇ", widetilde: "~", utilde: "~", overleftarrow: "←", underleftarrow: "←", xleftarrow: "←", overrightarrow: "→", underrightarrow: "→", xrightarrow: "→", underbrace: "⏟", overbrace: "⏞", overgroup: "⏠", undergroup: "⏡", overleftrightarrow: "↔", underleftrightarrow: "↔", xleftrightarrow: "↔", Overrightarrow: "⇒", xRightarrow: "⇒", overleftharpoon: "↼", xleftharpoonup: "↼", overrightharpoon: "⇀", xrightharpoonup: "⇀", xLeftarrow: "⇐", xLeftrightarrow: "⇔", xhookleftarrow: "↩", xhookrightarrow: "↪", xmapsto: "↦", xrightharpoondown: "⇁", xleftharpoondown: "↽", xrightleftharpoons: "⇌", xleftrightharpoons: "⇋", xtwoheadleftarrow: "↞", xtwoheadrightarrow: "↠", xlongequal: "=", xtofrom: "⇄", xrightleftarrows: "⇄", xrightequilibrium: "⇌", xleftequilibrium: "⇋", "\\cdrightarrow": "→", "\\cdleftarrow": "←", "\\cdlongequal": "=" }, _k = { overrightarrow: [["rightarrow"], 0.888, 522, "xMaxYMin"], overleftarrow: [["leftarrow"], 0.888, 522, "xMinYMin"], underrightarrow: [["rightarrow"], 0.888, 522, "xMaxYMin"], underleftarrow: [["leftarrow"], 0.888, 522, "xMinYMin"], xrightarrow: [["rightarrow"], 1.469, 522, "xMaxYMin"], "\\cdrightarrow": [["rightarrow"], 3, 522, "xMaxYMin"], xleftarrow: [["leftarrow"], 1.469, 522, "xMinYMin"], "\\cdleftarrow": [["leftarrow"], 3, 522, "xMinYMin"], Overrightarrow: [["doublerightarrow"], 0.888, 560, "xMaxYMin"], xRightarrow: [["doublerightarrow"], 1.526, 560, "xMaxYMin"], xLeftarrow: [["doubleleftarrow"], 1.526, 560, "xMinYMin"], overleftharpoon: [["leftharpoon"], 0.888, 522, "xMinYMin"], xleftharpoonup: [["leftharpoon"], 0.888, 522, "xMinYMin"], xleftharpoondown: [["leftharpoondown"], 0.888, 522, "xMinYMin"], overrightharpoon: [["rightharpoon"], 0.888, 522, "xMaxYMin"], xrightharpoonup: [["rightharpoon"], 0.888, 522, "xMaxYMin"], xrightharpoondown: [["rightharpoondown"], 0.888, 522, "xMaxYMin"], xlongequal: [["longequal"], 0.888, 334, "xMinYMin"], "\\cdlongequal": [["longequal"], 3, 334, "xMinYMin"], xtwoheadleftarrow: [["twoheadleftarrow"], 0.888, 334, "xMinYMin"], xtwoheadrightarrow: [["twoheadrightarrow"], 0.888, 334, "xMaxYMin"], overleftrightarrow: [["leftarrow", "rightarrow"], 0.888, 522], overbrace: [["leftbrace", "midbrace", "rightbrace"], 1.6, 548], underbrace: [["leftbraceunder", "midbraceunder", "rightbraceunder"], 1.6, 548], underleftrightarrow: [["leftarrow", "rightarrow"], 0.888, 522], xleftrightarrow: [["leftarrow", "rightarrow"], 1.75, 522], xLeftrightarrow: [["doubleleftarrow", "doublerightarrow"], 1.75, 560], xrightleftharpoons: [["leftharpoondownplus", "rightharpoonplus"], 1.75, 716], xleftrightharpoons: [["leftharpoonplus", "rightharpoondownplus"], 1.75, 716], xhookleftarrow: [["leftarrow", "righthook"], 1.08, 522], xhookrightarrow: [["lefthook", "rightarrow"], 1.08, 522], overlinesegment: [["leftlinesegment", "rightlinesegment"], 0.888, 522], underlinesegment: [["leftlinesegment", "rightlinesegment"], 0.888, 522], overgroup: [["leftgroup", "rightgroup"], 0.888, 342], undergroup: [["leftgroupunder", "rightgroupunder"], 0.888, 342], xmapsto: [["leftmapsto", "rightarrow"], 1.5, 522], xtofrom: [["leftToFrom", "rightToFrom"], 1.75, 528], xrightleftarrows: [["baraboveleftarrow", "rightarrowabovebar"], 1.75, 901], xrightequilibrium: [["baraboveshortleftharpoon", "rightharpoonaboveshortbar"], 1.75, 716], xleftequilibrium: [["shortbaraboveleftharpoon", "shortrightharpoonabovebar"], 1.75, 716] }, __ = { encloseSpan: function(t33, e10, r10, i10, n10) {
  var a10, o10 = t33.height + t33.depth + r10 + i10;
  if (/fbox|color|angl/.test(e10)) {
    if (a10 = kG.makeSpan(["stretchy", e10], [], n10), "fbox" === e10) {
      var s10 = n10.color && n10.getColor();
      s10 && (a10.style.borderColor = s10);
    }
  } else {
    var l10 = [];
    /^[bx]cancel$/.test(e10) && l10.push(new w2({ x1: "0", y1: "0", x2: "100%", y2: "100%", "stroke-width": "0.046em" })), /^x?cancel$/.test(e10) && l10.push(new w2({ x1: "0", y1: "100%", x2: "100%", y2: "0", "stroke-width": "0.046em" }));
    var h10 = new w0(l10, { width: "100%", height: wY(o10) });
    a10 = kG.makeSvgSpan([], [h10], n10);
  }
  return a10.height = o10, a10.style.height = wY(o10), a10;
}, mathMLnode: function(t33) {
  var e10 = new _l.MathNode("mo", [new _l.TextNode(_w[t33.replace(/^\\/, "")])]);
  return e10.setAttribute("stretchy", "true"), e10;
}, svgSpan: function(t33, e10) {
  var { span: r10, minWidth: i10, height: n10 } = function() {
    var r11 = 4e5, i11 = t33.label.slice(1);
    if (wc.contains(["widehat", "widecheck", "widetilde", "utilde"], i11)) {
      var n11, a10, o10, s10, l10 = "ordgroup" === (s10 = t33.base).type ? s10.body.length : 1;
      if (l10 > 5) "widehat" === i11 || "widecheck" === i11 ? (n11 = 420, r11 = 2364, o10 = 0.42, a10 = i11 + "4") : (n11 = 312, r11 = 2340, o10 = 0.34, a10 = "tilde4");
      else {
        var h10 = [1, 1, 2, 2, 3, 3][l10];
        "widehat" === i11 || "widecheck" === i11 ? (r11 = [0, 1062, 2364, 2364, 2364][h10], n11 = [0, 239, 300, 360, 420][h10], o10 = [0, 0.24, 0.3, 0.3, 0.36, 0.42][h10], a10 = i11 + h10) : (r11 = [0, 600, 1033, 2339, 2340][h10], n11 = [0, 260, 286, 306, 312][h10], o10 = [0, 0.26, 0.286, 0.3, 0.306, 0.34][h10], a10 = "tilde" + h10);
      }
      var u10 = new w0([new w1(a10)], { width: "100%", height: wY(o10), viewBox: "0 0 " + r11 + " " + n11, preserveAspectRatio: "none" });
      return { span: kG.makeSvgSpan([], [u10], e10), minWidth: 0, height: o10 };
    }
    var d10, p10, g10 = [], f10 = _k[i11], [y10, v10, x10] = f10, b10 = x10 / 1e3, w10 = y10.length;
    if (1 === w10) d10 = ["hide-tail"], p10 = [f10[3]];
    else if (2 === w10) d10 = ["halfarrow-left", "halfarrow-right"], p10 = ["xMinYMin", "xMaxYMin"];
    else if (3 === w10) d10 = ["brace-left", "brace-center", "brace-right"], p10 = ["xMinYMin", "xMidYMin", "xMaxYMin"];
    else throw Error("Correct katexImagesData or update code here to support\n                    " + w10 + " children.");
    for (var k10 = 0; k10 < w10; k10++) {
      var _10 = new w0([new w1(y10[k10])], { width: "400em", height: wY(b10), viewBox: "0 0 " + r11 + " " + x10, preserveAspectRatio: p10[k10] + " slice" }), T10 = kG.makeSvgSpan([d10[k10]], [_10], e10);
      if (1 === w10) return { span: T10, minWidth: v10, height: b10 };
      T10.style.height = wY(b10), g10.push(T10);
    }
    return { span: kG.makeSpan(["stretchy"], g10, e10), minWidth: v10, height: b10 };
  }();
  return r10.height = n10, r10.style.height = wY(n10), i10 > 0 && (r10.style.minWidth = wY(i10)), r10;
} };
function _T(t33, e10) {
  if (!t33 || t33.type !== e10) throw Error("Expected node of type " + e10 + ", but got " + (t33 ? "node of type " + t33.type : String(t33)));
  return t33;
}
function _E(t33) {
  var e10 = _C(t33);
  if (!e10) throw Error("Expected node of symbol group type, but got " + (t33 ? "node of type " + t33.type : String(t33)));
  return e10;
}
function _C(t33) {
  return t33 && ("atom" === t33.type || w3.hasOwnProperty(t33.type)) ? t33 : null;
}
var _S = (t33, e10) => {
  t33 && "supsub" === t33.type ? (s10 = (l10 = _T(t33.base, "accent")).base, t33.base = s10, h10 = function(t34) {
    if (t34 instanceof wX) return t34;
    throw Error("Expected span<HtmlDomNode> but got " + String(t34) + ".");
  }(_r(t33, e10)), t33.base = l10) : s10 = (l10 = _T(t33, "accent")).base;
  var r10 = _r(s10, e10.havingCrampedStyle()), i10 = l10.isShifty && wc.isCharacterBox(s10), n10 = 0;
  i10 && (n10 = w4(_r(wc.getBaseElem(s10), e10.havingCrampedStyle())).skew);
  var a10 = "\\c" === l10.label, o10 = a10 ? r10.height + r10.depth : Math.min(r10.height, e10.fontMetrics().xHeight);
  if (l10.isStretchy) u10 = __.svgSpan(l10, e10), u10 = kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }, { type: "elem", elem: u10, wrapperClasses: ["svg-align"], wrapperStyle: n10 > 0 ? { width: "calc(100% - " + wY(2 * n10) + ")", marginLeft: wY(2 * n10) } : void 0 }] }, e10);
  else {
    "\\vec" === l10.label ? (d10 = kG.staticSvg("vec", e10), p10 = kG.svgData.vec[1]) : ((d10 = w4(d10 = kG.makeOrd({ mode: l10.mode, text: l10.label }, e10, "textord"))).italic = 0, p10 = d10.width, a10 && (o10 += d10.depth)), u10 = kG.makeSpan(["accent-body"], [d10]);
    var s10, l10, h10, u10, d10, p10, g10 = "\\textcircled" === l10.label;
    g10 && (u10.classes.push("accent-full"), o10 = r10.height);
    var f10 = n10;
    g10 || (f10 -= p10 / 2), u10.style.left = wY(f10), "\\textcircled" === l10.label && (u10.style.top = ".2em"), u10 = kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }, { type: "kern", size: -o10 }, { type: "elem", elem: u10 }] }, e10);
  }
  var y10 = kG.makeSpan(["mord", "accent"], [u10], e10);
  return h10 ? (h10.children[0] = y10, h10.height = Math.max(y10.height, h10.height), h10.classes[0] = "mord", h10) : y10;
}, _A = (t33, e10) => {
  var r10 = t33.isStretchy ? __.mathMLnode(t33.label) : new _l.MathNode("mo", [_h(t33.label, t33.mode)]), i10 = new _l.MathNode("mover", [_f(t33.base, e10), r10]);
  return i10.setAttribute("accent", "true"), i10;
}, _L = new RegExp(["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot", "\\mathring"].map((t33) => "\\" + t33).join("|"));
kZ({ type: "accent", names: ["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot", "\\mathring", "\\widecheck", "\\widehat", "\\widetilde", "\\overrightarrow", "\\overleftarrow", "\\Overrightarrow", "\\overleftrightarrow", "\\overgroup", "\\overlinesegment", "\\overleftharpoon", "\\overrightharpoon"], props: { numArgs: 1 }, handler: (t33, e10) => {
  var r10 = kJ(e10[0]), i10 = !_L.test(t33.funcName), n10 = !i10 || "\\widehat" === t33.funcName || "\\widetilde" === t33.funcName || "\\widecheck" === t33.funcName;
  return { type: "accent", mode: t33.parser.mode, label: t33.funcName, isStretchy: i10, isShifty: n10, base: r10 };
}, htmlBuilder: _S, mathmlBuilder: _A }), kZ({ type: "accent", names: ["\\'", "\\`", "\\^", "\\~", "\\=", "\\u", "\\.", '\\"', "\\c", "\\r", "\\H", "\\v", "\\textcircled"], props: { numArgs: 1, allowedInText: true, allowedInMath: true, argTypes: ["primitive"] }, handler: (t33, e10) => {
  var r10 = e10[0], i10 = t33.parser.mode;
  return "math" === i10 && (t33.parser.settings.reportNonstrict("mathVsTextAccents", "LaTeX's accent " + t33.funcName + " works only in text mode"), i10 = "text"), { type: "accent", mode: i10, label: t33.funcName, isStretchy: false, isShifty: true, base: r10 };
}, htmlBuilder: _S, mathmlBuilder: _A }), kZ({ type: "accentUnder", names: ["\\underleftarrow", "\\underrightarrow", "\\underleftrightarrow", "\\undergroup", "\\underlinesegment", "\\utilde"], props: { numArgs: 1 }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0];
  return { type: "accentUnder", mode: r10.mode, label: i10, base: n10 };
}, htmlBuilder: (t33, e10) => {
  var r10 = _r(t33.base, e10), i10 = __.svgSpan(t33, e10), n10 = "\\utilde" === t33.label ? 0.12 : 0, a10 = kG.makeVList({ positionType: "top", positionData: r10.height, children: [{ type: "elem", elem: i10, wrapperClasses: ["svg-align"] }, { type: "kern", size: n10 }, { type: "elem", elem: r10 }] }, e10);
  return kG.makeSpan(["mord", "accentunder"], [a10], e10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = __.mathMLnode(t33.label), i10 = new _l.MathNode("munder", [_f(t33.base, e10), r10]);
  return i10.setAttribute("accentunder", "true"), i10;
} });
var _N = (t33) => {
  var e10 = new _l.MathNode("mpadded", t33 ? [t33] : []);
  return e10.setAttribute("width", "+0.6em"), e10.setAttribute("lspace", "0.3em"), e10;
};
kZ({ type: "xArrow", names: ["\\xleftarrow", "\\xrightarrow", "\\xLeftarrow", "\\xRightarrow", "\\xleftrightarrow", "\\xLeftrightarrow", "\\xhookleftarrow", "\\xhookrightarrow", "\\xmapsto", "\\xrightharpoondown", "\\xrightharpoonup", "\\xleftharpoondown", "\\xleftharpoonup", "\\xrightleftharpoons", "\\xleftrightharpoons", "\\xlongequal", "\\xtwoheadrightarrow", "\\xtwoheadleftarrow", "\\xtofrom", "\\xrightleftarrows", "\\xrightequilibrium", "\\xleftequilibrium", "\\\\cdrightarrow", "\\\\cdleftarrow", "\\\\cdlongequal"], props: { numArgs: 1, numOptionalArgs: 1 }, handler(t33, e10, r10) {
  var { parser: i10, funcName: n10 } = t33;
  return { type: "xArrow", mode: i10.mode, label: n10, body: e10[0], below: r10[0] };
}, htmlBuilder(t33, e10) {
  var r10, i10, n10 = e10.style, a10 = e10.havingStyle(n10.sup()), o10 = kG.wrapFragment(_r(t33.body, a10, e10), e10), s10 = "\\x" === t33.label.slice(0, 2) ? "x" : "cd";
  o10.classes.push(s10 + "-arrow-pad"), t33.below && (a10 = e10.havingStyle(n10.sub()), (r10 = kG.wrapFragment(_r(t33.below, a10, e10), e10)).classes.push(s10 + "-arrow-pad"));
  var l10 = __.svgSpan(t33, e10), h10 = -e10.fontMetrics().axisHeight + 0.5 * l10.height, u10 = -e10.fontMetrics().axisHeight - 0.5 * l10.height - 0.111;
  if ((o10.depth > 0.25 || "\\xleftequilibrium" === t33.label) && (u10 -= o10.depth), r10) {
    var d10 = -e10.fontMetrics().axisHeight + r10.height + 0.5 * l10.height + 0.111;
    i10 = kG.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: o10, shift: u10 }, { type: "elem", elem: l10, shift: h10 }, { type: "elem", elem: r10, shift: d10 }] }, e10);
  } else i10 = kG.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: o10, shift: u10 }, { type: "elem", elem: l10, shift: h10 }] }, e10);
  return i10.children[0].children[0].children[1].classes.push("svg-align"), kG.makeSpan(["mrel", "x-arrow"], [i10], e10);
}, mathmlBuilder(t33, e10) {
  var r10, i10 = __.mathMLnode(t33.label);
  if (i10.setAttribute("minsize", "x" === t33.label.charAt(0) ? "1.75em" : "3.0em"), t33.body) {
    var n10 = _N(_f(t33.body, e10));
    if (t33.below) {
      var a10 = _N(_f(t33.below, e10));
      r10 = new _l.MathNode("munderover", [i10, a10, n10]);
    } else r10 = new _l.MathNode("mover", [i10, n10]);
  } else if (t33.below) {
    var o10 = _N(_f(t33.below, e10));
    r10 = new _l.MathNode("munder", [i10, o10]);
  } else r10 = _N(), r10 = new _l.MathNode("mover", [i10, r10]);
  return r10;
} });
var _I = kG.makeSpan;
function _M(t33, e10) {
  var r10 = k6(t33.body, e10, true);
  return _I([t33.mclass], r10, e10);
}
function _R(t33, e10) {
  var r10, i10 = _p(t33.body, e10);
  return "minner" === t33.mclass ? r10 = new _l.MathNode("mpadded", i10) : "mord" === t33.mclass ? t33.isCharacterBox ? (r10 = i10[0]).type = "mi" : r10 = new _l.MathNode("mi", i10) : (t33.isCharacterBox ? (r10 = i10[0]).type = "mo" : r10 = new _l.MathNode("mo", i10), "mbin" === t33.mclass ? (r10.attributes.lspace = "0.22em", r10.attributes.rspace = "0.22em") : "mpunct" === t33.mclass ? (r10.attributes.lspace = "0em", r10.attributes.rspace = "0.17em") : "mopen" === t33.mclass || "mclose" === t33.mclass ? (r10.attributes.lspace = "0em", r10.attributes.rspace = "0em") : "minner" === t33.mclass && (r10.attributes.lspace = "0.0556em", r10.attributes.width = "+0.1111em")), r10;
}
kZ({ type: "mclass", names: ["\\mathord", "\\mathbin", "\\mathrel", "\\mathopen", "\\mathclose", "\\mathpunct", "\\mathinner"], props: { numArgs: 1, primitive: true }, handler(t33, e10) {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0];
  return { type: "mclass", mode: r10.mode, mclass: "m" + i10.slice(5), body: k0(n10), isCharacterBox: wc.isCharacterBox(n10) };
}, htmlBuilder: _M, mathmlBuilder: _R });
var _D = (t33) => {
  var e10 = "ordgroup" === t33.type && t33.body.length ? t33.body[0] : t33;
  return "atom" === e10.type && ("bin" === e10.family || "rel" === e10.family) ? "m" + e10.family : "mord";
};
kZ({ type: "mclass", names: ["\\@binrel"], props: { numArgs: 2 }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "mclass", mode: r10.mode, mclass: _D(e10[0]), body: k0(e10[1]), isCharacterBox: wc.isCharacterBox(e10[1]) };
} }), kZ({ type: "mclass", names: ["\\stackrel", "\\overset", "\\underset"], props: { numArgs: 2 }, handler(t33, e10) {
  var r10, { parser: i10, funcName: n10 } = t33, a10 = e10[1], o10 = e10[0];
  r10 = "\\stackrel" !== n10 ? _D(a10) : "mrel";
  var s10 = { type: "op", mode: a10.mode, limits: true, alwaysHandleSupSub: true, parentIsSupSub: false, symbol: false, suppressBaseShift: "\\stackrel" !== n10, body: k0(a10) }, l10 = { type: "supsub", mode: o10.mode, base: s10, sup: "\\underset" === n10 ? null : o10, sub: "\\underset" === n10 ? o10 : null };
  return { type: "mclass", mode: i10.mode, mclass: r10, body: [l10], isCharacterBox: wc.isCharacterBox(l10) };
}, htmlBuilder: _M, mathmlBuilder: _R }), kZ({ type: "pmb", names: ["\\pmb"], props: { numArgs: 1, allowedInText: true }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "pmb", mode: r10.mode, mclass: _D(e10[0]), body: k0(e10[0]) };
}, htmlBuilder(t33, e10) {
  var r10 = k6(t33.body, e10, true), i10 = kG.makeSpan([t33.mclass], r10, e10);
  return i10.style.textShadow = "0.02em 0.01em 0.04px", i10;
}, mathmlBuilder(t33, e10) {
  var r10 = _p(t33.body, e10), i10 = new _l.MathNode("mstyle", r10);
  return i10.setAttribute("style", "text-shadow: 0.02em 0.01em 0.04px"), i10;
} });
var _O = { ">": "\\\\cdrightarrow", "<": "\\\\cdleftarrow", "=": "\\\\cdlongequal", A: "\\uparrow", V: "\\downarrow", "|": "\\Vert", ".": "no arrow" }, _P = () => ({ type: "styling", body: [], mode: "math", style: "display" }), _$ = (t33) => "textord" === t33.type && "@" === t33.text, _B = (t33, e10) => ("mathord" === t33.type || "atom" === t33.type) && t33.text === e10;
kZ({ type: "cdlabel", names: ["\\\\cdleft", "\\\\cdright"], props: { numArgs: 1 }, handler(t33, e10) {
  var { parser: r10, funcName: i10 } = t33;
  return { type: "cdlabel", mode: r10.mode, side: i10.slice(4), label: e10[0] };
}, htmlBuilder(t33, e10) {
  var r10 = e10.havingStyle(e10.style.sup()), i10 = kG.wrapFragment(_r(t33.label, r10, e10), e10);
  return i10.classes.push("cd-label-" + t33.side), i10.style.bottom = wY(0.8 - i10.depth), i10.height = 0, i10.depth = 0, i10;
}, mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mrow", [_f(t33.label, e10)]);
  return (r10 = new _l.MathNode("mpadded", [r10])).setAttribute("width", "0"), "left" === t33.side && r10.setAttribute("lspace", "-1width"), r10.setAttribute("voffset", "0.7em"), (r10 = new _l.MathNode("mstyle", [r10])).setAttribute("displaystyle", "false"), r10.setAttribute("scriptlevel", "1"), r10;
} }), kZ({ type: "cdlabelparent", names: ["\\\\cdparent"], props: { numArgs: 1 }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "cdlabelparent", mode: r10.mode, fragment: e10[0] };
}, htmlBuilder(t33, e10) {
  var r10 = kG.wrapFragment(_r(t33.fragment, e10), e10);
  return r10.classes.push("cd-vert-arrow"), r10;
}, mathmlBuilder: (t33, e10) => new _l.MathNode("mrow", [_f(t33.fragment, e10)]) }), kZ({ type: "textord", names: ["\\@char"], props: { numArgs: 1, allowedInText: true }, handler(t33, e10) {
  for (var r10, { parser: i10 } = t33, n10 = _T(e10[0], "ordgroup").body, a10 = "", o10 = 0; o10 < n10.length; o10++) a10 += _T(n10[o10], "textord").text;
  var s10 = parseInt(a10);
  if (isNaN(s10)) throw new wn("\\@char has non-numeric argument " + a10);
  if (s10 < 0 || s10 >= 1114111) throw new wn("\\@char with invalid code point " + a10);
  return s10 <= 65535 ? r10 = String.fromCharCode(s10) : (s10 -= 65536, r10 = String.fromCharCode((s10 >> 10) + 55296, (1023 & s10) + 56320)), { type: "textord", mode: i10.mode, text: r10 };
} });
var _F = (t33, e10) => {
  var r10 = k6(t33.body, e10.withColor(t33.color), false);
  return kG.makeFragment(r10);
}, _z = (t33, e10) => {
  var r10 = _p(t33.body, e10.withColor(t33.color)), i10 = new _l.MathNode("mstyle", r10);
  return i10.setAttribute("mathcolor", t33.color), i10;
};
kZ({ type: "color", names: ["\\textcolor"], props: { numArgs: 2, allowedInText: true, argTypes: ["color", "original"] }, handler(t33, e10) {
  var { parser: r10 } = t33, i10 = _T(e10[0], "color-token").color, n10 = e10[1];
  return { type: "color", mode: r10.mode, color: i10, body: k0(n10) };
}, htmlBuilder: _F, mathmlBuilder: _z }), kZ({ type: "color", names: ["\\color"], props: { numArgs: 1, allowedInText: true, argTypes: ["color"] }, handler(t33, e10) {
  var { parser: r10, breakOnTokenText: i10 } = t33, n10 = _T(e10[0], "color-token").color;
  r10.gullet.macros.set("\\current@color", n10);
  var a10 = r10.parseExpression(true, i10);
  return { type: "color", mode: r10.mode, color: n10, body: a10 };
}, htmlBuilder: _F, mathmlBuilder: _z }), kZ({ type: "cr", names: ["\\\\"], props: { numArgs: 0, numOptionalArgs: 0, allowedInText: true }, handler(t33, e10, r10) {
  var { parser: i10 } = t33, n10 = "[" === i10.gullet.future().text ? i10.parseSizeGroup(true) : null, a10 = !i10.settings.displayMode || !i10.settings.useStrictBehavior("newLineInDisplayMode", "In LaTeX, \\\\ or \\newline does nothing in display mode");
  return { type: "cr", mode: i10.mode, newLine: a10, size: n10 && _T(n10, "size").value };
}, htmlBuilder(t33, e10) {
  var r10 = kG.makeSpan(["mspace"], [], e10);
  return t33.newLine && (r10.classes.push("newline"), t33.size && (r10.style.marginTop = wY(wq(t33.size, e10)))), r10;
}, mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mspace");
  return t33.newLine && (r10.setAttribute("linebreak", "newline"), t33.size && r10.setAttribute("height", wY(wq(t33.size, e10)))), r10;
} });
var _U = { "\\global": "\\global", "\\long": "\\\\globallong", "\\\\globallong": "\\\\globallong", "\\def": "\\gdef", "\\gdef": "\\gdef", "\\edef": "\\xdef", "\\xdef": "\\xdef", "\\let": "\\\\globallet", "\\futurelet": "\\\\globalfuture" }, _G = (t33) => {
  var e10 = t33.text;
  if (/^(?:[\\{}$&#^_]|EOF)$/.test(e10)) throw new wn("Expected a control sequence", t33);
  return e10;
}, _q = (t33) => {
  var e10 = t33.gullet.popToken();
  return "=" === e10.text && " " === (e10 = t33.gullet.popToken()).text && (e10 = t33.gullet.popToken()), e10;
}, _Y = (t33, e10, r10, i10) => {
  var n10 = t33.gullet.macros.get(r10.text);
  null == n10 && (r10.noexpand = true, n10 = { tokens: [r10], numArgs: 0, unexpandable: !t33.gullet.isExpandable(r10.text) }), t33.gullet.macros.set(e10, n10, i10);
};
kZ({ type: "internal", names: ["\\global", "\\long", "\\\\globallong"], props: { numArgs: 0, allowedInText: true }, handler(t33) {
  var { parser: e10, funcName: r10 } = t33;
  e10.consumeSpaces();
  var i10 = e10.fetch();
  if (_U[i10.text]) return ("\\global" === r10 || "\\\\globallong" === r10) && (i10.text = _U[i10.text]), _T(e10.parseFunction(), "internal");
  throw new wn("Invalid token after macro prefix", i10);
} }), kZ({ type: "internal", names: ["\\def", "\\gdef", "\\edef", "\\xdef"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(t33) {
  var e10, { parser: r10, funcName: i10 } = t33, n10 = r10.gullet.popToken(), a10 = n10.text;
  if (/^(?:[\\{}$&#^_]|EOF)$/.test(a10)) throw new wn("Expected a control sequence", n10);
  for (var o10 = 0, s10 = [[]]; "{" !== r10.gullet.future().text; ) if ("#" === (n10 = r10.gullet.popToken()).text) {
    if ("{" === r10.gullet.future().text) {
      e10 = r10.gullet.future(), s10[o10].push("{");
      break;
    }
    if (n10 = r10.gullet.popToken(), !/^[1-9]$/.test(n10.text)) throw new wn('Invalid argument number "' + n10.text + '"');
    if (parseInt(n10.text) !== o10 + 1) throw new wn('Argument number "' + n10.text + '" out of order');
    o10++, s10.push([]);
  } else if ("EOF" === n10.text) throw new wn("Expected a macro definition");
  else s10[o10].push(n10.text);
  var { tokens: l10 } = r10.gullet.consumeArg();
  return e10 && l10.unshift(e10), ("\\edef" === i10 || "\\xdef" === i10) && (l10 = r10.gullet.expandTokens(l10)).reverse(), r10.gullet.macros.set(a10, { tokens: l10, numArgs: o10, delimiters: s10 }, i10 === _U[i10]), { type: "internal", mode: r10.mode };
} }), kZ({ type: "internal", names: ["\\let", "\\\\globallet"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(t33) {
  var { parser: e10, funcName: r10 } = t33, i10 = _G(e10.gullet.popToken());
  e10.gullet.consumeSpaces();
  var n10 = _q(e10);
  return _Y(e10, i10, n10, "\\\\globallet" === r10), { type: "internal", mode: e10.mode };
} }), kZ({ type: "internal", names: ["\\futurelet", "\\\\globalfuture"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(t33) {
  var { parser: e10, funcName: r10 } = t33, i10 = _G(e10.gullet.popToken()), n10 = e10.gullet.popToken(), a10 = e10.gullet.popToken();
  return _Y(e10, i10, a10, "\\\\globalfuture" === r10), e10.gullet.pushToken(a10), e10.gullet.pushToken(n10), { type: "internal", mode: e10.mode };
} });
var _H = function(t33, e10, r10) {
  var i10 = wD(w6.math[t33] && w6.math[t33].replace || t33, e10, r10);
  if (!i10) throw Error("Unsupported symbol " + t33 + " and font size " + e10 + ".");
  return i10;
}, _j = function(t33, e10, r10, i10) {
  var n10 = r10.havingBaseStyle(e10), a10 = kG.makeSpan(i10.concat(n10.sizingClasses(r10)), [t33], r10), o10 = n10.sizeMultiplier / r10.sizeMultiplier;
  return a10.height *= o10, a10.depth *= o10, a10.maxFontSize = n10.sizeMultiplier, a10;
}, _W = function(t33, e10, r10) {
  var i10 = e10.havingBaseStyle(r10), n10 = (1 - e10.sizeMultiplier / i10.sizeMultiplier) * e10.fontMetrics().axisHeight;
  t33.classes.push("delimcenter"), t33.style.top = wY(n10), t33.height -= n10, t33.depth += n10;
}, _V = function(t33, e10, r10, i10, n10, a10) {
  var o10 = _j(kG.makeSymbol(t33, "Main-Regular", n10, i10), e10, i10, a10);
  return r10 && _W(o10, i10, e10), o10;
}, _X = function(t33, e10, r10, i10, n10, a10) {
  var o10 = kG.makeSymbol(t33, "Size" + e10 + "-Regular", n10, i10), s10 = _j(kG.makeSpan(["delimsizing", "size" + e10], [o10], i10), ww.TEXT, i10, a10);
  return r10 && _W(s10, i10, ww.TEXT), s10;
}, _K = function(t33, e10, r10) {
  var i10;
  return i10 = "Size1-Regular" === e10 ? "delim-size1" : "delim-size4", { type: "elem", elem: kG.makeSpan(["delimsizinginner", i10], [kG.makeSpan([], [kG.makeSymbol(t33, e10, r10)])]) };
}, _Z = function(t33, e10, r10) {
  var i10 = wN["Size4-Regular"][t33.charCodeAt(0)] ? wN["Size4-Regular"][t33.charCodeAt(0)][4] : wN["Size1-Regular"][t33.charCodeAt(0)][4], n10 = new w0([new w1("inner", wC(t33, Math.round(1e3 * e10)))], { width: wY(i10), height: wY(e10), style: "width:" + wY(i10), viewBox: "0 0 " + 1e3 * i10 + " " + Math.round(1e3 * e10), preserveAspectRatio: "xMinYMin" }), a10 = kG.makeSvgSpan([], [n10], r10);
  return a10.height = e10, a10.style.height = wY(e10), a10.style.width = wY(i10), { type: "elem", elem: a10 };
}, _Q = { type: "kern", size: -8e-3 }, _J = ["|", "\\lvert", "\\rvert", "\\vert"], _0 = ["\\|", "\\lVert", "\\rVert", "\\Vert"], _1 = function(t33, e10, r10, i10, n10, a10) {
  var o10, s10, l10, h10, u10 = "", d10 = 0;
  o10 = l10 = h10 = t33, s10 = null;
  var p10 = "Size1-Regular";
  "\\uparrow" === t33 ? l10 = h10 = "⏐" : "\\Uparrow" === t33 ? l10 = h10 = "‖" : "\\downarrow" === t33 ? o10 = l10 = "⏐" : "\\Downarrow" === t33 ? o10 = l10 = "‖" : "\\updownarrow" === t33 ? (o10 = "\\uparrow", l10 = "⏐", h10 = "\\downarrow") : "\\Updownarrow" === t33 ? (o10 = "\\Uparrow", l10 = "‖", h10 = "\\Downarrow") : wc.contains(_J, t33) ? (l10 = "∣", u10 = "vert", d10 = 333) : wc.contains(_0, t33) ? (l10 = "∥", u10 = "doublevert", d10 = 556) : "[" === t33 || "\\lbrack" === t33 ? (o10 = "⎡", l10 = "⎢", h10 = "⎣", p10 = "Size4-Regular", u10 = "lbrack", d10 = 667) : "]" === t33 || "\\rbrack" === t33 ? (o10 = "⎤", l10 = "⎥", h10 = "⎦", p10 = "Size4-Regular", u10 = "rbrack", d10 = 667) : "\\lfloor" === t33 || "⌊" === t33 ? (l10 = o10 = "⎢", h10 = "⎣", p10 = "Size4-Regular", u10 = "lfloor", d10 = 667) : "\\lceil" === t33 || "⌈" === t33 ? (o10 = "⎡", l10 = h10 = "⎢", p10 = "Size4-Regular", u10 = "lceil", d10 = 667) : "\\rfloor" === t33 || "⌋" === t33 ? (l10 = o10 = "⎥", h10 = "⎦", p10 = "Size4-Regular", u10 = "rfloor", d10 = 667) : "\\rceil" === t33 || "⌉" === t33 ? (o10 = "⎤", l10 = h10 = "⎥", p10 = "Size4-Regular", u10 = "rceil", d10 = 667) : "(" === t33 || "\\lparen" === t33 ? (o10 = "⎛", l10 = "⎜", h10 = "⎝", p10 = "Size4-Regular", u10 = "lparen", d10 = 875) : ")" === t33 || "\\rparen" === t33 ? (o10 = "⎞", l10 = "⎟", h10 = "⎠", p10 = "Size4-Regular", u10 = "rparen", d10 = 875) : "\\{" === t33 || "\\lbrace" === t33 ? (o10 = "⎧", s10 = "⎨", h10 = "⎩", l10 = "⎪", p10 = "Size4-Regular") : "\\}" === t33 || "\\rbrace" === t33 ? (o10 = "⎫", s10 = "⎬", h10 = "⎭", l10 = "⎪", p10 = "Size4-Regular") : "\\lgroup" === t33 || "⟮" === t33 ? (o10 = "⎧", h10 = "⎩", l10 = "⎪", p10 = "Size4-Regular") : "\\rgroup" === t33 || "⟯" === t33 ? (o10 = "⎫", h10 = "⎭", l10 = "⎪", p10 = "Size4-Regular") : "\\lmoustache" === t33 || "⎰" === t33 ? (o10 = "⎧", h10 = "⎭", l10 = "⎪", p10 = "Size4-Regular") : ("\\rmoustache" === t33 || "⎱" === t33) && (o10 = "⎫", h10 = "⎩", l10 = "⎪", p10 = "Size4-Regular");
  var g10 = _H(o10, p10, n10), f10 = g10.height + g10.depth, y10 = _H(l10, p10, n10), v10 = y10.height + y10.depth, x10 = _H(h10, p10, n10), b10 = x10.height + x10.depth, w10 = 0, k10 = 1;
  if (null !== s10) {
    var _10 = _H(s10, p10, n10);
    w10 = _10.height + _10.depth, k10 = 2;
  }
  var T10 = f10 + b10 + w10, E10 = Math.max(0, Math.ceil((e10 - T10) / (k10 * v10))), C10 = T10 + E10 * k10 * v10, S10 = i10.fontMetrics().axisHeight;
  r10 && (S10 *= i10.sizeMultiplier);
  var A10 = C10 / 2 - S10, L10 = [];
  if (u10.length > 0) {
    var N10 = Math.round(1e3 * C10), I10 = wA(u10, Math.round(1e3 * (C10 - f10 - b10))), M10 = new w1(u10, I10), R10 = (d10 / 1e3).toFixed(3) + "em", D10 = (N10 / 1e3).toFixed(3) + "em", O10 = new w0([M10], { width: R10, height: D10, viewBox: "0 0 " + d10 + " " + N10 }), P10 = kG.makeSvgSpan([], [O10], i10);
    P10.height = N10 / 1e3, P10.style.width = R10, P10.style.height = D10, L10.push({ type: "elem", elem: P10 });
  } else {
    if (L10.push(_K(h10, p10, n10)), L10.push(_Q), null === s10) L10.push(_Z(l10, C10 - f10 - b10 + 0.016, i10));
    else {
      var $10 = (C10 - f10 - b10 - w10) / 2 + 0.016;
      L10.push(_Z(l10, $10, i10)), L10.push(_Q), L10.push(_K(s10, p10, n10)), L10.push(_Q), L10.push(_Z(l10, $10, i10));
    }
    L10.push(_Q), L10.push(_K(o10, p10, n10));
  }
  var B10 = i10.havingBaseStyle(ww.TEXT), F10 = kG.makeVList({ positionType: "bottom", positionData: A10, children: L10 }, B10);
  return _j(kG.makeSpan(["delimsizing", "mult"], [F10], B10), ww.TEXT, i10, a10);
}, _2 = function(t33, e10, r10, i10, n10) {
  var a10 = wE(t33, i10, r10), o10 = new w0([new w1(t33, a10)], { width: "400em", height: wY(e10), viewBox: "0 0 400000 " + r10, preserveAspectRatio: "xMinYMin slice" });
  return kG.makeSvgSpan(["hide-tail"], [o10], n10);
}, _4 = ["(", "\\lparen", ")", "\\rparen", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "⌊", "⌋", "\\lceil", "\\rceil", "⌈", "⌉", "\\surd"], _5 = ["\\uparrow", "\\downarrow", "\\updownarrow", "\\Uparrow", "\\Downarrow", "\\Updownarrow", "|", "\\|", "\\vert", "\\Vert", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "⟮", "⟯", "\\lmoustache", "\\rmoustache", "⎰", "⎱"], _3 = ["<", ">", "\\langle", "\\rangle", "/", "\\backslash", "\\lt", "\\gt"], _6 = [0, 1.2, 1.8, 2.4, 3], _7 = [{ type: "small", style: ww.SCRIPTSCRIPT }, { type: "small", style: ww.SCRIPT }, { type: "small", style: ww.TEXT }, { type: "large", size: 1 }, { type: "large", size: 2 }, { type: "large", size: 3 }, { type: "large", size: 4 }], _8 = [{ type: "small", style: ww.SCRIPTSCRIPT }, { type: "small", style: ww.SCRIPT }, { type: "small", style: ww.TEXT }, { type: "stack" }], _9 = [{ type: "small", style: ww.SCRIPTSCRIPT }, { type: "small", style: ww.SCRIPT }, { type: "small", style: ww.TEXT }, { type: "large", size: 1 }, { type: "large", size: 2 }, { type: "large", size: 3 }, { type: "large", size: 4 }, { type: "stack" }], Tt = function(t33) {
  if ("small" === t33.type) return "Main-Regular";
  if ("large" === t33.type) return "Size" + t33.size + "-Regular";
  if ("stack" === t33.type) return "Size4-Regular";
  throw Error("Add support for delim type '" + t33.type + "' here.");
}, Te = function(t33, e10, r10, i10) {
  for (var n10 = Math.min(2, 3 - i10.style.size), a10 = n10; a10 < r10.length && "stack" !== r10[a10].type; a10++) {
    var o10 = _H(t33, Tt(r10[a10]), "math"), s10 = o10.height + o10.depth;
    if ("small" === r10[a10].type && (s10 *= i10.havingBaseStyle(r10[a10].style).sizeMultiplier), s10 > e10) return r10[a10];
  }
  return r10[r10.length - 1];
}, Tr = function(t33, e10, r10, i10, n10, a10) {
  "<" === t33 || "\\lt" === t33 || "⟨" === t33 ? t33 = "\\langle" : (">" === t33 || "\\gt" === t33 || "⟩" === t33) && (t33 = "\\rangle"), o10 = wc.contains(_3, t33) ? _7 : wc.contains(_4, t33) ? _9 : _8;
  var o10, s10 = Te(t33, e10, o10, i10);
  return "small" === s10.type ? _V(t33, s10.style, r10, i10, n10, a10) : "large" === s10.type ? _X(t33, s10.size, r10, i10, n10, a10) : _1(t33, e10, r10, i10, n10, a10);
}, Ti = { sqrtImage: function(t33, e10) {
  var r10, i10, n10 = e10.havingBaseSizing(), a10 = Te("\\surd", t33 * n10.sizeMultiplier, _9, n10), o10 = n10.sizeMultiplier, s10 = Math.max(0, e10.minRuleThickness - e10.fontMetrics().sqrtRuleThickness), l10 = 0, h10 = 0, u10 = 0;
  return "small" === a10.type ? (u10 = 1e3 + 1e3 * s10 + 80, t33 < 1 ? o10 = 1 : t33 < 1.4 && (o10 = 0.7), l10 = (1 + s10 + 0.08) / o10, h10 = (1 + s10) / o10, (r10 = _2("sqrtMain", l10, u10, s10, e10)).style.minWidth = "0.853em", i10 = 0.833 / o10) : "large" === a10.type ? (u10 = 1080 * _6[a10.size], h10 = (_6[a10.size] + s10) / o10, l10 = (_6[a10.size] + s10 + 0.08) / o10, (r10 = _2("sqrtSize" + a10.size, l10, u10, s10, e10)).style.minWidth = "1.02em", i10 = 1 / o10) : (l10 = t33 + s10 + 0.08, h10 = t33 + s10, (r10 = _2("sqrtTall", l10, u10 = Math.floor(1e3 * t33 + s10) + 80, s10, e10)).style.minWidth = "0.742em", i10 = 1.056), r10.height = h10, r10.style.height = wY(l10), { span: r10, advanceWidth: i10, ruleWidth: (e10.fontMetrics().sqrtRuleThickness + s10) * o10 };
}, sizedDelim: function(t33, e10, r10, i10, n10) {
  if ("<" === t33 || "\\lt" === t33 || "⟨" === t33 ? t33 = "\\langle" : (">" === t33 || "\\gt" === t33 || "⟩" === t33) && (t33 = "\\rangle"), wc.contains(_4, t33) || wc.contains(_3, t33)) return _X(t33, e10, false, r10, i10, n10);
  if (wc.contains(_5, t33)) return _1(t33, _6[e10], false, r10, i10, n10);
  throw new wn("Illegal delimiter: '" + t33 + "'");
}, sizeToMaxHeight: _6, customSizedDelim: Tr, leftRightDelim: function(t33, e10, r10, i10, n10, a10) {
  var o10 = i10.fontMetrics().axisHeight * i10.sizeMultiplier, s10 = 5 / i10.fontMetrics().ptPerEm, l10 = Math.max(e10 - o10, r10 + o10);
  return Tr(t33, Math.max(l10 / 500 * 901, 2 * l10 - s10), true, i10, n10, a10);
} }, Tn = { "\\bigl": { mclass: "mopen", size: 1 }, "\\Bigl": { mclass: "mopen", size: 2 }, "\\biggl": { mclass: "mopen", size: 3 }, "\\Biggl": { mclass: "mopen", size: 4 }, "\\bigr": { mclass: "mclose", size: 1 }, "\\Bigr": { mclass: "mclose", size: 2 }, "\\biggr": { mclass: "mclose", size: 3 }, "\\Biggr": { mclass: "mclose", size: 4 }, "\\bigm": { mclass: "mrel", size: 1 }, "\\Bigm": { mclass: "mrel", size: 2 }, "\\biggm": { mclass: "mrel", size: 3 }, "\\Biggm": { mclass: "mrel", size: 4 }, "\\big": { mclass: "mord", size: 1 }, "\\Big": { mclass: "mord", size: 2 }, "\\bigg": { mclass: "mord", size: 3 }, "\\Bigg": { mclass: "mord", size: 4 } }, Ta = ["(", "\\lparen", ")", "\\rparen", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "⌊", "⌋", "\\lceil", "\\rceil", "⌈", "⌉", "<", ">", "\\langle", "⟨", "\\rangle", "⟩", "\\lt", "\\gt", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "⟮", "⟯", "\\lmoustache", "\\rmoustache", "⎰", "⎱", "/", "\\backslash", "|", "\\vert", "\\|", "\\Vert", "\\uparrow", "\\Uparrow", "\\downarrow", "\\Downarrow", "\\updownarrow", "\\Updownarrow", "."];
function To(t33, e10) {
  var r10 = _C(t33);
  if (r10 && wc.contains(Ta, r10.text)) return r10;
  if (r10) throw new wn("Invalid delimiter '" + r10.text + "' after '" + e10.funcName + "'", t33);
  throw new wn("Invalid delimiter type '" + t33.type + "'", t33);
}
function Ts(t33) {
  if (!t33.body) throw Error("Bug: The leftright ParseNode wasn't fully parsed.");
}
kZ({ type: "delimsizing", names: ["\\bigl", "\\Bigl", "\\biggl", "\\Biggl", "\\bigr", "\\Bigr", "\\biggr", "\\Biggr", "\\bigm", "\\Bigm", "\\biggm", "\\Biggm", "\\big", "\\Big", "\\bigg", "\\Bigg"], props: { numArgs: 1, argTypes: ["primitive"] }, handler: (t33, e10) => {
  var r10 = To(e10[0], t33);
  return { type: "delimsizing", mode: t33.parser.mode, size: Tn[t33.funcName].size, mclass: Tn[t33.funcName].mclass, delim: r10.text };
}, htmlBuilder: (t33, e10) => "." === t33.delim ? kG.makeSpan([t33.mclass]) : Ti.sizedDelim(t33.delim, t33.size, e10, t33.mode, [t33.mclass]), mathmlBuilder: (t33) => {
  var e10 = [];
  "." !== t33.delim && e10.push(_h(t33.delim, t33.mode));
  var r10 = new _l.MathNode("mo", e10);
  "mopen" === t33.mclass || "mclose" === t33.mclass ? r10.setAttribute("fence", "true") : r10.setAttribute("fence", "false"), r10.setAttribute("stretchy", "true");
  var i10 = wY(Ti.sizeToMaxHeight[t33.size]);
  return r10.setAttribute("minsize", i10), r10.setAttribute("maxsize", i10), r10;
} }), kZ({ type: "leftright-right", names: ["\\right"], props: { numArgs: 1, primitive: true }, handler: (t33, e10) => {
  var r10 = t33.parser.gullet.macros.get("\\current@color");
  if (r10 && "string" != typeof r10) throw new wn("\\current@color set to non-string in \\right");
  return { type: "leftright-right", mode: t33.parser.mode, delim: To(e10[0], t33).text, color: r10 };
} }), kZ({ type: "leftright", names: ["\\left"], props: { numArgs: 1, primitive: true }, handler: (t33, e10) => {
  var r10 = To(e10[0], t33), i10 = t33.parser;
  ++i10.leftrightDepth;
  var n10 = i10.parseExpression(false);
  --i10.leftrightDepth, i10.expect("\\right", false);
  var a10 = _T(i10.parseFunction(), "leftright-right");
  return { type: "leftright", mode: i10.mode, body: n10, left: r10.text, right: a10.delim, rightColor: a10.color };
}, htmlBuilder: (t33, e10) => {
  Ts(t33);
  for (var r10, i10, n10 = k6(t33.body, e10, true, ["mopen", "mclose"]), a10 = 0, o10 = 0, s10 = false, l10 = 0; l10 < n10.length; l10++) n10[l10].isMiddle ? s10 = true : (a10 = Math.max(n10[l10].height, a10), o10 = Math.max(n10[l10].depth, o10));
  if (a10 *= e10.sizeMultiplier, o10 *= e10.sizeMultiplier, r10 = "." === t33.left ? _e(e10, ["mopen"]) : Ti.leftRightDelim(t33.left, a10, o10, e10, t33.mode, ["mopen"]), n10.unshift(r10), s10) for (var h10 = 1; h10 < n10.length; h10++) {
    var u10 = n10[h10].isMiddle;
    u10 && (n10[h10] = Ti.leftRightDelim(u10.delim, a10, o10, u10.options, t33.mode, []));
  }
  if ("." === t33.right) i10 = _e(e10, ["mclose"]);
  else {
    var d10 = t33.rightColor ? e10.withColor(t33.rightColor) : e10;
    i10 = Ti.leftRightDelim(t33.right, a10, o10, d10, t33.mode, ["mclose"]);
  }
  return n10.push(i10), kG.makeSpan(["minner"], n10, e10);
}, mathmlBuilder: (t33, e10) => {
  Ts(t33);
  var r10 = _p(t33.body, e10);
  if ("." !== t33.left) {
    var i10 = new _l.MathNode("mo", [_h(t33.left, t33.mode)]);
    i10.setAttribute("fence", "true"), r10.unshift(i10);
  }
  if ("." !== t33.right) {
    var n10 = new _l.MathNode("mo", [_h(t33.right, t33.mode)]);
    n10.setAttribute("fence", "true"), t33.rightColor && n10.setAttribute("mathcolor", t33.rightColor), r10.push(n10);
  }
  return _c(r10);
} }), kZ({ type: "middle", names: ["\\middle"], props: { numArgs: 1, primitive: true }, handler: (t33, e10) => {
  var r10 = To(e10[0], t33);
  if (!t33.parser.leftrightDepth) throw new wn("\\middle without preceding \\left", r10);
  return { type: "middle", mode: t33.parser.mode, delim: r10.text };
}, htmlBuilder: (t33, e10) => {
  var r10;
  if ("." === t33.delim) r10 = _e(e10, []);
  else {
    r10 = Ti.sizedDelim(t33.delim, 1, e10, t33.mode, []);
    var i10 = { delim: t33.delim, options: e10 };
    r10.isMiddle = i10;
  }
  return r10;
}, mathmlBuilder: (t33, e10) => {
  var r10 = "\\vert" === t33.delim || "|" === t33.delim ? _h("|", "text") : _h(t33.delim, t33.mode), i10 = new _l.MathNode("mo", [r10]);
  return i10.setAttribute("fence", "true"), i10.setAttribute("lspace", "0.05em"), i10.setAttribute("rspace", "0.05em"), i10;
} });
var Tl = (t33, e10) => {
  var r10, i10, n10 = kG.wrapFragment(_r(t33.body, e10), e10), a10 = t33.label.slice(1), o10 = e10.sizeMultiplier, s10 = 0, l10 = wc.isCharacterBox(t33.body);
  if ("sout" === a10) (r10 = kG.makeSpan(["stretchy", "sout"])).height = e10.fontMetrics().defaultRuleThickness / o10, s10 = -0.5 * e10.fontMetrics().xHeight;
  else if ("phase" === a10) {
    var h10 = wq({ number: 0.6, unit: "pt" }, e10), u10 = wq({ number: 0.35, unit: "ex" }, e10);
    o10 /= e10.havingBaseSizing().sizeMultiplier;
    var d10 = n10.height + n10.depth + h10 + u10;
    n10.style.paddingLeft = wY(d10 / 2 + h10);
    var p10 = Math.floor(1e3 * d10 * o10), g10 = new w0([new w1("phase", "M400000 " + p10 + " H0 L" + p10 / 2 + " 0 l65 45 L145 " + (p10 - 80) + " H400000z")], { width: "400em", height: wY(p10 / 1e3), viewBox: "0 0 400000 " + p10, preserveAspectRatio: "xMinYMin slice" });
    (r10 = kG.makeSvgSpan(["hide-tail"], [g10], e10)).style.height = wY(d10), s10 = n10.depth + h10 + u10;
  } else {
    /cancel/.test(a10) ? l10 || n10.classes.push("cancel-pad") : "angl" === a10 ? n10.classes.push("anglpad") : n10.classes.push("boxpad");
    var f10 = 0, y10 = 0, v10 = 0;
    /box/.test(a10) ? (v10 = Math.max(e10.fontMetrics().fboxrule, e10.minRuleThickness), y10 = f10 = e10.fontMetrics().fboxsep + ("colorbox" === a10 ? 0 : v10)) : "angl" === a10 ? (f10 = 4 * (v10 = Math.max(e10.fontMetrics().defaultRuleThickness, e10.minRuleThickness)), y10 = Math.max(0, 0.25 - n10.depth)) : y10 = f10 = l10 ? 0.2 : 0, r10 = __.encloseSpan(n10, a10, f10, y10, e10), /fbox|boxed|fcolorbox/.test(a10) ? (r10.style.borderStyle = "solid", r10.style.borderWidth = wY(v10)) : "angl" === a10 && 0.049 !== v10 && (r10.style.borderTopWidth = wY(v10), r10.style.borderRightWidth = wY(v10)), s10 = n10.depth + y10, t33.backgroundColor && (r10.style.backgroundColor = t33.backgroundColor, t33.borderColor && (r10.style.borderColor = t33.borderColor));
  }
  if (t33.backgroundColor) i10 = kG.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: r10, shift: s10 }, { type: "elem", elem: n10, shift: 0 }] }, e10);
  else {
    var x10 = /cancel|phase/.test(a10) ? ["svg-align"] : [];
    i10 = kG.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: n10, shift: 0 }, { type: "elem", elem: r10, shift: s10, wrapperClasses: x10 }] }, e10);
  }
  return (/cancel/.test(a10) && (i10.height = n10.height, i10.depth = n10.depth), /cancel/.test(a10) && !l10) ? kG.makeSpan(["mord", "cancel-lap"], [i10], e10) : kG.makeSpan(["mord"], [i10], e10);
}, Th = (t33, e10) => {
  var r10 = 0, i10 = new _l.MathNode(t33.label.indexOf("colorbox") > -1 ? "mpadded" : "menclose", [_f(t33.body, e10)]);
  switch (t33.label) {
    case "\\cancel":
      i10.setAttribute("notation", "updiagonalstrike");
      break;
    case "\\bcancel":
      i10.setAttribute("notation", "downdiagonalstrike");
      break;
    case "\\phase":
      i10.setAttribute("notation", "phasorangle");
      break;
    case "\\sout":
      i10.setAttribute("notation", "horizontalstrike");
      break;
    case "\\fbox":
      i10.setAttribute("notation", "box");
      break;
    case "\\angl":
      i10.setAttribute("notation", "actuarial");
      break;
    case "\\fcolorbox":
    case "\\colorbox":
      if (r10 = e10.fontMetrics().fboxsep * e10.fontMetrics().ptPerEm, i10.setAttribute("width", "+" + 2 * r10 + "pt"), i10.setAttribute("height", "+" + 2 * r10 + "pt"), i10.setAttribute("lspace", r10 + "pt"), i10.setAttribute("voffset", r10 + "pt"), "\\fcolorbox" === t33.label) {
        var n10 = Math.max(e10.fontMetrics().fboxrule, e10.minRuleThickness);
        i10.setAttribute("style", "border: " + n10 + "em solid " + String(t33.borderColor));
      }
      break;
    case "\\xcancel":
      i10.setAttribute("notation", "updiagonalstrike downdiagonalstrike");
  }
  return t33.backgroundColor && i10.setAttribute("mathbackground", t33.backgroundColor), i10;
};
kZ({ type: "enclose", names: ["\\colorbox"], props: { numArgs: 2, allowedInText: true, argTypes: ["color", "text"] }, handler(t33, e10, r10) {
  var { parser: i10, funcName: n10 } = t33, a10 = _T(e10[0], "color-token").color, o10 = e10[1];
  return { type: "enclose", mode: i10.mode, label: n10, backgroundColor: a10, body: o10 };
}, htmlBuilder: Tl, mathmlBuilder: Th }), kZ({ type: "enclose", names: ["\\fcolorbox"], props: { numArgs: 3, allowedInText: true, argTypes: ["color", "color", "text"] }, handler(t33, e10, r10) {
  var { parser: i10, funcName: n10 } = t33, a10 = _T(e10[0], "color-token").color, o10 = _T(e10[1], "color-token").color, s10 = e10[2];
  return { type: "enclose", mode: i10.mode, label: n10, backgroundColor: o10, borderColor: a10, body: s10 };
}, htmlBuilder: Tl, mathmlBuilder: Th }), kZ({ type: "enclose", names: ["\\fbox"], props: { numArgs: 1, argTypes: ["hbox"], allowedInText: true }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "enclose", mode: r10.mode, label: "\\fbox", body: e10[0] };
} }), kZ({ type: "enclose", names: ["\\cancel", "\\bcancel", "\\xcancel", "\\sout", "\\phase"], props: { numArgs: 1 }, handler(t33, e10) {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0];
  return { type: "enclose", mode: r10.mode, label: i10, body: n10 };
}, htmlBuilder: Tl, mathmlBuilder: Th }), kZ({ type: "enclose", names: ["\\angl"], props: { numArgs: 1, argTypes: ["hbox"], allowedInText: false }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "enclose", mode: r10.mode, label: "\\angl", body: e10[0] };
} });
var Tc = {};
function Tu(t33) {
  for (var { type: e10, names: r10, props: i10, handler: n10, htmlBuilder: a10, mathmlBuilder: o10 } = t33, s10 = { type: e10, numArgs: i10.numArgs || 0, allowedInText: false, numOptionalArgs: 0, handler: n10 }, l10 = 0; l10 < r10.length; ++l10) Tc[r10[l10]] = s10;
  a10 && (kX[e10] = a10), o10 && (kK[e10] = o10);
}
var Td = {};
function Tp(t33, e10) {
  Td[t33] = e10;
}
function Tg(t33) {
  var e10 = [];
  t33.consumeSpaces();
  var r10 = t33.fetch().text;
  for ("\\relax" === r10 && (t33.consume(), t33.consumeSpaces(), r10 = t33.fetch().text); "\\hline" === r10 || "\\hdashline" === r10; ) t33.consume(), e10.push("\\hdashline" === r10), t33.consumeSpaces(), r10 = t33.fetch().text;
  return e10;
}
var Tf = (t33) => {
  if (!t33.parser.settings.displayMode) throw new wn("{" + t33.envName + "} can be used only in display mode.");
};
function Tm(t33) {
  if (-1 === t33.indexOf("ed")) return -1 === t33.indexOf("*");
}
function Ty(t33, e10, r10) {
  var { hskipBeforeAndAfter: i10, addJot: n10, cols: a10, arraystretch: o10, colSeparationType: s10, autoTag: l10, singleRow: h10, emptySingleRow: u10, maxNumCols: d10, leqno: p10 } = e10;
  if (t33.gullet.beginGroup(), h10 || t33.gullet.macros.set("\\cr", "\\\\\\relax"), !o10) {
    var g10 = t33.gullet.expandMacroAsText("\\arraystretch");
    if (null == g10) o10 = 1;
    else if (!(o10 = parseFloat(g10)) || o10 < 0) throw new wn("Invalid \\arraystretch: " + g10);
  }
  t33.gullet.beginGroup();
  var f10 = [], y10 = [f10], v10 = [], x10 = [], b10 = null != l10 ? [] : void 0;
  function w10() {
    l10 && t33.gullet.macros.set("\\@eqnsw", "1", true);
  }
  function k10() {
    b10 && (t33.gullet.macros.get("\\df@tag") ? (b10.push(t33.subparse([new wi("\\df@tag")])), t33.gullet.macros.set("\\df@tag", void 0, true)) : b10.push(!!l10 && "1" === t33.gullet.macros.get("\\@eqnsw")));
  }
  for (w10(), x10.push(Tg(t33)); ; ) {
    var _10 = t33.parseExpression(false, h10 ? "\\end" : "\\\\");
    t33.gullet.endGroup(), t33.gullet.beginGroup(), _10 = { type: "ordgroup", mode: t33.mode, body: _10 }, r10 && (_10 = { type: "styling", mode: t33.mode, style: r10, body: [_10] }), f10.push(_10);
    var T10 = t33.fetch().text;
    if ("&" === T10) {
      if (d10 && f10.length === d10) {
        if (h10 || s10) throw new wn("Too many tab characters: &", t33.nextToken);
        t33.settings.reportNonstrict("textEnv", "Too few columns specified in the {array} column argument.");
      }
      t33.consume();
    } else if ("\\end" === T10) {
      k10(), 1 === f10.length && "styling" === _10.type && 0 === _10.body[0].body.length && (y10.length > 1 || !u10) && y10.pop(), x10.length < y10.length + 1 && x10.push([]);
      break;
    } else if ("\\\\" === T10) {
      t33.consume();
      var E10 = void 0;
      " " !== t33.gullet.future().text && (E10 = t33.parseSizeGroup(true)), v10.push(E10 ? E10.value : null), k10(), x10.push(Tg(t33)), f10 = [], y10.push(f10), w10();
    } else throw new wn("Expected & or \\\\ or \\cr or \\end", t33.nextToken);
  }
  return t33.gullet.endGroup(), t33.gullet.endGroup(), { type: "array", mode: t33.mode, addJot: n10, arraystretch: o10, body: y10, cols: a10, rowGaps: v10, hskipBeforeAndAfter: i10, hLinesBeforeRow: x10, colSeparationType: s10, tags: b10, leqno: p10 };
}
function Tv(t33) {
  return "d" === t33.slice(0, 1) ? "display" : "text";
}
var Tx = function(t33, e10) {
  var r10, i10, n10, a10, o10 = t33.body.length, s10 = t33.hLinesBeforeRow, l10 = 0, h10 = Array(o10), u10 = [], d10 = Math.max(e10.fontMetrics().arrayRuleWidth, e10.minRuleThickness), p10 = 1 / e10.fontMetrics().ptPerEm, g10 = 5 * p10;
  t33.colSeparationType && "small" === t33.colSeparationType && (g10 = 0.2778 * (e10.havingStyle(ww.SCRIPT).sizeMultiplier / e10.sizeMultiplier));
  var f10 = "CD" === t33.colSeparationType ? wq({ number: 3, unit: "ex" }, e10) : 12 * p10, y10 = 3 * p10, v10 = t33.arraystretch * f10, x10 = 0.7 * v10, b10 = 0.3 * v10, w10 = 0;
  function k10(t34) {
    for (var e11 = 0; e11 < t34.length; ++e11) e11 > 0 && (w10 += 0.25), u10.push({ pos: w10, isDashed: t34[e11] });
  }
  for (k10(s10[0]), r10 = 0; r10 < t33.body.length; ++r10) {
    var _10 = t33.body[r10], T10 = x10, E10 = b10;
    l10 < _10.length && (l10 = _10.length);
    var C10 = Array(_10.length);
    for (i10 = 0; i10 < _10.length; ++i10) {
      var S10 = _r(_10[i10], e10);
      E10 < S10.depth && (E10 = S10.depth), T10 < S10.height && (T10 = S10.height), C10[i10] = S10;
    }
    var A10 = t33.rowGaps[r10], L10 = 0;
    A10 && (L10 = wq(A10, e10)) > 0 && (E10 < (L10 += b10) && (E10 = L10), L10 = 0), t33.addJot && (E10 += y10), C10.height = T10, C10.depth = E10, w10 += T10, C10.pos = w10, w10 += E10 + L10, h10[r10] = C10, k10(s10[r10 + 1]);
  }
  var N10 = w10 / 2 + e10.fontMetrics().axisHeight, I10 = t33.cols || [], M10 = [], R10 = [];
  if (t33.tags && t33.tags.some((t34) => t34)) for (r10 = 0; r10 < o10; ++r10) {
    var D10 = h10[r10], O10 = D10.pos - N10, P10 = t33.tags[r10], $10 = void 0;
    ($10 = true === P10 ? kG.makeSpan(["eqn-num"], [], e10) : false === P10 ? kG.makeSpan([], [], e10) : kG.makeSpan([], k6(P10, e10, true), e10)).depth = D10.depth, $10.height = D10.height, R10.push({ type: "elem", elem: $10, shift: O10 });
  }
  for (i10 = 0, a10 = 0; i10 < l10 || a10 < I10.length; ++i10, ++a10) {
    for (var B10 = I10[a10] || {}, F10 = true; "separator" === B10.type; ) {
      if (F10 || ((n10 = kG.makeSpan(["arraycolsep"], [])).style.width = wY(e10.fontMetrics().doubleRuleSep), M10.push(n10)), "|" === B10.separator || ":" === B10.separator) {
        var z10 = "|" === B10.separator ? "solid" : "dashed", U10 = kG.makeSpan(["vertical-separator"], [], e10);
        U10.style.height = wY(w10), U10.style.borderRightWidth = wY(d10), U10.style.borderRightStyle = z10, U10.style.margin = "0 " + wY(-d10 / 2);
        var G10 = w10 - N10;
        G10 && (U10.style.verticalAlign = wY(-G10)), M10.push(U10);
      } else throw new wn("Invalid separator type: " + B10.separator);
      B10 = I10[++a10] || {}, F10 = false;
    }
    if (!(i10 >= l10)) {
      var q10 = void 0;
      (i10 > 0 || t33.hskipBeforeAndAfter) && 0 !== (q10 = wc.deflt(B10.pregap, g10)) && ((n10 = kG.makeSpan(["arraycolsep"], [])).style.width = wY(q10), M10.push(n10));
      var Y10 = [];
      for (r10 = 0; r10 < o10; ++r10) {
        var H10 = h10[r10], j10 = H10[i10];
        if (j10) {
          var W10 = H10.pos - N10;
          j10.depth = H10.depth, j10.height = H10.height, Y10.push({ type: "elem", elem: j10, shift: W10 });
        }
      }
      Y10 = kG.makeVList({ positionType: "individualShift", children: Y10 }, e10), Y10 = kG.makeSpan(["col-align-" + (B10.align || "c")], [Y10]), M10.push(Y10), (i10 < l10 - 1 || t33.hskipBeforeAndAfter) && 0 !== (q10 = wc.deflt(B10.postgap, g10)) && ((n10 = kG.makeSpan(["arraycolsep"], [])).style.width = wY(q10), M10.push(n10));
    }
  }
  if (h10 = kG.makeSpan(["mtable"], M10), u10.length > 0) {
    for (var V10 = kG.makeLineSpan("hline", e10, d10), X10 = kG.makeLineSpan("hdashline", e10, d10), K10 = [{ type: "elem", elem: h10, shift: 0 }]; u10.length > 0; ) {
      var Z10 = u10.pop(), Q10 = Z10.pos - N10;
      Z10.isDashed ? K10.push({ type: "elem", elem: X10, shift: Q10 }) : K10.push({ type: "elem", elem: V10, shift: Q10 });
    }
    h10 = kG.makeVList({ positionType: "individualShift", children: K10 }, e10);
  }
  if (0 === R10.length) return kG.makeSpan(["mord"], [h10], e10);
  var J10 = kG.makeVList({ positionType: "individualShift", children: R10 }, e10);
  return J10 = kG.makeSpan(["tag"], [J10], e10), kG.makeFragment([h10, J10]);
}, Tb = { c: "center ", l: "left ", r: "right " }, Tw = function(t33, e10) {
  for (var r10 = [], i10 = new _l.MathNode("mtd", [], ["mtr-glue"]), n10 = new _l.MathNode("mtd", [], ["mml-eqn-num"]), a10 = 0; a10 < t33.body.length; a10++) {
    for (var o10 = t33.body[a10], s10 = [], l10 = 0; l10 < o10.length; l10++) s10.push(new _l.MathNode("mtd", [_f(o10[l10], e10)]));
    t33.tags && t33.tags[a10] && (s10.unshift(i10), s10.push(i10), t33.leqno ? s10.unshift(n10) : s10.push(n10)), r10.push(new _l.MathNode("mtr", s10));
  }
  var h10 = new _l.MathNode("mtable", r10), u10 = 0.5 === t33.arraystretch ? 0.1 : 0.16 + t33.arraystretch - 1 + (t33.addJot ? 0.09 : 0);
  h10.setAttribute("rowspacing", wY(u10));
  var d10 = "", p10 = "";
  if (t33.cols && t33.cols.length > 0) {
    var g10 = t33.cols, f10 = "", y10 = false, v10 = 0, x10 = g10.length;
    "separator" === g10[0].type && (d10 += "top ", v10 = 1), "separator" === g10[g10.length - 1].type && (d10 += "bottom ", x10 -= 1);
    for (var b10 = v10; b10 < x10; b10++) "align" === g10[b10].type ? (p10 += Tb[g10[b10].align], y10 && (f10 += "none "), y10 = true) : "separator" === g10[b10].type && y10 && (f10 += "|" === g10[b10].separator ? "solid " : "dashed ", y10 = false);
    h10.setAttribute("columnalign", p10.trim()), /[sd]/.test(f10) && h10.setAttribute("columnlines", f10.trim());
  }
  if ("align" === t33.colSeparationType) {
    for (var w10 = t33.cols || [], k10 = "", _10 = 1; _10 < w10.length; _10++) k10 += _10 % 2 ? "0em " : "1em ";
    h10.setAttribute("columnspacing", k10.trim());
  } else "alignat" === t33.colSeparationType || "gather" === t33.colSeparationType ? h10.setAttribute("columnspacing", "0em") : "small" === t33.colSeparationType ? h10.setAttribute("columnspacing", "0.2778em") : "CD" === t33.colSeparationType ? h10.setAttribute("columnspacing", "0.5em") : h10.setAttribute("columnspacing", "1em");
  var T10 = "", E10 = t33.hLinesBeforeRow;
  d10 += (E10[0].length > 0 ? "left " : "") + (E10[E10.length - 1].length > 0 ? "right " : "");
  for (var C10 = 1; C10 < E10.length - 1; C10++) T10 += 0 === E10[C10].length ? "none " : E10[C10][0] ? "dashed " : "solid ";
  return /[sd]/.test(T10) && h10.setAttribute("rowlines", T10.trim()), "" !== d10 && (h10 = new _l.MathNode("menclose", [h10])).setAttribute("notation", d10.trim()), t33.arraystretch && t33.arraystretch < 1 && (h10 = new _l.MathNode("mstyle", [h10])).setAttribute("scriptlevel", "1"), h10;
}, Tk = function(t33, e10) {
  -1 === t33.envName.indexOf("ed") && Tf(t33);
  var r10, i10 = [], n10 = t33.envName.indexOf("at") > -1 ? "alignat" : "align", a10 = "split" === t33.envName, o10 = Ty(t33.parser, { cols: i10, addJot: true, autoTag: a10 ? void 0 : Tm(t33.envName), emptySingleRow: true, colSeparationType: n10, maxNumCols: a10 ? 2 : void 0, leqno: t33.parser.settings.leqno }, "display"), s10 = 0, l10 = { type: "ordgroup", mode: t33.mode, body: [] };
  if (e10[0] && "ordgroup" === e10[0].type) {
    for (var h10 = "", u10 = 0; u10 < e10[0].body.length; u10++) h10 += _T(e10[0].body[u10], "textord").text;
    s10 = 2 * (r10 = Number(h10));
  }
  var d10 = !s10;
  o10.body.forEach(function(t34) {
    for (var e11 = 1; e11 < t34.length; e11 += 2) {
      var i11 = _T(t34[e11], "styling");
      _T(i11.body[0], "ordgroup").body.unshift(l10);
    }
    if (d10) s10 < t34.length && (s10 = t34.length);
    else {
      var n11 = t34.length / 2;
      if (r10 < n11) throw new wn("Too many math in a row: expected " + r10 + ", but got " + n11, t34[0]);
    }
  });
  for (var p10 = 0; p10 < s10; ++p10) {
    var g10 = "r", f10 = 0;
    p10 % 2 == 1 ? g10 = "l" : p10 > 0 && d10 && (f10 = 1), i10[p10] = { type: "align", align: g10, pregap: f10, postgap: 0 };
  }
  return o10.colSeparationType = d10 ? "align" : "alignat", o10;
};
Tu({ type: "array", names: ["array", "darray"], props: { numArgs: 1 }, handler(t33, e10) {
  var r10 = (_C(e10[0]) ? [e10[0]] : _T(e10[0], "ordgroup").body).map(function(t34) {
    var e11 = _E(t34).text;
    if (-1 !== "lcr".indexOf(e11)) return { type: "align", align: e11 };
    if ("|" === e11) return { type: "separator", separator: "|" };
    if (":" === e11) return { type: "separator", separator: ":" };
    throw new wn("Unknown column alignment: " + e11, t34);
  }), i10 = { cols: r10, hskipBeforeAndAfter: true, maxNumCols: r10.length };
  return Ty(t33.parser, i10, Tv(t33.envName));
}, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["matrix", "pmatrix", "bmatrix", "Bmatrix", "vmatrix", "Vmatrix", "matrix*", "pmatrix*", "bmatrix*", "Bmatrix*", "vmatrix*", "Vmatrix*"], props: { numArgs: 0 }, handler(t33) {
  var e10 = { matrix: null, pmatrix: ["(", ")"], bmatrix: ["[", "]"], Bmatrix: ["\\{", "\\}"], vmatrix: ["|", "|"], Vmatrix: ["\\Vert", "\\Vert"] }[t33.envName.replace("*", "")], r10 = "c", i10 = { hskipBeforeAndAfter: false, cols: [{ type: "align", align: r10 }] };
  if ("*" === t33.envName.charAt(t33.envName.length - 1)) {
    var n10 = t33.parser;
    if (n10.consumeSpaces(), "[" === n10.fetch().text) {
      if (n10.consume(), n10.consumeSpaces(), r10 = n10.fetch().text, -1 === "lcr".indexOf(r10)) throw new wn("Expected l or c or r", n10.nextToken);
      n10.consume(), n10.consumeSpaces(), n10.expect("]"), n10.consume(), i10.cols = [{ type: "align", align: r10 }];
    }
  }
  var a10 = Ty(t33.parser, i10, Tv(t33.envName)), o10 = Math.max(0, ...a10.body.map((t34) => t34.length));
  return a10.cols = Array(o10).fill({ type: "align", align: r10 }), e10 ? { type: "leftright", mode: t33.mode, body: [a10], left: e10[0], right: e10[1], rightColor: void 0 } : a10;
}, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["smallmatrix"], props: { numArgs: 0 }, handler(t33) {
  var e10 = Ty(t33.parser, { arraystretch: 0.5 }, "script");
  return e10.colSeparationType = "small", e10;
}, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["subarray"], props: { numArgs: 1 }, handler(t33, e10) {
  var r10 = (_C(e10[0]) ? [e10[0]] : _T(e10[0], "ordgroup").body).map(function(t34) {
    var e11 = _E(t34).text;
    if (-1 !== "lc".indexOf(e11)) return { type: "align", align: e11 };
    throw new wn("Unknown column alignment: " + e11, t34);
  });
  if (r10.length > 1) throw new wn("{subarray} can contain only one column");
  var i10 = { cols: r10, hskipBeforeAndAfter: false, arraystretch: 0.5 };
  if ((i10 = Ty(t33.parser, i10, "script")).body.length > 0 && i10.body[0].length > 1) throw new wn("{subarray} can contain only one column");
  return i10;
}, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["cases", "dcases", "rcases", "drcases"], props: { numArgs: 0 }, handler(t33) {
  var e10 = Ty(t33.parser, { arraystretch: 1.2, cols: [{ type: "align", align: "l", pregap: 0, postgap: 1 }, { type: "align", align: "l", pregap: 0, postgap: 0 }] }, Tv(t33.envName));
  return { type: "leftright", mode: t33.mode, body: [e10], left: t33.envName.indexOf("r") > -1 ? "." : "\\{", right: t33.envName.indexOf("r") > -1 ? "\\}" : ".", rightColor: void 0 };
}, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["align", "align*", "aligned", "split"], props: { numArgs: 0 }, handler: Tk, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["gathered", "gather", "gather*"], props: { numArgs: 0 }, handler(t33) {
  wc.contains(["gather", "gather*"], t33.envName) && Tf(t33);
  var e10 = { cols: [{ type: "align", align: "c" }], addJot: true, colSeparationType: "gather", autoTag: Tm(t33.envName), emptySingleRow: true, leqno: t33.parser.settings.leqno };
  return Ty(t33.parser, e10, "display");
}, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["alignat", "alignat*", "alignedat"], props: { numArgs: 1 }, handler: Tk, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["equation", "equation*"], props: { numArgs: 0 }, handler(t33) {
  Tf(t33);
  var e10 = { autoTag: Tm(t33.envName), emptySingleRow: true, singleRow: true, maxNumCols: 1, leqno: t33.parser.settings.leqno };
  return Ty(t33.parser, e10, "display");
}, htmlBuilder: Tx, mathmlBuilder: Tw }), Tu({ type: "array", names: ["CD"], props: { numArgs: 0 }, handler: (t33) => (Tf(t33), function(t34) {
  var e10 = [];
  for (t34.gullet.beginGroup(), t34.gullet.macros.set("\\cr", "\\\\\\relax"), t34.gullet.beginGroup(); ; ) {
    e10.push(t34.parseExpression(false, "\\\\")), t34.gullet.endGroup(), t34.gullet.beginGroup();
    var r10 = t34.fetch().text;
    if ("&" === r10 || "\\\\" === r10) t34.consume();
    else if ("\\end" === r10) {
      0 === e10[e10.length - 1].length && e10.pop();
      break;
    } else throw new wn("Expected \\\\ or \\cr or \\end", t34.nextToken);
  }
  for (var i10 = [], n10 = [i10], a10 = 0; a10 < e10.length; a10++) {
    for (var o10 = e10[a10], s10 = _P(), l10 = 0; l10 < o10.length; l10++) if (_$(o10[l10])) {
      i10.push(s10);
      var h10 = _E(o10[l10 += 1]).text, u10 = [, ,];
      if (u10[0] = { type: "ordgroup", mode: "math", body: [] }, u10[1] = { type: "ordgroup", mode: "math", body: [] }, "=|.".indexOf(h10) > -1) ;
      else if ("<>AV".indexOf(h10) > -1) for (var d10 = 0; d10 < 2; d10++) {
        for (var p10 = true, g10 = l10 + 1; g10 < o10.length; g10++) {
          if (_B(o10[g10], h10)) {
            p10 = false, l10 = g10;
            break;
          }
          if (_$(o10[g10])) throw new wn("Missing a " + h10 + " character to complete a CD arrow.", o10[g10]);
          u10[d10].body.push(o10[g10]);
        }
        if (p10) throw new wn("Missing a " + h10 + " character to complete a CD arrow.", o10[l10]);
      }
      else throw new wn('Expected one of "<>AV=|." after @', o10[l10]);
      var f10 = { type: "styling", body: [function(t35, e11, r11) {
        var i11 = _O[t35];
        switch (i11) {
          case "\\\\cdrightarrow":
          case "\\\\cdleftarrow":
            return r11.callFunction(i11, [e11[0]], [e11[1]]);
          case "\\uparrow":
          case "\\downarrow":
            var n11 = r11.callFunction("\\\\cdleft", [e11[0]], []), a11 = r11.callFunction("\\Big", [{ type: "atom", text: i11, mode: "math", family: "rel" }], []), o11 = r11.callFunction("\\\\cdright", [e11[1]], []);
            return r11.callFunction("\\\\cdparent", [{ type: "ordgroup", mode: "math", body: [n11, a11, o11] }], []);
          case "\\\\cdlongequal":
            return r11.callFunction("\\\\cdlongequal", [], []);
          case "\\Vert":
            return r11.callFunction("\\Big", [{ type: "textord", text: "\\Vert", mode: "math" }], []);
          default:
            return { type: "textord", text: " ", mode: "math" };
        }
      }(h10, u10, t34)], mode: "math", style: "display" };
      i10.push(f10), s10 = _P();
    } else s10.body.push(o10[l10]);
    a10 % 2 == 0 ? i10.push(s10) : i10.shift(), i10 = [], n10.push(i10);
  }
  t34.gullet.endGroup(), t34.gullet.endGroup();
  var y10 = Array(n10[0].length).fill({ type: "align", align: "c", pregap: 0.25, postgap: 0.25 });
  return { type: "array", mode: "math", body: n10, arraystretch: 1, addJot: true, rowGaps: [null], cols: y10, colSeparationType: "CD", hLinesBeforeRow: Array(n10.length + 1).fill([]) };
}(t33.parser)), htmlBuilder: Tx, mathmlBuilder: Tw }), Tp("\\nonumber", "\\gdef\\@eqnsw{0}"), Tp("\\notag", "\\nonumber"), kZ({ type: "text", names: ["\\hline", "\\hdashline"], props: { numArgs: 0, allowedInText: true, allowedInMath: true }, handler(t33, e10) {
  throw new wn(t33.funcName + " valid only within array environment");
} }), kZ({ type: "environment", names: ["\\begin", "\\end"], props: { numArgs: 1, argTypes: ["text"] }, handler(t33, e10) {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0];
  if ("ordgroup" !== n10.type) throw new wn("Invalid environment name", n10);
  for (var a10 = "", o10 = 0; o10 < n10.body.length; ++o10) a10 += _T(n10.body[o10], "textord").text;
  if ("\\begin" === i10) {
    if (!Tc.hasOwnProperty(a10)) throw new wn("No such environment: " + a10, n10);
    var s10 = Tc[a10], { args: l10, optArgs: h10 } = r10.parseArguments("\\begin{" + a10 + "}", s10), u10 = { mode: r10.mode, envName: a10, parser: r10 }, d10 = s10.handler(u10, l10, h10);
    r10.expect("\\end", false);
    var p10 = r10.nextToken, g10 = _T(r10.parseFunction(), "environment");
    if (g10.name !== a10) throw new wn("Mismatch: \\begin{" + a10 + "} matched by \\end{" + g10.name + "}", p10);
    return d10;
  }
  return { type: "environment", mode: r10.mode, name: a10, nameGroup: n10 };
} });
var T_ = (t33, e10) => {
  var r10 = t33.font, i10 = e10.withFont(r10);
  return _r(t33.body, i10);
}, TT = (t33, e10) => {
  var r10 = t33.font, i10 = e10.withFont(r10);
  return _f(t33.body, i10);
}, TE = { "\\Bbb": "\\mathbb", "\\bold": "\\mathbf", "\\frak": "\\mathfrak", "\\bm": "\\boldsymbol" };
kZ({ type: "font", names: ["\\mathrm", "\\mathit", "\\mathbf", "\\mathnormal", "\\mathsfit", "\\mathbb", "\\mathcal", "\\mathfrak", "\\mathscr", "\\mathsf", "\\mathtt", "\\Bbb", "\\bold", "\\frak"], props: { numArgs: 1, allowedInArgument: true }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10 } = t33, n10 = kJ(e10[0]), a10 = i10;
  return a10 in TE && (a10 = TE[a10]), { type: "font", mode: r10.mode, font: a10.slice(1), body: n10 };
}, htmlBuilder: T_, mathmlBuilder: TT }), kZ({ type: "mclass", names: ["\\boldsymbol", "\\bm"], props: { numArgs: 1 }, handler: (t33, e10) => {
  var { parser: r10 } = t33, i10 = e10[0], n10 = wc.isCharacterBox(i10);
  return { type: "mclass", mode: r10.mode, mclass: _D(i10), body: [{ type: "font", mode: r10.mode, font: "boldsymbol", body: i10 }], isCharacterBox: n10 };
} }), kZ({ type: "font", names: ["\\rm", "\\sf", "\\tt", "\\bf", "\\it", "\\cal"], props: { numArgs: 0, allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10, breakOnTokenText: n10 } = t33, { mode: a10 } = r10, o10 = r10.parseExpression(true, n10);
  return { type: "font", mode: a10, font: "math" + i10.slice(1), body: { type: "ordgroup", mode: r10.mode, body: o10 } };
}, htmlBuilder: T_, mathmlBuilder: TT });
var TC = (t33, e10) => {
  var r10 = e10;
  return "display" === t33 ? r10 = r10.id >= ww.SCRIPT.id ? r10.text() : ww.DISPLAY : "text" === t33 && r10.size === ww.DISPLAY.size ? r10 = ww.TEXT : "script" === t33 ? r10 = ww.SCRIPT : "scriptscript" === t33 && (r10 = ww.SCRIPTSCRIPT), r10;
}, TS = (t33, e10) => {
  var r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10 = TC(t33.size, e10.style), f10 = g10.fracNum(), y10 = g10.fracDen();
  r10 = e10.havingStyle(f10);
  var v10 = _r(t33.numer, r10, e10);
  if (t33.continued) {
    var x10 = 8.5 / e10.fontMetrics().ptPerEm, b10 = 3.5 / e10.fontMetrics().ptPerEm;
    v10.height = v10.height < x10 ? x10 : v10.height, v10.depth = v10.depth < b10 ? b10 : v10.depth;
  }
  r10 = e10.havingStyle(y10);
  var w10 = _r(t33.denom, r10, e10);
  if (t33.hasBarLine ? (t33.barSize ? (n10 = wq(t33.barSize, e10), i10 = kG.makeLineSpan("frac-line", e10, n10)) : i10 = kG.makeLineSpan("frac-line", e10), n10 = i10.height, a10 = i10.height) : (i10 = null, n10 = 0, a10 = e10.fontMetrics().defaultRuleThickness), g10.size === ww.DISPLAY.size || "display" === t33.size ? (o10 = e10.fontMetrics().num1, s10 = n10 > 0 ? 3 * a10 : 7 * a10, l10 = e10.fontMetrics().denom1) : (n10 > 0 ? (o10 = e10.fontMetrics().num2, s10 = a10) : (o10 = e10.fontMetrics().num3, s10 = 3 * a10), l10 = e10.fontMetrics().denom2), i10) {
    var k10 = e10.fontMetrics().axisHeight;
    o10 - v10.depth - (k10 + 0.5 * n10) < s10 && (o10 += s10 - (o10 - v10.depth - (k10 + 0.5 * n10))), k10 - 0.5 * n10 - (w10.height - l10) < s10 && (l10 += s10 - (k10 - 0.5 * n10 - (w10.height - l10)));
    var _10 = -(k10 - 0.5 * n10);
    h10 = kG.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: w10, shift: l10 }, { type: "elem", elem: i10, shift: _10 }, { type: "elem", elem: v10, shift: -o10 }] }, e10);
  } else {
    var T10 = o10 - v10.depth - (w10.height - l10);
    T10 < s10 && (o10 += 0.5 * (s10 - T10), l10 += 0.5 * (s10 - T10)), h10 = kG.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: w10, shift: l10 }, { type: "elem", elem: v10, shift: -o10 }] }, e10);
  }
  return r10 = e10.havingStyle(g10), h10.height *= r10.sizeMultiplier / e10.sizeMultiplier, h10.depth *= r10.sizeMultiplier / e10.sizeMultiplier, u10 = g10.size === ww.DISPLAY.size ? e10.fontMetrics().delim1 : g10.size === ww.SCRIPTSCRIPT.size ? e10.havingStyle(ww.SCRIPT).fontMetrics().delim2 : e10.fontMetrics().delim2, d10 = null == t33.leftDelim ? _e(e10, ["mopen"]) : Ti.customSizedDelim(t33.leftDelim, u10, true, e10.havingStyle(g10), t33.mode, ["mopen"]), p10 = t33.continued ? kG.makeSpan([]) : null == t33.rightDelim ? _e(e10, ["mclose"]) : Ti.customSizedDelim(t33.rightDelim, u10, true, e10.havingStyle(g10), t33.mode, ["mclose"]), kG.makeSpan(["mord"].concat(r10.sizingClasses(e10)), [d10, kG.makeSpan(["mfrac"], [h10]), p10], e10);
}, TA = (t33, e10) => {
  var r10 = new _l.MathNode("mfrac", [_f(t33.numer, e10), _f(t33.denom, e10)]);
  if (t33.hasBarLine) {
    if (t33.barSize) {
      var i10 = wq(t33.barSize, e10);
      r10.setAttribute("linethickness", wY(i10));
    }
  } else r10.setAttribute("linethickness", "0px");
  var n10 = TC(t33.size, e10.style);
  if (n10.size !== e10.style.size) {
    r10 = new _l.MathNode("mstyle", [r10]);
    var a10 = n10.size === ww.DISPLAY.size ? "true" : "false";
    r10.setAttribute("displaystyle", a10), r10.setAttribute("scriptlevel", "0");
  }
  if (null != t33.leftDelim || null != t33.rightDelim) {
    var o10 = [];
    if (null != t33.leftDelim) {
      var s10 = new _l.MathNode("mo", [new _l.TextNode(t33.leftDelim.replace("\\", ""))]);
      s10.setAttribute("fence", "true"), o10.push(s10);
    }
    if (o10.push(r10), null != t33.rightDelim) {
      var l10 = new _l.MathNode("mo", [new _l.TextNode(t33.rightDelim.replace("\\", ""))]);
      l10.setAttribute("fence", "true"), o10.push(l10);
    }
    return _c(o10);
  }
  return r10;
};
kZ({ type: "genfrac", names: ["\\dfrac", "\\frac", "\\tfrac", "\\dbinom", "\\binom", "\\tbinom", "\\\\atopfrac", "\\\\bracefrac", "\\\\brackfrac"], props: { numArgs: 2, allowedInArgument: true }, handler: (t33, e10) => {
  var r10, { parser: i10, funcName: n10 } = t33, a10 = e10[0], o10 = e10[1], s10 = null, l10 = null, h10 = "auto";
  switch (n10) {
    case "\\dfrac":
    case "\\frac":
    case "\\tfrac":
      r10 = true;
      break;
    case "\\\\atopfrac":
      r10 = false;
      break;
    case "\\dbinom":
    case "\\binom":
    case "\\tbinom":
      r10 = false, s10 = "(", l10 = ")";
      break;
    case "\\\\bracefrac":
      r10 = false, s10 = "\\{", l10 = "\\}";
      break;
    case "\\\\brackfrac":
      r10 = false, s10 = "[", l10 = "]";
      break;
    default:
      throw Error("Unrecognized genfrac command");
  }
  switch (n10) {
    case "\\dfrac":
    case "\\dbinom":
      h10 = "display";
      break;
    case "\\tfrac":
    case "\\tbinom":
      h10 = "text";
  }
  return { type: "genfrac", mode: i10.mode, continued: false, numer: a10, denom: o10, hasBarLine: r10, leftDelim: s10, rightDelim: l10, size: h10, barSize: null };
}, htmlBuilder: TS, mathmlBuilder: TA }), kZ({ type: "genfrac", names: ["\\cfrac"], props: { numArgs: 2 }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0], a10 = e10[1];
  return { type: "genfrac", mode: r10.mode, continued: true, numer: n10, denom: a10, hasBarLine: true, leftDelim: null, rightDelim: null, size: "display", barSize: null };
} }), kZ({ type: "infix", names: ["\\over", "\\choose", "\\atop", "\\brace", "\\brack"], props: { numArgs: 0, infix: true }, handler(t33) {
  var e10, { parser: r10, funcName: i10, token: n10 } = t33;
  switch (i10) {
    case "\\over":
      e10 = "\\frac";
      break;
    case "\\choose":
      e10 = "\\binom";
      break;
    case "\\atop":
      e10 = "\\\\atopfrac";
      break;
    case "\\brace":
      e10 = "\\\\bracefrac";
      break;
    case "\\brack":
      e10 = "\\\\brackfrac";
      break;
    default:
      throw Error("Unrecognized infix genfrac command");
  }
  return { type: "infix", mode: r10.mode, replaceWith: e10, token: n10 };
} });
var TL = ["display", "text", "script", "scriptscript"], TN = function(t33) {
  var e10 = null;
  return t33.length > 0 && (e10 = "." === (e10 = t33) ? null : e10), e10;
};
kZ({ type: "genfrac", names: ["\\genfrac"], props: { numArgs: 6, allowedInArgument: true, argTypes: ["math", "math", "size", "text", "math", "math"] }, handler(t33, e10) {
  var r10, { parser: i10 } = t33, n10 = e10[4], a10 = e10[5], o10 = kJ(e10[0]), s10 = "atom" === o10.type && "open" === o10.family ? TN(o10.text) : null, l10 = kJ(e10[1]), h10 = "atom" === l10.type && "close" === l10.family ? TN(l10.text) : null, u10 = _T(e10[2], "size"), d10 = null;
  r10 = !!u10.isBlank || (d10 = u10.value).number > 0;
  var p10 = "auto", g10 = e10[3];
  return "ordgroup" === g10.type ? g10.body.length > 0 && (p10 = TL[Number(_T(g10.body[0], "textord").text)]) : p10 = TL[Number((g10 = _T(g10, "textord")).text)], { type: "genfrac", mode: i10.mode, numer: n10, denom: a10, continued: false, hasBarLine: r10, barSize: d10, leftDelim: s10, rightDelim: h10, size: p10 };
}, htmlBuilder: TS, mathmlBuilder: TA }), kZ({ type: "infix", names: ["\\above"], props: { numArgs: 1, argTypes: ["size"], infix: true }, handler(t33, e10) {
  var { parser: r10, funcName: i10, token: n10 } = t33;
  return { type: "infix", mode: r10.mode, replaceWith: "\\\\abovefrac", size: _T(e10[0], "size").value, token: n10 };
} }), kZ({ type: "genfrac", names: ["\\\\abovefrac"], props: { numArgs: 3, argTypes: ["math", "size", "math"] }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0], a10 = wh(_T(e10[1], "infix").size), o10 = e10[2], s10 = a10.number > 0;
  return { type: "genfrac", mode: r10.mode, numer: n10, denom: o10, continued: false, hasBarLine: s10, barSize: a10, leftDelim: null, rightDelim: null, size: "auto" };
}, htmlBuilder: TS, mathmlBuilder: TA });
var TI = (t33, e10) => {
  var r10, i10, n10, a10 = e10.style;
  "supsub" === t33.type ? (r10 = t33.sup ? _r(t33.sup, e10.havingStyle(a10.sup()), e10) : _r(t33.sub, e10.havingStyle(a10.sub()), e10), i10 = _T(t33.base, "horizBrace")) : i10 = _T(t33, "horizBrace");
  var o10 = _r(i10.base, e10.havingBaseStyle(ww.DISPLAY)), s10 = __.svgSpan(i10, e10);
  if (i10.isOver ? (n10 = kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: o10 }, { type: "kern", size: 0.1 }, { type: "elem", elem: s10 }] }, e10)).children[0].children[0].children[1].classes.push("svg-align") : (n10 = kG.makeVList({ positionType: "bottom", positionData: o10.depth + 0.1 + s10.height, children: [{ type: "elem", elem: s10 }, { type: "kern", size: 0.1 }, { type: "elem", elem: o10 }] }, e10)).children[0].children[0].children[0].classes.push("svg-align"), r10) {
    var l10 = kG.makeSpan(["mord", i10.isOver ? "mover" : "munder"], [n10], e10);
    n10 = i10.isOver ? kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: l10 }, { type: "kern", size: 0.2 }, { type: "elem", elem: r10 }] }, e10) : kG.makeVList({ positionType: "bottom", positionData: l10.depth + 0.2 + r10.height + r10.depth, children: [{ type: "elem", elem: r10 }, { type: "kern", size: 0.2 }, { type: "elem", elem: l10 }] }, e10);
  }
  return kG.makeSpan(["mord", i10.isOver ? "mover" : "munder"], [n10], e10);
};
kZ({ type: "horizBrace", names: ["\\overbrace", "\\underbrace"], props: { numArgs: 1 }, handler(t33, e10) {
  var { parser: r10, funcName: i10 } = t33;
  return { type: "horizBrace", mode: r10.mode, label: i10, isOver: /^\\over/.test(i10), base: e10[0] };
}, htmlBuilder: TI, mathmlBuilder: (t33, e10) => {
  var r10 = __.mathMLnode(t33.label);
  return new _l.MathNode(t33.isOver ? "mover" : "munder", [_f(t33.base, e10), r10]);
} }), kZ({ type: "href", names: ["\\href"], props: { numArgs: 2, argTypes: ["url", "original"], allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33, i10 = e10[1], n10 = _T(e10[0], "url").url;
  return r10.settings.isTrusted({ command: "\\href", url: n10 }) ? { type: "href", mode: r10.mode, href: n10, body: k0(i10) } : r10.formatUnsupportedCmd("\\href");
}, htmlBuilder: (t33, e10) => {
  var r10 = k6(t33.body, e10, false);
  return kG.makeAnchor(t33.href, [], r10, e10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = _g(t33.body, e10);
  return r10 instanceof _o || (r10 = new _o("mrow", [r10])), r10.setAttribute("href", t33.href), r10;
} }), kZ({ type: "href", names: ["\\url"], props: { numArgs: 1, argTypes: ["url"], allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33, i10 = _T(e10[0], "url").url;
  if (!r10.settings.isTrusted({ command: "\\url", url: i10 })) return r10.formatUnsupportedCmd("\\url");
  for (var n10 = [], a10 = 0; a10 < i10.length; a10++) {
    var o10 = i10[a10];
    "~" === o10 && (o10 = "\\textasciitilde"), n10.push({ type: "textord", mode: "text", text: o10 });
  }
  var s10 = { type: "text", mode: r10.mode, font: "\\texttt", body: n10 };
  return { type: "href", mode: r10.mode, href: i10, body: k0(s10) };
} }), kZ({ type: "hbox", names: ["\\hbox"], props: { numArgs: 1, argTypes: ["text"], allowedInText: true, primitive: true }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "hbox", mode: r10.mode, body: k0(e10[0]) };
}, htmlBuilder(t33, e10) {
  var r10 = k6(t33.body, e10, false);
  return kG.makeFragment(r10);
}, mathmlBuilder: (t33, e10) => new _l.MathNode("mrow", _p(t33.body, e10)) }), kZ({ type: "html", names: ["\\htmlClass", "\\htmlId", "\\htmlStyle", "\\htmlData"], props: { numArgs: 2, argTypes: ["raw", "original"], allowedInText: true }, handler: (t33, e10) => {
  var r10, { parser: i10, funcName: n10, token: a10 } = t33, o10 = _T(e10[0], "raw").string, s10 = e10[1];
  i10.settings.strict && i10.settings.reportNonstrict("htmlExtension", "HTML extension is disabled on strict mode");
  var l10 = {};
  switch (n10) {
    case "\\htmlClass":
      l10.class = o10, r10 = { command: "\\htmlClass", class: o10 };
      break;
    case "\\htmlId":
      l10.id = o10, r10 = { command: "\\htmlId", id: o10 };
      break;
    case "\\htmlStyle":
      l10.style = o10, r10 = { command: "\\htmlStyle", style: o10 };
      break;
    case "\\htmlData":
      for (var h10 = o10.split(","), u10 = 0; u10 < h10.length; u10++) {
        var d10 = h10[u10].split("=");
        if (2 !== d10.length) throw new wn("Error parsing key-value for \\htmlData");
        l10["data-" + d10[0].trim()] = d10[1].trim();
      }
      r10 = { command: "\\htmlData", attributes: l10 };
      break;
    default:
      throw Error("Unrecognized html command");
  }
  return i10.settings.isTrusted(r10) ? { type: "html", mode: i10.mode, attributes: l10, body: k0(s10) } : i10.formatUnsupportedCmd(n10);
}, htmlBuilder: (t33, e10) => {
  var r10 = k6(t33.body, e10, false), i10 = ["enclosing"];
  t33.attributes.class && i10.push(...t33.attributes.class.trim().split(/\s+/));
  var n10 = kG.makeSpan(i10, r10, e10);
  for (var a10 in t33.attributes) "class" !== a10 && t33.attributes.hasOwnProperty(a10) && n10.setAttribute(a10, t33.attributes[a10]);
  return n10;
}, mathmlBuilder: (t33, e10) => _g(t33.body, e10) }), kZ({ type: "htmlmathml", names: ["\\html@mathml"], props: { numArgs: 2, allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33;
  return { type: "htmlmathml", mode: r10.mode, html: k0(e10[0]), mathml: k0(e10[1]) };
}, htmlBuilder: (t33, e10) => {
  var r10 = k6(t33.html, e10, false);
  return kG.makeFragment(r10);
}, mathmlBuilder: (t33, e10) => _g(t33.mathml, e10) });
var TM = function(t33) {
  if (/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t33)) return { number: +t33, unit: "bp" };
  var e10 = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t33);
  if (!e10) throw new wn("Invalid size: '" + t33 + "' in \\includegraphics");
  var r10 = { number: +(e10[1] + e10[2]), unit: e10[3] };
  if (!wG(r10)) throw new wn("Invalid unit: '" + r10.unit + "' in \\includegraphics.");
  return r10;
};
kZ({ type: "includegraphics", names: ["\\includegraphics"], props: { numArgs: 1, numOptionalArgs: 1, argTypes: ["raw", "url"], allowedInText: false }, handler: (t33, e10, r10) => {
  var { parser: i10 } = t33, n10 = { number: 0, unit: "em" }, a10 = { number: 0.9, unit: "em" }, o10 = { number: 0, unit: "em" }, s10 = "";
  if (r10[0]) for (var l10 = _T(r10[0], "raw").string.split(","), h10 = 0; h10 < l10.length; h10++) {
    var u10 = l10[h10].split("=");
    if (2 === u10.length) {
      var d10 = u10[1].trim();
      switch (u10[0].trim()) {
        case "alt":
          s10 = d10;
          break;
        case "width":
          n10 = TM(d10);
          break;
        case "height":
          a10 = TM(d10);
          break;
        case "totalheight":
          o10 = TM(d10);
          break;
        default:
          throw new wn("Invalid key: '" + u10[0] + "' in \\includegraphics.");
      }
    }
  }
  var p10 = _T(e10[0], "url").url;
  return ("" === s10 && (s10 = (s10 = (s10 = p10).replace(/^.*[\\/]/, "")).substring(0, s10.lastIndexOf("."))), i10.settings.isTrusted({ command: "\\includegraphics", url: p10 })) ? { type: "includegraphics", mode: i10.mode, alt: s10, width: n10, height: a10, totalheight: o10, src: p10 } : i10.formatUnsupportedCmd("\\includegraphics");
}, htmlBuilder: (t33, e10) => {
  var r10 = wq(t33.height, e10), i10 = 0;
  t33.totalheight.number > 0 && (i10 = wq(t33.totalheight, e10) - r10);
  var n10 = 0;
  t33.width.number > 0 && (n10 = wq(t33.width, e10));
  var a10 = { height: wY(r10 + i10) };
  n10 > 0 && (a10.width = wY(n10)), i10 > 0 && (a10.verticalAlign = wY(-i10));
  var o10 = new wZ(t33.src, t33.alt, a10);
  return o10.height = r10, o10.depth = i10, o10;
}, mathmlBuilder: (t33, e10) => {
  var r10 = new _l.MathNode("mglyph", []);
  r10.setAttribute("alt", t33.alt);
  var i10 = wq(t33.height, e10), n10 = 0;
  if (t33.totalheight.number > 0 && (n10 = wq(t33.totalheight, e10) - i10, r10.setAttribute("valign", wY(-n10))), r10.setAttribute("height", wY(i10 + n10)), t33.width.number > 0) {
    var a10 = wq(t33.width, e10);
    r10.setAttribute("width", wY(a10));
  }
  return r10.setAttribute("src", t33.src), r10;
} }), kZ({ type: "kern", names: ["\\kern", "\\mkern", "\\hskip", "\\mskip"], props: { numArgs: 1, argTypes: ["size"], primitive: true, allowedInText: true }, handler(t33, e10) {
  var { parser: r10, funcName: i10 } = t33, n10 = _T(e10[0], "size");
  if (r10.settings.strict) {
    var a10 = "m" === i10[1], o10 = "mu" === n10.value.unit;
    a10 ? (o10 || r10.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + i10 + " supports only mu units, not " + n10.value.unit + " units"), "math" !== r10.mode && r10.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + i10 + " works only in math mode")) : o10 && r10.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + i10 + " doesn't support mu units");
  }
  return { type: "kern", mode: r10.mode, dimension: n10.value };
}, htmlBuilder: (t33, e10) => kG.makeGlue(t33.dimension, e10), mathmlBuilder(t33, e10) {
  var r10 = wq(t33.dimension, e10);
  return new _l.SpaceNode(r10);
} }), kZ({ type: "lap", names: ["\\mathllap", "\\mathrlap", "\\mathclap"], props: { numArgs: 1, allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0];
  return { type: "lap", mode: r10.mode, alignment: i10.slice(5), body: n10 };
}, htmlBuilder: (t33, e10) => {
  "clap" === t33.alignment ? (r10 = kG.makeSpan([], [_r(t33.body, e10)]), r10 = kG.makeSpan(["inner"], [r10], e10)) : r10 = kG.makeSpan(["inner"], [_r(t33.body, e10)]);
  var r10, i10 = kG.makeSpan(["fix"], []), n10 = kG.makeSpan([t33.alignment], [r10, i10], e10), a10 = kG.makeSpan(["strut"]);
  return a10.style.height = wY(n10.height + n10.depth), n10.depth && (a10.style.verticalAlign = wY(-n10.depth)), n10.children.unshift(a10), n10 = kG.makeSpan(["thinbox"], [n10], e10), kG.makeSpan(["mord", "vbox"], [n10], e10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = new _l.MathNode("mpadded", [_f(t33.body, e10)]);
  if ("rlap" !== t33.alignment) {
    var i10 = "llap" === t33.alignment ? "-1" : "-0.5";
    r10.setAttribute("lspace", i10 + "width");
  }
  return r10.setAttribute("width", "0px"), r10;
} }), kZ({ type: "styling", names: ["\\(", "$"], props: { numArgs: 0, allowedInText: true, allowedInMath: false }, handler(t33, e10) {
  var { funcName: r10, parser: i10 } = t33, n10 = i10.mode;
  i10.switchMode("math");
  var a10 = "\\(" === r10 ? "\\)" : "$", o10 = i10.parseExpression(false, a10);
  return i10.expect(a10), i10.switchMode(n10), { type: "styling", mode: i10.mode, style: "text", body: o10 };
} }), kZ({ type: "text", names: ["\\)", "\\]"], props: { numArgs: 0, allowedInText: true, allowedInMath: false }, handler(t33, e10) {
  throw new wn("Mismatched " + t33.funcName);
} });
var TR = (t33, e10) => {
  switch (e10.style.size) {
    case ww.DISPLAY.size:
      return t33.display;
    case ww.TEXT.size:
      return t33.text;
    case ww.SCRIPT.size:
      return t33.script;
    case ww.SCRIPTSCRIPT.size:
      return t33.scriptscript;
    default:
      return t33.text;
  }
};
kZ({ type: "mathchoice", names: ["\\mathchoice"], props: { numArgs: 4, primitive: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33;
  return { type: "mathchoice", mode: r10.mode, display: k0(e10[0]), text: k0(e10[1]), script: k0(e10[2]), scriptscript: k0(e10[3]) };
}, htmlBuilder: (t33, e10) => {
  var r10 = k6(TR(t33, e10), e10, false);
  return kG.makeFragment(r10);
}, mathmlBuilder: (t33, e10) => _g(TR(t33, e10), e10) });
var TD = (t33, e10, r10, i10, n10, a10, o10) => {
  t33 = kG.makeSpan([], [t33]);
  var s10, l10, h10, u10 = r10 && wc.isCharacterBox(r10);
  if (e10) {
    var d10 = _r(e10, i10.havingStyle(n10.sup()), i10);
    l10 = { elem: d10, kern: Math.max(i10.fontMetrics().bigOpSpacing1, i10.fontMetrics().bigOpSpacing3 - d10.depth) };
  }
  if (r10) {
    var p10 = _r(r10, i10.havingStyle(n10.sub()), i10);
    s10 = { elem: p10, kern: Math.max(i10.fontMetrics().bigOpSpacing2, i10.fontMetrics().bigOpSpacing4 - p10.height) };
  }
  if (l10 && s10) {
    var g10 = i10.fontMetrics().bigOpSpacing5 + s10.elem.height + s10.elem.depth + s10.kern + t33.depth + o10;
    h10 = kG.makeVList({ positionType: "bottom", positionData: g10, children: [{ type: "kern", size: i10.fontMetrics().bigOpSpacing5 }, { type: "elem", elem: s10.elem, marginLeft: wY(-a10) }, { type: "kern", size: s10.kern }, { type: "elem", elem: t33 }, { type: "kern", size: l10.kern }, { type: "elem", elem: l10.elem, marginLeft: wY(a10) }, { type: "kern", size: i10.fontMetrics().bigOpSpacing5 }] }, i10);
  } else if (s10) {
    var f10 = t33.height - o10;
    h10 = kG.makeVList({ positionType: "top", positionData: f10, children: [{ type: "kern", size: i10.fontMetrics().bigOpSpacing5 }, { type: "elem", elem: s10.elem, marginLeft: wY(-a10) }, { type: "kern", size: s10.kern }, { type: "elem", elem: t33 }] }, i10);
  } else {
    if (!l10) return t33;
    var y10 = t33.depth + o10;
    h10 = kG.makeVList({ positionType: "bottom", positionData: y10, children: [{ type: "elem", elem: t33 }, { type: "kern", size: l10.kern }, { type: "elem", elem: l10.elem, marginLeft: wY(a10) }, { type: "kern", size: i10.fontMetrics().bigOpSpacing5 }] }, i10);
  }
  var v10 = [h10];
  if (s10 && 0 !== a10 && !u10) {
    var x10 = kG.makeSpan(["mspace"], [], i10);
    x10.style.marginRight = wY(a10), v10.unshift(x10);
  }
  return kG.makeSpan(["mop", "op-limits"], v10, i10);
}, TO = ["\\smallint"], TP = (t33, e10) => {
  var r10, i10, n10, a10, o10 = false;
  "supsub" === t33.type ? (r10 = t33.sup, i10 = t33.sub, n10 = _T(t33.base, "op"), o10 = true) : n10 = _T(t33, "op");
  var s10 = e10.style, l10 = false;
  if (s10.size === ww.DISPLAY.size && n10.symbol && !wc.contains(TO, n10.name) && (l10 = true), n10.symbol) {
    var h10 = l10 ? "Size2-Regular" : "Size1-Regular", u10 = "";
    if (("\\oiint" === n10.name || "\\oiiint" === n10.name) && (u10 = n10.name.slice(1), n10.name = "oiint" === u10 ? "\\iint" : "\\iiint"), a10 = kG.makeSymbol(n10.name, h10, "math", e10, ["mop", "op-symbol", l10 ? "large-op" : "small-op"]), u10.length > 0) {
      var d10 = a10.italic, p10 = kG.staticSvg(u10 + "Size" + (l10 ? "2" : "1"), e10);
      a10 = kG.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: a10, shift: 0 }, { type: "elem", elem: p10, shift: l10 ? 0.08 : 0 }] }, e10), n10.name = "\\" + u10, a10.classes.unshift("mop"), a10.italic = d10;
    }
  } else if (n10.body) {
    var g10 = k6(n10.body, e10, true);
    1 === g10.length && g10[0] instanceof wJ ? (a10 = g10[0]).classes[0] = "mop" : a10 = kG.makeSpan(["mop"], g10, e10);
  } else {
    for (var f10 = [], y10 = 1; y10 < n10.name.length; y10++) f10.push(kG.mathsym(n10.name[y10], n10.mode, e10));
    a10 = kG.makeSpan(["mop"], f10, e10);
  }
  var v10 = 0, x10 = 0;
  return ((a10 instanceof wJ || "\\oiint" === n10.name || "\\oiiint" === n10.name) && !n10.suppressBaseShift && (v10 = (a10.height - a10.depth) / 2 - e10.fontMetrics().axisHeight, x10 = a10.italic), o10) ? TD(a10, r10, i10, e10, s10, x10, v10) : (v10 && (a10.style.position = "relative", a10.style.top = wY(v10)), a10);
}, T$ = (t33, e10) => {
  var r10;
  if (t33.symbol) r10 = new _o("mo", [_h(t33.name, t33.mode)]), wc.contains(TO, t33.name) && r10.setAttribute("largeop", "false");
  else if (t33.body) r10 = new _o("mo", _p(t33.body, e10));
  else {
    r10 = new _o("mi", [new _s(t33.name.slice(1))]);
    var i10 = new _o("mo", [_h("⁡", "text")]);
    r10 = t33.parentIsSupSub ? new _o("mrow", [r10, i10]) : _a([r10, i10]);
  }
  return r10;
}, TB = { "∏": "\\prod", "∐": "\\coprod", "∑": "\\sum", "⋀": "\\bigwedge", "⋁": "\\bigvee", "⋂": "\\bigcap", "⋃": "\\bigcup", "⨀": "\\bigodot", "⨁": "\\bigoplus", "⨂": "\\bigotimes", "⨄": "\\biguplus", "⨆": "\\bigsqcup" };
kZ({ type: "op", names: ["\\coprod", "\\bigvee", "\\bigwedge", "\\biguplus", "\\bigcap", "\\bigcup", "\\intop", "\\prod", "\\sum", "\\bigotimes", "\\bigoplus", "\\bigodot", "\\bigsqcup", "\\smallint", "∏", "∐", "∑", "⋀", "⋁", "⋂", "⋃", "⨀", "⨁", "⨂", "⨄", "⨆"], props: { numArgs: 0 }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10 } = t33, n10 = i10;
  return 1 === n10.length && (n10 = TB[n10]), { type: "op", mode: r10.mode, limits: true, parentIsSupSub: false, symbol: true, name: n10 };
}, htmlBuilder: TP, mathmlBuilder: T$ }), kZ({ type: "op", names: ["\\mathop"], props: { numArgs: 1, primitive: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33, i10 = e10[0];
  return { type: "op", mode: r10.mode, limits: false, parentIsSupSub: false, symbol: false, body: k0(i10) };
}, htmlBuilder: TP, mathmlBuilder: T$ });
var TF = { "∫": "\\int", "∬": "\\iint", "∭": "\\iiint", "∮": "\\oint", "∯": "\\oiint", "∰": "\\oiiint" };
kZ({ type: "op", names: ["\\arcsin", "\\arccos", "\\arctan", "\\arctg", "\\arcctg", "\\arg", "\\ch", "\\cos", "\\cosec", "\\cosh", "\\cot", "\\cotg", "\\coth", "\\csc", "\\ctg", "\\cth", "\\deg", "\\dim", "\\exp", "\\hom", "\\ker", "\\lg", "\\ln", "\\log", "\\sec", "\\sin", "\\sinh", "\\sh", "\\tan", "\\tanh", "\\tg", "\\th"], props: { numArgs: 0 }, handler(t33) {
  var { parser: e10, funcName: r10 } = t33;
  return { type: "op", mode: e10.mode, limits: false, parentIsSupSub: false, symbol: false, name: r10 };
}, htmlBuilder: TP, mathmlBuilder: T$ }), kZ({ type: "op", names: ["\\det", "\\gcd", "\\inf", "\\lim", "\\max", "\\min", "\\Pr", "\\sup"], props: { numArgs: 0 }, handler(t33) {
  var { parser: e10, funcName: r10 } = t33;
  return { type: "op", mode: e10.mode, limits: true, parentIsSupSub: false, symbol: false, name: r10 };
}, htmlBuilder: TP, mathmlBuilder: T$ }), kZ({ type: "op", names: ["\\int", "\\iint", "\\iiint", "\\oint", "\\oiint", "\\oiiint", "∫", "∬", "∭", "∮", "∯", "∰"], props: { numArgs: 0 }, handler(t33) {
  var { parser: e10, funcName: r10 } = t33, i10 = r10;
  return 1 === i10.length && (i10 = TF[i10]), { type: "op", mode: e10.mode, limits: false, parentIsSupSub: false, symbol: true, name: i10 };
}, htmlBuilder: TP, mathmlBuilder: T$ });
var Tz = (t33, e10) => {
  var r10, i10, n10, a10, o10 = false;
  if ("supsub" === t33.type ? (r10 = t33.sup, i10 = t33.sub, n10 = _T(t33.base, "operatorname"), o10 = true) : n10 = _T(t33, "operatorname"), n10.body.length > 0) {
    for (var s10 = k6(n10.body.map((t34) => {
      var e11 = t34.text;
      return "string" == typeof e11 ? { type: "textord", mode: t34.mode, text: e11 } : t34;
    }), e10.withFont("mathrm"), true), l10 = 0; l10 < s10.length; l10++) {
      var h10 = s10[l10];
      h10 instanceof wJ && (h10.text = h10.text.replace(/\u2212/, "-").replace(/\u2217/, "*"));
    }
    a10 = kG.makeSpan(["mop"], s10, e10);
  } else a10 = kG.makeSpan(["mop"], [], e10);
  return o10 ? TD(a10, r10, i10, e10, e10.style, 0, 0) : a10;
};
function TU(t33, e10, r10) {
  for (var i10 = k6(t33, e10, false), n10 = e10.sizeMultiplier / r10.sizeMultiplier, a10 = 0; a10 < i10.length; a10++) {
    var o10 = i10[a10].classes.indexOf("sizing");
    o10 < 0 ? Array.prototype.push.apply(i10[a10].classes, e10.sizingClasses(r10)) : i10[a10].classes[o10 + 1] === "reset-size" + e10.size && (i10[a10].classes[o10 + 1] = "reset-size" + r10.size), i10[a10].height *= n10, i10[a10].depth *= n10;
  }
  return kG.makeFragment(i10);
}
kZ({ type: "operatorname", names: ["\\operatorname@", "\\operatornamewithlimits"], props: { numArgs: 1 }, handler: (t33, e10) => {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0];
  return { type: "operatorname", mode: r10.mode, body: k0(n10), alwaysHandleSupSub: "\\operatornamewithlimits" === i10, limits: false, parentIsSupSub: false };
}, htmlBuilder: Tz, mathmlBuilder: (t33, e10) => {
  for (var r10 = _p(t33.body, e10.withFont("mathrm")), i10 = true, n10 = 0; n10 < r10.length; n10++) {
    var a10 = r10[n10];
    if (a10 instanceof _l.SpaceNode) ;
    else if (a10 instanceof _l.MathNode) switch (a10.type) {
      case "mi":
      case "mn":
      case "ms":
      case "mspace":
      case "mtext":
        break;
      case "mo":
        var o10 = a10.children[0];
        1 === a10.children.length && o10 instanceof _l.TextNode ? o10.text = o10.text.replace(/\u2212/, "-").replace(/\u2217/, "*") : i10 = false;
        break;
      default:
        i10 = false;
    }
    else i10 = false;
  }
  if (i10) {
    var s10 = r10.map((t34) => t34.toText()).join("");
    r10 = [new _l.TextNode(s10)];
  }
  var l10 = new _l.MathNode("mi", r10);
  l10.setAttribute("mathvariant", "normal");
  var h10 = new _l.MathNode("mo", [_h("⁡", "text")]);
  return t33.parentIsSupSub ? new _l.MathNode("mrow", [l10, h10]) : _l.newDocumentFragment([l10, h10]);
} }), Tp("\\operatorname", "\\@ifstar\\operatornamewithlimits\\operatorname@"), kQ({ type: "ordgroup", htmlBuilder: (t33, e10) => t33.semisimple ? kG.makeFragment(k6(t33.body, e10, false)) : kG.makeSpan(["mord"], k6(t33.body, e10, true), e10), mathmlBuilder: (t33, e10) => _g(t33.body, e10, true) }), kZ({ type: "overline", names: ["\\overline"], props: { numArgs: 1 }, handler(t33, e10) {
  var { parser: r10 } = t33, i10 = e10[0];
  return { type: "overline", mode: r10.mode, body: i10 };
}, htmlBuilder(t33, e10) {
  var r10 = _r(t33.body, e10.havingCrampedStyle()), i10 = kG.makeLineSpan("overline-line", e10), n10 = e10.fontMetrics().defaultRuleThickness, a10 = kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }, { type: "kern", size: 3 * n10 }, { type: "elem", elem: i10 }, { type: "kern", size: n10 }] }, e10);
  return kG.makeSpan(["mord", "overline"], [a10], e10);
}, mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mo", [new _l.TextNode("‾")]);
  r10.setAttribute("stretchy", "true");
  var i10 = new _l.MathNode("mover", [_f(t33.body, e10), r10]);
  return i10.setAttribute("accent", "true"), i10;
} }), kZ({ type: "phantom", names: ["\\phantom"], props: { numArgs: 1, allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33, i10 = e10[0];
  return { type: "phantom", mode: r10.mode, body: k0(i10) };
}, htmlBuilder: (t33, e10) => {
  var r10 = k6(t33.body, e10.withPhantom(), false);
  return kG.makeFragment(r10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = _p(t33.body, e10);
  return new _l.MathNode("mphantom", r10);
} }), kZ({ type: "hphantom", names: ["\\hphantom"], props: { numArgs: 1, allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33, i10 = e10[0];
  return { type: "hphantom", mode: r10.mode, body: i10 };
}, htmlBuilder: (t33, e10) => {
  var r10 = kG.makeSpan([], [_r(t33.body, e10.withPhantom())]);
  if (r10.height = 0, r10.depth = 0, r10.children) for (var i10 = 0; i10 < r10.children.length; i10++) r10.children[i10].height = 0, r10.children[i10].depth = 0;
  return r10 = kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }] }, e10), kG.makeSpan(["mord"], [r10], e10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = _p(k0(t33.body), e10), i10 = new _l.MathNode("mphantom", r10), n10 = new _l.MathNode("mpadded", [i10]);
  return n10.setAttribute("height", "0px"), n10.setAttribute("depth", "0px"), n10;
} }), kZ({ type: "vphantom", names: ["\\vphantom"], props: { numArgs: 1, allowedInText: true }, handler: (t33, e10) => {
  var { parser: r10 } = t33, i10 = e10[0];
  return { type: "vphantom", mode: r10.mode, body: i10 };
}, htmlBuilder: (t33, e10) => {
  var r10 = kG.makeSpan(["inner"], [_r(t33.body, e10.withPhantom())]), i10 = kG.makeSpan(["fix"], []);
  return kG.makeSpan(["mord", "rlap"], [r10, i10], e10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = _p(k0(t33.body), e10), i10 = new _l.MathNode("mphantom", r10), n10 = new _l.MathNode("mpadded", [i10]);
  return n10.setAttribute("width", "0px"), n10;
} }), kZ({ type: "raisebox", names: ["\\raisebox"], props: { numArgs: 2, argTypes: ["size", "hbox"], allowedInText: true }, handler(t33, e10) {
  var { parser: r10 } = t33, i10 = _T(e10[0], "size").value, n10 = e10[1];
  return { type: "raisebox", mode: r10.mode, dy: i10, body: n10 };
}, htmlBuilder(t33, e10) {
  var r10 = _r(t33.body, e10), i10 = wq(t33.dy, e10);
  return kG.makeVList({ positionType: "shift", positionData: -i10, children: [{ type: "elem", elem: r10 }] }, e10);
}, mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mpadded", [_f(t33.body, e10)]), i10 = t33.dy.number + t33.dy.unit;
  return r10.setAttribute("voffset", i10), r10;
} }), kZ({ type: "internal", names: ["\\relax"], props: { numArgs: 0, allowedInText: true }, handler(t33) {
  var { parser: e10 } = t33;
  return { type: "internal", mode: e10.mode };
} }), kZ({ type: "rule", names: ["\\rule"], props: { numArgs: 2, numOptionalArgs: 1, allowedInText: true, allowedInMath: true, argTypes: ["size", "size", "size"] }, handler(t33, e10, r10) {
  var { parser: i10 } = t33, n10 = r10[0], a10 = _T(e10[0], "size"), o10 = _T(e10[1], "size");
  return { type: "rule", mode: i10.mode, shift: n10 && _T(n10, "size").value, width: a10.value, height: o10.value };
}, htmlBuilder(t33, e10) {
  var r10 = kG.makeSpan(["mord", "rule"], [], e10), i10 = wq(t33.width, e10), n10 = wq(t33.height, e10), a10 = t33.shift ? wq(t33.shift, e10) : 0;
  return r10.style.borderRightWidth = wY(i10), r10.style.borderTopWidth = wY(n10), r10.style.bottom = wY(a10), r10.width = i10, r10.height = n10 + a10, r10.depth = -a10, r10.maxFontSize = 1.125 * n10 * e10.sizeMultiplier, r10;
}, mathmlBuilder(t33, e10) {
  var r10 = wq(t33.width, e10), i10 = wq(t33.height, e10), n10 = t33.shift ? wq(t33.shift, e10) : 0, a10 = e10.color && e10.getColor() || "black", o10 = new _l.MathNode("mspace");
  o10.setAttribute("mathbackground", a10), o10.setAttribute("width", wY(r10)), o10.setAttribute("height", wY(i10));
  var s10 = new _l.MathNode("mpadded", [o10]);
  return n10 >= 0 ? s10.setAttribute("height", wY(n10)) : (s10.setAttribute("height", wY(n10)), s10.setAttribute("depth", wY(-n10))), s10.setAttribute("voffset", wY(n10)), s10;
} });
var TG = ["\\tiny", "\\sixptsize", "\\scriptsize", "\\footnotesize", "\\small", "\\normalsize", "\\large", "\\Large", "\\LARGE", "\\huge", "\\Huge"];
kZ({ type: "sizing", names: TG, props: { numArgs: 0, allowedInText: true }, handler: (t33, e10) => {
  var { breakOnTokenText: r10, funcName: i10, parser: n10 } = t33, a10 = n10.parseExpression(false, r10);
  return { type: "sizing", mode: n10.mode, size: TG.indexOf(i10) + 1, body: a10 };
}, htmlBuilder: (t33, e10) => {
  var r10 = e10.havingSize(t33.size);
  return TU(t33.body, r10, e10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = e10.havingSize(t33.size), i10 = _p(t33.body, r10), n10 = new _l.MathNode("mstyle", i10);
  return n10.setAttribute("mathsize", wY(r10.sizeMultiplier)), n10;
} }), kZ({ type: "smash", names: ["\\smash"], props: { numArgs: 1, numOptionalArgs: 1, allowedInText: true }, handler: (t33, e10, r10) => {
  var { parser: i10 } = t33, n10 = false, a10 = false, o10 = r10[0] && _T(r10[0], "ordgroup");
  if (o10) for (var s10 = "", l10 = 0; l10 < o10.body.length; ++l10) if ("t" === (s10 = o10.body[l10].text)) n10 = true;
  else if ("b" === s10) a10 = true;
  else {
    n10 = false, a10 = false;
    break;
  }
  else n10 = true, a10 = true;
  var h10 = e10[0];
  return { type: "smash", mode: i10.mode, body: h10, smashHeight: n10, smashDepth: a10 };
}, htmlBuilder: (t33, e10) => {
  var r10 = kG.makeSpan([], [_r(t33.body, e10)]);
  if (!t33.smashHeight && !t33.smashDepth) return r10;
  if (t33.smashHeight && (r10.height = 0, r10.children)) for (var i10 = 0; i10 < r10.children.length; i10++) r10.children[i10].height = 0;
  if (t33.smashDepth && (r10.depth = 0, r10.children)) for (var n10 = 0; n10 < r10.children.length; n10++) r10.children[n10].depth = 0;
  var a10 = kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }] }, e10);
  return kG.makeSpan(["mord"], [a10], e10);
}, mathmlBuilder: (t33, e10) => {
  var r10 = new _l.MathNode("mpadded", [_f(t33.body, e10)]);
  return t33.smashHeight && r10.setAttribute("height", "0px"), t33.smashDepth && r10.setAttribute("depth", "0px"), r10;
} }), kZ({ type: "sqrt", names: ["\\sqrt"], props: { numArgs: 1, numOptionalArgs: 1 }, handler(t33, e10, r10) {
  var { parser: i10 } = t33, n10 = r10[0], a10 = e10[0];
  return { type: "sqrt", mode: i10.mode, body: a10, index: n10 };
}, htmlBuilder(t33, e10) {
  var r10 = _r(t33.body, e10.havingCrampedStyle());
  0 === r10.height && (r10.height = e10.fontMetrics().xHeight), r10 = kG.wrapFragment(r10, e10);
  var i10 = e10.fontMetrics().defaultRuleThickness, n10 = i10;
  e10.style.id < ww.TEXT.id && (n10 = e10.fontMetrics().xHeight);
  var a10 = i10 + n10 / 4, o10 = r10.height + r10.depth + a10 + i10, { span: s10, ruleWidth: l10, advanceWidth: h10 } = Ti.sqrtImage(o10, e10), u10 = s10.height - l10;
  u10 > r10.height + r10.depth + a10 && (a10 = (a10 + u10 - r10.height - r10.depth) / 2);
  var d10 = s10.height - r10.height - a10 - l10;
  r10.style.paddingLeft = wY(h10);
  var p10 = kG.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10, wrapperClasses: ["svg-align"] }, { type: "kern", size: -(r10.height + d10) }, { type: "elem", elem: s10 }, { type: "kern", size: l10 }] }, e10);
  if (!t33.index) return kG.makeSpan(["mord", "sqrt"], [p10], e10);
  var g10 = e10.havingStyle(ww.SCRIPTSCRIPT), f10 = _r(t33.index, g10, e10), y10 = 0.6 * (p10.height - p10.depth), v10 = kG.makeVList({ positionType: "shift", positionData: -y10, children: [{ type: "elem", elem: f10 }] }, e10), x10 = kG.makeSpan(["root"], [v10]);
  return kG.makeSpan(["mord", "sqrt"], [x10, p10], e10);
}, mathmlBuilder(t33, e10) {
  var { body: r10, index: i10 } = t33;
  return i10 ? new _l.MathNode("mroot", [_f(r10, e10), _f(i10, e10)]) : new _l.MathNode("msqrt", [_f(r10, e10)]);
} });
var Tq = { display: ww.DISPLAY, text: ww.TEXT, script: ww.SCRIPT, scriptscript: ww.SCRIPTSCRIPT };
kZ({ type: "styling", names: ["\\displaystyle", "\\textstyle", "\\scriptstyle", "\\scriptscriptstyle"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(t33, e10) {
  var { breakOnTokenText: r10, funcName: i10, parser: n10 } = t33, a10 = n10.parseExpression(true, r10), o10 = i10.slice(1, i10.length - 5);
  return { type: "styling", mode: n10.mode, style: o10, body: a10 };
}, htmlBuilder(t33, e10) {
  var r10 = Tq[t33.style], i10 = e10.havingStyle(r10).withFont("");
  return TU(t33.body, i10, e10);
}, mathmlBuilder(t33, e10) {
  var r10 = Tq[t33.style], i10 = e10.havingStyle(r10), n10 = _p(t33.body, i10), a10 = new _l.MathNode("mstyle", n10), o10 = { display: ["0", "true"], text: ["0", "false"], script: ["1", "false"], scriptscript: ["2", "false"] }[t33.style];
  return a10.setAttribute("scriptlevel", o10[0]), a10.setAttribute("displaystyle", o10[1]), a10;
} });
var TY = function(t33, e10) {
  var r10 = t33.base;
  return r10 ? "op" === r10.type ? r10.limits && (e10.style.size === ww.DISPLAY.size || r10.alwaysHandleSupSub) ? TP : null : "operatorname" === r10.type ? r10.alwaysHandleSupSub && (e10.style.size === ww.DISPLAY.size || r10.limits) ? Tz : null : "accent" === r10.type ? wc.isCharacterBox(r10.base) ? _S : null : "horizBrace" === r10.type ? !t33.sub === r10.isOver ? TI : null : null : null;
};
kQ({ type: "supsub", htmlBuilder(t33, e10) {
  var r10, i10, n10, a10, o10 = TY(t33, e10);
  if (o10) return o10(t33, e10);
  var { base: s10, sup: l10, sub: h10 } = t33, u10 = _r(s10, e10), d10 = e10.fontMetrics(), p10 = 0, g10 = 0, f10 = s10 && wc.isCharacterBox(s10);
  if (l10) {
    var y10 = e10.havingStyle(e10.style.sup());
    r10 = _r(l10, y10, e10), f10 || (p10 = u10.height - y10.fontMetrics().supDrop * y10.sizeMultiplier / e10.sizeMultiplier);
  }
  if (h10) {
    var v10 = e10.havingStyle(e10.style.sub());
    i10 = _r(h10, v10, e10), f10 || (g10 = u10.depth + v10.fontMetrics().subDrop * v10.sizeMultiplier / e10.sizeMultiplier);
  }
  n10 = e10.style === ww.DISPLAY ? d10.sup1 : e10.style.cramped ? d10.sup3 : d10.sup2;
  var x10 = e10.sizeMultiplier, b10 = wY(0.5 / d10.ptPerEm / x10), w10 = null;
  if (i10) {
    var k10 = t33.base && "op" === t33.base.type && t33.base.name && ("\\oiint" === t33.base.name || "\\oiiint" === t33.base.name);
    (u10 instanceof wJ || k10) && (w10 = wY(-u10.italic));
  }
  if (r10 && i10) {
    p10 = Math.max(p10, n10, r10.depth + 0.25 * d10.xHeight), g10 = Math.max(g10, d10.sub2);
    var _10 = 4 * d10.defaultRuleThickness;
    if (p10 - r10.depth - (i10.height - g10) < _10) {
      g10 = _10 - (p10 - r10.depth) + i10.height;
      var T10 = 0.8 * d10.xHeight - (p10 - r10.depth);
      T10 > 0 && (p10 += T10, g10 -= T10);
    }
    var E10 = [{ type: "elem", elem: i10, shift: g10, marginRight: b10, marginLeft: w10 }, { type: "elem", elem: r10, shift: -p10, marginRight: b10 }];
    a10 = kG.makeVList({ positionType: "individualShift", children: E10 }, e10);
  } else if (i10) {
    g10 = Math.max(g10, d10.sub1, i10.height - 0.8 * d10.xHeight);
    var C10 = [{ type: "elem", elem: i10, marginLeft: w10, marginRight: b10 }];
    a10 = kG.makeVList({ positionType: "shift", positionData: g10, children: C10 }, e10);
  } else if (r10) p10 = Math.max(p10, n10, r10.depth + 0.25 * d10.xHeight), a10 = kG.makeVList({ positionType: "shift", positionData: -p10, children: [{ type: "elem", elem: r10, marginRight: b10 }] }, e10);
  else throw Error("supsub must have either sup or sub.");
  var S10 = _t(u10, "right") || "mord";
  return kG.makeSpan([S10], [u10, kG.makeSpan(["msupsub"], [a10])], e10);
}, mathmlBuilder(t33, e10) {
  var r10, i10, n10 = false;
  t33.base && "horizBrace" === t33.base.type && !!t33.sup === t33.base.isOver && (n10 = true, r10 = t33.base.isOver), t33.base && ("op" === t33.base.type || "operatorname" === t33.base.type) && (t33.base.parentIsSupSub = true);
  var a10 = [_f(t33.base, e10)];
  if (t33.sub && a10.push(_f(t33.sub, e10)), t33.sup && a10.push(_f(t33.sup, e10)), n10) i10 = r10 ? "mover" : "munder";
  else if (t33.sub) {
    if (t33.sup) {
      var o10 = t33.base;
      i10 = o10 && "op" === o10.type && o10.limits && e10.style === ww.DISPLAY ? "munderover" : o10 && "operatorname" === o10.type && o10.alwaysHandleSupSub && (e10.style === ww.DISPLAY || o10.limits) ? "munderover" : "msubsup";
    } else {
      var s10 = t33.base;
      i10 = s10 && "op" === s10.type && s10.limits && (e10.style === ww.DISPLAY || s10.alwaysHandleSupSub) ? "munder" : s10 && "operatorname" === s10.type && s10.alwaysHandleSupSub && (s10.limits || e10.style === ww.DISPLAY) ? "munder" : "msub";
    }
  } else {
    var l10 = t33.base;
    i10 = l10 && "op" === l10.type && l10.limits && (e10.style === ww.DISPLAY || l10.alwaysHandleSupSub) ? "mover" : l10 && "operatorname" === l10.type && l10.alwaysHandleSupSub && (l10.limits || e10.style === ww.DISPLAY) ? "mover" : "msup";
  }
  return new _l.MathNode(i10, a10);
} }), kQ({ type: "atom", htmlBuilder: (t33, e10) => kG.mathsym(t33.text, t33.mode, e10, ["m" + t33.family]), mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mo", [_h(t33.text, t33.mode)]);
  if ("bin" === t33.family) {
    var i10 = _u(t33, e10);
    "bold-italic" === i10 && r10.setAttribute("mathvariant", i10);
  } else "punct" === t33.family ? r10.setAttribute("separator", "true") : ("open" === t33.family || "close" === t33.family) && r10.setAttribute("stretchy", "false");
  return r10;
} });
var TH = { mi: "italic", mn: "normal", mtext: "normal" };
kQ({ type: "mathord", htmlBuilder: (t33, e10) => kG.makeOrd(t33, e10, "mathord"), mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mi", [_h(t33.text, t33.mode, e10)]), i10 = _u(t33, e10) || "italic";
  return i10 !== TH[r10.type] && r10.setAttribute("mathvariant", i10), r10;
} }), kQ({ type: "textord", htmlBuilder: (t33, e10) => kG.makeOrd(t33, e10, "textord"), mathmlBuilder(t33, e10) {
  var r10, i10 = _h(t33.text, t33.mode, e10), n10 = _u(t33, e10) || "normal";
  return n10 !== TH[(r10 = "text" === t33.mode ? new _l.MathNode("mtext", [i10]) : /[0-9]/.test(t33.text) ? new _l.MathNode("mn", [i10]) : "\\prime" === t33.text ? new _l.MathNode("mo", [i10]) : new _l.MathNode("mi", [i10])).type] && r10.setAttribute("mathvariant", n10), r10;
} });
var Tj = { "\\nobreak": "nobreak", "\\allowbreak": "allowbreak" }, TW = { " ": {}, "\\ ": {}, "~": { className: "nobreak" }, "\\space": {}, "\\nobreakspace": { className: "nobreak" } };
kQ({ type: "spacing", htmlBuilder(t33, e10) {
  if (TW.hasOwnProperty(t33.text)) {
    var r10 = TW[t33.text].className || "";
    if ("text" !== t33.mode) return kG.makeSpan(["mspace", r10], [kG.mathsym(t33.text, t33.mode, e10)], e10);
    var i10 = kG.makeOrd(t33, e10, "textord");
    return i10.classes.push(r10), i10;
  }
  if (Tj.hasOwnProperty(t33.text)) return kG.makeSpan(["mspace", Tj[t33.text]], [], e10);
  throw new wn('Unknown type of space "' + t33.text + '"');
}, mathmlBuilder(t33, e10) {
  var r10;
  if (TW.hasOwnProperty(t33.text)) r10 = new _l.MathNode("mtext", [new _l.TextNode(" ")]);
  else if (Tj.hasOwnProperty(t33.text)) return new _l.MathNode("mspace");
  else throw new wn('Unknown type of space "' + t33.text + '"');
  return r10;
} });
var TV = () => {
  var t33 = new _l.MathNode("mtd", []);
  return t33.setAttribute("width", "50%"), t33;
};
kQ({ type: "tag", mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mtable", [new _l.MathNode("mtr", [TV(), new _l.MathNode("mtd", [_g(t33.body, e10)]), TV(), new _l.MathNode("mtd", [_g(t33.tag, e10)])])]);
  return r10.setAttribute("width", "100%"), r10;
} });
var TX = { "\\text": void 0, "\\textrm": "textrm", "\\textsf": "textsf", "\\texttt": "texttt", "\\textnormal": "textrm" }, TK = { "\\textbf": "textbf", "\\textmd": "textmd" }, TZ = { "\\textit": "textit", "\\textup": "textup" }, TQ = (t33, e10) => {
  var r10 = t33.font;
  return r10 ? TX[r10] ? e10.withTextFontFamily(TX[r10]) : TK[r10] ? e10.withTextFontWeight(TK[r10]) : "\\emph" === r10 ? "textit" === e10.fontShape ? e10.withTextFontShape("textup") : e10.withTextFontShape("textit") : e10.withTextFontShape(TZ[r10]) : e10;
};
kZ({ type: "text", names: ["\\text", "\\textrm", "\\textsf", "\\texttt", "\\textnormal", "\\textbf", "\\textmd", "\\textit", "\\textup", "\\emph"], props: { numArgs: 1, argTypes: ["text"], allowedInArgument: true, allowedInText: true }, handler(t33, e10) {
  var { parser: r10, funcName: i10 } = t33, n10 = e10[0];
  return { type: "text", mode: r10.mode, body: k0(n10), font: i10 };
}, htmlBuilder(t33, e10) {
  var r10 = TQ(t33, e10), i10 = k6(t33.body, r10, true);
  return kG.makeSpan(["mord", "text"], i10, r10);
}, mathmlBuilder(t33, e10) {
  var r10 = TQ(t33, e10);
  return _g(t33.body, r10);
} }), kZ({ type: "underline", names: ["\\underline"], props: { numArgs: 1, allowedInText: true }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "underline", mode: r10.mode, body: e10[0] };
}, htmlBuilder(t33, e10) {
  var r10 = _r(t33.body, e10), i10 = kG.makeLineSpan("underline-line", e10), n10 = e10.fontMetrics().defaultRuleThickness, a10 = kG.makeVList({ positionType: "top", positionData: r10.height, children: [{ type: "kern", size: n10 }, { type: "elem", elem: i10 }, { type: "kern", size: 3 * n10 }, { type: "elem", elem: r10 }] }, e10);
  return kG.makeSpan(["mord", "underline"], [a10], e10);
}, mathmlBuilder(t33, e10) {
  var r10 = new _l.MathNode("mo", [new _l.TextNode("‾")]);
  r10.setAttribute("stretchy", "true");
  var i10 = new _l.MathNode("munder", [_f(t33.body, e10), r10]);
  return i10.setAttribute("accentunder", "true"), i10;
} }), kZ({ type: "vcenter", names: ["\\vcenter"], props: { numArgs: 1, argTypes: ["original"], allowedInText: false }, handler(t33, e10) {
  var { parser: r10 } = t33;
  return { type: "vcenter", mode: r10.mode, body: e10[0] };
}, htmlBuilder(t33, e10) {
  var r10 = _r(t33.body, e10), i10 = e10.fontMetrics().axisHeight, n10 = 0.5 * (r10.height - i10 - (r10.depth + i10));
  return kG.makeVList({ positionType: "shift", positionData: n10, children: [{ type: "elem", elem: r10 }] }, e10);
}, mathmlBuilder: (t33, e10) => new _l.MathNode("mpadded", [_f(t33.body, e10)], ["vcenter"]) }), kZ({ type: "verb", names: ["\\verb"], props: { numArgs: 0, allowedInText: true }, handler(t33, e10, r10) {
  throw new wn("\\verb ended by end of line instead of matching delimiter");
}, htmlBuilder(t33, e10) {
  for (var r10 = TJ(t33), i10 = [], n10 = e10.havingStyle(e10.style.text()), a10 = 0; a10 < r10.length; a10++) {
    var o10 = r10[a10];
    "~" === o10 && (o10 = "\\textasciitilde"), i10.push(kG.makeSymbol(o10, "Typewriter-Regular", t33.mode, n10, ["mord", "texttt"]));
  }
  return kG.makeSpan(["mord", "text"].concat(n10.sizingClasses(e10)), kG.tryCombineChars(i10), n10);
}, mathmlBuilder(t33, e10) {
  var r10 = new _l.TextNode(TJ(t33)), i10 = new _l.MathNode("mtext", [r10]);
  return i10.setAttribute("mathvariant", "monospace"), i10;
} });
var TJ = (t33) => t33.body.replace(/ /g, t33.star ? "␣" : " "), T0 = "[ \r\n	]", T1 = "[̀-ͯ]", T2 = RegExp(T1 + "+$"), T4 = "(" + T0 + "+)|\\\\(\n|[ \r	]+\n?)[ \r	]*|([!-\\[\\]-‧‪-퟿豈-￿]" + T1 + "*|[\uD800-\uDBFF][\uDC00-\uDFFF]" + T1 + "*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)" + T0 + "*|\\\\[^\uD800-\uDFFF])";
let T5 = class {
  constructor(t33, e10) {
    this.input = void 0, this.settings = void 0, this.tokenRegex = void 0, this.catcodes = void 0, this.input = t33, this.settings = e10, this.tokenRegex = RegExp(T4, "g"), this.catcodes = { "%": 14, "~": 13 };
  }
  setCatcode(t33, e10) {
    this.catcodes[t33] = e10;
  }
  lex() {
    var t33 = this.input, e10 = this.tokenRegex.lastIndex;
    if (e10 === t33.length) return new wi("EOF", new wr(this, e10, e10));
    var r10 = this.tokenRegex.exec(t33);
    if (null === r10 || r10.index !== e10) throw new wn("Unexpected character: '" + t33[e10] + "'", new wi(t33[e10], new wr(this, e10, e10 + 1)));
    var i10 = r10[6] || r10[3] || (r10[2] ? "\\ " : " ");
    if (14 === this.catcodes[i10]) {
      var n10 = t33.indexOf("\n", this.tokenRegex.lastIndex);
      return -1 === n10 ? (this.tokenRegex.lastIndex = t33.length, this.settings.reportNonstrict("commentAtEnd", "% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")) : this.tokenRegex.lastIndex = n10 + 1, this.lex();
    }
    return new wi(i10, new wr(this, e10, this.tokenRegex.lastIndex));
  }
};
class T3 {
  constructor(t33, e10) {
    void 0 === t33 && (t33 = {}), void 0 === e10 && (e10 = {}), this.current = void 0, this.builtins = void 0, this.undefStack = void 0, this.current = e10, this.builtins = t33, this.undefStack = [];
  }
  beginGroup() {
    this.undefStack.push({});
  }
  endGroup() {
    if (0 === this.undefStack.length) throw new wn("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");
    var t33 = this.undefStack.pop();
    for (var e10 in t33) t33.hasOwnProperty(e10) && (null == t33[e10] ? delete this.current[e10] : this.current[e10] = t33[e10]);
  }
  endGroups() {
    for (; this.undefStack.length > 0; ) this.endGroup();
  }
  has(t33) {
    return this.current.hasOwnProperty(t33) || this.builtins.hasOwnProperty(t33);
  }
  get(t33) {
    return this.current.hasOwnProperty(t33) ? this.current[t33] : this.builtins[t33];
  }
  set(t33, e10, r10) {
    if (void 0 === r10 && (r10 = false), r10) {
      for (var i10 = 0; i10 < this.undefStack.length; i10++) delete this.undefStack[i10][t33];
      this.undefStack.length > 0 && (this.undefStack[this.undefStack.length - 1][t33] = e10);
    } else {
      var n10 = this.undefStack[this.undefStack.length - 1];
      n10 && !n10.hasOwnProperty(t33) && (n10[t33] = this.current[t33]);
    }
    null == e10 ? delete this.current[t33] : this.current[t33] = e10;
  }
}
Tp("\\noexpand", function(t33) {
  var e10 = t33.popToken();
  return t33.isExpandable(e10.text) && (e10.noexpand = true, e10.treatAsRelax = true), { tokens: [e10], numArgs: 0 };
}), Tp("\\expandafter", function(t33) {
  var e10 = t33.popToken();
  return t33.expandOnce(true), { tokens: [e10], numArgs: 0 };
}), Tp("\\@firstoftwo", function(t33) {
  return { tokens: t33.consumeArgs(2)[0], numArgs: 0 };
}), Tp("\\@secondoftwo", function(t33) {
  return { tokens: t33.consumeArgs(2)[1], numArgs: 0 };
}), Tp("\\@ifnextchar", function(t33) {
  var e10 = t33.consumeArgs(3);
  t33.consumeSpaces();
  var r10 = t33.future();
  return 1 === e10[0].length && e10[0][0].text === r10.text ? { tokens: e10[1], numArgs: 0 } : { tokens: e10[2], numArgs: 0 };
}), Tp("\\@ifstar", "\\@ifnextchar *{\\@firstoftwo{#1}}"), Tp("\\TextOrMath", function(t33) {
  var e10 = t33.consumeArgs(2);
  return "text" === t33.mode ? { tokens: e10[0], numArgs: 0 } : { tokens: e10[1], numArgs: 0 };
});
var T6 = { 0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, a: 10, A: 10, b: 11, B: 11, c: 12, C: 12, d: 13, D: 13, e: 14, E: 14, f: 15, F: 15 };
Tp("\\char", function(t33) {
  var e10, r10, i10 = t33.popToken(), n10 = "";
  if ("'" === i10.text) e10 = 8, i10 = t33.popToken();
  else if ('"' === i10.text) e10 = 16, i10 = t33.popToken();
  else if ("`" === i10.text) {
    if ("\\" === (i10 = t33.popToken()).text[0]) n10 = i10.text.charCodeAt(1);
    else if ("EOF" === i10.text) throw new wn("\\char` missing argument");
    else n10 = i10.text.charCodeAt(0);
  } else e10 = 10;
  if (e10) {
    if (null == (n10 = T6[i10.text]) || n10 >= e10) throw new wn("Invalid base-" + e10 + " digit " + i10.text);
    for (; null != (r10 = T6[t33.future().text]) && r10 < e10; ) n10 *= e10, n10 += r10, t33.popToken();
  }
  return "\\@char{" + n10 + "}";
});
var T7 = (t33, e10, r10, i10) => {
  var n10 = t33.consumeArg().tokens;
  if (1 !== n10.length) throw new wn("\\newcommand's first argument must be a macro name");
  var a10 = n10[0].text, o10 = t33.isDefined(a10);
  if (o10 && !e10) throw new wn("\\newcommand{" + a10 + "} attempting to redefine " + a10 + "; use \\renewcommand");
  if (!o10 && !r10) throw new wn("\\renewcommand{" + a10 + "} when command " + a10 + " does not yet exist; use \\newcommand");
  var s10 = 0;
  if (1 === (n10 = t33.consumeArg().tokens).length && "[" === n10[0].text) {
    for (var l10 = "", h10 = t33.expandNextToken(); "]" !== h10.text && "EOF" !== h10.text; ) l10 += h10.text, h10 = t33.expandNextToken();
    if (!l10.match(/^\s*[0-9]+\s*$/)) throw new wn("Invalid number of arguments: " + l10);
    s10 = parseInt(l10), n10 = t33.consumeArg().tokens;
  }
  return o10 && i10 || t33.macros.set(a10, { tokens: n10, numArgs: s10 }), "";
};
Tp("\\newcommand", (t33) => T7(t33, false, true, false)), Tp("\\renewcommand", (t33) => T7(t33, true, false, false)), Tp("\\providecommand", (t33) => T7(t33, true, true, true)), Tp("\\message", (t33) => (console.log(t33.consumeArgs(1)[0].reverse().map((t34) => t34.text).join("")), "")), Tp("\\errmessage", (t33) => (console.error(t33.consumeArgs(1)[0].reverse().map((t34) => t34.text).join("")), "")), Tp("\\show", (t33) => {
  var e10 = t33.popToken(), r10 = e10.text;
  return console.log(e10, t33.macros.get(r10), kV[r10], w6.math[r10], w6.text[r10]), "";
}), Tp("\\bgroup", "{"), Tp("\\egroup", "}"), Tp("~", "\\nobreakspace"), Tp("\\lq", "`"), Tp("\\rq", "'"), Tp("\\aa", "\\r a"), Tp("\\AA", "\\r A"), Tp("\\textcopyright", "\\html@mathml{\\textcircled{c}}{\\char`©}"), Tp("\\copyright", "\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"), Tp("\\textregistered", "\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"), Tp("ℬ", "\\mathscr{B}"), Tp("ℰ", "\\mathscr{E}"), Tp("ℱ", "\\mathscr{F}"), Tp("ℋ", "\\mathscr{H}"), Tp("ℐ", "\\mathscr{I}"), Tp("ℒ", "\\mathscr{L}"), Tp("ℳ", "\\mathscr{M}"), Tp("ℛ", "\\mathscr{R}"), Tp("ℭ", "\\mathfrak{C}"), Tp("ℌ", "\\mathfrak{H}"), Tp("ℨ", "\\mathfrak{Z}"), Tp("\\Bbbk", "\\Bbb{k}"), Tp("·", "\\cdotp"), Tp("\\llap", "\\mathllap{\\textrm{#1}}"), Tp("\\rlap", "\\mathrlap{\\textrm{#1}}"), Tp("\\clap", "\\mathclap{\\textrm{#1}}"), Tp("\\mathstrut", "\\vphantom{(}"), Tp("\\underbar", "\\underline{\\text{#1}}"), Tp("\\not", '\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'), Tp("\\neq", "\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"), Tp("\\ne", "\\neq"), Tp("≠", "\\neq"), Tp("\\notin", "\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"), Tp("∉", "\\notin"), Tp("≘", "\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"), Tp("≙", "\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"), Tp("≚", "\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"), Tp("≛", "\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"), Tp("≝", "\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"), Tp("≞", "\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"), Tp("≟", "\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"), Tp("⟂", "\\perp"), Tp("‼", "\\mathclose{!\\mkern-0.8mu!}"), Tp("∌", "\\notni"), Tp("⌜", "\\ulcorner"), Tp("⌝", "\\urcorner"), Tp("⌞", "\\llcorner"), Tp("⌟", "\\lrcorner"), Tp("©", "\\copyright"), Tp("®", "\\textregistered"), Tp("️", "\\textregistered"), Tp("\\ulcorner", '\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'), Tp("\\urcorner", '\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'), Tp("\\llcorner", '\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'), Tp("\\lrcorner", '\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'), Tp("\\vdots", "{\\varvdots\\rule{0pt}{15pt}}"), Tp("⋮", "\\vdots"), Tp("\\varGamma", "\\mathit{\\Gamma}"), Tp("\\varDelta", "\\mathit{\\Delta}"), Tp("\\varTheta", "\\mathit{\\Theta}"), Tp("\\varLambda", "\\mathit{\\Lambda}"), Tp("\\varXi", "\\mathit{\\Xi}"), Tp("\\varPi", "\\mathit{\\Pi}"), Tp("\\varSigma", "\\mathit{\\Sigma}"), Tp("\\varUpsilon", "\\mathit{\\Upsilon}"), Tp("\\varPhi", "\\mathit{\\Phi}"), Tp("\\varPsi", "\\mathit{\\Psi}"), Tp("\\varOmega", "\\mathit{\\Omega}"), Tp("\\substack", "\\begin{subarray}{c}#1\\end{subarray}"), Tp("\\colon", "\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"), Tp("\\boxed", "\\fbox{$\\displaystyle{#1}$}"), Tp("\\iff", "\\DOTSB\\;\\Longleftrightarrow\\;"), Tp("\\implies", "\\DOTSB\\;\\Longrightarrow\\;"), Tp("\\impliedby", "\\DOTSB\\;\\Longleftarrow\\;"), Tp("\\dddot", "{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"), Tp("\\ddddot", "{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");
var T8 = { ",": "\\dotsc", "\\not": "\\dotsb", "+": "\\dotsb", "=": "\\dotsb", "<": "\\dotsb", ">": "\\dotsb", "-": "\\dotsb", "*": "\\dotsb", ":": "\\dotsb", "\\DOTSB": "\\dotsb", "\\coprod": "\\dotsb", "\\bigvee": "\\dotsb", "\\bigwedge": "\\dotsb", "\\biguplus": "\\dotsb", "\\bigcap": "\\dotsb", "\\bigcup": "\\dotsb", "\\prod": "\\dotsb", "\\sum": "\\dotsb", "\\bigotimes": "\\dotsb", "\\bigoplus": "\\dotsb", "\\bigodot": "\\dotsb", "\\bigsqcup": "\\dotsb", "\\And": "\\dotsb", "\\longrightarrow": "\\dotsb", "\\Longrightarrow": "\\dotsb", "\\longleftarrow": "\\dotsb", "\\Longleftarrow": "\\dotsb", "\\longleftrightarrow": "\\dotsb", "\\Longleftrightarrow": "\\dotsb", "\\mapsto": "\\dotsb", "\\longmapsto": "\\dotsb", "\\hookrightarrow": "\\dotsb", "\\doteq": "\\dotsb", "\\mathbin": "\\dotsb", "\\mathrel": "\\dotsb", "\\relbar": "\\dotsb", "\\Relbar": "\\dotsb", "\\xrightarrow": "\\dotsb", "\\xleftarrow": "\\dotsb", "\\DOTSI": "\\dotsi", "\\int": "\\dotsi", "\\oint": "\\dotsi", "\\iint": "\\dotsi", "\\iiint": "\\dotsi", "\\iiiint": "\\dotsi", "\\idotsint": "\\dotsi", "\\DOTSX": "\\dotsx" };
Tp("\\dots", function(t33) {
  var e10 = "\\dotso", r10 = t33.expandAfterFuture().text;
  return r10 in T8 ? e10 = T8[r10] : "\\not" === r10.slice(0, 4) ? e10 = "\\dotsb" : r10 in w6.math && wc.contains(["bin", "rel"], w6.math[r10].group) && (e10 = "\\dotsb"), e10;
});
var T9 = { ")": true, "]": true, "\\rbrack": true, "\\}": true, "\\rbrace": true, "\\rangle": true, "\\rceil": true, "\\rfloor": true, "\\rgroup": true, "\\rmoustache": true, "\\right": true, "\\bigr": true, "\\biggr": true, "\\Bigr": true, "\\Biggr": true, $: true, ";": true, ".": true, ",": true };
Tp("\\dotso", function(t33) {
  return t33.future().text in T9 ? "\\ldots\\," : "\\ldots";
}), Tp("\\dotsc", function(t33) {
  var e10 = t33.future().text;
  return e10 in T9 && "," !== e10 ? "\\ldots\\," : "\\ldots";
}), Tp("\\cdots", function(t33) {
  return t33.future().text in T9 ? "\\@cdots\\," : "\\@cdots";
}), Tp("\\dotsb", "\\cdots"), Tp("\\dotsm", "\\cdots"), Tp("\\dotsi", "\\!\\cdots"), Tp("\\dotsx", "\\ldots\\,"), Tp("\\DOTSI", "\\relax"), Tp("\\DOTSB", "\\relax"), Tp("\\DOTSX", "\\relax"), Tp("\\tmspace", "\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"), Tp("\\,", "\\tmspace+{3mu}{.1667em}"), Tp("\\thinspace", "\\,"), Tp("\\>", "\\mskip{4mu}"), Tp("\\:", "\\tmspace+{4mu}{.2222em}"), Tp("\\medspace", "\\:"), Tp("\\;", "\\tmspace+{5mu}{.2777em}"), Tp("\\thickspace", "\\;"), Tp("\\!", "\\tmspace-{3mu}{.1667em}"), Tp("\\negthinspace", "\\!"), Tp("\\negmedspace", "\\tmspace-{4mu}{.2222em}"), Tp("\\negthickspace", "\\tmspace-{5mu}{.277em}"), Tp("\\enspace", "\\kern.5em "), Tp("\\enskip", "\\hskip.5em\\relax"), Tp("\\quad", "\\hskip1em\\relax"), Tp("\\qquad", "\\hskip2em\\relax"), Tp("\\tag", "\\@ifstar\\tag@literal\\tag@paren"), Tp("\\tag@paren", "\\tag@literal{({#1})}"), Tp("\\tag@literal", (t33) => {
  if (t33.macros.get("\\df@tag")) throw new wn("Multiple \\tag");
  return "\\gdef\\df@tag{\\text{#1}}";
}), Tp("\\bmod", "\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"), Tp("\\pod", "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"), Tp("\\pmod", "\\pod{{\\rm mod}\\mkern6mu#1}"), Tp("\\mod", "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"), Tp("\\newline", "\\\\\\relax"), Tp("\\TeX", "\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");
var Et = wY(wN["Main-Regular"][84][1] - 0.7 * wN["Main-Regular"][65][1]);
Tp("\\LaTeX", "\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{" + Et + "}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"), Tp("\\KaTeX", "\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{" + Et + "}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"), Tp("\\hspace", "\\@ifstar\\@hspacer\\@hspace"), Tp("\\@hspace", "\\hskip #1\\relax"), Tp("\\@hspacer", "\\rule{0pt}{0pt}\\hskip #1\\relax"), Tp("\\ordinarycolon", ":"), Tp("\\vcentcolon", "\\mathrel{\\mathop\\ordinarycolon}"), Tp("\\dblcolon", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'), Tp("\\coloneqq", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'), Tp("\\Coloneqq", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'), Tp("\\coloneq", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'), Tp("\\Coloneq", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'), Tp("\\eqqcolon", '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'), Tp("\\Eqqcolon", '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'), Tp("\\eqcolon", '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'), Tp("\\Eqcolon", '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'), Tp("\\colonapprox", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'), Tp("\\Colonapprox", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'), Tp("\\colonsim", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'), Tp("\\Colonsim", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'), Tp("∷", "\\dblcolon"), Tp("∹", "\\eqcolon"), Tp("≔", "\\coloneqq"), Tp("≕", "\\eqqcolon"), Tp("⩴", "\\Coloneqq"), Tp("\\ratio", "\\vcentcolon"), Tp("\\coloncolon", "\\dblcolon"), Tp("\\colonequals", "\\coloneqq"), Tp("\\coloncolonequals", "\\Coloneqq"), Tp("\\equalscolon", "\\eqqcolon"), Tp("\\equalscoloncolon", "\\Eqqcolon"), Tp("\\colonminus", "\\coloneq"), Tp("\\coloncolonminus", "\\Coloneq"), Tp("\\minuscolon", "\\eqcolon"), Tp("\\minuscoloncolon", "\\Eqcolon"), Tp("\\coloncolonapprox", "\\Colonapprox"), Tp("\\coloncolonsim", "\\Colonsim"), Tp("\\simcolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"), Tp("\\simcoloncolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"), Tp("\\approxcolon", "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"), Tp("\\approxcoloncolon", "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"), Tp("\\notni", "\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"), Tp("\\limsup", "\\DOTSB\\operatorname*{lim\\,sup}"), Tp("\\liminf", "\\DOTSB\\operatorname*{lim\\,inf}"), Tp("\\injlim", "\\DOTSB\\operatorname*{inj\\,lim}"), Tp("\\projlim", "\\DOTSB\\operatorname*{proj\\,lim}"), Tp("\\varlimsup", "\\DOTSB\\operatorname*{\\overline{lim}}"), Tp("\\varliminf", "\\DOTSB\\operatorname*{\\underline{lim}}"), Tp("\\varinjlim", "\\DOTSB\\operatorname*{\\underrightarrow{lim}}"), Tp("\\varprojlim", "\\DOTSB\\operatorname*{\\underleftarrow{lim}}"), Tp("\\gvertneqq", "\\html@mathml{\\@gvertneqq}{≩}"), Tp("\\lvertneqq", "\\html@mathml{\\@lvertneqq}{≨}"), Tp("\\ngeqq", "\\html@mathml{\\@ngeqq}{≱}"), Tp("\\ngeqslant", "\\html@mathml{\\@ngeqslant}{≱}"), Tp("\\nleqq", "\\html@mathml{\\@nleqq}{≰}"), Tp("\\nleqslant", "\\html@mathml{\\@nleqslant}{≰}"), Tp("\\nshortmid", "\\html@mathml{\\@nshortmid}{∤}"), Tp("\\nshortparallel", "\\html@mathml{\\@nshortparallel}{∦}"), Tp("\\nsubseteqq", "\\html@mathml{\\@nsubseteqq}{⊈}"), Tp("\\nsupseteqq", "\\html@mathml{\\@nsupseteqq}{⊉}"), Tp("\\varsubsetneq", "\\html@mathml{\\@varsubsetneq}{⊊}"), Tp("\\varsubsetneqq", "\\html@mathml{\\@varsubsetneqq}{⫋}"), Tp("\\varsupsetneq", "\\html@mathml{\\@varsupsetneq}{⊋}"), Tp("\\varsupsetneqq", "\\html@mathml{\\@varsupsetneqq}{⫌}"), Tp("\\imath", "\\html@mathml{\\@imath}{ı}"), Tp("\\jmath", "\\html@mathml{\\@jmath}{ȷ}"), Tp("\\llbracket", "\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"), Tp("\\rrbracket", "\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"), Tp("⟦", "\\llbracket"), Tp("⟧", "\\rrbracket"), Tp("\\lBrace", "\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"), Tp("\\rBrace", "\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"), Tp("⦃", "\\lBrace"), Tp("⦄", "\\rBrace"), Tp("\\minuso", "\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"), Tp("⦵", "\\minuso"), Tp("\\darr", "\\downarrow"), Tp("\\dArr", "\\Downarrow"), Tp("\\Darr", "\\Downarrow"), Tp("\\lang", "\\langle"), Tp("\\rang", "\\rangle"), Tp("\\uarr", "\\uparrow"), Tp("\\uArr", "\\Uparrow"), Tp("\\Uarr", "\\Uparrow"), Tp("\\N", "\\mathbb{N}"), Tp("\\R", "\\mathbb{R}"), Tp("\\Z", "\\mathbb{Z}"), Tp("\\alef", "\\aleph"), Tp("\\alefsym", "\\aleph"), Tp("\\Alpha", "\\mathrm{A}"), Tp("\\Beta", "\\mathrm{B}"), Tp("\\bull", "\\bullet"), Tp("\\Chi", "\\mathrm{X}"), Tp("\\clubs", "\\clubsuit"), Tp("\\cnums", "\\mathbb{C}"), Tp("\\Complex", "\\mathbb{C}"), Tp("\\Dagger", "\\ddagger"), Tp("\\diamonds", "\\diamondsuit"), Tp("\\empty", "\\emptyset"), Tp("\\Epsilon", "\\mathrm{E}"), Tp("\\Eta", "\\mathrm{H}"), Tp("\\exist", "\\exists"), Tp("\\harr", "\\leftrightarrow"), Tp("\\hArr", "\\Leftrightarrow"), Tp("\\Harr", "\\Leftrightarrow"), Tp("\\hearts", "\\heartsuit"), Tp("\\image", "\\Im"), Tp("\\infin", "\\infty"), Tp("\\Iota", "\\mathrm{I}"), Tp("\\isin", "\\in"), Tp("\\Kappa", "\\mathrm{K}"), Tp("\\larr", "\\leftarrow"), Tp("\\lArr", "\\Leftarrow"), Tp("\\Larr", "\\Leftarrow"), Tp("\\lrarr", "\\leftrightarrow"), Tp("\\lrArr", "\\Leftrightarrow"), Tp("\\Lrarr", "\\Leftrightarrow"), Tp("\\Mu", "\\mathrm{M}"), Tp("\\natnums", "\\mathbb{N}"), Tp("\\Nu", "\\mathrm{N}"), Tp("\\Omicron", "\\mathrm{O}"), Tp("\\plusmn", "\\pm"), Tp("\\rarr", "\\rightarrow"), Tp("\\rArr", "\\Rightarrow"), Tp("\\Rarr", "\\Rightarrow"), Tp("\\real", "\\Re"), Tp("\\reals", "\\mathbb{R}"), Tp("\\Reals", "\\mathbb{R}"), Tp("\\Rho", "\\mathrm{P}"), Tp("\\sdot", "\\cdot"), Tp("\\sect", "\\S"), Tp("\\spades", "\\spadesuit"), Tp("\\sub", "\\subset"), Tp("\\sube", "\\subseteq"), Tp("\\supe", "\\supseteq"), Tp("\\Tau", "\\mathrm{T}"), Tp("\\thetasym", "\\vartheta"), Tp("\\weierp", "\\wp"), Tp("\\Zeta", "\\mathrm{Z}"), Tp("\\argmin", "\\DOTSB\\operatorname*{arg\\,min}"), Tp("\\argmax", "\\DOTSB\\operatorname*{arg\\,max}"), Tp("\\plim", "\\DOTSB\\mathop{\\operatorname{plim}}\\limits"), Tp("\\bra", "\\mathinner{\\langle{#1}|}"), Tp("\\ket", "\\mathinner{|{#1}\\rangle}"), Tp("\\braket", "\\mathinner{\\langle{#1}\\rangle}"), Tp("\\Bra", "\\left\\langle#1\\right|"), Tp("\\Ket", "\\left|#1\\right\\rangle");
var Ee = (t33) => (e10) => {
  var r10 = e10.consumeArg().tokens, i10 = e10.consumeArg().tokens, n10 = e10.consumeArg().tokens, a10 = e10.consumeArg().tokens, o10 = e10.macros.get("|"), s10 = e10.macros.get("\\|");
  e10.macros.beginGroup();
  var l10 = (e11) => (r11) => {
    t33 && (r11.macros.set("|", o10), n10.length && r11.macros.set("\\|", s10));
    var a11 = e11;
    return !e11 && n10.length && "|" === r11.future().text && (r11.popToken(), a11 = true), { tokens: a11 ? n10 : i10, numArgs: 0 };
  };
  e10.macros.set("|", l10(false)), n10.length && e10.macros.set("\\|", l10(true));
  var h10 = e10.consumeArg().tokens, u10 = e10.expandTokens([...a10, ...h10, ...r10]);
  return e10.macros.endGroup(), { tokens: u10.reverse(), numArgs: 0 };
};
Tp("\\bra@ket", Ee(false)), Tp("\\bra@set", Ee(true)), Tp("\\Braket", "\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"), Tp("\\Set", "\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"), Tp("\\set", "\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"), Tp("\\angln", "{\\angl n}"), Tp("\\blue", "\\textcolor{##6495ed}{#1}"), Tp("\\orange", "\\textcolor{##ffa500}{#1}"), Tp("\\pink", "\\textcolor{##ff00af}{#1}"), Tp("\\red", "\\textcolor{##df0030}{#1}"), Tp("\\green", "\\textcolor{##28ae7b}{#1}"), Tp("\\gray", "\\textcolor{gray}{#1}"), Tp("\\purple", "\\textcolor{##9d38bd}{#1}"), Tp("\\blueA", "\\textcolor{##ccfaff}{#1}"), Tp("\\blueB", "\\textcolor{##80f6ff}{#1}"), Tp("\\blueC", "\\textcolor{##63d9ea}{#1}"), Tp("\\blueD", "\\textcolor{##11accd}{#1}"), Tp("\\blueE", "\\textcolor{##0c7f99}{#1}"), Tp("\\tealA", "\\textcolor{##94fff5}{#1}"), Tp("\\tealB", "\\textcolor{##26edd5}{#1}"), Tp("\\tealC", "\\textcolor{##01d1c1}{#1}"), Tp("\\tealD", "\\textcolor{##01a995}{#1}"), Tp("\\tealE", "\\textcolor{##208170}{#1}"), Tp("\\greenA", "\\textcolor{##b6ffb0}{#1}"), Tp("\\greenB", "\\textcolor{##8af281}{#1}"), Tp("\\greenC", "\\textcolor{##74cf70}{#1}"), Tp("\\greenD", "\\textcolor{##1fab54}{#1}"), Tp("\\greenE", "\\textcolor{##0d923f}{#1}"), Tp("\\goldA", "\\textcolor{##ffd0a9}{#1}"), Tp("\\goldB", "\\textcolor{##ffbb71}{#1}"), Tp("\\goldC", "\\textcolor{##ff9c39}{#1}"), Tp("\\goldD", "\\textcolor{##e07d10}{#1}"), Tp("\\goldE", "\\textcolor{##a75a05}{#1}"), Tp("\\redA", "\\textcolor{##fca9a9}{#1}"), Tp("\\redB", "\\textcolor{##ff8482}{#1}"), Tp("\\redC", "\\textcolor{##f9685d}{#1}"), Tp("\\redD", "\\textcolor{##e84d39}{#1}"), Tp("\\redE", "\\textcolor{##bc2612}{#1}"), Tp("\\maroonA", "\\textcolor{##ffbde0}{#1}"), Tp("\\maroonB", "\\textcolor{##ff92c6}{#1}"), Tp("\\maroonC", "\\textcolor{##ed5fa6}{#1}"), Tp("\\maroonD", "\\textcolor{##ca337c}{#1}"), Tp("\\maroonE", "\\textcolor{##9e034e}{#1}"), Tp("\\purpleA", "\\textcolor{##ddd7ff}{#1}"), Tp("\\purpleB", "\\textcolor{##c6b9fc}{#1}"), Tp("\\purpleC", "\\textcolor{##aa87ff}{#1}"), Tp("\\purpleD", "\\textcolor{##7854ab}{#1}"), Tp("\\purpleE", "\\textcolor{##543b78}{#1}"), Tp("\\mintA", "\\textcolor{##f5f9e8}{#1}"), Tp("\\mintB", "\\textcolor{##edf2df}{#1}"), Tp("\\mintC", "\\textcolor{##e0e5cc}{#1}"), Tp("\\grayA", "\\textcolor{##f6f7f7}{#1}"), Tp("\\grayB", "\\textcolor{##f0f1f2}{#1}"), Tp("\\grayC", "\\textcolor{##e3e5e6}{#1}"), Tp("\\grayD", "\\textcolor{##d6d8da}{#1}"), Tp("\\grayE", "\\textcolor{##babec2}{#1}"), Tp("\\grayF", "\\textcolor{##888d93}{#1}"), Tp("\\grayG", "\\textcolor{##626569}{#1}"), Tp("\\grayH", "\\textcolor{##3b3e40}{#1}"), Tp("\\grayI", "\\textcolor{##21242c}{#1}"), Tp("\\kaBlue", "\\textcolor{##314453}{#1}"), Tp("\\kaGreen", "\\textcolor{##71B307}{#1}");
var Er = { "^": true, _: true, "\\limits": true, "\\nolimits": true };
class Ei {
  constructor(t33, e10, r10) {
    this.settings = void 0, this.expansionCount = void 0, this.lexer = void 0, this.macros = void 0, this.stack = void 0, this.mode = void 0, this.settings = e10, this.expansionCount = 0, this.feed(t33), this.macros = new T3(Td, e10.macros), this.mode = r10, this.stack = [];
  }
  feed(t33) {
    this.lexer = new T5(t33, this.settings);
  }
  switchMode(t33) {
    this.mode = t33;
  }
  beginGroup() {
    this.macros.beginGroup();
  }
  endGroup() {
    this.macros.endGroup();
  }
  endGroups() {
    this.macros.endGroups();
  }
  future() {
    return 0 === this.stack.length && this.pushToken(this.lexer.lex()), this.stack[this.stack.length - 1];
  }
  popToken() {
    return this.future(), this.stack.pop();
  }
  pushToken(t33) {
    this.stack.push(t33);
  }
  pushTokens(t33) {
    this.stack.push(...t33);
  }
  scanArgument(t33) {
    var e10, r10, i10;
    if (t33) {
      if (this.consumeSpaces(), "[" !== this.future().text) return null;
      e10 = this.popToken(), { tokens: i10, end: r10 } = this.consumeArg(["]"]);
    } else ({ tokens: i10, start: e10, end: r10 } = this.consumeArg());
    return this.pushToken(new wi("EOF", r10.loc)), this.pushTokens(i10), e10.range(r10, "");
  }
  consumeSpaces() {
    for (; ; ) if (" " === this.future().text) this.stack.pop();
    else break;
  }
  consumeArg(t33) {
    var e10, r10 = [], i10 = t33 && t33.length > 0;
    i10 || this.consumeSpaces();
    var n10 = this.future(), a10 = 0, o10 = 0;
    do {
      if (e10 = this.popToken(), r10.push(e10), "{" === e10.text) ++a10;
      else if ("}" === e10.text) {
        if (-1 == --a10) throw new wn("Extra }", e10);
      } else if ("EOF" === e10.text) throw new wn("Unexpected end of input in a macro argument, expected '" + (t33 && i10 ? t33[o10] : "}") + "'", e10);
      if (t33 && i10) {
        if ((0 === a10 || 1 === a10 && "{" === t33[o10]) && e10.text === t33[o10]) {
          if (++o10 === t33.length) {
            r10.splice(-o10, o10);
            break;
          }
        } else o10 = 0;
      }
    } while (0 !== a10 || i10);
    return "{" === n10.text && "}" === r10[r10.length - 1].text && (r10.pop(), r10.shift()), r10.reverse(), { tokens: r10, start: n10, end: e10 };
  }
  consumeArgs(t33, e10) {
    if (e10) {
      if (e10.length !== t33 + 1) throw new wn("The length of delimiters doesn't match the number of args!");
      for (var r10 = e10[0], i10 = 0; i10 < r10.length; i10++) {
        var n10 = this.popToken();
        if (r10[i10] !== n10.text) throw new wn("Use of the macro doesn't match its definition", n10);
      }
    }
    for (var a10 = [], o10 = 0; o10 < t33; o10++) a10.push(this.consumeArg(e10 && e10[o10 + 1]).tokens);
    return a10;
  }
  countExpansion(t33) {
    if (this.expansionCount += t33, this.expansionCount > this.settings.maxExpand) throw new wn("Too many expansions: infinite loop or need to increase maxExpand setting");
  }
  expandOnce(t33) {
    var e10 = this.popToken(), r10 = e10.text, i10 = e10.noexpand ? null : this._getExpansion(r10);
    if (null == i10 || t33 && i10.unexpandable) {
      if (t33 && null == i10 && "\\" === r10[0] && !this.isDefined(r10)) throw new wn("Undefined control sequence: " + r10);
      return this.pushToken(e10), false;
    }
    this.countExpansion(1);
    var n10 = i10.tokens, a10 = this.consumeArgs(i10.numArgs, i10.delimiters);
    if (i10.numArgs) {
      n10 = n10.slice();
      for (var o10 = n10.length - 1; o10 >= 0; --o10) {
        var s10 = n10[o10];
        if ("#" === s10.text) {
          if (0 === o10) throw new wn("Incomplete placeholder at end of macro body", s10);
          if ("#" === (s10 = n10[--o10]).text) n10.splice(o10 + 1, 1);
          else if (/^[1-9]$/.test(s10.text)) n10.splice(o10, 2, ...a10[+s10.text - 1]);
          else throw new wn("Not a valid argument number", s10);
        }
      }
    }
    return this.pushTokens(n10), n10.length;
  }
  expandAfterFuture() {
    return this.expandOnce(), this.future();
  }
  expandNextToken() {
    for (; ; ) if (false === this.expandOnce()) {
      var t33 = this.stack.pop();
      return t33.treatAsRelax && (t33.text = "\\relax"), t33;
    }
    throw Error();
  }
  expandMacro(t33) {
    return this.macros.has(t33) ? this.expandTokens([new wi(t33)]) : void 0;
  }
  expandTokens(t33) {
    var e10 = [], r10 = this.stack.length;
    for (this.pushTokens(t33); this.stack.length > r10; ) if (false === this.expandOnce(true)) {
      var i10 = this.stack.pop();
      i10.treatAsRelax && (i10.noexpand = false, i10.treatAsRelax = false), e10.push(i10);
    }
    return this.countExpansion(e10.length), e10;
  }
  expandMacroAsText(t33) {
    var e10 = this.expandMacro(t33);
    return e10 ? e10.map((t34) => t34.text).join("") : e10;
  }
  _getExpansion(t33) {
    var e10 = this.macros.get(t33);
    if (null == e10) return e10;
    if (1 === t33.length) {
      var r10 = this.lexer.catcodes[t33];
      if (null != r10 && 13 !== r10) return;
    }
    var i10 = "function" == typeof e10 ? e10(this) : e10;
    if ("string" == typeof i10) {
      var n10 = 0;
      if (-1 !== i10.indexOf("#")) for (var a10 = i10.replace(/##/g, ""); -1 !== a10.indexOf("#" + (n10 + 1)); ) ++n10;
      for (var o10 = new T5(i10, this.settings), s10 = [], l10 = o10.lex(); "EOF" !== l10.text; ) s10.push(l10), l10 = o10.lex();
      return s10.reverse(), { tokens: s10, numArgs: n10 };
    }
    return i10;
  }
  isDefined(t33) {
    return this.macros.has(t33) || kV.hasOwnProperty(t33) || w6.math.hasOwnProperty(t33) || w6.text.hasOwnProperty(t33) || Er.hasOwnProperty(t33);
  }
  isExpandable(t33) {
    var e10 = this.macros.get(t33);
    return null != e10 ? "string" == typeof e10 || "function" == typeof e10 || !e10.unexpandable : kV.hasOwnProperty(t33) && !kV[t33].primitive;
  }
}
var En = /^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/, Ea = Object.freeze({ "₊": "+", "₋": "-", "₌": "=", "₍": "(", "₎": ")", "₀": "0", "₁": "1", "₂": "2", "₃": "3", "₄": "4", "₅": "5", "₆": "6", "₇": "7", "₈": "8", "₉": "9", "ₐ": "a", "ₑ": "e", "ₕ": "h", "ᵢ": "i", "ⱼ": "j", "ₖ": "k", "ₗ": "l", "ₘ": "m", "ₙ": "n", "ₒ": "o", "ₚ": "p", "ᵣ": "r", "ₛ": "s", "ₜ": "t", "ᵤ": "u", "ᵥ": "v", "ₓ": "x", "ᵦ": "β", "ᵧ": "γ", "ᵨ": "ρ", "ᵩ": "ϕ", "ᵪ": "χ", "⁺": "+", "⁻": "-", "⁼": "=", "⁽": "(", "⁾": ")", "⁰": "0", "¹": "1", "²": "2", "³": "3", "⁴": "4", "⁵": "5", "⁶": "6", "⁷": "7", "⁸": "8", "⁹": "9", "ᴬ": "A", "ᴮ": "B", "ᴰ": "D", "ᴱ": "E", "ᴳ": "G", "ᴴ": "H", "ᴵ": "I", "ᴶ": "J", "ᴷ": "K", "ᴸ": "L", "ᴹ": "M", "ᴺ": "N", "ᴼ": "O", "ᴾ": "P", "ᴿ": "R", "ᵀ": "T", "ᵁ": "U", "ⱽ": "V", "ᵂ": "W", "ᵃ": "a", "ᵇ": "b", "ᶜ": "c", "ᵈ": "d", "ᵉ": "e", "ᶠ": "f", "ᵍ": "g", ʰ: "h", "ⁱ": "i", ʲ: "j", "ᵏ": "k", ˡ: "l", "ᵐ": "m", ⁿ: "n", "ᵒ": "o", "ᵖ": "p", ʳ: "r", ˢ: "s", "ᵗ": "t", "ᵘ": "u", "ᵛ": "v", ʷ: "w", ˣ: "x", ʸ: "y", "ᶻ": "z", "ᵝ": "β", "ᵞ": "γ", "ᵟ": "δ", "ᵠ": "ϕ", "ᵡ": "χ", "ᶿ": "θ" }), Eo = { "́": { text: "\\'", math: "\\acute" }, "̀": { text: "\\`", math: "\\grave" }, "̈": { text: '\\"', math: "\\ddot" }, "̃": { text: "\\~", math: "\\tilde" }, "̄": { text: "\\=", math: "\\bar" }, "̆": { text: "\\u", math: "\\breve" }, "̌": { text: "\\v", math: "\\check" }, "̂": { text: "\\^", math: "\\hat" }, "̇": { text: "\\.", math: "\\dot" }, "̊": { text: "\\r", math: "\\mathring" }, "̋": { text: "\\H" }, "̧": { text: "\\c" } }, Es = { á: "á", à: "à", ä: "ä", ǟ: "ǟ", ã: "ã", ā: "ā", ă: "ă", ắ: "ắ", ằ: "ằ", ẵ: "ẵ", ǎ: "ǎ", â: "â", ấ: "ấ", ầ: "ầ", ẫ: "ẫ", ȧ: "ȧ", ǡ: "ǡ", å: "å", ǻ: "ǻ", ḃ: "ḃ", ć: "ć", ḉ: "ḉ", č: "č", ĉ: "ĉ", ċ: "ċ", ç: "ç", ď: "ď", ḋ: "ḋ", ḑ: "ḑ", é: "é", è: "è", ë: "ë", ẽ: "ẽ", ē: "ē", ḗ: "ḗ", ḕ: "ḕ", ĕ: "ĕ", ḝ: "ḝ", ě: "ě", ê: "ê", ế: "ế", ề: "ề", ễ: "ễ", ė: "ė", ȩ: "ȩ", ḟ: "ḟ", ǵ: "ǵ", ḡ: "ḡ", ğ: "ğ", ǧ: "ǧ", ĝ: "ĝ", ġ: "ġ", ģ: "ģ", ḧ: "ḧ", ȟ: "ȟ", ĥ: "ĥ", ḣ: "ḣ", ḩ: "ḩ", í: "í", ì: "ì", ï: "ï", ḯ: "ḯ", ĩ: "ĩ", ī: "ī", ĭ: "ĭ", ǐ: "ǐ", î: "î", ǰ: "ǰ", ĵ: "ĵ", ḱ: "ḱ", ǩ: "ǩ", ķ: "ķ", ĺ: "ĺ", ľ: "ľ", ļ: "ļ", ḿ: "ḿ", ṁ: "ṁ", ń: "ń", ǹ: "ǹ", ñ: "ñ", ň: "ň", ṅ: "ṅ", ņ: "ņ", ó: "ó", ò: "ò", ö: "ö", ȫ: "ȫ", õ: "õ", ṍ: "ṍ", ṏ: "ṏ", ȭ: "ȭ", ō: "ō", ṓ: "ṓ", ṑ: "ṑ", ŏ: "ŏ", ǒ: "ǒ", ô: "ô", ố: "ố", ồ: "ồ", ỗ: "ỗ", ȯ: "ȯ", ȱ: "ȱ", ő: "ő", ṕ: "ṕ", ṗ: "ṗ", ŕ: "ŕ", ř: "ř", ṙ: "ṙ", ŗ: "ŗ", ś: "ś", ṥ: "ṥ", š: "š", ṧ: "ṧ", ŝ: "ŝ", ṡ: "ṡ", ş: "ş", ẗ: "ẗ", ť: "ť", ṫ: "ṫ", ţ: "ţ", ú: "ú", ù: "ù", ü: "ü", ǘ: "ǘ", ǜ: "ǜ", ǖ: "ǖ", ǚ: "ǚ", ũ: "ũ", ṹ: "ṹ", ū: "ū", ṻ: "ṻ", ŭ: "ŭ", ǔ: "ǔ", û: "û", ů: "ů", ű: "ű", ṽ: "ṽ", ẃ: "ẃ", ẁ: "ẁ", ẅ: "ẅ", ŵ: "ŵ", ẇ: "ẇ", ẘ: "ẘ", ẍ: "ẍ", ẋ: "ẋ", ý: "ý", ỳ: "ỳ", ÿ: "ÿ", ỹ: "ỹ", ȳ: "ȳ", ŷ: "ŷ", ẏ: "ẏ", ẙ: "ẙ", ź: "ź", ž: "ž", ẑ: "ẑ", ż: "ż", Á: "Á", À: "À", Ä: "Ä", Ǟ: "Ǟ", Ã: "Ã", Ā: "Ā", Ă: "Ă", Ắ: "Ắ", Ằ: "Ằ", Ẵ: "Ẵ", Ǎ: "Ǎ", Â: "Â", Ấ: "Ấ", Ầ: "Ầ", Ẫ: "Ẫ", Ȧ: "Ȧ", Ǡ: "Ǡ", Å: "Å", Ǻ: "Ǻ", Ḃ: "Ḃ", Ć: "Ć", Ḉ: "Ḉ", Č: "Č", Ĉ: "Ĉ", Ċ: "Ċ", Ç: "Ç", Ď: "Ď", Ḋ: "Ḋ", Ḑ: "Ḑ", É: "É", È: "È", Ë: "Ë", Ẽ: "Ẽ", Ē: "Ē", Ḗ: "Ḗ", Ḕ: "Ḕ", Ĕ: "Ĕ", Ḝ: "Ḝ", Ě: "Ě", Ê: "Ê", Ế: "Ế", Ề: "Ề", Ễ: "Ễ", Ė: "Ė", Ȩ: "Ȩ", Ḟ: "Ḟ", Ǵ: "Ǵ", Ḡ: "Ḡ", Ğ: "Ğ", Ǧ: "Ǧ", Ĝ: "Ĝ", Ġ: "Ġ", Ģ: "Ģ", Ḧ: "Ḧ", Ȟ: "Ȟ", Ĥ: "Ĥ", Ḣ: "Ḣ", Ḩ: "Ḩ", Í: "Í", Ì: "Ì", Ï: "Ï", Ḯ: "Ḯ", Ĩ: "Ĩ", Ī: "Ī", Ĭ: "Ĭ", Ǐ: "Ǐ", Î: "Î", İ: "İ", Ĵ: "Ĵ", Ḱ: "Ḱ", Ǩ: "Ǩ", Ķ: "Ķ", Ĺ: "Ĺ", Ľ: "Ľ", Ļ: "Ļ", Ḿ: "Ḿ", Ṁ: "Ṁ", Ń: "Ń", Ǹ: "Ǹ", Ñ: "Ñ", Ň: "Ň", Ṅ: "Ṅ", Ņ: "Ņ", Ó: "Ó", Ò: "Ò", Ö: "Ö", Ȫ: "Ȫ", Õ: "Õ", Ṍ: "Ṍ", Ṏ: "Ṏ", Ȭ: "Ȭ", Ō: "Ō", Ṓ: "Ṓ", Ṑ: "Ṑ", Ŏ: "Ŏ", Ǒ: "Ǒ", Ô: "Ô", Ố: "Ố", Ồ: "Ồ", Ỗ: "Ỗ", Ȯ: "Ȯ", Ȱ: "Ȱ", Ő: "Ő", Ṕ: "Ṕ", Ṗ: "Ṗ", Ŕ: "Ŕ", Ř: "Ř", Ṙ: "Ṙ", Ŗ: "Ŗ", Ś: "Ś", Ṥ: "Ṥ", Š: "Š", Ṧ: "Ṧ", Ŝ: "Ŝ", Ṡ: "Ṡ", Ş: "Ş", Ť: "Ť", Ṫ: "Ṫ", Ţ: "Ţ", Ú: "Ú", Ù: "Ù", Ü: "Ü", Ǘ: "Ǘ", Ǜ: "Ǜ", Ǖ: "Ǖ", Ǚ: "Ǚ", Ũ: "Ũ", Ṹ: "Ṹ", Ū: "Ū", Ṻ: "Ṻ", Ŭ: "Ŭ", Ǔ: "Ǔ", Û: "Û", Ů: "Ů", Ű: "Ű", Ṽ: "Ṽ", Ẃ: "Ẃ", Ẁ: "Ẁ", Ẅ: "Ẅ", Ŵ: "Ŵ", Ẇ: "Ẇ", Ẍ: "Ẍ", Ẋ: "Ẋ", Ý: "Ý", Ỳ: "Ỳ", Ÿ: "Ÿ", Ỹ: "Ỹ", Ȳ: "Ȳ", Ŷ: "Ŷ", Ẏ: "Ẏ", Ź: "Ź", Ž: "Ž", Ẑ: "Ẑ", Ż: "Ż", ά: "ά", ὰ: "ὰ", ᾱ: "ᾱ", ᾰ: "ᾰ", έ: "έ", ὲ: "ὲ", ή: "ή", ὴ: "ὴ", ί: "ί", ὶ: "ὶ", ϊ: "ϊ", ΐ: "ΐ", ῒ: "ῒ", ῑ: "ῑ", ῐ: "ῐ", ό: "ό", ὸ: "ὸ", ύ: "ύ", ὺ: "ὺ", ϋ: "ϋ", ΰ: "ΰ", ῢ: "ῢ", ῡ: "ῡ", ῠ: "ῠ", ώ: "ώ", ὼ: "ὼ", Ύ: "Ύ", Ὺ: "Ὺ", Ϋ: "Ϋ", Ῡ: "Ῡ", Ῠ: "Ῠ", Ώ: "Ώ", Ὼ: "Ὼ" };
let El = class t22 {
  constructor(t33, e10) {
    this.mode = void 0, this.gullet = void 0, this.settings = void 0, this.leftrightDepth = void 0, this.nextToken = void 0, this.mode = "math", this.gullet = new Ei(t33, e10, this.mode), this.settings = e10, this.leftrightDepth = 0;
  }
  expect(t33, e10) {
    if (void 0 === e10 && (e10 = true), this.fetch().text !== t33) throw new wn("Expected '" + t33 + "', got '" + this.fetch().text + "'", this.fetch());
    e10 && this.consume();
  }
  consume() {
    this.nextToken = null;
  }
  fetch() {
    return null == this.nextToken && (this.nextToken = this.gullet.expandNextToken()), this.nextToken;
  }
  switchMode(t33) {
    this.mode = t33, this.gullet.switchMode(t33);
  }
  parse() {
    this.settings.globalGroup || this.gullet.beginGroup(), this.settings.colorIsTextColor && this.gullet.macros.set("\\color", "\\textcolor");
    try {
      var t33 = this.parseExpression(false);
      return this.expect("EOF"), this.settings.globalGroup || this.gullet.endGroup(), t33;
    } finally {
      this.gullet.endGroups();
    }
  }
  subparse(t33) {
    var e10 = this.nextToken;
    this.consume(), this.gullet.pushToken(new wi("}")), this.gullet.pushTokens(t33);
    var r10 = this.parseExpression(false);
    return this.expect("}"), this.nextToken = e10, r10;
  }
  parseExpression(e10, r10) {
    for (var i10 = []; ; ) {
      "math" === this.mode && this.consumeSpaces();
      var n10 = this.fetch();
      if (-1 !== t22.endOfExpression.indexOf(n10.text) || r10 && n10.text === r10 || e10 && kV[n10.text] && kV[n10.text].infix) break;
      var a10 = this.parseAtom(r10);
      if (a10) {
        if ("internal" === a10.type) continue;
      } else break;
      i10.push(a10);
    }
    return "text" === this.mode && this.formLigatures(i10), this.handleInfixNodes(i10);
  }
  handleInfixNodes(t33) {
    for (var e10 = -1, r10 = 0; r10 < t33.length; r10++) if ("infix" === t33[r10].type) {
      if (-1 !== e10) throw new wn("only one infix operator per group", t33[r10].token);
      e10 = r10, i10 = t33[r10].replaceWith;
    }
    if (-1 === e10 || !i10) return t33;
    var i10, n10, a10, o10 = t33.slice(0, e10), s10 = t33.slice(e10 + 1);
    return n10 = 1 === o10.length && "ordgroup" === o10[0].type ? o10[0] : { type: "ordgroup", mode: this.mode, body: o10 }, a10 = 1 === s10.length && "ordgroup" === s10[0].type ? s10[0] : { type: "ordgroup", mode: this.mode, body: s10 }, ["\\\\abovefrac" === i10 ? this.callFunction(i10, [n10, t33[e10], a10], []) : this.callFunction(i10, [n10, a10], [])];
  }
  handleSupSubscript(t33) {
    var e10 = this.fetch(), r10 = e10.text;
    this.consume(), this.consumeSpaces();
    var i10 = this.parseGroup(t33);
    if (!i10) throw new wn("Expected group after '" + r10 + "'", e10);
    return i10;
  }
  formatUnsupportedCmd(t33) {
    for (var e10 = [], r10 = 0; r10 < t33.length; r10++) e10.push({ type: "textord", mode: "text", text: t33[r10] });
    var i10 = { type: "text", mode: this.mode, body: e10 };
    return { type: "color", mode: this.mode, color: this.settings.errorColor, body: [i10] };
  }
  parseAtom(t33) {
    var e10, r10, i10 = this.parseGroup("atom", t33);
    if ("text" === this.mode) return i10;
    for (; ; ) {
      this.consumeSpaces();
      var n10 = this.fetch();
      if ("\\limits" === n10.text || "\\nolimits" === n10.text) {
        if (i10 && "op" === i10.type) {
          var a10 = "\\limits" === n10.text;
          i10.limits = a10, i10.alwaysHandleSupSub = true;
        } else if (i10 && "operatorname" === i10.type) i10.alwaysHandleSupSub && (i10.limits = "\\limits" === n10.text);
        else throw new wn("Limit controls must follow a math operator", n10);
        this.consume();
      } else if ("^" === n10.text) {
        if (e10) throw new wn("Double superscript", n10);
        e10 = this.handleSupSubscript("superscript");
      } else if ("_" === n10.text) {
        if (r10) throw new wn("Double subscript", n10);
        r10 = this.handleSupSubscript("subscript");
      } else if ("'" === n10.text) {
        if (e10) throw new wn("Double superscript", n10);
        var o10 = { type: "textord", mode: this.mode, text: "\\prime" }, s10 = [o10];
        for (this.consume(); "'" === this.fetch().text; ) s10.push(o10), this.consume();
        "^" === this.fetch().text && s10.push(this.handleSupSubscript("superscript")), e10 = { type: "ordgroup", mode: this.mode, body: s10 };
      } else if (Ea[n10.text]) {
        var l10 = En.test(n10.text), h10 = [];
        for (h10.push(new wi(Ea[n10.text])), this.consume(); ; ) {
          var u10 = this.fetch().text;
          if (!Ea[u10] || En.test(u10) !== l10) break;
          h10.unshift(new wi(Ea[u10])), this.consume();
        }
        var d10 = this.subparse(h10);
        l10 ? r10 = { type: "ordgroup", mode: "math", body: d10 } : e10 = { type: "ordgroup", mode: "math", body: d10 };
      } else break;
    }
    return e10 || r10 ? { type: "supsub", mode: this.mode, base: i10, sup: e10, sub: r10 } : i10;
  }
  parseFunction(t33, e10) {
    var r10 = this.fetch(), i10 = r10.text, n10 = kV[i10];
    if (!n10) return null;
    if (this.consume(), e10 && "atom" !== e10 && !n10.allowedInArgument) throw new wn("Got function '" + i10 + "' with no arguments" + (e10 ? " as " + e10 : ""), r10);
    if ("text" !== this.mode || n10.allowedInText) {
      if ("math" === this.mode && false === n10.allowedInMath) throw new wn("Can't use function '" + i10 + "' in math mode", r10);
    } else throw new wn("Can't use function '" + i10 + "' in text mode", r10);
    var { args: a10, optArgs: o10 } = this.parseArguments(i10, n10);
    return this.callFunction(i10, a10, o10, r10, t33);
  }
  callFunction(t33, e10, r10, i10, n10) {
    var a10 = kV[t33];
    if (a10 && a10.handler) return a10.handler({ funcName: t33, parser: this, token: i10, breakOnTokenText: n10 }, e10, r10);
    throw new wn("No function handler for " + t33);
  }
  parseArguments(t33, e10) {
    var r10 = e10.numArgs + e10.numOptionalArgs;
    if (0 === r10) return { args: [], optArgs: [] };
    for (var i10 = [], n10 = [], a10 = 0; a10 < r10; a10++) {
      var o10 = e10.argTypes && e10.argTypes[a10], s10 = a10 < e10.numOptionalArgs;
      (e10.primitive && null == o10 || "sqrt" === e10.type && 1 === a10 && null == n10[0]) && (o10 = "primitive");
      var l10 = this.parseGroupOfType("argument to '" + t33 + "'", o10, s10);
      if (s10) n10.push(l10);
      else if (null != l10) i10.push(l10);
      else throw new wn("Null argument, please report this as a bug");
    }
    return { args: i10, optArgs: n10 };
  }
  parseGroupOfType(t33, e10, r10) {
    switch (e10) {
      case "color":
        return this.parseColorGroup(r10);
      case "size":
        return this.parseSizeGroup(r10);
      case "url":
        return this.parseUrlGroup(r10);
      case "math":
      case "text":
        return this.parseArgumentGroup(r10, e10);
      case "hbox":
        var i10 = this.parseArgumentGroup(r10, "text");
        return null != i10 ? { type: "styling", mode: i10.mode, body: [i10], style: "text" } : null;
      case "raw":
        var n10 = this.parseStringGroup("raw", r10);
        return null != n10 ? { type: "raw", mode: "text", string: n10.text } : null;
      case "primitive":
        if (r10) throw new wn("A primitive argument cannot be optional");
        var a10 = this.parseGroup(t33);
        if (null == a10) throw new wn("Expected group as " + t33, this.fetch());
        return a10;
      case "original":
      case null:
      case void 0:
        return this.parseArgumentGroup(r10);
      default:
        throw new wn("Unknown group type as " + t33, this.fetch());
    }
  }
  consumeSpaces() {
    for (; " " === this.fetch().text; ) this.consume();
  }
  parseStringGroup(t33, e10) {
    var r10, i10 = this.gullet.scanArgument(e10);
    if (null == i10) return null;
    for (var n10 = ""; "EOF" !== (r10 = this.fetch()).text; ) n10 += r10.text, this.consume();
    return this.consume(), i10.text = n10, i10;
  }
  parseRegexGroup(t33, e10) {
    for (var r10, i10 = this.fetch(), n10 = i10, a10 = ""; "EOF" !== (r10 = this.fetch()).text && t33.test(a10 + r10.text); ) a10 += (n10 = r10).text, this.consume();
    if ("" === a10) throw new wn("Invalid " + e10 + ": '" + i10.text + "'", i10);
    return i10.range(n10, a10);
  }
  parseColorGroup(t33) {
    var e10 = this.parseStringGroup("color", t33);
    if (null == e10) return null;
    var r10 = /^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e10.text);
    if (!r10) throw new wn("Invalid color: '" + e10.text + "'", e10);
    var i10 = r10[0];
    return /^[0-9a-f]{6}$/i.test(i10) && (i10 = "#" + i10), { type: "color-token", mode: this.mode, color: i10 };
  }
  parseSizeGroup(t33) {
    var e10, r10 = false;
    if (this.gullet.consumeSpaces(), !(e10 = t33 || "{" === this.gullet.future().text ? this.parseStringGroup("size", t33) : this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/, "size"))) return null;
    t33 || 0 !== e10.text.length || (e10.text = "0pt", r10 = true);
    var i10 = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e10.text);
    if (!i10) throw new wn("Invalid size: '" + e10.text + "'", e10);
    var n10 = { number: +(i10[1] + i10[2]), unit: i10[3] };
    if (!wG(n10)) throw new wn("Invalid unit: '" + n10.unit + "'", e10);
    return { type: "size", mode: this.mode, value: n10, isBlank: r10 };
  }
  parseUrlGroup(t33) {
    this.gullet.lexer.setCatcode("%", 13), this.gullet.lexer.setCatcode("~", 12);
    var e10 = this.parseStringGroup("url", t33);
    if (this.gullet.lexer.setCatcode("%", 14), this.gullet.lexer.setCatcode("~", 13), null == e10) return null;
    var r10 = e10.text.replace(/\\([#$%&~_^{}])/g, "$1");
    return { type: "url", mode: this.mode, url: r10 };
  }
  parseArgumentGroup(t33, e10) {
    var r10 = this.gullet.scanArgument(t33);
    if (null == r10) return null;
    var i10 = this.mode;
    e10 && this.switchMode(e10), this.gullet.beginGroup();
    var n10 = this.parseExpression(false, "EOF");
    this.expect("EOF"), this.gullet.endGroup();
    var a10 = { type: "ordgroup", mode: this.mode, loc: r10.loc, body: n10 };
    return e10 && this.switchMode(i10), a10;
  }
  parseGroup(t33, e10) {
    var r10, i10 = this.fetch(), n10 = i10.text;
    if ("{" === n10 || "\\begingroup" === n10) {
      this.consume();
      var a10 = "{" === n10 ? "}" : "\\endgroup";
      this.gullet.beginGroup();
      var o10 = this.parseExpression(false, a10), s10 = this.fetch();
      this.expect(a10), this.gullet.endGroup(), r10 = { type: "ordgroup", mode: this.mode, loc: wr.range(i10, s10), body: o10, semisimple: "\\begingroup" === n10 || void 0 };
    } else if (null == (r10 = this.parseFunction(e10, t33) || this.parseSymbol()) && "\\" === n10[0] && !Er.hasOwnProperty(n10)) {
      if (this.settings.throwOnError) throw new wn("Undefined control sequence: " + n10, i10);
      r10 = this.formatUnsupportedCmd(n10), this.consume();
    }
    return r10;
  }
  formLigatures(t33) {
    for (var e10 = t33.length - 1, r10 = 0; r10 < e10; ++r10) {
      var i10 = t33[r10], n10 = i10.text;
      "-" === n10 && "-" === t33[r10 + 1].text && (r10 + 1 < e10 && "-" === t33[r10 + 2].text ? (t33.splice(r10, 3, { type: "textord", mode: "text", loc: wr.range(i10, t33[r10 + 2]), text: "---" }), e10 -= 2) : (t33.splice(r10, 2, { type: "textord", mode: "text", loc: wr.range(i10, t33[r10 + 1]), text: "--" }), e10 -= 1)), ("'" === n10 || "`" === n10) && t33[r10 + 1].text === n10 && (t33.splice(r10, 2, { type: "textord", mode: "text", loc: wr.range(i10, t33[r10 + 1]), text: n10 + n10 }), e10 -= 1);
    }
  }
  parseSymbol() {
    var t33 = this.fetch(), e10 = t33.text;
    if (/^\\verb[^a-zA-Z]/.test(e10)) {
      this.consume();
      var r10 = e10.slice(5), i10 = "*" === r10.charAt(0);
      if (i10 && (r10 = r10.slice(1)), r10.length < 2 || r10.charAt(0) !== r10.slice(-1)) throw new wn("\\verb assertion failed --\n                    please report what input caused this bug");
      return { type: "verb", mode: "text", body: r10 = r10.slice(1, -1), star: i10 };
    }
    Es.hasOwnProperty(e10[0]) && !w6[this.mode][e10[0]] && (this.settings.strict && "math" === this.mode && this.settings.reportNonstrict("unicodeTextInMathMode", 'Accented Unicode text character "' + e10[0] + '" used in math mode', t33), e10 = Es[e10[0]] + e10.slice(1));
    var n10 = T2.exec(e10);
    if (n10 && ("i" === (e10 = e10.substring(0, n10.index)) ? e10 = "ı" : "j" === e10 && (e10 = "ȷ")), w6[this.mode][e10]) {
      this.settings.strict && "math" === this.mode && kE.indexOf(e10) >= 0 && this.settings.reportNonstrict("unicodeTextInMathMode", 'Latin-1/Unicode text character "' + e10[0] + '" used in math mode', t33);
      var a10, o10 = w6[this.mode][e10].group, s10 = wr.range(t33);
      a10 = w5.hasOwnProperty(o10) ? { type: "atom", mode: this.mode, family: o10, loc: s10, text: e10 } : { type: o10, mode: this.mode, loc: s10, text: e10 };
    } else {
      if (!(e10.charCodeAt(0) >= 128)) return null;
      this.settings.strict && (wT(e10.charCodeAt(0)) ? "math" === this.mode && this.settings.reportNonstrict("unicodeTextInMathMode", 'Unicode text character "' + e10[0] + '" used in math mode', t33) : this.settings.reportNonstrict("unknownSymbol", 'Unrecognized Unicode character "' + e10[0] + '" (' + e10.charCodeAt(0) + ")", t33)), a10 = { type: "textord", mode: "text", loc: wr.range(t33), text: e10 };
    }
    if (this.consume(), n10) for (var l10 = 0; l10 < n10[0].length; l10++) {
      var h10 = n10[0][l10];
      if (!Eo[h10]) throw new wn("Unknown accent ' " + h10 + "'", t33);
      var u10 = Eo[h10][this.mode] || Eo[h10].text;
      if (!u10) throw new wn("Accent " + h10 + " unsupported in " + this.mode + " mode", t33);
      a10 = { type: "accent", mode: this.mode, loc: wr.range(t33), label: u10, isStretchy: false, isShifty: true, base: a10 };
    }
    return a10;
  }
};
El.endOfExpression = ["}", "\\endgroup", "\\end", "\\right", "&"];
var Eh = function(t33, e10) {
  if (!("string" == typeof t33 || t33 instanceof String)) throw TypeError("KaTeX can only parse string typed expression");
  var r10 = new El(t33, e10);
  delete r10.gullet.macros.current["\\df@tag"];
  var i10 = r10.parse();
  if (delete r10.gullet.macros.current["\\current@color"], delete r10.gullet.macros.current["\\color"], r10.gullet.macros.get("\\df@tag")) {
    if (!e10.displayMode) throw new wn("\\tag works only in display equations");
    i10 = [{ type: "tag", mode: "text", body: i10, tag: r10.subparse([new wi("\\df@tag")]) }];
  }
  return i10;
}, Ec = function(t33, e10, r10) {
  e10.textContent = "";
  var i10 = Eg(t33, r10).toNode();
  e10.appendChild(i10);
};
"undefined" != typeof document && "CSS1Compat" !== document.compatMode && ("undefined" != typeof console && console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."), Ec = function() {
  throw new wn("KaTeX doesn't work in quirks mode.");
});
var Eu = function(t33, e10) {
  return Eg(t33, e10).toMarkup();
}, Ed = function(t33, e10) {
  return Eh(t33, new wd(e10));
}, Ep = function(t33, e10, r10) {
  if (r10.throwOnError || !(t33 instanceof wn)) throw t33;
  var i10 = kG.makeSpan(["katex-error"], [new wJ(e10)]);
  return i10.setAttribute("title", t33.toString()), i10.setAttribute("style", "color:" + r10.errorColor), i10;
}, Eg = function(t33, e10) {
  var r10 = new wd(e10);
  try {
    var i10 = Eh(t33, r10);
    return _x(i10, t33, r10);
  } catch (e11) {
    return Ep(e11, t33, r10);
  }
}, Ef = function(t33, e10) {
  var r10 = new wd(e10);
  try {
    var i10 = Eh(t33, r10);
    return _b(i10, t33, r10);
  } catch (e11) {
    return Ep(e11, t33, r10);
  }
}, Em = "0.16.20", Ey = { Span: wX, Anchor: wK, SymbolNode: wJ, SvgNode: w0, PathNode: w1, LineNode: w2 }, Ev = { version: Em, render: Ec, renderToString: Eu, ParseError: wn, SETTINGS_SCHEMA: wu, __parse: Ed, __renderToDomTree: Eg, __renderToHTMLTree: Ef, __setFontMetrics: wR, __defineSymbol: w7, __defineFunction: kZ, __defineMacro: Tp, __domTree: Ey };
let Ex = Object.freeze(Object.defineProperty({ __proto__: null, ParseError: wn, SETTINGS_SCHEMA: wu, __defineFunction: kZ, __defineMacro: Tp, __defineSymbol: w7, __domTree: Ey, __parse: Ed, __renderToDomTree: Eg, __renderToHTMLTree: Ef, __setFontMetrics: wR, default: Ev, get render() {
  return Ec;
}, renderToString: Eu, version: Em }, Symbol.toStringTag, { value: "Module" }));
class Eb {
  constructor(t33 = {}) {
    this._isDirected = !Object.prototype.hasOwnProperty.call(t33, "directed") || t33.directed, this._isMultigraph = !!Object.prototype.hasOwnProperty.call(t33, "multigraph") && t33.multigraph, this._isCompound = !!Object.prototype.hasOwnProperty.call(t33, "compound") && t33.compound, this._label = void 0, this._defaultNodeLabelFn = to(void 0), this._defaultEdgeLabelFn = to(void 0), this._nodes = {}, this._isCompound && (this._parent = {}, this._children = {}, this._children["\0"] = {}), this._in = {}, this._preds = {}, this._out = {}, this._sucs = {}, this._edgeObjs = {}, this._edgeLabels = {};
  }
  isDirected() {
    return this._isDirected;
  }
  isMultigraph() {
    return this._isMultigraph;
  }
  isCompound() {
    return this._isCompound;
  }
  setGraph(t33) {
    return this._label = t33, this;
  }
  graph() {
    return this._label;
  }
  setDefaultNodeLabel(t33) {
    return ts(t33) || (t33 = to(t33)), this._defaultNodeLabelFn = t33, this;
  }
  nodeCount() {
    return this._nodeCount;
  }
  nodes() {
    return tl(this._nodes);
  }
  sources() {
    var t33 = this;
    return th(this.nodes(), function(e10) {
      return ta(t33._in[e10]);
    });
  }
  sinks() {
    var t33 = this;
    return th(this.nodes(), function(e10) {
      return ta(t33._out[e10]);
    });
  }
  setNodes(t33, e10) {
    var r10 = arguments, i10 = this;
    return tc(t33, function(t34) {
      r10.length > 1 ? i10.setNode(t34, e10) : i10.setNode(t34);
    }), this;
  }
  setNode(t33, e10) {
    return Object.prototype.hasOwnProperty.call(this._nodes, t33) ? arguments.length > 1 && (this._nodes[t33] = e10) : (this._nodes[t33] = arguments.length > 1 ? e10 : this._defaultNodeLabelFn(t33), this._isCompound && (this._parent[t33] = "\0", this._children[t33] = {}, this._children["\0"][t33] = true), this._in[t33] = {}, this._preds[t33] = {}, this._out[t33] = {}, this._sucs[t33] = {}, ++this._nodeCount), this;
  }
  node(t33) {
    return this._nodes[t33];
  }
  hasNode(t33) {
    return Object.prototype.hasOwnProperty.call(this._nodes, t33);
  }
  removeNode(t33) {
    if (Object.prototype.hasOwnProperty.call(this._nodes, t33)) {
      var e10 = (t34) => this.removeEdge(this._edgeObjs[t34]);
      delete this._nodes[t33], this._isCompound && (this._removeFromParentsChildList(t33), delete this._parent[t33], tc(this.children(t33), (t34) => {
        this.setParent(t34);
      }), delete this._children[t33]), tc(tl(this._in[t33]), e10), delete this._in[t33], delete this._preds[t33], tc(tl(this._out[t33]), e10), delete this._out[t33], delete this._sucs[t33], --this._nodeCount;
    }
    return this;
  }
  setParent(t33, e10) {
    if (!this._isCompound) throw Error("Cannot set parent in a non-compound graph");
    if (J(e10)) e10 = "\0";
    else {
      e10 += "";
      for (var r10 = e10; !J(r10); r10 = this.parent(r10)) if (r10 === t33) throw Error("Setting " + e10 + " as parent of " + t33 + " would create a cycle");
      this.setNode(e10);
    }
    return this.setNode(t33), this._removeFromParentsChildList(t33), this._parent[t33] = e10, this._children[e10][t33] = true, this;
  }
  _removeFromParentsChildList(t33) {
    delete this._children[this._parent[t33]][t33];
  }
  parent(t33) {
    if (this._isCompound) {
      var e10 = this._parent[t33];
      if ("\0" !== e10) return e10;
    }
  }
  children(t33) {
    if (J(t33) && (t33 = "\0"), this._isCompound) {
      var e10 = this._children[t33];
      if (e10) return tl(e10);
    } else if ("\0" === t33) return this.nodes();
    else if (this.hasNode(t33)) return [];
  }
  predecessors(t33) {
    var e10 = this._preds[t33];
    if (e10) return tl(e10);
  }
  successors(t33) {
    var e10 = this._sucs[t33];
    if (e10) return tl(e10);
  }
  neighbors(t33) {
    var e10 = this.predecessors(t33);
    if (e10) return tu(e10, this.successors(t33));
  }
  isLeaf(t33) {
    return 0 === (this.isDirected() ? this.successors(t33) : this.neighbors(t33)).length;
  }
  filterNodes(t33) {
    var e10 = new this.constructor({ directed: this._isDirected, multigraph: this._isMultigraph, compound: this._isCompound });
    e10.setGraph(this.graph());
    var r10 = this;
    tc(this._nodes, function(r11, i11) {
      t33(i11) && e10.setNode(i11, r11);
    }), tc(this._edgeObjs, function(t34) {
      e10.hasNode(t34.v) && e10.hasNode(t34.w) && e10.setEdge(t34, r10.edge(t34));
    });
    var i10 = {};
    return this._isCompound && tc(e10.nodes(), function(t34) {
      e10.setParent(t34, function t35(n10) {
        var a10 = r10.parent(n10);
        return void 0 === a10 || e10.hasNode(a10) ? (i10[n10] = a10, a10) : a10 in i10 ? i10[a10] : t35(a10);
      }(t34));
    }), e10;
  }
  setDefaultEdgeLabel(t33) {
    return ts(t33) || (t33 = to(t33)), this._defaultEdgeLabelFn = t33, this;
  }
  edgeCount() {
    return this._edgeCount;
  }
  edges() {
    return td(this._edgeObjs);
  }
  setPath(t33, e10) {
    var r10 = this, i10 = arguments;
    return tp(t33, function(t34, n10) {
      return i10.length > 1 ? r10.setEdge(t34, n10, e10) : r10.setEdge(t34, n10), n10;
    }), this;
  }
  setEdge() {
    var t33, e10, r10, i10, n10 = false, a10 = arguments[0];
    "object" == typeof a10 && null !== a10 && "v" in a10 ? (t33 = a10.v, e10 = a10.w, r10 = a10.name, 2 == arguments.length && (i10 = arguments[1], n10 = true)) : (t33 = a10, e10 = arguments[1], r10 = arguments[3], arguments.length > 2 && (i10 = arguments[2], n10 = true)), t33 = "" + t33, e10 = "" + e10, J(r10) || (r10 = "" + r10);
    var o10 = E_(this._isDirected, t33, e10, r10);
    if (Object.prototype.hasOwnProperty.call(this._edgeLabels, o10)) return n10 && (this._edgeLabels[o10] = i10), this;
    if (!J(r10) && !this._isMultigraph) throw Error("Cannot set a named edge when isMultigraph = false");
    this.setNode(t33), this.setNode(e10), this._edgeLabels[o10] = n10 ? i10 : this._defaultEdgeLabelFn(t33, e10, r10);
    var s10 = function(t34, e11, r11, i11) {
      var n11 = "" + e11, a11 = "" + r11;
      if (!t34 && n11 > a11) {
        var o11 = n11;
        n11 = a11, a11 = o11;
      }
      var s11 = { v: n11, w: a11 };
      return i11 && (s11.name = i11), s11;
    }(this._isDirected, t33, e10, r10);
    return t33 = s10.v, e10 = s10.w, Object.freeze(s10), this._edgeObjs[o10] = s10, Ew(this._preds[e10], t33), Ew(this._sucs[t33], e10), this._in[e10][o10] = s10, this._out[t33][o10] = s10, this._edgeCount++, this;
  }
  edge(t33, e10, r10) {
    var i10 = 1 == arguments.length ? ET(this._isDirected, arguments[0]) : E_(this._isDirected, t33, e10, r10);
    return this._edgeLabels[i10];
  }
  hasEdge(t33, e10, r10) {
    var i10 = 1 == arguments.length ? ET(this._isDirected, arguments[0]) : E_(this._isDirected, t33, e10, r10);
    return Object.prototype.hasOwnProperty.call(this._edgeLabels, i10);
  }
  removeEdge(t33, e10, r10) {
    var i10 = 1 == arguments.length ? ET(this._isDirected, arguments[0]) : E_(this._isDirected, t33, e10, r10), n10 = this._edgeObjs[i10];
    return n10 && (t33 = n10.v, e10 = n10.w, delete this._edgeLabels[i10], delete this._edgeObjs[i10], Ek(this._preds[e10], t33), Ek(this._sucs[t33], e10), delete this._in[e10][i10], delete this._out[t33][i10], this._edgeCount--), this;
  }
  inEdges(t33, e10) {
    var r10 = this._in[t33];
    if (r10) {
      var i10 = td(r10);
      return e10 ? th(i10, function(t34) {
        return t34.v === e10;
      }) : i10;
    }
  }
  outEdges(t33, e10) {
    var r10 = this._out[t33];
    if (r10) {
      var i10 = td(r10);
      return e10 ? th(i10, function(t34) {
        return t34.w === e10;
      }) : i10;
    }
  }
  nodeEdges(t33, e10) {
    var r10 = this.inEdges(t33, e10);
    if (r10) return r10.concat(this.outEdges(t33, e10));
  }
}
function Ew(t33, e10) {
  t33[e10] ? t33[e10]++ : t33[e10] = 1;
}
function Ek(t33, e10) {
  --t33[e10] || delete t33[e10];
}
function E_(t33, e10, r10, i10) {
  var n10 = "" + e10, a10 = "" + r10;
  if (!t33 && n10 > a10) {
    var o10 = n10;
    n10 = a10, a10 = o10;
  }
  return n10 + "" + a10 + "" + (J(i10) ? "\0" : i10);
}
function ET(t33, e10) {
  return E_(t33, e10.v, e10.w, e10.name);
}
Eb.prototype._nodeCount = 0, Eb.prototype._edgeCount = 0;
class EE {
  constructor() {
    var t33 = {};
    t33._next = t33._prev = t33, this._sentinel = t33;
  }
  dequeue() {
    var t33 = this._sentinel, e10 = t33._prev;
    if (e10 !== t33) return EC(e10), e10;
  }
  enqueue(t33) {
    var e10 = this._sentinel;
    t33._prev && t33._next && EC(t33), t33._next = e10._next, e10._next._prev = t33, e10._next = t33, t33._prev = e10;
  }
  toString() {
    for (var t33 = [], e10 = this._sentinel, r10 = e10._prev; r10 !== e10; ) t33.push(JSON.stringify(r10, ES)), r10 = r10._prev;
    return "[" + t33.join(", ") + "]";
  }
}
function EC(t33) {
  t33._prev._next = t33._next, t33._next._prev = t33._prev, delete t33._next, delete t33._prev;
}
function ES(t33, e10) {
  if ("_next" !== t33 && "_prev" !== t33) return e10;
}
function EA(t33, e10, r10, i10, n10) {
  var a10 = n10 ? [] : void 0;
  return tc(t33.inEdges(i10.v), function(i11) {
    var o10 = t33.edge(i11), s10 = t33.node(i11.v);
    n10 && a10.push({ v: i11.v, w: i11.w }), s10.out -= o10, EL(e10, r10, s10);
  }), tc(t33.outEdges(i10.v), function(i11) {
    var n11 = t33.edge(i11), a11 = i11.w, o10 = t33.node(a11);
    o10.in -= n11, EL(e10, r10, o10);
  }), t33.removeNode(i10.v), a10;
}
function EL(t33, e10, r10) {
  r10.out ? r10.in ? t33[r10.out - r10.in + e10].enqueue(r10) : t33[t33.length - 1].enqueue(r10) : t33[0].enqueue(r10);
}
function EN(t33, e10, r10, i10) {
  var n10;
  do
    n10 = ty(i10);
  while (t33.hasNode(n10));
  return r10.dummy = e10, t33.setNode(n10, r10), n10;
}
function EI(t33) {
  var e10 = new Eb({ multigraph: t33.isMultigraph() }).setGraph(t33.graph());
  return tc(t33.nodes(), function(r10) {
    t33.children(r10).length || e10.setNode(r10, t33.node(r10));
  }), tc(t33.edges(), function(r10) {
    e10.setEdge(r10, t33.edge(r10));
  }), e10;
}
function EM(t33, e10) {
  var r10, i10, n10 = t33.x, a10 = t33.y, o10 = e10.x - n10, s10 = e10.y - a10, l10 = t33.width / 2, h10 = t33.height / 2;
  if (!o10 && !s10) throw Error("Not possible to find intersection inside of the rectangle");
  return Math.abs(s10) * l10 > Math.abs(o10) * h10 ? (s10 < 0 && (h10 = -h10), r10 = h10 * o10 / s10, i10 = h10) : (o10 < 0 && (l10 = -l10), r10 = l10, i10 = l10 * s10 / o10), { x: n10 + r10, y: a10 + i10 };
}
function ER(t33) {
  var e10 = tf(tm(EO(t33) + 1), function() {
    return [];
  });
  return tc(t33.nodes(), function(r10) {
    var i10 = t33.node(r10), n10 = i10.rank;
    J(n10) || (e10[n10][i10.order] = r10);
  }), e10;
}
function ED(t33, e10, r10, i10) {
  var n10 = { width: 0, height: 0 };
  return arguments.length >= 4 && (n10.rank = r10, n10.order = i10), EN(t33, "border", n10, e10);
}
function EO(t33) {
  return tb(tf(t33.nodes(), function(e10) {
    var r10 = t33.node(e10).rank;
    if (!J(r10)) return r10;
  }));
}
function EP(t33, e10) {
  return e10();
}
function E$(t33, e10, r10, i10, n10, a10) {
  var o10 = n10[e10][a10 - 1], s10 = EN(t33, "border", { width: 0, height: 0, rank: a10, borderType: e10 }, r10);
  n10[e10][a10] = s10, t33.setParent(s10, i10), o10 && t33.setEdge(o10, s10, { weight: 1 });
}
function EB(t33) {
  tc(t33.nodes(), function(e10) {
    EF(t33.node(e10));
  }), tc(t33.edges(), function(e10) {
    EF(t33.edge(e10));
  });
}
function EF(t33) {
  var e10 = t33.width;
  t33.width = t33.height, t33.height = e10;
}
function Ez(t33) {
  t33.y = -t33.y;
}
function EU(t33) {
  var e10 = t33.x;
  t33.x = t33.y, t33.y = e10;
}
function EG(t33) {
  var e10 = {};
  tc(t33.sources(), function r10(i10) {
    var n10 = t33.node(i10);
    if (Object.prototype.hasOwnProperty.call(e10, i10)) return n10.rank;
    e10[i10] = true;
    var a10 = tv(tf(t33.outEdges(i10), function(e11) {
      return r10(e11.w) - t33.edge(e11).minlen;
    }));
    return (a10 === Number.POSITIVE_INFINITY || null == a10) && (a10 = 0), n10.rank = a10;
  });
}
function Eq(t33, e10) {
  return t33.node(e10.w).rank - t33.node(e10.v).rank - t33.edge(e10).minlen;
}
function EY(t33) {
  var e10, r10, i10 = new Eb({ directed: false }), n10 = t33.nodes()[0], a10 = t33.nodeCount();
  for (i10.setNode(n10, {}); tc(i10.nodes(), function e11(r11) {
    tc(t33.nodeEdges(r11), function(n11) {
      var a11 = n11.v, o10 = r11 === a11 ? n11.w : a11;
      i10.hasNode(o10) || Eq(t33, n11) || (i10.setNode(o10, {}), i10.setEdge(r11, o10, {}), e11(o10));
    });
  }), i10.nodeCount() < a10; ) e10 = function(t34, e11) {
    return tw(e11.edges(), function(r11) {
      if (t34.hasNode(r11.v) !== t34.hasNode(r11.w)) return Eq(e11, r11);
    });
  }(i10, t33), r10 = i10.hasNode(e10.v) ? Eq(t33, e10) : -Eq(t33, e10), function(t34, e11, r11) {
    tc(t34.nodes(), function(t35) {
      e11.node(t35).rank += r11;
    });
  }(i10, t33, r10);
  return i10;
}
function EH(t33, e10, r10) {
  te(e10) || (e10 = [e10]);
  var i10 = (t33.isDirected() ? t33.successors : t33.neighbors).bind(t33), n10 = [], a10 = {};
  return tc(e10, function(e11) {
    if (!t33.hasNode(e11)) throw Error("Graph does not have node: " + e11);
    (function t34(e12, r11, i11, n11, a11, o10) {
      !Object.prototype.hasOwnProperty.call(n11, r11) && (n11[r11] = true, i11 || o10.push(r11), tc(a11(r11), function(r12) {
        t34(e12, r12, i11, n11, a11, o10);
      }), i11 && o10.push(r11));
    })(t33, e11, "post" === r10, a10, i10, n10);
  }), n10;
}
function Ej(t33) {
  e10 = t33, r10 = new Eb().setGraph(e10.graph()), tc(e10.nodes(), function(t34) {
    r10.setNode(t34, e10.node(t34));
  }), tc(e10.edges(), function(t34) {
    var i11 = r10.edge(t34.v, t34.w) || { weight: 0, minlen: 1 }, n11 = e10.edge(t34);
    r10.setEdge(t34.v, t34.w, { weight: i11.weight + n11.weight, minlen: Math.max(i11.minlen, n11.minlen) });
  }), EG(t33 = r10);
  var e10, r10, i10, n10, a10 = EY(t33);
  for (EX(a10), EW(a10, t33); i10 = EK(a10); ) n10 = EZ(a10, t33, i10), EQ(a10, t33, i10, n10);
}
function EW(t33, e10) {
  var r10 = EH(t33, t33.nodes(), "post");
  tc(r10 = r10.slice(0, r10.length - 1), function(r11) {
    var i10;
    i10 = t33.node(r11).parent, t33.edge(r11, i10).cutvalue = EV(t33, e10, r11);
  });
}
function EV(t33, e10, r10) {
  var i10 = t33.node(r10).parent, n10 = true, a10 = e10.edge(r10, i10), o10 = 0;
  return a10 || (n10 = false, a10 = e10.edge(i10, r10)), o10 = a10.weight, tc(e10.nodeEdges(r10), function(a11) {
    var s10 = a11.v === r10, l10 = s10 ? a11.w : a11.v;
    if (l10 !== i10) {
      var h10 = s10 === n10, u10 = e10.edge(a11).weight;
      if (o10 += h10 ? u10 : -u10, t33.hasEdge(r10, l10)) {
        var d10 = t33.edge(r10, l10).cutvalue;
        o10 += h10 ? -d10 : d10;
      }
    }
  }), o10;
}
function EX(t33, e10) {
  arguments.length < 2 && (e10 = t33.nodes()[0]), function t34(e11, r10, i10, n10, a10) {
    var o10 = i10, s10 = e11.node(n10);
    return r10[n10] = true, tc(e11.neighbors(n10), function(a11) {
      Object.prototype.hasOwnProperty.call(r10, a11) || (i10 = t34(e11, r10, i10, a11, n10));
    }), s10.low = o10, s10.lim = i10++, a10 ? s10.parent = a10 : delete s10.parent, i10;
  }(t33, {}, 1, e10);
}
function EK(t33) {
  return tk(t33.edges(), function(e10) {
    return t33.edge(e10).cutvalue < 0;
  });
}
function EZ(t33, e10, r10) {
  var i10 = r10.v, n10 = r10.w;
  e10.hasEdge(i10, n10) || (i10 = r10.w, n10 = r10.v);
  var a10 = t33.node(i10), o10 = t33.node(n10), s10 = a10, l10 = false;
  return a10.lim > o10.lim && (s10 = o10, l10 = true), tw(th(e10.edges(), function(e11) {
    return l10 === EJ(t33, t33.node(e11.v), s10) && l10 !== EJ(t33, t33.node(e11.w), s10);
  }), function(t34) {
    return Eq(e10, t34);
  });
}
function EQ(t33, e10, r10, i10) {
  var n10, a10, o10 = r10.v, s10 = r10.w;
  t33.removeEdge(o10, s10), t33.setEdge(i10.v, i10.w, {}), EX(t33), EW(t33, e10), n10 = tk(t33.nodes(), function(t34) {
    return !e10.node(t34).parent;
  }), tc(EH(t33, n10, "pre").slice(1), function(r11) {
    var i11 = t33.node(r11).parent, n11 = e10.edge(r11, i11), a11 = false;
    n11 || (n11 = e10.edge(i11, r11), a11 = true), e10.node(r11).rank = e10.node(i11).rank + (a11 ? n11.minlen : -n11.minlen);
  });
}
function EJ(t33, e10, r10) {
  return r10.low <= e10.lim && e10.lim <= r10.lim;
}
function E0(t33, e10, r10) {
  for (var i10; e10.length && (i10 = tE(e10)).i <= r10; ) e10.pop(), t33.push(i10.vs), r10++;
  return r10;
}
function E1(t33, e10, r10) {
  return tf(e10, function(e11) {
    var i10, n10;
    return i10 = function(t34) {
      for (var e12; t34.hasNode(e12 = ty("_root")); ) ;
      return e12;
    }(t33), n10 = new Eb({ compound: true }).setGraph({ root: i10 }).setDefaultNodeLabel(function(e12) {
      return t33.node(e12);
    }), tc(t33.nodes(), function(a10) {
      var o10 = t33.node(a10), s10 = t33.parent(a10);
      (o10.rank === e11 || o10.minRank <= e11 && e11 <= o10.maxRank) && (n10.setNode(a10), n10.setParent(a10, s10 || i10), tc(t33[r10](a10), function(e12) {
        var r11 = e12.v === a10 ? e12.w : e12.v, i11 = n10.edge(r11, a10), o11 = J(i11) ? 0 : i11.weight;
        n10.setEdge(r11, a10, { weight: t33.edge(e12).weight + o11 });
      }), Object.prototype.hasOwnProperty.call(o10, "minRank") && n10.setNode(a10, { borderLeft: o10.borderLeft[e11], borderRight: o10.borderRight[e11] }));
    }), n10;
  });
}
function E2(t33, e10) {
  tc(e10, function(e11) {
    tc(e11, function(e12, r10) {
      t33.node(e12).order = r10;
    });
  });
}
function E4(t33, e10, r10) {
  if (e10 > r10) {
    var i10 = e10;
    e10 = r10, r10 = i10;
  }
  var n10 = t33[e10];
  n10 || (t33[e10] = n10 = {}), n10[r10] = true;
}
function E5(t33, e10) {
  var r10;
  r10 = 0, (() => {
    var e11, r11, i10, n10 = (e11 = 0, (() => {
      var e12, r12;
      return e12 = new Eb({ multigraph: true, compound: true }), r12 = Cn(t33.graph()), e12.setGraph(tn({}, E6, Ci(r12, E3), Z(r12, E7))), tc(t33.nodes(), function(r13) {
        var i11 = Cn(t33.node(r13));
        e12.setNode(r13, tN(Ci(i11, E8), E9)), e12.setParent(r13, t33.parent(r13));
      }), tc(t33.edges(), function(r13) {
        var i11 = Cn(t33.edge(r13));
        e12.setEdge(r13, tn({}, Ce, Ci(i11, Ct), Z(i11, Cr)));
      }), e12;
    })());
    r11 = 0, (() => {
      var t34;
      t34 = 0, (() => {
        var t35;
        return t35 = n10.graph(), void (t35.ranksep /= 2, tc(n10.edges(), function(e12) {
          var r12 = n10.edge(e12);
          r12.minlen *= 2, "c" !== r12.labelpos.toLowerCase() && ("TB" === t35.rankdir || "BT" === t35.rankdir ? r12.width += r12.labeloffset : r12.height += r12.labeloffset);
        }));
      })(), function(t35, e12) {
        e12();
      }("    removeSelfEdges", () => {
        tc(n10.edges(), function(t35) {
          if (t35.v === t35.w) {
            var e12 = n10.node(t35.v);
            e12.selfEdges || (e12.selfEdges = []), e12.selfEdges.push({ e: t35, label: n10.edge(t35) }), n10.removeEdge(t35);
          }
        });
      }), function(t35, e12) {
        e12();
      }("    acyclic", () => {
        var t35, e12, r12, i11;
        return t35 = "greedy" === n10.graph().acyclicer ? function(t36, e13) {
          if (1 >= t36.nodeCount()) return [];
          var r13, i12, n11, a10, o10, s10 = (r13 = new Eb(), i12 = 0, n11 = 0, tc(t36.nodes(), function(t37) {
            r13.setNode(t37, { v: t37, in: 0, out: 0 });
          }), tc(t36.edges(), function(t37) {
            var a11 = r13.edge(t37.v, t37.w) || 0, o11 = e13(t37);
            r13.setEdge(t37.v, t37.w, a11 + o11), n11 = Math.max(n11, r13.node(t37.v).out += o11), i12 = Math.max(i12, r13.node(t37.w).in += o11);
          }), a10 = tm(n11 + i12 + 3).map(function() {
            return new EE();
          }), o10 = i12 + 1, tc(r13.nodes(), function(t37) {
            EL(a10, o10, r13.node(t37));
          }), { graph: r13, buckets: a10, zeroIdx: o10 });
          return tg(tf(function(t37, e14, r14) {
            for (var i13, n12 = [], a11 = e14[e14.length - 1], o11 = e14[0]; t37.nodeCount(); ) {
              for (; i13 = o11.dequeue(); ) EA(t37, e14, r14, i13);
              for (; i13 = a11.dequeue(); ) EA(t37, e14, r14, i13);
              if (t37.nodeCount()) {
                for (var s11 = e14.length - 2; s11 > 0; --s11) if (i13 = e14[s11].dequeue()) {
                  n12 = n12.concat(EA(t37, e14, r14, i13, true));
                  break;
                }
              }
            }
            return n12;
          }(s10.graph, s10.buckets, s10.zeroIdx), function(e14) {
            return t36.outEdges(e14.v, e14.w);
          }));
        }(n10, function(t36) {
          return n10.edge(t36).weight;
        }) : (e12 = [], r12 = {}, i11 = {}, tc(n10.nodes(), function t36(a10) {
          Object.prototype.hasOwnProperty.call(i11, a10) || (i11[a10] = true, r12[a10] = true, tc(n10.outEdges(a10), function(i12) {
            Object.prototype.hasOwnProperty.call(r12, i12.w) ? e12.push(i12) : t36(i12.w);
          }), delete r12[a10]);
        }), e12), void tc(t35, function(t36) {
          var e13 = n10.edge(t36);
          n10.removeEdge(t36), e13.forwardName = t36.name, e13.reversed = true, n10.setEdge(t36.w, t36.v, e13, ty("rev"));
        });
      }), function(t35, e12) {
        e12();
      }("    nestingGraph.run", () => {
        var t35, e12, r12, i11, a10;
        return t35 = EN(n10, "root", {}, "_root"), r12 = 2 * (e12 = tb(td((a10 = {}, tc(n10.children(), function(t36) {
          !function t37(e13, r13) {
            var i12 = n10.children(e13);
            i12 && i12.length && tc(i12, function(e14) {
              t37(e14, r13 + 1);
            }), a10[e13] = r13;
          }(t36, 1);
        }), a10))) - 1) + 1, n10.graph().nestingRoot = t35, tc(n10.edges(), function(t36) {
          n10.edge(t36).minlen *= r12;
        }), i11 = tp(n10.edges(), function(t36, e13) {
          return t36 + n10.edge(e13).weight;
        }, 0) + 1, void (tc(n10.children(), function(o10) {
          (function t36(e13, r13, i12, n11, a11, o11, s10) {
            var l10 = e13.children(s10);
            if (!l10.length) {
              s10 !== r13 && e13.setEdge(r13, s10, { weight: 0, minlen: i12 });
              return;
            }
            var h10 = ED(e13, "_bt"), u10 = ED(e13, "_bb"), d10 = e13.node(s10);
            e13.setParent(h10, s10), d10.borderTop = h10, e13.setParent(u10, s10), d10.borderBottom = u10, tc(l10, function(l11) {
              t36(e13, r13, i12, n11, a11, o11, l11);
              var d11 = e13.node(l11), p10 = d11.borderTop ? d11.borderTop : l11, g10 = d11.borderBottom ? d11.borderBottom : l11, f10 = d11.borderTop ? n11 : 2 * n11, y10 = p10 !== g10 ? 1 : a11 - o11[s10] + 1;
              e13.setEdge(h10, p10, { weight: f10, minlen: y10, nestingEdge: true }), e13.setEdge(g10, u10, { weight: f10, minlen: y10, nestingEdge: true });
            }), e13.parent(s10) || e13.setEdge(r13, h10, { weight: 0, minlen: a11 + o11[s10] });
          })(n10, t35, r12, i11, e12, a10, o10);
        }), n10.graph().nodeRankFactor = r12);
      }), function(t35, e12) {
        e12();
      }("    rank", () => function(t35) {
        switch (t35.graph().ranker) {
          case "network-simplex":
          default:
            Ej(t35);
            break;
          case "tight-tree":
            EG(t35), EY(t35);
            break;
          case "longest-path":
            EG(t35);
        }
      }(EI(n10))), function(t35, e12) {
        e12();
      }("    injectEdgeLabelProxies", () => {
        tc(n10.edges(), function(t35) {
          var e12 = n10.edge(t35);
          if (e12.width && e12.height) {
            var r12 = n10.node(t35.v), i11 = { rank: (n10.node(t35.w).rank - r12.rank) / 2 + r12.rank, e: t35 };
            EN(n10, "edge-proxy", i11, "_ep");
          }
        });
      }), function(t35, e12) {
        e12();
      }("    removeEmptyRanks", () => {
        var t35, e12, r12, i11;
        return t35 = tv(tf(n10.nodes(), function(t36) {
          return n10.node(t36).rank;
        })), e12 = [], tc(n10.nodes(), function(r13) {
          var i12 = n10.node(r13).rank - t35;
          e12[i12] || (e12[i12] = []), e12[i12].push(r13);
        }), r12 = 0, i11 = n10.graph().nodeRankFactor, void tc(e12, function(t36, e13) {
          J(t36) && e13 % i11 != 0 ? --r12 : r12 && tc(t36, function(t37) {
            n10.node(t37).rank += r12;
          });
        });
      }), function(t35, e12) {
        e12();
      }("    nestingGraph.cleanup", () => {
        var t35;
        return t35 = n10.graph(), void (n10.removeNode(t35.nestingRoot), delete t35.nestingRoot, tc(n10.edges(), function(t36) {
          n10.edge(t36).nestingEdge && n10.removeEdge(t36);
        }));
      }), function(t35, e12) {
        e12();
      }("    normalizeRanks", () => {
        var t35;
        return t35 = tv(tf(n10.nodes(), function(t36) {
          return n10.node(t36).rank;
        })), void tc(n10.nodes(), function(e12) {
          var r12 = n10.node(e12);
          tx(r12, "rank") && (r12.rank -= t35);
        });
      }), function(t35, e12) {
        e12();
      }("    assignRankMinMax", () => {
        var t35;
        return t35 = 0, void (tc(n10.nodes(), function(e12) {
          var r12 = n10.node(e12);
          r12.borderTop && (r12.minRank = n10.node(r12.borderTop).rank, r12.maxRank = n10.node(r12.borderBottom).rank, t35 = tb(t35, r12.maxRank));
        }), n10.graph().maxRank = t35);
      }), function(t35, e12) {
        e12();
      }("    removeEdgeLabelProxies", () => {
        tc(n10.nodes(), function(t35) {
          var e12 = n10.node(t35);
          "edge-proxy" === e12.dummy && (n10.edge(e12.e).labelRank = e12.rank, n10.removeNode(t35));
        });
      }), function(t35, e12) {
        e12();
      }("    normalize.run", () => {
        n10.graph().dummyChains = [], tc(n10.edges(), function(t35) {
          (function(t36, e12) {
            var r12, i11, n11 = e12.v, a10 = t36.node(n11).rank, o10 = e12.w, s10 = t36.node(o10).rank, l10 = e12.name, h10 = t36.edge(e12), u10 = h10.labelRank;
            if (s10 !== a10 + 1) {
              t36.removeEdge(e12);
              var d10 = void 0;
              for (i11 = 0, ++a10; a10 < s10; ++i11, ++a10) h10.points = [], r12 = EN(t36, "edge", d10 = { width: 0, height: 0, edgeLabel: h10, edgeObj: e12, rank: a10 }, "_d"), a10 === u10 && (d10.width = h10.width, d10.height = h10.height, d10.dummy = "edge-label", d10.labelpos = h10.labelpos), t36.setEdge(n11, r12, { weight: h10.weight }, l10), 0 === i11 && t36.graph().dummyChains.push(r12), n11 = r12;
              t36.setEdge(n11, o10, { weight: h10.weight }, l10);
            }
          })(n10, t35);
        });
      }), function(t35, e12) {
        e12();
      }("    parentDummyChains", () => {
        var t35, e12;
        return t35 = {}, e12 = 0, tc(n10.children(), function r12(i11) {
          var a10 = e12;
          tc(n10.children(i11), r12), t35[i11] = { low: a10, lim: e12++ };
        }), void tc(n10.graph().dummyChains, function(e13) {
          for (var r12 = n10.node(e13), i11 = r12.edgeObj, a10 = function(t36, e14, r13, i12) {
            var n11, a11, o11 = [], s11 = [], l11 = Math.min(e14[r13].low, e14[i12].low), h11 = Math.max(e14[r13].lim, e14[i12].lim);
            n11 = r13;
            do
              o11.push(n11 = t36.parent(n11));
            while (n11 && (e14[n11].low > l11 || h11 > e14[n11].lim));
            for (a11 = n11, n11 = i12; (n11 = t36.parent(n11)) !== a11; ) s11.push(n11);
            return { path: o11.concat(s11.reverse()), lca: a11 };
          }(n10, t35, i11.v, i11.w), o10 = a10.path, s10 = a10.lca, l10 = 0, h10 = o10[0], u10 = true; e13 !== i11.w; ) {
            if (r12 = n10.node(e13), u10) {
              for (; (h10 = o10[l10]) !== s10 && n10.node(h10).maxRank < r12.rank; ) l10++;
              h10 === s10 && (u10 = false);
            }
            if (!u10) {
              for (; l10 < o10.length - 1 && n10.node(h10 = o10[l10 + 1]).minRank <= r12.rank; ) l10++;
              h10 = o10[l10];
            }
            n10.setParent(e13, h10), e13 = n10.successors(e13)[0];
          }
        });
      }), function(t35, e12) {
        e12();
      }("    addBorderSegments", () => {
        tc(n10.children(), function t35(e12) {
          var r12 = n10.children(e12), i11 = n10.node(e12);
          if (r12.length && tc(r12, t35), Object.prototype.hasOwnProperty.call(i11, "minRank")) {
            i11.borderLeft = [], i11.borderRight = [];
            for (var a10 = i11.minRank, o10 = i11.maxRank + 1; a10 < o10; ++a10) E$(n10, "borderLeft", "_bl", e12, i11, a10), E$(n10, "borderRight", "_br", e12, i11, a10);
          }
        });
      }), function(t35, e12) {
        e12();
      }("    order", () => function(t35) {
        var e12 = EO(t35), r12 = E1(t35, tm(1, e12 + 1), "inEdges"), i11 = E1(t35, tm(e12 - 1, -1, -1), "outEdges"), n11 = (a10 = {}, s10 = tb(tf(o10 = th(t35.nodes(), function(e13) {
          return !t35.children(e13).length;
        }), function(e13) {
          return t35.node(e13).rank;
        })), l10 = tf(tm(s10 + 1), function() {
          return [];
        }), tc(tT(o10, function(e13) {
          return t35.node(e13).rank;
        }), function e13(r13) {
          tx(a10, r13) || (a10[r13] = true, l10[t35.node(r13).rank].push(r13), tc(t35.successors(r13), e13));
        }), l10);
        E2(t35, n11);
        for (var a10, o10, s10, l10, h10, u10 = Number.POSITIVE_INFINITY, d10 = 0, p10 = 0; p10 < 4; ++d10, ++p10) {
          (function(t36, e13) {
            var r13 = new Eb();
            tc(t36, function(t37) {
              var i12, n12, a11, o11 = t37.graph().root, s11 = function t38(e14, r14, i13, n13) {
                var a12, o12, s12, l11, h11, u11, d11, p11, g11, f10, y10 = e14.children(r14), v10 = e14.node(r14), x10 = v10 ? v10.borderLeft : void 0, b10 = v10 ? v10.borderRight : void 0, w10 = {};
                x10 && (y10 = th(y10, function(t39) {
                  return t39 !== x10 && t39 !== b10;
                }));
                var k10 = tf(y10, function(t39) {
                  var r15 = e14.inEdges(t39);
                  if (!r15.length) return { v: t39 };
                  var i14 = tp(r15, function(t40, r16) {
                    var i15 = e14.edge(r16), n14 = e14.node(r16.v);
                    return { sum: t40.sum + i15.weight * n14.order, weight: t40.weight + i15.weight };
                  }, { sum: 0, weight: 0 });
                  return { v: t39, barycenter: i14.sum / i14.weight, weight: i14.weight };
                });
                tc(k10, function(r15) {
                  if (e14.children(r15.v).length) {
                    var a13 = t38(e14, r15.v, i13, n13);
                    w10[r15.v] = a13, Object.prototype.hasOwnProperty.call(a13, "barycenter") && (J(r15.barycenter) ? (r15.barycenter = a13.barycenter, r15.weight = a13.weight) : (r15.barycenter = (r15.barycenter * r15.weight + a13.barycenter * a13.weight) / (r15.weight + a13.weight), r15.weight += a13.weight));
                  }
                });
                var _10 = (a12 = {}, tc(k10, function(t39, e15) {
                  var r15 = a12[t39.v] = { indegree: 0, in: [], out: [], vs: [t39.v], i: e15 };
                  J(t39.barycenter) || (r15.barycenter = t39.barycenter, r15.weight = t39.weight);
                }), tc(i13.edges(), function(t39) {
                  var e15 = a12[t39.v], r15 = a12[t39.w];
                  J(e15) || J(r15) || (r15.indegree++, e15.out.push(a12[t39.w]));
                }), function(t39) {
                  for (var e15 = []; t39.length; ) {
                    var r15 = t39.pop();
                    e15.push(r15), tc(r15.in.reverse(), /* @__PURE__ */ function(t40) {
                      return function(e16) {
                        !e16.merged && (J(e16.barycenter) || J(t40.barycenter) || e16.barycenter >= t40.barycenter) && function(t41, e17) {
                          var r16 = 0, i14 = 0;
                          t41.weight && (r16 += t41.barycenter * t41.weight, i14 += t41.weight), e17.weight && (r16 += e17.barycenter * e17.weight, i14 += e17.weight), t41.vs = e17.vs.concat(t41.vs), t41.barycenter = r16 / i14, t41.weight = i14, t41.i = Math.min(e17.i, t41.i), e17.merged = true;
                        }(t40, e16);
                      };
                    }(r15)), tc(r15.out, /* @__PURE__ */ function(e16) {
                      return function(r16) {
                        r16.in.push(e16), 0 == --r16.indegree && t39.push(r16);
                      };
                    }(r15));
                  }
                  return tf(th(e15, function(t40) {
                    return !t40.merged;
                  }), function(t40) {
                    return Z(t40, ["vs", "i", "barycenter", "weight"]);
                  });
                }(th(a12, function(t39) {
                  return !t39.indegree;
                })));
                (function(t39, e15) {
                  tc(t39, function(t40) {
                    t40.vs = tg(t40.vs.map(function(t41) {
                      return e15[t41] ? e15[t41].vs : t41;
                    }));
                  });
                })(_10, w10);
                var T10 = (l11 = (o12 = function(t39) {
                  return Object.prototype.hasOwnProperty.call(t39, "barycenter");
                }, s12 = { lhs: [], rhs: [] }, tc(_10, function(t39) {
                  o12(t39) ? s12.lhs.push(t39) : s12.rhs.push(t39);
                }), s12).lhs, h11 = tT(s12.rhs, function(t39) {
                  return -t39.i;
                }), u11 = [], d11 = 0, p11 = 0, g11 = 0, l11.sort(/* @__PURE__ */ function(t39) {
                  return function(e15, r15) {
                    return e15.barycenter < r15.barycenter ? -1 : e15.barycenter > r15.barycenter ? 1 : t39 ? r15.i - e15.i : e15.i - r15.i;
                  };
                }(!!n13)), g11 = E0(u11, h11, g11), tc(l11, function(t39) {
                  g11 += t39.vs.length, u11.push(t39.vs), d11 += t39.barycenter * t39.weight, p11 += t39.weight, g11 = E0(u11, h11, g11);
                }), f10 = { vs: tg(u11) }, p11 && (f10.barycenter = d11 / p11, f10.weight = p11), f10);
                if (x10 && (T10.vs = tg([x10, T10.vs, b10]), e14.predecessors(x10).length)) {
                  var E10 = e14.node(e14.predecessors(x10)[0]), C10 = e14.node(e14.predecessors(b10)[0]);
                  Object.prototype.hasOwnProperty.call(T10, "barycenter") || (T10.barycenter = 0, T10.weight = 0), T10.barycenter = (T10.barycenter * T10.weight + E10.order + C10.order) / (T10.weight + 2), T10.weight += 2;
                }
                return T10;
              }(t37, o11, r13, e13);
              tc(s11.vs, function(e14, r14) {
                t37.node(e14).order = r14;
              }), i12 = s11.vs, a11 = {}, tc(i12, function(e14) {
                for (var i13, o12, s12 = t37.parent(e14); s12; ) {
                  if ((i13 = t37.parent(s12)) ? (o12 = a11[i13], a11[i13] = s12) : (o12 = n12, n12 = s12), o12 && o12 !== s12) {
                    r13.setEdge(o12, s12);
                    return;
                  }
                  s12 = i13;
                }
              });
            });
          })(d10 % 2 ? r12 : i11, d10 % 4 >= 2), n11 = ER(t35);
          var g10 = function(t36, e13) {
            for (var r13 = 0, i12 = 1; i12 < e13.length; ++i12) r13 += function(t37, e14, r14) {
              for (var i13 = t_(r14, tf(r14, function(t38, e15) {
                return e15;
              })), n12 = tg(tf(e14, function(e15) {
                return tT(tf(t37.outEdges(e15), function(e16) {
                  return { pos: i13[e16.w], weight: t37.edge(e16).weight };
                }), "pos");
              })), a11 = 1; a11 < r14.length; ) a11 <<= 1;
              var o11 = 2 * a11 - 1;
              a11 -= 1;
              var s11 = tf(Array(o11), function() {
                return 0;
              }), l11 = 0;
              return tc(n12.forEach(function(t38) {
                var e15 = t38.pos + a11;
                s11[e15] += t38.weight;
                for (var r15 = 0; e15 > 0; ) e15 % 2 && (r15 += s11[e15 + 1]), e15 = e15 - 1 >> 1, s11[e15] += t38.weight;
                l11 += t38.weight * r15;
              })), l11;
            }(t36, e13[i12 - 1], e13[i12]);
            return r13;
          }(t35, n11);
          g10 < u10 && (p10 = 0, h10 = tC(n11), u10 = g10);
        }
        E2(t35, h10);
      }(n10)), function(t35, e12) {
        e12();
      }("    insertSelfEdges", () => {
        tc(ER(n10), function(t35) {
          var e12 = 0;
          tc(t35, function(t36, r12) {
            var i11 = n10.node(t36);
            i11.order = r12 + e12, tc(i11.selfEdges, function(t37) {
              EN(n10, "selfedge", { width: t37.label.width, height: t37.label.height, rank: i11.rank, order: r12 + ++e12, e: t37.e, label: t37.label }, "_se");
            }), delete i11.selfEdges;
          });
        });
      }), function(t35, e12) {
        e12();
      }("    adjustCoordinateSystem", () => {
        var t35;
        ("lr" === (t35 = n10.graph().rankdir.toLowerCase()) || "rl" === t35) && EB(n10);
      }), function(t35, e12) {
        e12();
      }("    position", () => {
        var t35, e12, r12, i11, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10;
        f10 = ER(g10 = t35 = EI(t35 = n10)), y10 = g10.graph().ranksep, v10 = 0, tc(f10, function(t36) {
          var e13 = tb(tf(t36, function(t37) {
            return g10.node(t37).height;
          }));
          tc(t36, function(t37) {
            g10.node(t37).y = v10 + e13 / 2;
          }), v10 += e13 + y10;
        }), tL((o10 = tn((a10 = {}, tp(i11 = ER(e12 = t35), function(t36, r13) {
          var i12 = 0, n11 = 0, o11 = t36.length, s11 = tE(r13);
          return tc(r13, function(t37, l11) {
            var h11 = function(t38, e13) {
              if (t38.node(e13).dummy) return tk(t38.predecessors(e13), function(e14) {
                return t38.node(e14).dummy;
              });
            }(e12, t37), u11 = h11 ? e12.node(h11).order : o11;
            (h11 || t37 === s11) && (tc(r13.slice(n11, l11 + 1), function(t38) {
              tc(e12.predecessors(t38), function(r14) {
                var n12 = e12.node(r14), o12 = n12.order;
                (o12 < i12 || u11 < o12) && !(n12.dummy && e12.node(t38).dummy) && E4(a10, r14, t38);
              });
            }), n11 = l11 + 1, i12 = u11);
          }), r13;
        }), a10), function(t36, e13) {
          var r13 = {};
          function i12(e14, i13, n11, a11, o11) {
            var s11;
            tc(tm(i13, n11), function(i14) {
              s11 = e14[i14], t36.node(s11).dummy && tc(t36.predecessors(s11), function(e15) {
                var i15 = t36.node(e15);
                i15.dummy && (i15.order < a11 || i15.order > o11) && E4(r13, e15, s11);
              });
            });
          }
          return tp(e13, function(e14, r14) {
            var n11, a11 = -1, o11 = 0;
            return tc(r14, function(s11, l11) {
              if ("border" === t36.node(s11).dummy) {
                var h11 = t36.predecessors(s11);
                h11.length && (n11 = t36.node(h11[0]).order, i12(r14, o11, l11, a11, n11), o11 = l11, a11 = n11);
              }
              i12(r14, o11, r14.length, n11, e14.length);
            }), r14;
          }), r13;
        }(e12, i11)), s10 = {}, tc(["u", "d"], function(t36) {
          r12 = "u" === t36 ? i11 : td(i11).reverse(), tc(["l", "r"], function(i12) {
            "r" === i12 && (r12 = tf(r12, function(t37) {
              return td(t37).reverse();
            }));
            var n11, a11, l11, h11, u11 = ("u" === t36 ? e12.predecessors : e12.successors).bind(e12), d11 = (a11 = {}, l11 = {}, h11 = {}, tc(n11 = r12, function(t37) {
              tc(t37, function(t38, e13) {
                a11[t38] = t38, l11[t38] = t38, h11[t38] = e13;
              });
            }), tc(n11, function(t37) {
              var e13 = -1;
              tc(t37, function(t38) {
                var r13 = u11(t38);
                if (r13.length) for (var i13 = ((r13 = tT(r13, function(t39) {
                  return h11[t39];
                })).length - 1) / 2, n12 = Math.floor(i13), s11 = Math.ceil(i13); n12 <= s11; ++n12) {
                  var d12 = r13[n12];
                  l11[t38] === t38 && e13 < h11[d12] && !function(t39, e14, r14) {
                    if (e14 > r14) {
                      var i14 = e14;
                      e14 = r14, r14 = i14;
                    }
                    return !!t39[e14] && Object.prototype.hasOwnProperty.call(t39[e14], r14);
                  }(o10, t38, d12) && (l11[d12] = t38, l11[t38] = a11[t38] = a11[d12], e13 = h11[d12]);
                }
              });
            }), { root: a11, align: l11 }), p11 = function(t37, e13, r13, i13, n12) {
              var a12, o11, s11, l12, h12, u12 = {}, d12 = (s11 = new Eb(), a12 = (l12 = t37.graph()).nodesep, o11 = l12.edgesep, h12 = function(t38, e14, r14) {
                var i14, s12, l13 = t38.node(e14), h13 = t38.node(r14);
                if (i14 = 0 + l13.width / 2, Object.prototype.hasOwnProperty.call(l13, "labelpos")) switch (l13.labelpos.toLowerCase()) {
                  case "l":
                    s12 = -l13.width / 2;
                    break;
                  case "r":
                    s12 = l13.width / 2;
                }
                if (s12 && (i14 += n12 ? s12 : -s12), s12 = 0, i14 += (l13.dummy ? o11 : a12) / 2, i14 += (h13.dummy ? o11 : a12) / 2, i14 += h13.width / 2, Object.prototype.hasOwnProperty.call(h13, "labelpos")) switch (h13.labelpos.toLowerCase()) {
                  case "l":
                    s12 = h13.width / 2;
                    break;
                  case "r":
                    s12 = -h13.width / 2;
                }
                return s12 && (i14 += n12 ? s12 : -s12), s12 = 0, i14;
              }, tc(e13, function(e14) {
                var i14;
                tc(e14, function(e15) {
                  var n13 = r13[e15];
                  if (s11.setNode(n13), i14) {
                    var a13 = r13[i14], o12 = s11.edge(a13, n13);
                    s11.setEdge(a13, n13, Math.max(h12(t37, e15, i14), o12 || 0));
                  }
                  i14 = e15;
                });
              }), s11), p12 = n12 ? "borderLeft" : "borderRight";
              function g11(t38, e14) {
                for (var r14 = d12.nodes(), i14 = r14.pop(), n13 = {}; i14; ) n13[i14] ? t38(i14) : (n13[i14] = true, r14.push(i14), r14 = r14.concat(e14(i14))), i14 = r14.pop();
              }
              return g11(function(t38) {
                u12[t38] = d12.inEdges(t38).reduce(function(t39, e14) {
                  return Math.max(t39, u12[e14.v] + d12.edge(e14));
                }, 0);
              }, d12.predecessors.bind(d12)), g11(function(e14) {
                var r14 = d12.outEdges(e14).reduce(function(t38, e15) {
                  return Math.min(t38, u12[e15.w] - d12.edge(e15));
                }, Number.POSITIVE_INFINITY), i14 = t37.node(e14);
                r14 !== Number.POSITIVE_INFINITY && i14.borderType !== p12 && (u12[e14] = Math.max(u12[e14], r14));
              }, d12.successors.bind(d12)), tc(i13, function(t38) {
                u12[t38] = u12[r13[t38]];
              }), u12;
            }(e12, r12, d11.root, d11.align, "r" === i12);
            "r" === i12 && (p11 = tS(p11, function(t37) {
              return -t37;
            })), s10[t36 + i12] = p11;
          });
        }), l10 = tw(td(s10), function(t36) {
          var r13 = Number.NEGATIVE_INFINITY, i12 = Number.POSITIVE_INFINITY;
          return tA(t36, function(t37, n11) {
            var a11 = e12.node(n11).width / 2;
            r13 = Math.max(t37 + a11, r13), i12 = Math.min(t37 - a11, i12);
          }), r13 - i12;
        }), u10 = tv(h10 = td(l10)), d10 = tb(h10), tc(["u", "d"], function(t36) {
          tc(["l", "r"], function(e13) {
            var r13, i12 = t36 + e13, n11 = s10[i12];
            if (n11 !== l10) {
              var a11 = td(n11);
              (r13 = "l" === e13 ? u10 - tv(a11) : d10 - tb(a11)) && (s10[i12] = tS(n11, function(t37) {
                return t37 + r13;
              }));
            }
          });
        }), p10 = e12.graph().align, tS(s10.ul, function(t36, e13) {
          if (p10) return s10[p10.toLowerCase()][e13];
          var r13 = tT(tf(s10, e13));
          return (r13[1] + r13[2]) / 2;
        })), function(e13, r13) {
          t35.node(r13).x = e13;
        });
      }), function(t35, e12) {
        e12();
      }("    positionSelfEdges", () => {
        tc(n10.nodes(), function(t35) {
          var e12 = n10.node(t35);
          if ("selfedge" === e12.dummy) {
            var r12 = n10.node(e12.e.v), i11 = r12.x + r12.width / 2, a10 = r12.y, o10 = e12.x - i11, s10 = r12.height / 2;
            n10.setEdge(e12.e, e12.label), n10.removeNode(t35), e12.label.points = [{ x: i11 + 2 * o10 / 3, y: a10 - s10 }, { x: i11 + 5 * o10 / 6, y: a10 - s10 }, { x: i11 + o10, y: a10 }, { x: i11 + 5 * o10 / 6, y: a10 + s10 }, { x: i11 + 2 * o10 / 3, y: a10 + s10 }], e12.label.x = e12.x, e12.label.y = e12.y;
          }
        });
      }), function(t35, e12) {
        e12();
      }("    removeBorderNodes", () => {
        tc(n10.nodes(), function(t35) {
          if (n10.children(t35).length) {
            var e12 = n10.node(t35), r12 = n10.node(e12.borderTop), i11 = n10.node(e12.borderBottom), a10 = n10.node(tE(e12.borderLeft)), o10 = n10.node(tE(e12.borderRight));
            e12.width = Math.abs(o10.x - a10.x), e12.height = Math.abs(i11.y - r12.y), e12.x = a10.x + e12.width / 2, e12.y = r12.y + e12.height / 2;
          }
        }), tc(n10.nodes(), function(t35) {
          "border" === n10.node(t35).dummy && n10.removeNode(t35);
        });
      }), function(t35, e12) {
        e12();
      }("    normalize.undo", () => {
        tc(n10.graph().dummyChains, function(t35) {
          var e12, r12 = n10.node(t35), i11 = r12.edgeLabel;
          for (n10.setEdge(r12.edgeObj, i11); r12.dummy; ) e12 = n10.successors(t35)[0], n10.removeNode(t35), i11.points.push({ x: r12.x, y: r12.y }), "edge-label" === r12.dummy && (i11.x = r12.x, i11.y = r12.y, i11.width = r12.width, i11.height = r12.height), t35 = e12, r12 = n10.node(t35);
        });
      }), function(t35, e12) {
        e12();
      }("    fixupEdgeLabelCoords", () => {
        tc(n10.edges(), function(t35) {
          var e12 = n10.edge(t35);
          if (Object.prototype.hasOwnProperty.call(e12, "x")) switch (("l" === e12.labelpos || "r" === e12.labelpos) && (e12.width -= e12.labeloffset), e12.labelpos) {
            case "l":
              e12.x -= e12.width / 2 + e12.labeloffset;
              break;
            case "r":
              e12.x += e12.width / 2 + e12.labeloffset;
          }
        });
      }), function(t35, e12) {
        e12();
      }("    undoCoordinateSystem", () => {
        var t35;
        ("bt" === (t35 = n10.graph().rankdir.toLowerCase()) || "rl" === t35) && (tc(n10.nodes(), function(t36) {
          Ez(n10.node(t36));
        }), tc(n10.edges(), function(t36) {
          var e12 = n10.edge(t36);
          tc(e12.points, Ez), Object.prototype.hasOwnProperty.call(e12, "y") && Ez(e12);
        })), ("lr" === t35 || "rl" === t35) && (tc(n10.nodes(), function(t36) {
          EU(n10.node(t36));
        }), tc(n10.edges(), function(t36) {
          var e12 = n10.edge(t36);
          tc(e12.points, EU), Object.prototype.hasOwnProperty.call(e12, "x") && EU(e12);
        }), EB(n10));
      }), function(t35, e12) {
        e12();
      }("    translateGraph", () => function(t35) {
        var e12 = Number.POSITIVE_INFINITY, r12 = 0, i11 = Number.POSITIVE_INFINITY, n11 = 0, a10 = t35.graph(), o10 = a10.marginx || 0, s10 = a10.marginy || 0;
        function l10(t36) {
          var a11 = t36.x, o11 = t36.y, s11 = t36.width, l11 = t36.height;
          e12 = Math.min(e12, a11 - s11 / 2), r12 = Math.max(r12, a11 + s11 / 2), i11 = Math.min(i11, o11 - l11 / 2), n11 = Math.max(n11, o11 + l11 / 2);
        }
        tc(t35.nodes(), function(e13) {
          l10(t35.node(e13));
        }), tc(t35.edges(), function(e13) {
          var r13 = t35.edge(e13);
          Object.prototype.hasOwnProperty.call(r13, "x") && l10(r13);
        }), e12 -= o10, i11 -= s10, tc(t35.nodes(), function(r13) {
          var n12 = t35.node(r13);
          n12.x -= e12, n12.y -= i11;
        }), tc(t35.edges(), function(r13) {
          var n12 = t35.edge(r13);
          tc(n12.points, function(t36) {
            t36.x -= e12, t36.y -= i11;
          }), Object.prototype.hasOwnProperty.call(n12, "x") && (n12.x -= e12), Object.prototype.hasOwnProperty.call(n12, "y") && (n12.y -= i11);
        }), a10.width = r12 - e12 + o10, a10.height = n11 - i11 + s10;
      }(n10)), function(t35, e12) {
        e12();
      }("    assignNodeIntersects", () => {
        tc(n10.edges(), function(t35) {
          var e12, r12, i11 = n10.edge(t35), a10 = n10.node(t35.v), o10 = n10.node(t35.w);
          i11.points ? (e12 = i11.points[0], r12 = i11.points[i11.points.length - 1]) : (i11.points = [], e12 = o10, r12 = a10), i11.points.unshift(EM(a10, e12)), i11.points.push(EM(o10, r12));
        });
      }), function(t35, e12) {
        e12();
      }("    reversePoints", () => {
        tc(n10.edges(), function(t35) {
          var e12 = n10.edge(t35);
          e12.reversed && e12.points.reverse();
        });
      }), function(t35, e12) {
        e12();
      }("    acyclic.undo", () => {
        tc(n10.edges(), function(t35) {
          var e12 = n10.edge(t35);
          if (e12.reversed) {
            n10.removeEdge(t35);
            var r12 = e12.forwardName;
            delete e12.reversed, delete e12.forwardName, n10.setEdge(t35.w, t35.v, e12, r12);
          }
        });
      });
    })(), i10 = 0, (() => {
      tc(t33.nodes(), function(e12) {
        var r12 = t33.node(e12), i11 = n10.node(e12);
        r12 && (r12.x = i11.x, r12.y = i11.y, n10.children(e12).length && (r12.width = i11.width, r12.height = i11.height));
      }), tc(t33.edges(), function(e12) {
        var r12 = t33.edge(e12), i11 = n10.edge(e12);
        r12.points = i11.points, Object.prototype.hasOwnProperty.call(i11, "x") && (r12.x = i11.x, r12.y = i11.y);
      }), t33.graph().width = n10.graph().width, t33.graph().height = n10.graph().height;
    })();
  })();
}
Error(), Ej.initLowLimValues = EX, Ej.initCutValues = EW, Ej.calcCutValue = EV, Ej.leaveEdge = EK, Ej.enterEdge = EZ, Ej.exchangeEdges = EQ;
var E3 = ["nodesep", "edgesep", "ranksep", "marginx", "marginy"], E6 = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: "tb" }, E7 = ["acyclicer", "ranker", "rankdir", "align"], E8 = ["width", "height"], E9 = { width: 0, height: 0 }, Ct = ["minlen", "weight", "width", "height", "labeloffset"], Ce = { minlen: 1, weight: 1, width: 0, height: 0, labeloffset: 10, labelpos: "r" }, Cr = ["labelpos"];
function Ci(t33, e10) {
  return tS(Z(t33, e10), Number);
}
function Cn(t33) {
  var e10 = {};
  return tc(t33, function(t34, r10) {
    e10[r10.toLowerCase()] = t34;
  }), e10;
}
function Ca(t33) {
  var e10 = { options: { directed: t33.isDirected(), multigraph: t33.isMultigraph(), compound: t33.isCompound() }, nodes: tf(t33.nodes(), function(e11) {
    var r10 = t33.node(e11), i10 = t33.parent(e11), n10 = { v: e11 };
    return J(r10) || (n10.value = r10), J(i10) || (n10.parent = i10), n10;
  }), edges: tf(t33.edges(), function(e11) {
    var r10 = t33.edge(e11), i10 = { v: e11.v, w: e11.w };
    return J(e11.name) || (i10.name = e11.name), J(r10) || (i10.value = r10), i10;
  }) };
  return J(t33.graph()) || (e10.value = tI(t33.graph())), e10;
}
var Co = /* @__PURE__ */ new Map(), Cs = /* @__PURE__ */ new Map(), Cl = /* @__PURE__ */ new Map(), Ch = iZ(() => {
  Cs.clear(), Cl.clear(), Co.clear();
}, "clear"), Cc = iZ((t33, e10) => {
  let r10 = Cs.get(e10) || [];
  return i0.trace("In isDescendant", e10, " ", t33, " = ", r10.includes(t33)), r10.includes(t33);
}, "isDescendant"), Cu = iZ((t33, e10) => {
  let r10 = Cs.get(e10) || [];
  return i0.info("Descendants of ", e10, " is ", r10), i0.info("Edge is ", t33), t33.v !== e10 && t33.w !== e10 && (r10 ? r10.includes(t33.v) || Cc(t33.v, e10) || Cc(t33.w, e10) || r10.includes(t33.w) : (i0.debug("Tilt, ", e10, ",not in descendants"), false));
}, "edgeInCluster"), Cd = iZ((t33, e10, r10, i10) => {
  i0.warn("Copying children of ", t33, "root", i10, "data", e10.node(t33), i10);
  let n10 = e10.children(t33) || [];
  t33 !== i10 && n10.push(t33), i0.warn("Copying (nodes) clusterId", t33, "nodes", n10), n10.forEach((n11) => {
    if (e10.children(n11).length > 0) Cd(n11, e10, r10, i10);
    else {
      let a10 = e10.node(n11);
      i0.info("cp ", n11, " to ", i10, " with parent ", t33), r10.setNode(n11, a10), i10 !== e10.parent(n11) && (i0.warn("Setting parent", n11, e10.parent(n11)), r10.setParent(n11, e10.parent(n11))), t33 !== i10 && n11 !== t33 ? (i0.debug("Setting parent", n11, t33), r10.setParent(n11, t33)) : (i0.info("In copy ", t33, "root", i10, "data", e10.node(t33), i10), i0.debug("Not Setting parent for node=", n11, "cluster!==rootId", t33 !== i10, "node!==clusterId", n11 !== t33));
      let o10 = e10.edges(n11);
      i0.debug("Copying Edges", o10), o10.forEach((n12) => {
        i0.info("Edge", n12);
        let a11 = e10.edge(n12.v, n12.w, n12.name);
        i0.info("Edge data", a11, i10);
        try {
          Cu(n12, i10) ? (i0.info("Copying as ", n12.v, n12.w, a11, n12.name), r10.setEdge(n12.v, n12.w, a11, n12.name), i0.info("newGraph edges ", r10.edges(), r10.edge(r10.edges()[0]))) : i0.info("Skipping copy of edge ", n12.v, "-->", n12.w, " rootId: ", i10, " clusterId:", t33);
        } catch (t34) {
          i0.error(t34);
        }
      });
    }
    i0.debug("Removing node", n11), e10.removeNode(n11);
  });
}, "copy"), Cp = iZ((t33, e10) => {
  let r10 = e10.children(t33), i10 = [...r10];
  for (let n10 of r10) Cl.set(n10, t33), i10 = [...i10, ...Cp(n10, e10)];
  return i10;
}, "extractDescendants"), Cg = iZ((t33, e10, r10) => {
  let i10 = t33.edges().filter((t34) => t34.v === e10 || t34.w === e10), n10 = t33.edges().filter((t34) => t34.v === r10 || t34.w === r10), a10 = i10.map((t34) => ({ v: t34.v === e10 ? r10 : t34.v, w: t34.w === e10 ? e10 : t34.w })), o10 = n10.map((t34) => ({ v: t34.v, w: t34.w }));
  return a10.filter((t34) => o10.some((e11) => t34.v === e11.v && t34.w === e11.w));
}, "findCommonEdges"), Cf = iZ((t33, e10, r10) => {
  let i10;
  let n10 = e10.children(t33);
  if (i0.trace("Searching children of id ", t33, n10), n10.length < 1) return t33;
  for (let t34 of n10) {
    let n11 = Cf(t34, e10, r10), a10 = Cg(e10, r10, n11);
    if (n11) {
      if (!(a10.length > 0)) return n11;
      i10 = n11;
    }
  }
  return i10;
}, "findNonClusterChild"), Cm = iZ((t33) => Co.has(t33) && Co.get(t33).externalConnections && Co.has(t33) ? Co.get(t33).id : t33, "getAnchorId"), Cy = iZ((t33, e10) => {
  if (!t33 || e10 > 10) {
    i0.debug("Opting out, no graph ");
    return;
  }
  for (let e11 of (i0.debug("Opting in, graph "), t33.nodes().forEach(function(e12) {
    t33.children(e12).length > 0 && (i0.warn("Cluster identified", e12, " Replacement id in edges: ", Cf(e12, t33, e12)), Cs.set(e12, Cp(e12, t33)), Co.set(e12, { id: Cf(e12, t33, e12), clusterData: t33.node(e12) }));
  }), t33.nodes().forEach(function(e12) {
    let r10 = t33.children(e12), i10 = t33.edges();
    r10.length > 0 ? (i0.debug("Cluster identified", e12, Cs), i10.forEach((t34) => {
      Cc(t34.v, e12) ^ Cc(t34.w, e12) && (i0.warn("Edge: ", t34, " leaves cluster ", e12), i0.warn("Descendants of XXX ", e12, ": ", Cs.get(e12)), Co.get(e12).externalConnections = true);
    })) : i0.debug("Not a cluster ", e12, Cs);
  }), Co.keys())) {
    let r10 = Co.get(e11).id, i10 = t33.parent(r10);
    i10 !== e11 && Co.has(i10) && !Co.get(i10).externalConnections && (Co.get(e11).id = i10);
  }
  t33.edges().forEach(function(e11) {
    let r10 = t33.edge(e11);
    i0.warn("Edge " + e11.v + " -> " + e11.w + ": " + JSON.stringify(e11)), i0.warn("Edge " + e11.v + " -> " + e11.w + ": " + JSON.stringify(t33.edge(e11)));
    let i10 = e11.v, n10 = e11.w;
    if (i0.warn("Fix XXX", Co, "ids:", e11.v, e11.w, "Translating: ", Co.get(e11.v), " --- ", Co.get(e11.w)), Co.get(e11.v) || Co.get(e11.w)) {
      if (i0.warn("Fixing and trying - removing XXX", e11.v, e11.w, e11.name), i10 = Cm(e11.v), n10 = Cm(e11.w), t33.removeEdge(e11.v, e11.w, e11.name), i10 !== e11.v) {
        let n11 = t33.parent(i10);
        Co.get(n11).externalConnections = true, r10.fromCluster = e11.v;
      }
      if (n10 !== e11.w) {
        let i11 = t33.parent(n10);
        Co.get(i11).externalConnections = true, r10.toCluster = e11.w;
      }
      i0.warn("Fix Replacing with XXX", i10, n10, e11.name), t33.setEdge(i10, n10, r10, e11.name);
    }
  }), i0.warn("Adjusted Graph", Ca(t33)), Cv(t33, 0), i0.trace(Co);
}, "adjustClustersAndEdges"), Cv = iZ((t33, e10) => {
  if (i0.warn("extractor - ", e10, Ca(t33), t33.children("D")), e10 > 10) {
    i0.error("Bailing out");
    return;
  }
  let r10 = t33.nodes(), i10 = false;
  for (let e11 of r10) {
    let r11 = t33.children(e11);
    i10 = i10 || r11.length > 0;
  }
  if (!i10) {
    i0.debug("Done, no node has children", t33.nodes());
    return;
  }
  for (let i11 of (i0.debug("Nodes = ", r10, e10), r10)) if (i0.debug("Extracting node", i11, Co, Co.has(i11) && !Co.get(i11).externalConnections, !t33.parent(i11), t33.node(i11), t33.children("D"), " Depth ", e10), Co.has(i11)) {
    if (!Co.get(i11).externalConnections && t33.children(i11) && t33.children(i11).length > 0) {
      var n10, a10;
      i0.warn("Cluster without external connections, without a parent and with children", i11, e10);
      let r11 = "TB" === t33.graph().rankdir ? "LR" : "TB";
      (null === (a10 = Co.get(i11)) || void 0 === a10 ? void 0 : null === (n10 = a10.clusterData) || void 0 === n10 ? void 0 : n10.dir) && (r11 = Co.get(i11).clusterData.dir, i0.warn("Fixing dir", Co.get(i11).clusterData.dir, r11));
      let o10 = new Eb({ multigraph: true, compound: true }).setGraph({ rankdir: r11, nodesep: 50, ranksep: 50, marginx: 8, marginy: 8 }).setDefaultEdgeLabel(function() {
        return {};
      });
      i0.warn("Old graph before copy", Ca(t33)), Cd(i11, t33, o10, i11), t33.setNode(i11, { clusterNode: true, id: i11, clusterData: Co.get(i11).clusterData, label: Co.get(i11).label, graph: o10 }), i0.warn("New graph after copy node: (", i11, ")", Ca(o10)), i0.debug("Old graph after copy", Ca(t33));
    } else i0.warn("Cluster ** ", i11, " **not meeting the criteria !externalConnections:", !Co.get(i11).externalConnections, " no parent: ", !t33.parent(i11), " children ", t33.children(i11) && t33.children(i11).length > 0, t33.children("D"), e10), i0.debug(Co);
  } else i0.debug("Not a cluster", i11, e10);
  for (let i11 of (r10 = t33.nodes(), i0.warn("New list of nodes", r10), r10)) {
    let r11 = t33.node(i11);
    i0.warn(" Now next level", i11, r11), (null == r11 ? void 0 : r11.clusterNode) && Cv(r11.graph, e10 + 1);
  }
}, "extractor"), Cx = iZ((t33, e10) => {
  if (0 === e10.length) return [];
  let r10 = Object.assign([], e10);
  return e10.forEach((e11) => {
    let i10 = t33.children(e11), n10 = Cx(t33, i10);
    r10 = [...r10, ...n10];
  }), r10;
}, "sorter"), Cb = iZ((t33) => Cx(t33, t33.children()), "sortNodesByHierarchy"), Cw = iZ(async (t33, e10, r10, i10, n10, a10) => {
  i0.warn("Graph in recursive render:XAX", Ca(e10), n10);
  let o10 = e10.graph().rankdir;
  i0.trace("Dir in recursive render - dir:", o10);
  let s10 = t33.insert("g").attr("class", "root");
  e10.nodes() ? i0.info("Recursive render XXX", e10.nodes()) : i0.info("No nodes found for", e10), e10.edges().length > 0 && i0.info("Recursive edges", e10.edge(e10.edges()[0]));
  let l10 = s10.insert("g").attr("class", "clusters"), h10 = s10.insert("g").attr("class", "edgePaths"), u10 = s10.insert("g").attr("class", "edgeLabels"), d10 = s10.insert("g").attr("class", "nodes");
  await Promise.all(e10.nodes().map(async function(t34) {
    let s11 = e10.node(t34);
    if (void 0 !== n10) {
      let r11 = JSON.parse(JSON.stringify(n10.clusterData));
      i0.trace("Setting data for parent cluster XXX\n Node.id = ", t34, "\n data=", r11.height, "\nParent cluster", n10.height), e10.setNode(n10.id, r11), e10.parent(t34) || (i0.trace("Setting parent", t34, n10.id), e10.setParent(t34, n10.id, r11));
    }
    if (i0.info("(Insert) Node XXX" + t34 + ": " + JSON.stringify(e10.node(t34))), null == s11 ? void 0 : s11.clusterNode) {
      i0.info("Cluster identified XBX", t34, s11.width, e10.node(t34));
      let { ranksep: n11, nodesep: o11 } = e10.graph();
      s11.graph.setGraph({ ...s11.graph.graph(), ranksep: n11 + 25, nodesep: o11 });
      let l11 = await Cw(d10, s11.graph, r10, i10, e10.node(t34), a10), h11 = l11.elem;
      mN(s11, h11), s11.diff = l11.diff || 0, i0.info("New compound node after recursive render XAX", t34, "width", s11.width, "height", s11.height), vf(h11, s11);
    } else e10.children(t34).length > 0 ? (i0.trace("Cluster - the non recursive path XBX", t34, s11.id, s11, s11.width, "Graph:", e10), i0.trace(Cf(s11.id, e10)), Co.set(s11.id, { id: Cf(s11.id, e10), node: s11 })) : (i0.trace("Node - the non recursive path XAX", t34, d10, e10.node(t34), o10), await vg(d10, e10.node(t34), { config: a10, dir: o10 }));
  }));
  let p10 = iZ(async () => {
    let t34 = e10.edges().map(async function(t35) {
      let r11 = e10.edge(t35.v, t35.w, t35.name);
      i0.info("Edge " + t35.v + " -> " + t35.w + ": " + JSON.stringify(t35)), i0.info("Edge " + t35.v + " -> " + t35.w + ": ", t35, " ", JSON.stringify(e10.edge(t35))), i0.info("Fix", Co, "ids:", t35.v, t35.w, "Translating: ", Co.get(t35.v), Co.get(t35.w)), await vL(u10, r11);
    });
    await Promise.all(t34);
  }, "processEdges");
  await p10(), i0.info("Graph before layout:", JSON.stringify(Ca(e10))), i0.info("############################################# XXX"), i0.info("###                Layout                 ### XXX"), i0.info("############################################# XXX"), E5(e10), i0.info("Graph after layout:", JSON.stringify(Ca(e10)));
  let g10 = 0, { subGraphTitleTotalMargin: f10 } = ln(a10);
  return await Promise.all(Cb(e10).map(async function(t34) {
    let r11 = e10.node(t34);
    if (i0.info("Position XBX => " + t34 + ": (" + r11.x, "," + r11.y, ") width: ", r11.width, " height: ", r11.height), null == r11 ? void 0 : r11.clusterNode) r11.y += f10, i0.info("A tainted cluster node XBX1", t34, r11.id, r11.width, r11.height, r11.x, r11.y, e10.parent(t34)), Co.get(r11.id).node = r11, vy(r11);
    else if (e10.children(t34).length > 0) {
      var i11;
      i0.info("A pure cluster node XBX1", t34, r11.id, r11.x, r11.y, r11.width, r11.height, e10.parent(t34)), r11.height += f10, e10.node(r11.parentId);
      let n11 = (null == r11 ? void 0 : r11.padding) / 2 || 0, a11 = (null == r11 ? void 0 : null === (i11 = r11.labelBBox) || void 0 === i11 ? void 0 : i11.height) || 0;
      i0.debug("OffsetY", a11 - n11 || 0, "labelHeight", a11, "halfPadding", n11), await mZ(l10, r11), Co.get(r11.id).node = r11;
    } else {
      let t35 = e10.node(r11.parentId);
      r11.y += f10 / 2, i0.info("A regular node XBX1 - using the padding", r11.id, "parent", r11.parentId, r11.width, r11.height, r11.x, r11.y, "offsetY", r11.offsetY, "parent", t35, null == t35 ? void 0 : t35.offsetY, r11), vy(r11);
    }
  })), e10.edges().forEach(function(t34) {
    let n11 = e10.edge(t34);
    i0.info("Edge " + t34.v + " -> " + t34.w + ": " + JSON.stringify(n11), n11), n11.points.forEach((t35) => t35.y += f10 / 2);
    let a11 = vB(h10, n11, Co, r10, e10.node(t34.v), e10.node(t34.w), i10);
    vI(n11, a11);
  }), e10.nodes().forEach(function(t34) {
    let r11 = e10.node(t34);
    i0.info(t34, r11.type, r11.diff), r11.isGroup && (g10 = r11.diff);
  }), i0.warn("Returning from recursive render XAX", s10, g10), { elem: s10, diff: g10 };
}, "recursiveRender");
let Ck = Object.freeze(Object.defineProperty({ __proto__: null, render: iZ(async (t33, e10) => {
  var r10, i10, n10, a10, o10, s10;
  let l10 = new Eb({ multigraph: true, compound: true }).setGraph({ rankdir: t33.direction, nodesep: (null === (r10 = t33.config) || void 0 === r10 ? void 0 : r10.nodeSpacing) || (null === (n10 = t33.config) || void 0 === n10 ? void 0 : null === (i10 = n10.flowchart) || void 0 === i10 ? void 0 : i10.nodeSpacing) || t33.nodeSpacing, ranksep: (null === (a10 = t33.config) || void 0 === a10 ? void 0 : a10.rankSpacing) || (null === (s10 = t33.config) || void 0 === s10 ? void 0 : null === (o10 = s10.flowchart) || void 0 === o10 ? void 0 : o10.rankSpacing) || t33.rankSpacing, marginx: 8, marginy: 8 }).setDefaultEdgeLabel(function() {
    return {};
  }), h10 = e10.select("g");
  vF(h10, t33.markers, t33.type, t33.diagramId), vm(), vS(), mQ(), Ch(), t33.nodes.forEach((t34) => {
    l10.setNode(t34.id, { ...t34 }), t34.parentId && l10.setParent(t34.id, t34.parentId);
  }), i0.debug("Edges:", t33.edges), t33.edges.forEach((t34) => {
    if (t34.start === t34.end) {
      let e11 = t34.start, r11 = e11 + "---" + e11 + "---1", i11 = e11 + "---" + e11 + "---2", n11 = l10.node(e11);
      l10.setNode(r11, { domId: r11, id: r11, parentId: n11.parentId, labelStyle: "", label: "", padding: 0, shape: "labelRect", style: "", width: 10, height: 10 }), l10.setParent(r11, n11.parentId), l10.setNode(i11, { domId: i11, id: i11, parentId: n11.parentId, labelStyle: "", padding: 0, shape: "labelRect", label: "", style: "", width: 10, height: 10 }), l10.setParent(i11, n11.parentId);
      let a11 = structuredClone(t34), o11 = structuredClone(t34), s11 = structuredClone(t34);
      a11.label = "", a11.arrowTypeEnd = "none", a11.id = e11 + "-cyclic-special-1", o11.arrowTypeEnd = "none", o11.id = e11 + "-cyclic-special-mid", s11.label = "", n11.isGroup && (a11.fromCluster = e11, s11.toCluster = e11), s11.id = e11 + "-cyclic-special-2", l10.setEdge(e11, r11, a11, e11 + "-cyclic-special-0"), l10.setEdge(r11, i11, o11, e11 + "-cyclic-special-1"), l10.setEdge(i11, e11, s11, e11 + "-cyc<lic-special-2");
    } else l10.setEdge(t34.start, t34.end, { ...t34 }, t34.id);
  }), i0.warn("Graph at first:", JSON.stringify(Ca(l10))), Cy(l10), i0.warn("Graph after XAX:", JSON.stringify(Ca(l10)));
  let u10 = nM();
  await Cw(h10, l10, t33.type, t33.diagramId, void 0, u10);
}, "render") }, Symbol.toStringTag, { value: "Module" }));
var C_ = iZ((t33, e10) => {
  let r10 = t33.append("rect");
  if (r10.attr("x", e10.x), r10.attr("y", e10.y), r10.attr("fill", e10.fill), r10.attr("stroke", e10.stroke), r10.attr("width", e10.width), r10.attr("height", e10.height), e10.name && r10.attr("name", e10.name), e10.rx && r10.attr("rx", e10.rx), e10.ry && r10.attr("ry", e10.ry), void 0 !== e10.attrs) for (let t34 in e10.attrs) r10.attr(t34, e10.attrs[t34]);
  return e10.class && r10.attr("class", e10.class), r10;
}, "drawRect"), CT = iZ((t33, e10) => {
  C_(t33, { x: e10.startx, y: e10.starty, width: e10.stopx - e10.startx, height: e10.stopy - e10.starty, fill: e10.fill, stroke: e10.stroke, class: "rect" }).lower();
}, "drawBackgroundRect"), CE = iZ((t33, e10) => {
  let r10 = e10.text.replace(nz, " "), i10 = t33.append("text");
  i10.attr("x", e10.x), i10.attr("y", e10.y), i10.attr("class", "legend"), i10.style("text-anchor", e10.anchor), e10.class && i10.attr("class", e10.class);
  let n10 = i10.append("tspan");
  return n10.attr("x", e10.x + 2 * e10.textMargin), n10.text(r10), i10;
}, "drawText"), CC = iZ((t33, e10, r10, i10) => {
  let n10 = t33.append("image");
  n10.attr("x", e10), n10.attr("y", r10);
  let a10 = ls.sanitizeUrl(i10);
  n10.attr("xlink:href", a10);
}, "drawImage"), CS = iZ((t33, e10, r10, i10) => {
  let n10 = t33.append("use");
  n10.attr("x", e10), n10.attr("y", r10);
  let a10 = ls.sanitizeUrl(i10);
  n10.attr("xlink:href", `#${a10}`);
}, "drawEmbeddedImage"), CA = iZ(() => ({ x: 0, y: 0, width: 100, height: 100, fill: "#EDF2AE", stroke: "#666", anchor: "start", rx: 0, ry: 0 }), "getNoteRect"), CL = iZ(() => ({ x: 0, y: 0, width: 100, height: 100, "text-anchor": "start", style: "#666", textMargin: 0, rx: 0, ry: 0, tspan: true }), "getTextObj"), CN = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 24], r10 = [1, 25], i10 = [1, 26], n10 = [1, 27], a10 = [1, 28], o10 = [1, 63], s10 = [1, 64], l10 = [1, 65], h10 = [1, 66], u10 = [1, 67], d10 = [1, 68], p10 = [1, 69], g10 = [1, 29], f10 = [1, 30], y10 = [1, 31], v10 = [1, 32], x10 = [1, 33], b10 = [1, 34], w10 = [1, 35], k10 = [1, 36], _10 = [1, 37], T10 = [1, 38], E10 = [1, 39], C10 = [1, 40], S10 = [1, 41], A10 = [1, 42], L10 = [1, 43], N10 = [1, 44], I10 = [1, 45], M10 = [1, 46], R10 = [1, 47], D10 = [1, 48], O10 = [1, 50], P10 = [1, 51], $10 = [1, 52], B10 = [1, 53], F10 = [1, 54], z10 = [1, 55], U10 = [1, 56], G10 = [1, 57], q10 = [1, 58], Y10 = [1, 59], H10 = [1, 60], j10 = [14, 42], W10 = [14, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], V10 = [12, 14, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], X10 = [1, 82], K10 = [1, 83], Z10 = [1, 84], Q10 = [1, 85], J10 = [12, 14, 42], tt10 = [12, 14, 33, 42], te10 = [12, 14, 33, 42, 76, 77, 79, 80], tr10 = [12, 33], ti10 = [34, 36, 37, 38, 39, 40, 41, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], tn10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mermaidDoc: 4, direction: 5, direction_tb: 6, direction_bt: 7, direction_rl: 8, direction_lr: 9, graphConfig: 10, C4_CONTEXT: 11, NEWLINE: 12, statements: 13, EOF: 14, C4_CONTAINER: 15, C4_COMPONENT: 16, C4_DYNAMIC: 17, C4_DEPLOYMENT: 18, otherStatements: 19, diagramStatements: 20, otherStatement: 21, title: 22, accDescription: 23, acc_title: 24, acc_title_value: 25, acc_descr: 26, acc_descr_value: 27, acc_descr_multiline_value: 28, boundaryStatement: 29, boundaryStartStatement: 30, boundaryStopStatement: 31, boundaryStart: 32, LBRACE: 33, ENTERPRISE_BOUNDARY: 34, attributes: 35, SYSTEM_BOUNDARY: 36, BOUNDARY: 37, CONTAINER_BOUNDARY: 38, NODE: 39, NODE_L: 40, NODE_R: 41, RBRACE: 42, diagramStatement: 43, PERSON: 44, PERSON_EXT: 45, SYSTEM: 46, SYSTEM_DB: 47, SYSTEM_QUEUE: 48, SYSTEM_EXT: 49, SYSTEM_EXT_DB: 50, SYSTEM_EXT_QUEUE: 51, CONTAINER: 52, CONTAINER_DB: 53, CONTAINER_QUEUE: 54, CONTAINER_EXT: 55, CONTAINER_EXT_DB: 56, CONTAINER_EXT_QUEUE: 57, COMPONENT: 58, COMPONENT_DB: 59, COMPONENT_QUEUE: 60, COMPONENT_EXT: 61, COMPONENT_EXT_DB: 62, COMPONENT_EXT_QUEUE: 63, REL: 64, BIREL: 65, REL_U: 66, REL_D: 67, REL_L: 68, REL_R: 69, REL_B: 70, REL_INDEX: 71, UPDATE_EL_STYLE: 72, UPDATE_REL_STYLE: 73, UPDATE_LAYOUT_CONFIG: 74, attribute: 75, STR: 76, STR_KEY: 77, STR_VALUE: 78, ATTRIBUTE: 79, ATTRIBUTE_EMPTY: 80, $accept: 0, $end: 1 }, terminals_: { 2: "error", 6: "direction_tb", 7: "direction_bt", 8: "direction_rl", 9: "direction_lr", 11: "C4_CONTEXT", 12: "NEWLINE", 14: "EOF", 15: "C4_CONTAINER", 16: "C4_COMPONENT", 17: "C4_DYNAMIC", 18: "C4_DEPLOYMENT", 22: "title", 23: "accDescription", 24: "acc_title", 25: "acc_title_value", 26: "acc_descr", 27: "acc_descr_value", 28: "acc_descr_multiline_value", 33: "LBRACE", 34: "ENTERPRISE_BOUNDARY", 36: "SYSTEM_BOUNDARY", 37: "BOUNDARY", 38: "CONTAINER_BOUNDARY", 39: "NODE", 40: "NODE_L", 41: "NODE_R", 42: "RBRACE", 44: "PERSON", 45: "PERSON_EXT", 46: "SYSTEM", 47: "SYSTEM_DB", 48: "SYSTEM_QUEUE", 49: "SYSTEM_EXT", 50: "SYSTEM_EXT_DB", 51: "SYSTEM_EXT_QUEUE", 52: "CONTAINER", 53: "CONTAINER_DB", 54: "CONTAINER_QUEUE", 55: "CONTAINER_EXT", 56: "CONTAINER_EXT_DB", 57: "CONTAINER_EXT_QUEUE", 58: "COMPONENT", 59: "COMPONENT_DB", 60: "COMPONENT_QUEUE", 61: "COMPONENT_EXT", 62: "COMPONENT_EXT_DB", 63: "COMPONENT_EXT_QUEUE", 64: "REL", 65: "BIREL", 66: "REL_U", 67: "REL_D", 68: "REL_L", 69: "REL_R", 70: "REL_B", 71: "REL_INDEX", 72: "UPDATE_EL_STYLE", 73: "UPDATE_REL_STYLE", 74: "UPDATE_LAYOUT_CONFIG", 76: "STR", 77: "STR_KEY", 78: "STR_VALUE", 79: "ATTRIBUTE", 80: "ATTRIBUTE_EMPTY" }, productions_: [0, [3, 1], [3, 1], [5, 1], [5, 1], [5, 1], [5, 1], [4, 1], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [13, 1], [13, 1], [13, 2], [19, 1], [19, 2], [19, 3], [21, 1], [21, 1], [21, 2], [21, 2], [21, 1], [29, 3], [30, 3], [30, 3], [30, 4], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [31, 1], [20, 1], [20, 2], [20, 3], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 1], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [35, 1], [35, 2], [75, 1], [75, 2], [75, 1], [75, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 3:
        i11.setDirection("TB");
        break;
      case 4:
        i11.setDirection("BT");
        break;
      case 5:
        i11.setDirection("RL");
        break;
      case 6:
        i11.setDirection("LR");
        break;
      case 8:
      case 9:
      case 10:
      case 11:
      case 12:
        i11.setC4Type(a11[s11 - 3]);
        break;
      case 19:
        i11.setTitle(a11[s11].substring(6)), this.$ = a11[s11].substring(6);
        break;
      case 20:
        i11.setAccDescription(a11[s11].substring(15)), this.$ = a11[s11].substring(15);
        break;
      case 21:
        this.$ = a11[s11].trim(), i11.setTitle(this.$);
        break;
      case 22:
      case 23:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 28:
        a11[s11].splice(2, 0, "ENTERPRISE"), i11.addPersonOrSystemBoundary(...a11[s11]), this.$ = a11[s11];
        break;
      case 29:
        a11[s11].splice(2, 0, "SYSTEM"), i11.addPersonOrSystemBoundary(...a11[s11]), this.$ = a11[s11];
        break;
      case 30:
        i11.addPersonOrSystemBoundary(...a11[s11]), this.$ = a11[s11];
        break;
      case 31:
        a11[s11].splice(2, 0, "CONTAINER"), i11.addContainerBoundary(...a11[s11]), this.$ = a11[s11];
        break;
      case 32:
        i11.addDeploymentNode("node", ...a11[s11]), this.$ = a11[s11];
        break;
      case 33:
        i11.addDeploymentNode("nodeL", ...a11[s11]), this.$ = a11[s11];
        break;
      case 34:
        i11.addDeploymentNode("nodeR", ...a11[s11]), this.$ = a11[s11];
        break;
      case 35:
        i11.popBoundaryParseStack();
        break;
      case 39:
        i11.addPersonOrSystem("person", ...a11[s11]), this.$ = a11[s11];
        break;
      case 40:
        i11.addPersonOrSystem("external_person", ...a11[s11]), this.$ = a11[s11];
        break;
      case 41:
        i11.addPersonOrSystem("system", ...a11[s11]), this.$ = a11[s11];
        break;
      case 42:
        i11.addPersonOrSystem("system_db", ...a11[s11]), this.$ = a11[s11];
        break;
      case 43:
        i11.addPersonOrSystem("system_queue", ...a11[s11]), this.$ = a11[s11];
        break;
      case 44:
        i11.addPersonOrSystem("external_system", ...a11[s11]), this.$ = a11[s11];
        break;
      case 45:
        i11.addPersonOrSystem("external_system_db", ...a11[s11]), this.$ = a11[s11];
        break;
      case 46:
        i11.addPersonOrSystem("external_system_queue", ...a11[s11]), this.$ = a11[s11];
        break;
      case 47:
        i11.addContainer("container", ...a11[s11]), this.$ = a11[s11];
        break;
      case 48:
        i11.addContainer("container_db", ...a11[s11]), this.$ = a11[s11];
        break;
      case 49:
        i11.addContainer("container_queue", ...a11[s11]), this.$ = a11[s11];
        break;
      case 50:
        i11.addContainer("external_container", ...a11[s11]), this.$ = a11[s11];
        break;
      case 51:
        i11.addContainer("external_container_db", ...a11[s11]), this.$ = a11[s11];
        break;
      case 52:
        i11.addContainer("external_container_queue", ...a11[s11]), this.$ = a11[s11];
        break;
      case 53:
        i11.addComponent("component", ...a11[s11]), this.$ = a11[s11];
        break;
      case 54:
        i11.addComponent("component_db", ...a11[s11]), this.$ = a11[s11];
        break;
      case 55:
        i11.addComponent("component_queue", ...a11[s11]), this.$ = a11[s11];
        break;
      case 56:
        i11.addComponent("external_component", ...a11[s11]), this.$ = a11[s11];
        break;
      case 57:
        i11.addComponent("external_component_db", ...a11[s11]), this.$ = a11[s11];
        break;
      case 58:
        i11.addComponent("external_component_queue", ...a11[s11]), this.$ = a11[s11];
        break;
      case 60:
        i11.addRel("rel", ...a11[s11]), this.$ = a11[s11];
        break;
      case 61:
        i11.addRel("birel", ...a11[s11]), this.$ = a11[s11];
        break;
      case 62:
        i11.addRel("rel_u", ...a11[s11]), this.$ = a11[s11];
        break;
      case 63:
        i11.addRel("rel_d", ...a11[s11]), this.$ = a11[s11];
        break;
      case 64:
        i11.addRel("rel_l", ...a11[s11]), this.$ = a11[s11];
        break;
      case 65:
        i11.addRel("rel_r", ...a11[s11]), this.$ = a11[s11];
        break;
      case 66:
        i11.addRel("rel_b", ...a11[s11]), this.$ = a11[s11];
        break;
      case 67:
        a11[s11].splice(0, 1), i11.addRel("rel", ...a11[s11]), this.$ = a11[s11];
        break;
      case 68:
        i11.updateElStyle("update_el_style", ...a11[s11]), this.$ = a11[s11];
        break;
      case 69:
        i11.updateRelStyle("update_rel_style", ...a11[s11]), this.$ = a11[s11];
        break;
      case 70:
        i11.updateLayoutConfig("update_layout_config", ...a11[s11]), this.$ = a11[s11];
        break;
      case 71:
        this.$ = [a11[s11]];
        break;
      case 72:
        a11[s11].unshift(a11[s11 - 1]), this.$ = a11[s11];
        break;
      case 73:
      case 75:
        this.$ = a11[s11].trim();
        break;
      case 74:
        let l11 = {};
        l11[a11[s11 - 1].trim()] = a11[s11].trim(), this.$ = l11;
        break;
      case 76:
        this.$ = "";
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 7: [1, 6], 8: [1, 7], 9: [1, 8], 10: 4, 11: [1, 9], 15: [1, 10], 16: [1, 11], 17: [1, 12], 18: [1, 13] }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 7] }, { 1: [2, 3] }, { 1: [2, 4] }, { 1: [2, 5] }, { 1: [2, 6] }, { 12: [1, 14] }, { 12: [1, 15] }, { 12: [1, 16] }, { 12: [1, 17] }, { 12: [1, 18] }, { 13: 19, 19: 20, 20: 21, 21: 22, 22: e10, 23: r10, 24: i10, 26: n10, 28: a10, 29: 49, 30: 61, 32: 62, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }, { 13: 70, 19: 20, 20: 21, 21: 22, 22: e10, 23: r10, 24: i10, 26: n10, 28: a10, 29: 49, 30: 61, 32: 62, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }, { 13: 71, 19: 20, 20: 21, 21: 22, 22: e10, 23: r10, 24: i10, 26: n10, 28: a10, 29: 49, 30: 61, 32: 62, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }, { 13: 72, 19: 20, 20: 21, 21: 22, 22: e10, 23: r10, 24: i10, 26: n10, 28: a10, 29: 49, 30: 61, 32: 62, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }, { 13: 73, 19: 20, 20: 21, 21: 22, 22: e10, 23: r10, 24: i10, 26: n10, 28: a10, 29: 49, 30: 61, 32: 62, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }, { 14: [1, 74] }, t33(j10, [2, 13], { 43: 23, 29: 49, 30: 61, 32: 62, 20: 75, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }), t33(j10, [2, 14]), t33(W10, [2, 16], { 12: [1, 76] }), t33(j10, [2, 36], { 12: [1, 77] }), t33(V10, [2, 19]), t33(V10, [2, 20]), { 25: [1, 78] }, { 27: [1, 79] }, t33(V10, [2, 23]), { 35: 80, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 86, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 87, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 88, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 89, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 90, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 91, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 92, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 93, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 94, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 95, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 96, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 97, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 98, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 99, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 100, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 101, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 102, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 103, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 104, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, t33(J10, [2, 59]), { 35: 105, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 106, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 107, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 108, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 109, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 110, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 111, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 112, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 113, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 114, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 115, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 20: 116, 29: 49, 30: 61, 32: 62, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }, { 12: [1, 118], 33: [1, 117] }, { 35: 119, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 120, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 121, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 122, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 123, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 124, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 125, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 14: [1, 126] }, { 14: [1, 127] }, { 14: [1, 128] }, { 14: [1, 129] }, { 1: [2, 8] }, t33(j10, [2, 15]), t33(W10, [2, 17], { 21: 22, 19: 130, 22: e10, 23: r10, 24: i10, 26: n10, 28: a10 }), t33(j10, [2, 37], { 19: 20, 20: 21, 21: 22, 43: 23, 29: 49, 30: 61, 32: 62, 13: 131, 22: e10, 23: r10, 24: i10, 26: n10, 28: a10, 34: o10, 36: s10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10, 51: k10, 52: _10, 53: T10, 54: E10, 55: C10, 56: S10, 57: A10, 58: L10, 59: N10, 60: I10, 61: M10, 62: R10, 63: D10, 64: O10, 65: P10, 66: $10, 67: B10, 68: F10, 69: z10, 70: U10, 71: G10, 72: q10, 73: Y10, 74: H10 }), t33(V10, [2, 21]), t33(V10, [2, 22]), t33(J10, [2, 39]), t33(tt10, [2, 71], { 75: 81, 35: 132, 76: X10, 77: K10, 79: Z10, 80: Q10 }), t33(te10, [2, 73]), { 78: [1, 133] }, t33(te10, [2, 75]), t33(te10, [2, 76]), t33(J10, [2, 40]), t33(J10, [2, 41]), t33(J10, [2, 42]), t33(J10, [2, 43]), t33(J10, [2, 44]), t33(J10, [2, 45]), t33(J10, [2, 46]), t33(J10, [2, 47]), t33(J10, [2, 48]), t33(J10, [2, 49]), t33(J10, [2, 50]), t33(J10, [2, 51]), t33(J10, [2, 52]), t33(J10, [2, 53]), t33(J10, [2, 54]), t33(J10, [2, 55]), t33(J10, [2, 56]), t33(J10, [2, 57]), t33(J10, [2, 58]), t33(J10, [2, 60]), t33(J10, [2, 61]), t33(J10, [2, 62]), t33(J10, [2, 63]), t33(J10, [2, 64]), t33(J10, [2, 65]), t33(J10, [2, 66]), t33(J10, [2, 67]), t33(J10, [2, 68]), t33(J10, [2, 69]), t33(J10, [2, 70]), { 31: 134, 42: [1, 135] }, { 12: [1, 136] }, { 33: [1, 137] }, t33(tr10, [2, 28]), t33(tr10, [2, 29]), t33(tr10, [2, 30]), t33(tr10, [2, 31]), t33(tr10, [2, 32]), t33(tr10, [2, 33]), t33(tr10, [2, 34]), { 1: [2, 9] }, { 1: [2, 10] }, { 1: [2, 11] }, { 1: [2, 12] }, t33(W10, [2, 18]), t33(j10, [2, 38]), t33(tt10, [2, 72]), t33(te10, [2, 74]), t33(J10, [2, 24]), t33(J10, [2, 35]), t33(ti10, [2, 25]), t33(ti10, [2, 26], { 12: [1, 138] }), t33(ti10, [2, 27])], defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 7], 5: [2, 3], 6: [2, 4], 7: [2, 5], 8: [2, 6], 74: [2, 8], 126: [2, 9], 127: [2, 10], 128: [2, 11], 129: [2, 12] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, ta10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return 6;
      case 1:
        return 7;
      case 2:
        return 8;
      case 3:
        return 9;
      case 4:
        return 22;
      case 5:
        return 23;
      case 6:
        return this.begin("acc_title"), 24;
      case 7:
        return this.popState(), "acc_title_value";
      case 8:
        return this.begin("acc_descr"), 26;
      case 9:
        return this.popState(), "acc_descr_value";
      case 10:
        this.begin("acc_descr_multiline");
        break;
      case 11:
      case 73:
        this.popState();
        break;
      case 12:
        return "acc_descr_multiline_value";
      case 13:
      case 16:
      case 70:
        break;
      case 14:
        c;
        break;
      case 15:
        return 12;
      case 17:
        return 11;
      case 18:
        return 15;
      case 19:
        return 16;
      case 20:
        return 17;
      case 21:
        return 18;
      case 22:
        return this.begin("person_ext"), 45;
      case 23:
        return this.begin("person"), 44;
      case 24:
        return this.begin("system_ext_queue"), 51;
      case 25:
        return this.begin("system_ext_db"), 50;
      case 26:
        return this.begin("system_ext"), 49;
      case 27:
        return this.begin("system_queue"), 48;
      case 28:
        return this.begin("system_db"), 47;
      case 29:
        return this.begin("system"), 46;
      case 30:
        return this.begin("boundary"), 37;
      case 31:
        return this.begin("enterprise_boundary"), 34;
      case 32:
        return this.begin("system_boundary"), 36;
      case 33:
        return this.begin("container_ext_queue"), 57;
      case 34:
        return this.begin("container_ext_db"), 56;
      case 35:
        return this.begin("container_ext"), 55;
      case 36:
        return this.begin("container_queue"), 54;
      case 37:
        return this.begin("container_db"), 53;
      case 38:
        return this.begin("container"), 52;
      case 39:
        return this.begin("container_boundary"), 38;
      case 40:
        return this.begin("component_ext_queue"), 63;
      case 41:
        return this.begin("component_ext_db"), 62;
      case 42:
        return this.begin("component_ext"), 61;
      case 43:
        return this.begin("component_queue"), 60;
      case 44:
        return this.begin("component_db"), 59;
      case 45:
        return this.begin("component"), 58;
      case 46:
      case 47:
        return this.begin("node"), 39;
      case 48:
        return this.begin("node_l"), 40;
      case 49:
        return this.begin("node_r"), 41;
      case 50:
        return this.begin("rel"), 64;
      case 51:
        return this.begin("birel"), 65;
      case 52:
      case 53:
        return this.begin("rel_u"), 66;
      case 54:
      case 55:
        return this.begin("rel_d"), 67;
      case 56:
      case 57:
        return this.begin("rel_l"), 68;
      case 58:
      case 59:
        return this.begin("rel_r"), 69;
      case 60:
        return this.begin("rel_b"), 70;
      case 61:
        return this.begin("rel_index"), 71;
      case 62:
        return this.begin("update_el_style"), 72;
      case 63:
        return this.begin("update_rel_style"), 73;
      case 64:
        return this.begin("update_layout_config"), 74;
      case 65:
        return "EOF_IN_STRUCT";
      case 66:
        return this.begin("attribute"), "ATTRIBUTE_EMPTY";
      case 67:
        this.begin("attribute");
        break;
      case 68:
      case 79:
        this.popState(), this.popState();
        break;
      case 69:
      case 71:
        return 80;
      case 72:
        this.begin("string");
        break;
      case 74:
      case 80:
        return "STR";
      case 75:
        this.begin("string_kv");
        break;
      case 76:
        return this.begin("string_kv_key"), "STR_KEY";
      case 77:
        this.popState(), this.begin("string_kv_value");
        break;
      case 78:
        return "STR_VALUE";
      case 81:
        return "LBRACE";
      case 82:
        return "RBRACE";
      case 83:
        return "SPACE";
      case 84:
        return "EOL";
      case 85:
        return 14;
    }
  }, "anonymous"), rules: [/^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:title\s[^#\n;]+)/, /^(?:accDescription\s[^#\n;]+)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:C4Context\b)/, /^(?:C4Container\b)/, /^(?:C4Component\b)/, /^(?:C4Dynamic\b)/, /^(?:C4Deployment\b)/, /^(?:Person_Ext\b)/, /^(?:Person\b)/, /^(?:SystemQueue_Ext\b)/, /^(?:SystemDb_Ext\b)/, /^(?:System_Ext\b)/, /^(?:SystemQueue\b)/, /^(?:SystemDb\b)/, /^(?:System\b)/, /^(?:Boundary\b)/, /^(?:Enterprise_Boundary\b)/, /^(?:System_Boundary\b)/, /^(?:ContainerQueue_Ext\b)/, /^(?:ContainerDb_Ext\b)/, /^(?:Container_Ext\b)/, /^(?:ContainerQueue\b)/, /^(?:ContainerDb\b)/, /^(?:Container\b)/, /^(?:Container_Boundary\b)/, /^(?:ComponentQueue_Ext\b)/, /^(?:ComponentDb_Ext\b)/, /^(?:Component_Ext\b)/, /^(?:ComponentQueue\b)/, /^(?:ComponentDb\b)/, /^(?:Component\b)/, /^(?:Deployment_Node\b)/, /^(?:Node\b)/, /^(?:Node_L\b)/, /^(?:Node_R\b)/, /^(?:Rel\b)/, /^(?:BiRel\b)/, /^(?:Rel_Up\b)/, /^(?:Rel_U\b)/, /^(?:Rel_Down\b)/, /^(?:Rel_D\b)/, /^(?:Rel_Left\b)/, /^(?:Rel_L\b)/, /^(?:Rel_Right\b)/, /^(?:Rel_R\b)/, /^(?:Rel_Back\b)/, /^(?:RelIndex\b)/, /^(?:UpdateElementStyle\b)/, /^(?:UpdateRelStyle\b)/, /^(?:UpdateLayoutConfig\b)/, /^(?:$)/, /^(?:[(][ ]*[,])/, /^(?:[(])/, /^(?:[)])/, /^(?:,,)/, /^(?:,)/, /^(?:[ ]*["]["])/, /^(?:[ ]*["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:[ ]*[\$])/, /^(?:[^=]*)/, /^(?:[=][ ]*["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:[^,]+)/, /^(?:\{)/, /^(?:\})/, /^(?:[\s]+)/, /^(?:[\n\r]+)/, /^(?:$)/], conditions: { acc_descr_multiline: { rules: [11, 12], inclusive: false }, acc_descr: { rules: [9], inclusive: false }, acc_title: { rules: [7], inclusive: false }, string_kv_value: { rules: [78, 79], inclusive: false }, string_kv_key: { rules: [77], inclusive: false }, string_kv: { rules: [76], inclusive: false }, string: { rules: [73, 74], inclusive: false }, attribute: { rules: [68, 69, 70, 71, 72, 75, 80], inclusive: false }, update_layout_config: { rules: [65, 66, 67, 68], inclusive: false }, update_rel_style: { rules: [65, 66, 67, 68], inclusive: false }, update_el_style: { rules: [65, 66, 67, 68], inclusive: false }, rel_b: { rules: [65, 66, 67, 68], inclusive: false }, rel_r: { rules: [65, 66, 67, 68], inclusive: false }, rel_l: { rules: [65, 66, 67, 68], inclusive: false }, rel_d: { rules: [65, 66, 67, 68], inclusive: false }, rel_u: { rules: [65, 66, 67, 68], inclusive: false }, rel_bi: { rules: [], inclusive: false }, rel: { rules: [65, 66, 67, 68], inclusive: false }, node_r: { rules: [65, 66, 67, 68], inclusive: false }, node_l: { rules: [65, 66, 67, 68], inclusive: false }, node: { rules: [65, 66, 67, 68], inclusive: false }, index: { rules: [], inclusive: false }, rel_index: { rules: [65, 66, 67, 68], inclusive: false }, component_ext_queue: { rules: [], inclusive: false }, component_ext_db: { rules: [65, 66, 67, 68], inclusive: false }, component_ext: { rules: [65, 66, 67, 68], inclusive: false }, component_queue: { rules: [65, 66, 67, 68], inclusive: false }, component_db: { rules: [65, 66, 67, 68], inclusive: false }, component: { rules: [65, 66, 67, 68], inclusive: false }, container_boundary: { rules: [65, 66, 67, 68], inclusive: false }, container_ext_queue: { rules: [65, 66, 67, 68], inclusive: false }, container_ext_db: { rules: [65, 66, 67, 68], inclusive: false }, container_ext: { rules: [65, 66, 67, 68], inclusive: false }, container_queue: { rules: [65, 66, 67, 68], inclusive: false }, container_db: { rules: [65, 66, 67, 68], inclusive: false }, container: { rules: [65, 66, 67, 68], inclusive: false }, birel: { rules: [65, 66, 67, 68], inclusive: false }, system_boundary: { rules: [65, 66, 67, 68], inclusive: false }, enterprise_boundary: { rules: [65, 66, 67, 68], inclusive: false }, boundary: { rules: [65, 66, 67, 68], inclusive: false }, system_ext_queue: { rules: [65, 66, 67, 68], inclusive: false }, system_ext_db: { rules: [65, 66, 67, 68], inclusive: false }, system_ext: { rules: [65, 66, 67, 68], inclusive: false }, system_queue: { rules: [65, 66, 67, 68], inclusive: false }, system_db: { rules: [65, 66, 67, 68], inclusive: false }, system: { rules: [65, 66, 67, 68], inclusive: false }, person_ext: { rules: [65, 66, 67, 68], inclusive: false }, person: { rules: [65, 66, 67, 68], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 81, 82, 83, 84, 85], inclusive: true } } };
  function to10() {
    this.yy = {};
  }
  return tn10.lexer = ta10, iZ(to10, "Parser"), to10.prototype = tn10, tn10.Parser = to10, new to10();
}();
CN.parser = CN;
var CI = [], CM = [""], CR = "global", CD = "", CO = [{ alias: "global", label: { text: "global" }, type: { text: "global" }, tags: null, link: null, parentBoundary: "" }], CP = [], C$ = "", CB = false, CF = 4, Cz = 2, CU = iZ(function() {
  return JM;
}, "getC4Type"), CG = iZ(function(t33) {
  JM = nj(t33, nM());
}, "setC4Type"), Cq = iZ(function(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  if (null == t33 || null == e10 || null == r10 || null == i10) return;
  let h10 = {}, u10 = CP.find((t34) => t34.from === e10 && t34.to === r10);
  if (u10 ? h10 = u10 : CP.push(h10), h10.type = t33, h10.from = e10, h10.to = r10, h10.label = { text: i10 }, null == n10) h10.techn = { text: "" };
  else if ("object" == typeof n10) {
    let [t34, e11] = Object.entries(n10)[0];
    h10[t34] = { text: e11 };
  } else h10.techn = { text: n10 };
  if (null == a10) h10.descr = { text: "" };
  else if ("object" == typeof a10) {
    let [t34, e11] = Object.entries(a10)[0];
    h10[t34] = { text: e11 };
  } else h10.descr = { text: a10 };
  if ("object" == typeof o10) {
    let [t34, e11] = Object.entries(o10)[0];
    h10[t34] = e11;
  } else h10.sprite = o10;
  if ("object" == typeof s10) {
    let [t34, e11] = Object.entries(s10)[0];
    h10[t34] = e11;
  } else h10.tags = s10;
  if ("object" == typeof l10) {
    let [t34, e11] = Object.entries(l10)[0];
    h10[t34] = e11;
  } else h10.link = l10;
  h10.wrap = Se();
}, "addRel"), CY = iZ(function(t33, e10, r10, i10, n10, a10, o10) {
  if (null === e10 || null === r10) return;
  let s10 = {}, l10 = CI.find((t34) => t34.alias === e10);
  if (l10 && e10 === l10.alias ? s10 = l10 : (s10.alias = e10, CI.push(s10)), null == r10 ? s10.label = { text: "" } : s10.label = { text: r10 }, null == i10) s10.descr = { text: "" };
  else if ("object" == typeof i10) {
    let [t34, e11] = Object.entries(i10)[0];
    s10[t34] = { text: e11 };
  } else s10.descr = { text: i10 };
  if ("object" == typeof n10) {
    let [t34, e11] = Object.entries(n10)[0];
    s10[t34] = e11;
  } else s10.sprite = n10;
  if ("object" == typeof a10) {
    let [t34, e11] = Object.entries(a10)[0];
    s10[t34] = e11;
  } else s10.tags = a10;
  if ("object" == typeof o10) {
    let [t34, e11] = Object.entries(o10)[0];
    s10[t34] = e11;
  } else s10.link = o10;
  s10.typeC4Shape = { text: t33 }, s10.parentBoundary = CR, s10.wrap = Se();
}, "addPersonOrSystem"), CH = iZ(function(t33, e10, r10, i10, n10, a10, o10, s10) {
  if (null === e10 || null === r10) return;
  let l10 = {}, h10 = CI.find((t34) => t34.alias === e10);
  if (h10 && e10 === h10.alias ? l10 = h10 : (l10.alias = e10, CI.push(l10)), null == r10 ? l10.label = { text: "" } : l10.label = { text: r10 }, null == i10) l10.techn = { text: "" };
  else if ("object" == typeof i10) {
    let [t34, e11] = Object.entries(i10)[0];
    l10[t34] = { text: e11 };
  } else l10.techn = { text: i10 };
  if (null == n10) l10.descr = { text: "" };
  else if ("object" == typeof n10) {
    let [t34, e11] = Object.entries(n10)[0];
    l10[t34] = { text: e11 };
  } else l10.descr = { text: n10 };
  if ("object" == typeof a10) {
    let [t34, e11] = Object.entries(a10)[0];
    l10[t34] = e11;
  } else l10.sprite = a10;
  if ("object" == typeof o10) {
    let [t34, e11] = Object.entries(o10)[0];
    l10[t34] = e11;
  } else l10.tags = o10;
  if ("object" == typeof s10) {
    let [t34, e11] = Object.entries(s10)[0];
    l10[t34] = e11;
  } else l10.link = s10;
  l10.wrap = Se(), l10.typeC4Shape = { text: t33 }, l10.parentBoundary = CR;
}, "addContainer"), Cj = iZ(function(t33, e10, r10, i10, n10, a10, o10, s10) {
  if (null === e10 || null === r10) return;
  let l10 = {}, h10 = CI.find((t34) => t34.alias === e10);
  if (h10 && e10 === h10.alias ? l10 = h10 : (l10.alias = e10, CI.push(l10)), null == r10 ? l10.label = { text: "" } : l10.label = { text: r10 }, null == i10) l10.techn = { text: "" };
  else if ("object" == typeof i10) {
    let [t34, e11] = Object.entries(i10)[0];
    l10[t34] = { text: e11 };
  } else l10.techn = { text: i10 };
  if (null == n10) l10.descr = { text: "" };
  else if ("object" == typeof n10) {
    let [t34, e11] = Object.entries(n10)[0];
    l10[t34] = { text: e11 };
  } else l10.descr = { text: n10 };
  if ("object" == typeof a10) {
    let [t34, e11] = Object.entries(a10)[0];
    l10[t34] = e11;
  } else l10.sprite = a10;
  if ("object" == typeof o10) {
    let [t34, e11] = Object.entries(o10)[0];
    l10[t34] = e11;
  } else l10.tags = o10;
  if ("object" == typeof s10) {
    let [t34, e11] = Object.entries(s10)[0];
    l10[t34] = e11;
  } else l10.link = s10;
  l10.wrap = Se(), l10.typeC4Shape = { text: t33 }, l10.parentBoundary = CR;
}, "addComponent"), CW = iZ(function(t33, e10, r10, i10, n10) {
  if (null === t33 || null === e10) return;
  let a10 = {}, o10 = CO.find((e11) => e11.alias === t33);
  if (o10 && t33 === o10.alias ? a10 = o10 : (a10.alias = t33, CO.push(a10)), null == e10 ? a10.label = { text: "" } : a10.label = { text: e10 }, null == r10) a10.type = { text: "system" };
  else if ("object" == typeof r10) {
    let [t34, e11] = Object.entries(r10)[0];
    a10[t34] = { text: e11 };
  } else a10.type = { text: r10 };
  if ("object" == typeof i10) {
    let [t34, e11] = Object.entries(i10)[0];
    a10[t34] = e11;
  } else a10.tags = i10;
  if ("object" == typeof n10) {
    let [t34, e11] = Object.entries(n10)[0];
    a10[t34] = e11;
  } else a10.link = n10;
  a10.parentBoundary = CR, a10.wrap = Se(), CD = CR, CR = t33, CM.push(CD);
}, "addPersonOrSystemBoundary"), CV = iZ(function(t33, e10, r10, i10, n10) {
  if (null === t33 || null === e10) return;
  let a10 = {}, o10 = CO.find((e11) => e11.alias === t33);
  if (o10 && t33 === o10.alias ? a10 = o10 : (a10.alias = t33, CO.push(a10)), null == e10 ? a10.label = { text: "" } : a10.label = { text: e10 }, null == r10) a10.type = { text: "container" };
  else if ("object" == typeof r10) {
    let [t34, e11] = Object.entries(r10)[0];
    a10[t34] = { text: e11 };
  } else a10.type = { text: r10 };
  if ("object" == typeof i10) {
    let [t34, e11] = Object.entries(i10)[0];
    a10[t34] = e11;
  } else a10.tags = i10;
  if ("object" == typeof n10) {
    let [t34, e11] = Object.entries(n10)[0];
    a10[t34] = e11;
  } else a10.link = n10;
  a10.parentBoundary = CR, a10.wrap = Se(), CD = CR, CR = t33, CM.push(CD);
}, "addContainerBoundary"), CX = iZ(function(t33, e10, r10, i10, n10, a10, o10, s10) {
  if (null === e10 || null === r10) return;
  let l10 = {}, h10 = CO.find((t34) => t34.alias === e10);
  if (h10 && e10 === h10.alias ? l10 = h10 : (l10.alias = e10, CO.push(l10)), null == r10 ? l10.label = { text: "" } : l10.label = { text: r10 }, null == i10) l10.type = { text: "node" };
  else if ("object" == typeof i10) {
    let [t34, e11] = Object.entries(i10)[0];
    l10[t34] = { text: e11 };
  } else l10.type = { text: i10 };
  if (null == n10) l10.descr = { text: "" };
  else if ("object" == typeof n10) {
    let [t34, e11] = Object.entries(n10)[0];
    l10[t34] = { text: e11 };
  } else l10.descr = { text: n10 };
  if ("object" == typeof o10) {
    let [t34, e11] = Object.entries(o10)[0];
    l10[t34] = e11;
  } else l10.tags = o10;
  if ("object" == typeof s10) {
    let [t34, e11] = Object.entries(s10)[0];
    l10[t34] = e11;
  } else l10.link = s10;
  l10.nodeType = t33, l10.parentBoundary = CR, l10.wrap = Se(), CD = CR, CR = e10, CM.push(CD);
}, "addDeploymentNode"), CK = iZ(function() {
  CR = CD, CM.pop(), CD = CM.pop(), CM.push(CD);
}, "popBoundaryParseStack"), CZ = iZ(function(t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10) {
  let d10 = CI.find((t34) => t34.alias === e10);
  if (void 0 !== d10 || void 0 !== (d10 = CO.find((t34) => t34.alias === e10))) {
    if (null != r10) {
      if ("object" == typeof r10) {
        let [t34, e11] = Object.entries(r10)[0];
        d10[t34] = e11;
      } else d10.bgColor = r10;
    }
    if (null != i10) {
      if ("object" == typeof i10) {
        let [t34, e11] = Object.entries(i10)[0];
        d10[t34] = e11;
      } else d10.fontColor = i10;
    }
    if (null != n10) {
      if ("object" == typeof n10) {
        let [t34, e11] = Object.entries(n10)[0];
        d10[t34] = e11;
      } else d10.borderColor = n10;
    }
    if (null != a10) {
      if ("object" == typeof a10) {
        let [t34, e11] = Object.entries(a10)[0];
        d10[t34] = e11;
      } else d10.shadowing = a10;
    }
    if (null != o10) {
      if ("object" == typeof o10) {
        let [t34, e11] = Object.entries(o10)[0];
        d10[t34] = e11;
      } else d10.shape = o10;
    }
    if (null != s10) {
      if ("object" == typeof s10) {
        let [t34, e11] = Object.entries(s10)[0];
        d10[t34] = e11;
      } else d10.sprite = s10;
    }
    if (null != l10) {
      if ("object" == typeof l10) {
        let [t34, e11] = Object.entries(l10)[0];
        d10[t34] = e11;
      } else d10.techn = l10;
    }
    if (null != h10) {
      if ("object" == typeof h10) {
        let [t34, e11] = Object.entries(h10)[0];
        d10[t34] = e11;
      } else d10.legendText = h10;
    }
    if (null != u10) {
      if ("object" == typeof u10) {
        let [t34, e11] = Object.entries(u10)[0];
        d10[t34] = e11;
      } else d10.legendSprite = u10;
    }
  }
}, "updateElStyle"), CQ = iZ(function(t33, e10, r10, i10, n10, a10, o10) {
  let s10 = CP.find((t34) => t34.from === e10 && t34.to === r10);
  if (void 0 !== s10) {
    if (null != i10) {
      if ("object" == typeof i10) {
        let [t34, e11] = Object.entries(i10)[0];
        s10[t34] = e11;
      } else s10.textColor = i10;
    }
    if (null != n10) {
      if ("object" == typeof n10) {
        let [t34, e11] = Object.entries(n10)[0];
        s10[t34] = e11;
      } else s10.lineColor = n10;
    }
    if (null != a10) {
      if ("object" == typeof a10) {
        let [t34, e11] = Object.entries(a10)[0];
        s10[t34] = parseInt(e11);
      } else s10.offsetX = parseInt(a10);
    }
    if (null != o10) {
      if ("object" == typeof o10) {
        let [t34, e11] = Object.entries(o10)[0];
        s10[t34] = parseInt(e11);
      } else s10.offsetY = parseInt(o10);
    }
  }
}, "updateRelStyle"), CJ = iZ(function(t33, e10, r10) {
  let i10 = CF, n10 = Cz;
  i10 = "object" == typeof e10 ? parseInt(Object.values(e10)[0]) : parseInt(e10), n10 = "object" == typeof r10 ? parseInt(Object.values(r10)[0]) : parseInt(r10), i10 >= 1 && (CF = i10), n10 >= 1 && (Cz = n10);
}, "updateLayoutConfig"), C0 = iZ(function() {
  return CF;
}, "getC4ShapeInRow"), C1 = iZ(function() {
  return Cz;
}, "getC4BoundaryInRow"), C2 = iZ(function() {
  return CR;
}, "getCurrentBoundaryParse"), C4 = iZ(function() {
  return CD;
}, "getParentBoundaryParse"), C5 = iZ(function(t33) {
  return null == t33 ? CI : CI.filter((e10) => e10.parentBoundary === t33);
}, "getC4ShapeArray"), C3 = iZ(function(t33) {
  return CI.find((e10) => e10.alias === t33);
}, "getC4Shape"), C6 = iZ(function(t33) {
  return Object.keys(C5(t33));
}, "getC4ShapeKeys"), C7 = iZ(function(t33) {
  return null == t33 ? CO : CO.filter((e10) => e10.parentBoundary === t33);
}, "getBoundaries"), C8 = iZ(function() {
  return CP;
}, "getRels"), C9 = iZ(function() {
  return C$;
}, "getTitle"), St = iZ(function(t33) {
  CB = t33;
}, "setWrap"), Se = iZ(function() {
  return CB;
}, "autoWrap"), Sr = iZ(function() {
  CI = [], CO = [{ alias: "global", label: { text: "global" }, type: { text: "global" }, tags: null, link: null, parentBoundary: "" }], CD = "", CR = "global", CM = [""], CP = [], CM = [""], C$ = "", CB = false, CF = 4, Cz = 2;
}, "clear"), Si = iZ(function(t33) {
  C$ = nj(t33, nM());
}, "setTitle"), Sn = { addPersonOrSystem: CY, addPersonOrSystemBoundary: CW, addContainer: CH, addContainerBoundary: CV, addComponent: Cj, addDeploymentNode: CX, popBoundaryParseStack: CK, addRel: Cq, updateElStyle: CZ, updateRelStyle: CQ, updateLayoutConfig: CJ, autoWrap: Se, setWrap: St, getC4ShapeArray: C5, getC4Shape: C3, getC4ShapeKeys: C6, getBoundaries: C7, getBoundarys: C7, getCurrentBoundaryParse: C2, getParentBoundaryParse: C4, getRels: C8, getTitle: C9, getC4Type: CU, getC4ShapeInRow: C0, getC4BoundaryInRow: C1, setAccTitle: af, getAccTitle: am, getAccDescription: av, setAccDescription: ay, getConfig: iZ(() => nM().c4, "getConfig"), clear: Sr, LINETYPE: { SOLID: 0, DOTTED: 1, NOTE: 2, SOLID_CROSS: 3, DOTTED_CROSS: 4, SOLID_OPEN: 5, DOTTED_OPEN: 6, LOOP_START: 10, LOOP_END: 11, ALT_START: 12, ALT_ELSE: 13, ALT_END: 14, OPT_START: 15, OPT_END: 16, ACTIVE_START: 17, ACTIVE_END: 18, PAR_START: 19, PAR_AND: 20, PAR_END: 21, RECT_START: 22, RECT_END: 23, SOLID_POINT: 24, DOTTED_POINT: 25 }, ARROWTYPE: { FILLED: 0, OPEN: 1 }, PLACEMENT: { LEFTOF: 0, RIGHTOF: 1, OVER: 2 }, setTitle: Si, setC4Type: CG }, Sa = iZ(function(t33, e10) {
  return C_(t33, e10);
}, "drawRect"), So = iZ(function(t33, e10, r10, i10, n10, a10) {
  let o10 = t33.append("image");
  o10.attr("width", e10), o10.attr("height", r10), o10.attr("x", i10), o10.attr("y", n10);
  let s10 = a10.startsWith("data:image/png;base64") ? a10 : ls.sanitizeUrl(a10);
  o10.attr("xlink:href", s10);
}, "drawImage"), Ss = iZ((t33, e10, r10) => {
  let i10 = t33.append("g"), n10 = 0;
  for (let t34 of e10) {
    let e11 = t34.textColor ? t34.textColor : "#444444", a10 = t34.lineColor ? t34.lineColor : "#444444", o10 = t34.offsetX ? parseInt(t34.offsetX) : 0, s10 = t34.offsetY ? parseInt(t34.offsetY) : 0;
    if (0 === n10) {
      let e12 = i10.append("line");
      e12.attr("x1", t34.startPoint.x), e12.attr("y1", t34.startPoint.y), e12.attr("x2", t34.endPoint.x), e12.attr("y2", t34.endPoint.y), e12.attr("stroke-width", "1"), e12.attr("stroke", a10), e12.style("fill", "none"), "rel_b" !== t34.type && e12.attr("marker-end", "url(#arrowhead)"), ("birel" === t34.type || "rel_b" === t34.type) && e12.attr("marker-start", "url(#arrowend)"), n10 = -1;
    } else {
      let e12 = i10.append("path");
      e12.attr("fill", "none").attr("stroke-width", "1").attr("stroke", a10).attr("d", "Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx", t34.startPoint.x).replaceAll("starty", t34.startPoint.y).replaceAll("controlx", t34.startPoint.x + (t34.endPoint.x - t34.startPoint.x) / 2 - (t34.endPoint.x - t34.startPoint.x) / 4).replaceAll("controly", t34.startPoint.y + (t34.endPoint.y - t34.startPoint.y) / 2).replaceAll("stopx", t34.endPoint.x).replaceAll("stopy", t34.endPoint.y)), "rel_b" !== t34.type && e12.attr("marker-end", "url(#arrowhead)"), ("birel" === t34.type || "rel_b" === t34.type) && e12.attr("marker-start", "url(#arrowend)");
    }
    let l10 = r10.messageFont();
    Sv(r10)(t34.label.text, i10, Math.min(t34.startPoint.x, t34.endPoint.x) + Math.abs(t34.endPoint.x - t34.startPoint.x) / 2 + o10, Math.min(t34.startPoint.y, t34.endPoint.y) + Math.abs(t34.endPoint.y - t34.startPoint.y) / 2 + s10, t34.label.width, t34.label.height, { fill: e11 }, l10), t34.techn && "" !== t34.techn.text && (l10 = r10.messageFont(), Sv(r10)("[" + t34.techn.text + "]", i10, Math.min(t34.startPoint.x, t34.endPoint.x) + Math.abs(t34.endPoint.x - t34.startPoint.x) / 2 + o10, Math.min(t34.startPoint.y, t34.endPoint.y) + Math.abs(t34.endPoint.y - t34.startPoint.y) / 2 + r10.messageFontSize + 5 + s10, Math.max(t34.label.width, t34.techn.width), t34.techn.height, { fill: e11, "font-style": "italic" }, l10));
  }
}, "drawRels"), Sl = iZ(function(t33, e10, r10) {
  let i10 = t33.append("g"), n10 = e10.bgColor ? e10.bgColor : "none", a10 = e10.borderColor ? e10.borderColor : "#444444", o10 = e10.fontColor ? e10.fontColor : "black", s10 = { "stroke-width": 1, "stroke-dasharray": "7.0,7.0" };
  e10.nodeType && (s10 = { "stroke-width": 1 }), Sa(i10, { x: e10.x, y: e10.y, fill: n10, stroke: a10, width: e10.width, height: e10.height, rx: 2.5, ry: 2.5, attrs: s10 });
  let l10 = r10.boundaryFont();
  l10.fontWeight = "bold", l10.fontSize = l10.fontSize + 2, l10.fontColor = o10, Sv(r10)(e10.label.text, i10, e10.x, e10.y + e10.label.Y, e10.width, e10.height, { fill: "#444444" }, l10), e10.type && "" !== e10.type.text && ((l10 = r10.boundaryFont()).fontColor = o10, Sv(r10)(e10.type.text, i10, e10.x, e10.y + e10.type.Y, e10.width, e10.height, { fill: "#444444" }, l10)), e10.descr && "" !== e10.descr.text && ((l10 = r10.boundaryFont()).fontSize = l10.fontSize - 2, l10.fontColor = o10, Sv(r10)(e10.descr.text, i10, e10.x, e10.y + e10.descr.Y, e10.width, e10.height, { fill: "#444444" }, l10));
}, "drawBoundary"), Sh = iZ(function(t33, e10, r10) {
  var i10;
  let n10 = e10.bgColor ? e10.bgColor : r10[e10.typeC4Shape.text + "_bg_color"], a10 = e10.borderColor ? e10.borderColor : r10[e10.typeC4Shape.text + "_border_color"], o10 = e10.fontColor ? e10.fontColor : "#FFFFFF", s10 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
  switch (e10.typeC4Shape.text) {
    case "person":
      s10 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
      break;
    case "external_person":
      s10 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";
  }
  let l10 = t33.append("g");
  l10.attr("class", "person-man");
  let h10 = CA();
  switch (e10.typeC4Shape.text) {
    case "person":
    case "external_person":
    case "system":
    case "external_system":
    case "container":
    case "external_container":
    case "component":
    case "external_component":
      h10.x = e10.x, h10.y = e10.y, h10.fill = n10, h10.width = e10.width, h10.height = e10.height, h10.stroke = a10, h10.rx = 2.5, h10.ry = 2.5, h10.attrs = { "stroke-width": 0.5 }, Sa(l10, h10);
      break;
    case "system_db":
    case "external_system_db":
    case "container_db":
    case "external_container_db":
    case "component_db":
    case "external_component_db":
      l10.append("path").attr("fill", n10).attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx", e10.x).replaceAll("starty", e10.y).replaceAll("half", e10.width / 2).replaceAll("height", e10.height)), l10.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx", e10.x).replaceAll("starty", e10.y).replaceAll("half", e10.width / 2));
      break;
    case "system_queue":
    case "external_system_queue":
    case "container_queue":
    case "external_container_queue":
    case "component_queue":
    case "external_component_queue":
      l10.append("path").attr("fill", n10).attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx", e10.x).replaceAll("starty", e10.y).replaceAll("width", e10.width).replaceAll("half", e10.height / 2)), l10.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx", e10.x + e10.width).replaceAll("starty", e10.y).replaceAll("half", e10.height / 2));
  }
  let u10 = Sy(r10, e10.typeC4Shape.text);
  switch (l10.append("text").attr("fill", o10).attr("font-family", u10.fontFamily).attr("font-size", u10.fontSize - 2).attr("font-style", "italic").attr("lengthAdjust", "spacing").attr("textLength", e10.typeC4Shape.width).attr("x", e10.x + e10.width / 2 - e10.typeC4Shape.width / 2).attr("y", e10.y + e10.typeC4Shape.Y).text("<<" + e10.typeC4Shape.text + ">>"), e10.typeC4Shape.text) {
    case "person":
    case "external_person":
      So(l10, 48, 48, e10.x + e10.width / 2 - 24, e10.y + e10.image.Y, s10);
  }
  let d10 = r10[e10.typeC4Shape.text + "Font"]();
  return d10.fontWeight = "bold", d10.fontSize = d10.fontSize + 2, d10.fontColor = o10, Sv(r10)(e10.label.text, l10, e10.x, e10.y + e10.label.Y, e10.width, e10.height, { fill: o10 }, d10), (d10 = r10[e10.typeC4Shape.text + "Font"]()).fontColor = o10, e10.techn && (null === (i10 = e10.techn) || void 0 === i10 ? void 0 : i10.text) !== "" ? Sv(r10)(e10.techn.text, l10, e10.x, e10.y + e10.techn.Y, e10.width, e10.height, { fill: o10, "font-style": "italic" }, d10) : e10.type && "" !== e10.type.text && Sv(r10)(e10.type.text, l10, e10.x, e10.y + e10.type.Y, e10.width, e10.height, { fill: o10, "font-style": "italic" }, d10), e10.descr && "" !== e10.descr.text && ((d10 = r10.personFont()).fontColor = o10, Sv(r10)(e10.descr.text, l10, e10.x, e10.y + e10.descr.Y, e10.width, e10.height, { fill: o10 }, d10)), e10.height;
}, "drawC4Shape"), Sc = iZ(function(t33) {
  t33.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr("d", "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z");
}, "insertDatabaseIcon"), Su = iZ(function(t33) {
  t33.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z");
}, "insertComputerIcon"), Sd = iZ(function(t33) {
  t33.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z");
}, "insertClockIcon"), Sp = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z");
}, "insertArrowHead"), Sg = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "arrowend").attr("refX", 1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 10 0 L 0 5 L 10 10 z");
}, "insertArrowEnd"), Sf = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "filled-head").attr("refX", 18).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "insertArrowFilledHead"), Sm = iZ(function(t33) {
  let e10 = t33.append("defs").append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 16).attr("refY", 4);
  e10.append("path").attr("fill", "black").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 9,2 V 6 L16,4 Z"), e10.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 0,1 L 6,7 M 6,1 L 0,7");
}, "insertArrowCrossHead"), Sy = iZ((t33, e10) => ({ fontFamily: t33[e10 + "FontFamily"], fontSize: t33[e10 + "FontSize"], fontWeight: t33[e10 + "FontWeight"] }), "getC4ShapeFont"), Sv = function() {
  function t33(t34, e11, r11, n10, a10, o10, s10) {
    i10(e11.append("text").attr("x", r11 + a10 / 2).attr("y", n10 + o10 / 2 + 5).style("text-anchor", "middle").text(t34), s10);
  }
  function e10(t34, e11, r11, n10, a10, o10, s10, l10) {
    let { fontSize: h10, fontFamily: u10, fontWeight: d10 } = l10, p10 = t34.split(ae.lineBreakRegex);
    for (let t35 = 0; t35 < p10.length; t35++) {
      let o11 = t35 * h10 - h10 * (p10.length - 1) / 2, l11 = e11.append("text").attr("x", r11 + a10 / 2).attr("y", n10).style("text-anchor", "middle").attr("dominant-baseline", "middle").style("font-size", h10).style("font-weight", d10).style("font-family", u10);
      l11.append("tspan").attr("dy", o11).text(p10[t35]).attr("alignment-baseline", "mathematical"), i10(l11, s10);
    }
  }
  function r10(t34, r11, n10, a10, o10, s10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", n10).attr("y", a10).attr("width", o10).attr("height", s10).append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(t34), e10(t34, u10, n10, a10, o10, s10, l10, h10), i10(d10, l10);
  }
  function i10(t34, e11) {
    for (let r11 in e11) e11.hasOwnProperty(r11) && t34.attr(r11, e11[r11]);
  }
  return iZ(t33, "byText"), iZ(e10, "byTspan"), iZ(r10, "byFo"), iZ(i10, "_setTextAttrs"), function(i11) {
    return "fo" === i11.textPlacement ? r10 : "old" === i11.textPlacement ? t33 : e10;
  };
}(), Sx = { drawBoundary: Sl, drawC4Shape: Sh, drawRels: Ss, insertArrowHead: Sp, insertArrowEnd: Sg, insertArrowFilledHead: Sf, insertArrowCrossHead: Sm, insertDatabaseIcon: Sc, insertComputerIcon: Su, insertClockIcon: Sd }, Sb = 0, Sw = 0, Sk = 4, S_ = 2;
CN.yy = Sn;
var ST = {}, SE = (_j2 = class {
  constructor(t33) {
    this.name = "", this.data = {}, this.data.startx = void 0, this.data.stopx = void 0, this.data.starty = void 0, this.data.stopy = void 0, this.data.widthLimit = void 0, this.nextData = {}, this.nextData.startx = void 0, this.nextData.stopx = void 0, this.nextData.starty = void 0, this.nextData.stopy = void 0, this.nextData.cnt = 0, SC(t33.db.getConfig());
  }
  setData(t33, e10, r10, i10) {
    this.nextData.startx = this.data.startx = t33, this.nextData.stopx = this.data.stopx = e10, this.nextData.starty = this.data.starty = r10, this.nextData.stopy = this.data.stopy = i10;
  }
  updateVal(t33, e10, r10, i10) {
    void 0 === t33[e10] ? t33[e10] = r10 : t33[e10] = i10(r10, t33[e10]);
  }
  insert(t33) {
    this.nextData.cnt = this.nextData.cnt + 1;
    let e10 = this.nextData.startx === this.nextData.stopx ? this.nextData.stopx + t33.margin : this.nextData.stopx + 2 * t33.margin, r10 = e10 + t33.width, i10 = this.nextData.starty + 2 * t33.margin, n10 = i10 + t33.height;
    (e10 >= this.data.widthLimit || r10 >= this.data.widthLimit || this.nextData.cnt > Sk) && (e10 = this.nextData.startx + t33.margin + ST.nextLinePaddingX, i10 = this.nextData.stopy + 2 * t33.margin, this.nextData.stopx = r10 = e10 + t33.width, this.nextData.starty = this.nextData.stopy, this.nextData.stopy = n10 = i10 + t33.height, this.nextData.cnt = 1), t33.x = e10, t33.y = i10, this.updateVal(this.data, "startx", e10, Math.min), this.updateVal(this.data, "starty", i10, Math.min), this.updateVal(this.data, "stopx", r10, Math.max), this.updateVal(this.data, "stopy", n10, Math.max), this.updateVal(this.nextData, "startx", e10, Math.min), this.updateVal(this.nextData, "starty", i10, Math.min), this.updateVal(this.nextData, "stopx", r10, Math.max), this.updateVal(this.nextData, "stopy", n10, Math.max);
  }
  init(t33) {
    this.name = "", this.data = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0, widthLimit: void 0 }, this.nextData = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0, cnt: 0 }, SC(t33.db.getConfig());
  }
  bumpLastMargin(t33) {
    this.data.stopx += t33, this.data.stopy += t33;
  }
}, _n11 = new WeakMap(), __privateAdd(_j2, _n11, iZ(_j2, "Bounds")), _j2), SC = iZ(function(t33) {
  nr(ST, t33), t33.fontFamily && (ST.personFontFamily = ST.systemFontFamily = ST.messageFontFamily = t33.fontFamily), t33.fontSize && (ST.personFontSize = ST.systemFontSize = ST.messageFontSize = t33.fontSize), t33.fontWeight && (ST.personFontWeight = ST.systemFontWeight = ST.messageFontWeight = t33.fontWeight);
}, "setConf"), SS = iZ((t33, e10) => ({ fontFamily: t33[e10 + "FontFamily"], fontSize: t33[e10 + "FontSize"], fontWeight: t33[e10 + "FontWeight"] }), "c4ShapeFont"), SA = iZ((t33) => ({ fontFamily: t33.boundaryFontFamily, fontSize: t33.boundaryFontSize, fontWeight: t33.boundaryFontWeight }), "boundaryFont"), SL = iZ((t33) => ({ fontFamily: t33.messageFontFamily, fontSize: t33.messageFontSize, fontWeight: t33.messageFontWeight }), "messageFont");
function SN(t33, e10, r10, i10, n10) {
  if (!e10[t33].width) {
    if (r10) e10[t33].text = gp(e10[t33].text, n10, i10), e10[t33].textLines = e10[t33].text.split(ae.lineBreakRegex).length, e10[t33].width = n10, e10[t33].height = gf(e10[t33].text, i10);
    else {
      let r11 = e10[t33].text.split(ae.lineBreakRegex);
      e10[t33].textLines = r11.length;
      let n11 = 0;
      for (let a10 of (e10[t33].height = 0, e10[t33].width = 0, r11)) e10[t33].width = Math.max(gm(a10, i10), e10[t33].width), n11 = gf(a10, i10), e10[t33].height = e10[t33].height + n11;
    }
  }
}
iZ(SN, "calcC4ShapeTextWH");
var SI = iZ(function(t33, e10, r10) {
  e10.x = r10.data.startx, e10.y = r10.data.starty, e10.width = r10.data.stopx - r10.data.startx, e10.height = r10.data.stopy - r10.data.starty, e10.label.y = ST.c4ShapeMargin - 35;
  let i10 = e10.wrap && ST.wrap, n10 = SA(ST);
  n10.fontSize = n10.fontSize + 2, n10.fontWeight = "bold";
  let a10 = gm(e10.label.text, n10);
  SN("label", e10, i10, n10, a10), Sx.drawBoundary(t33, e10, ST);
}, "drawBoundary"), SM = iZ(function(t33, e10, r10, i10) {
  let n10 = 0;
  for (let a10 of i10) {
    n10 = 0;
    let i11 = r10[a10], o10 = SS(ST, i11.typeC4Shape.text);
    switch (o10.fontSize = o10.fontSize - 2, i11.typeC4Shape.width = gm("«" + i11.typeC4Shape.text + "»", o10), i11.typeC4Shape.height = o10.fontSize + 2, i11.typeC4Shape.Y = ST.c4ShapePadding, n10 = i11.typeC4Shape.Y + i11.typeC4Shape.height - 4, i11.image = { width: 0, height: 0, Y: 0 }, i11.typeC4Shape.text) {
      case "person":
      case "external_person":
        i11.image.width = 48, i11.image.height = 48, i11.image.Y = n10, n10 = i11.image.Y + i11.image.height;
    }
    i11.sprite && (i11.image.width = 48, i11.image.height = 48, i11.image.Y = n10, n10 = i11.image.Y + i11.image.height);
    let s10 = i11.wrap && ST.wrap, l10 = ST.width - 2 * ST.c4ShapePadding, h10 = SS(ST, i11.typeC4Shape.text);
    if (h10.fontSize = h10.fontSize + 2, h10.fontWeight = "bold", SN("label", i11, s10, h10, l10), i11.label.Y = n10 + 8, n10 = i11.label.Y + i11.label.height, i11.type && "" !== i11.type.text) {
      i11.type.text = "[" + i11.type.text + "]";
      let t34 = SS(ST, i11.typeC4Shape.text);
      SN("type", i11, s10, t34, l10), i11.type.Y = n10 + 5, n10 = i11.type.Y + i11.type.height;
    } else if (i11.techn && "" !== i11.techn.text) {
      i11.techn.text = "[" + i11.techn.text + "]";
      let t34 = SS(ST, i11.techn.text);
      SN("techn", i11, s10, t34, l10), i11.techn.Y = n10 + 5, n10 = i11.techn.Y + i11.techn.height;
    }
    let u10 = n10, d10 = i11.label.width;
    if (i11.descr && "" !== i11.descr.text) {
      let t34 = SS(ST, i11.typeC4Shape.text);
      SN("descr", i11, s10, t34, l10), i11.descr.Y = n10 + 20, n10 = i11.descr.Y + i11.descr.height, d10 = Math.max(i11.label.width, i11.descr.width), u10 = n10 - 5 * i11.descr.textLines;
    }
    d10 += ST.c4ShapePadding, i11.width = Math.max(i11.width || ST.width, d10, ST.width), i11.height = Math.max(i11.height || ST.height, u10, ST.height), i11.margin = i11.margin || ST.c4ShapeMargin, t33.insert(i11), Sx.drawC4Shape(e10, i11, ST);
  }
  t33.bumpLastMargin(ST.c4ShapeMargin);
}, "drawC4ShapeArray"), SR = (_k2 = class {
  constructor(t33, e10) {
    this.x = t33, this.y = e10;
  }
}, _n12 = new WeakMap(), __privateAdd(_k2, _n12, iZ(_k2, "Point")), _k2), SD = iZ(function(t33, e10) {
  let r10 = t33.x, i10 = t33.y, n10 = e10.x, a10 = e10.y, o10 = r10 + t33.width / 2, s10 = i10 + t33.height / 2, l10 = Math.abs(r10 - n10), h10 = Math.abs(i10 - a10), u10 = h10 / l10, d10 = t33.height / t33.width, p10 = null;
  return i10 == a10 && r10 < n10 ? p10 = new SR(r10 + t33.width, s10) : i10 == a10 && r10 > n10 ? p10 = new SR(r10, s10) : r10 == n10 && i10 < a10 ? p10 = new SR(o10, i10 + t33.height) : r10 == n10 && i10 > a10 && (p10 = new SR(o10, i10)), r10 > n10 && i10 < a10 ? p10 = d10 >= u10 ? new SR(r10, s10 + u10 * t33.width / 2) : new SR(o10 - l10 / h10 * t33.height / 2, i10 + t33.height) : r10 < n10 && i10 < a10 ? p10 = d10 >= u10 ? new SR(r10 + t33.width, s10 + u10 * t33.width / 2) : new SR(o10 + l10 / h10 * t33.height / 2, i10 + t33.height) : r10 < n10 && i10 > a10 ? p10 = d10 >= u10 ? new SR(r10 + t33.width, s10 - u10 * t33.width / 2) : new SR(o10 + t33.height / 2 * l10 / h10, i10) : r10 > n10 && i10 > a10 && (p10 = d10 >= u10 ? new SR(r10, s10 - t33.width / 2 * u10) : new SR(o10 - t33.height / 2 * l10 / h10, i10)), p10;
}, "getIntersectPoint"), SO = iZ(function(t33, e10) {
  let r10 = { x: 0, y: 0 };
  r10.x = e10.x + e10.width / 2, r10.y = e10.y + e10.height / 2;
  let i10 = SD(t33, r10);
  return r10.x = t33.x + t33.width / 2, r10.y = t33.y + t33.height / 2, { startPoint: i10, endPoint: SD(e10, r10) };
}, "getIntersectPoints"), SP = iZ(function(t33, e10, r10, i10) {
  let n10 = 0;
  for (let t34 of e10) {
    n10 += 1;
    let e11 = t34.wrap && ST.wrap, a10 = SL(ST);
    "C4Dynamic" === i10.db.getC4Type() && (t34.label.text = n10 + ": " + t34.label.text);
    let o10 = gm(t34.label.text, a10);
    SN("label", t34, e11, a10, o10), t34.techn && "" !== t34.techn.text && (o10 = gm(t34.techn.text, a10), SN("techn", t34, e11, a10, o10)), t34.descr && "" !== t34.descr.text && (o10 = gm(t34.descr.text, a10), SN("descr", t34, e11, a10, o10));
    let s10 = SO(r10(t34.from), r10(t34.to));
    t34.startPoint = s10.startPoint, t34.endPoint = s10.endPoint;
  }
  Sx.drawRels(t33, e10, ST);
}, "drawRels");
function S$(t33, e10, r10, i10, n10) {
  let a10 = new SE(n10);
  for (let [o10, s10] of (a10.data.widthLimit = r10.data.widthLimit / Math.min(S_, i10.length), i10.entries())) {
    let i11 = 0;
    s10.image = { width: 0, height: 0, Y: 0 }, s10.sprite && (s10.image.width = 48, s10.image.height = 48, s10.image.Y = i11, i11 = s10.image.Y + s10.image.height);
    let l10 = s10.wrap && ST.wrap, h10 = SA(ST);
    if (h10.fontSize = h10.fontSize + 2, h10.fontWeight = "bold", SN("label", s10, l10, h10, a10.data.widthLimit), s10.label.Y = i11 + 8, i11 = s10.label.Y + s10.label.height, s10.type && "" !== s10.type.text && (s10.type.text = "[" + s10.type.text + "]", SN("type", s10, l10, SA(ST), a10.data.widthLimit), s10.type.Y = i11 + 5, i11 = s10.type.Y + s10.type.height), s10.descr && "" !== s10.descr.text) {
      let t34 = SA(ST);
      t34.fontSize = t34.fontSize - 2, SN("descr", s10, l10, t34, a10.data.widthLimit), s10.descr.Y = i11 + 20, i11 = s10.descr.Y + s10.descr.height;
    }
    if (0 == o10 || o10 % S_ == 0) {
      let t34 = r10.data.startx + ST.diagramMarginX, e11 = r10.data.stopy + ST.diagramMarginY + i11;
      a10.setData(t34, t34, e11, e11);
    } else {
      let t34 = a10.data.stopx !== a10.data.startx ? a10.data.stopx + ST.diagramMarginX : a10.data.startx, e11 = a10.data.starty;
      a10.setData(t34, t34, e11, e11);
    }
    a10.name = s10.alias;
    let u10 = n10.db.getC4ShapeArray(s10.alias), d10 = n10.db.getC4ShapeKeys(s10.alias);
    d10.length > 0 && SM(a10, t33, u10, d10), e10 = s10.alias;
    let p10 = n10.db.getBoundarys(e10);
    p10.length > 0 && S$(t33, e10, a10, p10, n10), "global" !== s10.alias && SI(t33, s10, a10), r10.data.stopy = Math.max(a10.data.stopy + ST.c4ShapeMargin, r10.data.stopy), r10.data.stopx = Math.max(a10.data.stopx + ST.c4ShapeMargin, r10.data.stopx), Sb = Math.max(Sb, r10.data.stopx), Sw = Math.max(Sw, r10.data.stopy);
  }
}
iZ(S$, "drawInsideBoundary");
var SB = { drawPersonOrSystemArray: SM, drawBoundary: SI, setConf: SC, draw: iZ(function(t33, e10, r10, i10) {
  let n10;
  ST = nM().c4;
  let a10 = nM().securityLevel;
  "sandbox" === a10 && (n10 = hl("#i" + e10));
  let o10 = "sandbox" === a10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body"), s10 = i10.db;
  i10.db.setWrap(ST.wrap), Sk = s10.getC4ShapeInRow(), S_ = s10.getC4BoundaryInRow(), i0.debug(`C:${JSON.stringify(ST, null, 2)}`);
  let l10 = "sandbox" === a10 ? o10.select(`[id="${e10}"]`) : hl(`[id="${e10}"]`);
  Sx.insertComputerIcon(l10), Sx.insertDatabaseIcon(l10), Sx.insertClockIcon(l10);
  let h10 = new SE(i10);
  h10.setData(ST.diagramMarginX, ST.diagramMarginX, ST.diagramMarginY, ST.diagramMarginY), h10.data.widthLimit = screen.availWidth, Sb = ST.diagramMarginX, Sw = ST.diagramMarginY;
  let u10 = i10.db.getTitle();
  S$(l10, "", h10, i10.db.getBoundarys(""), i10), Sx.insertArrowHead(l10), Sx.insertArrowEnd(l10), Sx.insertArrowCrossHead(l10), Sx.insertArrowFilledHead(l10), SP(l10, i10.db.getRels(), i10.db.getC4Shape, i10), h10.data.stopx = Sb, h10.data.stopy = Sw;
  let d10 = h10.data, p10 = d10.stopy - d10.starty + 2 * ST.diagramMarginY, g10 = d10.stopx - d10.startx + 2 * ST.diagramMarginX;
  u10 && l10.append("text").text(u10).attr("x", (d10.stopx - d10.startx) / 2 - 4 * ST.diagramMarginX).attr("y", d10.starty + ST.diagramMarginY), an(l10, p10, g10, ST.useMaxWidth);
  let f10 = u10 ? 60 : 0;
  l10.attr("viewBox", d10.startx - ST.diagramMarginX + " -" + (ST.diagramMarginY + f10) + " " + g10 + " " + (p10 + f10)), i0.debug("models:", d10);
}, "draw") };
let SF = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: CN, db: Sn, renderer: SB, styles: iZ((t33) => `.person {
    stroke: ${t33.personBorder};
    fill: ${t33.personBkg};
  }
`, "getStyles"), init: iZ((t33) => {
  let { c4: e10, wrap: r10 } = t33;
  SB.setConf(e10), Sn.setWrap(r10);
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var Sz = iZ((t33, e10) => {
  let r10;
  return "sandbox" === e10 && (r10 = hl("#i" + t33)), ("sandbox" === e10 ? hl(r10.nodes()[0].contentDocument.body) : hl("body")).select(`[id="${t33}"]`);
}, "getDiagramElement"), SU = iZ((t33, e10, r10, i10) => {
  t33.attr("class", r10);
  let { width: n10, height: a10, x: o10, y: s10 } = SG(t33, e10);
  an(t33, a10, n10, i10);
  let l10 = Sq(o10, s10, n10, a10, e10);
  t33.attr("viewBox", l10), i0.debug(`viewBox configured: ${l10} with padding: ${e10}`);
}, "setupViewPortForSVG"), SG = iZ((t33, e10) => {
  var r10;
  let i10 = (null === (r10 = t33.node()) || void 0 === r10 ? void 0 : r10.getBBox()) || { width: 0, height: 0, x: 0, y: 0 };
  return { width: i10.width + 2 * e10, height: i10.height + 2 * e10, x: i10.x, y: i10.y };
}, "calculateDimensionsWithPadding"), Sq = iZ((t33, e10, r10, i10, n10) => `${t33 - n10} ${e10 - n10} ${r10} ${i10}`, "createViewBox"), SY = 0, SH = nM(), Sj = /* @__PURE__ */ new Map(), SW = [], SV = /* @__PURE__ */ new Map(), SX = [], SK = /* @__PURE__ */ new Map(), SZ = /* @__PURE__ */ new Map(), SQ = 0, SJ = true, S0 = [], S1 = iZ((t33) => ae.sanitizeText(t33, SH), "sanitizeText"), S2 = iZ(function(t33) {
  for (let e10 of Sj.values()) if (e10.id === t33) return e10.domId;
  return t33;
}, "lookUpDomId"), S4 = iZ(function(t33, e10, r10, i10, n10, a10) {
  let o10, s10 = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : {}, l10 = arguments.length > 7 ? arguments[7] : void 0;
  if (!t33 || 0 === t33.trim().length) return;
  let h10 = Sj.get(t33);
  if (void 0 === h10 && (h10 = { id: t33, labelType: "text", domId: "flowchart-" + t33 + "-" + SY, styles: [], classes: [] }, Sj.set(t33, h10)), SY++, void 0 !== e10 ? (SH = nM(), o10 = S1(e10.text.trim()), h10.labelType = e10.type, o10.startsWith('"') && o10.endsWith('"') && (o10 = o10.substring(1, o10.length - 1)), h10.text = o10) : void 0 === h10.text && (h10.text = t33), void 0 !== r10 && (h10.type = r10), null != i10 && i10.forEach(function(t34) {
    h10.styles.push(t34);
  }), null != n10 && n10.forEach(function(t34) {
    h10.classes.push(t34);
  }), void 0 !== a10 && (h10.dir = a10), void 0 === h10.props ? h10.props = s10 : void 0 !== s10 && Object.assign(h10.props, s10), void 0 !== l10) {
    var u10, d10;
    let e11 = su(l10.includes("\n") ? l10 + "\n" : "{\n" + l10 + "\n}", { schema: oi });
    if (e11.shape) {
      if (e11.shape !== e11.shape.toLowerCase() || e11.shape.includes("_")) throw Error(`No such shape: ${e11.shape}. Shape names should be lowercase.`);
      if (!vd(e11.shape)) throw Error(`No such shape: ${e11.shape}.`);
      h10.type = null == e11 ? void 0 : e11.shape;
    }
    (null == e11 ? void 0 : e11.label) && (h10.text = null == e11 ? void 0 : e11.label), (null == e11 ? void 0 : e11.icon) && (h10.icon = null == e11 ? void 0 : e11.icon, (null === (u10 = e11.label) || void 0 === u10 ? void 0 : u10.trim()) || h10.text !== t33 || (h10.text = "")), (null == e11 ? void 0 : e11.form) && (h10.form = null == e11 ? void 0 : e11.form), (null == e11 ? void 0 : e11.pos) && (h10.pos = null == e11 ? void 0 : e11.pos), (null == e11 ? void 0 : e11.img) && (h10.img = null == e11 ? void 0 : e11.img, (null === (d10 = e11.label) || void 0 === d10 ? void 0 : d10.trim()) || h10.text !== t33 || (h10.text = "")), (null == e11 ? void 0 : e11.constraint) && (h10.constraint = e11.constraint), e11.w && (h10.assetWidth = Number(e11.w)), e11.h && (h10.assetHeight = Number(e11.h));
  }
}, "addVertex"), S5 = iZ(function(t33, e10, r10) {
  var i10;
  let n10 = { start: t33, end: e10, type: void 0, text: "", labelType: "text" };
  i0.info("abc78 Got edge...", n10);
  let a10 = r10.text;
  if (void 0 !== a10 && (n10.text = S1(a10.text.trim()), n10.text.startsWith('"') && n10.text.endsWith('"') && (n10.text = n10.text.substring(1, n10.text.length - 1)), n10.labelType = a10.type), void 0 !== r10 && (n10.type = r10.type, n10.stroke = r10.stroke, n10.length = r10.length > 10 ? 10 : r10.length), SW.length < (null !== (i10 = SH.maxEdges) && void 0 !== i10 ? i10 : 500)) i0.info("Pushing edge..."), SW.push(n10);
  else throw Error(`Edge limit exceeded. ${SW.length} edges found, but the limit is ${SH.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`);
}, "addSingleLink"), S3 = iZ(function(t33, e10, r10) {
  for (let i10 of (i0.info("addLink", t33, e10, r10), t33)) for (let t34 of e10) S5(i10, t34, r10);
}, "addLink"), S6 = iZ(function(t33, e10) {
  t33.forEach(function(t34) {
    "default" === t34 ? SW.defaultInterpolate = e10 : SW[t34].interpolate = e10;
  });
}, "updateLinkInterpolate"), S7 = iZ(function(t33, e10) {
  t33.forEach(function(t34) {
    if ("number" == typeof t34 && t34 >= SW.length) throw Error(`The index ${t34} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${SW.length - 1}. (Help: Ensure that the index is within the range of existing edges.)`);
    if ("default" === t34) SW.defaultStyle = e10;
    else {
      var r10, i10, n10, a10, o10, s10, l10;
      SW[t34].style = e10, !((null !== (o10 = null === (i10 = SW[t34]) || void 0 === i10 ? void 0 : null === (r10 = i10.style) || void 0 === r10 ? void 0 : r10.length) && void 0 !== o10 ? o10 : 0) > 0) || (null === (a10 = SW[t34]) || void 0 === a10 ? void 0 : null === (n10 = a10.style) || void 0 === n10 ? void 0 : n10.some((t35) => null == t35 ? void 0 : t35.startsWith("fill"))) || null === (l10 = SW[t34]) || void 0 === l10 || null === (s10 = l10.style) || void 0 === s10 || s10.push("fill:none");
    }
  });
}, "updateLink"), S8 = iZ(function(t33, e10) {
  t33.split(",").forEach(function(t34) {
    let r10 = SV.get(t34);
    void 0 === r10 && (r10 = { id: t34, styles: [], textStyles: [] }, SV.set(t34, r10)), null != e10 && e10.forEach(function(t35) {
      if (/color/.exec(t35)) {
        let e11 = t35.replace("fill", "bgFill");
        r10.textStyles.push(e11);
      }
      r10.styles.push(t35);
    });
  });
}, "addClass"), S9 = iZ(function(t33) {
  JR = t33, /.*</.exec(JR) && (JR = "RL"), /.*\^/.exec(JR) && (JR = "BT"), /.*>/.exec(JR) && (JR = "LR"), /.*v/.exec(JR) && (JR = "TB"), "TD" === JR && (JR = "TB");
}, "setDirection"), At = iZ(function(t33, e10) {
  for (let r10 of t33.split(",")) {
    let t34 = Sj.get(r10);
    t34 && t34.classes.push(e10);
    let i10 = SK.get(r10);
    i10 && i10.classes.push(e10);
  }
}, "setClass"), Ae = iZ(function(t33, e10) {
  if (void 0 !== e10) for (let r10 of (e10 = S1(e10), t33.split(","))) SZ.set("gen-1" === JD ? S2(r10) : r10, e10);
}, "setTooltip"), Ar = iZ(function(t33, e10, r10) {
  let i10 = S2(t33);
  if ("loose" !== nM().securityLevel || void 0 === e10) return;
  let n10 = [];
  if ("string" == typeof r10) {
    n10 = r10.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
    for (let t34 = 0; t34 < n10.length; t34++) {
      let e11 = n10[t34].trim();
      e11.startsWith('"') && e11.endsWith('"') && (e11 = e11.substr(1, e11.length - 2)), n10[t34] = e11;
    }
  }
  0 === n10.length && n10.push(t33);
  let a10 = Sj.get(t33);
  a10 && (a10.haveCallback = true, S0.push(function() {
    let t34 = document.querySelector(`[id="${i10}"]`);
    null !== t34 && t34.addEventListener("click", function() {
      gT.runFunc(e10, ...n10);
    }, false);
  }));
}, "setClickFun"), Ai = iZ(function(t33, e10, r10) {
  t33.split(",").forEach(function(t34) {
    let i10 = Sj.get(t34);
    void 0 !== i10 && (i10.link = gT.formatUrl(e10, SH), i10.linkTarget = r10);
  }), At(t33, "clickable");
}, "setLink"), An = iZ(function(t33) {
  return SZ.get(t33);
}, "getTooltip"), Aa = iZ(function(t33, e10, r10) {
  t33.split(",").forEach(function(t34) {
    Ar(t34, e10, r10);
  }), At(t33, "clickable");
}, "setClickEvent"), Ao = iZ(function(t33) {
  S0.forEach(function(e10) {
    e10(t33);
  });
}, "bindFunctions"), As = iZ(function() {
  return JR.trim();
}, "getDirection"), Al = iZ(function() {
  return Sj;
}, "getVertices"), Ah = iZ(function() {
  return SW;
}, "getEdges"), Ac = iZ(function() {
  return SV;
}, "getClasses"), Au = iZ(function(t33) {
  let e10 = hl(".mermaidTooltip");
  null === (e10._groups || e10)[0][0] && (e10 = hl("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0)), hl(t33).select("svg").selectAll("g.node").on("mouseover", function() {
    let t34 = hl(this);
    if (null === t34.attr("title")) return;
    let r10 = null === this || void 0 === this ? void 0 : this.getBoundingClientRect();
    e10.transition().duration(200).style("opacity", ".9"), e10.text(t34.attr("title")).style("left", window.scrollX + r10.left + (r10.right - r10.left) / 2 + "px").style("top", window.scrollY + r10.bottom + "px"), e10.html(e10.html().replace(/&lt;br\/&gt;/g, "<br/>")), t34.classed("hover", true);
  }).on("mouseout", function() {
    e10.transition().duration(500).style("opacity", 0), hl(this).classed("hover", false);
  });
}, "setupToolTips");
S0.push(Au);
var Ad = iZ(function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "gen-1";
  Sj = /* @__PURE__ */ new Map(), SV = /* @__PURE__ */ new Map(), SW = [], S0 = [Au], SX = [], SK = /* @__PURE__ */ new Map(), SQ = 0, SZ = /* @__PURE__ */ new Map(), SJ = true, JD = t33, SH = nM(), ag();
}, "clear"), Ap = iZ((t33) => {
  JD = t33 || "gen-2";
}, "setGen"), Ag = iZ(function() {
  return "fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;";
}, "defaultStyle"), Af = iZ(function(t33, e10, r10) {
  let i10 = t33.text.trim(), n10 = r10.text;
  function a10(t34) {
    let e11;
    let r11 = { boolean: {}, number: {}, string: {} }, i11 = [];
    return { nodeList: t34.filter(function(t35) {
      let n11 = typeof t35;
      return t35.stmt && "dir" === t35.stmt ? (e11 = t35.value, false) : "" !== t35.trim() && (n11 in r11 ? !r11[n11].hasOwnProperty(t35) && (r11[n11][t35] = true) : !i11.includes(t35) && i11.push(t35));
    }), dir: e11 };
  }
  t33 === r10 && /\s/.exec(r10.text) && (i10 = void 0), iZ(a10, "uniq");
  let { nodeList: o10, dir: s10 } = a10(e10.flat());
  if ("gen-1" === JD) for (let t34 = 0; t34 < o10.length; t34++) o10[t34] = S2(o10[t34]);
  i10 = null != i10 ? i10 : "subGraph" + SQ, n10 = S1(n10 = n10 || ""), SQ += 1;
  let l10 = { id: i10, nodes: o10, title: n10.trim(), classes: [], dir: s10, labelType: r10.type };
  return i0.info("Adding", l10.id, l10.nodes, l10.dir), l10.nodes = AL(l10, SX).nodes, SX.push(l10), SK.set(i10, l10), i10;
}, "addSubGraph"), Am = iZ(function(t33) {
  for (let [e10, r10] of SX.entries()) if (r10.id === t33) return e10;
  return -1;
}, "getPosForId"), Ay = -1, Av = [], Ax = iZ(function(t33, e10) {
  let r10 = SX[e10].nodes;
  if ((Ay += 1) > 2e3) return { result: false, count: 0 };
  if (Av[Ay] = e10, SX[e10].id === t33) return { result: true, count: 0 };
  let i10 = 0, n10 = 1;
  for (; i10 < r10.length; ) {
    let e11 = Am(r10[i10]);
    if (e11 >= 0) {
      let r11 = Ax(t33, e11);
      if (r11.result) return { result: true, count: n10 + r11.count };
      n10 += r11.count;
    }
    i10 += 1;
  }
  return { result: false, count: n10 };
}, "indexNodes2"), Ab = iZ(function(t33) {
  return Av[t33];
}, "getDepthFirstPos"), Aw = iZ(function() {
  Ay = -1, SX.length > 0 && Ax("none", SX.length - 1);
}, "indexNodes"), Ak = iZ(function() {
  return SX;
}, "getSubGraphs"), A_ = iZ(() => !!SJ && (SJ = false, true), "firstGraph"), AT = iZ((t33) => {
  let e10 = t33.trim(), r10 = "arrow_open";
  switch (e10[0]) {
    case "<":
      r10 = "arrow_point", e10 = e10.slice(1);
      break;
    case "x":
      r10 = "arrow_cross", e10 = e10.slice(1);
      break;
    case "o":
      r10 = "arrow_circle", e10 = e10.slice(1);
  }
  let i10 = "normal";
  return e10.includes("=") && (i10 = "thick"), e10.includes(".") && (i10 = "dotted"), { type: r10, stroke: i10 };
}, "destructStartLink"), AE = iZ((t33, e10) => {
  let r10 = e10.length, i10 = 0;
  for (let n10 = 0; n10 < r10; ++n10) e10[n10] === t33 && ++i10;
  return i10;
}, "countChar"), AC = iZ((t33) => {
  let e10 = t33.trim(), r10 = e10.slice(0, -1), i10 = "arrow_open";
  switch (e10.slice(-1)) {
    case "x":
      i10 = "arrow_cross", e10.startsWith("x") && (i10 = "double_" + i10, r10 = r10.slice(1));
      break;
    case ">":
      i10 = "arrow_point", e10.startsWith("<") && (i10 = "double_" + i10, r10 = r10.slice(1));
      break;
    case "o":
      i10 = "arrow_circle", e10.startsWith("o") && (i10 = "double_" + i10, r10 = r10.slice(1));
  }
  let n10 = "normal", a10 = r10.length - 1;
  r10.startsWith("=") && (n10 = "thick"), r10.startsWith("~") && (n10 = "invisible");
  let o10 = AE(".", r10);
  return o10 && (n10 = "dotted", a10 = o10), { type: i10, stroke: n10, length: a10 };
}, "destructEndLink"), AS = iZ((t33, e10) => {
  let r10;
  let i10 = AC(t33);
  if (e10) {
    if ((r10 = AT(e10)).stroke !== i10.stroke) return { type: "INVALID", stroke: "INVALID" };
    if ("arrow_open" === r10.type) r10.type = i10.type;
    else {
      if (r10.type !== i10.type) return { type: "INVALID", stroke: "INVALID" };
      r10.type = "double_" + r10.type;
    }
    return "double_arrow" === r10.type && (r10.type = "double_arrow_point"), r10.length = i10.length, r10;
  }
  return i10;
}, "destructLink"), AA = iZ((t33, e10) => {
  for (let r10 of t33) if (r10.nodes.includes(e10)) return true;
  return false;
}, "exists"), AL = iZ((t33, e10) => {
  let r10 = [];
  return t33.nodes.forEach((i10, n10) => {
    AA(e10, i10) || r10.push(t33.nodes[n10]);
  }), { nodes: r10 };
}, "makeUniq"), AN = iZ((t33) => {
  if (t33.img) return "imageSquare";
  if (t33.icon) return "circle" === t33.form ? "iconCircle" : "square" === t33.form ? "iconSquare" : "rounded" === t33.form ? "iconRounded" : "icon";
  switch (t33.type) {
    case "square":
    case void 0:
      return "squareRect";
    case "round":
      return "roundedRect";
    case "ellipse":
      return "ellipse";
    default:
      return t33.type;
  }
}, "getTypeFromVertex"), AI = iZ((t33, e10) => t33.find((t34) => t34.id === e10), "findNode"), AM = iZ((t33) => {
  let e10 = "none", r10 = "arrow_point";
  switch (t33) {
    case "arrow_point":
    case "arrow_circle":
    case "arrow_cross":
      r10 = t33;
      break;
    case "double_arrow_point":
    case "double_arrow_circle":
    case "double_arrow_cross":
      r10 = e10 = t33.replace("double_", "");
  }
  return { arrowTypeStart: e10, arrowTypeEnd: r10 };
}, "destructEdgeType"), AR = iZ((t33, e10, r10, i10, n10, a10) => {
  var o10, s10;
  let l10 = r10.get(t33.id), h10 = null !== (o10 = i10.get(t33.id)) && void 0 !== o10 && o10, u10 = AI(e10, t33.id);
  if (u10) u10.cssStyles = t33.styles, u10.cssCompiledStyles = AD(t33.classes), u10.cssClasses = t33.classes.join(" ");
  else {
    let r11 = { id: t33.id, label: t33.text, labelStyle: "", parentId: l10, padding: (null === (s10 = n10.flowchart) || void 0 === s10 ? void 0 : s10.padding) || 8, cssStyles: t33.styles, cssCompiledStyles: AD(["default", "node", ...t33.classes]), cssClasses: "default " + t33.classes.join(" "), dir: t33.dir, domId: t33.domId, look: a10, link: t33.link, linkTarget: t33.linkTarget, tooltip: An(t33.id), icon: t33.icon, pos: t33.pos, img: t33.img, assetWidth: t33.assetWidth, assetHeight: t33.assetHeight, constraint: t33.constraint };
    h10 ? e10.push({ ...r11, isGroup: true, shape: "rect" }) : e10.push({ ...r11, isGroup: false, shape: AN(t33) });
  }
}, "addNodeFromVertex");
function AD(t33) {
  let e10 = [];
  for (let n10 of t33) {
    var r10, i10;
    let t34 = SV.get(n10);
    (null == t34 ? void 0 : t34.styles) && (e10 = [...e10, ...null !== (r10 = t34.styles) && void 0 !== r10 ? r10 : []].map((t35) => t35.trim())), (null == t34 ? void 0 : t34.textStyles) && (e10 = [...e10, ...null !== (i10 = t34.textStyles) && void 0 !== i10 ? i10 : []].map((t35) => t35.trim()));
  }
  return e10;
}
iZ(AD, "getCompiledStyles");
var AO = iZ(() => {
  let t33 = nM(), e10 = [], r10 = [], i10 = Ak(), n10 = /* @__PURE__ */ new Map(), a10 = /* @__PURE__ */ new Map();
  for (let t34 = i10.length - 1; t34 >= 0; t34--) {
    let e11 = i10[t34];
    for (let t35 of (e11.nodes.length > 0 && a10.set(e11.id, true), e11.nodes)) n10.set(t35, e11.id);
  }
  for (let r11 = i10.length - 1; r11 >= 0; r11--) {
    let a11 = i10[r11];
    e10.push({ id: a11.id, label: a11.title, labelStyle: "", parentId: n10.get(a11.id), padding: 8, cssCompiledStyles: AD(a11.classes), cssClasses: a11.classes.join(" "), shape: "rect", dir: a11.dir, isGroup: true, look: t33.look });
  }
  Al().forEach((r11) => {
    AR(r11, e10, n10, a10, t33, t33.look || "classic");
  });
  let o10 = Ah();
  return o10.forEach((e11, i11) => {
    var n11, a11;
    let { arrowTypeStart: s10, arrowTypeEnd: l10 } = AM(e11.type), h10 = [...null !== (n11 = o10.defaultStyle) && void 0 !== n11 ? n11 : []];
    e11.style && h10.push(...e11.style);
    let u10 = { id: gS(e11.start, e11.end, { counter: i11, prefix: "L" }), start: e11.start, end: e11.end, type: null !== (a11 = e11.type) && void 0 !== a11 ? a11 : "normal", label: e11.text, labelpos: "c", thickness: e11.stroke, minlen: e11.length, classes: (null == e11 ? void 0 : e11.stroke) === "invisible" ? "" : "edge-thickness-normal edge-pattern-solid flowchart-link", arrowTypeStart: (null == e11 ? void 0 : e11.stroke) === "invisible" ? "none" : s10, arrowTypeEnd: (null == e11 ? void 0 : e11.stroke) === "invisible" ? "none" : l10, arrowheadStyle: "fill: #333", labelStyle: h10, style: h10, pattern: e11.stroke, look: t33.look };
    r10.push(u10);
  }), { nodes: e10, edges: r10, other: {}, config: t33 };
}, "getData"), AP = { defaultConfig: iZ(() => nk.flowchart, "defaultConfig"), setAccTitle: af, getAccTitle: am, getAccDescription: av, getData: AO, setAccDescription: ay, addVertex: S4, lookUpDomId: S2, addLink: S3, updateLinkInterpolate: S6, updateLink: S7, addClass: S8, setDirection: S9, setClass: At, setTooltip: Ae, getTooltip: An, setClickEvent: Aa, setLink: Ai, bindFunctions: Ao, getDirection: As, getVertices: Al, getEdges: Ah, getClasses: Ac, clear: Ad, setGen: Ap, defaultStyle: Ag, addSubGraph: Af, getDepthFirstPos: Ab, indexNodes: Aw, getSubGraphs: Ak, destructLink: AS, lex: { firstGraph: A_ }, exists: AA, makeUniq: AL, setDiagramTitle: ax, getDiagramTitle: ab }, A$ = iZ(function(t33, e10) {
  return e10.db.getClasses();
}, "getClasses"), AB = iZ(async function(t33, e10, r10, i10) {
  var n10, a10;
  let o10;
  i0.info("REF0:"), i0.info("Drawing state diagram (v2)", e10);
  let { securityLevel: s10, flowchart: l10, layout: h10 } = nM();
  "sandbox" === s10 && (o10 = hl("#i" + e10));
  let u10 = "sandbox" === s10 ? o10.nodes()[0].contentDocument : document;
  i0.debug("Before getData: ");
  let d10 = i10.db.getData();
  i0.debug("Data: ", d10);
  let p10 = Sz(e10, s10), g10 = As();
  d10.type = i10.type, d10.layoutAlgorithm = vH(h10), "dagre" === d10.layoutAlgorithm && "elk" === h10 && i0.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."), d10.direction = g10, d10.nodeSpacing = (null == l10 ? void 0 : l10.nodeSpacing) || 50, d10.rankSpacing = (null == l10 ? void 0 : l10.rankSpacing) || 50, d10.markers = ["point", "circle", "cross"], d10.diagramId = e10, i0.debug("REF1:", d10), await vY(d10, p10);
  let f10 = null !== (a10 = null === (n10 = d10.config.flowchart) || void 0 === n10 ? void 0 : n10.diagramPadding) && void 0 !== a10 ? a10 : 8;
  for (let t34 of (gT.insertTitle(p10, "flowchartTitleText", (null == l10 ? void 0 : l10.titleTopMargin) || 0, i10.db.getDiagramTitle()), SU(p10, f10, "flowchart", (null == l10 ? void 0 : l10.useMaxWidth) || false), d10.nodes)) {
    let r11 = hl(`#${e10} [id="${t34.id}"]`);
    if (!r11 || !t34.link) continue;
    let i11 = u10.createElementNS("http://www.w3.org/2000/svg", "a");
    i11.setAttributeNS("http://www.w3.org/2000/svg", "class", t34.cssClasses), i11.setAttributeNS("http://www.w3.org/2000/svg", "rel", "noopener"), "sandbox" === s10 ? i11.setAttributeNS("http://www.w3.org/2000/svg", "target", "_top") : t34.linkTarget && i11.setAttributeNS("http://www.w3.org/2000/svg", "target", t34.linkTarget);
    let n11 = r11.insert(function() {
      return i11;
    }, ":first-child"), a11 = r11.select(".label-container");
    a11 && n11.append(function() {
      return a11.node();
    });
    let o11 = r11.select(".label");
    o11 && n11.append(function() {
      return o11.node();
    });
  }
}, "draw"), AF = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 4], r10 = [1, 3], i10 = [1, 5], n10 = [1, 8, 9, 10, 11, 27, 34, 36, 38, 44, 60, 83, 84, 85, 86, 87, 88, 101, 104, 105, 108, 110, 113, 114, 115, 120, 121, 122, 123], a10 = [2, 2], o10 = [1, 13], s10 = [1, 14], l10 = [1, 15], h10 = [1, 16], u10 = [1, 23], d10 = [1, 25], p10 = [1, 26], g10 = [1, 27], f10 = [1, 49], y10 = [1, 48], v10 = [1, 29], x10 = [1, 30], b10 = [1, 31], w10 = [1, 32], k10 = [1, 33], _10 = [1, 44], T10 = [1, 46], E10 = [1, 42], C10 = [1, 47], S10 = [1, 43], A10 = [1, 50], L10 = [1, 45], N10 = [1, 51], I10 = [1, 52], M10 = [1, 34], R10 = [1, 35], D10 = [1, 36], O10 = [1, 37], P10 = [1, 57], $10 = [1, 8, 9, 10, 11, 27, 32, 34, 36, 38, 44, 60, 83, 84, 85, 86, 87, 88, 101, 104, 105, 108, 110, 113, 114, 115, 120, 121, 122, 123], B10 = [1, 61], F10 = [1, 60], z10 = [1, 62], U10 = [8, 9, 11, 75, 77], G10 = [1, 77], q10 = [1, 90], Y10 = [1, 95], H10 = [1, 94], j10 = [1, 91], W10 = [1, 87], V10 = [1, 93], X10 = [1, 89], K10 = [1, 96], Z10 = [1, 92], Q10 = [1, 97], J10 = [1, 88], tt10 = [8, 9, 10, 11, 40, 75, 77], te10 = [8, 9, 10, 11, 40, 46, 75, 77], tr10 = [8, 9, 10, 11, 29, 40, 44, 46, 48, 50, 52, 54, 56, 58, 60, 63, 65, 67, 68, 70, 75, 77, 88, 101, 104, 105, 108, 110, 113, 114, 115], ti10 = [8, 9, 11, 44, 60, 75, 77, 88, 101, 104, 105, 108, 110, 113, 114, 115], tn10 = [44, 60, 88, 101, 104, 105, 108, 110, 113, 114, 115], ta10 = [1, 123], to10 = [1, 122], ts2 = [1, 130], tl2 = [1, 144], th2 = [1, 145], tc2 = [1, 146], tu2 = [1, 147], td2 = [1, 132], tp2 = [1, 134], tg2 = [1, 138], tf2 = [1, 139], tm2 = [1, 140], ty2 = [1, 141], tv2 = [1, 142], tx2 = [1, 143], tb2 = [1, 148], tw2 = [1, 149], tk2 = [1, 128], t_2 = [1, 129], tT2 = [1, 136], tE2 = [1, 131], tC2 = [1, 135], tS2 = [1, 133], tA2 = [8, 9, 10, 11, 27, 32, 34, 36, 38, 44, 60, 83, 84, 85, 86, 87, 88, 101, 104, 105, 108, 110, 113, 114, 115, 120, 121, 122, 123], tL2 = [1, 151], tN2 = [1, 153], tI2 = [8, 9, 11], tM2 = [8, 9, 10, 11, 14, 44, 60, 88, 104, 105, 108, 110, 113, 114, 115], tR2 = [1, 173], tD2 = [1, 169], tO2 = [1, 170], tP2 = [1, 174], t$2 = [1, 171], tB2 = [1, 172], tF2 = [77, 115, 118], tz2 = [8, 9, 10, 11, 12, 14, 27, 29, 32, 44, 60, 75, 83, 84, 85, 86, 87, 88, 89, 104, 108, 110, 113, 114, 115], tU2 = [10, 105], tG2 = [31, 49, 51, 53, 55, 57, 62, 64, 66, 67, 69, 71, 115, 116, 117], tq2 = [1, 242], tY2 = [1, 240], tH2 = [1, 244], tj2 = [1, 238], tW2 = [1, 239], tV2 = [1, 241], tX2 = [1, 243], tK2 = [1, 245], tZ2 = [1, 263], tQ2 = [8, 9, 11, 105], tJ2 = [8, 9, 10, 11, 60, 83, 104, 105, 108, 109, 110, 111], t02 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, graphConfig: 4, document: 5, line: 6, statement: 7, SEMI: 8, NEWLINE: 9, SPACE: 10, EOF: 11, GRAPH: 12, NODIR: 13, DIR: 14, FirstStmtSeparator: 15, ending: 16, endToken: 17, spaceList: 18, spaceListNewline: 19, vertexStatement: 20, separator: 21, styleStatement: 22, linkStyleStatement: 23, classDefStatement: 24, classStatement: 25, clickStatement: 26, subgraph: 27, textNoTags: 28, SQS: 29, text: 30, SQE: 31, end: 32, direction: 33, acc_title: 34, acc_title_value: 35, acc_descr: 36, acc_descr_value: 37, acc_descr_multiline_value: 38, shapeData: 39, SHAPE_DATA: 40, link: 41, node: 42, styledVertex: 43, AMP: 44, vertex: 45, STYLE_SEPARATOR: 46, idString: 47, DOUBLECIRCLESTART: 48, DOUBLECIRCLEEND: 49, PS: 50, PE: 51, "(-": 52, "-)": 53, STADIUMSTART: 54, STADIUMEND: 55, SUBROUTINESTART: 56, SUBROUTINEEND: 57, VERTEX_WITH_PROPS_START: 58, "NODE_STRING[field]": 59, COLON: 60, "NODE_STRING[value]": 61, PIPE: 62, CYLINDERSTART: 63, CYLINDEREND: 64, DIAMOND_START: 65, DIAMOND_STOP: 66, TAGEND: 67, TRAPSTART: 68, TRAPEND: 69, INVTRAPSTART: 70, INVTRAPEND: 71, linkStatement: 72, arrowText: 73, TESTSTR: 74, START_LINK: 75, edgeText: 76, LINK: 77, edgeTextToken: 78, STR: 79, MD_STR: 80, textToken: 81, keywords: 82, STYLE: 83, LINKSTYLE: 84, CLASSDEF: 85, CLASS: 86, CLICK: 87, DOWN: 88, UP: 89, textNoTagsToken: 90, stylesOpt: 91, "idString[vertex]": 92, "idString[class]": 93, CALLBACKNAME: 94, CALLBACKARGS: 95, HREF: 96, LINK_TARGET: 97, "STR[link]": 98, "STR[tooltip]": 99, alphaNum: 100, DEFAULT: 101, numList: 102, INTERPOLATE: 103, NUM: 104, COMMA: 105, style: 106, styleComponent: 107, NODE_STRING: 108, UNIT: 109, BRKT: 110, PCT: 111, idStringToken: 112, MINUS: 113, MULT: 114, UNICODE_TEXT: 115, TEXT: 116, TAGSTART: 117, EDGE_TEXT: 118, alphaNumToken: 119, direction_tb: 120, direction_bt: 121, direction_rl: 122, direction_lr: 123, $accept: 0, $end: 1 }, terminals_: { 2: "error", 8: "SEMI", 9: "NEWLINE", 10: "SPACE", 11: "EOF", 12: "GRAPH", 13: "NODIR", 14: "DIR", 27: "subgraph", 29: "SQS", 31: "SQE", 32: "end", 34: "acc_title", 35: "acc_title_value", 36: "acc_descr", 37: "acc_descr_value", 38: "acc_descr_multiline_value", 40: "SHAPE_DATA", 44: "AMP", 46: "STYLE_SEPARATOR", 48: "DOUBLECIRCLESTART", 49: "DOUBLECIRCLEEND", 50: "PS", 51: "PE", 52: "(-", 53: "-)", 54: "STADIUMSTART", 55: "STADIUMEND", 56: "SUBROUTINESTART", 57: "SUBROUTINEEND", 58: "VERTEX_WITH_PROPS_START", 59: "NODE_STRING[field]", 60: "COLON", 61: "NODE_STRING[value]", 62: "PIPE", 63: "CYLINDERSTART", 64: "CYLINDEREND", 65: "DIAMOND_START", 66: "DIAMOND_STOP", 67: "TAGEND", 68: "TRAPSTART", 69: "TRAPEND", 70: "INVTRAPSTART", 71: "INVTRAPEND", 74: "TESTSTR", 75: "START_LINK", 77: "LINK", 79: "STR", 80: "MD_STR", 83: "STYLE", 84: "LINKSTYLE", 85: "CLASSDEF", 86: "CLASS", 87: "CLICK", 88: "DOWN", 89: "UP", 92: "idString[vertex]", 93: "idString[class]", 94: "CALLBACKNAME", 95: "CALLBACKARGS", 96: "HREF", 97: "LINK_TARGET", 98: "STR[link]", 99: "STR[tooltip]", 101: "DEFAULT", 103: "INTERPOLATE", 104: "NUM", 105: "COMMA", 108: "NODE_STRING", 109: "UNIT", 110: "BRKT", 111: "PCT", 113: "MINUS", 114: "MULT", 115: "UNICODE_TEXT", 116: "TEXT", 117: "TAGSTART", 118: "EDGE_TEXT", 120: "direction_tb", 121: "direction_bt", 122: "direction_rl", 123: "direction_lr" }, productions_: [0, [3, 2], [5, 0], [5, 2], [6, 1], [6, 1], [6, 1], [6, 1], [6, 1], [4, 2], [4, 2], [4, 2], [4, 3], [16, 2], [16, 1], [17, 1], [17, 1], [17, 1], [15, 1], [15, 1], [15, 2], [19, 2], [19, 2], [19, 1], [19, 1], [18, 2], [18, 1], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 9], [7, 6], [7, 4], [7, 1], [7, 2], [7, 2], [7, 1], [21, 1], [21, 1], [21, 1], [39, 2], [39, 1], [20, 4], [20, 3], [20, 4], [20, 2], [20, 2], [20, 1], [42, 1], [42, 6], [42, 5], [43, 1], [43, 3], [45, 4], [45, 4], [45, 6], [45, 4], [45, 4], [45, 4], [45, 8], [45, 4], [45, 4], [45, 4], [45, 6], [45, 4], [45, 4], [45, 4], [45, 4], [45, 4], [45, 1], [41, 2], [41, 3], [41, 3], [41, 1], [41, 3], [76, 1], [76, 2], [76, 1], [76, 1], [72, 1], [73, 3], [30, 1], [30, 2], [30, 1], [30, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [28, 1], [28, 2], [28, 1], [28, 1], [24, 5], [25, 5], [26, 2], [26, 4], [26, 3], [26, 5], [26, 3], [26, 5], [26, 5], [26, 7], [26, 2], [26, 4], [26, 2], [26, 4], [26, 4], [26, 6], [22, 5], [23, 5], [23, 5], [23, 9], [23, 9], [23, 7], [23, 7], [102, 1], [102, 3], [91, 1], [91, 3], [106, 1], [106, 2], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [81, 1], [81, 1], [81, 1], [81, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [78, 1], [78, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [47, 1], [47, 2], [100, 1], [100, 2], [33, 1], [33, 1], [33, 1], [33, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 2:
      case 28:
      case 29:
      case 30:
      case 31:
      case 32:
        this.$ = [];
        break;
      case 3:
        (!Array.isArray(a11[s11]) || a11[s11].length > 0) && a11[s11 - 1].push(a11[s11]), this.$ = a11[s11 - 1];
        break;
      case 4:
      case 181:
      case 44:
      case 54:
      case 76:
      case 179:
        this.$ = a11[s11];
        break;
      case 11:
        i11.setDirection("TB"), this.$ = "TB";
        break;
      case 12:
        i11.setDirection(a11[s11 - 1]), this.$ = a11[s11 - 1];
        break;
      case 27:
        this.$ = a11[s11 - 1].nodes;
        break;
      case 33:
        this.$ = i11.addSubGraph(a11[s11 - 6], a11[s11 - 1], a11[s11 - 4]);
        break;
      case 34:
        this.$ = i11.addSubGraph(a11[s11 - 3], a11[s11 - 1], a11[s11 - 3]);
        break;
      case 35:
        this.$ = i11.addSubGraph(void 0, a11[s11 - 1], void 0);
        break;
      case 37:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 38:
      case 39:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 43:
      case 131:
        this.$ = a11[s11 - 1] + a11[s11];
        break;
      case 45:
        i11.addVertex(a11[s11 - 1][0], void 0, void 0, void 0, void 0, void 0, void 0, a11[s11]), i11.addLink(a11[s11 - 3].stmt, a11[s11 - 1], a11[s11 - 2]), this.$ = { stmt: a11[s11 - 1], nodes: a11[s11 - 1].concat(a11[s11 - 3].nodes) };
        break;
      case 46:
        i11.addLink(a11[s11 - 2].stmt, a11[s11], a11[s11 - 1]), this.$ = { stmt: a11[s11], nodes: a11[s11].concat(a11[s11 - 2].nodes) };
        break;
      case 47:
        i11.addLink(a11[s11 - 3].stmt, a11[s11 - 1], a11[s11 - 2]), this.$ = { stmt: a11[s11 - 1], nodes: a11[s11 - 1].concat(a11[s11 - 3].nodes) };
        break;
      case 48:
        this.$ = { stmt: a11[s11 - 1], nodes: a11[s11 - 1] };
        break;
      case 49:
        i11.addVertex(a11[s11 - 1][0], void 0, void 0, void 0, void 0, void 0, void 0, a11[s11]), this.$ = { stmt: a11[s11 - 1], nodes: a11[s11 - 1], shapeData: a11[s11] };
        break;
      case 50:
        this.$ = { stmt: a11[s11], nodes: a11[s11] };
        break;
      case 51:
      case 126:
      case 128:
        this.$ = [a11[s11]];
        break;
      case 52:
        i11.addVertex(a11[s11 - 5][0], void 0, void 0, void 0, void 0, void 0, void 0, a11[s11 - 4]), this.$ = a11[s11 - 5].concat(a11[s11]);
        break;
      case 53:
        this.$ = a11[s11 - 4].concat(a11[s11]);
        break;
      case 55:
        this.$ = a11[s11 - 2], i11.setClass(a11[s11 - 2], a11[s11]);
        break;
      case 56:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "square");
        break;
      case 57:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "doublecircle");
        break;
      case 58:
        this.$ = a11[s11 - 5], i11.addVertex(a11[s11 - 5], a11[s11 - 2], "circle");
        break;
      case 59:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "ellipse");
        break;
      case 60:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "stadium");
        break;
      case 61:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "subroutine");
        break;
      case 62:
        this.$ = a11[s11 - 7], i11.addVertex(a11[s11 - 7], a11[s11 - 1], "rect", void 0, void 0, void 0, Object.fromEntries([[a11[s11 - 5], a11[s11 - 3]]]));
        break;
      case 63:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "cylinder");
        break;
      case 64:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "round");
        break;
      case 65:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "diamond");
        break;
      case 66:
        this.$ = a11[s11 - 5], i11.addVertex(a11[s11 - 5], a11[s11 - 2], "hexagon");
        break;
      case 67:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "odd");
        break;
      case 68:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "trapezoid");
        break;
      case 69:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "inv_trapezoid");
        break;
      case 70:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "lean_right");
        break;
      case 71:
        this.$ = a11[s11 - 3], i11.addVertex(a11[s11 - 3], a11[s11 - 1], "lean_left");
        break;
      case 72:
        this.$ = a11[s11], i11.addVertex(a11[s11]);
        break;
      case 73:
        a11[s11 - 1].text = a11[s11], this.$ = a11[s11 - 1];
        break;
      case 74:
      case 75:
        a11[s11 - 2].text = a11[s11 - 1], this.$ = a11[s11 - 2];
        break;
      case 77:
        var l11 = i11.destructLink(a11[s11], a11[s11 - 2]);
        this.$ = { type: l11.type, stroke: l11.stroke, length: l11.length, text: a11[s11 - 1] };
        break;
      case 78:
      case 84:
      case 99:
      case 101:
        this.$ = { text: a11[s11], type: "text" };
        break;
      case 79:
      case 85:
      case 100:
        this.$ = { text: a11[s11 - 1].text + "" + a11[s11], type: a11[s11 - 1].type };
        break;
      case 80:
      case 86:
        this.$ = { text: a11[s11], type: "string" };
        break;
      case 81:
      case 87:
      case 102:
        this.$ = { text: a11[s11], type: "markdown" };
        break;
      case 82:
        var l11 = i11.destructLink(a11[s11]);
        this.$ = { type: l11.type, stroke: l11.stroke, length: l11.length };
        break;
      case 83:
        this.$ = a11[s11 - 1];
        break;
      case 103:
        this.$ = a11[s11 - 4], i11.addClass(a11[s11 - 2], a11[s11]);
        break;
      case 104:
        this.$ = a11[s11 - 4], i11.setClass(a11[s11 - 2], a11[s11]);
        break;
      case 105:
      case 113:
        this.$ = a11[s11 - 1], i11.setClickEvent(a11[s11 - 1], a11[s11]);
        break;
      case 106:
      case 114:
        this.$ = a11[s11 - 3], i11.setClickEvent(a11[s11 - 3], a11[s11 - 2]), i11.setTooltip(a11[s11 - 3], a11[s11]);
        break;
      case 107:
        this.$ = a11[s11 - 2], i11.setClickEvent(a11[s11 - 2], a11[s11 - 1], a11[s11]);
        break;
      case 108:
        this.$ = a11[s11 - 4], i11.setClickEvent(a11[s11 - 4], a11[s11 - 3], a11[s11 - 2]), i11.setTooltip(a11[s11 - 4], a11[s11]);
        break;
      case 109:
        this.$ = a11[s11 - 2], i11.setLink(a11[s11 - 2], a11[s11]);
        break;
      case 110:
        this.$ = a11[s11 - 4], i11.setLink(a11[s11 - 4], a11[s11 - 2]), i11.setTooltip(a11[s11 - 4], a11[s11]);
        break;
      case 111:
        this.$ = a11[s11 - 4], i11.setLink(a11[s11 - 4], a11[s11 - 2], a11[s11]);
        break;
      case 112:
        this.$ = a11[s11 - 6], i11.setLink(a11[s11 - 6], a11[s11 - 4], a11[s11]), i11.setTooltip(a11[s11 - 6], a11[s11 - 2]);
        break;
      case 115:
        this.$ = a11[s11 - 1], i11.setLink(a11[s11 - 1], a11[s11]);
        break;
      case 116:
        this.$ = a11[s11 - 3], i11.setLink(a11[s11 - 3], a11[s11 - 2]), i11.setTooltip(a11[s11 - 3], a11[s11]);
        break;
      case 117:
        this.$ = a11[s11 - 3], i11.setLink(a11[s11 - 3], a11[s11 - 2], a11[s11]);
        break;
      case 118:
        this.$ = a11[s11 - 5], i11.setLink(a11[s11 - 5], a11[s11 - 4], a11[s11]), i11.setTooltip(a11[s11 - 5], a11[s11 - 2]);
        break;
      case 119:
        this.$ = a11[s11 - 4], i11.addVertex(a11[s11 - 2], void 0, void 0, a11[s11]);
        break;
      case 120:
        this.$ = a11[s11 - 4], i11.updateLink([a11[s11 - 2]], a11[s11]);
        break;
      case 121:
        this.$ = a11[s11 - 4], i11.updateLink(a11[s11 - 2], a11[s11]);
        break;
      case 122:
        this.$ = a11[s11 - 8], i11.updateLinkInterpolate([a11[s11 - 6]], a11[s11 - 2]), i11.updateLink([a11[s11 - 6]], a11[s11]);
        break;
      case 123:
        this.$ = a11[s11 - 8], i11.updateLinkInterpolate(a11[s11 - 6], a11[s11 - 2]), i11.updateLink(a11[s11 - 6], a11[s11]);
        break;
      case 124:
        this.$ = a11[s11 - 6], i11.updateLinkInterpolate([a11[s11 - 4]], a11[s11]);
        break;
      case 125:
        this.$ = a11[s11 - 6], i11.updateLinkInterpolate(a11[s11 - 4], a11[s11]);
        break;
      case 127:
      case 129:
        a11[s11 - 2].push(a11[s11]), this.$ = a11[s11 - 2];
        break;
      case 180:
      case 182:
        this.$ = a11[s11 - 1] + "" + a11[s11];
        break;
      case 183:
        this.$ = { stmt: "dir", value: "TB" };
        break;
      case 184:
        this.$ = { stmt: "dir", value: "BT" };
        break;
      case 185:
        this.$ = { stmt: "dir", value: "RL" };
        break;
      case 186:
        this.$ = { stmt: "dir", value: "LR" };
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 9: e10, 10: r10, 12: i10 }, { 1: [3] }, t33(n10, a10, { 5: 6 }), { 4: 7, 9: e10, 10: r10, 12: i10 }, { 4: 8, 9: e10, 10: r10, 12: i10 }, { 13: [1, 9], 14: [1, 10] }, { 1: [2, 1], 6: 11, 7: 12, 8: o10, 9: s10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 33: 24, 34: d10, 36: p10, 38: g10, 42: 28, 43: 38, 44: f10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: w10, 87: k10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10, 120: M10, 121: R10, 122: D10, 123: O10 }, t33(n10, [2, 9]), t33(n10, [2, 10]), t33(n10, [2, 11]), { 8: [1, 54], 9: [1, 55], 10: P10, 15: 53, 18: 56 }, t33($10, [2, 3]), t33($10, [2, 4]), t33($10, [2, 5]), t33($10, [2, 6]), t33($10, [2, 7]), t33($10, [2, 8]), { 8: B10, 9: F10, 11: z10, 21: 58, 41: 59, 72: 63, 75: [1, 64], 77: [1, 65] }, { 8: B10, 9: F10, 11: z10, 21: 66 }, { 8: B10, 9: F10, 11: z10, 21: 67 }, { 8: B10, 9: F10, 11: z10, 21: 68 }, { 8: B10, 9: F10, 11: z10, 21: 69 }, { 8: B10, 9: F10, 11: z10, 21: 70 }, { 8: B10, 9: F10, 10: [1, 71], 11: z10, 21: 72 }, t33($10, [2, 36]), { 35: [1, 73] }, { 37: [1, 74] }, t33($10, [2, 39]), t33(U10, [2, 50], { 18: 75, 39: 76, 10: P10, 40: G10 }), { 10: [1, 78] }, { 10: [1, 79] }, { 10: [1, 80] }, { 10: [1, 81] }, { 14: q10, 44: Y10, 60: H10, 79: [1, 85], 88: j10, 94: [1, 82], 96: [1, 83], 100: 84, 104: W10, 105: V10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10, 119: 86 }, t33($10, [2, 183]), t33($10, [2, 184]), t33($10, [2, 185]), t33($10, [2, 186]), t33(tt10, [2, 51]), t33(tt10, [2, 54], { 46: [1, 98] }), t33(te10, [2, 72], { 112: 111, 29: [1, 99], 44: f10, 48: [1, 100], 50: [1, 101], 52: [1, 102], 54: [1, 103], 56: [1, 104], 58: [1, 105], 60: y10, 63: [1, 106], 65: [1, 107], 67: [1, 108], 68: [1, 109], 70: [1, 110], 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 113: L10, 114: N10, 115: I10 }), t33(tr10, [2, 179]), t33(tr10, [2, 140]), t33(tr10, [2, 141]), t33(tr10, [2, 142]), t33(tr10, [2, 143]), t33(tr10, [2, 144]), t33(tr10, [2, 145]), t33(tr10, [2, 146]), t33(tr10, [2, 147]), t33(tr10, [2, 148]), t33(tr10, [2, 149]), t33(tr10, [2, 150]), t33(n10, [2, 12]), t33(n10, [2, 18]), t33(n10, [2, 19]), { 9: [1, 112] }, t33(ti10, [2, 26], { 18: 113, 10: P10 }), t33($10, [2, 27]), { 42: 114, 43: 38, 44: f10, 45: 39, 47: 40, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, t33($10, [2, 40]), t33($10, [2, 41]), t33($10, [2, 42]), t33(tn10, [2, 76], { 73: 115, 62: [1, 117], 74: [1, 116] }), { 76: 118, 78: 119, 79: [1, 120], 80: [1, 121], 115: ta10, 118: to10 }, t33([44, 60, 62, 74, 88, 101, 104, 105, 108, 110, 113, 114, 115], [2, 82]), t33($10, [2, 28]), t33($10, [2, 29]), t33($10, [2, 30]), t33($10, [2, 31]), t33($10, [2, 32]), { 10: ts2, 12: tl2, 14: th2, 27: tc2, 28: 124, 32: tu2, 44: td2, 60: tp2, 75: tg2, 79: [1, 126], 80: [1, 127], 82: 137, 83: tf2, 84: tm2, 85: ty2, 86: tv2, 87: tx2, 88: tb2, 89: tw2, 90: 125, 104: tk2, 108: t_2, 110: tT2, 113: tE2, 114: tC2, 115: tS2 }, t33(tA2, a10, { 5: 150 }), t33($10, [2, 37]), t33($10, [2, 38]), t33(U10, [2, 48], { 44: tL2 }), t33(U10, [2, 49], { 18: 152, 10: P10, 40: tN2 }), t33(tt10, [2, 44]), { 44: f10, 47: 154, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, { 101: [1, 155], 102: 156, 104: [1, 157] }, { 44: f10, 47: 158, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, { 44: f10, 47: 159, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, t33(tI2, [2, 105], { 10: [1, 160], 95: [1, 161] }), { 79: [1, 162] }, t33(tI2, [2, 113], { 119: 164, 10: [1, 163], 14: q10, 44: Y10, 60: H10, 88: j10, 104: W10, 105: V10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10 }), t33(tI2, [2, 115], { 10: [1, 165] }), t33(tM2, [2, 181]), t33(tM2, [2, 168]), t33(tM2, [2, 169]), t33(tM2, [2, 170]), t33(tM2, [2, 171]), t33(tM2, [2, 172]), t33(tM2, [2, 173]), t33(tM2, [2, 174]), t33(tM2, [2, 175]), t33(tM2, [2, 176]), t33(tM2, [2, 177]), t33(tM2, [2, 178]), { 44: f10, 47: 166, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, { 30: 167, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 175, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 177, 50: [1, 176], 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 178, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 179, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 180, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 108: [1, 181] }, { 30: 182, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 183, 65: [1, 184], 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 185, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 186, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 30: 187, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, t33(tr10, [2, 180]), t33(n10, [2, 20]), t33(ti10, [2, 25]), t33(U10, [2, 46], { 39: 188, 18: 189, 10: P10, 40: G10 }), t33(tn10, [2, 73], { 10: [1, 190] }), { 10: [1, 191] }, { 30: 192, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 77: [1, 193], 78: 194, 115: ta10, 118: to10 }, t33(tF2, [2, 78]), t33(tF2, [2, 80]), t33(tF2, [2, 81]), t33(tF2, [2, 166]), t33(tF2, [2, 167]), { 8: B10, 9: F10, 10: ts2, 11: z10, 12: tl2, 14: th2, 21: 196, 27: tc2, 29: [1, 195], 32: tu2, 44: td2, 60: tp2, 75: tg2, 82: 137, 83: tf2, 84: tm2, 85: ty2, 86: tv2, 87: tx2, 88: tb2, 89: tw2, 90: 197, 104: tk2, 108: t_2, 110: tT2, 113: tE2, 114: tC2, 115: tS2 }, t33(tz2, [2, 99]), t33(tz2, [2, 101]), t33(tz2, [2, 102]), t33(tz2, [2, 155]), t33(tz2, [2, 156]), t33(tz2, [2, 157]), t33(tz2, [2, 158]), t33(tz2, [2, 159]), t33(tz2, [2, 160]), t33(tz2, [2, 161]), t33(tz2, [2, 162]), t33(tz2, [2, 163]), t33(tz2, [2, 164]), t33(tz2, [2, 165]), t33(tz2, [2, 88]), t33(tz2, [2, 89]), t33(tz2, [2, 90]), t33(tz2, [2, 91]), t33(tz2, [2, 92]), t33(tz2, [2, 93]), t33(tz2, [2, 94]), t33(tz2, [2, 95]), t33(tz2, [2, 96]), t33(tz2, [2, 97]), t33(tz2, [2, 98]), { 6: 11, 7: 12, 8: o10, 9: s10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 32: [1, 198], 33: 24, 34: d10, 36: p10, 38: g10, 42: 28, 43: 38, 44: f10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: w10, 87: k10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10, 120: M10, 121: R10, 122: D10, 123: O10 }, { 10: P10, 18: 199 }, { 44: [1, 200] }, t33(tt10, [2, 43]), { 10: [1, 201], 44: f10, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 111, 113: L10, 114: N10, 115: I10 }, { 10: [1, 202] }, { 10: [1, 203], 105: [1, 204] }, t33(tU2, [2, 126]), { 10: [1, 205], 44: f10, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 111, 113: L10, 114: N10, 115: I10 }, { 10: [1, 206], 44: f10, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 111, 113: L10, 114: N10, 115: I10 }, { 79: [1, 207] }, t33(tI2, [2, 107], { 10: [1, 208] }), t33(tI2, [2, 109], { 10: [1, 209] }), { 79: [1, 210] }, t33(tM2, [2, 182]), { 79: [1, 211], 97: [1, 212] }, t33(tt10, [2, 55], { 112: 111, 44: f10, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 113: L10, 114: N10, 115: I10 }), { 31: [1, 213], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, t33(tG2, [2, 84]), t33(tG2, [2, 86]), t33(tG2, [2, 87]), t33(tG2, [2, 151]), t33(tG2, [2, 152]), t33(tG2, [2, 153]), t33(tG2, [2, 154]), { 49: [1, 215], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 30: 216, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 51: [1, 217], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 53: [1, 218], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 55: [1, 219], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 57: [1, 220], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 60: [1, 221] }, { 64: [1, 222], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 66: [1, 223], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 30: 224, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, { 31: [1, 225], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 67: tR2, 69: [1, 226], 71: [1, 227], 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 67: tR2, 69: [1, 229], 71: [1, 228], 81: 214, 115: tP2, 116: t$2, 117: tB2 }, t33(U10, [2, 45], { 18: 152, 10: P10, 40: tN2 }), t33(U10, [2, 47], { 44: tL2 }), t33(tn10, [2, 75]), t33(tn10, [2, 74]), { 62: [1, 230], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, t33(tn10, [2, 77]), t33(tF2, [2, 79]), { 30: 231, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, t33(tA2, a10, { 5: 232 }), t33(tz2, [2, 100]), t33($10, [2, 35]), { 43: 233, 44: f10, 45: 39, 47: 40, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, { 10: P10, 18: 234 }, { 10: tq2, 60: tY2, 83: tH2, 91: 235, 104: tj2, 106: 236, 107: 237, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }, { 10: tq2, 60: tY2, 83: tH2, 91: 246, 103: [1, 247], 104: tj2, 106: 236, 107: 237, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }, { 10: tq2, 60: tY2, 83: tH2, 91: 248, 103: [1, 249], 104: tj2, 106: 236, 107: 237, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }, { 104: [1, 250] }, { 10: tq2, 60: tY2, 83: tH2, 91: 251, 104: tj2, 106: 236, 107: 237, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }, { 44: f10, 47: 252, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, t33(tI2, [2, 106]), { 79: [1, 253] }, { 79: [1, 254], 97: [1, 255] }, t33(tI2, [2, 114]), t33(tI2, [2, 116], { 10: [1, 256] }), t33(tI2, [2, 117]), t33(te10, [2, 56]), t33(tG2, [2, 85]), t33(te10, [2, 57]), { 51: [1, 257], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, t33(te10, [2, 64]), t33(te10, [2, 59]), t33(te10, [2, 60]), t33(te10, [2, 61]), { 108: [1, 258] }, t33(te10, [2, 63]), t33(te10, [2, 65]), { 66: [1, 259], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, t33(te10, [2, 67]), t33(te10, [2, 68]), t33(te10, [2, 70]), t33(te10, [2, 69]), t33(te10, [2, 71]), t33([10, 44, 60, 88, 101, 104, 105, 108, 110, 113, 114, 115], [2, 83]), { 31: [1, 260], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 6: 11, 7: 12, 8: o10, 9: s10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 32: [1, 261], 33: 24, 34: d10, 36: p10, 38: g10, 42: 28, 43: 38, 44: f10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: w10, 87: k10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10, 120: M10, 121: R10, 122: D10, 123: O10 }, t33(tt10, [2, 53]), { 43: 262, 44: f10, 45: 39, 47: 40, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10 }, t33(tI2, [2, 119], { 105: tZ2 }), t33(tQ2, [2, 128], { 107: 264, 10: tq2, 60: tY2, 83: tH2, 104: tj2, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }), t33(tJ2, [2, 130]), t33(tJ2, [2, 132]), t33(tJ2, [2, 133]), t33(tJ2, [2, 134]), t33(tJ2, [2, 135]), t33(tJ2, [2, 136]), t33(tJ2, [2, 137]), t33(tJ2, [2, 138]), t33(tJ2, [2, 139]), t33(tI2, [2, 120], { 105: tZ2 }), { 10: [1, 265] }, t33(tI2, [2, 121], { 105: tZ2 }), { 10: [1, 266] }, t33(tU2, [2, 127]), t33(tI2, [2, 103], { 105: tZ2 }), t33(tI2, [2, 104], { 112: 111, 44: f10, 60: y10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 113: L10, 114: N10, 115: I10 }), t33(tI2, [2, 108]), t33(tI2, [2, 110], { 10: [1, 267] }), t33(tI2, [2, 111]), { 97: [1, 268] }, { 51: [1, 269] }, { 62: [1, 270] }, { 66: [1, 271] }, { 8: B10, 9: F10, 11: z10, 21: 272 }, t33($10, [2, 34]), t33(tt10, [2, 52]), { 10: tq2, 60: tY2, 83: tH2, 104: tj2, 106: 273, 107: 237, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }, t33(tJ2, [2, 131]), { 14: q10, 44: Y10, 60: H10, 88: j10, 100: 274, 104: W10, 105: V10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10, 119: 86 }, { 14: q10, 44: Y10, 60: H10, 88: j10, 100: 275, 104: W10, 105: V10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10, 119: 86 }, { 97: [1, 276] }, t33(tI2, [2, 118]), t33(te10, [2, 58]), { 30: 277, 67: tR2, 79: tD2, 80: tO2, 81: 168, 115: tP2, 116: t$2, 117: tB2 }, t33(te10, [2, 66]), t33(tA2, a10, { 5: 278 }), t33(tQ2, [2, 129], { 107: 264, 10: tq2, 60: tY2, 83: tH2, 104: tj2, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }), t33(tI2, [2, 124], { 119: 164, 10: [1, 279], 14: q10, 44: Y10, 60: H10, 88: j10, 104: W10, 105: V10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10 }), t33(tI2, [2, 125], { 119: 164, 10: [1, 280], 14: q10, 44: Y10, 60: H10, 88: j10, 104: W10, 105: V10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10 }), t33(tI2, [2, 112]), { 31: [1, 281], 67: tR2, 81: 214, 115: tP2, 116: t$2, 117: tB2 }, { 6: 11, 7: 12, 8: o10, 9: s10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 32: [1, 282], 33: 24, 34: d10, 36: p10, 38: g10, 42: 28, 43: 38, 44: f10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: w10, 87: k10, 88: _10, 101: T10, 104: E10, 105: C10, 108: S10, 110: A10, 112: 41, 113: L10, 114: N10, 115: I10, 120: M10, 121: R10, 122: D10, 123: O10 }, { 10: tq2, 60: tY2, 83: tH2, 91: 283, 104: tj2, 106: 236, 107: 237, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }, { 10: tq2, 60: tY2, 83: tH2, 91: 284, 104: tj2, 106: 236, 107: 237, 108: tW2, 109: tV2, 110: tX2, 111: tK2 }, t33(te10, [2, 62]), t33($10, [2, 33]), t33(tI2, [2, 122], { 105: tZ2 }), t33(tI2, [2, 123], { 105: tZ2 })], defaultActions: {}, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, t110 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return this.begin("acc_title"), 34;
      case 1:
        return this.popState(), "acc_title_value";
      case 2:
        return this.begin("acc_descr"), 36;
      case 3:
        return this.popState(), "acc_descr_value";
      case 4:
        this.begin("acc_descr_multiline");
        break;
      case 5:
      case 12:
      case 14:
      case 17:
      case 20:
      case 23:
      case 33:
        this.popState();
        break;
      case 6:
        return "acc_descr_multiline_value";
      case 7:
        return this.pushState("shapeData"), e11.yytext = "", 40;
      case 8:
        return this.pushState("shapeDataStr"), 40;
      case 9:
        return this.popState(), 40;
      case 10:
        return e11.yytext = e11.yytext.replace(/\n\s*/g, "<br/>"), 40;
      case 11:
        return 40;
      case 13:
        this.begin("callbackname");
        break;
      case 15:
        this.popState(), this.begin("callbackargs");
        break;
      case 16:
        return 94;
      case 18:
        return 95;
      case 19:
        return "MD_STR";
      case 21:
        this.begin("md_string");
        break;
      case 22:
        return "STR";
      case 24:
        this.pushState("string");
        break;
      case 25:
        return 83;
      case 26:
        return 101;
      case 27:
        return 84;
      case 28:
        return 103;
      case 29:
        return 85;
      case 30:
        return 86;
      case 31:
        return 96;
      case 32:
        this.begin("click");
        break;
      case 34:
        return 87;
      case 35:
      case 36:
      case 37:
        return t34.lex.firstGraph() && this.begin("dir"), 12;
      case 38:
        return 27;
      case 39:
        return 32;
      case 40:
      case 41:
      case 42:
      case 43:
        return 97;
      case 44:
        return this.popState(), 13;
      case 45:
      case 46:
      case 47:
      case 48:
      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
        return this.popState(), 14;
      case 55:
        return 120;
      case 56:
        return 121;
      case 57:
        return 122;
      case 58:
        return 123;
      case 59:
        return 104;
      case 60:
      case 101:
        return 110;
      case 61:
        return 46;
      case 62:
        return 60;
      case 63:
      case 102:
        return 44;
      case 64:
        return 8;
      case 65:
        return 105;
      case 66:
      case 100:
        return 114;
      case 67:
      case 70:
      case 73:
        return this.popState(), 77;
      case 68:
        return this.pushState("edgeText"), 75;
      case 69:
      case 72:
      case 75:
        return 118;
      case 71:
        return this.pushState("thickEdgeText"), 75;
      case 74:
        return this.pushState("dottedEdgeText"), 75;
      case 76:
        return 77;
      case 77:
        return this.popState(), 53;
      case 78:
      case 114:
        return "TEXT";
      case 79:
        return this.pushState("ellipseText"), 52;
      case 80:
        return this.popState(), 55;
      case 81:
        return this.pushState("text"), 54;
      case 82:
        return this.popState(), 57;
      case 83:
        return this.pushState("text"), 56;
      case 84:
        return 58;
      case 85:
        return this.pushState("text"), 67;
      case 86:
        return this.popState(), 64;
      case 87:
        return this.pushState("text"), 63;
      case 88:
        return this.popState(), 49;
      case 89:
        return this.pushState("text"), 48;
      case 90:
        return this.popState(), 69;
      case 91:
        return this.popState(), 71;
      case 92:
        return 116;
      case 93:
        return this.pushState("trapText"), 68;
      case 94:
        return this.pushState("trapText"), 70;
      case 95:
        return 117;
      case 96:
        return 67;
      case 97:
        return 89;
      case 98:
        return "SEP";
      case 99:
        return 88;
      case 103:
        return 108;
      case 104:
        return 113;
      case 105:
        return 115;
      case 106:
        return this.popState(), 62;
      case 107:
        return this.pushState("text"), 62;
      case 108:
        return this.popState(), 51;
      case 109:
        return this.pushState("text"), 50;
      case 110:
        return this.popState(), 31;
      case 111:
        return this.pushState("text"), 29;
      case 112:
        return this.popState(), 66;
      case 113:
        return this.pushState("text"), 65;
      case 115:
        return "QUOTE";
      case 116:
        return 9;
      case 117:
        return 10;
      case 118:
        return 11;
    }
  }, "anonymous"), rules: [/^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:@\{)/, /^(?:["])/, /^(?:["])/, /^(?:[^\"]+)/, /^(?:[^}^"]+)/, /^(?:\})/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["][`])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:["])/, /^(?:style\b)/, /^(?:default\b)/, /^(?:linkStyle\b)/, /^(?:interpolate\b)/, /^(?:classDef\b)/, /^(?:class\b)/, /^(?:href[\s])/, /^(?:click[\s]+)/, /^(?:[\s\n])/, /^(?:[^\s\n]*)/, /^(?:flowchart-elk\b)/, /^(?:graph\b)/, /^(?:flowchart\b)/, /^(?:subgraph\b)/, /^(?:end\b\s*)/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:(\r?\n)*\s*\n)/, /^(?:\s*LR\b)/, /^(?:\s*RL\b)/, /^(?:\s*TB\b)/, /^(?:\s*BT\b)/, /^(?:\s*TD\b)/, /^(?:\s*BR\b)/, /^(?:\s*<)/, /^(?:\s*>)/, /^(?:\s*\^)/, /^(?:\s*v\b)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:[0-9]+)/, /^(?:#)/, /^(?::::)/, /^(?::)/, /^(?:&)/, /^(?:;)/, /^(?:,)/, /^(?:\*)/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?--\s*)/, /^(?:[^-]|-(?!-)+)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?==\s*)/, /^(?:[^=]|=(?!))/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?:\s*[xo<]?-\.\s*)/, /^(?:[^\.]|\.(?!))/, /^(?:\s*~~[\~]+\s*)/, /^(?:[-/\)][\)])/, /^(?:[^\(\)\[\]\{\}]|!\)+)/, /^(?:\(-)/, /^(?:\]\))/, /^(?:\(\[)/, /^(?:\]\])/, /^(?:\[\[)/, /^(?:\[\|)/, /^(?:>)/, /^(?:\)\])/, /^(?:\[\()/, /^(?:\)\)\))/, /^(?:\(\(\()/, /^(?:[\\(?=\])][\]])/, /^(?:\/(?=\])\])/, /^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/, /^(?:\[\/)/, /^(?:\[\\)/, /^(?:<)/, /^(?:>)/, /^(?:\^)/, /^(?:\\\|)/, /^(?:v\b)/, /^(?:\*)/, /^(?:#)/, /^(?:&)/, /^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/, /^(?:-)/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\|)/, /^(?:\|)/, /^(?:\))/, /^(?:\()/, /^(?:\])/, /^(?:\[)/, /^(?:(\}))/, /^(?:\{)/, /^(?:[^\[\]\(\)\{\}\|\"]+)/, /^(?:")/, /^(?:(\r?\n)+)/, /^(?:\s)/, /^(?:$)/], conditions: { shapeDataEndBracket: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, shapeDataStr: { rules: [9, 10, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, shapeData: { rules: [8, 11, 12, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, callbackargs: { rules: [17, 18, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, callbackname: { rules: [14, 15, 16, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, href: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, click: { rules: [21, 24, 33, 34, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, dottedEdgeText: { rules: [21, 24, 73, 75, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, thickEdgeText: { rules: [21, 24, 70, 72, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, edgeText: { rules: [21, 24, 67, 69, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, trapText: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 90, 91, 92, 93, 94, 107, 109, 111, 113], inclusive: false }, ellipseText: { rules: [21, 24, 76, 77, 78, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, text: { rules: [21, 24, 76, 79, 80, 81, 82, 83, 86, 87, 88, 89, 93, 94, 106, 107, 108, 109, 110, 111, 112, 113, 114], inclusive: false }, vertex: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, dir: { rules: [21, 24, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, acc_descr_multiline: { rules: [5, 6, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, acc_descr: { rules: [3, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, acc_title: { rules: [1, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, md_string: { rules: [19, 20, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, string: { rules: [21, 22, 23, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, INITIAL: { rules: [0, 2, 4, 7, 13, 21, 24, 25, 26, 27, 28, 29, 30, 31, 32, 35, 36, 37, 38, 39, 40, 41, 42, 43, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 70, 71, 73, 74, 76, 79, 81, 83, 84, 85, 87, 89, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 107, 109, 111, 113, 115, 116, 117, 118], inclusive: true } } };
  function t210() {
    this.yy = {};
  }
  return t02.lexer = t110, iZ(t210, "Parser"), t210.prototype = t02, t02.Parser = t210, new t210();
}();
AF.parser = AF;
var Az = iZ((t33, e10) => rK(rZ(t33, "r"), rZ(t33, "g"), rZ(t33, "b"), e10), "fade");
let AU = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: AF, db: AP, renderer: { getClasses: A$, draw: AB }, styles: iZ((t33) => `.label {
    font-family: ${t33.fontFamily};
    color: ${t33.nodeTextColor || t33.textColor};
  }
  .cluster-label text {
    fill: ${t33.titleColor};
  }
  .cluster-label span {
    color: ${t33.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${t33.nodeTextColor || t33.textColor};
    color: ${t33.nodeTextColor || t33.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t33.mainBkg};
    stroke: ${t33.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${t33.lineColor} !important;
    stroke-width: 0;
    stroke: ${t33.lineColor};
  }

  .arrowheadPath {
    fill: ${t33.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t33.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t33.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t33.edgeLabelBackground};
    p {
      background-color: ${t33.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${t33.edgeLabelBackground};
      fill: ${t33.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Az(t33.edgeLabelBackground, 0.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${t33.clusterBkg};
    stroke: ${t33.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t33.titleColor};
  }

  .cluster span {
    color: ${t33.titleColor};
  }
  /* .cluster div {
    color: ${t33.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t33.fontFamily};
    font-size: 12px;
    background: ${t33.tertiaryColor};
    border: 1px solid ${t33.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t33.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${t33.edgeLabelBackground};
    p {
      background-color: ${t33.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${t33.edgeLabelBackground};
      fill: ${t33.edgeLabelBackground};
    }
    text-align: center;
  }
`, "getStyles"), init: iZ((t33) => {
  t33.flowchart || (t33.flowchart = {}), t33.layout && nI({ layout: t33.layout }), t33.flowchart.arrowMarkerAbsolute = t33.arrowMarkerAbsolute, nI({ flowchart: { arrowMarkerAbsolute: t33.arrowMarkerAbsolute } }), AP.clear(), AP.setGen("gen-2");
}, "init") } }, Symbol.toStringTag, { value: "Module" })), AG = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i, Aq = [];
for (let t33 = 0; t33 < 256; ++t33) Aq.push((t33 + 256).toString(16).slice(1));
function AY(t33, e10) {
  return t33 << e10 | t33 >>> 32 - e10;
}
let AH = function(t33, e10, r10) {
  function i10(t34, e11, i11, n10) {
    var a10;
    if ("string" == typeof t34 && (t34 = function(t35) {
      t35 = unescape(encodeURIComponent(t35));
      let e12 = [];
      for (let r11 = 0; r11 < t35.length; ++r11) e12.push(t35.charCodeAt(r11));
      return e12;
    }(t34)), "string" == typeof e11 && (e11 = function(t35) {
      let e12;
      if (!("string" == typeof t35 && AG.test(t35))) throw TypeError("Invalid UUID");
      let r11 = new Uint8Array(16);
      return r11[0] = (e12 = parseInt(t35.slice(0, 8), 16)) >>> 24, r11[1] = e12 >>> 16 & 255, r11[2] = e12 >>> 8 & 255, r11[3] = 255 & e12, r11[4] = (e12 = parseInt(t35.slice(9, 13), 16)) >>> 8, r11[5] = 255 & e12, r11[6] = (e12 = parseInt(t35.slice(14, 18), 16)) >>> 8, r11[7] = 255 & e12, r11[8] = (e12 = parseInt(t35.slice(19, 23), 16)) >>> 8, r11[9] = 255 & e12, r11[10] = (e12 = parseInt(t35.slice(24, 36), 16)) / 1099511627776 & 255, r11[11] = e12 / 4294967296 & 255, r11[12] = e12 >>> 24 & 255, r11[13] = e12 >>> 16 & 255, r11[14] = e12 >>> 8 & 255, r11[15] = 255 & e12, r11;
    }(e11)), (null === (a10 = e11) || void 0 === a10 ? void 0 : a10.length) !== 16) throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
    let o10 = new Uint8Array(16 + t34.length);
    if (o10.set(e11), o10.set(t34, e11.length), (o10 = r10(o10))[6] = 15 & o10[6] | 80, o10[8] = 63 & o10[8] | 128, i11) {
      n10 = n10 || 0;
      for (let t35 = 0; t35 < 16; ++t35) i11[n10 + t35] = o10[t35];
      return i11;
    }
    return function(t35) {
      let e12 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
      return Aq[t35[e12 + 0]] + Aq[t35[e12 + 1]] + Aq[t35[e12 + 2]] + Aq[t35[e12 + 3]] + "-" + Aq[t35[e12 + 4]] + Aq[t35[e12 + 5]] + "-" + Aq[t35[e12 + 6]] + Aq[t35[e12 + 7]] + "-" + Aq[t35[e12 + 8]] + Aq[t35[e12 + 9]] + "-" + Aq[t35[e12 + 10]] + Aq[t35[e12 + 11]] + Aq[t35[e12 + 12]] + Aq[t35[e12 + 13]] + Aq[t35[e12 + 14]] + Aq[t35[e12 + 15]];
    }(o10);
  }
  try {
    i10.name = "v5";
  } catch (t34) {
  }
  return i10.DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8", i10.URL = "6ba7b811-9dad-11d1-80b4-00c04fd430c8", i10;
}(0, 0, function(t33) {
  let e10 = [1518500249, 1859775393, 2400959708, 3395469782], r10 = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
  if ("string" == typeof t33) {
    let e11 = unescape(encodeURIComponent(t33));
    t33 = [];
    for (let r11 = 0; r11 < e11.length; ++r11) t33.push(e11.charCodeAt(r11));
  } else Array.isArray(t33) || (t33 = Array.prototype.slice.call(t33));
  t33.push(128);
  let i10 = Math.ceil((t33.length / 4 + 2) / 16), n10 = Array(i10);
  for (let e11 = 0; e11 < i10; ++e11) {
    let r11 = new Uint32Array(16);
    for (let i11 = 0; i11 < 16; ++i11) r11[i11] = t33[64 * e11 + 4 * i11] << 24 | t33[64 * e11 + 4 * i11 + 1] << 16 | t33[64 * e11 + 4 * i11 + 2] << 8 | t33[64 * e11 + 4 * i11 + 3];
    n10[e11] = r11;
  }
  n10[i10 - 1][14] = (t33.length - 1) * 8 / 4294967296, n10[i10 - 1][14] = Math.floor(n10[i10 - 1][14]), n10[i10 - 1][15] = (t33.length - 1) * 8 & 4294967295;
  for (let t34 = 0; t34 < i10; ++t34) {
    let i11 = new Uint32Array(80);
    for (let e11 = 0; e11 < 16; ++e11) i11[e11] = n10[t34][e11];
    for (let t35 = 16; t35 < 80; ++t35) i11[t35] = AY(i11[t35 - 3] ^ i11[t35 - 8] ^ i11[t35 - 14] ^ i11[t35 - 16], 1);
    let a10 = r10[0], o10 = r10[1], s10 = r10[2], l10 = r10[3], h10 = r10[4];
    for (let t35 = 0; t35 < 80; ++t35) {
      let r11 = Math.floor(t35 / 20), n11 = AY(a10, 5) + function(t36, e11, r12, i12) {
        switch (t36) {
          case 0:
            return e11 & r12 ^ ~e11 & i12;
          case 1:
          case 3:
            return e11 ^ r12 ^ i12;
          case 2:
            return e11 & r12 ^ e11 & i12 ^ r12 & i12;
        }
      }(r11, o10, s10, l10) + h10 + e10[r11] + i11[t35] >>> 0;
      h10 = l10, l10 = s10, s10 = AY(o10, 30) >>> 0, o10 = a10, a10 = n11;
    }
    r10[0] = r10[0] + a10 >>> 0, r10[1] = r10[1] + o10 >>> 0, r10[2] = r10[2] + s10 >>> 0, r10[3] = r10[3] + l10 >>> 0, r10[4] = r10[4] + h10 >>> 0;
  }
  return [r10[0] >> 24 & 255, r10[0] >> 16 & 255, r10[0] >> 8 & 255, 255 & r10[0], r10[1] >> 24 & 255, r10[1] >> 16 & 255, r10[1] >> 8 & 255, 255 & r10[1], r10[2] >> 24 & 255, r10[2] >> 16 & 255, r10[2] >> 8 & 255, 255 & r10[2], r10[3] >> 24 & 255, r10[3] >> 16 & 255, r10[3] >> 8 & 255, 255 & r10[3], r10[4] >> 24 & 255, r10[4] >> 16 & 255, r10[4] >> 8 & 255, 255 & r10[4]];
});
var Aj = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [6, 8, 10, 20, 22, 24, 26, 27, 28], r10 = [1, 10], i10 = [1, 11], n10 = [1, 12], a10 = [1, 13], o10 = [1, 14], s10 = [1, 15], l10 = [1, 21], h10 = [1, 22], u10 = [1, 23], d10 = [1, 24], p10 = [1, 25], g10 = [6, 8, 10, 13, 15, 18, 19, 20, 22, 24, 26, 27, 28, 41, 42, 43, 44, 45], f10 = [1, 34], y10 = [27, 28, 46, 47], v10 = [41, 42, 43, 44, 45], x10 = [17, 34], b10 = [1, 54], w10 = [1, 53], k10 = [17, 34, 36, 38], _10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, ER_DIAGRAM: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NEWLINE: 10, entityName: 11, relSpec: 12, ":": 13, role: 14, BLOCK_START: 15, attributes: 16, BLOCK_STOP: 17, SQS: 18, SQE: 19, title: 20, title_value: 21, acc_title: 22, acc_title_value: 23, acc_descr: 24, acc_descr_value: 25, acc_descr_multiline_value: 26, ALPHANUM: 27, ENTITY_NAME: 28, attribute: 29, attributeType: 30, attributeName: 31, attributeKeyTypeList: 32, attributeComment: 33, ATTRIBUTE_WORD: 34, attributeKeyType: 35, COMMA: 36, ATTRIBUTE_KEY: 37, COMMENT: 38, cardinality: 39, relType: 40, ZERO_OR_ONE: 41, ZERO_OR_MORE: 42, ONE_OR_MORE: 43, ONLY_ONE: 44, MD_PARENT: 45, NON_IDENTIFYING: 46, IDENTIFYING: 47, WORD: 48, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "ER_DIAGRAM", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 13: ":", 15: "BLOCK_START", 17: "BLOCK_STOP", 18: "SQS", 19: "SQE", 20: "title", 21: "title_value", 22: "acc_title", 23: "acc_title_value", 24: "acc_descr", 25: "acc_descr_value", 26: "acc_descr_multiline_value", 27: "ALPHANUM", 28: "ENTITY_NAME", 34: "ATTRIBUTE_WORD", 36: "COMMA", 37: "ATTRIBUTE_KEY", 38: "COMMENT", 41: "ZERO_OR_ONE", 42: "ZERO_OR_MORE", 43: "ONE_OR_MORE", 44: "ONLY_ONE", 45: "MD_PARENT", 46: "NON_IDENTIFYING", 47: "IDENTIFYING", 48: "WORD" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 5], [9, 4], [9, 3], [9, 1], [9, 7], [9, 6], [9, 4], [9, 2], [9, 2], [9, 2], [9, 1], [11, 1], [11, 1], [16, 1], [16, 2], [29, 2], [29, 3], [29, 3], [29, 4], [30, 1], [31, 1], [32, 1], [32, 3], [35, 1], [33, 1], [12, 3], [39, 1], [39, 1], [39, 1], [39, 1], [39, 1], [40, 1], [40, 1], [14, 1], [14, 1], [14, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 1:
        break;
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[s11 - 1].push(a11[s11]), this.$ = a11[s11 - 1];
        break;
      case 4:
      case 5:
      case 19:
      case 43:
      case 27:
      case 28:
      case 31:
        this.$ = a11[s11];
        break;
      case 8:
        i11.addEntity(a11[s11 - 4]), i11.addEntity(a11[s11 - 2]), i11.addRelationship(a11[s11 - 4], a11[s11], a11[s11 - 2], a11[s11 - 3]);
        break;
      case 9:
        i11.addEntity(a11[s11 - 3]), i11.addAttributes(a11[s11 - 3], a11[s11 - 1]);
        break;
      case 10:
        i11.addEntity(a11[s11 - 2]);
        break;
      case 11:
        i11.addEntity(a11[s11]);
        break;
      case 12:
        i11.addEntity(a11[s11 - 6], a11[s11 - 4]), i11.addAttributes(a11[s11 - 6], a11[s11 - 1]);
        break;
      case 13:
        i11.addEntity(a11[s11 - 5], a11[s11 - 3]);
        break;
      case 14:
        i11.addEntity(a11[s11 - 3], a11[s11 - 1]);
        break;
      case 15:
      case 16:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 17:
      case 18:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 20:
      case 41:
      case 42:
      case 32:
        this.$ = a11[s11].replace(/"/g, "");
        break;
      case 21:
      case 29:
        this.$ = [a11[s11]];
        break;
      case 22:
        a11[s11].push(a11[s11 - 1]), this.$ = a11[s11];
        break;
      case 23:
        this.$ = { attributeType: a11[s11 - 1], attributeName: a11[s11] };
        break;
      case 24:
        this.$ = { attributeType: a11[s11 - 2], attributeName: a11[s11 - 1], attributeKeyTypeList: a11[s11] };
        break;
      case 25:
        this.$ = { attributeType: a11[s11 - 2], attributeName: a11[s11 - 1], attributeComment: a11[s11] };
        break;
      case 26:
        this.$ = { attributeType: a11[s11 - 3], attributeName: a11[s11 - 2], attributeKeyTypeList: a11[s11 - 1], attributeComment: a11[s11] };
        break;
      case 30:
        a11[s11 - 2].push(a11[s11]), this.$ = a11[s11 - 2];
        break;
      case 33:
        this.$ = { cardA: a11[s11], relType: a11[s11 - 1], cardB: a11[s11 - 2] };
        break;
      case 34:
        this.$ = i11.Cardinality.ZERO_OR_ONE;
        break;
      case 35:
        this.$ = i11.Cardinality.ZERO_OR_MORE;
        break;
      case 36:
        this.$ = i11.Cardinality.ONE_OR_MORE;
        break;
      case 37:
        this.$ = i11.Cardinality.ONLY_ONE;
        break;
      case 38:
        this.$ = i11.Cardinality.MD_PARENT;
        break;
      case 39:
        this.$ = i11.Identification.NON_IDENTIFYING;
        break;
      case 40:
        this.$ = i11.Identification.IDENTIFYING;
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, t33(e10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: 9, 20: r10, 22: i10, 24: n10, 26: a10, 27: o10, 28: s10 }, t33(e10, [2, 7], { 1: [2, 1] }), t33(e10, [2, 3]), { 9: 16, 11: 9, 20: r10, 22: i10, 24: n10, 26: a10, 27: o10, 28: s10 }, t33(e10, [2, 5]), t33(e10, [2, 6]), t33(e10, [2, 11], { 12: 17, 39: 20, 15: [1, 18], 18: [1, 19], 41: l10, 42: h10, 43: u10, 44: d10, 45: p10 }), { 21: [1, 26] }, { 23: [1, 27] }, { 25: [1, 28] }, t33(e10, [2, 18]), t33(g10, [2, 19]), t33(g10, [2, 20]), t33(e10, [2, 4]), { 11: 29, 27: o10, 28: s10 }, { 16: 30, 17: [1, 31], 29: 32, 30: 33, 34: f10 }, { 11: 35, 27: o10, 28: s10 }, { 40: 36, 46: [1, 37], 47: [1, 38] }, t33(y10, [2, 34]), t33(y10, [2, 35]), t33(y10, [2, 36]), t33(y10, [2, 37]), t33(y10, [2, 38]), t33(e10, [2, 15]), t33(e10, [2, 16]), t33(e10, [2, 17]), { 13: [1, 39] }, { 17: [1, 40] }, t33(e10, [2, 10]), { 16: 41, 17: [2, 21], 29: 32, 30: 33, 34: f10 }, { 31: 42, 34: [1, 43] }, { 34: [2, 27] }, { 19: [1, 44] }, { 39: 45, 41: l10, 42: h10, 43: u10, 44: d10, 45: p10 }, t33(v10, [2, 39]), t33(v10, [2, 40]), { 14: 46, 27: [1, 49], 28: [1, 48], 48: [1, 47] }, t33(e10, [2, 9]), { 17: [2, 22] }, t33(x10, [2, 23], { 32: 50, 33: 51, 35: 52, 37: b10, 38: w10 }), t33([17, 34, 37, 38], [2, 28]), t33(e10, [2, 14], { 15: [1, 55] }), t33([27, 28], [2, 33]), t33(e10, [2, 8]), t33(e10, [2, 41]), t33(e10, [2, 42]), t33(e10, [2, 43]), t33(x10, [2, 24], { 33: 56, 36: [1, 57], 38: w10 }), t33(x10, [2, 25]), t33(k10, [2, 29]), t33(x10, [2, 32]), t33(k10, [2, 31]), { 16: 58, 17: [1, 59], 29: 32, 30: 33, 34: f10 }, t33(x10, [2, 26]), { 35: 60, 37: b10 }, { 17: [1, 61] }, t33(e10, [2, 13]), t33(k10, [2, 30]), t33(e10, [2, 12])], defaultActions: { 34: [2, 27], 41: [2, 22] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C10, S10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A10 = "";
        for (_11 in C10 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C10.push("'" + this.terminals_[_11] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C10 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S10.$ = n11[n11.length - T11], S10._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S10._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S10, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S10.$), a11.push(S10._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, T10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return this.begin("acc_title"), 22;
      case 1:
        return this.popState(), "acc_title_value";
      case 2:
        return this.begin("acc_descr"), 24;
      case 3:
        return this.popState(), "acc_descr_value";
      case 4:
        this.begin("acc_descr_multiline");
        break;
      case 5:
        this.popState();
        break;
      case 6:
        return "acc_descr_multiline_value";
      case 7:
        return 10;
      case 8:
      case 15:
      case 20:
        break;
      case 9:
        return 8;
      case 10:
        return 28;
      case 11:
        return 48;
      case 12:
        return 4;
      case 13:
        return this.begin("block"), 15;
      case 14:
        return 36;
      case 16:
        return 37;
      case 17:
      case 18:
        return 34;
      case 19:
        return 38;
      case 21:
        return this.popState(), 17;
      case 22:
      case 54:
        return e11.yytext[0];
      case 23:
        return 18;
      case 24:
        return 19;
      case 25:
      case 29:
      case 30:
      case 43:
        return 41;
      case 26:
      case 27:
      case 28:
      case 36:
      case 38:
      case 45:
        return 43;
      case 31:
      case 32:
      case 33:
      case 34:
      case 35:
      case 37:
      case 44:
        return 42;
      case 39:
      case 40:
      case 41:
      case 42:
        return 44;
      case 46:
        return 45;
      case 47:
      case 50:
      case 51:
      case 52:
        return 46;
      case 48:
      case 49:
        return 47;
      case 53:
        return 27;
      case 55:
        return 6;
    }
  }, "anonymous"), rules: [/^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:[\s]+)/i, /^(?:"[^"%\r\n\v\b\\]+")/i, /^(?:"[^"]*")/i, /^(?:erDiagram\b)/i, /^(?:\{)/i, /^(?:,)/i, /^(?:\s+)/i, /^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i, /^(?:(.*?)[~](.*?)*[~])/i, /^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i, /^(?:"[^"]*")/i, /^(?:[\n]+)/i, /^(?:\})/i, /^(?:.)/i, /^(?:\[)/i, /^(?:\])/i, /^(?:one or zero\b)/i, /^(?:one or more\b)/i, /^(?:one or many\b)/i, /^(?:1\+)/i, /^(?:\|o\b)/i, /^(?:zero or one\b)/i, /^(?:zero or more\b)/i, /^(?:zero or many\b)/i, /^(?:0\+)/i, /^(?:\}o\b)/i, /^(?:many\(0\))/i, /^(?:many\(1\))/i, /^(?:many\b)/i, /^(?:\}\|)/i, /^(?:one\b)/i, /^(?:only one\b)/i, /^(?:1\b)/i, /^(?:\|\|)/i, /^(?:o\|)/i, /^(?:o\{)/i, /^(?:\|\{)/i, /^(?:\s*u\b)/i, /^(?:\.\.)/i, /^(?:--)/i, /^(?:to\b)/i, /^(?:optionally to\b)/i, /^(?:\.-)/i, /^(?:-\.)/i, /^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i, /^(?:.)/i, /^(?:$)/i], conditions: { acc_descr_multiline: { rules: [5, 6], inclusive: false }, acc_descr: { rules: [3], inclusive: false }, acc_title: { rules: [1], inclusive: false }, block: { rules: [14, 15, 16, 17, 18, 19, 20, 21, 22], inclusive: false }, INITIAL: { rules: [0, 2, 4, 7, 8, 9, 10, 11, 12, 13, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55], inclusive: true } } };
  function E10() {
    this.yy = {};
  }
  return _10.lexer = T10, iZ(E10, "Parser"), E10.prototype = _10, _10.Parser = E10, new E10();
}();
Aj.parser = Aj;
var AW = /* @__PURE__ */ new Map(), AV = [], AX = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;
  return AW.has(t33) ? !AW.get(t33).alias && e10 && (AW.get(t33).alias = e10, i0.info(`Add alias '${e10}' to entity '${t33}'`)) : (AW.set(t33, { attributes: [], alias: e10 }), i0.info("Added new entity :", t33)), AW.get(t33);
}, "addEntity"), AK = iZ(() => AW, "getEntities"), AZ = iZ(function(t33, e10) {
  let r10, i10 = AX(t33);
  for (r10 = e10.length - 1; r10 >= 0; r10--) i10.attributes.push(e10[r10]), i0.debug("Added attribute ", e10[r10].attributeName);
}, "addAttributes"), AQ = iZ(function(t33, e10, r10, i10) {
  let n10 = { entityA: t33, roleA: e10, entityB: r10, relSpec: i10 };
  AV.push(n10), i0.debug("Added new relationship :", n10);
}, "addRelationship"), AJ = iZ(() => AV, "getRelationships"), A0 = iZ(function() {
  AW = /* @__PURE__ */ new Map(), AV = [], ag();
}, "clear"), A1 = { Cardinality: { ZERO_OR_ONE: "ZERO_OR_ONE", ZERO_OR_MORE: "ZERO_OR_MORE", ONE_OR_MORE: "ONE_OR_MORE", ONLY_ONE: "ONLY_ONE", MD_PARENT: "MD_PARENT" }, Identification: { NON_IDENTIFYING: "NON_IDENTIFYING", IDENTIFYING: "IDENTIFYING" }, getConfig: iZ(() => nM().er, "getConfig"), addEntity: AX, addAttributes: AZ, getEntities: AK, addRelationship: AQ, getRelationships: AJ, clear: A0, setAccTitle: af, getAccTitle: am, setAccDescription: ay, getAccDescription: av, setDiagramTitle: ax, getDiagramTitle: ab }, A2 = { ONLY_ONE_START: "ONLY_ONE_START", ONLY_ONE_END: "ONLY_ONE_END", ZERO_OR_ONE_START: "ZERO_OR_ONE_START", ZERO_OR_ONE_END: "ZERO_OR_ONE_END", ONE_OR_MORE_START: "ONE_OR_MORE_START", ONE_OR_MORE_END: "ONE_OR_MORE_END", ZERO_OR_MORE_START: "ZERO_OR_MORE_START", ZERO_OR_MORE_END: "ZERO_OR_MORE_END", MD_PARENT_END: "MD_PARENT_END", MD_PARENT_START: "MD_PARENT_START" }, A4 = iZ(function(t33, e10) {
  let r10;
  t33.append("defs").append("marker").attr("id", A2.MD_PARENT_START).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", A2.MD_PARENT_END).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", A2.ONLY_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M9,0 L9,18 M15,0 L15,18"), t33.append("defs").append("marker").attr("id", A2.ONLY_ONE_END).attr("refX", 18).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M3,0 L3,18 M9,0 L9,18"), (r10 = t33.append("defs").append("marker").attr("id", A2.ZERO_OR_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto")).append("circle").attr("stroke", e10.stroke).attr("fill", "white").attr("cx", 21).attr("cy", 9).attr("r", 6), r10.append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M9,0 L9,18"), (r10 = t33.append("defs").append("marker").attr("id", A2.ZERO_OR_ONE_END).attr("refX", 30).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto")).append("circle").attr("stroke", e10.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 9).attr("r", 6), r10.append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M21,0 L21,18"), t33.append("defs").append("marker").attr("id", A2.ONE_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"), t33.append("defs").append("marker").attr("id", A2.ONE_OR_MORE_END).attr("refX", 27).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"), (r10 = t33.append("defs").append("marker").attr("id", A2.ZERO_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto")).append("circle").attr("stroke", e10.stroke).attr("fill", "white").attr("cx", 48).attr("cy", 18).attr("r", 6), r10.append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M0,18 Q18,0 36,18 Q18,36 0,18"), (r10 = t33.append("defs").append("marker").attr("id", A2.ZERO_OR_MORE_END).attr("refX", 39).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto")).append("circle").attr("stroke", e10.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 18).attr("r", 6), r10.append("path").attr("stroke", e10.stroke).attr("fill", "none").attr("d", "M21,18 Q39,0 57,18 Q39,36 21,18");
}, "insertMarkers"), A5 = { ERMarkers: A2, insertMarkers: A4 }, A3 = /[^\dA-Za-z](\W)*/g, A6 = {}, A7 = /* @__PURE__ */ new Map(), A8 = iZ(function(t33) {
  for (let e10 of Object.keys(t33)) A6[e10] = t33[e10];
}, "setConf"), A9 = iZ((t33, e10, r10) => {
  let i10 = A6.entityPadding / 3, n10 = A6.entityPadding / 3, a10 = 0.85 * A6.fontSize, o10 = e10.node().getBBox(), s10 = [], l10 = false, h10 = false, u10 = 0, d10 = 0, p10 = 0, g10 = 0, f10 = o10.height + 2 * i10, y10 = 1;
  r10.forEach((t34) => {
    void 0 !== t34.attributeKeyTypeList && t34.attributeKeyTypeList.length > 0 && (l10 = true), void 0 !== t34.attributeComment && (h10 = true);
  }), r10.forEach((r11) => {
    let n11 = `${e10.node().id}-attr-${y10}`, o11 = 0, v11 = n2(r11.attributeType), x11 = t33.append("text").classed("er entityLabel", true).attr("id", `${n11}-type`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", nM().fontFamily).style("font-size", a10 + "px").text(v11), b11 = t33.append("text").classed("er entityLabel", true).attr("id", `${n11}-name`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", nM().fontFamily).style("font-size", a10 + "px").text(r11.attributeName), w10 = {};
    w10.tn = x11, w10.nn = b11;
    let k10 = x11.node().getBBox(), _10 = b11.node().getBBox();
    if (u10 = Math.max(u10, k10.width), d10 = Math.max(d10, _10.width), o11 = Math.max(k10.height, _10.height), l10) {
      let e11 = void 0 !== r11.attributeKeyTypeList ? r11.attributeKeyTypeList.join(",") : "", i11 = t33.append("text").classed("er entityLabel", true).attr("id", `${n11}-key`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", nM().fontFamily).style("font-size", a10 + "px").text(e11);
      w10.kn = i11;
      let s11 = i11.node().getBBox();
      p10 = Math.max(p10, s11.width), o11 = Math.max(o11, s11.height);
    }
    if (h10) {
      let e11 = t33.append("text").classed("er entityLabel", true).attr("id", `${n11}-comment`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", nM().fontFamily).style("font-size", a10 + "px").text(r11.attributeComment || "");
      w10.cn = e11;
      let i11 = e11.node().getBBox();
      g10 = Math.max(g10, i11.width), o11 = Math.max(o11, i11.height);
    }
    w10.height = o11, s10.push(w10), f10 += o11 + 2 * i10, y10 += 1;
  });
  let v10 = 4;
  l10 && (v10 += 2), h10 && (v10 += 2);
  let x10 = u10 + d10 + p10 + g10, b10 = { width: Math.max(A6.minEntityWidth, Math.max(o10.width + 2 * A6.entityPadding, x10 + n10 * v10)), height: r10.length > 0 ? f10 : Math.max(A6.minEntityHeight, o10.height + 2 * A6.entityPadding) };
  if (r10.length > 0) {
    let r11 = Math.max(0, (b10.width - x10 - n10 * v10) / (v10 / 2));
    e10.attr("transform", "translate(" + b10.width / 2 + "," + (i10 + o10.height / 2) + ")");
    let a11 = o10.height + 2 * i10, f11 = "attributeBoxOdd";
    s10.forEach((e11) => {
      let o11 = a11 + i10 + e11.height / 2;
      e11.tn.attr("transform", "translate(" + n10 + "," + o11 + ")");
      let s11 = t33.insert("rect", "#" + e11.tn.node().id).classed(`er ${f11}`, true).attr("x", 0).attr("y", a11).attr("width", u10 + 2 * n10 + r11).attr("height", e11.height + 2 * i10), y11 = parseFloat(s11.attr("x")) + parseFloat(s11.attr("width"));
      e11.nn.attr("transform", "translate(" + (y11 + n10) + "," + o11 + ")");
      let v11 = t33.insert("rect", "#" + e11.nn.node().id).classed(`er ${f11}`, true).attr("x", y11).attr("y", a11).attr("width", d10 + 2 * n10 + r11).attr("height", e11.height + 2 * i10), x11 = parseFloat(v11.attr("x")) + parseFloat(v11.attr("width"));
      if (l10) {
        e11.kn.attr("transform", "translate(" + (x11 + n10) + "," + o11 + ")");
        let s12 = t33.insert("rect", "#" + e11.kn.node().id).classed(`er ${f11}`, true).attr("x", x11).attr("y", a11).attr("width", p10 + 2 * n10 + r11).attr("height", e11.height + 2 * i10);
        x11 = parseFloat(s12.attr("x")) + parseFloat(s12.attr("width"));
      }
      h10 && (e11.cn.attr("transform", "translate(" + (x11 + n10) + "," + o11 + ")"), t33.insert("rect", "#" + e11.cn.node().id).classed(`er ${f11}`, "true").attr("x", x11).attr("y", a11).attr("width", g10 + 2 * n10 + r11).attr("height", e11.height + 2 * i10)), a11 += e11.height + 2 * i10, f11 = "attributeBoxOdd" === f11 ? "attributeBoxEven" : "attributeBoxOdd";
    });
  } else b10.height = Math.max(A6.minEntityHeight, f10), e10.attr("transform", "translate(" + b10.width / 2 + "," + b10.height / 2 + ")");
  return b10;
}, "drawAttributes"), Lt = iZ(function(t33, e10, r10) {
  let i10;
  return [...e10.keys()].forEach(function(n10) {
    var a10;
    let o10 = Ls(n10, "entity");
    A7.set(n10, o10);
    let s10 = t33.append("g").attr("id", o10);
    i10 = void 0 === i10 ? o10 : i10;
    let l10 = "text-" + o10, h10 = s10.append("text").classed("er entityLabel", true).attr("id", l10).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "middle").style("font-family", nM().fontFamily).style("font-size", A6.fontSize + "px").text(null !== (a10 = e10.get(n10).alias) && void 0 !== a10 ? a10 : n10), { width: u10, height: d10 } = A9(s10, h10, e10.get(n10).attributes), p10 = s10.insert("rect", "#" + l10).classed("er entityBox", true).attr("x", 0).attr("y", 0).attr("width", u10).attr("height", d10).node().getBBox();
    r10.setNode(o10, { width: p10.width, height: p10.height, shape: "rect", id: o10 });
  }), i10;
}, "drawEntities"), Le = iZ(function(t33, e10) {
  e10.nodes().forEach(function(r10) {
    void 0 !== r10 && void 0 !== e10.node(r10) && t33.select("#" + r10).attr("transform", "translate(" + (e10.node(r10).x - e10.node(r10).width / 2) + "," + (e10.node(r10).y - e10.node(r10).height / 2) + " )");
  });
}, "adjustEntities"), Lr = iZ(function(t33) {
  return (t33.entityA + t33.roleA + t33.entityB).replace(/\s/g, "");
}, "getEdgeName"), Li = iZ(function(t33, e10) {
  return t33.forEach(function(t34) {
    e10.setEdge(A7.get(t34.entityA), A7.get(t34.entityB), { relationship: t34 }, Lr(t34));
  }), t33;
}, "addRelationships"), Ln = 0, La = iZ(function(t33, e10, r10, i10, n10) {
  Ln++;
  let a10 = r10.edge(A7.get(e10.entityA), A7.get(e10.entityB), Lr(e10)), o10 = px().x(function(t34) {
    return t34.x;
  }).y(function(t34) {
    return t34.y;
  }).curve(pC), s10 = t33.insert("path", "#" + i10).classed("er relationshipLine", true).attr("d", o10(a10.points)).style("stroke", A6.stroke).style("fill", "none");
  e10.relSpec.relType === n10.db.Identification.NON_IDENTIFYING && s10.attr("stroke-dasharray", "8,8");
  let l10 = "";
  switch (A6.arrowMarkerAbsolute && (l10 = (l10 = (l10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), e10.relSpec.cardA) {
    case n10.db.Cardinality.ZERO_OR_ONE:
      s10.attr("marker-end", "url(" + l10 + "#" + A5.ERMarkers.ZERO_OR_ONE_END + ")");
      break;
    case n10.db.Cardinality.ZERO_OR_MORE:
      s10.attr("marker-end", "url(" + l10 + "#" + A5.ERMarkers.ZERO_OR_MORE_END + ")");
      break;
    case n10.db.Cardinality.ONE_OR_MORE:
      s10.attr("marker-end", "url(" + l10 + "#" + A5.ERMarkers.ONE_OR_MORE_END + ")");
      break;
    case n10.db.Cardinality.ONLY_ONE:
      s10.attr("marker-end", "url(" + l10 + "#" + A5.ERMarkers.ONLY_ONE_END + ")");
      break;
    case n10.db.Cardinality.MD_PARENT:
      s10.attr("marker-end", "url(" + l10 + "#" + A5.ERMarkers.MD_PARENT_END + ")");
  }
  switch (e10.relSpec.cardB) {
    case n10.db.Cardinality.ZERO_OR_ONE:
      s10.attr("marker-start", "url(" + l10 + "#" + A5.ERMarkers.ZERO_OR_ONE_START + ")");
      break;
    case n10.db.Cardinality.ZERO_OR_MORE:
      s10.attr("marker-start", "url(" + l10 + "#" + A5.ERMarkers.ZERO_OR_MORE_START + ")");
      break;
    case n10.db.Cardinality.ONE_OR_MORE:
      s10.attr("marker-start", "url(" + l10 + "#" + A5.ERMarkers.ONE_OR_MORE_START + ")");
      break;
    case n10.db.Cardinality.ONLY_ONE:
      s10.attr("marker-start", "url(" + l10 + "#" + A5.ERMarkers.ONLY_ONE_START + ")");
      break;
    case n10.db.Cardinality.MD_PARENT:
      s10.attr("marker-start", "url(" + l10 + "#" + A5.ERMarkers.MD_PARENT_START + ")");
  }
  let h10 = s10.node().getTotalLength(), u10 = s10.node().getPointAtLength(0.5 * h10), d10 = "rel" + Ln, p10 = e10.roleA.split(/<br ?\/>/g), g10 = t33.append("text").classed("er relationshipLabel", true).attr("id", d10).attr("x", u10.x).attr("y", u10.y).style("text-anchor", "middle").style("dominant-baseline", "middle").style("font-family", nM().fontFamily).style("font-size", A6.fontSize + "px");
  if (1 == p10.length) g10.text(e10.roleA);
  else {
    let t34 = -(0.5 * (p10.length - 1));
    p10.forEach((e11, r11) => {
      g10.append("tspan").attr("x", u10.x).attr("dy", `${0 === r11 ? t34 : 1}em`).text(e11);
    });
  }
  let f10 = g10.node().getBBox();
  t33.insert("rect", "#" + d10).classed("er relationshipLabelBox", true).attr("x", u10.x - f10.width / 2).attr("y", u10.y - f10.height / 2).attr("width", f10.width).attr("height", f10.height);
}, "drawRelationshipFromLayout"), Lo = iZ(function(t33, e10, r10, i10) {
  let n10, a10;
  A6 = nM().er, i0.info("Drawing ER diagram");
  let o10 = nM().securityLevel;
  "sandbox" === o10 && (n10 = hl("#i" + e10));
  let s10 = ("sandbox" === o10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body")).select(`[id='${e10}']`);
  A5.insertMarkers(s10, A6), a10 = new Eb({ multigraph: true, directed: true, compound: false }).setGraph({ rankdir: A6.layoutDirection, marginx: 20, marginy: 20, nodesep: 100, edgesep: 100, ranksep: 100 }).setDefaultEdgeLabel(function() {
    return {};
  });
  let l10 = Lt(s10, i10.db.getEntities(), a10), h10 = Li(i10.db.getRelationships(), a10);
  E5(a10), Le(s10, a10), h10.forEach(function(t34) {
    La(s10, t34, a10, l10, i10);
  });
  let u10 = A6.diagramPadding;
  gT.insertTitle(s10, "entityTitleText", A6.titleTopMargin, i10.db.getDiagramTitle());
  let d10 = s10.node().getBBox(), p10 = d10.width + 2 * u10, g10 = d10.height + 2 * u10;
  an(s10, g10, p10, A6.useMaxWidth), s10.attr("viewBox", `${d10.x - u10} ${d10.y - u10} ${p10} ${g10}`);
}, "draw");
function Ls() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r10 = t33.replace(A3, "");
  return `${Ll(e10)}${Ll(r10)}${AH(t33, "28e9f9db-3c8d-5aa5-9faf-44286ae5937c")}`;
}
function Ll() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
  return t33.length > 0 ? `${t33}-` : "";
}
iZ(Ls, "generateId"), iZ(Ll, "strWithHyphen");
let Lh = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: Aj, db: A1, renderer: { setConf: A8, draw: Lo }, styles: iZ((t33) => `
  .entityBox {
    fill: ${t33.mainBkg};
    stroke: ${t33.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t33.attributeBackgroundColorOdd};
    stroke: ${t33.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t33.attributeBackgroundColorEven};
    stroke: ${t33.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t33.tertiaryColor};
    opacity: 0.7;
    background-color: ${t33.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t33.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t33.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${t33.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${t33.lineColor} !important;
    stroke-width: 1;
  }
  
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
function Lc(t33, e10) {
  var r10, i10, n10;
  t33.accDescr && (null === (r10 = e10.setAccDescription) || void 0 === r10 || r10.call(e10, t33.accDescr)), t33.accTitle && (null === (i10 = e10.setAccTitle) || void 0 === i10 || i10.call(e10, t33.accTitle)), t33.title && (null === (n10 = e10.setDiagramTitle) || void 0 === n10 || n10.call(e10, t33.title));
}
iZ(Lc, "populateCommonDb");
var Lu = (_l2 = class {
  constructor(t33) {
    this.init = t33, this.records = this.init();
  }
  reset() {
    this.records = this.init();
  }
}, _n13 = new WeakMap(), __privateAdd(_l2, _n13, iZ(_l2, "ImperativeState")), _l2);
function Ld(t33) {
  return "object" == typeof t33 && null !== t33 && "string" == typeof t33.$type;
}
function Lp(t33) {
  return "object" == typeof t33 && null !== t33 && "string" == typeof t33.$refText;
}
function Lg(t33) {
  return "object" == typeof t33 && null !== t33 && Ld(t33.container) && Lp(t33.reference) && "string" == typeof t33.message;
}
class Lf {
  constructor() {
    this.subtypes = {}, this.allSubtypes = {};
  }
  isInstance(t33, e10) {
    return Ld(t33) && this.isSubtype(t33.$type, e10);
  }
  isSubtype(t33, e10) {
    if (t33 === e10) return true;
    let r10 = this.subtypes[t33];
    r10 || (r10 = this.subtypes[t33] = {});
    let i10 = r10[e10];
    if (void 0 !== i10) return i10;
    {
      let i11 = this.computeIsSubtype(t33, e10);
      return r10[e10] = i11, i11;
    }
  }
  getAllSubTypes(t33) {
    let e10 = this.allSubtypes[t33];
    if (e10) return e10;
    {
      let e11 = this.getAllTypes(), r10 = [];
      for (let i10 of e11) this.isSubtype(i10, t33) && r10.push(i10);
      return this.allSubtypes[t33] = r10, r10;
    }
  }
}
function Lm(t33) {
  return "object" == typeof t33 && null !== t33 && Array.isArray(t33.content);
}
function Ly(t33) {
  return "object" == typeof t33 && null !== t33 && "object" == typeof t33.tokenType;
}
function Lv(t33) {
  return Lm(t33) && "string" == typeof t33.fullText;
}
class Lx {
  constructor(t33, e10) {
    this.startFn = t33, this.nextFn = e10;
  }
  iterator() {
    let t33 = { state: this.startFn(), next: () => this.nextFn(t33.state), [Symbol.iterator]: () => t33 };
    return t33;
  }
  [Symbol.iterator]() {
    return this.iterator();
  }
  isEmpty() {
    return !!this.iterator().next().done;
  }
  count() {
    let t33 = this.iterator(), e10 = 0, r10 = t33.next();
    for (; !r10.done; ) e10++, r10 = t33.next();
    return e10;
  }
  toArray() {
    let t33;
    let e10 = [], r10 = this.iterator();
    do
      void 0 !== (t33 = r10.next()).value && e10.push(t33.value);
    while (!t33.done);
    return e10;
  }
  toSet() {
    return new Set(this);
  }
  toMap(t33, e10) {
    return new Map(this.map((r10) => [t33 ? t33(r10) : r10, e10 ? e10(r10) : r10]));
  }
  toString() {
    return this.join();
  }
  concat(t33) {
    let e10 = t33[Symbol.iterator]();
    return new Lx(() => ({ first: this.startFn(), firstDone: false }), (t34) => {
      let r10;
      if (!t34.firstDone) {
        do
          if (!(r10 = this.nextFn(t34.first)).done) return r10;
        while (!r10.done);
        t34.firstDone = true;
      }
      do
        if (!(r10 = e10.next()).done) return r10;
      while (!r10.done);
      return Lk;
    });
  }
  join() {
    let t33, e10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ",", r10 = this.iterator(), i10 = "", n10 = false;
    do {
      var a10;
      (t33 = r10.next()).done || (n10 && (i10 += e10), i10 += "string" == typeof (a10 = t33.value) ? a10 : void 0 === a10 ? "undefined" : "function" == typeof a10.toString ? a10.toString() : Object.prototype.toString.call(a10)), n10 = true;
    } while (!t33.done);
    return i10;
  }
  indexOf(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = this.iterator(), i10 = 0, n10 = r10.next();
    for (; !n10.done; ) {
      if (i10 >= e10 && n10.value === t33) return i10;
      n10 = r10.next(), i10++;
    }
    return -1;
  }
  every(t33) {
    let e10 = this.iterator(), r10 = e10.next();
    for (; !r10.done; ) {
      if (!t33(r10.value)) return false;
      r10 = e10.next();
    }
    return true;
  }
  some(t33) {
    let e10 = this.iterator(), r10 = e10.next();
    for (; !r10.done; ) {
      if (t33(r10.value)) return true;
      r10 = e10.next();
    }
    return false;
  }
  forEach(t33) {
    let e10 = this.iterator(), r10 = 0, i10 = e10.next();
    for (; !i10.done; ) t33(i10.value, r10), i10 = e10.next(), r10++;
  }
  map(t33) {
    return new Lx(this.startFn, (e10) => {
      let { done: r10, value: i10 } = this.nextFn(e10);
      return r10 ? Lk : { done: false, value: t33(i10) };
    });
  }
  filter(t33) {
    return new Lx(this.startFn, (e10) => {
      let r10;
      do
        if (!(r10 = this.nextFn(e10)).done && t33(r10.value)) return r10;
      while (!r10.done);
      return Lk;
    });
  }
  nonNullable() {
    return this.filter((t33) => null != t33);
  }
  reduce(t33, e10) {
    let r10 = this.iterator(), i10 = e10, n10 = r10.next();
    for (; !n10.done; ) i10 = void 0 === i10 ? n10.value : t33(i10, n10.value), n10 = r10.next();
    return i10;
  }
  reduceRight(t33, e10) {
    return this.recursiveReduce(this.iterator(), t33, e10);
  }
  recursiveReduce(t33, e10, r10) {
    let i10 = t33.next();
    if (i10.done) return r10;
    let n10 = this.recursiveReduce(t33, e10, r10);
    return void 0 === n10 ? i10.value : e10(n10, i10.value);
  }
  find(t33) {
    let e10 = this.iterator(), r10 = e10.next();
    for (; !r10.done; ) {
      if (t33(r10.value)) return r10.value;
      r10 = e10.next();
    }
  }
  findIndex(t33) {
    let e10 = this.iterator(), r10 = 0, i10 = e10.next();
    for (; !i10.done; ) {
      if (t33(i10.value)) return r10;
      i10 = e10.next(), r10++;
    }
    return -1;
  }
  includes(t33) {
    let e10 = this.iterator(), r10 = e10.next();
    for (; !r10.done; ) {
      if (r10.value === t33) return true;
      r10 = e10.next();
    }
    return false;
  }
  flatMap(t33) {
    return new Lx(() => ({ this: this.startFn() }), (e10) => {
      do {
        if (e10.iterator) {
          let t34 = e10.iterator.next();
          if (!t34.done) return t34;
          e10.iterator = void 0;
        }
        let { done: r10, value: i10 } = this.nextFn(e10.this);
        if (!r10) {
          let r11 = t33(i10);
          if (!Lb(r11)) return { done: false, value: r11 };
          e10.iterator = r11[Symbol.iterator]();
        }
      } while (e10.iterator);
      return Lk;
    });
  }
  flat(t33) {
    if (void 0 === t33 && (t33 = 1), t33 <= 0) return this;
    let e10 = t33 > 1 ? this.flat(t33 - 1) : this;
    return new Lx(() => ({ this: e10.startFn() }), (t34) => {
      do {
        if (t34.iterator) {
          let e11 = t34.iterator.next();
          if (!e11.done) return e11;
          t34.iterator = void 0;
        }
        let { done: r10, value: i10 } = e10.nextFn(t34.this);
        if (!r10) {
          if (!Lb(i10)) return { done: false, value: i10 };
          t34.iterator = i10[Symbol.iterator]();
        }
      } while (t34.iterator);
      return Lk;
    });
  }
  head() {
    let t33 = this.iterator().next();
    if (!t33.done) return t33.value;
  }
  tail() {
    let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
    return new Lx(() => {
      let e10 = this.startFn();
      for (let r10 = 0; r10 < t33 && !this.nextFn(e10).done; r10++) ;
      return e10;
    }, this.nextFn);
  }
  limit(t33) {
    return new Lx(() => ({ size: 0, state: this.startFn() }), (e10) => (e10.size++, e10.size > t33) ? Lk : this.nextFn(e10.state));
  }
  distinct(t33) {
    let e10 = /* @__PURE__ */ new Set();
    return this.filter((r10) => {
      let i10 = t33 ? t33(r10) : r10;
      return !e10.has(i10) && (e10.add(i10), true);
    });
  }
  exclude(t33, e10) {
    let r10 = /* @__PURE__ */ new Set();
    for (let i10 of t33) {
      let t34 = e10 ? e10(i10) : i10;
      r10.add(t34);
    }
    return this.filter((t34) => {
      let i10 = e10 ? e10(t34) : t34;
      return !r10.has(i10);
    });
  }
}
function Lb(t33) {
  return !!t33 && "function" == typeof t33[Symbol.iterator];
}
let Lw = new Lx(() => void 0, () => Lk), Lk = Object.freeze({ done: true, value: void 0 });
function L_() {
  for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
  if (1 === e10.length) {
    let t34 = e10[0];
    if (t34 instanceof Lx) return t34;
    if (Lb(t34)) return new Lx(() => t34[Symbol.iterator](), (t35) => t35.next());
    if ("number" == typeof t34.length) return new Lx(() => ({ index: 0 }), (e11) => e11.index < t34.length ? { done: false, value: t34[e11.index++] } : Lk);
  }
  return e10.length > 1 ? new Lx(() => ({ collIndex: 0, arrIndex: 0 }), (t34) => {
    do {
      if (t34.iterator) {
        let e11 = t34.iterator.next();
        if (!e11.done) return e11;
        t34.iterator = void 0;
      }
      if (t34.array) {
        if (t34.arrIndex < t34.array.length) return { done: false, value: t34.array[t34.arrIndex++] };
        t34.array = void 0, t34.arrIndex = 0;
      }
      if (t34.collIndex < e10.length) {
        let r11 = e10[t34.collIndex++];
        Lb(r11) ? t34.iterator = r11[Symbol.iterator]() : r11 && "number" == typeof r11.length && (t34.array = r11);
      }
    } while (t34.iterator || t34.array || t34.collIndex < e10.length);
    return Lk;
  }) : Lw;
}
class LT extends Lx {
  constructor(t33, e10, r10) {
    super(() => ({ iterators: (null == r10 ? void 0 : r10.includeRoot) ? [[t33][Symbol.iterator]()] : [e10(t33)[Symbol.iterator]()], pruned: false }), (t34) => {
      for (t34.pruned && (t34.iterators.pop(), t34.pruned = false); t34.iterators.length > 0; ) {
        let r11 = t34.iterators[t34.iterators.length - 1].next();
        if (!r11.done) return t34.iterators.push(e10(r11.value)[Symbol.iterator]()), r11;
        t34.iterators.pop();
      }
      return Lk;
    });
  }
  iterator() {
    let t33 = { state: this.startFn(), next: () => this.nextFn(t33.state), prune: () => {
      t33.state.pruned = true;
    }, [Symbol.iterator]: () => t33 };
    return t33;
  }
}
function LE(t33) {
  return new LT(t33, (t34) => Lm(t34) ? t34.content : [], { includeRoot: true });
}
function LC(t33) {
  return { start: { character: t33.startColumn - 1, line: t33.startLine - 1 }, end: { character: t33.endColumn, line: t33.endLine - 1 } };
}
function LS(t33) {
  if (!t33) return;
  let { offset: e10, end: r10, range: i10 } = t33;
  return { range: i10, offset: e10, end: r10, length: r10 - e10 };
}
(Qy = JO || (JO = {})).sum = function(t33) {
  return t33.reduce((t34, e10) => t34 + e10, 0);
}, Qy.product = function(t33) {
  return t33.reduce((t34, e10) => t34 * e10, 0);
}, Qy.min = function(t33) {
  return t33.reduce((t34, e10) => Math.min(t34, e10));
}, Qy.max = function(t33) {
  return t33.reduce((t34, e10) => Math.max(t34, e10));
}, (Qv = JP || (JP = {}))[Qv.Before = 0] = "Before", Qv[Qv.After = 1] = "After", Qv[Qv.OverlapFront = 2] = "OverlapFront", Qv[Qv.OverlapBack = 3] = "OverlapBack", Qv[Qv.Inside = 4] = "Inside";
let LA = /^[\w\p{L}]$/u;
function LL(t33, e10) {
  return Ly(t33) && e10.includes(t33.tokenType.name);
}
class LN extends Error {
  constructor(t33, e10) {
    super(t33 ? `${e10} at ${t33.range.start.line}:${t33.range.start.character}` : e10);
  }
}
function LI(t33) {
  throw Error("Error! The input value was not handled.");
}
let LM = "AbstractRule", LR = "AbstractType", LD = "Condition", LO = "ValueLiteral", LP = "AbstractElement", L$ = "BooleanLiteral", LB = "Conjunction", LF = "Disjunction", Lz = "InferredType";
function LU(t33) {
  return Nf.isInstance(t33, Lz);
}
let LG = "Interface";
function Lq(t33) {
  return Nf.isInstance(t33, LG);
}
let LY = "Negation", LH = "ParameterReference", Lj = "ParserRule";
function LW(t33) {
  return Nf.isInstance(t33, Lj);
}
let LV = "SimpleType", LX = "TerminalRule";
function LK(t33) {
  return Nf.isInstance(t33, LX);
}
let LZ = "Type";
function LQ(t33) {
  return Nf.isInstance(t33, LZ);
}
let LJ = "Action";
function L0(t33) {
  return Nf.isInstance(t33, LJ);
}
let L1 = "Alternatives";
function L2(t33) {
  return Nf.isInstance(t33, L1);
}
let L4 = "Assignment";
function L5(t33) {
  return Nf.isInstance(t33, L4);
}
let L3 = "CharacterRange", L6 = "CrossReference";
function L7(t33) {
  return Nf.isInstance(t33, L6);
}
let L8 = "EndOfFile", L9 = "Group";
function Nt(t33) {
  return Nf.isInstance(t33, L9);
}
let Ne = "Keyword";
function Nr(t33) {
  return Nf.isInstance(t33, Ne);
}
let Ni = "NegatedToken", Nn = "RegexToken", Na = "RuleCall";
function No(t33) {
  return Nf.isInstance(t33, Na);
}
let Ns = "TerminalAlternatives", Nl = "TerminalGroup", Nh = "TerminalRuleCall", Nc = "UnorderedGroup";
function Nu(t33) {
  return Nf.isInstance(t33, Nc);
}
let Nd = "UntilToken", Np = "Wildcard";
class Ng extends Lf {
  getAllTypes() {
    return ["AbstractElement", "AbstractRule", "AbstractType", "Action", "Alternatives", "ArrayLiteral", "ArrayType", "Assignment", "BooleanLiteral", "CharacterRange", "Condition", "Conjunction", "CrossReference", "Disjunction", "EndOfFile", "Grammar", "GrammarImport", "Group", "InferredType", "Interface", "Keyword", "NamedArgument", "NegatedToken", "Negation", "NumberLiteral", "Parameter", "ParameterReference", "ParserRule", "ReferenceType", "RegexToken", "ReturnType", "RuleCall", "SimpleType", "StringLiteral", "TerminalAlternatives", "TerminalGroup", "TerminalRule", "TerminalRuleCall", "Type", "TypeAttribute", "TypeDefinition", "UnionType", "UnorderedGroup", "UntilToken", "ValueLiteral", "Wildcard"];
  }
  computeIsSubtype(t33, e10) {
    switch (t33) {
      case LJ:
      case L1:
      case L4:
      case L3:
      case L6:
      case L8:
      case L9:
      case Ne:
      case Ni:
      case Nn:
      case Na:
      case Ns:
      case Nl:
      case Nh:
      case Nc:
      case Nd:
      case Np:
        return this.isSubtype(LP, e10);
      case "ArrayLiteral":
      case "NumberLiteral":
      case "StringLiteral":
        return this.isSubtype(LO, e10);
      case "ArrayType":
      case "ReferenceType":
      case LV:
      case "UnionType":
        return this.isSubtype("TypeDefinition", e10);
      case L$:
        return this.isSubtype(LD, e10) || this.isSubtype(LO, e10);
      case LB:
      case LF:
      case LY:
      case LH:
        return this.isSubtype(LD, e10);
      case Lz:
      case LG:
      case LZ:
        return this.isSubtype(LR, e10);
      case Lj:
        return this.isSubtype(LM, e10) || this.isSubtype(LR, e10);
      case LX:
        return this.isSubtype(LM, e10);
      default:
        return false;
    }
  }
  getReferenceType(t33) {
    let e10 = `${t33.container.$type}:${t33.property}`;
    switch (e10) {
      case "Action:type":
      case "CrossReference:type":
      case "Interface:superTypes":
      case "ParserRule:returnType":
      case "SimpleType:typeRef":
        return LR;
      case "Grammar:hiddenTokens":
      case "ParserRule:hiddenTokens":
      case "RuleCall:rule":
        return LM;
      case "Grammar:usedGrammars":
        return "Grammar";
      case "NamedArgument:parameter":
      case "ParameterReference:parameter":
        return "Parameter";
      case "TerminalRuleCall:rule":
        return LX;
      default:
        throw Error(`${e10} is not a valid reference id.`);
    }
  }
  getTypeMetaData(t33) {
    switch (t33) {
      case "AbstractElement":
        return { name: "AbstractElement", properties: [{ name: "cardinality" }, { name: "lookahead" }] };
      case "ArrayLiteral":
        return { name: "ArrayLiteral", properties: [{ name: "elements", defaultValue: [] }] };
      case "ArrayType":
        return { name: "ArrayType", properties: [{ name: "elementType" }] };
      case "BooleanLiteral":
        return { name: "BooleanLiteral", properties: [{ name: "true", defaultValue: false }] };
      case "Conjunction":
        return { name: "Conjunction", properties: [{ name: "left" }, { name: "right" }] };
      case "Disjunction":
        return { name: "Disjunction", properties: [{ name: "left" }, { name: "right" }] };
      case "Grammar":
        return { name: "Grammar", properties: [{ name: "definesHiddenTokens", defaultValue: false }, { name: "hiddenTokens", defaultValue: [] }, { name: "imports", defaultValue: [] }, { name: "interfaces", defaultValue: [] }, { name: "isDeclared", defaultValue: false }, { name: "name" }, { name: "rules", defaultValue: [] }, { name: "types", defaultValue: [] }, { name: "usedGrammars", defaultValue: [] }] };
      case "GrammarImport":
        return { name: "GrammarImport", properties: [{ name: "path" }] };
      case "InferredType":
        return { name: "InferredType", properties: [{ name: "name" }] };
      case "Interface":
        return { name: "Interface", properties: [{ name: "attributes", defaultValue: [] }, { name: "name" }, { name: "superTypes", defaultValue: [] }] };
      case "NamedArgument":
        return { name: "NamedArgument", properties: [{ name: "calledByName", defaultValue: false }, { name: "parameter" }, { name: "value" }] };
      case "Negation":
        return { name: "Negation", properties: [{ name: "value" }] };
      case "NumberLiteral":
        return { name: "NumberLiteral", properties: [{ name: "value" }] };
      case "Parameter":
        return { name: "Parameter", properties: [{ name: "name" }] };
      case "ParameterReference":
        return { name: "ParameterReference", properties: [{ name: "parameter" }] };
      case "ParserRule":
        return { name: "ParserRule", properties: [{ name: "dataType" }, { name: "definesHiddenTokens", defaultValue: false }, { name: "definition" }, { name: "entry", defaultValue: false }, { name: "fragment", defaultValue: false }, { name: "hiddenTokens", defaultValue: [] }, { name: "inferredType" }, { name: "name" }, { name: "parameters", defaultValue: [] }, { name: "returnType" }, { name: "wildcard", defaultValue: false }] };
      case "ReferenceType":
        return { name: "ReferenceType", properties: [{ name: "referenceType" }] };
      case "ReturnType":
        return { name: "ReturnType", properties: [{ name: "name" }] };
      case "SimpleType":
        return { name: "SimpleType", properties: [{ name: "primitiveType" }, { name: "stringType" }, { name: "typeRef" }] };
      case "StringLiteral":
        return { name: "StringLiteral", properties: [{ name: "value" }] };
      case "TerminalRule":
        return { name: "TerminalRule", properties: [{ name: "definition" }, { name: "fragment", defaultValue: false }, { name: "hidden", defaultValue: false }, { name: "name" }, { name: "type" }] };
      case "Type":
        return { name: "Type", properties: [{ name: "name" }, { name: "type" }] };
      case "TypeAttribute":
        return { name: "TypeAttribute", properties: [{ name: "defaultValue" }, { name: "isOptional", defaultValue: false }, { name: "name" }, { name: "type" }] };
      case "UnionType":
        return { name: "UnionType", properties: [{ name: "types", defaultValue: [] }] };
      case "Action":
        return { name: "Action", properties: [{ name: "cardinality" }, { name: "feature" }, { name: "inferredType" }, { name: "lookahead" }, { name: "operator" }, { name: "type" }] };
      case "Alternatives":
        return { name: "Alternatives", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "Assignment":
        return { name: "Assignment", properties: [{ name: "cardinality" }, { name: "feature" }, { name: "lookahead" }, { name: "operator" }, { name: "terminal" }] };
      case "CharacterRange":
        return { name: "CharacterRange", properties: [{ name: "cardinality" }, { name: "left" }, { name: "lookahead" }, { name: "right" }] };
      case "CrossReference":
        return { name: "CrossReference", properties: [{ name: "cardinality" }, { name: "deprecatedSyntax", defaultValue: false }, { name: "lookahead" }, { name: "terminal" }, { name: "type" }] };
      case "EndOfFile":
        return { name: "EndOfFile", properties: [{ name: "cardinality" }, { name: "lookahead" }] };
      case "Group":
        return { name: "Group", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "guardCondition" }, { name: "lookahead" }] };
      case "Keyword":
        return { name: "Keyword", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "value" }] };
      case "NegatedToken":
        return { name: "NegatedToken", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "terminal" }] };
      case "RegexToken":
        return { name: "RegexToken", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "regex" }] };
      case "RuleCall":
        return { name: "RuleCall", properties: [{ name: "arguments", defaultValue: [] }, { name: "cardinality" }, { name: "lookahead" }, { name: "rule" }] };
      case "TerminalAlternatives":
        return { name: "TerminalAlternatives", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "TerminalGroup":
        return { name: "TerminalGroup", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "TerminalRuleCall":
        return { name: "TerminalRuleCall", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "rule" }] };
      case "UnorderedGroup":
        return { name: "UnorderedGroup", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "UntilToken":
        return { name: "UntilToken", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "terminal" }] };
      case "Wildcard":
        return { name: "Wildcard", properties: [{ name: "cardinality" }, { name: "lookahead" }] };
      default:
        return { name: t33, properties: [] };
    }
  }
}
let Nf = new Ng();
function Nm(t33, e10) {
  let r10 = t33;
  for (; r10; ) {
    if (e10(r10)) return r10;
    r10 = r10.$container;
  }
}
function Ny(t33) {
  let e10 = function(t34) {
    for (; t34.$container; ) t34 = t34.$container;
    return t34;
  }(t33).$document;
  if (!e10) throw Error("AST node has no document.");
  return e10;
}
function Nv(t33, e10) {
  if (!t33) throw Error("Node must be an AstNode.");
  let r10 = null == e10 ? void 0 : e10.range;
  return new Lx(() => ({ keys: Object.keys(t33), keyIndex: 0, arrayIndex: 0 }), (e11) => {
    for (; e11.keyIndex < e11.keys.length; ) {
      let i10 = e11.keys[e11.keyIndex];
      if (!i10.startsWith("$")) {
        let n10 = t33[i10];
        if (Ld(n10)) {
          if (e11.keyIndex++, Nw(n10, r10)) return { done: false, value: n10 };
        } else if (Array.isArray(n10)) {
          for (; e11.arrayIndex < n10.length; ) {
            let t34 = n10[e11.arrayIndex++];
            if (Ld(t34) && Nw(t34, r10)) return { done: false, value: t34 };
          }
          e11.arrayIndex = 0;
        }
      }
      e11.keyIndex++;
    }
    return Lk;
  });
}
function Nx(t33, e10) {
  if (!t33) throw Error("Root node must be an AstNode.");
  return new LT(t33, (t34) => Nv(t34, e10));
}
function Nb(t33, e10) {
  if (!t33) throw Error("Root node must be an AstNode.");
  return new LT(t33, (t34) => Nv(t34, e10), { includeRoot: true });
}
function Nw(t33, e10) {
  var r10;
  if (!e10) return true;
  let i10 = null === (r10 = t33.$cstNode) || void 0 === r10 ? void 0 : r10.range;
  return !!i10 && function(t34, e11) {
    if (t34.end.line < e11.start.line || t34.end.line === e11.start.line && t34.end.character < t34.start.character) return JP.Before;
    if (t34.start.line > e11.end.line || t34.start.line === e11.end.line && t34.start.character > e11.end.character) return JP.After;
    let r11 = t34.start.line > e11.start.line || t34.start.line === e11.start.line && t34.start.character >= e11.start.character, i11 = t34.end.line < e11.end.line || t34.end.line === e11.end.line && t34.end.character <= e11.end.character;
    return r11 && i11 ? JP.Inside : r11 ? JP.OverlapBack : JP.OverlapFront;
  }(i10, e10) > JP.After;
}
function Nk(t33) {
  return new Lx(() => ({ keys: Object.keys(t33), keyIndex: 0, arrayIndex: 0 }), (e10) => {
    for (; e10.keyIndex < e10.keys.length; ) {
      let r10 = e10.keys[e10.keyIndex];
      if (!r10.startsWith("$")) {
        let i10 = t33[r10];
        if (Lp(i10)) return e10.keyIndex++, { done: false, value: { reference: i10, container: t33, property: r10 } };
        if (Array.isArray(i10)) {
          for (; e10.arrayIndex < i10.length; ) {
            let n10 = e10.arrayIndex++, a10 = i10[n10];
            if (Lp(a10)) return { done: false, value: { reference: a10, container: t33, property: r10, index: n10 } };
          }
          e10.arrayIndex = 0;
        }
      }
      e10.keyIndex++;
    }
    return Lk;
  });
}
function N_(t33) {
  return t33.charCodeAt(0);
}
function NT(t33, e10) {
  Array.isArray(t33) ? t33.forEach(function(t34) {
    e10.push(t34);
  }) : e10.push(t33);
}
function NE(t33, e10) {
  if (true === t33[e10]) throw "duplicate flag " + e10;
  t33[e10], t33[e10] = true;
}
function NC(t33) {
  if (void 0 === t33) throw Error("Internal Error - Should never get here!");
  return true;
}
function NS(t33) {
  return "Character" === t33.type;
}
let NA = [];
for (let t33 = N_("0"); t33 <= N_("9"); t33++) NA.push(t33);
let NL = [N_("_")].concat(NA);
for (let t33 = N_("a"); t33 <= N_("z"); t33++) NL.push(t33);
for (let t33 = N_("A"); t33 <= N_("Z"); t33++) NL.push(t33);
let NN = [N_(" "), N_("\f"), N_("\n"), N_("\r"), N_("	"), N_("\v"), N_("	"), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_(" "), N_("\u2028"), N_("\u2029"), N_(" "), N_(" "), N_("　"), N_("\uFEFF")], NI = /[0-9a-fA-F]/, NM = /[0-9]/, NR = /[1-9]/;
class ND {
  constructor() {
    this.idx = 0, this.input = "", this.groupIdx = 0;
  }
  saveState() {
    return { idx: this.idx, input: this.input, groupIdx: this.groupIdx };
  }
  restoreState(t33) {
    this.idx = t33.idx, this.input = t33.input, this.groupIdx = t33.groupIdx;
  }
  pattern(t33) {
    this.idx = 0, this.input = t33, this.groupIdx = 0, this.consumeChar("/");
    let e10 = this.disjunction();
    this.consumeChar("/");
    let r10 = { type: "Flags", loc: { begin: this.idx, end: t33.length }, global: false, ignoreCase: false, multiLine: false, unicode: false, sticky: false };
    for (; this.isRegExpFlag(); ) switch (this.popChar()) {
      case "g":
        NE(r10, "global");
        break;
      case "i":
        NE(r10, "ignoreCase");
        break;
      case "m":
        NE(r10, "multiLine");
        break;
      case "u":
        NE(r10, "unicode");
        break;
      case "y":
        NE(r10, "sticky");
    }
    if (this.idx !== this.input.length) throw Error("Redundant input: " + this.input.substring(this.idx));
    return { type: "Pattern", flags: r10, value: e10, loc: this.loc(0) };
  }
  disjunction() {
    let t33 = [], e10 = this.idx;
    for (t33.push(this.alternative()); "|" === this.peekChar(); ) this.consumeChar("|"), t33.push(this.alternative());
    return { type: "Disjunction", value: t33, loc: this.loc(e10) };
  }
  alternative() {
    let t33 = [], e10 = this.idx;
    for (; this.isTerm(); ) t33.push(this.term());
    return { type: "Alternative", value: t33, loc: this.loc(e10) };
  }
  term() {
    return this.isAssertion() ? this.assertion() : this.atom();
  }
  assertion() {
    let t33 = this.idx;
    switch (this.popChar()) {
      case "^":
        return { type: "StartAnchor", loc: this.loc(t33) };
      case "$":
        return { type: "EndAnchor", loc: this.loc(t33) };
      case "\\":
        switch (this.popChar()) {
          case "b":
            return { type: "WordBoundary", loc: this.loc(t33) };
          case "B":
            return { type: "NonWordBoundary", loc: this.loc(t33) };
        }
        throw Error("Invalid Assertion Escape");
      case "(":
        let e10;
        switch (this.consumeChar("?"), this.popChar()) {
          case "=":
            e10 = "Lookahead";
            break;
          case "!":
            e10 = "NegativeLookahead";
        }
        NC(e10);
        let r10 = this.disjunction();
        return this.consumeChar(")"), { type: e10, value: r10, loc: this.loc(t33) };
    }
    return function() {
      throw Error("Internal Error - Should never get here!");
    }();
  }
  quantifier() {
    let t33, e10 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], r10 = this.idx;
    switch (this.popChar()) {
      case "*":
        t33 = { atLeast: 0, atMost: 1 / 0 };
        break;
      case "+":
        t33 = { atLeast: 1, atMost: 1 / 0 };
        break;
      case "?":
        t33 = { atLeast: 0, atMost: 1 };
        break;
      case "{":
        let i10 = this.integerIncludingZero();
        switch (this.popChar()) {
          case "}":
            t33 = { atLeast: i10, atMost: i10 };
            break;
          case ",":
            t33 = this.isDigit() ? { atLeast: i10, atMost: this.integerIncludingZero() } : { atLeast: i10, atMost: 1 / 0 }, this.consumeChar("}");
        }
        if (true === e10 && void 0 === t33) return;
        NC(t33);
    }
    if ((true !== e10 || void 0 !== t33) && NC(t33)) return "?" === this.peekChar(0) ? (this.consumeChar("?"), t33.greedy = false) : t33.greedy = true, t33.type = "Quantifier", t33.loc = this.loc(r10), t33;
  }
  atom() {
    let t33;
    let e10 = this.idx;
    switch (this.peekChar()) {
      case ".":
        t33 = this.dotAll();
        break;
      case "\\":
        t33 = this.atomEscape();
        break;
      case "[":
        t33 = this.characterClass();
        break;
      case "(":
        t33 = this.group();
    }
    if (void 0 === t33 && this.isPatternCharacter() && (t33 = this.patternCharacter()), NC(t33)) return t33.loc = this.loc(e10), this.isQuantifier() && (t33.quantifier = this.quantifier()), t33;
  }
  dotAll() {
    return this.consumeChar("."), { type: "Set", complement: true, value: [N_("\n"), N_("\r"), N_("\u2028"), N_("\u2029")] };
  }
  atomEscape() {
    switch (this.consumeChar("\\"), this.peekChar()) {
      case "1":
      case "2":
      case "3":
      case "4":
      case "5":
      case "6":
      case "7":
      case "8":
      case "9":
        return this.decimalEscapeAtom();
      case "d":
      case "D":
      case "s":
      case "S":
      case "w":
      case "W":
        return this.characterClassEscape();
      case "f":
      case "n":
      case "r":
      case "t":
      case "v":
        return this.controlEscapeAtom();
      case "c":
        return this.controlLetterEscapeAtom();
      case "0":
        return this.nulCharacterAtom();
      case "x":
        return this.hexEscapeSequenceAtom();
      case "u":
        return this.regExpUnicodeEscapeSequenceAtom();
      default:
        return this.identityEscapeAtom();
    }
  }
  decimalEscapeAtom() {
    return { type: "GroupBackReference", value: this.positiveInteger() };
  }
  characterClassEscape() {
    let t33;
    let e10 = false;
    switch (this.popChar()) {
      case "d":
        t33 = NA;
        break;
      case "D":
        t33 = NA, e10 = true;
        break;
      case "s":
        t33 = NN;
        break;
      case "S":
        t33 = NN, e10 = true;
        break;
      case "w":
        t33 = NL;
        break;
      case "W":
        t33 = NL, e10 = true;
    }
    if (NC(t33)) return { type: "Set", value: t33, complement: e10 };
  }
  controlEscapeAtom() {
    let t33;
    switch (this.popChar()) {
      case "f":
        t33 = N_("\f");
        break;
      case "n":
        t33 = N_("\n");
        break;
      case "r":
        t33 = N_("\r");
        break;
      case "t":
        t33 = N_("	");
        break;
      case "v":
        t33 = N_("\v");
    }
    if (NC(t33)) return { type: "Character", value: t33 };
  }
  controlLetterEscapeAtom() {
    this.consumeChar("c");
    let t33 = this.popChar();
    if (false === /[a-zA-Z]/.test(t33)) throw Error("Invalid ");
    return { type: "Character", value: t33.toUpperCase().charCodeAt(0) - 64 };
  }
  nulCharacterAtom() {
    return this.consumeChar("0"), { type: "Character", value: N_("\0") };
  }
  hexEscapeSequenceAtom() {
    return this.consumeChar("x"), this.parseHexDigits(2);
  }
  regExpUnicodeEscapeSequenceAtom() {
    return this.consumeChar("u"), this.parseHexDigits(4);
  }
  identityEscapeAtom() {
    return { type: "Character", value: N_(this.popChar()) };
  }
  classPatternCharacterAtom() {
    switch (this.peekChar()) {
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
      case "\\":
      case "]":
        throw Error("TBD");
      default:
        return { type: "Character", value: N_(this.popChar()) };
    }
  }
  characterClass() {
    let t33 = [], e10 = false;
    for (this.consumeChar("["), "^" === this.peekChar(0) && (this.consumeChar("^"), e10 = true); this.isClassAtom(); ) {
      let e11 = this.classAtom();
      if (e11.type, NS(e11) && this.isRangeDash()) {
        this.consumeChar("-");
        let r10 = this.classAtom();
        if (r10.type, NS(r10)) {
          if (r10.value < e11.value) throw Error("Range out of order in character class");
          t33.push({ from: e11.value, to: r10.value });
        } else NT(e11.value, t33), t33.push(N_("-")), NT(r10.value, t33);
      } else NT(e11.value, t33);
    }
    return this.consumeChar("]"), { type: "Set", complement: e10, value: t33 };
  }
  classAtom() {
    switch (this.peekChar()) {
      case "]":
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
        throw Error("TBD");
      case "\\":
        return this.classEscape();
      default:
        return this.classPatternCharacterAtom();
    }
  }
  classEscape() {
    switch (this.consumeChar("\\"), this.peekChar()) {
      case "b":
        return this.consumeChar("b"), { type: "Character", value: N_("\b") };
      case "d":
      case "D":
      case "s":
      case "S":
      case "w":
      case "W":
        return this.characterClassEscape();
      case "f":
      case "n":
      case "r":
      case "t":
      case "v":
        return this.controlEscapeAtom();
      case "c":
        return this.controlLetterEscapeAtom();
      case "0":
        return this.nulCharacterAtom();
      case "x":
        return this.hexEscapeSequenceAtom();
      case "u":
        return this.regExpUnicodeEscapeSequenceAtom();
      default:
        return this.identityEscapeAtom();
    }
  }
  group() {
    let t33 = true;
    (this.consumeChar("("), "?" === this.peekChar(0)) ? (this.consumeChar("?"), this.consumeChar(":"), t33 = false) : this.groupIdx++;
    let e10 = this.disjunction();
    this.consumeChar(")");
    let r10 = { type: "Group", capturing: t33, value: e10 };
    return t33 && (r10.idx = this.groupIdx), r10;
  }
  positiveInteger() {
    let t33 = this.popChar();
    if (false === NR.test(t33)) throw Error("Expecting a positive integer");
    for (; NM.test(this.peekChar(0)); ) t33 += this.popChar();
    return parseInt(t33, 10);
  }
  integerIncludingZero() {
    let t33 = this.popChar();
    if (false === NM.test(t33)) throw Error("Expecting an integer");
    for (; NM.test(this.peekChar(0)); ) t33 += this.popChar();
    return parseInt(t33, 10);
  }
  patternCharacter() {
    let t33 = this.popChar();
    switch (t33) {
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
      case "^":
      case "$":
      case "\\":
      case ".":
      case "*":
      case "+":
      case "?":
      case "(":
      case ")":
      case "[":
      case "|":
        throw Error("TBD");
      default:
        return { type: "Character", value: N_(t33) };
    }
  }
  isRegExpFlag() {
    switch (this.peekChar(0)) {
      case "g":
      case "i":
      case "m":
      case "u":
      case "y":
        return true;
      default:
        return false;
    }
  }
  isRangeDash() {
    return "-" === this.peekChar() && this.isClassAtom(1);
  }
  isDigit() {
    return NM.test(this.peekChar(0));
  }
  isClassAtom() {
    let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
    switch (this.peekChar(t33)) {
      case "]":
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
        return false;
      default:
        return true;
    }
  }
  isTerm() {
    return this.isAtom() || this.isAssertion();
  }
  isAtom() {
    if (this.isPatternCharacter()) return true;
    switch (this.peekChar(0)) {
      case ".":
      case "\\":
      case "[":
      case "(":
        return true;
      default:
        return false;
    }
  }
  isAssertion() {
    switch (this.peekChar(0)) {
      case "^":
      case "$":
        return true;
      case "\\":
        switch (this.peekChar(1)) {
          case "b":
          case "B":
            return true;
          default:
            return false;
        }
      case "(":
        return "?" === this.peekChar(1) && ("=" === this.peekChar(2) || "!" === this.peekChar(2));
      default:
        return false;
    }
  }
  isQuantifier() {
    let t33 = this.saveState();
    try {
      return void 0 !== this.quantifier(true);
    } catch (t34) {
      return false;
    } finally {
      this.restoreState(t33);
    }
  }
  isPatternCharacter() {
    switch (this.peekChar()) {
      case "^":
      case "$":
      case "\\":
      case ".":
      case "*":
      case "+":
      case "?":
      case "(":
      case ")":
      case "[":
      case "|":
      case "/":
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
        return false;
      default:
        return true;
    }
  }
  parseHexDigits(t33) {
    let e10 = "";
    for (let r10 = 0; r10 < t33; r10++) {
      let t34 = this.popChar();
      if (false === NI.test(t34)) throw Error("Expecting a HexDecimal digits");
      e10 += t34;
    }
    return { type: "Character", value: parseInt(e10, 16) };
  }
  peekChar() {
    let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
    return this.input[this.idx + t33];
  }
  popChar() {
    let t33 = this.peekChar(0);
    return this.consumeChar(void 0), t33;
  }
  consumeChar(t33) {
    if (void 0 !== t33 && this.input[this.idx] !== t33) throw Error("Expected: '" + t33 + "' but found: '" + this.input[this.idx] + "' at offset: " + this.idx);
    if (this.idx >= this.input.length) throw Error("Unexpected end of input");
    this.idx++;
  }
  loc(t33) {
    return { begin: t33, end: this.idx };
  }
}
class NO {
  visitChildren(t33) {
    for (let e10 in t33) {
      let r10 = t33[e10];
      t33.hasOwnProperty(e10) && (void 0 !== r10.type ? this.visit(r10) : Array.isArray(r10) && r10.forEach((t34) => {
        this.visit(t34);
      }, this));
    }
  }
  visit(t33) {
    switch (t33.type) {
      case "Pattern":
        this.visitPattern(t33);
        break;
      case "Flags":
        this.visitFlags(t33);
        break;
      case "Disjunction":
        this.visitDisjunction(t33);
        break;
      case "Alternative":
        this.visitAlternative(t33);
        break;
      case "StartAnchor":
        this.visitStartAnchor(t33);
        break;
      case "EndAnchor":
        this.visitEndAnchor(t33);
        break;
      case "WordBoundary":
        this.visitWordBoundary(t33);
        break;
      case "NonWordBoundary":
        this.visitNonWordBoundary(t33);
        break;
      case "Lookahead":
        this.visitLookahead(t33);
        break;
      case "NegativeLookahead":
        this.visitNegativeLookahead(t33);
        break;
      case "Character":
        this.visitCharacter(t33);
        break;
      case "Set":
        this.visitSet(t33);
        break;
      case "Group":
        this.visitGroup(t33);
        break;
      case "GroupBackReference":
        this.visitGroupBackReference(t33);
        break;
      case "Quantifier":
        this.visitQuantifier(t33);
    }
    this.visitChildren(t33);
  }
  visitPattern(t33) {
  }
  visitFlags(t33) {
  }
  visitDisjunction(t33) {
  }
  visitAlternative(t33) {
  }
  visitStartAnchor(t33) {
  }
  visitEndAnchor(t33) {
  }
  visitWordBoundary(t33) {
  }
  visitNonWordBoundary(t33) {
  }
  visitLookahead(t33) {
  }
  visitNegativeLookahead(t33) {
  }
  visitCharacter(t33) {
  }
  visitSet(t33) {
  }
  visitGroup(t33) {
  }
  visitGroupBackReference(t33) {
  }
  visitQuantifier(t33) {
  }
}
let NP = /\r?\n/gm, N$ = new ND(), NB = new class extends NO {
  constructor() {
    super(...arguments), this.isStarting = true, this.endRegexpStack = [], this.multiline = false;
  }
  get endRegex() {
    return this.endRegexpStack.join("");
  }
  reset(t33) {
    this.multiline = false, this.regex = t33, this.startRegexp = "", this.isStarting = true, this.endRegexpStack = [];
  }
  visitGroup(t33) {
    t33.quantifier && (this.isStarting = false, this.endRegexpStack = []);
  }
  visitCharacter(t33) {
    let e10 = String.fromCharCode(t33.value);
    if (this.multiline || "\n" !== e10 || (this.multiline = true), t33.quantifier) this.isStarting = false, this.endRegexpStack = [];
    else {
      let t34 = Nz(e10);
      this.endRegexpStack.push(t34), this.isStarting && (this.startRegexp += t34);
    }
  }
  visitSet(t33) {
    if (!this.multiline) {
      let e10 = new RegExp(this.regex.substring(t33.loc.begin, t33.loc.end));
      this.multiline = !!"\n".match(e10);
    }
    if (t33.quantifier) this.isStarting = false, this.endRegexpStack = [];
    else {
      let e10 = this.regex.substring(t33.loc.begin, t33.loc.end);
      this.endRegexpStack.push(e10), this.isStarting && (this.startRegexp += e10);
    }
  }
  visitChildren(t33) {
    "Group" === t33.type && t33.quantifier || super.visitChildren(t33);
  }
}();
function NF(t33) {
  return ("string" == typeof t33 ? new RegExp(t33) : t33).test(" ");
}
function Nz(t33) {
  return t33.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function NU(t33, e10) {
  let r10 = /* @__PURE__ */ new Set(), i10 = t33.rules.find((t34) => LW(t34) && t34.entry);
  if (!i10) return new Set(t33.rules);
  for (let n11 of [i10].concat(t33.rules.filter((t34) => LK(t34) && t34.hidden))) !function t34(e11, r11, i11) {
    r11.add(e11.name), Nx(e11).forEach((e12) => {
      if (No(e12) || i11) {
        let n12 = e12.rule.ref;
        n12 && !r11.has(n12.name) && t34(n12, r11, i11);
      }
    });
  }(n11, r10, e10);
  let n10 = /* @__PURE__ */ new Set();
  for (let e11 of t33.rules) (r10.has(e11.name) || LK(e11) && e11.hidden) && n10.add(e11);
  return n10;
}
function NG(t33, e10, r10) {
  if (!t33 || !e10) return;
  let i10 = Nq(t33, e10, t33.astNode, true);
  if (0 !== i10.length) return r10 = void 0 !== r10 ? Math.max(0, Math.min(r10, i10.length - 1)) : 0, i10[r10];
}
function Nq(t33, e10, r10, i10) {
  if (!i10) {
    let r11 = Nm(t33.grammarSource, L5);
    if (r11 && r11.feature === e10) return [t33];
  }
  return Lm(t33) && t33.astNode === r10 ? t33.content.flatMap((t34) => Nq(t34, e10, r10, false)) : [];
}
function NY(t33) {
  let e10 = t33;
  return LU(e10) && (L0(e10.$container) ? e10 = e10.$container.$container : LW(e10.$container) ? e10 = e10.$container : LI(e10.$container)), function t34(e11, r10, i10) {
    var n10;
    function a10(r11, n11) {
      let a11;
      return Nm(r11, L5) || (a11 = t34(n11, n11, i10)), i10.set(e11, a11), a11;
    }
    if (i10.has(e11)) return i10.get(e11);
    for (let t35 of (i10.set(e11, void 0), Nx(r10))) {
      if (L5(t35) && "name" === t35.feature.toLowerCase()) return i10.set(e11, t35), t35;
      if (No(t35) && LW(t35.rule.ref)) return a10(t35, t35.rule.ref);
      if (Nf.isInstance(t35, LV) && (null === (n10 = t35.typeRef) || void 0 === n10 ? void 0 : n10.ref)) return a10(t35, t35.typeRef.ref);
    }
  }(t33, e10, /* @__PURE__ */ new Map());
}
function NH(t33) {
  return function t34(e10, r10) {
    if (r10.has(e10)) return true;
    for (let i10 of (r10.add(e10), Nx(e10))) if (No(i10)) {
      if (!i10.rule.ref || LW(i10.rule.ref) && !t34(i10.rule.ref, r10)) return false;
    } else if (L5(i10)) return false;
    else if (L0(i10)) return false;
    return !!e10.definition;
  }(t33, /* @__PURE__ */ new Set());
}
function Nj(t33) {
  if (t33.inferredType) return t33.inferredType.name;
  if (t33.dataType) return t33.dataType;
  if (t33.returnType) {
    let e10 = t33.returnType.ref;
    if (e10 && (LW(e10) || Lq(e10) || LQ(e10))) return e10.name;
  }
}
function NW(t33) {
  var e10, r10;
  if (LW(t33)) return NH(t33) ? t33.name : null !== (e10 = Nj(t33)) && void 0 !== e10 ? e10 : t33.name;
  if (Lq(t33) || LQ(t33) || Nf.isInstance(t33, "ReturnType")) return t33.name;
  if (L0(t33)) {
    let e11 = t33.inferredType ? t33.inferredType.name : (null === (r10 = t33.type) || void 0 === r10 ? void 0 : r10.ref) ? NW(t33.type.ref) : void 0;
    if (e11) return e11;
  } else if (LU(t33)) return t33.name;
  throw Error("Cannot get name of Unknown Type");
}
function NV(t33) {
  let e10 = { s: false, i: false, u: false };
  return new RegExp(function t34(e11, r10) {
    if (Nf.isInstance(e11, Ns)) return NZ(e11.elements.map((e12) => t34(e12)).join("|"), { cardinality: e11.cardinality, lookahead: e11.lookahead });
    if (Nf.isInstance(e11, Nl)) return NZ(e11.elements.map((e12) => t34(e12)).join(""), { cardinality: e11.cardinality, lookahead: e11.lookahead });
    if (Nf.isInstance(e11, L3)) return e11.right ? NZ(`[${NK(e11.left)}-${NK(e11.right)}]`, { cardinality: e11.cardinality, lookahead: e11.lookahead, wrap: false }) : NZ(NK(e11.left), { cardinality: e11.cardinality, lookahead: e11.lookahead, wrap: false });
    if (Nf.isInstance(e11, Nh)) {
      let r11 = e11.rule.ref;
      if (!r11) throw Error("Missing rule reference.");
      return NZ(t34(r11.definition), { cardinality: e11.cardinality, lookahead: e11.lookahead });
    }
    if (Nf.isInstance(e11, Ni)) return NZ(`(?!${t34(e11.terminal)})${NX}*?`, { cardinality: e11.cardinality, lookahead: e11.lookahead });
    if (Nf.isInstance(e11, Nd)) return NZ(`${NX}*?${t34(e11.terminal)}`, { cardinality: e11.cardinality, lookahead: e11.lookahead });
    if (Nf.isInstance(e11, Nn)) {
      let t35 = e11.regex.lastIndexOf("/"), i10 = e11.regex.substring(1, t35), n10 = e11.regex.substring(t35 + 1);
      return r10 && (r10.i = n10.includes("i"), r10.s = n10.includes("s"), r10.u = n10.includes("u")), NZ(i10, { cardinality: e11.cardinality, lookahead: e11.lookahead, wrap: false });
    }
    if (Nf.isInstance(e11, Np)) return NZ(NX, { cardinality: e11.cardinality, lookahead: e11.lookahead });
    throw Error(`Invalid terminal element: ${null == e11 ? void 0 : e11.$type}`);
  }(t33.definition, e10), Object.entries(e10).filter((t34) => {
    let [, e11] = t34;
    return e11;
  }).map((t34) => {
    let [e11] = t34;
    return e11;
  }).join(""));
}
let NX = /[\s\S]/.source;
function NK(t33) {
  return Nz(t33.value);
}
function NZ(t33, e10) {
  var r10;
  return ((false !== e10.wrap || e10.lookahead) && (t33 = `(${null !== (r10 = e10.lookahead) && void 0 !== r10 ? r10 : ""}${t33})`), e10.cardinality) ? `${t33}${e10.cardinality}` : t33;
}
function NQ(t33) {
  console && console.error && console.error(`Error: ${t33}`);
}
function NJ(t33) {
  console && console.warn && console.warn(`Warning: ${t33}`);
}
function N0(t33) {
  let e10 = (/* @__PURE__ */ new Date()).getTime(), r10 = t33();
  return { time: (/* @__PURE__ */ new Date()).getTime() - e10, value: r10 };
}
function N1(t33) {
  function e10() {
  }
  e10.prototype = t33;
  let r10 = new e10();
  function i10() {
    return typeof r10.bar;
  }
  return i10(), i10(), t33;
}
class N2 {
  get definition() {
    return this._definition;
  }
  set definition(t33) {
    this._definition = t33;
  }
  constructor(t33) {
    this._definition = t33;
  }
  accept(t33) {
    t33.visit(this), tc(this.definition, (e10) => {
      e10.accept(t33);
    });
  }
}
class N4 extends N2 {
  constructor(t33) {
    super([]), this.idx = 1, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
  set definition(t33) {
  }
  get definition() {
    return void 0 !== this.referencedRule ? this.referencedRule.definition : [];
  }
  accept(t33) {
    t33.visit(this);
  }
}
class N5 extends N2 {
  constructor(t33) {
    super(t33.definition), this.orgText = "", tM(this, tR(t33, (t34) => void 0 !== t34));
  }
}
class N3 extends N2 {
  constructor(t33) {
    super(t33.definition), this.ignoreAmbiguities = false, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
}
let N6 = class extends N2 {
  constructor(t33) {
    super(t33.definition), this.idx = 1, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
};
class N7 extends N2 {
  constructor(t33) {
    super(t33.definition), this.idx = 1, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
}
class N8 extends N2 {
  constructor(t33) {
    super(t33.definition), this.idx = 1, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
}
class N9 extends N2 {
  constructor(t33) {
    super(t33.definition), this.idx = 1, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
}
class It extends N2 {
  constructor(t33) {
    super(t33.definition), this.idx = 1, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
}
class Ie extends N2 {
  get definition() {
    return this._definition;
  }
  set definition(t33) {
    this._definition = t33;
  }
  constructor(t33) {
    super(t33.definition), this.idx = 1, this.ignoreAmbiguities = false, this.hasPredicates = false, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
}
class Ir {
  constructor(t33) {
    this.idx = 1, tM(this, tR(t33, (t34) => void 0 !== t34));
  }
  accept(t33) {
    t33.visit(this);
  }
}
class Ii {
  visit(t33) {
    switch (t33.constructor) {
      case N4:
        return this.visitNonTerminal(t33);
      case N3:
        return this.visitAlternative(t33);
      case N6:
        return this.visitOption(t33);
      case N7:
        return this.visitRepetitionMandatory(t33);
      case N8:
        return this.visitRepetitionMandatoryWithSeparator(t33);
      case It:
        return this.visitRepetitionWithSeparator(t33);
      case N9:
        return this.visitRepetition(t33);
      case Ie:
        return this.visitAlternation(t33);
      case Ir:
        return this.visitTerminal(t33);
      case N5:
        return this.visitRule(t33);
      default:
        throw Error("non exhaustive match");
    }
  }
  visitNonTerminal(t33) {
  }
  visitAlternative(t33) {
  }
  visitOption(t33) {
  }
  visitRepetition(t33) {
  }
  visitRepetitionMandatory(t33) {
  }
  visitRepetitionMandatoryWithSeparator(t33) {
  }
  visitRepetitionWithSeparator(t33) {
  }
  visitAlternation(t33) {
  }
  visitTerminal(t33) {
  }
  visitRule(t33) {
  }
}
function In(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
  return t33 instanceof N6 || t33 instanceof N9 || t33 instanceof It || (t33 instanceof Ie ? tP(t33.definition, (t34) => In(t34, e10)) : !(t33 instanceof N4 && t$(e10, t33)) && t33 instanceof N2 && (t33 instanceof N4 && e10.push(t33), tB(t33.definition, (t34) => In(t34, e10))));
}
function Ia(t33) {
  if (t33 instanceof N4) return "SUBRULE";
  if (t33 instanceof N6) return "OPTION";
  if (t33 instanceof Ie) return "OR";
  if (t33 instanceof N7) return "AT_LEAST_ONE";
  if (t33 instanceof N8) return "AT_LEAST_ONE_SEP";
  if (t33 instanceof It) return "MANY_SEP";
  if (t33 instanceof N9) return "MANY";
  else if (t33 instanceof Ir) return "CONSUME";
  else throw Error("non exhaustive match");
}
class Io {
  walk(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
    tc(t33.definition, (r10, i10) => {
      let n10 = tF(t33.definition, i10 + 1);
      if (r10 instanceof N4) this.walkProdRef(r10, n10, e10);
      else if (r10 instanceof Ir) this.walkTerminal(r10, n10, e10);
      else if (r10 instanceof N3) this.walkFlat(r10, n10, e10);
      else if (r10 instanceof N6) this.walkOption(r10, n10, e10);
      else if (r10 instanceof N7) this.walkAtLeastOne(r10, n10, e10);
      else if (r10 instanceof N8) this.walkAtLeastOneSep(r10, n10, e10);
      else if (r10 instanceof It) this.walkManySep(r10, n10, e10);
      else if (r10 instanceof N9) this.walkMany(r10, n10, e10);
      else if (r10 instanceof Ie) this.walkOr(r10, n10, e10);
      else throw Error("non exhaustive match");
    });
  }
  walkTerminal(t33, e10, r10) {
  }
  walkProdRef(t33, e10, r10) {
  }
  walkFlat(t33, e10, r10) {
    let i10 = e10.concat(r10);
    this.walk(t33, i10);
  }
  walkOption(t33, e10, r10) {
    let i10 = e10.concat(r10);
    this.walk(t33, i10);
  }
  walkAtLeastOne(t33, e10, r10) {
    let i10 = [new N6({ definition: t33.definition })].concat(e10, r10);
    this.walk(t33, i10);
  }
  walkAtLeastOneSep(t33, e10, r10) {
    let i10 = Is(t33, e10, r10);
    this.walk(t33, i10);
  }
  walkMany(t33, e10, r10) {
    let i10 = [new N6({ definition: t33.definition })].concat(e10, r10);
    this.walk(t33, i10);
  }
  walkManySep(t33, e10, r10) {
    let i10 = Is(t33, e10, r10);
    this.walk(t33, i10);
  }
  walkOr(t33, e10, r10) {
    let i10 = e10.concat(r10);
    tc(t33.definition, (t34) => {
      let e11 = new N3({ definition: [t34] });
      this.walk(e11, i10);
    });
  }
}
function Is(t33, e10, r10) {
  return [new N6({ definition: [new Ir({ terminalType: t33.separator })].concat(t33.definition) })].concat(e10, r10);
}
function Il(t33) {
  if (t33 instanceof N4) return Il(t33.referencedRule);
  if (t33 instanceof Ir) return [t33.terminalType];
  if (t33 instanceof N3 || t33 instanceof N6 || t33 instanceof N9 || t33 instanceof N7 || t33 instanceof N8 || t33 instanceof It || t33 instanceof Ir || t33 instanceof N5) return function(t34) {
    let e10, r10 = [], i10 = t34.definition, n10 = 0, a10 = i10.length > n10, o10 = true;
    for (; a10 && o10; ) o10 = In(e10 = i10[n10]), r10 = r10.concat(Il(e10)), n10 += 1, a10 = i10.length > n10;
    return tt(r10);
  }(t33);
  if (t33 instanceof Ie) return tt(tg(tf(t33.definition, (t34) => Il(t34))));
  throw Error("non exhaustive match");
}
let Ih = "_~IN~_";
class Ic extends Io {
  constructor(t33) {
    super(), this.topProd = t33, this.follows = {};
  }
  startWalking() {
    return this.walk(this.topProd), this.follows;
  }
  walkTerminal(t33, e10, r10) {
  }
  walkProdRef(t33, e10, r10) {
    var i10, n10;
    let a10 = (i10 = t33.referencedRule, n10 = t33.idx, i10.name + n10 + Ih + this.topProd.name), o10 = Il(new N3({ definition: e10.concat(r10) }));
    this.follows[a10] = o10;
  }
}
let Iu = {}, Id = new ND();
function Ip(t33) {
  let e10 = t33.toString();
  if (Iu.hasOwnProperty(e10)) return Iu[e10];
  {
    let t34 = Id.pattern(e10);
    return Iu[e10] = t34, t34;
  }
}
let Ig = "Complement Sets are not supported for first char optimization", If = 'Unable to use "first char" lexer optimizations:\n';
function Im(t33, e10, r10) {
  let i10 = IO(t33);
  e10[i10] = i10, true === r10 && function(t34, e11) {
    let r11 = String.fromCharCode(t34), i11 = r11.toUpperCase();
    if (i11 !== r11) {
      let t35 = IO(i11.charCodeAt(0));
      e11[t35] = t35;
    } else {
      let t35 = r11.toLowerCase();
      if (t35 !== r11) {
        let r12 = IO(t35.charCodeAt(0));
        e11[r12] = r12;
      }
    }
  }(t33, e10);
}
function Iy(t33, e10) {
  return tk(t33.value, (t34) => "number" == typeof t34 ? t$(e10, t34) : void 0 !== tk(e10, (e11) => t34.from <= e11 && e11 <= t34.to));
}
class Iv extends NO {
  constructor(t33) {
    super(), this.targetCharCodes = t33, this.found = false;
  }
  visitChildren(t33) {
    if (true !== this.found) {
      switch (t33.type) {
        case "Lookahead":
          this.visitLookahead(t33);
          return;
        case "NegativeLookahead":
          this.visitNegativeLookahead(t33);
          return;
      }
      super.visitChildren(t33);
    }
  }
  visitCharacter(t33) {
    t$(this.targetCharCodes, t33.value) && (this.found = true);
  }
  visitSet(t33) {
    t33.complement ? void 0 === Iy(t33, this.targetCharCodes) && (this.found = true) : void 0 !== Iy(t33, this.targetCharCodes) && (this.found = true);
  }
}
function Ix(t33, e10) {
  if (!(e10 instanceof RegExp)) return void 0 !== tk(e10, (e11) => t$(t33, e11.charCodeAt(0)));
  {
    let r10 = Ip(e10), i10 = new Iv(t33);
    return i10.visit(r10), i10.found;
  }
}
let Ib = "PATTERN", Iw = "defaultMode", Ik = "modes", I_ = "boolean" == typeof RegExp("(?:)").sticky, IT = /[^\\][$]/, IE = /[^\\[][\^]|^\^/;
function IC(t33) {
  let e10 = t33.ignoreCase ? "i" : "";
  return RegExp(`^(?:${t33.source})`, e10);
}
function IS(t33) {
  let e10 = t33.ignoreCase ? "iy" : "y";
  return RegExp(`${t33.source}`, e10);
}
function IA(t33) {
  let e10 = t33.PATTERN;
  if (tO(e10)) return false;
  if (ts(e10) || tx(e10, "exec")) return true;
  if (tD(e10)) return false;
  throw Error("non exhaustive match");
}
function IL(t33) {
  return !!tD(t33) && 1 === t33.length && t33.charCodeAt(0);
}
let IN = { test: function(t33) {
  let e10 = t33.length;
  for (let r10 = this.lastIndex; r10 < e10; r10++) {
    let e11 = t33.charCodeAt(r10);
    if (10 === e11) return this.lastIndex = r10 + 1, true;
    if (13 === e11) return 10 === t33.charCodeAt(r10 + 1) ? this.lastIndex = r10 + 2 : this.lastIndex = r10 + 1, true;
  }
  return false;
}, lastIndex: 0 };
function II(t33, e10) {
  if (tx(t33, "LINE_BREAKS")) return false;
  if (tO(t33.PATTERN)) {
    try {
      Ix(e10, t33.PATTERN);
    } catch (t34) {
      return { issue: J$.IDENTIFY_TERMINATOR, errMsg: t34.message };
    }
    return false;
  }
  if (tD(t33.PATTERN)) return false;
  if (IA(t33)) return { issue: J$.CUSTOM_LINE_BREAK };
  throw Error("non exhaustive match");
}
function IM(t33) {
  return tf(t33, (t34) => tD(t34) ? t34.charCodeAt(0) : t34);
}
function IR(t33, e10, r10) {
  void 0 === t33[e10] ? t33[e10] = [r10] : t33[e10].push(r10);
}
let ID = [];
function IO(t33) {
  return t33 < 256 ? t33 : ID[t33];
}
function IP(t33, e10) {
  let r10 = t33.tokenTypeIdx;
  return r10 === e10.tokenTypeIdx || true === e10.isParent && true === e10.categoryMatchesMap[r10];
}
function I$(t33, e10) {
  return t33.tokenTypeIdx === e10.tokenTypeIdx;
}
let IB = 1, IF = {};
function Iz(t33) {
  let e10 = function(t34) {
    let e11 = tI(t34), r10 = t34, i10 = true;
    for (; i10; ) {
      let t35 = tG(r10 = tq(tg(tf(r10, (t36) => t36.CATEGORIES))), e11);
      e11 = e11.concat(t35), ta(t35) ? i10 = false : r10 = t35;
    }
    return e11;
  }(t33);
  tc(e10, (t34) => {
    IU(t34) || (IF[IB] = t34, t34.tokenTypeIdx = IB++), IG(t34) && !te(t34.CATEGORIES) && (t34.CATEGORIES = [t34.CATEGORIES]), IG(t34) || (t34.CATEGORIES = []), tx(t34, "categoryMatches") || (t34.categoryMatches = []), tx(t34, "categoryMatchesMap") || (t34.categoryMatchesMap = {});
  }), tc(e10, (t34) => {
    (function t35(e11, r10) {
      tc(e11, (t36) => {
        r10.categoryMatchesMap[t36.tokenTypeIdx] = true;
      }), tc(r10.CATEGORIES, (i10) => {
        let n10 = e11.concat(r10);
        t$(n10, i10) || t35(n10, i10);
      });
    })([], t34);
  }), tc(e10, (t34) => {
    t34.categoryMatches = [], tc(t34.categoryMatchesMap, (e11, r10) => {
      t34.categoryMatches.push(IF[r10].tokenTypeIdx);
    });
  }), tc(e10, (t34) => {
    t34.isParent = t34.categoryMatches.length > 0;
  });
}
function IU(t33) {
  return tx(t33, "tokenTypeIdx");
}
function IG(t33) {
  return tx(t33, "CATEGORIES");
}
function Iq(t33) {
  return tx(t33, "tokenTypeIdx");
}
(Qx = J$ || (J$ = {}))[Qx.MISSING_PATTERN = 0] = "MISSING_PATTERN", Qx[Qx.INVALID_PATTERN = 1] = "INVALID_PATTERN", Qx[Qx.EOI_ANCHOR_FOUND = 2] = "EOI_ANCHOR_FOUND", Qx[Qx.UNSUPPORTED_FLAGS_FOUND = 3] = "UNSUPPORTED_FLAGS_FOUND", Qx[Qx.DUPLICATE_PATTERNS_FOUND = 4] = "DUPLICATE_PATTERNS_FOUND", Qx[Qx.INVALID_GROUP_TYPE_FOUND = 5] = "INVALID_GROUP_TYPE_FOUND", Qx[Qx.PUSH_MODE_DOES_NOT_EXIST = 6] = "PUSH_MODE_DOES_NOT_EXIST", Qx[Qx.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE = 7] = "MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE", Qx[Qx.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY = 8] = "MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY", Qx[Qx.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST = 9] = "MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST", Qx[Qx.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED = 10] = "LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED", Qx[Qx.SOI_ANCHOR_FOUND = 11] = "SOI_ANCHOR_FOUND", Qx[Qx.EMPTY_MATCH_PATTERN = 12] = "EMPTY_MATCH_PATTERN", Qx[Qx.NO_LINE_BREAKS_FLAGS = 13] = "NO_LINE_BREAKS_FLAGS", Qx[Qx.UNREACHABLE_PATTERN = 14] = "UNREACHABLE_PATTERN", Qx[Qx.IDENTIFY_TERMINATOR = 15] = "IDENTIFY_TERMINATOR", Qx[Qx.CUSTOM_LINE_BREAK = 16] = "CUSTOM_LINE_BREAK", Qx[Qx.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE = 17] = "MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";
let IY = { deferDefinitionErrorsHandling: false, positionTracking: "full", lineTerminatorsPattern: /\n|\r\n?/g, lineTerminatorCharacters: ["\n", "\r"], ensureOptimizations: false, safeMode: false, errorMessageProvider: { buildUnableToPopLexerModeMessage: (t33) => `Unable to pop Lexer Mode after encountering Token ->${t33.image}<- The Mode Stack is empty`, buildUnexpectedCharactersMessage: (t33, e10, r10, i10, n10) => `unexpected character: ->${t33.charAt(e10)}<- at offset: ${e10}, skipped ${r10} characters.` }, traceInitPerf: false, skipValidations: false, recoveryEnabled: true };
Object.freeze(IY);
class IH {
  constructor(t33, e10 = IY) {
    if (this.lexerDefinition = t33, this.lexerDefinitionErrors = [], this.lexerDefinitionWarning = [], this.patternIdxToConfig = {}, this.charCodeToPatternIdxToConfig = {}, this.modes = [], this.emptyGroups = {}, this.trackStartLines = true, this.trackEndLines = true, this.hasCustom = false, this.canModeBeOptimized = {}, this.TRACE_INIT = (t34, e11) => {
      if (true !== this.traceInitPerf) return e11();
      {
        this.traceInitIndent++;
        let r11 = Array(this.traceInitIndent + 1).join("	");
        this.traceInitIndent < this.traceInitMaxIdent && console.log(`${r11}--> <${t34}>`);
        let { time: i10, value: n10 } = N0(e11), a10 = i10 > 10 ? console.warn : console.log;
        return this.traceInitIndent < this.traceInitMaxIdent && a10(`${r11}<-- <${t34}> time: ${i10}ms`), this.traceInitIndent--, n10;
      }
    }, "boolean" == typeof e10) throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");
    this.config = tM({}, IY, e10);
    let r10 = this.config.traceInitPerf;
    true === r10 ? (this.traceInitMaxIdent = 1 / 0, this.traceInitPerf = true) : "number" == typeof r10 && (this.traceInitMaxIdent = r10, this.traceInitPerf = true), this.traceInitIndent = -1, this.TRACE_INIT("Lexer Constructor", () => {
      let r11;
      let i10 = true;
      this.TRACE_INIT("Lexer Config handling", () => {
        if (this.config.lineTerminatorsPattern === IY.lineTerminatorsPattern) this.config.lineTerminatorsPattern = IN;
        else if (this.config.lineTerminatorCharacters === IY.lineTerminatorCharacters) throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");
        if (e10.safeMode && e10.ensureOptimizations) throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');
        this.trackStartLines = /full|onlyStart/i.test(this.config.positionTracking), this.trackEndLines = /full/i.test(this.config.positionTracking), te(t33) ? r11 = { modes: { defaultMode: tI(t33) }, defaultMode: Iw } : (i10 = false, r11 = tI(t33));
      }), false === this.config.skipValidations && (this.TRACE_INIT("performRuntimeChecks", () => {
        this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat(function(t34, e11, r12) {
          let i11 = [];
          return tx(t34, Iw) || i11.push({ message: "A MultiMode Lexer cannot be initialized without a <" + Iw + "> property in its definition\n", type: J$.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE }), tx(t34, Ik) || i11.push({ message: "A MultiMode Lexer cannot be initialized without a <" + Ik + "> property in its definition\n", type: J$.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY }), tx(t34, Ik) && tx(t34, Iw) && !tx(t34.modes, t34.defaultMode) && i11.push({ message: `A MultiMode Lexer cannot be initialized with a ${Iw}: <${t34.defaultMode}>which does not exist
`, type: J$.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST }), tx(t34, Ik) && tc(t34.modes, (t35, e12) => {
            tc(t35, (r13, n11) => {
              J(r13) ? i11.push({ message: `A Lexer cannot be initialized using an undefined Token Type. Mode:<${e12}> at index: <${n11}>
`, type: J$.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED }) : tx(r13, "LONGER_ALT") && tc(te(r13.LONGER_ALT) ? r13.LONGER_ALT : [r13.LONGER_ALT], (n12) => {
                J(n12) || t$(t35, n12) || i11.push({ message: `A MultiMode Lexer cannot be initialized with a longer_alt <${n12.name}> on token <${r13.name}> outside of mode <${e12}>
`, type: J$.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE });
              });
            });
          }), i11;
        }(r11, this.trackStartLines, this.config.lineTerminatorCharacters));
      }), this.TRACE_INIT("performWarningRuntimeChecks", () => {
        this.lexerDefinitionWarning = this.lexerDefinitionWarning.concat(function(t34, e11, r12) {
          let i11 = [], n11 = false, a10 = tz(tq(tg(td(t34.modes))), (t35) => t35[Ib] === IH.NA), o10 = IM(r12);
          return e11 && tc(a10, (t35) => {
            let e12 = II(t35, o10);
            if (false !== e12) {
              let r13 = { message: function(t36, e13) {
                if (e13.issue === J$.IDENTIFY_TERMINATOR) return `Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t36.name}> Token Type
	 Root cause: ${e13.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;
                if (e13.issue === J$.CUSTOM_LINE_BREAK) return `Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t36.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;
                throw Error("non exhaustive match");
              }(t35, e12), type: e12.issue, tokenType: t35 };
              i11.push(r13);
            } else tx(t35, "LINE_BREAKS") ? true === t35.LINE_BREAKS && (n11 = true) : Ix(o10, t35.PATTERN) && (n11 = true);
          }), e11 && !n11 && i11.push({ message: "Warning: No LINE_BREAKS Found.\n	This Lexer has been defined to track line and column information,\n	But none of the Token Types can be identified as matching a line terminator.\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n	for details.", type: J$.NO_LINE_BREAKS_FLAGS }), i11;
        }(r11, this.trackStartLines, this.config.lineTerminatorCharacters));
      })), r11.modes = r11.modes ? r11.modes : {}, tc(r11.modes, (t34, e11) => {
        r11.modes[e11] = tz(t34, (t35) => J(t35));
      });
      let n10 = tl(r11.modes);
      if (tc(r11.modes, (t34, r12) => {
        this.TRACE_INIT(`Mode: <${r12}> processing`, () => {
          if (this.modes.push(r12), false === this.config.skipValidations && this.TRACE_INIT("validatePatterns", () => {
            this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat(function(t35, e11) {
              let r13 = [], i11 = function(t36) {
                let e12 = th(t36, (t37) => !tx(t37, Ib));
                return { errors: tf(e12, (t37) => ({ message: "Token Type: ->" + t37.name + "<- missing static 'PATTERN' property", type: J$.MISSING_PATTERN, tokenTypes: [t37] })), valid: tG(t36, e12) };
              }(t35);
              r13 = r13.concat(i11.errors);
              let n11 = function(t36) {
                let e12 = th(t36, (t37) => {
                  let e13 = t37[Ib];
                  return !tO(e13) && !ts(e13) && !tx(e13, "exec") && !tD(e13);
                });
                return { errors: tf(e12, (t37) => ({ message: "Token Type: ->" + t37.name + "<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.", type: J$.INVALID_PATTERN, tokenTypes: [t37] })), valid: tG(t36, e12) };
              }(i11.valid), a10 = n11.valid;
              return (r13 = (r13 = (r13 = (r13 = r13.concat(n11.errors)).concat(function(t36) {
                let e12 = [], r14 = th(t36, (t37) => tO(t37[Ib]));
                return (e12 = (e12 = (e12 = (e12 = e12.concat(function(t37) {
                  class e13 extends NO {
                    constructor() {
                      super(...arguments), this.found = false;
                    }
                    visitEndAnchor(t38) {
                      this.found = true;
                    }
                  }
                  return tf(th(t37, (t38) => {
                    let r15 = t38.PATTERN;
                    try {
                      let t39 = Ip(r15), i12 = new e13();
                      return i12.visit(t39), i12.found;
                    } catch (t39) {
                      return IT.test(r15.source);
                    }
                  }), (t38) => ({ message: "Unexpected RegExp Anchor Error:\n	Token Type: ->" + t38.name + "<- static 'PATTERN' cannot contain end of input anchor '$'\n	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.", type: J$.EOI_ANCHOR_FOUND, tokenTypes: [t38] }));
                }(r14))).concat(function(t37) {
                  class e13 extends NO {
                    constructor() {
                      super(...arguments), this.found = false;
                    }
                    visitStartAnchor(t38) {
                      this.found = true;
                    }
                  }
                  return tf(th(t37, (t38) => {
                    let r15 = t38.PATTERN;
                    try {
                      let t39 = Ip(r15), i12 = new e13();
                      return i12.visit(t39), i12.found;
                    } catch (t39) {
                      return IE.test(r15.source);
                    }
                  }), (t38) => ({ message: "Unexpected RegExp Anchor Error:\n	Token Type: ->" + t38.name + "<- static 'PATTERN' cannot contain start of input anchor '^'\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.", type: J$.SOI_ANCHOR_FOUND, tokenTypes: [t38] }));
                }(r14))).concat(tf(th(r14, (t37) => {
                  let e13 = t37[Ib];
                  return e13 instanceof RegExp && (e13.multiline || e13.global);
                }), (t37) => ({ message: "Token Type: ->" + t37.name + "<- static 'PATTERN' may NOT contain global('g') or multiline('m')", type: J$.UNSUPPORTED_FLAGS_FOUND, tokenTypes: [t37] })))).concat(function(t37) {
                  let e13 = [], r15 = tf(t37, (r16) => tp(t37, (t38, i12) => (r16.PATTERN.source !== i12.PATTERN.source || t$(e13, i12) || i12.PATTERN === IH.NA || (e13.push(i12), t38.push(i12)), t38), []));
                  return tf(th(r15 = tq(r15), (t38) => t38.length > 1), (t38) => {
                    let e14 = tf(t38, (t39) => t39.name), r16 = tY(t38).PATTERN;
                    return { message: `The same RegExp pattern ->${r16}<-has been used in all of the following Token Types: ${e14.join(", ")} <-`, type: J$.DUPLICATE_PATTERNS_FOUND, tokenTypes: t38 };
                  });
                }(r14))).concat(tf(th(r14, (t37) => t37.PATTERN.test("")), (t37) => ({ message: "Token Type: ->" + t37.name + "<- static 'PATTERN' must not match an empty string", type: J$.EMPTY_MATCH_PATTERN, tokenTypes: [t37] })));
              }(a10))).concat(tf(th(a10, (t36) => {
                if (!tx(t36, "GROUP")) return false;
                let e12 = t36.GROUP;
                return e12 !== IH.SKIPPED && e12 !== IH.NA && !tD(e12);
              }), (t36) => ({ message: "Token Type: ->" + t36.name + "<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String", type: J$.INVALID_GROUP_TYPE_FOUND, tokenTypes: [t36] })))).concat(tf(th(a10, (t36) => void 0 !== t36.PUSH_MODE && !t$(e11, t36.PUSH_MODE)), (t36) => ({ message: `Token Type: ->${t36.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${t36.PUSH_MODE}<-which does not exist`, type: J$.PUSH_MODE_DOES_NOT_EXIST, tokenTypes: [t36] })))).concat(function(t36) {
                let e12 = [], r14 = tp(t36, (t37, e13, r15) => {
                  let i12 = e13.PATTERN;
                  return i12 === IH.NA || (tD(i12) ? t37.push({ str: i12, idx: r15, tokenType: e13 }) : tO(i12) && void 0 === tk([".", "\\", "[", "]", "|", "^", "$", "(", ")", "?", "*", "+", "{"], (t38) => -1 !== i12.source.indexOf(t38)) && t37.push({ str: i12.source, idx: r15, tokenType: e13 })), t37;
                }, []);
                return tc(t36, (t37, i12) => {
                  tc(r14, (r15) => {
                    let { str: n12, idx: a11, tokenType: o10 } = r15;
                    if (i12 < a11 && function(t38, e13) {
                      if (tO(e13)) {
                        let r16 = e13.exec(t38);
                        return null !== r16 && 0 === r16.index;
                      }
                      if (ts(e13)) return e13(t38, 0, [], {});
                      if (tx(e13, "exec")) return e13.exec(t38, 0, [], {});
                      if ("string" == typeof e13) return e13 === t38;
                      throw Error("non exhaustive match");
                    }(n12, t37.PATTERN)) {
                      let r16 = `Token: ->${o10.name}<- can never be matched.
Because it appears AFTER the Token Type ->${t37.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;
                      e12.push({ message: r16, type: J$.UNREACHABLE_PATTERN, tokenTypes: [t37, o10] });
                    }
                  });
                }), e12;
              }(a10));
            }(t34, n10));
          }), ta(this.lexerDefinitionErrors)) {
            let i11;
            Iz(t34), this.TRACE_INIT("analyzeTokenTypes", () => {
              i11 = function(t35, e11) {
                let r13, i12, n11, a10, o10, s10, l10, h10, u10, d10, p10, g10;
                let f10 = (e11 = tN(e11, { useSticky: I_, debug: false, safeMode: false, positionTracking: "full", lineTerminatorCharacters: ["\r", "\n"], tracer: (t36, e12) => e12() })).tracer;
                f10("initCharCodeToOptimizedIndexMap", () => {
                  (function() {
                    if (ta(ID)) {
                      ID = Array(65536);
                      for (let t36 = 0; t36 < 65536; t36++) ID[t36] = t36 > 255 ? 255 + ~~(t36 / 255) : t36;
                    }
                  })();
                }), f10("Reject Lexer.NA", () => {
                  r13 = tz(t35, (t36) => t36[Ib] === IH.NA);
                });
                let y10 = false;
                f10("Transform Patterns", () => {
                  y10 = false, i12 = tf(r13, (t36) => {
                    let r14 = t36[Ib];
                    if (tO(r14)) {
                      let t37 = r14.source;
                      return 1 !== t37.length || "^" === t37 || "$" === t37 || "." === t37 || r14.ignoreCase ? 2 !== t37.length || "\\" !== t37[0] || t$(["d", "D", "s", "S", "t", "r", "n", "t", "0", "c", "b", "B", "f", "v", "w", "W"], t37[1]) ? e11.useSticky ? IS(r14) : IC(r14) : t37[1] : t37;
                    }
                    if (ts(r14)) return y10 = true, { exec: r14 };
                    if ("object" == typeof r14) return y10 = true, r14;
                    if ("string" == typeof r14) {
                      if (1 === r14.length) return r14;
                      {
                        let t37 = new RegExp(r14.replace(/[\\^$.*+?()[\]{}|]/g, "\\$&"));
                        return e11.useSticky ? IS(t37) : IC(t37);
                      }
                    }
                    throw Error("non exhaustive match");
                  });
                }), f10("misc mapping", () => {
                  n11 = tf(r13, (t36) => t36.tokenTypeIdx), a10 = tf(r13, (t36) => {
                    let e12 = t36.GROUP;
                    if (e12 !== IH.SKIPPED) {
                      if (tD(e12)) return e12;
                      if (J(e12)) return false;
                      throw Error("non exhaustive match");
                    }
                  }), o10 = tf(r13, (t36) => {
                    let e12 = t36.LONGER_ALT;
                    if (e12) return te(e12) ? tf(e12, (t37) => tU(r13, t37)) : [tU(r13, e12)];
                  }), s10 = tf(r13, (t36) => t36.PUSH_MODE), l10 = tf(r13, (t36) => tx(t36, "POP_MODE"));
                }), f10("Line Terminator Handling", () => {
                  let t36 = IM(e11.lineTerminatorCharacters);
                  h10 = tf(r13, (t37) => false), "onlyOffset" !== e11.positionTracking && (h10 = tf(r13, (e12) => tx(e12, "LINE_BREAKS") ? !!e12.LINE_BREAKS : false === II(e12, t36) && Ix(t36, e12.PATTERN)));
                }), f10("Misc Mapping #2", () => {
                  u10 = tf(r13, IA), d10 = tf(i12, IL), p10 = tp(r13, (t36, e12) => {
                    let r14 = e12.GROUP;
                    return tD(r14) && r14 !== IH.SKIPPED && (t36[r14] = []), t36;
                  }, {}), g10 = tf(i12, (t36, e12) => ({ pattern: i12[e12], longerAlt: o10[e12], canLineTerminator: h10[e12], isCustom: u10[e12], short: d10[e12], group: a10[e12], push: s10[e12], pop: l10[e12], tokenTypeIdx: n11[e12], tokenType: r13[e12] }));
                });
                let v10 = true, x10 = [];
                return e11.safeMode || f10("First Char Optimization", () => {
                  x10 = tp(r13, (t36, r14, i13) => {
                    if ("string" == typeof r14.PATTERN) IR(t36, IO(r14.PATTERN.charCodeAt(0)), g10[i13]);
                    else if (te(r14.START_CHARS_HINT)) {
                      let e12;
                      tc(r14.START_CHARS_HINT, (r15) => {
                        let n12 = IO("string" == typeof r15 ? r15.charCodeAt(0) : r15);
                        e12 !== n12 && (e12 = n12, IR(t36, n12, g10[i13]));
                      });
                    } else if (tO(r14.PATTERN)) {
                      if (r14.PATTERN.unicode) v10 = false, e11.ensureOptimizations && NQ(`${If}	Unable to analyze < ${r14.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);
                      else {
                        let n12 = function(t37) {
                          let e12 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                          try {
                            let e13 = Ip(t37);
                            return function t38(e14, r15, i14) {
                              switch (e14.type) {
                                case "Disjunction":
                                  for (let n14 = 0; n14 < e14.value.length; n14++) t38(e14.value[n14], r15, i14);
                                  break;
                                case "Alternative":
                                  let n13 = e14.value;
                                  for (let e15 = 0; e15 < n13.length; e15++) {
                                    let a11 = n13[e15];
                                    switch (a11.type) {
                                      case "EndAnchor":
                                      case "GroupBackReference":
                                      case "Lookahead":
                                      case "NegativeLookahead":
                                      case "StartAnchor":
                                      case "WordBoundary":
                                      case "NonWordBoundary":
                                        continue;
                                    }
                                    switch (a11.type) {
                                      case "Character":
                                        Im(a11.value, r15, i14);
                                        break;
                                      case "Set":
                                        if (true === a11.complement) throw Error(Ig);
                                        tc(a11.value, (t39) => {
                                          if ("number" == typeof t39) Im(t39, r15, i14);
                                          else if (true === i14) for (let e16 = t39.from; e16 <= t39.to; e16++) Im(e16, r15, i14);
                                          else {
                                            for (let e16 = t39.from; e16 <= t39.to && e16 < 256; e16++) Im(e16, r15, i14);
                                            if (t39.to >= 256) {
                                              let e16 = t39.from >= 256 ? t39.from : 256, i15 = t39.to, n14 = IO(e16), a12 = IO(i15);
                                              for (let t40 = n14; t40 <= a12; t40++) r15[t40] = t40;
                                            }
                                          }
                                        });
                                        break;
                                      case "Group":
                                        t38(a11.value, r15, i14);
                                        break;
                                      default:
                                        throw Error("Non Exhaustive Match");
                                    }
                                    let o11 = void 0 !== a11.quantifier && 0 === a11.quantifier.atLeast;
                                    if ("Group" === a11.type && false === function t39(e16) {
                                      let r16 = e16.quantifier;
                                      return !!r16 && 0 === r16.atLeast || !!e16.value && (te(e16.value) ? tB(e16.value, t39) : t39(e16.value));
                                    }(a11) || "Group" !== a11.type && false === o11) break;
                                  }
                                  break;
                                default:
                                  throw Error("non exhaustive match!");
                              }
                              return td(r15);
                            }(e13.value, {}, e13.flags.ignoreCase);
                          } catch (r15) {
                            if (r15.message === Ig) e12 && NJ(`${If}	Unable to optimize: < ${t37.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);
                            else {
                              let r16 = "";
                              e12 && (r16 = "\n	This will disable the lexer's first char optimizations.\n	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."), NQ(`${If}
	Failed parsing: < ${t37.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues` + r16);
                            }
                          }
                          return [];
                        }(r14.PATTERN, e11.ensureOptimizations);
                        ta(n12) && (v10 = false), tc(n12, (e12) => {
                          IR(t36, e12, g10[i13]);
                        });
                      }
                    } else e11.ensureOptimizations && NQ(`${If}	TokenType: <${r14.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`), v10 = false;
                    return t36;
                  }, []);
                }), { emptyGroups: p10, patternIdxToConfig: g10, charCodeToPatternIdxToConfig: x10, hasCustom: y10, canBeOptimized: v10 };
              }(t34, { lineTerminatorCharacters: this.config.lineTerminatorCharacters, positionTracking: e10.positionTracking, ensureOptimizations: e10.ensureOptimizations, safeMode: e10.safeMode, tracer: this.TRACE_INIT });
            }), this.patternIdxToConfig[r12] = i11.patternIdxToConfig, this.charCodeToPatternIdxToConfig[r12] = i11.charCodeToPatternIdxToConfig, this.emptyGroups = tM({}, this.emptyGroups, i11.emptyGroups), this.hasCustom = i11.hasCustom || this.hasCustom, this.canModeBeOptimized[r12] = i11.canBeOptimized;
          }
        });
      }), this.defaultMode = r11.defaultMode, !ta(this.lexerDefinitionErrors) && !this.config.deferDefinitionErrorsHandling) throw Error("Errors detected in definition of Lexer:\n" + tf(this.lexerDefinitionErrors, (t34) => t34.message).join("-----------------------\n"));
      tc(this.lexerDefinitionWarning, (t34) => {
        NJ(t34.message);
      }), this.TRACE_INIT("Choosing sub-methods implementations", () => {
        if (I_ ? (this.chopInput = tH, this.match = this.matchWithTest) : (this.updateLastIndex = tj, this.match = this.matchWithExec), i10 && (this.handleModes = tj), false === this.trackStartLines && (this.computeNewColumn = tH), false === this.trackEndLines && (this.updateTokenEndLineColumnLocation = tj), /full/i.test(this.config.positionTracking)) this.createTokenInstance = this.createFullToken;
        else if (/onlyStart/i.test(this.config.positionTracking)) this.createTokenInstance = this.createStartOnlyToken;
        else if (/onlyOffset/i.test(this.config.positionTracking)) this.createTokenInstance = this.createOffsetOnlyToken;
        else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);
        this.hasCustom ? (this.addToken = this.addTokenUsingPush, this.handlePayload = this.handlePayloadWithCustom) : (this.addToken = this.addTokenUsingMemberAccess, this.handlePayload = this.handlePayloadNoCustom);
      }), this.TRACE_INIT("Failed Optimization Warnings", () => {
        let t34 = tp(this.canModeBeOptimized, (t35, e11, r12) => (false === e11 && t35.push(r12), t35), []);
        if (e10.ensureOptimizations && !ta(t34)) throw Error(`Lexer Modes: < ${t34.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`);
      }), this.TRACE_INIT("clearRegExpParserCache", () => {
        Iu = {};
      }), this.TRACE_INIT("toFastProperties", () => {
        N1(this);
      });
    });
  }
  tokenize(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.defaultMode;
    if (!ta(this.lexerDefinitionErrors)) throw Error("Unable to Tokenize because Errors detected in definition of Lexer:\n" + tf(this.lexerDefinitionErrors, (t34) => t34.message).join("-----------------------\n"));
    return this.tokenizeInternal(t33, e10);
  }
  tokenizeInternal(t33, e10) {
    let r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10, x10, b10;
    let w10 = t33, k10 = w10.length, _10 = 0, T10 = 0, E10 = Array(this.hasCustom ? 0 : Math.floor(t33.length / 10)), C10 = [], S10 = this.trackStartLines ? 1 : void 0, A10 = this.trackStartLines ? 1 : void 0, L10 = function(t34) {
      let e11 = {};
      return tc(tl(t34), (r11) => {
        if (te(t34[r11])) e11[r11] = [];
        else throw Error("non exhaustive match");
      }), e11;
    }(this.emptyGroups), N10 = this.trackStartLines, I10 = this.config.lineTerminatorsPattern, M10 = 0, R10 = [], D10 = [], O10 = [], P10 = [];
    function $10() {
      return R10;
    }
    function B10(t34) {
      let e11 = D10[IO(t34)];
      return void 0 === e11 ? P10 : e11;
    }
    Object.freeze(P10);
    let F10 = (t34) => {
      if (1 === O10.length && void 0 === t34.tokenType.PUSH_MODE) {
        let e11 = this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t34);
        C10.push({ offset: t34.startOffset, line: t34.startLine, column: t34.startColumn, length: t34.image.length, message: e11 });
      } else {
        O10.pop();
        let t35 = tE(O10);
        R10 = this.patternIdxToConfig[t35], D10 = this.charCodeToPatternIdxToConfig[t35], M10 = R10.length;
        let e11 = this.canModeBeOptimized[t35] && false === this.config.safeMode;
        x10 = D10 && e11 ? B10 : $10;
      }
    };
    function z10(t34) {
      O10.push(t34), D10 = this.charCodeToPatternIdxToConfig[t34], M10 = (R10 = this.patternIdxToConfig[t34]).length, M10 = R10.length;
      let e11 = this.canModeBeOptimized[t34] && false === this.config.safeMode;
      x10 = D10 && e11 ? B10 : $10;
    }
    z10.call(this, e10);
    let U10 = this.config.recoveryEnabled;
    for (; _10 < k10; ) {
      s10 = null;
      let e11 = w10.charCodeAt(_10), D11 = x10(e11), O11 = D11.length;
      for (r10 = 0; r10 < O11; r10++) {
        let i11 = (b10 = D11[r10]).pattern;
        l10 = null;
        let u11 = b10.short;
        if (false !== u11 ? e11 === u11 && (s10 = i11) : true === b10.isCustom ? null !== (v10 = i11.exec(w10, _10, E10, L10)) ? (s10 = v10[0], void 0 !== v10.payload && (l10 = v10.payload)) : s10 = null : (this.updateLastIndex(i11, _10), s10 = this.match(i11, t33, _10)), null !== s10) {
          if (void 0 !== (o10 = b10.longerAlt)) {
            let e12 = o10.length;
            for (n10 = 0; n10 < e12; n10++) {
              let e13 = R10[o10[n10]], r11 = e13.pattern;
              if (h10 = null, true === e13.isCustom ? null !== (v10 = r11.exec(w10, _10, E10, L10)) ? (a10 = v10[0], void 0 !== v10.payload && (h10 = v10.payload)) : a10 = null : (this.updateLastIndex(r11, _10), a10 = this.match(r11, t33, _10)), a10 && a10.length > s10.length) {
                s10 = a10, l10 = h10, b10 = e13;
                break;
              }
            }
          }
          break;
        }
      }
      if (null !== s10) {
        if (u10 = s10.length, void 0 !== (d10 = b10.group) && (p10 = b10.tokenTypeIdx, g10 = this.createTokenInstance(s10, _10, p10, b10.tokenType, S10, A10, u10), this.handlePayload(g10, l10), false === d10 ? T10 = this.addToken(E10, T10, g10) : L10[d10].push(g10)), t33 = this.chopInput(t33, u10), _10 += u10, A10 = this.computeNewColumn(A10, u10), true === N10 && true === b10.canLineTerminator) {
          let t34, e12, r11 = 0;
          I10.lastIndex = 0;
          do
            true === (t34 = I10.test(s10)) && (e12 = I10.lastIndex - 1, r11++);
          while (true === t34);
          0 !== r11 && (S10 += r11, A10 = u10 - e12, this.updateTokenEndLineColumnLocation(g10, d10, e12, r11, S10, A10, u10));
        }
        this.handleModes(b10, F10, z10, g10);
      } else {
        let e12 = _10, r11 = S10, n11 = A10, a11 = false === U10;
        for (; false === a11 && _10 < k10; ) for (t33 = this.chopInput(t33, 1), _10++, i10 = 0; i10 < M10; i10++) {
          let e13 = R10[i10], r12 = e13.pattern, n12 = e13.short;
          if (false !== n12 ? w10.charCodeAt(_10) === n12 && (a11 = true) : true === e13.isCustom ? a11 = null !== r12.exec(w10, _10, E10, L10) : (this.updateLastIndex(r12, _10), a11 = null !== r12.exec(t33)), true === a11) break;
        }
        if (f10 = _10 - e12, A10 = this.computeNewColumn(A10, f10), y10 = this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w10, e12, f10, r11, n11), C10.push({ offset: e12, line: r11, column: n11, length: f10, message: y10 }), false === U10) break;
      }
    }
    return this.hasCustom || (E10.length = T10), { tokens: E10, groups: L10, errors: C10 };
  }
  handleModes(t33, e10, r10, i10) {
    if (true === t33.pop) {
      let n10 = t33.push;
      e10(i10), void 0 !== n10 && r10.call(this, n10);
    } else void 0 !== t33.push && r10.call(this, t33.push);
  }
  chopInput(t33, e10) {
    return t33.substring(e10);
  }
  updateLastIndex(t33, e10) {
    t33.lastIndex = e10;
  }
  updateTokenEndLineColumnLocation(t33, e10, r10, i10, n10, a10, o10) {
    let s10, l10;
    void 0 === e10 || (l10 = (s10 = r10 === o10 - 1) ? -1 : 0, 1 === i10 && true === s10 || (t33.endLine = n10 + l10, t33.endColumn = a10 - 1 + -l10));
  }
  computeNewColumn(t33, e10) {
    return t33 + e10;
  }
  createOffsetOnlyToken(t33, e10, r10, i10) {
    return { image: t33, startOffset: e10, tokenTypeIdx: r10, tokenType: i10 };
  }
  createStartOnlyToken(t33, e10, r10, i10, n10, a10) {
    return { image: t33, startOffset: e10, startLine: n10, startColumn: a10, tokenTypeIdx: r10, tokenType: i10 };
  }
  createFullToken(t33, e10, r10, i10, n10, a10, o10) {
    return { image: t33, startOffset: e10, endOffset: e10 + o10 - 1, startLine: n10, endLine: n10, startColumn: a10, endColumn: a10 + o10 - 1, tokenTypeIdx: r10, tokenType: i10 };
  }
  addTokenUsingPush(t33, e10, r10) {
    return t33.push(r10), e10;
  }
  addTokenUsingMemberAccess(t33, e10, r10) {
    return t33[e10] = r10, ++e10;
  }
  handlePayloadNoCustom(t33, e10) {
  }
  handlePayloadWithCustom(t33, e10) {
    null !== e10 && (t33.payload = e10);
  }
  matchWithTest(t33, e10, r10) {
    return true === t33.test(e10) ? e10.substring(r10, t33.lastIndex) : null;
  }
  matchWithExec(t33, e10) {
    let r10 = t33.exec(e10);
    return null !== r10 ? r10[0] : null;
  }
}
function Ij(t33) {
  return IW(t33) ? t33.LABEL : t33.name;
}
function IW(t33) {
  return tD(t33.LABEL) && "" !== t33.LABEL;
}
IH.SKIPPED = "This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.", IH.NA = /NOT_APPLICABLE/;
let IV = "categories", IX = "label", IK = "group", IZ = "push_mode", IQ = "pop_mode", IJ = "longer_alt", I0 = "line_breaks", I1 = "start_chars_hint";
function I2(t33) {
  let e10 = t33.pattern, r10 = {};
  if (r10.name = t33.name, J(e10) || (r10.PATTERN = e10), tx(t33, "parent")) throw "The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";
  return tx(t33, IV) && (r10.CATEGORIES = t33[IV]), Iz([r10]), tx(t33, IX) && (r10.LABEL = t33[IX]), tx(t33, IK) && (r10.GROUP = t33[IK]), tx(t33, IQ) && (r10.POP_MODE = t33[IQ]), tx(t33, IZ) && (r10.PUSH_MODE = t33[IZ]), tx(t33, IJ) && (r10.LONGER_ALT = t33[IJ]), tx(t33, I0) && (r10.LINE_BREAKS = t33[I0]), tx(t33, I1) && (r10.START_CHARS_HINT = t33[I1]), r10;
}
let I4 = I2({ name: "EOF", pattern: IH.NA });
function I5(t33, e10, r10, i10, n10, a10, o10, s10) {
  return { image: e10, startOffset: r10, endOffset: i10, startLine: n10, endLine: a10, startColumn: o10, endColumn: s10, tokenTypeIdx: t33.tokenTypeIdx, tokenType: t33 };
}
Iz([I4]);
let I3 = { buildMismatchTokenMessage(t33) {
  let { expected: e10, actual: r10, previous: i10, ruleName: n10 } = t33, a10 = IW(e10) ? `--> ${Ij(e10)} <--` : `token of type --> ${e10.name} <--`;
  return `Expecting ${a10} but found --> '${r10.image}' <--`;
}, buildNotAllInputParsedMessage(t33) {
  let { firstRedundant: e10, ruleName: r10 } = t33;
  return "Redundant input, expecting EOF but found: " + e10.image;
}, buildNoViableAltMessage(t33) {
  let { expectedPathsPerAlt: e10, actual: r10, previous: i10, customUserDescription: n10, ruleName: a10 } = t33, o10 = "Expecting: ", s10 = "\nbut found: '" + tY(r10).image + "'";
  if (n10) return o10 + n10 + s10;
  {
    let t34 = tf(tp(e10, (t35, e11) => t35.concat(e11), []), (t35) => `[${tf(t35, (t36) => Ij(t36)).join(", ")}]`), r11 = tf(t34, (t35, e11) => `  ${e11 + 1}. ${t35}`);
    return o10 + `one of these possible Token sequences:
${r11.join("\n")}` + s10;
  }
}, buildEarlyExitMessage(t33) {
  let { expectedIterationPaths: e10, actual: r10, customUserDescription: i10, ruleName: n10 } = t33, a10 = "Expecting: ", o10 = "\nbut found: '" + tY(r10).image + "'";
  if (i10) return a10 + i10 + o10;
  {
    let t34 = tf(e10, (t35) => `[${tf(t35, (t36) => Ij(t36)).join(",")}]`);
    return a10 + `expecting at least one iteration which starts with one of these possible Token sequences::
  <${t34.join(" ,")}>` + o10;
  }
} };
Object.freeze(I3);
let I6 = { buildRuleNotFoundError: (t33, e10) => "Invalid grammar, reference to a rule which is not defined: ->" + e10.nonTerminalName + "<-\ninside top level rule: ->" + t33.name + "<-" }, I7 = { buildDuplicateFoundError(t33, e10) {
  let r10 = t33.name, i10 = tY(e10), n10 = i10.idx, a10 = Ia(i10), o10 = i10 instanceof Ir ? i10.terminalType.name : i10 instanceof N4 ? i10.nonTerminalName : "", s10 = `->${a10}${n10 > 0 ? n10 : ""}<- ${o10 ? `with argument: ->${o10}<-` : ""}
                  appears more than once (${e10.length} times) in the top level rule: ->${r10}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;
  return (s10 = s10.replace(/[ \t]+/g, " ")).replace(/\s\s+/g, "\n");
}, buildNamespaceConflictError: (t33) => `Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t33.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`, buildAlternationPrefixAmbiguityError(t33) {
  let e10 = tf(t33.prefixPath, (t34) => Ij(t34)).join(", "), r10 = 0 === t33.alternation.idx ? "" : t33.alternation.idx;
  return `Ambiguous alternatives: <${t33.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r10}> inside <${t33.topLevelRule.name}> Rule,
<${e10}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;
}, buildAlternationAmbiguityError(t33) {
  let e10 = tf(t33.prefixPath, (t34) => Ij(t34)).join(", "), r10 = 0 === t33.alternation.idx ? "" : t33.alternation.idx;
  return `Ambiguous Alternatives Detected: <${t33.ambiguityIndices.join(" ,")}> in <OR${r10}> inside <${t33.topLevelRule.name}> Rule,
<${e10}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`;
}, buildEmptyRepetitionError(t33) {
  let e10 = Ia(t33.repetition);
  return 0 !== t33.repetition.idx && (e10 += t33.repetition.idx), `The repetition <${e10}> within Rule <${t33.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`;
}, buildTokenNameError: (t33) => "deprecated", buildEmptyAlternationError: (t33) => `Ambiguous empty alternative: <${t33.emptyChoiceIdx + 1}> in <OR${t33.alternation.idx}> inside <${t33.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`, buildTooManyAlternativesError: (t33) => `An Alternation cannot have more than 256 alternatives:
<OR${t33.alternation.idx}> inside <${t33.topLevelRule.name}> Rule.
 has ${t33.alternation.definition.length + 1} alternatives.`, buildLeftRecursionError(t33) {
  let e10 = t33.topLevelRule.name, r10 = tf(t33.leftRecursionPath, (t34) => t34.name), i10 = `${e10} --> ${r10.concat([e10]).join(" --> ")}`;
  return `Left Recursion found in grammar.
rule: <${e10}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i10}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;
}, buildInvalidRuleNameError: (t33) => "deprecated", buildDuplicateRuleNameError(t33) {
  let e10;
  return e10 = t33.topLevelRule instanceof N5 ? t33.topLevelRule.name : t33.topLevelRule, `Duplicate definition, rule: ->${e10}<- is already defined in the grammar: ->${t33.grammarName}<-`;
} };
class I8 extends Ii {
  constructor(t33, e10) {
    super(), this.nameToTopRule = t33, this.errMsgProvider = e10, this.errors = [];
  }
  resolveRefs() {
    tc(td(this.nameToTopRule), (t33) => {
      this.currTopLevel = t33, t33.accept(this);
    });
  }
  visitNonTerminal(t33) {
    let e10 = this.nameToTopRule[t33.nonTerminalName];
    if (e10) t33.referencedRule = e10;
    else {
      let e11 = this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel, t33);
      this.errors.push({ message: e11, type: Jz.UNRESOLVED_SUBRULE_REF, ruleName: this.currTopLevel.name, unresolvedRefName: t33.nonTerminalName });
    }
  }
}
class I9 extends Io {
  constructor(t33, e10) {
    super(), this.topProd = t33, this.path = e10, this.possibleTokTypes = [], this.nextProductionName = "", this.nextProductionOccurrence = 0, this.found = false, this.isAtEndOfPath = false;
  }
  startWalking() {
    if (this.found = false, this.path.ruleStack[0] !== this.topProd.name) throw Error("The path does not start with the walker's top Rule!");
    return this.ruleStack = tI(this.path.ruleStack).reverse(), this.occurrenceStack = tI(this.path.occurrenceStack).reverse(), this.ruleStack.pop(), this.occurrenceStack.pop(), this.updateExpectedNext(), this.walk(this.topProd), this.possibleTokTypes;
  }
  walk(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
    this.found || super.walk(t33, e10);
  }
  walkProdRef(t33, e10, r10) {
    if (t33.referencedRule.name === this.nextProductionName && t33.idx === this.nextProductionOccurrence) {
      let i10 = e10.concat(r10);
      this.updateExpectedNext(), this.walk(t33.referencedRule, i10);
    }
  }
  updateExpectedNext() {
    ta(this.ruleStack) ? (this.nextProductionName = "", this.nextProductionOccurrence = 0, this.isAtEndOfPath = true) : (this.nextProductionName = this.ruleStack.pop(), this.nextProductionOccurrence = this.occurrenceStack.pop());
  }
}
class Mt extends I9 {
  constructor(t33, e10) {
    super(t33, e10), this.path = e10, this.nextTerminalName = "", this.nextTerminalOccurrence = 0, this.nextTerminalName = this.path.lastTok.name, this.nextTerminalOccurrence = this.path.lastTokOccurrence;
  }
  walkTerminal(t33, e10, r10) {
    if (this.isAtEndOfPath && t33.terminalType.name === this.nextTerminalName && t33.idx === this.nextTerminalOccurrence && !this.found) {
      let t34 = new N3({ definition: e10.concat(r10) });
      this.possibleTokTypes = Il(t34), this.found = true;
    }
  }
}
class Me extends Io {
  constructor(t33, e10) {
    super(), this.topRule = t33, this.occurrence = e10, this.result = { token: void 0, occurrence: void 0, isEndOfRule: void 0 };
  }
  startWalking() {
    return this.walk(this.topRule), this.result;
  }
}
class Mr extends Me {
  walkMany(t33, e10, r10) {
    if (t33.idx === this.occurrence) {
      let t34 = tY(e10.concat(r10));
      this.result.isEndOfRule = void 0 === t34, t34 instanceof Ir && (this.result.token = t34.terminalType, this.result.occurrence = t34.idx);
    } else super.walkMany(t33, e10, r10);
  }
}
class Mi extends Me {
  walkManySep(t33, e10, r10) {
    if (t33.idx === this.occurrence) {
      let t34 = tY(e10.concat(r10));
      this.result.isEndOfRule = void 0 === t34, t34 instanceof Ir && (this.result.token = t34.terminalType, this.result.occurrence = t34.idx);
    } else super.walkManySep(t33, e10, r10);
  }
}
class Mn extends Me {
  walkAtLeastOne(t33, e10, r10) {
    if (t33.idx === this.occurrence) {
      let t34 = tY(e10.concat(r10));
      this.result.isEndOfRule = void 0 === t34, t34 instanceof Ir && (this.result.token = t34.terminalType, this.result.occurrence = t34.idx);
    } else super.walkAtLeastOne(t33, e10, r10);
  }
}
class Ma extends Me {
  walkAtLeastOneSep(t33, e10, r10) {
    if (t33.idx === this.occurrence) {
      let t34 = tY(e10.concat(r10));
      this.result.isEndOfRule = void 0 === t34, t34 instanceof Ir && (this.result.token = t34.terminalType, this.result.occurrence = t34.idx);
    } else super.walkAtLeastOneSep(t33, e10, r10);
  }
}
function Mo(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
  r10 = tI(r10);
  let i10 = [], n10 = 0;
  function a10(a11) {
    let o10 = Mo(a11.concat(tF(t33, n10 + 1)), e10, r10);
    return i10.concat(o10);
  }
  for (; r10.length < e10 && n10 < t33.length; ) {
    let e11 = t33[n10];
    if (e11 instanceof N3 || e11 instanceof N4) return a10(e11.definition);
    if (e11 instanceof N6) i10 = a10(e11.definition);
    else if (e11 instanceof N7) return a10(e11.definition.concat([new N9({ definition: e11.definition })]));
    else if (e11 instanceof N8) return a10([new N3({ definition: e11.definition }), new N9({ definition: [new Ir({ terminalType: e11.separator })].concat(e11.definition) })]);
    else if (e11 instanceof It) i10 = a10(e11.definition.concat([new N9({ definition: [new Ir({ terminalType: e11.separator })].concat(e11.definition) })]));
    else if (e11 instanceof N9) i10 = a10(e11.definition.concat([new N9({ definition: e11.definition })]));
    else if (e11 instanceof Ie) return tc(e11.definition, (t34) => {
      false === ta(t34.definition) && (i10 = a10(t34.definition));
    }), i10;
    else if (e11 instanceof Ir) r10.push(e11.terminalType);
    else throw Error("non exhaustive match");
    n10++;
  }
  return i10.push({ partialPath: r10, suffixDef: tF(t33, n10) }), i10;
}
function Ms(t33, e10, r10, i10) {
  let n10 = "EXIT_NONE_TERMINAL", a10 = [n10], o10 = "EXIT_ALTERNATIVE", s10 = false, l10 = e10.length, h10 = l10 - i10 - 1, u10 = [], d10 = [];
  for (d10.push({ idx: -1, def: t33, ruleStack: [], occurrenceStack: [] }); !ta(d10); ) {
    let t34 = d10.pop();
    if (t34 === o10) {
      s10 && tE(d10).idx <= h10 && d10.pop();
      continue;
    }
    let i11 = t34.def, p10 = t34.idx, g10 = t34.ruleStack, f10 = t34.occurrenceStack;
    if (ta(i11)) continue;
    let y10 = i11[0];
    if (y10 === n10) {
      let t35 = { idx: p10, def: tF(i11), ruleStack: tW(g10), occurrenceStack: tW(f10) };
      d10.push(t35);
    } else if (y10 instanceof Ir) {
      if (p10 < l10 - 1) {
        let t35 = p10 + 1;
        if (r10(e10[t35], y10.terminalType)) {
          let e11 = { idx: t35, def: tF(i11), ruleStack: g10, occurrenceStack: f10 };
          d10.push(e11);
        }
      } else if (p10 === l10 - 1) u10.push({ nextTokenType: y10.terminalType, nextTokenOccurrence: y10.idx, ruleStack: g10, occurrenceStack: f10 }), s10 = true;
      else throw Error("non exhaustive match");
    } else if (y10 instanceof N4) {
      let t35 = tI(g10);
      t35.push(y10.nonTerminalName);
      let e11 = tI(f10);
      e11.push(y10.idx);
      let r11 = { idx: p10, def: y10.definition.concat(a10, tF(i11)), ruleStack: t35, occurrenceStack: e11 };
      d10.push(r11);
    } else if (y10 instanceof N6) {
      let t35 = { idx: p10, def: tF(i11), ruleStack: g10, occurrenceStack: f10 };
      d10.push(t35), d10.push(o10);
      let e11 = { idx: p10, def: y10.definition.concat(tF(i11)), ruleStack: g10, occurrenceStack: f10 };
      d10.push(e11);
    } else if (y10 instanceof N7) {
      let t35 = new N9({ definition: y10.definition, idx: y10.idx }), e11 = { idx: p10, def: y10.definition.concat([t35], tF(i11)), ruleStack: g10, occurrenceStack: f10 };
      d10.push(e11);
    } else if (y10 instanceof N8) {
      let t35 = new N9({ definition: [new Ir({ terminalType: y10.separator })].concat(y10.definition), idx: y10.idx }), e11 = { idx: p10, def: y10.definition.concat([t35], tF(i11)), ruleStack: g10, occurrenceStack: f10 };
      d10.push(e11);
    } else if (y10 instanceof It) {
      let t35 = { idx: p10, def: tF(i11), ruleStack: g10, occurrenceStack: f10 };
      d10.push(t35), d10.push(o10);
      let e11 = new N9({ definition: [new Ir({ terminalType: y10.separator })].concat(y10.definition), idx: y10.idx }), r11 = { idx: p10, def: y10.definition.concat([e11], tF(i11)), ruleStack: g10, occurrenceStack: f10 };
      d10.push(r11);
    } else if (y10 instanceof N9) {
      let t35 = { idx: p10, def: tF(i11), ruleStack: g10, occurrenceStack: f10 };
      d10.push(t35), d10.push(o10);
      let e11 = new N9({ definition: y10.definition, idx: y10.idx }), r11 = { idx: p10, def: y10.definition.concat([e11], tF(i11)), ruleStack: g10, occurrenceStack: f10 };
      d10.push(r11);
    } else if (y10 instanceof Ie) for (let t35 = y10.definition.length - 1; t35 >= 0; t35--) {
      let e11 = { idx: p10, def: y10.definition[t35].definition.concat(tF(i11)), ruleStack: g10, occurrenceStack: f10 };
      d10.push(e11), d10.push(o10);
    }
    else if (y10 instanceof N3) d10.push({ idx: p10, def: y10.definition.concat(tF(i11)), ruleStack: g10, occurrenceStack: f10 });
    else if (y10 instanceof N5) d10.push(function(t35, e11, r11, i12) {
      let n11 = tI(r11);
      n11.push(t35.name);
      let a11 = tI(i12);
      return a11.push(1), { idx: e11, def: t35.definition, ruleStack: n11, occurrenceStack: a11 };
    }(y10, p10, g10, f10));
    else throw Error("non exhaustive match");
  }
  return u10;
}
function Ml(t33) {
  if (t33 instanceof N6 || "Option" === t33) return JB.OPTION;
  if (t33 instanceof N9 || "Repetition" === t33) return JB.REPETITION;
  if (t33 instanceof N7 || "RepetitionMandatory" === t33) return JB.REPETITION_MANDATORY;
  if (t33 instanceof N8 || "RepetitionMandatoryWithSeparator" === t33) return JB.REPETITION_MANDATORY_WITH_SEPARATOR;
  if (t33 instanceof It || "RepetitionWithSeparator" === t33) return JB.REPETITION_WITH_SEPARATOR;
  if (t33 instanceof Ie || "Alternation" === t33) return JB.ALTERNATION;
  throw Error("non exhaustive match");
}
function Mh(t33) {
  let { occurrence: e10, rule: r10, prodType: i10, maxLookahead: n10 } = t33, a10 = Ml(i10);
  return a10 === JB.ALTERNATION ? My(e10, r10, n10) : Mv(e10, r10, a10, n10);
}
function Mc(t33, e10, r10, i10) {
  let n10 = t33.length, a10 = tB(t33, (t34) => tB(t34, (t35) => 1 === t35.length));
  if (e10) return function(e11) {
    let i11 = tf(e11, (t34) => t34.GATE);
    for (let e12 = 0; e12 < n10; e12++) {
      let n11 = t33[e12], a11 = n11.length, o10 = i11[e12];
      if (void 0 === o10 || false !== o10.call(this)) e: for (let t34 = 0; t34 < a11; t34++) {
        let i12 = n11[t34], a12 = i12.length;
        for (let t35 = 0; t35 < a12; t35++) if (false === r10(this.LA(t35 + 1), i12[t35])) continue e;
        return e12;
      }
    }
  };
  if (!a10 || i10) return function() {
    for (let e11 = 0; e11 < n10; e11++) {
      let i11 = t33[e11], n11 = i11.length;
      e: for (let t34 = 0; t34 < n11; t34++) {
        let n12 = i11[t34], a11 = n12.length;
        for (let t35 = 0; t35 < a11; t35++) if (false === r10(this.LA(t35 + 1), n12[t35])) continue e;
        return e11;
      }
    }
  };
  {
    let e11 = tp(tf(t33, (t34) => tg(t34)), (t34, e12, r11) => (tc(e12, (e13) => {
      tx(t34, e13.tokenTypeIdx) || (t34[e13.tokenTypeIdx] = r11), tc(e13.categoryMatches, (e14) => {
        tx(t34, e14) || (t34[e14] = r11);
      });
    }), t34), {});
    return function() {
      return e11[this.LA(1).tokenTypeIdx];
    };
  }
}
function Mu(t33, e10, r10) {
  let i10 = tB(t33, (t34) => 1 === t34.length), n10 = t33.length;
  if (!i10 || r10) return function() {
    e: for (let r11 = 0; r11 < n10; r11++) {
      let i11 = t33[r11], n11 = i11.length;
      for (let t34 = 0; t34 < n11; t34++) if (false === e10(this.LA(t34 + 1), i11[t34])) continue e;
      return true;
    }
    return false;
  };
  {
    let e11 = tg(t33);
    if (1 === e11.length && ta(e11[0].categoryMatches)) {
      let t34 = e11[0].tokenTypeIdx;
      return function() {
        return this.LA(1).tokenTypeIdx === t34;
      };
    }
    {
      let t34 = tp(e11, (t35, e12, r11) => (t35[e12.tokenTypeIdx] = true, tc(e12.categoryMatches, (e13) => {
        t35[e13] = true;
      }), t35), []);
      return function() {
        return true === t34[this.LA(1).tokenTypeIdx];
      };
    }
  }
}
(Qb = JB || (JB = {}))[Qb.OPTION = 0] = "OPTION", Qb[Qb.REPETITION = 1] = "REPETITION", Qb[Qb.REPETITION_MANDATORY = 2] = "REPETITION_MANDATORY", Qb[Qb.REPETITION_MANDATORY_WITH_SEPARATOR = 3] = "REPETITION_MANDATORY_WITH_SEPARATOR", Qb[Qb.REPETITION_WITH_SEPARATOR = 4] = "REPETITION_WITH_SEPARATOR", Qb[Qb.ALTERNATION = 5] = "ALTERNATION";
class Md extends Io {
  constructor(t33, e10, r10) {
    super(), this.topProd = t33, this.targetOccurrence = e10, this.targetProdType = r10;
  }
  startWalking() {
    return this.walk(this.topProd), this.restDef;
  }
  checkIsTarget(t33, e10, r10, i10) {
    return t33.idx === this.targetOccurrence && this.targetProdType === e10 && (this.restDef = r10.concat(i10), true);
  }
  walkOption(t33, e10, r10) {
    this.checkIsTarget(t33, JB.OPTION, e10, r10) || super.walkOption(t33, e10, r10);
  }
  walkAtLeastOne(t33, e10, r10) {
    this.checkIsTarget(t33, JB.REPETITION_MANDATORY, e10, r10) || super.walkOption(t33, e10, r10);
  }
  walkAtLeastOneSep(t33, e10, r10) {
    this.checkIsTarget(t33, JB.REPETITION_MANDATORY_WITH_SEPARATOR, e10, r10) || super.walkOption(t33, e10, r10);
  }
  walkMany(t33, e10, r10) {
    this.checkIsTarget(t33, JB.REPETITION, e10, r10) || super.walkOption(t33, e10, r10);
  }
  walkManySep(t33, e10, r10) {
    this.checkIsTarget(t33, JB.REPETITION_WITH_SEPARATOR, e10, r10) || super.walkOption(t33, e10, r10);
  }
}
class Mp extends Ii {
  constructor(t33, e10, r10) {
    super(), this.targetOccurrence = t33, this.targetProdType = e10, this.targetRef = r10, this.result = [];
  }
  checkIsTarget(t33, e10) {
    t33.idx === this.targetOccurrence && this.targetProdType === e10 && (void 0 === this.targetRef || t33 === this.targetRef) && (this.result = t33.definition);
  }
  visitOption(t33) {
    this.checkIsTarget(t33, JB.OPTION);
  }
  visitRepetition(t33) {
    this.checkIsTarget(t33, JB.REPETITION);
  }
  visitRepetitionMandatory(t33) {
    this.checkIsTarget(t33, JB.REPETITION_MANDATORY);
  }
  visitRepetitionMandatoryWithSeparator(t33) {
    this.checkIsTarget(t33, JB.REPETITION_MANDATORY_WITH_SEPARATOR);
  }
  visitRepetitionWithSeparator(t33) {
    this.checkIsTarget(t33, JB.REPETITION_WITH_SEPARATOR);
  }
  visitAlternation(t33) {
    this.checkIsTarget(t33, JB.ALTERNATION);
  }
}
function Mg(t33) {
  let e10 = Array(t33);
  for (let r10 = 0; r10 < t33; r10++) e10[r10] = [];
  return e10;
}
function Mf(t33) {
  let e10 = [""];
  for (let r10 = 0; r10 < t33.length; r10++) {
    let i10 = t33[r10], n10 = [];
    for (let t34 = 0; t34 < e10.length; t34++) {
      let r11 = e10[t34];
      n10.push(r11 + "_" + i10.tokenTypeIdx);
      for (let t35 = 0; t35 < i10.categoryMatches.length; t35++) {
        let e11 = "_" + i10.categoryMatches[t35];
        n10.push(r11 + e11);
      }
    }
    e10 = n10;
  }
  return e10;
}
function Mm(t33, e10) {
  let r10 = tf(t33, (t34) => Mo([t34], 1)), i10 = Mg(r10.length), n10 = tf(r10, (t34) => {
    let e11 = {};
    return tc(t34, (t35) => {
      tc(Mf(t35.partialPath), (t36) => {
        e11[t36] = true;
      });
    }), e11;
  }), a10 = r10;
  for (let t34 = 1; t34 <= e10; t34++) {
    let r11 = a10;
    a10 = Mg(r11.length);
    for (let o10 = 0; o10 < r11.length; o10++) {
      let s10 = r11[o10];
      for (let r12 = 0; r12 < s10.length; r12++) {
        let l10 = s10[r12].partialPath, h10 = s10[r12].suffixDef, u10 = Mf(l10);
        if (function(t35, e11, r13) {
          for (let i11 = 0; i11 < t35.length; i11++) {
            if (i11 === r13) continue;
            let n11 = t35[i11];
            for (let t36 = 0; t36 < e11.length; t36++) if (true === n11[e11[t36]]) return false;
          }
          return true;
        }(n10, u10, o10) || ta(h10) || l10.length === e10) {
          let t35 = i10[o10];
          if (false === Mx(t35, l10)) {
            t35.push(l10);
            for (let t36 = 0; t36 < u10.length; t36++) {
              let e11 = u10[t36];
              n10[o10][e11] = true;
            }
          }
        } else {
          let e11 = Mo(h10, t34 + 1, l10);
          a10[o10] = a10[o10].concat(e11), tc(e11, (t35) => {
            tc(Mf(t35.partialPath), (t36) => {
              n10[o10][t36] = true;
            });
          });
        }
      }
    }
  }
  return i10;
}
function My(t33, e10, r10, i10) {
  let n10 = new Mp(t33, JB.ALTERNATION, i10);
  return e10.accept(n10), Mm(n10.result, r10);
}
function Mv(t33, e10, r10, i10) {
  let n10 = new Mp(t33, r10);
  e10.accept(n10);
  let a10 = n10.result, o10 = new Md(e10, t33, r10).startWalking();
  return Mm([new N3({ definition: a10 }), new N3({ definition: o10 })], i10);
}
function Mx(t33, e10) {
  r: for (let r10 = 0; r10 < t33.length; r10++) {
    let i10 = t33[r10];
    if (i10.length === e10.length) {
      for (let t34 = 0; t34 < i10.length; t34++) {
        let r11 = e10[t34], n10 = i10[t34];
        if (false == (r11 === n10 || void 0 !== n10.categoryMatchesMap[r11.tokenTypeIdx])) continue r;
      }
      return true;
    }
  }
  return false;
}
function Mb(t33) {
  return tB(t33, (t34) => tB(t34, (t35) => tB(t35, (t36) => ta(t36.categoryMatches))));
}
function Mw(t33) {
  return `${Ia(t33)}_#_${t33.idx}_#_${Mk(t33)}`;
}
function Mk(t33) {
  return t33 instanceof Ir ? t33.terminalType.name : t33 instanceof N4 ? t33.nonTerminalName : "";
}
class M_ extends Ii {
  constructor() {
    super(...arguments), this.allProductions = [];
  }
  visitNonTerminal(t33) {
    this.allProductions.push(t33);
  }
  visitOption(t33) {
    this.allProductions.push(t33);
  }
  visitRepetitionWithSeparator(t33) {
    this.allProductions.push(t33);
  }
  visitRepetitionMandatory(t33) {
    this.allProductions.push(t33);
  }
  visitRepetitionMandatoryWithSeparator(t33) {
    this.allProductions.push(t33);
  }
  visitRepetition(t33) {
    this.allProductions.push(t33);
  }
  visitAlternation(t33) {
    this.allProductions.push(t33);
  }
  visitTerminal(t33) {
    this.allProductions.push(t33);
  }
}
class MT extends Ii {
  constructor() {
    super(...arguments), this.alternations = [];
  }
  visitAlternation(t33) {
    this.alternations.push(t33);
  }
}
class ME extends Ii {
  constructor() {
    super(...arguments), this.allProductions = [];
  }
  visitRepetitionWithSeparator(t33) {
    this.allProductions.push(t33);
  }
  visitRepetitionMandatory(t33) {
    this.allProductions.push(t33);
  }
  visitRepetitionMandatoryWithSeparator(t33) {
    this.allProductions.push(t33);
  }
  visitRepetition(t33) {
    this.allProductions.push(t33);
  }
}
let MC = "MismatchedTokenException", MS = "NoViableAltException", MA = "EarlyExitException", ML = "NotAllInputParsedException", MN = [MC, MS, MA, ML];
function MI(t33) {
  return t$(MN, t33.name);
}
Object.freeze(MN);
class MM extends Error {
  constructor(t33, e10) {
    super(t33), this.token = e10, this.resyncedTokens = [], Object.setPrototypeOf(this, new.target.prototype), Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
  }
}
class MR extends MM {
  constructor(t33, e10, r10) {
    super(t33, e10), this.previousToken = r10, this.name = MC;
  }
}
class MD extends MM {
  constructor(t33, e10, r10) {
    super(t33, e10), this.previousToken = r10, this.name = MS;
  }
}
class MO extends MM {
  constructor(t33, e10) {
    super(t33, e10), this.name = ML;
  }
}
class MP extends MM {
  constructor(t33, e10, r10) {
    super(t33, e10), this.previousToken = r10, this.name = MA;
  }
}
let M$ = {}, MB = "InRuleRecoveryException";
class MF extends Error {
  constructor(t33) {
    super(t33), this.name = MB;
  }
}
function Mz(t33, e10, r10, i10, n10, a10, o10) {
  let s10 = this.getKeyForAutomaticLookahead(i10, n10), l10 = this.firstAfterRepMap[s10];
  if (void 0 === l10) {
    let t34 = this.getCurrRuleFullName();
    l10 = new a10(this.getGAstProductions()[t34], n10).startWalking(), this.firstAfterRepMap[s10] = l10;
  }
  let h10 = l10.token, u10 = l10.occurrence, d10 = l10.isEndOfRule;
  1 === this.RULE_STACK.length && d10 && void 0 === h10 && (h10 = I4, u10 = 1), void 0 !== h10 && void 0 !== u10 && this.shouldInRepetitionRecoveryBeTried(h10, u10, o10) && this.tryInRepetitionRecovery(t33, e10, r10, h10);
}
class MU {
  constructor(t33) {
    var e10;
    this.maxLookahead = null !== (e10 = null == t33 ? void 0 : t33.maxLookahead) && void 0 !== e10 ? e10 : M2.maxLookahead;
  }
  validate(t33) {
    let e10 = this.validateNoLeftRecursion(t33.rules);
    return ta(e10) ? [...e10, ...this.validateEmptyOrAlternatives(t33.rules), ...this.validateAmbiguousAlternationAlternatives(t33.rules, this.maxLookahead), ...this.validateSomeNonEmptyLookaheadPath(t33.rules, this.maxLookahead)] : e10;
  }
  validateNoLeftRecursion(t33) {
    return tV(t33, (t34) => function t35(e10, r10, i10) {
      let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [], a10 = [], o10 = function t36(e11) {
        let r11 = [];
        if (ta(e11)) return r11;
        let i11 = tY(e11);
        if (i11 instanceof N4) r11.push(i11.referencedRule);
        else if (i11 instanceof N3 || i11 instanceof N6 || i11 instanceof N7 || i11 instanceof N8 || i11 instanceof It || i11 instanceof N9) r11 = r11.concat(t36(i11.definition));
        else if (i11 instanceof Ie) r11 = tg(tf(i11.definition, (e12) => t36(e12.definition)));
        else if (i11 instanceof Ir) ;
        else throw Error("non exhaustive match");
        let n11 = In(i11), a11 = e11.length > 1;
        if (!n11 || !a11) return r11;
        {
          let i12 = tF(e11);
          return r11.concat(t36(i12));
        }
      }(r10.definition);
      if (ta(o10)) return [];
      {
        let r11 = e10.name;
        t$(o10, e10) && a10.push({ message: i10.buildLeftRecursionError({ topLevelRule: e10, leftRecursionPath: n10 }), type: Jz.LEFT_RECURSION, ruleName: r11 });
        let s10 = tV(tG(o10, n10.concat([e10])), (r12) => {
          let a11 = tI(n10);
          return a11.push(r12), t35(e10, r12, i10, a11);
        });
        return a10.concat(s10);
      }
    }(t34, t34, I7));
  }
  validateEmptyOrAlternatives(t33) {
    return tV(t33, (t34) => function(t35, e10) {
      let r10 = new MT();
      return t35.accept(r10), tV(r10.alternations, (r11) => tV(tW(r11.definition), (i10, n10) => ta(Ms([i10], [], IP, 1)) ? [{ message: e10.buildEmptyAlternationError({ topLevelRule: t35, alternation: r11, emptyChoiceIdx: n10 }), type: Jz.NONE_LAST_EMPTY_ALT, ruleName: t35.name, occurrence: r11.idx, alternative: n10 + 1 }] : []));
    }(t34, I7));
  }
  validateAmbiguousAlternationAlternatives(t33, e10) {
    return tV(t33, (t34) => function(t35, e11, r10) {
      let i10 = new MT();
      t35.accept(i10);
      let n10 = i10.alternations;
      return tV(n10 = tz(n10, (t36) => true === t36.ignoreAmbiguities), (i11) => {
        let n11 = My(i11.idx, t35, i11.maxLookahead || e11, i11), a10 = function(t36, e12, r11, i12) {
          let n12 = [];
          return tf(tp(t36, (r12, i13, a11) => (true === e12.definition[a11].ignoreAmbiguities || tc(i13, (i14) => {
            let o11 = [a11];
            tc(t36, (t37, r13) => {
              a11 !== r13 && Mx(t37, i14) && true !== e12.definition[r13].ignoreAmbiguities && o11.push(r13);
            }), o11.length > 1 && !Mx(n12, i14) && (n12.push(i14), r12.push({ alts: o11, path: i14 }));
          }), r12), []), (t37) => {
            let n13 = tf(t37.alts, (t38) => t38 + 1);
            return { message: i12.buildAlternationAmbiguityError({ topLevelRule: r11, alternation: e12, ambiguityIndices: n13, prefixPath: t37.path }), type: Jz.AMBIGUOUS_ALTS, ruleName: r11.name, occurrence: e12.idx, alternatives: t37.alts };
          });
        }(n11, i11, t35, r10), o10 = function(t36, e12, r11, i12) {
          let n12 = tp(t36, (t37, e13, r12) => {
            let i13 = tf(e13, (t38) => ({ idx: r12, path: t38 }));
            return t37.concat(i13);
          }, []);
          return tq(tV(n12, (t37) => {
            if (true === e12.definition[t37.idx].ignoreAmbiguities) return [];
            let a11 = t37.idx, o11 = t37.path;
            return tf(th(n12, (t38) => {
              var r12;
              return true !== e12.definition[t38.idx].ignoreAmbiguities && t38.idx < a11 && (r12 = t38.path).length < o11.length && tB(r12, (t39, e13) => {
                let r13 = o11[e13];
                return t39 === r13 || r13.categoryMatchesMap[t39.tokenTypeIdx];
              });
            }), (t38) => {
              let n13 = [t38.idx + 1, a11 + 1], o12 = 0 === e12.idx ? "" : e12.idx;
              return { message: i12.buildAlternationPrefixAmbiguityError({ topLevelRule: r11, alternation: e12, ambiguityIndices: n13, prefixPath: t38.path }), type: Jz.AMBIGUOUS_PREFIX_ALTS, ruleName: r11.name, occurrence: o12, alternatives: n13 };
            });
          }));
        }(n11, i11, t35, r10);
        return a10.concat(o10);
      });
    }(t34, e10, I7));
  }
  validateSomeNonEmptyLookaheadPath(t33, e10) {
    return function(t34, e11, r10) {
      let i10 = [];
      return tc(t34, (t35) => {
        let n10 = new ME();
        t35.accept(n10), tc(n10.allProductions, (n11) => {
          let a10 = Ml(n11), o10 = n11.maxLookahead || e11;
          if (ta(tg(Mv(n11.idx, t35, a10, o10)[0]))) {
            let e12 = r10.buildEmptyRepetitionError({ topLevelRule: t35, repetition: n11 });
            i10.push({ message: e12, type: Jz.NO_NON_EMPTY_LOOKAHEAD, ruleName: t35.name });
          }
        });
      }), i10;
    }(t33, e10, I7);
  }
  buildLookaheadForAlternation(t33) {
    return function(t34, e10, r10, i10, n10, a10) {
      let o10 = My(t34, e10, r10), s10 = Mb(o10) ? I$ : IP;
      return a10(o10, i10, s10, n10);
    }(t33.prodOccurrence, t33.rule, t33.maxLookahead, t33.hasPredicates, t33.dynamicTokensEnabled, Mc);
  }
  buildLookaheadForOptional(t33) {
    return function(t34, e10, r10, i10, n10, a10) {
      let o10 = Mv(t34, e10, n10, r10), s10 = Mb(o10) ? I$ : IP;
      return a10(o10[0], s10, i10);
    }(t33.prodOccurrence, t33.rule, t33.maxLookahead, t33.dynamicTokensEnabled, Ml(t33.prodType), Mu);
  }
}
let MG = new class extends Ii {
  constructor() {
    super(...arguments), this.dslMethods = { option: [], alternation: [], repetition: [], repetitionWithSeparator: [], repetitionMandatory: [], repetitionMandatoryWithSeparator: [] };
  }
  reset() {
    this.dslMethods = { option: [], alternation: [], repetition: [], repetitionWithSeparator: [], repetitionMandatory: [], repetitionMandatoryWithSeparator: [] };
  }
  visitOption(t33) {
    this.dslMethods.option.push(t33);
  }
  visitRepetitionWithSeparator(t33) {
    this.dslMethods.repetitionWithSeparator.push(t33);
  }
  visitRepetitionMandatory(t33) {
    this.dslMethods.repetitionMandatory.push(t33);
  }
  visitRepetitionMandatoryWithSeparator(t33) {
    this.dslMethods.repetitionMandatoryWithSeparator.push(t33);
  }
  visitRepetition(t33) {
    this.dslMethods.repetition.push(t33);
  }
  visitAlternation(t33) {
    this.dslMethods.alternation.push(t33);
  }
}();
function Mq(t33, e10) {
  true === isNaN(t33.startOffset) ? (t33.startOffset = e10.startOffset, t33.endOffset = e10.endOffset) : t33.endOffset < e10.endOffset == true && (t33.endOffset = e10.endOffset);
}
function MY(t33, e10) {
  true === isNaN(t33.startOffset) ? (t33.startOffset = e10.startOffset, t33.startColumn = e10.startColumn, t33.startLine = e10.startLine, t33.endOffset = e10.endOffset, t33.endColumn = e10.endColumn, t33.endLine = e10.endLine) : t33.endOffset < e10.endOffset == true && (t33.endOffset = e10.endOffset, t33.endColumn = e10.endColumn, t33.endLine = e10.endLine);
}
function MH(t33, e10) {
  Object.defineProperty(t33, "name", { enumerable: false, configurable: true, writable: false, value: e10 });
}
function Mj(t33, e10) {
  let r10 = tl(t33), i10 = r10.length;
  for (let n10 = 0; n10 < i10; n10++) {
    let i11 = t33[r10[n10]], a10 = i11.length;
    for (let t34 = 0; t34 < a10; t34++) {
      let r11 = i11[t34];
      void 0 === r11.tokenTypeIdx && this[r11.name](r11.children, e10);
    }
  }
}
(Qw = JF || (JF = {}))[Qw.REDUNDANT_METHOD = 0] = "REDUNDANT_METHOD", Qw[Qw.MISSING_METHOD = 1] = "MISSING_METHOD";
let MW = { description: "This Object indicates the Parser is during Recording Phase" };
Object.freeze(MW);
let MV = I2({ name: "RECORDING_PHASE_TOKEN", pattern: IH.NA });
Iz([MV]);
let MX = I5(MV, "This IToken indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details", -1, -1, -1, -1, -1, -1);
Object.freeze(MX);
let MK = { name: "This CSTNode indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details", children: {} };
function MZ(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
  M0(r10);
  let n10 = tE(this.recordingProdStack), a10 = ts(e10) ? e10 : e10.DEF, o10 = new t33({ definition: [], idx: r10 });
  return i10 && (o10.separator = e10.SEP), tx(e10, "MAX_LOOKAHEAD") && (o10.maxLookahead = e10.MAX_LOOKAHEAD), this.recordingProdStack.push(o10), a10.call(this), n10.definition.push(o10), this.recordingProdStack.pop(), MW;
}
function MQ(t33, e10) {
  M0(e10);
  let r10 = tE(this.recordingProdStack), i10 = false === te(t33), n10 = false === i10 ? t33 : t33.DEF, a10 = new Ie({ definition: [], idx: e10, ignoreAmbiguities: i10 && true === t33.IGNORE_AMBIGUITIES });
  tx(t33, "MAX_LOOKAHEAD") && (a10.maxLookahead = t33.MAX_LOOKAHEAD);
  let o10 = tP(n10, (t34) => ts(t34.GATE));
  return a10.hasPredicates = o10, r10.definition.push(a10), tc(n10, (t34) => {
    let e11 = new N3({ definition: [] });
    a10.definition.push(e11), tx(t34, "IGNORE_AMBIGUITIES") ? e11.ignoreAmbiguities = t34.IGNORE_AMBIGUITIES : tx(t34, "GATE") && (e11.ignoreAmbiguities = true), this.recordingProdStack.push(e11), t34.ALT.call(this), this.recordingProdStack.pop();
  }), MW;
}
function MJ(t33) {
  return 0 === t33 ? "" : `${t33}`;
}
function M0(t33) {
  if (t33 < 0 || t33 > 255) {
    let e10 = Error(`Invalid DSL Method idx value: <${t33}>
	Idx value must be a none negative value smaller than 256`);
    throw e10.KNOWN_RECORDER_ERROR = true, e10;
  }
}
let M1 = I5(I4, "", NaN, NaN, NaN, NaN, NaN, NaN);
Object.freeze(M1);
let M2 = Object.freeze({ recoveryEnabled: false, maxLookahead: 3, dynamicTokensEnabled: false, outputCst: true, errorMessageProvider: I3, nodeLocationTracking: "none", traceInitPerf: false, skipValidations: false }), M4 = Object.freeze({ recoveryValueFunc: () => void 0, resyncEnabled: true });
function M5() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0;
  return function() {
    return t33;
  };
}
(Qk = Jz || (Jz = {}))[Qk.INVALID_RULE_NAME = 0] = "INVALID_RULE_NAME", Qk[Qk.DUPLICATE_RULE_NAME = 1] = "DUPLICATE_RULE_NAME", Qk[Qk.INVALID_RULE_OVERRIDE = 2] = "INVALID_RULE_OVERRIDE", Qk[Qk.DUPLICATE_PRODUCTIONS = 3] = "DUPLICATE_PRODUCTIONS", Qk[Qk.UNRESOLVED_SUBRULE_REF = 4] = "UNRESOLVED_SUBRULE_REF", Qk[Qk.LEFT_RECURSION = 5] = "LEFT_RECURSION", Qk[Qk.NONE_LAST_EMPTY_ALT = 6] = "NONE_LAST_EMPTY_ALT", Qk[Qk.AMBIGUOUS_ALTS = 7] = "AMBIGUOUS_ALTS", Qk[Qk.CONFLICT_TOKENS_RULES_NAMESPACE = 8] = "CONFLICT_TOKENS_RULES_NAMESPACE", Qk[Qk.INVALID_TOKEN_NAME = 9] = "INVALID_TOKEN_NAME", Qk[Qk.NO_NON_EMPTY_LOOKAHEAD = 10] = "NO_NON_EMPTY_LOOKAHEAD", Qk[Qk.AMBIGUOUS_PREFIX_ALTS = 11] = "AMBIGUOUS_PREFIX_ALTS", Qk[Qk.TOO_MANY_ALTS = 12] = "TOO_MANY_ALTS", Qk[Qk.CUSTOM_LOOKAHEAD_VALIDATION = 13] = "CUSTOM_LOOKAHEAD_VALIDATION";
class M3 {
  static performSelfAnalysis(t33) {
    throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.");
  }
  performSelfAnalysis() {
    this.TRACE_INIT("performSelfAnalysis", () => {
      let t33;
      this.selfAnalysisDone = true;
      let e10 = this.className;
      this.TRACE_INIT("toFastProps", () => {
        N1(this);
      }), this.TRACE_INIT("Grammar Recording", () => {
        try {
          this.enableRecording(), tc(this.definedRulesNames, (t34) => {
            let e11;
            let r11 = this[t34].originalGrammarAction;
            this.TRACE_INIT(`${t34} Rule`, () => {
              e11 = this.topLevelRuleRecord(t34, r11);
            }), this.gastProductionsCache[t34] = e11;
          });
        } finally {
          this.disableRecording();
        }
      });
      let r10 = [];
      if (this.TRACE_INIT("Grammar Resolving", () => {
        r10 = function(t34) {
          let e11 = tN(t34, { errMsgProvider: I6 }), r11 = {};
          return tc(t34.rules, (t35) => {
            r11[t35.name] = t35;
          }), function(t35, e12) {
            let r12 = new I8(t35, e12);
            return r12.resolveRefs(), r12.errors;
          }(r11, e11.errMsgProvider);
        }({ rules: td(this.gastProductionsCache) }), this.definitionErrors = this.definitionErrors.concat(r10);
      }), this.TRACE_INIT("Grammar Validations", () => {
        if (ta(r10) && false === this.skipValidations) {
          var t34, i10;
          let r11 = function(t35, e11, r12, i11) {
            let n11 = tV(t35, (t36) => function(t37, e12) {
              let r13 = new M_();
              return t37.accept(r13), tf(td(tR(tX(r13.allProductions, Mw), (t38) => t38.length > 1)), (r14) => {
                let i12 = tY(r14), n12 = e12.buildDuplicateFoundError(t37, r14), a11 = Ia(i12), o11 = { message: n12, type: Jz.DUPLICATE_PRODUCTIONS, ruleName: t37.name, dslName: a11, occurrence: i12.idx }, s11 = Mk(i12);
                return s11 && (o11.parameter = s11), o11;
              });
            }(t36, r12)), a10 = function(t36, e12, r13) {
              let i12 = [], n12 = tf(e12, (t37) => t37.name);
              return tc(t36, (t37) => {
                let e13 = t37.name;
                if (t$(n12, e13)) {
                  let n13 = r13.buildNamespaceConflictError(t37);
                  i12.push({ message: n13, type: Jz.CONFLICT_TOKENS_RULES_NAMESPACE, ruleName: e13 });
                }
              }), i12;
            }(t35, e11, r12), o10 = tV(t35, (t36) => function(t37, e12) {
              let r13 = new MT();
              return t37.accept(r13), tV(r13.alternations, (r14) => r14.definition.length > 255 ? [{ message: e12.buildTooManyAlternativesError({ topLevelRule: t37, alternation: r14 }), type: Jz.TOO_MANY_ALTS, ruleName: t37.name, occurrence: r14.idx }] : []);
            }(t36, r12)), s10 = tV(t35, (e12) => function(t36, e13, r13, i12) {
              let n12 = [];
              if (tp(e13, (e14, r14) => r14.name === t36.name ? e14 + 1 : e14, 0) > 1) {
                let e14 = i12.buildDuplicateRuleNameError({ topLevelRule: t36, grammarName: r13 });
                n12.push({ message: e14, type: Jz.DUPLICATE_RULE_NAME, ruleName: t36.name });
              }
              return n12;
            }(e12, t35, i11, r12));
            return n11.concat(a10, o10, s10);
          }((t34 = tN(t34 = { rules: td(this.gastProductionsCache), tokenTypes: td(this.tokensMap), errMsgProvider: I7, grammarName: e10 }, { errMsgProvider: I7 })).rules, t34.tokenTypes, t34.errMsgProvider, t34.grammarName), n10 = tf((i10 = { lookaheadStrategy: this.lookaheadStrategy, rules: td(this.gastProductionsCache), tokenTypes: td(this.tokensMap), grammarName: e10 }).lookaheadStrategy.validate({ rules: i10.rules, tokenTypes: i10.tokenTypes, grammarName: i10.grammarName }), (t35) => Object.assign({ type: Jz.CUSTOM_LOOKAHEAD_VALIDATION }, t35));
          this.definitionErrors = this.definitionErrors.concat(r11, n10);
        }
      }), ta(this.definitionErrors) && (this.recoveryEnabled && this.TRACE_INIT("computeAllProdsFollows", () => {
        let t34 = function(t35) {
          let e11 = {};
          return tc(t35, (t36) => {
            tM(e11, new Ic(t36).startWalking());
          }), e11;
        }(td(this.gastProductionsCache));
        this.resyncFollows = t34;
      }), this.TRACE_INIT("ComputeLookaheadFunctions", () => {
        var t34, e11;
        null === (e11 = (t34 = this.lookaheadStrategy).initialize) || void 0 === e11 || e11.call(t34, { rules: td(this.gastProductionsCache) }), this.preComputeLookaheadFunctions(td(this.gastProductionsCache));
      })), !M3.DEFER_DEFINITION_ERRORS_HANDLING && !ta(this.definitionErrors)) throw t33 = tf(this.definitionErrors, (t34) => t34.message), Error(`Parser Definition Errors detected:
 ${t33.join("\n-------------------------------\n")}`);
    });
  }
  constructor(t33, e10) {
    if (this.definitionErrors = [], this.selfAnalysisDone = false, this.initErrorHandler(e10), this.initLexerAdapter(), this.initLooksAhead(e10), this.initRecognizerEngine(t33, e10), this.initRecoverable(e10), this.initTreeBuilder(e10), this.initContentAssist(), this.initGastRecorder(e10), this.initPerformanceTracer(e10), tx(e10, "ignoredIssues")) throw Error("The <ignoredIssues> IParserConfig property has been deprecated.\n	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n	For further details.");
    this.skipValidations = tx(e10, "skipValidations") ? e10.skipValidations : M2.skipValidations;
  }
}
M3.DEFER_DEFINITION_ERRORS_HANDLING = false, function(t33, e10) {
  e10.forEach((e11) => {
    let r10 = e11.prototype;
    Object.getOwnPropertyNames(r10).forEach((i10) => {
      if ("constructor" === i10) return;
      let n10 = Object.getOwnPropertyDescriptor(r10, i10);
      n10 && (n10.get || n10.set) ? Object.defineProperty(t33.prototype, i10, n10) : t33.prototype[i10] = e11.prototype[i10];
    });
  });
}(M3, [class {
  initRecoverable(t33) {
    this.firstAfterRepMap = {}, this.resyncFollows = {}, this.recoveryEnabled = tx(t33, "recoveryEnabled") ? t33.recoveryEnabled : M2.recoveryEnabled, this.recoveryEnabled && (this.attemptInRepetitionRecovery = Mz);
  }
  getTokenToInsert(t33) {
    let e10 = I5(t33, "", NaN, NaN, NaN, NaN, NaN, NaN);
    return e10.isInsertedInRecovery = true, e10;
  }
  canTokenTypeBeInsertedInRecovery(t33) {
    return true;
  }
  canTokenTypeBeDeletedInRecovery(t33) {
    return true;
  }
  tryInRepetitionRecovery(t33, e10, r10, i10) {
    let n10 = this.findReSyncTokenType(), a10 = this.exportLexerState(), o10 = [], s10 = false, l10 = this.LA(1), h10 = this.LA(1), u10 = () => {
      let t34 = this.LA(0), e11 = new MR(this.errorMessageProvider.buildMismatchTokenMessage({ expected: i10, actual: l10, previous: t34, ruleName: this.getCurrRuleFullName() }), l10, this.LA(0));
      e11.resyncedTokens = tW(o10), this.SAVE_ERROR(e11);
    };
    for (; !s10; ) {
      if (this.tokenMatcher(h10, i10)) {
        u10();
        return;
      }
      if (r10.call(this)) {
        u10(), t33.apply(this, e10);
        return;
      }
      this.tokenMatcher(h10, n10) ? s10 = true : (h10 = this.SKIP_TOKEN(), this.addToResyncTokens(h10, o10));
    }
    this.importLexerState(a10);
  }
  shouldInRepetitionRecoveryBeTried(t33, e10, r10) {
    return !(false === r10 || this.tokenMatcher(this.LA(1), t33) || this.isBackTracking() || this.canPerformInRuleRecovery(t33, this.getFollowsForInRuleRecovery(t33, e10)));
  }
  getFollowsForInRuleRecovery(t33, e10) {
    let r10 = this.getCurrentGrammarPath(t33, e10);
    return this.getNextPossibleTokenTypes(r10);
  }
  tryInRuleRecovery(t33, e10) {
    if (this.canRecoverWithSingleTokenInsertion(t33, e10)) return this.getTokenToInsert(t33);
    if (this.canRecoverWithSingleTokenDeletion(t33)) {
      let t34 = this.SKIP_TOKEN();
      return this.consumeToken(), t34;
    }
    throw new MF("sad sad panda");
  }
  canPerformInRuleRecovery(t33, e10) {
    return this.canRecoverWithSingleTokenInsertion(t33, e10) || this.canRecoverWithSingleTokenDeletion(t33);
  }
  canRecoverWithSingleTokenInsertion(t33, e10) {
    if (!this.canTokenTypeBeInsertedInRecovery(t33) || ta(e10)) return false;
    let r10 = this.LA(1);
    return void 0 !== tk(e10, (t34) => this.tokenMatcher(r10, t34));
  }
  canRecoverWithSingleTokenDeletion(t33) {
    return !!this.canTokenTypeBeDeletedInRecovery(t33) && this.tokenMatcher(this.LA(2), t33);
  }
  isInCurrentRuleReSyncSet(t33) {
    let e10 = this.getCurrFollowKey();
    return t$(this.getFollowSetFromFollowKey(e10), t33);
  }
  findReSyncTokenType() {
    let t33 = this.flattenFollowSet(), e10 = this.LA(1), r10 = 2;
    for (; ; ) {
      let i10 = tk(t33, (t34) => IP(e10, t34));
      if (void 0 !== i10) return i10;
      e10 = this.LA(r10), r10++;
    }
  }
  getCurrFollowKey() {
    if (1 === this.RULE_STACK.length) return M$;
    let t33 = this.getLastExplicitRuleShortName(), e10 = this.getLastExplicitRuleOccurrenceIndex(), r10 = this.getPreviousExplicitRuleShortName();
    return { ruleName: this.shortRuleNameToFullName(t33), idxInCallingRule: e10, inRule: this.shortRuleNameToFullName(r10) };
  }
  buildFullFollowKeyStack() {
    let t33 = this.RULE_STACK, e10 = this.RULE_OCCURRENCE_STACK;
    return tf(t33, (r10, i10) => 0 === i10 ? M$ : { ruleName: this.shortRuleNameToFullName(r10), idxInCallingRule: e10[i10], inRule: this.shortRuleNameToFullName(t33[i10 - 1]) });
  }
  flattenFollowSet() {
    return tg(tf(this.buildFullFollowKeyStack(), (t33) => this.getFollowSetFromFollowKey(t33)));
  }
  getFollowSetFromFollowKey(t33) {
    if (t33 === M$) return [I4];
    let e10 = t33.ruleName + t33.idxInCallingRule + Ih + t33.inRule;
    return this.resyncFollows[e10];
  }
  addToResyncTokens(t33, e10) {
    return this.tokenMatcher(t33, I4) || e10.push(t33), e10;
  }
  reSyncTo(t33) {
    let e10 = [], r10 = this.LA(1);
    for (; false === this.tokenMatcher(r10, t33); ) r10 = this.SKIP_TOKEN(), this.addToResyncTokens(r10, e10);
    return tW(e10);
  }
  attemptInRepetitionRecovery(t33, e10, r10, i10, n10, a10, o10) {
  }
  getCurrentGrammarPath(t33, e10) {
    return { ruleStack: this.getHumanReadableRuleStack(), occurrenceStack: tI(this.RULE_OCCURRENCE_STACK), lastTok: t33, lastTokOccurrence: e10 };
  }
  getHumanReadableRuleStack() {
    return tf(this.RULE_STACK, (t33) => this.shortRuleNameToFullName(t33));
  }
}, class {
  initLooksAhead(t33) {
    this.dynamicTokensEnabled = tx(t33, "dynamicTokensEnabled") ? t33.dynamicTokensEnabled : M2.dynamicTokensEnabled, this.maxLookahead = tx(t33, "maxLookahead") ? t33.maxLookahead : M2.maxLookahead, this.lookaheadStrategy = tx(t33, "lookaheadStrategy") ? t33.lookaheadStrategy : new MU({ maxLookahead: this.maxLookahead }), this.lookAheadFuncsCache = /* @__PURE__ */ new Map();
  }
  preComputeLookaheadFunctions(t33) {
    tc(t33, (t34) => {
      this.TRACE_INIT(`${t34.name} Rule Lookahead`, () => {
        let { alternation: e10, repetition: r10, option: i10, repetitionMandatory: n10, repetitionMandatoryWithSeparator: a10, repetitionWithSeparator: o10 } = function(t35) {
          MG.reset(), t35.accept(MG);
          let e11 = MG.dslMethods;
          return MG.reset(), e11;
        }(t34);
        tc(e10, (e11) => {
          let r11 = 0 === e11.idx ? "" : e11.idx;
          this.TRACE_INIT(`${Ia(e11)}${r11}`, () => {
            var r12;
            let i11 = this.lookaheadStrategy.buildLookaheadForAlternation({ prodOccurrence: e11.idx, rule: t34, maxLookahead: e11.maxLookahead || this.maxLookahead, hasPredicates: e11.hasPredicates, dynamicTokensEnabled: this.dynamicTokensEnabled }), n11 = (r12 = this.fullRuleNameToShort[t34.name], 256 | e11.idx | r12);
            this.setLaFuncCache(n11, i11);
          });
        }), tc(r10, (e11) => {
          this.computeLookaheadFunc(t34, e11.idx, 768, "Repetition", e11.maxLookahead, Ia(e11));
        }), tc(i10, (e11) => {
          this.computeLookaheadFunc(t34, e11.idx, 512, "Option", e11.maxLookahead, Ia(e11));
        }), tc(n10, (e11) => {
          this.computeLookaheadFunc(t34, e11.idx, 1024, "RepetitionMandatory", e11.maxLookahead, Ia(e11));
        }), tc(a10, (e11) => {
          this.computeLookaheadFunc(t34, e11.idx, 1536, "RepetitionMandatoryWithSeparator", e11.maxLookahead, Ia(e11));
        }), tc(o10, (e11) => {
          this.computeLookaheadFunc(t34, e11.idx, 1280, "RepetitionWithSeparator", e11.maxLookahead, Ia(e11));
        });
      });
    });
  }
  computeLookaheadFunc(t33, e10, r10, i10, n10, a10) {
    this.TRACE_INIT(`${a10}${0 === e10 ? "" : e10}`, () => {
      let a11 = this.lookaheadStrategy.buildLookaheadForOptional({ prodOccurrence: e10, rule: t33, maxLookahead: n10 || this.maxLookahead, dynamicTokensEnabled: this.dynamicTokensEnabled, prodType: i10 }), o10 = e10 | r10 | this.fullRuleNameToShort[t33.name];
      this.setLaFuncCache(o10, a11);
    });
  }
  getKeyForAutomaticLookahead(t33, e10) {
    return e10 | t33 | this.getLastExplicitRuleShortName();
  }
  getLaFuncFromCache(t33) {
    return this.lookAheadFuncsCache.get(t33);
  }
  setLaFuncCache(t33, e10) {
    this.lookAheadFuncsCache.set(t33, e10);
  }
}, class {
  initTreeBuilder(t33) {
    if (this.CST_STACK = [], this.outputCst = t33.outputCst, this.nodeLocationTracking = tx(t33, "nodeLocationTracking") ? t33.nodeLocationTracking : M2.nodeLocationTracking, this.outputCst) {
      if (/full/i.test(this.nodeLocationTracking)) this.recoveryEnabled ? (this.setNodeLocationFromToken = MY, this.setNodeLocationFromNode = MY, this.cstPostRule = tj, this.setInitialNodeLocation = this.setInitialNodeLocationFullRecovery) : (this.setNodeLocationFromToken = tj, this.setNodeLocationFromNode = tj, this.cstPostRule = this.cstPostRuleFull, this.setInitialNodeLocation = this.setInitialNodeLocationFullRegular);
      else if (/onlyOffset/i.test(this.nodeLocationTracking)) this.recoveryEnabled ? (this.setNodeLocationFromToken = Mq, this.setNodeLocationFromNode = Mq, this.cstPostRule = tj, this.setInitialNodeLocation = this.setInitialNodeLocationOnlyOffsetRecovery) : (this.setNodeLocationFromToken = tj, this.setNodeLocationFromNode = tj, this.cstPostRule = this.cstPostRuleOnlyOffset, this.setInitialNodeLocation = this.setInitialNodeLocationOnlyOffsetRegular);
      else if (/none/i.test(this.nodeLocationTracking)) this.setNodeLocationFromToken = tj, this.setNodeLocationFromNode = tj, this.cstPostRule = tj, this.setInitialNodeLocation = tj;
      else throw Error(`Invalid <nodeLocationTracking> config option: "${t33.nodeLocationTracking}"`);
    } else this.cstInvocationStateUpdate = tj, this.cstFinallyStateUpdate = tj, this.cstPostTerminal = tj, this.cstPostNonTerminal = tj, this.cstPostRule = tj;
  }
  setInitialNodeLocationOnlyOffsetRecovery(t33) {
    t33.location = { startOffset: NaN, endOffset: NaN };
  }
  setInitialNodeLocationOnlyOffsetRegular(t33) {
    t33.location = { startOffset: this.LA(1).startOffset, endOffset: NaN };
  }
  setInitialNodeLocationFullRecovery(t33) {
    t33.location = { startOffset: NaN, startLine: NaN, startColumn: NaN, endOffset: NaN, endLine: NaN, endColumn: NaN };
  }
  setInitialNodeLocationFullRegular(t33) {
    let e10 = this.LA(1);
    t33.location = { startOffset: e10.startOffset, startLine: e10.startLine, startColumn: e10.startColumn, endOffset: NaN, endLine: NaN, endColumn: NaN };
  }
  cstInvocationStateUpdate(t33) {
    let e10 = { name: t33, children: /* @__PURE__ */ Object.create(null) };
    this.setInitialNodeLocation(e10), this.CST_STACK.push(e10);
  }
  cstFinallyStateUpdate() {
    this.CST_STACK.pop();
  }
  cstPostRuleFull(t33) {
    let e10 = this.LA(0), r10 = t33.location;
    r10.startOffset <= e10.startOffset == true ? (r10.endOffset = e10.endOffset, r10.endLine = e10.endLine, r10.endColumn = e10.endColumn) : (r10.startOffset = NaN, r10.startLine = NaN, r10.startColumn = NaN);
  }
  cstPostRuleOnlyOffset(t33) {
    let e10 = this.LA(0), r10 = t33.location;
    r10.startOffset <= e10.startOffset == true ? r10.endOffset = e10.endOffset : r10.startOffset = NaN;
  }
  cstPostTerminal(t33, e10) {
    let r10 = this.CST_STACK[this.CST_STACK.length - 1];
    void 0 === r10.children[t33] ? r10.children[t33] = [e10] : r10.children[t33].push(e10), this.setNodeLocationFromToken(r10.location, e10);
  }
  cstPostNonTerminal(t33, e10) {
    let r10 = this.CST_STACK[this.CST_STACK.length - 1];
    void 0 === r10.children[e10] ? r10.children[e10] = [t33] : r10.children[e10].push(t33), this.setNodeLocationFromNode(r10.location, t33.location);
  }
  getBaseCstVisitorConstructor() {
    if (J(this.baseCstVisitorConstructor)) {
      let t33 = function(t34, e10) {
        let r10 = function() {
        };
        return MH(r10, t34 + "BaseSemantics"), r10.prototype = { visit: function(t35, e11) {
          if (te(t35) && (t35 = t35[0]), !J(t35)) return this[t35.name](t35.children, e11);
        }, validateVisitor: function() {
          var t35;
          let r11 = (t35 = this, tq(tf(th(e10, (e11) => false === ts(t35[e11])), (e11) => ({ msg: `Missing visitor method: <${e11}> on ${t35.constructor.name} CST Visitor.`, type: JF.MISSING_METHOD, methodName: e11 }))));
          if (!ta(r11)) {
            let t36 = tf(r11, (t37) => t37.msg);
            throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${t36.join("\n\n").replace(/\n/g, "\n	")}`);
          }
        } }, r10.prototype.constructor = r10, r10._RULE_NAMES = e10, r10;
      }(this.className, tl(this.gastProductionsCache));
      return this.baseCstVisitorConstructor = t33, t33;
    }
    return this.baseCstVisitorConstructor;
  }
  getBaseCstVisitorConstructorWithDefaults() {
    if (J(this.baseCstVisitorWithDefaultsConstructor)) {
      let t33 = function(t34, e10, r10) {
        let i10 = function() {
        };
        MH(i10, t34 + "BaseSemanticsWithDefaults");
        let n10 = Object.create(r10.prototype);
        return tc(e10, (t35) => {
          n10[t35] = Mj;
        }), i10.prototype = n10, i10.prototype.constructor = i10, i10;
      }(this.className, tl(this.gastProductionsCache), this.getBaseCstVisitorConstructor());
      return this.baseCstVisitorWithDefaultsConstructor = t33, t33;
    }
    return this.baseCstVisitorWithDefaultsConstructor;
  }
  getLastExplicitRuleShortName() {
    let t33 = this.RULE_STACK;
    return t33[t33.length - 1];
  }
  getPreviousExplicitRuleShortName() {
    let t33 = this.RULE_STACK;
    return t33[t33.length - 2];
  }
  getLastExplicitRuleOccurrenceIndex() {
    let t33 = this.RULE_OCCURRENCE_STACK;
    return t33[t33.length - 1];
  }
}, class {
  initLexerAdapter() {
    this.tokVector = [], this.tokVectorLength = 0, this.currIdx = -1;
  }
  set input(t33) {
    if (true !== this.selfAnalysisDone) throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");
    this.reset(), this.tokVector = t33, this.tokVectorLength = t33.length;
  }
  get input() {
    return this.tokVector;
  }
  SKIP_TOKEN() {
    return this.currIdx <= this.tokVector.length - 2 ? (this.consumeToken(), this.LA(1)) : M1;
  }
  LA(t33) {
    let e10 = this.currIdx + t33;
    return e10 < 0 || this.tokVectorLength <= e10 ? M1 : this.tokVector[e10];
  }
  consumeToken() {
    this.currIdx++;
  }
  exportLexerState() {
    return this.currIdx;
  }
  importLexerState(t33) {
    this.currIdx = t33;
  }
  resetLexerState() {
    this.currIdx = -1;
  }
  moveToTerminatedState() {
    this.currIdx = this.tokVector.length - 1;
  }
  getLexerPosition() {
    return this.exportLexerState();
  }
}, class {
  initRecognizerEngine(t33, e10) {
    if (this.className = this.constructor.name, this.shortRuleNameToFull = {}, this.fullRuleNameToShort = {}, this.ruleShortNameIdx = 256, this.tokenMatcher = I$, this.subruleIdx = 0, this.definedRulesNames = [], this.tokensMap = {}, this.isBackTrackingStack = [], this.RULE_STACK = [], this.RULE_OCCURRENCE_STACK = [], this.gastProductionsCache = {}, tx(e10, "serializedGrammar")) throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n	For Further details.");
    if (te(t33)) {
      if (ta(t33)) throw Error("A Token Vocabulary cannot be empty.\n	Note that the first argument for the parser constructor\n	is no longer a Token vector (since v4.0).");
      if ("number" == typeof t33[0].startOffset) throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n	For Further details.");
    }
    if (te(t33)) this.tokensMap = tp(t33, (t34, e11) => (t34[e11.name] = e11, t34), {});
    else if (tx(t33, "modes") && tB(tg(td(t33.modes)), Iq)) {
      let e11 = tt(tg(td(t33.modes)));
      this.tokensMap = tp(e11, (t34, e12) => (t34[e12.name] = e12, t34), {});
    } else if (tr(t33)) this.tokensMap = tI(t33);
    else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");
    this.tokensMap.EOF = I4;
    let r10 = tB(tx(t33, "modes") ? tg(td(t33.modes)) : td(t33), (t34) => ta(t34.categoryMatches));
    this.tokenMatcher = r10 ? I$ : IP, Iz(td(this.tokensMap));
  }
  defineRule(t33, e10, r10) {
    if (this.selfAnalysisDone) throw Error(`Grammar rule <${t33}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);
    let i10 = tx(r10, "resyncEnabled") ? r10.resyncEnabled : M4.resyncEnabled, n10 = tx(r10, "recoveryValueFunc") ? r10.recoveryValueFunc : M4.recoveryValueFunc, a10 = this.ruleShortNameIdx << 12;
    return this.ruleShortNameIdx++, this.shortRuleNameToFull[a10] = t33, this.fullRuleNameToShort[t33] = a10, Object.assign(true === this.outputCst ? function() {
      for (var r11 = arguments.length, o10 = Array(r11), s10 = 0; s10 < r11; s10++) o10[s10] = arguments[s10];
      try {
        this.ruleInvocationStateUpdate(a10, t33, this.subruleIdx), e10.apply(this, o10);
        let r12 = this.CST_STACK[this.CST_STACK.length - 1];
        return this.cstPostRule(r12), r12;
      } catch (t34) {
        return this.invokeRuleCatch(t34, i10, n10);
      } finally {
        this.ruleFinallyStateUpdate();
      }
    } : function() {
      for (var r11 = arguments.length, o10 = Array(r11), s10 = 0; s10 < r11; s10++) o10[s10] = arguments[s10];
      try {
        return this.ruleInvocationStateUpdate(a10, t33, this.subruleIdx), e10.apply(this, o10);
      } catch (t34) {
        return this.invokeRuleCatch(t34, i10, n10);
      } finally {
        this.ruleFinallyStateUpdate();
      }
    }, { ruleName: t33, originalGrammarAction: e10 });
  }
  invokeRuleCatch(t33, e10, r10) {
    let i10 = 1 === this.RULE_STACK.length, n10 = e10 && !this.isBackTracking() && this.recoveryEnabled;
    if (MI(t33)) {
      if (n10) {
        let e11 = this.findReSyncTokenType();
        if (this.isInCurrentRuleReSyncSet(e11)) {
          if (t33.resyncedTokens = this.reSyncTo(e11), !this.outputCst) return r10(t33);
          {
            let t34 = this.CST_STACK[this.CST_STACK.length - 1];
            return t34.recoveredNode = true, t34;
          }
        }
        if (this.outputCst) {
          let e12 = this.CST_STACK[this.CST_STACK.length - 1];
          e12.recoveredNode = true, t33.partialCstResult = e12;
        }
        throw t33;
      }
      if (i10) return this.moveToTerminatedState(), r10(t33);
    }
    throw t33;
  }
  optionInternal(t33, e10) {
    let r10 = this.getKeyForAutomaticLookahead(512, e10);
    return this.optionInternalLogic(t33, e10, r10);
  }
  optionInternalLogic(t33, e10, r10) {
    let i10, n10 = this.getLaFuncFromCache(r10);
    if ("function" != typeof t33) {
      i10 = t33.DEF;
      let e11 = t33.GATE;
      if (void 0 !== e11) {
        let t34 = n10;
        n10 = () => e11.call(this) && t34.call(this);
      }
    } else i10 = t33;
    if (true === n10.call(this)) return i10.call(this);
  }
  atLeastOneInternal(t33, e10) {
    let r10 = this.getKeyForAutomaticLookahead(1024, t33);
    return this.atLeastOneInternalLogic(t33, e10, r10);
  }
  atLeastOneInternalLogic(t33, e10, r10) {
    let i10, n10 = this.getLaFuncFromCache(r10);
    if ("function" != typeof e10) {
      i10 = e10.DEF;
      let t34 = e10.GATE;
      if (void 0 !== t34) {
        let e11 = n10;
        n10 = () => t34.call(this) && e11.call(this);
      }
    } else i10 = e10;
    if (true === n10.call(this)) {
      let t34 = this.doSingleRepetition(i10);
      for (; true === n10.call(this) && true === t34; ) t34 = this.doSingleRepetition(i10);
    } else throw this.raiseEarlyExitException(t33, JB.REPETITION_MANDATORY, e10.ERR_MSG);
    this.attemptInRepetitionRecovery(this.atLeastOneInternal, [t33, e10], n10, 1024, t33, Mn);
  }
  atLeastOneSepFirstInternal(t33, e10) {
    let r10 = this.getKeyForAutomaticLookahead(1536, t33);
    this.atLeastOneSepFirstInternalLogic(t33, e10, r10);
  }
  atLeastOneSepFirstInternalLogic(t33, e10, r10) {
    let i10 = e10.DEF, n10 = e10.SEP;
    if (true === this.getLaFuncFromCache(r10).call(this)) {
      i10.call(this);
      let e11 = () => this.tokenMatcher(this.LA(1), n10);
      for (; true === this.tokenMatcher(this.LA(1), n10); ) this.CONSUME(n10), i10.call(this);
      this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [t33, n10, e11, i10, Ma], e11, 1536, t33, Ma);
    } else throw this.raiseEarlyExitException(t33, JB.REPETITION_MANDATORY_WITH_SEPARATOR, e10.ERR_MSG);
  }
  manyInternal(t33, e10) {
    let r10 = this.getKeyForAutomaticLookahead(768, t33);
    return this.manyInternalLogic(t33, e10, r10);
  }
  manyInternalLogic(t33, e10, r10) {
    let i10, n10 = this.getLaFuncFromCache(r10);
    if ("function" != typeof e10) {
      i10 = e10.DEF;
      let t34 = e10.GATE;
      if (void 0 !== t34) {
        let e11 = n10;
        n10 = () => t34.call(this) && e11.call(this);
      }
    } else i10 = e10;
    let a10 = true;
    for (; true === n10.call(this) && true === a10; ) a10 = this.doSingleRepetition(i10);
    this.attemptInRepetitionRecovery(this.manyInternal, [t33, e10], n10, 768, t33, Mr, a10);
  }
  manySepFirstInternal(t33, e10) {
    let r10 = this.getKeyForAutomaticLookahead(1280, t33);
    this.manySepFirstInternalLogic(t33, e10, r10);
  }
  manySepFirstInternalLogic(t33, e10, r10) {
    let i10 = e10.DEF, n10 = e10.SEP;
    if (true === this.getLaFuncFromCache(r10).call(this)) {
      i10.call(this);
      let e11 = () => this.tokenMatcher(this.LA(1), n10);
      for (; true === this.tokenMatcher(this.LA(1), n10); ) this.CONSUME(n10), i10.call(this);
      this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [t33, n10, e11, i10, Mi], e11, 1280, t33, Mi);
    }
  }
  repetitionSepSecondInternal(t33, e10, r10, i10, n10) {
    for (; r10(); ) this.CONSUME(e10), i10.call(this);
    this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [t33, e10, r10, i10, n10], r10, 1536, t33, n10);
  }
  doSingleRepetition(t33) {
    let e10 = this.getLexerPosition();
    return t33.call(this), this.getLexerPosition() > e10;
  }
  orInternal(t33, e10) {
    let r10 = this.getKeyForAutomaticLookahead(256, e10), i10 = te(t33) ? t33 : t33.DEF, n10 = this.getLaFuncFromCache(r10).call(this, i10);
    if (void 0 !== n10) return i10[n10].ALT.call(this);
    this.raiseNoAltException(e10, t33.ERR_MSG);
  }
  ruleFinallyStateUpdate() {
    if (this.RULE_STACK.pop(), this.RULE_OCCURRENCE_STACK.pop(), this.cstFinallyStateUpdate(), 0 === this.RULE_STACK.length && false === this.isAtEndOfInput()) {
      let t33 = this.LA(1), e10 = this.errorMessageProvider.buildNotAllInputParsedMessage({ firstRedundant: t33, ruleName: this.getCurrRuleFullName() });
      this.SAVE_ERROR(new MO(e10, t33));
    }
  }
  subruleInternal(t33, e10, r10) {
    let i10;
    try {
      let n10 = void 0 !== r10 ? r10.ARGS : void 0;
      return this.subruleIdx = e10, i10 = t33.apply(this, n10), this.cstPostNonTerminal(i10, void 0 !== r10 && void 0 !== r10.LABEL ? r10.LABEL : t33.ruleName), i10;
    } catch (e11) {
      throw this.subruleInternalError(e11, r10, t33.ruleName);
    }
  }
  subruleInternalError(t33, e10, r10) {
    throw MI(t33) && void 0 !== t33.partialCstResult && (this.cstPostNonTerminal(t33.partialCstResult, void 0 !== e10 && void 0 !== e10.LABEL ? e10.LABEL : r10), delete t33.partialCstResult), t33;
  }
  consumeInternal(t33, e10, r10) {
    let i10;
    try {
      let e11 = this.LA(1);
      true === this.tokenMatcher(e11, t33) ? (this.consumeToken(), i10 = e11) : this.consumeInternalError(t33, e11, r10);
    } catch (r11) {
      i10 = this.consumeInternalRecovery(t33, e10, r11);
    }
    return this.cstPostTerminal(void 0 !== r10 && void 0 !== r10.LABEL ? r10.LABEL : t33.name, i10), i10;
  }
  consumeInternalError(t33, e10, r10) {
    let i10;
    let n10 = this.LA(0);
    throw i10 = void 0 !== r10 && r10.ERR_MSG ? r10.ERR_MSG : this.errorMessageProvider.buildMismatchTokenMessage({ expected: t33, actual: e10, previous: n10, ruleName: this.getCurrRuleFullName() }), this.SAVE_ERROR(new MR(i10, e10, n10));
  }
  consumeInternalRecovery(t33, e10, r10) {
    if (this.recoveryEnabled && "MismatchedTokenException" === r10.name && !this.isBackTracking()) {
      let i10 = this.getFollowsForInRuleRecovery(t33, e10);
      try {
        return this.tryInRuleRecovery(t33, i10);
      } catch (t34) {
        if (t34.name === MB) throw r10;
        throw t34;
      }
    } else throw r10;
  }
  saveRecogState() {
    let t33 = this.errors, e10 = tI(this.RULE_STACK);
    return { errors: t33, lexerState: this.exportLexerState(), RULE_STACK: e10, CST_STACK: this.CST_STACK };
  }
  reloadRecogState(t33) {
    this.errors = t33.errors, this.importLexerState(t33.lexerState), this.RULE_STACK = t33.RULE_STACK;
  }
  ruleInvocationStateUpdate(t33, e10, r10) {
    this.RULE_OCCURRENCE_STACK.push(r10), this.RULE_STACK.push(t33), this.cstInvocationStateUpdate(e10);
  }
  isBackTracking() {
    return 0 !== this.isBackTrackingStack.length;
  }
  getCurrRuleFullName() {
    let t33 = this.getLastExplicitRuleShortName();
    return this.shortRuleNameToFull[t33];
  }
  shortRuleNameToFullName(t33) {
    return this.shortRuleNameToFull[t33];
  }
  isAtEndOfInput() {
    return this.tokenMatcher(this.LA(1), I4);
  }
  reset() {
    this.resetLexerState(), this.subruleIdx = 0, this.isBackTrackingStack = [], this.errors = [], this.RULE_STACK = [], this.CST_STACK = [], this.RULE_OCCURRENCE_STACK = [];
  }
}, class {
  ACTION(t33) {
    return t33.call(this);
  }
  consume(t33, e10, r10) {
    return this.consumeInternal(e10, t33, r10);
  }
  subrule(t33, e10, r10) {
    return this.subruleInternal(e10, t33, r10);
  }
  option(t33, e10) {
    return this.optionInternal(e10, t33);
  }
  or(t33, e10) {
    return this.orInternal(e10, t33);
  }
  many(t33, e10) {
    return this.manyInternal(t33, e10);
  }
  atLeastOne(t33, e10) {
    return this.atLeastOneInternal(t33, e10);
  }
  CONSUME(t33, e10) {
    return this.consumeInternal(t33, 0, e10);
  }
  CONSUME1(t33, e10) {
    return this.consumeInternal(t33, 1, e10);
  }
  CONSUME2(t33, e10) {
    return this.consumeInternal(t33, 2, e10);
  }
  CONSUME3(t33, e10) {
    return this.consumeInternal(t33, 3, e10);
  }
  CONSUME4(t33, e10) {
    return this.consumeInternal(t33, 4, e10);
  }
  CONSUME5(t33, e10) {
    return this.consumeInternal(t33, 5, e10);
  }
  CONSUME6(t33, e10) {
    return this.consumeInternal(t33, 6, e10);
  }
  CONSUME7(t33, e10) {
    return this.consumeInternal(t33, 7, e10);
  }
  CONSUME8(t33, e10) {
    return this.consumeInternal(t33, 8, e10);
  }
  CONSUME9(t33, e10) {
    return this.consumeInternal(t33, 9, e10);
  }
  SUBRULE(t33, e10) {
    return this.subruleInternal(t33, 0, e10);
  }
  SUBRULE1(t33, e10) {
    return this.subruleInternal(t33, 1, e10);
  }
  SUBRULE2(t33, e10) {
    return this.subruleInternal(t33, 2, e10);
  }
  SUBRULE3(t33, e10) {
    return this.subruleInternal(t33, 3, e10);
  }
  SUBRULE4(t33, e10) {
    return this.subruleInternal(t33, 4, e10);
  }
  SUBRULE5(t33, e10) {
    return this.subruleInternal(t33, 5, e10);
  }
  SUBRULE6(t33, e10) {
    return this.subruleInternal(t33, 6, e10);
  }
  SUBRULE7(t33, e10) {
    return this.subruleInternal(t33, 7, e10);
  }
  SUBRULE8(t33, e10) {
    return this.subruleInternal(t33, 8, e10);
  }
  SUBRULE9(t33, e10) {
    return this.subruleInternal(t33, 9, e10);
  }
  OPTION(t33) {
    return this.optionInternal(t33, 0);
  }
  OPTION1(t33) {
    return this.optionInternal(t33, 1);
  }
  OPTION2(t33) {
    return this.optionInternal(t33, 2);
  }
  OPTION3(t33) {
    return this.optionInternal(t33, 3);
  }
  OPTION4(t33) {
    return this.optionInternal(t33, 4);
  }
  OPTION5(t33) {
    return this.optionInternal(t33, 5);
  }
  OPTION6(t33) {
    return this.optionInternal(t33, 6);
  }
  OPTION7(t33) {
    return this.optionInternal(t33, 7);
  }
  OPTION8(t33) {
    return this.optionInternal(t33, 8);
  }
  OPTION9(t33) {
    return this.optionInternal(t33, 9);
  }
  OR(t33) {
    return this.orInternal(t33, 0);
  }
  OR1(t33) {
    return this.orInternal(t33, 1);
  }
  OR2(t33) {
    return this.orInternal(t33, 2);
  }
  OR3(t33) {
    return this.orInternal(t33, 3);
  }
  OR4(t33) {
    return this.orInternal(t33, 4);
  }
  OR5(t33) {
    return this.orInternal(t33, 5);
  }
  OR6(t33) {
    return this.orInternal(t33, 6);
  }
  OR7(t33) {
    return this.orInternal(t33, 7);
  }
  OR8(t33) {
    return this.orInternal(t33, 8);
  }
  OR9(t33) {
    return this.orInternal(t33, 9);
  }
  MANY(t33) {
    this.manyInternal(0, t33);
  }
  MANY1(t33) {
    this.manyInternal(1, t33);
  }
  MANY2(t33) {
    this.manyInternal(2, t33);
  }
  MANY3(t33) {
    this.manyInternal(3, t33);
  }
  MANY4(t33) {
    this.manyInternal(4, t33);
  }
  MANY5(t33) {
    this.manyInternal(5, t33);
  }
  MANY6(t33) {
    this.manyInternal(6, t33);
  }
  MANY7(t33) {
    this.manyInternal(7, t33);
  }
  MANY8(t33) {
    this.manyInternal(8, t33);
  }
  MANY9(t33) {
    this.manyInternal(9, t33);
  }
  MANY_SEP(t33) {
    this.manySepFirstInternal(0, t33);
  }
  MANY_SEP1(t33) {
    this.manySepFirstInternal(1, t33);
  }
  MANY_SEP2(t33) {
    this.manySepFirstInternal(2, t33);
  }
  MANY_SEP3(t33) {
    this.manySepFirstInternal(3, t33);
  }
  MANY_SEP4(t33) {
    this.manySepFirstInternal(4, t33);
  }
  MANY_SEP5(t33) {
    this.manySepFirstInternal(5, t33);
  }
  MANY_SEP6(t33) {
    this.manySepFirstInternal(6, t33);
  }
  MANY_SEP7(t33) {
    this.manySepFirstInternal(7, t33);
  }
  MANY_SEP8(t33) {
    this.manySepFirstInternal(8, t33);
  }
  MANY_SEP9(t33) {
    this.manySepFirstInternal(9, t33);
  }
  AT_LEAST_ONE(t33) {
    this.atLeastOneInternal(0, t33);
  }
  AT_LEAST_ONE1(t33) {
    return this.atLeastOneInternal(1, t33);
  }
  AT_LEAST_ONE2(t33) {
    this.atLeastOneInternal(2, t33);
  }
  AT_LEAST_ONE3(t33) {
    this.atLeastOneInternal(3, t33);
  }
  AT_LEAST_ONE4(t33) {
    this.atLeastOneInternal(4, t33);
  }
  AT_LEAST_ONE5(t33) {
    this.atLeastOneInternal(5, t33);
  }
  AT_LEAST_ONE6(t33) {
    this.atLeastOneInternal(6, t33);
  }
  AT_LEAST_ONE7(t33) {
    this.atLeastOneInternal(7, t33);
  }
  AT_LEAST_ONE8(t33) {
    this.atLeastOneInternal(8, t33);
  }
  AT_LEAST_ONE9(t33) {
    this.atLeastOneInternal(9, t33);
  }
  AT_LEAST_ONE_SEP(t33) {
    this.atLeastOneSepFirstInternal(0, t33);
  }
  AT_LEAST_ONE_SEP1(t33) {
    this.atLeastOneSepFirstInternal(1, t33);
  }
  AT_LEAST_ONE_SEP2(t33) {
    this.atLeastOneSepFirstInternal(2, t33);
  }
  AT_LEAST_ONE_SEP3(t33) {
    this.atLeastOneSepFirstInternal(3, t33);
  }
  AT_LEAST_ONE_SEP4(t33) {
    this.atLeastOneSepFirstInternal(4, t33);
  }
  AT_LEAST_ONE_SEP5(t33) {
    this.atLeastOneSepFirstInternal(5, t33);
  }
  AT_LEAST_ONE_SEP6(t33) {
    this.atLeastOneSepFirstInternal(6, t33);
  }
  AT_LEAST_ONE_SEP7(t33) {
    this.atLeastOneSepFirstInternal(7, t33);
  }
  AT_LEAST_ONE_SEP8(t33) {
    this.atLeastOneSepFirstInternal(8, t33);
  }
  AT_LEAST_ONE_SEP9(t33) {
    this.atLeastOneSepFirstInternal(9, t33);
  }
  RULE(t33, e10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : M4;
    if (t$(this.definedRulesNames, t33)) {
      let e11 = { message: I7.buildDuplicateRuleNameError({ topLevelRule: t33, grammarName: this.className }), type: Jz.DUPLICATE_RULE_NAME, ruleName: t33 };
      this.definitionErrors.push(e11);
    }
    this.definedRulesNames.push(t33);
    let i10 = this.defineRule(t33, e10, r10);
    return this[t33] = i10, i10;
  }
  OVERRIDE_RULE(t33, e10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : M4, i10 = function(t34, e11, r11) {
      let i11 = [];
      return t$(e11, t34) || i11.push({ message: `Invalid rule override, rule: ->${t34}<- cannot be overridden in the grammar: ->${r11}<-as it is not defined in any of the super grammars `, type: Jz.INVALID_RULE_OVERRIDE, ruleName: t34 }), i11;
    }(t33, this.definedRulesNames, this.className);
    this.definitionErrors = this.definitionErrors.concat(i10);
    let n10 = this.defineRule(t33, e10, r10);
    return this[t33] = n10, n10;
  }
  BACKTRACK(t33, e10) {
    return function() {
      this.isBackTrackingStack.push(1);
      let r10 = this.saveRecogState();
      try {
        return t33.apply(this, e10), true;
      } catch (t34) {
        if (MI(t34)) return false;
        throw t34;
      } finally {
        this.reloadRecogState(r10), this.isBackTrackingStack.pop();
      }
    };
  }
  getGAstProductions() {
    return this.gastProductionsCache;
  }
  getSerializedGastProductions() {
    return tf(td(this.gastProductionsCache), function t33(e10) {
      function r10(e11) {
        return tf(e11, t33);
      }
      if (e10 instanceof N4) {
        let t34 = { type: "NonTerminal", name: e10.nonTerminalName, idx: e10.idx };
        return tD(e10.label) && (t34.label = e10.label), t34;
      }
      if (e10 instanceof N3) return { type: "Alternative", definition: r10(e10.definition) };
      if (e10 instanceof N6) return { type: "Option", idx: e10.idx, definition: r10(e10.definition) };
      if (e10 instanceof N7) return { type: "RepetitionMandatory", idx: e10.idx, definition: r10(e10.definition) };
      if (e10 instanceof N8) return { type: "RepetitionMandatoryWithSeparator", idx: e10.idx, separator: t33(new Ir({ terminalType: e10.separator })), definition: r10(e10.definition) };
      if (e10 instanceof It) return { type: "RepetitionWithSeparator", idx: e10.idx, separator: t33(new Ir({ terminalType: e10.separator })), definition: r10(e10.definition) };
      if (e10 instanceof N9) return { type: "Repetition", idx: e10.idx, definition: r10(e10.definition) };
      else if (e10 instanceof Ie) return { type: "Alternation", idx: e10.idx, definition: r10(e10.definition) };
      else if (e10 instanceof Ir) {
        var i10, n10;
        let t34 = { type: "Terminal", name: e10.terminalType.name, label: tD((n10 = i10 = e10.terminalType).LABEL) && "" !== n10.LABEL ? i10.LABEL : i10.name, idx: e10.idx };
        tD(e10.label) && (t34.terminalLabel = e10.label);
        let r11 = e10.terminalType.PATTERN;
        return e10.terminalType.PATTERN && (t34.pattern = tO(r11) ? r11.source : r11), t34;
      } else if (e10 instanceof N5) return { type: "Rule", name: e10.name, orgText: e10.orgText, definition: r10(e10.definition) };
      else throw Error("non exhaustive match");
    });
  }
}, class {
  initErrorHandler(t33) {
    this._errors = [], this.errorMessageProvider = tx(t33, "errorMessageProvider") ? t33.errorMessageProvider : M2.errorMessageProvider;
  }
  SAVE_ERROR(t33) {
    if (MI(t33)) return t33.context = { ruleStack: this.getHumanReadableRuleStack(), ruleOccurrenceStack: tI(this.RULE_OCCURRENCE_STACK) }, this._errors.push(t33), t33;
    throw Error("Trying to save an Error which is not a RecognitionException");
  }
  get errors() {
    return tI(this._errors);
  }
  set errors(t33) {
    this._errors = t33;
  }
  raiseEarlyExitException(t33, e10, r10) {
    let i10 = this.getCurrRuleFullName(), n10 = Mv(t33, this.getGAstProductions()[i10], e10, this.maxLookahead)[0], a10 = [];
    for (let t34 = 1; t34 <= this.maxLookahead; t34++) a10.push(this.LA(t34));
    let o10 = this.errorMessageProvider.buildEarlyExitMessage({ expectedIterationPaths: n10, actual: a10, previous: this.LA(0), customUserDescription: r10, ruleName: i10 });
    throw this.SAVE_ERROR(new MP(o10, this.LA(1), this.LA(0)));
  }
  raiseNoAltException(t33, e10) {
    let r10 = this.getCurrRuleFullName(), i10 = My(t33, this.getGAstProductions()[r10], this.maxLookahead), n10 = [];
    for (let t34 = 1; t34 <= this.maxLookahead; t34++) n10.push(this.LA(t34));
    let a10 = this.LA(0), o10 = this.errorMessageProvider.buildNoViableAltMessage({ expectedPathsPerAlt: i10, actual: n10, previous: a10, customUserDescription: e10, ruleName: this.getCurrRuleFullName() });
    throw this.SAVE_ERROR(new MD(o10, this.LA(1), a10));
  }
}, class {
  initContentAssist() {
  }
  computeContentAssist(t33, e10) {
    let r10 = this.gastProductionsCache[t33];
    if (J(r10)) throw Error(`Rule ->${t33}<- does not exist in this grammar.`);
    return Ms([r10], e10, this.tokenMatcher, this.maxLookahead);
  }
  getNextPossibleTokenTypes(t33) {
    let e10 = tY(t33.ruleStack);
    return new Mt(this.getGAstProductions()[e10], t33).startWalking();
  }
}, class {
  initGastRecorder(t33) {
    this.recordingProdStack = [], this.RECORDING_PHASE = false;
  }
  enableRecording() {
    this.RECORDING_PHASE = true, this.TRACE_INIT("Enable Recording", () => {
      for (let t33 = 0; t33 < 10; t33++) {
        let e10 = t33 > 0 ? t33 : "";
        this[`CONSUME${e10}`] = function(e11, r10) {
          return this.consumeInternalRecord(e11, t33, r10);
        }, this[`SUBRULE${e10}`] = function(e11, r10) {
          return this.subruleInternalRecord(e11, t33, r10);
        }, this[`OPTION${e10}`] = function(e11) {
          return this.optionInternalRecord(e11, t33);
        }, this[`OR${e10}`] = function(e11) {
          return this.orInternalRecord(e11, t33);
        }, this[`MANY${e10}`] = function(e11) {
          this.manyInternalRecord(t33, e11);
        }, this[`MANY_SEP${e10}`] = function(e11) {
          this.manySepFirstInternalRecord(t33, e11);
        }, this[`AT_LEAST_ONE${e10}`] = function(e11) {
          this.atLeastOneInternalRecord(t33, e11);
        }, this[`AT_LEAST_ONE_SEP${e10}`] = function(e11) {
          this.atLeastOneSepFirstInternalRecord(t33, e11);
        };
      }
      this.consume = function(t33, e10, r10) {
        return this.consumeInternalRecord(e10, t33, r10);
      }, this.subrule = function(t33, e10, r10) {
        return this.subruleInternalRecord(e10, t33, r10);
      }, this.option = function(t33, e10) {
        return this.optionInternalRecord(e10, t33);
      }, this.or = function(t33, e10) {
        return this.orInternalRecord(e10, t33);
      }, this.many = function(t33, e10) {
        this.manyInternalRecord(t33, e10);
      }, this.atLeastOne = function(t33, e10) {
        this.atLeastOneInternalRecord(t33, e10);
      }, this.ACTION = this.ACTION_RECORD, this.BACKTRACK = this.BACKTRACK_RECORD, this.LA = this.LA_RECORD;
    });
  }
  disableRecording() {
    this.RECORDING_PHASE = false, this.TRACE_INIT("Deleting Recording methods", () => {
      for (let t33 = 0; t33 < 10; t33++) {
        let e10 = t33 > 0 ? t33 : "";
        delete this[`CONSUME${e10}`], delete this[`SUBRULE${e10}`], delete this[`OPTION${e10}`], delete this[`OR${e10}`], delete this[`MANY${e10}`], delete this[`MANY_SEP${e10}`], delete this[`AT_LEAST_ONE${e10}`], delete this[`AT_LEAST_ONE_SEP${e10}`];
      }
      delete this.consume, delete this.subrule, delete this.option, delete this.or, delete this.many, delete this.atLeastOne, delete this.ACTION, delete this.BACKTRACK, delete this.LA;
    });
  }
  ACTION_RECORD(t33) {
  }
  BACKTRACK_RECORD(t33, e10) {
    return () => true;
  }
  LA_RECORD(t33) {
    return M1;
  }
  topLevelRuleRecord(t33, e10) {
    try {
      let r10 = new N5({ definition: [], name: t33 });
      return r10.name = t33, this.recordingProdStack.push(r10), e10.call(this), this.recordingProdStack.pop(), r10;
    } catch (t34) {
      if (true !== t34.KNOWN_RECORDER_ERROR) try {
        t34.message = t34.message + '\n	 This error was thrown during the "grammar recording phase" For more info see:\n	https://chevrotain.io/docs/guide/internals.html#grammar-recording';
      } catch (t35) {
      }
      throw t34;
    }
  }
  optionInternalRecord(t33, e10) {
    return MZ.call(this, N6, t33, e10);
  }
  atLeastOneInternalRecord(t33, e10) {
    MZ.call(this, N7, e10, t33);
  }
  atLeastOneSepFirstInternalRecord(t33, e10) {
    MZ.call(this, N8, e10, t33, true);
  }
  manyInternalRecord(t33, e10) {
    MZ.call(this, N9, e10, t33);
  }
  manySepFirstInternalRecord(t33, e10) {
    MZ.call(this, It, e10, t33, true);
  }
  orInternalRecord(t33, e10) {
    return MQ.call(this, t33, e10);
  }
  subruleInternalRecord(t33, e10, r10) {
    if (M0(e10), !t33 || false === tx(t33, "ruleName")) {
      let r11 = Error(`<SUBRULE${MJ(e10)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t33)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);
      throw r11.KNOWN_RECORDER_ERROR = true, r11;
    }
    let i10 = tE(this.recordingProdStack), n10 = new N4({ idx: e10, nonTerminalName: t33.ruleName, label: null == r10 ? void 0 : r10.LABEL, referencedRule: void 0 });
    return i10.definition.push(n10), this.outputCst ? MK : MW;
  }
  consumeInternalRecord(t33, e10, r10) {
    if (M0(e10), !IU(t33)) {
      let r11 = Error(`<CONSUME${MJ(e10)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t33)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);
      throw r11.KNOWN_RECORDER_ERROR = true, r11;
    }
    let i10 = tE(this.recordingProdStack), n10 = new Ir({ idx: e10, terminalType: t33, label: null == r10 ? void 0 : r10.LABEL });
    return i10.definition.push(n10), MX;
  }
}, class {
  initPerformanceTracer(t33) {
    if (tx(t33, "traceInitPerf")) {
      let e10 = t33.traceInitPerf, r10 = "number" == typeof e10;
      this.traceInitMaxIdent = r10 ? e10 : 1 / 0, this.traceInitPerf = r10 ? e10 > 0 : e10;
    } else this.traceInitMaxIdent = 0, this.traceInitPerf = M2.traceInitPerf;
    this.traceInitIndent = -1;
  }
  TRACE_INIT(t33, e10) {
    if (true !== this.traceInitPerf) return e10();
    {
      this.traceInitIndent++;
      let r10 = Array(this.traceInitIndent + 1).join("	");
      this.traceInitIndent < this.traceInitMaxIdent && console.log(`${r10}--> <${t33}>`);
      let { time: i10, value: n10 } = N0(e10), a10 = i10 > 10 ? console.warn : console.log;
      return this.traceInitIndent < this.traceInitMaxIdent && a10(`${r10}<-- <${t33}> time: ${i10}ms`), this.traceInitIndent--, n10;
    }
  }
}]);
class M6 extends M3 {
  constructor(t33, e10 = M2) {
    let r10 = tI(e10);
    r10.outputCst = false, super(t33, r10);
  }
}
function M7(t33, e10, r10) {
  return `${t33.name}_${e10}_${r10}`;
}
class M8 {
  constructor(t33) {
    this.target = t33;
  }
  isEpsilon() {
    return false;
  }
}
class M9 extends M8 {
  constructor(t33, e10) {
    super(t33), this.tokenType = e10;
  }
}
class Rt extends M8 {
  constructor(t33) {
    super(t33);
  }
  isEpsilon() {
    return true;
  }
}
class Re extends M8 {
  constructor(t33, e10, r10) {
    super(t33), this.rule = e10, this.followState = r10;
  }
  isEpsilon() {
    return true;
  }
}
function Rr(t33, e10, r10, i10, n10) {
  let a10 = i10.left, o10 = i10.right, s10 = Rl(t33, e10, r10, { type: 11 });
  Rn(t33, s10);
  let l10 = Rl(t33, e10, r10, { type: 12 });
  return a10.loopback = s10, l10.loopback = s10, t33.decisionMap[M7(e10, n10 ? "RepetitionMandatoryWithSeparator" : "RepetitionMandatory", r10.idx)] = s10, Rs(o10, s10), void 0 === n10 ? (Rs(s10, a10), Rs(s10, l10)) : (Rs(s10, l10), Rs(s10, n10.left), Rs(n10.right, a10)), { left: a10, right: l10 };
}
function Ri(t33, e10, r10, i10, n10) {
  let a10 = i10.left, o10 = i10.right, s10 = Rl(t33, e10, r10, { type: 10 });
  Rn(t33, s10);
  let l10 = Rl(t33, e10, r10, { type: 12 }), h10 = Rl(t33, e10, r10, { type: 9 });
  return s10.loopback = h10, l10.loopback = h10, Rs(s10, a10), Rs(s10, l10), Rs(o10, h10), void 0 !== n10 ? (Rs(h10, l10), Rs(h10, n10.left), Rs(n10.right, a10)) : Rs(h10, s10), t33.decisionMap[M7(e10, n10 ? "RepetitionWithSeparator" : "Repetition", r10.idx)] = s10, { left: s10, right: l10 };
}
function Rn(t33, e10) {
  return t33.decisionStates.push(e10), e10.decision = t33.decisionStates.length - 1, e10.decision;
}
function Ra(t33, e10, r10, i10) {
  for (var n10 = arguments.length, a10 = Array(n10 > 4 ? n10 - 4 : 0), o10 = 4; o10 < n10; o10++) a10[o10 - 4] = arguments[o10];
  let s10 = Rl(t33, e10, i10, { type: 8, start: r10 });
  for (let t34 of (r10.end = s10, a10)) void 0 !== t34 ? (Rs(r10, t34.left), Rs(t34.right, s10)) : Rs(r10, s10);
  return t33.decisionMap[M7(e10, function(t34) {
    if (t34 instanceof Ie) return "Alternation";
    if (t34 instanceof N6) return "Option";
    if (t34 instanceof N9) return "Repetition";
    if (t34 instanceof It) return "RepetitionWithSeparator";
    if (t34 instanceof N7) return "RepetitionMandatory";
    if (t34 instanceof N8) return "RepetitionMandatoryWithSeparator";
    throw Error("Invalid production type encountered");
  }(i10), i10.idx)] = r10, { left: r10, right: s10 };
}
function Ro(t33, e10, r10, i10) {
  let n10 = Rl(t33, e10, i10, { type: 1 }), a10 = Rl(t33, e10, i10, { type: 1 });
  return Rh(n10, new M9(a10, r10)), { left: n10, right: a10 };
}
function Rs(t33, e10) {
  Rh(t33, new Rt(e10));
}
function Rl(t33, e10, r10, i10) {
  let n10 = Object.assign({ atn: t33, production: r10, epsilonOnlyTransitions: false, rule: e10, transitions: [], nextTokenWithinRule: [], stateNumber: t33.states.length }, i10);
  return t33.states.push(n10), n10;
}
function Rh(t33, e10) {
  0 === t33.transitions.length && (t33.epsilonOnlyTransitions = e10.isEpsilon()), t33.transitions.push(e10);
}
let Rc = {};
class Ru {
  constructor() {
    this.map = {}, this.configs = [];
  }
  get size() {
    return this.configs.length;
  }
  finalize() {
    this.map = {};
  }
  add(t33) {
    let e10 = Rd(t33);
    e10 in this.map || (this.map[e10] = this.configs.length, this.configs.push(t33));
  }
  get elements() {
    return this.configs;
  }
  get alts() {
    return tf(this.configs, (t33) => t33.alt);
  }
  get key() {
    let t33 = "";
    for (let e10 in this.map) t33 += e10 + ":";
    return t33;
  }
}
function Rd(t33) {
  let e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return `${e10 ? `a${t33.alt}` : ""}s${t33.state.stateNumber}:${t33.stack.map((t34) => t34.stateNumber.toString()).join("_")}`;
}
class Rp {
  constructor() {
    this.predicates = [];
  }
  is(t33) {
    return t33 >= this.predicates.length || this.predicates[t33];
  }
  set(t33, e10) {
    this.predicates[t33] = e10;
  }
  toString() {
    let t33 = "", e10 = this.predicates.length;
    for (let r10 = 0; r10 < e10; r10++) t33 += true === this.predicates[r10] ? "1" : "0";
    return t33;
  }
}
let Rg = new Rp();
class Rf extends MU {
  constructor(t33) {
    var e10;
    super(), this.logging = null !== (e10 = null == t33 ? void 0 : t33.logging) && void 0 !== e10 ? e10 : (t34) => console.log(t34);
  }
  initialize(t33) {
    this.atn = function(t34) {
      let e10 = { decisionMap: {}, decisionStates: [], ruleToStartState: /* @__PURE__ */ new Map(), ruleToStopState: /* @__PURE__ */ new Map(), states: [] };
      (function(t35, e11) {
        let r11 = e11.length;
        for (let i10 = 0; i10 < r11; i10++) {
          let r12 = e11[i10], n10 = Rl(t35, r12, void 0, { type: 2 }), a10 = Rl(t35, r12, void 0, { type: 7 });
          n10.stop = a10, t35.ruleToStartState.set(r12, n10), t35.ruleToStopState.set(r12, a10);
        }
      })(e10, t34);
      let r10 = t34.length;
      for (let i10 = 0; i10 < r10; i10++) {
        let r11 = t34[i10], n10 = function t35(e11, r12, i11) {
          let n11 = th(tf(i11.definition, (i12) => function e12(r13, i13, n12) {
            if (n12 instanceof Ir) return Ro(r13, i13, n12.terminalType, n12);
            if (n12 instanceof N4) return function(t36, e13, r14) {
              let i14 = r14.referencedRule, n13 = t36.ruleToStartState.get(i14), a10 = Rl(t36, e13, r14, { type: 1 }), o10 = Rl(t36, e13, r14, { type: 1 });
              return Rh(a10, new Re(n13, i14, o10)), { left: a10, right: o10 };
            }(r13, i13, n12);
            if (n12 instanceof Ie) return function(t36, r14, i14) {
              let n13 = Rl(t36, r14, i14, { type: 1 });
              Rn(t36, n13);
              let a10 = tf(i14.definition, (i15) => e12(t36, r14, i15));
              return Ra(t36, r14, n13, i14, ...a10);
            }(r13, i13, n12);
            if (n12 instanceof N6) return function(e13, r14, i14) {
              let n13 = Rl(e13, r14, i14, { type: 1 });
              Rn(e13, n13);
              let a10 = Ra(e13, r14, n13, i14, t35(e13, r14, i14));
              return function(t36, e14, r15, i15) {
                let n14 = i15.left;
                return Rs(n14, i15.right), t36.decisionMap[M7(e14, "Option", r15.idx)] = n14, i15;
              }(e13, r14, i14, a10);
            }(r13, i13, n12);
            if (n12 instanceof N9) return function(e13, r14, i14) {
              let n13 = Rl(e13, r14, i14, { type: 5 });
              Rn(e13, n13);
              let a10 = Ra(e13, r14, n13, i14, t35(e13, r14, i14));
              return Ri(e13, r14, i14, a10);
            }(r13, i13, n12);
            if (n12 instanceof It) return function(e13, r14, i14) {
              let n13 = Rl(e13, r14, i14, { type: 5 });
              Rn(e13, n13);
              let a10 = Ra(e13, r14, n13, i14, t35(e13, r14, i14)), o10 = Ro(e13, r14, i14.separator, i14);
              return Ri(e13, r14, i14, a10, o10);
            }(r13, i13, n12);
            if (n12 instanceof N7) return function(e13, r14, i14) {
              let n13 = Rl(e13, r14, i14, { type: 4 });
              Rn(e13, n13);
              let a10 = Ra(e13, r14, n13, i14, t35(e13, r14, i14));
              return Rr(e13, r14, i14, a10);
            }(r13, i13, n12);
            else if (n12 instanceof N8) return function(e13, r14, i14) {
              let n13 = Rl(e13, r14, i14, { type: 4 });
              Rn(e13, n13);
              let a10 = Ra(e13, r14, n13, i14, t35(e13, r14, i14)), o10 = Ro(e13, r14, i14.separator, i14);
              return Rr(e13, r14, i14, a10, o10);
            }(r13, i13, n12);
            else return t35(r13, i13, n12);
          }(e11, r12, i12)), (t36) => void 0 !== t36);
          return 1 === n11.length ? n11[0] : 0 === n11.length ? void 0 : function(t36, e12) {
            let r13 = e12.length;
            for (let i13 = 0; i13 < r13 - 1; i13++) {
              let r14;
              let n13 = e12[i13];
              1 === n13.left.transitions.length && (r14 = n13.left.transitions[0]);
              let a10 = r14 instanceof Re, o10 = r14, s10 = e12[i13 + 1].left;
              1 === n13.left.type && 1 === n13.right.type && void 0 !== r14 && (a10 && o10.followState === n13.right || r14.target === n13.right) ? (a10 ? o10.followState = s10 : r14.target = s10, function(t37, e13) {
                t37.states.splice(t37.states.indexOf(e13), 1);
              }(t36, n13.right)) : Rs(n13.right, s10);
            }
            let i12 = e12[0], n12 = e12[r13 - 1];
            return { left: i12.left, right: n12.right };
          }(e11, n11);
        }(e10, r11, r11);
        void 0 !== n10 && function(t35, e11, r12) {
          Rs(t35.ruleToStartState.get(e11), r12.left);
          let i11 = t35.ruleToStopState.get(e11);
          Rs(r12.right, i11);
        }(e10, r11, n10);
      }
      return e10;
    }(t33.rules), this.dfas = function(t34) {
      let e10 = t34.decisionStates.length, r10 = Array(e10);
      for (let i10 = 0; i10 < e10; i10++) r10[i10] = /* @__PURE__ */ function(t35, e11) {
        let r11 = {};
        return (i11) => {
          let n10 = i11.toString(), a10 = r11[n10];
          return void 0 !== a10 || (a10 = { atnStartState: t35, decision: e11, states: {} }, r11[n10] = a10), a10;
        };
      }(t34.decisionStates[i10], i10);
      return r10;
    }(this.atn);
  }
  validateAmbiguousAlternationAlternatives() {
    return [];
  }
  validateEmptyOrAlternatives() {
    return [];
  }
  buildLookaheadForAlternation(t33) {
    let { prodOccurrence: e10, rule: r10, hasPredicates: i10, dynamicTokensEnabled: n10 } = t33, a10 = this.dfas, o10 = this.logging, s10 = M7(r10, "Alternation", e10), l10 = this.atn.decisionMap[s10].decision, h10 = tf(Mh({ maxLookahead: 1, occurrence: e10, prodType: "Alternation", rule: r10 }), (t34) => tf(t34, (t35) => t35[0]));
    if (Rm(h10, false) && !n10) {
      let t34 = tp(h10, (t35, e11, r11) => (tc(e11, (e12) => {
        e12 && (t35[e12.tokenTypeIdx] = r11, tc(e12.categoryMatches, (e13) => {
          t35[e13] = r11;
        }));
      }), t35), {});
      return i10 ? function(e11) {
        var r11;
        let i11 = t34[this.LA(1).tokenTypeIdx];
        if (void 0 !== e11 && void 0 !== i11) {
          let t35 = null === (r11 = e11[i11]) || void 0 === r11 ? void 0 : r11.GATE;
          if (void 0 !== t35 && false === t35.call(this)) return;
        }
        return i11;
      } : function() {
        return t34[this.LA(1).tokenTypeIdx];
      };
    }
    return i10 ? function(t34) {
      let e11 = new Rp(), r11 = void 0 === t34 ? 0 : t34.length;
      for (let i12 = 0; i12 < r11; i12++) {
        let r12 = null == t34 ? void 0 : t34[i12].GATE;
        e11.set(i12, void 0 === r12 || r12.call(this));
      }
      let i11 = Ry.call(this, a10, l10, e11, o10);
      return "number" == typeof i11 ? i11 : void 0;
    } : function() {
      let t34 = Ry.call(this, a10, l10, Rg, o10);
      return "number" == typeof t34 ? t34 : void 0;
    };
  }
  buildLookaheadForOptional(t33) {
    let { prodOccurrence: e10, rule: r10, prodType: i10, dynamicTokensEnabled: n10 } = t33, a10 = this.dfas, o10 = this.logging, s10 = M7(r10, i10, e10), l10 = this.atn.decisionMap[s10].decision, h10 = tf(Mh({ maxLookahead: 1, occurrence: e10, prodType: i10, rule: r10 }), (t34) => tf(t34, (t35) => t35[0]));
    if (Rm(h10) && h10[0][0] && !n10) {
      let t34 = tg(h10[0]);
      if (1 === t34.length && ta(t34[0].categoryMatches)) {
        let e11 = t34[0].tokenTypeIdx;
        return function() {
          return this.LA(1).tokenTypeIdx === e11;
        };
      }
      {
        let e11 = tp(t34, (t35, e12) => (void 0 !== e12 && (t35[e12.tokenTypeIdx] = true, tc(e12.categoryMatches, (e13) => {
          t35[e13] = true;
        })), t35), {});
        return function() {
          return true === e11[this.LA(1).tokenTypeIdx];
        };
      }
    }
    return function() {
      let t34 = Ry.call(this, a10, l10, Rg, o10);
      return "object" != typeof t34 && 0 === t34;
    };
  }
}
function Rm(t33) {
  let e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = /* @__PURE__ */ new Set();
  for (let i10 of t33) {
    let t34 = /* @__PURE__ */ new Set();
    for (let n10 of i10) {
      if (void 0 === n10) {
        if (!e10) return false;
        break;
      }
      for (let e11 of [n10.tokenTypeIdx].concat(n10.categoryMatches)) if (r10.has(e11)) {
        if (!t34.has(e11)) return false;
      } else r10.add(e11), t34.add(e11);
    }
  }
  return true;
}
function Ry(t33, e10, r10, i10) {
  let n10 = t33[e10](r10), a10 = n10.start;
  if (void 0 === a10) {
    let t34 = function(t35) {
      let e11 = new Ru(), r11 = t35.transitions.length;
      for (let i11 = 0; i11 < r11; i11++) RT({ state: t35.transitions[i11].target, alt: i11, stack: [] }, e11);
      return e11;
    }(n10.atnStartState);
    a10 = R_(n10, Rw(t34)), n10.start = a10;
  }
  return Rv.apply(this, [n10, a10, r10, i10]);
}
function Rv(t33, e10, r10, i10) {
  let n10 = e10, a10 = 1, o10 = [], s10 = this.LA(a10++);
  for (; ; ) {
    var l10, h10;
    let e11 = (l10 = n10, h10 = s10, l10.edges[h10.tokenTypeIdx]);
    if (void 0 === e11 && (e11 = Rx.apply(this, [t33, n10, s10, a10, r10, i10])), e11 === Rc) return { actualToken: s10, possibleTokenTypes: tK(tV(n10.configs.elements, (t34) => t34.state.transitions).filter((t34) => t34 instanceof M9).map((t34) => t34.tokenType), (t34) => t34.tokenTypeIdx), tokenPath: o10 };
    if (true === e11.isAcceptState) return e11.prediction;
    n10 = e11, o10.push(s10), s10 = this.LA(a10++);
  }
}
function Rx(t33, e10, r10, i10, n10, a10) {
  let o10 = function(t34, e11, r11) {
    let i11;
    let n11 = new Ru(), a11 = [];
    for (let i12 of t34.elements) {
      if (false === r11.is(i12.alt)) continue;
      if (7 === i12.state.type) {
        a11.push(i12);
        continue;
      }
      let t35 = i12.state.transitions.length;
      for (let r12 = 0; r12 < t35; r12++) {
        let t36 = function(t37, e12) {
          if (t37 instanceof M9 && IP(e12, t37.tokenType)) return t37.target;
        }(i12.state.transitions[r12], e11);
        void 0 !== t36 && n11.add({ state: t36, alt: i12.alt, stack: i12.stack });
      }
    }
    if (0 === a11.length && 1 === n11.size && (i11 = n11), void 0 === i11) for (let t35 of (i11 = new Ru(), n11.elements)) RT(t35, i11);
    if (a11.length > 0 && !function(t35) {
      for (let e12 of t35.elements) if (7 === e12.state.type) return true;
      return false;
    }(i11)) for (let t35 of a11) i11.add(t35);
    return i11;
  }(e10.configs, r10, n10);
  if (0 === o10.size) return Rk(t33, e10, r10, Rc), Rc;
  let s10 = Rw(o10), l10 = function(t34, e11) {
    let r11;
    for (let i11 of t34.elements) if (true === e11.is(i11.alt)) {
      if (void 0 === r11) r11 = i11.alt;
      else if (r11 !== i11.alt) return;
    }
    return r11;
  }(o10, n10);
  if (void 0 !== l10) s10.isAcceptState = true, s10.prediction = l10, s10.configs.uniqueAlt = l10;
  else if (function(t34) {
    if (function(t35) {
      for (let e12 of t35.elements) if (7 !== e12.state.type) return false;
      return true;
    }(t34)) return true;
    let e11 = function(t35) {
      let e12 = /* @__PURE__ */ new Map();
      for (let r11 of t35) {
        let t36 = Rd(r11, false), i11 = e12.get(t36);
        void 0 === i11 && (i11 = {}, e12.set(t36, i11)), i11[r11.alt] = true;
      }
      return e12;
    }(t34.elements);
    return function(t35) {
      for (let e12 of Array.from(t35.values())) if (Object.keys(e12).length > 1) return true;
      return false;
    }(e11) && !function(t35) {
      for (let e12 of Array.from(t35.values())) if (1 === Object.keys(e12).length) return true;
      return false;
    }(e11);
  }(o10)) {
    let e11 = tv(o10.alts);
    s10.isAcceptState = true, s10.prediction = e11, s10.configs.uniqueAlt = e11, Rb.apply(this, [t33, i10, o10.alts, a10]);
  }
  return Rk(t33, e10, r10, s10);
}
function Rb(t33, e10, r10, i10) {
  let n10 = [];
  for (let t34 = 1; t34 <= e10; t34++) n10.push(this.LA(t34).tokenType);
  let a10 = t33.atnStartState;
  i10(function(t34) {
    let e11 = tf(t34.prefixPath, (t35) => Ij(t35)).join(", "), r11 = 0 === t34.production.idx ? "" : t34.production.idx;
    return `Ambiguous Alternatives Detected: <${t34.ambiguityIndices.join(", ")}> in <${function(t35) {
      if (t35 instanceof N4) return "SUBRULE";
      if (t35 instanceof N6) return "OPTION";
      if (t35 instanceof Ie) return "OR";
      if (t35 instanceof N7) return "AT_LEAST_ONE";
      if (t35 instanceof N8) return "AT_LEAST_ONE_SEP";
      if (t35 instanceof It) return "MANY_SEP";
      if (t35 instanceof N9) return "MANY";
      else if (t35 instanceof Ir) return "CONSUME";
      else throw Error("non exhaustive match");
    }(t34.production)}${r11}> inside <${t34.topLevelRule.name}> Rule,
<${e11}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`;
  }({ topLevelRule: a10.rule, ambiguityIndices: r10, production: a10.production, prefixPath: n10 }));
}
function Rw(t33) {
  return { configs: t33, edges: {}, isAcceptState: false, prediction: -1 };
}
function Rk(t33, e10, r10, i10) {
  return i10 = R_(t33, i10), e10.edges[r10.tokenTypeIdx] = i10, i10;
}
function R_(t33, e10) {
  if (e10 === Rc) return e10;
  let r10 = e10.configs.key, i10 = t33.states[r10];
  return void 0 !== i10 ? i10 : (e10.configs.finalize(), t33.states[r10] = e10, e10);
}
function RT(t33, e10) {
  let r10 = t33.state;
  if (7 === r10.type) {
    if (t33.stack.length > 0) {
      let r11 = [...t33.stack];
      RT({ state: r11.pop(), alt: t33.alt, stack: r11 }, e10);
    } else e10.add(t33);
    return;
  }
  r10.epsilonOnlyTransitions || e10.add(t33);
  let i10 = r10.transitions.length;
  for (let n10 = 0; n10 < i10; n10++) {
    let i11 = function(t34, e11) {
      if (e11 instanceof Rt) return { state: e11.target, alt: t34.alt, stack: t34.stack };
      if (e11 instanceof Re) {
        let r11 = [...t34.stack, e11.followState];
        return { state: e11.target, alt: t34.alt, stack: r11 };
      }
    }(t33, r10.transitions[n10]);
    void 0 !== i11 && RT(i11, e10);
  }
}
(JU || (JU = {})).is = function(t33) {
  return "string" == typeof t33;
}, (JG || (JG = {})).is = function(t33) {
  return "string" == typeof t33;
}, (Q_ = Jq || (Jq = {})).MIN_VALUE = -2147483648, Q_.MAX_VALUE = 2147483647, Q_.is = function(t33) {
  return "number" == typeof t33 && Q_.MIN_VALUE <= t33 && t33 <= Q_.MAX_VALUE;
}, (QT = JY || (JY = {})).MIN_VALUE = 0, QT.MAX_VALUE = 2147483647, QT.is = function(t33) {
  return "number" == typeof t33 && QT.MIN_VALUE <= t33 && t33 <= QT.MAX_VALUE;
}, (QE = JH || (JH = {})).create = function(t33, e10) {
  return t33 === Number.MAX_VALUE && (t33 = JY.MAX_VALUE), e10 === Number.MAX_VALUE && (e10 = JY.MAX_VALUE), { line: t33, character: e10 };
}, QE.is = function(t33) {
  return tt2.objectLiteral(t33) && tt2.uinteger(t33.line) && tt2.uinteger(t33.character);
}, (QC = Jj || (Jj = {})).create = function(t33, e10, r10, i10) {
  if (tt2.uinteger(t33) && tt2.uinteger(e10) && tt2.uinteger(r10) && tt2.uinteger(i10)) return { start: JH.create(t33, e10), end: JH.create(r10, i10) };
  if (JH.is(t33) && JH.is(e10)) return { start: t33, end: e10 };
  throw Error(`Range#create called with invalid arguments[${t33}, ${e10}, ${r10}, ${i10}]`);
}, QC.is = function(t33) {
  return tt2.objectLiteral(t33) && JH.is(t33.start) && JH.is(t33.end);
}, (QS = JW || (JW = {})).create = function(t33, e10) {
  return { uri: t33, range: e10 };
}, QS.is = function(t33) {
  return tt2.objectLiteral(t33) && Jj.is(t33.range) && (tt2.string(t33.uri) || tt2.undefined(t33.uri));
}, (QA = JV || (JV = {})).create = function(t33, e10, r10, i10) {
  return { targetUri: t33, targetRange: e10, targetSelectionRange: r10, originSelectionRange: i10 };
}, QA.is = function(t33) {
  return tt2.objectLiteral(t33) && Jj.is(t33.targetRange) && tt2.string(t33.targetUri) && Jj.is(t33.targetSelectionRange) && (Jj.is(t33.originSelectionRange) || tt2.undefined(t33.originSelectionRange));
}, (QL = JX || (JX = {})).create = function(t33, e10, r10, i10) {
  return { red: t33, green: e10, blue: r10, alpha: i10 };
}, QL.is = function(t33) {
  return tt2.objectLiteral(t33) && tt2.numberRange(t33.red, 0, 1) && tt2.numberRange(t33.green, 0, 1) && tt2.numberRange(t33.blue, 0, 1) && tt2.numberRange(t33.alpha, 0, 1);
}, (QN = JK || (JK = {})).create = function(t33, e10) {
  return { range: t33, color: e10 };
}, QN.is = function(t33) {
  return tt2.objectLiteral(t33) && Jj.is(t33.range) && JX.is(t33.color);
}, (QI = JZ || (JZ = {})).create = function(t33, e10, r10) {
  return { label: t33, textEdit: e10, additionalTextEdits: r10 };
}, QI.is = function(t33) {
  return tt2.objectLiteral(t33) && tt2.string(t33.label) && (tt2.undefined(t33.textEdit) || J6.is(t33)) && (tt2.undefined(t33.additionalTextEdits) || tt2.typedArray(t33.additionalTextEdits, J6.is));
}, (QM = JQ || (JQ = {})).Comment = "comment", QM.Imports = "imports", QM.Region = "region", (QR = JJ || (JJ = {})).create = function(t33, e10, r10, i10, n10, a10) {
  let o10 = { startLine: t33, endLine: e10 };
  return tt2.defined(r10) && (o10.startCharacter = r10), tt2.defined(i10) && (o10.endCharacter = i10), tt2.defined(n10) && (o10.kind = n10), tt2.defined(a10) && (o10.collapsedText = a10), o10;
}, QR.is = function(t33) {
  return tt2.objectLiteral(t33) && tt2.uinteger(t33.startLine) && tt2.uinteger(t33.startLine) && (tt2.undefined(t33.startCharacter) || tt2.uinteger(t33.startCharacter)) && (tt2.undefined(t33.endCharacter) || tt2.uinteger(t33.endCharacter)) && (tt2.undefined(t33.kind) || tt2.string(t33.kind));
}, (QD = J0 || (J0 = {})).create = function(t33, e10) {
  return { location: t33, message: e10 };
}, QD.is = function(t33) {
  return tt2.defined(t33) && JW.is(t33.location) && tt2.string(t33.message);
}, (QO = J1 || (J1 = {})).Error = 1, QO.Warning = 2, QO.Information = 3, QO.Hint = 4, (QP = J2 || (J2 = {})).Unnecessary = 1, QP.Deprecated = 2, (J4 || (J4 = {})).is = function(t33) {
  return tt2.objectLiteral(t33) && tt2.string(t33.href);
}, (Q$ = J5 || (J5 = {})).create = function(t33, e10, r10, i10, n10, a10) {
  let o10 = { range: t33, message: e10 };
  return tt2.defined(r10) && (o10.severity = r10), tt2.defined(i10) && (o10.code = i10), tt2.defined(n10) && (o10.source = n10), tt2.defined(a10) && (o10.relatedInformation = a10), o10;
}, Q$.is = function(t33) {
  var e10;
  return tt2.defined(t33) && Jj.is(t33.range) && tt2.string(t33.message) && (tt2.number(t33.severity) || tt2.undefined(t33.severity)) && (tt2.integer(t33.code) || tt2.string(t33.code) || tt2.undefined(t33.code)) && (tt2.undefined(t33.codeDescription) || tt2.string(null === (e10 = t33.codeDescription) || void 0 === e10 ? void 0 : e10.href)) && (tt2.string(t33.source) || tt2.undefined(t33.source)) && (tt2.undefined(t33.relatedInformation) || tt2.typedArray(t33.relatedInformation, J0.is));
}, (QB = J3 || (J3 = {})).create = function(t33, e10) {
  for (var r10 = arguments.length, i10 = Array(r10 > 2 ? r10 - 2 : 0), n10 = 2; n10 < r10; n10++) i10[n10 - 2] = arguments[n10];
  let a10 = { title: t33, command: e10 };
  return tt2.defined(i10) && i10.length > 0 && (a10.arguments = i10), a10;
}, QB.is = function(t33) {
  return tt2.defined(t33) && tt2.string(t33.title) && tt2.string(t33.command);
}, (QF = J6 || (J6 = {})).replace = function(t33, e10) {
  return { range: t33, newText: e10 };
}, QF.insert = function(t33, e10) {
  return { range: { start: t33, end: t33 }, newText: e10 };
}, QF.del = function(t33) {
  return { range: t33, newText: "" };
}, QF.is = function(t33) {
  return tt2.objectLiteral(t33) && tt2.string(t33.newText) && Jj.is(t33.range);
}, (Qz = J7 || (J7 = {})).create = function(t33, e10, r10) {
  let i10 = { label: t33 };
  return void 0 !== e10 && (i10.needsConfirmation = e10), void 0 !== r10 && (i10.description = r10), i10;
}, Qz.is = function(t33) {
  return tt2.objectLiteral(t33) && tt2.string(t33.label) && (tt2.boolean(t33.needsConfirmation) || void 0 === t33.needsConfirmation) && (tt2.string(t33.description) || void 0 === t33.description);
}, (J8 || (J8 = {})).is = function(t33) {
  return tt2.string(t33);
}, (QU = J9 || (J9 = {})).replace = function(t33, e10, r10) {
  return { range: t33, newText: e10, annotationId: r10 };
}, QU.insert = function(t33, e10, r10) {
  return { range: { start: t33, end: t33 }, newText: e10, annotationId: r10 };
}, QU.del = function(t33, e10) {
  return { range: t33, newText: "", annotationId: e10 };
}, QU.is = function(t33) {
  return J6.is(t33) && (J7.is(t33.annotationId) || J8.is(t33.annotationId));
}, (QG = ttt || (ttt = {})).create = function(t33, e10) {
  return { textDocument: t33, edits: e10 };
}, QG.is = function(t33) {
  return tt2.defined(t33) && tts.is(t33.textDocument) && Array.isArray(t33.edits);
}, (Qq = tte || (tte = {})).create = function(t33, e10, r10) {
  let i10 = { kind: "create", uri: t33 };
  return void 0 !== e10 && (void 0 !== e10.overwrite || void 0 !== e10.ignoreIfExists) && (i10.options = e10), void 0 !== r10 && (i10.annotationId = r10), i10;
}, Qq.is = function(t33) {
  return t33 && "create" === t33.kind && tt2.string(t33.uri) && (void 0 === t33.options || (void 0 === t33.options.overwrite || tt2.boolean(t33.options.overwrite)) && (void 0 === t33.options.ignoreIfExists || tt2.boolean(t33.options.ignoreIfExists))) && (void 0 === t33.annotationId || J8.is(t33.annotationId));
}, (QY = ttr || (ttr = {})).create = function(t33, e10, r10, i10) {
  let n10 = { kind: "rename", oldUri: t33, newUri: e10 };
  return void 0 !== r10 && (void 0 !== r10.overwrite || void 0 !== r10.ignoreIfExists) && (n10.options = r10), void 0 !== i10 && (n10.annotationId = i10), n10;
}, QY.is = function(t33) {
  return t33 && "rename" === t33.kind && tt2.string(t33.oldUri) && tt2.string(t33.newUri) && (void 0 === t33.options || (void 0 === t33.options.overwrite || tt2.boolean(t33.options.overwrite)) && (void 0 === t33.options.ignoreIfExists || tt2.boolean(t33.options.ignoreIfExists))) && (void 0 === t33.annotationId || J8.is(t33.annotationId));
}, (QH = tti || (tti = {})).create = function(t33, e10, r10) {
  let i10 = { kind: "delete", uri: t33 };
  return void 0 !== e10 && (void 0 !== e10.recursive || void 0 !== e10.ignoreIfNotExists) && (i10.options = e10), void 0 !== r10 && (i10.annotationId = r10), i10;
}, QH.is = function(t33) {
  return t33 && "delete" === t33.kind && tt2.string(t33.uri) && (void 0 === t33.options || (void 0 === t33.options.recursive || tt2.boolean(t33.options.recursive)) && (void 0 === t33.options.ignoreIfNotExists || tt2.boolean(t33.options.ignoreIfNotExists))) && (void 0 === t33.annotationId || J8.is(t33.annotationId));
}, (ttn || (ttn = {})).is = function(t33) {
  return t33 && (void 0 !== t33.changes || void 0 !== t33.documentChanges) && (void 0 === t33.documentChanges || t33.documentChanges.every((t34) => tt2.string(t34.kind) ? tte.is(t34) || ttr.is(t34) || tti.is(t34) : ttt.is(t34)));
}, (Qj = tta || (tta = {})).create = function(t33) {
  return { uri: t33 };
}, Qj.is = function(t33) {
  return tt2.defined(t33) && tt2.string(t33.uri);
}, (QW = tto || (tto = {})).create = function(t33, e10) {
  return { uri: t33, version: e10 };
}, QW.is = function(t33) {
  return tt2.defined(t33) && tt2.string(t33.uri) && tt2.integer(t33.version);
}, (QV = tts || (tts = {})).create = function(t33, e10) {
  return { uri: t33, version: e10 };
}, QV.is = function(t33) {
  return tt2.defined(t33) && tt2.string(t33.uri) && (null === t33.version || tt2.integer(t33.version));
}, (QX = ttl || (ttl = {})).create = function(t33, e10, r10, i10) {
  return { uri: t33, languageId: e10, version: r10, text: i10 };
}, QX.is = function(t33) {
  return tt2.defined(t33) && tt2.string(t33.uri) && tt2.string(t33.languageId) && tt2.integer(t33.version) && tt2.string(t33.text);
}, (QK = tth || (tth = {})).PlainText = "plaintext", QK.Markdown = "markdown", QK.is = function(t33) {
  return t33 === QK.PlainText || t33 === QK.Markdown;
}, (ttc || (ttc = {})).is = function(t33) {
  return tt2.objectLiteral(t33) && tth.is(t33.kind) && tt2.string(t33.value);
}, (QZ = ttu || (ttu = {})).Text = 1, QZ.Method = 2, QZ.Function = 3, QZ.Constructor = 4, QZ.Field = 5, QZ.Variable = 6, QZ.Class = 7, QZ.Interface = 8, QZ.Module = 9, QZ.Property = 10, QZ.Unit = 11, QZ.Value = 12, QZ.Enum = 13, QZ.Keyword = 14, QZ.Snippet = 15, QZ.Color = 16, QZ.File = 17, QZ.Reference = 18, QZ.Folder = 19, QZ.EnumMember = 20, QZ.Constant = 21, QZ.Struct = 22, QZ.Event = 23, QZ.Operator = 24, QZ.TypeParameter = 25, (QQ = ttd || (ttd = {})).PlainText = 1, QQ.Snippet = 2, (ttp || (ttp = {})).Deprecated = 1, (QJ = ttg || (ttg = {})).create = function(t33, e10, r10) {
  return { newText: t33, insert: e10, replace: r10 };
}, QJ.is = function(t33) {
  return t33 && tt2.string(t33.newText) && Jj.is(t33.insert) && Jj.is(t33.replace);
}, (Q0 = ttf || (ttf = {})).asIs = 1, Q0.adjustIndentation = 2, (ttm || (ttm = {})).is = function(t33) {
  return t33 && (tt2.string(t33.detail) || void 0 === t33.detail) && (tt2.string(t33.description) || void 0 === t33.description);
}, (tty || (tty = {})).create = function(t33) {
  return { label: t33 };
}, (ttv || (ttv = {})).create = function(t33, e10) {
  return { items: t33 || [], isIncomplete: !!e10 };
}, (Q1 = ttx || (ttx = {})).fromPlainText = function(t33) {
  return t33.replace(/[\\`*_{}[\]()#+\-.!]/g, "\\$&");
}, Q1.is = function(t33) {
  return tt2.string(t33) || tt2.objectLiteral(t33) && tt2.string(t33.language) && tt2.string(t33.value);
}, (ttb || (ttb = {})).is = function(t33) {
  return !!t33 && tt2.objectLiteral(t33) && (ttc.is(t33.contents) || ttx.is(t33.contents) || tt2.typedArray(t33.contents, ttx.is)) && (void 0 === t33.range || Jj.is(t33.range));
}, (ttw || (ttw = {})).create = function(t33, e10) {
  return e10 ? { label: t33, documentation: e10 } : { label: t33 };
}, (ttk || (ttk = {})).create = function(t33, e10) {
  for (var r10 = arguments.length, i10 = Array(r10 > 2 ? r10 - 2 : 0), n10 = 2; n10 < r10; n10++) i10[n10 - 2] = arguments[n10];
  let a10 = { label: t33 };
  return tt2.defined(e10) && (a10.documentation = e10), tt2.defined(i10) ? a10.parameters = i10 : a10.parameters = [], a10;
}, (Q2 = tt_ || (tt_ = {})).Text = 1, Q2.Read = 2, Q2.Write = 3, (ttT || (ttT = {})).create = function(t33, e10) {
  let r10 = { range: t33 };
  return tt2.number(e10) && (r10.kind = e10), r10;
}, (Q4 = ttE || (ttE = {})).File = 1, Q4.Module = 2, Q4.Namespace = 3, Q4.Package = 4, Q4.Class = 5, Q4.Method = 6, Q4.Property = 7, Q4.Field = 8, Q4.Constructor = 9, Q4.Enum = 10, Q4.Interface = 11, Q4.Function = 12, Q4.Variable = 13, Q4.Constant = 14, Q4.String = 15, Q4.Number = 16, Q4.Boolean = 17, Q4.Array = 18, Q4.Object = 19, Q4.Key = 20, Q4.Null = 21, Q4.EnumMember = 22, Q4.Struct = 23, Q4.Event = 24, Q4.Operator = 25, Q4.TypeParameter = 26, (ttC || (ttC = {})).Deprecated = 1, (ttS || (ttS = {})).create = function(t33, e10, r10, i10, n10) {
  let a10 = { name: t33, kind: e10, location: { uri: i10, range: r10 } };
  return n10 && (a10.containerName = n10), a10;
}, (ttA || (ttA = {})).create = function(t33, e10, r10, i10) {
  return void 0 !== i10 ? { name: t33, kind: e10, location: { uri: r10, range: i10 } } : { name: t33, kind: e10, location: { uri: r10 } };
}, (Q5 = ttL || (ttL = {})).create = function(t33, e10, r10, i10, n10, a10) {
  let o10 = { name: t33, detail: e10, kind: r10, range: i10, selectionRange: n10 };
  return void 0 !== a10 && (o10.children = a10), o10;
}, Q5.is = function(t33) {
  return t33 && tt2.string(t33.name) && tt2.number(t33.kind) && Jj.is(t33.range) && Jj.is(t33.selectionRange) && (void 0 === t33.detail || tt2.string(t33.detail)) && (void 0 === t33.deprecated || tt2.boolean(t33.deprecated)) && (void 0 === t33.children || Array.isArray(t33.children)) && (void 0 === t33.tags || Array.isArray(t33.tags));
}, (Q3 = ttN || (ttN = {})).Empty = "", Q3.QuickFix = "quickfix", Q3.Refactor = "refactor", Q3.RefactorExtract = "refactor.extract", Q3.RefactorInline = "refactor.inline", Q3.RefactorRewrite = "refactor.rewrite", Q3.Source = "source", Q3.SourceOrganizeImports = "source.organizeImports", Q3.SourceFixAll = "source.fixAll", (Q6 = ttI || (ttI = {})).Invoked = 1, Q6.Automatic = 2, (Q7 = ttM || (ttM = {})).create = function(t33, e10, r10) {
  let i10 = { diagnostics: t33 };
  return null != e10 && (i10.only = e10), null != r10 && (i10.triggerKind = r10), i10;
}, Q7.is = function(t33) {
  return tt2.defined(t33) && tt2.typedArray(t33.diagnostics, J5.is) && (void 0 === t33.only || tt2.typedArray(t33.only, tt2.string)) && (void 0 === t33.triggerKind || t33.triggerKind === ttI.Invoked || t33.triggerKind === ttI.Automatic);
}, (Q8 = ttR || (ttR = {})).create = function(t33, e10, r10) {
  let i10 = { title: t33 }, n10 = true;
  return "string" == typeof e10 ? (n10 = false, i10.kind = e10) : J3.is(e10) ? i10.command = e10 : i10.edit = e10, n10 && void 0 !== r10 && (i10.kind = r10), i10;
}, Q8.is = function(t33) {
  return t33 && tt2.string(t33.title) && (void 0 === t33.diagnostics || tt2.typedArray(t33.diagnostics, J5.is)) && (void 0 === t33.kind || tt2.string(t33.kind)) && (void 0 !== t33.edit || void 0 !== t33.command) && (void 0 === t33.command || J3.is(t33.command)) && (void 0 === t33.isPreferred || tt2.boolean(t33.isPreferred)) && (void 0 === t33.edit || ttn.is(t33.edit));
}, (Q9 = ttD || (ttD = {})).create = function(t33, e10) {
  let r10 = { range: t33 };
  return tt2.defined(e10) && (r10.data = e10), r10;
}, Q9.is = function(t33) {
  return tt2.defined(t33) && Jj.is(t33.range) && (tt2.undefined(t33.command) || J3.is(t33.command));
}, (Jt = ttO || (ttO = {})).create = function(t33, e10) {
  return { tabSize: t33, insertSpaces: e10 };
}, Jt.is = function(t33) {
  return tt2.defined(t33) && tt2.uinteger(t33.tabSize) && tt2.boolean(t33.insertSpaces);
}, (Je = ttP || (ttP = {})).create = function(t33, e10, r10) {
  return { range: t33, target: e10, data: r10 };
}, Je.is = function(t33) {
  return tt2.defined(t33) && Jj.is(t33.range) && (tt2.undefined(t33.target) || tt2.string(t33.target));
}, (Jr = tt$ || (tt$ = {})).create = function(t33, e10) {
  return { range: t33, parent: e10 };
}, Jr.is = function(t33) {
  return tt2.objectLiteral(t33) && Jj.is(t33.range) && (void 0 === t33.parent || Jr.is(t33.parent));
}, (Ji = ttB || (ttB = {})).namespace = "namespace", Ji.type = "type", Ji.class = "class", Ji.enum = "enum", Ji.interface = "interface", Ji.struct = "struct", Ji.typeParameter = "typeParameter", Ji.parameter = "parameter", Ji.variable = "variable", Ji.property = "property", Ji.enumMember = "enumMember", Ji.event = "event", Ji.function = "function", Ji.method = "method", Ji.macro = "macro", Ji.keyword = "keyword", Ji.modifier = "modifier", Ji.comment = "comment", Ji.string = "string", Ji.number = "number", Ji.regexp = "regexp", Ji.operator = "operator", Ji.decorator = "decorator", (Jn = ttF || (ttF = {})).declaration = "declaration", Jn.definition = "definition", Jn.readonly = "readonly", Jn.static = "static", Jn.deprecated = "deprecated", Jn.abstract = "abstract", Jn.async = "async", Jn.modification = "modification", Jn.documentation = "documentation", Jn.defaultLibrary = "defaultLibrary", (ttz || (ttz = {})).is = function(t33) {
  return tt2.objectLiteral(t33) && (void 0 === t33.resultId || "string" == typeof t33.resultId) && Array.isArray(t33.data) && (0 === t33.data.length || "number" == typeof t33.data[0]);
}, (Ja = ttU || (ttU = {})).create = function(t33, e10) {
  return { range: t33, text: e10 };
}, Ja.is = function(t33) {
  return null != t33 && Jj.is(t33.range) && tt2.string(t33.text);
}, (Jo = ttG || (ttG = {})).create = function(t33, e10, r10) {
  return { range: t33, variableName: e10, caseSensitiveLookup: r10 };
}, Jo.is = function(t33) {
  return null != t33 && Jj.is(t33.range) && tt2.boolean(t33.caseSensitiveLookup) && (tt2.string(t33.variableName) || void 0 === t33.variableName);
}, (Js = ttq || (ttq = {})).create = function(t33, e10) {
  return { range: t33, expression: e10 };
}, Js.is = function(t33) {
  return null != t33 && Jj.is(t33.range) && (tt2.string(t33.expression) || void 0 === t33.expression);
}, (Jl = ttY || (ttY = {})).create = function(t33, e10) {
  return { frameId: t33, stoppedLocation: e10 };
}, Jl.is = function(t33) {
  return tt2.defined(t33) && Jj.is(t33.stoppedLocation);
}, (Jh = ttH || (ttH = {})).Type = 1, Jh.Parameter = 2, Jh.is = function(t33) {
  return 1 === t33 || 2 === t33;
}, (Jc = ttj || (ttj = {})).create = function(t33) {
  return { value: t33 };
}, Jc.is = function(t33) {
  return tt2.objectLiteral(t33) && (void 0 === t33.tooltip || tt2.string(t33.tooltip) || ttc.is(t33.tooltip)) && (void 0 === t33.location || JW.is(t33.location)) && (void 0 === t33.command || J3.is(t33.command));
}, (Ju = ttW || (ttW = {})).create = function(t33, e10, r10) {
  let i10 = { position: t33, label: e10 };
  return void 0 !== r10 && (i10.kind = r10), i10;
}, Ju.is = function(t33) {
  return tt2.objectLiteral(t33) && JH.is(t33.position) && (tt2.string(t33.label) || tt2.typedArray(t33.label, ttj.is)) && (void 0 === t33.kind || ttH.is(t33.kind)) && void 0 === t33.textEdits || tt2.typedArray(t33.textEdits, J6.is) && (void 0 === t33.tooltip || tt2.string(t33.tooltip) || ttc.is(t33.tooltip)) && (void 0 === t33.paddingLeft || tt2.boolean(t33.paddingLeft)) && (void 0 === t33.paddingRight || tt2.boolean(t33.paddingRight));
}, (ttV || (ttV = {})).createSnippet = function(t33) {
  return { kind: "snippet", value: t33 };
}, (ttX || (ttX = {})).create = function(t33, e10, r10, i10) {
  return { insertText: t33, filterText: e10, range: r10, command: i10 };
}, (ttK || (ttK = {})).create = function(t33) {
  return { items: t33 };
}, (Jd = ttZ || (ttZ = {})).Invoked = 0, Jd.Automatic = 1, (ttQ || (ttQ = {})).create = function(t33, e10) {
  return { range: t33, text: e10 };
}, (ttJ || (ttJ = {})).create = function(t33, e10) {
  return { triggerKind: t33, selectedCompletionInfo: e10 };
}, (tt0 || (tt0 = {})).is = function(t33) {
  return tt2.objectLiteral(t33) && JG.is(t33.uri) && tt2.string(t33.name);
}, (Jp = tt1 || (tt1 = {})).create = function(t33, e10, r10, i10) {
  return new RE(t33, e10, r10, i10);
}, Jp.is = function(t33) {
  return !!(tt2.defined(t33) && tt2.string(t33.uri) && (tt2.undefined(t33.languageId) || tt2.string(t33.languageId)) && tt2.uinteger(t33.lineCount) && tt2.func(t33.getText) && tt2.func(t33.positionAt) && tt2.func(t33.offsetAt));
}, Jp.applyEdits = function(t33, e10) {
  let r10 = t33.getText(), i10 = function t34(e11, r11) {
    if (e11.length <= 1) return e11;
    let i11 = e11.length / 2 | 0, n11 = e11.slice(0, i11), a10 = e11.slice(i11);
    t34(n11, r11), t34(a10, r11);
    let o10 = 0, s10 = 0, l10 = 0;
    for (; o10 < n11.length && s10 < a10.length; ) 0 >= r11(n11[o10], a10[s10]) ? e11[l10++] = n11[o10++] : e11[l10++] = a10[s10++];
    for (; o10 < n11.length; ) e11[l10++] = n11[o10++];
    for (; s10 < a10.length; ) e11[l10++] = a10[s10++];
    return e11;
  }(e10, (t34, e11) => {
    let r11 = t34.range.start.line - e11.range.start.line;
    return 0 === r11 ? t34.range.start.character - e11.range.start.character : r11;
  }), n10 = r10.length;
  for (let e11 = i10.length - 1; e11 >= 0; e11--) {
    let a10 = i10[e11], o10 = t33.offsetAt(a10.range.start), s10 = t33.offsetAt(a10.range.end);
    if (s10 <= n10) r10 = r10.substring(0, o10) + a10.newText + r10.substring(s10, r10.length);
    else throw Error("Overlapping edit");
    n10 = o10;
  }
  return r10;
};
let RE = class {
  constructor(t33, e10, r10, i10) {
    this._uri = t33, this._languageId = e10, this._version = r10, this._content = i10, this._lineOffsets = void 0;
  }
  get uri() {
    return this._uri;
  }
  get languageId() {
    return this._languageId;
  }
  get version() {
    return this._version;
  }
  getText(t33) {
    if (t33) {
      let e10 = this.offsetAt(t33.start), r10 = this.offsetAt(t33.end);
      return this._content.substring(e10, r10);
    }
    return this._content;
  }
  update(t33, e10) {
    this._content = t33.text, this._version = e10, this._lineOffsets = void 0;
  }
  getLineOffsets() {
    if (void 0 === this._lineOffsets) {
      let t33 = [], e10 = this._content, r10 = true;
      for (let i10 = 0; i10 < e10.length; i10++) {
        r10 && (t33.push(i10), r10 = false);
        let n10 = e10.charAt(i10);
        r10 = "\r" === n10 || "\n" === n10, "\r" === n10 && i10 + 1 < e10.length && "\n" === e10.charAt(i10 + 1) && i10++;
      }
      r10 && e10.length > 0 && t33.push(e10.length), this._lineOffsets = t33;
    }
    return this._lineOffsets;
  }
  positionAt(t33) {
    t33 = Math.max(Math.min(t33, this._content.length), 0);
    let e10 = this.getLineOffsets(), r10 = 0, i10 = e10.length;
    if (0 === i10) return JH.create(0, t33);
    for (; r10 < i10; ) {
      let n11 = Math.floor((r10 + i10) / 2);
      e10[n11] > t33 ? i10 = n11 : r10 = n11 + 1;
    }
    let n10 = r10 - 1;
    return JH.create(n10, t33 - e10[n10]);
  }
  offsetAt(t33) {
    let e10 = this.getLineOffsets();
    if (t33.line >= e10.length) return this._content.length;
    if (t33.line < 0) return 0;
    let r10 = e10[t33.line], i10 = t33.line + 1 < e10.length ? e10[t33.line + 1] : this._content.length;
    return Math.max(Math.min(r10 + t33.character, i10), r10);
  }
  get lineCount() {
    return this.getLineOffsets().length;
  }
};
!function(t33) {
  let e10 = Object.prototype.toString;
  t33.defined = function(t34) {
    return void 0 !== t34;
  }, t33.undefined = function(t34) {
    return void 0 === t34;
  }, t33.boolean = function(t34) {
    return true === t34 || false === t34;
  }, t33.string = function(t34) {
    return "[object String]" === e10.call(t34);
  }, t33.number = function(t34) {
    return "[object Number]" === e10.call(t34);
  }, t33.numberRange = function(t34, r10, i10) {
    return "[object Number]" === e10.call(t34) && r10 <= t34 && t34 <= i10;
  }, t33.integer = function(t34) {
    return "[object Number]" === e10.call(t34) && -2147483648 <= t34 && t34 <= 2147483647;
  }, t33.uinteger = function(t34) {
    return "[object Number]" === e10.call(t34) && 0 <= t34 && t34 <= 2147483647;
  }, t33.func = function(t34) {
    return "[object Function]" === e10.call(t34);
  }, t33.objectLiteral = function(t34) {
    return null !== t34 && "object" == typeof t34;
  }, t33.typedArray = function(t34, e11) {
    return Array.isArray(t34) && t34.every(e11);
  };
}(tt2 || (tt2 = {}));
class RC {
  constructor() {
    this.nodeStack = [];
  }
  get current() {
    return this.nodeStack[this.nodeStack.length - 1];
  }
  buildRootNode(t33) {
    return this.rootNode = new RI(t33), this.rootNode.root = this.rootNode, this.nodeStack = [this.rootNode], this.rootNode;
  }
  buildCompositeNode(t33) {
    let e10 = new RL();
    return e10.grammarSource = t33, e10.root = this.rootNode, this.current.content.push(e10), this.nodeStack.push(e10), e10;
  }
  buildLeafNode(t33, e10) {
    let r10 = new RA(t33.startOffset, t33.image.length, LC(t33), t33.tokenType, false);
    return r10.grammarSource = e10, r10.root = this.rootNode, this.current.content.push(r10), r10;
  }
  removeNode(t33) {
    let e10 = t33.container;
    if (e10) {
      let r10 = e10.content.indexOf(t33);
      r10 >= 0 && e10.content.splice(r10, 1);
    }
  }
  construct(t33) {
    let e10 = this.current;
    "string" == typeof t33.$type && (this.current.astNode = t33), t33.$cstNode = e10;
    let r10 = this.nodeStack.pop();
    (null == r10 ? void 0 : r10.content.length) === 0 && this.removeNode(r10);
  }
  addHiddenTokens(t33) {
    for (let e10 of t33) {
      let t34 = new RA(e10.startOffset, e10.image.length, LC(e10), e10.tokenType, true);
      t34.root = this.rootNode, this.addHiddenToken(this.rootNode, t34);
    }
  }
  addHiddenToken(t33, e10) {
    let { offset: r10, end: i10 } = e10;
    for (let n10 = 0; n10 < t33.content.length; n10++) {
      let a10 = t33.content[n10], { offset: o10, end: s10 } = a10;
      if (Lm(a10) && r10 > o10 && i10 < s10) {
        this.addHiddenToken(a10, e10);
        return;
      }
      if (i10 <= o10) {
        t33.content.splice(n10, 0, e10);
        return;
      }
    }
    t33.content.push(e10);
  }
}
class RS {
  get parent() {
    return this.container;
  }
  get feature() {
    return this.grammarSource;
  }
  get hidden() {
    return false;
  }
  get astNode() {
    var t33, e10;
    let r10 = "string" == typeof (null === (t33 = this._astNode) || void 0 === t33 ? void 0 : t33.$type) ? this._astNode : null === (e10 = this.container) || void 0 === e10 ? void 0 : e10.astNode;
    if (!r10) throw Error("This node has no associated AST element");
    return r10;
  }
  set astNode(t33) {
    this._astNode = t33;
  }
  get element() {
    return this.astNode;
  }
  get text() {
    return this.root.fullText.substring(this.offset, this.end);
  }
}
class RA extends RS {
  get offset() {
    return this._offset;
  }
  get length() {
    return this._length;
  }
  get end() {
    return this._offset + this._length;
  }
  get hidden() {
    return this._hidden;
  }
  get tokenType() {
    return this._tokenType;
  }
  get range() {
    return this._range;
  }
  constructor(t33, e10, r10, i10, n10 = false) {
    super(), this._hidden = n10, this._offset = t33, this._tokenType = i10, this._length = e10, this._range = r10;
  }
}
class RL extends RS {
  constructor() {
    super(...arguments), this.content = new RN(this);
  }
  get children() {
    return this.content;
  }
  get offset() {
    var t33, e10;
    return null !== (e10 = null === (t33 = this.firstNonHiddenNode) || void 0 === t33 ? void 0 : t33.offset) && void 0 !== e10 ? e10 : 0;
  }
  get length() {
    return this.end - this.offset;
  }
  get end() {
    var t33, e10;
    return null !== (e10 = null === (t33 = this.lastNonHiddenNode) || void 0 === t33 ? void 0 : t33.end) && void 0 !== e10 ? e10 : 0;
  }
  get range() {
    let t33 = this.firstNonHiddenNode, e10 = this.lastNonHiddenNode;
    if (!t33 || !e10) return { start: JH.create(0, 0), end: JH.create(0, 0) };
    if (void 0 === this._rangeCache) {
      let { range: r10 } = t33, { range: i10 } = e10;
      this._rangeCache = { start: r10.start, end: i10.end.line < r10.start.line ? r10.start : i10.end };
    }
    return this._rangeCache;
  }
  get firstNonHiddenNode() {
    for (let t33 of this.content) if (!t33.hidden) return t33;
    return this.content[0];
  }
  get lastNonHiddenNode() {
    for (let t33 = this.content.length - 1; t33 >= 0; t33--) {
      let e10 = this.content[t33];
      if (!e10.hidden) return e10;
    }
    return this.content[this.content.length - 1];
  }
}
class RN extends Array {
  constructor(t33) {
    super(), this.parent = t33, Object.setPrototypeOf(this, RN.prototype);
  }
  push() {
    for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
    return this.addParents(e10), super.push(...e10);
  }
  unshift() {
    for (var t33 = arguments.length, e10 = Array(t33), r10 = 0; r10 < t33; r10++) e10[r10] = arguments[r10];
    return this.addParents(e10), super.unshift(...e10);
  }
  splice(t33, e10) {
    for (var r10 = arguments.length, i10 = Array(r10 > 2 ? r10 - 2 : 0), n10 = 2; n10 < r10; n10++) i10[n10 - 2] = arguments[n10];
    return this.addParents(i10), super.splice(t33, e10, ...i10);
  }
  addParents(t33) {
    for (let e10 of t33) e10.container = this.parent;
  }
}
class RI extends RL {
  get text() {
    return this._text.substring(this.offset, this.end);
  }
  get fullText() {
    return this._text;
  }
  constructor(t33) {
    super(), this._text = "", this._text = null != t33 ? t33 : "";
  }
}
let RM = Symbol("Datatype");
function RR(t33) {
  return t33.$type === RM;
}
let RD = (t33) => t33.endsWith("​") ? t33 : t33 + "​";
class RO {
  constructor(t33) {
    this._unorderedGroups = /* @__PURE__ */ new Map(), this.lexer = t33.parser.Lexer;
    let e10 = this.lexer.definition;
    this.wrapper = new RU(e10, Object.assign(Object.assign({}, t33.parser.ParserConfig), { errorMessageProvider: t33.parser.ParserErrorMessageProvider }));
  }
  alternatives(t33, e10) {
    this.wrapper.wrapOr(t33, e10);
  }
  optional(t33, e10) {
    this.wrapper.wrapOption(t33, e10);
  }
  many(t33, e10) {
    this.wrapper.wrapMany(t33, e10);
  }
  atLeastOne(t33, e10) {
    this.wrapper.wrapAtLeastOne(t33, e10);
  }
  isRecording() {
    return this.wrapper.IS_RECORDING;
  }
  get unorderedGroups() {
    return this._unorderedGroups;
  }
  getRuleStack() {
    return this.wrapper.RULE_STACK;
  }
  finalize() {
    this.wrapper.wrapSelfAnalysis();
  }
}
class RP extends RO {
  get current() {
    return this.stack[this.stack.length - 1];
  }
  constructor(t33) {
    super(t33), this.nodeBuilder = new RC(), this.stack = [], this.assignmentMap = /* @__PURE__ */ new Map(), this.linker = t33.references.Linker, this.converter = t33.parser.ValueConverter, this.astReflection = t33.shared.AstReflection;
  }
  rule(t33, e10) {
    let r10 = t33.fragment ? void 0 : NH(t33) ? RM : NW(t33), i10 = this.wrapper.DEFINE_RULE(RD(t33.name), this.startImplementation(r10, e10).bind(this));
    return t33.entry && (this.mainRule = i10), i10;
  }
  parse(t33) {
    this.nodeBuilder.buildRootNode(t33);
    let e10 = this.lexer.tokenize(t33);
    this.wrapper.input = e10.tokens;
    let r10 = this.mainRule.call(this.wrapper, {});
    return this.nodeBuilder.addHiddenTokens(e10.hidden), this.unorderedGroups.clear(), { value: r10, lexerErrors: e10.errors, parserErrors: this.wrapper.errors };
  }
  startImplementation(t33, e10) {
    return (r10) => {
      let i10;
      if (!this.isRecording()) {
        let e11 = { $type: t33 };
        this.stack.push(e11), t33 === RM && (e11.value = "");
      }
      try {
        i10 = e10(r10);
      } catch (t34) {
        i10 = void 0;
      }
      return this.isRecording() || void 0 !== i10 || (i10 = this.construct()), i10;
    };
  }
  consume(t33, e10, r10) {
    let i10 = this.wrapper.wrapConsume(t33, e10);
    if (!this.isRecording() && this.isValidToken(i10)) {
      let t34 = this.nodeBuilder.buildLeafNode(i10, r10), { assignment: e11, isCrossRef: n10 } = this.getAssignment(r10), a10 = this.current;
      if (e11) {
        let a11 = Nr(r10) ? i10.image : this.converter.convert(i10.image, t34);
        this.assign(e11.operator, e11.feature, a11, t34, n10);
      } else if (RR(a10)) {
        let e12 = i10.image;
        Nr(r10) || (e12 = this.converter.convert(e12, t34).toString()), a10.value += e12;
      }
    }
  }
  isValidToken(t33) {
    return !t33.isInsertedInRecovery && !isNaN(t33.startOffset) && "number" == typeof t33.endOffset && !isNaN(t33.endOffset);
  }
  subrule(t33, e10, r10, i10) {
    let n10;
    this.isRecording() || (n10 = this.nodeBuilder.buildCompositeNode(r10));
    let a10 = this.wrapper.wrapSubrule(t33, e10, i10);
    !this.isRecording() && n10 && n10.length > 0 && this.performSubruleAssignment(a10, r10, n10);
  }
  performSubruleAssignment(t33, e10, r10) {
    let { assignment: i10, isCrossRef: n10 } = this.getAssignment(e10);
    if (i10) this.assign(i10.operator, i10.feature, t33, r10, n10);
    else if (!i10) {
      let e11 = this.current;
      if (RR(e11)) e11.value += t33.toString();
      else if ("object" == typeof t33 && t33) {
        let r11 = t33.$type, i11 = this.assignWithoutOverride(t33, e11);
        r11 && (i11.$type = r11), this.stack.pop(), this.stack.push(i11);
      }
    }
  }
  action(t33, e10) {
    if (!this.isRecording()) {
      let r10 = this.current;
      if (!r10.$cstNode && e10.feature && e10.operator) {
        let t34 = (r10 = this.construct(false)).$cstNode.feature;
        this.nodeBuilder.buildCompositeNode(t34);
      }
      this.stack.pop(), this.stack.push({ $type: t33 }), e10.feature && e10.operator && this.assign(e10.operator, e10.feature, r10, r10.$cstNode, false);
    }
  }
  construct() {
    let t33 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0];
    if (this.isRecording()) return;
    let e10 = this.current;
    return (!function(t34) {
      for (let [e11, r10] of Object.entries(t34)) !e11.startsWith("$") && (Array.isArray(r10) ? r10.forEach((r11, i10) => {
        Ld(r11) && (r11.$container = t34, r11.$containerProperty = e11, r11.$containerIndex = i10);
      }) : Ld(r10) && (r10.$container = t34, r10.$containerProperty = e11));
    }(e10), this.nodeBuilder.construct(e10), t33 && this.stack.pop(), RR(e10)) ? this.converter.convert(e10.value, e10.$cstNode) : (!function(t34, e11) {
      for (let r10 of t34.getTypeMetaData(e11.$type).properties) void 0 !== r10.defaultValue && void 0 === e11[r10.name] && (e11[r10.name] = function t35(e12) {
        return Array.isArray(e12) ? [...e12.map(t35)] : e12;
      }(r10.defaultValue));
    }(this.astReflection, e10), e10);
  }
  getAssignment(t33) {
    if (!this.assignmentMap.has(t33)) {
      let e10 = Nm(t33, L5);
      this.assignmentMap.set(t33, { assignment: e10, isCrossRef: !!e10 && L7(e10.terminal) });
    }
    return this.assignmentMap.get(t33);
  }
  assign(t33, e10, r10, i10, n10) {
    let a10;
    let o10 = this.current;
    switch (a10 = n10 && "string" == typeof r10 ? this.linker.buildReference(o10, e10, i10, r10) : r10, t33) {
      case "=":
        o10[e10] = a10;
        break;
      case "?=":
        o10[e10] = true;
        break;
      case "+=":
        Array.isArray(o10[e10]) || (o10[e10] = []), o10[e10].push(a10);
    }
  }
  assignWithoutOverride(t33, e10) {
    for (let [r10, i10] of Object.entries(e10)) {
      let e11 = t33[r10];
      void 0 === e11 ? t33[r10] = i10 : Array.isArray(e11) && Array.isArray(i10) && (i10.push(...e11), t33[r10] = i10);
    }
    return t33;
  }
  get definitionErrors() {
    return this.wrapper.definitionErrors;
  }
}
class R$ {
  buildMismatchTokenMessage(t33) {
    return I3.buildMismatchTokenMessage(t33);
  }
  buildNotAllInputParsedMessage(t33) {
    return I3.buildNotAllInputParsedMessage(t33);
  }
  buildNoViableAltMessage(t33) {
    return I3.buildNoViableAltMessage(t33);
  }
  buildEarlyExitMessage(t33) {
    return I3.buildEarlyExitMessage(t33);
  }
}
class RB extends R$ {
  buildMismatchTokenMessage(t33) {
    let { expected: e10, actual: r10 } = t33, i10 = e10.LABEL ? "`" + e10.LABEL + "`" : e10.name.endsWith(":KW") ? `keyword '${e10.name.substring(0, e10.name.length - 3)}'` : `token of type '${e10.name}'`;
    return `Expecting ${i10} but found \`${r10.image}\`.`;
  }
  buildNotAllInputParsedMessage(t33) {
    let { firstRedundant: e10 } = t33;
    return `Expecting end of file but found \`${e10.image}\`.`;
  }
}
class RF extends RO {
  constructor() {
    super(...arguments), this.tokens = [], this.elementStack = [], this.lastElementStack = [], this.nextTokenIndex = 0, this.stackSize = 0;
  }
  action() {
  }
  construct() {
  }
  parse(t33) {
    this.resetState();
    let e10 = this.lexer.tokenize(t33);
    return this.tokens = e10.tokens, this.wrapper.input = [...this.tokens], this.mainRule.call(this.wrapper, {}), this.unorderedGroups.clear(), { tokens: this.tokens, elementStack: [...this.lastElementStack], tokenIndex: this.nextTokenIndex };
  }
  rule(t33, e10) {
    let r10 = this.wrapper.DEFINE_RULE(RD(t33.name), this.startImplementation(e10).bind(this));
    return t33.entry && (this.mainRule = r10), r10;
  }
  resetState() {
    this.elementStack = [], this.lastElementStack = [], this.nextTokenIndex = 0, this.stackSize = 0;
  }
  startImplementation(t33) {
    return (e10) => {
      let r10 = this.keepStackSize();
      try {
        t33(e10);
      } finally {
        this.resetStackSize(r10);
      }
    };
  }
  removeUnexpectedElements() {
    this.elementStack.splice(this.stackSize);
  }
  keepStackSize() {
    let t33 = this.elementStack.length;
    return this.stackSize = t33, t33;
  }
  resetStackSize(t33) {
    this.removeUnexpectedElements(), this.stackSize = t33;
  }
  consume(t33, e10, r10) {
    this.wrapper.wrapConsume(t33, e10), this.isRecording() || (this.lastElementStack = [...this.elementStack, r10], this.nextTokenIndex = this.currIdx + 1);
  }
  subrule(t33, e10, r10, i10) {
    this.before(r10), this.wrapper.wrapSubrule(t33, e10, i10), this.after(r10);
  }
  before(t33) {
    this.isRecording() || this.elementStack.push(t33);
  }
  after(t33) {
    if (!this.isRecording()) {
      let e10 = this.elementStack.lastIndexOf(t33);
      e10 >= 0 && this.elementStack.splice(e10);
    }
  }
  get currIdx() {
    return this.wrapper.currIdx;
  }
}
let Rz = { recoveryEnabled: true, nodeLocationTracking: "full", skipValidations: true, errorMessageProvider: new RB() };
class RU extends M6 {
  constructor(t33, e10) {
    super(t33, Object.assign(Object.assign(Object.assign({}, Rz), { lookaheadStrategy: e10 && "maxLookahead" in e10 ? new MU({ maxLookahead: e10.maxLookahead }) : new Rf() }), e10));
  }
  get IS_RECORDING() {
    return this.RECORDING_PHASE;
  }
  DEFINE_RULE(t33, e10) {
    return this.RULE(t33, e10);
  }
  wrapSelfAnalysis() {
    this.performSelfAnalysis();
  }
  wrapConsume(t33, e10) {
    return this.consume(t33, e10);
  }
  wrapSubrule(t33, e10, r10) {
    return this.subrule(t33, e10, { ARGS: [r10] });
  }
  wrapOr(t33, e10) {
    this.or(t33, e10);
  }
  wrapOption(t33, e10) {
    this.option(t33, e10);
  }
  wrapMany(t33, e10) {
    this.many(t33, e10);
  }
  wrapAtLeastOne(t33, e10) {
    this.atLeastOne(t33, e10);
  }
}
function RG(t33, e10, r10) {
  return function(t34, e11) {
    let r11 = NU(e11, false);
    for (let i10 of L_(e11.rules).filter(LW).filter((t35) => r11.has(t35))) {
      let e12 = Object.assign(Object.assign({}, t34), { consume: 1, optional: 1, subrule: 1, many: 1, or: 1 });
      e12.rules.set(i10.name, t34.parser.rule(i10, function t35(e13, r12) {
        let i11, n10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
        if (Nr(r12)) i11 = function(t36, e14) {
          let r13 = t36.consume++, i12 = t36.tokens[e14.value];
          if (!i12) throw Error("Could not find token for keyword: " + e14.value);
          return () => t36.parser.consume(r13, i12, e14);
        }(e13, r12);
        else if (L0(r12)) i11 = function(t36, e14) {
          let r13 = NW(e14);
          return () => t36.parser.action(r13, e14);
        }(e13, r12);
        else if (L5(r12)) i11 = t35(e13, r12.terminal);
        else if (L7(r12)) i11 = function t36(e14, r13) {
          let i12 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : r13.terminal;
          if (i12) {
            if (No(i12) && LW(i12.rule.ref)) {
              let t37 = e14.subrule++;
              return (n11) => e14.parser.subrule(t37, Rj(e14, i12.rule.ref), r13, n11);
            }
            if (No(i12) && LK(i12.rule.ref)) {
              let t37 = e14.consume++, n11 = RW(e14, i12.rule.ref.name);
              return () => e14.parser.consume(t37, n11, r13);
            }
            if (Nr(i12)) {
              let t37 = e14.consume++, n11 = RW(e14, i12.value);
              return () => e14.parser.consume(t37, n11, r13);
            } else throw Error("Could not build cross reference parser");
          }
          {
            if (!r13.type.ref) throw Error("Could not resolve reference to type: " + r13.type.$refText);
            let i13 = NY(r13.type.ref), n11 = null == i13 ? void 0 : i13.terminal;
            if (!n11) throw Error("Could not find name assignment for type: " + NW(r13.type.ref));
            return t36(e14, r13, n11);
          }
        }(e13, r12);
        else if (No(r12)) i11 = function(t36, e14) {
          let r13 = e14.rule.ref;
          if (LW(r13)) {
            let i12 = t36.subrule++, n11 = e14.arguments.length > 0 ? function(t37, e15) {
              let r14 = e15.map((t38) => Rq(t38.value));
              return (e16) => {
                let i13 = {};
                for (let n12 = 0; n12 < r14.length; n12++) {
                  let a10 = t37.parameters[n12], o10 = r14[n12];
                  i13[a10.name] = o10(e16);
                }
                return i13;
              };
            }(r13, e14.arguments) : () => ({});
            return (a10) => t36.parser.subrule(i12, Rj(t36, r13), e14, n11(a10));
          }
          if (LK(r13)) {
            let i12 = t36.consume++, n11 = RW(t36, r13.name);
            return () => t36.parser.consume(i12, n11, e14);
          }
          if (r13) LI();
          else throw new LN(e14.$cstNode, `Undefined rule type: ${e14.$type}`);
        }(e13, r12);
        else if (L2(r12)) i11 = function(e14, r13) {
          if (1 === r13.elements.length) return t35(e14, r13.elements[0]);
          {
            let i12 = [];
            for (let n12 of r13.elements) {
              let r14 = { ALT: t35(e14, n12, true) }, a10 = RY(n12);
              a10 && (r14.GATE = Rq(a10)), i12.push(r14);
            }
            let n11 = e14.or++;
            return (t36) => e14.parser.alternatives(n11, i12.map((e15) => {
              let r14 = { ALT: () => e15.ALT(t36) }, i13 = e15.GATE;
              return i13 && (r14.GATE = () => i13(t36)), r14;
            }));
          }
        }(e13, r12);
        else if (Nu(r12)) i11 = function(e14, r13) {
          if (1 === r13.elements.length) return t35(e14, r13.elements[0]);
          let i12 = [];
          for (let n12 of r13.elements) {
            let r14 = { ALT: t35(e14, n12, true) }, a11 = RY(n12);
            a11 && (r14.GATE = Rq(a11)), i12.push(r14);
          }
          let n11 = e14.or++, a10 = (t36, e15) => {
            let r14 = e15.getRuleStack().join("-");
            return `uGroup_${t36}_${r14}`;
          }, o10 = RH(e14, RY(r13), (t36) => e14.parser.alternatives(n11, i12.map((r14, i13) => {
            let o11 = { ALT: () => true }, s10 = e14.parser;
            o11.ALT = () => {
              if (r14.ALT(t36), !s10.isRecording()) {
                let t37 = a10(n11, s10);
                s10.unorderedGroups.get(t37) || s10.unorderedGroups.set(t37, []);
                let e15 = s10.unorderedGroups.get(t37);
                void 0 === (null == e15 ? void 0 : e15[i13]) && (e15[i13] = true);
              }
            };
            let l10 = r14.GATE;
            return l10 ? o11.GATE = () => l10(t36) : o11.GATE = () => {
              let t37 = s10.unorderedGroups.get(a10(n11, s10));
              return !(null == t37 ? void 0 : t37[i13]);
            }, o11;
          })), "*");
          return (t36) => {
            o10(t36), e14.parser.isRecording() || e14.parser.unorderedGroups.delete(a10(n11, e14.parser));
          };
        }(e13, r12);
        else if (Nt(r12)) i11 = function(e14, r13) {
          let i12 = r13.elements.map((r14) => t35(e14, r14));
          return (t36) => i12.forEach((e15) => e15(t36));
        }(e13, r12);
        else if (Nf.isInstance(r12, L8)) {
          let t36 = e13.consume++;
          i11 = () => e13.parser.consume(t36, I4, r12);
        } else throw new LN(r12.$cstNode, `Unexpected element type: ${r12.$type}`);
        return RH(e13, n10 ? void 0 : RY(r12), i11, r12.cardinality);
      }(e12, i10.definition)));
    }
  }({ parser: e10, tokens: r10, rules: /* @__PURE__ */ new Map(), ruleNames: /* @__PURE__ */ new Map() }, t33), e10;
}
function Rq(t33) {
  if (Nf.isInstance(t33, LF)) {
    let e10 = Rq(t33.left), r10 = Rq(t33.right);
    return (t34) => e10(t34) || r10(t34);
  }
  if (Nf.isInstance(t33, LB)) {
    let e10 = Rq(t33.left), r10 = Rq(t33.right);
    return (t34) => e10(t34) && r10(t34);
  }
  if (Nf.isInstance(t33, LY)) {
    let e10 = Rq(t33.value);
    return (t34) => !e10(t34);
  }
  if (Nf.isInstance(t33, LH)) {
    let e10 = t33.parameter.ref.name;
    return (t34) => void 0 !== t34 && true === t34[e10];
  }
  if (Nf.isInstance(t33, L$)) {
    let e10 = !!t33.true;
    return () => e10;
  }
  LI();
}
function RY(t33) {
  if (Nt(t33)) return t33.guardCondition;
}
function RH(t33, e10, r10, i10) {
  let n10 = e10 && Rq(e10);
  if (!i10) {
    if (!n10) return r10;
    {
      let e11 = t33.or++;
      return (i11) => t33.parser.alternatives(e11, [{ ALT: () => r10(i11), GATE: () => n10(i11) }, { ALT: M5(), GATE: () => !n10(i11) }]);
    }
  }
  if ("*" === i10) {
    let e11 = t33.many++;
    return (i11) => t33.parser.many(e11, { DEF: () => r10(i11), GATE: n10 ? () => n10(i11) : void 0 });
  }
  if ("+" === i10) {
    let e11 = t33.many++;
    if (!n10) return (i11) => t33.parser.atLeastOne(e11, { DEF: () => r10(i11) });
    {
      let i11 = t33.or++;
      return (a10) => t33.parser.alternatives(i11, [{ ALT: () => t33.parser.atLeastOne(e11, { DEF: () => r10(a10) }), GATE: () => n10(a10) }, { ALT: M5(), GATE: () => !n10(a10) }]);
    }
  }
  if ("?" === i10) {
    let e11 = t33.optional++;
    return (i11) => t33.parser.optional(e11, { DEF: () => r10(i11), GATE: n10 ? () => n10(i11) : void 0 });
  }
  LI();
}
function Rj(t33, e10) {
  let r10 = function(t34, e11) {
    if (LW(e11)) return e11.name;
    if (t34.ruleNames.has(e11)) return t34.ruleNames.get(e11);
    {
      let r11 = e11, i11 = r11.$container, n10 = e11.$type;
      for (; !LW(i11); ) (Nt(i11) || L2(i11) || Nu(i11)) && (n10 = i11.elements.indexOf(r11).toString() + ":" + n10), r11 = i11, i11 = i11.$container;
      return n10 = i11.name + ":" + n10, t34.ruleNames.set(e11, n10), n10;
    }
  }(t33, e10), i10 = t33.rules.get(r10);
  if (!i10) throw Error(`Rule "${r10}" not found."`);
  return i10;
}
function RW(t33, e10) {
  let r10 = t33.tokens[e10];
  if (!r10) throw Error(`Token "${e10}" not found."`);
  return r10;
}
class RV {
  buildTokens(t33, e10) {
    let r10 = L_(NU(t33, false)), i10 = this.buildTerminalTokens(r10), n10 = this.buildKeywordTokens(r10, i10, e10);
    return i10.forEach((t34) => {
      let e11 = t34.PATTERN;
      "object" == typeof e11 && e11 && "test" in e11 && NF(e11) ? n10.unshift(t34) : n10.push(t34);
    }), n10;
  }
  buildTerminalTokens(t33) {
    return t33.filter(LK).filter((t34) => !t34.fragment).map((t34) => this.buildTerminalToken(t34)).toArray();
  }
  buildTerminalToken(t33) {
    let e10 = NV(t33), r10 = this.requiresCustomPattern(e10) ? this.regexPatternFunction(e10) : e10, i10 = { name: t33.name, PATTERN: r10, LINE_BREAKS: true };
    return t33.hidden && (i10.GROUP = NF(e10) ? IH.SKIPPED : "hidden"), i10;
  }
  requiresCustomPattern(t33) {
    return !!t33.flags.includes("u") || !!(t33.source.includes("?<=") || t33.source.includes("?<!"));
  }
  regexPatternFunction(t33) {
    let e10 = RegExp(t33, t33.flags + "y");
    return (t34, r10) => (e10.lastIndex = r10, e10.exec(t34));
  }
  buildKeywordTokens(t33, e10, r10) {
    return t33.filter(LW).flatMap((t34) => Nx(t34).filter(Nr)).distinct((t34) => t34.value).toArray().sort((t34, e11) => e11.value.length - t34.value.length).map((t34) => this.buildKeywordToken(t34, e10, !!(null == r10 ? void 0 : r10.caseInsensitive)));
  }
  buildKeywordToken(t33, e10, r10) {
    return { name: t33.value, PATTERN: this.buildKeywordPattern(t33, r10), LONGER_ALT: this.findLongerAlt(t33, e10) };
  }
  buildKeywordPattern(t33, e10) {
    var r10;
    return e10 ? new RegExp((r10 = t33.value, Array.prototype.map.call(r10, (t34) => /\w/.test(t34) ? `[${t34.toLowerCase()}${t34.toUpperCase()}]` : Nz(t34)).join(""))) : t33.value;
  }
  findLongerAlt(t33, e10) {
    return e10.reduce((e11, r10) => {
      let i10 = null == r10 ? void 0 : r10.PATTERN;
      return (null == i10 ? void 0 : i10.source) && function(t34, e12) {
        let r11 = function(t35) {
          "string" == typeof t35 && (t35 = new RegExp(t35));
          let e13 = t35, r12 = t35.source, i12 = 0;
          return new RegExp(function t36() {
            let n10 = "", a10;
            function o10(t37) {
              n10 += r12.substr(i12, t37), i12 += t37;
            }
            function s10(t37) {
              n10 += "(?:" + r12.substr(i12, t37) + "|$)", i12 += t37;
            }
            for (; i12 < r12.length; ) switch (r12[i12]) {
              case "\\":
                switch (r12[i12 + 1]) {
                  case "c":
                    s10(3);
                    break;
                  case "x":
                    s10(4);
                    break;
                  case "u":
                    s10(e13.unicode ? "{" === r12[i12 + 2] ? r12.indexOf("}", i12) - i12 + 1 : 6 : 2);
                    break;
                  case "p":
                  case "P":
                    s10(e13.unicode ? r12.indexOf("}", i12) - i12 + 1 : 2);
                    break;
                  case "k":
                    s10(r12.indexOf(">", i12) - i12 + 1);
                    break;
                  default:
                    s10(2);
                }
                break;
              case "[":
                (a10 = /\[(?:\\.|.)*?\]/g).lastIndex = i12, s10((a10 = a10.exec(r12) || [])[0].length);
                break;
              case "|":
              case "^":
              case "$":
              case "*":
              case "+":
              case "?":
                o10(1);
                break;
              case "{":
                (a10 = /\{\d+,?\d*\}/g).lastIndex = i12, (a10 = a10.exec(r12)) ? o10(a10[0].length) : s10(1);
                break;
              case "(":
                if ("?" === r12[i12 + 1]) switch (r12[i12 + 2]) {
                  case ":":
                    n10 += "(?:", i12 += 3, n10 += t36() + "|$)";
                    break;
                  case "=":
                    n10 += "(?=", i12 += 3, n10 += t36() + ")";
                    break;
                  case "!":
                    a10 = i12, i12 += 3, t36(), n10 += r12.substr(a10, i12 - a10);
                    break;
                  case "<":
                    switch (r12[i12 + 3]) {
                      case "=":
                      case "!":
                        a10 = i12, i12 += 4, t36(), n10 += r12.substr(a10, i12 - a10);
                        break;
                      default:
                        o10(r12.indexOf(">", i12) - i12 + 1), n10 += t36() + "|$)";
                    }
                }
                else o10(1), n10 += t36() + "|$)";
                break;
              case ")":
                return ++i12, n10;
              default:
                s10(1);
            }
            return n10;
          }(), t35.flags);
        }(t34), i11 = e12.match(r11);
        return !!i11 && i11[0].length > 0;
      }("^" + i10.source + "$", t33.value) && e11.push(r10), e11;
    }, []);
  }
}
class RX {
  convert(t33, e10) {
    let r10 = e10.grammarSource;
    if (L7(r10) && (r10 = function(t34) {
      if (t34.terminal) return t34.terminal;
      if (t34.type.ref) {
        let e11 = NY(t34.type.ref);
        return null == e11 ? void 0 : e11.terminal;
      }
    }(r10)), No(r10)) {
      let i10 = r10.rule.ref;
      if (!i10) throw Error("This cst node was not parsed by a rule.");
      return this.runConverter(i10, t33, e10);
    }
    return t33;
  }
  runConverter(t33, e10, r10) {
    var i10, n10, a10, o10;
    switch (t33.name.toUpperCase()) {
      case "INT":
        return tt4.convertInt(e10);
      case "STRING":
        return tt4.convertString(e10);
      case "ID":
        return tt4.convertID(e10);
    }
    switch (null === (i10 = LK(t33) ? null !== (a10 = null === (n10 = t33.type) || void 0 === n10 ? void 0 : n10.name) && void 0 !== a10 ? a10 : "string" : NH(t33) ? t33.name : null !== (o10 = Nj(t33)) && void 0 !== o10 ? o10 : t33.name) || void 0 === i10 ? void 0 : i10.toLowerCase()) {
      case "number":
        return tt4.convertNumber(e10);
      case "boolean":
        return tt4.convertBoolean(e10);
      case "bigint":
        return tt4.convertBigint(e10);
      case "date":
        return tt4.convertDate(e10);
      default:
        return e10;
    }
  }
}
(Jg = tt4 || (tt4 = {})).convertString = function(t33) {
  let e10 = "";
  for (let r10 = 1; r10 < t33.length - 1; r10++) {
    let i10 = t33.charAt(r10);
    "\\" === i10 ? e10 += function(t34) {
      switch (t34) {
        case "b":
          return "\b";
        case "f":
          return "\f";
        case "n":
          return "\n";
        case "r":
          return "\r";
        case "t":
          return "	";
        case "v":
          return "\v";
        case "0":
          return "\0";
        default:
          return t34;
      }
    }(t33.charAt(++r10)) : e10 += i10;
  }
  return e10;
}, Jg.convertID = function(t33) {
  return "^" === t33.charAt(0) ? t33.substring(1) : t33;
}, Jg.convertInt = function(t33) {
  return parseInt(t33);
}, Jg.convertBigint = function(t33) {
  return BigInt(t33);
}, Jg.convertDate = function(t33) {
  return new Date(t33);
}, Jg.convertNumber = function(t33) {
  return Number(t33);
}, Jg.convertBoolean = function(t33) {
  return "true" === t33.toLowerCase();
};
var RK = {}, RZ = {};
function RQ() {
  let t33;
  if (tt5) return RZ;
  function e10() {
    if (void 0 === t33) throw Error("No runtime abstraction layer installed");
    return t33;
  }
  return tt5 = 1, Object.defineProperty(RZ, "__esModule", { value: true }), e10.install = function(e11) {
    if (void 0 === e11) throw Error("No runtime abstraction layer provided");
    t33 = e11;
  }, RZ.default = e10, RZ;
}
var RJ = {}, R0 = {};
function R1() {
  var t33;
  if (tt6) return R0;
  tt6 = 1, Object.defineProperty(R0, "__esModule", { value: true }), R0.Emitter = R0.Event = void 0;
  let e10 = RQ();
  !function(t34) {
    let e11 = { dispose() {
    } };
    t34.None = function() {
      return e11;
    };
  }(t33 || (R0.Event = t33 = {}));
  class r10 {
    add(t34) {
      let e11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r11 = arguments.length > 2 ? arguments[2] : void 0;
      this._callbacks || (this._callbacks = [], this._contexts = []), this._callbacks.push(t34), this._contexts.push(e11), Array.isArray(r11) && r11.push({ dispose: () => this.remove(t34, e11) });
    }
    remove(t34) {
      let e11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
      if (!this._callbacks) return;
      let r11 = false;
      for (let i11 = 0, n10 = this._callbacks.length; i11 < n10; i11++) if (this._callbacks[i11] === t34) {
        if (this._contexts[i11] === e11) {
          this._callbacks.splice(i11, 1), this._contexts.splice(i11, 1);
          return;
        }
        r11 = true;
      }
      if (r11) throw Error("When adding a listener with a context, you should remove it with the same context");
    }
    invoke() {
      for (var t34 = arguments.length, r11 = Array(t34), i11 = 0; i11 < t34; i11++) r11[i11] = arguments[i11];
      if (!this._callbacks) return [];
      let n10 = [], a10 = this._callbacks.slice(0), o10 = this._contexts.slice(0);
      for (let t35 = 0, i12 = a10.length; t35 < i12; t35++) try {
        n10.push(a10[t35].apply(o10[t35], r11));
      } catch (t36) {
        (0, e10.default)().console.error(t36);
      }
      return n10;
    }
    isEmpty() {
      return !this._callbacks || 0 === this._callbacks.length;
    }
    dispose() {
      this._callbacks = void 0, this._contexts = void 0;
    }
  }
  class i10 {
    constructor(t34) {
      this._options = t34;
    }
    get event() {
      return this._event || (this._event = (t34, e11, n10) => {
        this._callbacks || (this._callbacks = new r10()), this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty() && this._options.onFirstListenerAdd(this), this._callbacks.add(t34, e11);
        let a10 = { dispose: () => {
          this._callbacks && (this._callbacks.remove(t34, e11), a10.dispose = i10._noop, this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty() && this._options.onLastListenerRemove(this));
        } };
        return Array.isArray(n10) && n10.push(a10), a10;
      }), this._event;
    }
    fire(t34) {
      this._callbacks && this._callbacks.invoke.call(this._callbacks, t34);
    }
    dispose() {
      this._callbacks && (this._callbacks.dispose(), this._callbacks = void 0);
    }
  }
  return R0.Emitter = i10, i10._noop = function() {
  }, R0;
}
var R2 = function() {
  var t33, e10;
  if (tt7) return RK;
  tt7 = 1, Object.defineProperty(RK, "__esModule", { value: true }), RK.CancellationTokenSource = RK.CancellationToken = void 0;
  let r10 = RQ(), i10 = function() {
    if (tt3) return RJ;
    function t34(t35) {
      return "string" == typeof t35 || t35 instanceof String;
    }
    function e11(t35) {
      return Array.isArray(t35);
    }
    return tt3 = 1, Object.defineProperty(RJ, "__esModule", { value: true }), RJ.stringArray = RJ.array = RJ.func = RJ.error = RJ.number = RJ.string = RJ.boolean = void 0, RJ.boolean = function(t35) {
      return true === t35 || false === t35;
    }, RJ.string = t34, RJ.number = function(t35) {
      return "number" == typeof t35 || t35 instanceof Number;
    }, RJ.error = function(t35) {
      return t35 instanceof Error;
    }, RJ.func = function(t35) {
      return "function" == typeof t35;
    }, RJ.array = e11, RJ.stringArray = function(r11) {
      return e11(r11) && r11.every((e12) => t34(e12));
    }, RJ;
  }(), n10 = R1();
  (e10 = t33 || (RK.CancellationToken = t33 = {})).None = Object.freeze({ isCancellationRequested: false, onCancellationRequested: n10.Event.None }), e10.Cancelled = Object.freeze({ isCancellationRequested: true, onCancellationRequested: n10.Event.None }), e10.is = function(t34) {
    return t34 && (t34 === e10.None || t34 === e10.Cancelled || i10.boolean(t34.isCancellationRequested) && !!t34.onCancellationRequested);
  };
  let a10 = Object.freeze(function(t34, e11) {
    let i11 = (0, r10.default)().timer.setTimeout(t34.bind(e11), 0);
    return { dispose() {
      i11.dispose();
    } };
  });
  class o10 {
    constructor() {
      this._isCancelled = false;
    }
    cancel() {
      !this._isCancelled && (this._isCancelled = true, this._emitter && (this._emitter.fire(void 0), this.dispose()));
    }
    get isCancellationRequested() {
      return this._isCancelled;
    }
    get onCancellationRequested() {
      return this._isCancelled ? a10 : (this._emitter || (this._emitter = new n10.Emitter()), this._emitter.event);
    }
    dispose() {
      this._emitter && (this._emitter.dispose(), this._emitter = void 0);
    }
  }
  return RK.CancellationTokenSource = class {
    get token() {
      return this._token || (this._token = new o10()), this._token;
    }
    cancel() {
      this._token ? this._token.cancel() : this._token = t33.Cancelled;
    }
    dispose() {
      this._token ? this._token instanceof o10 && this._token.dispose() : this._token = t33.None;
    }
  }, RK;
}();
let R4 = 0, R5 = Symbol("OperationCancelled");
async function R3(t33) {
  if (t33 === R2.CancellationToken.None) return;
  let e10 = Date.now();
  if (e10 - R4 >= 10 && (R4 = e10, await new Promise((t34) => {
    "undefined" == typeof setImmediate ? setTimeout(t34, 0) : setImmediate(t34);
  })), t33.isCancellationRequested) throw R5;
}
class R6 {
  constructor() {
    this.promise = new Promise((t33, e10) => {
      this.resolve = (e11) => (t33(e11), this), this.reject = (t34) => (e10(t34), this);
    });
  }
}
class R7 {
  constructor(t33, e10, r10, i10) {
    this._uri = t33, this._languageId = e10, this._version = r10, this._content = i10, this._lineOffsets = void 0;
  }
  get uri() {
    return this._uri;
  }
  get languageId() {
    return this._languageId;
  }
  get version() {
    return this._version;
  }
  getText(t33) {
    if (t33) {
      let e10 = this.offsetAt(t33.start), r10 = this.offsetAt(t33.end);
      return this._content.substring(e10, r10);
    }
    return this._content;
  }
  update(t33, e10) {
    for (let e11 of t33) if (R7.isIncremental(e11)) {
      let t34 = Dt(e11.range), r10 = this.offsetAt(t34.start), i10 = this.offsetAt(t34.end);
      this._content = this._content.substring(0, r10) + e11.text + this._content.substring(i10, this._content.length);
      let n10 = Math.max(t34.start.line, 0), a10 = Math.max(t34.end.line, 0), o10 = this._lineOffsets, s10 = R8(e11.text, false, r10);
      if (a10 - n10 === s10.length) for (let t35 = 0, e12 = s10.length; t35 < e12; t35++) o10[t35 + n10 + 1] = s10[t35];
      else s10.length < 1e4 ? o10.splice(n10 + 1, a10 - n10, ...s10) : this._lineOffsets = o10 = o10.slice(0, n10 + 1).concat(s10, o10.slice(a10 + 1));
      let l10 = e11.text.length - (i10 - r10);
      if (0 !== l10) for (let t35 = n10 + 1 + s10.length, e12 = o10.length; t35 < e12; t35++) o10[t35] = o10[t35] + l10;
    } else if (R7.isFull(e11)) this._content = e11.text, this._lineOffsets = void 0;
    else throw Error("Unknown change event received");
    this._version = e10;
  }
  getLineOffsets() {
    return void 0 === this._lineOffsets && (this._lineOffsets = R8(this._content, true)), this._lineOffsets;
  }
  positionAt(t33) {
    t33 = Math.max(Math.min(t33, this._content.length), 0);
    let e10 = this.getLineOffsets(), r10 = 0, i10 = e10.length;
    if (0 === i10) return { line: 0, character: t33 };
    for (; r10 < i10; ) {
      let n11 = Math.floor((r10 + i10) / 2);
      e10[n11] > t33 ? i10 = n11 : r10 = n11 + 1;
    }
    let n10 = r10 - 1;
    return t33 = this.ensureBeforeEOL(t33, e10[n10]), { line: n10, character: t33 - e10[n10] };
  }
  offsetAt(t33) {
    let e10 = this.getLineOffsets();
    if (t33.line >= e10.length) return this._content.length;
    if (t33.line < 0) return 0;
    let r10 = e10[t33.line];
    if (t33.character <= 0) return r10;
    let i10 = t33.line + 1 < e10.length ? e10[t33.line + 1] : this._content.length, n10 = Math.min(r10 + t33.character, i10);
    return this.ensureBeforeEOL(n10, r10);
  }
  ensureBeforeEOL(t33, e10) {
    for (; t33 > e10 && R9(this._content.charCodeAt(t33 - 1)); ) t33--;
    return t33;
  }
  get lineCount() {
    return this.getLineOffsets().length;
  }
  static isIncremental(t33) {
    return null != t33 && "string" == typeof t33.text && void 0 !== t33.range && (void 0 === t33.rangeLength || "number" == typeof t33.rangeLength);
  }
  static isFull(t33) {
    return null != t33 && "string" == typeof t33.text && void 0 === t33.range && void 0 === t33.rangeLength;
  }
}
function R8(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i10 = e10 ? [r10] : [];
  for (let e11 = 0; e11 < t33.length; e11++) {
    let n10 = t33.charCodeAt(e11);
    R9(n10) && (13 === n10 && e11 + 1 < t33.length && 10 === t33.charCodeAt(e11 + 1) && e11++, i10.push(r10 + e11 + 1));
  }
  return i10;
}
function R9(t33) {
  return 13 === t33 || 10 === t33;
}
function Dt(t33) {
  let e10 = t33.start, r10 = t33.end;
  return e10.line > r10.line || e10.line === r10.line && e10.character > r10.character ? { start: r10, end: e10 } : t33;
}
function De(t33) {
  let e10 = Dt(t33.range);
  return e10 !== t33.range ? { newText: t33.newText, range: e10 } : t33;
}
(Jf = tt8 || (tt8 = {})).create = function(t33, e10, r10, i10) {
  return new R7(t33, e10, r10, i10);
}, Jf.update = function(t33, e10, r10) {
  if (t33 instanceof R7) return t33.update(e10, r10), t33;
  throw Error("TextDocument.update: document must be created by TextDocument.create");
}, Jf.applyEdits = function(t33, e10) {
  let r10 = t33.getText(), i10 = function t34(e11, r11) {
    if (e11.length <= 1) return e11;
    let i11 = e11.length / 2 | 0, n11 = e11.slice(0, i11), a11 = e11.slice(i11);
    t34(n11, r11), t34(a11, r11);
    let o10 = 0, s10 = 0, l10 = 0;
    for (; o10 < n11.length && s10 < a11.length; ) 0 >= r11(n11[o10], a11[s10]) ? e11[l10++] = n11[o10++] : e11[l10++] = a11[s10++];
    for (; o10 < n11.length; ) e11[l10++] = n11[o10++];
    for (; s10 < a11.length; ) e11[l10++] = a11[s10++];
    return e11;
  }(e10.map(De), (t34, e11) => {
    let r11 = t34.range.start.line - e11.range.start.line;
    return 0 === r11 ? t34.range.start.character - e11.range.start.character : r11;
  }), n10 = 0, a10 = [];
  for (let e11 of i10) {
    let i11 = t33.offsetAt(e11.range.start);
    if (i11 < n10) throw Error("Overlapping edit");
    i11 > n10 && a10.push(r10.substring(n10, i11)), e11.newText.length && a10.push(e11.newText), n10 = t33.offsetAt(e11.range.end);
  }
  return a10.push(r10.substr(n10)), a10.join("");
}, (() => {
  var t33 = { 470: (t34) => {
    function e11(t35) {
      if ("string" != typeof t35) throw TypeError("Path must be a string. Received " + JSON.stringify(t35));
    }
    function r11(t35, e12) {
      for (var r12, i12 = "", n10 = 0, a10 = -1, o10 = 0, s10 = 0; s10 <= t35.length; ++s10) {
        if (s10 < t35.length) r12 = t35.charCodeAt(s10);
        else {
          if (47 === r12) break;
          r12 = 47;
        }
        if (47 === r12) {
          if (a10 === s10 - 1 || 1 === o10) ;
          else if (a10 !== s10 - 1 && 2 === o10) {
            if (i12.length < 2 || 2 !== n10 || 46 !== i12.charCodeAt(i12.length - 1) || 46 !== i12.charCodeAt(i12.length - 2)) {
              if (i12.length > 2) {
                var l10 = i12.lastIndexOf("/");
                if (l10 !== i12.length - 1) {
                  -1 === l10 ? (i12 = "", n10 = 0) : n10 = (i12 = i12.slice(0, l10)).length - 1 - i12.lastIndexOf("/"), a10 = s10, o10 = 0;
                  continue;
                }
              } else if (2 === i12.length || 1 === i12.length) {
                i12 = "", n10 = 0, a10 = s10, o10 = 0;
                continue;
              }
            }
            e12 && (i12.length > 0 ? i12 += "/.." : i12 = "..", n10 = 2);
          } else i12.length > 0 ? i12 += "/" + t35.slice(a10 + 1, s10) : i12 = t35.slice(a10 + 1, s10), n10 = s10 - a10 - 1;
          a10 = s10, o10 = 0;
        } else 46 === r12 && -1 !== o10 ? ++o10 : o10 = -1;
      }
      return i12;
    }
    var i11 = { resolve: function() {
      for (var t35, i12, n10 = "", a10 = false, o10 = arguments.length - 1; o10 >= -1 && !a10; o10--) o10 >= 0 ? t35 = arguments[o10] : (void 0 === i12 && (i12 = process.cwd()), t35 = i12), e11(t35), 0 !== t35.length && (n10 = t35 + "/" + n10, a10 = 47 === t35.charCodeAt(0));
      return n10 = r11(n10, !a10), a10 ? n10.length > 0 ? "/" + n10 : "/" : n10.length > 0 ? n10 : ".";
    }, normalize: function(t35) {
      if (e11(t35), 0 === t35.length) return ".";
      var i12 = 47 === t35.charCodeAt(0), n10 = 47 === t35.charCodeAt(t35.length - 1);
      return 0 !== (t35 = r11(t35, !i12)).length || i12 || (t35 = "."), t35.length > 0 && n10 && (t35 += "/"), i12 ? "/" + t35 : t35;
    }, isAbsolute: function(t35) {
      return e11(t35), t35.length > 0 && 47 === t35.charCodeAt(0);
    }, join: function() {
      if (0 == arguments.length) return ".";
      for (var t35, r12 = 0; r12 < arguments.length; ++r12) {
        var n10 = arguments[r12];
        e11(n10), n10.length > 0 && (void 0 === t35 ? t35 = n10 : t35 += "/" + n10);
      }
      return void 0 === t35 ? "." : i11.normalize(t35);
    }, relative: function(t35, r12) {
      if (e11(t35), e11(r12), t35 === r12 || (t35 = i11.resolve(t35)) === (r12 = i11.resolve(r12))) return "";
      for (var n10 = 1; n10 < t35.length && 47 === t35.charCodeAt(n10); ++n10) ;
      for (var a10 = t35.length, o10 = a10 - n10, s10 = 1; s10 < r12.length && 47 === r12.charCodeAt(s10); ++s10) ;
      for (var l10 = r12.length - s10, h10 = o10 < l10 ? o10 : l10, u10 = -1, d10 = 0; d10 <= h10; ++d10) {
        if (d10 === h10) {
          if (l10 > h10) {
            if (47 === r12.charCodeAt(s10 + d10)) return r12.slice(s10 + d10 + 1);
            if (0 === d10) return r12.slice(s10 + d10);
          } else o10 > h10 && (47 === t35.charCodeAt(n10 + d10) ? u10 = d10 : 0 === d10 && (u10 = 0));
          break;
        }
        var p10 = t35.charCodeAt(n10 + d10);
        if (p10 !== r12.charCodeAt(s10 + d10)) break;
        47 === p10 && (u10 = d10);
      }
      var g10 = "";
      for (d10 = n10 + u10 + 1; d10 <= a10; ++d10) d10 !== a10 && 47 !== t35.charCodeAt(d10) || (0 === g10.length ? g10 += ".." : g10 += "/..");
      return g10.length > 0 ? g10 + r12.slice(s10 + u10) : (s10 += u10, 47 === r12.charCodeAt(s10) && ++s10, r12.slice(s10));
    }, _makeLong: function(t35) {
      return t35;
    }, dirname: function(t35) {
      if (e11(t35), 0 === t35.length) return ".";
      for (var r12 = t35.charCodeAt(0), i12 = 47 === r12, n10 = -1, a10 = true, o10 = t35.length - 1; o10 >= 1; --o10) if (47 === (r12 = t35.charCodeAt(o10))) {
        if (!a10) {
          n10 = o10;
          break;
        }
      } else a10 = false;
      return -1 === n10 ? i12 ? "/" : "." : i12 && 1 === n10 ? "//" : t35.slice(0, n10);
    }, basename: function(t35, r12) {
      if (void 0 !== r12 && "string" != typeof r12) throw TypeError('"ext" argument must be a string');
      e11(t35);
      var i12, n10 = 0, a10 = -1, o10 = true;
      if (void 0 !== r12 && r12.length > 0 && r12.length <= t35.length) {
        if (r12.length === t35.length && r12 === t35) return "";
        var s10 = r12.length - 1, l10 = -1;
        for (i12 = t35.length - 1; i12 >= 0; --i12) {
          var h10 = t35.charCodeAt(i12);
          if (47 === h10) {
            if (!o10) {
              n10 = i12 + 1;
              break;
            }
          } else -1 === l10 && (o10 = false, l10 = i12 + 1), s10 >= 0 && (h10 === r12.charCodeAt(s10) ? -1 == --s10 && (a10 = i12) : (s10 = -1, a10 = l10));
        }
        return n10 === a10 ? a10 = l10 : -1 === a10 && (a10 = t35.length), t35.slice(n10, a10);
      }
      for (i12 = t35.length - 1; i12 >= 0; --i12) if (47 === t35.charCodeAt(i12)) {
        if (!o10) {
          n10 = i12 + 1;
          break;
        }
      } else -1 === a10 && (o10 = false, a10 = i12 + 1);
      return -1 === a10 ? "" : t35.slice(n10, a10);
    }, extname: function(t35) {
      e11(t35);
      for (var r12 = -1, i12 = 0, n10 = -1, a10 = true, o10 = 0, s10 = t35.length - 1; s10 >= 0; --s10) {
        var l10 = t35.charCodeAt(s10);
        if (47 !== l10) -1 === n10 && (a10 = false, n10 = s10 + 1), 46 === l10 ? -1 === r12 ? r12 = s10 : 1 !== o10 && (o10 = 1) : -1 !== r12 && (o10 = -1);
        else if (!a10) {
          i12 = s10 + 1;
          break;
        }
      }
      return -1 === r12 || -1 === n10 || 0 === o10 || 1 === o10 && r12 === n10 - 1 && r12 === i12 + 1 ? "" : t35.slice(r12, n10);
    }, format: function(t35) {
      var e12, r12;
      if (null === t35 || "object" != typeof t35) throw TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof t35);
      return e12 = t35.dir || t35.root, r12 = t35.base || (t35.name || "") + (t35.ext || ""), e12 ? e12 === t35.root ? e12 + r12 : e12 + "/" + r12 : r12;
    }, parse: function(t35) {
      e11(t35);
      var r12 = { root: "", dir: "", base: "", ext: "", name: "" };
      if (0 === t35.length) return r12;
      var i12, n10 = t35.charCodeAt(0), a10 = 47 === n10;
      a10 ? (r12.root = "/", i12 = 1) : i12 = 0;
      for (var o10 = -1, s10 = 0, l10 = -1, h10 = true, u10 = t35.length - 1, d10 = 0; u10 >= i12; --u10) if (47 !== (n10 = t35.charCodeAt(u10))) -1 === l10 && (h10 = false, l10 = u10 + 1), 46 === n10 ? -1 === o10 ? o10 = u10 : 1 !== d10 && (d10 = 1) : -1 !== o10 && (d10 = -1);
      else if (!h10) {
        s10 = u10 + 1;
        break;
      }
      return -1 === o10 || -1 === l10 || 0 === d10 || 1 === d10 && o10 === l10 - 1 && o10 === s10 + 1 ? -1 !== l10 && (r12.base = r12.name = 0 === s10 && a10 ? t35.slice(1, l10) : t35.slice(s10, l10)) : (0 === s10 && a10 ? (r12.name = t35.slice(1, o10), r12.base = t35.slice(1, l10)) : (r12.name = t35.slice(s10, o10), r12.base = t35.slice(s10, l10)), r12.ext = t35.slice(o10, l10)), s10 > 0 ? r12.dir = t35.slice(0, s10 - 1) : a10 && (r12.dir = "/"), r12;
    }, sep: "/", delimiter: ":", win32: null, posix: null };
    i11.posix = i11, t34.exports = i11;
  } }, e10 = {};
  function r10(i11) {
    var n10 = e10[i11];
    if (void 0 !== n10) return n10.exports;
    var a10 = e10[i11] = { exports: {} };
    return t33[i11](a10, a10.exports, r10), a10.exports;
  }
  r10.d = (t34, e11) => {
    for (var i11 in e11) r10.o(e11, i11) && !r10.o(t34, i11) && Object.defineProperty(t34, i11, { enumerable: true, get: e11[i11] });
  }, r10.o = (t34, e11) => Object.prototype.hasOwnProperty.call(t34, e11), r10.r = (t34) => {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t34, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t34, "__esModule", { value: true });
  };
  var i10 = {};
  (() => {
    let t34;
    (r10.r(i10), r10.d(i10, { URI: () => l10, Utils: () => w10 }), "object" == typeof process) ? t34 = "win32" === process.platform : "object" == typeof navigator && (t34 = navigator.userAgent.indexOf("Windows") >= 0);
    let e11 = /^\w[\w\d+.-]*$/, n10 = /^\//, a10 = /^\/\//;
    function o10(t35, r11) {
      if (!t35.scheme && r11) throw Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t35.authority}", path: "${t35.path}", query: "${t35.query}", fragment: "${t35.fragment}"}`);
      if (t35.scheme && !e11.test(t35.scheme)) throw Error("[UriError]: Scheme contains illegal characters.");
      if (t35.path) {
        if (t35.authority) {
          if (!n10.test(t35.path)) throw Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');
        } else if (a10.test(t35.path)) throw Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")');
      }
    }
    let s10 = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;
    class l10 {
      constructor(t35, e12, r11, i11, n11, a11 = false) {
        __publicField(this, "scheme");
        __publicField(this, "authority");
        __publicField(this, "path");
        __publicField(this, "query");
        __publicField(this, "fragment");
        "object" == typeof t35 ? (this.scheme = t35.scheme || "", this.authority = t35.authority || "", this.path = t35.path || "", this.query = t35.query || "", this.fragment = t35.fragment || "") : (this.scheme = t35 || a11 ? t35 : "file", this.authority = e12 || "", this.path = function(t36, e13) {
          switch (t36) {
            case "https":
            case "http":
            case "file":
              e13 ? "/" !== e13[0] && (e13 = "/" + e13) : e13 = "/";
          }
          return e13;
        }(this.scheme, r11 || ""), this.query = i11 || "", this.fragment = n11 || "", o10(this, a11));
      }
      static isUri(t35) {
        return t35 instanceof l10 || !!t35 && "string" == typeof t35.authority && "string" == typeof t35.fragment && "string" == typeof t35.path && "string" == typeof t35.query && "string" == typeof t35.scheme && "string" == typeof t35.fsPath && "function" == typeof t35.with && "function" == typeof t35.toString;
      }
      get fsPath() {
        return f10(this);
      }
      with(t35) {
        if (!t35) return this;
        let { scheme: e12, authority: r11, path: i11, query: n11, fragment: a11 } = t35;
        return void 0 === e12 ? e12 = this.scheme : null === e12 && (e12 = ""), void 0 === r11 ? r11 = this.authority : null === r11 && (r11 = ""), void 0 === i11 ? i11 = this.path : null === i11 && (i11 = ""), void 0 === n11 ? n11 = this.query : null === n11 && (n11 = ""), void 0 === a11 ? a11 = this.fragment : null === a11 && (a11 = ""), e12 === this.scheme && r11 === this.authority && i11 === this.path && n11 === this.query && a11 === this.fragment ? this : new u10(e12, r11, i11, n11, a11);
      }
      static parse(t35) {
        let e12 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r11 = s10.exec(t35);
        return r11 ? new u10(r11[2] || "", x10(r11[4] || ""), x10(r11[5] || ""), x10(r11[7] || ""), x10(r11[9] || ""), e12) : new u10("", "", "", "", "");
      }
      static file(e12) {
        let r11 = "";
        if (t34 && (e12 = e12.replace(/\\/g, "/")), "/" === e12[0] && "/" === e12[1]) {
          let t35 = e12.indexOf("/", 2);
          -1 === t35 ? (r11 = e12.substring(2), e12 = "/") : (r11 = e12.substring(2, t35), e12 = e12.substring(t35) || "/");
        }
        return new u10("file", r11, e12, "", "");
      }
      static from(t35) {
        let e12 = new u10(t35.scheme, t35.authority, t35.path, t35.query, t35.fragment);
        return o10(e12, true), e12;
      }
      toString() {
        let t35 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return y10(this, t35);
      }
      toJSON() {
        return this;
      }
      static revive(t35) {
        if (t35) {
          if (t35 instanceof l10) return t35;
          {
            let e12 = new u10(t35);
            return e12._formatted = t35.external, e12._fsPath = t35._sep === h10 ? t35.fsPath : null, e12;
          }
        }
        return t35;
      }
    }
    let h10 = t34 ? 1 : void 0;
    class u10 extends l10 {
      constructor() {
        super(...arguments);
        __publicField(this, "_formatted", null);
        __publicField(this, "_fsPath", null);
      }
      get fsPath() {
        return this._fsPath || (this._fsPath = f10(this)), this._fsPath;
      }
      toString() {
        let t35 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return t35 ? y10(this, true) : (this._formatted || (this._formatted = y10(this, false)), this._formatted);
      }
      toJSON() {
        let t35 = { $mid: 1 };
        return this._fsPath && (t35.fsPath = this._fsPath, t35._sep = h10), this._formatted && (t35.external = this._formatted), this.path && (t35.path = this.path), this.scheme && (t35.scheme = this.scheme), this.authority && (t35.authority = this.authority), this.query && (t35.query = this.query), this.fragment && (t35.fragment = this.fragment), t35;
      }
    }
    let d10 = { 58: "%3A", 47: "%2F", 63: "%3F", 35: "%23", 91: "%5B", 93: "%5D", 64: "%40", 33: "%21", 36: "%24", 38: "%26", 39: "%27", 40: "%28", 41: "%29", 42: "%2A", 43: "%2B", 44: "%2C", 59: "%3B", 61: "%3D", 32: "%20" };
    function p10(t35, e12, r11) {
      let i11, n11 = -1;
      for (let a11 = 0; a11 < t35.length; a11++) {
        let o11 = t35.charCodeAt(a11);
        if (o11 >= 97 && o11 <= 122 || o11 >= 65 && o11 <= 90 || o11 >= 48 && o11 <= 57 || 45 === o11 || 46 === o11 || 95 === o11 || 126 === o11 || e12 && 47 === o11 || r11 && 91 === o11 || r11 && 93 === o11 || r11 && 58 === o11) -1 !== n11 && (i11 += encodeURIComponent(t35.substring(n11, a11)), n11 = -1), void 0 !== i11 && (i11 += t35.charAt(a11));
        else {
          void 0 === i11 && (i11 = t35.substr(0, a11));
          let e13 = d10[o11];
          void 0 !== e13 ? (-1 !== n11 && (i11 += encodeURIComponent(t35.substring(n11, a11)), n11 = -1), i11 += e13) : -1 === n11 && (n11 = a11);
        }
      }
      return -1 !== n11 && (i11 += encodeURIComponent(t35.substring(n11))), void 0 !== i11 ? i11 : t35;
    }
    function g10(t35) {
      let e12;
      for (let r11 = 0; r11 < t35.length; r11++) {
        let i11 = t35.charCodeAt(r11);
        35 === i11 || 63 === i11 ? (void 0 === e12 && (e12 = t35.substr(0, r11)), e12 += d10[i11]) : void 0 !== e12 && (e12 += t35[r11]);
      }
      return void 0 !== e12 ? e12 : t35;
    }
    function f10(e12, r11) {
      let i11;
      return i11 = e12.authority && e12.path.length > 1 && "file" === e12.scheme ? `//${e12.authority}${e12.path}` : 47 === e12.path.charCodeAt(0) && (e12.path.charCodeAt(1) >= 65 && 90 >= e12.path.charCodeAt(1) || e12.path.charCodeAt(1) >= 97 && 122 >= e12.path.charCodeAt(1)) && 58 === e12.path.charCodeAt(2) ? e12.path[1].toLowerCase() + e12.path.substr(2) : e12.path, t34 && (i11 = i11.replace(/\//g, "\\")), i11;
    }
    function y10(t35, e12) {
      let r11 = e12 ? g10 : p10, i11 = "", { scheme: n11, authority: a11, path: o11, query: s11, fragment: l11 } = t35;
      if (n11 && (i11 += n11, i11 += ":"), (a11 || "file" === n11) && (i11 += "/", i11 += "/"), a11) {
        let t36 = a11.indexOf("@");
        if (-1 !== t36) {
          let e13 = a11.substr(0, t36);
          a11 = a11.substr(t36 + 1), -1 === (t36 = e13.lastIndexOf(":")) ? i11 += r11(e13, false, false) : (i11 += r11(e13.substr(0, t36), false, false), i11 += ":", i11 += r11(e13.substr(t36 + 1), false, true)), i11 += "@";
        }
        -1 === (t36 = (a11 = a11.toLowerCase()).lastIndexOf(":")) ? i11 += r11(a11, false, true) : (i11 += r11(a11.substr(0, t36), false, true), i11 += a11.substr(t36));
      }
      if (o11) {
        if (o11.length >= 3 && 47 === o11.charCodeAt(0) && 58 === o11.charCodeAt(2)) {
          let t36 = o11.charCodeAt(1);
          t36 >= 65 && t36 <= 90 && (o11 = `/${String.fromCharCode(t36 + 32)}:${o11.substr(3)}`);
        } else if (o11.length >= 2 && 58 === o11.charCodeAt(1)) {
          let t36 = o11.charCodeAt(0);
          t36 >= 65 && t36 <= 90 && (o11 = `${String.fromCharCode(t36 + 32)}:${o11.substr(2)}`);
        }
        i11 += r11(o11, true, false);
      }
      return s11 && (i11 += "?", i11 += r11(s11, false, false)), l11 && (i11 += "#", i11 += e12 ? l11 : p10(l11, false, false)), i11;
    }
    let v10 = /(%[0-9A-Za-z][0-9A-Za-z])+/g;
    function x10(t35) {
      return t35.match(v10) ? t35.replace(v10, (t36) => function t37(e12) {
        try {
          return decodeURIComponent(e12);
        } catch {
          return e12.length > 3 ? e12.substr(0, 3) + t37(e12.substr(3)) : e12;
        }
      }(t36)) : t35;
    }
    var b10, w10, k10 = r10(470);
    let _10 = k10.posix || k10;
    (b10 = w10 || (w10 = {})).joinPath = function(t35) {
      for (var e12 = arguments.length, r11 = Array(e12 > 1 ? e12 - 1 : 0), i11 = 1; i11 < e12; i11++) r11[i11 - 1] = arguments[i11];
      return t35.with({ path: _10.join(t35.path, ...r11) });
    }, b10.resolvePath = function(t35) {
      for (var e12 = arguments.length, r11 = Array(e12 > 1 ? e12 - 1 : 0), i11 = 1; i11 < e12; i11++) r11[i11 - 1] = arguments[i11];
      let n11 = t35.path, a11 = false;
      "/" !== n11[0] && (n11 = "/" + n11, a11 = true);
      let o11 = _10.resolve(n11, ...r11);
      return a11 && "/" === o11[0] && !t35.authority && (o11 = o11.substring(1)), t35.with({ path: o11 });
    }, b10.dirname = function(t35) {
      if (0 === t35.path.length || "/" === t35.path) return t35;
      let e12 = _10.dirname(t35.path);
      return 1 === e12.length && 46 === e12.charCodeAt(0) && (e12 = ""), t35.with({ path: e12 });
    }, b10.basename = function(t35) {
      return _10.basename(t35.path);
    }, b10.extname = function(t35) {
      return _10.extname(t35.path);
    };
  })(), tt9 = i10;
})();
let { URI: Dr, Utils: Di } = tt9;
(Jm = tet || (tet = {})).basename = Di.basename, Jm.dirname = Di.dirname, Jm.extname = Di.extname, Jm.joinPath = Di.joinPath, Jm.resolvePath = Di.resolvePath, Jm.equals = function(t33, e10) {
  return (null == t33 ? void 0 : t33.toString()) === (null == e10 ? void 0 : e10.toString());
}, Jm.relative = function(t33, e10) {
  let r10 = "string" == typeof t33 ? t33 : t33.path, i10 = "string" == typeof e10 ? e10 : e10.path, n10 = r10.split("/").filter((t34) => t34.length > 0), a10 = i10.split("/").filter((t34) => t34.length > 0), o10 = 0;
  for (; o10 < n10.length && n10[o10] === a10[o10]; o10++) ;
  return "../".repeat(n10.length - o10) + a10.slice(o10).join("/");
}, (Jy = tee || (tee = {}))[Jy.Changed = 0] = "Changed", Jy[Jy.Parsed = 1] = "Parsed", Jy[Jy.IndexedContent = 2] = "IndexedContent", Jy[Jy.ComputedScopes = 3] = "ComputedScopes", Jy[Jy.Linked = 4] = "Linked", Jy[Jy.IndexedReferences = 5] = "IndexedReferences", Jy[Jy.Validated = 6] = "Validated";
class Dn {
  constructor(t33) {
    this.serviceRegistry = t33.ServiceRegistry, this.textDocuments = t33.workspace.TextDocuments, this.fileSystemProvider = t33.workspace.FileSystemProvider;
  }
  async fromUri(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None, r10 = await this.fileSystemProvider.readFile(t33);
    return this.createAsync(t33, r10, e10);
  }
  fromTextDocument(t33, e10, r10) {
    return (e10 = null != e10 ? e10 : Dr.parse(t33.uri), r10) ? this.createAsync(e10, t33, r10) : this.create(e10, t33);
  }
  fromString(t33, e10, r10) {
    return r10 ? this.createAsync(e10, t33, r10) : this.create(e10, t33);
  }
  fromModel(t33, e10) {
    return this.create(e10, { $model: t33 });
  }
  create(t33, e10) {
    if ("string" == typeof e10) {
      let r10 = this.parse(t33, e10);
      return this.createLangiumDocument(r10, t33, void 0, e10);
    }
    if ("$model" in e10) {
      let r10 = { value: e10.$model, parserErrors: [], lexerErrors: [] };
      return this.createLangiumDocument(r10, t33);
    }
    {
      let r10 = this.parse(t33, e10.getText());
      return this.createLangiumDocument(r10, t33, e10);
    }
  }
  async createAsync(t33, e10, r10) {
    if ("string" == typeof e10) {
      let i10 = await this.parseAsync(t33, e10, r10);
      return this.createLangiumDocument(i10, t33, void 0, e10);
    }
    {
      let i10 = await this.parseAsync(t33, e10.getText(), r10);
      return this.createLangiumDocument(i10, t33, e10);
    }
  }
  createLangiumDocument(t33, e10, r10, i10) {
    let n10;
    if (r10) n10 = { parseResult: t33, uri: e10, state: tee.Parsed, references: [], textDocument: r10 };
    else {
      let r11 = this.createTextDocumentGetter(e10, i10);
      n10 = { parseResult: t33, uri: e10, state: tee.Parsed, references: [], get textDocument() {
        return r11();
      } };
    }
    return t33.value.$document = n10, n10;
  }
  async update(t33, e10) {
    var r10, i10;
    let n10 = null === (r10 = t33.parseResult.value.$cstNode) || void 0 === r10 ? void 0 : r10.root.fullText, a10 = null === (i10 = this.textDocuments) || void 0 === i10 ? void 0 : i10.get(t33.uri.toString()), o10 = a10 ? a10.getText() : await this.fileSystemProvider.readFile(t33.uri);
    if (a10) Object.defineProperty(t33, "textDocument", { value: a10 });
    else {
      let e11 = this.createTextDocumentGetter(t33.uri, o10);
      Object.defineProperty(t33, "textDocument", { get: e11 });
    }
    return n10 !== o10 && (t33.parseResult = await this.parseAsync(t33.uri, o10, e10), t33.parseResult.value.$document = t33), t33.state = tee.Parsed, t33;
  }
  parse(t33, e10) {
    return this.serviceRegistry.getServices(t33).parser.LangiumParser.parse(e10);
  }
  parseAsync(t33, e10, r10) {
    return this.serviceRegistry.getServices(t33).parser.AsyncParser.parse(e10, r10);
  }
  createTextDocumentGetter(t33, e10) {
    let r10;
    let i10 = this.serviceRegistry;
    return () => null != r10 ? r10 : r10 = tt8.create(t33.toString(), i10.getServices(t33).LanguageMetaData.languageId, 0, null != e10 ? e10 : "");
  }
}
class Da {
  constructor(t33) {
    this.documentMap = /* @__PURE__ */ new Map(), this.langiumDocumentFactory = t33.workspace.LangiumDocumentFactory;
  }
  get all() {
    return L_(this.documentMap.values());
  }
  addDocument(t33) {
    let e10 = t33.uri.toString();
    if (this.documentMap.has(e10)) throw Error(`A document with the URI '${e10}' is already present.`);
    this.documentMap.set(e10, t33);
  }
  getDocument(t33) {
    let e10 = t33.toString();
    return this.documentMap.get(e10);
  }
  async getOrCreateDocument(t33, e10) {
    let r10 = this.getDocument(t33);
    return r10 || (r10 = await this.langiumDocumentFactory.fromUri(t33, e10), this.addDocument(r10)), r10;
  }
  createDocument(t33, e10, r10) {
    if (r10) return this.langiumDocumentFactory.fromString(e10, t33, r10).then((t34) => (this.addDocument(t34), t34));
    {
      let r11 = this.langiumDocumentFactory.fromString(e10, t33);
      return this.addDocument(r11), r11;
    }
  }
  hasDocument(t33) {
    return this.documentMap.has(t33.toString());
  }
  invalidateDocument(t33) {
    let e10 = t33.toString(), r10 = this.documentMap.get(e10);
    return r10 && (r10.state = tee.Changed, r10.precomputedScopes = void 0, r10.references = [], r10.diagnostics = void 0), r10;
  }
  deleteDocument(t33) {
    let e10 = t33.toString(), r10 = this.documentMap.get(e10);
    return r10 && (r10.state = tee.Changed, this.documentMap.delete(e10)), r10;
  }
}
class Do {
  constructor(t33) {
    this.reflection = t33.shared.AstReflection, this.langiumDocuments = () => t33.shared.workspace.LangiumDocuments, this.scopeProvider = t33.references.ScopeProvider, this.astNodeLocator = t33.workspace.AstNodeLocator;
  }
  async link(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None;
    for (let r10 of Nb(t33.parseResult.value)) await R3(e10), Nk(r10).forEach((e11) => this.doLink(e11, t33));
  }
  doLink(t33, e10) {
    let r10 = t33.reference;
    if (void 0 === r10._ref) try {
      let e11 = this.getCandidate(t33);
      if (Lg(e11)) r10._ref = e11;
      else if (r10._nodeDescription = e11, this.langiumDocuments().hasDocument(e11.documentUri)) {
        let i10 = this.loadAstNode(e11);
        r10._ref = null != i10 ? i10 : this.createLinkingError(t33, e11);
      }
    } catch (e11) {
      r10._ref = Object.assign(Object.assign({}, t33), { message: `An error occurred while resolving reference to '${r10.$refText}': ${e11}` });
    }
    e10.references.push(r10);
  }
  unlink(t33) {
    for (let e10 of t33.references) delete e10._ref, delete e10._nodeDescription;
    t33.references = [];
  }
  getCandidate(t33) {
    let e10 = this.scopeProvider.getScope(t33).getElement(t33.reference.$refText);
    return null != e10 ? e10 : this.createLinkingError(t33);
  }
  buildReference(t33, e10, r10, i10) {
    let n10 = this, a10 = { $refNode: r10, $refText: i10, get ref() {
      var o10, s10;
      if (Ld(this._ref)) return this._ref;
      if ("object" == typeof (s10 = this._nodeDescription) && null !== s10 && "string" == typeof s10.name && "string" == typeof s10.type && "string" == typeof s10.path) {
        let r11 = n10.loadAstNode(this._nodeDescription);
        this._ref = null != r11 ? r11 : n10.createLinkingError({ reference: a10, container: t33, property: e10 }, this._nodeDescription);
      } else if (void 0 === this._ref) {
        let r11 = n10.getLinkedNode({ reference: a10, container: t33, property: e10 });
        if (r11.error && Ny(t33).state < tee.ComputedScopes) return;
        this._ref = null !== (o10 = r11.node) && void 0 !== o10 ? o10 : r11.error, this._nodeDescription = r11.descr;
      }
      return Ld(this._ref) ? this._ref : void 0;
    }, get $nodeDescription() {
      return this._nodeDescription;
    }, get error() {
      return Lg(this._ref) ? this._ref : void 0;
    } };
    return a10;
  }
  getLinkedNode(t33) {
    try {
      let e10 = this.getCandidate(t33);
      if (Lg(e10)) return { error: e10 };
      let r10 = this.loadAstNode(e10);
      if (r10) return { node: r10, descr: e10 };
      return { descr: e10, error: this.createLinkingError(t33, e10) };
    } catch (e10) {
      return { error: Object.assign(Object.assign({}, t33), { message: `An error occurred while resolving reference to '${t33.reference.$refText}': ${e10}` }) };
    }
  }
  loadAstNode(t33) {
    if (t33.node) return t33.node;
    let e10 = this.langiumDocuments().getDocument(t33.documentUri);
    if (e10) return this.astNodeLocator.getAstNode(e10.parseResult.value, t33.path);
  }
  createLinkingError(t33, e10) {
    let r10 = Ny(t33.container);
    r10.state < tee.ComputedScopes && console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r10.uri}).`);
    let i10 = this.reflection.getReferenceType(t33);
    return Object.assign(Object.assign({}, t33), { message: `Could not resolve reference to ${i10} named '${t33.reference.$refText}'.`, targetDescription: e10 });
  }
}
class Ds {
  getName(t33) {
    if ("string" == typeof t33.name) return t33.name;
  }
  getNameNode(t33) {
    return NG(t33.$cstNode, "name");
  }
}
class Dl {
  constructor(t33) {
    this.nameProvider = t33.references.NameProvider, this.index = t33.shared.workspace.IndexManager, this.nodeLocator = t33.workspace.AstNodeLocator;
  }
  findDeclaration(t33) {
    if (t33) {
      let e10 = function(t34) {
        var e11;
        let r11 = t34.astNode;
        for (; r11 === (null === (e11 = t34.container) || void 0 === e11 ? void 0 : e11.astNode); ) {
          let e12 = Nm(t34.grammarSource, L5);
          if (e12) return e12;
          t34 = t34.container;
        }
      }(t33), r10 = t33.astNode;
      if (e10 && r10) {
        let i10 = r10[e10.feature];
        if (Lp(i10)) return i10.ref;
        if (Array.isArray(i10)) {
          for (let e11 of i10) if (Lp(e11) && e11.$refNode && e11.$refNode.offset <= t33.offset && e11.$refNode.end >= t33.end) return e11.ref;
        }
      }
      if (r10) {
        let e11 = this.nameProvider.getNameNode(r10);
        if (e11 && (e11 === t33 || function(t34, e12) {
          for (; t34.container; ) if ((t34 = t34.container) === e12) return true;
          return false;
        }(t33, e11))) return r10;
      }
    }
  }
  findDeclarationNode(t33) {
    let e10 = this.findDeclaration(t33);
    if (null == e10 ? void 0 : e10.$cstNode) {
      let t34 = this.nameProvider.getNameNode(e10);
      return null != t34 ? t34 : e10.$cstNode;
    }
  }
  findReferences(t33, e10) {
    let r10 = [];
    if (e10.includeDeclaration) {
      let e11 = this.getReferenceToSelf(t33);
      e11 && r10.push(e11);
    }
    let i10 = this.index.findAllReferences(t33, this.nodeLocator.getAstNodePath(t33));
    return e10.documentUri && (i10 = i10.filter((t34) => tet.equals(t34.sourceUri, e10.documentUri))), r10.push(...i10), L_(r10);
  }
  getReferenceToSelf(t33) {
    let e10 = this.nameProvider.getNameNode(t33);
    if (e10) {
      let r10 = Ny(t33), i10 = this.nodeLocator.getAstNodePath(t33);
      return { sourceUri: r10.uri, sourcePath: i10, targetUri: r10.uri, targetPath: i10, segment: LS(e10), local: true };
    }
  }
}
class Dh {
  constructor(t33) {
    if (this.map = /* @__PURE__ */ new Map(), t33) for (let [e10, r10] of t33) this.add(e10, r10);
  }
  get size() {
    return JO.sum(L_(this.map.values()).map((t33) => t33.length));
  }
  clear() {
    this.map.clear();
  }
  delete(t33, e10) {
    if (void 0 === e10) return this.map.delete(t33);
    {
      let r10 = this.map.get(t33);
      if (r10) {
        let i10 = r10.indexOf(e10);
        if (i10 >= 0) return 1 === r10.length ? this.map.delete(t33) : r10.splice(i10, 1), true;
      }
      return false;
    }
  }
  get(t33) {
    var e10;
    return null !== (e10 = this.map.get(t33)) && void 0 !== e10 ? e10 : [];
  }
  has(t33, e10) {
    if (void 0 === e10) return this.map.has(t33);
    {
      let r10 = this.map.get(t33);
      return !!r10 && r10.indexOf(e10) >= 0;
    }
  }
  add(t33, e10) {
    return this.map.has(t33) ? this.map.get(t33).push(e10) : this.map.set(t33, [e10]), this;
  }
  addAll(t33, e10) {
    return this.map.has(t33) ? this.map.get(t33).push(...e10) : this.map.set(t33, Array.from(e10)), this;
  }
  forEach(t33) {
    this.map.forEach((e10, r10) => e10.forEach((e11) => t33(e11, r10, this)));
  }
  [Symbol.iterator]() {
    return this.entries().iterator();
  }
  entries() {
    return L_(this.map.entries()).flatMap((t33) => {
      let [e10, r10] = t33;
      return r10.map((t34) => [e10, t34]);
    });
  }
  keys() {
    return L_(this.map.keys());
  }
  values() {
    return L_(this.map.values()).flat();
  }
  entriesGroupedByKey() {
    return L_(this.map.entries());
  }
}
class Dc {
  get size() {
    return this.map.size;
  }
  constructor(t33) {
    if (this.map = /* @__PURE__ */ new Map(), this.inverse = /* @__PURE__ */ new Map(), t33) for (let [e10, r10] of t33) this.set(e10, r10);
  }
  clear() {
    this.map.clear(), this.inverse.clear();
  }
  set(t33, e10) {
    return this.map.set(t33, e10), this.inverse.set(e10, t33), this;
  }
  get(t33) {
    return this.map.get(t33);
  }
  getKey(t33) {
    return this.inverse.get(t33);
  }
  delete(t33) {
    let e10 = this.map.get(t33);
    return void 0 !== e10 && (this.map.delete(t33), this.inverse.delete(e10), true);
  }
}
class Du {
  constructor(t33) {
    this.nameProvider = t33.references.NameProvider, this.descriptions = t33.workspace.AstNodeDescriptionProvider;
  }
  async computeExports(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None;
    return this.computeExportsForNode(t33.parseResult.value, t33, void 0, e10);
  }
  async computeExportsForNode(t33, e10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Nv, i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : R2.CancellationToken.None, n10 = [];
    for (let a10 of (this.exportNode(t33, n10, e10), r10(t33))) await R3(i10), this.exportNode(a10, n10, e10);
    return n10;
  }
  exportNode(t33, e10, r10) {
    let i10 = this.nameProvider.getName(t33);
    i10 && e10.push(this.descriptions.createDescription(t33, i10, r10));
  }
  async computeLocalScopes(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None, r10 = t33.parseResult.value, i10 = new Dh();
    for (let n10 of Nx(r10)) await R3(e10), this.processNode(n10, t33, i10);
    return i10;
  }
  processNode(t33, e10, r10) {
    let i10 = t33.$container;
    if (i10) {
      let n10 = this.nameProvider.getName(t33);
      n10 && r10.add(i10, this.descriptions.createDescription(t33, n10, e10));
    }
  }
}
class Dd {
  constructor(t33, e10, r10) {
    var i10;
    this.elements = t33, this.outerScope = e10, this.caseInsensitive = null !== (i10 = null == r10 ? void 0 : r10.caseInsensitive) && void 0 !== i10 && i10;
  }
  getAllElements() {
    return this.outerScope ? this.elements.concat(this.outerScope.getAllElements()) : this.elements;
  }
  getElement(t33) {
    return (this.caseInsensitive ? this.elements.find((e10) => e10.name.toLowerCase() === t33.toLowerCase()) : this.elements.find((e10) => e10.name === t33)) || (this.outerScope ? this.outerScope.getElement(t33) : void 0);
  }
}
class Dp {
  constructor(t33, e10, r10) {
    var i10;
    for (let e11 of (this.elements = /* @__PURE__ */ new Map(), this.caseInsensitive = null !== (i10 = null == r10 ? void 0 : r10.caseInsensitive) && void 0 !== i10 && i10, t33)) {
      let t34 = this.caseInsensitive ? e11.name.toLowerCase() : e11.name;
      this.elements.set(t34, e11);
    }
    this.outerScope = e10;
  }
  getElement(t33) {
    let e10 = this.caseInsensitive ? t33.toLowerCase() : t33;
    return this.elements.get(e10) || (this.outerScope ? this.outerScope.getElement(t33) : void 0);
  }
  getAllElements() {
    let t33 = L_(this.elements.values());
    return this.outerScope && (t33 = t33.concat(this.outerScope.getAllElements())), t33;
  }
}
class Dg {
  constructor() {
    this.toDispose = [], this.isDisposed = false;
  }
  onDispose(t33) {
    this.toDispose.push(t33);
  }
  dispose() {
    this.throwIfDisposed(), this.clear(), this.isDisposed = true, this.toDispose.forEach((t33) => t33.dispose());
  }
  throwIfDisposed() {
    if (this.isDisposed) throw Error("This cache has already been disposed");
  }
}
class Df extends Dg {
  constructor() {
    super(...arguments), this.cache = /* @__PURE__ */ new Map();
  }
  has(t33) {
    return this.throwIfDisposed(), this.cache.has(t33);
  }
  set(t33, e10) {
    this.throwIfDisposed(), this.cache.set(t33, e10);
  }
  get(t33, e10) {
    if (this.throwIfDisposed(), this.cache.has(t33)) return this.cache.get(t33);
    if (e10) {
      let r10 = e10();
      return this.cache.set(t33, r10), r10;
    }
  }
  delete(t33) {
    return this.throwIfDisposed(), this.cache.delete(t33);
  }
  clear() {
    this.throwIfDisposed(), this.cache.clear();
  }
}
class Dm extends Dg {
  constructor(t33) {
    super(), this.cache = /* @__PURE__ */ new Map(), this.converter = null != t33 ? t33 : (t34) => t34;
  }
  has(t33, e10) {
    return this.throwIfDisposed(), this.cacheForContext(t33).has(e10);
  }
  set(t33, e10, r10) {
    this.throwIfDisposed(), this.cacheForContext(t33).set(e10, r10);
  }
  get(t33, e10, r10) {
    this.throwIfDisposed();
    let i10 = this.cacheForContext(t33);
    if (i10.has(e10)) return i10.get(e10);
    if (r10) {
      let t34 = r10();
      return i10.set(e10, t34), t34;
    }
  }
  delete(t33, e10) {
    return this.throwIfDisposed(), this.cacheForContext(t33).delete(e10);
  }
  clear(t33) {
    if (this.throwIfDisposed(), t33) {
      let e10 = this.converter(t33);
      this.cache.delete(e10);
    } else this.cache.clear();
  }
  cacheForContext(t33) {
    let e10 = this.converter(t33), r10 = this.cache.get(e10);
    return r10 || (r10 = /* @__PURE__ */ new Map(), this.cache.set(e10, r10)), r10;
  }
}
class Dy extends Df {
  constructor(t33) {
    super(), this.onDispose(t33.workspace.DocumentBuilder.onUpdate(() => {
      this.clear();
    }));
  }
}
class Dv {
  constructor(t33) {
    this.reflection = t33.shared.AstReflection, this.nameProvider = t33.references.NameProvider, this.descriptions = t33.workspace.AstNodeDescriptionProvider, this.indexManager = t33.shared.workspace.IndexManager, this.globalScopeCache = new Dy(t33.shared);
  }
  getScope(t33) {
    let e10 = [], r10 = this.reflection.getReferenceType(t33), i10 = Ny(t33.container).precomputedScopes;
    if (i10) {
      let n11 = t33.container;
      do {
        let t34 = i10.get(n11);
        t34.length > 0 && e10.push(L_(t34).filter((t35) => this.reflection.isSubtype(t35.type, r10))), n11 = n11.$container;
      } while (n11);
    }
    let n10 = this.getGlobalScope(r10, t33);
    for (let t34 = e10.length - 1; t34 >= 0; t34--) n10 = this.createScope(e10[t34], n10);
    return n10;
  }
  createScope(t33, e10, r10) {
    return new Dd(L_(t33), e10, r10);
  }
  createScopeForNodes(t33, e10, r10) {
    return new Dd(L_(t33).map((t34) => {
      let e11 = this.nameProvider.getName(t34);
      if (e11) return this.descriptions.createDescription(t34, e11);
    }).nonNullable(), e10, r10);
  }
  getGlobalScope(t33, e10) {
    return this.globalScopeCache.get(t33, () => new Dp(this.indexManager.allElements(t33)));
  }
}
function Dx(t33) {
  return "object" == typeof t33 && !!t33 && ("$ref" in t33 || "$error" in t33);
}
class Db {
  constructor(t33) {
    this.ignoreProperties = /* @__PURE__ */ new Set(["$container", "$containerProperty", "$containerIndex", "$document", "$cstNode"]), this.langiumDocuments = t33.shared.workspace.LangiumDocuments, this.astNodeLocator = t33.workspace.AstNodeLocator, this.nameProvider = t33.references.NameProvider, this.commentProvider = t33.documentation.CommentProvider;
  }
  serialize(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = null == e10 ? void 0 : e10.replacer, i10 = (t34, r11) => this.replacer(t34, r11, e10), n10 = r10 ? (t34, e11) => r10(t34, e11, i10) : i10;
    try {
      return this.currentDocument = Ny(t33), JSON.stringify(t33, n10, null == e10 ? void 0 : e10.space);
    } finally {
      this.currentDocument = void 0;
    }
  }
  deserialize(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = JSON.parse(t33);
    return this.linkNode(r10, r10, e10), r10;
  }
  replacer(t33, e10, r10) {
    var i10, n10, a10, o10;
    let { refText: s10, sourceText: l10, textRegions: h10, comments: u10, uriConverter: d10 } = r10;
    if (!this.ignoreProperties.has(t33)) {
      if (Lp(e10)) {
        let t34 = e10.ref, r11 = s10 ? e10.$refText : void 0;
        if (!t34) return { $error: null !== (n10 = null === (i10 = e10.error) || void 0 === i10 ? void 0 : i10.message) && void 0 !== n10 ? n10 : "Could not resolve reference", $refText: r11 };
        {
          let i11 = Ny(t34), n11 = "";
          this.currentDocument && this.currentDocument !== i11 && (n11 = d10 ? d10(i11.uri, e10) : i11.uri.toString());
          let a11 = this.astNodeLocator.getAstNodePath(t34);
          return { $ref: `${n11}#${a11}`, $refText: r11 };
        }
      }
      if (!Ld(e10)) return e10;
      {
        let r11;
        if (h10 && (r11 = this.addAstNodeRegionWithAssignmentsTo(Object.assign({}, e10)), (!t33 || e10.$document) && (null == r11 ? void 0 : r11.$textRegion) && (r11.$textRegion.documentURI = null === (a10 = this.currentDocument) || void 0 === a10 ? void 0 : a10.uri.toString())), l10 && !t33 && (null != r11 || (r11 = Object.assign({}, e10)), r11.$sourceText = null === (o10 = e10.$cstNode) || void 0 === o10 ? void 0 : o10.text), u10) {
          null != r11 || (r11 = Object.assign({}, e10));
          let t34 = this.commentProvider.getComment(e10);
          t34 && (r11.$comment = t34.replace(/\r/g, ""));
        }
        return null != r11 ? r11 : e10;
      }
    }
  }
  addAstNodeRegionWithAssignmentsTo(t33) {
    let e10 = (t34) => ({ offset: t34.offset, end: t34.end, length: t34.length, range: t34.range });
    if (t33.$cstNode) {
      let r10 = (t33.$textRegion = e10(t33.$cstNode)).assignments = {};
      return Object.keys(t33).filter((t34) => !t34.startsWith("$")).forEach((i10) => {
        var n10;
        let a10 = ((n10 = t33.$cstNode) && i10 ? Nq(n10, i10, n10.astNode, true) : []).map(e10);
        0 !== a10.length && (r10[i10] = a10);
      }), t33;
    }
  }
  linkNode(t33, e10, r10, i10, n10, a10) {
    for (let [i11, n11] of Object.entries(t33)) if (Array.isArray(n11)) for (let a11 = 0; a11 < n11.length; a11++) {
      let o10 = n11[a11];
      Dx(o10) ? n11[a11] = this.reviveReference(t33, i11, e10, o10, r10) : Ld(o10) && this.linkNode(o10, e10, r10, t33, i11, a11);
    }
    else Dx(n11) ? t33[i11] = this.reviveReference(t33, i11, e10, n11, r10) : Ld(n11) && this.linkNode(n11, e10, r10, t33, i11);
    t33.$container = i10, t33.$containerProperty = n10, t33.$containerIndex = a10;
  }
  reviveReference(t33, e10, r10, i10, n10) {
    let a10 = i10.$refText, o10 = i10.$error;
    if (i10.$ref) {
      let t34 = this.getRefNode(r10, i10.$ref, n10.uriConverter);
      if (Ld(t34)) return a10 || (a10 = this.nameProvider.getName(t34)), { $refText: null != a10 ? a10 : "", ref: t34 };
      o10 = t34;
    }
    if (o10) {
      let r11 = { $refText: null != a10 ? a10 : "" };
      return r11.error = { container: t33, property: e10, message: o10, reference: r11 }, r11;
    }
  }
  getRefNode(t33, e10, r10) {
    try {
      let i10 = e10.indexOf("#");
      if (0 === i10) {
        let r11 = this.astNodeLocator.getAstNode(t33, e10.substring(1));
        if (!r11) return "Could not resolve path: " + e10;
        return r11;
      }
      if (i10 < 0) {
        let t34 = r10 ? r10(e10) : Dr.parse(e10), i11 = this.langiumDocuments.getDocument(t34);
        if (!i11) return "Could not find document for URI: " + e10;
        return i11.parseResult.value;
      }
      let n10 = r10 ? r10(e10.substring(0, i10)) : Dr.parse(e10.substring(0, i10)), a10 = this.langiumDocuments.getDocument(n10);
      if (!a10) return "Could not find document for URI: " + e10;
      if (i10 === e10.length - 1) return a10.parseResult.value;
      let o10 = this.astNodeLocator.getAstNode(a10.parseResult.value, e10.substring(i10 + 1));
      if (!o10) return "Could not resolve URI: " + e10;
      return o10;
    } catch (t34) {
      return String(t34);
    }
  }
}
class Dw {
  register(t33) {
    if (!this.singleton && !this.map) {
      this.singleton = t33;
      return;
    }
    if (!this.map && (this.map = {}, this.singleton)) {
      for (let t34 of this.singleton.LanguageMetaData.fileExtensions) this.map[t34] = this.singleton;
      this.singleton = void 0;
    }
    for (let e10 of t33.LanguageMetaData.fileExtensions) void 0 !== this.map[e10] && this.map[e10] !== t33 && console.warn(`The file extension ${e10} is used by multiple languages. It is now assigned to '${t33.LanguageMetaData.languageId}'.`), this.map[e10] = t33;
  }
  getServices(t33) {
    if (void 0 !== this.singleton) return this.singleton;
    if (void 0 === this.map) throw Error("The service registry is empty. Use `register` to register the services of a language.");
    let e10 = tet.extname(t33), r10 = this.map[e10];
    if (!r10) throw Error(`The service registry contains no services for the extension '${e10}'.`);
    return r10;
  }
  get all() {
    return void 0 !== this.singleton ? [this.singleton] : void 0 !== this.map ? Object.values(this.map) : [];
  }
}
(ter || (ter = {})).all = ["fast", "slow", "built-in"];
class Dk {
  constructor(t33) {
    this.entries = new Dh(), this.reflection = t33.shared.AstReflection;
  }
  register(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "fast";
    if ("built-in" === r10) throw Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");
    for (let [i10, n10] of Object.entries(t33)) if (Array.isArray(n10)) for (let t34 of n10) {
      let n11 = { check: this.wrapValidationException(t34, e10), category: r10 };
      this.addEntry(i10, n11);
    }
    else if ("function" == typeof n10) {
      let t34 = { check: this.wrapValidationException(n10, e10), category: r10 };
      this.addEntry(i10, t34);
    }
  }
  wrapValidationException(t33, e10) {
    return async (r10, i10, n10) => {
      try {
        await t33.call(e10, r10, i10, n10);
      } catch (e11) {
        if (e11 === R5) throw e11;
        console.error("An error occurred during validation:", e11);
        let t34 = e11 instanceof Error ? e11.message : String(e11);
        e11 instanceof Error && e11.stack && console.error(e11.stack), i10("error", "An error occurred during validation: " + t34, { node: r10 });
      }
    };
  }
  addEntry(t33, e10) {
    if ("AstNode" === t33) {
      this.entries.add("AstNode", e10);
      return;
    }
    for (let r10 of this.reflection.getAllSubTypes(t33)) this.entries.add(r10, e10);
  }
  getChecks(t33, e10) {
    let r10 = L_(this.entries.get(t33)).concat(this.entries.get("AstNode"));
    return e10 && (r10 = r10.filter((t34) => e10.includes(t34.category))), r10.map((t34) => t34.check);
  }
}
class D_ {
  constructor(t33) {
    this.validationRegistry = t33.validation.ValidationRegistry, this.metadata = t33.LanguageMetaData;
  }
  async validateDocument(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : R2.CancellationToken.None, i10 = t33.parseResult, n10 = [];
    if (await R3(r10), (!e10.categories || e10.categories.includes("built-in")) && (this.processLexingErrors(i10, n10, e10), e10.stopAfterLexingErrors && n10.some((t34) => {
      var e11;
      return (null === (e11 = t34.data) || void 0 === e11 ? void 0 : e11.code) === tei.LexingError;
    }) || (this.processParsingErrors(i10, n10, e10), e10.stopAfterParsingErrors && n10.some((t34) => {
      var e11;
      return (null === (e11 = t34.data) || void 0 === e11 ? void 0 : e11.code) === tei.ParsingError;
    })) || (this.processLinkingErrors(t33, n10, e10), e10.stopAfterLinkingErrors && n10.some((t34) => {
      var e11;
      return (null === (e11 = t34.data) || void 0 === e11 ? void 0 : e11.code) === tei.LinkingError;
    })))) return n10;
    try {
      n10.push(...await this.validateAst(i10.value, e10, r10));
    } catch (t34) {
      if (t34 === R5) throw t34;
      console.error("An error occurred during validation:", t34);
    }
    return await R3(r10), n10;
  }
  processLexingErrors(t33, e10, r10) {
    for (let r11 of t33.lexerErrors) {
      let t34 = { severity: DT("error"), range: { start: { line: r11.line - 1, character: r11.column - 1 }, end: { line: r11.line - 1, character: r11.column + r11.length - 1 } }, message: r11.message, data: { code: tei.LexingError }, source: this.getSource() };
      e10.push(t34);
    }
  }
  processParsingErrors(t33, e10, r10) {
    for (let r11 of t33.parserErrors) {
      let t34;
      if (isNaN(r11.token.startOffset)) {
        if ("previousToken" in r11) {
          let e11 = r11.previousToken;
          if (isNaN(e11.startOffset)) {
            let e12 = { line: 0, character: 0 };
            t34 = { start: e12, end: e12 };
          } else {
            let r12 = { line: e11.endLine - 1, character: e11.endColumn };
            t34 = { start: r12, end: r12 };
          }
        }
      } else t34 = LC(r11.token);
      if (t34) {
        let i10 = { severity: DT("error"), range: t34, message: r11.message, data: { code: tei.ParsingError }, source: this.getSource() };
        e10.push(i10);
      }
    }
  }
  processLinkingErrors(t33, e10, r10) {
    for (let r11 of t33.references) {
      let t34 = r11.error;
      if (t34) {
        let r12 = { node: t34.container, property: t34.property, index: t34.index, data: { code: tei.LinkingError, containerType: t34.container.$type, property: t34.property, refText: t34.reference.$refText } };
        e10.push(this.toDiagnostic("error", t34.message, r12));
      }
    }
  }
  async validateAst(t33, e10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : R2.CancellationToken.None, i10 = [], n10 = (t34, e11, r11) => {
      i10.push(this.toDiagnostic(t34, e11, r11));
    };
    return await Promise.all(Nb(t33).map(async (t34) => {
      for (let i11 of (await R3(r10), this.validationRegistry.getChecks(t34.$type, e10.categories))) await i11(t34, n10, r10);
    })), i10;
  }
  toDiagnostic(t33, e10, r10) {
    let i10;
    return { message: e10, range: r10.range ? r10.range : ("string" == typeof r10.property ? i10 = NG(r10.node.$cstNode, r10.property, r10.index) : "string" == typeof r10.keyword && (i10 = function(t34, e11, r11) {
      if (!t34) return;
      let i11 = function(t35, e12, r12) {
        let i12;
        if (t35.astNode !== r12) return [];
        if (Nr(t35.grammarSource) && t35.grammarSource.value === e12) return [t35];
        let n10 = LE(t35).iterator(), a10 = [];
        do
          if (!(i12 = n10.next()).done) {
            let t36 = i12.value;
            t36.astNode === r12 ? Nr(t36.grammarSource) && t36.grammarSource.value === e12 && a10.push(t36) : n10.prune();
          }
        while (!i12.done);
        return a10;
      }(t34, e11, null == t34 ? void 0 : t34.astNode);
      if (0 !== i11.length) return r11 = void 0 !== r11 ? Math.max(0, Math.min(r11, i11.length - 1)) : 0, i11[r11];
    }(r10.node.$cstNode, r10.keyword, r10.index)), null != i10 || (i10 = r10.node.$cstNode), i10) ? i10.range : { start: { line: 0, character: 0 }, end: { line: 0, character: 0 } }, severity: DT(t33), code: r10.code, codeDescription: r10.codeDescription, tags: r10.tags, relatedInformation: r10.relatedInformation, data: r10.data, source: this.getSource() };
  }
  getSource() {
    return this.metadata.languageId;
  }
}
function DT(t33) {
  switch (t33) {
    case "error":
      return 1;
    case "warning":
      return 2;
    case "info":
      return 3;
    case "hint":
      return 4;
    default:
      throw Error("Invalid diagnostic severity: " + t33);
  }
}
(Jv = tei || (tei = {})).LexingError = "lexing-error", Jv.ParsingError = "parsing-error", Jv.LinkingError = "linking-error";
class DE {
  constructor(t33) {
    this.astNodeLocator = t33.workspace.AstNodeLocator, this.nameProvider = t33.references.NameProvider;
  }
  createDescription(t33, e10) {
    let r10, i10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Ny(t33);
    null != e10 || (e10 = this.nameProvider.getName(t33));
    let n10 = this.astNodeLocator.getAstNodePath(t33);
    if (!e10) throw Error(`Node at path ${n10} has no name.`);
    let a10 = () => {
      var e11;
      return null != r10 ? r10 : r10 = LS(null !== (e11 = this.nameProvider.getNameNode(t33)) && void 0 !== e11 ? e11 : t33.$cstNode);
    };
    return { node: t33, name: e10, get nameSegment() {
      return a10();
    }, selectionSegment: LS(t33.$cstNode), type: t33.$type, documentUri: i10.uri, path: n10 };
  }
}
class DC {
  constructor(t33) {
    this.nodeLocator = t33.workspace.AstNodeLocator;
  }
  async createDescriptions(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None, r10 = [];
    for (let i10 of Nb(t33.parseResult.value)) await R3(e10), Nk(i10).filter((t34) => !Lg(t34)).forEach((t34) => {
      let e11 = this.createDescription(t34);
      e11 && r10.push(e11);
    });
    return r10;
  }
  createDescription(t33) {
    let e10 = t33.reference.$nodeDescription, r10 = t33.reference.$refNode;
    if (!e10 || !r10) return;
    let i10 = Ny(t33.container).uri;
    return { sourceUri: i10, sourcePath: this.nodeLocator.getAstNodePath(t33.container), targetUri: e10.documentUri, targetPath: e10.path, segment: LS(r10), local: tet.equals(e10.documentUri, i10) };
  }
}
class DS {
  constructor() {
    this.segmentSeparator = "/", this.indexSeparator = "@";
  }
  getAstNodePath(t33) {
    if (t33.$container) {
      let e10 = this.getAstNodePath(t33.$container), r10 = this.getPathSegment(t33);
      return e10 + this.segmentSeparator + r10;
    }
    return "";
  }
  getPathSegment(t33) {
    let { $containerProperty: e10, $containerIndex: r10 } = t33;
    if (!e10) throw Error("Missing '$containerProperty' in AST node.");
    return void 0 !== r10 ? e10 + this.indexSeparator + r10 : e10;
  }
  getAstNode(t33, e10) {
    return e10.split(this.segmentSeparator).reduce((t34, e11) => {
      if (!t34 || 0 === e11.length) return t34;
      let r10 = e11.indexOf(this.indexSeparator);
      if (r10 > 0) {
        let i10 = e11.substring(0, r10), n10 = parseInt(e11.substring(r10 + 1)), a10 = t34[i10];
        return null == a10 ? void 0 : a10[n10];
      }
      return t34[e11];
    }, t33);
  }
}
class DA {
  constructor(t33) {
    this._ready = new R6(), this.settings = {}, this.workspaceConfig = false, this.serviceRegistry = t33.ServiceRegistry;
  }
  get ready() {
    return this._ready.promise;
  }
  initialize(t33) {
    var e10, r10;
    this.workspaceConfig = null !== (r10 = null === (e10 = t33.capabilities.workspace) || void 0 === e10 ? void 0 : e10.configuration) && void 0 !== r10 && r10;
  }
  async initialized(t33) {
    if (this.workspaceConfig) {
      if (t33.register) {
        let e10 = this.serviceRegistry.all;
        t33.register({ section: e10.map((t34) => this.toSectionName(t34.LanguageMetaData.languageId)) });
      }
      if (t33.fetchConfiguration) {
        let e10 = this.serviceRegistry.all.map((t34) => ({ section: this.toSectionName(t34.LanguageMetaData.languageId) })), r10 = await t33.fetchConfiguration(e10);
        e10.forEach((t34, e11) => {
          this.updateSectionConfiguration(t34.section, r10[e11]);
        });
      }
    }
    this._ready.resolve();
  }
  updateConfiguration(t33) {
    t33.settings && Object.keys(t33.settings).forEach((e10) => {
      this.updateSectionConfiguration(e10, t33.settings[e10]);
    });
  }
  updateSectionConfiguration(t33, e10) {
    this.settings[t33] = e10;
  }
  async getConfiguration(t33, e10) {
    await this.ready;
    let r10 = this.toSectionName(t33);
    if (this.settings[r10]) return this.settings[r10][e10];
  }
  toSectionName(t33) {
    return `${t33}`;
  }
}
(ten || (ten = {})).create = function(t33) {
  return { dispose: async () => await t33() };
};
class DL {
  constructor(t33) {
    this.updateBuildOptions = { validation: { categories: ["built-in", "fast"] } }, this.updateListeners = [], this.buildPhaseListeners = new Dh(), this.buildState = /* @__PURE__ */ new Map(), this.documentBuildWaiters = /* @__PURE__ */ new Map(), this.currentState = tee.Changed, this.langiumDocuments = t33.workspace.LangiumDocuments, this.langiumDocumentFactory = t33.workspace.LangiumDocumentFactory, this.indexManager = t33.workspace.IndexManager, this.serviceRegistry = t33.ServiceRegistry;
  }
  async build(t33) {
    var e10, r10;
    let i10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : R2.CancellationToken.None;
    for (let n11 of t33) {
      let t34 = n11.uri.toString();
      if (n11.state === tee.Validated) {
        if ("boolean" == typeof i10.validation && i10.validation) n11.state = tee.IndexedReferences, n11.diagnostics = void 0, this.buildState.delete(t34);
        else if ("object" == typeof i10.validation) {
          let a10 = this.buildState.get(t34), o10 = null === (e10 = null == a10 ? void 0 : a10.result) || void 0 === e10 ? void 0 : e10.validationChecks;
          if (o10) {
            let e11 = (null !== (r10 = i10.validation.categories) && void 0 !== r10 ? r10 : ter.all).filter((t35) => !o10.includes(t35));
            e11.length > 0 && (this.buildState.set(t34, { completed: false, options: { validation: Object.assign(Object.assign({}, i10.validation), { categories: e11 }) }, result: a10.result }), n11.state = tee.IndexedReferences);
          }
        }
      } else this.buildState.delete(t34);
    }
    this.currentState = tee.Changed, await this.emitUpdate(t33.map((t34) => t34.uri), []), await this.buildDocuments(t33, i10, n10);
  }
  async update(t33, e10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : R2.CancellationToken.None;
    for (let t34 of (this.currentState = tee.Changed, e10)) this.langiumDocuments.deleteDocument(t34), this.buildState.delete(t34.toString()), this.indexManager.remove(t34);
    for (let e11 of t33) {
      if (!this.langiumDocuments.invalidateDocument(e11)) {
        let t34 = this.langiumDocumentFactory.fromModel({ $type: "INVALID" }, e11);
        t34.state = tee.Changed, this.langiumDocuments.addDocument(t34);
      }
      this.buildState.delete(e11.toString());
    }
    let i10 = L_(t33).concat(e10).map((t34) => t34.toString()).toSet();
    this.langiumDocuments.all.filter((t34) => !i10.has(t34.uri.toString()) && this.shouldRelink(t34, i10)).forEach((t34) => {
      this.serviceRegistry.getServices(t34.uri).references.Linker.unlink(t34), t34.state = Math.min(t34.state, tee.ComputedScopes), t34.diagnostics = void 0;
    }), await this.emitUpdate(t33, e10), await R3(r10);
    let n10 = this.langiumDocuments.all.filter((t34) => {
      var e11;
      return t34.state < tee.Linked || !(null === (e11 = this.buildState.get(t34.uri.toString())) || void 0 === e11 ? void 0 : e11.completed);
    }).toArray();
    await this.buildDocuments(n10, this.updateBuildOptions, r10);
  }
  async emitUpdate(t33, e10) {
    await Promise.all(this.updateListeners.map((r10) => r10(t33, e10)));
  }
  shouldRelink(t33, e10) {
    return !!t33.references.some((t34) => void 0 !== t34.error) || this.indexManager.isAffected(t33, e10);
  }
  onUpdate(t33) {
    return this.updateListeners.push(t33), ten.create(() => {
      let e10 = this.updateListeners.indexOf(t33);
      e10 >= 0 && this.updateListeners.splice(e10, 1);
    });
  }
  async buildDocuments(t33, e10, r10) {
    this.prepareBuild(t33, e10), await this.runCancelable(t33, tee.Parsed, r10, (t34) => this.langiumDocumentFactory.update(t34, r10)), await this.runCancelable(t33, tee.IndexedContent, r10, (t34) => this.indexManager.updateContent(t34, r10)), await this.runCancelable(t33, tee.ComputedScopes, r10, async (t34) => {
      let e11 = this.serviceRegistry.getServices(t34.uri).references.ScopeComputation;
      t34.precomputedScopes = await e11.computeLocalScopes(t34, r10);
    }), await this.runCancelable(t33, tee.Linked, r10, (t34) => this.serviceRegistry.getServices(t34.uri).references.Linker.link(t34, r10)), await this.runCancelable(t33, tee.IndexedReferences, r10, (t34) => this.indexManager.updateReferences(t34, r10));
    let i10 = t33.filter((t34) => this.shouldValidate(t34));
    for (let e11 of (await this.runCancelable(i10, tee.Validated, r10, (t34) => this.validate(t34, r10)), t33)) {
      let t34 = this.buildState.get(e11.uri.toString());
      t34 && (t34.completed = true);
    }
  }
  prepareBuild(t33, e10) {
    for (let r10 of t33) {
      let t34 = r10.uri.toString(), i10 = this.buildState.get(t34);
      (!i10 || i10.completed) && this.buildState.set(t34, { completed: false, options: e10, result: null == i10 ? void 0 : i10.result });
    }
  }
  async runCancelable(t33, e10, r10, i10) {
    let n10 = t33.filter((t34) => t34.state < e10);
    for (let t34 of n10) await R3(r10), await i10(t34), t34.state = e10;
    await this.notifyBuildPhase(n10, e10, r10), this.currentState = e10;
  }
  onBuildPhase(t33, e10) {
    return this.buildPhaseListeners.add(t33, e10), ten.create(() => {
      this.buildPhaseListeners.delete(t33, e10);
    });
  }
  waitUntil(t33, e10, r10) {
    let i10;
    if (e10 && "path" in e10 ? i10 = e10 : r10 = e10, null != r10 || (r10 = R2.CancellationToken.None), i10) {
      let e11 = this.langiumDocuments.getDocument(i10);
      if (e11 && e11.state > t33) return Promise.resolve(i10);
    }
    return this.currentState >= t33 ? Promise.resolve(void 0) : r10.isCancellationRequested ? Promise.reject(R5) : new Promise((e11, n10) => {
      let a10 = this.onBuildPhase(t33, () => {
        if (a10.dispose(), o10.dispose(), i10) {
          let t34 = this.langiumDocuments.getDocument(i10);
          e11(null == t34 ? void 0 : t34.uri);
        } else e11(void 0);
      }), o10 = r10.onCancellationRequested(() => {
        a10.dispose(), o10.dispose(), n10(R5);
      });
    });
  }
  async notifyBuildPhase(t33, e10, r10) {
    if (0 !== t33.length) for (let i10 of this.buildPhaseListeners.get(e10)) await R3(r10), await i10(t33, r10);
  }
  shouldValidate(t33) {
    return !!this.getBuildOptions(t33).validation;
  }
  async validate(t33, e10) {
    var r10, i10;
    let n10 = this.serviceRegistry.getServices(t33.uri).validation.DocumentValidator, a10 = this.getBuildOptions(t33).validation, o10 = "object" == typeof a10 ? a10 : void 0, s10 = await n10.validateDocument(t33, o10, e10);
    t33.diagnostics ? t33.diagnostics.push(...s10) : t33.diagnostics = s10;
    let l10 = this.buildState.get(t33.uri.toString());
    if (l10) {
      null !== (r10 = l10.result) && void 0 !== r10 || (l10.result = {});
      let t34 = null !== (i10 = null == o10 ? void 0 : o10.categories) && void 0 !== i10 ? i10 : ter.all;
      l10.result.validationChecks ? l10.result.validationChecks.push(...t34) : l10.result.validationChecks = [...t34];
    }
  }
  getBuildOptions(t33) {
    var e10, r10;
    return null !== (r10 = null === (e10 = this.buildState.get(t33.uri.toString())) || void 0 === e10 ? void 0 : e10.options) && void 0 !== r10 ? r10 : {};
  }
}
class DN {
  constructor(t33) {
    this.symbolIndex = /* @__PURE__ */ new Map(), this.symbolByTypeIndex = new Dm(), this.referenceIndex = /* @__PURE__ */ new Map(), this.documents = t33.workspace.LangiumDocuments, this.serviceRegistry = t33.ServiceRegistry, this.astReflection = t33.AstReflection;
  }
  findAllReferences(t33, e10) {
    let r10 = Ny(t33).uri, i10 = [];
    return this.referenceIndex.forEach((t34) => {
      t34.forEach((t35) => {
        tet.equals(t35.targetUri, r10) && t35.targetPath === e10 && i10.push(t35);
      });
    }), L_(i10);
  }
  allElements(t33, e10) {
    let r10 = L_(this.symbolIndex.keys());
    return e10 && (r10 = r10.filter((t34) => !e10 || e10.has(t34))), r10.map((e11) => this.getFileDescriptions(e11, t33)).flat();
  }
  getFileDescriptions(t33, e10) {
    var r10;
    return e10 ? this.symbolByTypeIndex.get(t33, e10, () => {
      var r11;
      return (null !== (r11 = this.symbolIndex.get(t33)) && void 0 !== r11 ? r11 : []).filter((t34) => this.astReflection.isSubtype(t34.type, e10));
    }) : null !== (r10 = this.symbolIndex.get(t33)) && void 0 !== r10 ? r10 : [];
  }
  remove(t33) {
    let e10 = t33.toString();
    this.symbolIndex.delete(e10), this.symbolByTypeIndex.clear(e10), this.referenceIndex.delete(e10);
  }
  async updateContent(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None, r10 = this.serviceRegistry.getServices(t33.uri), i10 = await r10.references.ScopeComputation.computeExports(t33, e10), n10 = t33.uri.toString();
    this.symbolIndex.set(n10, i10), this.symbolByTypeIndex.clear(n10);
  }
  async updateReferences(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None, r10 = this.serviceRegistry.getServices(t33.uri), i10 = await r10.workspace.ReferenceDescriptionProvider.createDescriptions(t33, e10);
    this.referenceIndex.set(t33.uri.toString(), i10);
  }
  isAffected(t33, e10) {
    let r10 = this.referenceIndex.get(t33.uri.toString());
    return !!r10 && r10.some((t34) => !t34.local && e10.has(t34.targetUri.toString()));
  }
}
class DI {
  constructor(t33) {
    this.initialBuildOptions = {}, this._ready = new R6(), this.serviceRegistry = t33.ServiceRegistry, this.langiumDocuments = t33.workspace.LangiumDocuments, this.documentBuilder = t33.workspace.DocumentBuilder, this.fileSystemProvider = t33.workspace.FileSystemProvider, this.mutex = t33.workspace.WorkspaceLock;
  }
  get ready() {
    return this._ready.promise;
  }
  initialize(t33) {
    var e10;
    this.folders = null !== (e10 = t33.workspaceFolders) && void 0 !== e10 ? e10 : void 0;
  }
  initialized(t33) {
    return this.mutex.write((t34) => {
      var e10;
      return this.initializeWorkspace(null !== (e10 = this.folders) && void 0 !== e10 ? e10 : [], t34);
    });
  }
  async initializeWorkspace(t33) {
    let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : R2.CancellationToken.None, r10 = await this.performStartup(t33);
    await R3(e10), await this.documentBuilder.build(r10, this.initialBuildOptions, e10);
  }
  async performStartup(t33) {
    let e10 = this.serviceRegistry.all.flatMap((t34) => t34.LanguageMetaData.fileExtensions), r10 = [], i10 = (t34) => {
      r10.push(t34), this.langiumDocuments.hasDocument(t34.uri) || this.langiumDocuments.addDocument(t34);
    };
    return await this.loadAdditionalDocuments(t33, i10), await Promise.all(t33.map((t34) => [t34, this.getRootFolder(t34)]).map(async (t34) => this.traverseFolder(...t34, e10, i10))), this._ready.resolve(), r10;
  }
  loadAdditionalDocuments(t33, e10) {
    return Promise.resolve();
  }
  getRootFolder(t33) {
    return Dr.parse(t33.uri);
  }
  async traverseFolder(t33, e10, r10, i10) {
    let n10 = await this.fileSystemProvider.readDirectory(e10);
    await Promise.all(n10.map(async (e11) => {
      this.includeEntry(t33, e11, r10) && (e11.isDirectory ? await this.traverseFolder(t33, e11.uri, r10, i10) : e11.isFile && i10(await this.langiumDocuments.getOrCreateDocument(e11.uri)));
    }));
  }
  includeEntry(t33, e10, r10) {
    let i10 = tet.basename(e10.uri);
    if (i10.startsWith(".")) return false;
    if (e10.isDirectory) return "node_modules" !== i10 && "out" !== i10;
    if (e10.isFile) {
      let t34 = tet.extname(e10.uri);
      return r10.includes(t34);
    }
    return false;
  }
}
class DM {
  constructor(t33) {
    let e10 = t33.parser.TokenBuilder.buildTokens(t33.Grammar, { caseInsensitive: t33.LanguageMetaData.caseInsensitive });
    this.tokenTypes = this.toTokenTypeDictionary(e10);
    let r10 = DD(e10) ? Object.values(e10) : e10;
    this.chevrotainLexer = new IH(r10, { positionTracking: "full" });
  }
  get definition() {
    return this.tokenTypes;
  }
  tokenize(t33) {
    var e10;
    let r10 = this.chevrotainLexer.tokenize(t33);
    return { tokens: r10.tokens, errors: r10.errors, hidden: null !== (e10 = r10.groups.hidden) && void 0 !== e10 ? e10 : [] };
  }
  toTokenTypeDictionary(t33) {
    if (DD(t33)) return t33;
    let e10 = DR(t33) ? Object.values(t33.modes).flat() : t33, r10 = {};
    return e10.forEach((t34) => r10[t34.name] = t34), r10;
  }
}
function DR(t33) {
  return t33 && "modes" in t33 && "defaultMode" in t33;
}
function DD(t33) {
  return !(Array.isArray(t33) && (0 === t33.length || "name" in t33[0])) && !DR(t33);
}
function DO(t33) {
  return ("string" == typeof t33 ? t33 : t33.text).split(NP);
}
let DP = /\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy, D$ = /\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu, DB = /\S/, DF = /\s*$/;
function Dz(t33, e10) {
  let r10 = t33.substring(e10).match(DB);
  return r10 ? e10 + r10.index : t33.length;
}
function DU(t33) {
  let e10 = t33.tokens[t33.index], r10 = e10, i10 = e10, n10 = [];
  for (; e10 && "break" !== e10.type && "tag" !== e10.type; ) n10.push("inline-tag" === t33.tokens[t33.index].type ? DG(t33, true) : Dq(t33)), i10 = e10, e10 = t33.tokens[t33.index];
  return new DV(n10, Jj.create(r10.range.start, i10.range.end));
}
function DG(t33, e10) {
  let r10 = t33.tokens[t33.index++], i10 = r10.content.substring(1), n10 = t33.tokens[t33.index];
  if ((null == n10 ? void 0 : n10.type) === "text") {
    if (e10) {
      let n11 = Dq(t33);
      return new DW(i10, new DV([n11], n11.range), e10, Jj.create(r10.range.start, n11.range.end));
    }
    {
      let n11 = DU(t33);
      return new DW(i10, n11, e10, Jj.create(r10.range.start, n11.range.end));
    }
  }
  {
    let t34 = r10.range;
    return new DW(i10, new DV([], t34), e10, t34);
  }
}
function Dq(t33) {
  let e10 = t33.tokens[t33.index++];
  return new DX(e10.content, e10.range);
}
function DY(t33) {
  if (!t33) return DY({ start: "/**", end: "*/", line: "*" });
  let { start: e10, end: r10, line: i10 } = t33;
  return { start: DH(e10, true), end: DH(r10, false), line: DH(i10, true) };
}
function DH(t33, e10) {
  if ("string" != typeof t33 && "object" != typeof t33) return t33;
  {
    let r10 = "string" == typeof t33 ? Nz(t33) : t33.source;
    return e10 ? RegExp(`^\\s*${r10}`) : RegExp(`\\s*${r10}\\s*$`);
  }
}
class Dj {
  constructor(t33, e10) {
    this.elements = t33, this.range = e10;
  }
  getTag(t33) {
    return this.getAllTags().find((e10) => e10.name === t33);
  }
  getTags(t33) {
    return this.getAllTags().filter((e10) => e10.name === t33);
  }
  getAllTags() {
    return this.elements.filter((t33) => "name" in t33);
  }
  toString() {
    let t33 = "";
    for (let e10 of this.elements) if (0 === t33.length) t33 = e10.toString();
    else {
      let r10 = e10.toString();
      t33 += DK(t33) + r10;
    }
    return t33.trim();
  }
  toMarkdown(t33) {
    let e10 = "";
    for (let r10 of this.elements) if (0 === e10.length) e10 = r10.toMarkdown(t33);
    else {
      let i10 = r10.toMarkdown(t33);
      e10 += DK(e10) + i10;
    }
    return e10.trim();
  }
}
class DW {
  constructor(t33, e10, r10, i10) {
    this.name = t33, this.content = e10, this.inline = r10, this.range = i10;
  }
  toString() {
    let t33 = `@${this.name}`, e10 = this.content.toString();
    return (1 === this.content.inlines.length ? t33 = `${t33} ${e10}` : this.content.inlines.length > 1 && (t33 = `${t33}
${e10}`), this.inline) ? `{${t33}}` : t33;
  }
  toMarkdown(t33) {
    var e10, r10;
    return null !== (r10 = null === (e10 = null == t33 ? void 0 : t33.renderTag) || void 0 === e10 ? void 0 : e10.call(t33, this)) && void 0 !== r10 ? r10 : this.toMarkdownDefault(t33);
  }
  toMarkdownDefault(t33) {
    let e10 = this.content.toMarkdown(t33);
    if (this.inline) {
      let r11 = function(t34, e11, r12) {
        var i11, n10;
        if ("linkplain" === t34 || "linkcode" === t34 || "link" === t34) {
          let a10 = e11.indexOf(" "), o10 = e11;
          if (a10 > 0) {
            let t35 = Dz(e11, a10);
            o10 = e11.substring(t35), e11 = e11.substring(0, a10);
          }
          return ("linkcode" === t34 || "link" === t34 && "code" === r12.link) && (o10 = `\`${o10}\``), null !== (n10 = null === (i11 = r12.renderLink) || void 0 === i11 ? void 0 : i11.call(r12, e11, o10)) && void 0 !== n10 ? n10 : function(t35, e12) {
            try {
              return Dr.parse(t35, true), `[${e12}](${t35})`;
            } catch (e13) {
              return t35;
            }
          }(e11, o10);
        }
      }(this.name, e10, null != t33 ? t33 : {});
      if ("string" == typeof r11) return r11;
    }
    let r10 = "";
    (null == t33 ? void 0 : t33.tag) === "italic" || (null == t33 ? void 0 : t33.tag) === void 0 ? r10 = "*" : (null == t33 ? void 0 : t33.tag) === "bold" ? r10 = "**" : (null == t33 ? void 0 : t33.tag) === "bold-italic" && (r10 = "***");
    let i10 = `${r10}@${this.name}${r10}`;
    return (1 === this.content.inlines.length ? i10 = `${i10} — ${e10}` : this.content.inlines.length > 1 && (i10 = `${i10}
${e10}`), this.inline) ? `{${i10}}` : i10;
  }
}
class DV {
  constructor(t33, e10) {
    this.inlines = t33, this.range = e10;
  }
  toString() {
    let t33 = "";
    for (let e10 = 0; e10 < this.inlines.length; e10++) {
      let r10 = this.inlines[e10], i10 = this.inlines[e10 + 1];
      t33 += r10.toString(), i10 && i10.range.start.line > r10.range.start.line && (t33 += "\n");
    }
    return t33;
  }
  toMarkdown(t33) {
    let e10 = "";
    for (let r10 = 0; r10 < this.inlines.length; r10++) {
      let i10 = this.inlines[r10], n10 = this.inlines[r10 + 1];
      e10 += i10.toMarkdown(t33), n10 && n10.range.start.line > i10.range.start.line && (e10 += "\n");
    }
    return e10;
  }
}
class DX {
  constructor(t33, e10) {
    this.text = t33, this.range = e10;
  }
  toString() {
    return this.text;
  }
  toMarkdown() {
    return this.text;
  }
}
function DK(t33) {
  return t33.endsWith("\n") ? "\n" : "\n\n";
}
class DZ {
  constructor(t33) {
    this.indexManager = t33.shared.workspace.IndexManager, this.commentProvider = t33.documentation.CommentProvider;
  }
  getDocumentation(t33) {
    let e10 = this.commentProvider.getComment(t33);
    if (e10 && function(t34, e11) {
      let r10 = DY(void 0), i10 = DO(t34);
      if (0 === i10.length) return false;
      let n10 = i10[0], a10 = i10[i10.length - 1], o10 = r10.start, s10 = r10.end;
      return !!(null == o10 ? void 0 : o10.exec(n10)) && !!(null == s10 ? void 0 : s10.exec(a10));
    }(e10)) {
      let r10, i10;
      return ("string" == typeof e10 ? i10 = void 0 : i10 = e10.range.start, r10 = void 0, i10 || (i10 = JH.create(0, 0)), function(t34) {
        var e11, r11, i11, n10;
        let a10 = JH.create(t34.position.line, t34.position.character);
        if (0 === t34.tokens.length) return new Dj([], Jj.create(a10, a10));
        let o10 = [];
        for (; t34.index < t34.tokens.length; ) {
          let e12 = function(t35, e13) {
            let r12 = t35.tokens[t35.index];
            return "tag" === r12.type ? DG(t35, false) : "text" === r12.type || "inline-tag" === r12.type ? DU(t35) : void (function(t36, e14) {
              if (e14) {
                let r13 = new DX("", t36.range);
                "inlines" in e14 ? e14.inlines.push(r13) : e14.content.inlines.push(r13);
              }
            }(r12, e13), t35.index++);
          }(t34, o10[o10.length - 1]);
          e12 && o10.push(e12);
        }
        let s10 = null !== (r11 = null === (e11 = o10[0]) || void 0 === e11 ? void 0 : e11.range.start) && void 0 !== r11 ? r11 : a10, l10 = null !== (n10 = null === (i11 = o10[o10.length - 1]) || void 0 === i11 ? void 0 : i11.range.end) && void 0 !== n10 ? n10 : a10;
        return new Dj(o10, Jj.create(s10, l10));
      }({ index: 0, tokens: function(t34) {
        var e11, r11, i11;
        let n10 = [], a10 = t34.position.line, o10 = t34.position.character;
        for (let s10 = 0; s10 < t34.lines.length; s10++) {
          let l10 = 0 === s10, h10 = s10 === t34.lines.length - 1, u10 = t34.lines[s10], d10 = 0;
          if (l10 && t34.options.start) {
            let r12 = null === (e11 = t34.options.start) || void 0 === e11 ? void 0 : e11.exec(u10);
            r12 && (d10 = r12.index + r12[0].length);
          } else {
            let e12 = null === (r11 = t34.options.line) || void 0 === r11 ? void 0 : r11.exec(u10);
            e12 && (d10 = e12.index + e12[0].length);
          }
          if (h10) {
            let e12 = null === (i11 = t34.options.end) || void 0 === i11 ? void 0 : i11.exec(u10);
            e12 && (u10 = u10.substring(0, e12.index));
          }
          if (Dz(u10 = u10.substring(0, function(t35) {
            let e12 = t35.match(DF);
            if (e12 && "number" == typeof e12.index) return e12.index;
          }(u10)), d10) >= u10.length) {
            if (n10.length > 0) {
              let t35 = JH.create(a10, o10);
              n10.push({ type: "break", content: "", range: Jj.create(t35, t35) });
            }
          } else {
            DP.lastIndex = d10;
            let t35 = DP.exec(u10);
            if (t35) {
              let e12 = t35[0], r12 = t35[1], i12 = JH.create(a10, o10 + d10), s11 = JH.create(a10, o10 + d10 + e12.length);
              n10.push({ type: "tag", content: r12, range: Jj.create(i12, s11) }), d10 += e12.length, d10 = Dz(u10, d10);
            }
            if (d10 < u10.length) {
              let t36 = u10.substring(d10), e12 = Array.from(t36.matchAll(D$));
              n10.push(...function(t37, e13, r12, i12) {
                let n11 = [];
                if (0 === t37.length) {
                  let t38 = JH.create(r12, i12), a11 = JH.create(r12, i12 + e13.length);
                  n11.push({ type: "text", content: e13, range: Jj.create(t38, a11) });
                } else {
                  let a11 = 0;
                  for (let o12 of t37) {
                    let t38 = o12.index, s11 = e13.substring(a11, t38);
                    s11.length > 0 && n11.push({ type: "text", content: e13.substring(a11, t38), range: Jj.create(JH.create(r12, a11 + i12), JH.create(r12, t38 + i12)) });
                    let l11 = s11.length + 1, h11 = o12[1];
                    if (n11.push({ type: "inline-tag", content: h11, range: Jj.create(JH.create(r12, a11 + l11 + i12), JH.create(r12, a11 + l11 + h11.length + i12)) }), l11 += h11.length, 4 === o12.length) {
                      l11 += o12[2].length;
                      let t39 = o12[3];
                      n11.push({ type: "text", content: t39, range: Jj.create(JH.create(r12, a11 + l11 + i12), JH.create(r12, a11 + l11 + t39.length + i12)) });
                    } else n11.push({ type: "text", content: "", range: Jj.create(JH.create(r12, a11 + l11 + i12), JH.create(r12, a11 + l11 + i12)) });
                    a11 = t38 + o12[0].length;
                  }
                  let o11 = e13.substring(a11);
                  o11.length > 0 && n11.push({ type: "text", content: o11, range: Jj.create(JH.create(r12, a11 + i12), JH.create(r12, a11 + i12 + o11.length)) });
                }
                return n11;
              }(e12, t36, a10, o10 + d10));
            }
          }
          a10++, o10 = 0;
        }
        return n10.length > 0 && "break" === n10[n10.length - 1].type ? n10.slice(0, -1) : n10;
      }({ lines: DO(e10), position: i10, options: DY(r10) }), position: i10 })).toMarkdown({ renderLink: (e11, r11) => this.documentationLinkRenderer(t33, e11, r11), renderTag: (e11) => this.documentationTagRenderer(t33, e11) });
    }
  }
  documentationLinkRenderer(t33, e10, r10) {
    var i10;
    let n10 = null !== (i10 = this.findNameInPrecomputedScopes(t33, e10)) && void 0 !== i10 ? i10 : this.findNameInGlobalScope(t33, e10);
    if (n10 && n10.nameSegment) {
      let t34 = n10.nameSegment.range.start.line + 1, e11 = n10.nameSegment.range.start.character + 1, i11 = n10.documentUri.with({ fragment: `L${t34},${e11}` });
      return `[${r10}](${i11.toString()})`;
    }
  }
  documentationTagRenderer(t33, e10) {
  }
  findNameInPrecomputedScopes(t33, e10) {
    let r10 = Ny(t33).precomputedScopes;
    if (!r10) return;
    let i10 = t33;
    do {
      let t34 = r10.get(i10).find((t35) => t35.name === e10);
      if (t34) return t34;
      i10 = i10.$container;
    } while (i10);
  }
  findNameInGlobalScope(t33, e10) {
    return this.indexManager.allElements().find((t34) => t34.name === e10);
  }
}
class DQ {
  constructor(t33) {
    this.grammarConfig = () => t33.parser.GrammarConfig;
  }
  getComment(t33) {
    var e10;
    return "string" == typeof t33.$comment ? t33.$comment : null === (e10 = function(t34, e11) {
      if (t34) {
        let r10 = function(t35) {
          let e12 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
          for (; t35.container; ) {
            let r11 = t35.container, i10 = r11.content.indexOf(t35);
            for (; i10 > 0; ) {
              i10--;
              let t36 = r11.content[i10];
              if (e12 || !t36.hidden) return t36;
            }
            t35 = r11;
          }
        }(t34, true);
        if (r10 && LL(r10, e11)) return r10;
        if (Lv(t34)) {
          let r11 = t34.content.findIndex((t35) => !t35.hidden);
          for (let i10 = r11 - 1; i10 >= 0; i10--) {
            let r12 = t34.content[i10];
            if (LL(r12, e11)) return r12;
          }
        }
      }
    }(t33.$cstNode, this.grammarConfig().multilineCommentRules)) || void 0 === e10 ? void 0 : e10.text;
  }
}
R1();
class DJ {
  constructor(t33) {
    this.syncParser = t33.parser.LangiumParser;
  }
  parse(t33) {
    return Promise.resolve(this.syncParser.parse(t33));
  }
}
class D0 {
  constructor() {
    this.previousTokenSource = new R2.CancellationTokenSource(), this.writeQueue = [], this.readQueue = [], this.done = true;
  }
  write(t33) {
    this.cancelWrite();
    let e10 = new R2.CancellationTokenSource();
    return this.previousTokenSource = e10, this.enqueue(this.writeQueue, t33, e10.token);
  }
  read(t33) {
    return this.enqueue(this.readQueue, t33);
  }
  enqueue(t33, e10, r10) {
    let i10 = new R6(), n10 = { action: e10, deferred: i10, cancellationToken: null != r10 ? r10 : R2.CancellationToken.None };
    return t33.push(n10), this.performNextOperation(), i10.promise;
  }
  async performNextOperation() {
    if (!this.done) return;
    let t33 = [];
    if (this.writeQueue.length > 0) t33.push(this.writeQueue.shift());
    else {
      if (!(this.readQueue.length > 0)) return;
      t33.push(...this.readQueue.splice(0, this.readQueue.length));
    }
    this.done = false, await Promise.all(t33.map(async (t34) => {
      let { action: e10, deferred: r10, cancellationToken: i10 } = t34;
      try {
        let t35 = await Promise.resolve().then(() => e10(i10));
        r10.resolve(t35);
      } catch (t35) {
        t35 === R5 ? r10.resolve(void 0) : r10.reject(t35);
      }
    })), this.done = true, this.performNextOperation();
  }
  cancelWrite() {
    this.previousTokenSource.cancel();
  }
}
class D1 {
  constructor(t33) {
    this.grammarElementIdMap = new Dc(), this.tokenTypeIdMap = new Dc(), this.grammar = t33.Grammar, this.lexer = t33.parser.Lexer, this.linker = t33.references.Linker;
  }
  dehydrate(t33) {
    return { lexerErrors: t33.lexerErrors.map((t34) => Object.assign({}, t34)), parserErrors: t33.parserErrors.map((t34) => Object.assign({}, t34)), value: this.dehydrateAstNode(t33.value, this.createDehyrationContext(t33.value)) };
  }
  createDehyrationContext(t33) {
    let e10 = /* @__PURE__ */ new Map(), r10 = /* @__PURE__ */ new Map();
    for (let r11 of Nb(t33)) e10.set(r11, {});
    if (t33.$cstNode) for (let e11 of LE(t33.$cstNode)) r10.set(e11, {});
    return { astNodes: e10, cstNodes: r10 };
  }
  dehydrateAstNode(t33, e10) {
    let r10 = e10.astNodes.get(t33);
    for (let [i10, n10] of (r10.$type = t33.$type, r10.$containerIndex = t33.$containerIndex, r10.$containerProperty = t33.$containerProperty, void 0 !== t33.$cstNode && (r10.$cstNode = this.dehydrateCstNode(t33.$cstNode, e10)), Object.entries(t33))) if (!i10.startsWith("$")) {
      if (Array.isArray(n10)) {
        let t34 = [];
        for (let a10 of (r10[i10] = t34, n10)) Ld(a10) ? t34.push(this.dehydrateAstNode(a10, e10)) : Lp(a10) ? t34.push(this.dehydrateReference(a10, e10)) : t34.push(a10);
      } else Ld(n10) ? r10[i10] = this.dehydrateAstNode(n10, e10) : Lp(n10) ? r10[i10] = this.dehydrateReference(n10, e10) : void 0 !== n10 && (r10[i10] = n10);
    }
    return r10;
  }
  dehydrateReference(t33, e10) {
    let r10 = {};
    return r10.$refText = t33.$refText, t33.$refNode && (r10.$refNode = e10.cstNodes.get(t33.$refNode)), r10;
  }
  dehydrateCstNode(t33, e10) {
    let r10 = e10.cstNodes.get(t33);
    return Lv(t33) ? r10.fullText = t33.fullText : r10.grammarSource = this.getGrammarElementId(t33.grammarSource), r10.hidden = t33.hidden, r10.astNode = e10.astNodes.get(t33.astNode), Lm(t33) ? r10.content = t33.content.map((t34) => this.dehydrateCstNode(t34, e10)) : Ly(t33) && (r10.tokenType = t33.tokenType.name, r10.offset = t33.offset, r10.length = t33.length, r10.startLine = t33.range.start.line, r10.startColumn = t33.range.start.character, r10.endLine = t33.range.end.line, r10.endColumn = t33.range.end.character), r10;
  }
  hydrate(t33) {
    let e10 = t33.value, r10 = this.createHydrationContext(e10);
    return "$cstNode" in e10 && this.hydrateCstNode(e10.$cstNode, r10), { lexerErrors: t33.lexerErrors, parserErrors: t33.parserErrors, value: this.hydrateAstNode(e10, r10) };
  }
  createHydrationContext(t33) {
    let e10;
    let r10 = /* @__PURE__ */ new Map(), i10 = /* @__PURE__ */ new Map();
    for (let e11 of Nb(t33)) r10.set(e11, {});
    if (t33.$cstNode) for (let r11 of LE(t33.$cstNode)) {
      let t34;
      "fullText" in r11 ? e10 = t34 = new RI(r11.fullText) : "content" in r11 ? t34 = new RL() : "tokenType" in r11 && (t34 = this.hydrateCstLeafNode(r11)), t34 && (i10.set(r11, t34), t34.root = e10);
    }
    return { astNodes: r10, cstNodes: i10 };
  }
  hydrateAstNode(t33, e10) {
    let r10 = e10.astNodes.get(t33);
    for (let [i10, n10] of (r10.$type = t33.$type, r10.$containerIndex = t33.$containerIndex, r10.$containerProperty = t33.$containerProperty, t33.$cstNode && (r10.$cstNode = e10.cstNodes.get(t33.$cstNode)), Object.entries(t33))) if (!i10.startsWith("$")) {
      if (Array.isArray(n10)) {
        let t34 = [];
        for (let a10 of (r10[i10] = t34, n10)) Ld(a10) ? t34.push(this.setParent(this.hydrateAstNode(a10, e10), r10)) : Lp(a10) ? t34.push(this.hydrateReference(a10, r10, i10, e10)) : t34.push(a10);
      } else Ld(n10) ? r10[i10] = this.setParent(this.hydrateAstNode(n10, e10), r10) : Lp(n10) ? r10[i10] = this.hydrateReference(n10, r10, i10, e10) : void 0 !== n10 && (r10[i10] = n10);
    }
    return r10;
  }
  setParent(t33, e10) {
    return t33.$container = e10, t33;
  }
  hydrateReference(t33, e10, r10, i10) {
    return this.linker.buildReference(e10, r10, i10.cstNodes.get(t33.$refNode), t33.$refText);
  }
  hydrateCstNode(t33, e10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i10 = e10.cstNodes.get(t33);
    if ("number" == typeof t33.grammarSource && (i10.grammarSource = this.getGrammarElement(t33.grammarSource)), i10.astNode = e10.astNodes.get(t33.astNode), Lm(i10)) for (let n10 of t33.content) {
      let t34 = this.hydrateCstNode(n10, e10, r10++);
      i10.content.push(t34);
    }
    return i10;
  }
  hydrateCstLeafNode(t33) {
    let e10 = this.getTokenType(t33.tokenType), r10 = t33.offset, i10 = t33.length, n10 = t33.startLine, a10 = t33.startColumn;
    return new RA(r10, i10, { start: { line: n10, character: a10 }, end: { line: t33.endLine, character: t33.endColumn } }, e10, t33.hidden);
  }
  getTokenType(t33) {
    return this.lexer.definition[t33];
  }
  getGrammarElementId(t33) {
    return 0 === this.grammarElementIdMap.size && this.createGrammarElementIdMap(), this.grammarElementIdMap.get(t33);
  }
  getGrammarElement(t33) {
    0 === this.grammarElementIdMap.size && this.createGrammarElementIdMap();
    let e10 = this.grammarElementIdMap.getKey(t33);
    if (e10) return e10;
    throw Error("Invalid grammar element id: " + t33);
  }
  createGrammarElementIdMap() {
    let t33 = 0;
    for (let e10 of Nb(this.grammar)) Nf.isInstance(e10, LP) && this.grammarElementIdMap.set(e10, t33++);
  }
}
function D2(t33) {
  return { documentation: { CommentProvider: (t34) => new DQ(t34), DocumentationProvider: (t34) => new DZ(t34) }, parser: { AsyncParser: (t34) => new DJ(t34), GrammarConfig: (t34) => function(t35) {
    let e10 = [];
    for (let i10 of t35.Grammar.rules) {
      var r10;
      LK(i10) && (r10 = i10).hidden && !NV(r10).test(" ") && function(t36) {
        try {
          return "string" == typeof t36 && (t36 = new RegExp(t36)), t36 = t36.toString(), NB.reset(t36), NB.visit(N$.pattern(t36)), NB.multiline;
        } catch (t37) {
          return false;
        }
      }(NV(i10)) && e10.push(i10.name);
    }
    return { multilineCommentRules: e10, nameRegexp: LA };
  }(t34), LangiumParser: (t34) => function(t35) {
    let e10 = function(t36) {
      let e11 = t36.Grammar, r10 = t36.parser.Lexer;
      return RG(e11, new RP(t36), r10.definition);
    }(t35);
    return e10.finalize(), e10;
  }(t34), CompletionParser: (t34) => function(t35) {
    let e10 = t35.Grammar, r10 = t35.parser.Lexer, i10 = new RF(t35);
    return RG(e10, i10, r10.definition), i10.finalize(), i10;
  }(t34), ValueConverter: () => new RX(), TokenBuilder: () => new RV(), Lexer: (t34) => new DM(t34), ParserErrorMessageProvider: () => new RB() }, workspace: { AstNodeLocator: () => new DS(), AstNodeDescriptionProvider: (t34) => new DE(t34), ReferenceDescriptionProvider: (t34) => new DC(t34) }, references: { Linker: (t34) => new Do(t34), NameProvider: () => new Ds(), ScopeProvider: (t34) => new Dv(t34), ScopeComputation: (t34) => new Du(t34), References: (t34) => new Dl(t34) }, serializer: { Hydrator: (t34) => new D1(t34), JsonSerializer: (t34) => new Db(t34) }, validation: { DocumentValidator: (t34) => new D_(t34), ValidationRegistry: (t34) => new Dk(t34) }, shared: () => t33.shared };
}
function D4(t33) {
  return { ServiceRegistry: () => new Dw(), workspace: { LangiumDocuments: (t34) => new Da(t34), LangiumDocumentFactory: (t34) => new Dn(t34), DocumentBuilder: (t34) => new DL(t34), IndexManager: (t34) => new DN(t34), WorkspaceManager: (t34) => new DI(t34), FileSystemProvider: (e10) => t33.fileSystemProvider(e10), WorkspaceLock: () => new D0(), ConfigurationProvider: (t34) => new DA(t34) } };
}
function D5(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  return D6([t33, e10, r10, i10, n10, a10, o10, s10, l10].reduce(D9, {}));
}
(tea || (tea = {})).merge = (t33, e10) => D9(D9({}, t33), e10);
let D3 = Symbol("isProxy");
function D6(t33, e10) {
  let r10 = new Proxy({}, { deleteProperty: () => false, get: (i10, n10) => D8(i10, n10, t33, e10 || r10), getOwnPropertyDescriptor: (i10, n10) => (D8(i10, n10, t33, e10 || r10), Object.getOwnPropertyDescriptor(i10, n10)), has: (e11, r11) => r11 in t33, ownKeys: () => [...Reflect.ownKeys(t33), D3] });
  return r10[D3] = true, r10;
}
let D7 = Symbol();
function D8(t33, e10, r10, i10) {
  if (e10 in t33) {
    if (t33[e10] instanceof Error) throw Error("Construction failure. Please make sure that your dependencies are constructable.", { cause: t33[e10] });
    if (t33[e10] === D7) throw Error('Cycle detected. Please make "' + String(e10) + '" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');
    return t33[e10];
  }
  if (e10 in r10) {
    let n10 = r10[e10];
    t33[e10] = D7;
    try {
      t33[e10] = "function" == typeof n10 ? n10(i10) : D6(n10, i10);
    } catch (r11) {
      throw t33[e10] = r11 instanceof Error ? r11 : void 0, r11;
    }
    return t33[e10];
  }
}
function D9(t33, e10) {
  if (e10) {
    for (let [r10, i10] of Object.entries(e10)) if (void 0 !== i10) {
      let e11 = t33[r10];
      null !== e11 && null !== i10 && "object" == typeof e11 && "object" == typeof i10 ? t33[r10] = D9(e11, i10) : t33[r10] = i10;
    }
  }
  return t33;
}
class Ot {
  readFile() {
    throw Error("No file system is available.");
  }
  async readDirectory() {
    return [];
  }
}
let Oe = { fileSystemProvider: () => new Ot() }, Or = { Grammar: () => void 0, LanguageMetaData: () => ({ caseInsensitive: false, fileExtensions: [".langium"], languageId: "langium" }) }, Oi = { AstReflection: () => new Ng() };
function On(t33) {
  var e10;
  let r10 = function() {
    let t34 = D5(D4(Oe), Oi), e11 = D5(D2({ shared: t34 }), Or);
    return t34.ServiceRegistry.register(e11), e11;
  }(), i10 = r10.serializer.JsonSerializer.deserialize(t33);
  return r10.shared.workspace.LangiumDocumentFactory.fromModel(i10, Dr.parse(`memory://${null !== (e10 = i10.name) && void 0 !== e10 ? e10 : "grammar"}.langium`)), i10;
}
var Oa = Object.defineProperty, Oo = (t33, e10) => Oa(t33, "name", { value: e10, configurable: true });
Oo(function(t33) {
  return Od.isInstance(t33, "Architecture");
}, "isArchitecture");
var Os = "Branch";
Oo(function(t33) {
  return Od.isInstance(t33, Os);
}, "isBranch");
var Ol = "Commit";
Oo(function(t33) {
  return Od.isInstance(t33, Ol);
}, "isCommit"), Oo(function(t33) {
  return Od.isInstance(t33, "Common");
}, "isCommon");
var Oh = "GitGraph";
Oo(function(t33) {
  return Od.isInstance(t33, Oh);
}, "isGitGraph"), Oo(function(t33) {
  return Od.isInstance(t33, "Info");
}, "isInfo");
var Oc = "Merge";
Oo(function(t33) {
  return Od.isInstance(t33, Oc);
}, "isMerge"), Oo(function(t33) {
  return Od.isInstance(t33, "Packet");
}, "isPacket"), Oo(function(t33) {
  return Od.isInstance(t33, "PacketBlock");
}, "isPacketBlock"), Oo(function(t33) {
  return Od.isInstance(t33, "Pie");
}, "isPie"), Oo(function(t33) {
  return Od.isInstance(t33, "PieSection");
}, "isPieSection");
var Ou = (_m2 = class extends Lf {
  getAllTypes() {
    return ["Architecture", "Branch", "Checkout", "CherryPicking", "Commit", "Common", "Direction", "Edge", "GitGraph", "Group", "Info", "Junction", "Merge", "Packet", "PacketBlock", "Pie", "PieSection", "Service", "Statement"];
  }
  computeIsSubtype(t33, e10) {
    switch (t33) {
      case Os:
      case "Checkout":
      case "CherryPicking":
      case Ol:
      case Oc:
        return this.isSubtype("Statement", e10);
      case "Direction":
        return this.isSubtype(Oh, e10);
      default:
        return false;
    }
  }
  getReferenceType(t33) {
    let e10 = `${t33.container.$type}:${t33.property}`;
    throw Error(`${e10} is not a valid reference id.`);
  }
  getTypeMetaData(t33) {
    switch (t33) {
      case "Architecture":
        return { name: "Architecture", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "edges", defaultValue: [] }, { name: "groups", defaultValue: [] }, { name: "junctions", defaultValue: [] }, { name: "services", defaultValue: [] }, { name: "title" }] };
      case "Branch":
        return { name: "Branch", properties: [{ name: "name" }, { name: "order" }] };
      case "Checkout":
        return { name: "Checkout", properties: [{ name: "branch" }] };
      case "CherryPicking":
        return { name: "CherryPicking", properties: [{ name: "id" }, { name: "parent" }, { name: "tags", defaultValue: [] }] };
      case "Commit":
        return { name: "Commit", properties: [{ name: "id" }, { name: "message" }, { name: "tags", defaultValue: [] }, { name: "type" }] };
      case "Common":
        return { name: "Common", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "title" }] };
      case "Edge":
        return { name: "Edge", properties: [{ name: "lhsDir" }, { name: "lhsGroup", defaultValue: false }, { name: "lhsId" }, { name: "lhsInto", defaultValue: false }, { name: "rhsDir" }, { name: "rhsGroup", defaultValue: false }, { name: "rhsId" }, { name: "rhsInto", defaultValue: false }, { name: "title" }] };
      case "GitGraph":
        return { name: "GitGraph", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "statements", defaultValue: [] }, { name: "title" }] };
      case "Group":
        return { name: "Group", properties: [{ name: "icon" }, { name: "id" }, { name: "in" }, { name: "title" }] };
      case "Info":
        return { name: "Info", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "title" }] };
      case "Junction":
        return { name: "Junction", properties: [{ name: "id" }, { name: "in" }] };
      case "Merge":
        return { name: "Merge", properties: [{ name: "branch" }, { name: "id" }, { name: "tags", defaultValue: [] }, { name: "type" }] };
      case "Packet":
        return { name: "Packet", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "blocks", defaultValue: [] }, { name: "title" }] };
      case "PacketBlock":
        return { name: "PacketBlock", properties: [{ name: "end" }, { name: "label" }, { name: "start" }] };
      case "Pie":
        return { name: "Pie", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "sections", defaultValue: [] }, { name: "showData", defaultValue: false }, { name: "title" }] };
      case "PieSection":
        return { name: "PieSection", properties: [{ name: "label" }, { name: "value" }] };
      case "Service":
        return { name: "Service", properties: [{ name: "icon" }, { name: "iconText" }, { name: "id" }, { name: "in" }, { name: "title" }] };
      case "Direction":
        return { name: "Direction", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "dir" }, { name: "statements", defaultValue: [] }, { name: "title" }] };
      default:
        return { name: t33, properties: [] };
    }
  }
}, _n14 = new WeakMap(), __privateAdd(_m2, _n14, Oo(_m2, "MermaidAstReflection")), _m2), Od = new Ou(), Op = Oo(() => null != teo ? teo : teo = On('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'), "InfoGrammar"), Og = Oo(() => null != tes ? tes : tes = On(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`), "PacketGrammar"), Of = Oo(() => null != tel ? tel : tel = On('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'), "PieGrammar"), Om = Oo(() => null != teh ? teh : teh = On('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'), "ArchitectureGrammar"), Oy = Oo(() => null != tec ? tec : tec = On(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`), "GitGraphGrammar"), Ov = { languageId: "info", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, Ox = { languageId: "packet", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, Ob = { languageId: "pie", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, Ow = { languageId: "architecture", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, Ok = { languageId: "gitGraph", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, O_ = { AstReflection: Oo(() => new Ou(), "AstReflection") }, OT = { Grammar: Oo(() => Op(), "Grammar"), LanguageMetaData: Oo(() => Ov, "LanguageMetaData"), parser: {} }, OE = { Grammar: Oo(() => Og(), "Grammar"), LanguageMetaData: Oo(() => Ox, "LanguageMetaData"), parser: {} }, OC = { Grammar: Oo(() => Of(), "Grammar"), LanguageMetaData: Oo(() => Ob, "LanguageMetaData"), parser: {} }, OS = { Grammar: Oo(() => Om(), "Grammar"), LanguageMetaData: Oo(() => Ow, "LanguageMetaData"), parser: {} }, OA = { Grammar: Oo(() => Oy(), "Grammar"), LanguageMetaData: Oo(() => Ok, "LanguageMetaData"), parser: {} }, OL = { ACC_DESCR: /accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/, ACC_TITLE: /accTitle[\t ]*:([^\n\r]*)/, TITLE: /title([\t ][^\n\r]*|)/ }, ON = (_n15 = class extends RX {
  runConverter(t33, e10, r10) {
    let i10 = this.runCommonConverter(t33, e10, r10);
    return (void 0 === i10 && (i10 = this.runCustomConverter(t33, e10, r10)), void 0 === i10) ? super.runConverter(t33, e10, r10) : i10;
  }
  runCommonConverter(t33, e10, r10) {
    let i10 = OL[t33.name];
    if (void 0 === i10) return;
    let n10 = i10.exec(e10);
    return null === n10 ? void 0 : void 0 !== n10[1] ? n10[1].trim().replace(/[\t ]{2,}/gm, " ") : void 0 !== n10[2] ? n10[2].replace(/^\s*/gm, "").replace(/\s+$/gm, "").replace(/[\t ]{2,}/gm, " ").replace(/[\n\r]{2,}/gm, "\n") : void 0;
  }
}, _n16 = new WeakMap(), __privateAdd(_n15, _n16, Oo(_n15, "AbstractMermaidValueConverter")), _n15), OI = (_o2 = class extends ON {
  runCustomConverter(t33, e10, r10) {
  }
}, _n17 = new WeakMap(), __privateAdd(_o2, _n17, Oo(_o2, "CommonValueConverter")), _o2), OM = (_p2 = class extends RV {
  constructor(t33) {
    super(), this.keywords = new Set(t33);
  }
  buildKeywordTokens(t33, e10, r10) {
    let i10 = super.buildKeywordTokens(t33, e10, r10);
    return i10.forEach((t34) => {
      this.keywords.has(t34.name) && void 0 !== t34.PATTERN && (t34.PATTERN = RegExp(t34.PATTERN.toString() + "(?:(?=%%)|(?!\\S))"));
    }), i10;
  }
}, _n18 = new WeakMap(), __privateAdd(_p2, _n18, Oo(_p2, "AbstractMermaidTokenBuilder")), _p2);
Oo(void 0, "CommonTokenBuilder");
var OR = (_q2 = class extends OM {
  constructor() {
    super(["gitGraph"]);
  }
}, _n19 = new WeakMap(), __privateAdd(_q2, _n19, Oo(_q2, "GitGraphTokenBuilder")), _q2), OD = { parser: { TokenBuilder: Oo(() => new OR(), "TokenBuilder"), ValueConverter: Oo(() => new OI(), "ValueConverter") } };
function OO() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Oe, e10 = D5(D4(t33), O_), r10 = D5(D2({ shared: e10 }), OA, OD);
  return e10.ServiceRegistry.register(r10), { shared: e10, GitGraph: r10 };
}
Oo(OO, "createGitGraphServices");
var OP = (_r2 = class extends OM {
  constructor() {
    super(["info", "showInfo"]);
  }
}, _n20 = new WeakMap(), __privateAdd(_r2, _n20, Oo(_r2, "InfoTokenBuilder")), _r2), O$ = { parser: { TokenBuilder: Oo(() => new OP(), "TokenBuilder"), ValueConverter: Oo(() => new OI(), "ValueConverter") } };
function OB() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Oe, e10 = D5(D4(t33), O_), r10 = D5(D2({ shared: e10 }), OT, O$);
  return e10.ServiceRegistry.register(r10), { shared: e10, Info: r10 };
}
Oo(OB, "createInfoServices");
var OF = (_s2 = class extends OM {
  constructor() {
    super(["packet-beta"]);
  }
}, _n21 = new WeakMap(), __privateAdd(_s2, _n21, Oo(_s2, "PacketTokenBuilder")), _s2), Oz = { parser: { TokenBuilder: Oo(() => new OF(), "TokenBuilder"), ValueConverter: Oo(() => new OI(), "ValueConverter") } };
function OU() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Oe, e10 = D5(D4(t33), O_), r10 = D5(D2({ shared: e10 }), OE, Oz);
  return e10.ServiceRegistry.register(r10), { shared: e10, Packet: r10 };
}
Oo(OU, "createPacketServices");
var OG = (_t3 = class extends OM {
  constructor() {
    super(["pie", "showData"]);
  }
}, _n22 = new WeakMap(), __privateAdd(_t3, _n22, Oo(_t3, "PieTokenBuilder")), _t3), Oq = (_u2 = class extends ON {
  runCustomConverter(t33, e10, r10) {
    if ("PIE_SECTION_LABEL" === t33.name) return e10.replace(/"/g, "").trim();
  }
}, _n23 = new WeakMap(), __privateAdd(_u2, _n23, Oo(_u2, "PieValueConverter")), _u2), OY = { parser: { TokenBuilder: Oo(() => new OG(), "TokenBuilder"), ValueConverter: Oo(() => new Oq(), "ValueConverter") } };
function OH() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Oe, e10 = D5(D4(t33), O_), r10 = D5(D2({ shared: e10 }), OC, OY);
  return e10.ServiceRegistry.register(r10), { shared: e10, Pie: r10 };
}
Oo(OH, "createPieServices");
var Oj = (_v2 = class extends OM {
  constructor() {
    super(["architecture"]);
  }
}, _n24 = new WeakMap(), __privateAdd(_v2, _n24, Oo(_v2, "ArchitectureTokenBuilder")), _v2), OW = (_w2 = class extends ON {
  runCustomConverter(t33, e10, r10) {
    return "ARCH_ICON" === t33.name ? e10.replace(/[()]/g, "").trim() : "ARCH_TEXT_ICON" === t33.name ? e10.replace(/["()]/g, "") : "ARCH_TITLE" === t33.name ? e10.replace(/[[\]]/g, "").trim() : void 0;
  }
}, _n25 = new WeakMap(), __privateAdd(_w2, _n25, Oo(_w2, "ArchitectureValueConverter")), _w2), OV = { parser: { TokenBuilder: Oo(() => new Oj(), "TokenBuilder"), ValueConverter: Oo(() => new OW(), "ValueConverter") } };
function OX() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Oe, e10 = D5(D4(t33), O_), r10 = D5(D2({ shared: e10 }), OS, OV);
  return e10.ServiceRegistry.register(r10), { shared: e10, Architecture: r10 };
}
Oo(OX, "createArchitectureServices");
var OK = {}, OZ = { info: Oo(async () => {
  let { createInfoServices: t33 } = await _(async () => {
    let { createInfoServices: t34 } = await Promise.resolve().then(() => ts_);
    return { createInfoServices: t34 };
  }, true ? void 0 : void 0), e10 = t33().Info.parser.LangiumParser;
  OK.info = e10;
}, "info"), packet: Oo(async () => {
  let { createPacketServices: t33 } = await _(async () => {
    let { createPacketServices: t34 } = await Promise.resolve().then(() => tsT);
    return { createPacketServices: t34 };
  }, true ? void 0 : void 0), e10 = t33().Packet.parser.LangiumParser;
  OK.packet = e10;
}, "packet"), pie: Oo(async () => {
  let { createPieServices: t33 } = await _(async () => {
    let { createPieServices: t34 } = await Promise.resolve().then(() => tsE);
    return { createPieServices: t34 };
  }, true ? void 0 : void 0), e10 = t33().Pie.parser.LangiumParser;
  OK.pie = e10;
}, "pie"), architecture: Oo(async () => {
  let { createArchitectureServices: t33 } = await _(async () => {
    let { createArchitectureServices: t34 } = await Promise.resolve().then(() => tsC);
    return { createArchitectureServices: t34 };
  }, true ? void 0 : void 0), e10 = t33().Architecture.parser.LangiumParser;
  OK.architecture = e10;
}, "architecture"), gitGraph: Oo(async () => {
  let { createGitGraphServices: t33 } = await _(async () => {
    let { createGitGraphServices: t34 } = await Promise.resolve().then(() => tsS);
    return { createGitGraphServices: t34 };
  }, true ? void 0 : void 0), e10 = t33().GitGraph.parser.LangiumParser;
  OK.gitGraph = e10;
}, "gitGraph") };
async function OQ(t33, e10) {
  let r10 = OZ[t33];
  if (!r10) throw Error(`Unknown diagram type: ${t33}`);
  OK[t33] || await r10();
  let i10 = OK[t33].parse(e10);
  if (i10.lexerErrors.length > 0 || i10.parserErrors.length > 0) throw new OJ(i10);
  return i10.value;
}
Oo(OQ, "parse");
var OJ = (_x2 = class extends Error {
  constructor(t33) {
    super(`Parsing failed: ${t33.lexerErrors.map((t34) => t34.message).join("\n")} ${t33.parserErrors.map((t34) => t34.message).join("\n")}`), this.result = t33;
  }
}, _n26 = new WeakMap(), __privateAdd(_x2, _n26, Oo(_x2, "MermaidParseError")), _x2), O0 = { NORMAL: 0, REVERSE: 1, HIGHLIGHT: 2, MERGE: 3, CHERRY_PICK: 4 }, O1 = ny.gitGraph, O2 = iZ(() => g_({ ...O1, ...nM().gitGraph }), "getConfig"), O4 = new Lu(() => {
  let t33 = O2(), e10 = t33.mainBranchName, r10 = t33.mainBranchOrder;
  return { mainBranchName: e10, commits: /* @__PURE__ */ new Map(), head: null, branchConfig: /* @__PURE__ */ new Map([[e10, { name: e10, order: r10 }]]), branches: /* @__PURE__ */ new Map([[e10, null]]), currBranch: e10, direction: "LR", seq: 0, options: {} };
});
function O5() {
  return gc({ length: 7 });
}
function O3(t33, e10) {
  let r10 = /* @__PURE__ */ Object.create(null);
  return t33.reduce((t34, i10) => {
    let n10 = e10(i10);
    return r10[n10] || (r10[n10] = true, t34.push(i10)), t34;
  }, []);
}
iZ(O5, "getID"), iZ(O3, "uniqBy");
var O6 = iZ(function(t33) {
  O4.records.direction = t33;
}, "setDirection"), O7 = iZ(function(t33) {
  i0.debug("options str", t33), t33 = (t33 = null == t33 ? void 0 : t33.trim()) || "{}";
  try {
    O4.records.options = JSON.parse(t33);
  } catch (t34) {
    i0.error("error while parsing gitGraph options", t34.message);
  }
}, "setOptions"), O8 = iZ(function() {
  return O4.records.options;
}, "getOptions"), O9 = iZ(function(t33) {
  let e10 = t33.msg, r10 = t33.id, i10 = t33.type, n10 = t33.tags;
  i0.info("commit", e10, r10, i10, n10), i0.debug("Entering commit:", e10, r10, i10, n10);
  let a10 = O2();
  r10 = ae.sanitizeText(r10, a10), e10 = ae.sanitizeText(e10, a10), n10 = null == n10 ? void 0 : n10.map((t34) => ae.sanitizeText(t34, a10));
  let o10 = { id: r10 || O4.records.seq + "-" + O5(), message: e10, seq: O4.records.seq++, type: null != i10 ? i10 : O0.NORMAL, tags: null != n10 ? n10 : [], parents: null == O4.records.head ? [] : [O4.records.head.id], branch: O4.records.currBranch };
  O4.records.head = o10, i0.info("main branch", a10.mainBranchName), O4.records.commits.set(o10.id, o10), O4.records.branches.set(O4.records.currBranch, o10.id), i0.debug("in pushCommit " + o10.id);
}, "commit"), Pt = iZ(function(t33) {
  let e10 = t33.name, r10 = t33.order;
  if (e10 = ae.sanitizeText(e10, O2()), O4.records.branches.has(e10)) throw Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${e10}")`);
  O4.records.branches.set(e10, null != O4.records.head ? O4.records.head.id : null), O4.records.branchConfig.set(e10, { name: e10, order: r10 }), Pi(e10), i0.debug("in createBranch");
}, "branch"), Pe = iZ((t33) => {
  let e10 = t33.branch, r10 = t33.id, i10 = t33.type, n10 = t33.tags, a10 = O2();
  e10 = ae.sanitizeText(e10, a10), r10 && (r10 = ae.sanitizeText(r10, a10));
  let o10 = O4.records.branches.get(O4.records.currBranch), s10 = O4.records.branches.get(e10), l10 = o10 ? O4.records.commits.get(o10) : void 0, h10 = s10 ? O4.records.commits.get(s10) : void 0;
  if (l10 && h10 && l10.branch === e10) throw Error(`Cannot merge branch '${e10}' into itself.`);
  if (O4.records.currBranch === e10) {
    let t34 = Error('Incorrect usage of "merge". Cannot merge a branch to itself');
    throw t34.hash = { text: `merge ${e10}`, token: `merge ${e10}`, expected: ["branch abc"] }, t34;
  }
  if (void 0 === l10 || !l10) {
    let t34 = Error(`Incorrect usage of "merge". Current branch (${O4.records.currBranch})has no commits`);
    throw t34.hash = { text: `merge ${e10}`, token: `merge ${e10}`, expected: ["commit"] }, t34;
  }
  if (!O4.records.branches.has(e10)) {
    let t34 = Error('Incorrect usage of "merge". Branch to be merged (' + e10 + ") does not exist");
    throw t34.hash = { text: `merge ${e10}`, token: `merge ${e10}`, expected: [`branch ${e10}`] }, t34;
  }
  if (void 0 === h10 || !h10) {
    let t34 = Error('Incorrect usage of "merge". Branch to be merged (' + e10 + ") has no commits");
    throw t34.hash = { text: `merge ${e10}`, token: `merge ${e10}`, expected: ['"commit"'] }, t34;
  }
  if (l10 === h10) {
    let t34 = Error('Incorrect usage of "merge". Both branches have same head');
    throw t34.hash = { text: `merge ${e10}`, token: `merge ${e10}`, expected: ["branch abc"] }, t34;
  }
  if (r10 && O4.records.commits.has(r10)) {
    let t34 = Error('Incorrect usage of "merge". Commit with id:' + r10 + " already exists, use different custom Id");
    throw t34.hash = { text: `merge ${e10} ${r10} ${i10} ${null == n10 ? void 0 : n10.join(" ")}`, token: `merge ${e10} ${r10} ${i10} ${null == n10 ? void 0 : n10.join(" ")}`, expected: [`merge ${e10} ${r10}_UNIQUE ${i10} ${null == n10 ? void 0 : n10.join(" ")}`] }, t34;
  }
  let u10 = { id: r10 || `${O4.records.seq}-${O5()}`, message: `merged branch ${e10} into ${O4.records.currBranch}`, seq: O4.records.seq++, parents: null == O4.records.head ? [] : [O4.records.head.id, s10 || ""], branch: O4.records.currBranch, type: O0.MERGE, customType: i10, customId: !!r10, tags: null != n10 ? n10 : [] };
  O4.records.head = u10, O4.records.commits.set(u10.id, u10), O4.records.branches.set(O4.records.currBranch, u10.id), i0.debug(O4.records.branches), i0.debug("in mergeBranch");
}, "merge"), Pr = iZ(function(t33) {
  let e10 = t33.id, r10 = t33.targetId, i10 = t33.tags, n10 = t33.parent;
  i0.debug("Entering cherryPick:", e10, r10, i10);
  let a10 = O2();
  if (e10 = ae.sanitizeText(e10, a10), r10 = ae.sanitizeText(r10, a10), i10 = null == i10 ? void 0 : i10.map((t34) => ae.sanitizeText(t34, a10)), n10 = ae.sanitizeText(n10, a10), !e10 || !O4.records.commits.has(e10)) {
    let t34 = Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');
    throw t34.hash = { text: `cherryPick ${e10} ${r10}`, token: `cherryPick ${e10} ${r10}`, expected: ["cherry-pick abc"] }, t34;
  }
  let o10 = O4.records.commits.get(e10);
  if (void 0 === o10 || !o10) throw Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');
  if (n10 && !(Array.isArray(o10.parents) && o10.parents.includes(n10))) throw Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");
  let s10 = o10.branch;
  if (o10.type === O0.MERGE && !n10) throw Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");
  if (!r10 || !O4.records.commits.has(r10)) {
    if (s10 === O4.records.currBranch) {
      let t35 = Error('Incorrect usage of "cherryPick". Source commit is already on current branch');
      throw t35.hash = { text: `cherryPick ${e10} ${r10}`, token: `cherryPick ${e10} ${r10}`, expected: ["cherry-pick abc"] }, t35;
    }
    let t34 = O4.records.branches.get(O4.records.currBranch);
    if (void 0 === t34 || !t34) {
      let t35 = Error(`Incorrect usage of "cherry-pick". Current branch (${O4.records.currBranch})has no commits`);
      throw t35.hash = { text: `cherryPick ${e10} ${r10}`, token: `cherryPick ${e10} ${r10}`, expected: ["cherry-pick abc"] }, t35;
    }
    let a11 = O4.records.commits.get(t34);
    if (void 0 === a11 || !a11) {
      let t35 = Error(`Incorrect usage of "cherry-pick". Current branch (${O4.records.currBranch})has no commits`);
      throw t35.hash = { text: `cherryPick ${e10} ${r10}`, token: `cherryPick ${e10} ${r10}`, expected: ["cherry-pick abc"] }, t35;
    }
    let l10 = { id: O4.records.seq + "-" + O5(), message: `cherry-picked ${null == o10 ? void 0 : o10.message} into ${O4.records.currBranch}`, seq: O4.records.seq++, parents: null == O4.records.head ? [] : [O4.records.head.id, o10.id], branch: O4.records.currBranch, type: O0.CHERRY_PICK, tags: i10 ? i10.filter(Boolean) : [`cherry-pick:${o10.id}${o10.type === O0.MERGE ? `|parent:${n10}` : ""}`] };
    O4.records.head = l10, O4.records.commits.set(l10.id, l10), O4.records.branches.set(O4.records.currBranch, l10.id), i0.debug(O4.records.branches), i0.debug("in cherryPick");
  }
}, "cherryPick"), Pi = iZ(function(t33) {
  if (t33 = ae.sanitizeText(t33, O2()), O4.records.branches.has(t33)) {
    O4.records.currBranch = t33;
    let r10 = O4.records.branches.get(O4.records.currBranch);
    if (void 0 !== r10 && r10) {
      var e10;
      O4.records.head = null !== (e10 = O4.records.commits.get(r10)) && void 0 !== e10 ? e10 : null;
    } else O4.records.head = null;
  } else {
    let e11 = Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t33}")`);
    throw e11.hash = { text: `checkout ${t33}`, token: `checkout ${t33}`, expected: [`branch ${t33}`] }, e11;
  }
}, "checkout");
function Pn(t33, e10, r10) {
  let i10 = t33.indexOf(e10);
  -1 === i10 ? t33.push(r10) : t33.splice(i10, 1, r10);
}
function Pa(t33) {
  let e10 = t33.reduce((t34, e11) => t34.seq > e11.seq ? t34 : e11, t33[0]), r10 = "";
  t33.forEach(function(t34) {
    t34 === e10 ? r10 += "	*" : r10 += "	|";
  });
  let i10 = [r10, e10.id, e10.seq];
  for (let t34 in O4.records.branches) O4.records.branches.get(t34) === e10.id && i10.push(t34);
  if (i0.debug(i10.join(" ")), e10.parents && 2 == e10.parents.length && e10.parents[0] && e10.parents[1]) {
    let r11 = O4.records.commits.get(e10.parents[0]);
    Pn(t33, e10, r11), e10.parents[1] && t33.push(O4.records.commits.get(e10.parents[1]));
  } else if (0 == e10.parents.length) return;
  else if (e10.parents[0]) {
    let r11 = O4.records.commits.get(e10.parents[0]);
    Pn(t33, e10, r11);
  }
  Pa(t33 = O3(t33, (t34) => t34.id));
}
iZ(Pn, "upsert"), iZ(Pa, "prettyPrintCommitHistory");
var Po = iZ(function() {
  i0.debug(O4.records.commits), Pa([Pu()[0]]);
}, "prettyPrint"), Ps = iZ(function() {
  O4.reset(), ag();
}, "clear"), Pl = iZ(function() {
  return [...O4.records.branchConfig.values()].map((t33, e10) => null !== t33.order && void 0 !== t33.order ? t33 : { ...t33, order: parseFloat(`0.${e10}`) }).sort((t33, e10) => {
    var r10, i10;
    return (null !== (r10 = t33.order) && void 0 !== r10 ? r10 : 0) - (null !== (i10 = e10.order) && void 0 !== i10 ? i10 : 0);
  }).map((t33) => {
    let { name: e10 } = t33;
    return { name: e10 };
  });
}, "getBranchesAsObjArray"), Ph = iZ(function() {
  return O4.records.branches;
}, "getBranches"), Pc = iZ(function() {
  return O4.records.commits;
}, "getCommits"), Pu = iZ(function() {
  let t33 = [...O4.records.commits.values()];
  return t33.forEach(function(t34) {
    i0.debug(t34.id);
  }), t33.sort((t34, e10) => t34.seq - e10.seq), t33;
}, "getCommitsArray"), Pd = { commitType: O0, getConfig: O2, setDirection: O6, setOptions: O7, getOptions: O8, commit: O9, branch: Pt, merge: Pe, cherryPick: Pr, checkout: Pi, prettyPrint: Po, clear: Ps, getBranchesAsObjArray: Pl, getBranches: Ph, getCommits: Pc, getCommitsArray: Pu, getCurrentBranch: iZ(function() {
  return O4.records.currBranch;
}, "getCurrentBranch"), getDirection: iZ(function() {
  return O4.records.direction;
}, "getDirection"), getHead: iZ(function() {
  return O4.records.head;
}, "getHead"), setAccTitle: af, getAccTitle: am, getAccDescription: av, setAccDescription: ay, setDiagramTitle: ax, getDiagramTitle: ab }, Pp = iZ((t33, e10) => {
  for (let r10 of (Lc(t33, e10), t33.dir && e10.setDirection(t33.dir), t33.statements)) Pg(r10, e10);
}, "populate"), Pg = iZ((t33, e10) => {
  let r10 = { Commit: iZ((t34) => e10.commit(Pf(t34)), "Commit"), Branch: iZ((t34) => e10.branch(Pm(t34)), "Branch"), Merge: iZ((t34) => e10.merge(Py(t34)), "Merge"), Checkout: iZ((t34) => e10.checkout(Pv(t34)), "Checkout"), CherryPicking: iZ((t34) => e10.cherryPick(Px(t34)), "CherryPicking") }[t33.$type];
  r10 ? r10(t33) : i0.error(`Unknown statement type: ${t33.$type}`);
}, "parseStatement"), Pf = iZ((t33) => {
  var e10, r10;
  return { id: t33.id, msg: null !== (e10 = t33.message) && void 0 !== e10 ? e10 : "", type: void 0 !== t33.type ? O0[t33.type] : O0.NORMAL, tags: null !== (r10 = t33.tags) && void 0 !== r10 ? r10 : void 0 };
}, "parseCommit"), Pm = iZ((t33) => {
  var e10;
  return { name: t33.name, order: null !== (e10 = t33.order) && void 0 !== e10 ? e10 : 0 };
}, "parseBranch"), Py = iZ((t33) => {
  var e10, r10;
  return { branch: t33.branch, id: null !== (e10 = t33.id) && void 0 !== e10 ? e10 : "", type: void 0 !== t33.type ? O0[t33.type] : void 0, tags: null !== (r10 = t33.tags) && void 0 !== r10 ? r10 : void 0 };
}, "parseMerge"), Pv = iZ((t33) => t33.branch, "parseCheckout"), Px = iZ((t33) => {
  var e10;
  return { id: t33.id, targetId: "", tags: (null === (e10 = t33.tags) || void 0 === e10 ? void 0 : e10.length) === 0 ? void 0 : t33.tags, parent: t33.parent };
}, "parseCherryPicking"), Pb = { parse: iZ(async (t33) => {
  let e10 = await OQ("gitGraph", t33);
  i0.debug(e10), Pp(e10, Pd);
}, "parse") }, Pw = nM(), Pk = null == Pw ? void 0 : Pw.gitGraph, P_ = /* @__PURE__ */ new Map(), PT = /* @__PURE__ */ new Map(), PE = /* @__PURE__ */ new Map(), PC = [], PS = 0, PA = "LR", PL = iZ(() => {
  P_.clear(), PT.clear(), PE.clear(), PS = 0, PC = [], PA = "LR";
}, "clear"), PN = iZ((t33) => {
  let e10 = document.createElementNS("http://www.w3.org/2000/svg", "text");
  return ("string" == typeof t33 ? t33.split(/\\n|\n|<br\s*\/?>/gi) : t33).forEach((t34) => {
    let r10 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
    r10.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), r10.setAttribute("dy", "1em"), r10.setAttribute("x", "0"), r10.setAttribute("class", "row"), r10.textContent = t34.trim(), e10.appendChild(r10);
  }), e10;
}, "drawText"), PI = iZ((t33) => {
  let e10, r10, i10;
  return "BT" === PA ? (r10 = iZ((t34, e11) => t34 <= e11, "comparisonFunc"), i10 = 1 / 0) : (r10 = iZ((t34, e11) => t34 >= e11, "comparisonFunc"), i10 = 0), t33.forEach((t34) => {
    var n10, a10;
    let o10 = "TB" === PA || "BT" == PA ? null === (n10 = PT.get(t34)) || void 0 === n10 ? void 0 : n10.y : null === (a10 = PT.get(t34)) || void 0 === a10 ? void 0 : a10.x;
    void 0 !== o10 && r10(o10, i10) && (e10 = t34, i10 = o10);
  }), e10;
}, "findClosestParent"), PM = iZ((t33) => {
  let e10 = "", r10 = 1 / 0;
  return t33.forEach((t34) => {
    let i10 = PT.get(t34).y;
    i10 <= r10 && (e10 = t34, r10 = i10);
  }), e10 || void 0;
}, "findClosestParentBT"), PR = iZ((t33, e10, r10) => {
  let i10 = r10, n10 = r10, a10 = [];
  t33.forEach((t34) => {
    let r11 = e10.get(t34);
    if (!r11) throw Error(`Commit not found for key ${t34}`);
    r11.parents.length ? n10 = Math.max(i10 = PO(r11), n10) : a10.push(r11), PP(r11, i10);
  }), i10 = n10, a10.forEach((t34) => {
    P$(t34, i10, r10);
  }), t33.forEach((t34) => {
    let r11 = e10.get(t34);
    if (null == r11 ? void 0 : r11.parents.length) {
      let t35 = PM(r11.parents);
      (i10 = PT.get(t35).y - 40) <= n10 && (n10 = i10);
      let e11 = P_.get(r11.branch).pos, a11 = i10 - 10;
      PT.set(r11.id, { x: e11, y: a11 });
    }
  });
}, "setParallelBTPos"), PD = iZ((t33) => {
  var e10;
  let r10 = PI(t33.parents.filter((t34) => null !== t34));
  if (!r10) throw Error(`Closest parent not found for commit ${t33.id}`);
  let i10 = null === (e10 = PT.get(r10)) || void 0 === e10 ? void 0 : e10.y;
  if (void 0 === i10) throw Error(`Closest parent position not found for commit ${t33.id}`);
  return i10;
}, "findClosestParentPos"), PO = iZ((t33) => PD(t33) + 40, "calculateCommitPosition"), PP = iZ((t33, e10) => {
  let r10 = P_.get(t33.branch);
  if (!r10) throw Error(`Branch not found for commit ${t33.id}`);
  let i10 = r10.pos, n10 = e10 + 10;
  return PT.set(t33.id, { x: i10, y: n10 }), { x: i10, y: n10 };
}, "setCommitPosition"), P$ = iZ((t33, e10, r10) => {
  let i10 = P_.get(t33.branch);
  if (!i10) throw Error(`Branch not found for commit ${t33.id}`);
  let n10 = i10.pos;
  PT.set(t33.id, { x: n10, y: e10 + r10 });
}, "setRootPosition"), PB = iZ((t33, e10, r10, i10, n10, a10) => {
  if (a10 === O0.HIGHLIGHT) t33.append("rect").attr("x", r10.x - 10).attr("y", r10.y - 10).attr("width", 20).attr("height", 20).attr("class", `commit ${e10.id} commit-highlight${n10 % 8} ${i10}-outer`), t33.append("rect").attr("x", r10.x - 6).attr("y", r10.y - 6).attr("width", 12).attr("height", 12).attr("class", `commit ${e10.id} commit${n10 % 8} ${i10}-inner`);
  else if (a10 === O0.CHERRY_PICK) t33.append("circle").attr("cx", r10.x).attr("cy", r10.y).attr("r", 10).attr("class", `commit ${e10.id} ${i10}`), t33.append("circle").attr("cx", r10.x - 3).attr("cy", r10.y + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${e10.id} ${i10}`), t33.append("circle").attr("cx", r10.x + 3).attr("cy", r10.y + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${e10.id} ${i10}`), t33.append("line").attr("x1", r10.x + 3).attr("y1", r10.y + 1).attr("x2", r10.x).attr("y2", r10.y - 5).attr("stroke", "#fff").attr("class", `commit ${e10.id} ${i10}`), t33.append("line").attr("x1", r10.x - 3).attr("y1", r10.y + 1).attr("x2", r10.x).attr("y2", r10.y - 5).attr("stroke", "#fff").attr("class", `commit ${e10.id} ${i10}`);
  else {
    let o10 = t33.append("circle");
    if (o10.attr("cx", r10.x), o10.attr("cy", r10.y), o10.attr("r", e10.type === O0.MERGE ? 9 : 10), o10.attr("class", `commit ${e10.id} commit${n10 % 8}`), a10 === O0.MERGE) {
      let a11 = t33.append("circle");
      a11.attr("cx", r10.x), a11.attr("cy", r10.y), a11.attr("r", 6), a11.attr("class", `commit ${i10} ${e10.id} commit${n10 % 8}`);
    }
    a10 === O0.REVERSE && t33.append("path").attr("d", `M ${r10.x - 5},${r10.y - 5}L${r10.x + 5},${r10.y + 5}M${r10.x - 5},${r10.y + 5}L${r10.x + 5},${r10.y - 5}`).attr("class", `commit ${i10} ${e10.id} commit${n10 % 8}`);
  }
}, "drawCommitBullet"), PF = iZ((t33, e10, r10, i10) => {
  if (e10.type !== O0.CHERRY_PICK && (e10.customId && e10.type === O0.MERGE || e10.type !== O0.MERGE) && (null == Pk ? void 0 : Pk.showCommitLabel)) {
    var n10;
    let a10 = t33.append("g"), o10 = a10.insert("rect").attr("class", "commit-label-bkg"), s10 = a10.append("text").attr("x", i10).attr("y", r10.y + 25).attr("class", "commit-label").text(e10.id), l10 = null === (n10 = s10.node()) || void 0 === n10 ? void 0 : n10.getBBox();
    if (l10 && (o10.attr("x", r10.posWithOffset - l10.width / 2 - 2).attr("y", r10.y + 13.5).attr("width", l10.width + 4).attr("height", l10.height + 4), "TB" === PA || "BT" === PA ? (o10.attr("x", r10.x - (l10.width + 16 + 5)).attr("y", r10.y - 12), s10.attr("x", r10.x - (l10.width + 16)).attr("y", r10.y + l10.height - 12)) : s10.attr("x", r10.posWithOffset - l10.width / 2), Pk.rotateCommitLabel)) {
      if ("TB" === PA || "BT" === PA) s10.attr("transform", "rotate(-45, " + r10.x + ", " + r10.y + ")"), o10.attr("transform", "rotate(-45, " + r10.x + ", " + r10.y + ")");
      else {
        let t34 = -7.5 - (l10.width + 10) / 25 * 9.5, e11 = 10 + l10.width / 25 * 8.5;
        a10.attr("transform", "translate(" + t34 + ", " + e11 + ") rotate(-45, " + i10 + ", " + r10.y + ")");
      }
    }
  }
}, "drawCommitLabel"), Pz = iZ((t33, e10, r10, i10) => {
  if (e10.tags.length > 0) {
    let a10 = 0, o10 = 0, s10 = 0, l10 = [];
    for (let i11 of e10.tags.reverse()) {
      var n10;
      let e11 = t33.insert("polygon"), h10 = t33.append("circle"), u10 = t33.append("text").attr("y", r10.y - 16 - a10).attr("class", "tag-label").text(i11), d10 = null === (n10 = u10.node()) || void 0 === n10 ? void 0 : n10.getBBox();
      if (!d10) throw Error("Tag bbox not found");
      o10 = Math.max(o10, d10.width), s10 = Math.max(s10, d10.height), u10.attr("x", r10.posWithOffset - d10.width / 2), l10.push({ tag: u10, hole: h10, rect: e11, yOffset: a10 }), a10 += 20;
    }
    for (let { tag: t34, hole: e11, rect: n11, yOffset: a11 } of l10) {
      let l11 = s10 / 2, h10 = r10.y - 19.2 - a11;
      if (n11.attr("class", "tag-label-bkg").attr("points", `
      ${i10 - o10 / 2 - 2},${h10 + 2}  
      ${i10 - o10 / 2 - 2},${h10 - 2}
      ${r10.posWithOffset - o10 / 2 - 4},${h10 - l11 - 2}
      ${r10.posWithOffset + o10 / 2 + 4},${h10 - l11 - 2}
      ${r10.posWithOffset + o10 / 2 + 4},${h10 + l11 + 2}
      ${r10.posWithOffset - o10 / 2 - 4},${h10 + l11 + 2}`), e11.attr("cy", h10).attr("cx", i10 - o10 / 2 + 2).attr("r", 1.5).attr("class", "tag-hole"), "TB" === PA || "BT" === PA) {
        let s11 = i10 + a11;
        n11.attr("class", "tag-label-bkg").attr("points", `
        ${r10.x},${s11 + 2}
        ${r10.x},${s11 - 2}
        ${r10.x + 10},${s11 - l11 - 2}
        ${r10.x + 10 + o10 + 4},${s11 - l11 - 2}
        ${r10.x + 10 + o10 + 4},${s11 + l11 + 2}
        ${r10.x + 10},${s11 + l11 + 2}`).attr("transform", "translate(12,12) rotate(45, " + r10.x + "," + i10 + ")"), e11.attr("cx", r10.x + 2).attr("cy", s11).attr("transform", "translate(12,12) rotate(45, " + r10.x + "," + i10 + ")"), t34.attr("x", r10.x + 5).attr("y", s11 + 3).attr("transform", "translate(14,14) rotate(45, " + r10.x + "," + i10 + ")");
      }
    }
  }
}, "drawCommitTags"), PU = iZ((t33) => {
  var e10;
  switch (null !== (e10 = t33.customType) && void 0 !== e10 ? e10 : t33.type) {
    case O0.NORMAL:
      return "commit-normal";
    case O0.REVERSE:
      return "commit-reverse";
    case O0.HIGHLIGHT:
      return "commit-highlight";
    case O0.MERGE:
      return "commit-merge";
    case O0.CHERRY_PICK:
      return "commit-cherry-pick";
    default:
      return "commit-normal";
  }
}, "getCommitClassType"), PG = iZ((t33, e10, r10, i10) => {
  var n10, a10, o10;
  let s10 = { x: 0, y: 0 };
  if (t33.parents.length > 0) {
    let r11 = PI(t33.parents);
    if (r11) {
      let o11 = null !== (n10 = i10.get(r11)) && void 0 !== n10 ? n10 : s10;
      return "TB" === e10 ? o11.y + 40 : "BT" === e10 ? (null !== (a10 = i10.get(t33.id)) && void 0 !== a10 ? a10 : s10).y - 40 : o11.x + 40;
    }
  } else {
    if ("TB" === e10) return 30;
    if ("BT" === e10) return (null !== (o10 = i10.get(t33.id)) && void 0 !== o10 ? o10 : s10).y - 40;
  }
  return 0;
}, "calculatePosition"), Pq = iZ((t33, e10, r10) => {
  var i10, n10;
  let a10 = "BT" === PA && r10 ? e10 : e10 + 10, o10 = "TB" === PA || "BT" === PA ? a10 : null === (i10 = P_.get(t33.branch)) || void 0 === i10 ? void 0 : i10.pos, s10 = "TB" === PA || "BT" === PA ? null === (n10 = P_.get(t33.branch)) || void 0 === n10 ? void 0 : n10.pos : a10;
  if (void 0 === s10 || void 0 === o10) throw Error(`Position were undefined for commit ${t33.id}`);
  return { x: s10, y: o10, posWithOffset: a10 };
}, "getCommitPosition"), PY = iZ((t33, e10, r10) => {
  var i10;
  if (!Pk) throw Error("GitGraph config not found");
  let n10 = t33.append("g").attr("class", "commit-bullets"), a10 = t33.append("g").attr("class", "commit-labels"), o10 = "TB" === PA || "BT" === PA ? 30 : 0, s10 = [...e10.keys()], l10 = null !== (i10 = null == Pk ? void 0 : Pk.parallelCommits) && void 0 !== i10 && i10, h10 = s10.sort(iZ((t34, r11) => {
    var i11, n11;
    let a11 = null === (i11 = e10.get(t34)) || void 0 === i11 ? void 0 : i11.seq, o11 = null === (n11 = e10.get(r11)) || void 0 === n11 ? void 0 : n11.seq;
    return void 0 !== a11 && void 0 !== o11 ? a11 - o11 : 0;
  }, "sortKeys"));
  "BT" === PA && (l10 && PR(h10, e10, o10), h10 = h10.reverse()), h10.forEach((t34) => {
    let i11 = e10.get(t34);
    if (!i11) throw Error(`Commit not found for key ${t34}`);
    l10 && (o10 = PG(i11, PA, o10, PT));
    let s11 = Pq(i11, o10, l10);
    if (r10) {
      var h11, u10, d10;
      let t35 = PU(i11), e11 = null !== (u10 = i11.customType) && void 0 !== u10 ? u10 : i11.type, r11 = null !== (d10 = null === (h11 = P_.get(i11.branch)) || void 0 === h11 ? void 0 : h11.index) && void 0 !== d10 ? d10 : 0;
      PB(n10, i11, s11, t35, r11, e11), PF(a10, i11, s11, o10), Pz(a10, i11, s11, o10);
    }
    "TB" === PA || "BT" === PA ? PT.set(i11.id, { x: s11.x, y: s11.posWithOffset }) : PT.set(i11.id, { x: s11.posWithOffset, y: s11.y }), (o10 = "BT" === PA && l10 ? o10 + 40 : o10 + 40 + 10) > PS && (PS = o10);
  });
}, "drawCommits"), PH = iZ((t33, e10, r10, i10, n10) => {
  let a10 = ("TB" === PA || "BT" === PA ? r10.x < i10.x : r10.y < i10.y) ? e10.branch : t33.branch, o10 = iZ((t34) => t34.branch === a10, "isOnBranchToGetCurve"), s10 = iZ((r11) => r11.seq > t33.seq && r11.seq < e10.seq, "isBetweenCommits");
  return [...n10.values()].some((t34) => s10(t34) && o10(t34));
}, "shouldRerouteArrow"), Pj = iZ(function(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i10 = t33 + Math.abs(t33 - e10) / 2;
  if (r10 > 5) return i10;
  if (PC.every((t34) => Math.abs(t34 - i10) >= 10)) return PC.push(i10), i10;
  let n10 = Math.abs(t33 - e10);
  return Pj(t33, e10 - n10 / 5, r10 + 1);
}, "findLane"), PW = iZ((t33, e10, r10, i10) => {
  var n10, a10, o10, s10, l10;
  let h10;
  let u10 = PT.get(e10.id), d10 = PT.get(r10.id);
  if (void 0 === u10 || void 0 === d10) throw Error(`Commit positions not found for commits ${e10.id} and ${r10.id}`);
  let p10 = PH(e10, r10, u10, d10, i10), g10 = "", f10 = "", y10 = 0, v10 = 0, x10 = null === (n10 = P_.get(r10.branch)) || void 0 === n10 ? void 0 : n10.index;
  if (r10.type === O0.MERGE && e10.id !== r10.parents[0] && (x10 = null === (a10 = P_.get(e10.branch)) || void 0 === a10 ? void 0 : a10.index), p10) {
    g10 = "A 10 10, 0, 0, 0,", f10 = "A 10 10, 0, 0, 1,", y10 = 10, v10 = 10;
    let t34 = u10.y < d10.y ? Pj(u10.y, d10.y) : Pj(d10.y, u10.y), r11 = u10.x < d10.x ? Pj(u10.x, d10.x) : Pj(d10.x, u10.x);
    "TB" === PA ? u10.x < d10.x ? h10 = `M ${u10.x} ${u10.y} L ${r11 - y10} ${u10.y} ${f10} ${r11} ${u10.y + v10} L ${r11} ${d10.y - y10} ${g10} ${r11 + v10} ${d10.y} L ${d10.x} ${d10.y}` : (x10 = null === (o10 = P_.get(e10.branch)) || void 0 === o10 ? void 0 : o10.index, h10 = `M ${u10.x} ${u10.y} L ${r11 + y10} ${u10.y} ${g10} ${r11} ${u10.y + v10} L ${r11} ${d10.y - y10} ${f10} ${r11 - v10} ${d10.y} L ${d10.x} ${d10.y}`) : "BT" === PA ? u10.x < d10.x ? h10 = `M ${u10.x} ${u10.y} L ${r11 - y10} ${u10.y} ${g10} ${r11} ${u10.y - v10} L ${r11} ${d10.y + y10} ${f10} ${r11 + v10} ${d10.y} L ${d10.x} ${d10.y}` : (x10 = null === (s10 = P_.get(e10.branch)) || void 0 === s10 ? void 0 : s10.index, h10 = `M ${u10.x} ${u10.y} L ${r11 + y10} ${u10.y} ${f10} ${r11} ${u10.y - v10} L ${r11} ${d10.y + y10} ${g10} ${r11 - v10} ${d10.y} L ${d10.x} ${d10.y}`) : u10.y < d10.y ? h10 = `M ${u10.x} ${u10.y} L ${u10.x} ${t34 - y10} ${g10} ${u10.x + v10} ${t34} L ${d10.x - y10} ${t34} ${f10} ${d10.x} ${t34 + v10} L ${d10.x} ${d10.y}` : (x10 = null === (l10 = P_.get(e10.branch)) || void 0 === l10 ? void 0 : l10.index, h10 = `M ${u10.x} ${u10.y} L ${u10.x} ${t34 + y10} ${f10} ${u10.x + v10} ${t34} L ${d10.x - y10} ${t34} ${g10} ${d10.x} ${t34 - v10} L ${d10.x} ${d10.y}`);
  } else g10 = "A 20 20, 0, 0, 0,", f10 = "A 20 20, 0, 0, 1,", y10 = 20, v10 = 20, "TB" === PA ? (u10.x < d10.x && (h10 = r10.type === O0.MERGE && e10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y - y10} ${g10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${f10} ${d10.x} ${u10.y + v10} L ${d10.x} ${d10.y}`), u10.x > d10.x && (g10 = "A 20 20, 0, 0, 0,", f10 = "A 20 20, 0, 0, 1,", y10 = 20, v10 = 20, h10 = r10.type === O0.MERGE && e10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y - y10} ${f10} ${u10.x - v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x + y10} ${u10.y} ${g10} ${d10.x} ${u10.y + v10} L ${d10.x} ${d10.y}`), u10.x === d10.x && (h10 = `M ${u10.x} ${u10.y} L ${d10.x} ${d10.y}`)) : "BT" === PA ? (u10.x < d10.x && (h10 = r10.type === O0.MERGE && e10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y + y10} ${f10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${g10} ${d10.x} ${u10.y - v10} L ${d10.x} ${d10.y}`), u10.x > d10.x && (g10 = "A 20 20, 0, 0, 0,", f10 = "A 20 20, 0, 0, 1,", y10 = 20, v10 = 20, h10 = r10.type === O0.MERGE && e10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y + y10} ${g10} ${u10.x - v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${g10} ${d10.x} ${u10.y - v10} L ${d10.x} ${d10.y}`), u10.x === d10.x && (h10 = `M ${u10.x} ${u10.y} L ${d10.x} ${d10.y}`)) : (u10.y < d10.y && (h10 = r10.type === O0.MERGE && e10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${f10} ${d10.x} ${u10.y + v10} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y - y10} ${g10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}`), u10.y > d10.y && (h10 = r10.type === O0.MERGE && e10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${g10} ${d10.x} ${u10.y - v10} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y + y10} ${f10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}`), u10.y === d10.y && (h10 = `M ${u10.x} ${u10.y} L ${d10.x} ${d10.y}`));
  if (void 0 === h10) throw Error("Line definition not found");
  t33.append("path").attr("d", h10).attr("class", "arrow arrow" + x10 % 8);
}, "drawArrow"), PV = iZ((t33, e10) => {
  let r10 = t33.append("g").attr("class", "commit-arrows");
  [...e10.keys()].forEach((t34) => {
    let i10 = e10.get(t34);
    i10.parents && i10.parents.length > 0 && i10.parents.forEach((t35) => {
      PW(r10, e10.get(t35), i10, e10);
    });
  });
}, "drawArrows"), PX = iZ((t33, e10) => {
  let r10 = t33.append("g");
  e10.forEach((t34, e11) => {
    var i10;
    let n10 = e11 % 8, a10 = null === (i10 = P_.get(t34.name)) || void 0 === i10 ? void 0 : i10.pos;
    if (void 0 === a10) throw Error(`Position not found for branch ${t34.name}`);
    let o10 = r10.append("line");
    o10.attr("x1", 0), o10.attr("y1", a10), o10.attr("x2", PS), o10.attr("y2", a10), o10.attr("class", "branch branch" + n10), "TB" === PA ? (o10.attr("y1", 30), o10.attr("x1", a10), o10.attr("y2", PS), o10.attr("x2", a10)) : "BT" === PA && (o10.attr("y1", PS), o10.attr("x1", a10), o10.attr("y2", 30), o10.attr("x2", a10)), PC.push(a10);
    let s10 = PN(t34.name), l10 = r10.insert("rect"), h10 = r10.insert("g").attr("class", "branchLabel").insert("g").attr("class", "label branch-label" + n10);
    h10.node().appendChild(s10);
    let u10 = s10.getBBox();
    l10.attr("class", "branchLabelBkg label" + n10).attr("rx", 4).attr("ry", 4).attr("x", -u10.width - 4 - ((null == Pk ? void 0 : Pk.rotateCommitLabel) === true ? 30 : 0)).attr("y", -u10.height / 2 + 8).attr("width", u10.width + 18).attr("height", u10.height + 4), h10.attr("transform", "translate(" + (-u10.width - 14 - ((null == Pk ? void 0 : Pk.rotateCommitLabel) === true ? 30 : 0)) + ", " + (a10 - u10.height / 2 - 1) + ")"), "TB" === PA ? (l10.attr("x", a10 - u10.width / 2 - 10).attr("y", 0), h10.attr("transform", "translate(" + (a10 - u10.width / 2 - 5) + ", 0)")) : "BT" === PA ? (l10.attr("x", a10 - u10.width / 2 - 10).attr("y", PS), h10.attr("transform", "translate(" + (a10 - u10.width / 2 - 5) + ", " + PS + ")")) : l10.attr("transform", "translate(-19, " + (a10 - u10.height / 2) + ")");
  });
}, "drawBranches"), PK = iZ(function(t33, e10, r10, i10, n10) {
  return P_.set(t33, { pos: e10, index: r10 }), e10 += 50 + (n10 ? 40 : 0) + ("TB" === PA || "BT" === PA ? i10.width / 2 : 0);
}, "setBranchPosition");
let PZ = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: Pb, db: Pd, renderer: { draw: iZ(function(t33, e10, r10, i10) {
  var n10, a10;
  if (PL(), i0.debug("in gitgraph renderer", t33 + "\n", "id:", e10, r10), !Pk) throw Error("GitGraph config not found");
  let o10 = null !== (n10 = Pk.rotateCommitLabel) && void 0 !== n10 && n10, s10 = i10.db;
  PE = s10.getCommits();
  let l10 = s10.getBranchesAsObjArray();
  PA = s10.getDirection();
  let h10 = hl(`[id="${e10}"]`), u10 = 0;
  l10.forEach((t34, e11) => {
    var r11;
    let i11 = PN(t34.name), n11 = h10.append("g"), a11 = n11.insert("g").attr("class", "branchLabel"), s11 = a11.insert("g").attr("class", "label branch-label");
    null === (r11 = s11.node()) || void 0 === r11 || r11.appendChild(i11);
    let l11 = i11.getBBox();
    u10 = PK(t34.name, u10, e11, l11, o10), s11.remove(), a11.remove(), n11.remove();
  }), PY(h10, PE, false), Pk.showBranches && PX(h10, l10), PV(h10, PE), PY(h10, PE, true), gT.insertTitle(h10, "gitTitleText", null !== (a10 = Pk.titleTopMargin) && void 0 !== a10 ? a10 : 0, s10.getDiagramTitle()), aa(void 0, h10, Pk.diagramPadding, Pk.useMaxWidth);
}, "draw") }, styles: iZ((t33) => `
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0, 1, 2, 3, 4, 5, 6, 7].map((e10) => `
        .branch-label${e10} { fill: ${t33["gitBranchLabel" + e10]}; }
        .commit${e10} { stroke: ${t33["git" + e10]}; fill: ${t33["git" + e10]}; }
        .commit-highlight${e10} { stroke: ${t33["gitInv" + e10]}; fill: ${t33["gitInv" + e10]}; }
        .label${e10}  { fill: ${t33["git" + e10]}; }
        .arrow${e10} { stroke: ${t33["git" + e10]}; }
        `).join("\n")}

  .branch {
    stroke-width: 1;
    stroke: ${t33.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t33.commitLabelFontSize}; fill: ${t33.commitLabelColor};}
  .commit-label-bkg { font-size: ${t33.commitLabelFontSize}; fill: ${t33.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t33.tagLabelFontSize}; fill: ${t33.tagLabelColor};}
  .tag-label-bkg { fill: ${t33.tagLabelBackground}; stroke: ${t33.tagLabelBorder}; }
  .tag-hole { fill: ${t33.textColor}; }

  .commit-merge {
    stroke: ${t33.primaryColor};
    fill: ${t33.primaryColor};
  }
  .commit-reverse {
    stroke: ${t33.primaryColor};
    fill: ${t33.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t33.primaryColor};
    fill: ${t33.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t33.textColor};
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
var PQ = { exports: {} };
PQ.exports;
let PJ = k((teu || (teu = 1, Qg = function() {
  return function(t33, e10, r10) {
    var i10 = function(t34) {
      return t34.add(4 - t34.isoWeekday(), "day");
    }, n10 = e10.prototype;
    n10.isoWeekYear = function() {
      return i10(this).year();
    }, n10.isoWeek = function(t34) {
      if (!this.$utils().u(t34)) return this.add(7 * (t34 - this.isoWeek()), "day");
      var e11, n11, a11, o10 = i10(this), s10 = (e11 = this.isoWeekYear(), a11 = 4 - (n11 = (this.$u ? r10.utc : r10)().year(e11).startOf("year")).isoWeekday(), n11.isoWeekday() > 4 && (a11 += 7), n11.add(a11, "day"));
      return o10.diff(s10, "week") + 1;
    }, n10.isoWeekday = function(t34) {
      return this.$utils().u(t34) ? this.day() || 7 : this.day(this.day() % 7 ? t34 : t34 - 7);
    };
    var a10 = n10.startOf;
    n10.startOf = function(t34, e11) {
      var r11 = this.$utils(), i11 = !!r11.u(e11) || e11;
      return "isoweek" === r11.p(t34) ? i11 ? this.date(this.date() - (this.isoWeekday() - 1)).startOf("day") : this.date(this.date() - 1 - (this.isoWeekday() - 1) + 7).endOf("day") : a10.bind(this)(t34, e11);
    };
  };
}, PQ.exports = Qg()), PQ.exports));
var P0 = { exports: {} };
P0.exports;
let P1 = k((ted || (ted = 1, Qf = function() {
  var t33 = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, e10 = /(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g, r10 = /\d/, i10 = /\d\d/, n10 = /\d\d?/, a10 = /\d*[^-_:/,()\s\d]+/, o10 = {}, s10 = function(t34) {
    return (t34 = +t34) + (t34 > 68 ? 1900 : 2e3);
  }, l10 = function(t34) {
    return function(e11) {
      this[t34] = +e11;
    };
  }, h10 = [/[+-]\d\d:?(\d\d)?|Z/, function(t34) {
    (this.zone || (this.zone = {})).offset = function(t35) {
      if (!t35 || "Z" === t35) return 0;
      var e11 = t35.match(/([+-]|\d\d)/g), r11 = 60 * e11[1] + (+e11[2] || 0);
      return 0 === r11 ? 0 : "+" === e11[0] ? -r11 : r11;
    }(t34);
  }], u10 = function(t34) {
    var e11 = o10[t34];
    return e11 && (e11.indexOf ? e11 : e11.s.concat(e11.f));
  }, d10 = function(t34, e11) {
    var r11, i11 = o10.meridiem;
    if (i11) {
      for (var n11 = 1; n11 <= 24; n11 += 1) if (t34.indexOf(i11(n11, 0, e11)) > -1) {
        r11 = n11 > 12;
        break;
      }
    } else r11 = t34 === (e11 ? "pm" : "PM");
    return r11;
  }, p10 = { A: [a10, function(t34) {
    this.afternoon = d10(t34, false);
  }], a: [a10, function(t34) {
    this.afternoon = d10(t34, true);
  }], Q: [r10, function(t34) {
    this.month = 3 * (t34 - 1) + 1;
  }], S: [r10, function(t34) {
    this.milliseconds = 100 * +t34;
  }], SS: [i10, function(t34) {
    this.milliseconds = 10 * +t34;
  }], SSS: [/\d{3}/, function(t34) {
    this.milliseconds = +t34;
  }], s: [n10, l10("seconds")], ss: [n10, l10("seconds")], m: [n10, l10("minutes")], mm: [n10, l10("minutes")], H: [n10, l10("hours")], h: [n10, l10("hours")], HH: [n10, l10("hours")], hh: [n10, l10("hours")], D: [n10, l10("day")], DD: [i10, l10("day")], Do: [a10, function(t34) {
    var e11 = o10.ordinal, r11 = t34.match(/\d+/);
    if (this.day = r11[0], e11) for (var i11 = 1; i11 <= 31; i11 += 1) e11(i11).replace(/\[|\]/g, "") === t34 && (this.day = i11);
  }], w: [n10, l10("week")], ww: [i10, l10("week")], M: [n10, l10("month")], MM: [i10, l10("month")], MMM: [a10, function(t34) {
    var e11 = u10("months"), r11 = (u10("monthsShort") || e11.map(function(t35) {
      return t35.slice(0, 3);
    })).indexOf(t34) + 1;
    if (r11 < 1) throw Error();
    this.month = r11 % 12 || r11;
  }], MMMM: [a10, function(t34) {
    var e11 = u10("months").indexOf(t34) + 1;
    if (e11 < 1) throw Error();
    this.month = e11 % 12 || e11;
  }], Y: [/[+-]?\d+/, l10("year")], YY: [i10, function(t34) {
    this.year = s10(t34);
  }], YYYY: [/\d{4}/, l10("year")], Z: h10, ZZ: h10 };
  return function(r11, i11, n11) {
    n11.p.customParseFormat = true, r11 && r11.parseTwoDigitYear && (s10 = r11.parseTwoDigitYear);
    var a11 = i11.prototype, l11 = a11.parse;
    a11.parse = function(r12) {
      var i12 = r12.date, a12 = r12.utc, s11 = r12.args;
      this.$u = a12;
      var h11 = s11[1];
      if ("string" == typeof h11) {
        var u11 = true === s11[2], d11 = true === s11[3], g10 = s11[2];
        d11 && (g10 = s11[2]), o10 = this.$locale(), !u11 && g10 && (o10 = n11.Ls[g10]), this.$d = function(r13, i13, n12, a13) {
          try {
            if (["x", "X"].indexOf(i13) > -1) return new Date(("X" === i13 ? 1e3 : 1) * r13);
            var s12 = function(r14) {
              var i14, n13;
              i14 = r14, n13 = o10 && o10.formats;
              for (var a14 = (r14 = i14.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g, function(e11, r15, i15) {
                var a15 = i15 && i15.toUpperCase();
                return r15 || n13[i15] || t33[i15] || n13[a15].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g, function(t34, e12, r16) {
                  return e12 || r16.slice(1);
                });
              })).match(e10), s13 = a14.length, l13 = 0; l13 < s13; l13 += 1) {
                var h13 = a14[l13], u13 = p10[h13], d13 = u13 && u13[0], g12 = u13 && u13[1];
                a14[l13] = g12 ? { regex: d13, parser: g12 } : h13.replace(/^\[|\]$/g, "");
              }
              return function(t34) {
                for (var e11 = {}, r15 = 0, i15 = 0; r15 < s13; r15 += 1) {
                  var n14 = a14[r15];
                  if ("string" == typeof n14) i15 += n14.length;
                  else {
                    var o11 = n14.regex, l14 = n14.parser, h14 = t34.slice(i15), u14 = o11.exec(h14)[0];
                    l14.call(e11, u14), t34 = t34.replace(u14, "");
                  }
                }
                return function(t35) {
                  var e12 = t35.afternoon;
                  if (void 0 !== e12) {
                    var r16 = t35.hours;
                    e12 ? r16 < 12 && (t35.hours += 12) : 12 === r16 && (t35.hours = 0), delete t35.afternoon;
                  }
                }(e11), e11;
              };
            }(i13)(r13), l12 = s12.year, h12 = s12.month, u12 = s12.day, d12 = s12.hours, g11 = s12.minutes, f11 = s12.seconds, y11 = s12.milliseconds, v11 = s12.zone, x10 = s12.week, b10 = /* @__PURE__ */ new Date(), w10 = u12 || (l12 || h12 ? 1 : b10.getDate()), k10 = l12 || b10.getFullYear(), _10 = 0;
            l12 && !h12 || (_10 = h12 > 0 ? h12 - 1 : b10.getMonth());
            var T10, E10 = d12 || 0, C10 = g11 || 0, S10 = f11 || 0, A10 = y11 || 0;
            return v11 ? new Date(Date.UTC(k10, _10, w10, E10, C10, S10, A10 + 60 * v11.offset * 1e3)) : n12 ? new Date(Date.UTC(k10, _10, w10, E10, C10, S10, A10)) : (T10 = new Date(k10, _10, w10, E10, C10, S10, A10), x10 && (T10 = a13(T10).week(x10).toDate()), T10);
          } catch (t34) {
            return /* @__PURE__ */ new Date("");
          }
        }(i12, h11, a12, n11), this.init(), g10 && true !== g10 && (this.$L = this.locale(g10).$L), (u11 || d11) && i12 != this.format(h11) && (this.$d = /* @__PURE__ */ new Date("")), o10 = {};
      } else if (h11 instanceof Array) for (var f10 = h11.length, y10 = 1; y10 <= f10; y10 += 1) {
        s11[1] = h11[y10 - 1];
        var v10 = n11.apply(this, s11);
        if (v10.isValid()) {
          this.$d = v10.$d, this.$L = v10.$L, this.init();
          break;
        }
        y10 === f10 && (this.$d = /* @__PURE__ */ new Date(""));
      }
      else l11.call(this, r12);
    };
  };
}, P0.exports = Qf()), P0.exports));
var P2 = { exports: {} };
P2.exports;
let P4 = k((tep || (tep = 1, Qm = function() {
  return function(t33, e10) {
    var r10 = e10.prototype, i10 = r10.format;
    r10.format = function(t34) {
      var e11 = this, r11 = this.$locale();
      if (!this.isValid()) return i10.bind(this)(t34);
      var n10 = this.$utils(), a10 = (t34 || "YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g, function(t35) {
        switch (t35) {
          case "Q":
            return Math.ceil((e11.$M + 1) / 3);
          case "Do":
            return r11.ordinal(e11.$D);
          case "gggg":
            return e11.weekYear();
          case "GGGG":
            return e11.isoWeekYear();
          case "wo":
            return r11.ordinal(e11.week(), "W");
          case "w":
          case "ww":
            return n10.s(e11.week(), "w" === t35 ? 1 : 2, "0");
          case "W":
          case "WW":
            return n10.s(e11.isoWeek(), "W" === t35 ? 1 : 2, "0");
          case "k":
          case "kk":
            return n10.s(String(0 === e11.$H ? 24 : e11.$H), "k" === t35 ? 1 : 2, "0");
          case "X":
            return Math.floor(e11.$d.getTime() / 1e3);
          case "x":
            return e11.$d.getTime();
          case "z":
            return "[" + e11.offsetName() + "]";
          case "zzz":
            return "[" + e11.offsetName("long") + "]";
          default:
            return t35;
        }
      });
      return i10.bind(this)(a10);
    };
  };
}, P2.exports = Qm()), P2.exports));
var P5 = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [6, 8, 10, 12, 13, 14, 15, 16, 17, 18, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 33, 35, 36, 38, 40], r10 = [1, 26], i10 = [1, 27], n10 = [1, 28], a10 = [1, 29], o10 = [1, 30], s10 = [1, 31], l10 = [1, 32], h10 = [1, 33], u10 = [1, 34], d10 = [1, 9], p10 = [1, 10], g10 = [1, 11], f10 = [1, 12], y10 = [1, 13], v10 = [1, 14], x10 = [1, 15], b10 = [1, 16], w10 = [1, 19], k10 = [1, 20], _10 = [1, 21], T10 = [1, 22], E10 = [1, 23], C10 = [1, 25], S10 = [1, 35], A10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, gantt: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NL: 10, weekday: 11, weekday_monday: 12, weekday_tuesday: 13, weekday_wednesday: 14, weekday_thursday: 15, weekday_friday: 16, weekday_saturday: 17, weekday_sunday: 18, weekend: 19, weekend_friday: 20, weekend_saturday: 21, dateFormat: 22, inclusiveEndDates: 23, topAxis: 24, axisFormat: 25, tickInterval: 26, excludes: 27, includes: 28, todayMarker: 29, title: 30, acc_title: 31, acc_title_value: 32, acc_descr: 33, acc_descr_value: 34, acc_descr_multiline_value: 35, section: 36, clickStatement: 37, taskTxt: 38, taskData: 39, click: 40, callbackname: 41, callbackargs: 42, href: 43, clickStatementDebug: 44, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "gantt", 6: "EOF", 8: "SPACE", 10: "NL", 12: "weekday_monday", 13: "weekday_tuesday", 14: "weekday_wednesday", 15: "weekday_thursday", 16: "weekday_friday", 17: "weekday_saturday", 18: "weekday_sunday", 20: "weekend_friday", 21: "weekend_saturday", 22: "dateFormat", 23: "inclusiveEndDates", 24: "topAxis", 25: "axisFormat", 26: "tickInterval", 27: "excludes", 28: "includes", 29: "todayMarker", 30: "title", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 36: "section", 38: "taskTxt", 39: "taskData", 40: "click", 41: "callbackname", 42: "callbackargs", 43: "href" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [19, 1], [19, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 1], [9, 2], [37, 2], [37, 3], [37, 3], [37, 4], [37, 3], [37, 4], [37, 2], [44, 2], [44, 3], [44, 3], [44, 4], [44, 3], [44, 4], [44, 2]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 1:
        return a11[s11 - 1];
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[s11 - 1].push(a11[s11]), this.$ = a11[s11 - 1];
        break;
      case 4:
      case 5:
        this.$ = a11[s11];
        break;
      case 8:
        i11.setWeekday("monday");
        break;
      case 9:
        i11.setWeekday("tuesday");
        break;
      case 10:
        i11.setWeekday("wednesday");
        break;
      case 11:
        i11.setWeekday("thursday");
        break;
      case 12:
        i11.setWeekday("friday");
        break;
      case 13:
        i11.setWeekday("saturday");
        break;
      case 14:
        i11.setWeekday("sunday");
        break;
      case 15:
        i11.setWeekend("friday");
        break;
      case 16:
        i11.setWeekend("saturday");
        break;
      case 17:
        i11.setDateFormat(a11[s11].substr(11)), this.$ = a11[s11].substr(11);
        break;
      case 18:
        i11.enableInclusiveEndDates(), this.$ = a11[s11].substr(18);
        break;
      case 19:
        i11.TopAxis(), this.$ = a11[s11].substr(8);
        break;
      case 20:
        i11.setAxisFormat(a11[s11].substr(11)), this.$ = a11[s11].substr(11);
        break;
      case 21:
        i11.setTickInterval(a11[s11].substr(13)), this.$ = a11[s11].substr(13);
        break;
      case 22:
        i11.setExcludes(a11[s11].substr(9)), this.$ = a11[s11].substr(9);
        break;
      case 23:
        i11.setIncludes(a11[s11].substr(9)), this.$ = a11[s11].substr(9);
        break;
      case 24:
        i11.setTodayMarker(a11[s11].substr(12)), this.$ = a11[s11].substr(12);
        break;
      case 27:
        i11.setDiagramTitle(a11[s11].substr(6)), this.$ = a11[s11].substr(6);
        break;
      case 28:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 29:
      case 30:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 31:
        i11.addSection(a11[s11].substr(8)), this.$ = a11[s11].substr(8);
        break;
      case 33:
        i11.addTask(a11[s11 - 1], a11[s11]), this.$ = "task";
        break;
      case 34:
        this.$ = a11[s11 - 1], i11.setClickEvent(a11[s11 - 1], a11[s11], null);
        break;
      case 35:
        this.$ = a11[s11 - 2], i11.setClickEvent(a11[s11 - 2], a11[s11 - 1], a11[s11]);
        break;
      case 36:
        this.$ = a11[s11 - 2], i11.setClickEvent(a11[s11 - 2], a11[s11 - 1], null), i11.setLink(a11[s11 - 2], a11[s11]);
        break;
      case 37:
        this.$ = a11[s11 - 3], i11.setClickEvent(a11[s11 - 3], a11[s11 - 2], a11[s11 - 1]), i11.setLink(a11[s11 - 3], a11[s11]);
        break;
      case 38:
        this.$ = a11[s11 - 2], i11.setClickEvent(a11[s11 - 2], a11[s11], null), i11.setLink(a11[s11 - 2], a11[s11 - 1]);
        break;
      case 39:
        this.$ = a11[s11 - 3], i11.setClickEvent(a11[s11 - 3], a11[s11 - 1], a11[s11]), i11.setLink(a11[s11 - 3], a11[s11 - 2]);
        break;
      case 40:
        this.$ = a11[s11 - 1], i11.setLink(a11[s11 - 1], a11[s11]);
        break;
      case 41:
      case 47:
        this.$ = a11[s11 - 1] + " " + a11[s11];
        break;
      case 42:
      case 43:
      case 45:
        this.$ = a11[s11 - 2] + " " + a11[s11 - 1] + " " + a11[s11];
        break;
      case 44:
      case 46:
        this.$ = a11[s11 - 3] + " " + a11[s11 - 2] + " " + a11[s11 - 1] + " " + a11[s11];
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, t33(e10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: 17, 12: r10, 13: i10, 14: n10, 15: a10, 16: o10, 17: s10, 18: l10, 19: 18, 20: h10, 21: u10, 22: d10, 23: p10, 24: g10, 25: f10, 26: y10, 27: v10, 28: x10, 29: b10, 30: w10, 31: k10, 33: _10, 35: T10, 36: E10, 37: 24, 38: C10, 40: S10 }, t33(e10, [2, 7], { 1: [2, 1] }), t33(e10, [2, 3]), { 9: 36, 11: 17, 12: r10, 13: i10, 14: n10, 15: a10, 16: o10, 17: s10, 18: l10, 19: 18, 20: h10, 21: u10, 22: d10, 23: p10, 24: g10, 25: f10, 26: y10, 27: v10, 28: x10, 29: b10, 30: w10, 31: k10, 33: _10, 35: T10, 36: E10, 37: 24, 38: C10, 40: S10 }, t33(e10, [2, 5]), t33(e10, [2, 6]), t33(e10, [2, 17]), t33(e10, [2, 18]), t33(e10, [2, 19]), t33(e10, [2, 20]), t33(e10, [2, 21]), t33(e10, [2, 22]), t33(e10, [2, 23]), t33(e10, [2, 24]), t33(e10, [2, 25]), t33(e10, [2, 26]), t33(e10, [2, 27]), { 32: [1, 37] }, { 34: [1, 38] }, t33(e10, [2, 30]), t33(e10, [2, 31]), t33(e10, [2, 32]), { 39: [1, 39] }, t33(e10, [2, 8]), t33(e10, [2, 9]), t33(e10, [2, 10]), t33(e10, [2, 11]), t33(e10, [2, 12]), t33(e10, [2, 13]), t33(e10, [2, 14]), t33(e10, [2, 15]), t33(e10, [2, 16]), { 41: [1, 40], 43: [1, 41] }, t33(e10, [2, 4]), t33(e10, [2, 28]), t33(e10, [2, 29]), t33(e10, [2, 33]), t33(e10, [2, 34], { 42: [1, 42], 43: [1, 43] }), t33(e10, [2, 40], { 41: [1, 44] }), t33(e10, [2, 35], { 43: [1, 45] }), t33(e10, [2, 36]), t33(e10, [2, 38], { 42: [1, 46] }), t33(e10, [2, 37]), t33(e10, [2, 39])], defaultActions: {}, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, L10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return this.begin("open_directive"), "open_directive";
      case 1:
        return this.begin("acc_title"), 31;
      case 2:
        return this.popState(), "acc_title_value";
      case 3:
        return this.begin("acc_descr"), 33;
      case 4:
        return this.popState(), "acc_descr_value";
      case 5:
        this.begin("acc_descr_multiline");
        break;
      case 6:
      case 15:
      case 18:
      case 21:
      case 24:
        this.popState();
        break;
      case 7:
        return "acc_descr_multiline_value";
      case 8:
      case 9:
      case 10:
      case 12:
      case 13:
        break;
      case 11:
        return 10;
      case 14:
        this.begin("href");
        break;
      case 16:
        return 43;
      case 17:
        this.begin("callbackname");
        break;
      case 19:
        this.popState(), this.begin("callbackargs");
        break;
      case 20:
        return 41;
      case 22:
        return 42;
      case 23:
        this.begin("click");
        break;
      case 25:
        return 40;
      case 26:
        return 4;
      case 27:
        return 22;
      case 28:
        return 23;
      case 29:
        return 24;
      case 30:
        return 25;
      case 31:
        return 26;
      case 32:
        return 28;
      case 33:
        return 27;
      case 34:
        return 29;
      case 35:
        return 12;
      case 36:
        return 13;
      case 37:
        return 14;
      case 38:
        return 15;
      case 39:
        return 16;
      case 40:
        return 17;
      case 41:
        return 18;
      case 42:
        return 20;
      case 43:
        return 21;
      case 44:
        return "date";
      case 45:
        return 30;
      case 46:
        return "accDescription";
      case 47:
        return 36;
      case 48:
        return 38;
      case 49:
        return 39;
      case 50:
        return ":";
      case 51:
        return 6;
      case 52:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:%%\{)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:%%(?!\{)*[^\n]*)/i, /^(?:[^\}]%%*[^\n]*)/i, /^(?:%%*[^\n]*[\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:%[^\n]*)/i, /^(?:href[\s]+["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:call[\s]+)/i, /^(?:\([\s]*\))/i, /^(?:\()/i, /^(?:[^(]*)/i, /^(?:\))/i, /^(?:[^)]*)/i, /^(?:click[\s]+)/i, /^(?:[\s\n])/i, /^(?:[^\s\n]*)/i, /^(?:gantt\b)/i, /^(?:dateFormat\s[^#\n;]+)/i, /^(?:inclusiveEndDates\b)/i, /^(?:topAxis\b)/i, /^(?:axisFormat\s[^#\n;]+)/i, /^(?:tickInterval\s[^#\n;]+)/i, /^(?:includes\s[^#\n;]+)/i, /^(?:excludes\s[^#\n;]+)/i, /^(?:todayMarker\s[^\n;]+)/i, /^(?:weekday\s+monday\b)/i, /^(?:weekday\s+tuesday\b)/i, /^(?:weekday\s+wednesday\b)/i, /^(?:weekday\s+thursday\b)/i, /^(?:weekday\s+friday\b)/i, /^(?:weekday\s+saturday\b)/i, /^(?:weekday\s+sunday\b)/i, /^(?:weekend\s+friday\b)/i, /^(?:weekend\s+saturday\b)/i, /^(?:\d\d\d\d-\d\d-\d\d\b)/i, /^(?:title\s[^\n]+)/i, /^(?:accDescription\s[^#\n;]+)/i, /^(?:section\s[^\n]+)/i, /^(?:[^:\n]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [6, 7], inclusive: false }, acc_descr: { rules: [4], inclusive: false }, acc_title: { rules: [2], inclusive: false }, callbackargs: { rules: [21, 22], inclusive: false }, callbackname: { rules: [18, 19, 20], inclusive: false }, href: { rules: [15, 16], inclusive: false }, click: { rules: [24, 25], inclusive: false }, INITIAL: { rules: [0, 1, 3, 5, 8, 9, 10, 11, 12, 13, 14, 17, 23, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52], inclusive: true } } };
  function N10() {
    this.yy = {};
  }
  return A10.lexer = L10, iZ(N10, "Parser"), N10.prototype = A10, A10.Parser = N10, new N10();
}();
P5.parser = P5, r$.extend(PJ), r$.extend(P1), r$.extend(P4);
var P3 = { friday: 5, saturday: 6 }, P6 = "", P7 = "", P8 = void 0, P9 = "", $t = [], $e = [], $r = /* @__PURE__ */ new Map(), $i = [], $n = [], $a = "", $o = "", $s = ["active", "done", "crit", "milestone"], $l = [], $h = false, $c = false, $u = "sunday", $d = "saturday", $p = 0, $g = iZ(function() {
  $i = [], $n = [], $a = "", $l = [], $j = 0, teg = void 0, tef = void 0, $K = [], P6 = "", P7 = "", $o = "", P8 = void 0, P9 = "", $t = [], $e = [], $h = false, $c = false, $p = 0, $r = /* @__PURE__ */ new Map(), ag(), $u = "sunday", $d = "saturday";
}, "clear"), $f = iZ(function(t33) {
  P7 = t33;
}, "setAxisFormat"), $m = iZ(function() {
  return P7;
}, "getAxisFormat"), $y = iZ(function(t33) {
  P8 = t33;
}, "setTickInterval"), $v = iZ(function() {
  return P8;
}, "getTickInterval"), $x = iZ(function(t33) {
  P9 = t33;
}, "setTodayMarker"), $b = iZ(function() {
  return P9;
}, "getTodayMarker"), $w = iZ(function(t33) {
  P6 = t33;
}, "setDateFormat"), $k = iZ(function() {
  $h = true;
}, "enableInclusiveEndDates"), $_ = iZ(function() {
  return $h;
}, "endDatesAreInclusive"), $T = iZ(function() {
  $c = true;
}, "enableTopAxis"), $E = iZ(function() {
  return $c;
}, "topAxisEnabled"), $C = iZ(function(t33) {
  $o = t33;
}, "setDisplayMode"), $S = iZ(function() {
  return $o;
}, "getDisplayMode"), $A = iZ(function() {
  return P6;
}, "getDateFormat"), $L = iZ(function(t33) {
  $t = t33.toLowerCase().split(/[\s,]+/);
}, "setIncludes"), $N = iZ(function() {
  return $t;
}, "getIncludes"), $I = iZ(function(t33) {
  $e = t33.toLowerCase().split(/[\s,]+/);
}, "setExcludes"), $M = iZ(function() {
  return $e;
}, "getExcludes"), $R = iZ(function() {
  return $r;
}, "getLinks"), $D = iZ(function(t33) {
  $a = t33, $i.push(t33);
}, "addSection"), $O = iZ(function() {
  return $i;
}, "getSections"), $P = iZ(function() {
  let t33 = $1(), e10 = 0;
  for (; !t33 && e10 < 10; ) t33 = $1(), e10++;
  return $n = $K;
}, "getTasks"), $$ = iZ(function(t33, e10, r10, i10) {
  return !i10.includes(t33.format(e10.trim())) && (!!(r10.includes("weekends") && (t33.isoWeekday() === P3[$d] || t33.isoWeekday() === P3[$d] + 1) || r10.includes(t33.format("dddd").toLowerCase())) || r10.includes(t33.format(e10.trim())));
}, "isInvalidDate"), $B = iZ(function(t33) {
  $u = t33;
}, "setWeekday"), $F = iZ(function() {
  return $u;
}, "getWeekday"), $z = iZ(function(t33) {
  $d = t33;
}, "setWeekend"), $U = iZ(function(t33, e10, r10, i10) {
  let n10;
  if (!r10.length || t33.manualEndTime) return;
  let [a10, o10] = $G((t33.startTime instanceof Date ? r$(t33.startTime) : r$(t33.startTime, e10, true)).add(1, "d"), t33.endTime instanceof Date ? r$(t33.endTime) : r$(t33.endTime, e10, true), e10, r10, i10);
  t33.endTime = a10.toDate(), t33.renderEndTime = o10;
}, "checkTaskDates"), $G = iZ(function(t33, e10, r10, i10, n10) {
  let a10 = false, o10 = null;
  for (; t33 <= e10; ) a10 || (o10 = e10.toDate()), (a10 = $$(t33, r10, i10, n10)) && (e10 = e10.add(1, "d")), t33 = t33.add(1, "d");
  return [e10, o10];
}, "fixTaskDates"), $q = iZ(function(t33, e10, r10) {
  r10 = r10.trim();
  let i10 = /^after\s+(?<ids>[\d\w- ]+)/.exec(r10);
  if (null !== i10) {
    let t34 = null;
    for (let e12 of i10.groups.ids.split(" ")) {
      let r11 = $J(e12);
      void 0 !== r11 && (!t34 || r11.endTime > t34.endTime) && (t34 = r11);
    }
    if (t34) return t34.endTime;
    let e11 = /* @__PURE__ */ new Date();
    return e11.setHours(0, 0, 0, 0), e11;
  }
  let n10 = r$(r10, e10.trim(), true);
  if (n10.isValid()) return n10.toDate();
  {
    i0.debug("Invalid date:" + r10), i0.debug("With date format:" + e10.trim());
    let t34 = new Date(r10);
    if (void 0 === t34 || isNaN(t34.getTime()) || -1e4 > t34.getFullYear() || t34.getFullYear() > 1e4) throw Error("Invalid date:" + r10);
    return t34;
  }
}, "getStartDate"), $Y = iZ(function(t33) {
  let e10 = /^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t33.trim());
  return null !== e10 ? [Number.parseFloat(e10[1]), e10[2]] : [NaN, "ms"];
}, "parseDuration"), $H = iZ(function(t33, e10, r10) {
  let i10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
  r10 = r10.trim();
  let n10 = /^until\s+(?<ids>[\d\w- ]+)/.exec(r10);
  if (null !== n10) {
    let t34 = null;
    for (let e12 of n10.groups.ids.split(" ")) {
      let r11 = $J(e12);
      void 0 !== r11 && (!t34 || r11.startTime < t34.startTime) && (t34 = r11);
    }
    if (t34) return t34.startTime;
    let e11 = /* @__PURE__ */ new Date();
    return e11.setHours(0, 0, 0, 0), e11;
  }
  let a10 = r$(r10, e10.trim(), true);
  if (a10.isValid()) return i10 && (a10 = a10.add(1, "d")), a10.toDate();
  let o10 = r$(t33), [s10, l10] = $Y(r10);
  if (!Number.isNaN(s10)) {
    let t34 = o10.add(s10, l10);
    t34.isValid() && (o10 = t34);
  }
  return o10.toDate();
}, "getEndDate"), $j = 0, $W = iZ(function(t33) {
  return void 0 === t33 ? "task" + ($j += 1) : t33;
}, "parseId"), $V = iZ(function(t33, e10) {
  let r10 = (":" === e10.substr(0, 1) ? e10.substr(1, e10.length) : e10).split(","), i10 = {};
  $9(r10, i10, $s);
  for (let t34 = 0; t34 < r10.length; t34++) r10[t34] = r10[t34].trim();
  let n10 = "";
  switch (r10.length) {
    case 1:
      i10.id = $W(), i10.startTime = t33.endTime, n10 = r10[0];
      break;
    case 2:
      i10.id = $W(), i10.startTime = $q(void 0, P6, r10[0]), n10 = r10[1];
      break;
    case 3:
      i10.id = $W(r10[0]), i10.startTime = $q(void 0, P6, r10[1]), n10 = r10[2];
  }
  return n10 && (i10.endTime = $H(i10.startTime, P6, n10, $h), i10.manualEndTime = r$(n10, "YYYY-MM-DD", true).isValid(), $U(i10, P6, $e, $t)), i10;
}, "compileData"), $X = iZ(function(t33, e10) {
  let r10 = (":" === e10.substr(0, 1) ? e10.substr(1, e10.length) : e10).split(","), i10 = {};
  $9(r10, i10, $s);
  for (let t34 = 0; t34 < r10.length; t34++) r10[t34] = r10[t34].trim();
  switch (r10.length) {
    case 1:
      i10.id = $W(), i10.startTime = { type: "prevTaskEnd", id: t33 }, i10.endTime = { data: r10[0] };
      break;
    case 2:
      i10.id = $W(), i10.startTime = { type: "getStartDate", startData: r10[0] }, i10.endTime = { data: r10[1] };
      break;
    case 3:
      i10.id = $W(r10[0]), i10.startTime = { type: "getStartDate", startData: r10[1] }, i10.endTime = { data: r10[2] };
  }
  return i10;
}, "parseData"), $K = [], $Z = {}, $Q = iZ(function(t33, e10) {
  let r10 = { section: $a, type: $a, processed: false, manualEndTime: false, renderEndTime: null, raw: { data: e10 }, task: t33, classes: [] }, i10 = $X(tef, e10);
  r10.raw.startTime = i10.startTime, r10.raw.endTime = i10.endTime, r10.id = i10.id, r10.prevTaskId = tef, r10.active = i10.active, r10.done = i10.done, r10.crit = i10.crit, r10.milestone = i10.milestone, r10.order = $p, $p++;
  let n10 = $K.push(r10);
  tef = r10.id, $Z[r10.id] = n10 - 1;
}, "addTask"), $J = iZ(function(t33) {
  return $K[$Z[t33]];
}, "findTaskById"), $0 = iZ(function(t33, e10) {
  let r10 = { section: $a, type: $a, description: t33, task: t33, classes: [] }, i10 = $V(teg, e10);
  r10.startTime = i10.startTime, r10.endTime = i10.endTime, r10.id = i10.id, r10.active = i10.active, r10.done = i10.done, r10.crit = i10.crit, r10.milestone = i10.milestone, teg = r10, $n.push(r10);
}, "addTaskOrg"), $1 = iZ(function() {
  let t33 = iZ(function(t34) {
    let e11 = $K[t34], r10 = "";
    switch ($K[t34].raw.startTime.type) {
      case "prevTaskEnd": {
        let t35 = $J(e11.prevTaskId);
        e11.startTime = t35.endTime;
        break;
      }
      case "getStartDate":
        (r10 = $q(void 0, P6, $K[t34].raw.startTime.startData)) && ($K[t34].startTime = r10);
    }
    return $K[t34].startTime && ($K[t34].endTime = $H($K[t34].startTime, P6, $K[t34].raw.endTime.data, $h), $K[t34].endTime && ($K[t34].processed = true, $K[t34].manualEndTime = r$($K[t34].raw.endTime.data, "YYYY-MM-DD", true).isValid(), $U($K[t34], P6, $e, $t))), $K[t34].processed;
  }, "compileTask"), e10 = true;
  for (let [r10, i10] of $K.entries()) t33(r10), e10 = e10 && i10.processed;
  return e10;
}, "compileTasks"), $2 = iZ(function(t33, e10) {
  let r10 = e10;
  "loose" !== nM().securityLevel && (r10 = ls.sanitizeUrl(e10)), t33.split(",").forEach(function(t34) {
    void 0 !== $J(t34) && ($3(t34, () => {
      window.open(r10, "_self");
    }), $r.set(t34, r10));
  }), $4(t33, "clickable");
}, "setLink"), $4 = iZ(function(t33, e10) {
  t33.split(",").forEach(function(t34) {
    let r10 = $J(t34);
    void 0 !== r10 && r10.classes.push(e10);
  });
}, "setClass"), $5 = iZ(function(t33, e10, r10) {
  if ("loose" !== nM().securityLevel || void 0 === e10) return;
  let i10 = [];
  if ("string" == typeof r10) {
    i10 = r10.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
    for (let t34 = 0; t34 < i10.length; t34++) {
      let e11 = i10[t34].trim();
      e11.startsWith('"') && e11.endsWith('"') && (e11 = e11.substr(1, e11.length - 2)), i10[t34] = e11;
    }
  }
  0 === i10.length && i10.push(t33), void 0 !== $J(t33) && $3(t33, () => {
    gT.runFunc(e10, ...i10);
  });
}, "setClickFun"), $3 = iZ(function(t33, e10) {
  $l.push(function() {
    let r10 = document.querySelector(`[id="${t33}"]`);
    null !== r10 && r10.addEventListener("click", function() {
      e10();
    });
  }, function() {
    let r10 = document.querySelector(`[id="${t33}-text"]`);
    null !== r10 && r10.addEventListener("click", function() {
      e10();
    });
  });
}, "pushFun"), $6 = iZ(function(t33, e10, r10) {
  t33.split(",").forEach(function(t34) {
    $5(t34, e10, r10);
  }), $4(t33, "clickable");
}, "setClickEvent"), $7 = iZ(function(t33) {
  $l.forEach(function(e10) {
    e10(t33);
  });
}, "bindFunctions"), $8 = { getConfig: iZ(() => nM().gantt, "getConfig"), clear: $g, setDateFormat: $w, getDateFormat: $A, enableInclusiveEndDates: $k, endDatesAreInclusive: $_, enableTopAxis: $T, topAxisEnabled: $E, setAxisFormat: $f, getAxisFormat: $m, setTickInterval: $y, getTickInterval: $v, setTodayMarker: $x, getTodayMarker: $b, setAccTitle: af, getAccTitle: am, setDiagramTitle: ax, getDiagramTitle: ab, setDisplayMode: $C, getDisplayMode: $S, setAccDescription: ay, getAccDescription: av, addSection: $D, getSections: $O, getTasks: $P, addTask: $Q, findTaskById: $J, addTaskOrg: $0, setIncludes: $L, getIncludes: $N, setExcludes: $I, getExcludes: $M, setClickEvent: $6, setLink: $2, getLinks: $R, bindFunctions: $7, parseDuration: $Y, isInvalidDate: $$, setWeekday: $B, getWeekday: $F, setWeekend: $z };
function $9(t33, e10, r10) {
  let i10 = true;
  for (; i10; ) i10 = false, r10.forEach(function(r11) {
    let n10 = RegExp("^\\s*" + r11 + "\\s*$");
    t33[0].match(n10) && (e10[r11] = true, t33.shift(1), i10 = true);
  });
}
iZ($9, "getTaskTags");
var Bt = iZ(function() {
  i0.debug("Something is calling, setConf, remove the call");
}, "setConf"), Be = { monday: uE, tuesday: uC, wednesday: uS, thursday: uA, friday: uL, saturday: uN, sunday: uT }, Br = iZ((t33, e10) => {
  let r10 = [...t33].map(() => -1 / 0), i10 = [...t33].sort((t34, e11) => t34.startTime - e11.startTime || t34.order - e11.order), n10 = 0;
  for (let t34 of i10) for (let i11 = 0; i11 < r10.length; i11++) if (t34.startTime >= r10[i11]) {
    r10[i11] = t34.endTime, t34.order = i11 + e10, i11 > n10 && (n10 = i11);
    break;
  }
  return n10;
}, "getMaxIntersections");
let Bi = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: P5, db: $8, renderer: { setConf: Bt, draw: iZ(function(t33, e10, r10, i10) {
  let n10;
  let a10 = nM().gantt, o10 = nM().securityLevel;
  "sandbox" === o10 && (n10 = hl("#i" + e10));
  let s10 = "sandbox" === o10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body"), l10 = "sandbox" === o10 ? n10.nodes()[0].contentDocument : document, h10 = l10.getElementById(e10);
  void 0 === (tem = h10.parentElement.offsetWidth) && (tem = 1200), void 0 !== a10.useWidth && (tem = a10.useWidth);
  let u10 = i10.db.getTasks(), d10 = [];
  for (let t34 of u10) d10.push(t34.type);
  d10 = E10(d10);
  let p10 = {}, g10 = 2 * a10.topPadding;
  if ("compact" === i10.db.getDisplayMode() || "compact" === a10.displayMode) {
    let t34 = {};
    for (let e12 of u10) void 0 === t34[e12.section] ? t34[e12.section] = [e12] : t34[e12.section].push(e12);
    let e11 = 0;
    for (let r11 of Object.keys(t34)) {
      let i11 = Br(t34[r11], e11) + 1;
      e11 += i11, g10 += i11 * (a10.barHeight + a10.barGap), p10[r11] = i11;
    }
  } else for (let t34 of (g10 += u10.length * (a10.barHeight + a10.barGap), d10)) p10[t34] = u10.filter((e11) => e11.type === t34).length;
  h10.setAttribute("viewBox", "0 0 " + tem + " " + g10);
  let f10 = s10.select(`[id="${e10}"]`), y10 = function() {
    return ue.apply(function t34(e11, r11, i11, n11, a11, o11, s11, l11, h11, u11) {
      var d11 = ud(), p11 = d11.invert, g11 = d11.domain, f11 = u11(".%L"), y11 = u11(":%S"), v11 = u11("%I:%M"), x11 = u11("%I %p"), b11 = u11("%a %d"), w11 = u11("%b %d"), k11 = u11("%B"), _11 = u11("%Y");
      function T11(t35) {
        return (h11(t35) < t35 ? f11 : l11(t35) < t35 ? y11 : s11(t35) < t35 ? v11 : o11(t35) < t35 ? x11 : n11(t35) < t35 ? a11(t35) < t35 ? b11 : w11 : i11(t35) < t35 ? k11 : _11)(t35);
      }
      return d11.invert = function(t35) {
        return new Date(p11(t35));
      }, d11.domain = function(t35) {
        return arguments.length ? g11(Array.from(t35, d2)) : g11().map(d1);
      }, d11.ticks = function(t35) {
        var r12 = g11();
        return e11(r12[0], r12[r12.length - 1], null == t35 ? 10 : t35);
      }, d11.tickFormat = function(t35, e12) {
        return null == e12 ? T11 : u11(e12);
      }, d11.nice = function(t35) {
        var e12, i12, n12, a12, o12, s12, l12, h12 = g11();
        return t35 && "function" == typeof t35.range || (t35 = r11(h12[0], h12[h12.length - 1], null == t35 ? 10 : t35)), t35 ? g11((e12 = h12, i12 = t35, e12 = e12.slice(), a12 = 0, o12 = e12.length - 1, s12 = e12[a12], (l12 = e12[o12]) < s12 && (n12 = a12, a12 = o12, o12 = n12, n12 = s12, s12 = l12, l12 = n12), e12[a12] = i12.floor(s12), e12[o12] = i12.ceil(l12), e12)) : d11;
      }, d11.copy = function() {
        return uu(d11, t34(e11, r11, i11, n11, a11, o11, s11, l11, h11, u11));
      }, d11;
    }(uG, uq, uz, uF, uT, uw, ub, ux, uv, JL).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
  }().domain([function(t34, e11) {
    let r11;
    if (void 0 === e11) for (let e12 of t34) null != e12 && (r11 > e12 || void 0 === r11 && e12 >= e12) && (r11 = e12);
    else {
      let i11 = -1;
      for (let n11 of t34) null != (n11 = e11(n11, ++i11, t34)) && (r11 > n11 || void 0 === r11 && n11 >= n11) && (r11 = n11);
    }
    return r11;
  }(u10, function(t34) {
    return t34.startTime;
  }), function(t34, e11) {
    let r11;
    if (void 0 === e11) for (let e12 of t34) null != e12 && (r11 < e12 || void 0 === r11 && e12 >= e12) && (r11 = e12);
    else {
      let i11 = -1;
      for (let n11 of t34) null != (n11 = e11(n11, ++i11, t34)) && (r11 < n11 || void 0 === r11 && n11 >= n11) && (r11 = n11);
    }
    return r11;
  }(u10, function(t34) {
    return t34.endTime;
  })]).rangeRound([0, tem - a10.leftPadding - a10.rightPadding]);
  function v10(t34, e11) {
    let r11 = t34.startTime, i11 = e11.startTime, n11 = 0;
    return r11 > i11 ? n11 = 1 : r11 < i11 && (n11 = -1), n11;
  }
  function x10(t34, e11, r11) {
    let n11 = a10.barHeight, o11 = n11 + a10.barGap, s11 = a10.topPadding, l11 = a10.leftPadding, h11 = up().domain([0, d10.length]).range(["#00B9FA", "#F95002"]).interpolate(cl);
    w10(o11, s11, l11, e11, r11, t34, i10.db.getExcludes(), i10.db.getIncludes()), k10(l11, s11, e11, r11), b10(t34, o11, s11, l11, n11, h11, e11), _10(o11, s11), T10(l11, s11, e11, r11);
  }
  function b10(t34, r11, n11, o11, s11, l11, h11) {
    let u11 = [...new Set(t34.map((t35) => t35.order))].map((e11) => t34.find((t35) => t35.order === e11));
    f10.append("g").selectAll("rect").data(u11).enter().append("rect").attr("x", 0).attr("y", function(t35, e11) {
      return t35.order * r11 + n11 - 2;
    }).attr("width", function() {
      return h11 - a10.rightPadding / 2;
    }).attr("height", r11).attr("class", function(t35) {
      for (let [e11, r12] of d10.entries()) if (t35.type === r12) return "section section" + e11 % a10.numberSectionStyles;
      return "section section0";
    });
    let p11 = f10.append("g").selectAll("rect").data(t34).enter(), g11 = i10.db.getLinks();
    if (p11.append("rect").attr("id", function(t35) {
      return t35.id;
    }).attr("rx", 3).attr("ry", 3).attr("x", function(t35) {
      return t35.milestone ? y10(t35.startTime) + o11 + 0.5 * (y10(t35.endTime) - y10(t35.startTime)) - 0.5 * s11 : y10(t35.startTime) + o11;
    }).attr("y", function(t35, e11) {
      return t35.order * r11 + n11;
    }).attr("width", function(t35) {
      return t35.milestone ? s11 : y10(t35.renderEndTime || t35.endTime) - y10(t35.startTime);
    }).attr("height", s11).attr("transform-origin", function(t35, e11) {
      return e11 = t35.order, (y10(t35.startTime) + o11 + 0.5 * (y10(t35.endTime) - y10(t35.startTime))).toString() + "px " + (e11 * r11 + n11 + 0.5 * s11).toString() + "px";
    }).attr("class", function(t35) {
      let e11 = "";
      t35.classes.length > 0 && (e11 = t35.classes.join(" "));
      let r12 = 0;
      for (let [e12, i12] of d10.entries()) t35.type === i12 && (r12 = e12 % a10.numberSectionStyles);
      let i11 = "";
      return t35.active ? t35.crit ? i11 += " activeCrit" : i11 = " active" : t35.done ? i11 = t35.crit ? " doneCrit" : " done" : t35.crit && (i11 += " crit"), 0 === i11.length && (i11 = " task"), t35.milestone && (i11 = " milestone " + i11), i11 += r12, "task" + (i11 += " " + e11);
    }), p11.append("text").attr("id", function(t35) {
      return t35.id + "-text";
    }).text(function(t35) {
      return t35.task;
    }).attr("font-size", a10.fontSize).attr("x", function(t35) {
      let e11 = y10(t35.startTime), r12 = y10(t35.renderEndTime || t35.endTime);
      t35.milestone && (e11 += 0.5 * (y10(t35.endTime) - y10(t35.startTime)) - 0.5 * s11), t35.milestone && (r12 = e11 + s11);
      let i11 = this.getBBox().width;
      return i11 > r12 - e11 ? r12 + i11 + 1.5 * a10.leftPadding > h11 ? e11 + o11 - 5 : r12 + o11 + 5 : (r12 - e11) / 2 + e11 + o11;
    }).attr("y", function(t35, e11) {
      return t35.order * r11 + a10.barHeight / 2 + (a10.fontSize / 2 - 2) + n11;
    }).attr("text-height", s11).attr("class", function(t35) {
      let e11 = y10(t35.startTime), r12 = y10(t35.endTime);
      t35.milestone && (r12 = e11 + s11);
      let i11 = this.getBBox().width, n12 = "";
      t35.classes.length > 0 && (n12 = t35.classes.join(" "));
      let o12 = 0;
      for (let [e12, r13] of d10.entries()) t35.type === r13 && (o12 = e12 % a10.numberSectionStyles);
      let l12 = "";
      return (t35.active && (l12 = t35.crit ? "activeCritText" + o12 : "activeText" + o12), t35.done ? l12 = t35.crit ? l12 + " doneCritText" + o12 : l12 + " doneText" + o12 : t35.crit && (l12 = l12 + " critText" + o12), t35.milestone && (l12 += " milestoneText"), i11 > r12 - e11) ? r12 + i11 + 1.5 * a10.leftPadding > h11 ? n12 + " taskTextOutsideLeft taskTextOutside" + o12 + " " + l12 : n12 + " taskTextOutsideRight taskTextOutside" + o12 + " " + l12 + " width-" + i11 : n12 + " taskText taskText" + o12 + " " + l12 + " width-" + i11;
    }), "sandbox" === nM().securityLevel) {
      let t35 = hl("#i" + e10).nodes()[0].contentDocument;
      p11.filter(function(t36) {
        return g11.has(t36.id);
      }).each(function(e11) {
        var r12 = t35.querySelector("#" + e11.id), i11 = t35.querySelector("#" + e11.id + "-text");
        let n12 = r12.parentNode;
        var a11 = t35.createElement("a");
        a11.setAttribute("xlink:href", g11.get(e11.id)), a11.setAttribute("target", "_top"), n12.appendChild(a11), a11.appendChild(r12), a11.appendChild(i11);
      });
    }
  }
  function w10(t34, e11, r11, n11, o11, s11, l11, h11) {
    let u11, d11;
    if (0 === l11.length && 0 === h11.length) return;
    for (let { startTime: t35, endTime: e12 } of s11) (void 0 === u11 || t35 < u11) && (u11 = t35), (void 0 === d11 || e12 > d11) && (d11 = e12);
    if (!u11 || !d11) return;
    if (r$(d11).diff(r$(u11), "year") > 5) {
      i0.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");
      return;
    }
    let p11 = i10.db.getDateFormat(), g11 = [], v11 = null, x11 = r$(u11);
    for (; x11.valueOf() <= d11; ) i10.db.isInvalidDate(x11, p11, l11, h11) ? v11 ? v11.end = x11 : v11 = { start: x11, end: x11 } : v11 && (g11.push(v11), v11 = null), x11 = x11.add(1, "d");
    f10.append("g").selectAll("rect").data(g11).enter().append("rect").attr("id", function(t35) {
      return "exclude-" + t35.start.format("YYYY-MM-DD");
    }).attr("x", function(t35) {
      return y10(t35.start) + r11;
    }).attr("y", a10.gridLineStartPadding).attr("width", function(t35) {
      return y10(t35.end.add(1, "day")) - y10(t35.start);
    }).attr("height", o11 - e11 - a10.gridLineStartPadding).attr("transform-origin", function(e12, i11) {
      return (y10(e12.start) + r11 + 0.5 * (y10(e12.end) - y10(e12.start))).toString() + "px " + (i11 * t34 + 0.5 * o11).toString() + "px";
    }).attr("class", "exclude-range");
  }
  function k10(t34, e11, r11, n11) {
    let o11 = lC(3, y10).tickSize(-n11 + e11 + a10.gridLineStartPadding).tickFormat(JL(i10.db.getAxisFormat() || a10.axisFormat || "%Y-%m-%d")), s11 = /^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(i10.db.getTickInterval() || a10.tickInterval);
    if (null !== s11) {
      let t35 = s11[1], e12 = s11[2], r12 = i10.db.getWeekday() || a10.weekday;
      switch (e12) {
        case "millisecond":
          o11.ticks(uy.every(t35));
          break;
        case "second":
          o11.ticks(uv.every(t35));
          break;
        case "minute":
          o11.ticks(ux.every(t35));
          break;
        case "hour":
          o11.ticks(ub.every(t35));
          break;
        case "day":
          o11.ticks(uw.every(t35));
          break;
        case "week":
          o11.ticks(Be[r12].every(t35));
          break;
        case "month":
          o11.ticks(uF.every(t35));
      }
    }
    if (f10.append("g").attr("class", "grid").attr("transform", "translate(" + t34 + ", " + (n11 - 50) + ")").call(o11).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10).attr("dy", "1em"), i10.db.topAxisEnabled() || a10.topAxis) {
      let r12 = lC(1, y10).tickSize(-n11 + e11 + a10.gridLineStartPadding).tickFormat(JL(i10.db.getAxisFormat() || a10.axisFormat || "%Y-%m-%d"));
      if (null !== s11) {
        let t35 = s11[1], e12 = s11[2], n12 = i10.db.getWeekday() || a10.weekday;
        switch (e12) {
          case "millisecond":
            r12.ticks(uy.every(t35));
            break;
          case "second":
            r12.ticks(uv.every(t35));
            break;
          case "minute":
            r12.ticks(ux.every(t35));
            break;
          case "hour":
            r12.ticks(ub.every(t35));
            break;
          case "day":
            r12.ticks(uw.every(t35));
            break;
          case "week":
            r12.ticks(Be[n12].every(t35));
            break;
          case "month":
            r12.ticks(uF.every(t35));
        }
      }
      f10.append("g").attr("class", "grid").attr("transform", "translate(" + t34 + ", " + e11 + ")").call(r12).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10);
    }
  }
  function _10(t34, e11) {
    let r11 = 0, i11 = Object.keys(p10).map((t35) => [t35, p10[t35]]);
    f10.append("g").selectAll("text").data(i11).enter().append(function(t35) {
      let e12 = t35[0].split(ae.lineBreakRegex), r12 = -(e12.length - 1) / 2, i12 = l10.createElementNS("http://www.w3.org/2000/svg", "text");
      for (let [t36, n11] of (i12.setAttribute("dy", r12 + "em"), e12.entries())) {
        let e13 = l10.createElementNS("http://www.w3.org/2000/svg", "tspan");
        e13.setAttribute("alignment-baseline", "central"), e13.setAttribute("x", "10"), t36 > 0 && e13.setAttribute("dy", "1em"), e13.textContent = n11, i12.appendChild(e13);
      }
      return i12;
    }).attr("x", 10).attr("y", function(n11, a11) {
      if (!(a11 > 0)) return n11[1] * t34 / 2 + e11;
      for (let o11 = 0; o11 < a11; o11++) return r11 += i11[a11 - 1][1], n11[1] * t34 / 2 + r11 * t34 + e11;
    }).attr("font-size", a10.sectionFontSize).attr("class", function(t35) {
      for (let [e12, r12] of d10.entries()) if (t35[0] === r12) return "sectionTitle sectionTitle" + e12 % a10.numberSectionStyles;
      return "sectionTitle";
    });
  }
  function T10(t34, e11, r11, n11) {
    let o11 = i10.db.getTodayMarker();
    if ("off" === o11) return;
    let s11 = f10.append("g").attr("class", "today"), l11 = /* @__PURE__ */ new Date(), h11 = s11.append("line");
    h11.attr("x1", y10(l11) + t34).attr("x2", y10(l11) + t34).attr("y1", a10.titleTopMargin).attr("y2", n11 - a10.titleTopMargin).attr("class", "today"), "" !== o11 && h11.attr("style", o11.replace(/,/g, ";"));
  }
  function E10(t34) {
    let e11 = {}, r11 = [];
    for (let i11 = 0, n11 = t34.length; i11 < n11; ++i11) Object.prototype.hasOwnProperty.call(e11, t34[i11]) || (e11[t34[i11]] = true, r11.push(t34[i11]));
    return r11;
  }
  iZ(v10, "taskCompare"), u10.sort(v10), x10(u10, tem, g10), an(f10, g10, tem, a10.useMaxWidth), f10.append("text").text(i10.db.getDiagramTitle()).attr("x", tem / 2).attr("y", a10.titleTopMargin).attr("class", "titleText"), iZ(x10, "makeGantt"), iZ(b10, "drawRects"), iZ(w10, "drawExcludeDays"), iZ(k10, "makeGrid"), iZ(_10, "vertLabels"), iZ(T10, "drawToday"), iZ(E10, "checkUnique");
}, "draw") }, styles: iZ((t33) => `
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${t33.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t33.sectionBkgColor};
  }

  .section2 {
    fill: ${t33.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t33.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t33.titleColor};
  }

  .sectionTitle1 {
    fill: ${t33.titleColor};
  }

  .sectionTitle2 {
    fill: ${t33.titleColor};
  }

  .sectionTitle3 {
    fill: ${t33.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t33.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t33.fontFamily};
    fill: ${t33.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t33.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${t33.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${t33.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t33.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t33.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t33.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t33.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t33.taskBkgColor};
    stroke: ${t33.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t33.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t33.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t33.activeTaskBkgColor};
    stroke: ${t33.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t33.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t33.doneTaskBorderColor};
    fill: ${t33.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t33.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t33.critBorderColor};
    fill: ${t33.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t33.critBorderColor};
    fill: ${t33.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t33.critBorderColor};
    fill: ${t33.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t33.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t33.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t33.titleColor || t33.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" })), Bn = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: { parse: iZ(async (t33) => {
  let e10 = await OQ("info", t33);
  i0.debug(e10);
}, "parse") }, db: { getVersion: iZ(() => vj, "getVersion") }, renderer: { draw: iZ((t33, e10, r10) => {
  i0.debug("rendering info diagram\n" + t33);
  let i10 = vW(e10);
  an(i10, 100, 400, true), i10.append("g").append("text").attr("x", 100).attr("y", 40).attr("class", "version").attr("font-size", 32).style("text-anchor", "middle").text(`v${r10}`);
}, "draw") } } }, Symbol.toStringTag, { value: "Module" }));
var Ba = ny.pie, Bo = { sections: /* @__PURE__ */ new Map(), showData: false, config: Ba }, Bs = Bo.sections, Bl = Bo.showData, Bh = structuredClone(Ba), Bc = { getConfig: iZ(() => structuredClone(Bh), "getConfig"), clear: iZ(() => {
  Bs = /* @__PURE__ */ new Map(), Bl = Bo.showData, ag();
}, "clear"), setDiagramTitle: ax, getDiagramTitle: ab, setAccTitle: af, getAccTitle: am, setAccDescription: ay, getAccDescription: av, addSection: iZ((t33) => {
  let { label: e10, value: r10 } = t33;
  Bs.has(e10) || (Bs.set(e10, r10), i0.debug(`added new section: ${e10}, with value: ${r10}`));
}, "addSection"), getSections: iZ(() => Bs, "getSections"), setShowData: iZ((t33) => {
  Bl = t33;
}, "setShowData"), getShowData: iZ(() => Bl, "getShowData") }, Bu = iZ((t33, e10) => {
  Lc(t33, e10), e10.setShowData(t33.showData), t33.sections.map(e10.addSection);
}, "populateDb"), Bd = { parse: iZ(async (t33) => {
  let e10 = await OQ("pie", t33);
  i0.debug(e10), Bu(e10, Bc);
}, "parse") }, Bp = iZ((t33) => `
  .pieCircle{
    stroke: ${t33.pieStrokeColor};
    stroke-width : ${t33.pieStrokeWidth};
    opacity : ${t33.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${t33.pieOuterStrokeColor};
    stroke-width: ${t33.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t33.pieTitleTextSize};
    fill: ${t33.pieTitleTextColor};
    font-family: ${t33.fontFamily};
  }
  .slice {
    font-family: ${t33.fontFamily};
    fill: ${t33.pieSectionTextColor};
    font-size:${t33.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t33.pieLegendTextColor};
    font-family: ${t33.fontFamily};
    font-size: ${t33.pieLegendTextSize};
  }
`, "getStyles"), Bg = iZ((t33) => {
  let e10 = [...t33.entries()].map((t34) => ({ label: t34[0], value: t34[1] })).sort((t34, e11) => e11.value - t34.value);
  return function() {
    var t34 = pw, e11 = pb, r10 = null, i10 = d5(0), n10 = d5(pn), a10 = d5(0);
    function o10(o11) {
      var s10, l10, h10, u10, d10, p10 = (o11 = pg(o11)).length, g10 = 0, f10 = Array(p10), y10 = Array(p10), v10 = +i10.apply(this, arguments), x10 = Math.min(pn, Math.max(-pn, n10.apply(this, arguments) - v10)), b10 = Math.min(Math.abs(x10) / p10, a10.apply(this, arguments)), w10 = b10 * (x10 < 0 ? -1 : 1);
      for (s10 = 0; s10 < p10; ++s10) (d10 = y10[f10[s10] = s10] = +t34(o11[s10], s10, o11)) > 0 && (g10 += d10);
      for (null != e11 ? f10.sort(function(t35, r11) {
        return e11(y10[t35], y10[r11]);
      }) : null != r10 && f10.sort(function(t35, e12) {
        return r10(o11[t35], o11[e12]);
      }), s10 = 0, h10 = g10 ? (x10 - p10 * w10) / g10 : 0; s10 < p10; ++s10, v10 = u10) u10 = v10 + ((d10 = y10[l10 = f10[s10]]) > 0 ? d10 * h10 : 0) + w10, y10[l10] = { data: o11[l10], index: s10, value: d10, startAngle: v10, endAngle: u10, padAngle: b10 };
      return y10;
    }
    return o10.value = function(e12) {
      return arguments.length ? (t34 = "function" == typeof e12 ? e12 : d5(+e12), o10) : t34;
    }, o10.sortValues = function(t35) {
      return arguments.length ? (e11 = t35, r10 = null, o10) : e11;
    }, o10.sort = function(t35) {
      return arguments.length ? (r10 = t35, e11 = null, o10) : r10;
    }, o10.startAngle = function(t35) {
      return arguments.length ? (i10 = "function" == typeof t35 ? t35 : d5(+t35), o10) : i10;
    }, o10.endAngle = function(t35) {
      return arguments.length ? (n10 = "function" == typeof t35 ? t35 : d5(+t35), o10) : n10;
    }, o10.padAngle = function(t35) {
      return arguments.length ? (a10 = "function" == typeof t35 ? t35 : d5(+t35), o10) : a10;
    }, o10;
  }().value((t34) => t34.value)(e10);
}, "createPieArcs");
let Bf = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: Bd, db: Bc, renderer: { draw: iZ((t33, e10, r10, i10) => {
  i0.debug("rendering pie chart\n" + t33);
  let n10 = i10.db, a10 = nM(), o10 = g_(n10.getConfig(), a10.pie), s10 = vW(e10), l10 = s10.append("g");
  l10.attr("transform", "translate(225,225)");
  let { themeVariables: h10 } = a10, [u10] = gk(h10.pieOuterStrokeWidth);
  null != u10 || (u10 = 2);
  let d10 = o10.textPosition, p10 = pp().innerRadius(0).outerRadius(185), g10 = pp().innerRadius(185 * d10).outerRadius(185 * d10);
  l10.append("circle").attr("cx", 0).attr("cy", 0).attr("r", 185 + u10 / 2).attr("class", "pieOuterCircle");
  let f10 = n10.getSections(), y10 = Bg(f10), v10 = ui([h10.pie1, h10.pie2, h10.pie3, h10.pie4, h10.pie5, h10.pie6, h10.pie7, h10.pie8, h10.pie9, h10.pie10, h10.pie11, h10.pie12]);
  l10.selectAll("mySlices").data(y10).enter().append("path").attr("d", p10).attr("fill", (t34) => v10(t34.data.label)).attr("class", "pieCircle");
  let x10 = 0;
  f10.forEach((t34) => {
    x10 += t34;
  }), l10.selectAll("mySlices").data(y10).enter().append("text").text((t34) => (t34.data.value / x10 * 100).toFixed(0) + "%").attr("transform", (t34) => "translate(" + g10.centroid(t34) + ")").style("text-anchor", "middle").attr("class", "slice"), l10.append("text").text(n10.getDiagramTitle()).attr("x", 0).attr("y", -200).attr("class", "pieTitleText");
  let b10 = l10.selectAll(".legend").data(v10.domain()).enter().append("g").attr("class", "legend").attr("transform", (t34, e11) => "translate(216," + (22 * e11 - 22 * v10.domain().length / 2) + ")");
  b10.append("rect").attr("width", 18).attr("height", 18).style("fill", v10).style("stroke", v10), b10.data(y10).append("text").attr("x", 22).attr("y", 14).text((t34) => {
    let { label: e11, value: r11 } = t34.data;
    return n10.getShowData() ? `${e11} [${r11}]` : e11;
  });
  let w10 = 512 + Math.max(...b10.selectAll("text").nodes().map((t34) => {
    var e11;
    return null !== (e11 = null == t34 ? void 0 : t34.getBoundingClientRect().width) && void 0 !== e11 ? e11 : 0;
  }));
  s10.attr("viewBox", `0 0 ${w10} 450`), an(s10, 450, w10, o10.useMaxWidth);
}, "draw") }, styles: Bp } }, Symbol.toStringTag, { value: "Module" }));
var Bm = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 3], r10 = [1, 4], i10 = [1, 5], n10 = [1, 6], a10 = [1, 7], o10 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], s10 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 28, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], l10 = [55, 56, 57], h10 = [2, 36], u10 = [1, 37], d10 = [1, 36], p10 = [1, 38], g10 = [1, 35], f10 = [1, 43], y10 = [1, 41], v10 = [1, 14], x10 = [1, 23], b10 = [1, 18], w10 = [1, 19], k10 = [1, 20], _10 = [1, 21], T10 = [1, 22], E10 = [1, 24], C10 = [1, 25], S10 = [1, 26], A10 = [1, 27], L10 = [1, 28], N10 = [1, 29], I10 = [1, 32], M10 = [1, 33], R10 = [1, 34], D10 = [1, 39], O10 = [1, 40], P10 = [1, 42], $10 = [1, 44], B10 = [1, 62], F10 = [1, 61], z10 = [4, 5, 8, 10, 12, 13, 14, 18, 44, 47, 49, 55, 56, 57, 63, 64, 65, 66, 67], U10 = [1, 65], G10 = [1, 66], q10 = [1, 67], Y10 = [1, 68], H10 = [1, 69], j10 = [1, 70], W10 = [1, 71], V10 = [1, 72], X10 = [1, 73], K10 = [1, 74], Z10 = [1, 75], Q10 = [1, 76], J10 = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 18], tt10 = [1, 90], te10 = [1, 91], tr10 = [1, 92], ti10 = [1, 99], tn10 = [1, 93], ta10 = [1, 96], to10 = [1, 94], ts2 = [1, 95], tl2 = [1, 97], th2 = [1, 98], tc2 = [1, 102], tu2 = [10, 55, 56, 57], td2 = [4, 5, 6, 8, 10, 11, 13, 17, 18, 19, 20, 55, 56, 57], tp2 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, idStringToken: 3, ALPHA: 4, NUM: 5, NODE_STRING: 6, DOWN: 7, MINUS: 8, DEFAULT: 9, COMMA: 10, COLON: 11, AMP: 12, BRKT: 13, MULT: 14, UNICODE_TEXT: 15, styleComponent: 16, UNIT: 17, SPACE: 18, STYLE: 19, PCT: 20, idString: 21, style: 22, stylesOpt: 23, classDefStatement: 24, CLASSDEF: 25, start: 26, eol: 27, QUADRANT: 28, document: 29, line: 30, statement: 31, axisDetails: 32, quadrantDetails: 33, points: 34, title: 35, title_value: 36, acc_title: 37, acc_title_value: 38, acc_descr: 39, acc_descr_value: 40, acc_descr_multiline_value: 41, section: 42, text: 43, point_start: 44, point_x: 45, point_y: 46, class_name: 47, "X-AXIS": 48, "AXIS-TEXT-DELIMITER": 49, "Y-AXIS": 50, QUADRANT_1: 51, QUADRANT_2: 52, QUADRANT_3: 53, QUADRANT_4: 54, NEWLINE: 55, SEMI: 56, EOF: 57, alphaNumToken: 58, textNoTagsToken: 59, STR: 60, MD_STR: 61, alphaNum: 62, PUNCTUATION: 63, PLUS: 64, EQUALS: 65, DOT: 66, UNDERSCORE: 67, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "ALPHA", 5: "NUM", 6: "NODE_STRING", 7: "DOWN", 8: "MINUS", 9: "DEFAULT", 10: "COMMA", 11: "COLON", 12: "AMP", 13: "BRKT", 14: "MULT", 15: "UNICODE_TEXT", 17: "UNIT", 18: "SPACE", 19: "STYLE", 20: "PCT", 25: "CLASSDEF", 28: "QUADRANT", 35: "title", 36: "title_value", 37: "acc_title", 38: "acc_title_value", 39: "acc_descr", 40: "acc_descr_value", 41: "acc_descr_multiline_value", 42: "section", 44: "point_start", 45: "point_x", 46: "point_y", 47: "class_name", 48: "X-AXIS", 49: "AXIS-TEXT-DELIMITER", 50: "Y-AXIS", 51: "QUADRANT_1", 52: "QUADRANT_2", 53: "QUADRANT_3", 54: "QUADRANT_4", 55: "NEWLINE", 56: "SEMI", 57: "EOF", 60: "STR", 61: "MD_STR", 63: "PUNCTUATION", 64: "PLUS", 65: "EQUALS", 66: "DOT", 67: "UNDERSCORE" }, productions_: [0, [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [21, 1], [21, 2], [22, 1], [22, 2], [23, 1], [23, 3], [24, 5], [26, 2], [26, 2], [26, 2], [29, 0], [29, 2], [30, 2], [31, 0], [31, 1], [31, 2], [31, 1], [31, 1], [31, 1], [31, 2], [31, 2], [31, 2], [31, 1], [31, 1], [34, 4], [34, 5], [34, 5], [34, 6], [32, 4], [32, 3], [32, 2], [32, 4], [32, 3], [32, 2], [33, 2], [33, 2], [33, 2], [33, 2], [27, 1], [27, 1], [27, 1], [43, 1], [43, 2], [43, 1], [43, 1], [62, 1], [62, 2], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [59, 1], [59, 1], [59, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 23:
      case 68:
        this.$ = a11[s11];
        break;
      case 24:
      case 69:
        this.$ = a11[s11 - 1] + "" + a11[s11];
        break;
      case 26:
        this.$ = a11[s11 - 1] + a11[s11];
        break;
      case 27:
        this.$ = [a11[s11].trim()];
        break;
      case 28:
        a11[s11 - 2].push(a11[s11].trim()), this.$ = a11[s11 - 2];
        break;
      case 29:
        this.$ = a11[s11 - 4], i11.addClass(a11[s11 - 2], a11[s11]);
        break;
      case 37:
        this.$ = [];
        break;
      case 42:
        this.$ = a11[s11].trim(), i11.setDiagramTitle(this.$);
        break;
      case 43:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 44:
      case 45:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 46:
        i11.addSection(a11[s11].substr(8)), this.$ = a11[s11].substr(8);
        break;
      case 47:
        i11.addPoint(a11[s11 - 3], "", a11[s11 - 1], a11[s11], []);
        break;
      case 48:
        i11.addPoint(a11[s11 - 4], a11[s11 - 3], a11[s11 - 1], a11[s11], []);
        break;
      case 49:
        i11.addPoint(a11[s11 - 4], "", a11[s11 - 2], a11[s11 - 1], a11[s11]);
        break;
      case 50:
        i11.addPoint(a11[s11 - 5], a11[s11 - 4], a11[s11 - 2], a11[s11 - 1], a11[s11]);
        break;
      case 51:
        i11.setXAxisLeftText(a11[s11 - 2]), i11.setXAxisRightText(a11[s11]);
        break;
      case 52:
        a11[s11 - 1].text += " ⟶ ", i11.setXAxisLeftText(a11[s11 - 1]);
        break;
      case 53:
        i11.setXAxisLeftText(a11[s11]);
        break;
      case 54:
        i11.setYAxisBottomText(a11[s11 - 2]), i11.setYAxisTopText(a11[s11]);
        break;
      case 55:
        a11[s11 - 1].text += " ⟶ ", i11.setYAxisBottomText(a11[s11 - 1]);
        break;
      case 56:
        i11.setYAxisBottomText(a11[s11]);
        break;
      case 57:
        i11.setQuadrant1Text(a11[s11]);
        break;
      case 58:
        i11.setQuadrant2Text(a11[s11]);
        break;
      case 59:
        i11.setQuadrant3Text(a11[s11]);
        break;
      case 60:
        i11.setQuadrant4Text(a11[s11]);
        break;
      case 64:
      case 66:
        this.$ = { text: a11[s11], type: "text" };
        break;
      case 65:
        this.$ = { text: a11[s11 - 1].text + "" + a11[s11], type: a11[s11 - 1].type };
        break;
      case 67:
        this.$ = { text: a11[s11], type: "markdown" };
    }
  }, "anonymous"), table: [{ 18: e10, 26: 1, 27: 2, 28: r10, 55: i10, 56: n10, 57: a10 }, { 1: [3] }, { 18: e10, 26: 8, 27: 2, 28: r10, 55: i10, 56: n10, 57: a10 }, { 18: e10, 26: 9, 27: 2, 28: r10, 55: i10, 56: n10, 57: a10 }, t33(o10, [2, 33], { 29: 10 }), t33(s10, [2, 61]), t33(s10, [2, 62]), t33(s10, [2, 63]), { 1: [2, 30] }, { 1: [2, 31] }, t33(l10, h10, { 30: 11, 31: 12, 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 1: [2, 32], 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 18: v10, 25: x10, 35: b10, 37: w10, 39: k10, 41: _10, 42: T10, 48: E10, 50: C10, 51: S10, 52: A10, 53: L10, 54: N10, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(o10, [2, 34]), { 27: 45, 55: i10, 56: n10, 57: a10 }, t33(l10, [2, 37]), t33(l10, h10, { 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 31: 46, 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 18: v10, 25: x10, 35: b10, 37: w10, 39: k10, 41: _10, 42: T10, 48: E10, 50: C10, 51: S10, 52: A10, 53: L10, 54: N10, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 39]), t33(l10, [2, 40]), t33(l10, [2, 41]), { 36: [1, 47] }, { 38: [1, 48] }, { 40: [1, 49] }, t33(l10, [2, 45]), t33(l10, [2, 46]), { 18: [1, 50] }, { 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 43: 51, 58: 31, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }, { 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 43: 52, 58: 31, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }, { 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 43: 53, 58: 31, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }, { 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 43: 54, 58: 31, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }, { 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 43: 55, 58: 31, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }, { 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 43: 56, 58: 31, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }, { 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 44: [1, 57], 47: [1, 58], 58: 60, 59: 59, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }, t33(z10, [2, 64]), t33(z10, [2, 66]), t33(z10, [2, 67]), t33(z10, [2, 70]), t33(z10, [2, 71]), t33(z10, [2, 72]), t33(z10, [2, 73]), t33(z10, [2, 74]), t33(z10, [2, 75]), t33(z10, [2, 76]), t33(z10, [2, 77]), t33(z10, [2, 78]), t33(z10, [2, 79]), t33(z10, [2, 80]), t33(o10, [2, 35]), t33(l10, [2, 38]), t33(l10, [2, 42]), t33(l10, [2, 43]), t33(l10, [2, 44]), { 3: 64, 4: U10, 5: G10, 6: q10, 7: Y10, 8: H10, 9: j10, 10: W10, 11: V10, 12: X10, 13: K10, 14: Z10, 15: Q10, 21: 63 }, t33(l10, [2, 53], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 49: [1, 77], 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 56], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 49: [1, 78], 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 57], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 58], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 59], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 60], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), { 45: [1, 79] }, { 44: [1, 80] }, t33(z10, [2, 65]), t33(z10, [2, 81]), t33(z10, [2, 82]), t33(z10, [2, 83]), { 3: 82, 4: U10, 5: G10, 6: q10, 7: Y10, 8: H10, 9: j10, 10: W10, 11: V10, 12: X10, 13: K10, 14: Z10, 15: Q10, 18: [1, 81] }, t33(J10, [2, 23]), t33(J10, [2, 1]), t33(J10, [2, 2]), t33(J10, [2, 3]), t33(J10, [2, 4]), t33(J10, [2, 5]), t33(J10, [2, 6]), t33(J10, [2, 7]), t33(J10, [2, 8]), t33(J10, [2, 9]), t33(J10, [2, 10]), t33(J10, [2, 11]), t33(J10, [2, 12]), t33(l10, [2, 52], { 58: 31, 43: 83, 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 55], { 58: 31, 43: 84, 4: u10, 5: d10, 10: p10, 12: g10, 13: f10, 14: y10, 60: I10, 61: M10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), { 46: [1, 85] }, { 45: [1, 86] }, { 4: tt10, 5: te10, 6: tr10, 8: ti10, 11: tn10, 13: ta10, 16: 89, 17: to10, 18: ts2, 19: tl2, 20: th2, 22: 88, 23: 87 }, t33(J10, [2, 24]), t33(l10, [2, 51], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 54], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: g10, 13: f10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: P10, 67: $10 }), t33(l10, [2, 47], { 22: 88, 16: 89, 23: 100, 4: tt10, 5: te10, 6: tr10, 8: ti10, 11: tn10, 13: ta10, 17: to10, 18: ts2, 19: tl2, 20: th2 }), { 46: [1, 101] }, t33(l10, [2, 29], { 10: tc2 }), t33(tu2, [2, 27], { 16: 103, 4: tt10, 5: te10, 6: tr10, 8: ti10, 11: tn10, 13: ta10, 17: to10, 18: ts2, 19: tl2, 20: th2 }), t33(td2, [2, 25]), t33(td2, [2, 13]), t33(td2, [2, 14]), t33(td2, [2, 15]), t33(td2, [2, 16]), t33(td2, [2, 17]), t33(td2, [2, 18]), t33(td2, [2, 19]), t33(td2, [2, 20]), t33(td2, [2, 21]), t33(td2, [2, 22]), t33(l10, [2, 49], { 10: tc2 }), t33(l10, [2, 48], { 22: 88, 16: 89, 23: 104, 4: tt10, 5: te10, 6: tr10, 8: ti10, 11: tn10, 13: ta10, 17: to10, 18: ts2, 19: tl2, 20: th2 }), { 4: tt10, 5: te10, 6: tr10, 8: ti10, 11: tn10, 13: ta10, 16: 89, 17: to10, 18: ts2, 19: tl2, 20: th2, 22: 105 }, t33(td2, [2, 26]), t33(l10, [2, 50], { 10: tc2 }), t33(tu2, [2, 28], { 16: 103, 4: tt10, 5: te10, 6: tr10, 8: ti10, 11: tn10, 13: ta10, 17: to10, 18: ts2, 19: tl2, 20: th2 })], defaultActions: { 8: [2, 30], 9: [2, 31] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, tg2 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
      case 1:
      case 3:
        break;
      case 2:
        return 55;
      case 4:
        return this.begin("title"), 35;
      case 5:
        return this.popState(), "title_value";
      case 6:
        return this.begin("acc_title"), 37;
      case 7:
        return this.popState(), "acc_title_value";
      case 8:
        return this.begin("acc_descr"), 39;
      case 9:
        return this.popState(), "acc_descr_value";
      case 10:
        this.begin("acc_descr_multiline");
        break;
      case 11:
      case 23:
      case 25:
      case 31:
        this.popState();
        break;
      case 12:
        return "acc_descr_multiline_value";
      case 13:
        return 48;
      case 14:
        return 50;
      case 15:
        return 49;
      case 16:
        return 51;
      case 17:
        return 52;
      case 18:
        return 53;
      case 19:
        return 54;
      case 20:
        return 25;
      case 21:
        this.begin("md_string");
        break;
      case 22:
        return "MD_STR";
      case 24:
        this.begin("string");
        break;
      case 26:
        return "STR";
      case 27:
        this.begin("class_name");
        break;
      case 28:
        return this.popState(), 47;
      case 29:
        return this.begin("point_start"), 44;
      case 30:
        return this.begin("point_x"), 45;
      case 32:
        this.popState(), this.begin("point_y");
        break;
      case 33:
        return this.popState(), 46;
      case 34:
        return 28;
      case 35:
        return 4;
      case 36:
        return 11;
      case 37:
        return 64;
      case 38:
        return 10;
      case 39:
      case 40:
        return 65;
      case 41:
        return 14;
      case 42:
        return 13;
      case 43:
        return 67;
      case 44:
        return 66;
      case 45:
        return 12;
      case 46:
        return 8;
      case 47:
        return 5;
      case 48:
        return 18;
      case 49:
        return 56;
      case 50:
        return 63;
      case 51:
        return 57;
    }
  }, "anonymous"), rules: [/^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n\r]+)/i, /^(?:%%[^\n]*)/i, /^(?:title\b)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?: *x-axis *)/i, /^(?: *y-axis *)/i, /^(?: *--+> *)/i, /^(?: *quadrant-1 *)/i, /^(?: *quadrant-2 *)/i, /^(?: *quadrant-3 *)/i, /^(?: *quadrant-4 *)/i, /^(?:classDef\b)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?::::)/i, /^(?:^\w+)/i, /^(?:\s*:\s*\[\s*)/i, /^(?:(1)|(0(.\d+)?))/i, /^(?:\s*\] *)/i, /^(?:\s*,\s*)/i, /^(?:(1)|(0(.\d+)?))/i, /^(?: *quadrantChart *)/i, /^(?:[A-Za-z]+)/i, /^(?::)/i, /^(?:\+)/i, /^(?:,)/i, /^(?:=)/i, /^(?:=)/i, /^(?:\*)/i, /^(?:#)/i, /^(?:[\_])/i, /^(?:\.)/i, /^(?:&)/i, /^(?:-)/i, /^(?:[0-9]+)/i, /^(?:\s)/i, /^(?:;)/i, /^(?:[!"#$%&'*+,-.`?\\_/])/i, /^(?:$)/i], conditions: { class_name: { rules: [28], inclusive: false }, point_y: { rules: [33], inclusive: false }, point_x: { rules: [32], inclusive: false }, point_start: { rules: [30, 31], inclusive: false }, acc_descr_multiline: { rules: [11, 12], inclusive: false }, acc_descr: { rules: [9], inclusive: false }, acc_title: { rules: [7], inclusive: false }, title: { rules: [5], inclusive: false }, md_string: { rules: [22, 23], inclusive: false }, string: { rules: [25, 26], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 24, 27, 29, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51], inclusive: true } } };
  function tf2() {
    this.yy = {};
  }
  return tp2.lexer = tg2, iZ(tf2, "Parser"), tf2.prototype = tp2, tp2.Parser = tf2, new tf2();
}();
Bm.parser = Bm;
var By = nu(), Bv = (_y2 = class {
  constructor() {
    this.classes = /* @__PURE__ */ new Map(), this.config = this.getDefaultConfig(), this.themeConfig = this.getDefaultThemeConfig(), this.data = this.getDefaultData();
  }
  getDefaultData() {
    return { titleText: "", quadrant1Text: "", quadrant2Text: "", quadrant3Text: "", quadrant4Text: "", xAxisLeftText: "", xAxisRightText: "", yAxisBottomText: "", yAxisTopText: "", points: [] };
  }
  getDefaultConfig() {
    var t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10, x10;
    return { showXAxis: true, showYAxis: true, showTitle: true, chartHeight: (null === (t33 = ny.quadrantChart) || void 0 === t33 ? void 0 : t33.chartWidth) || 500, chartWidth: (null === (e10 = ny.quadrantChart) || void 0 === e10 ? void 0 : e10.chartHeight) || 500, titlePadding: (null === (r10 = ny.quadrantChart) || void 0 === r10 ? void 0 : r10.titlePadding) || 10, titleFontSize: (null === (i10 = ny.quadrantChart) || void 0 === i10 ? void 0 : i10.titleFontSize) || 20, quadrantPadding: (null === (n10 = ny.quadrantChart) || void 0 === n10 ? void 0 : n10.quadrantPadding) || 5, xAxisLabelPadding: (null === (a10 = ny.quadrantChart) || void 0 === a10 ? void 0 : a10.xAxisLabelPadding) || 5, yAxisLabelPadding: (null === (o10 = ny.quadrantChart) || void 0 === o10 ? void 0 : o10.yAxisLabelPadding) || 5, xAxisLabelFontSize: (null === (s10 = ny.quadrantChart) || void 0 === s10 ? void 0 : s10.xAxisLabelFontSize) || 16, yAxisLabelFontSize: (null === (l10 = ny.quadrantChart) || void 0 === l10 ? void 0 : l10.yAxisLabelFontSize) || 16, quadrantLabelFontSize: (null === (h10 = ny.quadrantChart) || void 0 === h10 ? void 0 : h10.quadrantLabelFontSize) || 16, quadrantTextTopPadding: (null === (u10 = ny.quadrantChart) || void 0 === u10 ? void 0 : u10.quadrantTextTopPadding) || 5, pointTextPadding: (null === (d10 = ny.quadrantChart) || void 0 === d10 ? void 0 : d10.pointTextPadding) || 5, pointLabelFontSize: (null === (p10 = ny.quadrantChart) || void 0 === p10 ? void 0 : p10.pointLabelFontSize) || 12, pointRadius: (null === (g10 = ny.quadrantChart) || void 0 === g10 ? void 0 : g10.pointRadius) || 5, xAxisPosition: (null === (f10 = ny.quadrantChart) || void 0 === f10 ? void 0 : f10.xAxisPosition) || "top", yAxisPosition: (null === (y10 = ny.quadrantChart) || void 0 === y10 ? void 0 : y10.yAxisPosition) || "left", quadrantInternalBorderStrokeWidth: (null === (v10 = ny.quadrantChart) || void 0 === v10 ? void 0 : v10.quadrantInternalBorderStrokeWidth) || 1, quadrantExternalBorderStrokeWidth: (null === (x10 = ny.quadrantChart) || void 0 === x10 ? void 0 : x10.quadrantExternalBorderStrokeWidth) || 2 };
  }
  getDefaultThemeConfig() {
    return { quadrant1Fill: By.quadrant1Fill, quadrant2Fill: By.quadrant2Fill, quadrant3Fill: By.quadrant3Fill, quadrant4Fill: By.quadrant4Fill, quadrant1TextFill: By.quadrant1TextFill, quadrant2TextFill: By.quadrant2TextFill, quadrant3TextFill: By.quadrant3TextFill, quadrant4TextFill: By.quadrant4TextFill, quadrantPointFill: By.quadrantPointFill, quadrantPointTextFill: By.quadrantPointTextFill, quadrantXAxisTextFill: By.quadrantXAxisTextFill, quadrantYAxisTextFill: By.quadrantYAxisTextFill, quadrantTitleFill: By.quadrantTitleFill, quadrantInternalBorderStrokeFill: By.quadrantInternalBorderStrokeFill, quadrantExternalBorderStrokeFill: By.quadrantExternalBorderStrokeFill };
  }
  clear() {
    this.config = this.getDefaultConfig(), this.themeConfig = this.getDefaultThemeConfig(), this.data = this.getDefaultData(), this.classes = /* @__PURE__ */ new Map(), i0.info("clear called");
  }
  setData(t33) {
    this.data = { ...this.data, ...t33 };
  }
  addPoints(t33) {
    this.data.points = [...t33, ...this.data.points];
  }
  addClass(t33, e10) {
    this.classes.set(t33, e10);
  }
  setConfig(t33) {
    i0.trace("setConfig called with: ", t33), this.config = { ...this.config, ...t33 };
  }
  setThemeConfig(t33) {
    i0.trace("setThemeConfig called with: ", t33), this.themeConfig = { ...this.themeConfig, ...t33 };
  }
  calculateSpace(t33, e10, r10, i10) {
    let n10 = 2 * this.config.xAxisLabelPadding + this.config.xAxisLabelFontSize, a10 = { top: "top" === t33 && e10 ? n10 : 0, bottom: "bottom" === t33 && e10 ? n10 : 0 }, o10 = 2 * this.config.yAxisLabelPadding + this.config.yAxisLabelFontSize, s10 = { left: "left" === this.config.yAxisPosition && r10 ? o10 : 0, right: "right" === this.config.yAxisPosition && r10 ? o10 : 0 }, l10 = this.config.titleFontSize + 2 * this.config.titlePadding, h10 = { top: i10 ? l10 : 0 }, u10 = this.config.quadrantPadding + s10.left, d10 = this.config.quadrantPadding + a10.top + h10.top, p10 = this.config.chartWidth - 2 * this.config.quadrantPadding - s10.left - s10.right, g10 = this.config.chartHeight - 2 * this.config.quadrantPadding - a10.top - a10.bottom - h10.top;
    return { xAxisSpace: a10, yAxisSpace: s10, titleSpace: h10, quadrantSpace: { quadrantLeft: u10, quadrantTop: d10, quadrantWidth: p10, quadrantHalfWidth: p10 / 2, quadrantHeight: g10, quadrantHalfHeight: g10 / 2 } };
  }
  getAxisLabels(t33, e10, r10, i10) {
    let { quadrantSpace: n10, titleSpace: a10 } = i10, { quadrantHalfHeight: o10, quadrantHeight: s10, quadrantLeft: l10, quadrantHalfWidth: h10, quadrantTop: u10, quadrantWidth: d10 } = n10, p10 = !!this.data.xAxisRightText, g10 = !!this.data.yAxisTopText, f10 = [];
    return this.data.xAxisLeftText && e10 && f10.push({ text: this.data.xAxisLeftText, fill: this.themeConfig.quadrantXAxisTextFill, x: l10 + (p10 ? h10 / 2 : 0), y: "top" === t33 ? this.config.xAxisLabelPadding + a10.top : this.config.xAxisLabelPadding + u10 + s10 + this.config.quadrantPadding, fontSize: this.config.xAxisLabelFontSize, verticalPos: p10 ? "center" : "left", horizontalPos: "top", rotation: 0 }), this.data.xAxisRightText && e10 && f10.push({ text: this.data.xAxisRightText, fill: this.themeConfig.quadrantXAxisTextFill, x: l10 + h10 + (p10 ? h10 / 2 : 0), y: "top" === t33 ? this.config.xAxisLabelPadding + a10.top : this.config.xAxisLabelPadding + u10 + s10 + this.config.quadrantPadding, fontSize: this.config.xAxisLabelFontSize, verticalPos: p10 ? "center" : "left", horizontalPos: "top", rotation: 0 }), this.data.yAxisBottomText && r10 && f10.push({ text: this.data.yAxisBottomText, fill: this.themeConfig.quadrantYAxisTextFill, x: "left" === this.config.yAxisPosition ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + l10 + d10 + this.config.quadrantPadding, y: u10 + s10 - (g10 ? o10 / 2 : 0), fontSize: this.config.yAxisLabelFontSize, verticalPos: g10 ? "center" : "left", horizontalPos: "top", rotation: -90 }), this.data.yAxisTopText && r10 && f10.push({ text: this.data.yAxisTopText, fill: this.themeConfig.quadrantYAxisTextFill, x: "left" === this.config.yAxisPosition ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + l10 + d10 + this.config.quadrantPadding, y: u10 + o10 - (g10 ? o10 / 2 : 0), fontSize: this.config.yAxisLabelFontSize, verticalPos: g10 ? "center" : "left", horizontalPos: "top", rotation: -90 }), f10;
  }
  getQuadrants(t33) {
    let { quadrantSpace: e10 } = t33, { quadrantHalfHeight: r10, quadrantLeft: i10, quadrantHalfWidth: n10, quadrantTop: a10 } = e10, o10 = [{ text: { text: this.data.quadrant1Text, fill: this.themeConfig.quadrant1TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: i10 + n10, y: a10, width: n10, height: r10, fill: this.themeConfig.quadrant1Fill }, { text: { text: this.data.quadrant2Text, fill: this.themeConfig.quadrant2TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: i10, y: a10, width: n10, height: r10, fill: this.themeConfig.quadrant2Fill }, { text: { text: this.data.quadrant3Text, fill: this.themeConfig.quadrant3TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: i10, y: a10 + r10, width: n10, height: r10, fill: this.themeConfig.quadrant3Fill }, { text: { text: this.data.quadrant4Text, fill: this.themeConfig.quadrant4TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: i10 + n10, y: a10 + r10, width: n10, height: r10, fill: this.themeConfig.quadrant4Fill }];
    for (let t34 of o10) t34.text.x = t34.x + t34.width / 2, 0 === this.data.points.length ? (t34.text.y = t34.y + t34.height / 2, t34.text.horizontalPos = "middle") : (t34.text.y = t34.y + this.config.quadrantTextTopPadding, t34.text.horizontalPos = "top");
    return o10;
  }
  getQuadrantPoints(t33) {
    let { quadrantSpace: e10 } = t33, { quadrantHeight: r10, quadrantLeft: i10, quadrantTop: n10, quadrantWidth: a10 } = e10, o10 = up().domain([0, 1]).range([i10, a10 + i10]), s10 = up().domain([0, 1]).range([r10 + n10, n10]);
    return this.data.points.map((t34) => {
      var e11, r11, i11, n11;
      let a11 = this.classes.get(t34.className);
      return a11 && (t34 = { ...a11, ...t34 }), { x: o10(t34.x), y: s10(t34.y), fill: null !== (e11 = t34.color) && void 0 !== e11 ? e11 : this.themeConfig.quadrantPointFill, radius: null !== (r11 = t34.radius) && void 0 !== r11 ? r11 : this.config.pointRadius, text: { text: t34.text, fill: this.themeConfig.quadrantPointTextFill, x: o10(t34.x), y: s10(t34.y) + this.config.pointTextPadding, verticalPos: "center", horizontalPos: "top", fontSize: this.config.pointLabelFontSize, rotation: 0 }, strokeColor: null !== (i11 = t34.strokeColor) && void 0 !== i11 ? i11 : this.themeConfig.quadrantPointFill, strokeWidth: null !== (n11 = t34.strokeWidth) && void 0 !== n11 ? n11 : "0px" };
    });
  }
  getBorders(t33) {
    let e10 = this.config.quadrantExternalBorderStrokeWidth / 2, { quadrantSpace: r10 } = t33, { quadrantHalfHeight: i10, quadrantHeight: n10, quadrantLeft: a10, quadrantHalfWidth: o10, quadrantTop: s10, quadrantWidth: l10 } = r10;
    return [{ strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10 - e10, y1: s10, x2: a10 + l10 + e10, y2: s10 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10 + l10, y1: s10 + e10, x2: a10 + l10, y2: s10 + n10 - e10 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10 - e10, y1: s10 + n10, x2: a10 + l10 + e10, y2: s10 + n10 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10, y1: s10 + e10, x2: a10, y2: s10 + n10 - e10 }, { strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill, strokeWidth: this.config.quadrantInternalBorderStrokeWidth, x1: a10 + o10, y1: s10 + e10, x2: a10 + o10, y2: s10 + n10 - e10 }, { strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill, strokeWidth: this.config.quadrantInternalBorderStrokeWidth, x1: a10 + e10, y1: s10 + i10, x2: a10 + l10 - e10, y2: s10 + i10 }];
  }
  getTitle(t33) {
    if (t33) return { text: this.data.titleText, fill: this.themeConfig.quadrantTitleFill, fontSize: this.config.titleFontSize, horizontalPos: "top", verticalPos: "center", rotation: 0, y: this.config.titlePadding, x: this.config.chartWidth / 2 };
  }
  build() {
    let t33 = this.config.showXAxis && !!(this.data.xAxisLeftText || this.data.xAxisRightText), e10 = this.config.showYAxis && !!(this.data.yAxisTopText || this.data.yAxisBottomText), r10 = this.config.showTitle && !!this.data.titleText, i10 = this.data.points.length > 0 ? "bottom" : this.config.xAxisPosition, n10 = this.calculateSpace(i10, t33, e10, r10);
    return { points: this.getQuadrantPoints(n10), quadrants: this.getQuadrants(n10), axisLabels: this.getAxisLabels(i10, t33, e10, n10), borderLines: this.getBorders(n10), title: this.getTitle(r10) };
  }
}, _n27 = new WeakMap(), __privateAdd(_y2, _n27, iZ(_y2, "QuadrantBuilder")), _y2), Bx = (_z2 = class extends Error {
  constructor(t33, e10, r10) {
    super(`value for ${t33} ${e10} is invalid, please use a valid ${r10}`), this.name = "InvalidStyleError";
  }
}, _n28 = new WeakMap(), __privateAdd(_z2, _n28, iZ(_z2, "InvalidStyleError")), _z2);
function Bb(t33) {
  return !/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t33);
}
function Bw(t33) {
  return !/^\d+$/.test(t33);
}
function Bk(t33) {
  return !/^\d+px$/.test(t33);
}
iZ(Bb, "validateHexCode"), iZ(Bw, "validateNumber"), iZ(Bk, "validateSizeInPixels");
var B_ = nM();
function BT(t33) {
  return nj(t33.trim(), B_);
}
iZ(BT, "textSanitizer");
var BE = new Bv();
function BC(t33) {
  BE.setData({ quadrant1Text: BT(t33.text) });
}
function BS(t33) {
  BE.setData({ quadrant2Text: BT(t33.text) });
}
function BA(t33) {
  BE.setData({ quadrant3Text: BT(t33.text) });
}
function BL(t33) {
  BE.setData({ quadrant4Text: BT(t33.text) });
}
function BN(t33) {
  BE.setData({ xAxisLeftText: BT(t33.text) });
}
function BI(t33) {
  BE.setData({ xAxisRightText: BT(t33.text) });
}
function BM(t33) {
  BE.setData({ yAxisTopText: BT(t33.text) });
}
function BR(t33) {
  BE.setData({ yAxisBottomText: BT(t33.text) });
}
function BD(t33) {
  let e10 = {};
  for (let r10 of t33) {
    let [t34, i10] = r10.trim().split(/\s*:\s*/);
    if ("radius" === t34) {
      if (Bw(i10)) throw new Bx(t34, i10, "number");
      e10.radius = parseInt(i10);
    } else if ("color" === t34) {
      if (Bb(i10)) throw new Bx(t34, i10, "hex code");
      e10.color = i10;
    } else if ("stroke-color" === t34) {
      if (Bb(i10)) throw new Bx(t34, i10, "hex code");
      e10.strokeColor = i10;
    } else if ("stroke-width" === t34) {
      if (Bk(i10)) throw new Bx(t34, i10, "number of pixels (eg. 10px)");
      e10.strokeWidth = i10;
    } else throw Error(`style named ${t34} is not supported.`);
  }
  return e10;
}
function BO(t33, e10, r10, i10, n10) {
  let a10 = BD(n10);
  BE.addPoints([{ x: r10, y: i10, text: BT(t33.text), className: e10, ...a10 }]);
}
function BP(t33, e10) {
  BE.addClass(t33, BD(e10));
}
function B$(t33) {
  BE.setConfig({ chartWidth: t33 });
}
function BB(t33) {
  BE.setConfig({ chartHeight: t33 });
}
function BF() {
  let { themeVariables: t33, quadrantChart: e10 } = nM();
  return e10 && BE.setConfig(e10), BE.setThemeConfig({ quadrant1Fill: t33.quadrant1Fill, quadrant2Fill: t33.quadrant2Fill, quadrant3Fill: t33.quadrant3Fill, quadrant4Fill: t33.quadrant4Fill, quadrant1TextFill: t33.quadrant1TextFill, quadrant2TextFill: t33.quadrant2TextFill, quadrant3TextFill: t33.quadrant3TextFill, quadrant4TextFill: t33.quadrant4TextFill, quadrantPointFill: t33.quadrantPointFill, quadrantPointTextFill: t33.quadrantPointTextFill, quadrantXAxisTextFill: t33.quadrantXAxisTextFill, quadrantYAxisTextFill: t33.quadrantYAxisTextFill, quadrantExternalBorderStrokeFill: t33.quadrantExternalBorderStrokeFill, quadrantInternalBorderStrokeFill: t33.quadrantInternalBorderStrokeFill, quadrantTitleFill: t33.quadrantTitleFill }), BE.setData({ titleText: ab() }), BE.build();
}
iZ(BC, "setQuadrant1Text"), iZ(BS, "setQuadrant2Text"), iZ(BA, "setQuadrant3Text"), iZ(BL, "setQuadrant4Text"), iZ(BN, "setXAxisLeftText"), iZ(BI, "setXAxisRightText"), iZ(BM, "setYAxisTopText"), iZ(BR, "setYAxisBottomText"), iZ(BD, "parseStyles"), iZ(BO, "addPoint"), iZ(BP, "addClass"), iZ(B$, "setWidth"), iZ(BB, "setHeight"), iZ(BF, "getQuadrantData");
let Bz = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: Bm, db: { setWidth: B$, setHeight: BB, setQuadrant1Text: BC, setQuadrant2Text: BS, setQuadrant3Text: BA, setQuadrant4Text: BL, setXAxisLeftText: BN, setXAxisRightText: BI, setYAxisTopText: BM, setYAxisBottomText: BR, parseStyles: BD, addPoint: BO, addClass: BP, getQuadrantData: BF, clear: iZ(function() {
  BE.clear(), ag();
}, "clear"), setAccTitle: af, getAccTitle: am, setDiagramTitle: ax, getDiagramTitle: ab, getAccDescription: av, setAccDescription: ay }, renderer: { draw: iZ((t33, e10, r10, i10) => {
  var n10, a10, o10, s10, l10, h10;
  let u10;
  function d10(t34) {
    return "top" === t34 ? "hanging" : "middle";
  }
  function p10(t34) {
    return "left" === t34 ? "start" : "middle";
  }
  function g10(t34) {
    return `translate(${t34.x}, ${t34.y}) rotate(${t34.rotation || 0})`;
  }
  iZ(d10, "getDominantBaseLine"), iZ(p10, "getTextAnchor"), iZ(g10, "getTransformation");
  let f10 = nM();
  i0.debug("Rendering quadrant chart\n" + t33);
  let y10 = f10.securityLevel;
  "sandbox" === y10 && (u10 = hl("#i" + e10));
  let v10 = ("sandbox" === y10 ? hl(u10.nodes()[0].contentDocument.body) : hl("body")).select(`[id="${e10}"]`), x10 = v10.append("g").attr("class", "main"), b10 = null !== (s10 = null === (n10 = f10.quadrantChart) || void 0 === n10 ? void 0 : n10.chartWidth) && void 0 !== s10 ? s10 : 500, w10 = null !== (l10 = null === (a10 = f10.quadrantChart) || void 0 === a10 ? void 0 : a10.chartHeight) && void 0 !== l10 ? l10 : 500;
  an(v10, w10, b10, null === (h10 = null === (o10 = f10.quadrantChart) || void 0 === o10 ? void 0 : o10.useMaxWidth) || void 0 === h10 || h10), v10.attr("viewBox", "0 0 " + b10 + " " + w10), i10.db.setHeight(w10), i10.db.setWidth(b10);
  let k10 = i10.db.getQuadrantData(), _10 = x10.append("g").attr("class", "quadrants"), T10 = x10.append("g").attr("class", "border"), E10 = x10.append("g").attr("class", "data-points"), C10 = x10.append("g").attr("class", "labels"), S10 = x10.append("g").attr("class", "title");
  k10.title && S10.append("text").attr("x", 0).attr("y", 0).attr("fill", k10.title.fill).attr("font-size", k10.title.fontSize).attr("dominant-baseline", d10(k10.title.horizontalPos)).attr("text-anchor", p10(k10.title.verticalPos)).attr("transform", g10(k10.title)).text(k10.title.text), k10.borderLines && T10.selectAll("line").data(k10.borderLines).enter().append("line").attr("x1", (t34) => t34.x1).attr("y1", (t34) => t34.y1).attr("x2", (t34) => t34.x2).attr("y2", (t34) => t34.y2).style("stroke", (t34) => t34.strokeFill).style("stroke-width", (t34) => t34.strokeWidth);
  let A10 = _10.selectAll("g.quadrant").data(k10.quadrants).enter().append("g").attr("class", "quadrant");
  A10.append("rect").attr("x", (t34) => t34.x).attr("y", (t34) => t34.y).attr("width", (t34) => t34.width).attr("height", (t34) => t34.height).attr("fill", (t34) => t34.fill), A10.append("text").attr("x", 0).attr("y", 0).attr("fill", (t34) => t34.text.fill).attr("font-size", (t34) => t34.text.fontSize).attr("dominant-baseline", (t34) => d10(t34.text.horizontalPos)).attr("text-anchor", (t34) => p10(t34.text.verticalPos)).attr("transform", (t34) => g10(t34.text)).text((t34) => t34.text.text), C10.selectAll("g.label").data(k10.axisLabels).enter().append("g").attr("class", "label").append("text").attr("x", 0).attr("y", 0).text((t34) => t34.text).attr("fill", (t34) => t34.fill).attr("font-size", (t34) => t34.fontSize).attr("dominant-baseline", (t34) => d10(t34.horizontalPos)).attr("text-anchor", (t34) => p10(t34.verticalPos)).attr("transform", (t34) => g10(t34));
  let L10 = E10.selectAll("g.data-point").data(k10.points).enter().append("g").attr("class", "data-point");
  L10.append("circle").attr("cx", (t34) => t34.x).attr("cy", (t34) => t34.y).attr("r", (t34) => t34.radius).attr("fill", (t34) => t34.fill).attr("stroke", (t34) => t34.strokeColor).attr("stroke-width", (t34) => t34.strokeWidth), L10.append("text").attr("x", 0).attr("y", 0).text((t34) => t34.text.text).attr("fill", (t34) => t34.text.fill).attr("font-size", (t34) => t34.text.fontSize).attr("dominant-baseline", (t34) => d10(t34.text.horizontalPos)).attr("text-anchor", (t34) => p10(t34.text.verticalPos)).attr("transform", (t34) => g10(t34.text));
}, "draw") }, styles: iZ(() => "", "styles") } }, Symbol.toStringTag, { value: "Module" }));
var BU = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 10, 12, 14, 16, 18, 19, 21, 23], r10 = [2, 6], i10 = [1, 3], n10 = [1, 5], a10 = [1, 6], o10 = [1, 7], s10 = [1, 5, 10, 12, 14, 16, 18, 19, 21, 23, 34, 35, 36], l10 = [1, 25], h10 = [1, 26], u10 = [1, 28], d10 = [1, 29], p10 = [1, 30], g10 = [1, 31], f10 = [1, 32], y10 = [1, 33], v10 = [1, 34], x10 = [1, 35], b10 = [1, 36], w10 = [1, 37], k10 = [1, 43], _10 = [1, 42], T10 = [1, 47], E10 = [1, 50], C10 = [1, 10, 12, 14, 16, 18, 19, 21, 23, 34, 35, 36], S10 = [1, 10, 12, 14, 16, 18, 19, 21, 23, 24, 26, 27, 28, 34, 35, 36], A10 = [1, 10, 12, 14, 16, 18, 19, 21, 23, 24, 26, 27, 28, 34, 35, 36, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], L10 = [1, 64], N10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, eol: 4, XYCHART: 5, chartConfig: 6, document: 7, CHART_ORIENTATION: 8, statement: 9, title: 10, text: 11, X_AXIS: 12, parseXAxis: 13, Y_AXIS: 14, parseYAxis: 15, LINE: 16, plotData: 17, BAR: 18, acc_title: 19, acc_title_value: 20, acc_descr: 21, acc_descr_value: 22, acc_descr_multiline_value: 23, SQUARE_BRACES_START: 24, commaSeparatedNumbers: 25, SQUARE_BRACES_END: 26, NUMBER_WITH_DECIMAL: 27, COMMA: 28, xAxisData: 29, bandData: 30, ARROW_DELIMITER: 31, commaSeparatedTexts: 32, yAxisData: 33, NEWLINE: 34, SEMI: 35, EOF: 36, alphaNum: 37, STR: 38, MD_STR: 39, alphaNumToken: 40, AMP: 41, NUM: 42, ALPHA: 43, PLUS: 44, EQUALS: 45, MULT: 46, DOT: 47, BRKT: 48, MINUS: 49, UNDERSCORE: 50, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "XYCHART", 8: "CHART_ORIENTATION", 10: "title", 12: "X_AXIS", 14: "Y_AXIS", 16: "LINE", 18: "BAR", 19: "acc_title", 20: "acc_title_value", 21: "acc_descr", 22: "acc_descr_value", 23: "acc_descr_multiline_value", 24: "SQUARE_BRACES_START", 26: "SQUARE_BRACES_END", 27: "NUMBER_WITH_DECIMAL", 28: "COMMA", 31: "ARROW_DELIMITER", 34: "NEWLINE", 35: "SEMI", 36: "EOF", 38: "STR", 39: "MD_STR", 41: "AMP", 42: "NUM", 43: "ALPHA", 44: "PLUS", 45: "EQUALS", 46: "MULT", 47: "DOT", 48: "BRKT", 49: "MINUS", 50: "UNDERSCORE" }, productions_: [0, [3, 2], [3, 3], [3, 2], [3, 1], [6, 1], [7, 0], [7, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 3], [9, 2], [9, 3], [9, 2], [9, 2], [9, 1], [17, 3], [25, 3], [25, 1], [13, 1], [13, 2], [13, 1], [29, 1], [29, 3], [30, 3], [32, 3], [32, 1], [15, 1], [15, 2], [15, 1], [33, 3], [4, 1], [4, 1], [4, 1], [11, 1], [11, 1], [11, 1], [37, 1], [37, 2], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 5:
        i11.setOrientation(a11[s11]);
        break;
      case 9:
        i11.setDiagramTitle(a11[s11].text.trim());
        break;
      case 12:
        i11.setLineData({ text: "", type: "text" }, a11[s11]);
        break;
      case 13:
        i11.setLineData(a11[s11 - 1], a11[s11]);
        break;
      case 14:
        i11.setBarData({ text: "", type: "text" }, a11[s11]);
        break;
      case 15:
        i11.setBarData(a11[s11 - 1], a11[s11]);
        break;
      case 16:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 17:
      case 18:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 19:
      case 27:
        this.$ = a11[s11 - 1];
        break;
      case 20:
        this.$ = [Number(a11[s11 - 2]), ...a11[s11]];
        break;
      case 21:
        this.$ = [Number(a11[s11])];
        break;
      case 22:
        i11.setXAxisTitle(a11[s11]);
        break;
      case 23:
        i11.setXAxisTitle(a11[s11 - 1]);
        break;
      case 24:
        i11.setXAxisTitle({ type: "text", text: "" });
        break;
      case 25:
        i11.setXAxisBand(a11[s11]);
        break;
      case 26:
        i11.setXAxisRangeData(Number(a11[s11 - 2]), Number(a11[s11]));
        break;
      case 28:
        this.$ = [a11[s11 - 2], ...a11[s11]];
        break;
      case 29:
        this.$ = [a11[s11]];
        break;
      case 30:
        i11.setYAxisTitle(a11[s11]);
        break;
      case 31:
        i11.setYAxisTitle(a11[s11 - 1]);
        break;
      case 32:
        i11.setYAxisTitle({ type: "text", text: "" });
        break;
      case 33:
        i11.setYAxisRangeData(Number(a11[s11 - 2]), Number(a11[s11]));
        break;
      case 37:
      case 38:
        this.$ = { text: a11[s11], type: "text" };
        break;
      case 39:
        this.$ = { text: a11[s11], type: "markdown" };
        break;
      case 40:
        this.$ = a11[s11];
        break;
      case 41:
        this.$ = a11[s11 - 1] + "" + a11[s11];
    }
  }, "anonymous"), table: [t33(e10, r10, { 3: 1, 4: 2, 7: 4, 5: i10, 34: n10, 35: a10, 36: o10 }), { 1: [3] }, t33(e10, r10, { 4: 2, 7: 4, 3: 8, 5: i10, 34: n10, 35: a10, 36: o10 }), t33(e10, r10, { 4: 2, 7: 4, 6: 9, 3: 10, 5: i10, 8: [1, 11], 34: n10, 35: a10, 36: o10 }), { 1: [2, 4], 9: 12, 10: [1, 13], 12: [1, 14], 14: [1, 15], 16: [1, 16], 18: [1, 17], 19: [1, 18], 21: [1, 19], 23: [1, 20] }, t33(s10, [2, 34]), t33(s10, [2, 35]), t33(s10, [2, 36]), { 1: [2, 1] }, t33(e10, r10, { 4: 2, 7: 4, 3: 21, 5: i10, 34: n10, 35: a10, 36: o10 }), { 1: [2, 3] }, t33(s10, [2, 5]), t33(e10, [2, 7], { 4: 22, 34: n10, 35: a10, 36: o10 }), { 11: 23, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }, { 11: 39, 13: 38, 24: k10, 27: _10, 29: 40, 30: 41, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }, { 11: 45, 15: 44, 27: T10, 33: 46, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }, { 11: 49, 17: 48, 24: E10, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }, { 11: 52, 17: 51, 24: E10, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }, { 20: [1, 53] }, { 22: [1, 54] }, t33(C10, [2, 18]), { 1: [2, 2] }, t33(C10, [2, 8]), t33(C10, [2, 9]), t33(S10, [2, 37], { 40: 55, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }), t33(S10, [2, 38]), t33(S10, [2, 39]), t33(A10, [2, 40]), t33(A10, [2, 42]), t33(A10, [2, 43]), t33(A10, [2, 44]), t33(A10, [2, 45]), t33(A10, [2, 46]), t33(A10, [2, 47]), t33(A10, [2, 48]), t33(A10, [2, 49]), t33(A10, [2, 50]), t33(A10, [2, 51]), t33(C10, [2, 10]), t33(C10, [2, 22], { 30: 41, 29: 56, 24: k10, 27: _10 }), t33(C10, [2, 24]), t33(C10, [2, 25]), { 31: [1, 57] }, { 11: 59, 32: 58, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }, t33(C10, [2, 11]), t33(C10, [2, 30], { 33: 60, 27: T10 }), t33(C10, [2, 32]), { 31: [1, 61] }, t33(C10, [2, 12]), { 17: 62, 24: E10 }, { 25: 63, 27: L10 }, t33(C10, [2, 14]), { 17: 65, 24: E10 }, t33(C10, [2, 16]), t33(C10, [2, 17]), t33(A10, [2, 41]), t33(C10, [2, 23]), { 27: [1, 66] }, { 26: [1, 67] }, { 26: [2, 29], 28: [1, 68] }, t33(C10, [2, 31]), { 27: [1, 69] }, t33(C10, [2, 13]), { 26: [1, 70] }, { 26: [2, 21], 28: [1, 71] }, t33(C10, [2, 15]), t33(C10, [2, 26]), t33(C10, [2, 27]), { 11: 59, 32: 72, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: g10, 45: f10, 46: y10, 47: v10, 48: x10, 49: b10, 50: w10 }, t33(C10, [2, 33]), t33(C10, [2, 19]), { 25: 73, 27: L10 }, { 26: [2, 28] }, { 26: [2, 20] }], defaultActions: { 8: [2, 1], 10: [2, 3], 21: [2, 2], 72: [2, 28], 73: [2, 20] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, I10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
      case 1:
      case 5:
      case 43:
        break;
      case 2:
      case 3:
        return this.popState(), 34;
      case 4:
        return 34;
      case 6:
        return 10;
      case 7:
        return this.pushState("acc_title"), 19;
      case 8:
        return this.popState(), "acc_title_value";
      case 9:
        return this.pushState("acc_descr"), 21;
      case 10:
        return this.popState(), "acc_descr_value";
      case 11:
        this.pushState("acc_descr_multiline");
        break;
      case 12:
      case 25:
      case 27:
        this.popState();
        break;
      case 13:
        return "acc_descr_multiline_value";
      case 14:
        return 5;
      case 15:
        return 8;
      case 16:
        return this.pushState("axis_data"), "X_AXIS";
      case 17:
        return this.pushState("axis_data"), "Y_AXIS";
      case 18:
        return this.pushState("axis_band_data"), 24;
      case 19:
        return 31;
      case 20:
        return this.pushState("data"), 16;
      case 21:
        return this.pushState("data"), 18;
      case 22:
        return this.pushState("data_inner"), 24;
      case 23:
        return 27;
      case 24:
        return this.popState(), 26;
      case 26:
        this.pushState("string");
        break;
      case 28:
        return "STR";
      case 29:
        return 24;
      case 30:
        return 26;
      case 31:
        return 43;
      case 32:
        return "COLON";
      case 33:
        return 44;
      case 34:
        return 28;
      case 35:
        return 45;
      case 36:
        return 46;
      case 37:
        return 48;
      case 38:
        return 50;
      case 39:
        return 47;
      case 40:
        return 41;
      case 41:
        return 49;
      case 42:
        return 42;
      case 44:
        return 35;
      case 45:
        return 36;
    }
  }, "anonymous"), rules: [/^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:(\r?\n))/i, /^(?:(\r?\n))/i, /^(?:[\n\r]+)/i, /^(?:%%[^\n]*)/i, /^(?:title\b)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:\{)/i, /^(?:[^\}]*)/i, /^(?:xychart-beta\b)/i, /^(?:(?:vertical|horizontal))/i, /^(?:x-axis\b)/i, /^(?:y-axis\b)/i, /^(?:\[)/i, /^(?:-->)/i, /^(?:line\b)/i, /^(?:bar\b)/i, /^(?:\[)/i, /^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i, /^(?:\])/i, /^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:\[)/i, /^(?:\])/i, /^(?:[A-Za-z]+)/i, /^(?::)/i, /^(?:\+)/i, /^(?:,)/i, /^(?:=)/i, /^(?:\*)/i, /^(?:#)/i, /^(?:[\_])/i, /^(?:\.)/i, /^(?:&)/i, /^(?:-)/i, /^(?:[0-9]+)/i, /^(?:\s+)/i, /^(?:;)/i, /^(?:$)/i], conditions: { data_inner: { rules: [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, data: { rules: [0, 1, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 22, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, axis_band_data: { rules: [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 24, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, axis_data: { rules: [0, 1, 2, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 19, 20, 21, 23, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, acc_descr_multiline: { rules: [12, 13], inclusive: false }, acc_descr: { rules: [10], inclusive: false }, acc_title: { rules: [8], inclusive: false }, title: { rules: [], inclusive: false }, md_string: { rules: [], inclusive: false }, string: { rules: [27, 28], inclusive: false }, INITIAL: { rules: [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true } } };
  function M10() {
    this.yy = {};
  }
  return N10.lexer = I10, iZ(M10, "Parser"), M10.prototype = N10, N10.Parser = M10, new M10();
}();
function BG(t33) {
  return "bar" === t33.type;
}
function Bq(t33) {
  return "band" === t33.type;
}
function BY(t33) {
  return "linear" === t33.type;
}
BU.parser = BU, iZ(BG, "isBarPlot"), iZ(Bq, "isBandAxisData"), iZ(BY, "isLinearAxisData");
var BH = (_A2 = class {
  constructor(t33) {
    this.parentGroup = t33;
  }
  getMaxDimension(t33, e10) {
    if (!this.parentGroup) return { width: t33.reduce((t34, e11) => Math.max(e11.length, t34), 0) * e10, height: e10 };
    let r10 = { width: 0, height: 0 }, i10 = this.parentGroup.append("g").attr("visibility", "hidden").attr("font-size", e10);
    for (let n10 of t33) {
      let t34 = fU(i10, 1, n10), a10 = t34 ? t34.width : n10.length * e10, o10 = t34 ? t34.height : e10;
      r10.width = Math.max(r10.width, a10), r10.height = Math.max(r10.height, o10);
    }
    return i10.remove(), r10;
  }
}, _n29 = new WeakMap(), __privateAdd(_A2, _n29, iZ(_A2, "TextDimensionCalculatorWithFont")), _A2), Bj = (_B2 = class {
  constructor(t33, e10, r10, i10) {
    this.axisConfig = t33, this.title = e10, this.textDimensionCalculator = r10, this.axisThemeConfig = i10, this.boundingRect = { x: 0, y: 0, width: 0, height: 0 }, this.axisPosition = "left", this.showTitle = false, this.showLabel = false, this.showTick = false, this.showAxisLine = false, this.outerPadding = 0, this.titleTextHeight = 0, this.labelTextHeight = 0, this.range = [0, 10], this.boundingRect = { x: 0, y: 0, width: 0, height: 0 }, this.axisPosition = "left";
  }
  setRange(t33) {
    this.range = t33, "left" === this.axisPosition || "right" === this.axisPosition ? this.boundingRect.height = t33[1] - t33[0] : this.boundingRect.width = t33[1] - t33[0], this.recalculateScale();
  }
  getRange() {
    return [this.range[0] + this.outerPadding, this.range[1] - this.outerPadding];
  }
  setAxisPosition(t33) {
    this.axisPosition = t33, this.setRange(this.range);
  }
  getTickDistance() {
    let t33 = this.getRange();
    return Math.abs(t33[0] - t33[1]) / this.getTickValues().length;
  }
  getAxisOuterPadding() {
    return this.outerPadding;
  }
  getLabelDimension() {
    return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map((t33) => t33.toString()), this.axisConfig.labelFontSize);
  }
  recalculateOuterPaddingToDrawBar() {
    0.7 * this.getTickDistance() > 2 * this.outerPadding && (this.outerPadding = Math.floor(0.7 * this.getTickDistance() / 2)), this.recalculateScale();
  }
  calculateSpaceIfDrawnHorizontally(t33) {
    let e10 = t33.height;
    if (this.axisConfig.showAxisLine && e10 > this.axisConfig.axisLineWidth && (e10 -= this.axisConfig.axisLineWidth, this.showAxisLine = true), this.axisConfig.showLabel) {
      let r10 = this.getLabelDimension(), i10 = 0.2 * t33.width;
      this.outerPadding = Math.min(r10.width / 2, i10);
      let n10 = r10.height + 2 * this.axisConfig.labelPadding;
      this.labelTextHeight = r10.height, n10 <= e10 && (e10 -= n10, this.showLabel = true);
    }
    if (this.axisConfig.showTick && e10 >= this.axisConfig.tickLength && (this.showTick = true, e10 -= this.axisConfig.tickLength), this.axisConfig.showTitle && this.title) {
      let t34 = this.textDimensionCalculator.getMaxDimension([this.title], this.axisConfig.titleFontSize), r10 = t34.height + 2 * this.axisConfig.titlePadding;
      this.titleTextHeight = t34.height, r10 <= e10 && (e10 -= r10, this.showTitle = true);
    }
    this.boundingRect.width = t33.width, this.boundingRect.height = t33.height - e10;
  }
  calculateSpaceIfDrawnVertical(t33) {
    let e10 = t33.width;
    if (this.axisConfig.showAxisLine && e10 > this.axisConfig.axisLineWidth && (e10 -= this.axisConfig.axisLineWidth, this.showAxisLine = true), this.axisConfig.showLabel) {
      let r10 = this.getLabelDimension(), i10 = 0.2 * t33.height;
      this.outerPadding = Math.min(r10.height / 2, i10);
      let n10 = r10.width + 2 * this.axisConfig.labelPadding;
      n10 <= e10 && (e10 -= n10, this.showLabel = true);
    }
    if (this.axisConfig.showTick && e10 >= this.axisConfig.tickLength && (this.showTick = true, e10 -= this.axisConfig.tickLength), this.axisConfig.showTitle && this.title) {
      let t34 = this.textDimensionCalculator.getMaxDimension([this.title], this.axisConfig.titleFontSize), r10 = t34.height + 2 * this.axisConfig.titlePadding;
      this.titleTextHeight = t34.height, r10 <= e10 && (e10 -= r10, this.showTitle = true);
    }
    this.boundingRect.width = t33.width - e10, this.boundingRect.height = t33.height;
  }
  calculateSpace(t33) {
    return "left" === this.axisPosition || "right" === this.axisPosition ? this.calculateSpaceIfDrawnVertical(t33) : this.calculateSpaceIfDrawnHorizontally(t33), this.recalculateScale(), { width: this.boundingRect.width, height: this.boundingRect.height };
  }
  setBoundingBoxXY(t33) {
    this.boundingRect.x = t33.x, this.boundingRect.y = t33.y;
  }
  getDrawableElementsForLeftAxis() {
    let t33 = [];
    if (this.showAxisLine) {
      let e10 = this.boundingRect.x + this.boundingRect.width - this.axisConfig.axisLineWidth / 2;
      t33.push({ type: "path", groupTexts: ["left-axis", "axisl-line"], data: [{ path: `M ${e10},${this.boundingRect.y} L ${e10},${this.boundingRect.y + this.boundingRect.height} `, strokeFill: this.axisThemeConfig.axisLineColor, strokeWidth: this.axisConfig.axisLineWidth }] });
    }
    if (this.showLabel && t33.push({ type: "text", groupTexts: ["left-axis", "label"], data: this.getTickValues().map((t34) => ({ text: t34.toString(), x: this.boundingRect.x + this.boundingRect.width - (this.showLabel ? this.axisConfig.labelPadding : 0) - (this.showTick ? this.axisConfig.tickLength : 0) - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0), y: this.getScaleValue(t34), fill: this.axisThemeConfig.labelColor, fontSize: this.axisConfig.labelFontSize, rotation: 0, verticalPos: "middle", horizontalPos: "right" })) }), this.showTick) {
      let e10 = this.boundingRect.x + this.boundingRect.width - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0);
      t33.push({ type: "path", groupTexts: ["left-axis", "ticks"], data: this.getTickValues().map((t34) => ({ path: `M ${e10},${this.getScaleValue(t34)} L ${e10 - this.axisConfig.tickLength},${this.getScaleValue(t34)}`, strokeFill: this.axisThemeConfig.tickColor, strokeWidth: this.axisConfig.tickWidth })) });
    }
    return this.showTitle && t33.push({ type: "text", groupTexts: ["left-axis", "title"], data: [{ text: this.title, x: this.boundingRect.x + this.axisConfig.titlePadding, y: this.boundingRect.y + this.boundingRect.height / 2, fill: this.axisThemeConfig.titleColor, fontSize: this.axisConfig.titleFontSize, rotation: 270, verticalPos: "top", horizontalPos: "center" }] }), t33;
  }
  getDrawableElementsForBottomAxis() {
    let t33 = [];
    if (this.showAxisLine) {
      let e10 = this.boundingRect.y + this.axisConfig.axisLineWidth / 2;
      t33.push({ type: "path", groupTexts: ["bottom-axis", "axis-line"], data: [{ path: `M ${this.boundingRect.x},${e10} L ${this.boundingRect.x + this.boundingRect.width},${e10}`, strokeFill: this.axisThemeConfig.axisLineColor, strokeWidth: this.axisConfig.axisLineWidth }] });
    }
    if (this.showLabel && t33.push({ type: "text", groupTexts: ["bottom-axis", "label"], data: this.getTickValues().map((t34) => ({ text: t34.toString(), x: this.getScaleValue(t34), y: this.boundingRect.y + this.axisConfig.labelPadding + (this.showTick ? this.axisConfig.tickLength : 0) + (this.showAxisLine ? this.axisConfig.axisLineWidth : 0), fill: this.axisThemeConfig.labelColor, fontSize: this.axisConfig.labelFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" })) }), this.showTick) {
      let e10 = this.boundingRect.y + (this.showAxisLine ? this.axisConfig.axisLineWidth : 0);
      t33.push({ type: "path", groupTexts: ["bottom-axis", "ticks"], data: this.getTickValues().map((t34) => ({ path: `M ${this.getScaleValue(t34)},${e10} L ${this.getScaleValue(t34)},${e10 + this.axisConfig.tickLength}`, strokeFill: this.axisThemeConfig.tickColor, strokeWidth: this.axisConfig.tickWidth })) });
    }
    return this.showTitle && t33.push({ type: "text", groupTexts: ["bottom-axis", "title"], data: [{ text: this.title, x: this.range[0] + (this.range[1] - this.range[0]) / 2, y: this.boundingRect.y + this.boundingRect.height - this.axisConfig.titlePadding - this.titleTextHeight, fill: this.axisThemeConfig.titleColor, fontSize: this.axisConfig.titleFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" }] }), t33;
  }
  getDrawableElementsForTopAxis() {
    let t33 = [];
    if (this.showAxisLine) {
      let e10 = this.boundingRect.y + this.boundingRect.height - this.axisConfig.axisLineWidth / 2;
      t33.push({ type: "path", groupTexts: ["top-axis", "axis-line"], data: [{ path: `M ${this.boundingRect.x},${e10} L ${this.boundingRect.x + this.boundingRect.width},${e10}`, strokeFill: this.axisThemeConfig.axisLineColor, strokeWidth: this.axisConfig.axisLineWidth }] });
    }
    if (this.showLabel && t33.push({ type: "text", groupTexts: ["top-axis", "label"], data: this.getTickValues().map((t34) => ({ text: t34.toString(), x: this.getScaleValue(t34), y: this.boundingRect.y + (this.showTitle ? this.titleTextHeight + 2 * this.axisConfig.titlePadding : 0) + this.axisConfig.labelPadding, fill: this.axisThemeConfig.labelColor, fontSize: this.axisConfig.labelFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" })) }), this.showTick) {
      let e10 = this.boundingRect.y;
      t33.push({ type: "path", groupTexts: ["top-axis", "ticks"], data: this.getTickValues().map((t34) => ({ path: `M ${this.getScaleValue(t34)},${e10 + this.boundingRect.height - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0)} L ${this.getScaleValue(t34)},${e10 + this.boundingRect.height - this.axisConfig.tickLength - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0)}`, strokeFill: this.axisThemeConfig.tickColor, strokeWidth: this.axisConfig.tickWidth })) });
    }
    return this.showTitle && t33.push({ type: "text", groupTexts: ["top-axis", "title"], data: [{ text: this.title, x: this.boundingRect.x + this.boundingRect.width / 2, y: this.boundingRect.y + this.axisConfig.titlePadding, fill: this.axisThemeConfig.titleColor, fontSize: this.axisConfig.titleFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" }] }), t33;
  }
  getDrawableElements() {
    if ("left" === this.axisPosition) return this.getDrawableElementsForLeftAxis();
    if ("right" === this.axisPosition) throw Error("Drawing of right axis is not implemented");
    return "bottom" === this.axisPosition ? this.getDrawableElementsForBottomAxis() : "top" === this.axisPosition ? this.getDrawableElementsForTopAxis() : [];
  }
}, _n30 = new WeakMap(), __privateAdd(_B2, _n30, iZ(_B2, "BaseAxis")), _B2), BW = (_C2 = class extends Bj {
  constructor(t33, e10, r10, i10, n10) {
    super(t33, i10, n10, e10), this.categories = r10, this.scale = un().domain(this.categories).range(this.getRange());
  }
  setRange(t33) {
    super.setRange(t33);
  }
  recalculateScale() {
    this.scale = un().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(0.5), i0.trace("BandAxis axis final categories, range: ", this.categories, this.getRange());
  }
  getTickValues() {
    return this.categories;
  }
  getScaleValue(t33) {
    var e10;
    return null !== (e10 = this.scale(t33)) && void 0 !== e10 ? e10 : this.getRange()[0];
  }
}, _n31 = new WeakMap(), __privateAdd(_C2, _n31, iZ(_C2, "BandAxis")), _C2), BV = (_D2 = class extends Bj {
  constructor(t33, e10, r10, i10, n10) {
    super(t33, i10, n10, e10), this.domain = r10, this.scale = up().domain(this.domain).range(this.getRange());
  }
  getTickValues() {
    return this.scale.ticks();
  }
  recalculateScale() {
    let t33 = [...this.domain];
    "left" === this.axisPosition && t33.reverse(), this.scale = up().domain(t33).range(this.getRange());
  }
  getScaleValue(t33) {
    return this.scale(t33);
  }
}, _n32 = new WeakMap(), __privateAdd(_D2, _n32, iZ(_D2, "LinearAxis")), _D2);
function BX(t33, e10, r10, i10) {
  let n10 = new BH(i10);
  return Bq(t33) ? new BW(e10, r10, t33.categories, t33.title, n10) : new BV(e10, r10, [t33.min, t33.max], t33.title, n10);
}
iZ(BX, "getAxis");
var BK = (_E2 = class {
  constructor(t33, e10, r10, i10) {
    this.textDimensionCalculator = t33, this.chartConfig = e10, this.chartData = r10, this.chartThemeConfig = i10, this.boundingRect = { x: 0, y: 0, width: 0, height: 0 }, this.showChartTitle = false;
  }
  setBoundingBoxXY(t33) {
    this.boundingRect.x = t33.x, this.boundingRect.y = t33.y;
  }
  calculateSpace(t33) {
    let e10 = this.textDimensionCalculator.getMaxDimension([this.chartData.title], this.chartConfig.titleFontSize), r10 = Math.max(e10.width, t33.width), i10 = e10.height + 2 * this.chartConfig.titlePadding;
    return e10.width <= r10 && e10.height <= i10 && this.chartConfig.showTitle && this.chartData.title && (this.boundingRect.width = r10, this.boundingRect.height = i10, this.showChartTitle = true), { width: this.boundingRect.width, height: this.boundingRect.height };
  }
  getDrawableElements() {
    let t33 = [];
    return this.showChartTitle && t33.push({ groupTexts: ["chart-title"], type: "text", data: [{ fontSize: this.chartConfig.titleFontSize, text: this.chartData.title, verticalPos: "middle", horizontalPos: "center", x: this.boundingRect.x + this.boundingRect.width / 2, y: this.boundingRect.y + this.boundingRect.height / 2, fill: this.chartThemeConfig.titleColor, rotation: 0 }] }), t33;
  }
}, _n33 = new WeakMap(), __privateAdd(_E2, _n33, iZ(_E2, "ChartTitle")), _E2);
function BZ(t33, e10, r10, i10) {
  return new BK(new BH(i10), t33, e10, r10);
}
iZ(BZ, "getChartTitleComponent");
var BQ = (_F2 = class {
  constructor(t33, e10, r10, i10, n10) {
    this.plotData = t33, this.xAxis = e10, this.yAxis = r10, this.orientation = i10, this.plotIndex = n10;
  }
  getDrawableElement() {
    let t33;
    let e10 = this.plotData.data.map((t34) => [this.xAxis.getScaleValue(t34[0]), this.yAxis.getScaleValue(t34[1])]);
    return (t33 = "horizontal" === this.orientation ? px().y((t34) => t34[0]).x((t34) => t34[1])(e10) : px().x((t34) => t34[0]).y((t34) => t34[1])(e10)) ? [{ groupTexts: ["plot", `line-plot-${this.plotIndex}`], type: "path", data: [{ path: t33, strokeFill: this.plotData.strokeFill, strokeWidth: this.plotData.strokeWidth }] }] : [];
  }
}, _n34 = new WeakMap(), __privateAdd(_F2, _n34, iZ(_F2, "LinePlot")), _F2), BJ = (_G2 = class {
  constructor(t33, e10, r10, i10, n10, a10) {
    this.barData = t33, this.boundingRect = e10, this.xAxis = r10, this.yAxis = i10, this.orientation = n10, this.plotIndex = a10;
  }
  getDrawableElement() {
    let t33 = this.barData.data.map((t34) => [this.xAxis.getScaleValue(t34[0]), this.yAxis.getScaleValue(t34[1])]), e10 = 0.95 * Math.min(2 * this.xAxis.getAxisOuterPadding(), this.xAxis.getTickDistance()), r10 = e10 / 2;
    return "horizontal" === this.orientation ? [{ groupTexts: ["plot", `bar-plot-${this.plotIndex}`], type: "rect", data: t33.map((t34) => ({ x: this.boundingRect.x, y: t34[0] - r10, height: e10, width: t34[1] - this.boundingRect.x, fill: this.barData.fill, strokeWidth: 0, strokeFill: this.barData.fill })) }] : [{ groupTexts: ["plot", `bar-plot-${this.plotIndex}`], type: "rect", data: t33.map((t34) => ({ x: t34[0] - r10, y: t34[1], width: e10, height: this.boundingRect.y + this.boundingRect.height - t34[1], fill: this.barData.fill, strokeWidth: 0, strokeFill: this.barData.fill })) }];
  }
}, _n35 = new WeakMap(), __privateAdd(_G2, _n35, iZ(_G2, "BarPlot")), _G2), B0 = (_H2 = class {
  constructor(t33, e10, r10) {
    this.chartConfig = t33, this.chartData = e10, this.chartThemeConfig = r10, this.boundingRect = { x: 0, y: 0, width: 0, height: 0 };
  }
  setAxes(t33, e10) {
    this.xAxis = t33, this.yAxis = e10;
  }
  setBoundingBoxXY(t33) {
    this.boundingRect.x = t33.x, this.boundingRect.y = t33.y;
  }
  calculateSpace(t33) {
    return this.boundingRect.width = t33.width, this.boundingRect.height = t33.height, { width: this.boundingRect.width, height: this.boundingRect.height };
  }
  getDrawableElements() {
    if (!(this.xAxis && this.yAxis)) throw Error("Axes must be passed to render Plots");
    let t33 = [];
    for (let [e10, r10] of this.chartData.plots.entries()) switch (r10.type) {
      case "line":
        {
          let i10 = new BQ(r10, this.xAxis, this.yAxis, this.chartConfig.chartOrientation, e10);
          t33.push(...i10.getDrawableElement());
        }
        break;
      case "bar": {
        let i10 = new BJ(r10, this.boundingRect, this.xAxis, this.yAxis, this.chartConfig.chartOrientation, e10);
        t33.push(...i10.getDrawableElement());
      }
    }
    return t33;
  }
}, _n36 = new WeakMap(), __privateAdd(_H2, _n36, iZ(_H2, "BasePlot")), _H2);
function B1(t33, e10, r10) {
  return new B0(t33, e10, r10);
}
iZ(B1, "getPlotComponent");
var B2 = (_I2 = class {
  constructor(t33, e10, r10, i10) {
    this.chartConfig = t33, this.chartData = e10, this.componentStore = { title: BZ(t33, e10, r10, i10), plot: B1(t33, e10, r10), xAxis: BX(e10.xAxis, t33.xAxis, { titleColor: r10.xAxisTitleColor, labelColor: r10.xAxisLabelColor, tickColor: r10.xAxisTickColor, axisLineColor: r10.xAxisLineColor }, i10), yAxis: BX(e10.yAxis, t33.yAxis, { titleColor: r10.yAxisTitleColor, labelColor: r10.yAxisLabelColor, tickColor: r10.yAxisTickColor, axisLineColor: r10.yAxisLineColor }, i10) };
  }
  calculateVerticalSpace() {
    let t33 = this.chartConfig.width, e10 = this.chartConfig.height, r10 = 0, i10 = 0, n10 = Math.floor(t33 * this.chartConfig.plotReservedSpacePercent / 100), a10 = Math.floor(e10 * this.chartConfig.plotReservedSpacePercent / 100), o10 = this.componentStore.plot.calculateSpace({ width: n10, height: a10 });
    t33 -= o10.width, e10 -= o10.height, i10 = (o10 = this.componentStore.title.calculateSpace({ width: this.chartConfig.width, height: e10 })).height, e10 -= o10.height, this.componentStore.xAxis.setAxisPosition("bottom"), o10 = this.componentStore.xAxis.calculateSpace({ width: t33, height: e10 }), e10 -= o10.height, this.componentStore.yAxis.setAxisPosition("left"), r10 = (o10 = this.componentStore.yAxis.calculateSpace({ width: t33, height: e10 })).width, (t33 -= o10.width) > 0 && (n10 += t33, t33 = 0), e10 > 0 && (a10 += e10, e10 = 0), this.componentStore.plot.calculateSpace({ width: n10, height: a10 }), this.componentStore.plot.setBoundingBoxXY({ x: r10, y: i10 }), this.componentStore.xAxis.setRange([r10, r10 + n10]), this.componentStore.xAxis.setBoundingBoxXY({ x: r10, y: i10 + a10 }), this.componentStore.yAxis.setRange([i10, i10 + a10]), this.componentStore.yAxis.setBoundingBoxXY({ x: 0, y: i10 }), this.chartData.plots.some((t34) => BG(t34)) && this.componentStore.xAxis.recalculateOuterPaddingToDrawBar();
  }
  calculateHorizontalSpace() {
    let t33 = this.chartConfig.width, e10 = this.chartConfig.height, r10 = 0, i10 = 0, n10 = 0, a10 = Math.floor(t33 * this.chartConfig.plotReservedSpacePercent / 100), o10 = Math.floor(e10 * this.chartConfig.plotReservedSpacePercent / 100), s10 = this.componentStore.plot.calculateSpace({ width: a10, height: o10 });
    t33 -= s10.width, e10 -= s10.height, r10 = (s10 = this.componentStore.title.calculateSpace({ width: this.chartConfig.width, height: e10 })).height, e10 -= s10.height, this.componentStore.xAxis.setAxisPosition("left"), s10 = this.componentStore.xAxis.calculateSpace({ width: t33, height: e10 }), t33 -= s10.width, i10 = s10.width, this.componentStore.yAxis.setAxisPosition("top"), s10 = this.componentStore.yAxis.calculateSpace({ width: t33, height: e10 }), e10 -= s10.height, n10 = r10 + s10.height, t33 > 0 && (a10 += t33, t33 = 0), e10 > 0 && (o10 += e10, e10 = 0), this.componentStore.plot.calculateSpace({ width: a10, height: o10 }), this.componentStore.plot.setBoundingBoxXY({ x: i10, y: n10 }), this.componentStore.yAxis.setRange([i10, i10 + a10]), this.componentStore.yAxis.setBoundingBoxXY({ x: i10, y: r10 }), this.componentStore.xAxis.setRange([n10, n10 + o10]), this.componentStore.xAxis.setBoundingBoxXY({ x: 0, y: n10 }), this.chartData.plots.some((t34) => BG(t34)) && this.componentStore.xAxis.recalculateOuterPaddingToDrawBar();
  }
  calculateSpace() {
    "horizontal" === this.chartConfig.chartOrientation ? this.calculateHorizontalSpace() : this.calculateVerticalSpace();
  }
  getDrawableElement() {
    this.calculateSpace();
    let t33 = [];
    for (let e10 of (this.componentStore.plot.setAxes(this.componentStore.xAxis, this.componentStore.yAxis), Object.values(this.componentStore))) t33.push(...e10.getDrawableElements());
    return t33;
  }
}, _n37 = new WeakMap(), __privateAdd(_I2, _n37, iZ(_I2, "Orchestrator")), _I2), B4 = (_J2 = class {
  static build(t33, e10, r10, i10) {
    return new B2(t33, e10, r10, i10).getDrawableElement();
  }
}, _n38 = new WeakMap(), __privateAdd(_J2, _n38, iZ(_J2, "XYChartBuilder")), _J2), B5 = 0, B3 = Fr(), B6 = Fe(), B7 = Fi(), B8 = B6.plotColorPalette.split(",").map((t33) => t33.trim()), B9 = false, Ft = false;
function Fe() {
  let t33 = nu(), e10 = nM();
  return g_(t33.xyChart, e10.themeVariables.xyChart);
}
function Fr() {
  let t33 = nM();
  return g_(ny.xyChart, t33.xyChart);
}
function Fi() {
  return { yAxis: { type: "linear", title: "", min: 1 / 0, max: -1 / 0 }, xAxis: { type: "band", title: "", categories: [] }, title: "", plots: [] };
}
function Fn(t33) {
  let e10 = nM();
  return nj(t33.trim(), e10);
}
function Fa(t33) {
  tey = t33;
}
function Fo(t33) {
  "horizontal" === t33 ? B3.chartOrientation = "horizontal" : B3.chartOrientation = "vertical";
}
function Fs(t33) {
  B7.xAxis.title = Fn(t33.text);
}
function Fl(t33, e10) {
  B7.xAxis = { type: "linear", title: B7.xAxis.title, min: t33, max: e10 }, B9 = true;
}
function Fh(t33) {
  B7.xAxis = { type: "band", title: B7.xAxis.title, categories: t33.map((t34) => Fn(t34.text)) }, B9 = true;
}
function Fc(t33) {
  B7.yAxis.title = Fn(t33.text);
}
function Fu(t33, e10) {
  B7.yAxis = { type: "linear", title: B7.yAxis.title, min: t33, max: e10 }, Ft = true;
}
function Fd(t33) {
  let e10 = Math.min(...t33), r10 = Math.max(...t33), i10 = BY(B7.yAxis) ? B7.yAxis.min : 1 / 0, n10 = BY(B7.yAxis) ? B7.yAxis.max : -1 / 0;
  B7.yAxis = { type: "linear", title: B7.yAxis.title, min: Math.min(i10, e10), max: Math.max(n10, r10) };
}
function Fp(t33) {
  let e10 = [];
  if (0 === t33.length) return e10;
  if (B9 || Fl(Math.min(BY(B7.xAxis) ? B7.xAxis.min : 1 / 0, 1), Math.max(BY(B7.xAxis) ? B7.xAxis.max : -1 / 0, t33.length)), Ft || Fd(t33), Bq(B7.xAxis) && (e10 = B7.xAxis.categories.map((e11, r10) => [e11, t33[r10]])), BY(B7.xAxis)) {
    let r10 = B7.xAxis.min, i10 = B7.xAxis.max, n10 = (i10 - r10) / (t33.length - 1), a10 = [];
    for (let t34 = r10; t34 <= i10; t34 += n10) a10.push(`${t34}`);
    e10 = a10.map((e11, r11) => [e11, t33[r11]]);
  }
  return e10;
}
function Fg(t33) {
  return B8[0 === t33 ? 0 : t33 % B8.length];
}
function Ff(t33, e10) {
  let r10 = Fp(e10);
  B7.plots.push({ type: "line", strokeFill: Fg(B5), strokeWidth: 2, data: r10 }), B5++;
}
function Fm(t33, e10) {
  let r10 = Fp(e10);
  B7.plots.push({ type: "bar", fill: Fg(B5), data: r10 }), B5++;
}
function Fy() {
  if (0 === B7.plots.length) throw Error("No Plot to render, please provide a plot with some data");
  return B7.title = ab(), B4.build(B3, B7, B6, tey);
}
function Fv() {
  return B6;
}
function Fx() {
  return B3;
}
iZ(Fe, "getChartDefaultThemeConfig"), iZ(Fr, "getChartDefaultConfig"), iZ(Fi, "getChartDefaultData"), iZ(Fn, "textSanitizer"), iZ(Fa, "setTmpSVGG"), iZ(Fo, "setOrientation"), iZ(Fs, "setXAxisTitle"), iZ(Fl, "setXAxisRangeData"), iZ(Fh, "setXAxisBand"), iZ(Fc, "setYAxisTitle"), iZ(Fu, "setYAxisRangeData"), iZ(Fd, "setYAxisRangeFromPlotData"), iZ(Fp, "transformDataWithoutCategory"), iZ(Fg, "getPlotColorFromPalette"), iZ(Ff, "setLineData"), iZ(Fm, "setBarData"), iZ(Fy, "getDrawableElem"), iZ(Fv, "getChartThemeConfig"), iZ(Fx, "getChartConfig");
let Fb = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: BU, db: { getDrawableElem: Fy, clear: iZ(function() {
  ag(), B5 = 0, B3 = Fr(), B7 = Fi(), B8 = (B6 = Fe()).plotColorPalette.split(",").map((t33) => t33.trim()), B9 = false, Ft = false;
}, "clear"), setAccTitle: af, getAccTitle: am, setDiagramTitle: ax, getDiagramTitle: ab, getAccDescription: av, setAccDescription: ay, setOrientation: Fo, setXAxisTitle: Fs, setXAxisRangeData: Fl, setXAxisBand: Fh, setYAxisTitle: Fc, setYAxisRangeData: Fu, setLineData: Ff, setBarData: Fm, setTmpSVGG: Fa, getChartThemeConfig: Fv, getChartConfig: Fx }, renderer: { draw: iZ((t33, e10, r10, i10) => {
  let n10 = i10.db, a10 = n10.getChartThemeConfig(), o10 = n10.getChartConfig();
  function s10(t34) {
    return "top" === t34 ? "text-before-edge" : "middle";
  }
  function l10(t34) {
    return "left" === t34 ? "start" : "right" === t34 ? "end" : "middle";
  }
  function h10(t34) {
    return `translate(${t34.x}, ${t34.y}) rotate(${t34.rotation || 0})`;
  }
  iZ(s10, "getDominantBaseLine"), iZ(l10, "getTextAnchor"), iZ(h10, "getTextTransformation"), i0.debug("Rendering xychart chart\n" + t33);
  let u10 = vW(e10), d10 = u10.append("g").attr("class", "main"), p10 = d10.append("rect").attr("width", o10.width).attr("height", o10.height).attr("class", "background");
  an(u10, o10.height, o10.width, true), u10.attr("viewBox", `0 0 ${o10.width} ${o10.height}`), p10.attr("fill", a10.backgroundColor), n10.setTmpSVGG(u10.append("g").attr("class", "mermaid-tmp-group"));
  let g10 = n10.getDrawableElem(), f10 = {};
  function y10(t34) {
    let e11 = d10, r11 = "";
    for (let [i11] of t34.entries()) {
      let n11 = d10;
      i11 > 0 && f10[r11] && (n11 = f10[r11]), r11 += t34[i11], (e11 = f10[r11]) || (e11 = f10[r11] = n11.append("g").attr("class", t34[i11]));
    }
    return e11;
  }
  for (let t34 of (iZ(y10, "getGroup"), g10)) {
    if (0 === t34.data.length) continue;
    let e11 = y10(t34.groupTexts);
    switch (t34.type) {
      case "rect":
        e11.selectAll("rect").data(t34.data).enter().append("rect").attr("x", (t35) => t35.x).attr("y", (t35) => t35.y).attr("width", (t35) => t35.width).attr("height", (t35) => t35.height).attr("fill", (t35) => t35.fill).attr("stroke", (t35) => t35.strokeFill).attr("stroke-width", (t35) => t35.strokeWidth);
        break;
      case "text":
        e11.selectAll("text").data(t34.data).enter().append("text").attr("x", 0).attr("y", 0).attr("fill", (t35) => t35.fill).attr("font-size", (t35) => t35.fontSize).attr("dominant-baseline", (t35) => s10(t35.verticalPos)).attr("text-anchor", (t35) => l10(t35.horizontalPos)).attr("transform", (t35) => h10(t35)).text((t35) => t35.text);
        break;
      case "path":
        e11.selectAll("path").data(t34.data).enter().append("path").attr("d", (t35) => t35.path).attr("fill", (t35) => t35.fill ? t35.fill : "none").attr("stroke", (t35) => t35.strokeFill).attr("stroke-width", (t35) => t35.strokeWidth);
    }
  }
}, "draw") } } }, Symbol.toStringTag, { value: "Module" }));
var Fw = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 3], r10 = [1, 4], i10 = [1, 5], n10 = [1, 6], a10 = [5, 6, 8, 9, 11, 13, 31, 32, 33, 34, 35, 36, 44, 62, 63], o10 = [1, 18], s10 = [2, 7], l10 = [1, 22], h10 = [1, 23], u10 = [1, 24], d10 = [1, 25], p10 = [1, 26], g10 = [1, 27], f10 = [1, 20], y10 = [1, 28], v10 = [1, 29], x10 = [62, 63], b10 = [5, 8, 9, 11, 13, 31, 32, 33, 34, 35, 36, 44, 51, 53, 62, 63], w10 = [1, 47], k10 = [1, 48], _10 = [1, 49], T10 = [1, 50], E10 = [1, 51], C10 = [1, 52], S10 = [1, 53], A10 = [53, 54], L10 = [1, 64], N10 = [1, 60], I10 = [1, 61], M10 = [1, 62], R10 = [1, 63], D10 = [1, 65], O10 = [1, 69], P10 = [1, 70], $10 = [1, 67], B10 = [1, 68], F10 = [5, 8, 9, 11, 13, 31, 32, 33, 34, 35, 36, 44, 62, 63], z10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, directive: 4, NEWLINE: 5, RD: 6, diagram: 7, EOF: 8, acc_title: 9, acc_title_value: 10, acc_descr: 11, acc_descr_value: 12, acc_descr_multiline_value: 13, requirementDef: 14, elementDef: 15, relationshipDef: 16, requirementType: 17, requirementName: 18, STRUCT_START: 19, requirementBody: 20, ID: 21, COLONSEP: 22, id: 23, TEXT: 24, text: 25, RISK: 26, riskLevel: 27, VERIFYMTHD: 28, verifyType: 29, STRUCT_STOP: 30, REQUIREMENT: 31, FUNCTIONAL_REQUIREMENT: 32, INTERFACE_REQUIREMENT: 33, PERFORMANCE_REQUIREMENT: 34, PHYSICAL_REQUIREMENT: 35, DESIGN_CONSTRAINT: 36, LOW_RISK: 37, MED_RISK: 38, HIGH_RISK: 39, VERIFY_ANALYSIS: 40, VERIFY_DEMONSTRATION: 41, VERIFY_INSPECTION: 42, VERIFY_TEST: 43, ELEMENT: 44, elementName: 45, elementBody: 46, TYPE: 47, type: 48, DOCREF: 49, ref: 50, END_ARROW_L: 51, relationship: 52, LINE: 53, END_ARROW_R: 54, CONTAINS: 55, COPIES: 56, DERIVES: 57, SATISFIES: 58, VERIFIES: 59, REFINES: 60, TRACES: 61, unqString: 62, qString: 63, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "NEWLINE", 6: "RD", 8: "EOF", 9: "acc_title", 10: "acc_title_value", 11: "acc_descr", 12: "acc_descr_value", 13: "acc_descr_multiline_value", 19: "STRUCT_START", 21: "ID", 22: "COLONSEP", 24: "TEXT", 26: "RISK", 28: "VERIFYMTHD", 30: "STRUCT_STOP", 31: "REQUIREMENT", 32: "FUNCTIONAL_REQUIREMENT", 33: "INTERFACE_REQUIREMENT", 34: "PERFORMANCE_REQUIREMENT", 35: "PHYSICAL_REQUIREMENT", 36: "DESIGN_CONSTRAINT", 37: "LOW_RISK", 38: "MED_RISK", 39: "HIGH_RISK", 40: "VERIFY_ANALYSIS", 41: "VERIFY_DEMONSTRATION", 42: "VERIFY_INSPECTION", 43: "VERIFY_TEST", 44: "ELEMENT", 47: "TYPE", 49: "DOCREF", 51: "END_ARROW_L", 53: "LINE", 54: "END_ARROW_R", 55: "CONTAINS", 56: "COPIES", 57: "DERIVES", 58: "SATISFIES", 59: "VERIFIES", 60: "REFINES", 61: "TRACES", 62: "unqString", 63: "qString" }, productions_: [0, [3, 3], [3, 2], [3, 4], [4, 2], [4, 2], [4, 1], [7, 0], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [14, 5], [20, 5], [20, 5], [20, 5], [20, 5], [20, 2], [20, 1], [17, 1], [17, 1], [17, 1], [17, 1], [17, 1], [17, 1], [27, 1], [27, 1], [27, 1], [29, 1], [29, 1], [29, 1], [29, 1], [15, 5], [46, 5], [46, 5], [46, 2], [46, 1], [16, 5], [16, 5], [52, 1], [52, 1], [52, 1], [52, 1], [52, 1], [52, 1], [52, 1], [18, 1], [18, 1], [23, 1], [23, 1], [25, 1], [25, 1], [45, 1], [45, 1], [48, 1], [48, 1], [50, 1], [50, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 4:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 5:
      case 6:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 7:
        this.$ = [];
        break;
      case 13:
        i11.addRequirement(a11[s11 - 3], a11[s11 - 4]);
        break;
      case 14:
        i11.setNewReqId(a11[s11 - 2]);
        break;
      case 15:
        i11.setNewReqText(a11[s11 - 2]);
        break;
      case 16:
        i11.setNewReqRisk(a11[s11 - 2]);
        break;
      case 17:
        i11.setNewReqVerifyMethod(a11[s11 - 2]);
        break;
      case 20:
        this.$ = i11.RequirementType.REQUIREMENT;
        break;
      case 21:
        this.$ = i11.RequirementType.FUNCTIONAL_REQUIREMENT;
        break;
      case 22:
        this.$ = i11.RequirementType.INTERFACE_REQUIREMENT;
        break;
      case 23:
        this.$ = i11.RequirementType.PERFORMANCE_REQUIREMENT;
        break;
      case 24:
        this.$ = i11.RequirementType.PHYSICAL_REQUIREMENT;
        break;
      case 25:
        this.$ = i11.RequirementType.DESIGN_CONSTRAINT;
        break;
      case 26:
        this.$ = i11.RiskLevel.LOW_RISK;
        break;
      case 27:
        this.$ = i11.RiskLevel.MED_RISK;
        break;
      case 28:
        this.$ = i11.RiskLevel.HIGH_RISK;
        break;
      case 29:
        this.$ = i11.VerifyType.VERIFY_ANALYSIS;
        break;
      case 30:
        this.$ = i11.VerifyType.VERIFY_DEMONSTRATION;
        break;
      case 31:
        this.$ = i11.VerifyType.VERIFY_INSPECTION;
        break;
      case 32:
        this.$ = i11.VerifyType.VERIFY_TEST;
        break;
      case 33:
        i11.addElement(a11[s11 - 3]);
        break;
      case 34:
        i11.setNewElementType(a11[s11 - 2]);
        break;
      case 35:
        i11.setNewElementDocRef(a11[s11 - 2]);
        break;
      case 38:
        i11.addRelationship(a11[s11 - 2], a11[s11], a11[s11 - 4]);
        break;
      case 39:
        i11.addRelationship(a11[s11 - 2], a11[s11 - 4], a11[s11]);
        break;
      case 40:
        this.$ = i11.Relationships.CONTAINS;
        break;
      case 41:
        this.$ = i11.Relationships.COPIES;
        break;
      case 42:
        this.$ = i11.Relationships.DERIVES;
        break;
      case 43:
        this.$ = i11.Relationships.SATISFIES;
        break;
      case 44:
        this.$ = i11.Relationships.VERIFIES;
        break;
      case 45:
        this.$ = i11.Relationships.REFINES;
        break;
      case 46:
        this.$ = i11.Relationships.TRACES;
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 6: e10, 9: r10, 11: i10, 13: n10 }, { 1: [3] }, { 3: 8, 4: 2, 5: [1, 7], 6: e10, 9: r10, 11: i10, 13: n10 }, { 5: [1, 9] }, { 10: [1, 10] }, { 12: [1, 11] }, t33(a10, [2, 6]), { 3: 12, 4: 2, 6: e10, 9: r10, 11: i10, 13: n10 }, { 1: [2, 2] }, { 4: 17, 5: o10, 7: 13, 8: s10, 9: r10, 11: i10, 13: n10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: g10, 44: f10, 62: y10, 63: v10 }, t33(a10, [2, 4]), t33(a10, [2, 5]), { 1: [2, 1] }, { 8: [1, 30] }, { 4: 17, 5: o10, 7: 31, 8: s10, 9: r10, 11: i10, 13: n10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: g10, 44: f10, 62: y10, 63: v10 }, { 4: 17, 5: o10, 7: 32, 8: s10, 9: r10, 11: i10, 13: n10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: g10, 44: f10, 62: y10, 63: v10 }, { 4: 17, 5: o10, 7: 33, 8: s10, 9: r10, 11: i10, 13: n10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: g10, 44: f10, 62: y10, 63: v10 }, { 4: 17, 5: o10, 7: 34, 8: s10, 9: r10, 11: i10, 13: n10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: g10, 44: f10, 62: y10, 63: v10 }, { 4: 17, 5: o10, 7: 35, 8: s10, 9: r10, 11: i10, 13: n10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: g10, 44: f10, 62: y10, 63: v10 }, { 18: 36, 62: [1, 37], 63: [1, 38] }, { 45: 39, 62: [1, 40], 63: [1, 41] }, { 51: [1, 42], 53: [1, 43] }, t33(x10, [2, 20]), t33(x10, [2, 21]), t33(x10, [2, 22]), t33(x10, [2, 23]), t33(x10, [2, 24]), t33(x10, [2, 25]), t33(b10, [2, 49]), t33(b10, [2, 50]), { 1: [2, 3] }, { 8: [2, 8] }, { 8: [2, 9] }, { 8: [2, 10] }, { 8: [2, 11] }, { 8: [2, 12] }, { 19: [1, 44] }, { 19: [2, 47] }, { 19: [2, 48] }, { 19: [1, 45] }, { 19: [2, 53] }, { 19: [2, 54] }, { 52: 46, 55: w10, 56: k10, 57: _10, 58: T10, 59: E10, 60: C10, 61: S10 }, { 52: 54, 55: w10, 56: k10, 57: _10, 58: T10, 59: E10, 60: C10, 61: S10 }, { 5: [1, 55] }, { 5: [1, 56] }, { 53: [1, 57] }, t33(A10, [2, 40]), t33(A10, [2, 41]), t33(A10, [2, 42]), t33(A10, [2, 43]), t33(A10, [2, 44]), t33(A10, [2, 45]), t33(A10, [2, 46]), { 54: [1, 58] }, { 5: L10, 20: 59, 21: N10, 24: I10, 26: M10, 28: R10, 30: D10 }, { 5: O10, 30: P10, 46: 66, 47: $10, 49: B10 }, { 23: 71, 62: y10, 63: v10 }, { 23: 72, 62: y10, 63: v10 }, t33(F10, [2, 13]), { 22: [1, 73] }, { 22: [1, 74] }, { 22: [1, 75] }, { 22: [1, 76] }, { 5: L10, 20: 77, 21: N10, 24: I10, 26: M10, 28: R10, 30: D10 }, t33(F10, [2, 19]), t33(F10, [2, 33]), { 22: [1, 78] }, { 22: [1, 79] }, { 5: O10, 30: P10, 46: 80, 47: $10, 49: B10 }, t33(F10, [2, 37]), t33(F10, [2, 38]), t33(F10, [2, 39]), { 23: 81, 62: y10, 63: v10 }, { 25: 82, 62: [1, 83], 63: [1, 84] }, { 27: 85, 37: [1, 86], 38: [1, 87], 39: [1, 88] }, { 29: 89, 40: [1, 90], 41: [1, 91], 42: [1, 92], 43: [1, 93] }, t33(F10, [2, 18]), { 48: 94, 62: [1, 95], 63: [1, 96] }, { 50: 97, 62: [1, 98], 63: [1, 99] }, t33(F10, [2, 36]), { 5: [1, 100] }, { 5: [1, 101] }, { 5: [2, 51] }, { 5: [2, 52] }, { 5: [1, 102] }, { 5: [2, 26] }, { 5: [2, 27] }, { 5: [2, 28] }, { 5: [1, 103] }, { 5: [2, 29] }, { 5: [2, 30] }, { 5: [2, 31] }, { 5: [2, 32] }, { 5: [1, 104] }, { 5: [2, 55] }, { 5: [2, 56] }, { 5: [1, 105] }, { 5: [2, 57] }, { 5: [2, 58] }, { 5: L10, 20: 106, 21: N10, 24: I10, 26: M10, 28: R10, 30: D10 }, { 5: L10, 20: 107, 21: N10, 24: I10, 26: M10, 28: R10, 30: D10 }, { 5: L10, 20: 108, 21: N10, 24: I10, 26: M10, 28: R10, 30: D10 }, { 5: L10, 20: 109, 21: N10, 24: I10, 26: M10, 28: R10, 30: D10 }, { 5: O10, 30: P10, 46: 110, 47: $10, 49: B10 }, { 5: O10, 30: P10, 46: 111, 47: $10, 49: B10 }, t33(F10, [2, 14]), t33(F10, [2, 15]), t33(F10, [2, 16]), t33(F10, [2, 17]), t33(F10, [2, 34]), t33(F10, [2, 35])], defaultActions: { 8: [2, 2], 12: [2, 1], 30: [2, 3], 31: [2, 8], 32: [2, 9], 33: [2, 10], 34: [2, 11], 35: [2, 12], 37: [2, 47], 38: [2, 48], 40: [2, 53], 41: [2, 54], 83: [2, 51], 84: [2, 52], 86: [2, 26], 87: [2, 27], 88: [2, 28], 90: [2, 29], 91: [2, 30], 92: [2, 31], 93: [2, 32], 95: [2, 55], 96: [2, 56], 98: [2, 57], 99: [2, 58] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, U10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return "title";
      case 1:
        return this.begin("acc_title"), 9;
      case 2:
        return this.popState(), "acc_title_value";
      case 3:
        return this.begin("acc_descr"), 11;
      case 4:
        return this.popState(), "acc_descr_value";
      case 5:
        this.begin("acc_descr_multiline");
        break;
      case 6:
      case 48:
        this.popState();
        break;
      case 7:
        return "acc_descr_multiline_value";
      case 8:
        return 5;
      case 9:
      case 10:
      case 11:
        break;
      case 12:
        return 8;
      case 13:
        return 6;
      case 14:
        return 19;
      case 15:
        return 30;
      case 16:
        return 22;
      case 17:
        return 21;
      case 18:
        return 24;
      case 19:
        return 26;
      case 20:
        return 28;
      case 21:
        return 31;
      case 22:
        return 32;
      case 23:
        return 33;
      case 24:
        return 34;
      case 25:
        return 35;
      case 26:
        return 36;
      case 27:
        return 37;
      case 28:
        return 38;
      case 29:
        return 39;
      case 30:
        return 40;
      case 31:
        return 41;
      case 32:
        return 42;
      case 33:
        return 43;
      case 34:
        return 44;
      case 35:
        return 55;
      case 36:
        return 56;
      case 37:
        return 57;
      case 38:
        return 58;
      case 39:
        return 59;
      case 40:
        return 60;
      case 41:
        return 61;
      case 42:
        return 47;
      case 43:
        return 49;
      case 44:
        return 51;
      case 45:
        return 54;
      case 46:
        return 53;
      case 47:
        this.begin("string");
        break;
      case 49:
        return "qString";
      case 50:
        return e11.yytext = e11.yytext.trim(), 62;
    }
  }, "anonymous"), rules: [/^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:(\r?\n)+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:$)/i, /^(?:requirementDiagram\b)/i, /^(?:\{)/i, /^(?:\})/i, /^(?::)/i, /^(?:id\b)/i, /^(?:text\b)/i, /^(?:risk\b)/i, /^(?:verifyMethod\b)/i, /^(?:requirement\b)/i, /^(?:functionalRequirement\b)/i, /^(?:interfaceRequirement\b)/i, /^(?:performanceRequirement\b)/i, /^(?:physicalRequirement\b)/i, /^(?:designConstraint\b)/i, /^(?:low\b)/i, /^(?:medium\b)/i, /^(?:high\b)/i, /^(?:analysis\b)/i, /^(?:demonstration\b)/i, /^(?:inspection\b)/i, /^(?:test\b)/i, /^(?:element\b)/i, /^(?:contains\b)/i, /^(?:copies\b)/i, /^(?:derives\b)/i, /^(?:satisfies\b)/i, /^(?:verifies\b)/i, /^(?:refines\b)/i, /^(?:traces\b)/i, /^(?:type\b)/i, /^(?:docref\b)/i, /^(?:<-)/i, /^(?:->)/i, /^(?:-)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[\w][^\r\n\{\<\>\-\=]*)/i], conditions: { acc_descr_multiline: { rules: [6, 7], inclusive: false }, acc_descr: { rules: [4], inclusive: false }, acc_title: { rules: [2], inclusive: false }, unqString: { rules: [], inclusive: false }, token: { rules: [], inclusive: false }, string: { rules: [48, 49], inclusive: false }, INITIAL: { rules: [0, 1, 3, 5, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 50], inclusive: true } } };
  function G10() {
    this.yy = {};
  }
  return z10.lexer = U10, iZ(G10, "Parser"), G10.prototype = z10, z10.Parser = G10, new G10();
}();
Fw.parser = Fw;
var Fk = [], F_ = {}, FT = /* @__PURE__ */ new Map(), FE = {}, FC = /* @__PURE__ */ new Map(), FS = iZ((t33, e10) => (FT.has(t33) || FT.set(t33, { name: t33, type: e10, id: F_.id, text: F_.text, risk: F_.risk, verifyMethod: F_.verifyMethod }), F_ = {}, FT.get(t33)), "addRequirement"), FA = iZ(() => FT, "getRequirements"), FL = iZ((t33) => {
  void 0 !== F_ && (F_.id = t33);
}, "setNewReqId"), FN = iZ((t33) => {
  void 0 !== F_ && (F_.text = t33);
}, "setNewReqText"), FI = iZ((t33) => {
  void 0 !== F_ && (F_.risk = t33);
}, "setNewReqRisk"), FM = iZ((t33) => {
  void 0 !== F_ && (F_.verifyMethod = t33);
}, "setNewReqVerifyMethod"), FR = iZ((t33) => (FC.has(t33) || (FC.set(t33, { name: t33, type: FE.type, docRef: FE.docRef }), i0.info("Added new requirement: ", t33)), FE = {}, FC.get(t33)), "addElement"), FD = iZ(() => FC, "getElements"), FO = iZ((t33) => {
  void 0 !== FE && (FE.type = t33);
}, "setNewElementType"), FP = iZ((t33) => {
  void 0 !== FE && (FE.docRef = t33);
}, "setNewElementDocRef"), F$ = iZ((t33, e10, r10) => {
  Fk.push({ type: t33, src: e10, dst: r10 });
}, "addRelationship"), FB = iZ(() => Fk, "getRelationships"), FF = iZ(() => {
  Fk = [], F_ = {}, FT = /* @__PURE__ */ new Map(), FE = {}, FC = /* @__PURE__ */ new Map(), ag();
}, "clear"), Fz = { RequirementType: { REQUIREMENT: "Requirement", FUNCTIONAL_REQUIREMENT: "Functional Requirement", INTERFACE_REQUIREMENT: "Interface Requirement", PERFORMANCE_REQUIREMENT: "Performance Requirement", PHYSICAL_REQUIREMENT: "Physical Requirement", DESIGN_CONSTRAINT: "Design Constraint" }, RiskLevel: { LOW_RISK: "Low", MED_RISK: "Medium", HIGH_RISK: "High" }, VerifyType: { VERIFY_ANALYSIS: "Analysis", VERIFY_DEMONSTRATION: "Demonstration", VERIFY_INSPECTION: "Inspection", VERIFY_TEST: "Test" }, Relationships: { CONTAINS: "contains", COPIES: "copies", DERIVES: "derives", SATISFIES: "satisfies", VERIFIES: "verifies", REFINES: "refines", TRACES: "traces" }, getConfig: iZ(() => nM().req, "getConfig"), addRequirement: FS, getRequirements: FA, setNewReqId: FL, setNewReqText: FN, setNewReqRisk: FI, setNewReqVerifyMethod: FM, setAccTitle: af, getAccTitle: am, setAccDescription: ay, getAccDescription: av, addElement: FR, getElements: FD, setNewElementType: FO, setNewElementDocRef: FP, addRelationship: F$, getRelationships: FB, clear: FF }, FU = iZ((t33) => `

  marker {
    fill: ${t33.relationColor};
    stroke: ${t33.relationColor};
  }

  marker.cross {
    stroke: ${t33.lineColor};
  }

  svg {
    font-family: ${t33.fontFamily};
    font-size: ${t33.fontSize};
  }

  .reqBox {
    fill: ${t33.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${t33.requirementBorderColor};
    stroke-width: ${t33.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t33.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t33.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${t33.requirementBorderColor};
    stroke-width: ${t33.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t33.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t33.relationLabelColor};
  }

`, "getStyles"), FG = { CONTAINS: "contains", ARROW: "arrow" }, Fq = iZ((t33, e10) => {
  let r10 = t33.append("defs").append("marker").attr("id", FG.CONTAINS + "_line_ending").attr("refX", 0).attr("refY", e10.line_height / 2).attr("markerWidth", e10.line_height).attr("markerHeight", e10.line_height).attr("orient", "auto").append("g");
  r10.append("circle").attr("cx", e10.line_height / 2).attr("cy", e10.line_height / 2).attr("r", e10.line_height / 2).attr("fill", "none"), r10.append("line").attr("x1", 0).attr("x2", e10.line_height).attr("y1", e10.line_height / 2).attr("y2", e10.line_height / 2).attr("stroke-width", 1), r10.append("line").attr("y1", 0).attr("y2", e10.line_height).attr("x1", e10.line_height / 2).attr("x2", e10.line_height / 2).attr("stroke-width", 1), t33.append("defs").append("marker").attr("id", FG.ARROW + "_line_ending").attr("refX", e10.line_height).attr("refY", 0.5 * e10.line_height).attr("markerWidth", e10.line_height).attr("markerHeight", e10.line_height).attr("orient", "auto").append("path").attr("d", `M0,0
      L${e10.line_height},${e10.line_height / 2}
      M${e10.line_height},${e10.line_height / 2}
      L0,${e10.line_height}`).attr("stroke-width", 1);
}, "insertLineEndings"), FY = { ReqMarkers: FG, insertLineEndings: Fq }, FH = {}, Fj = 0, FW = iZ((t33, e10) => t33.insert("rect", "#" + e10).attr("class", "req reqBox").attr("x", 0).attr("y", 0).attr("width", FH.rect_min_width + "px").attr("height", FH.rect_min_height + "px"), "newRectNode"), FV = iZ((t33, e10, r10) => {
  let i10 = FH.rect_min_width / 2, n10 = t33.append("text").attr("class", "req reqLabel reqTitle").attr("id", e10).attr("x", i10).attr("y", FH.rect_padding).attr("dominant-baseline", "hanging"), a10 = 0;
  r10.forEach((t34) => {
    0 == a10 ? n10.append("tspan").attr("text-anchor", "middle").attr("x", FH.rect_min_width / 2).attr("dy", 0).text(t34) : n10.append("tspan").attr("text-anchor", "middle").attr("x", FH.rect_min_width / 2).attr("dy", 0.75 * FH.line_height).text(t34), a10++;
  });
  let o10 = 1.5 * FH.rect_padding + a10 * FH.line_height * 0.75;
  return t33.append("line").attr("class", "req-title-line").attr("x1", "0").attr("x2", FH.rect_min_width).attr("y1", o10).attr("y2", o10), { titleNode: n10, y: o10 };
}, "newTitleNode"), FX = iZ((t33, e10, r10, i10) => {
  let n10 = t33.append("text").attr("class", "req reqLabel").attr("id", e10).attr("x", FH.rect_padding).attr("y", i10).attr("dominant-baseline", "hanging"), a10 = 0, o10 = [];
  return r10.forEach((t34) => {
    let e11 = t34.length;
    for (; e11 > 30 && a10 < 3; ) {
      let r11 = t34.substring(0, 30);
      e11 = (t34 = t34.substring(30, t34.length)).length, o10[o10.length] = r11, a10++;
    }
    if (3 == a10) {
      let t35 = o10[o10.length - 1];
      o10[o10.length - 1] = t35.substring(0, t35.length - 4) + "...";
    } else o10[o10.length] = t34;
    a10 = 0;
  }), o10.forEach((t34) => {
    n10.append("tspan").attr("x", FH.rect_padding).attr("dy", FH.line_height).text(t34);
  }), n10;
}, "newBodyNode"), FK = iZ((t33, e10, r10, i10) => {
  let n10 = e10.node().getTotalLength(), a10 = e10.node().getPointAtLength(0.5 * n10), o10 = "rel" + Fj;
  Fj++;
  let s10 = t33.append("text").attr("class", "req relationshipLabel").attr("id", o10).attr("x", a10.x).attr("y", a10.y).attr("text-anchor", "middle").attr("dominant-baseline", "middle").text(i10).node().getBBox();
  t33.insert("rect", "#" + o10).attr("class", "req reqLabelBox").attr("x", a10.x - s10.width / 2).attr("y", a10.y - s10.height / 2).attr("width", s10.width).attr("height", s10.height).attr("fill", "white").attr("fill-opacity", "85%");
}, "addEdgeLabel"), FZ = iZ(function(t33, e10, r10, i10, n10) {
  let a10 = r10.edge(F2(e10.src), F2(e10.dst)), o10 = px().x(function(t34) {
    return t34.x;
  }).y(function(t34) {
    return t34.y;
  }), s10 = t33.insert("path", "#" + i10).attr("class", "er relationshipLine").attr("d", o10(a10.points)).attr("fill", "none");
  e10.type == n10.db.Relationships.CONTAINS ? s10.attr("marker-start", "url(" + ae.getUrl(FH.arrowMarkerAbsolute) + "#" + e10.type + "_line_ending)") : (s10.attr("stroke-dasharray", "10,7"), s10.attr("marker-end", "url(" + ae.getUrl(FH.arrowMarkerAbsolute) + "#" + FY.ReqMarkers.ARROW + "_line_ending)")), FK(t33, s10, FH, `<<${e10.type}>>`);
}, "drawRelationshipFromLayout"), FQ = iZ((t33, e10, r10) => {
  t33.forEach((t34, i10) => {
    i10 = F2(i10), i0.info("Added new requirement: ", i10);
    let n10 = r10.append("g").attr("id", i10), a10 = FW(n10, "req-" + i10), o10 = [], s10 = FV(n10, i10 + "_title", [`<<${t34.type}>>`, `${t34.name}`]);
    o10.push(s10.titleNode), o10.push(FX(n10, i10 + "_body", [`Id: ${t34.id}`, `Text: ${t34.text}`, `Risk: ${t34.risk}`, `Verification: ${t34.verifyMethod}`], s10.y));
    let l10 = a10.node().getBBox();
    e10.setNode(i10, { width: l10.width, height: l10.height, shape: "rect", id: i10 });
  });
}, "drawReqs"), FJ = iZ((t33, e10, r10) => {
  t33.forEach((t34, i10) => {
    let n10 = F2(i10), a10 = r10.append("g").attr("id", n10), o10 = "element-" + n10, s10 = FW(a10, o10), l10 = [], h10 = FV(a10, o10 + "_title", ["<<Element>>", `${i10}`]);
    l10.push(h10.titleNode), l10.push(FX(a10, o10 + "_body", [`Type: ${t34.type || "Not Specified"}`, `Doc Ref: ${t34.docRef || "None"}`], h10.y));
    let u10 = s10.node().getBBox();
    e10.setNode(n10, { width: u10.width, height: u10.height, shape: "rect", id: n10 });
  });
}, "drawElements"), F0 = iZ((t33, e10) => (t33.forEach(function(t34) {
  let r10 = F2(t34.src), i10 = F2(t34.dst);
  e10.setEdge(r10, i10, { relationship: t34 });
}), t33), "addRelationships"), F1 = iZ(function(t33, e10) {
  e10.nodes().forEach(function(r10) {
    void 0 !== r10 && void 0 !== e10.node(r10) && (t33.select("#" + r10), t33.select("#" + r10).attr("transform", "translate(" + (e10.node(r10).x - e10.node(r10).width / 2) + "," + (e10.node(r10).y - e10.node(r10).height / 2) + " )"));
  });
}, "adjustEntities"), F2 = iZ((t33) => t33.replace(/\s/g, "").replace(/\./g, "_"), "elementString");
let F4 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: Fw, db: Fz, renderer: { draw: iZ((t33, e10, r10, i10) => {
  let n10;
  let a10 = (FH = nM().requirement).securityLevel;
  "sandbox" === a10 && (n10 = hl("#i" + e10));
  let o10 = ("sandbox" === a10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body")).select(`[id='${e10}']`);
  FY.insertLineEndings(o10, FH);
  let s10 = new Eb({ multigraph: false, compound: false, directed: true }).setGraph({ rankdir: FH.layoutDirection, marginx: 20, marginy: 20, nodesep: 100, edgesep: 100, ranksep: 100 }).setDefaultEdgeLabel(function() {
    return {};
  }), l10 = i10.db.getRequirements(), h10 = i10.db.getElements(), u10 = i10.db.getRelationships();
  FQ(l10, s10, o10), FJ(h10, s10, o10), F0(u10, s10), E5(s10), F1(o10, s10), u10.forEach(function(t34) {
    FZ(o10, t34, s10, e10, i10);
  });
  let d10 = FH.rect_padding, p10 = o10.node().getBBox(), g10 = p10.width + 2 * d10, f10 = p10.height + 2 * d10;
  an(o10, f10, g10, FH.useMaxWidth), o10.attr("viewBox", `${p10.x - d10} ${p10.y - d10} ${g10} ${f10}`);
}, "draw") }, styles: FU } }, Symbol.toStringTag, { value: "Module" }));
var F5 = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 2], r10 = [1, 3], i10 = [1, 4], n10 = [2, 4], a10 = [1, 9], o10 = [1, 11], s10 = [1, 13], l10 = [1, 14], h10 = [1, 16], u10 = [1, 17], d10 = [1, 18], p10 = [1, 24], g10 = [1, 25], f10 = [1, 26], y10 = [1, 27], v10 = [1, 28], x10 = [1, 29], b10 = [1, 30], w10 = [1, 31], k10 = [1, 32], _10 = [1, 33], T10 = [1, 34], E10 = [1, 35], C10 = [1, 36], S10 = [1, 37], A10 = [1, 38], L10 = [1, 39], N10 = [1, 41], I10 = [1, 42], M10 = [1, 43], R10 = [1, 44], D10 = [1, 45], O10 = [1, 46], P10 = [1, 4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 47, 48, 49, 50, 52, 53, 54, 59, 60, 61, 62, 70], $10 = [4, 5, 16, 50, 52, 53], B10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 50, 52, 53, 54, 59, 60, 61, 62, 70], F10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 49, 50, 52, 53, 54, 59, 60, 61, 62, 70], z10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 48, 50, 52, 53, 54, 59, 60, 61, 62, 70], U10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 47, 50, 52, 53, 54, 59, 60, 61, 62, 70], G10 = [68, 69, 70], q10 = [1, 122], Y10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, SPACE: 4, NEWLINE: 5, SD: 6, document: 7, line: 8, statement: 9, box_section: 10, box_line: 11, participant_statement: 12, create: 13, box: 14, restOfLine: 15, end: 16, signal: 17, autonumber: 18, NUM: 19, off: 20, activate: 21, actor: 22, deactivate: 23, note_statement: 24, links_statement: 25, link_statement: 26, properties_statement: 27, details_statement: 28, title: 29, legacy_title: 30, acc_title: 31, acc_title_value: 32, acc_descr: 33, acc_descr_value: 34, acc_descr_multiline_value: 35, loop: 36, rect: 37, opt: 38, alt: 39, else_sections: 40, par: 41, par_sections: 42, par_over: 43, critical: 44, option_sections: 45, break: 46, option: 47, and: 48, else: 49, participant: 50, AS: 51, participant_actor: 52, destroy: 53, note: 54, placement: 55, text2: 56, over: 57, actor_pair: 58, links: 59, link: 60, properties: 61, details: 62, spaceList: 63, ",": 64, left_of: 65, right_of: 66, signaltype: 67, "+": 68, "-": 69, ACTOR: 70, SOLID_OPEN_ARROW: 71, DOTTED_OPEN_ARROW: 72, SOLID_ARROW: 73, BIDIRECTIONAL_SOLID_ARROW: 74, DOTTED_ARROW: 75, BIDIRECTIONAL_DOTTED_ARROW: 76, SOLID_CROSS: 77, DOTTED_CROSS: 78, SOLID_POINT: 79, DOTTED_POINT: 80, TXT: 81, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SPACE", 5: "NEWLINE", 6: "SD", 13: "create", 14: "box", 15: "restOfLine", 16: "end", 18: "autonumber", 19: "NUM", 20: "off", 21: "activate", 23: "deactivate", 29: "title", 30: "legacy_title", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 36: "loop", 37: "rect", 38: "opt", 39: "alt", 41: "par", 43: "par_over", 44: "critical", 46: "break", 47: "option", 48: "and", 49: "else", 50: "participant", 51: "AS", 52: "participant_actor", 53: "destroy", 54: "note", 57: "over", 59: "links", 60: "link", 61: "properties", 62: "details", 64: ",", 65: "left_of", 66: "right_of", 68: "+", 69: "-", 70: "ACTOR", 71: "SOLID_OPEN_ARROW", 72: "DOTTED_OPEN_ARROW", 73: "SOLID_ARROW", 74: "BIDIRECTIONAL_SOLID_ARROW", 75: "DOTTED_ARROW", 76: "BIDIRECTIONAL_DOTTED_ARROW", 77: "SOLID_CROSS", 78: "DOTTED_CROSS", 79: "SOLID_POINT", 80: "DOTTED_POINT", 81: "TXT" }, productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [10, 0], [10, 2], [11, 2], [11, 1], [11, 1], [9, 1], [9, 2], [9, 4], [9, 2], [9, 4], [9, 3], [9, 3], [9, 2], [9, 3], [9, 3], [9, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [45, 1], [45, 4], [42, 1], [42, 4], [40, 1], [40, 4], [12, 5], [12, 3], [12, 5], [12, 3], [12, 3], [24, 4], [24, 4], [25, 3], [26, 3], [27, 3], [28, 3], [63, 2], [63, 1], [58, 3], [58, 1], [55, 1], [55, 1], [17, 5], [17, 5], [17, 4], [22, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [56, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 3:
        return i11.apply(a11[s11]), a11[s11];
      case 4:
      case 9:
      case 8:
      case 13:
        this.$ = [];
        break;
      case 5:
      case 10:
        a11[s11 - 1].push(a11[s11]), this.$ = a11[s11 - 1];
        break;
      case 6:
      case 7:
      case 11:
      case 12:
      case 62:
        this.$ = a11[s11];
        break;
      case 15:
        a11[s11].type = "createParticipant", this.$ = a11[s11];
        break;
      case 16:
        a11[s11 - 1].unshift({ type: "boxStart", boxData: i11.parseBoxData(a11[s11 - 2]) }), a11[s11 - 1].push({ type: "boxEnd", boxText: a11[s11 - 2] }), this.$ = a11[s11 - 1];
        break;
      case 18:
        this.$ = { type: "sequenceIndex", sequenceIndex: Number(a11[s11 - 2]), sequenceIndexStep: Number(a11[s11 - 1]), sequenceVisible: true, signalType: i11.LINETYPE.AUTONUMBER };
        break;
      case 19:
        this.$ = { type: "sequenceIndex", sequenceIndex: Number(a11[s11 - 1]), sequenceIndexStep: 1, sequenceVisible: true, signalType: i11.LINETYPE.AUTONUMBER };
        break;
      case 20:
        this.$ = { type: "sequenceIndex", sequenceVisible: false, signalType: i11.LINETYPE.AUTONUMBER };
        break;
      case 21:
        this.$ = { type: "sequenceIndex", sequenceVisible: true, signalType: i11.LINETYPE.AUTONUMBER };
        break;
      case 22:
        this.$ = { type: "activeStart", signalType: i11.LINETYPE.ACTIVE_START, actor: a11[s11 - 1].actor };
        break;
      case 23:
        this.$ = { type: "activeEnd", signalType: i11.LINETYPE.ACTIVE_END, actor: a11[s11 - 1].actor };
        break;
      case 29:
        i11.setDiagramTitle(a11[s11].substring(6)), this.$ = a11[s11].substring(6);
        break;
      case 30:
        i11.setDiagramTitle(a11[s11].substring(7)), this.$ = a11[s11].substring(7);
        break;
      case 31:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 32:
      case 33:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 34:
        a11[s11 - 1].unshift({ type: "loopStart", loopText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.LOOP_START }), a11[s11 - 1].push({ type: "loopEnd", loopText: a11[s11 - 2], signalType: i11.LINETYPE.LOOP_END }), this.$ = a11[s11 - 1];
        break;
      case 35:
        a11[s11 - 1].unshift({ type: "rectStart", color: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.RECT_START }), a11[s11 - 1].push({ type: "rectEnd", color: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.RECT_END }), this.$ = a11[s11 - 1];
        break;
      case 36:
        a11[s11 - 1].unshift({ type: "optStart", optText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.OPT_START }), a11[s11 - 1].push({ type: "optEnd", optText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.OPT_END }), this.$ = a11[s11 - 1];
        break;
      case 37:
        a11[s11 - 1].unshift({ type: "altStart", altText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.ALT_START }), a11[s11 - 1].push({ type: "altEnd", signalType: i11.LINETYPE.ALT_END }), this.$ = a11[s11 - 1];
        break;
      case 38:
        a11[s11 - 1].unshift({ type: "parStart", parText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.PAR_START }), a11[s11 - 1].push({ type: "parEnd", signalType: i11.LINETYPE.PAR_END }), this.$ = a11[s11 - 1];
        break;
      case 39:
        a11[s11 - 1].unshift({ type: "parStart", parText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.PAR_OVER_START }), a11[s11 - 1].push({ type: "parEnd", signalType: i11.LINETYPE.PAR_END }), this.$ = a11[s11 - 1];
        break;
      case 40:
        a11[s11 - 1].unshift({ type: "criticalStart", criticalText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.CRITICAL_START }), a11[s11 - 1].push({ type: "criticalEnd", signalType: i11.LINETYPE.CRITICAL_END }), this.$ = a11[s11 - 1];
        break;
      case 41:
        a11[s11 - 1].unshift({ type: "breakStart", breakText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.BREAK_START }), a11[s11 - 1].push({ type: "breakEnd", optText: i11.parseMessage(a11[s11 - 2]), signalType: i11.LINETYPE.BREAK_END }), this.$ = a11[s11 - 1];
        break;
      case 43:
        this.$ = a11[s11 - 3].concat([{ type: "option", optionText: i11.parseMessage(a11[s11 - 1]), signalType: i11.LINETYPE.CRITICAL_OPTION }, a11[s11]]);
        break;
      case 45:
        this.$ = a11[s11 - 3].concat([{ type: "and", parText: i11.parseMessage(a11[s11 - 1]), signalType: i11.LINETYPE.PAR_AND }, a11[s11]]);
        break;
      case 47:
        this.$ = a11[s11 - 3].concat([{ type: "else", altText: i11.parseMessage(a11[s11 - 1]), signalType: i11.LINETYPE.ALT_ELSE }, a11[s11]]);
        break;
      case 48:
        a11[s11 - 3].draw = "participant", a11[s11 - 3].type = "addParticipant", a11[s11 - 3].description = i11.parseMessage(a11[s11 - 1]), this.$ = a11[s11 - 3];
        break;
      case 49:
        a11[s11 - 1].draw = "participant", a11[s11 - 1].type = "addParticipant", this.$ = a11[s11 - 1];
        break;
      case 50:
        a11[s11 - 3].draw = "actor", a11[s11 - 3].type = "addParticipant", a11[s11 - 3].description = i11.parseMessage(a11[s11 - 1]), this.$ = a11[s11 - 3];
        break;
      case 51:
        a11[s11 - 1].draw = "actor", a11[s11 - 1].type = "addParticipant", this.$ = a11[s11 - 1];
        break;
      case 52:
        a11[s11 - 1].type = "destroyParticipant", this.$ = a11[s11 - 1];
        break;
      case 53:
        this.$ = [a11[s11 - 1], { type: "addNote", placement: a11[s11 - 2], actor: a11[s11 - 1].actor, text: a11[s11] }];
        break;
      case 54:
        a11[s11 - 2] = [].concat(a11[s11 - 1], a11[s11 - 1]).slice(0, 2), a11[s11 - 2][0] = a11[s11 - 2][0].actor, a11[s11 - 2][1] = a11[s11 - 2][1].actor, this.$ = [a11[s11 - 1], { type: "addNote", placement: i11.PLACEMENT.OVER, actor: a11[s11 - 2].slice(0, 2), text: a11[s11] }];
        break;
      case 55:
        this.$ = [a11[s11 - 1], { type: "addLinks", actor: a11[s11 - 1].actor, text: a11[s11] }];
        break;
      case 56:
        this.$ = [a11[s11 - 1], { type: "addALink", actor: a11[s11 - 1].actor, text: a11[s11] }];
        break;
      case 57:
        this.$ = [a11[s11 - 1], { type: "addProperties", actor: a11[s11 - 1].actor, text: a11[s11] }];
        break;
      case 58:
        this.$ = [a11[s11 - 1], { type: "addDetails", actor: a11[s11 - 1].actor, text: a11[s11] }];
        break;
      case 61:
        this.$ = [a11[s11 - 2], a11[s11]];
        break;
      case 63:
        this.$ = i11.PLACEMENT.LEFTOF;
        break;
      case 64:
        this.$ = i11.PLACEMENT.RIGHTOF;
        break;
      case 65:
        this.$ = [a11[s11 - 4], a11[s11 - 1], { type: "addMessage", from: a11[s11 - 4].actor, to: a11[s11 - 1].actor, signalType: a11[s11 - 3], msg: a11[s11], activate: true }, { type: "activeStart", signalType: i11.LINETYPE.ACTIVE_START, actor: a11[s11 - 1].actor }];
        break;
      case 66:
        this.$ = [a11[s11 - 4], a11[s11 - 1], { type: "addMessage", from: a11[s11 - 4].actor, to: a11[s11 - 1].actor, signalType: a11[s11 - 3], msg: a11[s11] }, { type: "activeEnd", signalType: i11.LINETYPE.ACTIVE_END, actor: a11[s11 - 4].actor }];
        break;
      case 67:
        this.$ = [a11[s11 - 3], a11[s11 - 1], { type: "addMessage", from: a11[s11 - 3].actor, to: a11[s11 - 1].actor, signalType: a11[s11 - 2], msg: a11[s11] }];
        break;
      case 68:
        this.$ = { type: "addParticipant", actor: a11[s11] };
        break;
      case 69:
        this.$ = i11.LINETYPE.SOLID_OPEN;
        break;
      case 70:
        this.$ = i11.LINETYPE.DOTTED_OPEN;
        break;
      case 71:
        this.$ = i11.LINETYPE.SOLID;
        break;
      case 72:
        this.$ = i11.LINETYPE.BIDIRECTIONAL_SOLID;
        break;
      case 73:
        this.$ = i11.LINETYPE.DOTTED;
        break;
      case 74:
        this.$ = i11.LINETYPE.BIDIRECTIONAL_DOTTED;
        break;
      case 75:
        this.$ = i11.LINETYPE.SOLID_CROSS;
        break;
      case 76:
        this.$ = i11.LINETYPE.DOTTED_CROSS;
        break;
      case 77:
        this.$ = i11.LINETYPE.SOLID_POINT;
        break;
      case 78:
        this.$ = i11.LINETYPE.DOTTED_POINT;
        break;
      case 79:
        this.$ = i11.parseMessage(a11[s11].trim().substring(1));
    }
  }, "anonymous"), table: [{ 3: 1, 4: e10, 5: r10, 6: i10 }, { 1: [3] }, { 3: 5, 4: e10, 5: r10, 6: i10 }, { 3: 6, 4: e10, 5: r10, 6: i10 }, t33([1, 4, 5, 13, 14, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 50, 52, 53, 54, 59, 60, 61, 62, 70], n10, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, t33(P10, [2, 5]), { 9: 47, 12: 12, 13: s10, 14: l10, 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, t33(P10, [2, 7]), t33(P10, [2, 8]), t33(P10, [2, 14]), { 12: 48, 50: S10, 52: A10, 53: L10 }, { 15: [1, 49] }, { 5: [1, 50] }, { 5: [1, 53], 19: [1, 51], 20: [1, 52] }, { 22: 54, 70: O10 }, { 22: 55, 70: O10 }, { 5: [1, 56] }, { 5: [1, 57] }, { 5: [1, 58] }, { 5: [1, 59] }, { 5: [1, 60] }, t33(P10, [2, 29]), t33(P10, [2, 30]), { 32: [1, 61] }, { 34: [1, 62] }, t33(P10, [2, 33]), { 15: [1, 63] }, { 15: [1, 64] }, { 15: [1, 65] }, { 15: [1, 66] }, { 15: [1, 67] }, { 15: [1, 68] }, { 15: [1, 69] }, { 15: [1, 70] }, { 22: 71, 70: O10 }, { 22: 72, 70: O10 }, { 22: 73, 70: O10 }, { 67: 74, 71: [1, 75], 72: [1, 76], 73: [1, 77], 74: [1, 78], 75: [1, 79], 76: [1, 80], 77: [1, 81], 78: [1, 82], 79: [1, 83], 80: [1, 84] }, { 55: 85, 57: [1, 86], 65: [1, 87], 66: [1, 88] }, { 22: 89, 70: O10 }, { 22: 90, 70: O10 }, { 22: 91, 70: O10 }, { 22: 92, 70: O10 }, t33([5, 51, 64, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81], [2, 68]), t33(P10, [2, 6]), t33(P10, [2, 15]), t33($10, [2, 9], { 10: 93 }), t33(P10, [2, 17]), { 5: [1, 95], 19: [1, 94] }, { 5: [1, 96] }, t33(P10, [2, 21]), { 5: [1, 97] }, { 5: [1, 98] }, t33(P10, [2, 24]), t33(P10, [2, 25]), t33(P10, [2, 26]), t33(P10, [2, 27]), t33(P10, [2, 28]), t33(P10, [2, 31]), t33(P10, [2, 32]), t33(B10, n10, { 7: 99 }), t33(B10, n10, { 7: 100 }), t33(B10, n10, { 7: 101 }), t33(F10, n10, { 40: 102, 7: 103 }), t33(z10, n10, { 42: 104, 7: 105 }), t33(z10, n10, { 7: 105, 42: 106 }), t33(U10, n10, { 45: 107, 7: 108 }), t33(B10, n10, { 7: 109 }), { 5: [1, 111], 51: [1, 110] }, { 5: [1, 113], 51: [1, 112] }, { 5: [1, 114] }, { 22: 117, 68: [1, 115], 69: [1, 116], 70: O10 }, t33(G10, [2, 69]), t33(G10, [2, 70]), t33(G10, [2, 71]), t33(G10, [2, 72]), t33(G10, [2, 73]), t33(G10, [2, 74]), t33(G10, [2, 75]), t33(G10, [2, 76]), t33(G10, [2, 77]), t33(G10, [2, 78]), { 22: 118, 70: O10 }, { 22: 120, 58: 119, 70: O10 }, { 70: [2, 63] }, { 70: [2, 64] }, { 56: 121, 81: q10 }, { 56: 123, 81: q10 }, { 56: 124, 81: q10 }, { 56: 125, 81: q10 }, { 4: [1, 128], 5: [1, 130], 11: 127, 12: 129, 16: [1, 126], 50: S10, 52: A10, 53: L10 }, { 5: [1, 131] }, t33(P10, [2, 19]), t33(P10, [2, 20]), t33(P10, [2, 22]), t33(P10, [2, 23]), { 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 16: [1, 132], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, { 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 16: [1, 133], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, { 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 16: [1, 134], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, { 16: [1, 135] }, { 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 16: [2, 46], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 49: [1, 136], 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, { 16: [1, 137] }, { 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 16: [2, 44], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 48: [1, 138], 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, { 16: [1, 139] }, { 16: [1, 140] }, { 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 16: [2, 42], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 47: [1, 141], 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, { 4: a10, 5: o10, 8: 8, 9: 10, 12: 12, 13: s10, 14: l10, 16: [1, 142], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: g10, 31: f10, 33: y10, 35: v10, 36: x10, 37: b10, 38: w10, 39: k10, 41: _10, 43: T10, 44: E10, 46: C10, 50: S10, 52: A10, 53: L10, 54: N10, 59: I10, 60: M10, 61: R10, 62: D10, 70: O10 }, { 15: [1, 143] }, t33(P10, [2, 49]), { 15: [1, 144] }, t33(P10, [2, 51]), t33(P10, [2, 52]), { 22: 145, 70: O10 }, { 22: 146, 70: O10 }, { 56: 147, 81: q10 }, { 56: 148, 81: q10 }, { 56: 149, 81: q10 }, { 64: [1, 150], 81: [2, 62] }, { 5: [2, 55] }, { 5: [2, 79] }, { 5: [2, 56] }, { 5: [2, 57] }, { 5: [2, 58] }, t33(P10, [2, 16]), t33($10, [2, 10]), { 12: 151, 50: S10, 52: A10, 53: L10 }, t33($10, [2, 12]), t33($10, [2, 13]), t33(P10, [2, 18]), t33(P10, [2, 34]), t33(P10, [2, 35]), t33(P10, [2, 36]), t33(P10, [2, 37]), { 15: [1, 152] }, t33(P10, [2, 38]), { 15: [1, 153] }, t33(P10, [2, 39]), t33(P10, [2, 40]), { 15: [1, 154] }, t33(P10, [2, 41]), { 5: [1, 155] }, { 5: [1, 156] }, { 56: 157, 81: q10 }, { 56: 158, 81: q10 }, { 5: [2, 67] }, { 5: [2, 53] }, { 5: [2, 54] }, { 22: 159, 70: O10 }, t33($10, [2, 11]), t33(F10, n10, { 7: 103, 40: 160 }), t33(z10, n10, { 7: 105, 42: 161 }), t33(U10, n10, { 7: 108, 45: 162 }), t33(P10, [2, 48]), t33(P10, [2, 50]), { 5: [2, 65] }, { 5: [2, 66] }, { 81: [2, 61] }, { 16: [2, 47] }, { 16: [2, 45] }, { 16: [2, 43] }], defaultActions: { 5: [2, 1], 6: [2, 2], 87: [2, 63], 88: [2, 64], 121: [2, 55], 122: [2, 79], 123: [2, 56], 124: [2, 57], 125: [2, 58], 147: [2, 67], 148: [2, 53], 149: [2, 54], 157: [2, 65], 158: [2, 66], 159: [2, 61], 160: [2, 47], 161: [2, 45], 162: [2, 43] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, H10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
      case 51:
      case 66:
        return 5;
      case 1:
      case 2:
      case 3:
      case 4:
      case 5:
        break;
      case 6:
        return 19;
      case 7:
        return this.begin("LINE"), 14;
      case 8:
        return this.begin("ID"), 50;
      case 9:
        return this.begin("ID"), 52;
      case 10:
        return 13;
      case 11:
        return this.begin("ID"), 53;
      case 12:
        return e11.yytext = e11.yytext.trim(), this.begin("ALIAS"), 70;
      case 13:
        return this.popState(), this.popState(), this.begin("LINE"), 51;
      case 14:
        return this.popState(), this.popState(), 5;
      case 15:
        return this.begin("LINE"), 36;
      case 16:
        return this.begin("LINE"), 37;
      case 17:
        return this.begin("LINE"), 38;
      case 18:
        return this.begin("LINE"), 39;
      case 19:
        return this.begin("LINE"), 49;
      case 20:
        return this.begin("LINE"), 41;
      case 21:
        return this.begin("LINE"), 43;
      case 22:
        return this.begin("LINE"), 48;
      case 23:
        return this.begin("LINE"), 44;
      case 24:
        return this.begin("LINE"), 47;
      case 25:
        return this.begin("LINE"), 46;
      case 26:
        return this.popState(), 15;
      case 27:
        return 16;
      case 28:
        return 65;
      case 29:
        return 66;
      case 30:
        return 59;
      case 31:
        return 60;
      case 32:
        return 61;
      case 33:
        return 62;
      case 34:
        return 57;
      case 35:
        return 54;
      case 36:
        return this.begin("ID"), 21;
      case 37:
        return this.begin("ID"), 23;
      case 38:
        return 29;
      case 39:
        return 30;
      case 40:
        return this.begin("acc_title"), 31;
      case 41:
        return this.popState(), "acc_title_value";
      case 42:
        return this.begin("acc_descr"), 33;
      case 43:
        return this.popState(), "acc_descr_value";
      case 44:
        this.begin("acc_descr_multiline");
        break;
      case 45:
        this.popState();
        break;
      case 46:
        return "acc_descr_multiline_value";
      case 47:
        return 6;
      case 48:
        return 18;
      case 49:
        return 20;
      case 50:
        return 64;
      case 52:
        return e11.yytext = e11.yytext.trim(), 70;
      case 53:
        return 73;
      case 54:
        return 74;
      case 55:
        return 75;
      case 56:
        return 76;
      case 57:
        return 71;
      case 58:
        return 72;
      case 59:
        return 77;
      case 60:
        return 78;
      case 61:
        return 79;
      case 62:
        return 80;
      case 63:
        return 81;
      case 64:
        return 68;
      case 65:
        return 69;
      case 67:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[0-9]+(?=[ \n]+))/i, /^(?:box\b)/i, /^(?:participant\b)/i, /^(?:actor\b)/i, /^(?:create\b)/i, /^(?:destroy\b)/i, /^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i, /^(?:as\b)/i, /^(?:(?:))/i, /^(?:loop\b)/i, /^(?:rect\b)/i, /^(?:opt\b)/i, /^(?:alt\b)/i, /^(?:else\b)/i, /^(?:par\b)/i, /^(?:par_over\b)/i, /^(?:and\b)/i, /^(?:critical\b)/i, /^(?:option\b)/i, /^(?:break\b)/i, /^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i, /^(?:end\b)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:links\b)/i, /^(?:link\b)/i, /^(?:properties\b)/i, /^(?:details\b)/i, /^(?:over\b)/i, /^(?:note\b)/i, /^(?:activate\b)/i, /^(?:deactivate\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:title:\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:sequenceDiagram\b)/i, /^(?:autonumber\b)/i, /^(?:off\b)/i, /^(?:,)/i, /^(?:;)/i, /^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i, /^(?:->>)/i, /^(?:<<->>)/i, /^(?:-->>)/i, /^(?:<<-->>)/i, /^(?:->)/i, /^(?:-->)/i, /^(?:-[x])/i, /^(?:--[x])/i, /^(?:-[\)])/i, /^(?:--[\)])/i, /^(?::(?:(?:no)?wrap)?[^#\n;]+)/i, /^(?:\+)/i, /^(?:-)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [45, 46], inclusive: false }, acc_descr: { rules: [43], inclusive: false }, acc_title: { rules: [41], inclusive: false }, ID: { rules: [2, 3, 12], inclusive: false }, ALIAS: { rules: [2, 3, 13, 14], inclusive: false }, LINE: { rules: [2, 3, 26], inclusive: false }, INITIAL: { rules: [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 42, 44, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67], inclusive: true } } };
  function j10() {
    this.yy = {};
  }
  return Y10.lexer = H10, iZ(j10, "Parser"), j10.prototype = Y10, Y10.Parser = j10, new j10();
}();
F5.parser = F5;
var F3 = new Lu(() => ({ prevActor: void 0, actors: /* @__PURE__ */ new Map(), createdActors: /* @__PURE__ */ new Map(), destroyedActors: /* @__PURE__ */ new Map(), boxes: [], messages: [], notes: [], sequenceNumbersEnabled: false, wrapEnabled: void 0, currentBox: void 0, lastCreated: void 0, lastDestroyed: void 0 })), F6 = iZ(function(t33) {
  var e10;
  F3.records.boxes.push({ name: t33.text, wrap: null !== (e10 = t33.wrap) && void 0 !== e10 ? e10 : zf(), fill: t33.color, actorKeys: [] }), F3.records.currentBox = F3.records.boxes.slice(-1)[0];
}, "addBox"), F7 = iZ(function(t33, e10, r10, i10) {
  var n10;
  let a10 = F3.records.currentBox, o10 = F3.records.actors.get(t33);
  if (o10) {
    if (F3.records.currentBox && o10.box && F3.records.currentBox !== o10.box) throw Error(`A same participant should only be defined in one Box: ${o10.name} can't be in '${o10.box.name}' and in '${F3.records.currentBox.name}' at the same time.`);
    if (a10 = o10.box ? o10.box : F3.records.currentBox, o10.box = a10, o10 && e10 === o10.name && null == r10) return;
  }
  if ((null == r10 ? void 0 : r10.text) == null && (r10 = { text: e10, type: i10 }), (null == i10 || null == r10.text) && (r10 = { text: e10, type: i10 }), F3.records.actors.set(t33, { box: a10, name: e10, description: r10.text, wrap: null !== (n10 = r10.wrap) && void 0 !== n10 ? n10 : zf(), prevActor: F3.records.prevActor, links: {}, properties: {}, actorCnt: null, rectData: null, type: null != i10 ? i10 : "participant" }), F3.records.prevActor) {
    let e11 = F3.records.actors.get(F3.records.prevActor);
    e11 && (e11.nextActor = t33);
  }
  F3.records.currentBox && F3.records.currentBox.actorKeys.push(t33), F3.records.prevActor = t33;
}, "addActor"), F8 = iZ((t33) => {
  let e10;
  let r10 = 0;
  if (!t33) return 0;
  for (e10 = 0; e10 < F3.records.messages.length; e10++) F3.records.messages[e10].type === zx.ACTIVE_START && F3.records.messages[e10].from === t33 && r10++, F3.records.messages[e10].type === zx.ACTIVE_END && F3.records.messages[e10].from === t33 && r10--;
  return r10;
}, "activationCount"), F9 = iZ(function(t33, e10, r10, i10) {
  var n10;
  F3.records.messages.push({ from: t33, to: e10, message: r10.text, wrap: null !== (n10 = r10.wrap) && void 0 !== n10 ? n10 : zf(), answer: i10 });
}, "addMessage"), zt = iZ(function(t33, e10, r10, i10) {
  var n10, a10;
  let o10 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
  if (i10 === zx.ACTIVE_END && 1 > F8(null != t33 ? t33 : "")) {
    let e11 = Error("Trying to inactivate an inactive participant (" + t33 + ")");
    throw e11.hash = { text: "->>-", token: "->>-", line: "1", loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 }, expected: ["'ACTIVE_PARTICIPANT'"] }, e11;
  }
  return F3.records.messages.push({ from: t33, to: e10, message: null !== (n10 = null == r10 ? void 0 : r10.text) && void 0 !== n10 ? n10 : "", wrap: null !== (a10 = null == r10 ? void 0 : r10.wrap) && void 0 !== a10 ? a10 : zf(), type: i10, activate: o10 }), true;
}, "addSignal"), ze = iZ(function() {
  return F3.records.boxes.length > 0;
}, "hasAtLeastOneBox"), zr = iZ(function() {
  return F3.records.boxes.some((t33) => t33.name);
}, "hasAtLeastOneBoxWithTitle"), zi = iZ(function() {
  return F3.records.messages;
}, "getMessages"), zn = iZ(function() {
  return F3.records.boxes;
}, "getBoxes"), za = iZ(function() {
  return F3.records.actors;
}, "getActors"), zo = iZ(function() {
  return F3.records.createdActors;
}, "getCreatedActors"), zs = iZ(function() {
  return F3.records.destroyedActors;
}, "getDestroyedActors"), zl = iZ(function(t33) {
  return F3.records.actors.get(t33);
}, "getActor"), zh = iZ(function() {
  return [...F3.records.actors.keys()];
}, "getActorKeys"), zc = iZ(function() {
  F3.records.sequenceNumbersEnabled = true;
}, "enableSequenceNumbers"), zu = iZ(function() {
  F3.records.sequenceNumbersEnabled = false;
}, "disableSequenceNumbers"), zd = iZ(() => F3.records.sequenceNumbersEnabled, "showSequenceNumbers"), zp = iZ(function(t33) {
  F3.records.wrapEnabled = t33;
}, "setWrap"), zg = iZ((t33) => {
  if (void 0 === t33) return {};
  t33 = t33.trim();
  let e10 = null !== /^:?wrap:/.exec(t33) || null === /^:?nowrap:/.exec(t33) && void 0;
  return { cleanedText: (void 0 === e10 ? t33 : t33.replace(/^:?(?:no)?wrap:/, "")).trim(), wrap: e10 };
}, "extractWrap"), zf = iZ(() => {
  var t33, e10;
  return void 0 !== F3.records.wrapEnabled ? F3.records.wrapEnabled : null !== (e10 = null === (t33 = nM().sequence) || void 0 === t33 ? void 0 : t33.wrap) && void 0 !== e10 && e10;
}, "autoWrap"), zm = iZ(function() {
  F3.reset(), ag();
}, "clear"), zy = iZ(function(t33) {
  let { wrap: e10, cleanedText: r10 } = zg(t33.trim()), i10 = { text: r10, wrap: e10 };
  return i0.debug(`parseMessage: ${JSON.stringify(i10)}`), i10;
}, "parseMessage"), zv = iZ(function(t33) {
  var e10;
  let r10 = /^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(t33), i10 = (null == r10 ? void 0 : r10[1]) ? r10[1].trim() : "transparent", n10 = (null == r10 ? void 0 : r10[2]) ? r10[2].trim() : void 0;
  if (null === (e10 = window) || void 0 === e10 ? void 0 : e10.CSS) window.CSS.supports("color", i10) || (i10 = "transparent", n10 = t33.trim());
  else {
    let e11 = new Option().style;
    e11.color = i10, e11.color !== i10 && (i10 = "transparent", n10 = t33.trim());
  }
  let { wrap: a10, cleanedText: o10 } = zg(n10);
  return { text: o10 ? nj(o10, nM()) : void 0, color: i10, wrap: a10 };
}, "parseBoxData"), zx = { SOLID: 0, DOTTED: 1, NOTE: 2, SOLID_CROSS: 3, DOTTED_CROSS: 4, SOLID_OPEN: 5, DOTTED_OPEN: 6, LOOP_START: 10, LOOP_END: 11, ALT_START: 12, ALT_ELSE: 13, ALT_END: 14, OPT_START: 15, OPT_END: 16, ACTIVE_START: 17, ACTIVE_END: 18, PAR_START: 19, PAR_AND: 20, PAR_END: 21, RECT_START: 22, RECT_END: 23, SOLID_POINT: 24, DOTTED_POINT: 25, AUTONUMBER: 26, CRITICAL_START: 27, CRITICAL_OPTION: 28, CRITICAL_END: 29, BREAK_START: 30, BREAK_END: 31, PAR_OVER_START: 32, BIDIRECTIONAL_SOLID: 33, BIDIRECTIONAL_DOTTED: 34 }, zb = iZ(function(t33, e10, r10) {
  var i10, n10;
  let a10 = { actor: t33, placement: e10, message: r10.text, wrap: null !== (i10 = r10.wrap) && void 0 !== i10 ? i10 : zf() }, o10 = [].concat(t33, t33);
  F3.records.notes.push(a10), F3.records.messages.push({ from: o10[0], to: o10[1], message: r10.text, wrap: null !== (n10 = r10.wrap) && void 0 !== n10 ? n10 : zf(), type: zx.NOTE, placement: e10 });
}, "addNote"), zw = iZ(function(t33, e10) {
  let r10 = zl(t33);
  try {
    let t34 = nj(e10.text, nM());
    t34 = (t34 = t34.replace(/&amp;/g, "&")).replace(/&equals;/g, "=");
    let i10 = JSON.parse(t34);
    z_(r10, i10);
  } catch (t34) {
    i0.error("error while parsing actor link text", t34);
  }
}, "addLinks"), zk = iZ(function(t33, e10) {
  let r10 = zl(t33);
  try {
    let t34 = {}, i10 = nj(e10.text, nM()), n10 = i10.indexOf("@"), a10 = (i10 = (i10 = i10.replace(/&amp;/g, "&")).replace(/&equals;/g, "=")).slice(0, n10 - 1).trim(), o10 = i10.slice(n10 + 1).trim();
    t34[a10] = o10, z_(r10, t34);
  } catch (t34) {
    i0.error("error while parsing actor link text", t34);
  }
}, "addALink");
function z_(t33, e10) {
  if (null == t33.links) t33.links = e10;
  else for (let r10 in e10) t33.links[r10] = e10[r10];
}
iZ(z_, "insertLinks");
var zT = iZ(function(t33, e10) {
  let r10 = zl(t33);
  try {
    let t34 = nj(e10.text, nM()), i10 = JSON.parse(t34);
    zE(r10, i10);
  } catch (t34) {
    i0.error("error while parsing actor properties text", t34);
  }
}, "addProperties");
function zE(t33, e10) {
  if (null == t33.properties) t33.properties = e10;
  else for (let r10 in e10) t33.properties[r10] = e10[r10];
}
function zC() {
  F3.records.currentBox = void 0;
}
iZ(zE, "insertProperties"), iZ(zC, "boxEnd");
var zS = iZ(function(t33, e10) {
  let r10 = zl(t33), i10 = document.getElementById(e10.text);
  try {
    let t34 = i10.innerHTML, e11 = JSON.parse(t34);
    e11.properties && zE(r10, e11.properties), e11.links && z_(r10, e11.links);
  } catch (t34) {
    i0.error("error while parsing actor details text", t34);
  }
}, "addDetails"), zA = iZ(function(t33, e10) {
  if ((null == t33 ? void 0 : t33.properties) !== void 0) return t33.properties[e10];
}, "getActorProperty"), zL = iZ(function(t33) {
  if (Array.isArray(t33)) t33.forEach(function(t34) {
    zL(t34);
  });
  else switch (t33.type) {
    case "sequenceIndex":
      F3.records.messages.push({ from: void 0, to: void 0, message: { start: t33.sequenceIndex, step: t33.sequenceIndexStep, visible: t33.sequenceVisible }, wrap: false, type: t33.signalType });
      break;
    case "addParticipant":
      F7(t33.actor, t33.actor, t33.description, t33.draw);
      break;
    case "createParticipant":
      if (F3.records.actors.has(t33.actor)) throw Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");
      F3.records.lastCreated = t33.actor, F7(t33.actor, t33.actor, t33.description, t33.draw), F3.records.createdActors.set(t33.actor, F3.records.messages.length);
      break;
    case "destroyParticipant":
      F3.records.lastDestroyed = t33.actor, F3.records.destroyedActors.set(t33.actor, F3.records.messages.length);
      break;
    case "activeStart":
    case "activeEnd":
      zt(t33.actor, void 0, void 0, t33.signalType);
      break;
    case "addNote":
      zb(t33.actor, t33.placement, t33.text);
      break;
    case "addLinks":
      zw(t33.actor, t33.text);
      break;
    case "addALink":
      zk(t33.actor, t33.text);
      break;
    case "addProperties":
      zT(t33.actor, t33.text);
      break;
    case "addDetails":
      zS(t33.actor, t33.text);
      break;
    case "addMessage":
      if (F3.records.lastCreated) {
        if (t33.to !== F3.records.lastCreated) throw Error("The created participant " + F3.records.lastCreated.name + " does not have an associated creating message after its declaration. Please check the sequence diagram.");
        F3.records.lastCreated = void 0;
      } else if (F3.records.lastDestroyed) {
        if (t33.to !== F3.records.lastDestroyed && t33.from !== F3.records.lastDestroyed) throw Error("The destroyed participant " + F3.records.lastDestroyed.name + " does not have an associated destroying message after its declaration. Please check the sequence diagram.");
        F3.records.lastDestroyed = void 0;
      }
      zt(t33.from, t33.to, t33.msg, t33.signalType, t33.activate);
      break;
    case "boxStart":
      F6(t33.boxData);
      break;
    case "boxEnd":
      zC();
      break;
    case "loopStart":
      zt(void 0, void 0, t33.loopText, t33.signalType);
      break;
    case "loopEnd":
    case "rectEnd":
    case "optEnd":
    case "altEnd":
    case "parEnd":
    case "criticalEnd":
    case "breakEnd":
      zt(void 0, void 0, void 0, t33.signalType);
      break;
    case "rectStart":
      zt(void 0, void 0, t33.color, t33.signalType);
      break;
    case "optStart":
      zt(void 0, void 0, t33.optText, t33.signalType);
      break;
    case "altStart":
    case "else":
      zt(void 0, void 0, t33.altText, t33.signalType);
      break;
    case "setAccTitle":
      af(t33.text);
      break;
    case "parStart":
    case "and":
      zt(void 0, void 0, t33.parText, t33.signalType);
      break;
    case "criticalStart":
      zt(void 0, void 0, t33.criticalText, t33.signalType);
      break;
    case "option":
      zt(void 0, void 0, t33.optionText, t33.signalType);
      break;
    case "breakStart":
      zt(void 0, void 0, t33.breakText, t33.signalType);
  }
}, "apply"), zN = { addActor: F7, addMessage: F9, addSignal: zt, addLinks: zw, addDetails: zS, addProperties: zT, autoWrap: zf, setWrap: zp, enableSequenceNumbers: zc, disableSequenceNumbers: zu, showSequenceNumbers: zd, getMessages: zi, getActors: za, getCreatedActors: zo, getDestroyedActors: zs, getActor: zl, getActorKeys: zh, getActorProperty: zA, getAccTitle: am, getBoxes: zn, getDiagramTitle: ab, setDiagramTitle: ax, getConfig: iZ(() => nM().sequence, "getConfig"), clear: zm, parseMessage: zy, parseBoxData: zv, LINETYPE: zx, ARROWTYPE: { FILLED: 0, OPEN: 1 }, PLACEMENT: { LEFTOF: 0, RIGHTOF: 1, OVER: 2 }, addNote: zb, setAccTitle: af, apply: zL, setAccDescription: ay, getAccDescription: av, hasAtLeastOneBox: ze, hasAtLeastOneBoxWithTitle: zr }, zI = iZ((t33) => `.actor {
    stroke: ${t33.actorBorder};
    fill: ${t33.actorBkg};
  }

  text.actor > tspan {
    fill: ${t33.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t33.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t33.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t33.signalColor};
  }

  #arrowhead path {
    fill: ${t33.signalColor};
    stroke: ${t33.signalColor};
  }

  .sequenceNumber {
    fill: ${t33.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t33.signalColor};
  }

  #crosshead path {
    fill: ${t33.signalColor};
    stroke: ${t33.signalColor};
  }

  .messageText {
    fill: ${t33.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t33.labelBoxBorderColor};
    fill: ${t33.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t33.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t33.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t33.labelBoxBorderColor};
    fill: ${t33.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t33.noteBorderColor};
    fill: ${t33.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t33.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t33.activationBkgColor};
    stroke: ${t33.activationBorderColor};
  }

  .activation1 {
    fill: ${t33.activationBkgColor};
    stroke: ${t33.activationBorderColor};
  }

  .activation2 {
    fill: ${t33.activationBkgColor};
    stroke: ${t33.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t33.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t33.actorBorder};
    fill: ${t33.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t33.actorBorder};
    fill: ${t33.actorBkg};
    stroke-width: 2px;
  }
`, "getStyles"), zM = "actor-top", zR = "actor-bottom", zD = "actor-man", zO = iZ(function(t33, e10) {
  return C_(t33, e10);
}, "drawRect"), zP = iZ(function(t33, e10, r10, i10, n10) {
  if (void 0 === e10.links || null === e10.links || 0 === Object.keys(e10.links).length) return { height: 0, width: 0 };
  let a10 = e10.links, o10 = e10.actorCnt, s10 = e10.rectData;
  var l10 = "none";
  n10 && (l10 = "block !important");
  let h10 = t33.append("g");
  h10.attr("id", "actor" + o10 + "_popup"), h10.attr("class", "actorPopupMenu"), h10.attr("display", l10);
  var u10 = "";
  void 0 !== s10.class && (u10 = " " + s10.class);
  let d10 = s10.width > r10 ? s10.width : r10, p10 = h10.append("rect");
  if (p10.attr("class", "actorPopupMenuPanel" + u10), p10.attr("x", s10.x), p10.attr("y", s10.height), p10.attr("fill", s10.fill), p10.attr("stroke", s10.stroke), p10.attr("width", d10), p10.attr("height", s10.height), p10.attr("rx", s10.rx), p10.attr("ry", s10.ry), null != a10) {
    var g10 = 20;
    for (let t34 in a10) {
      var f10 = h10.append("a"), y10 = ls.sanitizeUrl(a10[t34]);
      f10.attr("xlink:href", y10), f10.attr("target", "_blank"), z7(i10)(t34, f10, s10.x + 10, s10.height + g10, d10, 20, { class: "actor" }, i10), g10 += 30;
    }
  }
  return p10.attr("height", g10), { height: s10.height + g10, width: d10 };
}, "drawPopup"), z$ = iZ(function(t33) {
  return "var pu = document.getElementById('" + t33 + "'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }";
}, "popupMenuToggle"), zB = iZ(async function(t33, e10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, i10 = t33.append("foreignObject"), n10 = await at(e10.text, nM()), a10 = i10.append("xhtml:div").attr("style", "width: fit-content;").attr("xmlns", "http://www.w3.org/1999/xhtml").html(n10).node().getBoundingClientRect();
  if (i10.attr("height", Math.round(a10.height)).attr("width", Math.round(a10.width)), "noteText" === e10.class) {
    let r11 = t33.node().firstChild;
    r11.setAttribute("height", a10.height + 2 * e10.textMargin);
    let n11 = r11.getBBox();
    i10.attr("x", Math.round(n11.x + n11.width / 2 - a10.width / 2)).attr("y", Math.round(n11.y + n11.height / 2 - a10.height / 2));
  } else if (r10) {
    let { startx: t34, stopx: n11, starty: o10 } = r10;
    if (t34 > n11) {
      let e11 = t34;
      t34 = n11, n11 = e11;
    }
    i10.attr("x", Math.round(t34 + Math.abs(t34 - n11) / 2 - a10.width / 2)), "loopText" === e10.class ? i10.attr("y", Math.round(o10)) : i10.attr("y", Math.round(o10 - a10.height));
  }
  return [i10];
}, "drawKatex"), zF = iZ(function(t33, e10) {
  let r10 = 0, i10 = 0, n10 = e10.text.split(ae.lineBreakRegex), [a10, o10] = gk(e10.fontSize), s10 = [], l10 = 0, h10 = iZ(() => e10.y, "yfunc");
  if (void 0 !== e10.valign && void 0 !== e10.textMargin && e10.textMargin > 0) switch (e10.valign) {
    case "top":
    case "start":
      h10 = iZ(() => Math.round(e10.y + e10.textMargin), "yfunc");
      break;
    case "middle":
    case "center":
      h10 = iZ(() => Math.round(e10.y + (r10 + i10 + e10.textMargin) / 2), "yfunc");
      break;
    case "bottom":
    case "end":
      h10 = iZ(() => Math.round(e10.y + (r10 + i10 + 2 * e10.textMargin) - e10.textMargin), "yfunc");
  }
  if (void 0 !== e10.anchor && void 0 !== e10.textMargin && void 0 !== e10.width) switch (e10.anchor) {
    case "left":
    case "start":
      e10.x = Math.round(e10.x + e10.textMargin), e10.anchor = "start", e10.dominantBaseline = "middle", e10.alignmentBaseline = "middle";
      break;
    case "middle":
    case "center":
      e10.x = Math.round(e10.x + e10.width / 2), e10.anchor = "middle", e10.dominantBaseline = "middle", e10.alignmentBaseline = "middle";
      break;
    case "right":
    case "end":
      e10.x = Math.round(e10.x + e10.width - e10.textMargin), e10.anchor = "end", e10.dominantBaseline = "middle", e10.alignmentBaseline = "middle";
  }
  for (let [u10, d10] of n10.entries()) {
    void 0 !== e10.textMargin && 0 === e10.textMargin && void 0 !== a10 && (l10 = u10 * a10);
    let n11 = t33.append("text");
    n11.attr("x", e10.x), n11.attr("y", h10()), void 0 !== e10.anchor && n11.attr("text-anchor", e10.anchor).attr("dominant-baseline", e10.dominantBaseline).attr("alignment-baseline", e10.alignmentBaseline), void 0 !== e10.fontFamily && n11.style("font-family", e10.fontFamily), void 0 !== o10 && n11.style("font-size", o10), void 0 !== e10.fontWeight && n11.style("font-weight", e10.fontWeight), void 0 !== e10.fill && n11.attr("fill", e10.fill), void 0 !== e10.class && n11.attr("class", e10.class), void 0 !== e10.dy ? n11.attr("dy", e10.dy) : 0 !== l10 && n11.attr("dy", l10);
    let p10 = d10 || "​";
    if (e10.tspan) {
      let t34 = n11.append("tspan");
      t34.attr("x", e10.x), void 0 !== e10.fill && t34.attr("fill", e10.fill), t34.text(p10);
    } else n11.text(p10);
    void 0 !== e10.valign && void 0 !== e10.textMargin && e10.textMargin > 0 && (i10 += (n11._groups || n11)[0][0].getBBox().height, r10 = i10), s10.push(n11);
  }
  return s10;
}, "drawText"), zz = iZ(function(t33, e10) {
  function r10(t34, e11, r11, i11, n10) {
    return t34 + "," + e11 + " " + (t34 + r11) + "," + e11 + " " + (t34 + r11) + "," + (e11 + i11 - n10) + " " + (t34 + r11 - 1.2 * n10) + "," + (e11 + i11) + " " + t34 + "," + (e11 + i11);
  }
  iZ(r10, "genPoints");
  let i10 = t33.append("polygon");
  return i10.attr("points", r10(e10.x, e10.y, e10.width, e10.height, 7)), i10.attr("class", "labelBox"), e10.y = e10.y + e10.height / 2, zF(t33, e10), i10;
}, "drawLabel"), zU = -1, zG = iZ((t33, e10, r10, i10) => {
  t33.select && r10.forEach((r11) => {
    let n10 = e10.get(r11), a10 = t33.select("#actor" + n10.actorCnt);
    !i10.mirrorActors && n10.stopy ? a10.attr("y2", n10.stopy + n10.height / 2) : i10.mirrorActors && a10.attr("y2", n10.stopy);
  });
}, "fixLifeLineHeights"), zq = iZ(function(t33, e10, r10, i10) {
  let n10 = i10 ? e10.stopy : e10.starty, a10 = e10.x + e10.width / 2, o10 = n10 + e10.height, s10 = t33.append("g").lower();
  var l10, h10, u10 = s10;
  i10 || (zU++, Object.keys(e10.links || {}).length && !r10.forceMenus && u10.attr("onclick", z$(`actor${zU}_popup`)).attr("cursor", "pointer"), u10.append("line").attr("id", "actor" + zU).attr("x1", a10).attr("y1", o10).attr("x2", a10).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", e10.name), u10 = s10.append("g"), e10.actorCnt = zU, null != e10.links && u10.attr("id", "root-" + zU));
  let d10 = CA();
  var p10 = "actor";
  (null === (l10 = e10.properties) || void 0 === l10 ? void 0 : l10.class) ? p10 = e10.properties.class : d10.fill = "#eaeaea", i10 ? p10 += ` ${zR}` : p10 += ` ${zM}`, d10.x = e10.x, d10.y = n10, d10.width = e10.width, d10.height = e10.height, d10.class = p10, d10.rx = 3, d10.ry = 3, d10.name = e10.name;
  let g10 = zO(u10, d10);
  if (e10.rectData = d10, null === (h10 = e10.properties) || void 0 === h10 ? void 0 : h10.icon) {
    let t34 = e10.properties.icon.trim();
    "@" === t34.charAt(0) ? CS(u10, d10.x + d10.width - 20, d10.y + 10, t34.substr(1)) : CC(u10, d10.x + d10.width - 20, d10.y + 10, t34);
  }
  z6(r10, n8(e10.description))(e10.description, u10, d10.x, d10.y, d10.width, d10.height, { class: "actor actor-box" }, r10);
  let f10 = e10.height;
  if (g10.node) {
    let t34 = g10.node().getBBox();
    e10.height = t34.height, f10 = t34.height;
  }
  return f10;
}, "drawActorTypeParticipant"), zY = iZ(function(t33, e10, r10, i10) {
  let n10 = i10 ? e10.stopy : e10.starty, a10 = e10.x + e10.width / 2, o10 = n10 + 80, s10 = t33.append("g").lower();
  i10 || (zU++, s10.append("line").attr("id", "actor" + zU).attr("x1", a10).attr("y1", o10).attr("x2", a10).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", e10.name), e10.actorCnt = zU);
  let l10 = t33.append("g"), h10 = zD;
  i10 ? h10 += ` ${zR}` : h10 += ` ${zM}`, l10.attr("class", h10), l10.attr("name", e10.name);
  let u10 = CA();
  u10.x = e10.x, u10.y = n10, u10.fill = "#eaeaea", u10.width = e10.width, u10.height = e10.height, u10.class = "actor", u10.rx = 3, u10.ry = 3, l10.append("line").attr("id", "actor-man-torso" + zU).attr("x1", a10).attr("y1", n10 + 25).attr("x2", a10).attr("y2", n10 + 45), l10.append("line").attr("id", "actor-man-arms" + zU).attr("x1", a10 - 18).attr("y1", n10 + 33).attr("x2", a10 + 18).attr("y2", n10 + 33), l10.append("line").attr("x1", a10 - 18).attr("y1", n10 + 60).attr("x2", a10).attr("y2", n10 + 45), l10.append("line").attr("x1", a10).attr("y1", n10 + 45).attr("x2", a10 + 18 - 2).attr("y2", n10 + 60);
  let d10 = l10.append("circle");
  d10.attr("cx", e10.x + e10.width / 2), d10.attr("cy", n10 + 10), d10.attr("r", 15), d10.attr("width", e10.width), d10.attr("height", e10.height);
  let p10 = l10.node().getBBox();
  return e10.height = p10.height, z6(r10, n8(e10.description))(e10.description, l10, u10.x, u10.y + 35, u10.width, u10.height, { class: `actor ${zD}` }, r10), e10.height;
}, "drawActorTypeActor"), zH = iZ(async function(t33, e10, r10, i10) {
  switch (e10.type) {
    case "actor":
      return await zY(t33, e10, r10, i10);
    case "participant":
      return await zq(t33, e10, r10, i10);
  }
}, "drawActor"), zj = iZ(function(t33, e10, r10) {
  let i10 = t33.append("g");
  zK(i10, e10), e10.name && z6(r10)(e10.name, i10, e10.x, e10.y + (e10.textMaxHeight || 0) / 2, e10.width, 0, { class: "text" }, r10), i10.lower();
}, "drawBox"), zW = iZ(function(t33) {
  return t33.append("g");
}, "anchorElement"), zV = iZ(function(t33, e10, r10, i10, n10) {
  let a10 = CA(), o10 = e10.anchored;
  a10.x = e10.startx, a10.y = e10.starty, a10.class = "activation" + n10 % 3, a10.width = e10.stopx - e10.startx, a10.height = r10 - e10.starty, zO(o10, a10);
}, "drawActivation"), zX = iZ(async function(t33, e10, r10, i10) {
  let { boxMargin: n10, boxTextMargin: a10, labelBoxHeight: o10, labelBoxWidth: s10, messageFontFamily: l10, messageFontSize: h10, messageFontWeight: u10 } = i10, d10 = t33.append("g"), p10 = iZ(function(t34, e11, r11, i11) {
    return d10.append("line").attr("x1", t34).attr("y1", e11).attr("x2", r11).attr("y2", i11).attr("class", "loopLine");
  }, "drawLoopLine");
  p10(e10.startx, e10.starty, e10.stopx, e10.starty), p10(e10.stopx, e10.starty, e10.stopx, e10.stopy), p10(e10.startx, e10.stopy, e10.stopx, e10.stopy), p10(e10.startx, e10.starty, e10.startx, e10.stopy), void 0 !== e10.sections && e10.sections.forEach(function(t34) {
    p10(e10.startx, t34.y, e10.stopx, t34.y).style("stroke-dasharray", "3, 3");
  });
  let g10 = CL();
  g10.text = r10, g10.x = e10.startx, g10.y = e10.starty, g10.fontFamily = l10, g10.fontSize = h10, g10.fontWeight = u10, g10.anchor = "middle", g10.valign = "middle", g10.tspan = false, g10.width = s10 || 50, g10.height = o10 || 20, g10.textMargin = a10, g10.class = "labelText", zz(d10, g10), (g10 = z5()).text = e10.title, g10.x = e10.startx + s10 / 2 + (e10.stopx - e10.startx) / 2, g10.y = e10.starty + n10 + a10, g10.anchor = "middle", g10.valign = "middle", g10.textMargin = a10, g10.class = "loopText", g10.fontFamily = l10, g10.fontSize = h10, g10.fontWeight = u10, g10.wrap = true;
  let f10 = n8(g10.text) ? await zB(d10, g10, e10) : zF(d10, g10);
  if (void 0 !== e10.sectionTitles) {
    for (let [t34, r11] of Object.entries(e10.sectionTitles)) if (r11.message) {
      g10.text = r11.message, g10.x = e10.startx + (e10.stopx - e10.startx) / 2, g10.y = e10.sections[t34].y + n10 + a10, g10.class = "loopText", g10.anchor = "middle", g10.valign = "middle", g10.tspan = false, g10.fontFamily = l10, g10.fontSize = h10, g10.fontWeight = u10, g10.wrap = e10.wrap, n8(g10.text) ? (e10.starty = e10.sections[t34].y, await zB(d10, g10, e10)) : zF(d10, g10);
      let i11 = Math.round(f10.map((t35) => (t35._groups || t35)[0][0].getBBox().height).reduce((t35, e11) => t35 + e11));
      e10.sections[t34].height += i11 - (n10 + a10);
    }
  }
  return e10.height = Math.round(e10.stopy - e10.starty), d10;
}, "drawLoop"), zK = iZ(function(t33, e10) {
  CT(t33, e10);
}, "drawBackgroundRect"), zZ = iZ(function(t33) {
  t33.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr("d", "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z");
}, "insertDatabaseIcon"), zQ = iZ(function(t33) {
  t33.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z");
}, "insertComputerIcon"), zJ = iZ(function(t33) {
  t33.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z");
}, "insertClockIcon"), z0 = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 7.9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto-start-reverse").append("path").attr("d", "M -1 0 L 10 5 L 0 10 z");
}, "insertArrowHead"), z1 = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "filled-head").attr("refX", 15.5).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "insertArrowFilledHead"), z2 = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);
}, "insertSequenceNumber"), z4 = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 4).attr("refY", 4.5).append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1pt").attr("d", "M 1,2 L 6,7 M 6,2 L 1,7");
}, "insertArrowCrossHead"), z5 = iZ(function() {
  return { x: 0, y: 0, fill: void 0, anchor: void 0, style: "#666", width: void 0, height: void 0, textMargin: 0, rx: 0, ry: 0, tspan: true, valign: void 0 };
}, "getTextObj"), z3 = iZ(function() {
  return { x: 0, y: 0, fill: "#EDF2AE", stroke: "#666", width: 100, anchor: "start", height: 100, rx: 0, ry: 0 };
}, "getNoteRect"), z6 = function() {
  function t33(t34, e11, r11, i11, a10, o10, s10) {
    n10(e11.append("text").attr("x", r11 + a10 / 2).attr("y", i11 + o10 / 2 + 5).style("text-anchor", "middle").text(t34), s10);
  }
  function e10(t34, e11, r11, i11, a10, o10, s10, l10) {
    let { actorFontSize: h10, actorFontFamily: u10, actorFontWeight: d10 } = l10, [p10, g10] = gk(h10), f10 = t34.split(ae.lineBreakRegex);
    for (let t35 = 0; t35 < f10.length; t35++) {
      let l11 = t35 * p10 - p10 * (f10.length - 1) / 2, h11 = e11.append("text").attr("x", r11 + a10 / 2).attr("y", i11).style("text-anchor", "middle").style("font-size", g10).style("font-weight", d10).style("font-family", u10);
      h11.append("tspan").attr("x", r11 + a10 / 2).attr("dy", l11).text(f10[t35]), h11.attr("y", i11 + o10 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central"), n10(h11, s10);
    }
  }
  function r10(t34, r11, i11, a10, o10, s10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", i11).attr("y", a10).attr("width", o10).attr("height", s10).append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(t34), e10(t34, u10, i11, a10, o10, s10, l10, h10), n10(d10, l10);
  }
  async function i10(t34, r11, i11, a10, o10, s10, l10, h10) {
    let u10 = await n9(t34, nM()), d10 = r11.append("switch"), p10 = d10.append("foreignObject").attr("x", i11 + o10 / 2 - u10.width / 2).attr("y", a10 + s10 / 2 - u10.height / 2).attr("width", u10.width).attr("height", u10.height).append("xhtml:div").style("height", "100%").style("width", "100%");
    p10.append("div").style("text-align", "center").style("vertical-align", "middle").html(await at(t34, nM())), e10(t34, d10, i11, a10, o10, s10, l10, h10), n10(p10, l10);
  }
  function n10(t34, e11) {
    for (let r11 in e11) e11.hasOwnProperty(r11) && t34.attr(r11, e11[r11]);
  }
  return iZ(t33, "byText"), iZ(e10, "byTspan"), iZ(r10, "byFo"), iZ(i10, "byKatex"), iZ(n10, "_setTextAttrs"), function(n11) {
    let a10 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    return a10 ? i10 : "fo" === n11.textPlacement ? r10 : "old" === n11.textPlacement ? t33 : e10;
  };
}(), z7 = function() {
  function t33(t34, e11, r11, n10, a10, o10, s10) {
    i10(e11.append("text").attr("x", r11).attr("y", n10).style("text-anchor", "start").text(t34), s10);
  }
  function e10(t34, e11, r11, n10, a10, o10, s10, l10) {
    let { actorFontSize: h10, actorFontFamily: u10, actorFontWeight: d10 } = l10, p10 = t34.split(ae.lineBreakRegex);
    for (let t35 = 0; t35 < p10.length; t35++) {
      let a11 = t35 * h10 - h10 * (p10.length - 1) / 2, l11 = e11.append("text").attr("x", r11).attr("y", n10).style("text-anchor", "start").style("font-size", h10).style("font-weight", d10).style("font-family", u10);
      l11.append("tspan").attr("x", r11).attr("dy", a11).text(p10[t35]), l11.attr("y", n10 + o10 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central"), i10(l11, s10);
    }
  }
  function r10(t34, r11, n10, a10, o10, s10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", n10).attr("y", a10).attr("width", o10).attr("height", s10).append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(t34), e10(t34, u10, n10, a10, o10, s10, l10, h10), i10(d10, l10);
  }
  function i10(t34, e11) {
    for (let r11 in e11) e11.hasOwnProperty(r11) && t34.attr(r11, e11[r11]);
  }
  return iZ(t33, "byText"), iZ(e10, "byTspan"), iZ(r10, "byFo"), iZ(i10, "_setTextAttrs"), function(i11) {
    return "fo" === i11.textPlacement ? r10 : "old" === i11.textPlacement ? t33 : e10;
  };
}(), z8 = { drawRect: zO, drawText: zF, drawLabel: zz, drawActor: zH, drawBox: zj, drawPopup: zP, anchorElement: zW, drawActivation: zV, drawLoop: zX, drawBackgroundRect: zK, insertArrowHead: z0, insertArrowFilledHead: z1, insertSequenceNumber: z2, insertArrowCrossHead: z4, insertDatabaseIcon: zZ, insertComputerIcon: zQ, insertClockIcon: zJ, getTextObj: z5, getNoteRect: z3, fixLifeLineHeights: zG, sanitizeUrl: ls.sanitizeUrl }, z9 = {}, Ut = { data: { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, verticalPos: 0, sequenceItems: [], activations: [], models: { getHeight: iZ(function() {
  return Math.max.apply(null, 0 === this.actors.length ? [0] : this.actors.map((t33) => t33.height || 0)) + (0 === this.loops.length ? 0 : this.loops.map((t33) => t33.height || 0).reduce((t33, e10) => t33 + e10)) + (0 === this.messages.length ? 0 : this.messages.map((t33) => t33.height || 0).reduce((t33, e10) => t33 + e10)) + (0 === this.notes.length ? 0 : this.notes.map((t33) => t33.height || 0).reduce((t33, e10) => t33 + e10));
}, "getHeight"), clear: iZ(function() {
  this.actors = [], this.boxes = [], this.loops = [], this.messages = [], this.notes = [];
}, "clear"), addBox: iZ(function(t33) {
  this.boxes.push(t33);
}, "addBox"), addActor: iZ(function(t33) {
  this.actors.push(t33);
}, "addActor"), addLoop: iZ(function(t33) {
  this.loops.push(t33);
}, "addLoop"), addMessage: iZ(function(t33) {
  this.messages.push(t33);
}, "addMessage"), addNote: iZ(function(t33) {
  this.notes.push(t33);
}, "addNote"), lastActor: iZ(function() {
  return this.actors[this.actors.length - 1];
}, "lastActor"), lastLoop: iZ(function() {
  return this.loops[this.loops.length - 1];
}, "lastLoop"), lastMessage: iZ(function() {
  return this.messages[this.messages.length - 1];
}, "lastMessage"), lastNote: iZ(function() {
  return this.notes[this.notes.length - 1];
}, "lastNote"), actors: [], boxes: [], loops: [], messages: [], notes: [] }, init: iZ(function() {
  this.sequenceItems = [], this.activations = [], this.models.clear(), this.data = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, this.verticalPos = 0, Uc(nM());
}, "init"), updateVal: iZ(function(t33, e10, r10, i10) {
  void 0 === t33[e10] ? t33[e10] = r10 : t33[e10] = i10(r10, t33[e10]);
}, "updateVal"), updateBounds: iZ(function(t33, e10, r10, i10) {
  let n10 = this, a10 = 0;
  function o10(o11) {
    return iZ(function(s10) {
      a10++;
      let l10 = n10.sequenceItems.length - a10 + 1;
      n10.updateVal(s10, "starty", e10 - l10 * z9.boxMargin, Math.min), n10.updateVal(s10, "stopy", i10 + l10 * z9.boxMargin, Math.max), n10.updateVal(Ut.data, "startx", t33 - l10 * z9.boxMargin, Math.min), n10.updateVal(Ut.data, "stopx", r10 + l10 * z9.boxMargin, Math.max), "activation" !== o11 && (n10.updateVal(s10, "startx", t33 - l10 * z9.boxMargin, Math.min), n10.updateVal(s10, "stopx", r10 + l10 * z9.boxMargin, Math.max), n10.updateVal(Ut.data, "starty", e10 - l10 * z9.boxMargin, Math.min), n10.updateVal(Ut.data, "stopy", i10 + l10 * z9.boxMargin, Math.max));
    }, "updateItemBounds");
  }
  iZ(o10, "updateFn"), this.sequenceItems.forEach(o10()), this.activations.forEach(o10("activation"));
}, "updateBounds"), insert: iZ(function(t33, e10, r10, i10) {
  let n10 = ae.getMin(t33, r10), a10 = ae.getMax(t33, r10), o10 = ae.getMin(e10, i10), s10 = ae.getMax(e10, i10);
  this.updateVal(Ut.data, "startx", n10, Math.min), this.updateVal(Ut.data, "starty", o10, Math.min), this.updateVal(Ut.data, "stopx", a10, Math.max), this.updateVal(Ut.data, "stopy", s10, Math.max), this.updateBounds(n10, o10, a10, s10);
}, "insert"), newActivation: iZ(function(t33, e10, r10) {
  let i10 = r10.get(t33.from), n10 = Uu(t33.from).length || 0, a10 = i10.x + i10.width / 2 + (n10 - 1) * z9.activationWidth / 2;
  this.activations.push({ startx: a10, starty: this.verticalPos + 2, stopx: a10 + z9.activationWidth, stopy: void 0, actor: t33.from, anchored: z8.anchorElement(e10) });
}, "newActivation"), endActivation: iZ(function(t33) {
  let e10 = this.activations.map(function(t34) {
    return t34.actor;
  }).lastIndexOf(t33.from);
  return this.activations.splice(e10, 1)[0];
}, "endActivation"), createLoop: iZ(function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { message: void 0, wrap: false, width: void 0 }, e10 = arguments.length > 1 ? arguments[1] : void 0;
  return { startx: void 0, starty: this.verticalPos, stopx: void 0, stopy: void 0, title: t33.message, wrap: t33.wrap, width: t33.width, height: 0, fill: e10 };
}, "createLoop"), newLoop: iZ(function() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { message: void 0, wrap: false, width: void 0 }, e10 = arguments.length > 1 ? arguments[1] : void 0;
  this.sequenceItems.push(this.createLoop(t33, e10));
}, "newLoop"), endLoop: iZ(function() {
  return this.sequenceItems.pop();
}, "endLoop"), isLoopOverlap: iZ(function() {
  return !!this.sequenceItems.length && this.sequenceItems[this.sequenceItems.length - 1].overlap;
}, "isLoopOverlap"), addSectionToLoop: iZ(function(t33) {
  let e10 = this.sequenceItems.pop();
  e10.sections = e10.sections || [], e10.sectionTitles = e10.sectionTitles || [], e10.sections.push({ y: Ut.getVerticalPos(), height: 0 }), e10.sectionTitles.push(t33), this.sequenceItems.push(e10);
}, "addSectionToLoop"), saveVerticalPos: iZ(function() {
  this.isLoopOverlap() && (this.savedVerticalPos = this.verticalPos);
}, "saveVerticalPos"), resetVerticalPos: iZ(function() {
  this.isLoopOverlap() && (this.verticalPos = this.savedVerticalPos);
}, "resetVerticalPos"), bumpVerticalPos: iZ(function(t33) {
  this.verticalPos = this.verticalPos + t33, this.data.stopy = ae.getMax(this.data.stopy, this.verticalPos);
}, "bumpVerticalPos"), getVerticalPos: iZ(function() {
  return this.verticalPos;
}, "getVerticalPos"), getBounds: iZ(function() {
  return { bounds: this.data, models: this.models };
}, "getBounds") }, Ue = iZ(async function(t33, e10) {
  Ut.bumpVerticalPos(z9.boxMargin), e10.height = z9.boxMargin, e10.starty = Ut.getVerticalPos();
  let r10 = CA();
  r10.x = e10.startx, r10.y = e10.starty, r10.width = e10.width || z9.width, r10.class = "note";
  let i10 = t33.append("g"), n10 = z8.drawRect(i10, r10), a10 = CL();
  a10.x = e10.startx, a10.y = e10.starty, a10.width = r10.width, a10.dy = "1em", a10.text = e10.message, a10.class = "noteText", a10.fontFamily = z9.noteFontFamily, a10.fontSize = z9.noteFontSize, a10.fontWeight = z9.noteFontWeight, a10.anchor = z9.noteAlign, a10.textMargin = z9.noteMargin, a10.valign = "center";
  let o10 = Math.round((n8(a10.text) ? await zB(i10, a10) : zF(i10, a10)).map((t34) => (t34._groups || t34)[0][0].getBBox().height).reduce((t34, e11) => t34 + e11));
  n10.attr("height", o10 + 2 * z9.noteMargin), e10.height += o10 + 2 * z9.noteMargin, Ut.bumpVerticalPos(o10 + 2 * z9.noteMargin), e10.stopy = e10.starty + o10 + 2 * z9.noteMargin, e10.stopx = e10.startx + r10.width, Ut.insert(e10.startx, e10.starty, e10.stopx, e10.stopy), Ut.models.addNote(e10);
}, "drawNote"), Ur = iZ((t33) => ({ fontFamily: t33.messageFontFamily, fontSize: t33.messageFontSize, fontWeight: t33.messageFontWeight }), "messageFont"), Ui = iZ((t33) => ({ fontFamily: t33.noteFontFamily, fontSize: t33.noteFontSize, fontWeight: t33.noteFontWeight }), "noteFont"), Un = iZ((t33) => ({ fontFamily: t33.actorFontFamily, fontSize: t33.actorFontSize, fontWeight: t33.actorFontWeight }), "actorFont");
async function Ua(t33, e10) {
  let r10;
  Ut.bumpVerticalPos(10);
  let { startx: i10, stopx: n10, message: a10 } = e10, o10 = ae.splitBreaks(a10).length, s10 = n8(a10), l10 = s10 ? await n9(a10, nM()) : gT.calculateTextDimensions(a10, Ur(z9));
  if (!s10) {
    let t34 = l10.height / o10;
    e10.height += t34, Ut.bumpVerticalPos(t34);
  }
  let h10 = l10.height - 10, u10 = l10.width;
  if (i10 === n10) {
    r10 = Ut.getVerticalPos() + h10, z9.rightAngles || (h10 += z9.boxMargin, r10 = Ut.getVerticalPos() + h10), h10 += 30;
    let t34 = ae.getMax(u10 / 2, z9.width / 2);
    Ut.insert(i10 - t34, Ut.getVerticalPos() - 10 + h10, n10 + t34, Ut.getVerticalPos() + 30 + h10);
  } else h10 += z9.boxMargin, r10 = Ut.getVerticalPos() + h10, Ut.insert(i10, r10 - 10, n10, r10);
  return Ut.bumpVerticalPos(h10), e10.height += h10, e10.stopy = e10.starty + e10.height, Ut.insert(e10.fromBounds, e10.starty, e10.toBounds, e10.stopy), r10;
}
iZ(Ua, "boundMessage");
var Uo = iZ(async function(t33, e10, r10, i10) {
  let n10;
  let { startx: a10, stopx: o10, starty: s10, message: l10, type: h10, sequenceIndex: u10, sequenceVisible: d10 } = e10, p10 = gT.calculateTextDimensions(l10, Ur(z9)), g10 = CL();
  g10.x = a10, g10.y = s10 + 10, g10.width = o10 - a10, g10.class = "messageText", g10.dy = "1em", g10.text = l10, g10.fontFamily = z9.messageFontFamily, g10.fontSize = z9.messageFontSize, g10.fontWeight = z9.messageFontWeight, g10.anchor = z9.messageAlign, g10.valign = "center", g10.textMargin = z9.wrapPadding, g10.tspan = false, n8(g10.text) ? await zB(t33, g10, { startx: a10, stopx: o10, starty: r10 }) : zF(t33, g10);
  let f10 = p10.width;
  a10 === o10 ? n10 = z9.rightAngles ? t33.append("path").attr("d", `M  ${a10},${r10} H ${a10 + ae.getMax(z9.width / 2, f10 / 2)} V ${r10 + 25} H ${a10}`) : t33.append("path").attr("d", "M " + a10 + "," + r10 + " C " + (a10 + 60) + "," + (r10 - 10) + " " + (a10 + 60) + "," + (r10 + 30) + " " + a10 + "," + (r10 + 20)) : ((n10 = t33.append("line")).attr("x1", a10), n10.attr("y1", r10), n10.attr("x2", o10), n10.attr("y2", r10)), h10 === i10.db.LINETYPE.DOTTED || h10 === i10.db.LINETYPE.DOTTED_CROSS || h10 === i10.db.LINETYPE.DOTTED_POINT || h10 === i10.db.LINETYPE.DOTTED_OPEN || h10 === i10.db.LINETYPE.BIDIRECTIONAL_DOTTED ? (n10.style("stroke-dasharray", "3, 3"), n10.attr("class", "messageLine1")) : n10.attr("class", "messageLine0");
  let y10 = "";
  z9.arrowMarkerAbsolute && (y10 = (y10 = (y10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), n10.attr("stroke-width", 2), n10.attr("stroke", "none"), n10.style("fill", "none"), (h10 === i10.db.LINETYPE.SOLID || h10 === i10.db.LINETYPE.DOTTED) && n10.attr("marker-end", "url(" + y10 + "#arrowhead)"), (h10 === i10.db.LINETYPE.BIDIRECTIONAL_SOLID || h10 === i10.db.LINETYPE.BIDIRECTIONAL_DOTTED) && (n10.attr("marker-start", "url(" + y10 + "#arrowhead)"), n10.attr("marker-end", "url(" + y10 + "#arrowhead)")), (h10 === i10.db.LINETYPE.SOLID_POINT || h10 === i10.db.LINETYPE.DOTTED_POINT) && n10.attr("marker-end", "url(" + y10 + "#filled-head)"), (h10 === i10.db.LINETYPE.SOLID_CROSS || h10 === i10.db.LINETYPE.DOTTED_CROSS) && n10.attr("marker-end", "url(" + y10 + "#crosshead)"), (d10 || z9.showSequenceNumbers) && (n10.attr("marker-start", "url(" + y10 + "#sequencenumber)"), t33.append("text").attr("x", a10).attr("y", r10 + 4).attr("font-family", "sans-serif").attr("font-size", "12px").attr("text-anchor", "middle").attr("class", "sequenceNumber").text(u10));
}, "drawMessage"), Us = iZ(function(t33, e10, r10, i10, n10, a10, o10) {
  let s10, l10 = 0, h10 = 0, u10 = 0;
  for (let t34 of i10) {
    let i11 = e10.get(t34), a11 = i11.box;
    s10 && s10 != a11 && (o10 || Ut.models.addBox(s10), h10 += z9.boxMargin + s10.margin), a11 && a11 != s10 && (o10 || (a11.x = l10 + h10, a11.y = n10), h10 += a11.margin), i11.width = i11.width || z9.width, i11.height = ae.getMax(i11.height || z9.height, z9.height), i11.margin = i11.margin || z9.actorMargin, u10 = ae.getMax(u10, i11.height), r10.get(i11.name) && (h10 += i11.width / 2), i11.x = l10 + h10, i11.starty = Ut.getVerticalPos(), Ut.insert(i11.x, n10, i11.x + i11.width, i11.height), l10 += i11.width + h10, i11.box && (i11.box.width = l10 + a11.margin - i11.box.x), h10 = i11.margin, s10 = i11.box, Ut.models.addActor(i11);
  }
  s10 && !o10 && Ut.models.addBox(s10), Ut.bumpVerticalPos(u10);
}, "addActorRenderingData"), Ul = iZ(async function(t33, e10, r10, i10) {
  if (i10) {
    let i11 = 0;
    for (let n10 of (Ut.bumpVerticalPos(2 * z9.boxMargin), r10)) {
      let r11 = e10.get(n10);
      r11.stopy || (r11.stopy = Ut.getVerticalPos());
      let a10 = await z8.drawActor(t33, r11, z9, true);
      i11 = ae.getMax(i11, a10);
    }
    Ut.bumpVerticalPos(i11 + z9.boxMargin);
  } else for (let i11 of r10) {
    let r11 = e10.get(i11);
    await z8.drawActor(t33, r11, z9, false);
  }
}, "drawActors"), Uh = iZ(function(t33, e10, r10, i10) {
  let n10 = 0, a10 = 0;
  for (let o10 of r10) {
    let r11 = e10.get(o10), s10 = Uy(r11), l10 = z8.drawPopup(t33, r11, s10, z9, z9.forceMenus, i10);
    l10.height > n10 && (n10 = l10.height), l10.width + r11.x > a10 && (a10 = l10.width + r11.x);
  }
  return { maxHeight: n10, maxWidth: a10 };
}, "drawActorsPopup"), Uc = iZ(function(t33) {
  nr(z9, t33), t33.fontFamily && (z9.actorFontFamily = z9.noteFontFamily = z9.messageFontFamily = t33.fontFamily), t33.fontSize && (z9.actorFontSize = z9.noteFontSize = z9.messageFontSize = t33.fontSize), t33.fontWeight && (z9.actorFontWeight = z9.noteFontWeight = z9.messageFontWeight = t33.fontWeight);
}, "setConf"), Uu = iZ(function(t33) {
  return Ut.activations.filter(function(e10) {
    return e10.actor === t33;
  });
}, "actorActivations"), Ud = iZ(function(t33, e10) {
  let r10 = e10.get(t33), i10 = Uu(t33);
  return [i10.reduce(function(t34, e11) {
    return ae.getMin(t34, e11.startx);
  }, r10.x + r10.width / 2 - 1), i10.reduce(function(t34, e11) {
    return ae.getMax(t34, e11.stopx);
  }, r10.x + r10.width / 2 + 1)];
}, "activationBounds");
function Up(t33, e10, r10, i10, n10) {
  Ut.bumpVerticalPos(r10);
  let a10 = i10;
  if (e10.id && e10.message && t33[e10.id]) {
    let r11 = t33[e10.id].width, n11 = Ur(z9);
    e10.message = gT.wrapLabel(`[${e10.message}]`, r11 - 2 * z9.wrapPadding, n11), e10.width = r11, e10.wrap = true;
    let o10 = gT.calculateTextDimensions(e10.message, n11), s10 = ae.getMax(o10.height, z9.labelBoxHeight);
    a10 = i10 + s10, i0.debug(`${s10} - ${e10.message}`);
  }
  n10(e10), Ut.bumpVerticalPos(a10);
}
function Ug(t33, e10, r10, i10, n10, a10, o10) {
  function s10(r11, i11) {
    r11.x < n10.get(t33.from).x ? (Ut.insert(e10.stopx - i11, e10.starty, e10.startx, e10.stopy + r11.height / 2 + z9.noteMargin), e10.stopx = e10.stopx + i11) : (Ut.insert(e10.startx, e10.starty, e10.stopx + i11, e10.stopy + r11.height / 2 + z9.noteMargin), e10.stopx = e10.stopx - i11);
  }
  function l10(r11, i11) {
    r11.x < n10.get(t33.to).x ? (Ut.insert(e10.startx - i11, e10.starty, e10.stopx, e10.stopy + r11.height / 2 + z9.noteMargin), e10.startx = e10.startx + i11) : (Ut.insert(e10.stopx, e10.starty, e10.startx + i11, e10.stopy + r11.height / 2 + z9.noteMargin), e10.startx = e10.startx - i11);
  }
  if (iZ(s10, "receiverAdjustment"), iZ(l10, "senderAdjustment"), a10.get(t33.to) == i10) {
    let e11 = n10.get(t33.to), i11 = "actor" == e11.type ? 21 : e11.width / 2 + 3;
    s10(e11, i11), e11.starty = r10 - e11.height / 2, Ut.bumpVerticalPos(e11.height / 2);
  } else if (o10.get(t33.from) == i10) {
    let e11 = n10.get(t33.from);
    if (z9.mirrorActors) {
      let t34 = "actor" == e11.type ? 18 : e11.width / 2;
      l10(e11, t34);
    }
    e11.stopy = r10 - e11.height / 2, Ut.bumpVerticalPos(e11.height / 2);
  } else if (o10.get(t33.to) == i10) {
    let e11 = n10.get(t33.to);
    if (z9.mirrorActors) {
      let t34 = "actor" == e11.type ? 21 : e11.width / 2 + 3;
      s10(e11, t34);
    }
    e11.stopy = r10 - e11.height / 2, Ut.bumpVerticalPos(e11.height / 2);
  }
}
iZ(Up, "adjustLoopHeightForWrap"), iZ(Ug, "adjustCreatedDestroyedData");
var Uf = iZ(async function(t33, e10, r10, i10) {
  let n10;
  let { securityLevel: a10, sequence: o10 } = nM();
  z9 = o10, "sandbox" === a10 && (n10 = hl("#i" + e10));
  let s10 = "sandbox" === a10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body"), l10 = "sandbox" === a10 ? n10.nodes()[0].contentDocument : document;
  Ut.init(), i0.debug(i10.db);
  let h10 = "sandbox" === a10 ? s10.select(`[id="${e10}"]`) : hl(`[id="${e10}"]`), u10 = i10.db.getActors(), d10 = i10.db.getCreatedActors(), p10 = i10.db.getDestroyedActors(), g10 = i10.db.getBoxes(), f10 = i10.db.getActorKeys(), y10 = i10.db.getMessages(), v10 = i10.db.getDiagramTitle(), x10 = i10.db.hasAtLeastOneBox(), b10 = i10.db.hasAtLeastOneBoxWithTitle(), w10 = await Um(u10, y10, i10);
  if (z9.height = await Uv(u10, w10, g10), z8.insertComputerIcon(h10), z8.insertDatabaseIcon(h10), z8.insertClockIcon(h10), x10 && (Ut.bumpVerticalPos(z9.boxMargin), b10 && Ut.bumpVerticalPos(g10[0].textMaxHeight)), true === z9.hideUnusedParticipants) {
    let t34 = /* @__PURE__ */ new Set();
    y10.forEach((e11) => {
      t34.add(e11.from), t34.add(e11.to);
    }), f10 = f10.filter((e11) => t34.has(e11));
  }
  Us(h10, u10, d10, f10, 0, y10, false);
  let k10 = await Uw(y10, u10, w10, i10);
  function _10(t34, e11) {
    let r11 = Ut.endActivation(t34);
    r11.starty + 18 > e11 && (r11.starty = e11 - 6, e11 += 12), z8.drawActivation(h10, r11, e11, z9, Uu(t34.from).length), Ut.insert(r11.startx, e11 - 10, r11.stopx, e11);
  }
  z8.insertArrowHead(h10), z8.insertArrowCrossHead(h10), z8.insertArrowFilledHead(h10), z8.insertSequenceNumber(h10), iZ(_10, "activeEnd");
  let T10 = 1, E10 = 1, C10 = [], S10 = [], A10 = 0;
  for (let t34 of y10) {
    let e11, r11, n11;
    switch (t34.type) {
      case i10.db.LINETYPE.NOTE:
        Ut.resetVerticalPos(), r11 = t34.noteModel, await Ue(h10, r11);
        break;
      case i10.db.LINETYPE.ACTIVE_START:
        Ut.newActivation(t34, h10, u10);
        break;
      case i10.db.LINETYPE.ACTIVE_END:
        _10(t34, Ut.getVerticalPos());
        break;
      case i10.db.LINETYPE.LOOP_START:
        Up(k10, t34, z9.boxMargin, z9.boxMargin + z9.boxTextMargin, (t35) => Ut.newLoop(t35));
        break;
      case i10.db.LINETYPE.LOOP_END:
        e11 = Ut.endLoop(), await z8.drawLoop(h10, e11, "loop", z9), Ut.bumpVerticalPos(e11.stopy - Ut.getVerticalPos()), Ut.models.addLoop(e11);
        break;
      case i10.db.LINETYPE.RECT_START:
        Up(k10, t34, z9.boxMargin, z9.boxMargin, (t35) => Ut.newLoop(void 0, t35.message));
        break;
      case i10.db.LINETYPE.RECT_END:
        e11 = Ut.endLoop(), S10.push(e11), Ut.models.addLoop(e11), Ut.bumpVerticalPos(e11.stopy - Ut.getVerticalPos());
        break;
      case i10.db.LINETYPE.OPT_START:
        Up(k10, t34, z9.boxMargin, z9.boxMargin + z9.boxTextMargin, (t35) => Ut.newLoop(t35));
        break;
      case i10.db.LINETYPE.OPT_END:
        e11 = Ut.endLoop(), await z8.drawLoop(h10, e11, "opt", z9), Ut.bumpVerticalPos(e11.stopy - Ut.getVerticalPos()), Ut.models.addLoop(e11);
        break;
      case i10.db.LINETYPE.ALT_START:
        Up(k10, t34, z9.boxMargin, z9.boxMargin + z9.boxTextMargin, (t35) => Ut.newLoop(t35));
        break;
      case i10.db.LINETYPE.ALT_ELSE:
        Up(k10, t34, z9.boxMargin + z9.boxTextMargin, z9.boxMargin, (t35) => Ut.addSectionToLoop(t35));
        break;
      case i10.db.LINETYPE.ALT_END:
        e11 = Ut.endLoop(), await z8.drawLoop(h10, e11, "alt", z9), Ut.bumpVerticalPos(e11.stopy - Ut.getVerticalPos()), Ut.models.addLoop(e11);
        break;
      case i10.db.LINETYPE.PAR_START:
      case i10.db.LINETYPE.PAR_OVER_START:
        Up(k10, t34, z9.boxMargin, z9.boxMargin + z9.boxTextMargin, (t35) => Ut.newLoop(t35)), Ut.saveVerticalPos();
        break;
      case i10.db.LINETYPE.PAR_AND:
        Up(k10, t34, z9.boxMargin + z9.boxTextMargin, z9.boxMargin, (t35) => Ut.addSectionToLoop(t35));
        break;
      case i10.db.LINETYPE.PAR_END:
        e11 = Ut.endLoop(), await z8.drawLoop(h10, e11, "par", z9), Ut.bumpVerticalPos(e11.stopy - Ut.getVerticalPos()), Ut.models.addLoop(e11);
        break;
      case i10.db.LINETYPE.AUTONUMBER:
        T10 = t34.message.start || T10, E10 = t34.message.step || E10, t34.message.visible ? i10.db.enableSequenceNumbers() : i10.db.disableSequenceNumbers();
        break;
      case i10.db.LINETYPE.CRITICAL_START:
        Up(k10, t34, z9.boxMargin, z9.boxMargin + z9.boxTextMargin, (t35) => Ut.newLoop(t35));
        break;
      case i10.db.LINETYPE.CRITICAL_OPTION:
        Up(k10, t34, z9.boxMargin + z9.boxTextMargin, z9.boxMargin, (t35) => Ut.addSectionToLoop(t35));
        break;
      case i10.db.LINETYPE.CRITICAL_END:
        e11 = Ut.endLoop(), await z8.drawLoop(h10, e11, "critical", z9), Ut.bumpVerticalPos(e11.stopy - Ut.getVerticalPos()), Ut.models.addLoop(e11);
        break;
      case i10.db.LINETYPE.BREAK_START:
        Up(k10, t34, z9.boxMargin, z9.boxMargin + z9.boxTextMargin, (t35) => Ut.newLoop(t35));
        break;
      case i10.db.LINETYPE.BREAK_END:
        e11 = Ut.endLoop(), await z8.drawLoop(h10, e11, "break", z9), Ut.bumpVerticalPos(e11.stopy - Ut.getVerticalPos()), Ut.models.addLoop(e11);
        break;
      default:
        try {
          (n11 = t34.msgModel).starty = Ut.getVerticalPos(), n11.sequenceIndex = T10, n11.sequenceVisible = i10.db.showSequenceNumbers();
          let e12 = await Ua(h10, n11);
          Ug(t34, n11, e12, A10, u10, d10, p10), C10.push({ messageModel: n11, lineStartY: e12 }), Ut.models.addMessage(n11);
        } catch (t35) {
          i0.error("error while drawing message", t35);
        }
    }
    [i10.db.LINETYPE.SOLID_OPEN, i10.db.LINETYPE.DOTTED_OPEN, i10.db.LINETYPE.SOLID, i10.db.LINETYPE.DOTTED, i10.db.LINETYPE.SOLID_CROSS, i10.db.LINETYPE.DOTTED_CROSS, i10.db.LINETYPE.SOLID_POINT, i10.db.LINETYPE.DOTTED_POINT, i10.db.LINETYPE.BIDIRECTIONAL_SOLID, i10.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t34.type) && (T10 += E10), A10++;
  }
  for (let t34 of (i0.debug("createdActors", d10), i0.debug("destroyedActors", p10), await Ul(h10, u10, f10, false), C10)) await Uo(h10, t34.messageModel, t34.lineStartY, i10);
  for (let t34 of (z9.mirrorActors && await Ul(h10, u10, f10, true), S10.forEach((t35) => z8.drawBackgroundRect(h10, t35)), zG(h10, u10, f10, z9), Ut.models.boxes)) t34.height = Ut.getVerticalPos() - t34.y, Ut.insert(t34.x, t34.y, t34.x + t34.width, t34.height), t34.startx = t34.x, t34.starty = t34.y, t34.stopx = t34.startx + t34.width, t34.stopy = t34.starty + t34.height, t34.stroke = "rgb(0,0,0, 0.5)", z8.drawBox(h10, t34, z9);
  x10 && Ut.bumpVerticalPos(z9.boxMargin);
  let L10 = Uh(h10, u10, f10, l10), { bounds: N10 } = Ut.getBounds();
  void 0 === N10.startx && (N10.startx = 0), void 0 === N10.starty && (N10.starty = 0), void 0 === N10.stopx && (N10.stopx = 0), void 0 === N10.stopy && (N10.stopy = 0);
  let I10 = N10.stopy - N10.starty;
  I10 < L10.maxHeight && (I10 = L10.maxHeight);
  let M10 = I10 + 2 * z9.diagramMarginY;
  z9.mirrorActors && (M10 = M10 - z9.boxMargin + z9.bottomMarginAdj);
  let R10 = N10.stopx - N10.startx;
  R10 < L10.maxWidth && (R10 = L10.maxWidth);
  let D10 = R10 + 2 * z9.diagramMarginX;
  v10 && h10.append("text").text(v10).attr("x", (N10.stopx - N10.startx) / 2 - 2 * z9.diagramMarginX).attr("y", -25), an(h10, M10, D10, z9.useMaxWidth);
  let O10 = v10 ? 40 : 0;
  h10.attr("viewBox", N10.startx - z9.diagramMarginX + " -" + (z9.diagramMarginY + O10) + " " + D10 + " " + (M10 + O10)), i0.debug("models:", Ut.models);
}, "draw");
async function Um(t33, e10, r10) {
  let i10 = {};
  for (let n10 of e10) if (t33.get(n10.to) && t33.get(n10.from)) {
    let e11 = t33.get(n10.to);
    if (n10.placement === r10.db.PLACEMENT.LEFTOF && !e11.prevActor || n10.placement === r10.db.PLACEMENT.RIGHTOF && !e11.nextActor) continue;
    let a10 = void 0 !== n10.placement, o10 = !a10, s10 = a10 ? Ui(z9) : Ur(z9), l10 = n10.wrap ? gT.wrapLabel(n10.message, z9.width - 2 * z9.wrapPadding, s10) : n10.message, h10 = (n8(l10) ? await n9(n10.message, nM()) : gT.calculateTextDimensions(l10, s10)).width + 2 * z9.wrapPadding;
    o10 && n10.from === e11.nextActor ? i10[n10.to] = ae.getMax(i10[n10.to] || 0, h10) : o10 && n10.from === e11.prevActor ? i10[n10.from] = ae.getMax(i10[n10.from] || 0, h10) : o10 && n10.from === n10.to ? (i10[n10.from] = ae.getMax(i10[n10.from] || 0, h10 / 2), i10[n10.to] = ae.getMax(i10[n10.to] || 0, h10 / 2)) : n10.placement === r10.db.PLACEMENT.RIGHTOF ? i10[n10.from] = ae.getMax(i10[n10.from] || 0, h10) : n10.placement === r10.db.PLACEMENT.LEFTOF ? i10[e11.prevActor] = ae.getMax(i10[e11.prevActor] || 0, h10) : n10.placement === r10.db.PLACEMENT.OVER && (e11.prevActor && (i10[e11.prevActor] = ae.getMax(i10[e11.prevActor] || 0, h10 / 2)), e11.nextActor && (i10[n10.from] = ae.getMax(i10[n10.from] || 0, h10 / 2)));
  }
  return i0.debug("maxMessageWidthPerActor:", i10), i10;
}
iZ(Um, "getMaxMessageWidthPerActor");
var Uy = iZ(function(t33) {
  let e10 = 0, r10 = Un(z9);
  for (let i10 in t33.links) {
    let t34 = gT.calculateTextDimensions(i10, r10).width + 2 * z9.wrapPadding + 2 * z9.boxMargin;
    e10 < t34 && (e10 = t34);
  }
  return e10;
}, "getRequiredPopupWidth");
async function Uv(t33, e10, r10) {
  let i10 = 0;
  for (let e11 of t33.keys()) {
    let r11 = t33.get(e11);
    r11.wrap && (r11.description = gT.wrapLabel(r11.description, z9.width - 2 * z9.wrapPadding, Un(z9)));
    let n11 = n8(r11.description) ? await n9(r11.description, nM()) : gT.calculateTextDimensions(r11.description, Un(z9));
    r11.width = r11.wrap ? z9.width : ae.getMax(z9.width, n11.width + 2 * z9.wrapPadding), r11.height = r11.wrap ? ae.getMax(n11.height, z9.height) : z9.height, i10 = ae.getMax(i10, r11.height);
  }
  for (let r11 in e10) {
    let i11 = t33.get(r11);
    if (!i11) continue;
    let n11 = t33.get(i11.nextActor);
    if (!n11) {
      let t34 = e10[r11] + z9.actorMargin - i11.width / 2;
      i11.margin = ae.getMax(t34, z9.actorMargin);
      continue;
    }
    let a10 = e10[r11] + z9.actorMargin - i11.width / 2 - n11.width / 2;
    i11.margin = ae.getMax(a10, z9.actorMargin);
  }
  let n10 = 0;
  return r10.forEach((e11) => {
    let r11 = Ur(z9), i11 = e11.actorKeys.reduce((e12, r12) => e12 += t33.get(r12).width + (t33.get(r12).margin || 0), 0);
    i11 -= 2 * z9.boxTextMargin, e11.wrap && (e11.name = gT.wrapLabel(e11.name, i11 - 2 * z9.wrapPadding, r11));
    let a10 = gT.calculateTextDimensions(e11.name, r11);
    n10 = ae.getMax(a10.height, n10);
    let o10 = ae.getMax(i11, a10.width + 2 * z9.wrapPadding);
    if (e11.margin = z9.boxTextMargin, i11 < o10) {
      let t34 = (o10 - i11) / 2;
      e11.margin += t34;
    }
  }), r10.forEach((t34) => t34.textMaxHeight = n10), ae.getMax(i10, z9.height);
}
iZ(Uv, "calculateActorMargins");
var Ux = iZ(async function(t33, e10, r10) {
  let i10 = e10.get(t33.from), n10 = e10.get(t33.to), a10 = i10.x, o10 = n10.x, s10 = t33.wrap && t33.message, l10 = n8(t33.message) ? await n9(t33.message, nM()) : gT.calculateTextDimensions(s10 ? gT.wrapLabel(t33.message, z9.width, Ui(z9)) : t33.message, Ui(z9)), h10 = { width: s10 ? z9.width : ae.getMax(z9.width, l10.width + 2 * z9.noteMargin), height: 0, startx: i10.x, stopx: 0, starty: 0, stopy: 0, message: t33.message };
  return t33.placement === r10.db.PLACEMENT.RIGHTOF ? (h10.width = s10 ? ae.getMax(z9.width, l10.width) : ae.getMax(i10.width / 2 + n10.width / 2, l10.width + 2 * z9.noteMargin), h10.startx = a10 + (i10.width + z9.actorMargin) / 2) : t33.placement === r10.db.PLACEMENT.LEFTOF ? (h10.width = s10 ? ae.getMax(z9.width, l10.width + 2 * z9.noteMargin) : ae.getMax(i10.width / 2 + n10.width / 2, l10.width + 2 * z9.noteMargin), h10.startx = a10 - h10.width + (i10.width - z9.actorMargin) / 2) : t33.to === t33.from ? (l10 = gT.calculateTextDimensions(s10 ? gT.wrapLabel(t33.message, ae.getMax(z9.width, i10.width), Ui(z9)) : t33.message, Ui(z9)), h10.width = s10 ? ae.getMax(z9.width, i10.width) : ae.getMax(i10.width, z9.width, l10.width + 2 * z9.noteMargin), h10.startx = a10 + (i10.width - h10.width) / 2) : (h10.width = Math.abs(a10 + i10.width / 2 - (o10 + n10.width / 2)) + z9.actorMargin, h10.startx = a10 < o10 ? a10 + i10.width / 2 - z9.actorMargin / 2 : o10 + n10.width / 2 - z9.actorMargin / 2), s10 && (h10.message = gT.wrapLabel(t33.message, h10.width - 2 * z9.wrapPadding, Ui(z9))), i0.debug(`NM:[${h10.startx},${h10.stopx},${h10.starty},${h10.stopy}:${h10.width},${h10.height}=${t33.message}]`), h10;
}, "buildNoteModel"), Ub = iZ(function(t33, e10, r10) {
  if (![r10.db.LINETYPE.SOLID_OPEN, r10.db.LINETYPE.DOTTED_OPEN, r10.db.LINETYPE.SOLID, r10.db.LINETYPE.DOTTED, r10.db.LINETYPE.SOLID_CROSS, r10.db.LINETYPE.DOTTED_CROSS, r10.db.LINETYPE.SOLID_POINT, r10.db.LINETYPE.DOTTED_POINT, r10.db.LINETYPE.BIDIRECTIONAL_SOLID, r10.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t33.type)) return {};
  let [i10, n10] = Ud(t33.from, e10), [a10, o10] = Ud(t33.to, e10), s10 = i10 <= a10, l10 = s10 ? n10 : i10, h10 = s10 ? a10 : o10, u10 = Math.abs(a10 - o10) > 2, d10 = iZ((t34) => s10 ? -t34 : t34, "adjustValue");
  t33.from === t33.to ? h10 = l10 : (t33.activate && !u10 && (h10 += d10(z9.activationWidth / 2 - 1)), [r10.db.LINETYPE.SOLID_OPEN, r10.db.LINETYPE.DOTTED_OPEN].includes(t33.type) || (h10 += d10(3)), [r10.db.LINETYPE.BIDIRECTIONAL_SOLID, r10.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t33.type) && (l10 -= d10(3)));
  let p10 = [i10, n10, a10, o10], g10 = Math.abs(l10 - h10);
  t33.wrap && t33.message && (t33.message = gT.wrapLabel(t33.message, ae.getMax(g10 + 2 * z9.wrapPadding, z9.width), Ur(z9)));
  let f10 = gT.calculateTextDimensions(t33.message, Ur(z9));
  return { width: ae.getMax(t33.wrap ? 0 : f10.width + 2 * z9.wrapPadding, g10 + 2 * z9.wrapPadding, z9.width), height: 0, startx: l10, stopx: h10, starty: 0, stopy: 0, message: t33.message, type: t33.type, wrap: t33.wrap, fromBounds: Math.min.apply(null, p10), toBounds: Math.max.apply(null, p10) };
}, "buildMessageModel"), Uw = iZ(async function(t33, e10, r10, i10) {
  let n10, a10, o10;
  let s10 = {}, l10 = [];
  for (let r11 of t33) {
    switch (r11.id = gT.random({ length: 10 }), r11.type) {
      case i10.db.LINETYPE.LOOP_START:
      case i10.db.LINETYPE.ALT_START:
      case i10.db.LINETYPE.OPT_START:
      case i10.db.LINETYPE.PAR_START:
      case i10.db.LINETYPE.PAR_OVER_START:
      case i10.db.LINETYPE.CRITICAL_START:
      case i10.db.LINETYPE.BREAK_START:
        l10.push({ id: r11.id, msg: r11.message, from: Number.MAX_SAFE_INTEGER, to: Number.MIN_SAFE_INTEGER, width: 0 });
        break;
      case i10.db.LINETYPE.ALT_ELSE:
      case i10.db.LINETYPE.PAR_AND:
      case i10.db.LINETYPE.CRITICAL_OPTION:
        r11.message && (s10[(n10 = l10.pop()).id] = n10, s10[r11.id] = n10, l10.push(n10));
        break;
      case i10.db.LINETYPE.LOOP_END:
      case i10.db.LINETYPE.ALT_END:
      case i10.db.LINETYPE.OPT_END:
      case i10.db.LINETYPE.PAR_END:
      case i10.db.LINETYPE.CRITICAL_END:
      case i10.db.LINETYPE.BREAK_END:
        s10[(n10 = l10.pop()).id] = n10;
        break;
      case i10.db.LINETYPE.ACTIVE_START:
        {
          let t34 = e10.get(r11.from ? r11.from : r11.to.actor), i11 = Uu(r11.from ? r11.from : r11.to.actor).length, n11 = t34.x + t34.width / 2 + (i11 - 1) * z9.activationWidth / 2, a11 = { startx: n11, stopx: n11 + z9.activationWidth, actor: r11.from, enabled: true };
          Ut.activations.push(a11);
        }
        break;
      case i10.db.LINETYPE.ACTIVE_END: {
        let t34 = Ut.activations.map((t35) => t35.actor).lastIndexOf(r11.from);
        Ut.activations.splice(t34, 1).splice(0, 1);
      }
    }
    void 0 !== r11.placement ? (a10 = await Ux(r11, e10, i10), r11.noteModel = a10, l10.forEach((t34) => {
      (n10 = t34).from = ae.getMin(n10.from, a10.startx), n10.to = ae.getMax(n10.to, a10.startx + a10.width), n10.width = ae.getMax(n10.width, Math.abs(n10.from - n10.to)) - z9.labelBoxWidth;
    })) : (o10 = Ub(r11, e10, i10), r11.msgModel = o10, o10.startx && o10.stopx && l10.length > 0 && l10.forEach((t34) => {
      if (n10 = t34, o10.startx === o10.stopx) {
        let t35 = e10.get(r11.from), i11 = e10.get(r11.to);
        n10.from = ae.getMin(t35.x - o10.width / 2, t35.x - t35.width / 2, n10.from), n10.to = ae.getMax(i11.x + o10.width / 2, i11.x + t35.width / 2, n10.to), n10.width = ae.getMax(n10.width, Math.abs(n10.to - n10.from)) - z9.labelBoxWidth;
      } else n10.from = ae.getMin(o10.startx, n10.from), n10.to = ae.getMax(o10.stopx, n10.to), n10.width = ae.getMax(n10.width, o10.width) - z9.labelBoxWidth;
    }));
  }
  return Ut.activations = [], i0.debug("Loop type widths:", s10), s10;
}, "calculateLoopBounds");
let Uk = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: F5, db: zN, renderer: { bounds: Ut, drawActors: Ul, drawActorsPopup: Uh, setConf: Uc, draw: Uf }, styles: zI, init: iZ((t33) => {
  let { wrap: e10 } = t33;
  zN.setWrap(e10);
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var U_ = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 18], r10 = [1, 19], i10 = [1, 20], n10 = [1, 41], a10 = [1, 42], o10 = [1, 26], s10 = [1, 24], l10 = [1, 25], h10 = [1, 32], u10 = [1, 33], d10 = [1, 34], p10 = [1, 45], g10 = [1, 35], f10 = [1, 36], y10 = [1, 37], v10 = [1, 38], x10 = [1, 27], b10 = [1, 28], w10 = [1, 29], k10 = [1, 30], _10 = [1, 31], T10 = [1, 44], E10 = [1, 46], C10 = [1, 43], S10 = [1, 47], A10 = [1, 9], L10 = [1, 8, 9], N10 = [1, 58], I10 = [1, 59], M10 = [1, 60], R10 = [1, 61], D10 = [1, 62], O10 = [1, 63], P10 = [1, 64], $10 = [1, 8, 9, 41], B10 = [1, 76], F10 = [1, 8, 9, 12, 13, 22, 39, 41, 44, 66, 67, 68, 69, 70, 71, 72, 77, 79], z10 = [1, 8, 9, 12, 13, 17, 20, 22, 39, 41, 44, 48, 58, 66, 67, 68, 69, 70, 71, 72, 77, 79, 84, 99, 101, 102], U10 = [13, 58, 84, 99, 101, 102], G10 = [13, 58, 71, 72, 84, 99, 101, 102], q10 = [13, 58, 66, 67, 68, 69, 70, 84, 99, 101, 102], Y10 = [1, 98], H10 = [1, 115], j10 = [1, 107], W10 = [1, 113], V10 = [1, 108], X10 = [1, 109], K10 = [1, 110], Z10 = [1, 111], Q10 = [1, 112], J10 = [1, 114], tt10 = [22, 58, 59, 80, 84, 85, 86, 87, 88, 89], te10 = [1, 8, 9, 39, 41, 44], tr10 = [1, 8, 9, 22], ti10 = [1, 143], tn10 = [1, 8, 9, 59], ta10 = [1, 8, 9, 22, 58, 59, 80, 84, 85, 86, 87, 88, 89], to10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mermaidDoc: 4, statements: 5, graphConfig: 6, CLASS_DIAGRAM: 7, NEWLINE: 8, EOF: 9, statement: 10, classLabel: 11, SQS: 12, STR: 13, SQE: 14, namespaceName: 15, alphaNumToken: 16, DOT: 17, className: 18, classLiteralName: 19, GENERICTYPE: 20, relationStatement: 21, LABEL: 22, namespaceStatement: 23, classStatement: 24, memberStatement: 25, annotationStatement: 26, clickStatement: 27, styleStatement: 28, cssClassStatement: 29, noteStatement: 30, classDefStatement: 31, direction: 32, acc_title: 33, acc_title_value: 34, acc_descr: 35, acc_descr_value: 36, acc_descr_multiline_value: 37, namespaceIdentifier: 38, STRUCT_START: 39, classStatements: 40, STRUCT_STOP: 41, NAMESPACE: 42, classIdentifier: 43, STYLE_SEPARATOR: 44, members: 45, CLASS: 46, ANNOTATION_START: 47, ANNOTATION_END: 48, MEMBER: 49, SEPARATOR: 50, relation: 51, NOTE_FOR: 52, noteText: 53, NOTE: 54, CLASSDEF: 55, classList: 56, stylesOpt: 57, ALPHA: 58, COMMA: 59, direction_tb: 60, direction_bt: 61, direction_rl: 62, direction_lr: 63, relationType: 64, lineType: 65, AGGREGATION: 66, EXTENSION: 67, COMPOSITION: 68, DEPENDENCY: 69, LOLLIPOP: 70, LINE: 71, DOTTED_LINE: 72, CALLBACK: 73, LINK: 74, LINK_TARGET: 75, CLICK: 76, CALLBACK_NAME: 77, CALLBACK_ARGS: 78, HREF: 79, STYLE: 80, CSSCLASS: 81, style: 82, styleComponent: 83, NUM: 84, COLON: 85, UNIT: 86, SPACE: 87, BRKT: 88, PCT: 89, commentToken: 90, textToken: 91, graphCodeTokens: 92, textNoTagsToken: 93, TAGSTART: 94, TAGEND: 95, "==": 96, "--": 97, DEFAULT: 98, MINUS: 99, keywords: 100, UNICODE_TEXT: 101, BQUOTE_STR: 102, $accept: 0, $end: 1 }, terminals_: { 2: "error", 7: "CLASS_DIAGRAM", 8: "NEWLINE", 9: "EOF", 12: "SQS", 13: "STR", 14: "SQE", 17: "DOT", 20: "GENERICTYPE", 22: "LABEL", 33: "acc_title", 34: "acc_title_value", 35: "acc_descr", 36: "acc_descr_value", 37: "acc_descr_multiline_value", 39: "STRUCT_START", 41: "STRUCT_STOP", 42: "NAMESPACE", 44: "STYLE_SEPARATOR", 46: "CLASS", 47: "ANNOTATION_START", 48: "ANNOTATION_END", 49: "MEMBER", 50: "SEPARATOR", 52: "NOTE_FOR", 54: "NOTE", 55: "CLASSDEF", 58: "ALPHA", 59: "COMMA", 60: "direction_tb", 61: "direction_bt", 62: "direction_rl", 63: "direction_lr", 66: "AGGREGATION", 67: "EXTENSION", 68: "COMPOSITION", 69: "DEPENDENCY", 70: "LOLLIPOP", 71: "LINE", 72: "DOTTED_LINE", 73: "CALLBACK", 74: "LINK", 75: "LINK_TARGET", 76: "CLICK", 77: "CALLBACK_NAME", 78: "CALLBACK_ARGS", 79: "HREF", 80: "STYLE", 81: "CSSCLASS", 84: "NUM", 85: "COLON", 86: "UNIT", 87: "SPACE", 88: "BRKT", 89: "PCT", 92: "graphCodeTokens", 94: "TAGSTART", 95: "TAGEND", 96: "==", 97: "--", 98: "DEFAULT", 99: "MINUS", 100: "keywords", 101: "UNICODE_TEXT", 102: "BQUOTE_STR" }, productions_: [0, [3, 1], [3, 1], [4, 1], [6, 4], [5, 1], [5, 2], [5, 3], [11, 3], [15, 1], [15, 3], [15, 2], [18, 1], [18, 3], [18, 1], [18, 2], [18, 2], [18, 2], [10, 1], [10, 2], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [23, 4], [23, 5], [38, 2], [40, 1], [40, 2], [40, 3], [24, 1], [24, 3], [24, 4], [24, 6], [43, 2], [43, 3], [26, 4], [45, 1], [45, 2], [25, 1], [25, 2], [25, 1], [25, 1], [21, 3], [21, 4], [21, 4], [21, 5], [30, 3], [30, 2], [31, 3], [56, 1], [56, 3], [32, 1], [32, 1], [32, 1], [32, 1], [51, 3], [51, 2], [51, 2], [51, 1], [64, 1], [64, 1], [64, 1], [64, 1], [64, 1], [65, 1], [65, 1], [27, 3], [27, 4], [27, 3], [27, 4], [27, 4], [27, 5], [27, 3], [27, 4], [27, 4], [27, 5], [27, 4], [27, 5], [27, 5], [27, 6], [28, 3], [29, 3], [57, 1], [57, 3], [82, 1], [82, 2], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [90, 1], [90, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [93, 1], [93, 1], [93, 1], [93, 1], [16, 1], [16, 1], [16, 1], [16, 1], [19, 1], [53, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 8:
        this.$ = a11[s11 - 1];
        break;
      case 9:
      case 12:
      case 14:
        this.$ = a11[s11];
        break;
      case 10:
      case 13:
        this.$ = a11[s11 - 2] + "." + a11[s11];
        break;
      case 11:
      case 15:
      case 95:
        this.$ = a11[s11 - 1] + a11[s11];
        break;
      case 16:
      case 17:
        this.$ = a11[s11 - 1] + "~" + a11[s11] + "~";
        break;
      case 18:
        i11.addRelation(a11[s11]);
        break;
      case 19:
        a11[s11 - 1].title = i11.cleanupLabel(a11[s11]), i11.addRelation(a11[s11 - 1]);
        break;
      case 30:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 31:
      case 32:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 33:
        i11.addClassesToNamespace(a11[s11 - 3], a11[s11 - 1]);
        break;
      case 34:
        i11.addClassesToNamespace(a11[s11 - 4], a11[s11 - 1]);
        break;
      case 35:
        this.$ = a11[s11], i11.addNamespace(a11[s11]);
        break;
      case 36:
      case 46:
      case 59:
      case 92:
        this.$ = [a11[s11]];
        break;
      case 37:
        this.$ = [a11[s11 - 1]];
        break;
      case 38:
        a11[s11].unshift(a11[s11 - 2]), this.$ = a11[s11];
        break;
      case 40:
        i11.setCssClass(a11[s11 - 2], a11[s11]);
        break;
      case 41:
        i11.addMembers(a11[s11 - 3], a11[s11 - 1]);
        break;
      case 42:
        i11.setCssClass(a11[s11 - 5], a11[s11 - 3]), i11.addMembers(a11[s11 - 5], a11[s11 - 1]);
        break;
      case 43:
        this.$ = a11[s11], i11.addClass(a11[s11]);
        break;
      case 44:
        this.$ = a11[s11 - 1], i11.addClass(a11[s11 - 1]), i11.setClassLabel(a11[s11 - 1], a11[s11]);
        break;
      case 45:
        i11.addAnnotation(a11[s11], a11[s11 - 2]);
        break;
      case 47:
        a11[s11].push(a11[s11 - 1]), this.$ = a11[s11];
        break;
      case 48:
      case 50:
      case 51:
        break;
      case 49:
        i11.addMember(a11[s11 - 1], i11.cleanupLabel(a11[s11]));
        break;
      case 52:
        this.$ = { id1: a11[s11 - 2], id2: a11[s11], relation: a11[s11 - 1], relationTitle1: "none", relationTitle2: "none" };
        break;
      case 53:
        this.$ = { id1: a11[s11 - 3], id2: a11[s11], relation: a11[s11 - 1], relationTitle1: a11[s11 - 2], relationTitle2: "none" };
        break;
      case 54:
        this.$ = { id1: a11[s11 - 3], id2: a11[s11], relation: a11[s11 - 2], relationTitle1: "none", relationTitle2: a11[s11 - 1] };
        break;
      case 55:
        this.$ = { id1: a11[s11 - 4], id2: a11[s11], relation: a11[s11 - 2], relationTitle1: a11[s11 - 3], relationTitle2: a11[s11 - 1] };
        break;
      case 56:
        i11.addNote(a11[s11], a11[s11 - 1]);
        break;
      case 57:
        i11.addNote(a11[s11]);
        break;
      case 58:
        this.$ = a11[s11 - 2], i11.defineClass(a11[s11 - 1], a11[s11]);
        break;
      case 60:
        this.$ = a11[s11 - 2].concat([a11[s11]]);
        break;
      case 61:
        i11.setDirection("TB");
        break;
      case 62:
        i11.setDirection("BT");
        break;
      case 63:
        i11.setDirection("RL");
        break;
      case 64:
        i11.setDirection("LR");
        break;
      case 65:
        this.$ = { type1: a11[s11 - 2], type2: a11[s11], lineType: a11[s11 - 1] };
        break;
      case 66:
        this.$ = { type1: "none", type2: a11[s11], lineType: a11[s11 - 1] };
        break;
      case 67:
        this.$ = { type1: a11[s11 - 1], type2: "none", lineType: a11[s11] };
        break;
      case 68:
        this.$ = { type1: "none", type2: "none", lineType: a11[s11] };
        break;
      case 69:
        this.$ = i11.relationType.AGGREGATION;
        break;
      case 70:
        this.$ = i11.relationType.EXTENSION;
        break;
      case 71:
        this.$ = i11.relationType.COMPOSITION;
        break;
      case 72:
        this.$ = i11.relationType.DEPENDENCY;
        break;
      case 73:
        this.$ = i11.relationType.LOLLIPOP;
        break;
      case 74:
        this.$ = i11.lineType.LINE;
        break;
      case 75:
        this.$ = i11.lineType.DOTTED_LINE;
        break;
      case 76:
      case 82:
        this.$ = a11[s11 - 2], i11.setClickEvent(a11[s11 - 1], a11[s11]);
        break;
      case 77:
      case 83:
        this.$ = a11[s11 - 3], i11.setClickEvent(a11[s11 - 2], a11[s11 - 1]), i11.setTooltip(a11[s11 - 2], a11[s11]);
        break;
      case 78:
        this.$ = a11[s11 - 2], i11.setLink(a11[s11 - 1], a11[s11]);
        break;
      case 79:
        this.$ = a11[s11 - 3], i11.setLink(a11[s11 - 2], a11[s11 - 1], a11[s11]);
        break;
      case 80:
        this.$ = a11[s11 - 3], i11.setLink(a11[s11 - 2], a11[s11 - 1]), i11.setTooltip(a11[s11 - 2], a11[s11]);
        break;
      case 81:
        this.$ = a11[s11 - 4], i11.setLink(a11[s11 - 3], a11[s11 - 2], a11[s11]), i11.setTooltip(a11[s11 - 3], a11[s11 - 1]);
        break;
      case 84:
        this.$ = a11[s11 - 3], i11.setClickEvent(a11[s11 - 2], a11[s11 - 1], a11[s11]);
        break;
      case 85:
        this.$ = a11[s11 - 4], i11.setClickEvent(a11[s11 - 3], a11[s11 - 2], a11[s11 - 1]), i11.setTooltip(a11[s11 - 3], a11[s11]);
        break;
      case 86:
        this.$ = a11[s11 - 3], i11.setLink(a11[s11 - 2], a11[s11]);
        break;
      case 87:
        this.$ = a11[s11 - 4], i11.setLink(a11[s11 - 3], a11[s11 - 1], a11[s11]);
        break;
      case 88:
        this.$ = a11[s11 - 4], i11.setLink(a11[s11 - 3], a11[s11 - 1]), i11.setTooltip(a11[s11 - 3], a11[s11]);
        break;
      case 89:
        this.$ = a11[s11 - 5], i11.setLink(a11[s11 - 4], a11[s11 - 2], a11[s11]), i11.setTooltip(a11[s11 - 4], a11[s11 - 1]);
        break;
      case 90:
        this.$ = a11[s11 - 2], i11.setCssStyle(a11[s11 - 1], a11[s11]);
        break;
      case 91:
        i11.setCssClass(a11[s11 - 1], a11[s11]);
        break;
      case 93:
        a11[s11 - 2].push(a11[s11]), this.$ = a11[s11 - 2];
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: 4, 7: [1, 6], 10: 5, 16: 39, 18: 21, 19: 40, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 33: e10, 35: r10, 37: i10, 38: 22, 42: n10, 43: 23, 46: a10, 47: o10, 49: s10, 50: l10, 52: h10, 54: u10, 55: d10, 58: p10, 60: g10, 61: f10, 62: y10, 63: v10, 73: x10, 74: b10, 76: w10, 80: k10, 81: _10, 84: T10, 99: E10, 101: C10, 102: S10 }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, t33(A10, [2, 5], { 8: [1, 48] }), { 8: [1, 49] }, t33(L10, [2, 18], { 22: [1, 50] }), t33(L10, [2, 20]), t33(L10, [2, 21]), t33(L10, [2, 22]), t33(L10, [2, 23]), t33(L10, [2, 24]), t33(L10, [2, 25]), t33(L10, [2, 26]), t33(L10, [2, 27]), t33(L10, [2, 28]), t33(L10, [2, 29]), { 34: [1, 51] }, { 36: [1, 52] }, t33(L10, [2, 32]), t33(L10, [2, 48], { 51: 53, 64: 56, 65: 57, 13: [1, 54], 22: [1, 55], 66: N10, 67: I10, 68: M10, 69: R10, 70: D10, 71: O10, 72: P10 }), { 39: [1, 65] }, t33($10, [2, 39], { 39: [1, 67], 44: [1, 66] }), t33(L10, [2, 50]), t33(L10, [2, 51]), { 16: 68, 58: p10, 84: T10, 99: E10, 101: C10 }, { 16: 39, 18: 69, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, { 16: 39, 18: 70, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, { 16: 39, 18: 71, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, { 58: [1, 72] }, { 13: [1, 73] }, { 16: 39, 18: 74, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, { 13: B10, 53: 75 }, { 56: 77, 58: [1, 78] }, t33(L10, [2, 61]), t33(L10, [2, 62]), t33(L10, [2, 63]), t33(L10, [2, 64]), t33(F10, [2, 12], { 16: 39, 19: 40, 18: 80, 17: [1, 79], 20: [1, 81], 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }), t33(F10, [2, 14], { 20: [1, 82] }), { 15: 83, 16: 84, 58: p10, 84: T10, 99: E10, 101: C10 }, { 16: 39, 18: 85, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, t33(z10, [2, 118]), t33(z10, [2, 119]), t33(z10, [2, 120]), t33(z10, [2, 121]), t33([1, 8, 9, 12, 13, 20, 22, 39, 41, 44, 66, 67, 68, 69, 70, 71, 72, 77, 79], [2, 122]), t33(A10, [2, 6], { 10: 5, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 18: 21, 38: 22, 43: 23, 16: 39, 19: 40, 5: 86, 33: e10, 35: r10, 37: i10, 42: n10, 46: a10, 47: o10, 49: s10, 50: l10, 52: h10, 54: u10, 55: d10, 58: p10, 60: g10, 61: f10, 62: y10, 63: v10, 73: x10, 74: b10, 76: w10, 80: k10, 81: _10, 84: T10, 99: E10, 101: C10, 102: S10 }), { 5: 87, 10: 5, 16: 39, 18: 21, 19: 40, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 33: e10, 35: r10, 37: i10, 38: 22, 42: n10, 43: 23, 46: a10, 47: o10, 49: s10, 50: l10, 52: h10, 54: u10, 55: d10, 58: p10, 60: g10, 61: f10, 62: y10, 63: v10, 73: x10, 74: b10, 76: w10, 80: k10, 81: _10, 84: T10, 99: E10, 101: C10, 102: S10 }, t33(L10, [2, 19]), t33(L10, [2, 30]), t33(L10, [2, 31]), { 13: [1, 89], 16: 39, 18: 88, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, { 51: 90, 64: 56, 65: 57, 66: N10, 67: I10, 68: M10, 69: R10, 70: D10, 71: O10, 72: P10 }, t33(L10, [2, 49]), { 65: 91, 71: O10, 72: P10 }, t33(U10, [2, 68], { 64: 92, 66: N10, 67: I10, 68: M10, 69: R10, 70: D10 }), t33(G10, [2, 69]), t33(G10, [2, 70]), t33(G10, [2, 71]), t33(G10, [2, 72]), t33(G10, [2, 73]), t33(q10, [2, 74]), t33(q10, [2, 75]), { 8: [1, 94], 24: 95, 40: 93, 43: 23, 46: a10 }, { 16: 96, 58: p10, 84: T10, 99: E10, 101: C10 }, { 45: 97, 49: Y10 }, { 48: [1, 99] }, { 13: [1, 100] }, { 13: [1, 101] }, { 77: [1, 102], 79: [1, 103] }, { 22: H10, 57: 104, 58: j10, 80: W10, 82: 105, 83: 106, 84: V10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }, { 58: [1, 116] }, { 13: B10, 53: 117 }, t33(L10, [2, 57]), t33(L10, [2, 123]), { 22: H10, 57: 118, 58: j10, 59: [1, 119], 80: W10, 82: 105, 83: 106, 84: V10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }, t33(tt10, [2, 59]), { 16: 39, 18: 120, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, t33(F10, [2, 15]), t33(F10, [2, 16]), t33(F10, [2, 17]), { 39: [2, 35] }, { 15: 122, 16: 84, 17: [1, 121], 39: [2, 9], 58: p10, 84: T10, 99: E10, 101: C10 }, t33(te10, [2, 43], { 11: 123, 12: [1, 124] }), t33(A10, [2, 7]), { 9: [1, 125] }, t33(tr10, [2, 52]), { 16: 39, 18: 126, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, { 13: [1, 128], 16: 39, 18: 127, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, t33(U10, [2, 67], { 64: 129, 66: N10, 67: I10, 68: M10, 69: R10, 70: D10 }), t33(U10, [2, 66]), { 41: [1, 130] }, { 24: 95, 40: 131, 43: 23, 46: a10 }, { 8: [1, 132], 41: [2, 36] }, t33($10, [2, 40], { 39: [1, 133] }), { 41: [1, 134] }, { 41: [2, 46], 45: 135, 49: Y10 }, { 16: 39, 18: 136, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, t33(L10, [2, 76], { 13: [1, 137] }), t33(L10, [2, 78], { 13: [1, 139], 75: [1, 138] }), t33(L10, [2, 82], { 13: [1, 140], 78: [1, 141] }), { 13: [1, 142] }, t33(L10, [2, 90], { 59: ti10 }), t33(tn10, [2, 92], { 83: 144, 22: H10, 58: j10, 80: W10, 84: V10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }), t33(ta10, [2, 94]), t33(ta10, [2, 96]), t33(ta10, [2, 97]), t33(ta10, [2, 98]), t33(ta10, [2, 99]), t33(ta10, [2, 100]), t33(ta10, [2, 101]), t33(ta10, [2, 102]), t33(ta10, [2, 103]), t33(ta10, [2, 104]), t33(L10, [2, 91]), t33(L10, [2, 56]), t33(L10, [2, 58], { 59: ti10 }), { 58: [1, 145] }, t33(F10, [2, 13]), { 15: 146, 16: 84, 58: p10, 84: T10, 99: E10, 101: C10 }, { 39: [2, 11] }, t33(te10, [2, 44]), { 13: [1, 147] }, { 1: [2, 4] }, t33(tr10, [2, 54]), t33(tr10, [2, 53]), { 16: 39, 18: 148, 19: 40, 58: p10, 84: T10, 99: E10, 101: C10, 102: S10 }, t33(U10, [2, 65]), t33(L10, [2, 33]), { 41: [1, 149] }, { 24: 95, 40: 150, 41: [2, 37], 43: 23, 46: a10 }, { 45: 151, 49: Y10 }, t33($10, [2, 41]), { 41: [2, 47] }, t33(L10, [2, 45]), t33(L10, [2, 77]), t33(L10, [2, 79]), t33(L10, [2, 80], { 75: [1, 152] }), t33(L10, [2, 83]), t33(L10, [2, 84], { 13: [1, 153] }), t33(L10, [2, 86], { 13: [1, 155], 75: [1, 154] }), { 22: H10, 58: j10, 80: W10, 82: 156, 83: 106, 84: V10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }, t33(ta10, [2, 95]), t33(tt10, [2, 60]), { 39: [2, 10] }, { 14: [1, 157] }, t33(tr10, [2, 55]), t33(L10, [2, 34]), { 41: [2, 38] }, { 41: [1, 158] }, t33(L10, [2, 81]), t33(L10, [2, 85]), t33(L10, [2, 87]), t33(L10, [2, 88], { 75: [1, 159] }), t33(tn10, [2, 93], { 83: 144, 22: H10, 58: j10, 80: W10, 84: V10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }), t33(te10, [2, 8]), t33($10, [2, 42]), t33(L10, [2, 89])], defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 3], 83: [2, 35], 122: [2, 11], 125: [2, 4], 135: [2, 47], 146: [2, 10], 150: [2, 38] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, ts2 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return 60;
      case 1:
        return 61;
      case 2:
        return 62;
      case 3:
        return 63;
      case 4:
      case 5:
      case 14:
      case 31:
      case 36:
      case 40:
      case 47:
        break;
      case 6:
        return this.begin("acc_title"), 33;
      case 7:
        return this.popState(), "acc_title_value";
      case 8:
        return this.begin("acc_descr"), 35;
      case 9:
        return this.popState(), "acc_descr_value";
      case 10:
        this.begin("acc_descr_multiline");
        break;
      case 11:
      case 19:
      case 22:
      case 24:
      case 58:
      case 61:
        this.popState();
        break;
      case 12:
        return "acc_descr_multiline_value";
      case 13:
      case 35:
        return 8;
      case 15:
      case 16:
        return 7;
      case 17:
      case 37:
      case 45:
        return "EDGE_STATE";
      case 18:
        this.begin("callback_name");
        break;
      case 20:
        this.popState(), this.begin("callback_args");
        break;
      case 21:
        return 77;
      case 23:
        return 78;
      case 25:
        return "STR";
      case 26:
        this.begin("string");
        break;
      case 27:
        return 80;
      case 28:
        return 55;
      case 29:
        return this.begin("namespace"), 42;
      case 30:
      case 39:
        return this.popState(), 8;
      case 32:
        return this.begin("namespace-body"), 39;
      case 33:
      case 43:
        return this.popState(), 41;
      case 34:
      case 44:
        return "EOF_IN_STRUCT";
      case 38:
        return this.begin("class"), 46;
      case 41:
        return this.popState(), this.popState(), 41;
      case 42:
        return this.begin("class-body"), 39;
      case 46:
        return "OPEN_IN_STRUCT";
      case 48:
        return "MEMBER";
      case 49:
        return 81;
      case 50:
        return 73;
      case 51:
        return 74;
      case 52:
        return 76;
      case 53:
        return 52;
      case 54:
        return 54;
      case 55:
        return 47;
      case 56:
        return 48;
      case 57:
        return 79;
      case 59:
        return "GENERICTYPE";
      case 60:
        this.begin("generic");
        break;
      case 62:
        return "BQUOTE_STR";
      case 63:
        this.begin("bqstring");
        break;
      case 64:
      case 65:
      case 66:
      case 67:
        return 75;
      case 68:
      case 69:
        return 67;
      case 70:
      case 71:
        return 69;
      case 72:
        return 68;
      case 73:
        return 66;
      case 74:
        return 70;
      case 75:
        return 71;
      case 76:
        return 72;
      case 77:
        return 22;
      case 78:
        return 44;
      case 79:
        return 99;
      case 80:
        return 17;
      case 81:
        return "PLUS";
      case 82:
        return 85;
      case 83:
        return 59;
      case 84:
      case 85:
        return 88;
      case 86:
        return 89;
      case 87:
      case 88:
        return "EQUALS";
      case 89:
        return 58;
      case 90:
        return 12;
      case 91:
        return 14;
      case 92:
        return "PUNCTUATION";
      case 93:
        return 84;
      case 94:
        return 101;
      case 95:
      case 96:
        return 87;
      case 97:
        return 9;
    }
  }, "anonymous"), rules: [/^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:classDiagram-v2\b)/, /^(?:classDiagram\b)/, /^(?:\[\*\])/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:["])/, /^(?:[^"]*)/, /^(?:["])/, /^(?:style\b)/, /^(?:classDef\b)/, /^(?:namespace\b)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:[{])/, /^(?:[}])/, /^(?:$)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:\[\*\])/, /^(?:class\b)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:[}])/, /^(?:[{])/, /^(?:[}])/, /^(?:$)/, /^(?:\[\*\])/, /^(?:[{])/, /^(?:[\n])/, /^(?:[^{}\n]*)/, /^(?:cssClass\b)/, /^(?:callback\b)/, /^(?:link\b)/, /^(?:click\b)/, /^(?:note for\b)/, /^(?:note\b)/, /^(?:<<)/, /^(?:>>)/, /^(?:href\b)/, /^(?:[~])/, /^(?:[^~]*)/, /^(?:~)/, /^(?:[`])/, /^(?:[^`]+)/, /^(?:[`])/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:\s*<\|)/, /^(?:\s*\|>)/, /^(?:\s*>)/, /^(?:\s*<)/, /^(?:\s*\*)/, /^(?:\s*o\b)/, /^(?:\s*\(\))/, /^(?:--)/, /^(?:\.\.)/, /^(?::{1}[^:\n;]+)/, /^(?::{3})/, /^(?:-)/, /^(?:\.)/, /^(?:\+)/, /^(?::)/, /^(?:,)/, /^(?:#)/, /^(?:#)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:\w+)/, /^(?:\[)/, /^(?:\])/, /^(?:[!"#$%&'*+,-.`?\\/])/, /^(?:[0-9]+)/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\s)/, /^(?:\s)/, /^(?:$)/], conditions: { "namespace-body": { rules: [26, 33, 34, 35, 36, 37, 38, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, namespace: { rules: [26, 29, 30, 31, 32, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, "class-body": { rules: [26, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, class: { rules: [26, 39, 40, 41, 42, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, acc_descr_multiline: { rules: [11, 12, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, acc_descr: { rules: [9, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, acc_title: { rules: [7, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, callback_args: { rules: [22, 23, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, callback_name: { rules: [19, 20, 21, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, href: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, struct: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, generic: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, bqstring: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, string: { rules: [24, 25, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 26, 27, 28, 29, 38, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97], inclusive: true } } };
  function tl2() {
    this.yy = {};
  }
  return to10.lexer = ts2, iZ(tl2, "Parser"), tl2.prototype = to10, to10.Parser = tl2, new tl2();
}();
U_.parser = U_;
var UT = ["#", "+", "~", "-", ""], UE = (_K2 = class {
  constructor(t33, e10) {
    this.memberType = e10, this.visibility = "", this.classifier = "", this.text = "";
    let r10 = nj(t33, nM());
    this.parseMember(r10);
  }
  getDisplayDetails() {
    let t33 = this.visibility + n2(this.id);
    return "method" === this.memberType && (t33 += `(${n2(this.parameters.trim())})`, this.returnType && (t33 += " : " + n2(this.returnType))), { displayText: t33 = t33.trim(), cssStyle: this.parseClassifier() };
  }
  parseMember(t33) {
    let e10 = "";
    if ("method" === this.memberType) {
      let r11 = /([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(t33);
      if (r11) {
        let t34 = r11[1] ? r11[1].trim() : "";
        if (UT.includes(t34) && (this.visibility = t34), this.id = r11[2], this.parameters = r11[3] ? r11[3].trim() : "", e10 = r11[4] ? r11[4].trim() : "", this.returnType = r11[5] ? r11[5].trim() : "", "" === e10) {
          let t35 = this.returnType.substring(this.returnType.length - 1);
          /[$*]/.exec(t35) && (e10 = t35, this.returnType = this.returnType.substring(0, this.returnType.length - 1));
        }
      }
    } else {
      let r11 = t33.length, i10 = t33.substring(0, 1), n10 = t33.substring(r11 - 1);
      UT.includes(i10) && (this.visibility = i10), /[$*]/.exec(n10) && (e10 = n10), this.id = t33.substring("" === this.visibility ? 0 : 1, "" === e10 ? r11 : r11 - 1);
    }
    this.classifier = e10, this.id = this.id.startsWith(" ") ? " " + this.id.trim() : this.id.trim();
    let r10 = `${this.visibility ? "\\" + this.visibility : ""}${n2(this.id)}${"method" === this.memberType ? `(${n2(this.parameters)})${this.returnType ? " : " + n2(this.returnType) : ""}` : ""}`;
    this.text = r10.replaceAll("<", "&lt;").replaceAll(">", "&gt;"), this.text.startsWith("\\&lt;") && (this.text = this.text.replace("\\&lt;", "~"));
  }
  parseClassifier() {
    switch (this.classifier) {
      case "*":
        return "font-style:italic;";
      case "$":
        return "text-decoration:underline;";
      default:
        return "";
    }
  }
}, _n39 = new WeakMap(), __privateAdd(_K2, _n39, iZ(_K2, "ClassMember")), _K2), UC = "classId-", US = [], UA = /* @__PURE__ */ new Map(), UL = /* @__PURE__ */ new Map(), UN = [], UI = [], UM = 0, UR = /* @__PURE__ */ new Map(), UD = 0, UO = [], UP = iZ((t33) => ae.sanitizeText(t33, nM()), "sanitizeText"), U$ = iZ(function(t33) {
  let e10 = ae.sanitizeText(t33, nM()), r10 = "", i10 = e10;
  if (e10.indexOf("~") > 0) {
    let t34 = e10.split("~");
    i10 = UP(t34[0]), r10 = UP(t34[1]);
  }
  return { className: i10, type: r10 };
}, "splitClassNameAndType"), UB = iZ(function(t33, e10) {
  let r10 = ae.sanitizeText(t33, nM());
  e10 && (e10 = UP(e10));
  let { className: i10 } = U$(r10);
  UA.get(i10).label = e10, UA.get(i10).text = `${e10}${UA.get(i10).type ? `<${UA.get(i10).type}>` : ""}`;
}, "setClassLabel"), UF = iZ(function(t33) {
  let { className: e10, type: r10 } = U$(ae.sanitizeText(t33, nM()));
  if (UA.has(e10)) return;
  let i10 = ae.sanitizeText(e10, nM());
  UA.set(i10, { id: i10, type: r10, label: i10, text: `${i10}${r10 ? `&lt;${r10}&gt;` : ""}`, shape: "classBox", cssClasses: "default", methods: [], members: [], annotations: [], styles: [], domId: UC + i10 + "-" + UM }), UM++;
}, "addClass"), Uz = iZ(function(t33, e10) {
  let r10 = { id: `interface${UI.length}`, label: t33, classId: e10 };
  UI.push(r10);
}, "addInterface"), UU = iZ(function(t33) {
  let e10 = ae.sanitizeText(t33, nM());
  if (UA.has(e10)) return UA.get(e10).domId;
  throw Error("Class not found: " + e10);
}, "lookUpDomId"), UG = iZ(function() {
  US = [], UA = /* @__PURE__ */ new Map(), UN = [], UI = [], (UO = []).push(U8), UR = /* @__PURE__ */ new Map(), UD = 0, U9 = "TB", ag();
}, "clear"), Uq = iZ(function(t33) {
  return UA.get(t33);
}, "getClass"), UY = iZ(function() {
  return UA;
}, "getClasses"), UH = iZ(function() {
  return US;
}, "getRelations"), Uj = iZ(function() {
  return UN;
}, "getNotes"), UW = iZ(function(t33) {
  i0.debug("Adding relation: " + JSON.stringify(t33));
  let e10 = [U7.LOLLIPOP, U7.AGGREGATION, U7.COMPOSITION, U7.DEPENDENCY, U7.EXTENSION];
  t33.relation.type1 !== U7.LOLLIPOP || e10.includes(t33.relation.type2) ? t33.relation.type2 !== U7.LOLLIPOP || e10.includes(t33.relation.type1) ? (UF(t33.id1), UF(t33.id2)) : (UF(t33.id1), Uz(t33.id2, t33.id1), t33.id2 = `interface${UI.length - 1}`) : (UF(t33.id2), Uz(t33.id1, t33.id2), t33.id1 = `interface${UI.length - 1}`), t33.id1 = U$(t33.id1).className, t33.id2 = U$(t33.id2).className, t33.relationTitle1 = ae.sanitizeText(t33.relationTitle1.trim(), nM()), t33.relationTitle2 = ae.sanitizeText(t33.relationTitle2.trim(), nM()), US.push(t33);
}, "addRelation"), UV = iZ(function(t33, e10) {
  let r10 = U$(t33).className;
  UA.get(r10).annotations.push(e10);
}, "addAnnotation"), UX = iZ(function(t33, e10) {
  UF(t33);
  let r10 = U$(t33).className, i10 = UA.get(r10);
  if ("string" == typeof e10) {
    let t34 = e10.trim();
    t34.startsWith("<<") && t34.endsWith(">>") ? i10.annotations.push(UP(t34.substring(2, t34.length - 2))) : t34.indexOf(")") > 0 ? i10.methods.push(new UE(t34, "method")) : t34 && i10.members.push(new UE(t34, "attribute"));
  }
}, "addMember"), UK = iZ(function(t33, e10) {
  Array.isArray(e10) && (e10.reverse(), e10.forEach((e11) => UX(t33, e11)));
}, "addMembers"), UZ = iZ(function(t33, e10) {
  let r10 = { id: `note${UN.length}`, class: e10, text: t33 };
  UN.push(r10);
}, "addNote"), UQ = iZ(function(t33) {
  return t33.startsWith(":") && (t33 = t33.substring(1)), UP(t33.trim());
}, "cleanupLabel"), UJ = iZ(function(t33, e10) {
  t33.split(",").forEach(function(t34) {
    let r10 = t34;
    /\d/.exec(t34[0]) && (r10 = UC + r10);
    let i10 = UA.get(r10);
    i10 && (i10.cssClasses += " " + e10);
  });
}, "setCssClass"), U0 = iZ(function(t33, e10) {
  for (let r10 of t33) {
    let t34 = UL.get(r10);
    void 0 === t34 && (t34 = { id: r10, styles: [], textStyles: [] }, UL.set(r10, t34)), e10 && e10.forEach(function(e11) {
      if (/color/.exec(e11)) {
        let r11 = e11.replace("fill", "bgFill");
        t34.textStyles.push(r11);
      }
      t34.styles.push(e11);
    }), UA.forEach((t35) => {
      t35.cssClasses.includes(r10) && t35.styles.push(...e10.flatMap((t36) => t36.split(",")));
    });
  }
}, "defineClass"), U1 = iZ(function(t33, e10) {
  t33.split(",").forEach(function(t34) {
    void 0 !== e10 && (UA.get(t34).tooltip = UP(e10));
  });
}, "setTooltip"), U2 = iZ(function(t33, e10) {
  return e10 && UR.has(e10) ? UR.get(e10).classes.get(t33).tooltip : UA.get(t33).tooltip;
}, "getTooltip"), U4 = iZ(function(t33, e10, r10) {
  let i10 = nM();
  t33.split(",").forEach(function(t34) {
    let n10 = t34;
    /\d/.exec(t34[0]) && (n10 = UC + n10);
    let a10 = UA.get(n10);
    a10 && (a10.link = gT.formatUrl(e10, i10), "sandbox" === i10.securityLevel ? a10.linkTarget = "_top" : "string" == typeof r10 ? a10.linkTarget = UP(r10) : a10.linkTarget = "_blank");
  }), UJ(t33, "clickable");
}, "setLink"), U5 = iZ(function(t33, e10, r10) {
  t33.split(",").forEach(function(t34) {
    U3(t34, e10, r10), UA.get(t34).haveCallback = true;
  }), UJ(t33, "clickable");
}, "setClickEvent"), U3 = iZ(function(t33, e10, r10) {
  let i10 = ae.sanitizeText(t33, nM());
  if ("loose" === nM().securityLevel && void 0 !== e10 && UA.has(i10)) {
    let t34 = UU(i10), n10 = [];
    if ("string" == typeof r10) {
      n10 = r10.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
      for (let t35 = 0; t35 < n10.length; t35++) {
        let e11 = n10[t35].trim();
        e11.startsWith('"') && e11.endsWith('"') && (e11 = e11.substr(1, e11.length - 2)), n10[t35] = e11;
      }
    }
    0 === n10.length && n10.push(t34), UO.push(function() {
      let r11 = document.querySelector(`[id="${t34}"]`);
      null !== r11 && r11.addEventListener("click", function() {
        gT.runFunc(e10, ...n10);
      }, false);
    });
  }
}, "setClickFunc"), U6 = iZ(function(t33) {
  UO.forEach(function(e10) {
    e10(t33);
  });
}, "bindFunctions"), U7 = { AGGREGATION: 0, EXTENSION: 1, COMPOSITION: 2, DEPENDENCY: 3, LOLLIPOP: 4 }, U8 = iZ(function(t33) {
  let e10 = hl(".mermaidTooltip");
  null === (e10._groups || e10)[0][0] && (e10 = hl("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0)), hl(t33).select("svg").selectAll("g.node").on("mouseover", function() {
    let t34 = hl(this);
    if (null === t34.attr("title")) return;
    let r10 = this.getBoundingClientRect();
    e10.transition().duration(200).style("opacity", ".9"), e10.text(t34.attr("title")).style("left", window.scrollX + r10.left + (r10.right - r10.left) / 2 + "px").style("top", window.scrollY + r10.top - 14 + document.body.scrollTop + "px"), e10.html(e10.html().replace(/&lt;br\/&gt;/g, "<br/>")), t34.classed("hover", true);
  }).on("mouseout", function() {
    e10.transition().duration(500).style("opacity", 0), hl(this).classed("hover", false);
  });
}, "setupToolTips");
UO.push(U8);
var U9 = "TB", Gt = iZ(() => U9, "getDirection"), Ge = iZ((t33) => {
  U9 = t33;
}, "setDirection"), Gr = iZ(function(t33) {
  !UR.has(t33) && (UR.set(t33, { id: t33, classes: /* @__PURE__ */ new Map(), children: {}, domId: UC + t33 + "-" + UD }), UD++);
}, "addNamespace"), Gi = iZ(function(t33) {
  return UR.get(t33);
}, "getNamespace"), Gn = iZ(function() {
  return UR;
}, "getNamespaces"), Ga = iZ(function(t33, e10) {
  if (UR.has(t33)) for (let r10 of e10) {
    let { className: e11 } = U$(r10);
    UA.get(e11).parent = t33, UR.get(t33).classes.set(e11, UA.get(e11));
  }
}, "addClassesToNamespace"), Go = iZ(function(t33, e10) {
  let r10 = UA.get(t33);
  if (e10 && r10) for (let t34 of e10) t34.includes(",") ? r10.styles.push(...t34.split(",")) : r10.styles.push(t34);
}, "setCssStyle");
function Gs(t33) {
  let e10;
  switch (t33) {
    case 0:
      e10 = "aggregation";
      break;
    case 1:
      e10 = "extension";
      break;
    case 2:
      e10 = "composition";
      break;
    case 3:
      e10 = "dependency";
      break;
    case 4:
      e10 = "lollipop";
      break;
    default:
      e10 = "none";
  }
  return e10;
}
iZ(Gs, "getArrowMarker");
var Gl = iZ(() => {
  var t33, e10, r10, i10;
  let n10 = [], a10 = [], o10 = nM();
  for (let e11 of UR.keys()) {
    let r11 = UR.get(e11);
    if (r11) {
      let e12 = { id: r11.id, label: r11.id, isGroup: true, padding: null !== (t33 = o10.class.padding) && void 0 !== t33 ? t33 : 16, shape: "rect", cssStyles: ["fill: none", "stroke: black"], look: o10.look };
      n10.push(e12);
    }
  }
  for (let t34 of UA.keys()) {
    let e11 = UA.get(t34);
    e11 && (e11.parentId = e11.parent, e11.look = o10.look, n10.push(e11));
  }
  let s10 = 0;
  for (let t34 of UN) {
    s10++;
    let l10 = { id: t34.id, label: t34.text, isGroup: false, shape: "note", padding: null !== (r10 = o10.class.padding) && void 0 !== r10 ? r10 : 6, cssStyles: ["text-align: left", "white-space: nowrap", `fill: ${o10.themeVariables.noteBkgColor}`, `stroke: ${o10.themeVariables.noteBorderColor}`], look: o10.look };
    n10.push(l10);
    let h10 = null !== (i10 = null === (e10 = UA.get(t34.class)) || void 0 === e10 ? void 0 : e10.id) && void 0 !== i10 ? i10 : "";
    if (h10) {
      let e11 = { id: `edgeNote${s10}`, start: t34.id, end: h10, type: "normal", thickness: "normal", classes: "relation", arrowTypeStart: "none", arrowTypeEnd: "none", arrowheadStyle: "", labelStyle: [""], style: ["fill: none"], pattern: "dotted", look: o10.look };
      a10.push(e11);
    }
  }
  for (let t34 of UI) {
    let e11 = { id: t34.id, label: t34.label, isGroup: false, shape: "rect", cssStyles: ["opacity: 0;"], look: o10.look };
    n10.push(e11);
  }
  for (let t34 of (s10 = 0, US)) {
    s10++;
    let e11 = { id: gS(t34.id1, t34.id2, { prefix: "id", counter: s10 }), start: t34.id1, end: t34.id2, type: "normal", label: t34.title, labelpos: "c", thickness: "normal", classes: "relation", arrowTypeStart: Gs(t34.relation.type1), arrowTypeEnd: Gs(t34.relation.type2), startLabelRight: "none" === t34.relationTitle1 ? "" : t34.relationTitle1, endLabelLeft: "none" === t34.relationTitle2 ? "" : t34.relationTitle2, arrowheadStyle: "", labelStyle: ["display: inline-block"], style: t34.style || "", pattern: 1 == t34.relation.lineType ? "dashed" : "solid", look: o10.look };
    a10.push(e11);
  }
  return { nodes: n10, edges: a10, other: {}, config: o10, direction: Gt() };
}, "getData"), Gh = { setAccTitle: af, getAccTitle: am, getAccDescription: av, setAccDescription: ay, getConfig: iZ(() => nM().class, "getConfig"), addClass: UF, bindFunctions: U6, clear: UG, getClass: Uq, getClasses: UY, getNotes: Uj, addAnnotation: UV, addNote: UZ, getRelations: UH, addRelation: UW, getDirection: Gt, setDirection: Ge, addMember: UX, addMembers: UK, cleanupLabel: UQ, lineType: { LINE: 0, DOTTED_LINE: 1 }, relationType: U7, setClickEvent: U5, setCssClass: UJ, defineClass: U0, setLink: U4, getTooltip: U2, setTooltip: U1, lookUpDomId: UU, setDiagramTitle: ax, getDiagramTitle: ab, setClassLabel: UB, addNamespace: Gr, addClassesToNamespace: Ga, getNamespace: Gi, getNamespaces: Gn, setCssStyle: Go, getData: Gl }, Gc = iZ((t33) => `g.classGroup text {
  fill: ${t33.nodeBorder || t33.classText};
  stroke: none;
  font-family: ${t33.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t33.classText};
}
.edgeLabel .label rect {
  fill: ${t33.mainBkg};
}
.label text {
  fill: ${t33.classText};
}

.labelBkg {
  background: ${t33.mainBkg};
}
.edgeLabel .label span {
  background: ${t33.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t33.mainBkg};
    stroke: ${t33.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t33.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t33.mainBkg};
  stroke: ${t33.nodeBorder};
}

g.classGroup line {
  stroke: ${t33.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t33.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t33.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t33.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t33.lineColor} !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t33.lineColor} !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t33.lineColor} !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t33.lineColor} !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t33.mainBkg} !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t33.mainBkg} !important;
  stroke: ${t33.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t33.textColor};
}
`, "getStyles"), Gu = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "TB";
  if (!t33.doc) return e10;
  let r10 = e10;
  for (let e11 of t33.doc) "dir" === e11.stmt && (r10 = e11.value);
  return r10;
}, "getDir"), Gd = { getClasses: iZ(function(t33, e10) {
  return e10.db.getClasses();
}, "getClasses"), draw: iZ(async function(t33, e10, r10, i10) {
  var n10, a10;
  i0.info("REF0:"), i0.info("Drawing class diagram (v3)", e10);
  let { securityLevel: o10, state: s10, layout: l10 } = nM(), h10 = i10.db.getData(), u10 = Sz(e10, o10);
  h10.type = i10.type, h10.layoutAlgorithm = vH(l10), h10.nodeSpacing = (null == s10 ? void 0 : s10.nodeSpacing) || 50, h10.rankSpacing = (null == s10 ? void 0 : s10.rankSpacing) || 50, h10.markers = ["aggregation", "extension", "composition", "dependency", "lollipop"], h10.diagramId = e10, await vY(h10, u10), gT.insertTitle(u10, "classDiagramTitleText", null !== (n10 = null == s10 ? void 0 : s10.titleTopMargin) && void 0 !== n10 ? n10 : 25, i10.db.getDiagramTitle()), SU(u10, 8, "classDiagram", null === (a10 = null == s10 ? void 0 : s10.useMaxWidth) || void 0 === a10 || a10);
}, "draw"), getDir: Gu };
let Gp = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: U_, db: Gh, renderer: Gd, styles: Gc, init: iZ((t33) => {
  t33.class || (t33.class = {}), t33.class.arrowMarkerAbsolute = t33.arrowMarkerAbsolute, Gh.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" })), Gg = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: U_, db: Gh, renderer: Gd, styles: Gc, init: iZ((t33) => {
  t33.class || (t33.class = {}), t33.class.arrowMarkerAbsolute = t33.arrowMarkerAbsolute, Gh.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var Gf = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 2], r10 = [1, 3], i10 = [1, 4], n10 = [2, 4], a10 = [1, 9], o10 = [1, 11], s10 = [1, 16], l10 = [1, 17], h10 = [1, 18], u10 = [1, 19], d10 = [1, 32], p10 = [1, 20], g10 = [1, 21], f10 = [1, 22], y10 = [1, 23], v10 = [1, 24], x10 = [1, 26], b10 = [1, 27], w10 = [1, 28], k10 = [1, 29], _10 = [1, 30], T10 = [1, 31], E10 = [1, 34], C10 = [1, 35], S10 = [1, 36], A10 = [1, 37], L10 = [1, 33], N10 = [1, 4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], I10 = [1, 4, 5, 14, 15, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], M10 = [4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], R10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, SPACE: 4, NL: 5, SD: 6, document: 7, line: 8, statement: 9, classDefStatement: 10, styleStatement: 11, cssClassStatement: 12, idStatement: 13, DESCR: 14, "-->": 15, HIDE_EMPTY: 16, scale: 17, WIDTH: 18, COMPOSIT_STATE: 19, STRUCT_START: 20, STRUCT_STOP: 21, STATE_DESCR: 22, AS: 23, ID: 24, FORK: 25, JOIN: 26, CHOICE: 27, CONCURRENT: 28, note: 29, notePosition: 30, NOTE_TEXT: 31, direction: 32, acc_title: 33, acc_title_value: 34, acc_descr: 35, acc_descr_value: 36, acc_descr_multiline_value: 37, classDef: 38, CLASSDEF_ID: 39, CLASSDEF_STYLEOPTS: 40, DEFAULT: 41, style: 42, STYLE_IDS: 43, STYLEDEF_STYLEOPTS: 44, class: 45, CLASSENTITY_IDS: 46, STYLECLASS: 47, direction_tb: 48, direction_bt: 49, direction_rl: 50, direction_lr: 51, eol: 52, ";": 53, EDGE_STATE: 54, STYLE_SEPARATOR: 55, left_of: 56, right_of: 57, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SPACE", 5: "NL", 6: "SD", 14: "DESCR", 15: "-->", 16: "HIDE_EMPTY", 17: "scale", 18: "WIDTH", 19: "COMPOSIT_STATE", 20: "STRUCT_START", 21: "STRUCT_STOP", 22: "STATE_DESCR", 23: "AS", 24: "ID", 25: "FORK", 26: "JOIN", 27: "CHOICE", 28: "CONCURRENT", 29: "note", 31: "NOTE_TEXT", 33: "acc_title", 34: "acc_title_value", 35: "acc_descr", 36: "acc_descr_value", 37: "acc_descr_multiline_value", 38: "classDef", 39: "CLASSDEF_ID", 40: "CLASSDEF_STYLEOPTS", 41: "DEFAULT", 42: "style", 43: "STYLE_IDS", 44: "STYLEDEF_STYLEOPTS", 45: "class", 46: "CLASSENTITY_IDS", 47: "STYLECLASS", 48: "direction_tb", 49: "direction_bt", 50: "direction_rl", 51: "direction_lr", 53: ";", 54: "EDGE_STATE", 55: "STYLE_SEPARATOR", 56: "left_of", 57: "right_of" }, productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 3], [9, 4], [9, 1], [9, 2], [9, 1], [9, 4], [9, 3], [9, 6], [9, 1], [9, 1], [9, 1], [9, 1], [9, 4], [9, 4], [9, 1], [9, 2], [9, 2], [9, 1], [10, 3], [10, 3], [11, 3], [12, 3], [32, 1], [32, 1], [32, 1], [32, 1], [52, 1], [52, 1], [13, 1], [13, 1], [13, 3], [13, 3], [30, 1], [30, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 3:
        return i11.setRootDoc(a11[s11]), a11[s11];
      case 4:
        this.$ = [];
        break;
      case 5:
        "nl" != a11[s11] && (a11[s11 - 1].push(a11[s11]), this.$ = a11[s11 - 1]);
        break;
      case 6:
      case 7:
      case 12:
        this.$ = a11[s11];
        break;
      case 8:
        this.$ = "nl";
        break;
      case 13:
        let l11 = a11[s11 - 1];
        l11.description = i11.trimColon(a11[s11]), this.$ = l11;
        break;
      case 14:
        this.$ = { stmt: "relation", state1: a11[s11 - 2], state2: a11[s11] };
        break;
      case 15:
        let h11 = i11.trimColon(a11[s11]);
        this.$ = { stmt: "relation", state1: a11[s11 - 3], state2: a11[s11 - 1], description: h11 };
        break;
      case 19:
        this.$ = { stmt: "state", id: a11[s11 - 3], type: "default", description: "", doc: a11[s11 - 1] };
        break;
      case 20:
        var u11 = a11[s11], d11 = a11[s11 - 2].trim();
        if (a11[s11].match(":")) {
          var p11 = a11[s11].split(":");
          u11 = p11[0], d11 = [d11, p11[1]];
        }
        this.$ = { stmt: "state", id: u11, type: "default", description: d11 };
        break;
      case 21:
        this.$ = { stmt: "state", id: a11[s11 - 3], type: "default", description: a11[s11 - 5], doc: a11[s11 - 1] };
        break;
      case 22:
        this.$ = { stmt: "state", id: a11[s11], type: "fork" };
        break;
      case 23:
        this.$ = { stmt: "state", id: a11[s11], type: "join" };
        break;
      case 24:
        this.$ = { stmt: "state", id: a11[s11], type: "choice" };
        break;
      case 25:
        this.$ = { stmt: "state", id: i11.getDividerId(), type: "divider" };
        break;
      case 26:
        this.$ = { stmt: "state", id: a11[s11 - 1].trim(), note: { position: a11[s11 - 2].trim(), text: a11[s11].trim() } };
        break;
      case 29:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 30:
      case 31:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 32:
      case 33:
        this.$ = { stmt: "classDef", id: a11[s11 - 1].trim(), classes: a11[s11].trim() };
        break;
      case 34:
        this.$ = { stmt: "style", id: a11[s11 - 1].trim(), styleClass: a11[s11].trim() };
        break;
      case 35:
        this.$ = { stmt: "applyClass", id: a11[s11 - 1].trim(), styleClass: a11[s11].trim() };
        break;
      case 36:
        i11.setDirection("TB"), this.$ = { stmt: "dir", value: "TB" };
        break;
      case 37:
        i11.setDirection("BT"), this.$ = { stmt: "dir", value: "BT" };
        break;
      case 38:
        i11.setDirection("RL"), this.$ = { stmt: "dir", value: "RL" };
        break;
      case 39:
        i11.setDirection("LR"), this.$ = { stmt: "dir", value: "LR" };
        break;
      case 42:
      case 43:
        this.$ = { stmt: "state", id: a11[s11].trim(), type: "default", description: "" };
        break;
      case 44:
      case 45:
        this.$ = { stmt: "state", id: a11[s11 - 2].trim(), classes: [a11[s11].trim()], type: "default", description: "" };
    }
  }, "anonymous"), table: [{ 3: 1, 4: e10, 5: r10, 6: i10 }, { 1: [3] }, { 3: 5, 4: e10, 5: r10, 6: i10 }, { 3: 6, 4: e10, 5: r10, 6: i10 }, t33([1, 4, 5, 16, 17, 19, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], n10, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: a10, 5: o10, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: s10, 17: l10, 19: h10, 22: u10, 24: d10, 25: p10, 26: g10, 27: f10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: w10, 38: k10, 42: _10, 45: T10, 48: E10, 49: C10, 50: S10, 51: A10, 54: L10 }, t33(N10, [2, 5]), { 9: 38, 10: 12, 11: 13, 12: 14, 13: 15, 16: s10, 17: l10, 19: h10, 22: u10, 24: d10, 25: p10, 26: g10, 27: f10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: w10, 38: k10, 42: _10, 45: T10, 48: E10, 49: C10, 50: S10, 51: A10, 54: L10 }, t33(N10, [2, 7]), t33(N10, [2, 8]), t33(N10, [2, 9]), t33(N10, [2, 10]), t33(N10, [2, 11]), t33(N10, [2, 12], { 14: [1, 39], 15: [1, 40] }), t33(N10, [2, 16]), { 18: [1, 41] }, t33(N10, [2, 18], { 20: [1, 42] }), { 23: [1, 43] }, t33(N10, [2, 22]), t33(N10, [2, 23]), t33(N10, [2, 24]), t33(N10, [2, 25]), { 30: 44, 31: [1, 45], 56: [1, 46], 57: [1, 47] }, t33(N10, [2, 28]), { 34: [1, 48] }, { 36: [1, 49] }, t33(N10, [2, 31]), { 39: [1, 50], 41: [1, 51] }, { 43: [1, 52] }, { 46: [1, 53] }, t33(I10, [2, 42], { 55: [1, 54] }), t33(I10, [2, 43], { 55: [1, 55] }), t33(N10, [2, 36]), t33(N10, [2, 37]), t33(N10, [2, 38]), t33(N10, [2, 39]), t33(N10, [2, 6]), t33(N10, [2, 13]), { 13: 56, 24: d10, 54: L10 }, t33(N10, [2, 17]), t33(M10, n10, { 7: 57 }), { 24: [1, 58] }, { 24: [1, 59] }, { 23: [1, 60] }, { 24: [2, 46] }, { 24: [2, 47] }, t33(N10, [2, 29]), t33(N10, [2, 30]), { 40: [1, 61] }, { 40: [1, 62] }, { 44: [1, 63] }, { 47: [1, 64] }, { 24: [1, 65] }, { 24: [1, 66] }, t33(N10, [2, 14], { 14: [1, 67] }), { 4: a10, 5: o10, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: s10, 17: l10, 19: h10, 21: [1, 68], 22: u10, 24: d10, 25: p10, 26: g10, 27: f10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: w10, 38: k10, 42: _10, 45: T10, 48: E10, 49: C10, 50: S10, 51: A10, 54: L10 }, t33(N10, [2, 20], { 20: [1, 69] }), { 31: [1, 70] }, { 24: [1, 71] }, t33(N10, [2, 32]), t33(N10, [2, 33]), t33(N10, [2, 34]), t33(N10, [2, 35]), t33(I10, [2, 44]), t33(I10, [2, 45]), t33(N10, [2, 15]), t33(N10, [2, 19]), t33(M10, n10, { 7: 72 }), t33(N10, [2, 26]), t33(N10, [2, 27]), { 4: a10, 5: o10, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: s10, 17: l10, 19: h10, 21: [1, 73], 22: u10, 24: d10, 25: p10, 26: g10, 27: f10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: w10, 38: k10, 42: _10, 45: T10, 48: E10, 49: C10, 50: S10, 51: A10, 54: L10 }, t33(N10, [2, 21])], defaultActions: { 5: [2, 1], 6: [2, 2], 46: [2, 46], 47: [2, 47] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E11, C11, S11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A11 = "";
        for (_11 in C11 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C11 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S11.$ = n11[n11.length - T11], S11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S11, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S11.$), a11.push(S11._$), E11 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, D10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return 41;
      case 1:
      case 42:
        return 48;
      case 2:
      case 43:
        return 49;
      case 3:
      case 44:
        return 50;
      case 4:
      case 45:
        return 51;
      case 5:
      case 6:
      case 8:
      case 9:
      case 10:
      case 11:
      case 54:
      case 56:
      case 62:
        break;
      case 7:
      case 77:
        return 5;
      case 12:
      case 32:
        return this.pushState("SCALE"), 17;
      case 13:
      case 33:
        return 18;
      case 14:
      case 20:
      case 34:
      case 49:
      case 52:
        this.popState();
        break;
      case 15:
        return this.begin("acc_title"), 33;
      case 16:
        return this.popState(), "acc_title_value";
      case 17:
        return this.begin("acc_descr"), 35;
      case 18:
        return this.popState(), "acc_descr_value";
      case 19:
        this.begin("acc_descr_multiline");
        break;
      case 21:
        return "acc_descr_multiline_value";
      case 22:
        return this.pushState("CLASSDEF"), 38;
      case 23:
        return this.popState(), this.pushState("CLASSDEFID"), "DEFAULT_CLASSDEF_ID";
      case 24:
        return this.popState(), this.pushState("CLASSDEFID"), 39;
      case 25:
        return this.popState(), 40;
      case 26:
        return this.pushState("CLASS"), 45;
      case 27:
        return this.popState(), this.pushState("CLASS_STYLE"), 46;
      case 28:
        return this.popState(), 47;
      case 29:
        return this.pushState("STYLE"), 42;
      case 30:
        return this.popState(), this.pushState("STYLEDEF_STYLES"), 43;
      case 31:
        return this.popState(), 44;
      case 35:
        this.pushState("STATE");
        break;
      case 36:
      case 39:
        return this.popState(), e11.yytext = e11.yytext.slice(0, -8).trim(), 25;
      case 37:
      case 40:
        return this.popState(), e11.yytext = e11.yytext.slice(0, -8).trim(), 26;
      case 38:
      case 41:
        return this.popState(), e11.yytext = e11.yytext.slice(0, -10).trim(), 27;
      case 46:
        this.pushState("STATE_STRING");
        break;
      case 47:
        return this.pushState("STATE_ID"), "AS";
      case 48:
      case 64:
        return this.popState(), "ID";
      case 50:
        return "STATE_DESCR";
      case 51:
        return 19;
      case 53:
        return this.popState(), this.pushState("struct"), 20;
      case 55:
        return this.popState(), 21;
      case 57:
        return this.begin("NOTE"), 29;
      case 58:
        return this.popState(), this.pushState("NOTE_ID"), 56;
      case 59:
        return this.popState(), this.pushState("NOTE_ID"), 57;
      case 60:
        this.popState(), this.pushState("FLOATING_NOTE");
        break;
      case 61:
        return this.popState(), this.pushState("FLOATING_NOTE_ID"), "AS";
      case 63:
        return "NOTE_TEXT";
      case 65:
        return this.popState(), this.pushState("NOTE_TEXT"), 24;
      case 66:
        return this.popState(), e11.yytext = e11.yytext.substr(2).trim(), 31;
      case 67:
        return this.popState(), e11.yytext = e11.yytext.slice(0, -8).trim(), 31;
      case 68:
      case 69:
        return 6;
      case 70:
        return 16;
      case 71:
        return 54;
      case 72:
        return 24;
      case 73:
        return e11.yytext = e11.yytext.trim(), 14;
      case 74:
        return 15;
      case 75:
        return 28;
      case 76:
        return 55;
      case 78:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:default\b)/i, /^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:[\s]+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:scale\s+)/i, /^(?:\d+)/i, /^(?:\s+width\b)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:classDef\s+)/i, /^(?:DEFAULT\s+)/i, /^(?:\w+\s+)/i, /^(?:[^\n]*)/i, /^(?:class\s+)/i, /^(?:(\w+)+((,\s*\w+)*))/i, /^(?:[^\n]*)/i, /^(?:style\s+)/i, /^(?:[\w,]+\s+)/i, /^(?:[^\n]*)/i, /^(?:scale\s+)/i, /^(?:\d+)/i, /^(?:\s+width\b)/i, /^(?:state\s+)/i, /^(?:.*<<fork>>)/i, /^(?:.*<<join>>)/i, /^(?:.*<<choice>>)/i, /^(?:.*\[\[fork\]\])/i, /^(?:.*\[\[join\]\])/i, /^(?:.*\[\[choice\]\])/i, /^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:["])/i, /^(?:\s*as\s+)/i, /^(?:[^\n\{]*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n\s\{]+)/i, /^(?:\n)/i, /^(?:\{)/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:\})/i, /^(?:[\n])/i, /^(?:note\s+)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:")/i, /^(?:\s*as\s*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n]*)/i, /^(?:\s*[^:\n\s\-]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:[\s\S]*?end note\b)/i, /^(?:stateDiagram\s+)/i, /^(?:stateDiagram-v2\s+)/i, /^(?:hide empty description\b)/i, /^(?:\[\*\])/i, /^(?:[^:\n\s\-\{]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:-->)/i, /^(?:--)/i, /^(?::::)/i, /^(?:$)/i, /^(?:.)/i], conditions: { LINE: { rules: [9, 10], inclusive: false }, struct: { rules: [9, 10, 22, 26, 29, 35, 42, 43, 44, 45, 54, 55, 56, 57, 71, 72, 73, 74, 75], inclusive: false }, FLOATING_NOTE_ID: { rules: [64], inclusive: false }, FLOATING_NOTE: { rules: [61, 62, 63], inclusive: false }, NOTE_TEXT: { rules: [66, 67], inclusive: false }, NOTE_ID: { rules: [65], inclusive: false }, NOTE: { rules: [58, 59, 60], inclusive: false }, STYLEDEF_STYLEOPTS: { rules: [], inclusive: false }, STYLEDEF_STYLES: { rules: [31], inclusive: false }, STYLE_IDS: { rules: [], inclusive: false }, STYLE: { rules: [30], inclusive: false }, CLASS_STYLE: { rules: [28], inclusive: false }, CLASS: { rules: [27], inclusive: false }, CLASSDEFID: { rules: [25], inclusive: false }, CLASSDEF: { rules: [23, 24], inclusive: false }, acc_descr_multiline: { rules: [20, 21], inclusive: false }, acc_descr: { rules: [18], inclusive: false }, acc_title: { rules: [16], inclusive: false }, SCALE: { rules: [13, 14, 33, 34], inclusive: false }, ALIAS: { rules: [], inclusive: false }, STATE_ID: { rules: [48], inclusive: false }, STATE_STRING: { rules: [49, 50], inclusive: false }, FORK_STATE: { rules: [], inclusive: false }, STATE: { rules: [9, 10, 36, 37, 38, 39, 40, 41, 46, 47, 51, 52, 53], inclusive: false }, ID: { rules: [9, 10], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 15, 17, 19, 22, 26, 29, 32, 35, 53, 57, 68, 69, 70, 71, 72, 73, 74, 76, 77, 78], inclusive: true } } };
  function O10() {
    this.yy = {};
  }
  return R10.lexer = D10, iZ(O10, "Parser"), O10.prototype = R10, R10.Parser = O10, new O10();
}();
Gf.parser = Gf;
var Gm = "state", Gy = "relation", Gv = "default", Gx = "divider", Gb = "fill:none", Gw = "fill: #333", Gk = "text", G_ = "normal", GT = "rect", GE = "rectWithTitle", GC = "divider", GS = "roundedWithTitle", GA = "statediagram", GL = `${GA}-state`, GN = "transition", GI = `${GN} note-edge`, GM = `${GA}-note`, GR = `${GA}-cluster`, GD = `${GA}-cluster-alt`, GO = "parent", GP = "note", G$ = "----", GB = `${G$}${GP}`, GF = `${G$}${GO}`, Gz = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "TB";
  if (!t33.doc) return e10;
  let r10 = e10;
  for (let e11 of t33.doc) "dir" === e11.stmt && (r10 = e11.value);
  return r10;
}, "getDir"), GU = iZ(function(t33, e10) {
  return e10.db.extract(e10.db.getRootDocV2()), e10.db.getClasses();
}, "getClasses"), GG = iZ(async function(t33, e10, r10, i10) {
  var n10, a10;
  i0.info("REF0:"), i0.info("Drawing state diagram (v2)", e10);
  let { securityLevel: o10, state: s10, layout: l10 } = nM();
  i10.db.extract(i10.db.getRootDocV2());
  let h10 = i10.db.getData(), u10 = Sz(e10, o10);
  h10.type = i10.type, h10.layoutAlgorithm = l10, h10.nodeSpacing = (null == s10 ? void 0 : s10.nodeSpacing) || 50, h10.rankSpacing = (null == s10 ? void 0 : s10.rankSpacing) || 50, h10.markers = ["barb"], h10.diagramId = e10, await vY(h10, u10), gT.insertTitle(u10, "statediagramTitleText", null !== (n10 = null == s10 ? void 0 : s10.titleTopMargin) && void 0 !== n10 ? n10 : 25, i10.db.getDiagramTitle()), SU(u10, 8, GA, null === (a10 = null == s10 ? void 0 : s10.useMaxWidth) || void 0 === a10 || a10);
}, "draw"), Gq = /* @__PURE__ */ new Map(), GY = 0;
function GH() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "", i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : G$, n10 = null !== r10 && r10.length > 0 ? `${i10}${r10}` : "";
  return `state-${t33}${n10}-${e10}`;
}
iZ(GH, "stateDomId");
var Gj = iZ((t33, e10, r10, i10, n10, a10, o10, s10) => {
  i0.trace("items", e10), e10.forEach((e11) => {
    switch (e11.stmt) {
      case Gm:
      case Gv:
        GZ(t33, e11, r10, i10, n10, a10, o10, s10);
        break;
      case Gy: {
        GZ(t33, e11.state1, r10, i10, n10, a10, o10, s10), GZ(t33, e11.state2, r10, i10, n10, a10, o10, s10);
        let l10 = { id: "edge" + GY, start: e11.state1.id, end: e11.state2.id, arrowhead: "normal", arrowTypeEnd: "arrow_barb", style: Gb, labelStyle: "", label: ae.sanitizeText(e11.description, nM()), arrowheadStyle: Gw, labelpos: "c", labelType: Gk, thickness: G_, classes: GN, look: o10 };
        n10.push(l10), GY++;
      }
    }
  });
}, "setupDoc"), GW = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "TB", r10 = e10;
  if (t33.doc) for (let e11 of t33.doc) "dir" === e11.stmt && (r10 = e11.value);
  return r10;
}, "getDir");
function GV(t33, e10, r10) {
  if (!e10.id || "</join></fork>" === e10.id || "</choice>" === e10.id) return;
  e10.cssClasses && (Array.isArray(e10.cssCompiledStyles) || (e10.cssCompiledStyles = []), e10.cssClasses.split(" ").forEach((t34) => {
    if (r10.get(t34)) {
      let i11 = r10.get(t34);
      e10.cssCompiledStyles = [...e10.cssCompiledStyles, ...i11.styles];
    }
  }));
  let i10 = t33.find((t34) => t34.id === e10.id);
  i10 ? Object.assign(i10, e10) : t33.push(e10);
}
function GX(t33) {
  var e10, r10;
  return null !== (r10 = null == t33 ? void 0 : null === (e10 = t33.classes) || void 0 === e10 ? void 0 : e10.join(" ")) && void 0 !== r10 ? r10 : "";
}
function GK(t33) {
  var e10;
  return null !== (e10 = null == t33 ? void 0 : t33.styles) && void 0 !== e10 ? e10 : [];
}
iZ(GV, "insertOrUpdateNode"), iZ(GX, "getClassesFromDbInfo"), iZ(GK, "getStylesFromDbInfo");
var GZ = iZ((t33, e10, r10, i10, n10, a10, o10, s10) => {
  let l10 = e10.id, h10 = r10.get(l10), u10 = GX(h10), d10 = GK(h10);
  if (i0.info("dataFetcher parsedItem", e10, h10, d10), "root" !== l10) {
    var p10, g10;
    let r11 = GT;
    true === e10.start ? r11 = "stateStart" : false === e10.start && (r11 = "stateEnd"), e10.type !== Gv && (r11 = e10.type), Gq.get(l10) || Gq.set(l10, { id: l10, shape: r11, description: ae.sanitizeText(l10, nM()), cssClasses: `${u10} ${GL}`, cssStyles: d10 });
    let h11 = Gq.get(l10);
    e10.description && (Array.isArray(h11.description) ? (h11.shape = GE, h11.description.push(e10.description)) : (null === (g10 = h11.description) || void 0 === g10 ? void 0 : g10.length) > 0 ? (h11.shape = GE, h11.description === l10 ? h11.description = [e10.description] : h11.description = [h11.description, e10.description]) : (h11.shape = GT, h11.description = e10.description), h11.description = ae.sanitizeTextOrArray(h11.description, nM())), (null === (p10 = h11.description) || void 0 === p10 ? void 0 : p10.length) === 1 && h11.shape === GE && ("group" === h11.type ? h11.shape = GS : h11.shape = GT), !h11.type && e10.doc && (i0.info("Setting cluster for XCX", l10, GW(e10)), h11.type = "group", h11.isGroup = true, h11.dir = GW(e10), h11.shape = e10.type === Gx ? GC : GS, h11.cssClasses = `${h11.cssClasses} ${GR} ${a10 ? GD : ""}`);
    let f10 = { labelStyle: "", shape: h11.shape, label: h11.description, cssClasses: h11.cssClasses, cssCompiledStyles: [], cssStyles: h11.cssStyles, id: l10, dir: h11.dir, domId: GH(l10, GY), type: h11.type, isGroup: "group" === h11.type, padding: 8, rx: 10, ry: 10, look: o10 };
    if (f10.shape === GC && (f10.label = ""), t33 && "root" !== t33.id && (i0.trace("Setting node ", l10, " to be child of its parent ", t33.id), f10.parentId = t33.id), f10.centerLabel = true, e10.note) {
      let t34 = { labelStyle: "", shape: "note", label: e10.note.text, cssClasses: GM, cssStyles: [], cssCompilesStyles: [], id: l10 + GB + "-" + GY, domId: GH(l10, GY, GP), type: h11.type, isGroup: "group" === h11.type, padding: nM().flowchart.padding, look: o10, position: e10.note.position }, r12 = l10 + GF, a11 = { labelStyle: "", shape: "noteGroup", label: e10.note.text, cssClasses: h11.cssClasses, cssStyles: [], id: l10 + GF, domId: GH(l10, GY, GO), type: "group", isGroup: true, padding: 16, look: o10, position: e10.note.position };
      GY++, a11.id = r12, t34.parentId = r12, GV(i10, a11, s10), GV(i10, t34, s10), GV(i10, f10, s10);
      let u11 = l10, d11 = t34.id;
      "left of" === e10.note.position && (u11 = t34.id, d11 = l10), n10.push({ id: u11 + "-" + d11, start: u11, end: d11, arrowhead: "none", arrowTypeEnd: "", style: Gb, labelStyle: "", classes: GI, arrowheadStyle: Gw, labelpos: "c", labelType: Gk, thickness: G_, look: o10 });
    } else GV(i10, f10, s10);
  }
  e10.doc && (i0.trace("Adding nodes children "), Gj(e10, e10.doc, r10, i10, n10, !a10, o10, s10));
}, "dataFetcher"), GQ = iZ(() => {
  Gq.clear(), GY = 0;
}, "reset"), GJ = "start", G0 = "color", G1 = "fill";
function G2() {
  return /* @__PURE__ */ new Map();
}
iZ(G2, "newClassesList");
var G4 = [], G5 = [], G3 = "LR", G6 = [], G7 = G2(), G8 = iZ(() => ({ relations: [], states: /* @__PURE__ */ new Map(), documents: {} }), "newDoc"), G9 = { root: G8() }, qt = G9.root, qe = 0, qr = 0, qi = iZ((t33) => JSON.parse(JSON.stringify(t33)), "clone"), qn = iZ((t33) => {
  i0.info("Setting root doc", t33), G6 = t33;
}, "setRootDoc"), qa = iZ(() => G6, "getRootDoc"), qo = iZ((t33, e10, r10) => {
  if (e10.stmt === Gy) qo(t33, e10.state1, true), qo(t33, e10.state2, false);
  else if (e10.stmt === Gm && ("[*]" === e10.id ? (e10.id = r10 ? t33.id + "_start" : t33.id + "_end", e10.start = r10) : e10.id = e10.id.trim()), e10.doc) {
    let t34;
    let r11 = [], i10 = [];
    for (t34 = 0; t34 < e10.doc.length; t34++) if (e10.doc[t34].type === Gx) {
      let n10 = qi(e10.doc[t34]);
      n10.doc = qi(i10), r11.push(n10), i10 = [];
    } else i10.push(e10.doc[t34]);
    if (r11.length > 0 && i10.length > 0) {
      let t35 = { stmt: Gm, id: gl(), type: "divider", doc: qi(i10) };
      r11.push(qi(t35)), e10.doc = r11;
    }
    e10.doc.forEach((t35) => qo(e10, t35, true));
  }
}, "docTranslator"), qs = iZ(() => (qo({ id: "root" }, { id: "root", doc: G6 }, true), { id: "root", doc: G6 }), "getRootDocV2"), ql = iZ((t33) => {
  let e10;
  e10 = t33.doc ? t33.doc : t33, i0.info(e10), qc(true), i0.info("Extract initial document:", e10), e10.forEach((t34) => {
    switch (i0.warn("Statement", t34.stmt), t34.stmt) {
      case Gm:
        qh(t34.id.trim(), t34.type, t34.doc, t34.description, t34.note, t34.classes, t34.styles, t34.textStyles);
        break;
      case Gy:
        qb(t34.state1, t34.state2, t34.description);
        break;
      case "classDef":
        qT(t34.id.trim(), t34.classes);
        break;
      case "style":
        {
          let e11 = t34.id.trim().split(","), r11 = t34.styleClass.split(",");
          e11.forEach((t35) => {
            let e12 = qu(t35);
            if (void 0 === e12) {
              let r12 = t35.trim();
              qh(r12), e12 = qu(r12);
            }
            e12.styles = r11.map((t36) => {
              var e13;
              return null === (e13 = t36.replace(/;/g, "")) || void 0 === e13 ? void 0 : e13.trim();
            });
          });
        }
        break;
      case "applyClass":
        qC(t34.id.trim(), t34.styleClass);
    }
  });
  let r10 = qd(), i10 = nM().look;
  GQ(), GZ(void 0, qs(), r10, G4, G5, true, i10, G7), G4.forEach((t34) => {
    if (Array.isArray(t34.label)) {
      if (t34.description = t34.label.slice(1), t34.isGroup && t34.description.length > 0) throw Error("Group nodes can only have label. Remove the additional description for node [" + t34.id + "]");
      t34.label = t34.label[0];
    }
  });
}, "extract"), qh = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Gv, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null, n10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null, o10 = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : null, s10 = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : null, l10 = null == t33 ? void 0 : t33.trim();
  if (qt.states.has(l10) ? (qt.states.get(l10).doc || (qt.states.get(l10).doc = r10), qt.states.get(l10).type || (qt.states.get(l10).type = e10)) : (i0.info("Adding state ", l10, i10), qt.states.set(l10, { id: l10, descriptions: [], type: e10, doc: r10, note: n10, classes: [], styles: [], textStyles: [] })), i10 && (i0.info("Setting state description", l10, i10), "string" == typeof i10 && qw(l10, i10.trim()), "object" == typeof i10 && i10.forEach((t34) => qw(l10, t34.trim()))), n10) {
    let t34 = qt.states.get(l10);
    t34.note = n10, t34.note.text = ae.sanitizeText(t34.note.text, nM());
  }
  a10 && (i0.info("Setting state classes", l10, a10), ("string" == typeof a10 ? [a10] : a10).forEach((t34) => qC(l10, t34.trim()))), o10 && (i0.info("Setting state styles", l10, o10), ("string" == typeof o10 ? [o10] : o10).forEach((t34) => qS(l10, t34.trim()))), s10 && (i0.info("Setting state styles", l10, o10), ("string" == typeof s10 ? [s10] : s10).forEach((t34) => qA(l10, t34.trim())));
}, "addState"), qc = iZ(function(t33) {
  G4 = [], G5 = [], qt = (G9 = { root: G8() }).root, qe = 0, G7 = G2(), t33 || ag();
}, "clear"), qu = iZ(function(t33) {
  return qt.states.get(t33);
}, "getState"), qd = iZ(function() {
  return qt.states;
}, "getStates"), qp = iZ(function() {
  i0.info("Documents = ", G9);
}, "logDocuments"), qg = iZ(function() {
  return qt.relations;
}, "getRelations");
function qf() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e10 = t33;
  return "[*]" === t33 && (qe++, e10 = `${GJ}${qe}`), e10;
}
function qm() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Gv;
  return "[*]" === t33 ? GJ : e10;
}
function qy() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e10 = t33;
  return "[*]" === t33 && (qe++, e10 = `end${qe}`), e10;
}
function qv() {
  let t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Gv;
  return "[*]" === t33 ? "end" : e10;
}
function qx(t33, e10, r10) {
  let i10 = qf(t33.id.trim()), n10 = qm(t33.id.trim(), t33.type), a10 = qf(e10.id.trim()), o10 = qm(e10.id.trim(), e10.type);
  qh(i10, n10, t33.doc, t33.description, t33.note, t33.classes, t33.styles, t33.textStyles), qh(a10, o10, e10.doc, e10.description, e10.note, e10.classes, e10.styles, e10.textStyles), qt.relations.push({ id1: i10, id2: a10, relationTitle: ae.sanitizeText(r10, nM()) });
}
iZ(qf, "startIdIfNeeded"), iZ(qm, "startTypeIfNeeded"), iZ(qy, "endIdIfNeeded"), iZ(qv, "endTypeIfNeeded"), iZ(qx, "addRelationObjs");
var qb = iZ(function(t33, e10, r10) {
  if ("object" == typeof t33) qx(t33, e10, r10);
  else {
    let i10 = qf(t33.trim()), n10 = qm(t33), a10 = qy(e10.trim()), o10 = qv(e10);
    qh(i10, n10), qh(a10, o10), qt.relations.push({ id1: i10, id2: a10, title: ae.sanitizeText(r10, nM()) });
  }
}, "addRelation"), qw = iZ(function(t33, e10) {
  let r10 = qt.states.get(t33), i10 = e10.startsWith(":") ? e10.replace(":", "").trim() : e10;
  r10.descriptions.push(ae.sanitizeText(i10, nM()));
}, "addDescription"), qk = iZ(function(t33) {
  return ":" === t33.substring(0, 1) ? t33.substr(2).trim() : t33.trim();
}, "cleanupLabel"), q_ = iZ(() => "divider-id-" + ++qr, "getDividerId"), qT = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
  G7.has(t33) || G7.set(t33, { id: t33, styles: [], textStyles: [] });
  let r10 = G7.get(t33);
  null != e10 && e10.split(",").forEach((t34) => {
    let e11 = t34.replace(/([^;]*);/, "$1").trim();
    if (RegExp(G0).exec(t34)) {
      let t35 = e11.replace(G1, "bgFill").replace(G0, G1);
      r10.textStyles.push(t35);
    }
    r10.styles.push(e11);
  });
}, "addStyleClass"), qE = iZ(function() {
  return G7;
}, "getClasses"), qC = iZ(function(t33, e10) {
  t33.split(",").forEach(function(t34) {
    let r10 = qu(t34);
    if (void 0 === r10) {
      let e11 = t34.trim();
      qh(e11), r10 = qu(e11);
    }
    r10.classes.push(e10);
  });
}, "setCssClass"), qS = iZ(function(t33, e10) {
  let r10 = qu(t33);
  void 0 !== r10 && r10.styles.push(e10);
}, "setStyle"), qA = iZ(function(t33, e10) {
  let r10 = qu(t33);
  void 0 !== r10 && r10.textStyles.push(e10);
}, "setTextStyle"), qL = iZ(() => G3, "getDirection"), qN = iZ((t33) => {
  G3 = t33;
}, "setDirection"), qI = iZ((t33) => t33 && ":" === t33[0] ? t33.substr(1).trim() : t33.trim(), "trimColon"), qM = iZ(() => {
  let t33 = nM();
  return { nodes: G4, edges: G5, other: {}, config: t33, direction: Gz(qs()) };
}, "getData"), qR = { getConfig: iZ(() => nM().state, "getConfig"), getData: qM, addState: qh, clear: qc, getState: qu, getStates: qd, getRelations: qg, getClasses: qE, getDirection: qL, addRelation: qb, getDividerId: q_, setDirection: qN, cleanupLabel: qk, lineType: { LINE: 0, DOTTED_LINE: 1 }, relationType: { AGGREGATION: 0, EXTENSION: 1, COMPOSITION: 2, DEPENDENCY: 3 }, logDocuments: qp, getRootDoc: qa, setRootDoc: qn, getRootDocV2: qs, extract: ql, trimColon: qI, getAccTitle: am, setAccTitle: af, getAccDescription: av, setAccDescription: ay, addStyleClass: qT, setCssClass: qC, addDescription: qw, setDiagramTitle: ax, getDiagramTitle: ab }, qD = iZ((t33) => `
defs #statediagram-barbEnd {
    fill: ${t33.transitionColor};
    stroke: ${t33.transitionColor};
  }
g.stateGroup text {
  fill: ${t33.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t33.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t33.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t33.mainBkg};
  stroke: ${t33.nodeBorder};
}

g.stateGroup line {
  stroke: ${t33.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t33.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t33.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t33.noteBorderColor};
  fill: ${t33.noteBkgColor};

  text {
    fill: ${t33.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t33.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t33.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${t33.edgeLabelBackground};
  p {
    background-color: ${t33.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${t33.edgeLabelBackground};
    fill: ${t33.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${t33.transitionLabelColor || t33.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t33.transitionLabelColor || t33.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t33.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t33.specialStateColor};
  stroke: ${t33.specialStateColor};
}

.node .fork-join {
  fill: ${t33.specialStateColor};
  stroke: ${t33.specialStateColor};
}

.node circle.state-end {
  fill: ${t33.innerEndBackground};
  stroke: ${t33.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t33.compositeBackground || t33.background};
  // stroke: ${t33.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t33.stateBkg || t33.mainBkg};
  stroke: ${t33.stateBorder || t33.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t33.mainBkg};
  stroke: ${t33.stateBorder || t33.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t33.lineColor};
}

.statediagram-cluster rect {
  fill: ${t33.compositeTitleBackground};
  stroke: ${t33.stateBorder || t33.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t33.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t33.stateBorder || t33.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t33.compositeBackground || t33.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t33.altBackground ? t33.altBackground : "#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t33.altBackground ? t33.altBackground : "#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t33.noteBkgColor};
  stroke: ${t33.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t33.noteBkgColor};
  stroke: ${t33.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t33.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t33.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t33.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t33.lineColor};
  stroke: ${t33.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t33.textColor};
}
`, "getStyles"), qO = {}, qP = iZ((t33, e10) => {
  qO[t33] = e10;
}, "set"), q$ = ((t33) => qO[t33], iZ(() => Object.keys(qO), "keys")), qB = (() => q$().length, iZ((t33) => t33.append("circle").attr("class", "start-state").attr("r", nM().state.sizeUnit).attr("cx", nM().state.padding + nM().state.sizeUnit).attr("cy", nM().state.padding + nM().state.sizeUnit), "drawStartState")), qF = iZ((t33) => t33.append("line").style("stroke", "grey").style("stroke-dasharray", "3").attr("x1", nM().state.textHeight).attr("class", "divider").attr("x2", 2 * nM().state.textHeight).attr("y1", 0).attr("y2", 0), "drawDivider"), qz = iZ((t33, e10) => {
  let r10 = t33.append("text").attr("x", 2 * nM().state.padding).attr("y", nM().state.textHeight + 2 * nM().state.padding).attr("font-size", nM().state.fontSize).attr("class", "state-title").text(e10.id), i10 = r10.node().getBBox();
  return t33.insert("rect", ":first-child").attr("x", nM().state.padding).attr("y", nM().state.padding).attr("width", i10.width + 2 * nM().state.padding).attr("height", i10.height + 2 * nM().state.padding).attr("rx", nM().state.radius), r10;
}, "drawSimpleState"), qU = iZ((t33, e10) => {
  let r10 = iZ(function(t34, e11, r11) {
    let i11 = t34.append("tspan").attr("x", 2 * nM().state.padding).text(e11);
    r11 || i11.attr("dy", nM().state.textHeight);
  }, "addTspan"), i10 = t33.append("text").attr("x", 2 * nM().state.padding).attr("y", nM().state.textHeight + 1.3 * nM().state.padding).attr("font-size", nM().state.fontSize).attr("class", "state-title").text(e10.descriptions[0]).node().getBBox(), n10 = i10.height, a10 = t33.append("text").attr("x", nM().state.padding).attr("y", n10 + 0.4 * nM().state.padding + nM().state.dividerMargin + nM().state.textHeight).attr("class", "state-description"), o10 = true, s10 = true;
  e10.descriptions.forEach(function(t34) {
    o10 || (r10(a10, t34, s10), s10 = false), o10 = false;
  });
  let l10 = t33.append("line").attr("x1", nM().state.padding).attr("y1", nM().state.padding + n10 + nM().state.dividerMargin / 2).attr("y2", nM().state.padding + n10 + nM().state.dividerMargin / 2).attr("class", "descr-divider"), h10 = a10.node().getBBox(), u10 = Math.max(h10.width, i10.width);
  return l10.attr("x2", u10 + 3 * nM().state.padding), t33.insert("rect", ":first-child").attr("x", nM().state.padding).attr("y", nM().state.padding).attr("width", u10 + 2 * nM().state.padding).attr("height", h10.height + n10 + 2 * nM().state.padding).attr("rx", nM().state.radius), t33;
}, "drawDescrState"), qG = iZ((t33, e10, r10) => {
  let i10;
  let n10 = nM().state.padding, a10 = 2 * nM().state.padding, o10 = t33.node().getBBox(), s10 = o10.width, l10 = o10.x, h10 = t33.append("text").attr("x", 0).attr("y", nM().state.titleShift).attr("font-size", nM().state.fontSize).attr("class", "state-title").text(e10.id), u10 = h10.node().getBBox().width + a10, d10 = Math.max(u10, s10);
  d10 === s10 && (d10 += a10);
  let p10 = t33.node().getBBox();
  e10.doc, i10 = l10 - n10, u10 > s10 && (i10 = (s10 - d10) / 2 + n10), Math.abs(l10 - p10.x) < n10 && u10 > s10 && (i10 = l10 - (u10 - s10) / 2);
  let g10 = 1 - nM().state.textHeight;
  return t33.insert("rect", ":first-child").attr("x", i10).attr("y", g10).attr("class", r10 ? "alt-composit" : "composit").attr("width", d10).attr("height", p10.height + nM().state.textHeight + nM().state.titleShift + 1).attr("rx", "0"), h10.attr("x", i10 + n10), u10 <= s10 && h10.attr("x", l10 + (d10 - a10) / 2 - u10 / 2 + n10), t33.insert("rect", ":first-child").attr("x", i10).attr("y", nM().state.titleShift - nM().state.textHeight - nM().state.padding).attr("width", d10).attr("height", 3 * nM().state.textHeight).attr("rx", nM().state.radius), t33.insert("rect", ":first-child").attr("x", i10).attr("y", nM().state.titleShift - nM().state.textHeight - nM().state.padding).attr("width", d10).attr("height", p10.height + 3 + 2 * nM().state.textHeight).attr("rx", nM().state.radius), t33;
}, "addTitleAndBox"), qq = iZ((t33) => (t33.append("circle").attr("class", "end-state-outer").attr("r", nM().state.sizeUnit + nM().state.miniPadding).attr("cx", nM().state.padding + nM().state.sizeUnit + nM().state.miniPadding).attr("cy", nM().state.padding + nM().state.sizeUnit + nM().state.miniPadding), t33.append("circle").attr("class", "end-state-inner").attr("r", nM().state.sizeUnit).attr("cx", nM().state.padding + nM().state.sizeUnit + 2).attr("cy", nM().state.padding + nM().state.sizeUnit + 2)), "drawEndState"), qY = iZ((t33, e10) => {
  let r10 = nM().state.forkWidth, i10 = nM().state.forkHeight;
  if (e10.parentId) {
    let t34 = r10;
    r10 = i10, i10 = t34;
  }
  return t33.append("rect").style("stroke", "black").style("fill", "black").attr("width", r10).attr("height", i10).attr("x", nM().state.padding).attr("y", nM().state.padding);
}, "drawForkJoinState"), qH = iZ((t33, e10, r10, i10) => {
  let n10 = 0, a10 = i10.append("text");
  a10.style("text-anchor", "start"), a10.attr("class", "noteText");
  let o10 = t33.replace(/\r\n/g, "<br/>"), s10 = (o10 = o10.replace(/\n/g, "<br/>")).split(ae.lineBreakRegex), l10 = 1.25 * nM().state.noteMargin;
  for (let t34 of s10) {
    let i11 = t34.trim();
    if (i11.length > 0) {
      let t35 = a10.append("tspan");
      t35.text(i11), 0 === l10 && (l10 += t35.node().getBBox().height), n10 += l10, t35.attr("x", e10 + nM().state.noteMargin), t35.attr("y", r10 + n10 + 1.25 * nM().state.noteMargin);
    }
  }
  return { textWidth: a10.node().getBBox().width, textHeight: n10 };
}, "_drawLongText"), qj = iZ((t33, e10) => {
  e10.attr("class", "state-note");
  let r10 = e10.append("rect").attr("x", 0).attr("y", nM().state.padding), { textWidth: i10, textHeight: n10 } = qH(t33, 0, 0, e10.append("g"));
  return r10.attr("height", n10 + 2 * nM().state.noteMargin), r10.attr("width", i10 + 2 * nM().state.noteMargin), r10;
}, "drawNote"), qW = iZ(function(t33, e10) {
  let r10 = e10.id, i10 = { id: r10, label: e10.id, width: 0, height: 0 }, n10 = t33.append("g").attr("id", r10).attr("class", "stateGroup");
  "start" === e10.type && qB(n10), "end" === e10.type && qq(n10), ("fork" === e10.type || "join" === e10.type) && qY(n10, e10), "note" === e10.type && qj(e10.note.text, n10), "divider" === e10.type && qF(n10), "default" === e10.type && 0 === e10.descriptions.length && qz(n10, e10), "default" === e10.type && e10.descriptions.length > 0 && qU(n10, e10);
  let a10 = n10.node().getBBox();
  return i10.width = a10.width + 2 * nM().state.padding, i10.height = a10.height + 2 * nM().state.padding, qP(r10, i10), i10;
}, "drawState"), qV = 0, qX = iZ(function(t33, e10, r10) {
  let i10 = iZ(function(t34) {
    switch (t34) {
      case qR.relationType.AGGREGATION:
        return "aggregation";
      case qR.relationType.EXTENSION:
        return "extension";
      case qR.relationType.COMPOSITION:
        return "composition";
      case qR.relationType.DEPENDENCY:
        return "dependency";
    }
  }, "getRelationType");
  e10.points = e10.points.filter((t34) => !Number.isNaN(t34.y));
  let n10 = e10.points, a10 = px().x(function(t34) {
    return t34.x;
  }).y(function(t34) {
    return t34.y;
  }).curve(pC), o10 = t33.append("path").attr("d", a10(n10)).attr("id", "edge" + qV).attr("class", "transition"), s10 = "";
  if (nM().state.arrowMarkerAbsolute && (s10 = (s10 = (s10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), o10.attr("marker-end", "url(" + s10 + "#" + i10(qR.relationType.DEPENDENCY) + "End)"), void 0 !== r10.title) {
    let i11 = t33.append("g").attr("class", "stateLabel"), { x: n11, y: a11 } = gT.calcLabelPosition(e10.points), o11 = ae.getRows(r10.title), s11 = 0, l10 = [], h10 = 0, u10 = 0;
    for (let t34 = 0; t34 <= o11.length; t34++) {
      let e11 = i11.append("text").attr("text-anchor", "middle").text(o11[t34]).attr("x", n11).attr("y", a11 + s11), r11 = e11.node().getBBox();
      h10 = Math.max(h10, r11.width), u10 = Math.min(u10, r11.x), i0.info(r11.x, n11, a11 + s11), 0 === s11 && (s11 = e11.node().getBBox().height, i0.info("Title height", s11, a11)), l10.push(e11);
    }
    let d10 = s11 * o11.length;
    if (o11.length > 1) {
      let t34 = (o11.length - 1) * s11 * 0.5;
      l10.forEach((e11, r11) => e11.attr("y", a11 + r11 * s11 - t34)), d10 = s11 * o11.length;
    }
    let p10 = i11.node().getBBox();
    i11.insert("rect", ":first-child").attr("class", "box").attr("x", n11 - h10 / 2 - nM().state.padding / 2).attr("y", a11 - d10 / 2 - nM().state.padding / 2 - 3.5).attr("width", h10 + nM().state.padding).attr("height", d10 + nM().state.padding), i0.info(p10);
  }
  qV++;
}, "drawEdge"), qK = {}, qZ = iZ(function() {
}, "setConf"), qQ = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "dependencyEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
}, "insertMarkers"), qJ = iZ(function(t33, e10, r10, i10) {
  let n10;
  tev = nM().state;
  let a10 = nM().securityLevel;
  "sandbox" === a10 && (n10 = hl("#i" + e10));
  let o10 = "sandbox" === a10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body"), s10 = "sandbox" === a10 ? n10.nodes()[0].contentDocument : document;
  i0.debug("Rendering diagram " + t33);
  let l10 = o10.select(`[id='${e10}']`);
  qQ(l10), q1(i10.db.getRootDoc(), l10, void 0, false, o10, s10, i10);
  let h10 = tev.padding, u10 = l10.node().getBBox(), d10 = u10.width + 2 * h10, p10 = u10.height + 2 * h10;
  an(l10, p10, 1.75 * d10, tev.useMaxWidth), l10.attr("viewBox", `${u10.x - tev.padding}  ${u10.y - tev.padding} ` + d10 + " " + p10);
}, "draw"), q0 = iZ((t33) => t33 ? t33.length * tev.fontSizeFactor : 1, "getLabelWidth"), q1 = iZ((t33, e10, r10, i10, n10, a10, o10) => {
  let s10;
  let l10 = new Eb({ compound: true, multigraph: true }), h10 = true;
  for (s10 = 0; s10 < t33.length; s10++) if ("relation" === t33[s10].stmt) {
    h10 = false;
    break;
  }
  r10 ? l10.setGraph({ rankdir: "LR", multigraph: true, compound: true, ranker: "tight-tree", ranksep: h10 ? 1 : tev.edgeLengthFactor, nodeSep: h10 ? 1 : 50, isMultiGraph: true }) : l10.setGraph({ rankdir: "TB", multigraph: true, compound: true, ranksep: h10 ? 1 : tev.edgeLengthFactor, nodeSep: h10 ? 1 : 50, ranker: "tight-tree", isMultiGraph: true }), l10.setDefaultEdgeLabel(function() {
    return {};
  }), o10.db.extract(t33);
  let u10 = o10.db.getStates(), d10 = o10.db.getRelations();
  for (let t34 of Object.keys(u10)) {
    let s11;
    let h11 = u10[t34];
    if (r10 && (h11.parentId = r10), h11.doc) {
      let t35 = e10.append("g").attr("id", h11.id).attr("class", "stateGroup");
      s11 = q1(h11.doc, t35, h11.id, !i10, n10, a10, o10);
      {
        let e11 = (t35 = qG(t35, h11, i10)).node().getBBox();
        s11.width = e11.width, s11.height = e11.height + tev.padding / 2, qK[h11.id] = { y: tev.compositTitleSize };
      }
    } else s11 = qW(e10, h11, l10);
    if (h11.note) {
      let t35 = qW(e10, { descriptions: [], id: h11.id + "-note", note: h11.note, type: "note" }, l10);
      "left of" === h11.note.position ? (l10.setNode(s11.id + "-note", t35), l10.setNode(s11.id, s11)) : (l10.setNode(s11.id, s11), l10.setNode(s11.id + "-note", t35)), l10.setParent(s11.id, s11.id + "-group"), l10.setParent(s11.id + "-note", s11.id + "-group");
    } else l10.setNode(s11.id, s11);
  }
  i0.debug("Count=", l10.nodeCount(), l10);
  let p10 = 0;
  d10.forEach(function(t34) {
    p10++, i0.debug("Setting edge", t34), l10.setEdge(t34.id1, t34.id2, { relation: t34, width: q0(t34.title), height: tev.labelHeight * ae.getRows(t34.title).length, labelpos: "c" }, "id" + p10);
  }), E5(l10), i0.debug("Graph after layout", l10.nodes());
  let g10 = e10.node();
  l10.nodes().forEach(function(t34) {
    void 0 !== t34 && void 0 !== l10.node(t34) ? (i0.warn("Node " + t34 + ": " + JSON.stringify(l10.node(t34))), n10.select("#" + g10.id + " #" + t34).attr("transform", "translate(" + (l10.node(t34).x - l10.node(t34).width / 2) + "," + (l10.node(t34).y + (qK[t34] ? qK[t34].y : 0) - l10.node(t34).height / 2) + " )"), n10.select("#" + g10.id + " #" + t34).attr("data-x-shift", l10.node(t34).x - l10.node(t34).width / 2), a10.querySelectorAll("#" + g10.id + " #" + t34 + " .divider").forEach((t35) => {
      let e11 = t35.parentElement, r11 = 0, i11 = 0;
      e11 && (e11.parentElement && (r11 = e11.parentElement.getBBox().width), Number.isNaN(i11 = parseInt(e11.getAttribute("data-x-shift"), 10)) && (i11 = 0)), t35.setAttribute("x1", 0 - i11 + 8), t35.setAttribute("x2", r11 - i11 - 8);
    })) : i0.debug("No Node " + t34 + ": " + JSON.stringify(l10.node(t34)));
  });
  let f10 = g10.getBBox();
  l10.edges().forEach(function(t34) {
    void 0 !== t34 && void 0 !== l10.edge(t34) && (i0.debug("Edge " + t34.v + " -> " + t34.w + ": " + JSON.stringify(l10.edge(t34))), qX(e10, l10.edge(t34), l10.edge(t34).relation));
  }), f10 = g10.getBBox();
  let y10 = { id: r10 || "root", label: r10 || "root", width: 0, height: 0 };
  return y10.width = f10.width + 2 * tev.padding, y10.height = f10.height + 2 * tev.padding, i0.debug("Doc rendered", y10, l10), y10;
}, "renderDoc");
let q2 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: Gf, db: qR, renderer: { setConf: qZ, draw: qJ }, styles: qD, init: iZ((t33) => {
  t33.state || (t33.state = {}), t33.state.arrowMarkerAbsolute = t33.arrowMarkerAbsolute, qR.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" })), q4 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: Gf, db: qR, renderer: { getClasses: GU, draw: GG, getDir: Gz }, styles: qD, init: iZ((t33) => {
  t33.state || (t33.state = {}), t33.state.arrowMarkerAbsolute = t33.arrowMarkerAbsolute, qR.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var q5 = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [6, 8, 10, 11, 12, 14, 16, 17, 18], r10 = [1, 9], i10 = [1, 10], n10 = [1, 11], a10 = [1, 12], o10 = [1, 13], s10 = [1, 14], l10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, journey: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NEWLINE: 10, title: 11, acc_title: 12, acc_title_value: 13, acc_descr: 14, acc_descr_value: 15, acc_descr_multiline_value: 16, section: 17, taskName: 18, taskData: 19, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "journey", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 11: "title", 12: "acc_title", 13: "acc_title_value", 14: "acc_descr", 15: "acc_descr_value", 16: "acc_descr_multiline_value", 17: "section", 18: "taskName", 19: "taskData" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 2]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 1:
        return a11[s11 - 1];
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[s11 - 1].push(a11[s11]), this.$ = a11[s11 - 1];
        break;
      case 4:
      case 5:
        this.$ = a11[s11];
        break;
      case 8:
        i11.setDiagramTitle(a11[s11].substr(6)), this.$ = a11[s11].substr(6);
        break;
      case 9:
        this.$ = a11[s11].trim(), i11.setAccTitle(this.$);
        break;
      case 10:
      case 11:
        this.$ = a11[s11].trim(), i11.setAccDescription(this.$);
        break;
      case 12:
        i11.addSection(a11[s11].substr(8)), this.$ = a11[s11].substr(8);
        break;
      case 13:
        i11.addTask(a11[s11 - 1], a11[s11]), this.$ = "task";
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, t33(e10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: r10, 12: i10, 14: n10, 16: a10, 17: o10, 18: s10 }, t33(e10, [2, 7], { 1: [2, 1] }), t33(e10, [2, 3]), { 9: 15, 11: r10, 12: i10, 14: n10, 16: a10, 17: o10, 18: s10 }, t33(e10, [2, 5]), t33(e10, [2, 6]), t33(e10, [2, 8]), { 13: [1, 16] }, { 15: [1, 17] }, t33(e10, [2, 11]), t33(e10, [2, 12]), { 19: [1, 18] }, t33(e10, [2, 4]), t33(e10, [2, 9]), t33(e10, [2, 10]), t33(e10, [2, 13])], defaultActions: {}, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d10 = Object.create(this.lexer), p10 = { yy: {} };
    for (var g10 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g10) && (p10.yy[g10] = this.yy[g10]);
    d10.setInput(t34, p10.yy), p10.yy.lexer = d10, p10.yy.parser = this, void 0 === d10.yylloc && (d10.yylloc = {});
    var f10 = d10.yylloc;
    a11.push(f10);
    var y10 = d10.options && d10.options.ranges;
    function v10() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d10.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p10.yy.parseError ? this.parseError = p10.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v10, "lex");
    for (var x10, b10, w10, k10, _10, T10, E10, C10, S10 = {}; ; ) {
      if (b10 = r11[r11.length - 1], this.defaultActions[b10] ? w10 = this.defaultActions[b10] : (null == x10 && (x10 = v10()), w10 = o11[b10] && o11[b10][x10]), void 0 === w10 || !w10.length || !w10[0]) {
        var A10 = "";
        for (_10 in C10 = [], o11[b10]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d10.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d10.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x10] || x10) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x10 ? "end of input" : "'" + (this.terminals_[x10] || x10) + "'"), this.parseError(A10, { text: d10.match, token: this.terminals_[x10] || x10, line: d10.yylineno, loc: f10, expected: C10 });
      }
      if (w10[0] instanceof Array && w10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b10 + ", token: " + x10);
      switch (w10[0]) {
        case 1:
          r11.push(x10), n11.push(d10.yytext), a11.push(d10.yylloc), r11.push(w10[1]), x10 = null, h11 = d10.yyleng, s11 = d10.yytext, l11 = d10.yylineno, f10 = d10.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[w10[1]][1], S10.$ = n11[n11.length - T10], S10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y10 && (S10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k10 = this.performAction.apply(S10, [s11, h11, l11, p10.yy, w10[1], n11, a11].concat(u11)))) return k10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), n11 = n11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[w10[1]][0]), n11.push(S10.$), a11.push(S10._$), E10 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, h10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
      case 1:
      case 3:
      case 4:
        break;
      case 2:
        return 10;
      case 5:
        return 4;
      case 6:
        return 11;
      case 7:
        return this.begin("acc_title"), 12;
      case 8:
        return this.popState(), "acc_title_value";
      case 9:
        return this.begin("acc_descr"), 14;
      case 10:
        return this.popState(), "acc_descr_value";
      case 11:
        this.begin("acc_descr_multiline");
        break;
      case 12:
        this.popState();
        break;
      case 13:
        return "acc_descr_multiline_value";
      case 14:
        return 17;
      case 15:
        return 18;
      case 16:
        return 19;
      case 17:
        return ":";
      case 18:
        return 6;
      case 19:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:journey\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:section\s[^#:\n;]+)/i, /^(?:[^#:\n;]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [12, 13], inclusive: false }, acc_descr: { rules: [10], inclusive: false }, acc_title: { rules: [8], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 19], inclusive: true } } };
  function u10() {
    this.yy = {};
  }
  return l10.lexer = h10, iZ(u10, "Parser"), u10.prototype = l10, l10.Parser = u10, new u10();
}();
q5.parser = q5;
var q3 = "", q6 = [], q7 = [], q8 = [], q9 = iZ(function() {
  q6.length = 0, q7.length = 0, q3 = "", q8.length = 0, ag();
}, "clear"), Yt = iZ(function(t33) {
  q3 = t33, q6.push(t33);
}, "addSection"), Ye = iZ(function() {
  return q6;
}, "getSections"), Yr = iZ(function() {
  let t33 = Yo(), e10 = 0;
  for (; !t33 && e10 < 100; ) t33 = Yo(), e10++;
  return q7.push(...q8), q7;
}, "getTasks"), Yi = iZ(function() {
  let t33 = [];
  return q7.forEach((e10) => {
    e10.people && t33.push(...e10.people);
  }), [...new Set(t33)].sort();
}, "updateActors"), Yn = iZ(function(t33, e10) {
  let r10 = e10.substr(1).split(":"), i10 = 0, n10 = [];
  1 === r10.length ? (i10 = Number(r10[0]), n10 = []) : (i10 = Number(r10[0]), n10 = r10[1].split(","));
  let a10 = n10.map((t34) => t34.trim()), o10 = { section: q3, type: q3, people: a10, task: t33, score: i10 };
  q8.push(o10);
}, "addTask"), Ya = iZ(function(t33) {
  let e10 = { section: q3, type: q3, description: t33, task: t33, classes: [] };
  q7.push(e10);
}, "addTaskOrg"), Yo = iZ(function() {
  let t33 = iZ(function(t34) {
    return q8[t34].processed;
  }, "compileTask"), e10 = true;
  for (let [r10, i10] of q8.entries()) t33(r10), e10 = e10 && i10.processed;
  return e10;
}, "compileTasks"), Ys = iZ(function() {
  return Yi();
}, "getActors"), Yl = { getConfig: iZ(() => nM().journey, "getConfig"), clear: q9, setDiagramTitle: ax, getDiagramTitle: ab, setAccTitle: af, getAccTitle: am, setAccDescription: ay, getAccDescription: av, addSection: Yt, getSections: Ye, getTasks: Yr, addTask: Yn, addTaskOrg: Ya, getActors: Ys }, Yh = iZ((t33) => `.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t33.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t33.textColor}
  }

  .legend {
    fill: ${t33.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t33.textColor}
  }

  .face {
    ${t33.faceColor ? `fill: ${t33.faceColor}` : "fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t33.mainBkg};
    stroke: ${t33.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t33.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t33.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t33.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t33.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t33.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t33.tertiaryColor};
    border: 1px solid ${t33.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t33.fillType0 ? `fill: ${t33.fillType0}` : ""};
  }
  .task-type-1, .section-type-1  {
    ${t33.fillType0 ? `fill: ${t33.fillType1}` : ""};
  }
  .task-type-2, .section-type-2  {
    ${t33.fillType0 ? `fill: ${t33.fillType2}` : ""};
  }
  .task-type-3, .section-type-3  {
    ${t33.fillType0 ? `fill: ${t33.fillType3}` : ""};
  }
  .task-type-4, .section-type-4  {
    ${t33.fillType0 ? `fill: ${t33.fillType4}` : ""};
  }
  .task-type-5, .section-type-5  {
    ${t33.fillType0 ? `fill: ${t33.fillType5}` : ""};
  }
  .task-type-6, .section-type-6  {
    ${t33.fillType0 ? `fill: ${t33.fillType6}` : ""};
  }
  .task-type-7, .section-type-7  {
    ${t33.fillType0 ? `fill: ${t33.fillType7}` : ""};
  }

  .actor-0 {
    ${t33.actor0 ? `fill: ${t33.actor0}` : ""};
  }
  .actor-1 {
    ${t33.actor1 ? `fill: ${t33.actor1}` : ""};
  }
  .actor-2 {
    ${t33.actor2 ? `fill: ${t33.actor2}` : ""};
  }
  .actor-3 {
    ${t33.actor3 ? `fill: ${t33.actor3}` : ""};
  }
  .actor-4 {
    ${t33.actor4 ? `fill: ${t33.actor4}` : ""};
  }
  .actor-5 {
    ${t33.actor5 ? `fill: ${t33.actor5}` : ""};
  }
`, "getStyles"), Yc = iZ(function(t33, e10) {
  return C_(t33, e10);
}, "drawRect"), Yu = iZ(function(t33, e10) {
  let r10 = t33.append("circle").attr("cx", e10.cx).attr("cy", e10.cy).attr("class", "face").attr("r", 15).attr("stroke-width", 2).attr("overflow", "visible"), i10 = t33.append("g");
  function n10(t34) {
    let r11 = pp().startAngle(Math.PI / 2).endAngle(Math.PI / 2 * 3).innerRadius(7.5).outerRadius(15 / 2.2);
    t34.append("path").attr("class", "mouth").attr("d", r11).attr("transform", "translate(" + e10.cx + "," + (e10.cy + 2) + ")");
  }
  function a10(t34) {
    let r11 = pp().startAngle(3 * Math.PI / 2).endAngle(Math.PI / 2 * 5).innerRadius(7.5).outerRadius(15 / 2.2);
    t34.append("path").attr("class", "mouth").attr("d", r11).attr("transform", "translate(" + e10.cx + "," + (e10.cy + 7) + ")");
  }
  function o10(t34) {
    t34.append("line").attr("class", "mouth").attr("stroke", 2).attr("x1", e10.cx - 5).attr("y1", e10.cy + 7).attr("x2", e10.cx + 5).attr("y2", e10.cy + 7).attr("class", "mouth").attr("stroke-width", "1px").attr("stroke", "#666");
  }
  return i10.append("circle").attr("cx", e10.cx - 5).attr("cy", e10.cy - 5).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666"), i10.append("circle").attr("cx", e10.cx + 5).attr("cy", e10.cy - 5).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666"), iZ(n10, "smile"), iZ(a10, "sad"), iZ(o10, "ambivalent"), e10.score > 3 ? n10(i10) : e10.score < 3 ? a10(i10) : o10(i10), r10;
}, "drawFace"), Yd = iZ(function(t33, e10) {
  let r10 = t33.append("circle");
  return r10.attr("cx", e10.cx), r10.attr("cy", e10.cy), r10.attr("class", "actor-" + e10.pos), r10.attr("fill", e10.fill), r10.attr("stroke", e10.stroke), r10.attr("r", e10.r), void 0 !== r10.class && r10.attr("class", r10.class), void 0 !== e10.title && r10.append("title").text(e10.title), r10;
}, "drawCircle"), Yp = iZ(function(t33, e10) {
  return CE(t33, e10);
}, "drawText"), Yg = iZ(function(t33, e10, r10) {
  let i10 = t33.append("g"), n10 = CA();
  n10.x = e10.x, n10.y = e10.y, n10.fill = e10.fill, n10.width = r10.width * e10.taskCount + r10.diagramMarginX * (e10.taskCount - 1), n10.height = r10.height, n10.class = "journey-section section-type-" + e10.num, n10.rx = 3, n10.ry = 3, Yc(i10, n10), Yy(r10)(e10.text, i10, n10.x, n10.y, n10.width, n10.height, { class: "journey-section section-type-" + e10.num }, r10, e10.colour);
}, "drawSection"), Yf = -1, Ym = iZ(function(t33, e10, r10) {
  let i10 = e10.x + r10.width / 2, n10 = t33.append("g");
  Yf++, n10.append("line").attr("id", "task" + Yf).attr("x1", i10).attr("y1", e10.y).attr("x2", i10).attr("y2", 450).attr("class", "task-line").attr("stroke-width", "1px").attr("stroke-dasharray", "4 2").attr("stroke", "#666"), Yu(n10, { cx: i10, cy: 300 + (5 - e10.score) * 30, score: e10.score });
  let a10 = CA();
  a10.x = e10.x, a10.y = e10.y, a10.fill = e10.fill, a10.width = r10.width, a10.height = r10.height, a10.class = "task task-type-" + e10.num, a10.rx = 3, a10.ry = 3, Yc(n10, a10);
  let o10 = e10.x + 14;
  e10.people.forEach((t34) => {
    let r11 = e10.actors[t34].color;
    Yd(n10, { cx: o10, cy: e10.y, r: 7, fill: r11, stroke: "#000", title: t34, pos: e10.actors[t34].position }), o10 += 10;
  }), Yy(r10)(e10.task, n10, a10.x, a10.y, a10.width, a10.height, { class: "task" }, r10, e10.colour);
}, "drawTask"), Yy = function() {
  function t33(t34, e11, r11, n10, a10, o10, s10, l10) {
    i10(e11.append("text").attr("x", r11 + a10 / 2).attr("y", n10 + o10 / 2 + 5).style("font-color", l10).style("text-anchor", "middle").text(t34), s10);
  }
  function e10(t34, e11, r11, n10, a10, o10, s10, l10, h10) {
    let { taskFontSize: u10, taskFontFamily: d10 } = l10, p10 = t34.split(/<br\s*\/?>/gi);
    for (let t35 = 0; t35 < p10.length; t35++) {
      let l11 = t35 * u10 - u10 * (p10.length - 1) / 2, g10 = e11.append("text").attr("x", r11 + a10 / 2).attr("y", n10).attr("fill", h10).style("text-anchor", "middle").style("font-size", u10).style("font-family", d10);
      g10.append("tspan").attr("x", r11 + a10 / 2).attr("dy", l11).text(p10[t35]), g10.attr("y", n10 + o10 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central"), i10(g10, s10);
    }
  }
  function r10(t34, r11, n10, a10, o10, s10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", n10).attr("y", a10).attr("width", o10).attr("height", s10).attr("position", "fixed").append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").attr("class", "label").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(t34), e10(t34, u10, n10, a10, o10, s10, l10, h10), i10(d10, l10);
  }
  function i10(t34, e11) {
    for (let r11 in e11) r11 in e11 && t34.attr(r11, e11[r11]);
  }
  return iZ(t33, "byText"), iZ(e10, "byTspan"), iZ(r10, "byFo"), iZ(i10, "_setTextAttrs"), function(i11) {
    return "fo" === i11.textPlacement ? r10 : "old" === i11.textPlacement ? t33 : e10;
  };
}(), Yv = { drawCircle: Yd, drawSection: Yg, drawText: Yp, drawTask: Ym, initGraphics: iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");
}, "initGraphics") }, Yx = iZ(function(t33) {
  Object.keys(t33).forEach(function(e10) {
    Yk[e10] = t33[e10];
  });
}, "setConf"), Yb = {};
function Yw(t33) {
  let e10 = nM().journey, r10 = 60;
  Object.keys(Yb).forEach((i10) => {
    let n10 = Yb[i10].color, a10 = { cx: 20, cy: r10, r: 7, fill: n10, stroke: "#000", pos: Yb[i10].position };
    Yv.drawCircle(t33, a10);
    let o10 = { x: 40, y: r10 + 7, fill: "#666", text: i10, textMargin: 5 | e10.boxTextMargin };
    Yv.drawText(t33, o10), r10 += 20;
  });
}
iZ(Yw, "drawActorLegend");
var Yk = nM().journey, Y_ = Yk.leftMargin, YT = iZ(function(t33, e10, r10, i10) {
  let n10;
  let a10 = nM().journey, o10 = nM().securityLevel;
  "sandbox" === o10 && (n10 = hl("#i" + e10));
  let s10 = "sandbox" === o10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body");
  YE.init();
  let l10 = s10.select("#" + e10);
  Yv.initGraphics(l10);
  let h10 = i10.db.getTasks(), u10 = i10.db.getDiagramTitle(), d10 = i10.db.getActors();
  for (let t34 in Yb) delete Yb[t34];
  let p10 = 0;
  d10.forEach((t34) => {
    Yb[t34] = { color: a10.actorColours[p10 % a10.actorColours.length], position: p10 }, p10++;
  }), Yw(l10), YE.insert(0, 0, Y_, 50 * Object.keys(Yb).length), YA(l10, h10, 0);
  let g10 = YE.getBounds();
  u10 && l10.append("text").text(u10).attr("x", Y_).attr("font-size", "4ex").attr("font-weight", "bold").attr("y", 25);
  let f10 = g10.stopy - g10.starty + 2 * a10.diagramMarginY, y10 = Y_ + g10.stopx + 2 * a10.diagramMarginX;
  an(l10, f10, y10, a10.useMaxWidth), l10.append("line").attr("x1", Y_).attr("y1", 4 * a10.height).attr("x2", y10 - Y_ - 4).attr("y2", 4 * a10.height).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)");
  let v10 = u10 ? 70 : 0;
  l10.attr("viewBox", `${g10.startx} -25 ${y10} ${f10 + v10}`), l10.attr("preserveAspectRatio", "xMinYMin meet"), l10.attr("height", f10 + v10 + 25);
}, "draw"), YE = { data: { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, verticalPos: 0, sequenceItems: [], init: iZ(function() {
  this.sequenceItems = [], this.data = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, this.verticalPos = 0;
}, "init"), updateVal: iZ(function(t33, e10, r10, i10) {
  void 0 === t33[e10] ? t33[e10] = r10 : t33[e10] = i10(r10, t33[e10]);
}, "updateVal"), updateBounds: iZ(function(t33, e10, r10, i10) {
  let n10 = nM().journey, a10 = this, o10 = 0;
  function s10(s11) {
    return iZ(function(l10) {
      o10++;
      let h10 = a10.sequenceItems.length - o10 + 1;
      a10.updateVal(l10, "starty", e10 - h10 * n10.boxMargin, Math.min), a10.updateVal(l10, "stopy", i10 + h10 * n10.boxMargin, Math.max), a10.updateVal(YE.data, "startx", t33 - h10 * n10.boxMargin, Math.min), a10.updateVal(YE.data, "stopx", r10 + h10 * n10.boxMargin, Math.max), "activation" !== s11 && (a10.updateVal(l10, "startx", t33 - h10 * n10.boxMargin, Math.min), a10.updateVal(l10, "stopx", r10 + h10 * n10.boxMargin, Math.max), a10.updateVal(YE.data, "starty", e10 - h10 * n10.boxMargin, Math.min), a10.updateVal(YE.data, "stopy", i10 + h10 * n10.boxMargin, Math.max));
    }, "updateItemBounds");
  }
  iZ(s10, "updateFn"), this.sequenceItems.forEach(s10());
}, "updateBounds"), insert: iZ(function(t33, e10, r10, i10) {
  let n10 = Math.min(t33, r10), a10 = Math.max(t33, r10), o10 = Math.min(e10, i10), s10 = Math.max(e10, i10);
  this.updateVal(YE.data, "startx", n10, Math.min), this.updateVal(YE.data, "starty", o10, Math.min), this.updateVal(YE.data, "stopx", a10, Math.max), this.updateVal(YE.data, "stopy", s10, Math.max), this.updateBounds(n10, o10, a10, s10);
}, "insert"), bumpVerticalPos: iZ(function(t33) {
  this.verticalPos = this.verticalPos + t33, this.data.stopy = this.verticalPos;
}, "bumpVerticalPos"), getVerticalPos: iZ(function() {
  return this.verticalPos;
}, "getVerticalPos"), getBounds: iZ(function() {
  return this.data;
}, "getBounds") }, YC = Yk.sectionFills, YS = Yk.sectionColours, YA = iZ(function(t33, e10, r10) {
  let i10 = nM().journey, n10 = "", a10 = r10 + (2 * i10.height + i10.diagramMarginY), o10 = 0, s10 = "#CCC", l10 = "black", h10 = 0;
  for (let [r11, u10] of e10.entries()) {
    if (n10 !== u10.section) {
      s10 = YC[o10 % YC.length], h10 = o10 % YC.length, l10 = YS[o10 % YS.length];
      let a11 = 0, d11 = u10.section;
      for (let t34 = r11; t34 < e10.length; t34++) if (e10[t34].section == d11) a11 += 1;
      else break;
      let p10 = { x: r11 * i10.taskMargin + r11 * i10.width + Y_, y: 50, text: u10.section, fill: s10, num: h10, colour: l10, taskCount: a11 };
      Yv.drawSection(t33, p10, i10), n10 = u10.section, o10++;
    }
    let d10 = u10.people.reduce((t34, e11) => (Yb[e11] && (t34[e11] = Yb[e11]), t34), {});
    u10.x = r11 * i10.taskMargin + r11 * i10.width + Y_, u10.y = a10, u10.width = i10.diagramMarginX, u10.height = i10.diagramMarginY, u10.colour = l10, u10.fill = s10, u10.num = h10, u10.actors = d10, Yv.drawTask(t33, u10, i10), YE.insert(u10.x, u10.y, u10.x + u10.width + i10.taskMargin, 450);
  }
}, "drawTasks"), YL = { setConf: Yx, draw: YT };
let YN = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: q5, db: Yl, renderer: YL, styles: Yh, init: iZ((t33) => {
  YL.setConf(t33.journey), Yl.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var YI = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [6, 8, 10, 11, 12, 14, 16, 17, 20, 21], r10 = [1, 9], i10 = [1, 10], n10 = [1, 11], a10 = [1, 12], o10 = [1, 13], s10 = [1, 16], l10 = [1, 17], h10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, timeline: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NEWLINE: 10, title: 11, acc_title: 12, acc_title_value: 13, acc_descr: 14, acc_descr_value: 15, acc_descr_multiline_value: 16, section: 17, period_statement: 18, event_statement: 19, period: 20, event: 21, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "timeline", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 11: "title", 12: "acc_title", 13: "acc_title_value", 14: "acc_descr", 15: "acc_descr_value", 16: "acc_descr_multiline_value", 17: "section", 20: "period", 21: "event" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 1], [9, 1], [18, 1], [19, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 1:
        return a11[s11 - 1];
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[s11 - 1].push(a11[s11]), this.$ = a11[s11 - 1];
        break;
      case 4:
      case 5:
        this.$ = a11[s11];
        break;
      case 8:
        i11.getCommonDb().setDiagramTitle(a11[s11].substr(6)), this.$ = a11[s11].substr(6);
        break;
      case 9:
        this.$ = a11[s11].trim(), i11.getCommonDb().setAccTitle(this.$);
        break;
      case 10:
      case 11:
        this.$ = a11[s11].trim(), i11.getCommonDb().setAccDescription(this.$);
        break;
      case 12:
        i11.addSection(a11[s11].substr(8)), this.$ = a11[s11].substr(8);
        break;
      case 15:
        i11.addTask(a11[s11], 0, ""), this.$ = a11[s11];
        break;
      case 16:
        i11.addEvent(a11[s11].substr(2)), this.$ = a11[s11];
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, t33(e10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: r10, 12: i10, 14: n10, 16: a10, 17: o10, 18: 14, 19: 15, 20: s10, 21: l10 }, t33(e10, [2, 7], { 1: [2, 1] }), t33(e10, [2, 3]), { 9: 18, 11: r10, 12: i10, 14: n10, 16: a10, 17: o10, 18: 14, 19: 15, 20: s10, 21: l10 }, t33(e10, [2, 5]), t33(e10, [2, 6]), t33(e10, [2, 8]), { 13: [1, 19] }, { 15: [1, 20] }, t33(e10, [2, 11]), t33(e10, [2, 12]), t33(e10, [2, 13]), t33(e10, [2, 14]), t33(e10, [2, 15]), t33(e10, [2, 16]), t33(e10, [2, 4]), t33(e10, [2, 9]), t33(e10, [2, 10])], defaultActions: {}, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p10 = { yy: {} };
    for (var g10 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g10) && (p10.yy[g10] = this.yy[g10]);
    d11.setInput(t34, p10.yy), p10.yy.lexer = d11, p10.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f10 = d11.yylloc;
    a11.push(f10);
    var y10 = d11.options && d11.options.ranges;
    function v10() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p10.yy.parseError ? this.parseError = p10.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v10, "lex");
    for (var x10, b10, w10, k10, _10, T10, E10, C10, S10 = {}; ; ) {
      if (b10 = r11[r11.length - 1], this.defaultActions[b10] ? w10 = this.defaultActions[b10] : (null == x10 && (x10 = v10()), w10 = o11[b10] && o11[b10][x10]), void 0 === w10 || !w10.length || !w10[0]) {
        var A10 = "";
        for (_10 in C10 = [], o11[b10]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x10] || x10) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x10 ? "end of input" : "'" + (this.terminals_[x10] || x10) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x10] || x10, line: d11.yylineno, loc: f10, expected: C10 });
      }
      if (w10[0] instanceof Array && w10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b10 + ", token: " + x10);
      switch (w10[0]) {
        case 1:
          r11.push(x10), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w10[1]), x10 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f10 = d11.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[w10[1]][1], S10.$ = n11[n11.length - T10], S10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y10 && (S10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k10 = this.performAction.apply(S10, [s11, h11, l11, p10.yy, w10[1], n11, a11].concat(u11)))) return k10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), n11 = n11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[w10[1]][0]), n11.push(S10.$), a11.push(S10._$), E10 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, u10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
      case 1:
      case 3:
      case 4:
        break;
      case 2:
        return 10;
      case 5:
        return 4;
      case 6:
        return 11;
      case 7:
        return this.begin("acc_title"), 12;
      case 8:
        return this.popState(), "acc_title_value";
      case 9:
        return this.begin("acc_descr"), 14;
      case 10:
        return this.popState(), "acc_descr_value";
      case 11:
        this.begin("acc_descr_multiline");
        break;
      case 12:
        this.popState();
        break;
      case 13:
        return "acc_descr_multiline_value";
      case 14:
        return 17;
      case 15:
        return 21;
      case 16:
        return 20;
      case 17:
        return 6;
      case 18:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:timeline\b)/i, /^(?:title\s[^\n]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:section\s[^:\n]+)/i, /^(?::\s[^:\n]+)/i, /^(?:[^#:\n]+)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [12, 13], inclusive: false }, acc_descr: { rules: [10], inclusive: false }, acc_title: { rules: [8], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18], inclusive: true } } };
  function d10() {
    this.yy = {};
  }
  return h10.lexer = u10, iZ(d10, "Parser"), d10.prototype = h10, h10.Parser = d10, new d10();
}();
YI.parser = YI;
var YM = {};
iQ(YM, { addEvent: () => YY, addSection: () => Yz, addTask: () => Yq, addTaskOrg: () => YH, clear: () => YF, default: () => YW, getCommonDb: () => YB, getSections: () => YU, getTasks: () => YG });
var YR = "", YD = 0, YO = [], YP = [], Y$ = [], YB = iZ(() => ah, "getCommonDb"), YF = iZ(function() {
  YO.length = 0, YP.length = 0, YR = "", Y$.length = 0, ag();
}, "clear"), Yz = iZ(function(t33) {
  YR = t33, YO.push(t33);
}, "addSection"), YU = iZ(function() {
  return YO;
}, "getSections"), YG = iZ(function() {
  let t33 = Yj(), e10 = 0;
  for (; !t33 && e10 < 100; ) t33 = Yj(), e10++;
  return YP.push(...Y$), YP;
}, "getTasks"), Yq = iZ(function(t33, e10, r10) {
  let i10 = { id: YD++, section: YR, type: YR, task: t33, score: e10 || 0, events: r10 ? [r10] : [] };
  Y$.push(i10);
}, "addTask"), YY = iZ(function(t33) {
  Y$.find((t34) => t34.id === YD - 1).events.push(t33);
}, "addEvent"), YH = iZ(function(t33) {
  let e10 = { section: YR, type: YR, description: t33, task: t33, classes: [] };
  YP.push(e10);
}, "addTaskOrg"), Yj = iZ(function() {
  let t33 = iZ(function(t34) {
    return Y$[t34].processed;
  }, "compileTask"), e10 = true;
  for (let [r10, i10] of Y$.entries()) t33(r10), e10 = e10 && i10.processed;
  return e10;
}, "compileTasks"), YW = { clear: YF, getCommonDb: YB, addSection: Yz, getSections: YU, getTasks: YG, addTask: Yq, addTaskOrg: YH, addEvent: YY }, YV = iZ(function(t33) {
  t33.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");
}, "initGraphics");
function YX(t33, e10) {
  t33.each(function() {
    var t34, r10 = hl(this), i10 = r10.text().split(/(\s+|<br>)/).reverse(), n10 = [], a10 = r10.attr("y"), o10 = parseFloat(r10.attr("dy")), s10 = r10.text(null).append("tspan").attr("x", 0).attr("y", a10).attr("dy", o10 + "em");
    for (let o11 = 0; o11 < i10.length; o11++) t34 = i10[i10.length - 1 - o11], n10.push(t34), s10.text(n10.join(" ").trim()), (s10.node().getComputedTextLength() > e10 || "<br>" === t34) && (n10.pop(), s10.text(n10.join(" ").trim()), n10 = "<br>" === t34 ? [""] : [t34], s10 = r10.append("tspan").attr("x", 0).attr("y", a10).attr("dy", "1.1em").text(t34));
  });
}
iZ(YX, "wrap");
var YK = iZ(function(t33, e10, r10, i10) {
  var n10;
  let a10 = r10 % 12 - 1, o10 = t33.append("g");
  e10.section = a10, o10.attr("class", (e10.class ? e10.class + " " : "") + "timeline-node section-" + a10);
  let s10 = o10.append("g"), l10 = o10.append("g"), h10 = l10.append("text").text(e10.descr).attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle").call(YX, e10.width).node().getBBox(), u10 = (null === (n10 = i10.fontSize) || void 0 === n10 ? void 0 : n10.replace) ? i10.fontSize.replace("px", "") : i10.fontSize;
  return e10.height = h10.height + 0.55 * u10 + e10.padding, e10.height = Math.max(e10.height, e10.maxHeight), e10.width = e10.width + 2 * e10.padding, l10.attr("transform", "translate(" + e10.width / 2 + ", " + e10.padding / 2 + ")"), YQ(s10, e10, a10, i10), e10;
}, "drawNode"), YZ = iZ(function(t33, e10, r10) {
  var i10;
  let n10 = t33.append("g"), a10 = n10.append("text").text(e10.descr).attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle").call(YX, e10.width).node().getBBox(), o10 = (null === (i10 = r10.fontSize) || void 0 === i10 ? void 0 : i10.replace) ? r10.fontSize.replace("px", "") : r10.fontSize;
  return n10.remove(), a10.height + 0.55 * o10 + e10.padding;
}, "getVirtualNodeHeight"), YQ = iZ(function(t33, e10, r10) {
  t33.append("path").attr("id", "node-" + e10.id).attr("class", "node-bkg node-" + e10.type).attr("d", `M0 ${e10.height - 5} v${-e10.height + 10} q0,-5 5,-5 h${e10.width - 10} q5,0 5,5 v${e10.height - 5} H0 Z`), t33.append("line").attr("class", "node-line-" + r10).attr("x1", 0).attr("y1", e10.height).attr("x2", e10.width).attr("y2", e10.height);
}, "defaultBkg"), YJ = { initGraphics: YV, drawNode: YK, getVirtualNodeHeight: YZ }, Y0 = iZ(function(t33, e10, r10, i10) {
  var n10, a10, o10, s10, l10;
  let h10;
  let u10 = nM(), d10 = null !== (o10 = u10.leftMargin) && void 0 !== o10 ? o10 : 50;
  i0.debug("timeline", i10.db);
  let p10 = u10.securityLevel;
  "sandbox" === p10 && (h10 = hl("#i" + e10));
  let g10 = ("sandbox" === p10 ? hl(h10.nodes()[0].contentDocument.body) : hl("body")).select("#" + e10);
  g10.append("g");
  let f10 = i10.db.getTasks(), y10 = i10.db.getCommonDb().getDiagramTitle();
  i0.debug("task", f10), YJ.initGraphics(g10);
  let v10 = i10.db.getSections();
  i0.debug("sections", v10);
  let x10 = 0, b10 = 0, w10 = 0, k10 = 0, _10 = 50 + d10, T10 = 50;
  k10 = 50;
  let E10 = 0, C10 = true;
  v10.forEach(function(t34) {
    let e11 = { number: E10, descr: t34, section: E10, width: 150, padding: 20, maxHeight: x10 }, r11 = YJ.getVirtualNodeHeight(g10, e11, u10);
    i0.debug("sectionHeight before draw", r11), x10 = Math.max(x10, r11 + 20);
  });
  let S10 = 0, A10 = 0;
  for (let [t34, e11] of (i0.debug("tasks.length", f10.length), f10.entries())) {
    let r11 = { number: t34, descr: e11, section: e11.section, width: 150, padding: 20, maxHeight: b10 }, i11 = YJ.getVirtualNodeHeight(g10, r11, u10);
    i0.debug("taskHeight before draw", i11), b10 = Math.max(b10, i11 + 20), S10 = Math.max(S10, e11.events.length);
    let n11 = 0;
    for (let t35 of e11.events) {
      let r12 = { descr: t35, section: e11.section, number: e11.section, width: 150, padding: 20, maxHeight: 50 };
      n11 += YJ.getVirtualNodeHeight(g10, r12, u10);
    }
    A10 = Math.max(A10, n11);
  }
  i0.debug("maxSectionHeight before draw", x10), i0.debug("maxTaskHeight before draw", b10), v10 && v10.length > 0 ? v10.forEach((t34) => {
    let e11 = f10.filter((e12) => e12.section === t34), r11 = { number: E10, descr: t34, section: E10, width: 200 * Math.max(e11.length, 1) - 50, padding: 20, maxHeight: x10 };
    i0.debug("sectionNode", r11);
    let i11 = g10.append("g"), n11 = YJ.drawNode(i11, r11, E10, u10);
    i0.debug("sectionNode output", n11), i11.attr("transform", `translate(${_10}, ${k10})`), T10 += x10 + 50, e11.length > 0 && Y1(g10, e11, E10, _10, T10, b10, u10, S10, A10, x10, false), _10 += 200 * Math.max(e11.length, 1), T10 = k10, E10++;
  }) : (C10 = false, Y1(g10, f10, E10, _10, T10, b10, u10, S10, A10, x10, true));
  let L10 = g10.node().getBBox();
  i0.debug("bounds", L10), y10 && g10.append("text").text(y10).attr("x", L10.width / 2 - d10).attr("font-size", "4ex").attr("font-weight", "bold").attr("y", 20), w10 = C10 ? x10 + b10 + 150 : b10 + 100, g10.append("g").attr("class", "lineWrapper").append("line").attr("x1", d10).attr("y1", w10).attr("x2", L10.width + 3 * d10).attr("y2", w10).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)"), aa(void 0, g10, null !== (s10 = null === (n10 = u10.timeline) || void 0 === n10 ? void 0 : n10.padding) && void 0 !== s10 ? s10 : 50, null !== (l10 = null === (a10 = u10.timeline) || void 0 === a10 ? void 0 : a10.useMaxWidth) && void 0 !== l10 && l10);
}, "draw"), Y1 = iZ(function(t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10) {
  for (let s11 of e10) {
    var d10;
    let e11 = { descr: s11.task, section: r10, number: r10, width: 150, padding: 20, maxHeight: a10 };
    i0.debug("taskNode", e11);
    let p10 = t33.append("g").attr("class", "taskWrapper"), g10 = YJ.drawNode(p10, e11, r10, o10).height;
    if (i0.debug("taskHeight after draw", g10), p10.attr("transform", `translate(${i10}, ${n10})`), a10 = Math.max(a10, g10), s11.events) {
      let e12 = t33.append("g").attr("class", "lineWrapper");
      n10 += 100, Y2(t33, s11.events, r10, i10, n10, o10), n10 -= 100, e12.append("line").attr("x1", i10 + 95).attr("y1", n10 + a10).attr("x2", i10 + 95).attr("y2", n10 + a10 + (u10 ? a10 : h10) + l10 + 120).attr("stroke-width", 2).attr("stroke", "black").attr("marker-end", "url(#arrowhead)").attr("stroke-dasharray", "5,5");
    }
    i10 += 200, u10 && !(null === (d10 = o10.timeline) || void 0 === d10 ? void 0 : d10.disableMulticolor) && r10++;
  }
}, "drawTasks"), Y2 = iZ(function(t33, e10, r10, i10, n10, a10) {
  let o10 = 0, s10 = n10;
  for (let s11 of (n10 += 100, e10)) {
    let e11 = { descr: s11, section: r10, number: r10, width: 150, padding: 20, maxHeight: 50 };
    i0.debug("eventNode", e11);
    let l10 = t33.append("g").attr("class", "eventWrapper"), h10 = YJ.drawNode(l10, e11, r10, a10).height;
    o10 += h10, l10.attr("transform", `translate(${i10}, ${n10})`), n10 = n10 + 10 + h10;
  }
  return n10 = s10, o10;
}, "drawEvents"), Y4 = { setConf: iZ(() => {
}, "setConf"), draw: Y0 }, Y5 = iZ((t33) => {
  let e10 = "";
  for (let e11 = 0; e11 < t33.THEME_COLOR_LIMIT; e11++) t33["lineColor" + e11] = t33["lineColor" + e11] || t33["cScaleInv" + e11], r0(t33["lineColor" + e11]) ? t33["lineColor" + e11] = r2(t33["lineColor" + e11], 20) : t33["lineColor" + e11] = r4(t33["lineColor" + e11], 20);
  for (let r10 = 0; r10 < t33.THEME_COLOR_LIMIT; r10++) {
    let i10 = "" + (17 - 3 * r10);
    e10 += `
    .section-${r10 - 1} rect, .section-${r10 - 1} path, .section-${r10 - 1} circle, .section-${r10 - 1} path  {
      fill: ${t33["cScale" + r10]};
    }
    .section-${r10 - 1} text {
     fill: ${t33["cScaleLabel" + r10]};
    }
    .node-icon-${r10 - 1} {
      font-size: 40px;
      color: ${t33["cScaleLabel" + r10]};
    }
    .section-edge-${r10 - 1}{
      stroke: ${t33["cScale" + r10]};
    }
    .edge-depth-${r10 - 1}{
      stroke-width: ${i10};
    }
    .section-${r10 - 1} line {
      stroke: ${t33["cScaleInv" + r10]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${t33["cScaleLabel" + r10]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `;
  }
  return e10;
}, "genSections");
let Y3 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { db: YM, renderer: Y4, parser: YI, styles: iZ((t33) => `
  .edge {
    stroke-width: 3;
  }
  ${Y5(t33)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${t33.git0};
  }
  .section-root text {
    fill: ${t33.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
function Y6(t33) {
  return (Y6 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t34) {
    return typeof t34;
  } : function(t34) {
    return t34 && "function" == typeof Symbol && t34.constructor === Symbol && t34 !== Symbol.prototype ? "symbol" : typeof t34;
  })(t33);
}
function Y7(t33, e10) {
  if (!(t33 instanceof e10)) throw TypeError("Cannot call a class as a function");
}
function Y8(t33, e10, r10) {
  return e10 && function(t34, e11) {
    for (var r11 = 0; r11 < e11.length; r11++) {
      var i10 = e11[r11];
      i10.enumerable = i10.enumerable || false, i10.configurable = true, "value" in i10 && (i10.writable = true), Object.defineProperty(t34, i10.key, i10);
    }
  }(t33.prototype, e10), Object.defineProperty(t33, "prototype", { writable: false }), t33;
}
function Y9(t33, e10, r10) {
  return e10 in t33 ? Object.defineProperty(t33, e10, { value: r10, enumerable: true, configurable: true, writable: true }) : t33[e10] = r10, t33;
}
function Ht(t33, e10) {
  return function(t34) {
    if (Array.isArray(t34)) return t34;
  }(t33) || function(t34, e11) {
    var r10, i10, n10 = null == t34 ? null : "undefined" != typeof Symbol && t34[Symbol.iterator] || t34["@@iterator"];
    if (null != n10) {
      var a10 = [], o10 = true, s10 = false;
      try {
        for (n10 = n10.call(t34); !(o10 = (r10 = n10.next()).done) && (a10.push(r10.value), !e11 || a10.length !== e11); o10 = true) ;
      } catch (t35) {
        s10 = true, i10 = t35;
      } finally {
        try {
          o10 || null == n10.return || n10.return();
        } finally {
          if (s10) throw i10;
        }
      }
      return a10;
    }
  }(t33, e10) || He(t33, e10) || function() {
    throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }();
}
function He(t33, e10) {
  if (t33) {
    if ("string" == typeof t33) return Hr(t33, e10);
    var r10 = Object.prototype.toString.call(t33).slice(8, -1);
    if ("Object" === r10 && t33.constructor && (r10 = t33.constructor.name), "Map" === r10 || "Set" === r10) return Array.from(t33);
    if ("Arguments" === r10 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r10)) return Hr(t33, e10);
  }
}
function Hr(t33, e10) {
  (null == e10 || e10 > t33.length) && (e10 = t33.length);
  for (var r10 = 0, i10 = Array(e10); r10 < e10; r10++) i10[r10] = t33[r10];
  return i10;
}
function Hi(t33, e10) {
  var r10 = "undefined" != typeof Symbol && t33[Symbol.iterator] || t33["@@iterator"];
  if (!r10) {
    if (Array.isArray(t33) || (r10 = He(t33)) || e10) {
      r10 && (t33 = r10);
      var i10 = 0, n10 = function() {
      };
      return { s: n10, n: function() {
        return i10 >= t33.length ? { done: true } : { done: false, value: t33[i10++] };
      }, e: function(t34) {
        throw t34;
      }, f: n10 };
    }
    throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var a10, o10 = true, s10 = false;
  return { s: function() {
    r10 = r10.call(t33);
  }, n: function() {
    var t34 = r10.next();
    return o10 = t34.done, t34;
  }, e: function(t34) {
    s10 = true, a10 = t34;
  }, f: function() {
    try {
      o10 || null == r10.return || r10.return();
    } finally {
      if (s10) throw a10;
    }
  } };
}
var Hn = "undefined" == typeof window ? null : window, Ha = Hn ? Hn.navigator : null;
Hn && Hn.document;
var Ho = Y6(""), Hs = Y6({}), Hl = Y6(function() {
}), Hh = "undefined" == typeof HTMLElement ? "undefined" : Y6(HTMLElement), Hc = function(t33) {
  return t33 && t33.instanceString && Hd(t33.instanceString) ? t33.instanceString() : null;
}, Hu = function(t33) {
  return null != t33 && Y6(t33) == Ho;
}, Hd = function(t33) {
  return null != t33 && Y6(t33) === Hl;
}, Hp = function(t33) {
  return !Hy(t33) && (Array.isArray ? Array.isArray(t33) : null != t33 && t33 instanceof Array);
}, Hg = function(t33) {
  return null != t33 && Y6(t33) === Hs && !Hp(t33) && t33.constructor === Object;
}, Hf = function(t33) {
  return null != t33 && Y6(t33) === Y6(1) && !isNaN(t33);
}, Hm = function(t33) {
  if ("undefined" !== Hh) return null != t33 && t33 instanceof HTMLElement;
}, Hy = function(t33) {
  return Hv(t33) || Hx(t33);
}, Hv = function(t33) {
  return "collection" === Hc(t33) && t33._private.single;
}, Hx = function(t33) {
  return "collection" === Hc(t33) && !t33._private.single;
}, Hb = function(t33) {
  return "core" === Hc(t33);
}, Hw = function(t33) {
  return "stylesheet" === Hc(t33);
}, Hk = function(t33) {
  return null == t33 || !!("" === t33 || t33.match(/^\s+$/));
}, H_ = function(t33) {
  return null != t33 && Y6(t33) === Hs && Hd(t33.then);
}, HT = function(t33, e10) {
  e10 || (e10 = function() {
    if (1 == arguments.length) return arguments[0];
    if (0 == arguments.length) return "undefined";
    for (var t34 = [], e11 = 0; e11 < arguments.length; e11++) t34.push(arguments[e11]);
    return t34.join("$");
  });
  var r10 = function r11() {
    var i10, n10 = arguments, a10 = e10.apply(this, n10), o10 = r11.cache;
    return (i10 = o10[a10]) || (i10 = o10[a10] = t33.apply(this, n10)), i10;
  };
  return r10.cache = {}, r10;
}, HE = HT(function(t33) {
  return t33.replace(/([A-Z])/g, function(t34) {
    return "-" + t34.toLowerCase();
  });
}), HC = HT(function(t33) {
  return t33.replace(/(-\w)/g, function(t34) {
    return t34[1].toUpperCase();
  });
}), HS = HT(function(t33, e10) {
  return t33 + e10[0].toUpperCase() + e10.substring(1);
}, function(t33, e10) {
  return t33 + "$" + e10;
}), HA = function(t33) {
  return Hk(t33) ? t33 : t33.charAt(0).toUpperCase() + t33.substring(1);
}, HL = "(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))", HN = "rgb[a]?\\((" + HL + "[%]?)\\s*,\\s*(" + HL + "[%]?)\\s*,\\s*(" + HL + "[%]?)(?:\\s*,\\s*(" + HL + "))?\\)", HI = "rgb[a]?\\((?:" + HL + "[%]?)\\s*,\\s*(?:" + HL + "[%]?)\\s*,\\s*(?:" + HL + "[%]?)(?:\\s*,\\s*(?:" + HL + "))?\\)", HM = "hsl[a]?\\((" + HL + ")\\s*,\\s*(" + HL + "[%])\\s*,\\s*(" + HL + "[%])(?:\\s*,\\s*(" + HL + "))?\\)", HR = "hsl[a]?\\((?:" + HL + ")\\s*,\\s*(?:" + HL + "[%])\\s*,\\s*(?:" + HL + "[%])(?:\\s*,\\s*(?:" + HL + "))?\\)", HD = function(t33, e10) {
  return t33 < e10 ? -1 : t33 > e10 ? 1 : 0;
}, HO = null != Object.assign ? Object.assign.bind(Object) : function(t33) {
  for (var e10 = arguments, r10 = 1; r10 < e10.length; r10++) {
    var i10 = e10[r10];
    if (null != i10) for (var n10 = Object.keys(i10), a10 = 0; a10 < n10.length; a10++) {
      var o10 = n10[a10];
      t33[o10] = i10[o10];
    }
  }
  return t33;
}, HP = function(t33) {
  if ((4 === t33.length || 7 === t33.length) && "#" === t33[0]) {
    var e10, r10, i10;
    return 4 === t33.length ? (e10 = parseInt(t33[1] + t33[1], 16), r10 = parseInt(t33[2] + t33[2], 16), i10 = parseInt(t33[3] + t33[3], 16)) : (e10 = parseInt(t33[1] + t33[2], 16), r10 = parseInt(t33[3] + t33[4], 16), i10 = parseInt(t33[5] + t33[6], 16)), [e10, r10, i10];
  }
}, H$ = function(t33) {
  function e10(t34, e11, r11) {
    return (r11 < 0 && (r11 += 1), r11 > 1 && (r11 -= 1), r11 < 1 / 6) ? t34 + (e11 - t34) * 6 * r11 : r11 < 0.5 ? e11 : r11 < 2 / 3 ? t34 + (e11 - t34) * (2 / 3 - r11) * 6 : t34;
  }
  var r10, i10, n10, a10, o10, s10, l10, h10, u10 = RegExp("^" + HM + "$").exec(t33);
  if (u10) {
    if ((i10 = parseInt(u10[1])) < 0 ? i10 = (360 - -1 * i10 % 360) % 360 : i10 > 360 && (i10 %= 360), i10 /= 360, (n10 = parseFloat(u10[2])) < 0 || n10 > 100 || (n10 /= 100, (a10 = parseFloat(u10[3])) < 0 || a10 > 100) || (a10 /= 100, void 0 !== (o10 = u10[4]) && ((o10 = parseFloat(o10)) < 0 || o10 > 1))) return;
    if (0 === n10) s10 = l10 = h10 = Math.round(255 * a10);
    else {
      var d10 = a10 < 0.5 ? a10 * (1 + n10) : a10 + n10 - a10 * n10, p10 = 2 * a10 - d10;
      s10 = Math.round(255 * e10(p10, d10, i10 + 1 / 3)), l10 = Math.round(255 * e10(p10, d10, i10)), h10 = Math.round(255 * e10(p10, d10, i10 - 1 / 3));
    }
    r10 = [s10, l10, h10, o10];
  }
  return r10;
}, HB = function(t33) {
  var e10, r10 = RegExp("^" + HN + "$").exec(t33);
  if (r10) {
    e10 = [];
    for (var i10 = [], n10 = 1; n10 <= 3; n10++) {
      var a10 = r10[n10];
      if ("%" === a10[a10.length - 1] && (i10[n10] = true), a10 = parseFloat(a10), i10[n10] && (a10 = a10 / 100 * 255), a10 < 0 || a10 > 255) return;
      e10.push(Math.floor(a10));
    }
    var o10 = i10[1] || i10[2] || i10[3], s10 = i10[1] && i10[2] && i10[3];
    if (o10 && !s10) return;
    var l10 = r10[4];
    if (void 0 !== l10) {
      if ((l10 = parseFloat(l10)) < 0 || l10 > 1) return;
      e10.push(l10);
    }
  }
  return e10;
}, HF = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], grey: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, Hz = function(t33) {
  for (var e10 = t33.map, r10 = t33.keys, i10 = r10.length, n10 = 0; n10 < i10; n10++) {
    var a10 = r10[n10];
    if (Hg(a10)) throw Error("Tried to set map with object key");
    n10 < r10.length - 1 ? (null == e10[a10] && (e10[a10] = {}), e10 = e10[a10]) : e10[a10] = t33.value;
  }
}, HU = function(t33) {
  for (var e10 = t33.map, r10 = t33.keys, i10 = r10.length, n10 = 0; n10 < i10; n10++) {
    var a10 = r10[n10];
    if (Hg(a10)) throw Error("Tried to get map with object key");
    if (null == (e10 = e10[a10])) break;
  }
  return e10;
}, HG = function(t33) {
  var e10 = typeof t33;
  return null != t33 && ("object" == e10 || "function" == e10);
}, Hq = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, HY = "object" == typeof Hq && Hq && Hq.Object === Object && Hq, HH = "object" == typeof self && self && self.Object === Object && self, Hj = HY || HH || Function("return this")(), HW = function() {
  return Hj.Date.now();
}, HV = /\s/, HX = function(t33) {
  for (var e10 = t33.length; e10-- && HV.test(t33.charAt(e10)); ) ;
  return e10;
}, HK = /^\s+/, HZ = Hj.Symbol, HQ = Object.prototype, HJ = HQ.hasOwnProperty, H0 = HQ.toString, H1 = HZ ? HZ.toStringTag : void 0, H2 = function(t33) {
  var e10 = HJ.call(t33, H1), r10 = t33[H1];
  try {
    t33[H1] = void 0;
    var i10 = true;
  } catch (t34) {
  }
  var n10 = H0.call(t33);
  return i10 && (e10 ? t33[H1] = r10 : delete t33[H1]), n10;
}, H4 = Object.prototype.toString, H5 = HZ ? HZ.toStringTag : void 0, H3 = function(t33) {
  return null == t33 ? void 0 === t33 ? "[object Undefined]" : "[object Null]" : H5 && H5 in Object(t33) ? H2(t33) : H4.call(t33);
}, H6 = function(t33) {
  return "symbol" == typeof t33 || null != t33 && "object" == typeof t33 && "[object Symbol]" == H3(t33);
}, H7 = 0 / 0, H8 = /^[-+]0x[0-9a-f]+$/i, H9 = /^0b[01]+$/i, jt = /^0o[0-7]+$/i, je = parseInt, jr = function(t33) {
  if ("number" == typeof t33) return t33;
  if (H6(t33)) return H7;
  if (HG(t33)) {
    var e10, r10 = "function" == typeof t33.valueOf ? t33.valueOf() : t33;
    t33 = HG(r10) ? r10 + "" : r10;
  }
  if ("string" != typeof t33) return 0 === t33 ? t33 : +t33;
  t33 = (e10 = t33) ? e10.slice(0, HX(e10) + 1).replace(HK, "") : e10;
  var i10 = H9.test(t33);
  return i10 || jt.test(t33) ? je(t33.slice(2), i10 ? 2 : 8) : H8.test(t33) ? H7 : +t33;
}, ji = Math.max, jn = Math.min, ja = function(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10, h10 = 0, u10 = false, d10 = false, p10 = true;
  if ("function" != typeof t33) throw TypeError("Expected a function");
  function g10(e11) {
    var r11 = i10, a11 = n10;
    return i10 = n10 = void 0, h10 = e11, o10 = t33.apply(a11, r11);
  }
  function f10(t34) {
    var r11 = t34 - l10, i11 = t34 - h10;
    return void 0 === l10 || r11 >= e10 || r11 < 0 || d10 && i11 >= a10;
  }
  function y10() {
    var t34, r11, i11, n11 = HW();
    if (f10(n11)) return v10(n11);
    s10 = setTimeout(y10, (t34 = n11 - l10, r11 = n11 - h10, i11 = e10 - t34, d10 ? jn(i11, a10 - r11) : i11));
  }
  function v10(t34) {
    return (s10 = void 0, p10 && i10) ? g10(t34) : (i10 = n10 = void 0, o10);
  }
  function x10() {
    var t34, r11 = HW(), a11 = f10(r11);
    if (i10 = arguments, n10 = this, l10 = r11, a11) {
      if (void 0 === s10) return h10 = t34 = l10, s10 = setTimeout(y10, e10), u10 ? g10(t34) : o10;
      if (d10) return clearTimeout(s10), s10 = setTimeout(y10, e10), g10(l10);
    }
    return void 0 === s10 && (s10 = setTimeout(y10, e10)), o10;
  }
  return e10 = jr(e10) || 0, HG(r10) && (u10 = !!r10.leading, a10 = (d10 = "maxWait" in r10) ? ji(jr(r10.maxWait) || 0, e10) : a10, p10 = "trailing" in r10 ? !!r10.trailing : p10), x10.cancel = function() {
    void 0 !== s10 && clearTimeout(s10), h10 = 0, i10 = l10 = n10 = s10 = void 0;
  }, x10.flush = function() {
    return void 0 === s10 ? o10 : v10(HW());
  }, x10;
}, jo = Hn ? Hn.performance : null, js = jo && jo.now ? function() {
  return jo.now();
} : function() {
  return Date.now();
}, jl = function() {
  if (Hn) {
    if (Hn.requestAnimationFrame) return function(t33) {
      Hn.requestAnimationFrame(t33);
    };
    if (Hn.mozRequestAnimationFrame) return function(t33) {
      Hn.mozRequestAnimationFrame(t33);
    };
    if (Hn.webkitRequestAnimationFrame) return function(t33) {
      Hn.webkitRequestAnimationFrame(t33);
    };
    if (Hn.msRequestAnimationFrame) return function(t33) {
      Hn.msRequestAnimationFrame(t33);
    };
  }
  return function(t33) {
    t33 && setTimeout(function() {
      t33(js());
    }, 1e3 / 60);
  };
}(), jh = function(t33) {
  return jl(t33);
}, jc = function(t33) {
  for (var e10, r10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 9261, i10 = r10; !(e10 = t33.next()).done; ) i10 = 65599 * i10 + e10.value | 0;
  return i10;
}, ju = function(t33) {
  var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 9261;
  return 65599 * e10 + t33 | 0;
}, jd = function(t33) {
  var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5381;
  return (e10 << 5) + e10 + t33 | 0;
}, jp = function(t33) {
  return 2097152 * t33[0] + t33[1];
}, jg = function(t33, e10) {
  return [ju(t33[0], e10[0]), jd(t33[1], e10[1])];
}, jf = function(t33, e10) {
  var r10 = { value: 0, done: false }, i10 = 0, n10 = t33.length;
  return jc({ next: function() {
    return i10 < n10 ? r10.value = t33[i10++] : r10.done = true, r10;
  } }, e10);
}, jm = function(t33, e10) {
  var r10 = { value: 0, done: false }, i10 = 0, n10 = t33.length;
  return jc({ next: function() {
    return i10 < n10 ? r10.value = t33.charCodeAt(i10++) : r10.done = true, r10;
  } }, e10);
}, jy = function() {
  return jv(arguments);
}, jv = function(t33) {
  for (var e10, r10 = 0; r10 < t33.length; r10++) {
    var i10 = t33[r10];
    e10 = 0 === r10 ? jm(i10) : jm(i10, e10);
  }
  return e10;
}, jx = true, jb = null != console.warn, jw = null != console.trace, jk = Number.MAX_SAFE_INTEGER || 9007199254740991, j_ = function() {
  return true;
}, jT = function() {
  return false;
}, jE = function() {
  return 0;
}, jC = function() {
}, jS = function(t33) {
  throw Error(t33);
}, jA = function(t33) {
  if (void 0 === t33) return jx;
  jx = !!t33;
}, jL = function(t33) {
  jA() && (jb ? console.warn(t33) : (console.log(t33), jw && console.trace()));
}, jN = function(t33) {
  return null == t33 ? t33 : Hp(t33) ? t33.slice() : Hg(t33) ? HO({}, t33) : t33;
}, jI = function(t33, e10) {
  for (e10 = t33 = ""; t33++ < 36; e10 += 51 * t33 & 52 ? (15 ^ t33 ? 8 ^ Math.random() * (20 ^ t33 ? 16 : 4) : 4).toString(16) : "-") ;
  return e10;
}, jM = {}, jR = function() {
  return jM;
}, jD = function(t33) {
  var e10 = Object.keys(t33);
  return function(r10) {
    for (var i10 = {}, n10 = 0; n10 < e10.length; n10++) {
      var a10 = e10[n10], o10 = null == r10 ? void 0 : r10[a10];
      i10[a10] = void 0 === o10 ? t33[a10] : o10;
    }
    return i10;
  };
}, jO = function(t33, e10, r10) {
  for (var i10 = t33.length - 1; i10 >= 0; i10--) t33[i10] === e10 && t33.splice(i10, 1);
}, jP = function(t33) {
  t33.splice(0, t33.length);
}, j$ = function(t33, e10) {
  for (var r10 = 0; r10 < e10.length; r10++) {
    var i10 = e10[r10];
    t33.push(i10);
  }
}, jB = function(t33, e10, r10) {
  return r10 && (e10 = HS(r10, e10)), t33[e10];
}, jF = function(t33, e10, r10, i10) {
  r10 && (e10 = HS(r10, e10)), t33[e10] = i10;
}, jz = function() {
  function t33() {
    Y7(this, t33), this._obj = {};
  }
  return Y8(t33, [{ key: "set", value: function(t34, e10) {
    return this._obj[t34] = e10, this;
  } }, { key: "delete", value: function(t34) {
    return this._obj[t34] = void 0, this;
  } }, { key: "clear", value: function() {
    this._obj = {};
  } }, { key: "has", value: function(t34) {
    return void 0 !== this._obj[t34];
  } }, { key: "get", value: function(t34) {
    return this._obj[t34];
  } }]), t33;
}(), jU = "undefined" != typeof Map ? Map : jz, jG = function() {
  function t33(e10) {
    if (Y7(this, t33), this._obj = /* @__PURE__ */ Object.create(null), this.size = 0, null != e10) {
      var r10;
      r10 = null != e10.instanceString && e10.instanceString() === this.instanceString() ? e10.toArray() : e10;
      for (var i10 = 0; i10 < r10.length; i10++) this.add(r10[i10]);
    }
  }
  return Y8(t33, [{ key: "instanceString", value: function() {
    return "set";
  } }, { key: "add", value: function(t34) {
    var e10 = this._obj;
    1 !== e10[t34] && (e10[t34] = 1, this.size++);
  } }, { key: "delete", value: function(t34) {
    var e10 = this._obj;
    1 === e10[t34] && (e10[t34] = 0, this.size--);
  } }, { key: "clear", value: function() {
    this._obj = /* @__PURE__ */ Object.create(null);
  } }, { key: "has", value: function(t34) {
    return 1 === this._obj[t34];
  } }, { key: "toArray", value: function() {
    var t34 = this;
    return Object.keys(this._obj).filter(function(e10) {
      return t34.has(e10);
    });
  } }, { key: "forEach", value: function(t34, e10) {
    return this.toArray().forEach(t34, e10);
  } }]), t33;
}(), jq = ("undefined" == typeof Set ? "undefined" : Y6(Set)) !== "undefined" ? Set : jG, jY = function(t33, e10) {
  var r10 = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2];
  if (void 0 === t33 || void 0 === e10 || !Hb(t33)) {
    jS("An element must have a core reference and parameters set");
    return;
  }
  var i10 = e10.group;
  if (null == i10 && (i10 = e10.data && null != e10.data.source && null != e10.data.target ? "edges" : "nodes"), "nodes" !== i10 && "edges" !== i10) {
    jS("An element must be of type `nodes` or `edges`; you specified `" + i10 + "`");
    return;
  }
  this.length = 1, this[0] = this;
  var n10 = this._private = { cy: t33, single: true, data: e10.data || {}, position: e10.position || { x: 0, y: 0 }, autoWidth: void 0, autoHeight: void 0, autoPadding: void 0, compoundBoundsClean: false, listeners: [], group: i10, style: {}, rstyle: {}, styleCxts: [], styleKeys: {}, removed: true, selected: !!e10.selected, selectable: void 0 === e10.selectable || !!e10.selectable, locked: !!e10.locked, grabbed: false, grabbable: void 0 === e10.grabbable || !!e10.grabbable, pannable: void 0 === e10.pannable ? "edges" === i10 : !!e10.pannable, active: false, classes: new jq(), animation: { current: [], queue: [] }, rscratch: {}, scratch: e10.scratch || {}, edges: [], children: [], parent: e10.parent && e10.parent.isNode() ? e10.parent : null, traversalCache: {}, backgrounding: false, bbCache: null, bbCacheShift: { x: 0, y: 0 }, bodyBounds: null, overlayBounds: null, labelBounds: { all: null, source: null, target: null, main: null }, arrowBounds: { source: null, target: null, "mid-source": null, "mid-target": null } };
  if (null == n10.position.x && (n10.position.x = 0), null == n10.position.y && (n10.position.y = 0), e10.renderedPosition) {
    var a10 = e10.renderedPosition, o10 = t33.pan(), s10 = t33.zoom();
    n10.position = { x: (a10.x - o10.x) / s10, y: (a10.y - o10.y) / s10 };
  }
  var l10 = [];
  Hp(e10.classes) ? l10 = e10.classes : Hu(e10.classes) && (l10 = e10.classes.split(/\s+/));
  for (var h10 = 0, u10 = l10.length; h10 < u10; h10++) {
    var d10 = l10[h10];
    d10 && "" !== d10 && n10.classes.add(d10);
  }
  this.createEmitter();
  var p10 = e10.style || e10.css;
  p10 && (jL("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."), this.style(p10)), (void 0 === r10 || r10) && this.restore();
}, jH = function(t33) {
  return t33 = { bfs: t33.bfs || !t33.dfs, dfs: t33.dfs || !t33.bfs }, function(e10, r10, i10) {
    Hg(e10) && !Hy(e10) && (e10 = (n10 = e10).roots || n10.root, r10 = n10.visit, i10 = n10.directed), i10 = 2 != arguments.length || Hd(r10) ? i10 : r10, r10 = Hd(r10) ? r10 : function() {
    };
    for (var n10, a10, o10 = this._private.cy, s10 = e10 = Hu(e10) ? this.filter(e10) : e10, l10 = [], h10 = [], u10 = {}, d10 = {}, p10 = {}, g10 = 0, f10 = this.byGroup(), y10 = f10.nodes, v10 = f10.edges, x10 = 0; x10 < s10.length; x10++) {
      var b10 = s10[x10], w10 = b10.id();
      b10.isNode() && (l10.unshift(b10), t33.bfs && (p10[w10] = true, h10.push(b10)), d10[w10] = 0);
    }
    for (; 0 !== l10.length; ) {
      var k10 = function() {
        var e11 = t33.bfs ? l10.shift() : l10.pop(), n11 = e11.id();
        if (t33.dfs) {
          if (p10[n11]) return "continue";
          p10[n11] = true, h10.push(e11);
        }
        var o11 = d10[n11], s11 = u10[n11], f11 = null != s11 ? s11.source() : null, x11 = null != s11 ? s11.target() : null, b11 = null == s11 ? void 0 : e11.same(f11) ? x11[0] : f11[0], w11 = void 0;
        if (true === (w11 = r10(e11, s11, b11, g10++, o11))) return a10 = e11, "break";
        if (false === w11) return "break";
        for (var k11 = e11.connectedEdges().filter(function(t34) {
          return (!i10 || t34.source().same(e11)) && v10.has(t34);
        }), _11 = 0; _11 < k11.length; _11++) {
          var T11 = k11[_11], E11 = T11.connectedNodes().filter(function(t34) {
            return !t34.same(e11) && y10.has(t34);
          }), C11 = E11.id();
          0 === E11.length || p10[C11] || (E11 = E11[0], l10.push(E11), t33.bfs && (p10[C11] = true, h10.push(E11)), u10[C11] = T11, d10[C11] = d10[n11] + 1);
        }
      }();
      if ("continue" !== k10 && "break" === k10) break;
    }
    for (var _10 = o10.collection(), T10 = 0; T10 < h10.length; T10++) {
      var E10 = h10[T10], C10 = u10[E10.id()];
      null != C10 && _10.push(C10), _10.push(E10);
    }
    return { path: o10.collection(_10), found: o10.collection(a10) };
  };
}, jj = { breadthFirstSearch: jH({ bfs: true }), depthFirstSearch: jH({ dfs: true }) };
jj.bfs = jj.breadthFirstSearch, jj.dfs = jj.depthFirstSearch;
var jW = (function(t33, e10) {
  (function() {
    var e11, r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10;
    i10 = Math.floor, u10 = Math.min, r10 = function(t34, e12) {
      return t34 < e12 ? -1 : t34 > e12 ? 1 : 0;
    }, h10 = function(t34, e12, n11, a11, o11) {
      var s11;
      if (null == n11 && (n11 = 0), null == o11 && (o11 = r10), n11 < 0) throw Error("lo must be non-negative");
      for (null == a11 && (a11 = t34.length); n11 < a11; ) 0 > o11(e12, t34[s11 = i10((n11 + a11) / 2)]) ? a11 = s11 : n11 = s11 + 1;
      return [].splice.apply(t34, [n11, n11 - n11].concat(e12)), e12;
    }, o10 = function(t34, e12, i11) {
      return null == i11 && (i11 = r10), t34.push(e12), f10(t34, 0, t34.length - 1, i11);
    }, a10 = function(t34, e12) {
      var i11, n11;
      return null == e12 && (e12 = r10), i11 = t34.pop(), t34.length ? (n11 = t34[0], t34[0] = i11, y10(t34, 0, e12)) : n11 = i11, n11;
    }, l10 = function(t34, e12, i11) {
      var n11;
      return null == i11 && (i11 = r10), n11 = t34[0], t34[0] = e12, y10(t34, 0, i11), n11;
    }, s10 = function(t34, e12, i11) {
      var n11;
      return null == i11 && (i11 = r10), t34.length && 0 > i11(t34[0], e12) && (e12 = (n11 = [t34[0], e12])[0], t34[0] = n11[1], y10(t34, 0, i11)), e12;
    }, n10 = function(t34, e12) {
      var n11, a11, o11, s11, l11, h11;
      for (null == e12 && (e12 = r10), s11 = (function() {
        h11 = [];
        for (var e13 = 0, r11 = i10(t34.length / 2); 0 <= r11 ? e13 < r11 : e13 > r11; 0 <= r11 ? e13++ : e13--) h11.push(e13);
        return h11;
      }).apply(this).reverse(), l11 = [], a11 = 0, o11 = s11.length; a11 < o11; a11++) n11 = s11[a11], l11.push(y10(t34, n11, e12));
      return l11;
    }, g10 = function(t34, e12, i11) {
      var n11;
      if (null == i11 && (i11 = r10), -1 !== (n11 = t34.indexOf(e12))) return f10(t34, 0, n11, i11), y10(t34, n11, i11);
    }, d10 = function(t34, e12, i11) {
      var a11, o11, l11, h11;
      if (null == i11 && (i11 = r10), !(a11 = t34.slice(0, e12)).length) return a11;
      for (n10(a11, i11), o11 = 0, l11 = (h11 = t34.slice(e12)).length; o11 < l11; o11++) s10(a11, h11[o11], i11);
      return a11.sort(i11).reverse();
    }, p10 = function(t34, e12, i11) {
      var o11, s11, l11, d11, p11, g11, f11, y11, v11;
      if (null == i11 && (i11 = r10), 10 * e12 <= t34.length) {
        if (!(l11 = t34.slice(0, e12).sort(i11)).length) return l11;
        for (d11 = 0, s11 = l11[l11.length - 1], g11 = (f11 = t34.slice(e12)).length; d11 < g11; d11++) 0 > i11(o11 = f11[d11], s11) && (h10(l11, o11, 0, null, i11), l11.pop(), s11 = l11[l11.length - 1]);
        return l11;
      }
      for (n10(t34, i11), v11 = [], p11 = 0, y11 = u10(e12, t34.length); 0 <= y11 ? p11 < y11 : p11 > y11; 0 <= y11 ? ++p11 : --p11) v11.push(a10(t34, i11));
      return v11;
    }, f10 = function(t34, e12, i11, n11) {
      var a11, o11, s11;
      for (null == n11 && (n11 = r10), a11 = t34[i11]; i11 > e12; ) {
        if (0 > n11(a11, o11 = t34[s11 = i11 - 1 >> 1])) {
          t34[i11] = o11, i11 = s11;
          continue;
        }
        break;
      }
      return t34[i11] = a11;
    }, y10 = function(t34, e12, i11) {
      var n11, a11, o11, s11, l11;
      for (null == i11 && (i11 = r10), a11 = t34.length, l11 = e12, o11 = t34[e12], n11 = 2 * e12 + 1; n11 < a11; ) (s11 = n11 + 1) < a11 && !(0 > i11(t34[n11], t34[s11])) && (n11 = s11), t34[e12] = t34[n11], n11 = 2 * (e12 = n11) + 1;
      return t34[e12] = o11, f10(t34, l11, e12, i11);
    }, e11 = function() {
      function t34(t35) {
        this.cmp = null != t35 ? t35 : r10, this.nodes = [];
      }
      return t34.push = o10, t34.pop = a10, t34.replace = l10, t34.pushpop = s10, t34.heapify = n10, t34.updateItem = g10, t34.nlargest = d10, t34.nsmallest = p10, t34.prototype.push = function(t35) {
        return o10(this.nodes, t35, this.cmp);
      }, t34.prototype.pop = function() {
        return a10(this.nodes, this.cmp);
      }, t34.prototype.peek = function() {
        return this.nodes[0];
      }, t34.prototype.contains = function(t35) {
        return -1 !== this.nodes.indexOf(t35);
      }, t34.prototype.replace = function(t35) {
        return l10(this.nodes, t35, this.cmp);
      }, t34.prototype.pushpop = function(t35) {
        return s10(this.nodes, t35, this.cmp);
      }, t34.prototype.heapify = function() {
        return n10(this.nodes, this.cmp);
      }, t34.prototype.updateItem = function(t35) {
        return g10(this.nodes, t35, this.cmp);
      }, t34.prototype.clear = function() {
        return this.nodes = [];
      }, t34.prototype.empty = function() {
        return 0 === this.nodes.length;
      }, t34.prototype.size = function() {
        return this.nodes.length;
      }, t34.prototype.clone = function() {
        var e12;
        return (e12 = new t34()).nodes = this.nodes.slice(0), e12;
      }, t34.prototype.toArray = function() {
        return this.nodes.slice(0);
      }, t34.prototype.insert = t34.prototype.push, t34.prototype.top = t34.prototype.peek, t34.prototype.front = t34.prototype.peek, t34.prototype.has = t34.prototype.contains, t34.prototype.copy = t34.prototype.clone, t34;
    }(), v10 = function() {
      return e11;
    }, t33.exports = v10();
  }).call(Hq);
}(Jx = { exports: {} }, Jx.exports), Jx.exports), jV = jD({ root: null, weight: function(t33) {
  return 1;
}, directed: false }), jX = jD({ root: null, goal: null, weight: function(t33) {
  return 1;
}, heuristic: function(t33) {
  return 0;
}, directed: false }), jK = jD({ weight: function(t33) {
  return 1;
}, directed: false }), jZ = jD({ weight: function(t33) {
  return 1;
}, directed: false, root: null }), jQ = Math.sqrt(2), jJ = function(t33, e10, r10) {
  0 === r10.length && jS("Karger-Stein must be run on a connected (sub)graph");
  for (var i10 = r10[t33], n10 = i10[1], a10 = i10[2], o10 = e10[n10], s10 = e10[a10], l10 = r10.length - 1; l10 >= 0; l10--) {
    var h10 = r10[l10], u10 = h10[1], d10 = h10[2];
    (e10[u10] === o10 && e10[d10] === s10 || e10[u10] === s10 && e10[d10] === o10) && r10.splice(l10, 1);
  }
  for (var p10 = 0; p10 < r10.length; p10++) {
    var g10 = r10[p10];
    g10[1] === s10 ? (r10[p10] = g10.slice(), r10[p10][1] = o10) : g10[2] === s10 && (r10[p10] = g10.slice(), r10[p10][2] = o10);
  }
  for (var f10 = 0; f10 < e10.length; f10++) e10[f10] === s10 && (e10[f10] = o10);
  return r10;
}, j0 = function(t33, e10, r10, i10) {
  for (; r10 > i10; ) e10 = jJ(Math.floor(Math.random() * e10.length), t33, e10), r10--;
  return e10;
}, j1 = function(t33, e10, r10) {
  return { x: t33.x * e10 + r10.x, y: t33.y * e10 + r10.y };
}, j2 = function(t33, e10, r10) {
  return { x: (t33.x - r10.x) / e10, y: (t33.y - r10.y) / e10 };
}, j4 = function(t33) {
  return { x: t33[0], y: t33[1] };
}, j5 = function(t33) {
  for (var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t33.length, i10 = 1 / 0, n10 = e10; n10 < r10; n10++) {
    var a10 = t33[n10];
    isFinite(a10) && (i10 = Math.min(a10, i10));
  }
  return i10;
}, j3 = function(t33) {
  for (var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t33.length, i10 = -1 / 0, n10 = e10; n10 < r10; n10++) {
    var a10 = t33[n10];
    isFinite(a10) && (i10 = Math.max(a10, i10));
  }
  return i10;
}, j6 = function(t33) {
  for (var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t33.length, i10 = 0, n10 = 0, a10 = e10; a10 < r10; a10++) {
    var o10 = t33[a10];
    isFinite(o10) && (i10 += o10, n10++);
  }
  return i10 / n10;
}, j7 = function(t33) {
  var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t33.length, i10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], n10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], a10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5];
  i10 ? t33 = t33.slice(e10, r10) : (r10 < t33.length && t33.splice(r10, t33.length - r10), e10 > 0 && t33.splice(0, e10));
  for (var o10 = 0, s10 = t33.length - 1; s10 >= 0; s10--) {
    var l10 = t33[s10];
    a10 ? !isFinite(l10) && (t33[s10] = -1 / 0, o10++) : t33.splice(s10, 1);
  }
  n10 && t33.sort(function(t34, e11) {
    return t34 - e11;
  });
  var h10 = t33.length, u10 = Math.floor(h10 / 2);
  return h10 % 2 != 0 ? t33[u10 + 1 + o10] : (t33[u10 - 1 + o10] + t33[u10 + o10]) / 2;
}, j8 = function(t33, e10) {
  return Math.atan2(e10, t33) - Math.PI / 2;
}, j9 = Math.log2 || function(t33) {
  return Math.log(t33) / Math.log(2);
}, Wt = function(t33) {
  return t33 > 0 ? 1 : t33 < 0 ? -1 : 0;
}, We = function(t33, e10) {
  return Math.sqrt(Wr(t33, e10));
}, Wr = function(t33, e10) {
  var r10 = e10.x - t33.x, i10 = e10.y - t33.y;
  return r10 * r10 + i10 * i10;
}, Wi = function(t33) {
  for (var e10 = t33.length, r10 = 0, i10 = 0; i10 < e10; i10++) r10 += t33[i10];
  for (var n10 = 0; n10 < e10; n10++) t33[n10] = t33[n10] / r10;
  return t33;
}, Wn = function(t33, e10, r10, i10) {
  return (1 - i10) * (1 - i10) * t33 + 2 * (1 - i10) * i10 * e10 + i10 * i10 * r10;
}, Wa = function(t33, e10, r10, i10) {
  return { x: Wn(t33.x, e10.x, r10.x, i10), y: Wn(t33.y, e10.y, r10.y, i10) };
}, Wo = function(t33, e10, r10, i10) {
  var n10 = { x: e10.x - t33.x, y: e10.y - t33.y }, a10 = We(t33, e10), o10 = { x: n10.x / a10, y: n10.y / a10 };
  return r10 = null == r10 ? 0 : r10, i10 = null != i10 ? i10 : r10 * a10, { x: t33.x + o10.x * i10, y: t33.y + o10.y * i10 };
}, Ws = function(t33, e10, r10) {
  return Math.max(t33, Math.min(r10, e10));
}, Wl = function(t33) {
  if (null == t33) return { x1: 1 / 0, y1: 1 / 0, x2: -1 / 0, y2: -1 / 0, w: 0, h: 0 };
  if (null != t33.x1 && null != t33.y1) {
    if (null != t33.x2 && null != t33.y2 && t33.x2 >= t33.x1 && t33.y2 >= t33.y1) return { x1: t33.x1, y1: t33.y1, x2: t33.x2, y2: t33.y2, w: t33.x2 - t33.x1, h: t33.y2 - t33.y1 };
    if (null != t33.w && null != t33.h && t33.w >= 0 && t33.h >= 0) return { x1: t33.x1, y1: t33.y1, x2: t33.x1 + t33.w, y2: t33.y1 + t33.h, w: t33.w, h: t33.h };
  }
}, Wh = function(t33) {
  t33.x1 = 1 / 0, t33.y1 = 1 / 0, t33.x2 = -1 / 0, t33.y2 = -1 / 0, t33.w = 0, t33.h = 0;
}, Wc = function(t33, e10) {
  t33.x1 = Math.min(t33.x1, e10.x1), t33.x2 = Math.max(t33.x2, e10.x2), t33.w = t33.x2 - t33.x1, t33.y1 = Math.min(t33.y1, e10.y1), t33.y2 = Math.max(t33.y2, e10.y2), t33.h = t33.y2 - t33.y1;
}, Wu = function(t33, e10, r10) {
  t33.x1 = Math.min(t33.x1, e10), t33.x2 = Math.max(t33.x2, e10), t33.w = t33.x2 - t33.x1, t33.y1 = Math.min(t33.y1, r10), t33.y2 = Math.max(t33.y2, r10), t33.h = t33.y2 - t33.y1;
}, Wd = function(t33) {
  var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
  return t33.x1 -= e10, t33.x2 += e10, t33.y1 -= e10, t33.y2 += e10, t33.w = t33.x2 - t33.x1, t33.h = t33.y2 - t33.y1, t33;
}, Wp = function(t33) {
  var e10, r10, i10, n10, a10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [0];
  if (1 === a10.length) e10 = r10 = i10 = n10 = a10[0];
  else if (2 === a10.length) e10 = i10 = a10[0], n10 = r10 = a10[1];
  else if (4 === a10.length) {
    var o10 = Ht(a10, 4);
    e10 = o10[0], r10 = o10[1], i10 = o10[2], n10 = o10[3];
  }
  return t33.x1 -= n10, t33.x2 += r10, t33.y1 -= e10, t33.y2 += i10, t33.w = t33.x2 - t33.x1, t33.h = t33.y2 - t33.y1, t33;
}, Wg = function(t33, e10) {
  t33.x1 = e10.x1, t33.y1 = e10.y1, t33.x2 = e10.x2, t33.y2 = e10.y2, t33.w = t33.x2 - t33.x1, t33.h = t33.y2 - t33.y1;
}, Wf = function(t33, e10) {
  return !(t33.x1 > e10.x2) && !(e10.x1 > t33.x2) && !(t33.x2 < e10.x1) && !(e10.x2 < t33.x1) && !(t33.y2 < e10.y1) && !(e10.y2 < t33.y1) && !(t33.y1 > e10.y2) && !(e10.y1 > t33.y2);
}, Wm = function(t33, e10, r10) {
  return t33.x1 <= e10 && e10 <= t33.x2 && t33.y1 <= r10 && r10 <= t33.y2;
}, Wy = function(t33, e10) {
  return Wm(t33, e10.x1, e10.y1) && Wm(t33, e10.x2, e10.y2);
}, Wv = function(t33, e10, r10, i10, n10, a10, o10) {
  var s10, l10, h10 = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : "auto", u10 = "auto" === h10 ? WU(n10, a10) : h10, d10 = n10 / 2, p10 = a10 / 2, g10 = (u10 = Math.min(u10, d10, p10)) !== d10, f10 = u10 !== p10;
  if (g10) {
    var y10 = r10 - d10 + u10 - o10, v10 = i10 - p10 - o10, x10 = r10 + d10 - u10 + o10;
    if ((s10 = WD(t33, e10, r10, i10, y10, v10, x10, v10, false)).length > 0) return s10;
  }
  if (f10) {
    var b10 = r10 + d10 + o10, w10 = i10 - p10 + u10 - o10, k10 = i10 + p10 - u10 + o10;
    if ((s10 = WD(t33, e10, r10, i10, b10, w10, b10, k10, false)).length > 0) return s10;
  }
  if (g10) {
    var _10 = r10 - d10 + u10 - o10, T10 = i10 + p10 + o10, E10 = r10 + d10 - u10 + o10;
    if ((s10 = WD(t33, e10, r10, i10, _10, T10, E10, T10, false)).length > 0) return s10;
  }
  if (f10) {
    var C10 = r10 - d10 - o10, S10 = i10 - p10 + u10 - o10, A10 = i10 + p10 - u10 + o10;
    if ((s10 = WD(t33, e10, r10, i10, C10, S10, C10, A10, false)).length > 0) return s10;
  }
  var L10 = r10 - d10 + u10, N10 = i10 - p10 + u10;
  if ((l10 = WM(t33, e10, r10, i10, L10, N10, u10 + o10)).length > 0 && l10[0] <= L10 && l10[1] <= N10) return [l10[0], l10[1]];
  var I10 = r10 + d10 - u10, M10 = i10 - p10 + u10;
  if ((l10 = WM(t33, e10, r10, i10, I10, M10, u10 + o10)).length > 0 && l10[0] >= I10 && l10[1] <= M10) return [l10[0], l10[1]];
  var R10 = r10 + d10 - u10, D10 = i10 + p10 - u10;
  if ((l10 = WM(t33, e10, r10, i10, R10, D10, u10 + o10)).length > 0 && l10[0] >= R10 && l10[1] >= D10) return [l10[0], l10[1]];
  var O10 = r10 - d10 + u10, P10 = i10 + p10 - u10;
  return (l10 = WM(t33, e10, r10, i10, O10, P10, u10 + o10)).length > 0 && l10[0] <= O10 && l10[1] >= P10 ? [l10[0], l10[1]] : [];
}, Wx = function(t33, e10, r10, i10, n10, a10, o10) {
  var s10 = Math.min(r10, n10), l10 = Math.max(r10, n10), h10 = Math.min(i10, a10), u10 = Math.max(i10, a10);
  return s10 - o10 <= t33 && t33 <= l10 + o10 && h10 - o10 <= e10 && e10 <= u10 + o10;
}, Wb = function(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  var h10 = { x1: Math.min(r10, o10, n10) - l10, x2: Math.max(r10, o10, n10) + l10, y1: Math.min(i10, s10, a10) - l10, y2: Math.max(i10, s10, a10) + l10 };
  return !(t33 < h10.x1) && !(t33 > h10.x2) && !(e10 < h10.y1) && !(e10 > h10.y2);
}, Ww = function(t33, e10, r10, i10) {
  var n10 = e10 * e10 - 4 * t33 * (r10 -= i10);
  if (n10 < 0) return [];
  var a10 = Math.sqrt(n10), o10 = 2 * t33;
  return [(-e10 + a10) / o10, (-e10 - a10) / o10];
}, Wk = function(t33, e10, r10, i10, n10) {
  var a10, o10, s10, l10, h10, u10, d10, p10;
  if (0 === t33 && (t33 = 1e-5), e10 /= t33, r10 /= t33, i10 /= t33, a10 = (o10 = (3 * r10 - e10 * e10) / 9) * o10 * o10 + (s10 = (-(27 * i10) + e10 * (9 * r10 - e10 * e10 * 2)) / 54) * s10, n10[1] = 0, d10 = e10 / 3, a10 > 0) {
    h10 = (h10 = s10 + Math.sqrt(a10)) < 0 ? -Math.pow(-h10, 1 / 3) : Math.pow(h10, 1 / 3), u10 = (u10 = s10 - Math.sqrt(a10)) < 0 ? -Math.pow(-u10, 1 / 3) : Math.pow(u10, 1 / 3), n10[0] = -d10 + h10 + u10, d10 += (h10 + u10) / 2, n10[4] = n10[2] = -d10, d10 = Math.sqrt(3) * (-u10 + h10) / 2, n10[3] = d10, n10[5] = -d10;
    return;
  }
  if (n10[5] = n10[3] = 0, 0 === a10) {
    p10 = s10 < 0 ? -Math.pow(-s10, 1 / 3) : Math.pow(s10, 1 / 3), n10[0] = -d10 + 2 * p10, n10[4] = n10[2] = -(p10 + d10);
    return;
  }
  l10 = Math.acos(s10 / Math.sqrt(l10 = (o10 = -o10) * o10 * o10)), p10 = 2 * Math.sqrt(o10), n10[0] = -d10 + p10 * Math.cos(l10 / 3), n10[2] = -d10 + p10 * Math.cos((l10 + 2 * Math.PI) / 3), n10[4] = -d10 + p10 * Math.cos((l10 + 4 * Math.PI) / 3);
}, W_ = function(t33, e10, r10, i10, n10, a10, o10, s10) {
  var l10, h10 = [];
  Wk(1 * r10 * r10 - 4 * r10 * n10 + 2 * r10 * o10 + 4 * n10 * n10 - 4 * n10 * o10 + o10 * o10 + i10 * i10 - 4 * i10 * a10 + 2 * i10 * s10 + 4 * a10 * a10 - 4 * a10 * s10 + s10 * s10, 9 * r10 * n10 - 3 * r10 * r10 - 3 * r10 * o10 - 6 * n10 * n10 + 3 * n10 * o10 + 9 * i10 * a10 - 3 * i10 * i10 - 3 * i10 * s10 - 6 * a10 * a10 + 3 * a10 * s10, 3 * r10 * r10 - 6 * r10 * n10 + r10 * o10 - r10 * t33 + 2 * n10 * n10 + 2 * n10 * t33 - o10 * t33 + 3 * i10 * i10 - 6 * i10 * a10 + i10 * s10 - i10 * e10 + 2 * a10 * a10 + 2 * a10 * e10 - s10 * e10, 1 * r10 * n10 - r10 * r10 + r10 * t33 - n10 * t33 + i10 * a10 - i10 * i10 + i10 * e10 - a10 * e10, h10);
  for (var u10 = [], d10 = 0; d10 < 6; d10 += 2) 1e-7 > Math.abs(h10[d10 + 1]) && h10[d10] >= 0 && h10[d10] <= 1 && u10.push(h10[d10]);
  u10.push(1), u10.push(0);
  for (var p10 = -1, g10 = 0; g10 < u10.length; g10++) l10 = Math.pow(Math.pow(1 - u10[g10], 2) * r10 + 2 * (1 - u10[g10]) * u10[g10] * n10 + u10[g10] * u10[g10] * o10 - t33, 2) + Math.pow(Math.pow(1 - u10[g10], 2) * i10 + 2 * (1 - u10[g10]) * u10[g10] * a10 + u10[g10] * u10[g10] * s10 - e10, 2), p10 >= 0 ? l10 < p10 && (p10 = l10) : p10 = l10;
  return p10;
}, WT = function(t33, e10, r10, i10, n10, a10) {
  var o10 = [t33 - r10, e10 - i10], s10 = [n10 - r10, a10 - i10], l10 = s10[0] * s10[0] + s10[1] * s10[1], h10 = o10[0] * o10[0] + o10[1] * o10[1], u10 = o10[0] * s10[0] + o10[1] * s10[1], d10 = u10 * u10 / l10;
  return u10 < 0 ? h10 : d10 > l10 ? (t33 - n10) * (t33 - n10) + (e10 - a10) * (e10 - a10) : h10 - d10;
}, WE = function(t33, e10, r10) {
  for (var i10, n10, a10, o10, s10 = 0, l10 = 0; l10 < r10.length / 2; l10++) if (i10 = r10[2 * l10], n10 = r10[2 * l10 + 1], l10 + 1 < r10.length / 2 ? (a10 = r10[(l10 + 1) * 2], o10 = r10[(l10 + 1) * 2 + 1]) : (a10 = r10[(l10 + 1 - r10.length / 2) * 2], o10 = r10[(l10 + 1 - r10.length / 2) * 2 + 1]), i10 == t33 && a10 == t33) ;
  else {
    if ((!(i10 >= t33) || !(t33 >= a10)) && (!(i10 <= t33) || !(t33 <= a10))) continue;
    (t33 - i10) / (a10 - i10) * (o10 - n10) + n10 > e10 && s10++;
  }
  return s10 % 2 != 0;
}, WC = function(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  var h10, u10 = Array(r10.length);
  null != s10[0] ? (h10 = Math.atan(s10[1] / s10[0]), s10[0] < 0 ? h10 += Math.PI / 2 : h10 = -h10 - Math.PI / 2) : h10 = s10;
  for (var d10 = Math.cos(-h10), p10 = Math.sin(-h10), g10 = 0; g10 < u10.length / 2; g10++) u10[2 * g10] = a10 / 2 * (r10[2 * g10] * d10 - r10[2 * g10 + 1] * p10), u10[2 * g10 + 1] = o10 / 2 * (r10[2 * g10 + 1] * d10 + r10[2 * g10] * p10), u10[2 * g10] += i10, u10[2 * g10 + 1] += n10;
  return WE(t33, e10, l10 > 0 ? WA(WL(u10, -l10)) : u10);
}, WS = function(t33, e10, r10, i10, n10, a10, o10, s10) {
  for (var l10 = Array(2 * r10.length), h10 = 0; h10 < s10.length; h10++) {
    var u10 = s10[h10];
    if (l10[4 * h10 + 0] = u10.startX, l10[4 * h10 + 1] = u10.startY, l10[4 * h10 + 2] = u10.stopX, l10[4 * h10 + 3] = u10.stopY, Math.pow(u10.cx - t33, 2) + Math.pow(u10.cy - e10, 2) <= Math.pow(u10.radius, 2)) return true;
  }
  return WE(t33, e10, l10);
}, WA = function(t33) {
  for (var e10, r10, i10, n10, a10, o10, s10, l10, h10 = Array(t33.length / 2), u10 = 0; u10 < t33.length / 4; u10++) {
    e10 = t33[4 * u10], r10 = t33[4 * u10 + 1], i10 = t33[4 * u10 + 2], n10 = t33[4 * u10 + 3], u10 < t33.length / 4 - 1 ? (a10 = t33[(u10 + 1) * 4], o10 = t33[(u10 + 1) * 4 + 1], s10 = t33[(u10 + 1) * 4 + 2], l10 = t33[(u10 + 1) * 4 + 3]) : (a10 = t33[0], o10 = t33[1], s10 = t33[2], l10 = t33[3]);
    var d10 = WD(e10, r10, i10, n10, a10, o10, s10, l10, true);
    h10[2 * u10] = d10[0], h10[2 * u10 + 1] = d10[1];
  }
  return h10;
}, WL = function(t33, e10) {
  for (var r10, i10, n10, a10, o10 = Array(2 * t33.length), s10 = 0; s10 < t33.length / 2; s10++) {
    r10 = t33[2 * s10], i10 = t33[2 * s10 + 1], s10 < t33.length / 2 - 1 ? (n10 = t33[(s10 + 1) * 2], a10 = t33[(s10 + 1) * 2 + 1]) : (n10 = t33[0], a10 = t33[1]);
    var l10 = a10 - i10, h10 = -(n10 - r10), u10 = Math.sqrt(l10 * l10 + h10 * h10), d10 = l10 / u10, p10 = h10 / u10;
    o10[4 * s10] = r10 + d10 * e10, o10[4 * s10 + 1] = i10 + p10 * e10, o10[4 * s10 + 2] = n10 + d10 * e10, o10[4 * s10 + 3] = a10 + p10 * e10;
  }
  return o10;
}, WN = function(t33, e10, r10, i10, n10, a10) {
  var o10 = r10 - t33, s10 = i10 - e10, l10 = Math.sqrt((o10 /= n10) * o10 + (s10 /= a10) * s10), h10 = l10 - 1;
  if (h10 < 0) return [];
  var u10 = h10 / l10;
  return [(r10 - t33) * u10 + t33, (i10 - e10) * u10 + e10];
}, WI = function(t33, e10, r10, i10, n10, a10, o10) {
  return t33 -= n10, e10 -= a10, (t33 /= r10 / 2 + o10) * t33 + (e10 /= i10 / 2 + o10) * e10 <= 1;
}, WM = function(t33, e10, r10, i10, n10, a10, o10) {
  var s10 = [r10 - t33, i10 - e10], l10 = [t33 - n10, e10 - a10], h10 = s10[0] * s10[0] + s10[1] * s10[1], u10 = 2 * (l10[0] * s10[0] + l10[1] * s10[1]), d10 = u10 * u10 - 4 * h10 * (l10[0] * l10[0] + l10[1] * l10[1] - o10 * o10);
  if (d10 < 0) return [];
  var p10 = (-u10 + Math.sqrt(d10)) / (2 * h10), g10 = (-u10 - Math.sqrt(d10)) / (2 * h10), f10 = Math.min(p10, g10), y10 = Math.max(p10, g10), v10 = [];
  if (f10 >= 0 && f10 <= 1 && v10.push(f10), y10 >= 0 && y10 <= 1 && v10.push(y10), 0 === v10.length) return [];
  var x10 = v10[0] * s10[0] + t33, b10 = v10[0] * s10[1] + e10;
  return v10.length > 1 ? v10[0] == v10[1] ? [x10, b10] : [x10, b10, v10[1] * s10[0] + t33, v10[1] * s10[1] + e10] : [x10, b10];
}, WR = function(t33, e10, r10) {
  return e10 <= t33 && t33 <= r10 || r10 <= t33 && t33 <= e10 ? t33 : t33 <= e10 && e10 <= r10 || r10 <= e10 && e10 <= t33 ? e10 : r10;
}, WD = function(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  var h10 = t33 - n10, u10 = r10 - t33, d10 = o10 - n10, p10 = e10 - a10, g10 = i10 - e10, f10 = s10 - a10, y10 = d10 * p10 - f10 * h10, v10 = u10 * p10 - g10 * h10, x10 = f10 * u10 - d10 * g10;
  if (0 !== x10) {
    var b10 = y10 / x10, w10 = v10 / x10;
    return -1e-3 <= b10 && b10 <= 1.001 && -1e-3 <= w10 && w10 <= 1.001 ? [t33 + b10 * u10, e10 + b10 * g10] : l10 ? [t33 + b10 * u10, e10 + b10 * g10] : [];
  }
  return 0 !== y10 && 0 !== v10 ? [] : WR(t33, r10, o10) === o10 ? [o10, s10] : WR(t33, r10, n10) === n10 ? [n10, a10] : WR(n10, o10, r10) === r10 ? [r10, i10] : [];
}, WO = function(t33, e10, r10, i10, n10, a10, o10, s10) {
  var l10, h10, u10, d10, p10, g10, f10 = [], y10 = Array(r10.length), v10 = true;
  if (null == a10 && (v10 = false), v10) {
    for (var x10 = 0; x10 < y10.length / 2; x10++) y10[2 * x10] = r10[2 * x10] * a10 + i10, y10[2 * x10 + 1] = r10[2 * x10 + 1] * o10 + n10;
    h10 = s10 > 0 ? WA(WL(y10, -s10)) : y10;
  } else h10 = r10;
  for (var b10 = 0; b10 < h10.length / 2; b10++) u10 = h10[2 * b10], d10 = h10[2 * b10 + 1], b10 < h10.length / 2 - 1 ? (p10 = h10[(b10 + 1) * 2], g10 = h10[(b10 + 1) * 2 + 1]) : (p10 = h10[0], g10 = h10[1]), 0 !== (l10 = WD(t33, e10, i10, n10, u10, d10, p10, g10)).length && f10.push(l10[0], l10[1]);
  return f10;
}, WP = function(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  var h10, u10 = [], d10 = Array(2 * r10.length);
  l10.forEach(function(r11, a11) {
    0 === a11 ? (d10[d10.length - 2] = r11.startX, d10[d10.length - 1] = r11.startY) : (d10[4 * a11 - 2] = r11.startX, d10[4 * a11 - 1] = r11.startY), d10[4 * a11] = r11.stopX, d10[4 * a11 + 1] = r11.stopY, 0 !== (h10 = WM(t33, e10, i10, n10, r11.cx, r11.cy, r11.radius)).length && u10.push(h10[0], h10[1]);
  });
  for (var p10 = 0; p10 < d10.length / 4; p10++) 0 !== (h10 = WD(t33, e10, i10, n10, d10[4 * p10], d10[4 * p10 + 1], d10[4 * p10 + 2], d10[4 * p10 + 3], false)).length && u10.push(h10[0], h10[1]);
  if (u10.length > 2) {
    for (var g10 = [u10[0], u10[1]], f10 = Math.pow(g10[0] - t33, 2) + Math.pow(g10[1] - e10, 2), y10 = 1; y10 < u10.length / 2; y10++) {
      var v10 = Math.pow(u10[2 * y10] - t33, 2) + Math.pow(u10[2 * y10 + 1] - e10, 2);
      v10 <= f10 && (g10[0] = u10[2 * y10], g10[1] = u10[2 * y10 + 1], f10 = v10);
    }
    return g10;
  }
  return u10;
}, W$ = function(t33, e10, r10) {
  var i10 = [t33[0] - e10[0], t33[1] - e10[1]], n10 = Math.sqrt(i10[0] * i10[0] + i10[1] * i10[1]), a10 = (n10 - r10) / n10;
  return a10 < 0 && (a10 = 1e-5), [e10[0] + a10 * i10[0], e10[1] + a10 * i10[1]];
}, WB = function(t33, e10) {
  return WF(Wz(t33, e10));
}, WF = function(t33) {
  for (var e10, r10, i10 = t33.length / 2, n10 = 1 / 0, a10 = 1 / 0, o10 = -1 / 0, s10 = -1 / 0, l10 = 0; l10 < i10; l10++) e10 = t33[2 * l10], r10 = t33[2 * l10 + 1], n10 = Math.min(n10, e10), o10 = Math.max(o10, e10), a10 = Math.min(a10, r10), s10 = Math.max(s10, r10);
  for (var h10 = 2 / (o10 - n10), u10 = 2 / (s10 - a10), d10 = 0; d10 < i10; d10++) e10 = t33[2 * d10] = t33[2 * d10] * h10, r10 = t33[2 * d10 + 1] = t33[2 * d10 + 1] * u10, n10 = Math.min(n10, e10), o10 = Math.max(o10, e10), a10 = Math.min(a10, r10), s10 = Math.max(s10, r10);
  if (a10 < -1) for (var p10 = 0; p10 < i10; p10++) r10 = t33[2 * p10 + 1] = t33[2 * p10 + 1] + (-1 - a10);
  return t33;
}, Wz = function(t33, e10) {
  var r10, i10 = 1 / t33 * 2 * Math.PI, n10 = t33 % 2 == 0 ? Math.PI / 2 + i10 / 2 : Math.PI / 2;
  n10 += e10;
  for (var a10 = Array(2 * t33), o10 = 0; o10 < t33; o10++) r10 = o10 * i10 + n10, a10[2 * o10] = Math.cos(r10), a10[2 * o10 + 1] = Math.sin(-r10);
  return a10;
}, WU = function(t33, e10) {
  return Math.min(t33 / 4, e10 / 4, 8);
}, WG = function(t33, e10) {
  return Math.min(t33 / 10, e10 / 10, 8);
}, Wq = function() {
  return 8;
}, WY = function(t33, e10) {
  return { heightOffset: Math.min(15, 0.05 * e10), widthOffset: Math.min(100, 0.25 * t33), ctrlPtOffsetPct: 0.05 };
}, WH = jD({ dampingFactor: 0.8, precision: 1e-6, iterations: 200, weight: function(t33) {
  return 1;
} }), Wj = jD({ root: null, weight: function(t33) {
  return 1;
}, directed: false, alpha: 0 }), WW = { degreeCentralityNormalized: function(t33) {
  t33 = Wj(t33);
  var e10 = this.cy(), r10 = this.nodes(), i10 = r10.length;
  if (t33.directed) {
    for (var n10 = {}, a10 = {}, o10 = 0, s10 = 0, l10 = 0; l10 < i10; l10++) {
      var h10 = r10[l10], u10 = h10.id();
      t33.root = h10;
      var d10 = this.degreeCentrality(t33);
      o10 < d10.indegree && (o10 = d10.indegree), s10 < d10.outdegree && (s10 = d10.outdegree), n10[u10] = d10.indegree, a10[u10] = d10.outdegree;
    }
    return { indegree: function(t34) {
      return 0 == o10 ? 0 : (Hu(t34) && (t34 = e10.filter(t34)), n10[t34.id()] / o10);
    }, outdegree: function(t34) {
      return 0 === s10 ? 0 : (Hu(t34) && (t34 = e10.filter(t34)), a10[t34.id()] / s10);
    } };
  }
  for (var p10 = {}, g10 = 0, f10 = 0; f10 < i10; f10++) {
    var y10 = r10[f10];
    t33.root = y10;
    var v10 = this.degreeCentrality(t33);
    g10 < v10.degree && (g10 = v10.degree), p10[y10.id()] = v10.degree;
  }
  return { degree: function(t34) {
    return 0 === g10 ? 0 : (Hu(t34) && (t34 = e10.filter(t34)), p10[t34.id()] / g10);
  } };
}, degreeCentrality: function(t33) {
  t33 = Wj(t33);
  var e10 = this.cy(), r10 = this, i10 = t33, n10 = i10.root, a10 = i10.weight, o10 = i10.directed, s10 = i10.alpha;
  if (n10 = e10.collection(n10)[0], o10) {
    for (var l10 = n10.connectedEdges(), h10 = l10.filter(function(t34) {
      return t34.target().same(n10) && r10.has(t34);
    }), u10 = l10.filter(function(t34) {
      return t34.source().same(n10) && r10.has(t34);
    }), d10 = h10.length, p10 = u10.length, g10 = 0, f10 = 0, y10 = 0; y10 < h10.length; y10++) g10 += a10(h10[y10]);
    for (var v10 = 0; v10 < u10.length; v10++) f10 += a10(u10[v10]);
    return { indegree: Math.pow(d10, 1 - s10) * Math.pow(g10, s10), outdegree: Math.pow(p10, 1 - s10) * Math.pow(f10, s10) };
  }
  for (var x10 = n10.connectedEdges().intersection(r10), b10 = x10.length, w10 = 0, k10 = 0; k10 < x10.length; k10++) w10 += a10(x10[k10]);
  return { degree: Math.pow(b10, 1 - s10) * Math.pow(w10, s10) };
} };
WW.dc = WW.degreeCentrality, WW.dcn = WW.degreeCentralityNormalised = WW.degreeCentralityNormalized;
var WV = jD({ harmonic: true, weight: function() {
  return 1;
}, directed: false, root: null }), WX = { closenessCentralityNormalized: function(t33) {
  for (var e10 = WV(t33), r10 = e10.harmonic, i10 = e10.weight, n10 = e10.directed, a10 = this.cy(), o10 = {}, s10 = 0, l10 = this.nodes(), h10 = this.floydWarshall({ weight: i10, directed: n10 }), u10 = 0; u10 < l10.length; u10++) {
    for (var d10 = 0, p10 = l10[u10], g10 = 0; g10 < l10.length; g10++) if (u10 !== g10) {
      var f10 = h10.distance(p10, l10[g10]);
      r10 ? d10 += 1 / f10 : d10 += f10;
    }
    r10 || (d10 = 1 / d10), s10 < d10 && (s10 = d10), o10[p10.id()] = d10;
  }
  return { closeness: function(t34) {
    return 0 == s10 ? 0 : o10[t34 = Hu(t34) ? a10.filter(t34)[0].id() : t34.id()] / s10;
  } };
}, closenessCentrality: function(t33) {
  var e10 = WV(t33), r10 = e10.root, i10 = e10.weight, n10 = e10.directed, a10 = e10.harmonic;
  r10 = this.filter(r10)[0];
  for (var o10 = this.dijkstra({ root: r10, weight: i10, directed: n10 }), s10 = 0, l10 = this.nodes(), h10 = 0; h10 < l10.length; h10++) {
    var u10 = l10[h10];
    if (!u10.same(r10)) {
      var d10 = o10.distanceTo(u10);
      a10 ? s10 += 1 / d10 : s10 += d10;
    }
  }
  return a10 ? s10 : 1 / s10;
} };
WX.cc = WX.closenessCentrality, WX.ccn = WX.closenessCentralityNormalised = WX.closenessCentralityNormalized;
var WK = jD({ weight: null, directed: false }), WZ = { betweennessCentrality: function(t33) {
  for (var e10 = WK(t33), r10 = e10.directed, i10 = e10.weight, n10 = null != i10, a10 = this.cy(), o10 = this.nodes(), s10 = {}, l10 = {}, h10 = 0, u10 = { set: function(t34, e11) {
    l10[t34] = e11, e11 > h10 && (h10 = e11);
  }, get: function(t34) {
    return l10[t34];
  } }, d10 = 0; d10 < o10.length; d10++) {
    var p10 = o10[d10], g10 = p10.id();
    r10 ? s10[g10] = p10.outgoers().nodes() : s10[g10] = p10.openNeighborhood().nodes(), u10.set(g10, 0);
  }
  for (var f10 = 0; f10 < o10.length; f10++) !function(t34) {
    for (var e11 = o10[t34].id(), r11 = [], l11 = {}, h11 = {}, d11 = {}, p11 = new jW(function(t35, e12) {
      return d11[t35] - d11[e12];
    }), g11 = 0; g11 < o10.length; g11++) {
      var f11 = o10[g11].id();
      l11[f11] = [], h11[f11] = 0, d11[f11] = 1 / 0;
    }
    for (h11[e11] = 1, d11[e11] = 0, p11.push(e11); !p11.empty(); ) {
      var y11 = p11.pop();
      if (r11.push(y11), n10) for (var v10 = 0; v10 < s10[y11].length; v10++) {
        var x10 = s10[y11][v10], b10 = a10.getElementById(y11), w10 = i10(b10.edgesTo(x10).length > 0 ? b10.edgesTo(x10)[0] : x10.edgesTo(b10)[0]);
        d11[x10 = x10.id()] > d11[y11] + w10 && (d11[x10] = d11[y11] + w10, 0 > p11.nodes.indexOf(x10) ? p11.push(x10) : p11.updateItem(x10), h11[x10] = 0, l11[x10] = []), d11[x10] == d11[y11] + w10 && (h11[x10] = h11[x10] + h11[y11], l11[x10].push(y11));
      }
      else for (var k10 = 0; k10 < s10[y11].length; k10++) {
        var _10 = s10[y11][k10].id();
        d11[_10] == 1 / 0 && (p11.push(_10), d11[_10] = d11[y11] + 1), d11[_10] == d11[y11] + 1 && (h11[_10] = h11[_10] + h11[y11], l11[_10].push(y11));
      }
    }
    for (var T10 = {}, E10 = 0; E10 < o10.length; E10++) T10[o10[E10].id()] = 0;
    for (; r11.length > 0; ) {
      for (var C10 = r11.pop(), S10 = 0; S10 < l11[C10].length; S10++) {
        var A10 = l11[C10][S10];
        T10[A10] = T10[A10] + h11[A10] / h11[C10] * (1 + T10[C10]);
      }
      C10 != o10[t34].id() && u10.set(C10, u10.get(C10) + T10[C10]);
    }
  }(f10);
  var y10 = { betweenness: function(t34) {
    var e11 = a10.collection(t34).id();
    return u10.get(e11);
  }, betweennessNormalized: function(t34) {
    if (0 == h10) return 0;
    var e11 = a10.collection(t34).id();
    return u10.get(e11) / h10;
  } };
  return y10.betweennessNormalised = y10.betweennessNormalized, y10;
} };
WZ.bc = WZ.betweennessCentrality;
var WQ = jD({ expandFactor: 2, inflateFactor: 2, multFactor: 1, maxIterations: 20, attributes: [function(t33) {
  return 1;
}] }), WJ = function(t33, e10) {
  for (var r10 = 0, i10 = 0; i10 < e10.length; i10++) r10 += e10[i10](t33);
  return r10;
}, W0 = function(t33, e10, r10) {
  for (var i10 = 0; i10 < e10; i10++) t33[i10 * e10 + i10] = r10;
}, W1 = function(t33, e10) {
  for (var r10, i10 = 0; i10 < e10; i10++) {
    r10 = 0;
    for (var n10 = 0; n10 < e10; n10++) r10 += t33[n10 * e10 + i10];
    for (var a10 = 0; a10 < e10; a10++) t33[a10 * e10 + i10] = t33[a10 * e10 + i10] / r10;
  }
}, W2 = function(t33, e10, r10) {
  for (var i10 = Array(r10 * r10), n10 = 0; n10 < r10; n10++) {
    for (var a10 = 0; a10 < r10; a10++) i10[n10 * r10 + a10] = 0;
    for (var o10 = 0; o10 < r10; o10++) for (var s10 = 0; s10 < r10; s10++) i10[n10 * r10 + s10] += t33[n10 * r10 + o10] * e10[o10 * r10 + s10];
  }
  return i10;
}, W4 = function(t33, e10, r10) {
  for (var i10 = t33.slice(0), n10 = 1; n10 < r10; n10++) t33 = W2(t33, i10, e10);
  return t33;
}, W5 = function(t33, e10, r10) {
  for (var i10 = Array(e10 * e10), n10 = 0; n10 < e10 * e10; n10++) i10[n10] = Math.pow(t33[n10], r10);
  return W1(i10, e10), i10;
}, W3 = function(t33, e10, r10, i10) {
  for (var n10 = 0; n10 < r10; n10++) if (Math.round(t33[n10] * Math.pow(10, i10)) / Math.pow(10, i10) != Math.round(e10[n10] * Math.pow(10, i10)) / Math.pow(10, i10)) return false;
  return true;
}, W6 = function(t33, e10, r10, i10) {
  for (var n10 = [], a10 = 0; a10 < e10; a10++) {
    for (var o10 = [], s10 = 0; s10 < e10; s10++) Math.round(1e3 * t33[a10 * e10 + s10]) / 1e3 > 0 && o10.push(r10[s10]);
    0 !== o10.length && n10.push(i10.collection(o10));
  }
  return n10;
}, W7 = function(t33, e10) {
  for (var r10 = 0; r10 < t33.length; r10++) if (!e10[r10] || t33[r10].id() !== e10[r10].id()) return false;
  return true;
}, W8 = function(t33) {
  for (var e10 = 0; e10 < t33.length; e10++) for (var r10 = 0; r10 < t33.length; r10++) e10 != r10 && W7(t33[e10], t33[r10]) && t33.splice(r10, 1);
  return t33;
}, W9 = function(t33) {
  for (var e10 = this.nodes(), r10 = this.edges(), i10 = this.cy(), n10 = WQ(t33), a10 = {}, o10 = 0; o10 < e10.length; o10++) a10[e10[o10].id()] = o10;
  for (var s10, l10 = e10.length, h10 = l10 * l10, u10 = Array(h10), d10 = 0; d10 < h10; d10++) u10[d10] = 0;
  for (var p10 = 0; p10 < r10.length; p10++) {
    var g10 = r10[p10], f10 = a10[g10.source().id()], y10 = a10[g10.target().id()], v10 = WJ(g10, n10.attributes);
    u10[f10 * l10 + y10] += v10, u10[y10 * l10 + f10] += v10;
  }
  W0(u10, l10, n10.multFactor), W1(u10, l10);
  for (var x10 = true, b10 = 0; x10 && b10 < n10.maxIterations; ) x10 = false, W3(u10 = W5(s10 = W4(u10, l10, n10.expandFactor), l10, n10.inflateFactor), s10, h10, 4) || (x10 = true), b10++;
  return W8(W6(u10, l10, e10, i10));
}, Vt = function(t33) {
  return t33;
}, Ve = function(t33, e10) {
  return Math.abs(e10 - t33);
}, Vr = function(t33, e10, r10) {
  return t33 + Ve(e10, r10);
}, Vi = function(t33, e10, r10) {
  return t33 + Math.pow(r10 - e10, 2);
}, Vn = function(t33) {
  return Math.sqrt(t33);
}, Va = function(t33, e10, r10) {
  return Math.max(t33, Ve(e10, r10));
}, Vo = function(t33, e10, r10, i10, n10) {
  for (var a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : Vt, o10 = i10, s10 = 0; s10 < t33; s10++) o10 = n10(o10, e10(s10), r10(s10));
  return a10(o10);
}, Vs = { euclidean: function(t33, e10, r10) {
  return t33 >= 2 ? Vo(t33, e10, r10, 0, Vi, Vn) : Vo(t33, e10, r10, 0, Vr);
}, squaredEuclidean: function(t33, e10, r10) {
  return Vo(t33, e10, r10, 0, Vi);
}, manhattan: function(t33, e10, r10) {
  return Vo(t33, e10, r10, 0, Vr);
}, max: function(t33, e10, r10) {
  return Vo(t33, e10, r10, -1 / 0, Va);
} };
function Vl(t33, e10, r10, i10, n10, a10) {
  var o10;
  return (o10 = Hd(t33) ? t33 : Vs[t33] || Vs.euclidean, 0 === e10 && Hd(t33)) ? o10(n10, a10) : o10(e10, r10, i10, n10, a10);
}
Vs["squared-euclidean"] = Vs.squaredEuclidean, Vs.squaredeuclidean = Vs.squaredEuclidean;
var Vh = jD({ k: 2, m: 2, sensitivityThreshold: 1e-4, distance: "euclidean", maxIterations: 10, attributes: [], testMode: false, testCentroids: null }), Vc = function(t33) {
  return Vh(t33);
}, Vu = function(t33, e10, r10, i10, n10) {
  var a10 = "kMedoids" !== n10 ? function(t34) {
    return r10[t34];
  } : function(t34) {
    return i10[t34](r10);
  };
  return Vl(t33, i10.length, a10, function(t34) {
    return i10[t34](e10);
  }, r10, e10);
}, Vd = function(t33, e10, r10) {
  for (var i10 = r10.length, n10 = Array(i10), a10 = Array(i10), o10 = Array(e10), s10 = null, l10 = 0; l10 < i10; l10++) n10[l10] = t33.min(r10[l10]).value, a10[l10] = t33.max(r10[l10]).value;
  for (var h10 = 0; h10 < e10; h10++) {
    s10 = [];
    for (var u10 = 0; u10 < i10; u10++) s10[u10] = Math.random() * (a10[u10] - n10[u10]) + n10[u10];
    o10[h10] = s10;
  }
  return o10;
}, Vp = function(t33, e10, r10, i10, n10) {
  for (var a10 = 1 / 0, o10 = 0, s10 = 0; s10 < e10.length; s10++) {
    var l10 = Vu(r10, t33, e10[s10], i10, n10);
    l10 < a10 && (a10 = l10, o10 = s10);
  }
  return o10;
}, Vg = function(t33, e10, r10) {
  for (var i10 = [], n10 = null, a10 = 0; a10 < e10.length; a10++) r10[(n10 = e10[a10]).id()] === t33 && i10.push(n10);
  return i10;
}, Vf = function(t33, e10, r10) {
  for (var i10 = 0; i10 < t33.length; i10++) for (var n10 = 0; n10 < t33[i10].length; n10++) if (Math.abs(t33[i10][n10] - e10[i10][n10]) > r10) return false;
  return true;
}, Vm = function(t33, e10, r10) {
  for (var i10 = 0; i10 < r10; i10++) if (t33 === e10[i10]) return true;
  return false;
}, Vy = function(t33, e10) {
  var r10 = Array(e10);
  if (t33.length < 50) for (var i10 = 0; i10 < e10; i10++) {
    for (var n10 = t33[Math.floor(Math.random() * t33.length)]; Vm(n10, r10, i10); ) n10 = t33[Math.floor(Math.random() * t33.length)];
    r10[i10] = n10;
  }
  else for (var a10 = 0; a10 < e10; a10++) r10[a10] = t33[Math.floor(Math.random() * t33.length)];
  return r10;
}, Vv = function(t33, e10, r10) {
  for (var i10 = 0, n10 = 0; n10 < e10.length; n10++) i10 += Vu("manhattan", e10[n10], t33, r10, "kMedoids");
  return i10;
}, Vx = function(t33, e10, r10, i10, n10) {
  for (var a10, o10, s10 = 0; s10 < e10.length; s10++) for (var l10 = 0; l10 < t33.length; l10++) i10[s10][l10] = Math.pow(r10[s10][l10], n10.m);
  for (var h10 = 0; h10 < t33.length; h10++) for (var u10 = 0; u10 < n10.attributes.length; u10++) {
    a10 = 0, o10 = 0;
    for (var d10 = 0; d10 < e10.length; d10++) a10 += i10[d10][h10] * n10.attributes[u10](e10[d10]), o10 += i10[d10][h10];
    t33[h10][u10] = a10 / o10;
  }
}, Vb = function(t33, e10, r10, i10, n10) {
  for (var a10, o10 = 0; o10 < t33.length; o10++) e10[o10] = t33[o10].slice();
  for (var s10 = 2 / (n10.m - 1), l10 = 0; l10 < r10.length; l10++) for (var h10 = 0; h10 < i10.length; h10++) {
    a10 = 0;
    for (var u10 = 0; u10 < r10.length; u10++) a10 += Math.pow(Vu(n10.distance, i10[h10], r10[l10], n10.attributes, "cmeans") / Vu(n10.distance, i10[h10], r10[u10], n10.attributes, "cmeans"), s10);
    t33[h10][l10] = 1 / a10;
  }
}, Vw = function(t33, e10, r10, i10) {
  for (var n10, a10, o10 = Array(r10.k), s10 = 0; s10 < o10.length; s10++) o10[s10] = [];
  for (var l10 = 0; l10 < e10.length; l10++) {
    n10 = -1 / 0, a10 = -1;
    for (var h10 = 0; h10 < e10[0].length; h10++) e10[l10][h10] > n10 && (n10 = e10[l10][h10], a10 = h10);
    o10[a10].push(t33[l10]);
  }
  for (var u10 = 0; u10 < o10.length; u10++) o10[u10] = i10.collection(o10[u10]);
  return o10;
}, Vk = function(t33) {
  var e10, r10, i10, n10, a10 = this.cy(), o10 = this.nodes(), s10 = Vc(t33);
  i10 = Array(o10.length);
  for (var l10 = 0; l10 < o10.length; l10++) i10[l10] = Array(s10.k);
  r10 = Array(o10.length);
  for (var h10 = 0; h10 < o10.length; h10++) r10[h10] = Array(s10.k);
  for (var u10 = 0; u10 < o10.length; u10++) {
    for (var d10 = 0, p10 = 0; p10 < s10.k; p10++) r10[u10][p10] = Math.random(), d10 += r10[u10][p10];
    for (var g10 = 0; g10 < s10.k; g10++) r10[u10][g10] = r10[u10][g10] / d10;
  }
  e10 = Array(s10.k);
  for (var f10 = 0; f10 < s10.k; f10++) e10[f10] = Array(s10.attributes.length);
  n10 = Array(o10.length);
  for (var y10 = 0; y10 < o10.length; y10++) n10[y10] = Array(s10.k);
  for (var v10 = true, x10 = 0; v10 && x10 < s10.maxIterations; ) v10 = false, Vx(e10, o10, r10, n10, s10), Vb(r10, i10, e10, o10, s10), Vf(r10, i10, s10.sensitivityThreshold) || (v10 = true), x10++;
  return { clusters: Vw(o10, r10, s10, a10), degreeOfMembership: r10 };
}, V_ = jD({ distance: "euclidean", linkage: "min", mode: "threshold", threshold: 1 / 0, addDendrogram: false, dendrogramDepth: 0, attributes: [] }), VT = { single: "min", complete: "max" }, VE = function(t33) {
  var e10 = V_(t33), r10 = VT[e10.linkage];
  return null != r10 && (e10.linkage = r10), e10;
}, VC = function(t33, e10, r10, i10, n10) {
  for (var a10, o10, s10 = 0, l10 = 1 / 0, h10 = n10.attributes, u10 = function(t34, e11) {
    return Vl(n10.distance, h10.length, function(e12) {
      return h10[e12](t34);
    }, function(t35) {
      return h10[t35](e11);
    }, t34, e11);
  }, d10 = 0; d10 < t33.length; d10++) {
    var p10 = t33[d10].key, g10 = r10[p10][i10[p10]];
    g10 < l10 && (s10 = p10, l10 = g10);
  }
  if ("threshold" === n10.mode && l10 >= n10.threshold || "dendrogram" === n10.mode && 1 === t33.length) return false;
  var f10 = e10[s10], y10 = e10[i10[s10]];
  o10 = "dendrogram" === n10.mode ? { left: f10, right: y10, key: f10.key } : { value: f10.value.concat(y10.value), key: f10.key }, t33[f10.index] = o10, t33.splice(y10.index, 1), e10[f10.key] = o10;
  for (var v10 = 0; v10 < t33.length; v10++) {
    var x10 = t33[v10];
    f10.key === x10.key ? a10 = 1 / 0 : "min" === n10.linkage ? (a10 = r10[f10.key][x10.key], r10[f10.key][x10.key] > r10[y10.key][x10.key] && (a10 = r10[y10.key][x10.key])) : "max" === n10.linkage ? (a10 = r10[f10.key][x10.key], r10[f10.key][x10.key] < r10[y10.key][x10.key] && (a10 = r10[y10.key][x10.key])) : a10 = "mean" === n10.linkage ? (r10[f10.key][x10.key] * f10.size + r10[y10.key][x10.key] * y10.size) / (f10.size + y10.size) : "dendrogram" === n10.mode ? u10(x10.value, f10.value) : u10(x10.value[0], f10.value[0]), r10[f10.key][x10.key] = r10[x10.key][f10.key] = a10;
  }
  for (var b10 = 0; b10 < t33.length; b10++) {
    var w10 = t33[b10].key;
    if (i10[w10] === f10.key || i10[w10] === y10.key) {
      for (var k10 = w10, _10 = 0; _10 < t33.length; _10++) {
        var T10 = t33[_10].key;
        r10[w10][T10] < r10[w10][k10] && (k10 = T10);
      }
      i10[w10] = k10;
    }
    t33[b10].index = b10;
  }
  return f10.key = y10.key = f10.index = y10.index = null, true;
}, VS = function t23(e10, r10, i10) {
  e10 && (e10.value ? r10.push(e10.value) : (e10.left && t23(e10.left, r10), e10.right && t23(e10.right, r10)));
}, VA = function t24(e10, r10) {
  if (!e10) return "";
  if (e10.left && e10.right) {
    var i10 = t24(e10.left, r10), n10 = t24(e10.right, r10), a10 = r10.add({ group: "nodes", data: { id: i10 + "," + n10 } });
    return r10.add({ group: "edges", data: { source: i10, target: a10.id() } }), r10.add({ group: "edges", data: { source: n10, target: a10.id() } }), a10.id();
  }
  if (e10.value) return e10.value.id();
}, VL = function t25(e10, r10, i10) {
  if (!e10) return [];
  var n10 = [], a10 = [], o10 = [];
  return 0 === r10 ? (e10.left && VS(e10.left, n10), e10.right && VS(e10.right, a10), o10 = n10.concat(a10), [i10.collection(o10)]) : 1 === r10 ? e10.value ? [i10.collection(e10.value)] : (e10.left && VS(e10.left, n10), e10.right && VS(e10.right, a10), [i10.collection(n10), i10.collection(a10)]) : e10.value ? [i10.collection(e10.value)] : (e10.left && (n10 = t25(e10.left, r10 - 1, i10)), e10.right && (a10 = t25(e10.right, r10 - 1, i10)), n10.concat(a10));
}, VN = function(t33) {
  for (var e10, r10 = this.cy(), i10 = this.nodes(), n10 = VE(t33), a10 = n10.attributes, o10 = function(t34, e11) {
    return Vl(n10.distance, a10.length, function(e12) {
      return a10[e12](t34);
    }, function(t35) {
      return a10[t35](e11);
    }, t34, e11);
  }, s10 = [], l10 = [], h10 = [], u10 = [], d10 = 0; d10 < i10.length; d10++) {
    var p10 = { value: "dendrogram" === n10.mode ? i10[d10] : [i10[d10]], key: d10, index: d10 };
    s10[d10] = p10, u10[d10] = p10, l10[d10] = [], h10[d10] = 0;
  }
  for (var g10 = 0; g10 < s10.length; g10++) for (var f10 = 0; f10 <= g10; f10++) {
    var y10 = void 0;
    y10 = "dendrogram" === n10.mode ? g10 === f10 ? 1 / 0 : o10(s10[g10].value, s10[f10].value) : g10 === f10 ? 1 / 0 : o10(s10[g10].value[0], s10[f10].value[0]), l10[g10][f10] = y10, l10[f10][g10] = y10, y10 < l10[g10][h10[g10]] && (h10[g10] = f10);
  }
  for (var v10 = VC(s10, u10, l10, h10, n10); v10; ) v10 = VC(s10, u10, l10, h10, n10);
  return "dendrogram" === n10.mode ? (e10 = VL(s10[0], n10.dendrogramDepth, r10), n10.addDendrogram && VA(s10[0], r10)) : (e10 = Array(s10.length), s10.forEach(function(t34, i11) {
    t34.key = t34.index = null, e10[i11] = r10.collection(t34.value);
  })), e10;
}, VI = jD({ distance: "euclidean", preference: "median", damping: 0.8, maxIterations: 1e3, minIterations: 100, attributes: [] }), VM = function(t33) {
  var e10 = t33.damping, r10 = t33.preference;
  0.5 <= e10 && e10 < 1 || jS("Damping must range on [0.5, 1).  Got: ".concat(e10));
  var i10 = ["median", "mean", "min", "max"];
  return i10.some(function(t34) {
    return t34 === r10;
  }) || Hf(r10) || jS("Preference must be one of [".concat(i10.map(function(t34) {
    return "'".concat(t34, "'");
  }).join(", "), "] or a number.  Got: ").concat(r10)), VI(t33);
}, VR = function(t33, e10, r10, i10) {
  var n10 = function(t34, e11) {
    return i10[e11](t34);
  };
  return -Vl(t33, i10.length, function(t34) {
    return n10(e10, t34);
  }, function(t34) {
    return n10(r10, t34);
  }, e10, r10);
}, VD = function(t33, e10, r10) {
  for (var i10 = [], n10 = 0; n10 < t33; n10++) e10[n10 * t33 + n10] + r10[n10 * t33 + n10] > 0 && i10.push(n10);
  return i10;
}, VO = function(t33, e10, r10) {
  for (var i10 = [], n10 = 0; n10 < t33; n10++) {
    for (var a10 = -1, o10 = -1 / 0, s10 = 0; s10 < r10.length; s10++) {
      var l10 = r10[s10];
      e10[n10 * t33 + l10] > o10 && (a10 = l10, o10 = e10[n10 * t33 + l10]);
    }
    a10 > 0 && i10.push(a10);
  }
  for (var h10 = 0; h10 < r10.length; h10++) i10[r10[h10]] = r10[h10];
  return i10;
}, VP = function(t33, e10, r10) {
  for (var i10 = VO(t33, e10, r10), n10 = 0; n10 < r10.length; n10++) {
    for (var a10 = [], o10 = 0; o10 < i10.length; o10++) i10[o10] === r10[n10] && a10.push(o10);
    for (var s10 = -1, l10 = -1 / 0, h10 = 0; h10 < a10.length; h10++) {
      for (var u10 = 0, d10 = 0; d10 < a10.length; d10++) u10 += e10[a10[d10] * t33 + a10[h10]];
      u10 > l10 && (s10 = h10, l10 = u10);
    }
    r10[n10] = a10[s10];
  }
  return VO(t33, e10, r10);
}, V$ = function(t33) {
  for (var e10, r10, i10, n10, a10, o10, s10, l10, h10, u10 = this.cy(), d10 = this.nodes(), p10 = VM(t33), g10 = {}, f10 = 0; f10 < d10.length; f10++) g10[d10[f10].id()] = f10;
  a10 = Array(n10 = (i10 = d10.length) * i10);
  for (var y10 = 0; y10 < n10; y10++) a10[y10] = -1 / 0;
  for (var v10 = 0; v10 < i10; v10++) for (var x10 = 0; x10 < i10; x10++) v10 !== x10 && (a10[v10 * i10 + x10] = VR(p10.distance, d10[v10], d10[x10], p10.attributes));
  e10 = a10, o10 = "median" === (r10 = p10.preference) ? j7(e10) : "mean" === r10 ? j6(e10) : "min" === r10 ? j5(e10) : "max" === r10 ? j3(e10) : r10;
  for (var b10 = 0; b10 < i10; b10++) a10[b10 * i10 + b10] = o10;
  s10 = Array(n10);
  for (var w10 = 0; w10 < n10; w10++) s10[w10] = 0;
  l10 = Array(n10);
  for (var k10 = 0; k10 < n10; k10++) l10[k10] = 0;
  for (var _10 = Array(i10), T10 = Array(i10), E10 = Array(i10), C10 = 0; C10 < i10; C10++) _10[C10] = 0, T10[C10] = 0, E10[C10] = 0;
  for (var S10 = Array(i10 * p10.minIterations), A10 = 0; A10 < S10.length; A10++) S10[A10] = 0;
  for (h10 = 0; h10 < p10.maxIterations; h10++) {
    for (var L10 = 0; L10 < i10; L10++) {
      for (var N10 = -1 / 0, I10 = -1 / 0, M10 = -1, R10 = 0, D10 = 0; D10 < i10; D10++) _10[D10] = s10[L10 * i10 + D10], (R10 = l10[L10 * i10 + D10] + a10[L10 * i10 + D10]) >= N10 ? (I10 = N10, N10 = R10, M10 = D10) : R10 > I10 && (I10 = R10);
      for (var O10 = 0; O10 < i10; O10++) s10[L10 * i10 + O10] = (1 - p10.damping) * (a10[L10 * i10 + O10] - N10) + p10.damping * _10[O10];
      s10[L10 * i10 + M10] = (1 - p10.damping) * (a10[L10 * i10 + M10] - I10) + p10.damping * _10[M10];
    }
    for (var P10 = 0; P10 < i10; P10++) {
      for (var $10 = 0, B10 = 0; B10 < i10; B10++) _10[B10] = l10[B10 * i10 + P10], T10[B10] = Math.max(0, s10[B10 * i10 + P10]), $10 += T10[B10];
      $10 -= T10[P10], T10[P10] = s10[P10 * i10 + P10], $10 += T10[P10];
      for (var F10 = 0; F10 < i10; F10++) l10[F10 * i10 + P10] = (1 - p10.damping) * Math.min(0, $10 - T10[F10]) + p10.damping * _10[F10];
      l10[P10 * i10 + P10] = (1 - p10.damping) * ($10 - T10[P10]) + p10.damping * _10[P10];
    }
    for (var z10 = 0, U10 = 0; U10 < i10; U10++) {
      var G10 = l10[U10 * i10 + U10] + s10[U10 * i10 + U10] > 0 ? 1 : 0;
      S10[h10 % p10.minIterations * i10 + U10] = G10, z10 += G10;
    }
    if (z10 > 0 && (h10 >= p10.minIterations - 1 || h10 == p10.maxIterations - 1)) {
      for (var q10 = 0, Y10 = 0; Y10 < i10; Y10++) {
        E10[Y10] = 0;
        for (var H10 = 0; H10 < p10.minIterations; H10++) E10[Y10] += S10[H10 * i10 + Y10];
        (0 === E10[Y10] || E10[Y10] === p10.minIterations) && q10++;
      }
      if (q10 === i10) break;
    }
  }
  for (var j10 = VD(i10, s10, l10), W10 = VP(i10, a10, j10), V10 = {}, X10 = 0; X10 < j10.length; X10++) V10[j10[X10]] = [];
  for (var K10 = 0; K10 < d10.length; K10++) {
    var Z10 = W10[g10[d10[K10].id()]];
    null != Z10 && V10[Z10].push(d10[K10]);
  }
  for (var Q10 = Array(j10.length), J10 = 0; J10 < j10.length; J10++) Q10[J10] = u10.collection(V10[j10[J10]]);
  return Q10;
}, VB = jD({ root: void 0, directed: false }), VF = function() {
  var t33 = this, e10 = {}, r10 = 0, i10 = 0, n10 = [], a10 = [], o10 = {}, s10 = function(r11, i11) {
    for (var o11 = a10.length - 1, s11 = [], l11 = t33.spawn(); a10[o11].x != r11 || a10[o11].y != i11; ) s11.push(a10.pop().edge), o11--;
    s11.push(a10.pop().edge), s11.forEach(function(r12) {
      var i12 = r12.connectedNodes().intersection(t33);
      l11.merge(r12), i12.forEach(function(r13) {
        var i13 = r13.id(), n11 = r13.connectedEdges().intersection(t33);
        l11.merge(r13), e10[i13].cutVertex ? l11.merge(n11.filter(function(t34) {
          return t34.isLoop();
        })) : l11.merge(n11);
      });
    }), n10.push(l11);
  }, l10 = function l11(h11, u10, d10) {
    h11 === d10 && (i10 += 1), e10[u10] = { id: r10, low: r10++, cutVertex: false };
    var p10, g10, f10, y10, v10 = t33.getElementById(u10).connectedEdges().intersection(t33);
    0 === v10.size() ? n10.push(t33.spawn(t33.getElementById(u10))) : v10.forEach(function(t34) {
      p10 = t34.source().id(), g10 = t34.target().id(), (f10 = p10 === u10 ? g10 : p10) !== d10 && (o10[y10 = t34.id()] || (o10[y10] = true, a10.push({ x: u10, y: f10, edge: t34 })), f10 in e10 ? e10[u10].low = Math.min(e10[u10].low, e10[f10].id) : (l11(h11, f10, u10), e10[u10].low = Math.min(e10[u10].low, e10[f10].low), e10[u10].id <= e10[f10].low && (e10[u10].cutVertex = true, s10(u10, f10))));
    });
  };
  t33.forEach(function(t34) {
    if (t34.isNode()) {
      var r11 = t34.id();
      r11 in e10 || (i10 = 0, l10(r11, r11), e10[r11].cutVertex = i10 > 1);
    }
  });
  var h10 = Object.keys(e10).filter(function(t34) {
    return e10[t34].cutVertex;
  }).map(function(e11) {
    return t33.getElementById(e11);
  });
  return { cut: t33.spawn(h10), components: n10 };
}, Vz = function() {
  var t33 = this, e10 = {}, r10 = 0, i10 = [], n10 = [], a10 = t33.spawn(t33), o10 = function o11(s10) {
    if (n10.push(s10), e10[s10] = { index: r10, low: r10++, explored: false }, t33.getElementById(s10).connectedEdges().intersection(t33).forEach(function(t34) {
      var r11 = t34.target().id();
      r11 === s10 || (r11 in e10 || o11(r11), e10[r11].explored || (e10[s10].low = Math.min(e10[s10].low, e10[r11].low)));
    }), e10[s10].index === e10[s10].low) {
      for (var l10 = t33.spawn(); ; ) {
        var h10 = n10.pop();
        if (l10.merge(t33.getElementById(h10)), e10[h10].low = e10[s10].index, e10[h10].explored = true, h10 === s10) break;
      }
      var u10 = l10.edgesWith(l10), d10 = l10.merge(u10);
      i10.push(d10), a10 = a10.difference(d10);
    }
  };
  return t33.forEach(function(t34) {
    if (t34.isNode()) {
      var r11 = t34.id();
      r11 in e10 || o10(r11);
    }
  }), { cut: a10, components: i10 };
}, VU = {};
[jj, { dijkstra: function(t33) {
  if (!Hg(t33)) {
    var e10 = arguments;
    t33 = { root: e10[0], weight: e10[1], directed: e10[2] };
  }
  var r10 = jV(t33), i10 = r10.root, n10 = r10.weight, a10 = r10.directed, o10 = this, s10 = Hu(i10) ? this.filter(i10)[0] : i10[0], l10 = {}, h10 = {}, u10 = {}, d10 = this.byGroup(), p10 = d10.nodes, g10 = d10.edges;
  g10.unmergeBy(function(t34) {
    return t34.isLoop();
  });
  for (var f10 = function(t34) {
    return l10[t34.id()];
  }, y10 = new jW(function(t34, e11) {
    return f10(t34) - f10(e11);
  }), v10 = 0; v10 < p10.length; v10++) {
    var x10 = p10[v10];
    l10[x10.id()] = x10.same(s10) ? 0 : 1 / 0, y10.push(x10);
  }
  for (; y10.size() > 0; ) {
    var b10 = y10.pop(), w10 = f10(b10);
    if (u10[b10.id()] = w10, w10 !== 1 / 0) for (var k10 = b10.neighborhood().intersect(p10), _10 = 0; _10 < k10.length; _10++) {
      var T10 = k10[_10], E10 = T10.id(), C10 = function(t34, e11) {
        for (var r11, i11 = (a10 ? t34.edgesTo(e11) : t34.edgesWith(e11)).intersect(g10), o11 = 1 / 0, s11 = 0; s11 < i11.length; s11++) {
          var l11 = i11[s11], h11 = n10(l11);
          (h11 < o11 || !r11) && (o11 = h11, r11 = l11);
        }
        return { edge: r11, dist: o11 };
      }(b10, T10), S10 = w10 + C10.dist;
      S10 < f10(T10) && (l10[T10.id()] = S10, y10.updateItem(T10), h10[E10] = { node: b10, edge: C10.edge });
    }
  }
  return { distanceTo: function(t34) {
    return u10[(Hu(t34) ? p10.filter(t34)[0] : t34[0]).id()];
  }, pathTo: function(t34) {
    var e11 = Hu(t34) ? p10.filter(t34)[0] : t34[0], r11 = [], i11 = e11, n11 = i11.id();
    if (e11.length > 0) for (r11.unshift(e11); h10[n11]; ) {
      var a11 = h10[n11];
      r11.unshift(a11.edge), r11.unshift(a11.node), n11 = (i11 = a11.node).id();
    }
    return o10.spawn(r11);
  } };
} }, { kruskal: function(t33) {
  t33 = t33 || function(t34) {
    return 1;
  };
  for (var e10 = this.byGroup(), r10 = e10.nodes, i10 = e10.edges, n10 = r10.length, a10 = Array(n10), o10 = function(t34) {
    for (var e11 = 0; e11 < a10.length; e11++) if (a10[e11].has(t34)) return e11;
  }, s10 = 0; s10 < n10; s10++) a10[s10] = this.spawn(r10[s10]);
  for (var l10 = i10.sort(function(e11, r11) {
    return t33(e11) - t33(r11);
  }), h10 = 0; h10 < l10.length; h10++) {
    var u10 = l10[h10], d10 = u10.source()[0], p10 = u10.target()[0], g10 = o10(d10), f10 = o10(p10), y10 = a10[g10], v10 = a10[f10];
    g10 !== f10 && (r10.merge(u10), y10.merge(v10), a10.splice(f10, 1));
  }
  return r10;
} }, { aStar: function(t33) {
  var e10, r10, i10 = this.cy(), n10 = jX(t33), a10 = n10.root, o10 = n10.goal, s10 = n10.heuristic, l10 = n10.directed, h10 = n10.weight;
  a10 = i10.collection(a10)[0], o10 = i10.collection(o10)[0];
  var u10 = a10.id(), d10 = o10.id(), p10 = {}, g10 = {}, f10 = {}, y10 = new jW(function(t34, e11) {
    return g10[t34.id()] - g10[e11.id()];
  }), v10 = new jq(), x10 = {}, b10 = {}, w10 = function(t34, e11) {
    y10.push(t34), v10.add(e11);
  };
  w10(a10, u10), p10[u10] = 0, g10[u10] = s10(a10);
  for (var k10 = 0; y10.size() > 0; ) {
    if (r10 = (e10 = y10.pop()).id(), v10.delete(r10), k10++, r10 === d10) {
      for (var _10 = [], T10 = o10, E10 = d10, C10 = b10[E10]; _10.unshift(T10), null != C10 && _10.unshift(C10), null != (T10 = x10[E10]); ) C10 = b10[E10 = T10.id()];
      return { found: true, distance: p10[r10], path: this.spawn(_10), steps: k10 };
    }
    f10[r10] = true;
    for (var S10 = e10._private.edges, A10 = 0; A10 < S10.length; A10++) {
      var L10 = S10[A10];
      if (this.hasElementWithId(L10.id()) && (!l10 || L10.data("source") === r10)) {
        var N10 = L10.source(), I10 = L10.target(), M10 = N10.id() !== r10 ? N10 : I10, R10 = M10.id();
        if (this.hasElementWithId(R10) && !f10[R10]) {
          var D10 = p10[r10] + h10(L10);
          if (!v10.has(R10)) {
            p10[R10] = D10, g10[R10] = D10 + s10(M10), w10(M10, R10), x10[R10] = e10, b10[R10] = L10;
            continue;
          }
          D10 < p10[R10] && (p10[R10] = D10, g10[R10] = D10 + s10(M10), x10[R10] = e10, b10[R10] = L10);
        }
      }
    }
  }
  return { found: false, distance: void 0, path: void 0, steps: k10 };
} }, { floydWarshall: function(t33) {
  for (var e10 = this.cy(), r10 = jK(t33), i10 = r10.weight, n10 = r10.directed, a10 = this.byGroup(), o10 = a10.nodes, s10 = a10.edges, l10 = o10.length, h10 = l10 * l10, u10 = function(t34) {
    return o10.indexOf(t34);
  }, d10 = function(t34) {
    return o10[t34];
  }, p10 = Array(h10), g10 = 0; g10 < h10; g10++) {
    var f10 = g10 % l10;
    (g10 - f10) / l10 === f10 ? p10[g10] = 0 : p10[g10] = 1 / 0;
  }
  for (var y10 = Array(h10), v10 = Array(h10), x10 = 0; x10 < s10.length; x10++) {
    var b10 = s10[x10], w10 = b10.source()[0], k10 = b10.target()[0];
    if (w10 !== k10) {
      var _10 = u10(w10), T10 = u10(k10), E10 = _10 * l10 + T10, C10 = i10(b10);
      if (p10[E10] > C10 && (p10[E10] = C10, y10[E10] = T10, v10[E10] = b10), !n10) {
        var S10 = T10 * l10 + _10;
        !n10 && p10[S10] > C10 && (p10[S10] = C10, y10[S10] = _10, v10[S10] = b10);
      }
    }
  }
  for (var A10 = 0; A10 < l10; A10++) for (var L10 = 0; L10 < l10; L10++) for (var N10 = L10 * l10 + A10, I10 = 0; I10 < l10; I10++) {
    var M10 = L10 * l10 + I10, R10 = A10 * l10 + I10;
    p10[N10] + p10[R10] < p10[M10] && (p10[M10] = p10[N10] + p10[R10], y10[M10] = y10[N10]);
  }
  var D10 = function(t34) {
    return u10((Hu(t34) ? e10.filter(t34) : t34)[0]);
  };
  return { distance: function(t34, e11) {
    return p10[D10(t34) * l10 + D10(e11)];
  }, path: function(t34, r11) {
    var i11, n11 = D10(t34), a11 = D10(r11), o11 = d10(n11);
    if (n11 === a11) return o11.collection();
    if (null == y10[n11 * l10 + a11]) return e10.collection();
    var s11 = e10.collection(), h11 = n11;
    for (s11.merge(o11); n11 !== a11; ) h11 = n11, n11 = y10[n11 * l10 + a11], i11 = v10[h11 * l10 + n11], s11.merge(i11), s11.merge(d10(n11));
    return s11;
  } };
} }, { bellmanFord: function(t33) {
  var e10 = this, r10 = jZ(t33), i10 = r10.weight, n10 = r10.directed, a10 = r10.root, o10 = this, s10 = this.cy(), l10 = this.byGroup(), h10 = l10.edges, u10 = l10.nodes, d10 = u10.length, p10 = new jU(), g10 = false, f10 = [];
  a10 = s10.collection(a10)[0], h10.unmergeBy(function(t34) {
    return t34.isLoop();
  });
  for (var y10 = h10.length, v10 = function(t34) {
    var e11 = p10.get(t34.id());
    return e11 || (e11 = {}, p10.set(t34.id(), e11)), e11;
  }, x10 = function(t34) {
    return (Hu(t34) ? s10.$(t34) : t34)[0];
  }, b10 = 0; b10 < d10; b10++) {
    var w10 = u10[b10], k10 = v10(w10);
    w10.same(a10) ? k10.dist = 0 : k10.dist = 1 / 0, k10.pred = null, k10.edge = null;
  }
  for (var _10 = false, T10 = function(t34, e11, r11, i11, n11, a11) {
    var o11 = i11.dist + a11;
    o11 < n11.dist && !r11.same(i11.edge) && (n11.dist = o11, n11.pred = t34, n11.edge = r11, _10 = true);
  }, E10 = 1; E10 < d10; E10++) {
    _10 = false;
    for (var C10 = 0; C10 < y10; C10++) {
      var S10 = h10[C10], A10 = S10.source(), L10 = S10.target(), N10 = i10(S10), I10 = v10(A10), M10 = v10(L10);
      T10(A10, L10, S10, I10, M10, N10), n10 || T10(L10, A10, S10, M10, I10, N10);
    }
    if (!_10) break;
  }
  if (_10) for (var R10 = [], D10 = 0; D10 < y10; D10++) {
    var O10 = h10[D10], P10 = O10.source(), $10 = O10.target(), B10 = i10(O10), F10 = v10(P10).dist, z10 = v10($10).dist;
    if (F10 + B10 < z10 || !n10 && z10 + B10 < F10) {
      if (g10 || (jL("Graph contains a negative weight cycle for Bellman-Ford"), g10 = true), false !== t33.findNegativeWeightCycles) {
        var U10 = [];
        F10 + B10 < z10 && U10.push(P10), !n10 && z10 + B10 < F10 && U10.push($10);
        for (var G10 = U10.length, q10 = 0; q10 < G10; q10++) {
          var Y10 = U10[q10], H10 = [Y10];
          H10.push(v10(Y10).edge);
          for (var j10 = v10(Y10).pred; -1 === H10.indexOf(j10); ) H10.push(j10), H10.push(v10(j10).edge), j10 = v10(j10).pred;
          for (var W10 = (H10 = H10.slice(H10.indexOf(j10)))[0].id(), V10 = 0, X10 = 2; X10 < H10.length; X10 += 2) H10[X10].id() < W10 && (W10 = H10[X10].id(), V10 = X10);
          (H10 = H10.slice(V10).concat(H10.slice(0, V10))).push(H10[0]);
          var K10 = H10.map(function(t34) {
            return t34.id();
          }).join(",");
          -1 === R10.indexOf(K10) && (f10.push(o10.spawn(H10)), R10.push(K10));
        }
      } else break;
    }
  }
  return { distanceTo: function(t34) {
    return v10(x10(t34)).dist;
  }, pathTo: function(t34) {
    for (var r11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : a10, i11 = x10(t34), n11 = [], s11 = i11; ; ) {
      if (null == s11) return e10.spawn();
      var l11 = v10(s11), h11 = l11.edge, u11 = l11.pred;
      if (n11.unshift(s11[0]), s11.same(r11) && n11.length > 0) break;
      null != h11 && n11.unshift(h11), s11 = u11;
    }
    return o10.spawn(n11);
  }, hasNegativeWeightCycle: g10, negativeWeightCycles: f10 };
} }, { kargerStein: function() {
  var t33 = this, e10 = this.byGroup(), r10 = e10.nodes, i10 = e10.edges;
  i10.unmergeBy(function(t34) {
    return t34.isLoop();
  });
  var n10 = r10.length, a10 = i10.length, o10 = Math.ceil(Math.pow(Math.log(n10) / Math.LN2, 2)), s10 = Math.floor(n10 / jQ);
  if (n10 < 2) {
    jS("At least 2 nodes are required for Karger-Stein algorithm");
    return;
  }
  for (var l10 = [], h10 = 0; h10 < a10; h10++) {
    var u10 = i10[h10];
    l10.push([h10, r10.indexOf(u10.source()), r10.indexOf(u10.target())]);
  }
  for (var d10 = 1 / 0, p10 = [], g10 = Array(n10), f10 = Array(n10), y10 = Array(n10), v10 = function(t34, e11) {
    for (var r11 = 0; r11 < n10; r11++) e11[r11] = t34[r11];
  }, x10 = 0; x10 <= o10; x10++) {
    for (var b10 = 0; b10 < n10; b10++) f10[b10] = b10;
    var w10 = j0(f10, l10.slice(), n10, s10), k10 = w10.slice();
    v10(f10, y10);
    var _10 = j0(f10, w10, s10, 2), T10 = j0(y10, k10, s10, 2);
    _10.length <= T10.length && _10.length < d10 ? (d10 = _10.length, p10 = _10, v10(f10, g10)) : T10.length <= _10.length && T10.length < d10 && (d10 = T10.length, p10 = T10, v10(y10, g10));
  }
  for (var E10 = this.spawn(p10.map(function(t34) {
    return i10[t34[0]];
  })), C10 = this.spawn(), S10 = this.spawn(), A10 = g10[0], L10 = 0; L10 < g10.length; L10++) {
    var N10 = g10[L10], I10 = r10[L10];
    N10 === A10 ? C10.merge(I10) : S10.merge(I10);
  }
  var M10 = function(e11) {
    var r11 = t33.spawn();
    return e11.forEach(function(e12) {
      r11.merge(e12), e12.connectedEdges().forEach(function(e13) {
        t33.contains(e13) && !E10.contains(e13) && r11.merge(e13);
      });
    }), r11;
  };
  return { cut: E10, components: [M10(C10), M10(S10)], partition1: C10, partition2: S10 };
} }, { pageRank: function(t33) {
  for (var e10, r10 = WH(t33), i10 = r10.dampingFactor, n10 = r10.precision, a10 = r10.iterations, o10 = r10.weight, s10 = this._private.cy, l10 = this.byGroup(), h10 = l10.nodes, u10 = l10.edges, d10 = h10.length, p10 = d10 * d10, g10 = u10.length, f10 = Array(p10), y10 = Array(d10), v10 = (1 - i10) / d10, x10 = 0; x10 < d10; x10++) {
    for (var b10 = 0; b10 < d10; b10++) f10[x10 * d10 + b10] = 0;
    y10[x10] = 0;
  }
  for (var w10 = 0; w10 < g10; w10++) {
    var k10 = u10[w10], _10 = k10.data("source"), T10 = k10.data("target");
    if (_10 !== T10) {
      var E10 = h10.indexOfId(_10), C10 = h10.indexOfId(T10), S10 = o10(k10), A10 = C10 * d10 + E10;
      f10[A10] += S10, y10[E10] += S10;
    }
  }
  for (var L10 = 1 / d10 + v10, N10 = 0; N10 < d10; N10++) if (0 === y10[N10]) for (var I10 = 0; I10 < d10; I10++) f10[I10 * d10 + N10] = L10;
  else for (var M10 = 0; M10 < d10; M10++) {
    var R10 = M10 * d10 + N10;
    f10[R10] = f10[R10] / y10[N10] + v10;
  }
  for (var D10 = Array(d10), O10 = Array(d10), P10 = 0; P10 < d10; P10++) D10[P10] = 1;
  for (var $10 = 0; $10 < a10; $10++) {
    for (var B10 = 0; B10 < d10; B10++) O10[B10] = 0;
    for (var F10 = 0; F10 < d10; F10++) for (var z10 = 0; z10 < d10; z10++) {
      var U10 = F10 * d10 + z10;
      O10[F10] += f10[U10] * D10[z10];
    }
    Wi(O10), e10 = D10, D10 = O10, O10 = e10;
    for (var G10 = 0, q10 = 0; q10 < d10; q10++) {
      var Y10 = e10[q10] - D10[q10];
      G10 += Y10 * Y10;
    }
    if (G10 < n10) break;
  }
  return { rank: function(t34) {
    return t34 = s10.collection(t34)[0], D10[h10.indexOf(t34)];
  } };
} }, WW, WX, WZ, { markovClustering: W9, mcl: W9 }, { kMeans: function(t33) {
  var e10, r10 = this.cy(), i10 = this.nodes(), n10 = null, a10 = Vc(t33), o10 = Array(a10.k), s10 = {};
  a10.testMode ? "number" == typeof a10.testCentroids ? (a10.testCentroids, e10 = Vd(i10, a10.k, a10.attributes)) : e10 = "object" === Y6(a10.testCentroids) ? a10.testCentroids : Vd(i10, a10.k, a10.attributes) : e10 = Vd(i10, a10.k, a10.attributes);
  for (var l10 = true, h10 = 0; l10 && h10 < a10.maxIterations; ) {
    for (var u10 = 0; u10 < i10.length; u10++) s10[(n10 = i10[u10]).id()] = Vp(n10, e10, a10.distance, a10.attributes, "kMeans");
    l10 = false;
    for (var d10 = 0; d10 < a10.k; d10++) {
      var p10 = Vg(d10, i10, s10);
      if (0 !== p10.length) {
        for (var g10 = a10.attributes.length, f10 = e10[d10], y10 = Array(g10), v10 = Array(g10), x10 = 0; x10 < g10; x10++) {
          v10[x10] = 0;
          for (var b10, w10 = 0; w10 < p10.length; w10++) n10 = p10[w10], v10[x10] += a10.attributes[x10](n10);
          y10[x10] = v10[x10] / p10.length, b10 = y10[x10], Math.abs(f10[x10] - b10) <= a10.sensitivityThreshold || (l10 = true);
        }
        e10[d10] = y10, o10[d10] = r10.collection(p10);
      }
    }
    h10++;
  }
  return o10;
}, kMedoids: function(t33) {
  var e10, r10, i10 = this.cy(), n10 = this.nodes(), a10 = null, o10 = Vc(t33), s10 = Array(o10.k), l10 = {}, h10 = Array(o10.k);
  o10.testMode ? "number" == typeof o10.testCentroids || (e10 = "object" === Y6(o10.testCentroids) ? o10.testCentroids : Vy(n10, o10.k)) : e10 = Vy(n10, o10.k);
  for (var u10 = true, d10 = 0; u10 && d10 < o10.maxIterations; ) {
    for (var p10 = 0; p10 < n10.length; p10++) l10[(a10 = n10[p10]).id()] = Vp(a10, e10, o10.distance, o10.attributes, "kMedoids");
    u10 = false;
    for (var g10 = 0; g10 < e10.length; g10++) {
      var f10 = Vg(g10, n10, l10);
      if (0 !== f10.length) {
        h10[g10] = Vv(e10[g10], f10, o10.attributes);
        for (var y10 = 0; y10 < f10.length; y10++) (r10 = Vv(f10[y10], f10, o10.attributes)) < h10[g10] && (h10[g10] = r10, e10[g10] = f10[y10], u10 = true);
        s10[g10] = i10.collection(f10);
      }
    }
    d10++;
  }
  return s10;
}, fuzzyCMeans: Vk, fcm: Vk }, { hierarchicalClustering: VN, hca: VN }, { affinityPropagation: V$, ap: V$ }, { hierholzer: function(t33) {
  if (!Hg(t33)) {
    var e10, r10, i10, n10 = arguments;
    t33 = { root: n10[0], directed: n10[1] };
  }
  var a10 = VB(t33), o10 = a10.root, s10 = a10.directed, l10 = false;
  o10 && (i10 = Hu(o10) ? this.filter(o10)[0].id() : o10[0].id());
  var h10 = {}, u10 = {};
  s10 ? this.forEach(function(t34) {
    var i11 = t34.id();
    if (t34.isNode()) {
      var n11 = t34.indegree(true), a11 = t34.outdegree(true), o11 = n11 - a11, s11 = a11 - n11;
      1 == o11 ? e10 ? l10 = true : e10 = i11 : 1 == s11 ? r10 ? l10 = true : r10 = i11 : (s11 > 1 || o11 > 1) && (l10 = true), h10[i11] = [], t34.outgoers().forEach(function(t35) {
        t35.isEdge() && h10[i11].push(t35.id());
      });
    } else u10[i11] = [void 0, t34.target().id()];
  }) : this.forEach(function(t34) {
    var i11 = t34.id();
    t34.isNode() ? (t34.degree(true) % 2 && (e10 ? r10 ? l10 = true : r10 = i11 : e10 = i11), h10[i11] = [], t34.connectedEdges().forEach(function(t35) {
      return h10[i11].push(t35.id());
    })) : u10[i11] = [t34.source().id(), t34.target().id()];
  });
  var d10 = { found: false, trail: void 0 };
  if (l10) return d10;
  if (r10 && e10) {
    if (s10) {
      if (i10 && r10 != i10) return d10;
      i10 = r10;
    } else {
      if (i10 && r10 != i10 && e10 != i10) return d10;
      i10 || (i10 = r10);
    }
  } else i10 || (i10 = this[0].id());
  var p10 = function(t34) {
    for (var e11, r11, i11, n11 = t34, a11 = [t34]; h10[n11].length; ) r11 = u10[e11 = h10[n11].shift()][0], n11 != (i11 = u10[e11][1]) ? (h10[i11] = h10[i11].filter(function(t35) {
      return t35 != e11;
    }), n11 = i11) : s10 || n11 == r11 || (h10[r11] = h10[r11].filter(function(t35) {
      return t35 != e11;
    }), n11 = r11), a11.unshift(e11), a11.unshift(n11);
    return a11;
  }, g10 = [], f10 = [];
  for (f10 = p10(i10); 1 != f10.length; ) 0 == h10[f10[0]].length ? (g10.unshift(this.getElementById(f10.shift())), g10.unshift(this.getElementById(f10.shift()))) : f10 = p10(f10.shift()).concat(f10);
  for (var y10 in g10.unshift(this.getElementById(f10.shift())), h10) if (h10[y10].length) return d10;
  return d10.found = true, d10.trail = this.spawn(g10, true), d10;
} }, { hopcroftTarjanBiconnected: VF, htbc: VF, htb: VF, hopcroftTarjanBiconnectedComponents: VF }, { tarjanStronglyConnected: Vz, tsc: Vz, tscc: Vz, tarjanStronglyConnectedComponents: Vz }].forEach(function(t33) {
  HO(VU, t33);
});
var VG = function t26(e10) {
  if (!(this instanceof t26)) return new t26(e10);
  this.id = "Thenable/1.0.7", this.state = 0, this.fulfillValue = void 0, this.rejectReason = void 0, this.onFulfilled = [], this.onRejected = [], this.proxy = { then: this.then.bind(this) }, "function" == typeof e10 && e10.call(this, this.fulfill.bind(this), this.reject.bind(this));
};
VG.prototype = { fulfill: function(t33) {
  return Vq(this, 1, "fulfillValue", t33);
}, reject: function(t33) {
  return Vq(this, 2, "rejectReason", t33);
}, then: function(t33, e10) {
  var r10 = new VG();
  return this.onFulfilled.push(Vj(t33, r10, "fulfill")), this.onRejected.push(Vj(e10, r10, "reject")), VY(this), r10.proxy;
} };
var Vq = function(t33, e10, r10, i10) {
  return 0 === t33.state && (t33.state = e10, t33[r10] = i10, VY(t33)), t33;
}, VY = function(t33) {
  1 === t33.state ? VH(t33, "onFulfilled", t33.fulfillValue) : 2 === t33.state && VH(t33, "onRejected", t33.rejectReason);
}, VH = function(t33, e10, r10) {
  if (0 !== t33[e10].length) {
    var i10 = t33[e10];
    t33[e10] = [];
    var n10 = function() {
      for (var t34 = 0; t34 < i10.length; t34++) i10[t34](r10);
    };
    "function" == typeof setImmediate ? setImmediate(n10) : setTimeout(n10, 0);
  }
}, Vj = function(t33, e10, r10) {
  return function(i10) {
    if ("function" != typeof t33) e10[r10].call(e10, i10);
    else {
      var n10;
      try {
        n10 = t33(i10);
      } catch (t34) {
        e10.reject(t34);
        return;
      }
      VW(e10, n10);
    }
  };
}, VW = function t27(e10, r10) {
  if (e10 === r10 || e10.proxy === r10) {
    e10.reject(TypeError("cannot resolve promise with itself"));
    return;
  }
  if ("object" === Y6(r10) && null !== r10 || "function" == typeof r10) try {
    i10 = r10.then;
  } catch (t33) {
    e10.reject(t33);
    return;
  }
  if ("function" == typeof i10) {
    var i10, n10 = false;
    try {
      i10.call(r10, function(i11) {
        n10 || (n10 = true, i11 === r10 ? e10.reject(TypeError("circular thenable chain")) : t27(e10, i11));
      }, function(t33) {
        n10 || (n10 = true, e10.reject(t33));
      });
    } catch (t33) {
      n10 || e10.reject(t33);
    }
    return;
  }
  e10.fulfill(r10);
};
VG.all = function(t33) {
  return new VG(function(e10, r10) {
    for (var i10 = Array(t33.length), n10 = 0, a10 = function(r11, a11) {
      i10[r11] = a11, ++n10 === t33.length && e10(i10);
    }, o10 = 0; o10 < t33.length; o10++) !function(e11) {
      var i11 = t33[e11];
      null != i11 && null != i11.then ? i11.then(function(t34) {
        a10(e11, t34);
      }, function(t34) {
        r10(t34);
      }) : a10(e11, i11);
    }(o10);
  });
}, VG.resolve = function(t33) {
  return new VG(function(e10, r10) {
    e10(t33);
  });
}, VG.reject = function(t33) {
  return new VG(function(e10, r10) {
    r10(t33);
  });
};
var VV = "undefined" != typeof Promise ? Promise : VG, VX = function(t33, e10, r10) {
  var i10 = Hb(t33), n10 = this._private = HO({ duration: 1e3 }, e10, r10);
  if (n10.target = t33, n10.style = n10.style || n10.css, n10.started = false, n10.playing = false, n10.hooked = false, n10.applying = false, n10.progress = 0, n10.completes = [], n10.frames = [], n10.complete && Hd(n10.complete) && n10.completes.push(n10.complete), !i10) {
    var a10 = t33.position();
    n10.startPosition = n10.startPosition || { x: a10.x, y: a10.y }, n10.startStyle = n10.startStyle || t33.cy().style().getAnimationStartStyle(t33, n10.style);
  }
  if (i10) {
    var o10 = t33.pan();
    n10.startPan = { x: o10.x, y: o10.y }, n10.startZoom = t33.zoom();
  }
  this.length = 1, this[0] = this;
}, VK = VX.prototype;
HO(VK, { instanceString: function() {
  return "animation";
}, hook: function() {
  var t33 = this._private;
  if (!t33.hooked) {
    var e10 = t33.target._private.animation;
    (t33.queue ? e10.queue : e10.current).push(this), Hy(t33.target) && t33.target.cy().addToAnimationPool(t33.target), t33.hooked = true;
  }
  return this;
}, play: function() {
  var t33 = this._private;
  return 1 === t33.progress && (t33.progress = 0), t33.playing = true, t33.started = false, t33.stopped = false, this.hook(), this;
}, playing: function() {
  return this._private.playing;
}, apply: function() {
  var t33 = this._private;
  return t33.applying = true, t33.started = false, t33.stopped = false, this.hook(), this;
}, applying: function() {
  return this._private.applying;
}, pause: function() {
  var t33 = this._private;
  return t33.playing = false, t33.started = false, this;
}, stop: function() {
  var t33 = this._private;
  return t33.playing = false, t33.started = false, t33.stopped = true, this;
}, rewind: function() {
  return this.progress(0);
}, fastforward: function() {
  return this.progress(1);
}, time: function(t33) {
  var e10 = this._private;
  return void 0 === t33 ? e10.progress * e10.duration : this.progress(t33 / e10.duration);
}, progress: function(t33) {
  var e10 = this._private, r10 = e10.playing;
  return void 0 === t33 ? e10.progress : (r10 && this.pause(), e10.progress = t33, e10.started = false, r10 && this.play(), this);
}, completed: function() {
  return 1 === this._private.progress;
}, reverse: function() {
  var t33 = this._private, e10 = t33.playing;
  e10 && this.pause(), t33.progress = 1 - t33.progress, t33.started = false;
  var r10 = function(e11, r11) {
    var i11 = t33[e11];
    null != i11 && (t33[e11] = t33[r11], t33[r11] = i11);
  };
  if (r10("zoom", "startZoom"), r10("pan", "startPan"), r10("position", "startPosition"), t33.style) for (var i10 = 0; i10 < t33.style.length; i10++) {
    var n10 = t33.style[i10], a10 = n10.name, o10 = t33.startStyle[a10];
    t33.startStyle[a10] = n10, t33.style[i10] = o10;
  }
  return e10 && this.play(), this;
}, promise: function(t33) {
  var e10, r10 = this._private;
  return e10 = "frame" === t33 ? r10.frames : r10.completes, new VV(function(t34, r11) {
    e10.push(function() {
      t34();
    });
  });
} }), VK.complete = VK.completed, VK.run = VK.play, VK.running = VK.playing;
var VZ = Array.isArray, VQ = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, VJ = /^\w*$/, V0 = function(t33, e10) {
  if (VZ(t33)) return false;
  var r10 = typeof t33;
  return !!("number" == r10 || "symbol" == r10 || "boolean" == r10 || null == t33 || H6(t33)) || VJ.test(t33) || !VQ.test(t33) || null != e10 && t33 in Object(e10);
}, V1 = function(t33) {
  if (!HG(t33)) return false;
  var e10 = H3(t33);
  return "[object Function]" == e10 || "[object GeneratorFunction]" == e10 || "[object AsyncFunction]" == e10 || "[object Proxy]" == e10;
}, V2 = Hj["__core-js_shared__"], V4 = (Jb = /[^.]+$/.exec(V2 && V2.keys && V2.keys.IE_PROTO || "")) ? "Symbol(src)_1." + Jb : "", V5 = Function.prototype.toString, V3 = function(t33) {
  if (null != t33) {
    try {
      return V5.call(t33);
    } catch (t34) {
    }
    try {
      return t33 + "";
    } catch (t34) {
    }
  }
  return "";
}, V6 = /^\[object .+?Constructor\]$/, V7 = Object.prototype, V8 = Function.prototype.toString, V9 = V7.hasOwnProperty, Xt = RegExp("^" + V8.call(V9).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), Xe = function(t33, e10) {
  var r10, i10 = null == t33 ? void 0 : t33[e10];
  return HG(r10 = i10) && (!V4 || !(V4 in r10)) && (V1(r10) ? Xt : V6).test(V3(r10)) ? i10 : void 0;
}, Xr = Xe(Object, "create"), Xi = Object.prototype.hasOwnProperty, Xn = Object.prototype.hasOwnProperty;
function Xa(t33) {
  var e10 = -1, r10 = null == t33 ? 0 : t33.length;
  for (this.clear(); ++e10 < r10; ) {
    var i10 = t33[e10];
    this.set(i10[0], i10[1]);
  }
}
Xa.prototype.clear = function() {
  this.__data__ = Xr ? Xr(null) : {}, this.size = 0;
}, Xa.prototype.delete = function(t33) {
  var e10 = this.has(t33) && delete this.__data__[t33];
  return this.size -= e10 ? 1 : 0, e10;
}, Xa.prototype.get = function(t33) {
  var e10 = this.__data__;
  if (Xr) {
    var r10 = e10[t33];
    return "__lodash_hash_undefined__" === r10 ? void 0 : r10;
  }
  return Xi.call(e10, t33) ? e10[t33] : void 0;
}, Xa.prototype.has = function(t33) {
  var e10 = this.__data__;
  return Xr ? void 0 !== e10[t33] : Xn.call(e10, t33);
}, Xa.prototype.set = function(t33, e10) {
  var r10 = this.__data__;
  return this.size += this.has(t33) ? 0 : 1, r10[t33] = Xr && void 0 === e10 ? "__lodash_hash_undefined__" : e10, this;
};
var Xo = function(t33, e10) {
  return t33 === e10 || t33 != t33 && e10 != e10;
}, Xs = function(t33, e10) {
  for (var r10 = t33.length; r10--; ) if (Xo(t33[r10][0], e10)) return r10;
  return -1;
}, Xl = Array.prototype.splice;
function Xh(t33) {
  var e10 = -1, r10 = null == t33 ? 0 : t33.length;
  for (this.clear(); ++e10 < r10; ) {
    var i10 = t33[e10];
    this.set(i10[0], i10[1]);
  }
}
Xh.prototype.clear = function() {
  this.__data__ = [], this.size = 0;
}, Xh.prototype.delete = function(t33) {
  var e10 = this.__data__, r10 = Xs(e10, t33);
  return !(r10 < 0) && (r10 == e10.length - 1 ? e10.pop() : Xl.call(e10, r10, 1), --this.size, true);
}, Xh.prototype.get = function(t33) {
  var e10 = this.__data__, r10 = Xs(e10, t33);
  return r10 < 0 ? void 0 : e10[r10][1];
}, Xh.prototype.has = function(t33) {
  return Xs(this.__data__, t33) > -1;
}, Xh.prototype.set = function(t33, e10) {
  var r10 = this.__data__, i10 = Xs(r10, t33);
  return i10 < 0 ? (++this.size, r10.push([t33, e10])) : r10[i10][1] = e10, this;
};
var Xc = Xe(Hj, "Map"), Xu = function(t33) {
  var e10 = typeof t33;
  return "string" == e10 || "number" == e10 || "symbol" == e10 || "boolean" == e10 ? "__proto__" !== t33 : null === t33;
}, Xd = function(t33, e10) {
  var r10 = t33.__data__;
  return Xu(e10) ? r10["string" == typeof e10 ? "string" : "hash"] : r10.map;
};
function Xp(t33) {
  var e10 = -1, r10 = null == t33 ? 0 : t33.length;
  for (this.clear(); ++e10 < r10; ) {
    var i10 = t33[e10];
    this.set(i10[0], i10[1]);
  }
}
function Xg(t33, e10) {
  if ("function" != typeof t33 || null != e10 && "function" != typeof e10) throw TypeError("Expected a function");
  var r10 = function() {
    var i10 = arguments, n10 = e10 ? e10.apply(this, i10) : i10[0], a10 = r10.cache;
    if (a10.has(n10)) return a10.get(n10);
    var o10 = t33.apply(this, i10);
    return r10.cache = a10.set(n10, o10) || a10, o10;
  };
  return r10.cache = new (Xg.Cache || Xp)(), r10;
}
Xp.prototype.clear = function() {
  this.size = 0, this.__data__ = { hash: new Xa(), map: new (Xc || Xh)(), string: new Xa() };
}, Xp.prototype.delete = function(t33) {
  var e10 = Xd(this, t33).delete(t33);
  return this.size -= e10 ? 1 : 0, e10;
}, Xp.prototype.get = function(t33) {
  return Xd(this, t33).get(t33);
}, Xp.prototype.has = function(t33) {
  return Xd(this, t33).has(t33);
}, Xp.prototype.set = function(t33, e10) {
  var r10 = Xd(this, t33), i10 = r10.size;
  return r10.set(t33, e10), this.size += r10.size == i10 ? 0 : 1, this;
}, Xg.Cache = Xp;
var Xf = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Xm = /\\(\\)?/g, Xy = (Jk = (Jw = Xg(function(t33) {
  var e10 = [];
  return 46 === t33.charCodeAt(0) && e10.push(""), t33.replace(Xf, function(t34, r10, i10, n10) {
    e10.push(i10 ? n10.replace(Xm, "$1") : r10 || t34);
  }), e10;
}, function(t33) {
  return 500 === Jk.size && Jk.clear(), t33;
})).cache, Jw), Xv = function(t33, e10) {
  for (var r10 = -1, i10 = null == t33 ? 0 : t33.length, n10 = Array(i10); ++r10 < i10; ) n10[r10] = e10(t33[r10], r10, t33);
  return n10;
}, Xx = HZ ? HZ.prototype : void 0, Xb = Xx ? Xx.toString : void 0, Xw = function t28(e10) {
  if ("string" == typeof e10) return e10;
  if (VZ(e10)) return Xv(e10, t28) + "";
  if (H6(e10)) return Xb ? Xb.call(e10) : "";
  var r10 = e10 + "";
  return "0" == r10 && 1 / e10 == -1 / 0 ? "-0" : r10;
}, Xk = function(t33) {
  return null == t33 ? "" : Xw(t33);
}, X_ = function(t33, e10) {
  return VZ(t33) ? t33 : V0(t33, e10) ? [t33] : Xy(Xk(t33));
}, XT = function(t33) {
  if ("string" == typeof t33 || H6(t33)) return t33;
  var e10 = t33 + "";
  return "0" == e10 && 1 / t33 == -1 / 0 ? "-0" : e10;
}, XE = function(t33, e10) {
  e10 = X_(e10, t33);
  for (var r10 = 0, i10 = e10.length; null != t33 && r10 < i10; ) t33 = t33[XT(e10[r10++])];
  return r10 && r10 == i10 ? t33 : void 0;
}, XC = function(t33, e10, r10) {
  var i10 = null == t33 ? void 0 : XE(t33, e10);
  return void 0 === i10 ? r10 : i10;
}, XS = function() {
  try {
    var t33 = Xe(Object, "defineProperty");
    return t33({}, "", {}), t33;
  } catch (t34) {
  }
}(), XA = function(t33, e10, r10) {
  "__proto__" == e10 && XS ? XS(t33, e10, { configurable: true, enumerable: true, value: r10, writable: true }) : t33[e10] = r10;
}, XL = Object.prototype.hasOwnProperty, XN = function(t33, e10, r10) {
  var i10 = t33[e10];
  XL.call(t33, e10) && Xo(i10, r10) && (void 0 !== r10 || e10 in t33) || XA(t33, e10, r10);
}, XI = /^(?:0|[1-9]\d*)$/, XM = function(t33, e10) {
  var r10 = typeof t33;
  return !!(e10 = null == e10 ? 9007199254740991 : e10) && ("number" == r10 || "symbol" != r10 && XI.test(t33)) && t33 > -1 && t33 % 1 == 0 && t33 < e10;
}, XR = function(t33, e10, r10, i10) {
  if (!HG(t33)) return t33;
  e10 = X_(e10, t33);
  for (var n10 = -1, a10 = e10.length, o10 = a10 - 1, s10 = t33; null != s10 && ++n10 < a10; ) {
    var l10 = XT(e10[n10]), h10 = r10;
    if ("__proto__" === l10 || "constructor" === l10 || "prototype" === l10) break;
    if (n10 != o10) {
      var u10 = s10[l10];
      void 0 === (h10 = i10 ? i10(u10, l10, s10) : void 0) && (h10 = HG(u10) ? u10 : XM(e10[n10 + 1]) ? [] : {});
    }
    XN(s10, l10, h10), s10 = s10[l10];
  }
  return t33;
}, XD = function(t33, e10) {
  var r10 = -1, i10 = t33.length;
  for (e10 || (e10 = Array(i10)); ++r10 < i10; ) e10[r10] = t33[r10];
  return e10;
}, XO = {};
[{ animated: function() {
  return function() {
    var t33 = void 0 !== this.length;
    if (!(this._private.cy || this).styleEnabled()) return false;
    var e10 = (t33 ? this : [this])[0];
    if (e10) return e10._private.animation.current.length > 0;
  };
}, clearQueue: function() {
  return function() {
    var t33 = void 0 !== this.length ? this : [this];
    if (!(this._private.cy || this).styleEnabled()) return this;
    for (var e10 = 0; e10 < t33.length; e10++) t33[e10]._private.animation.queue = [];
    return this;
  };
}, delay: function() {
  return function(t33, e10) {
    return (this._private.cy || this).styleEnabled() ? this.animate({ delay: t33, duration: t33, complete: e10 }) : this;
  };
}, delayAnimation: function() {
  return function(t33, e10) {
    return (this._private.cy || this).styleEnabled() ? this.animation({ delay: t33, duration: t33, complete: e10 }) : this;
  };
}, animation: function() {
  return function(t33, e10) {
    var r10 = void 0 !== this.length, i10 = r10 ? this : [this], n10 = this._private.cy || this, a10 = !r10, o10 = !a10;
    if (!n10.styleEnabled()) return this;
    var s10 = n10.style();
    if (0 === Object.keys(t33 = HO({}, t33, e10)).length) return new VX(i10[0], t33);
    switch (void 0 === t33.duration && (t33.duration = 400), t33.duration) {
      case "slow":
        t33.duration = 600;
        break;
      case "fast":
        t33.duration = 200;
    }
    if (o10 && (t33.style = s10.getPropsList(t33.style || t33.css), t33.css = void 0), o10 && null != t33.renderedPosition) {
      var l10 = t33.renderedPosition, h10 = n10.pan(), u10 = n10.zoom();
      t33.position = j2(l10, u10, h10);
    }
    if (a10 && null != t33.panBy) {
      var d10 = t33.panBy, p10 = n10.pan();
      t33.pan = { x: p10.x + d10.x, y: p10.y + d10.y };
    }
    var g10 = t33.center || t33.centre;
    if (a10 && null != g10) {
      var f10 = n10.getCenterPan(g10.eles, t33.zoom);
      null != f10 && (t33.pan = f10);
    }
    if (a10 && null != t33.fit) {
      var y10 = t33.fit, v10 = n10.getFitViewport(y10.eles || y10.boundingBox, y10.padding);
      null != v10 && (t33.pan = v10.pan, t33.zoom = v10.zoom);
    }
    if (a10 && Hg(t33.zoom)) {
      var x10 = n10.getZoomedViewport(t33.zoom);
      null != x10 ? (x10.zoomed && (t33.zoom = x10.zoom), x10.panned && (t33.pan = x10.pan)) : t33.zoom = null;
    }
    return new VX(i10[0], t33);
  };
}, animate: function() {
  return function(t33, e10) {
    var r10 = void 0 !== this.length ? this : [this];
    if (!(this._private.cy || this).styleEnabled()) return this;
    e10 && (t33 = HO({}, t33, e10));
    for (var i10 = 0; i10 < r10.length; i10++) {
      var n10 = r10[i10], a10 = n10.animated() && (void 0 === t33.queue || t33.queue);
      n10.animation(t33, a10 ? { queue: true } : void 0).play();
    }
    return this;
  };
}, stop: function() {
  return function(t33, e10) {
    var r10 = void 0 !== this.length ? this : [this], i10 = this._private.cy || this;
    if (!i10.styleEnabled()) return this;
    for (var n10 = 0; n10 < r10.length; n10++) {
      for (var a10 = r10[n10]._private, o10 = a10.animation.current, s10 = 0; s10 < o10.length; s10++) {
        var l10 = o10[s10]._private;
        e10 && (l10.duration = 0);
      }
      t33 && (a10.animation.queue = []), e10 || (a10.animation.current = []);
    }
    return i10.notify("draw"), this;
  };
} }, { data: function(t33) {
  return t33 = HO({}, { field: "data", bindingEvent: "data", allowBinding: false, allowSetting: false, allowGetting: false, settingEvent: "data", settingTriggersEvent: false, triggerFnName: "trigger", immutableKeys: {}, updateStyle: false, beforeGet: function(t34) {
  }, beforeSet: function(t34, e10) {
  }, onSet: function(t34) {
  }, canSet: function(t34) {
    return true;
  } }, t33), function(e10, r10) {
    var i10, n10 = t33, a10 = void 0 !== this.length, o10 = a10 ? this : [this], s10 = a10 ? this[0] : this;
    if (Hu(e10)) {
      var l10 = -1 !== e10.indexOf(".") && (VZ(e10) ? Xv(e10, XT) : H6(e10) ? [e10] : XD(Xy(Xk(e10))));
      if (n10.allowGetting && void 0 === r10) return s10 && (n10.beforeGet(s10), p10 = l10 && void 0 === s10._private[n10.field][e10] ? XC(s10._private[n10.field], l10) : s10._private[n10.field][e10]), p10;
      if (n10.allowSetting && void 0 !== r10 && !n10.immutableKeys[e10]) {
        var h10 = Y9({}, e10, r10);
        n10.beforeSet(this, h10);
        for (var u10 = 0, d10 = o10.length; u10 < d10; u10++) {
          var p10, g10, f10 = o10[u10];
          n10.canSet(f10) && (l10 && void 0 === s10._private[n10.field][e10] ? null == (g10 = f10._private[n10.field]) || XR(g10, l10, r10) : f10._private[n10.field][e10] = r10);
        }
        n10.updateStyle && this.updateStyle(), n10.onSet(this), n10.settingTriggersEvent && this[n10.triggerFnName](n10.settingEvent);
      }
    } else if (n10.allowSetting && Hg(e10)) {
      var y10, v10, x10 = Object.keys(e10);
      n10.beforeSet(this, e10);
      for (var b10 = 0; b10 < x10.length; b10++) if (v10 = e10[y10 = x10[b10]], !n10.immutableKeys[y10]) for (var w10 = 0; w10 < o10.length; w10++) {
        var k10 = o10[w10];
        n10.canSet(k10) && (k10._private[n10.field][y10] = v10);
      }
      n10.updateStyle && this.updateStyle(), n10.onSet(this), n10.settingTriggersEvent && this[n10.triggerFnName](n10.settingEvent);
    } else if (n10.allowBinding && Hd(e10)) this.on(n10.bindingEvent, e10);
    else if (n10.allowGetting && void 0 === e10) return s10 && (n10.beforeGet(s10), i10 = s10._private[n10.field]), i10;
    return this;
  };
}, removeData: function(t33) {
  return t33 = HO({}, { field: "data", event: "data", triggerFnName: "trigger", triggerEvent: false, immutableKeys: {} }, t33), function(e10) {
    var r10 = t33, i10 = void 0 !== this.length ? this : [this];
    if (Hu(e10)) {
      for (var n10 = e10.split(/\s+/), a10 = n10.length, o10 = 0; o10 < a10; o10++) {
        var s10 = n10[o10];
        if (!Hk(s10) && !r10.immutableKeys[s10]) for (var l10 = 0, h10 = i10.length; l10 < h10; l10++) i10[l10]._private[r10.field][s10] = void 0;
      }
      r10.triggerEvent && this[r10.triggerFnName](r10.event);
    } else if (void 0 === e10) {
      for (var u10 = 0, d10 = i10.length; u10 < d10; u10++) for (var p10 = i10[u10]._private[r10.field], g10 = Object.keys(p10), f10 = 0; f10 < g10.length; f10++) {
        var y10 = g10[f10];
        r10.immutableKeys[y10] || (p10[y10] = void 0);
      }
      r10.triggerEvent && this[r10.triggerFnName](r10.event);
    }
    return this;
  };
} }, { eventAliasesOn: function(t33) {
  t33.addListener = t33.listen = t33.bind = t33.on, t33.unlisten = t33.unbind = t33.off = t33.removeListener, t33.trigger = t33.emit, t33.pon = t33.promiseOn = function(t34, e10) {
    var r10 = this, i10 = Array.prototype.slice.call(arguments, 0);
    return new VV(function(t35, e11) {
      var n10 = i10.concat([function(e12) {
        r10.off.apply(r10, a10), t35(e12);
      }]), a10 = n10.concat([]);
      r10.on.apply(r10, n10);
    });
  };
} }].forEach(function(t33) {
  HO(XO, t33);
});
var XP = { animate: XO.animate(), animation: XO.animation(), animated: XO.animated(), clearQueue: XO.clearQueue(), delay: XO.delay(), delayAnimation: XO.delayAnimation(), stop: XO.stop() }, X$ = { classes: function(t33) {
  if (void 0 === t33) {
    var e10 = [];
    return this[0]._private.classes.forEach(function(t34) {
      return e10.push(t34);
    }), e10;
  }
  Hp(t33) || (t33 = (t33 || "").match(/\S+/g) || []);
  for (var r10 = [], i10 = new jq(t33), n10 = 0; n10 < this.length; n10++) {
    for (var a10 = this[n10], o10 = a10._private, s10 = o10.classes, l10 = false, h10 = 0; h10 < t33.length; h10++) {
      var u10 = t33[h10];
      if (!s10.has(u10)) {
        l10 = true;
        break;
      }
    }
    l10 || (l10 = s10.size !== t33.length), l10 && (o10.classes = i10, r10.push(a10));
  }
  return r10.length > 0 && this.spawn(r10).updateStyle().emit("class"), this;
}, addClass: function(t33) {
  return this.toggleClass(t33, true);
}, hasClass: function(t33) {
  var e10 = this[0];
  return null != e10 && e10._private.classes.has(t33);
}, toggleClass: function(t33, e10) {
  Hp(t33) || (t33 = t33.match(/\S+/g) || []);
  for (var r10 = void 0 === e10, i10 = [], n10 = 0, a10 = this.length; n10 < a10; n10++) for (var o10 = this[n10], s10 = o10._private.classes, l10 = false, h10 = 0; h10 < t33.length; h10++) {
    var u10 = t33[h10], d10 = s10.has(u10), p10 = false;
    e10 || r10 && !d10 ? (s10.add(u10), p10 = true) : (!e10 || r10 && d10) && (s10.delete(u10), p10 = true), !l10 && p10 && (i10.push(o10), l10 = true);
  }
  return i10.length > 0 && this.spawn(i10).updateStyle().emit("class"), this;
}, removeClass: function(t33) {
  return this.toggleClass(t33, false);
}, flashClass: function(t33, e10) {
  var r10 = this;
  if (null == e10) e10 = 250;
  else if (0 === e10) return r10;
  return r10.addClass(t33), setTimeout(function() {
    r10.removeClass(t33);
  }, e10), r10;
} };
X$.className = X$.classNames = X$.classes;
var XB = { metaChar: "[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]", comparatorOp: "=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=", boolOp: "\\?|\\!|\\^", string: `"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`, number: HL, meta: "degree|indegree|outdegree", separator: "\\s*,\\s*", descendant: "\\s+", child: "\\s+>\\s+", subject: "\\$", group: "node|edge|\\*", directedEdge: "\\s+->\\s+", undirectedEdge: "\\s+<->\\s+" };
XB.variable = "(?:[\\w-.]|(?:\\\\" + XB.metaChar + "))+", XB.className = "(?:[\\w-]|(?:\\\\" + XB.metaChar + "))+", XB.value = XB.string + "|" + XB.number, XB.id = XB.variable, function() {
  var t33, e10, r10;
  for (r10 = 0, t33 = XB.comparatorOp.split("|"); r10 < t33.length; r10++) e10 = t33[r10], XB.comparatorOp += "|@" + e10;
  for (r10 = 0, t33 = XB.comparatorOp.split("|"); r10 < t33.length; r10++) (e10 = t33[r10]).indexOf("!") >= 0 || "=" === e10 || (XB.comparatorOp += "|\\!" + e10);
}();
var XF = function() {
  return { checks: [] };
}, Xz = { GROUP: 0, COLLECTION: 1, FILTER: 2, DATA_COMPARE: 3, DATA_EXIST: 4, DATA_BOOL: 5, META_COMPARE: 6, STATE: 7, ID: 8, CLASS: 9, UNDIRECTED_EDGE: 10, DIRECTED_EDGE: 11, NODE_SOURCE: 12, NODE_TARGET: 13, NODE_NEIGHBOR: 14, CHILD: 15, DESCENDANT: 16, PARENT: 17, ANCESTOR: 18, COMPOUND_SPLIT: 19, TRUE: 20 }, XU = [{ selector: ":selected", matches: function(t33) {
  return t33.selected();
} }, { selector: ":unselected", matches: function(t33) {
  return !t33.selected();
} }, { selector: ":selectable", matches: function(t33) {
  return t33.selectable();
} }, { selector: ":unselectable", matches: function(t33) {
  return !t33.selectable();
} }, { selector: ":locked", matches: function(t33) {
  return t33.locked();
} }, { selector: ":unlocked", matches: function(t33) {
  return !t33.locked();
} }, { selector: ":visible", matches: function(t33) {
  return t33.visible();
} }, { selector: ":hidden", matches: function(t33) {
  return !t33.visible();
} }, { selector: ":transparent", matches: function(t33) {
  return t33.transparent();
} }, { selector: ":grabbed", matches: function(t33) {
  return t33.grabbed();
} }, { selector: ":free", matches: function(t33) {
  return !t33.grabbed();
} }, { selector: ":removed", matches: function(t33) {
  return t33.removed();
} }, { selector: ":inside", matches: function(t33) {
  return !t33.removed();
} }, { selector: ":grabbable", matches: function(t33) {
  return t33.grabbable();
} }, { selector: ":ungrabbable", matches: function(t33) {
  return !t33.grabbable();
} }, { selector: ":animated", matches: function(t33) {
  return t33.animated();
} }, { selector: ":unanimated", matches: function(t33) {
  return !t33.animated();
} }, { selector: ":parent", matches: function(t33) {
  return t33.isParent();
} }, { selector: ":childless", matches: function(t33) {
  return t33.isChildless();
} }, { selector: ":child", matches: function(t33) {
  return t33.isChild();
} }, { selector: ":orphan", matches: function(t33) {
  return t33.isOrphan();
} }, { selector: ":nonorphan", matches: function(t33) {
  return t33.isChild();
} }, { selector: ":compound", matches: function(t33) {
  return t33.isNode() ? t33.isParent() : t33.source().isParent() || t33.target().isParent();
} }, { selector: ":loop", matches: function(t33) {
  return t33.isLoop();
} }, { selector: ":simple", matches: function(t33) {
  return t33.isSimple();
} }, { selector: ":active", matches: function(t33) {
  return t33.active();
} }, { selector: ":inactive", matches: function(t33) {
  return !t33.active();
} }, { selector: ":backgrounding", matches: function(t33) {
  return t33.backgrounding();
} }, { selector: ":nonbackgrounding", matches: function(t33) {
  return !t33.backgrounding();
} }].sort(function(t33, e10) {
  return -1 * HD(t33.selector, e10.selector);
}), XG = function() {
  for (var t33, e10 = {}, r10 = 0; r10 < XU.length; r10++) e10[(t33 = XU[r10]).selector] = t33.matches;
  return e10;
}(), Xq = "(" + XU.map(function(t33) {
  return t33.selector;
}).join("|") + ")", XY = function(t33) {
  return t33.replace(RegExp("\\\\(" + XB.metaChar + ")", "g"), function(t34, e10) {
    return e10;
  });
}, XH = function(t33, e10, r10) {
  t33[t33.length - 1] = r10;
}, Xj = [{ name: "group", query: true, regex: "(" + XB.group + ")", populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 1)[0];
  e10.checks.push({ type: Xz.GROUP, value: "*" === i10 ? i10 : i10 + "s" });
} }, { name: "state", query: true, regex: Xq, populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 1)[0];
  e10.checks.push({ type: Xz.STATE, value: i10 });
} }, { name: "id", query: true, regex: "\\#(" + XB.id + ")", populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 1)[0];
  e10.checks.push({ type: Xz.ID, value: XY(i10) });
} }, { name: "className", query: true, regex: "\\.(" + XB.className + ")", populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 1)[0];
  e10.checks.push({ type: Xz.CLASS, value: XY(i10) });
} }, { name: "dataExists", query: true, regex: "\\[\\s*(" + XB.variable + ")\\s*\\]", populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 1)[0];
  e10.checks.push({ type: Xz.DATA_EXIST, field: XY(i10) });
} }, { name: "dataCompare", query: true, regex: "\\[\\s*(" + XB.variable + ")\\s*(" + XB.comparatorOp + ")\\s*(" + XB.value + ")\\s*\\]", populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 3), n10 = i10[0], a10 = i10[1], o10 = i10[2];
  o10 = null != RegExp("^" + XB.string + "$").exec(o10) ? o10.substring(1, o10.length - 1) : parseFloat(o10), e10.checks.push({ type: Xz.DATA_COMPARE, field: XY(n10), operator: a10, value: o10 });
} }, { name: "dataBool", query: true, regex: "\\[\\s*(" + XB.boolOp + ")\\s*(" + XB.variable + ")\\s*\\]", populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 2), n10 = i10[0], a10 = i10[1];
  e10.checks.push({ type: Xz.DATA_BOOL, field: XY(a10), operator: n10 });
} }, { name: "metaCompare", query: true, regex: "\\[\\[\\s*(" + XB.meta + ")\\s*(" + XB.comparatorOp + ")\\s*(" + XB.number + ")\\s*\\]\\]", populate: function(t33, e10, r10) {
  var i10 = Ht(r10, 3), n10 = i10[0], a10 = i10[1], o10 = i10[2];
  e10.checks.push({ type: Xz.META_COMPARE, field: XY(n10), operator: a10, value: parseFloat(o10) });
} }, { name: "nextQuery", separator: true, regex: XB.separator, populate: function(t33, e10) {
  var r10 = t33.currentSubject, i10 = t33.edgeCount, n10 = t33.compoundCount, a10 = t33[t33.length - 1];
  return null != r10 && (a10.subject = r10, t33.currentSubject = null), a10.edgeCount = i10, a10.compoundCount = n10, t33.edgeCount = 0, t33.compoundCount = 0, t33[t33.length++] = XF();
} }, { name: "directedEdge", separator: true, regex: XB.directedEdge, populate: function(t33, e10) {
  if (null == t33.currentSubject) {
    var r10 = XF(), i10 = XF();
    return r10.checks.push({ type: Xz.DIRECTED_EDGE, source: e10, target: i10 }), XH(t33, e10, r10), t33.edgeCount++, i10;
  }
  var n10 = XF(), a10 = XF();
  return n10.checks.push({ type: Xz.NODE_SOURCE, source: e10, target: a10 }), XH(t33, e10, n10), t33.edgeCount++, a10;
} }, { name: "undirectedEdge", separator: true, regex: XB.undirectedEdge, populate: function(t33, e10) {
  if (null == t33.currentSubject) {
    var r10 = XF(), i10 = XF();
    return r10.checks.push({ type: Xz.UNDIRECTED_EDGE, nodes: [e10, i10] }), XH(t33, e10, r10), t33.edgeCount++, i10;
  }
  var n10 = XF(), a10 = XF();
  return n10.checks.push({ type: Xz.NODE_NEIGHBOR, node: e10, neighbor: a10 }), XH(t33, e10, n10), a10;
} }, { name: "child", separator: true, regex: XB.child, populate: function(t33, e10) {
  if (null == t33.currentSubject) {
    var r10 = XF(), i10 = XF(), n10 = t33[t33.length - 1];
    return r10.checks.push({ type: Xz.CHILD, parent: n10, child: i10 }), XH(t33, e10, r10), t33.compoundCount++, i10;
  }
  if (t33.currentSubject === e10) {
    var a10 = XF(), o10 = t33[t33.length - 1], s10 = XF(), l10 = XF(), h10 = XF(), u10 = XF();
    return a10.checks.push({ type: Xz.COMPOUND_SPLIT, left: o10, right: s10, subject: l10 }), l10.checks = e10.checks, e10.checks = [{ type: Xz.TRUE }], u10.checks.push({ type: Xz.TRUE }), s10.checks.push({ type: Xz.PARENT, parent: u10, child: h10 }), XH(t33, o10, a10), t33.currentSubject = l10, t33.compoundCount++, h10;
  }
  var d10 = XF(), p10 = XF(), g10 = [{ type: Xz.PARENT, parent: d10, child: p10 }];
  return d10.checks = e10.checks, e10.checks = g10, t33.compoundCount++, p10;
} }, { name: "descendant", separator: true, regex: XB.descendant, populate: function(t33, e10) {
  if (null == t33.currentSubject) {
    var r10 = XF(), i10 = XF(), n10 = t33[t33.length - 1];
    return r10.checks.push({ type: Xz.DESCENDANT, ancestor: n10, descendant: i10 }), XH(t33, e10, r10), t33.compoundCount++, i10;
  }
  if (t33.currentSubject === e10) {
    var a10 = XF(), o10 = t33[t33.length - 1], s10 = XF(), l10 = XF(), h10 = XF(), u10 = XF();
    return a10.checks.push({ type: Xz.COMPOUND_SPLIT, left: o10, right: s10, subject: l10 }), l10.checks = e10.checks, e10.checks = [{ type: Xz.TRUE }], u10.checks.push({ type: Xz.TRUE }), s10.checks.push({ type: Xz.ANCESTOR, ancestor: u10, descendant: h10 }), XH(t33, o10, a10), t33.currentSubject = l10, t33.compoundCount++, h10;
  }
  var d10 = XF(), p10 = XF(), g10 = [{ type: Xz.ANCESTOR, ancestor: d10, descendant: p10 }];
  return d10.checks = e10.checks, e10.checks = g10, t33.compoundCount++, p10;
} }, { name: "subject", modifier: true, regex: XB.subject, populate: function(t33, e10) {
  if (null != t33.currentSubject && t33.currentSubject !== e10) return jL("Redefinition of subject in selector `" + t33.toString() + "`"), false;
  t33.currentSubject = e10;
  var r10 = t33[t33.length - 1].checks[0], i10 = null == r10 ? null : r10.type;
  i10 === Xz.DIRECTED_EDGE ? r10.type = Xz.NODE_TARGET : i10 === Xz.UNDIRECTED_EDGE && (r10.type = Xz.NODE_NEIGHBOR, r10.node = r10.nodes[1], r10.neighbor = r10.nodes[0], r10.nodes = null);
} }];
Xj.forEach(function(t33) {
  return t33.regexObj = RegExp("^" + t33.regex);
});
var XW = function(t33) {
  for (var e10, r10, i10, n10 = 0; n10 < Xj.length; n10++) {
    var a10 = Xj[n10], o10 = a10.name, s10 = t33.match(a10.regexObj);
    if (null != s10) {
      r10 = s10, e10 = a10, i10 = o10;
      var l10 = s10[0];
      t33 = t33.substring(l10.length);
      break;
    }
  }
  return { expr: e10, match: r10, name: i10, remaining: t33 };
}, XV = function(t33) {
  var e10 = t33.match(/^\s+/);
  if (e10) {
    var r10 = e10[0];
    t33 = t33.substring(r10.length);
  }
  return t33;
}, XX = function(t33, e10, r10) {
  var i10, n10, a10, o10 = Hu(t33), s10 = Hf(t33), l10 = Hu(r10), h10 = false, u10 = false, d10 = false;
  switch (e10.indexOf("!") >= 0 && (e10 = e10.replace("!", ""), u10 = true), e10.indexOf("@") >= 0 && (e10 = e10.replace("@", ""), h10 = true), (o10 || l10 || h10) && (n10 = o10 || s10 ? "" + t33 : "", a10 = "" + r10), h10 && (t33 = n10 = n10.toLowerCase(), r10 = a10 = a10.toLowerCase()), e10) {
    case "*=":
      i10 = n10.indexOf(a10) >= 0;
      break;
    case "$=":
      i10 = n10.indexOf(a10, n10.length - a10.length) >= 0;
      break;
    case "^=":
      i10 = 0 === n10.indexOf(a10);
      break;
    case "=":
      i10 = t33 === r10;
      break;
    case ">":
      d10 = true, i10 = t33 > r10;
      break;
    case ">=":
      d10 = true, i10 = t33 >= r10;
      break;
    case "<":
      d10 = true, i10 = t33 < r10;
      break;
    case "<=":
      d10 = true, i10 = t33 <= r10;
      break;
    default:
      i10 = false;
  }
  return u10 && (null != t33 || !d10) && (i10 = !i10), i10;
}, XK = function(t33, e10) {
  switch (e10) {
    case "?":
      return !!t33;
    case "!":
      return !t33;
    case "^":
      return void 0 === t33;
  }
}, XZ = function(t33, e10) {
  return t33.data(e10);
}, XQ = [], XJ = function(t33, e10) {
  return t33.checks.every(function(t34) {
    return XQ[t34.type](t34, e10);
  });
};
XQ[Xz.GROUP] = function(t33, e10) {
  var r10 = t33.value;
  return "*" === r10 || r10 === e10.group();
}, XQ[Xz.STATE] = function(t33, e10) {
  return XG[t33.value](e10);
}, XQ[Xz.ID] = function(t33, e10) {
  var r10 = t33.value;
  return e10.id() === r10;
}, XQ[Xz.CLASS] = function(t33, e10) {
  var r10 = t33.value;
  return e10.hasClass(r10);
}, XQ[Xz.META_COMPARE] = function(t33, e10) {
  var r10 = t33.field, i10 = t33.operator, n10 = t33.value;
  return XX(e10[r10](), i10, n10);
}, XQ[Xz.DATA_COMPARE] = function(t33, e10) {
  var r10 = t33.field, i10 = t33.operator, n10 = t33.value;
  return XX(XZ(e10, r10), i10, n10);
}, XQ[Xz.DATA_BOOL] = function(t33, e10) {
  var r10 = t33.field, i10 = t33.operator;
  return XK(XZ(e10, r10), i10);
}, XQ[Xz.DATA_EXIST] = function(t33, e10) {
  var r10 = t33.field;
  return t33.operator, void 0 !== XZ(e10, r10);
}, XQ[Xz.UNDIRECTED_EDGE] = function(t33, e10) {
  var r10 = t33.nodes[0], i10 = t33.nodes[1], n10 = e10.source(), a10 = e10.target();
  return XJ(r10, n10) && XJ(i10, a10) || XJ(i10, n10) && XJ(r10, a10);
}, XQ[Xz.NODE_NEIGHBOR] = function(t33, e10) {
  return XJ(t33.node, e10) && e10.neighborhood().some(function(e11) {
    return e11.isNode() && XJ(t33.neighbor, e11);
  });
}, XQ[Xz.DIRECTED_EDGE] = function(t33, e10) {
  return XJ(t33.source, e10.source()) && XJ(t33.target, e10.target());
}, XQ[Xz.NODE_SOURCE] = function(t33, e10) {
  return XJ(t33.source, e10) && e10.outgoers().some(function(e11) {
    return e11.isNode() && XJ(t33.target, e11);
  });
}, XQ[Xz.NODE_TARGET] = function(t33, e10) {
  return XJ(t33.target, e10) && e10.incomers().some(function(e11) {
    return e11.isNode() && XJ(t33.source, e11);
  });
}, XQ[Xz.CHILD] = function(t33, e10) {
  return XJ(t33.child, e10) && XJ(t33.parent, e10.parent());
}, XQ[Xz.PARENT] = function(t33, e10) {
  return XJ(t33.parent, e10) && e10.children().some(function(e11) {
    return XJ(t33.child, e11);
  });
}, XQ[Xz.DESCENDANT] = function(t33, e10) {
  return XJ(t33.descendant, e10) && e10.ancestors().some(function(e11) {
    return XJ(t33.ancestor, e11);
  });
}, XQ[Xz.ANCESTOR] = function(t33, e10) {
  return XJ(t33.ancestor, e10) && e10.descendants().some(function(e11) {
    return XJ(t33.descendant, e11);
  });
}, XQ[Xz.COMPOUND_SPLIT] = function(t33, e10) {
  return XJ(t33.subject, e10) && XJ(t33.left, e10) && XJ(t33.right, e10);
}, XQ[Xz.TRUE] = function() {
  return true;
}, XQ[Xz.COLLECTION] = function(t33, e10) {
  return t33.value.has(e10);
}, XQ[Xz.FILTER] = function(t33, e10) {
  return (0, t33.value)(e10);
};
var X0 = function(t33) {
  this.inputText = t33, this.currentSubject = null, this.compoundCount = 0, this.edgeCount = 0, this.length = 0, null == t33 || Hu(t33) && t33.match(/^\s*$/) || (Hy(t33) ? this.addQuery({ checks: [{ type: Xz.COLLECTION, value: t33.collection() }] }) : Hd(t33) ? this.addQuery({ checks: [{ type: Xz.FILTER, value: t33 }] }) : Hu(t33) ? this.parse(t33) || (this.invalid = true) : jS("A selector must be created from a string; found "));
}, X1 = X0.prototype;
[{ parse: function(t33) {
  var e10 = this.inputText = t33, r10 = this[0] = XF();
  for (this.length = 1, e10 = XV(e10); ; ) {
    var i10 = XW(e10);
    if (null == i10.expr) return jL("The selector `" + t33 + "`is invalid"), false;
    var n10 = i10.match.slice(1), a10 = i10.expr.populate(this, r10, n10);
    if (false === a10) return false;
    if (null != a10 && (r10 = a10), (e10 = i10.remaining).match(/^\s*$/)) break;
  }
  var o10 = this[this.length - 1];
  null != this.currentSubject && (o10.subject = this.currentSubject), o10.edgeCount = this.edgeCount, o10.compoundCount = this.compoundCount;
  for (var s10 = 0; s10 < this.length; s10++) {
    var l10 = this[s10];
    if (l10.compoundCount > 0 && l10.edgeCount > 0) return jL("The selector `" + t33 + "` is invalid because it uses both a compound selector and an edge selector"), false;
    if (l10.edgeCount > 1) return jL("The selector `" + t33 + "` is invalid because it uses multiple edge selectors"), false;
    1 === l10.edgeCount && jL("The selector `" + t33 + "` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.");
  }
  return true;
}, toString: function() {
  if (null != this.toStringCache) return this.toStringCache;
  for (var t33 = function(t34) {
    return null == t34 ? "" : t34;
  }, e10 = function(e11) {
    return Hu(e11) ? '"' + e11 + '"' : t33(e11);
  }, r10 = function(t34) {
    return " " + t34 + " ";
  }, i10 = function(i11, a11) {
    var o11 = i11.type, s11 = i11.value;
    switch (o11) {
      case Xz.GROUP:
        var l10 = t33(s11);
        return l10.substring(0, l10.length - 1);
      case Xz.DATA_COMPARE:
        return "[" + i11.field + r10(t33(i11.operator)) + e10(s11) + "]";
      case Xz.DATA_BOOL:
        var h10 = i11.operator, u10 = i11.field;
        return "[" + t33(h10) + u10 + "]";
      case Xz.DATA_EXIST:
        return "[" + i11.field + "]";
      case Xz.META_COMPARE:
        var d10 = i11.operator;
        return "[[" + i11.field + r10(t33(d10)) + e10(s11) + "]]";
      case Xz.STATE:
        return s11;
      case Xz.ID:
        return "#" + s11;
      case Xz.CLASS:
        return "." + s11;
      case Xz.PARENT:
      case Xz.CHILD:
        return n10(i11.parent, a11) + r10(">") + n10(i11.child, a11);
      case Xz.ANCESTOR:
      case Xz.DESCENDANT:
        return n10(i11.ancestor, a11) + " " + n10(i11.descendant, a11);
      case Xz.COMPOUND_SPLIT:
        var p10 = n10(i11.left, a11), g10 = n10(i11.subject, a11), f10 = n10(i11.right, a11);
        return p10 + (p10.length > 0 ? " " : "") + g10 + f10;
      case Xz.TRUE:
        return "";
    }
  }, n10 = function(t34, e11) {
    return t34.checks.reduce(function(r11, n11, a11) {
      return r11 + (e11 === t34 && 0 === a11 ? "$" : "") + i10(n11, e11);
    }, "");
  }, a10 = "", o10 = 0; o10 < this.length; o10++) {
    var s10 = this[o10];
    a10 += n10(s10, s10.subject), this.length > 1 && o10 < this.length - 1 && (a10 += ", ");
  }
  return this.toStringCache = a10, a10;
} }, { matches: function(t33) {
  for (var e10 = 0; e10 < this.length; e10++) if (XJ(this[e10], t33)) return true;
  return false;
}, filter: function(t33) {
  var e10 = this;
  if (1 === e10.length && 1 === e10[0].checks.length && e10[0].checks[0].type === Xz.ID) return t33.getElementById(e10[0].checks[0].value).collection();
  var r10 = function(t34) {
    for (var r11 = 0; r11 < e10.length; r11++) if (XJ(e10[r11], t34)) return true;
    return false;
  };
  return null == e10.text() && (r10 = function() {
    return true;
  }), t33.filter(r10);
} }].forEach(function(t33) {
  return HO(X1, t33);
}), X1.text = function() {
  return this.inputText;
}, X1.size = function() {
  return this.length;
}, X1.eq = function(t33) {
  return this[t33];
}, X1.sameText = function(t33) {
  return !this.invalid && !t33.invalid && this.text() === t33.text();
}, X1.addQuery = function(t33) {
  this[this.length++] = t33;
}, X1.selector = X1.toString;
var X2 = { allAre: function(t33) {
  var e10 = new X0(t33);
  return this.every(function(t34) {
    return e10.matches(t34);
  });
}, is: function(t33) {
  var e10 = new X0(t33);
  return this.some(function(t34) {
    return e10.matches(t34);
  });
}, some: function(t33, e10) {
  for (var r10 = 0; r10 < this.length; r10++) if (e10 ? t33.apply(e10, [this[r10], r10, this]) : t33(this[r10], r10, this)) return true;
  return false;
}, every: function(t33, e10) {
  for (var r10 = 0; r10 < this.length; r10++) if (!(e10 ? t33.apply(e10, [this[r10], r10, this]) : t33(this[r10], r10, this))) return false;
  return true;
}, same: function(t33) {
  if (this === t33) return true;
  t33 = this.cy().collection(t33);
  var e10 = this.length;
  return e10 === t33.length && (1 === e10 ? this[0] === t33[0] : this.every(function(e11) {
    return t33.hasElementWithId(e11.id());
  }));
}, anySame: function(t33) {
  return t33 = this.cy().collection(t33), this.some(function(e10) {
    return t33.hasElementWithId(e10.id());
  });
}, allAreNeighbors: function(t33) {
  t33 = this.cy().collection(t33);
  var e10 = this.neighborhood();
  return t33.every(function(t34) {
    return e10.hasElementWithId(t34.id());
  });
}, contains: function(t33) {
  t33 = this.cy().collection(t33);
  var e10 = this;
  return t33.every(function(t34) {
    return e10.hasElementWithId(t34.id());
  });
} };
X2.allAreNeighbours = X2.allAreNeighbors, X2.has = X2.contains, X2.equal = X2.equals = X2.same;
var X4 = function(t33, e10) {
  return function(r10, i10, n10, a10) {
    if (null == r10 ? o10 = "" : Hy(r10) && 1 === r10.length && (o10 = r10.id()), 1 !== this.length || !o10) return t33.call(this, r10, i10, n10, a10);
    var o10, s10 = this[0]._private, l10 = s10.traversalCache = s10.traversalCache || {}, h10 = l10[e10] = l10[e10] || [], u10 = jm(o10);
    return h10[u10] || (h10[u10] = t33.call(this, r10, i10, n10, a10));
  };
}, X5 = { parent: function(t33) {
  var e10 = [];
  if (1 === this.length) {
    var r10 = this[0]._private.parent;
    if (r10) return r10;
  }
  for (var i10 = 0; i10 < this.length; i10++) {
    var n10 = this[i10]._private.parent;
    n10 && e10.push(n10);
  }
  return this.spawn(e10, true).filter(t33);
}, parents: function(t33) {
  for (var e10 = [], r10 = this.parent(); r10.nonempty(); ) {
    for (var i10 = 0; i10 < r10.length; i10++) {
      var n10 = r10[i10];
      e10.push(n10);
    }
    r10 = r10.parent();
  }
  return this.spawn(e10, true).filter(t33);
}, commonAncestors: function(t33) {
  for (var e10, r10 = 0; r10 < this.length; r10++) {
    var i10 = this[r10].parents();
    e10 = (e10 = e10 || i10).intersect(i10);
  }
  return e10.filter(t33);
}, orphans: function(t33) {
  return this.stdFilter(function(t34) {
    return t34.isOrphan();
  }).filter(t33);
}, nonorphans: function(t33) {
  return this.stdFilter(function(t34) {
    return t34.isChild();
  }).filter(t33);
}, children: X4(function(t33) {
  for (var e10 = [], r10 = 0; r10 < this.length; r10++) for (var i10 = this[r10]._private.children, n10 = 0; n10 < i10.length; n10++) e10.push(i10[n10]);
  return this.spawn(e10, true).filter(t33);
}, "children"), siblings: function(t33) {
  return this.parent().children().not(this).filter(t33);
}, isParent: function() {
  var t33 = this[0];
  if (t33) return t33.isNode() && 0 !== t33._private.children.length;
}, isChildless: function() {
  var t33 = this[0];
  if (t33) return t33.isNode() && 0 === t33._private.children.length;
}, isChild: function() {
  var t33 = this[0];
  if (t33) return t33.isNode() && null != t33._private.parent;
}, isOrphan: function() {
  var t33 = this[0];
  if (t33) return t33.isNode() && null == t33._private.parent;
}, descendants: function(t33) {
  var e10 = [];
  return !function t34(r10) {
    for (var i10 = 0; i10 < r10.length; i10++) {
      var n10 = r10[i10];
      e10.push(n10), n10.children().nonempty() && t34(n10.children());
    }
  }(this.children()), this.spawn(e10, true).filter(t33);
} };
function X3(t33, e10, r10, i10) {
  for (var n10 = [], a10 = new jq(), o10 = t33.cy().hasCompoundNodes(), s10 = 0; s10 < t33.length; s10++) {
    var l10 = t33[s10];
    r10 ? n10.push(l10) : o10 && i10(n10, a10, l10);
  }
  for (; n10.length > 0; ) {
    var h10 = n10.shift();
    e10(h10), a10.add(h10.id()), o10 && i10(n10, a10, h10);
  }
  return t33;
}
function X6(t33, e10, r10) {
  if (r10.isParent()) for (var i10 = r10._private.children, n10 = 0; n10 < i10.length; n10++) {
    var a10 = i10[n10];
    e10.has(a10.id()) || t33.push(a10);
  }
}
function X7(t33, e10, r10) {
  if (r10.isChild()) {
    var i10 = r10._private.parent;
    e10.has(i10.id()) || t33.push(i10);
  }
}
function X8(t33, e10, r10) {
  X7(t33, e10, r10), X6(t33, e10, r10);
}
X5.forEachDown = function(t33) {
  var e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return X3(this, t33, e10, X6);
}, X5.forEachUp = function(t33) {
  var e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return X3(this, t33, e10, X7);
}, X5.forEachUpAndDown = function(t33) {
  var e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return X3(this, t33, e10, X8);
}, X5.ancestors = X5.parents, (tex = teb = { data: XO.data({ field: "data", bindingEvent: "data", allowBinding: true, allowSetting: true, settingEvent: "data", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, immutableKeys: { id: true, source: true, target: true, parent: true }, updateStyle: true }), removeData: XO.removeData({ field: "data", event: "data", triggerFnName: "trigger", triggerEvent: true, immutableKeys: { id: true, source: true, target: true, parent: true }, updateStyle: true }), scratch: XO.data({ field: "scratch", bindingEvent: "scratch", allowBinding: true, allowSetting: true, settingEvent: "scratch", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, updateStyle: true }), removeScratch: XO.removeData({ field: "scratch", event: "scratch", triggerFnName: "trigger", triggerEvent: true, updateStyle: true }), rscratch: XO.data({ field: "rscratch", allowBinding: false, allowSetting: true, settingTriggersEvent: false, allowGetting: true }), removeRscratch: XO.removeData({ field: "rscratch", triggerEvent: false }), id: function() {
  var t33 = this[0];
  if (t33) return t33._private.data.id;
} }).attr = tex.data, tex.removeAttr = tex.removeData;
var X9 = {};
function Kt(t33) {
  return function(e10) {
    if (void 0 === e10 && (e10 = true), 0 !== this.length && !(!this.isNode() || this.removed())) {
      for (var r10 = 0, i10 = this[0], n10 = i10._private.edges, a10 = 0; a10 < n10.length; a10++) {
        var o10 = n10[a10];
        !e10 && o10.isLoop() || (r10 += t33(i10, o10));
      }
      return r10;
    }
  };
}
function Ke(t33, e10) {
  return function(r10) {
    for (var i10, n10 = this.nodes(), a10 = 0; a10 < n10.length; a10++) {
      var o10 = n10[a10][t33](r10);
      void 0 !== o10 && (void 0 === i10 || e10(o10, i10)) && (i10 = o10);
    }
    return i10;
  };
}
HO(X9, { degree: Kt(function(t33, e10) {
  return e10.source().same(e10.target()) ? 2 : 1;
}), indegree: Kt(function(t33, e10) {
  return e10.target().same(t33) ? 1 : 0;
}), outdegree: Kt(function(t33, e10) {
  return e10.source().same(t33) ? 1 : 0;
}) }), HO(X9, { minDegree: Ke("degree", function(t33, e10) {
  return t33 < e10;
}), maxDegree: Ke("degree", function(t33, e10) {
  return t33 > e10;
}), minIndegree: Ke("indegree", function(t33, e10) {
  return t33 < e10;
}), maxIndegree: Ke("indegree", function(t33, e10) {
  return t33 > e10;
}), minOutdegree: Ke("outdegree", function(t33, e10) {
  return t33 < e10;
}), maxOutdegree: Ke("outdegree", function(t33, e10) {
  return t33 > e10;
}) }), HO(X9, { totalDegree: function(t33) {
  for (var e10 = 0, r10 = this.nodes(), i10 = 0; i10 < r10.length; i10++) e10 += r10[i10].degree(t33);
  return e10;
} });
var Kr = function(t33, e10, r10) {
  for (var i10 = 0; i10 < t33.length; i10++) {
    var n10 = t33[i10];
    if (!n10.locked()) {
      var a10 = n10._private.position, o10 = { x: null != e10.x ? e10.x - a10.x : 0, y: null != e10.y ? e10.y - a10.y : 0 };
      n10.isParent() && !(0 === o10.x && 0 === o10.y) && n10.children().shift(o10, r10), n10.dirtyBoundingBoxCache();
    }
  }
}, Ki = { field: "position", bindingEvent: "position", allowBinding: true, allowSetting: true, settingEvent: "position", settingTriggersEvent: true, triggerFnName: "emitAndNotify", allowGetting: true, validKeys: ["x", "y"], beforeGet: function(t33) {
  t33.updateCompoundBounds();
}, beforeSet: function(t33, e10) {
  Kr(t33, e10, false);
}, onSet: function(t33) {
  t33.dirtyCompoundBoundsCache();
}, canSet: function(t33) {
  return !t33.locked();
} };
(tew = tek = { position: XO.data(Ki), silentPosition: XO.data(HO({}, Ki, { allowBinding: false, allowSetting: true, settingTriggersEvent: false, allowGetting: false, beforeSet: function(t33, e10) {
  Kr(t33, e10, true);
}, onSet: function(t33) {
  t33.dirtyCompoundBoundsCache();
} })), positions: function(t33, e10) {
  if (Hg(t33)) e10 ? this.silentPosition(t33) : this.position(t33);
  else if (Hd(t33)) {
    var r10 = this.cy();
    r10.startBatch();
    for (var i10 = 0; i10 < this.length; i10++) {
      var n10 = this[i10], a10 = void 0;
      (a10 = t33(n10, i10)) && (e10 ? n10.silentPosition(a10) : n10.position(a10));
    }
    r10.endBatch();
  }
  return this;
}, silentPositions: function(t33) {
  return this.positions(t33, true);
}, shift: function(t33, e10, r10) {
  var i10;
  if (Hg(t33) ? (i10 = { x: Hf(t33.x) ? t33.x : 0, y: Hf(t33.y) ? t33.y : 0 }, r10 = e10) : Hu(t33) && Hf(e10) && ((i10 = { x: 0, y: 0 })[t33] = e10), null != i10) {
    var n10 = this.cy();
    n10.startBatch();
    for (var a10 = 0; a10 < this.length; a10++) {
      var o10 = this[a10];
      if (!(n10.hasCompoundNodes() && o10.isChild() && o10.ancestors().anySame(this))) {
        var s10 = o10.position(), l10 = { x: s10.x + i10.x, y: s10.y + i10.y };
        r10 ? o10.silentPosition(l10) : o10.position(l10);
      }
    }
    n10.endBatch();
  }
  return this;
}, silentShift: function(t33, e10) {
  return Hg(t33) ? this.shift(t33, true) : Hu(t33) && Hf(e10) && this.shift(t33, e10, true), this;
}, renderedPosition: function(t33, e10) {
  var r10 = this[0], i10 = this.cy(), n10 = i10.zoom(), a10 = i10.pan(), o10 = Hg(t33) ? t33 : void 0, s10 = void 0 !== o10 || void 0 !== e10 && Hu(t33);
  if (r10 && r10.isNode()) {
    if (!s10) return (o10 = j1(r10.position(), n10, a10), void 0 === t33) ? o10 : o10[t33];
    for (var l10 = 0; l10 < this.length; l10++) {
      var h10 = this[l10];
      void 0 !== e10 ? h10.position(t33, (e10 - a10[t33]) / n10) : void 0 !== o10 && h10.position(j2(o10, n10, a10));
    }
  } else if (!s10) return;
  return this;
}, relativePosition: function(t33, e10) {
  var r10 = this[0], i10 = this.cy(), n10 = Hg(t33) ? t33 : void 0, a10 = void 0 !== n10 || void 0 !== e10 && Hu(t33), o10 = i10.hasCompoundNodes();
  if (r10 && r10.isNode()) {
    if (a10) for (var s10 = 0; s10 < this.length; s10++) {
      var l10 = this[s10], h10 = o10 ? l10.parent() : null, u10 = h10 && h10.length > 0;
      u10 && (h10 = h10[0]);
      var d10 = u10 ? h10.position() : { x: 0, y: 0 };
      void 0 !== e10 ? l10.position(t33, e10 + d10[t33]) : void 0 !== n10 && l10.position({ x: n10.x + d10.x, y: n10.y + d10.y });
    }
    else {
      var p10 = r10.position(), g10 = o10 ? r10.parent() : null, f10 = g10 && g10.length > 0;
      f10 && (g10 = g10[0]);
      var y10 = f10 ? g10.position() : { x: 0, y: 0 };
      return (n10 = { x: p10.x - y10.x, y: p10.y - y10.y }, void 0 === t33) ? n10 : n10[t33];
    }
  } else if (!a10) return;
  return this;
} }).modelPosition = tew.point = tew.position, tew.modelPositions = tew.points = tew.positions, tew.renderedPoint = tew.renderedPosition, tew.relativePoint = tew.relativePosition, te_ = teT = {}, teT.renderedBoundingBox = function(t33) {
  var e10 = this.boundingBox(t33), r10 = this.cy(), i10 = r10.zoom(), n10 = r10.pan(), a10 = e10.x1 * i10 + n10.x, o10 = e10.x2 * i10 + n10.x, s10 = e10.y1 * i10 + n10.y, l10 = e10.y2 * i10 + n10.y;
  return { x1: a10, x2: o10, y1: s10, y2: l10, w: o10 - a10, h: l10 - s10 };
}, teT.dirtyCompoundBoundsCache = function() {
  var t33 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], e10 = this.cy();
  return e10.styleEnabled() && e10.hasCompoundNodes() && this.forEachUp(function(e11) {
    if (e11.isParent()) {
      var r10 = e11._private;
      r10.compoundBoundsClean = false, r10.bbCache = null, t33 || e11.emitAndNotify("bounds");
    }
  }), this;
}, teT.updateCompoundBounds = function() {
  var t33 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], e10 = this.cy();
  if (!e10.styleEnabled() || !e10.hasCompoundNodes() || !t33 && e10.batching()) return this;
  for (var r10 = 0; r10 < this.length; r10++) {
    var i10 = this[r10], n10 = i10._private;
    n10.compoundBoundsClean && !t33 || (function(t34) {
      if (t34.isParent()) {
        var e11 = t34._private, r11 = t34.children(), i11 = "include" === t34.pstyle("compound-sizing-wrt-labels").value, n11 = { width: { val: t34.pstyle("min-width").pfValue, left: t34.pstyle("min-width-bias-left"), right: t34.pstyle("min-width-bias-right") }, height: { val: t34.pstyle("min-height").pfValue, top: t34.pstyle("min-height-bias-top"), bottom: t34.pstyle("min-height-bias-bottom") } }, a10 = r11.boundingBox({ includeLabels: i11, includeOverlays: false, useCache: false }), o10 = e11.position;
        (0 === a10.w || 0 === a10.h) && ((a10 = { w: t34.pstyle("width").pfValue, h: t34.pstyle("height").pfValue }).x1 = o10.x - a10.w / 2, a10.x2 = o10.x + a10.w / 2, a10.y1 = o10.y - a10.h / 2, a10.y2 = o10.y + a10.h / 2);
        var s10 = n11.width.left.value;
        "px" === n11.width.left.units && n11.width.val > 0 && (s10 = 100 * s10 / n11.width.val);
        var l10 = n11.width.right.value;
        "px" === n11.width.right.units && n11.width.val > 0 && (l10 = 100 * l10 / n11.width.val);
        var h10 = n11.height.top.value;
        "px" === n11.height.top.units && n11.height.val > 0 && (h10 = 100 * h10 / n11.height.val);
        var u10 = n11.height.bottom.value;
        "px" === n11.height.bottom.units && n11.height.val > 0 && (u10 = 100 * u10 / n11.height.val);
        var d10 = x10(n11.width.val - a10.w, s10, l10), p10 = d10.biasDiff, g10 = d10.biasComplementDiff, f10 = x10(n11.height.val - a10.h, h10, u10), y10 = f10.biasDiff, v10 = f10.biasComplementDiff;
        e11.autoPadding = function(t35, e12, r12, i12) {
          if ("%" === r12.units) switch (i12) {
            case "width":
              return t35 > 0 ? r12.pfValue * t35 : 0;
            case "height":
              return e12 > 0 ? r12.pfValue * e12 : 0;
            case "average":
              return t35 > 0 && e12 > 0 ? r12.pfValue * (t35 + e12) / 2 : 0;
            case "min":
              return t35 > 0 && e12 > 0 ? t35 > e12 ? r12.pfValue * e12 : r12.pfValue * t35 : 0;
            case "max":
              return t35 > 0 && e12 > 0 ? t35 > e12 ? r12.pfValue * t35 : r12.pfValue * e12 : 0;
            default:
              return 0;
          }
          else if ("px" === r12.units) return r12.pfValue;
          else return 0;
        }(a10.w, a10.h, t34.pstyle("padding"), t34.pstyle("padding-relative-to").value), e11.autoWidth = Math.max(a10.w, n11.width.val), o10.x = (-p10 + a10.x1 + a10.x2 + g10) / 2, e11.autoHeight = Math.max(a10.h, n11.height.val), o10.y = (-y10 + a10.y1 + a10.y2 + v10) / 2;
      }
      function x10(t35, e12, r12) {
        var i12 = 0, n12 = 0, a11 = e12 + r12;
        return t35 > 0 && a11 > 0 && (i12 = e12 / a11 * t35, n12 = r12 / a11 * t35), { biasDiff: i12, biasComplementDiff: n12 };
      }
    }(i10), e10.batching() || (n10.compoundBoundsClean = true));
  }
  return this;
};
var Kn = function(t33) {
  return t33 === 1 / 0 || t33 === -1 / 0 ? 0 : t33;
}, Ka = function(t33, e10, r10, i10, n10) {
  i10 - e10 != 0 && n10 - r10 != 0 && null != e10 && null != r10 && null != i10 && null != n10 && (t33.x1 = e10 < t33.x1 ? e10 : t33.x1, t33.x2 = i10 > t33.x2 ? i10 : t33.x2, t33.y1 = r10 < t33.y1 ? r10 : t33.y1, t33.y2 = n10 > t33.y2 ? n10 : t33.y2, t33.w = t33.x2 - t33.x1, t33.h = t33.y2 - t33.y1);
}, Ko = function(t33, e10) {
  return null == e10 ? t33 : Ka(t33, e10.x1, e10.y1, e10.x2, e10.y2);
}, Ks = function(t33, e10, r10) {
  return jB(t33, e10, r10);
}, Kl = function(t33, e10, r10) {
  if (!e10.cy().headless()) {
    var i10, n10, a10 = e10._private, o10 = a10.rstyle, s10 = o10.arrowWidth / 2;
    if ("none" !== e10.pstyle(r10 + "-arrow-shape").value) {
      "source" === r10 ? (i10 = o10.srcX, n10 = o10.srcY) : "target" === r10 ? (i10 = o10.tgtX, n10 = o10.tgtY) : (i10 = o10.midX, n10 = o10.midY);
      var l10 = a10.arrowBounds = a10.arrowBounds || {}, h10 = l10[r10] = l10[r10] || {};
      h10.x1 = i10 - s10, h10.y1 = n10 - s10, h10.x2 = i10 + s10, h10.y2 = n10 + s10, h10.w = h10.x2 - h10.x1, h10.h = h10.y2 - h10.y1, Wd(h10, 1), Ka(t33, h10.x1, h10.y1, h10.x2, h10.y2);
    }
  }
}, Kh = function(t33, e10, r10) {
  if (!e10.cy().headless()) {
    a10 = r10 ? r10 + "-" : "";
    var i10 = e10._private, n10 = i10.rstyle;
    if (e10.pstyle(a10 + "label").strValue) {
      var a10, o10, s10, l10, h10, u10 = e10.pstyle("text-halign"), d10 = e10.pstyle("text-valign"), p10 = Ks(n10, "labelWidth", r10), g10 = Ks(n10, "labelHeight", r10), f10 = Ks(n10, "labelX", r10), y10 = Ks(n10, "labelY", r10), v10 = e10.pstyle(a10 + "text-margin-x").pfValue, x10 = e10.pstyle(a10 + "text-margin-y").pfValue, b10 = e10.isEdge(), w10 = e10.pstyle(a10 + "text-rotation"), k10 = e10.pstyle("text-outline-width").pfValue, _10 = e10.pstyle("text-border-width").pfValue / 2, T10 = e10.pstyle("text-background-padding").pfValue, E10 = p10 / 2, C10 = g10 / 2;
      if (b10) o10 = f10 - E10, s10 = f10 + E10, l10 = y10 - C10, h10 = y10 + C10;
      else {
        switch (u10.value) {
          case "left":
            o10 = f10 - p10, s10 = f10;
            break;
          case "center":
            o10 = f10 - E10, s10 = f10 + E10;
            break;
          case "right":
            o10 = f10, s10 = f10 + p10;
        }
        switch (d10.value) {
          case "top":
            l10 = y10 - g10, h10 = y10;
            break;
          case "center":
            l10 = y10 - C10, h10 = y10 + C10;
            break;
          case "bottom":
            l10 = y10, h10 = y10 + g10;
        }
      }
      var S10 = v10 - Math.max(k10, _10) - T10 - 2, A10 = v10 + Math.max(k10, _10) + T10 + 2, L10 = x10 - Math.max(k10, _10) - T10 - 2, N10 = x10 + Math.max(k10, _10) + T10 + 2;
      o10 += S10, s10 += A10, l10 += L10, h10 += N10;
      var I10 = r10 || "main", M10 = i10.labelBounds, R10 = M10[I10] = M10[I10] || {};
      R10.x1 = o10, R10.y1 = l10, R10.x2 = s10, R10.y2 = h10, R10.w = s10 - o10, R10.h = h10 - l10, R10.leftPad = S10, R10.rightPad = A10, R10.topPad = L10, R10.botPad = N10;
      var D10 = b10 && "autorotate" === w10.strValue, O10 = null != w10.pfValue && 0 !== w10.pfValue;
      if (D10 || O10) {
        var P10 = D10 ? Ks(i10.rstyle, "labelAngle", r10) : w10.pfValue, $10 = Math.cos(P10), B10 = Math.sin(P10), F10 = (o10 + s10) / 2, z10 = (l10 + h10) / 2;
        if (!b10) {
          switch (u10.value) {
            case "left":
              F10 = s10;
              break;
            case "right":
              F10 = o10;
          }
          switch (d10.value) {
            case "top":
              z10 = h10;
              break;
            case "bottom":
              z10 = l10;
          }
        }
        var U10 = function(t34, e11) {
          return { x: (t34 -= F10) * $10 - (e11 -= z10) * B10 + F10, y: t34 * B10 + e11 * $10 + z10 };
        }, G10 = U10(o10, l10), q10 = U10(o10, h10), Y10 = U10(s10, l10), H10 = U10(s10, h10);
        o10 = Math.min(G10.x, q10.x, Y10.x, H10.x), s10 = Math.max(G10.x, q10.x, Y10.x, H10.x), l10 = Math.min(G10.y, q10.y, Y10.y, H10.y), h10 = Math.max(G10.y, q10.y, Y10.y, H10.y);
      }
      var j10 = I10 + "Rot", W10 = M10[j10] = M10[j10] || {};
      W10.x1 = o10, W10.y1 = l10, W10.x2 = s10, W10.y2 = h10, W10.w = s10 - o10, W10.h = h10 - l10, Ka(t33, o10, l10, s10, h10), Ka(i10.labelBounds.all, o10, l10, s10, h10);
    }
    return t33;
  }
}, Kc = function(t33, e10) {
  if (!e10.cy().headless()) {
    var r10 = e10.pstyle("outline-opacity").value, i10 = e10.pstyle("outline-width").value;
    if (r10 > 0 && i10 > 0) {
      var n10 = e10.pstyle("outline-offset").value, a10 = e10.pstyle("shape").value, o10 = i10 + n10, s10 = (t33.w + 2 * o10) / t33.w, l10 = (t33.h + 2 * o10) / t33.h, h10 = 0;
      ["diamond", "pentagon", "round-triangle"].includes(a10) ? (s10 = (t33.w + 2.4 * o10) / t33.w, h10 = -o10 / 3.6) : ["concave-hexagon", "rhomboid", "right-rhomboid"].includes(a10) ? s10 = (t33.w + 2.4 * o10) / t33.w : "star" === a10 ? (s10 = (t33.w + 2.8 * o10) / t33.w, l10 = (t33.h + 2.6 * o10) / t33.h, h10 = -o10 / 3.8) : "triangle" === a10 ? (s10 = (t33.w + 2.8 * o10) / t33.w, l10 = (t33.h + 2.4 * o10) / t33.h, h10 = -o10 / 1.4) : "vee" === a10 && (s10 = (t33.w + 4.4 * o10) / t33.w, l10 = (t33.h + 3.8 * o10) / t33.h, h10 = -(0.5 * o10));
      var u10 = t33.h * l10 - t33.h, d10 = t33.w * s10 - t33.w;
      if (Wp(t33, [Math.ceil(u10 / 2), Math.ceil(d10 / 2)]), 0 !== h10) {
        var p10, g10 = (p10 = h10, { x1: t33.x1 + 0, x2: t33.x2 + 0, y1: t33.y1 + p10, y2: t33.y2 + p10, w: t33.w, h: t33.h });
        Wc(t33, g10);
      }
    }
  }
}, Ku = function(t33, e10) {
  var r10 = t33._private.cy, i10 = r10.styleEnabled(), n10 = r10.headless(), a10 = Wl(), o10 = t33._private, s10 = t33.isNode(), l10 = t33.isEdge(), h10 = o10.rstyle, u10 = s10 && i10 ? t33.pstyle("bounds-expansion").pfValue : [0], d10 = function(t34) {
    return "none" !== t34.pstyle("display").value;
  }, p10 = !i10 || d10(t33) && (!l10 || d10(t33.source()) && d10(t33.target()));
  if (p10) {
    var g10 = 0;
    i10 && e10.includeOverlays && 0 !== t33.pstyle("overlay-opacity").value && (g10 = t33.pstyle("overlay-padding").value);
    var f10 = 0;
    i10 && e10.includeUnderlays && 0 !== t33.pstyle("underlay-opacity").value && (f10 = t33.pstyle("underlay-padding").value);
    var y10 = Math.max(g10, f10), v10 = 0;
    if (i10 && (v10 = t33.pstyle("width").pfValue / 2), s10 && e10.includeNodes) {
      var x10 = t33.position();
      C10 = x10.x, S10 = x10.y;
      var b10 = t33.outerWidth() / 2, w10 = t33.outerHeight() / 2;
      k10 = C10 - b10, _10 = C10 + b10, Ka(a10, k10, T10 = S10 - w10, _10, E10 = S10 + w10), i10 && e10.includeOutlines && Kc(a10, t33);
    } else if (l10 && e10.includeEdges) {
      if (i10 && !n10) {
        var k10, _10, T10, E10, C10, S10, A10, L10 = t33.pstyle("curve-style").strValue;
        if (k10 = Math.min(h10.srcX, h10.midX, h10.tgtX), _10 = Math.max(h10.srcX, h10.midX, h10.tgtX), T10 = Math.min(h10.srcY, h10.midY, h10.tgtY), E10 = Math.max(h10.srcY, h10.midY, h10.tgtY), k10 -= v10, _10 += v10, Ka(a10, k10, T10 -= v10, _10, E10 += v10), "haystack" === L10) {
          var N10 = h10.haystackPts;
          if (N10 && 2 === N10.length) {
            if (k10 = N10[0].x, T10 = N10[0].y, _10 = N10[1].x, E10 = N10[1].y, k10 > _10) {
              var I10 = k10;
              k10 = _10, _10 = I10;
            }
            if (T10 > E10) {
              var M10 = T10;
              T10 = E10, E10 = M10;
            }
            Ka(a10, k10 - v10, T10 - v10, _10 + v10, E10 + v10);
          }
        } else if ("bezier" === L10 || "unbundled-bezier" === L10 || L10.endsWith("segments") || L10.endsWith("taxi")) {
          switch (L10) {
            case "bezier":
            case "unbundled-bezier":
              A10 = h10.bezierPts;
              break;
            case "segments":
            case "taxi":
            case "round-segments":
            case "round-taxi":
              A10 = h10.linePts;
          }
          if (null != A10) for (var R10 = 0; R10 < A10.length; R10++) {
            var D10 = A10[R10];
            k10 = D10.x - v10, _10 = D10.x + v10, Ka(a10, k10, T10 = D10.y - v10, _10, E10 = D10.y + v10);
          }
        }
      } else {
        var O10 = t33.source().position(), P10 = t33.target().position();
        if (k10 = O10.x, _10 = P10.x, T10 = O10.y, E10 = P10.y, k10 > _10) {
          var $10 = k10;
          k10 = _10, _10 = $10;
        }
        if (T10 > E10) {
          var B10 = T10;
          T10 = E10, E10 = B10;
        }
        k10 -= v10, _10 += v10, Ka(a10, k10, T10 -= v10, _10, E10 += v10);
      }
    }
    if (i10 && e10.includeEdges && l10 && (Kl(a10, t33, "mid-source"), Kl(a10, t33, "mid-target"), Kl(a10, t33, "source"), Kl(a10, t33, "target")), i10 && "yes" === t33.pstyle("ghost").value) {
      var F10 = t33.pstyle("ghost-offset-x").pfValue, z10 = t33.pstyle("ghost-offset-y").pfValue;
      Ka(a10, a10.x1 + F10, a10.y1 + z10, a10.x2 + F10, a10.y2 + z10);
    }
    var U10 = o10.bodyBounds = o10.bodyBounds || {};
    Wg(U10, a10), Wp(U10, u10), Wd(U10, 1), i10 && (k10 = a10.x1, _10 = a10.x2, T10 = a10.y1, E10 = a10.y2, Ka(a10, k10 - y10, T10 - y10, _10 + y10, E10 + y10));
    var G10 = o10.overlayBounds = o10.overlayBounds || {};
    Wg(G10, a10), Wp(G10, u10), Wd(G10, 1);
    var q10 = o10.labelBounds = o10.labelBounds || {};
    null != q10.all ? Wh(q10.all) : q10.all = Wl(), i10 && e10.includeLabels && (e10.includeMainLabels && Kh(a10, t33, null), l10 && (e10.includeSourceLabels && Kh(a10, t33, "source"), e10.includeTargetLabels && Kh(a10, t33, "target")));
  }
  return a10.x1 = Kn(a10.x1), a10.y1 = Kn(a10.y1), a10.x2 = Kn(a10.x2), a10.y2 = Kn(a10.y2), a10.w = Kn(a10.x2 - a10.x1), a10.h = Kn(a10.y2 - a10.y1), a10.w > 0 && a10.h > 0 && p10 && (Wp(a10, u10), Wd(a10, 1)), a10;
}, Kd = function(t33) {
  var e10 = 0, r10 = function(t34) {
    return (t34 ? 1 : 0) << e10++;
  };
  return 0 + r10(t33.incudeNodes) + r10(t33.includeEdges) + r10(t33.includeLabels) + r10(t33.includeMainLabels) + r10(t33.includeSourceLabels) + r10(t33.includeTargetLabels) + r10(t33.includeOverlays) + r10(t33.includeOutlines);
}, Kp = function(t33) {
  if (!t33.isEdge()) return 0;
  var e10 = t33.source().position(), r10 = t33.target().position(), i10 = function(t34) {
    return Math.round(t34);
  };
  return jf([i10(e10.x), i10(e10.y), i10(r10.x), i10(r10.y)]);
}, Kg = function(t33, e10) {
  var r10, i10 = t33._private, n10 = t33.isEdge(), a10 = null == e10 ? Km : Kd(e10), o10 = Kp(t33), s10 = i10.bbCachePosKey === o10, l10 = e10.useCache && s10, h10 = function(t34) {
    return null == t34._private.bbCache || t34._private.styleDirty;
  };
  if (!l10 || h10(t33) || n10 && (h10(t33.source()) || h10(t33.target())) ? (s10 || t33.recalculateRenderedStyle(l10), r10 = Ku(t33, Kf), i10.bbCache = r10, i10.bbCachePosKey = o10) : r10 = i10.bbCache, a10 !== Km) {
    var u10 = t33.isNode();
    r10 = Wl(), (e10.includeNodes && u10 || e10.includeEdges && !u10) && (e10.includeOverlays ? Ko(r10, i10.overlayBounds) : Ko(r10, i10.bodyBounds)), e10.includeLabels && (e10.includeMainLabels && (!n10 || e10.includeSourceLabels && e10.includeTargetLabels) ? Ko(r10, i10.labelBounds.all) : (e10.includeMainLabels && Ko(r10, i10.labelBounds.mainRot), e10.includeSourceLabels && Ko(r10, i10.labelBounds.sourceRot), e10.includeTargetLabels && Ko(r10, i10.labelBounds.targetRot))), r10.w = r10.x2 - r10.x1, r10.h = r10.y2 - r10.y1;
  }
  return r10;
}, Kf = { includeNodes: true, includeEdges: true, includeLabels: true, includeMainLabels: true, includeSourceLabels: true, includeTargetLabels: true, includeOverlays: true, includeUnderlays: true, includeOutlines: true, useCache: true }, Km = Kd(Kf), Ky = jD(Kf);
teT.boundingBox = function(t33) {
  var e10;
  if (1 !== this.length || null == this[0]._private.bbCache || this[0]._private.styleDirty || void 0 !== t33 && void 0 !== t33.useCache && true !== t33.useCache) {
    e10 = Wl();
    var r10 = Ky(t33 = t33 || Kf);
    if (this.cy().styleEnabled()) for (var i10 = 0; i10 < this.length; i10++) {
      var n10 = this[i10], a10 = n10._private, o10 = Kp(n10), s10 = a10.bbCachePosKey === o10, l10 = r10.useCache && s10 && !a10.styleDirty;
      n10.recalculateRenderedStyle(l10);
    }
    this.updateCompoundBounds(!t33.useCache);
    for (var h10 = 0; h10 < this.length; h10++) Ko(e10, Kg(this[h10], r10));
  } else t33 = void 0 === t33 ? Kf : Ky(t33), e10 = Kg(this[0], t33);
  return e10.x1 = Kn(e10.x1), e10.y1 = Kn(e10.y1), e10.x2 = Kn(e10.x2), e10.y2 = Kn(e10.y2), e10.w = Kn(e10.x2 - e10.x1), e10.h = Kn(e10.y2 - e10.y1), e10;
}, teT.dirtyBoundingBoxCache = function() {
  for (var t33 = 0; t33 < this.length; t33++) {
    var e10 = this[t33]._private;
    e10.bbCache = null, e10.bbCachePosKey = null, e10.bodyBounds = null, e10.overlayBounds = null, e10.labelBounds.all = null, e10.labelBounds.source = null, e10.labelBounds.target = null, e10.labelBounds.main = null, e10.labelBounds.sourceRot = null, e10.labelBounds.targetRot = null, e10.labelBounds.mainRot = null, e10.arrowBounds.source = null, e10.arrowBounds.target = null, e10.arrowBounds["mid-source"] = null, e10.arrowBounds["mid-target"] = null;
  }
  return this.emitAndNotify("bounds"), this;
}, teT.boundingBoxAt = function(t33) {
  var e10, r10 = this.nodes(), i10 = this.cy(), n10 = i10.hasCompoundNodes(), a10 = i10.collection();
  if (n10 && (a10 = r10.filter(function(t34) {
    return t34.isParent();
  }), r10 = r10.not(a10)), Hg(t33)) {
    var o10 = t33;
    t33 = function() {
      return o10;
    };
  }
  i10.startBatch(), r10.forEach(function(e11, r11) {
    return e11._private.bbAtOldPos = t33(e11, r11);
  }).silentPositions(t33), n10 && (a10.dirtyCompoundBoundsCache(), a10.dirtyBoundingBoxCache(), a10.updateCompoundBounds(true));
  var s10 = { x1: (e10 = this.boundingBox({ useCache: false })).x1, x2: e10.x2, w: e10.w, y1: e10.y1, y2: e10.y2, h: e10.h };
  return r10.silentPositions(function(t34) {
    return t34._private.bbAtOldPos;
  }), n10 && (a10.dirtyCompoundBoundsCache(), a10.dirtyBoundingBoxCache(), a10.updateCompoundBounds(true)), i10.endBatch(), s10;
}, te_.boundingbox = te_.bb = te_.boundingBox, te_.renderedBoundingbox = te_.renderedBoundingBox, teE = teC = {};
var Kv = function(t33) {
  t33.uppercaseName = HA(t33.name), t33.autoName = "auto" + t33.uppercaseName, t33.labelName = "label" + t33.uppercaseName, t33.outerName = "outer" + t33.uppercaseName, t33.uppercaseOuterName = HA(t33.outerName), teE[t33.name] = function() {
    var e10 = this[0], r10 = e10._private, i10 = r10.cy._private.styleEnabled;
    if (e10) {
      if (!i10) return 1;
      if (e10.isParent()) return e10.updateCompoundBounds(), r10[t33.autoName] || 0;
      var n10 = e10.pstyle(t33.name);
      return "label" === n10.strValue ? (e10.recalculateRenderedStyle(), r10.rstyle[t33.labelName] || 0) : n10.pfValue;
    }
  }, teE["outer" + t33.uppercaseName] = function() {
    var e10 = this[0], r10 = e10._private.cy._private.styleEnabled;
    if (e10) return r10 ? e10[t33.name]() + e10.pstyle("border-width").pfValue + 2 * e10.padding() : 1;
  }, teE["rendered" + t33.uppercaseName] = function() {
    var e10 = this[0];
    if (e10) return e10[t33.name]() * this.cy().zoom();
  }, teE["rendered" + t33.uppercaseOuterName] = function() {
    var e10 = this[0];
    if (e10) return e10[t33.outerName]() * this.cy().zoom();
  };
};
Kv({ name: "width" }), Kv({ name: "height" }), teC.padding = function() {
  var t33 = this[0], e10 = t33._private;
  return t33.isParent() && (t33.updateCompoundBounds(), void 0 !== e10.autoPadding) ? e10.autoPadding : t33.pstyle("padding").pfValue;
}, teC.paddedHeight = function() {
  var t33 = this[0];
  return t33.height() + 2 * t33.padding();
}, teC.paddedWidth = function() {
  var t33 = this[0];
  return t33.width() + 2 * t33.padding();
};
var Kx = function(t33, e10) {
  if (t33.isEdge()) return e10(t33);
}, Kb = function(t33, e10) {
  if (t33.isEdge()) {
    var r10 = t33.cy();
    return j1(e10(t33), r10.zoom(), r10.pan());
  }
}, Kw = function(t33, e10) {
  if (t33.isEdge()) {
    var r10 = t33.cy(), i10 = r10.pan(), n10 = r10.zoom();
    return e10(t33).map(function(t34) {
      return j1(t34, n10, i10);
    });
  }
}, Kk = { controlPoints: { get: function(t33) {
  return t33.renderer().getControlPoints(t33);
}, mult: true }, segmentPoints: { get: function(t33) {
  return t33.renderer().getSegmentPoints(t33);
}, mult: true }, sourceEndpoint: { get: function(t33) {
  return t33.renderer().getSourceEndpoint(t33);
} }, targetEndpoint: { get: function(t33) {
  return t33.renderer().getTargetEndpoint(t33);
} }, midpoint: { get: function(t33) {
  return t33.renderer().getEdgeMidpoint(t33);
} } }, K_ = HO({}, tek, teT, teC, Object.keys(Kk).reduce(function(t33, e10) {
  var r10 = Kk[e10], i10 = "rendered" + e10[0].toUpperCase() + e10.substr(1);
  return t33[e10] = function() {
    return Kx(this, r10.get);
  }, r10.mult ? t33[i10] = function() {
    return Kw(this, r10.get);
  } : t33[i10] = function() {
    return Kb(this, r10.get);
  }, t33;
}, {})), KT = function(t33, e10) {
  this.recycle(t33, e10);
};
function KE() {
  return false;
}
function KC() {
  return true;
}
KT.prototype = { instanceString: function() {
  return "event";
}, recycle: function(t33, e10) {
  if (this.isImmediatePropagationStopped = this.isPropagationStopped = this.isDefaultPrevented = KE, null != t33 && t33.preventDefault ? (this.type = t33.type, this.isDefaultPrevented = t33.defaultPrevented ? KC : KE) : null != t33 && t33.type ? e10 = t33 : this.type = t33, null != e10 && (this.originalEvent = e10.originalEvent, this.type = null != e10.type ? e10.type : this.type, this.cy = e10.cy, this.target = e10.target, this.position = e10.position, this.renderedPosition = e10.renderedPosition, this.namespace = e10.namespace, this.layout = e10.layout), null != this.cy && null != this.position && null == this.renderedPosition) {
    var r10 = this.position, i10 = this.cy.zoom(), n10 = this.cy.pan();
    this.renderedPosition = { x: r10.x * i10 + n10.x, y: r10.y * i10 + n10.y };
  }
  this.timeStamp = t33 && t33.timeStamp || Date.now();
}, preventDefault: function() {
  this.isDefaultPrevented = KC;
  var t33 = this.originalEvent;
  t33 && t33.preventDefault && t33.preventDefault();
}, stopPropagation: function() {
  this.isPropagationStopped = KC;
  var t33 = this.originalEvent;
  t33 && t33.stopPropagation && t33.stopPropagation();
}, stopImmediatePropagation: function() {
  this.isImmediatePropagationStopped = KC, this.stopPropagation();
}, isDefaultPrevented: KE, isPropagationStopped: KE, isImmediatePropagationStopped: KE };
var KS = /^([^.]+)(\.(?:[^.]+))?$/, KA = { qualifierCompare: function(t33, e10) {
  return t33 === e10;
}, eventMatches: function() {
  return true;
}, addEventFields: function() {
}, callbackContext: function(t33) {
  return t33;
}, beforeEmit: function() {
}, afterEmit: function() {
}, bubble: function() {
  return false;
}, parent: function() {
  return null;
}, context: null }, KL = Object.keys(KA), KN = {};
function KI() {
  for (var t33 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : KN, e10 = arguments.length > 1 ? arguments[1] : void 0, r10 = 0; r10 < KL.length; r10++) {
    var i10 = KL[r10];
    this[i10] = t33[i10] || KA[i10];
  }
  this.context = e10 || this.context, this.listeners = [], this.emitting = 0;
}
var KM = KI.prototype, KR = function(t33, e10, r10, i10, n10, a10, o10) {
  Hd(i10) && (n10 = i10, i10 = null), o10 && (a10 = null == a10 ? o10 : HO({}, a10, o10));
  for (var s10 = Hp(r10) ? r10 : r10.split(/\s+/), l10 = 0; l10 < s10.length; l10++) {
    var h10 = s10[l10];
    if (!Hk(h10)) {
      var u10 = h10.match(KS);
      if (u10 && false === e10(t33, h10, u10[1], u10[2] ? u10[2] : null, i10, n10, a10)) break;
    }
  }
}, KD = function(t33, e10) {
  return t33.addEventFields(t33.context, e10), new KT(e10.type, e10);
}, KO = function(t33, e10, r10) {
  if ("event" === Hc(r10)) {
    e10(t33, r10);
    return;
  }
  if (Hg(r10)) {
    e10(t33, KD(t33, r10));
    return;
  }
  for (var i10 = Hp(r10) ? r10 : r10.split(/\s+/), n10 = 0; n10 < i10.length; n10++) {
    var a10 = i10[n10];
    if (!Hk(a10)) {
      var o10 = a10.match(KS);
      if (o10) {
        var s10 = KD(t33, { type: o10[1], namespace: o10[2] ? o10[2] : null, target: t33.context });
        e10(t33, s10);
      }
    }
  }
};
KM.on = KM.addListener = function(t33, e10, r10, i10, n10) {
  return KR(this, function(t34, e11, r11, i11, n11, a10, o10) {
    Hd(a10) && t34.listeners.push({ event: e11, callback: a10, type: r11, namespace: i11, qualifier: n11, conf: o10 });
  }, t33, e10, r10, i10, n10), this;
}, KM.one = function(t33, e10, r10, i10) {
  return this.on(t33, e10, r10, i10, { one: true });
}, KM.removeListener = KM.off = function(t33, e10, r10, i10) {
  var n10 = this;
  0 !== this.emitting && (this.listeners = this.listeners.slice());
  for (var a10 = this.listeners, o10 = function(o11) {
    var s11 = a10[o11];
    KR(n10, function(e11, r11, i11, n11, l10, h10) {
      if ((s11.type === i11 || "*" === t33) && (!n11 && ".*" !== s11.namespace || s11.namespace === n11) && (!l10 || e11.qualifierCompare(s11.qualifier, l10)) && (!h10 || s11.callback === h10)) return a10.splice(o11, 1), false;
    }, t33, e10, r10, i10);
  }, s10 = a10.length - 1; s10 >= 0; s10--) o10(s10);
  return this;
}, KM.removeAllListeners = function() {
  return this.removeListener("*");
}, KM.emit = KM.trigger = function(t33, e10, r10) {
  var i10 = this.listeners, n10 = i10.length;
  return this.emitting++, Hp(e10) || (e10 = [e10]), KO(this, function(t34, a10) {
    null != r10 && (n10 = (i10 = [{ event: a10.event, type: a10.type, namespace: a10.namespace, callback: r10 }]).length);
    for (var o10 = 0; o10 < n10; o10++) !function(r11) {
      var n11 = i10[r11];
      if (n11.type === a10.type && (!n11.namespace || n11.namespace === a10.namespace || ".*" === n11.namespace) && t34.eventMatches(t34.context, n11, a10)) {
        var o11 = [a10];
        null != e10 && j$(o11, e10), t34.beforeEmit(t34.context, n11, a10), n11.conf && n11.conf.one && (t34.listeners = t34.listeners.filter(function(t35) {
          return t35 !== n11;
        }));
        var s10 = t34.callbackContext(t34.context, n11, a10), l10 = n11.callback.apply(s10, o11);
        t34.afterEmit(t34.context, n11, a10), false === l10 && (a10.stopPropagation(), a10.preventDefault());
      }
    }(o10);
    t34.bubble(t34.context) && !a10.isPropagationStopped() && t34.parent(t34.context).emit(a10, e10);
  }, t33), this.emitting--, this;
};
var KP = { qualifierCompare: function(t33, e10) {
  return null == t33 || null == e10 ? null == t33 && null == e10 : t33.sameText(e10);
}, eventMatches: function(t33, e10, r10) {
  var i10 = e10.qualifier;
  return null == i10 || t33 !== r10.target && Hv(r10.target) && i10.matches(r10.target);
}, addEventFields: function(t33, e10) {
  e10.cy = t33.cy(), e10.target = t33;
}, callbackContext: function(t33, e10, r10) {
  return null != e10.qualifier ? r10.target : t33;
}, beforeEmit: function(t33, e10) {
  e10.conf && e10.conf.once && e10.conf.onceCollection.removeListener(e10.event, e10.qualifier, e10.callback);
}, bubble: function() {
  return true;
}, parent: function(t33) {
  return t33.isChild() ? t33.parent() : t33.cy();
} }, K$ = function(t33) {
  return Hu(t33) ? new X0(t33) : t33;
}, KB = { createEmitter: function() {
  for (var t33 = 0; t33 < this.length; t33++) {
    var e10 = this[t33], r10 = e10._private;
    r10.emitter || (r10.emitter = new KI(KP, e10));
  }
  return this;
}, emitter: function() {
  return this._private.emitter;
}, on: function(t33, e10, r10) {
  for (var i10 = K$(e10), n10 = 0; n10 < this.length; n10++) this[n10].emitter().on(t33, i10, r10);
  return this;
}, removeListener: function(t33, e10, r10) {
  for (var i10 = K$(e10), n10 = 0; n10 < this.length; n10++) this[n10].emitter().removeListener(t33, i10, r10);
  return this;
}, removeAllListeners: function() {
  for (var t33 = 0; t33 < this.length; t33++) this[t33].emitter().removeAllListeners();
  return this;
}, one: function(t33, e10, r10) {
  for (var i10 = K$(e10), n10 = 0; n10 < this.length; n10++) this[n10].emitter().one(t33, i10, r10);
  return this;
}, once: function(t33, e10, r10) {
  for (var i10 = K$(e10), n10 = 0; n10 < this.length; n10++) this[n10].emitter().on(t33, i10, r10, { once: true, onceCollection: this });
}, emit: function(t33, e10) {
  for (var r10 = 0; r10 < this.length; r10++) this[r10].emitter().emit(t33, e10);
  return this;
}, emitAndNotify: function(t33, e10) {
  if (0 !== this.length) return this.cy().notify(t33, this), this.emit(t33, e10), this;
} };
XO.eventAliasesOn(KB);
var KF = { nodes: function(t33) {
  return this.filter(function(t34) {
    return t34.isNode();
  }).filter(t33);
}, edges: function(t33) {
  return this.filter(function(t34) {
    return t34.isEdge();
  }).filter(t33);
}, byGroup: function() {
  for (var t33 = this.spawn(), e10 = this.spawn(), r10 = 0; r10 < this.length; r10++) {
    var i10 = this[r10];
    i10.isNode() ? t33.push(i10) : e10.push(i10);
  }
  return { nodes: t33, edges: e10 };
}, filter: function(t33, e10) {
  if (void 0 === t33) return this;
  if (Hu(t33) || Hy(t33)) return new X0(t33).filter(this);
  if (Hd(t33)) {
    for (var r10 = this.spawn(), i10 = 0; i10 < this.length; i10++) {
      var n10 = this[i10];
      (e10 ? t33.apply(e10, [n10, i10, this]) : t33(n10, i10, this)) && r10.push(n10);
    }
    return r10;
  }
  return this.spawn();
}, not: function(t33) {
  if (!t33) return this;
  Hu(t33) && (t33 = this.filter(t33));
  for (var e10 = this.spawn(), r10 = 0; r10 < this.length; r10++) {
    var i10 = this[r10];
    t33.has(i10) || e10.push(i10);
  }
  return e10;
}, absoluteComplement: function() {
  return this.cy().mutableElements().not(this);
}, intersect: function(t33) {
  if (Hu(t33)) return this.filter(t33);
  for (var e10 = this.spawn(), r10 = this.length < t33.length, i10 = r10 ? this : t33, n10 = r10 ? t33 : this, a10 = 0; a10 < i10.length; a10++) {
    var o10 = i10[a10];
    n10.has(o10) && e10.push(o10);
  }
  return e10;
}, xor: function(t33) {
  var e10 = this._private.cy;
  Hu(t33) && (t33 = e10.$(t33));
  var r10 = this.spawn(), i10 = t33, n10 = function(t34, e11) {
    for (var i11 = 0; i11 < t34.length; i11++) {
      var n11 = t34[i11], a10 = n11._private.data.id;
      e11.hasElementWithId(a10) || r10.push(n11);
    }
  };
  return n10(this, i10), n10(i10, this), r10;
}, diff: function(t33) {
  var e10 = this._private.cy;
  Hu(t33) && (t33 = e10.$(t33));
  var r10 = this.spawn(), i10 = this.spawn(), n10 = this.spawn(), a10 = t33, o10 = function(t34, e11, r11) {
    for (var i11 = 0; i11 < t34.length; i11++) {
      var a11 = t34[i11], o11 = a11._private.data.id;
      e11.hasElementWithId(o11) ? n10.merge(a11) : r11.push(a11);
    }
  };
  return o10(this, a10, r10), o10(a10, this, i10), { left: r10, right: i10, both: n10 };
}, add: function(t33) {
  var e10 = this._private.cy;
  if (!t33) return this;
  if (Hu(t33)) {
    var r10 = t33;
    t33 = e10.mutableElements().filter(r10);
  }
  for (var i10 = this.spawnSelf(), n10 = 0; n10 < t33.length; n10++) {
    var a10 = t33[n10];
    this.has(a10) || i10.push(a10);
  }
  return i10;
}, merge: function(t33) {
  var e10 = this._private, r10 = e10.cy;
  if (!t33) return this;
  if (t33 && Hu(t33)) {
    var i10 = t33;
    t33 = r10.mutableElements().filter(i10);
  }
  for (var n10 = e10.map, a10 = 0; a10 < t33.length; a10++) {
    var o10 = t33[a10], s10 = o10._private.data.id;
    if (!n10.has(s10)) {
      var l10 = this.length++;
      this[l10] = o10, n10.set(s10, { ele: o10, index: l10 });
    }
  }
  return this;
}, unmergeAt: function(t33) {
  var e10 = this[t33].id(), r10 = this._private.map;
  this[t33] = void 0, r10.delete(e10);
  var i10 = t33 === this.length - 1;
  if (this.length > 1 && !i10) {
    var n10 = this.length - 1, a10 = this[n10], o10 = a10._private.data.id;
    this[n10] = void 0, this[t33] = a10, r10.set(o10, { ele: a10, index: t33 });
  }
  return this.length--, this;
}, unmergeOne: function(t33) {
  t33 = t33[0];
  var e10 = this._private, r10 = t33._private.data.id, i10 = e10.map.get(r10);
  if (!i10) return this;
  var n10 = i10.index;
  return this.unmergeAt(n10), this;
}, unmerge: function(t33) {
  var e10 = this._private.cy;
  if (!t33) return this;
  if (t33 && Hu(t33)) {
    var r10 = t33;
    t33 = e10.mutableElements().filter(r10);
  }
  for (var i10 = 0; i10 < t33.length; i10++) this.unmergeOne(t33[i10]);
  return this;
}, unmergeBy: function(t33) {
  for (var e10 = this.length - 1; e10 >= 0; e10--) t33(this[e10]) && this.unmergeAt(e10);
  return this;
}, map: function(t33, e10) {
  for (var r10 = [], i10 = 0; i10 < this.length; i10++) {
    var n10 = this[i10], a10 = e10 ? t33.apply(e10, [n10, i10, this]) : t33(n10, i10, this);
    r10.push(a10);
  }
  return r10;
}, reduce: function(t33, e10) {
  for (var r10 = e10, i10 = 0; i10 < this.length; i10++) r10 = t33(r10, this[i10], i10, this);
  return r10;
}, max: function(t33, e10) {
  for (var r10, i10 = -1 / 0, n10 = 0; n10 < this.length; n10++) {
    var a10 = this[n10], o10 = e10 ? t33.apply(e10, [a10, n10, this]) : t33(a10, n10, this);
    o10 > i10 && (i10 = o10, r10 = a10);
  }
  return { value: i10, ele: r10 };
}, min: function(t33, e10) {
  for (var r10, i10 = 1 / 0, n10 = 0; n10 < this.length; n10++) {
    var a10 = this[n10], o10 = e10 ? t33.apply(e10, [a10, n10, this]) : t33(a10, n10, this);
    o10 < i10 && (i10 = o10, r10 = a10);
  }
  return { value: i10, ele: r10 };
} };
KF.u = KF["|"] = KF["+"] = KF.union = KF.or = KF.add, KF["\\"] = KF["!"] = KF["-"] = KF.difference = KF.relativeComplement = KF.subtract = KF.not, KF.n = KF["&"] = KF["."] = KF.and = KF.intersection = KF.intersect, KF["^"] = KF["(+)"] = KF["(-)"] = KF.symmetricDifference = KF.symdiff = KF.xor, KF.fnFilter = KF.filterFn = KF.stdFilter = KF.filter, KF.complement = KF.abscomp = KF.absoluteComplement;
var Kz = function(t33, e10) {
  var r10 = t33.cy().hasCompoundNodes();
  function i10(t34) {
    var e11 = t34.pstyle("z-compound-depth");
    return "auto" === e11.value ? r10 ? t34.zDepth() : 0 : "bottom" === e11.value ? -1 : "top" === e11.value ? jk : 0;
  }
  var n10 = i10(t33) - i10(e10);
  if (0 !== n10) return n10;
  function a10(t34) {
    return "auto" === t34.pstyle("z-index-compare").value && t34.isNode() ? 1 : 0;
  }
  var o10 = a10(t33) - a10(e10);
  if (0 !== o10) return o10;
  var s10 = t33.pstyle("z-index").value - e10.pstyle("z-index").value;
  return 0 !== s10 ? s10 : t33.poolIndex() - e10.poolIndex();
}, KU = { forEach: function(t33, e10) {
  if (Hd(t33)) for (var r10 = this.length, i10 = 0; i10 < r10; i10++) {
    var n10 = this[i10];
    if (false === (e10 ? t33.apply(e10, [n10, i10, this]) : t33(n10, i10, this))) break;
  }
  return this;
}, toArray: function() {
  for (var t33 = [], e10 = 0; e10 < this.length; e10++) t33.push(this[e10]);
  return t33;
}, slice: function(t33, e10) {
  var r10 = [], i10 = this.length;
  null == e10 && (e10 = i10), null == t33 && (t33 = 0), t33 < 0 && (t33 = i10 + t33), e10 < 0 && (e10 = i10 + e10);
  for (var n10 = t33; n10 >= 0 && n10 < e10 && n10 < i10; n10++) r10.push(this[n10]);
  return this.spawn(r10);
}, size: function() {
  return this.length;
}, eq: function(t33) {
  return this[t33] || this.spawn();
}, first: function() {
  return this[0] || this.spawn();
}, last: function() {
  return this[this.length - 1] || this.spawn();
}, empty: function() {
  return 0 === this.length;
}, nonempty: function() {
  return !this.empty();
}, sort: function(t33) {
  if (!Hd(t33)) return this;
  var e10 = this.toArray().sort(t33);
  return this.spawn(e10);
}, sortByZIndex: function() {
  return this.sort(Kz);
}, zDepth: function() {
  var t33 = this[0];
  if (t33) {
    var e10 = t33._private;
    if ("nodes" === e10.group) {
      var r10 = e10.data.parent ? t33.parents().size() : 0;
      return t33.isParent() ? r10 : jk - 1;
    }
    var i10 = e10.source, n10 = e10.target;
    return Math.max(i10.zDepth(), n10.zDepth(), 0);
  }
} };
KU.each = KU.forEach, J_ = "undefined", ("undefined" == typeof Symbol ? "undefined" : Y6(Symbol)) != J_ && Y6(Symbol.iterator) != J_ && (KU[Symbol.iterator] = function() {
  var t33 = this, e10 = { value: void 0, done: false }, r10 = 0, i10 = this.length;
  return Y9({ next: function() {
    return r10 < i10 ? e10.value = t33[r10++] : (e10.value = void 0, e10.done = true), e10;
  } }, Symbol.iterator, function() {
    return this;
  });
});
var KG = jD({ nodeDimensionsIncludeLabels: false }), Kq = { layoutDimensions: function(t33) {
  if (t33 = KG(t33), this.takesUpSpace()) {
    if (t33.nodeDimensionsIncludeLabels) {
      var e10, r10 = this.boundingBox();
      e10 = { w: r10.w, h: r10.h };
    } else e10 = { w: this.outerWidth(), h: this.outerHeight() };
  } else e10 = { w: 0, h: 0 };
  return (0 === e10.w || 0 === e10.h) && (e10.w = e10.h = 1), e10;
}, layoutPositions: function(t33, e10, r10) {
  var i10 = this.nodes().filter(function(t34) {
    return !t34.isParent();
  }), n10 = this.cy(), a10 = e10.eles, o10 = function(t34) {
    return t34.id();
  }, s10 = HT(r10, o10);
  t33.emit({ type: "layoutstart", layout: t33 }), t33.animations = [];
  var l10 = function(t34, e11, r11) {
    var i11 = { x: e11.x1 + e11.w / 2, y: e11.y1 + e11.h / 2 }, n11 = { x: (r11.x - i11.x) * t34, y: (r11.y - i11.y) * t34 };
    return { x: i11.x + n11.x, y: i11.y + n11.y };
  }, h10 = e10.spacingFactor && 1 !== e10.spacingFactor, u10 = function() {
    if (!h10) return null;
    for (var t34 = Wl(), e11 = 0; e11 < i10.length; e11++) {
      var r11 = s10(i10[e11], e11);
      Wu(t34, r11.x, r11.y);
    }
    return t34;
  }(), d10 = HT(function(t34, r11) {
    var i11 = s10(t34, r11);
    return h10 && (i11 = l10(Math.abs(e10.spacingFactor), u10, i11)), null != e10.transform && (i11 = e10.transform(t34, i11)), i11;
  }, o10);
  if (e10.animate) {
    for (var p10 = 0; p10 < i10.length; p10++) {
      var g10 = i10[p10], f10 = d10(g10, p10);
      if (null == e10.animateFilter || e10.animateFilter(g10, p10)) {
        var y10 = g10.animation({ position: f10, duration: e10.animationDuration, easing: e10.animationEasing });
        t33.animations.push(y10);
      } else g10.position(f10);
    }
    if (e10.fit) {
      var v10 = n10.animation({ fit: { boundingBox: a10.boundingBoxAt(d10), padding: e10.padding }, duration: e10.animationDuration, easing: e10.animationEasing });
      t33.animations.push(v10);
    } else if (void 0 !== e10.zoom && void 0 !== e10.pan) {
      var x10 = n10.animation({ zoom: e10.zoom, pan: e10.pan, duration: e10.animationDuration, easing: e10.animationEasing });
      t33.animations.push(x10);
    }
    t33.animations.forEach(function(t34) {
      return t34.play();
    }), t33.one("layoutready", e10.ready), t33.emit({ type: "layoutready", layout: t33 }), VV.all(t33.animations.map(function(t34) {
      return t34.promise();
    })).then(function() {
      t33.one("layoutstop", e10.stop), t33.emit({ type: "layoutstop", layout: t33 });
    });
  } else i10.positions(d10), e10.fit && n10.fit(e10.eles, e10.padding), null != e10.zoom && n10.zoom(e10.zoom), e10.pan && n10.pan(e10.pan), t33.one("layoutready", e10.ready), t33.emit({ type: "layoutready", layout: t33 }), t33.one("layoutstop", e10.stop), t33.emit({ type: "layoutstop", layout: t33 });
  return this;
}, layout: function(t33) {
  return this.cy().makeLayout(HO({}, t33, { eles: this }));
} };
function KY(t33, e10, r10) {
  var i10, n10 = r10._private, a10 = n10.styleCache = n10.styleCache || [];
  return null != (i10 = a10[t33]) ? i10 : i10 = a10[t33] = e10(r10);
}
function KH(t33, e10) {
  return t33 = jm(t33), function(r10) {
    return KY(t33, e10, r10);
  };
}
function Kj(t33, e10) {
  t33 = jm(t33);
  var r10 = function(t34) {
    return e10.call(t34);
  };
  return function() {
    var e11 = this[0];
    if (e11) return KY(t33, r10, e11);
  };
}
Kq.createLayout = Kq.makeLayout = Kq.layout;
var KW = { recalculateRenderedStyle: function(t33) {
  var e10 = this.cy(), r10 = e10.renderer(), i10 = e10.styleEnabled();
  return r10 && i10 && r10.recalculateRenderedStyle(this, t33), this;
}, dirtyStyleCache: function() {
  var t33, e10 = this.cy(), r10 = function(t34) {
    return t34._private.styleCache = null;
  };
  return e10.hasCompoundNodes() ? ((t33 = this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t33.connectedEdges()), t33.forEach(r10)) : this.forEach(function(t34) {
    r10(t34), t34.connectedEdges().forEach(r10);
  }), this;
}, updateStyle: function(t33) {
  var e10 = this._private.cy;
  if (!e10.styleEnabled()) return this;
  if (e10.batching()) return e10._private.batchStyleEles.merge(this), this;
  var r10 = e10.hasCompoundNodes(), i10 = this;
  t33 = !!t33 || void 0 === t33, r10 && (i10 = this.spawnSelf().merge(this.descendants()).merge(this.parents()));
  var n10 = i10;
  return t33 ? n10.emitAndNotify("style") : n10.emit("style"), i10.forEach(function(t34) {
    return t34._private.styleDirty = true;
  }), this;
}, cleanStyle: function() {
  var t33 = this.cy();
  if (t33.styleEnabled()) for (var e10 = 0; e10 < this.length; e10++) {
    var r10 = this[e10];
    r10._private.styleDirty && (r10._private.styleDirty = false, t33.style().apply(r10));
  }
}, parsedStyle: function(t33) {
  var e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = this[0], i10 = r10.cy();
  if (i10.styleEnabled() && r10) {
    this.cleanStyle();
    var n10 = r10._private.style[t33];
    return null != n10 ? n10 : e10 ? i10.style().getDefaultProperty(t33) : null;
  }
}, numericStyle: function(t33) {
  var e10 = this[0];
  if (e10.cy().styleEnabled() && e10) {
    var r10 = e10.pstyle(t33);
    return void 0 !== r10.pfValue ? r10.pfValue : r10.value;
  }
}, numericStyleUnits: function(t33) {
  var e10 = this[0];
  if (e10.cy().styleEnabled() && e10) return e10.pstyle(t33).units;
}, renderedStyle: function(t33) {
  var e10 = this.cy();
  if (!e10.styleEnabled()) return this;
  var r10 = this[0];
  if (r10) return e10.style().getRenderedStyle(r10, t33);
}, style: function(t33, e10) {
  var r10 = this.cy();
  if (!r10.styleEnabled()) return this;
  var i10 = r10.style();
  if (Hg(t33)) i10.applyBypass(this, t33, false), this.emitAndNotify("style");
  else if (Hu(t33)) {
    if (void 0 === e10) {
      var n10 = this[0];
      return n10 ? i10.getStylePropertyValue(n10, t33) : void 0;
    }
    i10.applyBypass(this, t33, e10, false), this.emitAndNotify("style");
  } else if (void 0 === t33) {
    var a10 = this[0];
    return a10 ? i10.getRawStyle(a10) : void 0;
  }
  return this;
}, removeStyle: function(t33) {
  var e10 = this.cy();
  if (!e10.styleEnabled()) return this;
  var r10 = e10.style();
  if (void 0 === t33) for (var i10 = 0; i10 < this.length; i10++) {
    var n10 = this[i10];
    r10.removeAllBypasses(n10, false);
  }
  else {
    t33 = t33.split(/\s+/);
    for (var a10 = 0; a10 < this.length; a10++) {
      var o10 = this[a10];
      r10.removeBypasses(o10, t33, false);
    }
  }
  return this.emitAndNotify("style"), this;
}, show: function() {
  return this.css("display", "element"), this;
}, hide: function() {
  return this.css("display", "none"), this;
}, effectiveOpacity: function() {
  var t33 = this.cy();
  if (!t33.styleEnabled()) return 1;
  var e10 = t33.hasCompoundNodes(), r10 = this[0];
  if (r10) {
    var i10 = r10._private, n10 = r10.pstyle("opacity").value;
    if (!e10) return n10;
    var a10 = i10.data.parent ? r10.parents() : null;
    if (a10) for (var o10 = 0; o10 < a10.length; o10++) n10 *= a10[o10].pstyle("opacity").value;
    return n10;
  }
}, transparent: function() {
  if (!this.cy().styleEnabled()) return false;
  var t33 = this[0], e10 = t33.cy().hasCompoundNodes();
  if (t33) return e10 ? 0 === t33.effectiveOpacity() : 0 === t33.pstyle("opacity").value;
}, backgrounding: function() {
  return !!this.cy().styleEnabled() && !!this[0]._private.backgrounding;
} };
function KV(t33, e10) {
  var r10 = t33._private.data.parent ? t33.parents() : null;
  if (r10) {
    for (var i10 = 0; i10 < r10.length; i10++) if (!e10(r10[i10])) return false;
  }
  return true;
}
function KX(t33) {
  var e10 = t33.ok, r10 = t33.edgeOkViaNode || t33.ok, i10 = t33.parentOk || t33.ok;
  return function() {
    var t34 = this.cy();
    if (!t34.styleEnabled()) return true;
    var n10 = this[0], a10 = t34.hasCompoundNodes();
    if (n10) {
      var o10 = n10._private;
      if (!e10(n10)) return false;
      if (n10.isNode()) return !a10 || KV(n10, i10);
      var s10 = o10.source, l10 = o10.target;
      return r10(s10) && (!a10 || KV(s10, r10)) && (s10 === l10 || r10(l10) && (!a10 || KV(l10, r10)));
    }
  };
}
var KK = KH("eleTakesUpSpace", function(t33) {
  return "element" === t33.pstyle("display").value && 0 !== t33.width() && (!t33.isNode() || 0 !== t33.height());
});
KW.takesUpSpace = Kj("takesUpSpace", KX({ ok: KK }));
var KZ = KH("eleInteractive", function(t33) {
  return "yes" === t33.pstyle("events").value && "visible" === t33.pstyle("visibility").value && KK(t33);
}), KQ = KH("parentInteractive", function(t33) {
  return "visible" === t33.pstyle("visibility").value && KK(t33);
});
KW.interactive = Kj("interactive", KX({ ok: KZ, parentOk: KQ, edgeOkViaNode: KK })), KW.noninteractive = function() {
  var t33 = this[0];
  if (t33) return !t33.interactive();
};
var KJ = KH("eleVisible", function(t33) {
  return "visible" === t33.pstyle("visibility").value && 0 !== t33.pstyle("opacity").pfValue && KK(t33);
});
KW.visible = Kj("visible", KX({ ok: KJ, edgeOkViaNode: KK })), KW.hidden = function() {
  var t33 = this[0];
  if (t33) return !t33.visible();
}, KW.isBundledBezier = Kj("isBundledBezier", function() {
  return !!this.cy().styleEnabled() && !this.removed() && "bezier" === this.pstyle("curve-style").value && this.takesUpSpace();
}), KW.bypass = KW.css = KW.style, KW.renderedCss = KW.renderedStyle, KW.removeBypass = KW.removeCss = KW.removeStyle, KW.pstyle = KW.parsedStyle;
var K0 = {};
function K1(t33) {
  return function() {
    var e10 = arguments, r10 = [];
    if (2 === e10.length) {
      var i10 = e10[0], n10 = e10[1];
      this.on(t33.event, i10, n10);
    } else if (1 === e10.length && Hd(e10[0])) {
      var a10 = e10[0];
      this.on(t33.event, a10);
    } else if (0 === e10.length || 1 === e10.length && Hp(e10[0])) {
      for (var o10 = 1 === e10.length ? e10[0] : null, s10 = 0; s10 < this.length; s10++) {
        var l10 = this[s10], h10 = !t33.ableField || l10._private[t33.ableField], u10 = l10._private[t33.field] != t33.value;
        if (t33.overrideAble) {
          var d10 = t33.overrideAble(l10);
          if (void 0 !== d10 && (h10 = d10, !d10)) return this;
        }
        h10 && (l10._private[t33.field] = t33.value, u10 && r10.push(l10));
      }
      var p10 = this.spawn(r10);
      p10.updateStyle(), p10.emit(t33.event), o10 && p10.emit(o10);
    }
    return this;
  };
}
function K2(t33) {
  K0[t33.field] = function() {
    var e10 = this[0];
    if (e10) {
      if (t33.overrideField) {
        var r10 = t33.overrideField(e10);
        if (void 0 !== r10) return r10;
      }
      return e10._private[t33.field];
    }
  }, K0[t33.on] = K1({ event: t33.on, field: t33.field, ableField: t33.ableField, overrideAble: t33.overrideAble, value: true }), K0[t33.off] = K1({ event: t33.off, field: t33.field, ableField: t33.ableField, overrideAble: t33.overrideAble, value: false });
}
K2({ field: "locked", overrideField: function(t33) {
  return !!t33.cy().autolock() || void 0;
}, on: "lock", off: "unlock" }), K2({ field: "grabbable", overrideField: function(t33) {
  return !(t33.cy().autoungrabify() || t33.pannable()) && void 0;
}, on: "grabify", off: "ungrabify" }), K2({ field: "selected", ableField: "selectable", overrideAble: function(t33) {
  return !t33.cy().autounselectify() && void 0;
}, on: "select", off: "unselect" }), K2({ field: "selectable", overrideField: function(t33) {
  return !t33.cy().autounselectify() && void 0;
}, on: "selectify", off: "unselectify" }), K0.deselect = K0.unselect, K0.grabbed = function() {
  var t33 = this[0];
  if (t33) return t33._private.grabbed;
}, K2({ field: "active", on: "activate", off: "unactivate" }), K2({ field: "pannable", on: "panify", off: "unpanify" }), K0.inactive = function() {
  var t33 = this[0];
  if (t33) return !t33._private.active;
};
var K4 = {}, K5 = function(t33) {
  return function(e10) {
    for (var r10 = [], i10 = 0; i10 < this.length; i10++) {
      var n10 = this[i10];
      if (n10.isNode()) {
        for (var a10 = false, o10 = n10.connectedEdges(), s10 = 0; s10 < o10.length; s10++) {
          var l10 = o10[s10], h10 = l10.source(), u10 = l10.target();
          if (t33.noIncomingEdges && u10 === n10 && h10 !== n10 || t33.noOutgoingEdges && h10 === n10 && u10 !== n10) {
            a10 = true;
            break;
          }
        }
        a10 || r10.push(n10);
      }
    }
    return this.spawn(r10, true).filter(e10);
  };
}, K3 = function(t33) {
  return function(e10) {
    for (var r10 = [], i10 = 0; i10 < this.length; i10++) {
      var n10 = this[i10];
      if (n10.isNode()) for (var a10 = n10.connectedEdges(), o10 = 0; o10 < a10.length; o10++) {
        var s10 = a10[o10], l10 = s10.source(), h10 = s10.target();
        t33.outgoing && l10 === n10 ? (r10.push(s10), r10.push(h10)) : t33.incoming && h10 === n10 && (r10.push(s10), r10.push(l10));
      }
    }
    return this.spawn(r10, true).filter(e10);
  };
}, K6 = function(t33) {
  return function(e10) {
    for (var r10 = this, i10 = [], n10 = {}; ; ) {
      var a10 = t33.outgoing ? r10.outgoers() : r10.incomers();
      if (0 === a10.length) break;
      for (var o10 = false, s10 = 0; s10 < a10.length; s10++) {
        var l10 = a10[s10], h10 = l10.id();
        n10[h10] || (n10[h10] = true, i10.push(l10), o10 = true);
      }
      if (!o10) break;
      r10 = a10;
    }
    return this.spawn(i10, true).filter(e10);
  };
};
function K7(t33) {
  return function(e10) {
    for (var r10 = [], i10 = 0; i10 < this.length; i10++) {
      var n10 = this[i10]._private[t33.attr];
      n10 && r10.push(n10);
    }
    return this.spawn(r10, true).filter(e10);
  };
}
function K8(t33) {
  return function(e10) {
    var r10 = [], i10 = this._private.cy, n10 = t33 || {};
    Hu(e10) && (e10 = i10.$(e10));
    for (var a10 = 0; a10 < e10.length; a10++) for (var o10 = e10[a10]._private.edges, s10 = 0; s10 < o10.length; s10++) {
      var l10 = o10[s10], h10 = l10._private.data, u10 = this.hasElementWithId(h10.source) && e10.hasElementWithId(h10.target), d10 = e10.hasElementWithId(h10.source) && this.hasElementWithId(h10.target);
      (u10 || d10) && (!n10.thisIsSrc && !n10.thisIsTgt || (!n10.thisIsSrc || u10) && (!n10.thisIsTgt || d10)) && r10.push(l10);
    }
    return this.spawn(r10, true);
  };
}
function K9(t33) {
  return t33 = HO({}, { codirected: false }, t33), function(e10) {
    for (var r10 = [], i10 = this.edges(), n10 = t33, a10 = 0; a10 < i10.length; a10++) for (var o10 = i10[a10]._private, s10 = o10.source, l10 = s10._private.data.id, h10 = o10.data.target, u10 = s10._private.edges, d10 = 0; d10 < u10.length; d10++) {
      var p10 = u10[d10], g10 = p10._private.data, f10 = g10.target, y10 = g10.source, v10 = f10 === h10 && y10 === l10, x10 = l10 === f10 && h10 === y10;
      (n10.codirected && v10 || !n10.codirected && (v10 || x10)) && r10.push(p10);
    }
    return this.spawn(r10, true).filter(e10);
  };
}
K4.clearTraversalCache = function() {
  for (var t33 = 0; t33 < this.length; t33++) this[t33]._private.traversalCache = null;
}, HO(K4, { roots: K5({ noIncomingEdges: true }), leaves: K5({ noOutgoingEdges: true }), outgoers: X4(K3({ outgoing: true }), "outgoers"), successors: K6({ outgoing: true }), incomers: X4(K3({ incoming: true }), "incomers"), predecessors: K6({ incoming: true }) }), HO(K4, { neighborhood: X4(function(t33) {
  for (var e10 = [], r10 = this.nodes(), i10 = 0; i10 < r10.length; i10++) for (var n10 = r10[i10], a10 = n10.connectedEdges(), o10 = 0; o10 < a10.length; o10++) {
    var s10 = a10[o10], l10 = s10.source(), h10 = s10.target(), u10 = n10 === l10 ? h10 : l10;
    u10.length > 0 && e10.push(u10[0]), e10.push(s10[0]);
  }
  return this.spawn(e10, true).filter(t33);
}, "neighborhood"), closedNeighborhood: function(t33) {
  return this.neighborhood().add(this).filter(t33);
}, openNeighborhood: function(t33) {
  return this.neighborhood(t33);
} }), K4.neighbourhood = K4.neighborhood, K4.closedNeighbourhood = K4.closedNeighborhood, K4.openNeighbourhood = K4.openNeighborhood, HO(K4, { source: X4(function(t33) {
  var e10, r10 = this[0];
  return r10 && (e10 = r10._private.source || r10.cy().collection()), e10 && t33 ? e10.filter(t33) : e10;
}, "source"), target: X4(function(t33) {
  var e10, r10 = this[0];
  return r10 && (e10 = r10._private.target || r10.cy().collection()), e10 && t33 ? e10.filter(t33) : e10;
}, "target"), sources: K7({ attr: "source" }), targets: K7({ attr: "target" }) }), HO(K4, { edgesWith: X4(K8(), "edgesWith"), edgesTo: X4(K8({ thisIsSrc: true }), "edgesTo") }), HO(K4, { connectedEdges: X4(function(t33) {
  for (var e10 = [], r10 = 0; r10 < this.length; r10++) {
    var i10 = this[r10];
    if (i10.isNode()) for (var n10 = i10._private.edges, a10 = 0; a10 < n10.length; a10++) {
      var o10 = n10[a10];
      e10.push(o10);
    }
  }
  return this.spawn(e10, true).filter(t33);
}, "connectedEdges"), connectedNodes: X4(function(t33) {
  for (var e10 = [], r10 = 0; r10 < this.length; r10++) {
    var i10 = this[r10];
    i10.isEdge() && (e10.push(i10.source()[0]), e10.push(i10.target()[0]));
  }
  return this.spawn(e10, true).filter(t33);
}, "connectedNodes"), parallelEdges: X4(K9(), "parallelEdges"), codirectedEdges: X4(K9({ codirected: true }), "codirectedEdges") }), HO(K4, { components: function(t33) {
  var e10 = this, r10 = e10.cy(), i10 = r10.collection(), n10 = null == t33 ? e10.nodes() : t33.nodes(), a10 = [];
  null != t33 && n10.empty() && (n10 = t33.sources());
  var o10 = function(t34, e11) {
    i10.merge(t34), n10.unmerge(t34), e11.merge(t34);
  };
  if (n10.empty()) return e10.spawn();
  do
    !function() {
      var t34 = r10.collection();
      a10.push(t34);
      var i11 = n10[0];
      o10(i11, t34), e10.bfs({ directed: false, roots: i11, visit: function(e11) {
        return o10(e11, t34);
      } }), t34.forEach(function(r11) {
        r11.connectedEdges().forEach(function(r12) {
          e10.has(r12) && t34.has(r12.source()) && t34.has(r12.target()) && t34.merge(r12);
        });
      });
    }();
  while (n10.length > 0);
  return a10;
}, component: function() {
  var t33 = this[0];
  return t33.cy().mutableElements().components(t33)[0];
} }), K4.componentsOf = K4.components;
var Zt = function(t33, e10) {
  var r10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], i10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
  if (void 0 === t33) {
    jS("A collection must have a reference to the core");
    return;
  }
  var n10 = new jU(), a10 = false;
  if (e10) {
    if (e10.length > 0 && Hg(e10[0]) && !Hv(e10[0])) {
      a10 = true;
      for (var o10 = [], s10 = new jq(), l10 = 0, h10 = e10.length; l10 < h10; l10++) {
        var u10 = e10[l10];
        null == u10.data && (u10.data = {});
        var d10 = u10.data;
        if (null == d10.id) d10.id = jI();
        else if (t33.hasElementWithId(d10.id) || s10.has(d10.id)) continue;
        var p10 = new jY(t33, u10, false);
        o10.push(p10), s10.add(d10.id);
      }
      e10 = o10;
    }
  } else e10 = [];
  this.length = 0;
  for (var g10 = 0, f10 = e10.length; g10 < f10; g10++) {
    var y10 = e10[g10][0];
    if (null != y10) {
      var v10 = y10._private.data.id;
      (!r10 || !n10.has(v10)) && (r10 && n10.set(v10, { index: this.length, ele: y10 }), this[this.length] = y10, this.length++);
    }
  }
  this._private = { eles: this, cy: t33, get map() {
    return null == this.lazyMap && this.rebuildMap(), this.lazyMap;
  }, set map(m) {
    this.lazyMap = m;
  }, rebuildMap: function() {
    for (var t34 = this.lazyMap = new jU(), e11 = this.eles, r11 = 0; r11 < e11.length; r11++) {
      var i11 = e11[r11];
      t34.set(i11.id(), { index: r11, ele: i11 });
    }
  } }, r10 && (this._private.map = n10), a10 && !i10 && this.restore();
}, Ze = jY.prototype = Zt.prototype = Object.create(Array.prototype);
Ze.instanceString = function() {
  return "collection";
}, Ze.spawn = function(t33, e10) {
  return new Zt(this.cy(), t33, e10);
}, Ze.spawnSelf = function() {
  return this.spawn(this);
}, Ze.cy = function() {
  return this._private.cy;
}, Ze.renderer = function() {
  return this._private.cy.renderer();
}, Ze.element = function() {
  return this[0];
}, Ze.collection = function() {
  return Hx(this) ? this : new Zt(this._private.cy, [this]);
}, Ze.unique = function() {
  return new Zt(this._private.cy, this, true);
}, Ze.hasElementWithId = function(t33) {
  return t33 = "" + t33, this._private.map.has(t33);
}, Ze.getElementById = function(t33) {
  t33 = "" + t33;
  var e10 = this._private.cy, r10 = this._private.map.get(t33);
  return r10 ? r10.ele : new Zt(e10);
}, Ze.$id = Ze.getElementById, Ze.poolIndex = function() {
  var t33 = this._private.cy._private.elements, e10 = this[0]._private.data.id;
  return t33._private.map.get(e10).index;
}, Ze.indexOf = function(t33) {
  var e10 = t33[0]._private.data.id;
  return this._private.map.get(e10).index;
}, Ze.indexOfId = function(t33) {
  return t33 = "" + t33, this._private.map.get(t33).index;
}, Ze.json = function(t33) {
  var e10 = this.element(), r10 = this.cy();
  if (null == e10 && t33) return this;
  if (null != e10) {
    var i10 = e10._private;
    if (Hg(t33)) {
      if (r10.startBatch(), t33.data) {
        e10.data(t33.data);
        var n10 = i10.data;
        if (e10.isEdge()) {
          var a10 = false, o10 = {}, s10 = t33.data.source, l10 = t33.data.target;
          null != s10 && s10 != n10.source && (o10.source = "" + s10, a10 = true), null != l10 && l10 != n10.target && (o10.target = "" + l10, a10 = true), a10 && (e10 = e10.move(o10));
        } else {
          var h10 = "parent" in t33.data, u10 = t33.data.parent;
          h10 && (null != u10 || null != n10.parent) && u10 != n10.parent && (void 0 === u10 && (u10 = null), null != u10 && (u10 = "" + u10), e10 = e10.move({ parent: u10 }));
        }
      }
      t33.position && e10.position(t33.position);
      var d10 = function(r11, n11, a11) {
        var o11 = t33[r11];
        null != o11 && o11 !== i10[r11] && (o11 ? e10[n11]() : e10[a11]());
      };
      return d10("removed", "remove", "restore"), d10("selected", "select", "unselect"), d10("selectable", "selectify", "unselectify"), d10("locked", "lock", "unlock"), d10("grabbable", "grabify", "ungrabify"), d10("pannable", "panify", "unpanify"), null != t33.classes && e10.classes(t33.classes), r10.endBatch(), this;
    }
    if (void 0 === t33) {
      var p10 = { data: jN(i10.data), position: jN(i10.position), group: i10.group, removed: i10.removed, selected: i10.selected, selectable: i10.selectable, locked: i10.locked, grabbable: i10.grabbable, pannable: i10.pannable, classes: null };
      p10.classes = "";
      var g10 = 0;
      return i10.classes.forEach(function(t34) {
        return p10.classes += 0 == g10++ ? t34 : " " + t34;
      }), p10;
    }
  }
}, Ze.jsons = function() {
  for (var t33 = [], e10 = 0; e10 < this.length; e10++) {
    var r10 = this[e10].json();
    t33.push(r10);
  }
  return t33;
}, Ze.clone = function() {
  for (var t33 = this.cy(), e10 = [], r10 = 0; r10 < this.length; r10++) {
    var i10 = new jY(t33, this[r10].json(), false);
    e10.push(i10);
  }
  return new Zt(t33, e10);
}, Ze.copy = Ze.clone, Ze.restore = function() {
  for (var t33 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0], e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = this.cy(), i10 = r10._private, n10 = [], a10 = [], o10 = 0, s10 = this.length; o10 < s10; o10++) {
    var l10 = this[o10];
    (!e10 || l10.removed()) && (l10.isNode() ? n10.push(l10) : a10.push(l10));
  }
  M10 = n10.concat(a10);
  var h10 = function() {
    M10.splice(R10, 1), R10--;
  };
  for (R10 = 0; R10 < M10.length; R10++) {
    var u10 = M10[R10], d10 = u10._private, p10 = d10.data;
    if (u10.clearTraversalCache(), e10 || d10.removed) {
      if (void 0 === p10.id) p10.id = jI();
      else if (Hf(p10.id)) p10.id = "" + p10.id;
      else if (Hk(p10.id) || !Hu(p10.id)) {
        jS("Can not create element with invalid string ID `" + p10.id + "`"), h10();
        continue;
      } else if (r10.hasElementWithId(p10.id)) {
        jS("Can not create second element with ID `" + p10.id + "`"), h10();
        continue;
      }
    }
    var g10 = p10.id;
    if (u10.isNode()) {
      var f10 = d10.position;
      null == f10.x && (f10.x = 0), null == f10.y && (f10.y = 0);
    }
    if (u10.isEdge()) {
      for (var y10 = ["source", "target"], v10 = y10.length, x10 = false, b10 = 0; b10 < v10; b10++) {
        var w10 = y10[b10], k10 = p10[w10];
        Hf(k10) && (k10 = p10[w10] = "" + p10[w10]), null == k10 || "" === k10 ? (jS("Can not create edge `" + g10 + "` with unspecified " + w10), x10 = true) : r10.hasElementWithId(k10) || (jS("Can not create edge `" + g10 + "` with nonexistant " + w10 + " `" + k10 + "`"), x10 = true);
      }
      if (x10) {
        h10();
        continue;
      }
      var _10 = r10.getElementById(p10.source), T10 = r10.getElementById(p10.target);
      _10.same(T10) ? _10._private.edges.push(u10) : (_10._private.edges.push(u10), T10._private.edges.push(u10)), u10._private.source = _10, u10._private.target = T10;
    }
    d10.map = new jU(), d10.map.set(g10, { ele: u10, index: 0 }), d10.removed = false, e10 && r10.addToPool(u10);
  }
  for (var E10 = 0; E10 < n10.length; E10++) {
    var C10 = n10[E10], S10 = C10._private.data;
    Hf(S10.parent) && (S10.parent = "" + S10.parent);
    var A10 = S10.parent;
    if (null != A10 || C10._private.parent) {
      var L10 = C10._private.parent ? r10.collection().merge(C10._private.parent) : r10.getElementById(A10);
      if (L10.empty()) S10.parent = void 0;
      else if (L10[0].removed()) jL("Node added with missing parent, reference to parent removed"), S10.parent = void 0, C10._private.parent = null;
      else {
        for (var N10 = false, I10 = L10; !I10.empty(); ) {
          if (C10.same(I10)) {
            N10 = true, S10.parent = void 0;
            break;
          }
          I10 = I10.parent();
        }
        N10 || (L10[0]._private.children.push(C10), C10._private.parent = L10[0], i10.hasCompoundNodes = true);
      }
    }
  }
  if (M10.length > 0) {
    for (var M10, R10, D10 = M10.length === this.length ? this : new Zt(r10, M10), O10 = 0; O10 < D10.length; O10++) {
      var P10 = D10[O10];
      P10.isNode() || (P10.parallelEdges().clearTraversalCache(), P10.source().clearTraversalCache(), P10.target().clearTraversalCache());
    }
    (i10.hasCompoundNodes ? r10.collection().merge(D10).merge(D10.connectedNodes()).merge(D10.parent()) : D10).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t33), t33 ? D10.emitAndNotify("add") : e10 && D10.emit("add");
  }
  return this;
}, Ze.removed = function() {
  var t33 = this[0];
  return t33 && t33._private.removed;
}, Ze.inside = function() {
  var t33 = this[0];
  return t33 && !t33._private.removed;
}, Ze.remove = function() {
  for (var t33 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0], e10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = [], i10 = {}, n10 = this._private.cy, a10 = 0, o10 = this.length; a10 < o10; a10++) (function t34(n11) {
    var a11 = i10[n11.id()];
    e10 && n11.removed() || a11 || (i10[n11.id()] = true, n11.isNode() ? (r10.push(n11), function(e11) {
      for (var r11 = e11._private.edges, i11 = 0; i11 < r11.length; i11++) t34(r11[i11]);
    }(n11), function(e11) {
      for (var r11 = e11._private.children, i11 = 0; i11 < r11.length; i11++) t34(r11[i11]);
    }(n11)) : r10.unshift(n11));
  })(this[a10]);
  function s10(t34, e11) {
    jO(t34._private.edges, e11), t34.clearTraversalCache();
  }
  var l10 = [];
  l10.ids = {}, this.dirtyCompoundBoundsCache(), e10 && n10.removeFromPool(r10);
  for (var h10 = 0; h10 < r10.length; h10++) {
    var u10 = r10[h10];
    if (u10.isEdge()) {
      var d10 = u10.source()[0], p10 = u10.target()[0];
      s10(d10, u10), s10(p10, u10);
      for (var g10 = u10.parallelEdges(), f10 = 0; f10 < g10.length; f10++) {
        var y10 = g10[f10];
        (function(t34) {
          t34.clearTraversalCache();
        })(y10), y10.isBundledBezier() && y10.dirtyBoundingBoxCache();
      }
    } else {
      var v10 = u10.parent();
      0 !== v10.length && function(t34, e11) {
        e11 = e11[0];
        var r11 = (t34 = t34[0])._private.children, i11 = t34.id();
        jO(r11, e11), e11._private.parent = null, l10.ids[i11] || (l10.ids[i11] = true, l10.push(t34));
      }(v10, u10);
    }
    e10 && (u10._private.removed = true);
  }
  var x10 = n10._private.elements;
  n10._private.hasCompoundNodes = false;
  for (var b10 = 0; b10 < x10.length; b10++) if (x10[b10].isParent()) {
    n10._private.hasCompoundNodes = true;
    break;
  }
  var w10 = new Zt(this.cy(), r10);
  w10.size() > 0 && (t33 ? w10.emitAndNotify("remove") : e10 && w10.emit("remove"));
  for (var k10 = 0; k10 < l10.length; k10++) {
    var _10 = l10[k10];
    e10 && _10.removed() || _10.updateStyle();
  }
  return w10;
}, Ze.move = function(t33) {
  var e10 = this._private.cy, r10 = this, i10 = function(t34) {
    return null == t34 ? t34 : "" + t34;
  };
  if (void 0 !== t33.source || void 0 !== t33.target) {
    var n10 = i10(t33.source), a10 = i10(t33.target), o10 = null != n10 && e10.hasElementWithId(n10), s10 = null != a10 && e10.hasElementWithId(a10);
    (o10 || s10) && (e10.batch(function() {
      r10.remove(false, false), r10.emitAndNotify("moveout");
      for (var t34 = 0; t34 < r10.length; t34++) {
        var e11 = r10[t34], i11 = e11._private.data;
        e11.isEdge() && (o10 && (i11.source = n10), s10 && (i11.target = a10));
      }
      r10.restore(false, false);
    }), r10.emitAndNotify("move"));
  } else if (void 0 !== t33.parent) {
    var l10 = i10(t33.parent);
    if (null === l10 || e10.hasElementWithId(l10)) {
      var h10 = null === l10 ? void 0 : l10;
      e10.batch(function() {
        var t34 = r10.remove(false, false);
        t34.emitAndNotify("moveout");
        for (var e11 = 0; e11 < r10.length; e11++) {
          var i11 = r10[e11], n11 = i11._private.data;
          i11.isNode() && (n11.parent = h10);
        }
        t34.restore(false, false);
      }), r10.emitAndNotify("move");
    }
  }
  return this;
}, [VU, XP, X$, X2, X5, teb, X9, K_, KB, KF, { isNode: function() {
  return "nodes" === this.group();
}, isEdge: function() {
  return "edges" === this.group();
}, isLoop: function() {
  return this.isEdge() && this.source()[0] === this.target()[0];
}, isSimple: function() {
  return this.isEdge() && this.source()[0] !== this.target()[0];
}, group: function() {
  var t33 = this[0];
  if (t33) return t33._private.group;
} }, KU, Kq, KW, K0, K4].forEach(function(t33) {
  HO(Ze, t33);
});
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var Zr = /* @__PURE__ */ function() {
  function t33(t34) {
    return -t34.tension * t34.x - t34.friction * t34.v;
  }
  function e10(e11, r10, i10) {
    var n10 = { x: e11.x + i10.dx * r10, v: e11.v + i10.dv * r10, tension: e11.tension, friction: e11.friction };
    return { dx: n10.v, dv: t33(n10) };
  }
  return function r10(i10, n10, a10) {
    var o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10 = { x: -1, v: 0, tension: null, friction: null }, x10 = [0], b10 = 0;
    for (i10 = parseFloat(i10) || 500, n10 = parseFloat(n10) || 20, a10 = a10 || null, v10.tension = i10, v10.friction = n10, f10 = (g10 = null !== a10) ? (b10 = r10(i10, n10)) / a10 * 0.016 : 0.016; s10 = { dx: (o10 = y10 || v10).v, dv: t33(o10) }, l10 = e10(o10, 0.5 * f10, s10), h10 = e10(o10, 0.5 * f10, l10), u10 = e10(o10, f10, h10), d10 = 1 / 6 * (s10.dx + 2 * (l10.dx + h10.dx) + u10.dx), p10 = 1 / 6 * (s10.dv + 2 * (l10.dv + h10.dv) + u10.dv), o10.x = o10.x + d10 * f10, o10.v = o10.v + p10 * f10, y10 = o10, x10.push(1 + y10.x), b10 += 16, Math.abs(y10.x) > 1e-4 && Math.abs(y10.v) > 1e-4; ) ;
    return g10 ? function(t34) {
      return x10[t34 * (x10.length - 1) | 0];
    } : b10;
  };
}(), Zi = function(t33, e10, r10, i10) {
  var n10 = (
    /*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */
    function(t34, e11, r11, i11) {
      var n11 = "undefined" != typeof Float32Array;
      if (4 != arguments.length) return false;
      for (var a10 = 0; a10 < 4; ++a10) if ("number" != typeof arguments[a10] || isNaN(arguments[a10]) || !isFinite(arguments[a10])) return false;
      t34 = Math.min(t34, 1), r11 = Math.min(r11, 1), t34 = Math.max(t34, 0), r11 = Math.max(r11, 0);
      var o10 = n11 ? new Float32Array(11) : Array(11);
      function s10(t35, e12, r12) {
        return (((1 - 3 * r12 + 3 * e12) * t35 + (3 * r12 - 6 * e12)) * t35 + 3 * e12) * t35;
      }
      function l10(t35, e12, r12) {
        return 3 * (1 - 3 * r12 + 3 * e12) * t35 * t35 + 2 * (3 * r12 - 6 * e12) * t35 + 3 * e12;
      }
      var h10 = false, u10 = function(n12) {
        return (h10 || (h10 = true, (t34 !== e11 || r11 !== i11) && function() {
          for (var e12 = 0; e12 < 11; ++e12) o10[e12] = s10(0.1 * e12, t34, r11);
        }()), t34 === e11 && r11 === i11) ? n12 : 0 === n12 ? 0 : 1 === n12 ? 1 : s10(function(e12) {
          for (var i12 = 0, n13 = 1; 10 !== n13 && o10[n13] <= e12; ++n13) i12 += 0.1;
          var a11 = i12 + (e12 - o10[--n13]) / (o10[n13 + 1] - o10[n13]) * 0.1, h11 = l10(a11, t34, r11);
          return h11 >= 1e-3 ? function(e13, i13) {
            for (var n14 = 0; n14 < 4; ++n14) {
              var a12 = l10(i13, t34, r11);
              if (0 === a12) break;
              var o11 = s10(i13, t34, r11) - e13;
              i13 -= o11 / a12;
            }
            return i13;
          }(e12, a11) : 0 === h11 ? a11 : function(e13, i13, n14) {
            var a12, o11, l11 = 0;
            do
              (a12 = s10(o11 = i13 + (n14 - i13) / 2, t34, r11) - e13) > 0 ? n14 = o11 : i13 = o11;
            while (Math.abs(a12) > 1e-7 && ++l11 < 10);
            return o11;
          }(e12, i12, i12 + 0.1);
        }(n12), e11, i11);
      };
      u10.getControlPoints = function() {
        return [{ x: t34, y: e11 }, { x: r11, y: i11 }];
      };
      var d10 = "generateBezier(" + [t34, e11, r11, i11] + ")";
      return u10.toString = function() {
        return d10;
      }, u10;
    }(t33, e10, r10, i10)
  );
  return function(t34, e11, r11) {
    return t34 + (e11 - t34) * n10(r11);
  };
}, Zn = { linear: function(t33, e10, r10) {
  return t33 + (e10 - t33) * r10;
}, ease: Zi(0.25, 0.1, 0.25, 1), "ease-in": Zi(0.42, 0, 1, 1), "ease-out": Zi(0, 0, 0.58, 1), "ease-in-out": Zi(0.42, 0, 0.58, 1), "ease-in-sine": Zi(0.47, 0, 0.745, 0.715), "ease-out-sine": Zi(0.39, 0.575, 0.565, 1), "ease-in-out-sine": Zi(0.445, 0.05, 0.55, 0.95), "ease-in-quad": Zi(0.55, 0.085, 0.68, 0.53), "ease-out-quad": Zi(0.25, 0.46, 0.45, 0.94), "ease-in-out-quad": Zi(0.455, 0.03, 0.515, 0.955), "ease-in-cubic": Zi(0.55, 0.055, 0.675, 0.19), "ease-out-cubic": Zi(0.215, 0.61, 0.355, 1), "ease-in-out-cubic": Zi(0.645, 0.045, 0.355, 1), "ease-in-quart": Zi(0.895, 0.03, 0.685, 0.22), "ease-out-quart": Zi(0.165, 0.84, 0.44, 1), "ease-in-out-quart": Zi(0.77, 0, 0.175, 1), "ease-in-quint": Zi(0.755, 0.05, 0.855, 0.06), "ease-out-quint": Zi(0.23, 1, 0.32, 1), "ease-in-out-quint": Zi(0.86, 0, 0.07, 1), "ease-in-expo": Zi(0.95, 0.05, 0.795, 0.035), "ease-out-expo": Zi(0.19, 1, 0.22, 1), "ease-in-out-expo": Zi(1, 0, 0, 1), "ease-in-circ": Zi(0.6, 0.04, 0.98, 0.335), "ease-out-circ": Zi(0.075, 0.82, 0.165, 1), "ease-in-out-circ": Zi(0.785, 0.135, 0.15, 0.86), spring: function(t33, e10, r10) {
  if (0 === r10) return Zn.linear;
  var i10 = Zr(t33, e10, r10);
  return function(t34, e11, r11) {
    return t34 + (e11 - t34) * i10(r11);
  };
}, "cubic-bezier": Zi };
function Za(t33, e10, r10, i10, n10) {
  if (1 === i10 || e10 === r10) return r10;
  var a10 = n10(e10, r10, i10);
  return null == t33 || ((t33.roundValue || t33.color) && (a10 = Math.round(a10)), void 0 !== t33.min && (a10 = Math.max(a10, t33.min)), void 0 !== t33.max && (a10 = Math.min(a10, t33.max))), a10;
}
function Zo(t33, e10) {
  return null == t33.pfValue && null == t33.value ? t33 : null != t33.pfValue && (null == e10 || "%" !== e10.type.units) ? t33.pfValue : t33.value;
}
function Zs(t33, e10, r10, i10, n10) {
  var a10 = null != n10 ? n10.type : null;
  r10 < 0 ? r10 = 0 : r10 > 1 && (r10 = 1);
  var o10 = Zo(t33, n10), s10 = Zo(e10, n10);
  if (Hf(o10) && Hf(s10)) return Za(a10, o10, s10, r10, i10);
  if (Hp(o10) && Hp(s10)) {
    for (var l10 = [], h10 = 0; h10 < s10.length; h10++) {
      var u10 = o10[h10], d10 = s10[h10];
      if (null != u10 && null != d10) {
        var p10 = Za(a10, u10, d10, r10, i10);
        l10.push(p10);
      } else l10.push(d10);
    }
    return l10;
  }
}
function Zl(t33, e10) {
  return null != t33 && null != e10 && (!!(Hf(t33) && Hf(e10)) || !!t33 && !!e10);
}
function Zh(t33, e10) {
  var r10 = e10._private.aniEles, i10 = [];
  function n10(e11, r11) {
    var n11 = e11._private, a11 = n11.animation.current, o11 = n11.animation.queue, s11 = false;
    if (0 === a11.length) {
      var l11 = o11.shift();
      l11 && a11.push(l11);
    }
    for (var h10 = function(t34) {
      for (var e12 = t34.length - 1; e12 >= 0; e12--) (0, t34[e12])();
      t34.splice(0, t34.length);
    }, u10 = a11.length - 1; u10 >= 0; u10--) {
      var d10 = a11[u10], p10 = d10._private;
      if (p10.stopped) {
        a11.splice(u10, 1), p10.hooked = false, p10.playing = false, p10.started = false, h10(p10.frames);
        continue;
      }
      (p10.playing || p10.applying) && (p10.playing && p10.applying && (p10.applying = false), p10.started || function(t34, e12, r12, i11) {
        var n12 = e12._private;
        n12.started = true, n12.startTime = r12 - n12.progress * n12.duration;
      }(0, d10, t33), function(t34, e12, r12, i11) {
        var n12, a12, o12, s12, l12 = !i11, h11 = t34._private, u11 = e12._private, d11 = u11.easing, p11 = u11.startTime, g10 = (i11 ? t34 : t34.cy()).style();
        u11.easingImpl || (null == d11 ? u11.easingImpl = Zn.linear : (n12 = Hu(d11) ? g10.parse("transition-timing-function", d11).value : d11, Hu(n12) ? (a12 = n12, o12 = []) : (a12 = n12[1], o12 = n12.slice(2).map(function(t35) {
          return +t35;
        })), o12.length > 0 ? ("spring" === a12 && o12.push(u11.duration), u11.easingImpl = Zn[a12].apply(null, o12)) : u11.easingImpl = Zn[a12]));
        var f10 = u11.easingImpl;
        if (s12 = 0 === u11.duration ? 1 : (r12 - p11) / u11.duration, u11.applying && (s12 = u11.progress), s12 < 0 ? s12 = 0 : s12 > 1 && (s12 = 1), null == u11.delay) {
          var y10 = u11.startPosition, v10 = u11.position;
          if (v10 && l12 && !t34.locked()) {
            var x10 = {};
            Zl(y10.x, v10.x) && (x10.x = Zs(y10.x, v10.x, s12, f10)), Zl(y10.y, v10.y) && (x10.y = Zs(y10.y, v10.y, s12, f10)), t34.position(x10);
          }
          var b10 = u11.startPan, w10 = u11.pan, k10 = h11.pan, _10 = null != w10 && i11;
          _10 && (Zl(b10.x, w10.x) && (k10.x = Zs(b10.x, w10.x, s12, f10)), Zl(b10.y, w10.y) && (k10.y = Zs(b10.y, w10.y, s12, f10)), t34.emit("pan"));
          var T10 = u11.startZoom, E10 = u11.zoom, C10 = null != E10 && i11;
          C10 && (Zl(T10, E10) && (h11.zoom = Ws(h11.minZoom, Zs(T10, E10, s12, f10), h11.maxZoom)), t34.emit("zoom")), (_10 || C10) && t34.emit("viewport");
          var S10 = u11.style;
          if (S10 && S10.length > 0 && l12) {
            for (var A10 = 0; A10 < S10.length; A10++) {
              var L10 = S10[A10], N10 = L10.name, I10 = u11.startStyle[N10], M10 = g10.properties[I10.name], R10 = Zs(I10, L10, s12, f10, M10);
              g10.overrideBypass(t34, N10, R10);
            }
            t34.emit("style");
          }
        }
        u11.progress = s12;
      }(e11, d10, t33, r11), p10.applying && (p10.applying = false), h10(p10.frames), null != p10.step && p10.step(t33), d10.completed() && (a11.splice(u10, 1), p10.hooked = false, p10.playing = false, p10.started = false, h10(p10.completes)), s11 = true);
    }
    return r11 || 0 !== a11.length || 0 !== o11.length || i10.push(e11), s11;
  }
  for (var a10 = false, o10 = 0; o10 < r10.length; o10++) {
    var s10 = n10(r10[o10]);
    a10 = a10 || s10;
  }
  var l10 = n10(e10, true);
  (a10 || l10) && (r10.length > 0 ? e10.notify("draw", r10) : e10.notify("draw")), r10.unmerge(i10), e10.emit("step");
}
var Zc = { animate: XO.animate(), animation: XO.animation(), animated: XO.animated(), clearQueue: XO.clearQueue(), delay: XO.delay(), delayAnimation: XO.delayAnimation(), stop: XO.stop(), addToAnimationPool: function(t33) {
  this.styleEnabled() && this._private.aniEles.merge(t33);
}, stopAnimationLoop: function() {
  this._private.animationsRunning = false;
}, startAnimationLoop: function() {
  var t33 = this;
  if (t33._private.animationsRunning = true, t33.styleEnabled()) {
    var e10 = t33.renderer();
    e10 && e10.beforeRender ? e10.beforeRender(function(e11, r10) {
      Zh(r10, t33);
    }, e10.beforeRenderPriorities.animations) : function e11() {
      t33._private.animationsRunning && jh(function(r10) {
        Zh(r10, t33), e11();
      });
    }();
  }
} }, Zu = { qualifierCompare: function(t33, e10) {
  return null == t33 || null == e10 ? null == t33 && null == e10 : t33.sameText(e10);
}, eventMatches: function(t33, e10, r10) {
  var i10 = e10.qualifier;
  return null == i10 || t33 !== r10.target && Hv(r10.target) && i10.matches(r10.target);
}, addEventFields: function(t33, e10) {
  e10.cy = t33, e10.target = t33;
}, callbackContext: function(t33, e10, r10) {
  return null != e10.qualifier ? r10.target : t33;
} }, Zd = function(t33) {
  return Hu(t33) ? new X0(t33) : t33;
}, Zp = { createEmitter: function() {
  var t33 = this._private;
  return t33.emitter || (t33.emitter = new KI(Zu, this)), this;
}, emitter: function() {
  return this._private.emitter;
}, on: function(t33, e10, r10) {
  return this.emitter().on(t33, Zd(e10), r10), this;
}, removeListener: function(t33, e10, r10) {
  return this.emitter().removeListener(t33, Zd(e10), r10), this;
}, removeAllListeners: function() {
  return this.emitter().removeAllListeners(), this;
}, one: function(t33, e10, r10) {
  return this.emitter().one(t33, Zd(e10), r10), this;
}, once: function(t33, e10, r10) {
  return this.emitter().one(t33, Zd(e10), r10), this;
}, emit: function(t33, e10) {
  return this.emitter().emit(t33, e10), this;
}, emitAndNotify: function(t33, e10) {
  return this.emit(t33), this.notify(t33, e10), this;
} };
XO.eventAliasesOn(Zp);
var Zg = { png: function(t33) {
  return t33 = t33 || {}, this._private.renderer.png(t33);
}, jpg: function(t33) {
  var e10 = this._private.renderer;
  return (t33 = t33 || {}).bg = t33.bg || "#fff", e10.jpg(t33);
} };
Zg.jpeg = Zg.jpg;
var Zf = { layout: function(t33) {
  if (null == t33) {
    jS("Layout options must be specified to make a layout");
    return;
  }
  if (null == t33.name) {
    jS("A `name` must be specified to make a layout");
    return;
  }
  var e10, r10 = t33.name, i10 = this.extension("layout", r10);
  if (null == i10) {
    jS("No such layout `" + r10 + "` found.  Did you forget to import it and `cytoscape.use()` it?");
    return;
  }
  return e10 = Hu(t33.eles) ? this.$(t33.eles) : null != t33.eles ? t33.eles : this.$(), new i10(HO({}, t33, { cy: this, eles: e10 }));
} };
Zf.createLayout = Zf.makeLayout = Zf.layout;
var Zm = jD({ hideEdgesOnViewport: false, textureOnViewport: false, motionBlur: false, motionBlurOpacity: 0.05, pixelRatio: void 0, desktopTapThreshold: 4, touchTapThreshold: 8, wheelSensitivity: 1, debug: false, showFps: false }), Zy = { renderTo: function(t33, e10, r10, i10) {
  return this._private.renderer.renderTo(t33, e10, r10, i10), this;
}, renderer: function() {
  return this._private.renderer;
}, forceRender: function() {
  return this.notify("draw"), this;
}, resize: function() {
  return this.invalidateSize(), this.emitAndNotify("resize"), this;
}, initRenderer: function(t33) {
  var e10 = this.extension("renderer", t33.name);
  if (null == e10) {
    jS("Can not initialise: No such renderer `".concat(t33.name, "` found. Did you forget to import it and `cytoscape.use()` it?"));
    return;
  }
  void 0 !== t33.wheelSensitivity && jL("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");
  var r10 = Zm(t33);
  r10.cy = this, this._private.renderer = new e10(r10), this.notify("init");
}, destroyRenderer: function() {
  this.notify("destroy");
  var t33 = this.container();
  if (t33) for (t33._cyreg = null; t33.childNodes.length > 0; ) t33.removeChild(t33.childNodes[0]);
  this._private.renderer = null, this.mutableElements().forEach(function(t34) {
    var e10 = t34._private;
    e10.rscratch = {}, e10.rstyle = {}, e10.animation.current = [], e10.animation.queue = [];
  });
}, onRender: function(t33) {
  return this.on("render", t33);
}, offRender: function(t33) {
  return this.off("render", t33);
} };
Zy.invalidateDimensions = Zy.resize;
var Zv = { collection: function(t33, e10) {
  return Hu(t33) ? this.$(t33) : Hy(t33) ? t33.collection() : Hp(t33) ? (e10 || (e10 = {}), new Zt(this, t33, e10.unique, e10.removed)) : new Zt(this);
}, nodes: function(t33) {
  var e10 = this.$(function(t34) {
    return t34.isNode();
  });
  return t33 ? e10.filter(t33) : e10;
}, edges: function(t33) {
  var e10 = this.$(function(t34) {
    return t34.isEdge();
  });
  return t33 ? e10.filter(t33) : e10;
}, $: function(t33) {
  var e10 = this._private.elements;
  return t33 ? e10.filter(t33) : e10.spawnSelf();
}, mutableElements: function() {
  return this._private.elements;
} };
Zv.elements = Zv.filter = Zv.$;
var Zx = {};
Zx.apply = function(t33) {
  for (var e10 = this._private.cy.collection(), r10 = 0; r10 < t33.length; r10++) {
    var i10 = t33[r10], n10 = this.getContextMeta(i10);
    if (!n10.empty) {
      var a10 = this.getContextStyle(n10), o10 = this.applyContextStyle(n10, a10, i10);
      i10._private.appliedInitStyle ? this.updateTransitions(i10, o10.diffProps) : i10._private.appliedInitStyle = true, this.updateStyleHints(i10) && e10.push(i10);
    }
  }
  return e10;
}, Zx.getPropertiesDiff = function(t33, e10) {
  var r10 = this._private.propDiffs = this._private.propDiffs || {}, i10 = t33 + "-" + e10, n10 = r10[i10];
  if (n10) return n10;
  for (var a10 = [], o10 = {}, s10 = 0; s10 < this.length; s10++) {
    var l10 = this[s10], h10 = "t" === t33[s10], u10 = "t" === e10[s10], d10 = h10 !== u10, p10 = l10.mappedProperties.length > 0;
    if (d10 || u10 && p10) {
      var g10 = void 0;
      d10 && p10 ? g10 = l10.properties : d10 ? g10 = l10.properties : p10 && (g10 = l10.mappedProperties);
      for (var f10 = 0; f10 < g10.length; f10++) {
        for (var y10 = g10[f10], v10 = y10.name, x10 = false, b10 = s10 + 1; b10 < this.length; b10++) {
          var w10 = this[b10];
          if ("t" === e10[b10] && (x10 = null != w10.properties[y10.name])) break;
        }
        o10[v10] || x10 || (o10[v10] = true, a10.push(v10));
      }
    }
  }
  return r10[i10] = a10, a10;
}, Zx.getContextMeta = function(t33) {
  for (var e10, r10 = "", i10 = t33._private.styleCxtKey || "", n10 = 0; n10 < this.length; n10++) {
    var a10 = this[n10];
    a10.selector && a10.selector.matches(t33) ? r10 += "t" : r10 += "f";
  }
  return e10 = this.getPropertiesDiff(i10, r10), t33._private.styleCxtKey = r10, { key: r10, diffPropNames: e10, empty: 0 === e10.length };
}, Zx.getContextStyle = function(t33) {
  var e10 = t33.key, r10 = this._private.contextStyles = this._private.contextStyles || {};
  if (r10[e10]) return r10[e10];
  for (var i10 = { _private: { key: e10 } }, n10 = 0; n10 < this.length; n10++) {
    var a10 = this[n10];
    if ("t" === e10[n10]) for (var o10 = 0; o10 < a10.properties.length; o10++) {
      var s10 = a10.properties[o10];
      i10[s10.name] = s10;
    }
  }
  return r10[e10] = i10, i10;
}, Zx.applyContextStyle = function(t33, e10, r10) {
  for (var i10 = t33.diffPropNames, n10 = {}, a10 = this.types, o10 = 0; o10 < i10.length; o10++) {
    var s10 = i10[o10], l10 = e10[s10], h10 = r10.pstyle(s10);
    if (!l10) {
      if (!h10) continue;
      l10 = h10.bypass ? { name: s10, deleteBypassed: true } : { name: s10, delete: true };
    }
    if (h10 !== l10) {
      if (l10.mapped === a10.fn && null != h10 && null != h10.mapping && h10.mapping.value === l10.value) {
        var u10 = h10.mapping;
        if ((u10.fnValue = l10.value(r10)) === u10.prevFnValue) continue;
      }
      var d10 = n10[s10] = { prev: h10 };
      this.applyParsedProperty(r10, l10), d10.next = r10.pstyle(s10), d10.next && d10.next.bypass && (d10.next = d10.next.bypassed);
    }
  }
  return { diffProps: n10 };
}, Zx.updateStyleHints = function(t33) {
  var e10 = t33._private, r10 = this, i10 = r10.propertyGroupNames, n10 = r10.propertyGroupKeys, a10 = function(t34, e11, i11) {
    return r10.getPropertiesHash(t34, e11, i11);
  }, o10 = e10.styleKey;
  if (t33.removed()) return false;
  var s10 = "nodes" === e10.group, l10 = t33._private.style;
  i10 = Object.keys(l10);
  for (var h10 = 0; h10 < n10.length; h10++) {
    var u10 = n10[h10];
    e10.styleKeys[u10] = [9261, 5381];
  }
  for (var d10 = function(t34, r11) {
    return e10.styleKeys[r11][0] = ju(t34, e10.styleKeys[r11][0]);
  }, p10 = function(t34, r11) {
    return e10.styleKeys[r11][1] = jd(t34, e10.styleKeys[r11][1]);
  }, g10 = function(t34, e11) {
    for (var r11 = 0; r11 < t34.length; r11++) {
      var i11 = t34.charCodeAt(r11);
      d10(i11, e11), p10(i11, e11);
    }
  }, f10 = 0; f10 < i10.length; f10++) {
    var y10, v10, x10 = i10[f10], b10 = l10[x10];
    if (null != b10) {
      var w10 = this.properties[x10], k10 = w10.type, _10 = w10.groupKey, T10 = void 0;
      null != w10.hashOverride ? T10 = w10.hashOverride(t33, b10) : null != b10.pfValue && (T10 = b10.pfValue);
      var E10 = null == w10.enums ? b10.value : null, C10 = null != T10, S10 = null != E10, A10 = C10 || S10, L10 = b10.units;
      k10.number && A10 && !k10.multiple ? (d10(v10 = -128 < (y10 = C10 ? T10 : E10) && y10 < 128 && Math.floor(y10) !== y10 ? 2e9 - (1024 * y10 | 0) : y10, _10), p10(v10, _10), C10 || null == L10 || g10(L10, _10)) : g10(b10.strValue, _10);
    }
  }
  for (var N10 = [9261, 5381], I10 = 0; I10 < n10.length; I10++) {
    var M10 = n10[I10], R10 = e10.styleKeys[M10];
    N10[0] = ju(R10[0], N10[0]), N10[1] = jd(R10[1], N10[1]);
  }
  e10.styleKey = 2097152 * N10[0] + N10[1];
  var D10 = e10.styleKeys;
  e10.labelDimsKey = jp(D10.labelDimensions);
  var O10 = a10(t33, ["label"], D10.labelDimensions);
  if (e10.labelKey = jp(O10), e10.labelStyleKey = jp(jg(D10.commonLabel, O10)), !s10) {
    var P10 = a10(t33, ["source-label"], D10.labelDimensions);
    e10.sourceLabelKey = jp(P10), e10.sourceLabelStyleKey = jp(jg(D10.commonLabel, P10));
    var $10 = a10(t33, ["target-label"], D10.labelDimensions);
    e10.targetLabelKey = jp($10), e10.targetLabelStyleKey = jp(jg(D10.commonLabel, $10));
  }
  if (s10) {
    var B10 = e10.styleKeys, F10 = B10.nodeBody, z10 = B10.nodeBorder, U10 = B10.nodeOutline, G10 = B10.backgroundImage, q10 = B10.compound, Y10 = B10.pie, H10 = [F10, z10, U10, G10, q10, Y10].filter(function(t34) {
      return null != t34;
    }).reduce(jg, [9261, 5381]);
    e10.nodeKey = jp(H10), e10.hasPie = null != Y10 && 9261 !== Y10[0] && 5381 !== Y10[1];
  }
  return o10 !== e10.styleKey;
}, Zx.clearStyleHints = function(t33) {
  var e10 = t33._private;
  e10.styleCxtKey = "", e10.styleKeys = {}, e10.styleKey = null, e10.labelKey = null, e10.labelStyleKey = null, e10.sourceLabelKey = null, e10.sourceLabelStyleKey = null, e10.targetLabelKey = null, e10.targetLabelStyleKey = null, e10.nodeKey = null, e10.hasPie = null;
}, Zx.applyParsedProperty = function(t33, e10) {
  var r10 = this, i10 = e10, n10 = t33._private.style, a10 = r10.types, o10 = r10.properties[i10.name].type, s10 = i10.bypass, l10 = n10[i10.name], h10 = l10 && l10.bypass, u10 = t33._private, d10 = "mapping", p10 = function(t34) {
    return null == t34 ? null : null != t34.pfValue ? t34.pfValue : t34.value;
  }, g10 = function() {
    var e11 = p10(l10), n11 = p10(i10);
    r10.checkTriggers(t33, i10.name, e11, n11);
  };
  if ("curve-style" === e10.name && t33.isEdge() && ("bezier" !== e10.value && t33.isLoop() || "haystack" === e10.value && (t33.source().isParent() || t33.target().isParent())) && (i10 = e10 = this.parse(e10.name, "bezier", s10)), i10.delete) return n10[i10.name] = void 0, g10(), true;
  if (i10.deleteBypassed) return l10 ? !!l10.bypass && (l10.bypassed = void 0, g10(), true) : (g10(), true);
  if (i10.deleteBypass) return l10 ? !!l10.bypass && (n10[i10.name] = l10.bypassed, g10(), true) : (g10(), true);
  var f10 = function() {
    jL("Do not assign mappings to elements without corresponding data (i.e. ele `" + t33.id() + "` has no mapping for property `" + i10.name + "` with data field `" + i10.field + "`); try a `[" + i10.field + "]` selector to limit scope to elements with `" + i10.field + "` defined");
  };
  switch (i10.mapped) {
    case a10.mapData:
      for (var y10, v10, x10 = i10.field.split("."), b10 = u10.data, w10 = 0; w10 < x10.length && b10; w10++) b10 = b10[x10[w10]];
      if (null == b10) return f10(), false;
      if (!Hf(b10)) return jL("Do not use continuous mappers without specifying numeric data (i.e. `" + i10.field + ": " + b10 + "` for `" + t33.id() + "` is non-numeric)"), false;
      var k10 = i10.fieldMax - i10.fieldMin;
      if ((v10 = 0 === k10 ? 0 : (b10 - i10.fieldMin) / k10) < 0 ? v10 = 0 : v10 > 1 && (v10 = 1), o10.color) {
        var _10 = i10.valueMin[0], T10 = i10.valueMax[0], E10 = i10.valueMin[1], C10 = i10.valueMax[1], S10 = i10.valueMin[2], A10 = i10.valueMax[2], L10 = null == i10.valueMin[3] ? 1 : i10.valueMin[3], N10 = [Math.round(_10 + (T10 - _10) * v10), Math.round(E10 + (C10 - E10) * v10), Math.round(S10 + (A10 - S10) * v10), Math.round(L10 + ((null == i10.valueMax[3] ? 1 : i10.valueMax[3]) - L10) * v10)];
        y10 = { bypass: i10.bypass, name: i10.name, value: N10, strValue: "rgb(" + N10[0] + ", " + N10[1] + ", " + N10[2] + ")" };
      } else {
        if (!o10.number) return false;
        var I10 = i10.valueMin + (i10.valueMax - i10.valueMin) * v10;
        y10 = this.parse(i10.name, I10, i10.bypass, d10);
      }
      if (!y10) return f10(), false;
      y10.mapping = i10, i10 = y10;
      break;
    case a10.data:
      for (var M10 = i10.field.split("."), R10 = u10.data, D10 = 0; D10 < M10.length && R10; D10++) R10 = R10[M10[D10]];
      if (null != R10 && (y10 = this.parse(i10.name, R10, i10.bypass, d10)), !y10) return f10(), false;
      y10.mapping = i10, i10 = y10;
      break;
    case a10.fn:
      var O10 = i10.value, P10 = null != i10.fnValue ? i10.fnValue : O10(t33);
      if (i10.prevFnValue = P10, null == P10) return jL("Custom function mappers may not return null (i.e. `" + i10.name + "` for ele `" + t33.id() + "` is null)"), false;
      if (!(y10 = this.parse(i10.name, P10, i10.bypass, d10))) return jL("Custom function mappers may not return invalid values for the property type (i.e. `" + i10.name + "` for ele `" + t33.id() + "` is invalid)"), false;
      y10.mapping = jN(i10), i10 = y10;
      break;
    case void 0:
      break;
    default:
      return false;
  }
  return s10 ? (h10 ? i10.bypassed = l10.bypassed : i10.bypassed = l10, n10[i10.name] = i10) : h10 ? l10.bypassed = i10 : n10[i10.name] = i10, g10(), true;
}, Zx.cleanElements = function(t33, e10) {
  for (var r10 = 0; r10 < t33.length; r10++) {
    var i10 = t33[r10];
    if (this.clearStyleHints(i10), i10.dirtyCompoundBoundsCache(), i10.dirtyBoundingBoxCache(), e10) for (var n10 = i10._private.style, a10 = Object.keys(n10), o10 = 0; o10 < a10.length; o10++) {
      var s10 = a10[o10], l10 = n10[s10];
      null != l10 && (l10.bypass ? l10.bypassed = null : n10[s10] = null);
    }
    else i10._private.style = {};
  }
}, Zx.update = function() {
  this._private.cy.mutableElements().updateStyle();
}, Zx.updateTransitions = function(t33, e10) {
  var r10 = this, i10 = t33._private, n10 = t33.pstyle("transition-property").value, a10 = t33.pstyle("transition-duration").pfValue, o10 = t33.pstyle("transition-delay").pfValue;
  if (n10.length > 0 && a10 > 0) {
    for (var s10 = {}, l10 = false, h10 = 0; h10 < n10.length; h10++) {
      var u10 = n10[h10], d10 = t33.pstyle(u10), p10 = e10[u10];
      if (p10) {
        var g10 = p10.prev, f10 = null != p10.next ? p10.next : d10, y10 = false, v10 = void 0;
        g10 && (Hf(g10.pfValue) && Hf(f10.pfValue) ? (y10 = f10.pfValue - g10.pfValue, v10 = g10.pfValue + 1e-6 * y10) : Hf(g10.value) && Hf(f10.value) ? (y10 = f10.value - g10.value, v10 = g10.value + 1e-6 * y10) : Hp(g10.value) && Hp(f10.value) && (y10 = g10.value[0] !== f10.value[0] || g10.value[1] !== f10.value[1] || g10.value[2] !== f10.value[2], v10 = g10.strValue), y10 && (s10[u10] = f10.strValue, this.applyBypass(t33, u10, v10), l10 = true));
      }
    }
    if (!l10) return;
    i10.transitioning = true, new VV(function(e11) {
      o10 > 0 ? t33.delayAnimation(o10).play().promise().then(e11) : e11();
    }).then(function() {
      return t33.animation({ style: s10, duration: a10, easing: t33.pstyle("transition-timing-function").value, queue: false }).play().promise();
    }).then(function() {
      r10.removeBypasses(t33, n10), t33.emitAndNotify("style"), i10.transitioning = false;
    });
  } else i10.transitioning && (this.removeBypasses(t33, n10), t33.emitAndNotify("style"), i10.transitioning = false);
}, Zx.checkTrigger = function(t33, e10, r10, i10, n10, a10) {
  var o10 = this.properties[e10], s10 = n10(o10);
  null != s10 && s10(r10, i10) && a10(o10);
}, Zx.checkZOrderTrigger = function(t33, e10, r10, i10) {
  var n10 = this;
  this.checkTrigger(t33, e10, r10, i10, function(t34) {
    return t34.triggersZOrder;
  }, function() {
    n10._private.cy.notify("zorder", t33);
  });
}, Zx.checkBoundsTrigger = function(t33, e10, r10, i10) {
  this.checkTrigger(t33, e10, r10, i10, function(t34) {
    return t34.triggersBounds;
  }, function(n10) {
    t33.dirtyCompoundBoundsCache(), t33.dirtyBoundingBoxCache(), n10.triggersBoundsOfParallelBeziers && "curve-style" === e10 && ("bezier" === r10 || "bezier" === i10) && t33.parallelEdges().forEach(function(t34) {
      t34.dirtyBoundingBoxCache();
    }), n10.triggersBoundsOfConnectedEdges && "display" === e10 && ("none" === r10 || "none" === i10) && t33.connectedEdges().forEach(function(t34) {
      t34.dirtyBoundingBoxCache();
    });
  });
}, Zx.checkTriggers = function(t33, e10, r10, i10) {
  t33.dirtyStyleCache(), this.checkZOrderTrigger(t33, e10, r10, i10), this.checkBoundsTrigger(t33, e10, r10, i10);
};
var Zb = {};
Zb.applyBypass = function(t33, e10, r10, i10) {
  var n10 = [];
  if ("*" === e10 || "**" === e10) {
    if (void 0 !== r10) for (var a10 = 0; a10 < this.properties.length; a10++) {
      var o10 = this.properties[a10].name, s10 = this.parse(o10, r10, true);
      s10 && n10.push(s10);
    }
  } else if (Hu(e10)) {
    var l10 = this.parse(e10, r10, true);
    l10 && n10.push(l10);
  } else {
    if (!Hg(e10)) return false;
    i10 = r10;
    for (var h10 = Object.keys(e10), u10 = 0; u10 < h10.length; u10++) {
      var d10 = h10[u10], p10 = e10[d10];
      if (void 0 === p10 && (p10 = e10[HC(d10)]), void 0 !== p10) {
        var g10 = this.parse(d10, p10, true);
        g10 && n10.push(g10);
      }
    }
  }
  if (0 === n10.length) return false;
  for (var f10 = false, y10 = 0; y10 < t33.length; y10++) {
    for (var v10 = t33[y10], x10 = {}, b10 = void 0, w10 = 0; w10 < n10.length; w10++) {
      var k10 = n10[w10];
      if (i10) {
        var _10 = v10.pstyle(k10.name);
        b10 = x10[k10.name] = { prev: _10 };
      }
      f10 = this.applyParsedProperty(v10, jN(k10)) || f10, i10 && (b10.next = v10.pstyle(k10.name));
    }
    f10 && this.updateStyleHints(v10), i10 && this.updateTransitions(v10, x10, true);
  }
  return f10;
}, Zb.overrideBypass = function(t33, e10, r10) {
  e10 = HE(e10);
  for (var i10 = 0; i10 < t33.length; i10++) {
    var n10 = t33[i10], a10 = n10._private.style[e10], o10 = this.properties[e10].type, s10 = o10.color, l10 = o10.mutiple, h10 = a10 ? null != a10.pfValue ? a10.pfValue : a10.value : null;
    a10 && a10.bypass ? (a10.value = r10, null != a10.pfValue && (a10.pfValue = r10), s10 ? a10.strValue = "rgb(" + r10.join(",") + ")" : l10 ? a10.strValue = r10.join(" ") : a10.strValue = "" + r10, this.updateStyleHints(n10)) : this.applyBypass(n10, e10, r10), this.checkTriggers(n10, e10, h10, r10);
  }
}, Zb.removeAllBypasses = function(t33, e10) {
  return this.removeBypasses(t33, this.propertyNames, e10);
}, Zb.removeBypasses = function(t33, e10, r10) {
  for (var i10 = 0; i10 < t33.length; i10++) {
    for (var n10 = t33[i10], a10 = {}, o10 = 0; o10 < e10.length; o10++) {
      var s10 = e10[o10], l10 = this.properties[s10], h10 = n10.pstyle(l10.name);
      if (h10 && h10.bypass) {
        var u10 = this.parse(s10, "", true), d10 = a10[l10.name] = { prev: h10 };
        this.applyParsedProperty(n10, u10), d10.next = n10.pstyle(l10.name);
      }
    }
    this.updateStyleHints(n10), r10 && this.updateTransitions(n10, a10, true);
  }
};
var Zw = {};
Zw.getEmSizeInPixels = function() {
  var t33 = this.containerCss("font-size");
  return null != t33 ? parseFloat(t33) : 1;
}, Zw.containerCss = function(t33) {
  var e10 = this._private.cy, r10 = e10.container(), i10 = e10.window();
  if (i10 && r10 && i10.getComputedStyle) return i10.getComputedStyle(r10).getPropertyValue(t33);
};
var Zk = {};
Zk.getRenderedStyle = function(t33, e10) {
  return e10 ? this.getStylePropertyValue(t33, e10, true) : this.getRawStyle(t33, true);
}, Zk.getRawStyle = function(t33, e10) {
  if (t33 = t33[0]) {
    for (var r10 = {}, i10 = 0; i10 < this.properties.length; i10++) {
      var n10 = this.properties[i10], a10 = this.getStylePropertyValue(t33, n10.name, e10);
      null != a10 && (r10[n10.name] = a10, r10[HC(n10.name)] = a10);
    }
    return r10;
  }
}, Zk.getIndexedStyle = function(t33, e10, r10, i10) {
  var n10 = t33.pstyle(e10)[r10][i10];
  return null != n10 ? n10 : t33.cy().style().getDefaultProperty(e10)[r10][0];
}, Zk.getStylePropertyValue = function(t33, e10, r10) {
  if (t33 = t33[0]) {
    var i10 = this.properties[e10];
    i10.alias && (i10 = i10.pointsTo);
    var n10 = i10.type, a10 = t33.pstyle(i10.name);
    if (a10) {
      var o10 = a10.value, s10 = a10.units, l10 = a10.strValue;
      if (r10 && n10.number && null != o10 && Hf(o10)) {
        var h10 = t33.cy().zoom(), u10 = function(t34) {
          return t34 * h10;
        }, d10 = function(t34, e11) {
          return u10(t34) + e11;
        }, p10 = Hp(o10);
        return (p10 ? s10.every(function(t34) {
          return null != t34;
        }) : null != s10) ? p10 ? o10.map(function(t34, e11) {
          return d10(t34, s10[e11]);
        }).join(" ") : d10(o10, s10) : p10 ? o10.map(function(t34) {
          return Hu(t34) ? t34 : "" + u10(t34);
        }).join(" ") : "" + u10(o10);
      }
      if (null != l10) return l10;
    }
    return null;
  }
}, Zk.getAnimationStartStyle = function(t33, e10) {
  for (var r10 = {}, i10 = 0; i10 < e10.length; i10++) {
    var n10 = e10[i10].name, a10 = t33.pstyle(n10);
    void 0 !== a10 && (a10 = Hg(a10) ? this.parse(n10, a10.strValue) : this.parse(n10, a10)), a10 && (r10[n10] = a10);
  }
  return r10;
}, Zk.getPropsList = function(t33) {
  var e10 = [], r10 = this.properties;
  if (t33) for (var i10 = Object.keys(t33), n10 = 0; n10 < i10.length; n10++) {
    var a10 = i10[n10], o10 = t33[a10], s10 = r10[a10] || r10[HE(a10)], l10 = this.parse(s10.name, o10);
    l10 && e10.push(l10);
  }
  return e10;
}, Zk.getNonDefaultPropertiesHash = function(t33, e10, r10) {
  var i10, n10, a10, o10, s10, l10, h10 = r10.slice();
  for (s10 = 0; s10 < e10.length; s10++) if (i10 = e10[s10], null != (n10 = t33.pstyle(i10, false))) {
    if (null != n10.pfValue) h10[0] = ju(o10, h10[0]), h10[1] = jd(o10, h10[1]);
    else for (l10 = 0, a10 = n10.strValue; l10 < a10.length; l10++) o10 = a10.charCodeAt(l10), h10[0] = ju(o10, h10[0]), h10[1] = jd(o10, h10[1]);
  }
  return h10;
}, Zk.getPropertiesHash = Zk.getNonDefaultPropertiesHash;
var Z_ = {};
Z_.appendFromJson = function(t33) {
  for (var e10 = 0; e10 < t33.length; e10++) {
    var r10 = t33[e10], i10 = r10.selector, n10 = r10.style || r10.css, a10 = Object.keys(n10);
    this.selector(i10);
    for (var o10 = 0; o10 < a10.length; o10++) {
      var s10 = a10[o10], l10 = n10[s10];
      this.css(s10, l10);
    }
  }
  return this;
}, Z_.fromJson = function(t33) {
  return this.resetToDefault(), this.appendFromJson(t33), this;
}, Z_.json = function() {
  for (var t33 = [], e10 = this.defaultLength; e10 < this.length; e10++) {
    for (var r10 = this[e10], i10 = r10.selector, n10 = r10.properties, a10 = {}, o10 = 0; o10 < n10.length; o10++) {
      var s10 = n10[o10];
      a10[s10.name] = s10.strValue;
    }
    t33.push({ selector: i10 ? i10.toString() : "core", style: a10 });
  }
  return t33;
};
var ZT = {};
ZT.appendFromString = function(t33) {
  var e10, r10, i10, n10 = "" + t33;
  function a10() {
    n10 = n10.length > e10.length ? n10.substr(e10.length) : "";
  }
  function o10() {
    r10 = r10.length > i10.length ? r10.substr(i10.length) : "";
  }
  for (n10 = n10.replace(/[/][*](\s|.)+?[*][/]/g, ""); !n10.match(/^\s*$/); ) {
    var s10 = n10.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);
    if (!s10) {
      jL("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: " + n10);
      break;
    }
    e10 = s10[0];
    var l10 = s10[1];
    if ("core" !== l10 && new X0(l10).invalid) {
      jL("Skipping parsing of block: Invalid selector found in string stylesheet: " + l10), a10();
      continue;
    }
    var h10 = s10[2], u10 = false;
    r10 = h10;
    for (var d10 = []; !r10.match(/^\s*$/); ) {
      var p10 = r10.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);
      if (!p10) {
        jL("Skipping parsing of block: Invalid formatting of style property and value definitions found in:" + h10), u10 = true;
        break;
      }
      i10 = p10[0];
      var g10 = p10[1], f10 = p10[2];
      if (!this.properties[g10]) {
        jL("Skipping property: Invalid property name in: " + i10), o10();
        continue;
      }
      if (!this.parse(g10, f10)) {
        jL("Skipping property: Invalid property definition in: " + i10), o10();
        continue;
      }
      d10.push({ name: g10, val: f10 }), o10();
    }
    if (u10) {
      a10();
      break;
    }
    this.selector(l10);
    for (var y10 = 0; y10 < d10.length; y10++) {
      var v10 = d10[y10];
      this.css(v10.name, v10.val);
    }
    a10();
  }
  return this;
}, ZT.fromString = function(t33) {
  return this.resetToDefault(), this.appendFromString(t33), this;
};
var ZE = {};
!function() {
  var t33 = function(t34) {
    return "^" + t34 + "\\s*\\(\\s*([\\w\\.]+)\\s*\\)$";
  }, e10 = function(t34) {
    var e11 = HL + "|\\w+|" + HI + "|" + HR + "|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";
    return "^" + t34 + "\\s*\\(([\\w\\.]+)\\s*\\,\\s*(" + HL + ")\\s*\\,\\s*(" + HL + ")\\s*,\\s*(" + e11 + ")\\s*\\,\\s*(" + e11 + ")\\)$";
  }, r10 = [`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`, "^(none)$", "^(.+)$"];
  ZE.types = { time: { number: true, min: 0, units: "s|ms", implicitUnits: "ms" }, percent: { number: true, min: 0, max: 100, units: "%", implicitUnits: "%" }, percentages: { number: true, min: 0, max: 100, units: "%", implicitUnits: "%", multiple: true }, zeroOneNumber: { number: true, min: 0, max: 1, unitless: true }, zeroOneNumbers: { number: true, min: 0, max: 1, unitless: true, multiple: true }, nOneOneNumber: { number: true, min: -1, max: 1, unitless: true }, nonNegativeInt: { number: true, min: 0, integer: true, unitless: true }, nonNegativeNumber: { number: true, min: 0, unitless: true }, position: { enums: ["parent", "origin"] }, nodeSize: { number: true, min: 0, enums: ["label"] }, number: { number: true, unitless: true }, numbers: { number: true, unitless: true, multiple: true }, positiveNumber: { number: true, unitless: true, min: 0, strictMin: true }, size: { number: true, min: 0 }, bidirectionalSize: { number: true }, bidirectionalSizeMaybePercent: { number: true, allowPercent: true }, bidirectionalSizes: { number: true, multiple: true }, sizeMaybePercent: { number: true, min: 0, allowPercent: true }, axisDirection: { enums: ["horizontal", "leftward", "rightward", "vertical", "upward", "downward", "auto"] }, paddingRelativeTo: { enums: ["width", "height", "average", "min", "max"] }, bgWH: { number: true, min: 0, allowPercent: true, enums: ["auto"], multiple: true }, bgPos: { number: true, allowPercent: true, multiple: true }, bgRelativeTo: { enums: ["inner", "include-padding"], multiple: true }, bgRepeat: { enums: ["repeat", "repeat-x", "repeat-y", "no-repeat"], multiple: true }, bgFit: { enums: ["none", "contain", "cover"], multiple: true }, bgCrossOrigin: { enums: ["anonymous", "use-credentials", "null"], multiple: true }, bgClip: { enums: ["none", "node"], multiple: true }, bgContainment: { enums: ["inside", "over"], multiple: true }, color: { color: true }, colors: { color: true, multiple: true }, fill: { enums: ["solid", "linear-gradient", "radial-gradient"] }, bool: { enums: ["yes", "no"] }, bools: { enums: ["yes", "no"], multiple: true }, lineStyle: { enums: ["solid", "dotted", "dashed"] }, lineCap: { enums: ["butt", "round", "square"] }, linePosition: { enums: ["center", "inside", "outside"] }, lineJoin: { enums: ["round", "bevel", "miter"] }, borderStyle: { enums: ["solid", "dotted", "dashed", "double"] }, curveStyle: { enums: ["bezier", "unbundled-bezier", "haystack", "segments", "straight", "straight-triangle", "taxi", "round-segments", "round-taxi"] }, radiusType: { enums: ["arc-radius", "influence-radius"], multiple: true }, fontFamily: { regex: '^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$' }, fontStyle: { enums: ["italic", "normal", "oblique"] }, fontWeight: { enums: ["normal", "bold", "bolder", "lighter", "100", "200", "300", "400", "500", "600", "800", "900", 100, 200, 300, 400, 500, 600, 700, 800, 900] }, textDecoration: { enums: ["none", "underline", "overline", "line-through"] }, textTransform: { enums: ["none", "uppercase", "lowercase"] }, textWrap: { enums: ["none", "wrap", "ellipsis"] }, textOverflowWrap: { enums: ["whitespace", "anywhere"] }, textBackgroundShape: { enums: ["rectangle", "roundrectangle", "round-rectangle"] }, nodeShape: { enums: ["rectangle", "roundrectangle", "round-rectangle", "cutrectangle", "cut-rectangle", "bottomroundrectangle", "bottom-round-rectangle", "barrel", "ellipse", "triangle", "round-triangle", "square", "pentagon", "round-pentagon", "hexagon", "round-hexagon", "concavehexagon", "concave-hexagon", "heptagon", "round-heptagon", "octagon", "round-octagon", "tag", "round-tag", "star", "diamond", "round-diamond", "vee", "rhomboid", "right-rhomboid", "polygon"] }, overlayShape: { enums: ["roundrectangle", "round-rectangle", "ellipse"] }, cornerRadius: { number: true, min: 0, units: "px|em", implicitUnits: "px", enums: ["auto"] }, compoundIncludeLabels: { enums: ["include", "exclude"] }, arrowShape: { enums: ["tee", "triangle", "triangle-tee", "circle-triangle", "triangle-cross", "triangle-backcurve", "vee", "square", "circle", "diamond", "chevron", "none"] }, arrowFill: { enums: ["filled", "hollow"] }, arrowWidth: { number: true, units: "%|px|em", implicitUnits: "px", enums: ["match-line"] }, display: { enums: ["element", "none"] }, visibility: { enums: ["hidden", "visible"] }, zCompoundDepth: { enums: ["bottom", "orphan", "auto", "top"] }, zIndexCompare: { enums: ["auto", "manual"] }, valign: { enums: ["top", "center", "bottom"] }, halign: { enums: ["left", "center", "right"] }, justification: { enums: ["left", "center", "right", "auto"] }, text: { string: true }, data: { mapping: true, regex: t33("data") }, layoutData: { mapping: true, regex: t33("layoutData") }, scratch: { mapping: true, regex: t33("scratch") }, mapData: { mapping: true, regex: e10("mapData") }, mapLayoutData: { mapping: true, regex: e10("mapLayoutData") }, mapScratch: { mapping: true, regex: e10("mapScratch") }, fn: { mapping: true, fn: true }, url: { regexes: r10, singleRegexMatchValue: true }, urls: { regexes: r10, singleRegexMatchValue: true, multiple: true }, propList: { propList: true }, angle: { number: true, units: "deg|rad", implicitUnits: "rad" }, textRotation: { number: true, units: "deg|rad", implicitUnits: "rad", enums: ["none", "autorotate"] }, polygonPointList: { number: true, multiple: true, evenMultiple: true, min: -1, max: 1, unitless: true }, edgeDistances: { enums: ["intersection", "node-position", "endpoints"] }, edgeEndpoint: { number: true, multiple: true, units: "%|px|em|deg|rad", implicitUnits: "px", enums: ["inside-to-node", "outside-to-node", "outside-to-node-or-label", "outside-to-line", "outside-to-line-or-label"], singleEnum: true, validate: function(t34, e11) {
    switch (t34.length) {
      case 2:
        return "deg" !== e11[0] && "rad" !== e11[0] && "deg" !== e11[1] && "rad" !== e11[1];
      case 1:
        return Hu(t34[0]) || "deg" === e11[0] || "rad" === e11[0];
      default:
        return false;
    }
  } }, easing: { regexes: ["^(spring)\\s*\\(\\s*(" + HL + ")\\s*,\\s*(" + HL + ")\\s*\\)$", "^(cubic-bezier)\\s*\\(\\s*(" + HL + ")\\s*,\\s*(" + HL + ")\\s*,\\s*(" + HL + ")\\s*,\\s*(" + HL + ")\\s*\\)$"], enums: ["linear", "ease", "ease-in", "ease-out", "ease-in-out", "ease-in-sine", "ease-out-sine", "ease-in-out-sine", "ease-in-quad", "ease-out-quad", "ease-in-out-quad", "ease-in-cubic", "ease-out-cubic", "ease-in-out-cubic", "ease-in-quart", "ease-out-quart", "ease-in-out-quart", "ease-in-quint", "ease-out-quint", "ease-in-out-quint", "ease-in-expo", "ease-out-expo", "ease-in-out-expo", "ease-in-circ", "ease-out-circ", "ease-in-out-circ"] }, gradientDirection: { enums: ["to-bottom", "to-top", "to-left", "to-right", "to-bottom-right", "to-bottom-left", "to-top-right", "to-top-left", "to-right-bottom", "to-left-bottom", "to-right-top", "to-left-top"] }, boundsExpansion: { number: true, multiple: true, min: 0, validate: function(t34) {
    var e11 = t34.length;
    return 1 === e11 || 2 === e11 || 4 === e11;
  } } };
  var i10 = function(t34, e11) {
    return (null == t34 || null == e11) && t34 !== e11 || 0 == t34 && 0 != e11 || 0 != t34 && 0 == e11;
  }, n10 = function(t34, e11) {
    return t34 != e11;
  }, a10 = ZE.types, o10 = [{ name: "label", type: a10.text, triggersBounds: n10, triggersZOrder: function(t34, e11) {
    var r11 = Hk(t34), i11 = Hk(e11);
    return r11 && !i11 || !r11 && i11;
  } }, { name: "text-rotation", type: a10.textRotation, triggersBounds: n10 }, { name: "text-margin-x", type: a10.bidirectionalSize, triggersBounds: n10 }, { name: "text-margin-y", type: a10.bidirectionalSize, triggersBounds: n10 }], s10 = [{ name: "source-label", type: a10.text, triggersBounds: n10 }, { name: "source-text-rotation", type: a10.textRotation, triggersBounds: n10 }, { name: "source-text-margin-x", type: a10.bidirectionalSize, triggersBounds: n10 }, { name: "source-text-margin-y", type: a10.bidirectionalSize, triggersBounds: n10 }, { name: "source-text-offset", type: a10.size, triggersBounds: n10 }], l10 = [{ name: "target-label", type: a10.text, triggersBounds: n10 }, { name: "target-text-rotation", type: a10.textRotation, triggersBounds: n10 }, { name: "target-text-margin-x", type: a10.bidirectionalSize, triggersBounds: n10 }, { name: "target-text-margin-y", type: a10.bidirectionalSize, triggersBounds: n10 }, { name: "target-text-offset", type: a10.size, triggersBounds: n10 }], h10 = [{ name: "font-family", type: a10.fontFamily, triggersBounds: n10 }, { name: "font-style", type: a10.fontStyle, triggersBounds: n10 }, { name: "font-weight", type: a10.fontWeight, triggersBounds: n10 }, { name: "font-size", type: a10.size, triggersBounds: n10 }, { name: "text-transform", type: a10.textTransform, triggersBounds: n10 }, { name: "text-wrap", type: a10.textWrap, triggersBounds: n10 }, { name: "text-overflow-wrap", type: a10.textOverflowWrap, triggersBounds: n10 }, { name: "text-max-width", type: a10.size, triggersBounds: n10 }, { name: "text-outline-width", type: a10.size, triggersBounds: n10 }, { name: "line-height", type: a10.positiveNumber, triggersBounds: n10 }], u10 = [{ name: "text-valign", type: a10.valign, triggersBounds: n10 }, { name: "text-halign", type: a10.halign, triggersBounds: n10 }, { name: "color", type: a10.color }, { name: "text-outline-color", type: a10.color }, { name: "text-outline-opacity", type: a10.zeroOneNumber }, { name: "text-background-color", type: a10.color }, { name: "text-background-opacity", type: a10.zeroOneNumber }, { name: "text-background-padding", type: a10.size, triggersBounds: n10 }, { name: "text-border-opacity", type: a10.zeroOneNumber }, { name: "text-border-color", type: a10.color }, { name: "text-border-width", type: a10.size, triggersBounds: n10 }, { name: "text-border-style", type: a10.borderStyle, triggersBounds: n10 }, { name: "text-background-shape", type: a10.textBackgroundShape, triggersBounds: n10 }, { name: "text-justification", type: a10.justification }], d10 = [{ name: "events", type: a10.bool, triggersZOrder: n10 }, { name: "text-events", type: a10.bool, triggersZOrder: n10 }], p10 = [{ name: "display", type: a10.display, triggersZOrder: n10, triggersBounds: n10, triggersBoundsOfConnectedEdges: true }, { name: "visibility", type: a10.visibility, triggersZOrder: n10 }, { name: "opacity", type: a10.zeroOneNumber, triggersZOrder: i10 }, { name: "text-opacity", type: a10.zeroOneNumber }, { name: "min-zoomed-font-size", type: a10.size }, { name: "z-compound-depth", type: a10.zCompoundDepth, triggersZOrder: n10 }, { name: "z-index-compare", type: a10.zIndexCompare, triggersZOrder: n10 }, { name: "z-index", type: a10.number, triggersZOrder: n10 }], g10 = [{ name: "overlay-padding", type: a10.size, triggersBounds: n10 }, { name: "overlay-color", type: a10.color }, { name: "overlay-opacity", type: a10.zeroOneNumber, triggersBounds: i10 }, { name: "overlay-shape", type: a10.overlayShape, triggersBounds: n10 }, { name: "overlay-corner-radius", type: a10.cornerRadius }], f10 = [{ name: "underlay-padding", type: a10.size, triggersBounds: n10 }, { name: "underlay-color", type: a10.color }, { name: "underlay-opacity", type: a10.zeroOneNumber, triggersBounds: i10 }, { name: "underlay-shape", type: a10.overlayShape, triggersBounds: n10 }, { name: "underlay-corner-radius", type: a10.cornerRadius }], y10 = [{ name: "transition-property", type: a10.propList }, { name: "transition-duration", type: a10.time }, { name: "transition-delay", type: a10.time }, { name: "transition-timing-function", type: a10.easing }], v10 = function(t34, e11) {
    return "label" === e11.value ? -t34.poolIndex() : e11.pfValue;
  }, x10 = [{ name: "height", type: a10.nodeSize, triggersBounds: n10, hashOverride: v10 }, { name: "width", type: a10.nodeSize, triggersBounds: n10, hashOverride: v10 }, { name: "shape", type: a10.nodeShape, triggersBounds: n10 }, { name: "shape-polygon-points", type: a10.polygonPointList, triggersBounds: n10 }, { name: "corner-radius", type: a10.cornerRadius }, { name: "background-color", type: a10.color }, { name: "background-fill", type: a10.fill }, { name: "background-opacity", type: a10.zeroOneNumber }, { name: "background-blacken", type: a10.nOneOneNumber }, { name: "background-gradient-stop-colors", type: a10.colors }, { name: "background-gradient-stop-positions", type: a10.percentages }, { name: "background-gradient-direction", type: a10.gradientDirection }, { name: "padding", type: a10.sizeMaybePercent, triggersBounds: n10 }, { name: "padding-relative-to", type: a10.paddingRelativeTo, triggersBounds: n10 }, { name: "bounds-expansion", type: a10.boundsExpansion, triggersBounds: n10 }], b10 = [{ name: "border-color", type: a10.color }, { name: "border-opacity", type: a10.zeroOneNumber }, { name: "border-width", type: a10.size, triggersBounds: n10 }, { name: "border-style", type: a10.borderStyle }, { name: "border-cap", type: a10.lineCap }, { name: "border-join", type: a10.lineJoin }, { name: "border-dash-pattern", type: a10.numbers }, { name: "border-dash-offset", type: a10.number }, { name: "border-position", type: a10.linePosition }], w10 = [{ name: "outline-color", type: a10.color }, { name: "outline-opacity", type: a10.zeroOneNumber }, { name: "outline-width", type: a10.size, triggersBounds: n10 }, { name: "outline-style", type: a10.borderStyle }, { name: "outline-offset", type: a10.size, triggersBounds: n10 }], k10 = [{ name: "background-image", type: a10.urls }, { name: "background-image-crossorigin", type: a10.bgCrossOrigin }, { name: "background-image-opacity", type: a10.zeroOneNumbers }, { name: "background-image-containment", type: a10.bgContainment }, { name: "background-image-smoothing", type: a10.bools }, { name: "background-position-x", type: a10.bgPos }, { name: "background-position-y", type: a10.bgPos }, { name: "background-width-relative-to", type: a10.bgRelativeTo }, { name: "background-height-relative-to", type: a10.bgRelativeTo }, { name: "background-repeat", type: a10.bgRepeat }, { name: "background-fit", type: a10.bgFit }, { name: "background-clip", type: a10.bgClip }, { name: "background-width", type: a10.bgWH }, { name: "background-height", type: a10.bgWH }, { name: "background-offset-x", type: a10.bgPos }, { name: "background-offset-y", type: a10.bgPos }], _10 = [{ name: "position", type: a10.position, triggersBounds: n10 }, { name: "compound-sizing-wrt-labels", type: a10.compoundIncludeLabels, triggersBounds: n10 }, { name: "min-width", type: a10.size, triggersBounds: n10 }, { name: "min-width-bias-left", type: a10.sizeMaybePercent, triggersBounds: n10 }, { name: "min-width-bias-right", type: a10.sizeMaybePercent, triggersBounds: n10 }, { name: "min-height", type: a10.size, triggersBounds: n10 }, { name: "min-height-bias-top", type: a10.sizeMaybePercent, triggersBounds: n10 }, { name: "min-height-bias-bottom", type: a10.sizeMaybePercent, triggersBounds: n10 }], T10 = [{ name: "line-style", type: a10.lineStyle }, { name: "line-color", type: a10.color }, { name: "line-fill", type: a10.fill }, { name: "line-cap", type: a10.lineCap }, { name: "line-opacity", type: a10.zeroOneNumber }, { name: "line-dash-pattern", type: a10.numbers }, { name: "line-dash-offset", type: a10.number }, { name: "line-outline-width", type: a10.size }, { name: "line-outline-color", type: a10.color }, { name: "line-gradient-stop-colors", type: a10.colors }, { name: "line-gradient-stop-positions", type: a10.percentages }, { name: "curve-style", type: a10.curveStyle, triggersBounds: n10, triggersBoundsOfParallelBeziers: true }, { name: "haystack-radius", type: a10.zeroOneNumber, triggersBounds: n10 }, { name: "source-endpoint", type: a10.edgeEndpoint, triggersBounds: n10 }, { name: "target-endpoint", type: a10.edgeEndpoint, triggersBounds: n10 }, { name: "control-point-step-size", type: a10.size, triggersBounds: n10 }, { name: "control-point-distances", type: a10.bidirectionalSizes, triggersBounds: n10 }, { name: "control-point-weights", type: a10.numbers, triggersBounds: n10 }, { name: "segment-distances", type: a10.bidirectionalSizes, triggersBounds: n10 }, { name: "segment-weights", type: a10.numbers, triggersBounds: n10 }, { name: "segment-radii", type: a10.numbers, triggersBounds: n10 }, { name: "radius-type", type: a10.radiusType, triggersBounds: n10 }, { name: "taxi-turn", type: a10.bidirectionalSizeMaybePercent, triggersBounds: n10 }, { name: "taxi-turn-min-distance", type: a10.size, triggersBounds: n10 }, { name: "taxi-direction", type: a10.axisDirection, triggersBounds: n10 }, { name: "taxi-radius", type: a10.number, triggersBounds: n10 }, { name: "edge-distances", type: a10.edgeDistances, triggersBounds: n10 }, { name: "arrow-scale", type: a10.positiveNumber, triggersBounds: n10 }, { name: "loop-direction", type: a10.angle, triggersBounds: n10 }, { name: "loop-sweep", type: a10.angle, triggersBounds: n10 }, { name: "source-distance-from-node", type: a10.size, triggersBounds: n10 }, { name: "target-distance-from-node", type: a10.size, triggersBounds: n10 }], E10 = [{ name: "ghost", type: a10.bool, triggersBounds: n10 }, { name: "ghost-offset-x", type: a10.bidirectionalSize, triggersBounds: n10 }, { name: "ghost-offset-y", type: a10.bidirectionalSize, triggersBounds: n10 }, { name: "ghost-opacity", type: a10.zeroOneNumber }], C10 = [{ name: "selection-box-color", type: a10.color }, { name: "selection-box-opacity", type: a10.zeroOneNumber }, { name: "selection-box-border-color", type: a10.color }, { name: "selection-box-border-width", type: a10.size }, { name: "active-bg-color", type: a10.color }, { name: "active-bg-opacity", type: a10.zeroOneNumber }, { name: "active-bg-size", type: a10.size }, { name: "outside-texture-bg-color", type: a10.color }, { name: "outside-texture-bg-opacity", type: a10.zeroOneNumber }], S10 = [];
  ZE.pieBackgroundN = 16, S10.push({ name: "pie-size", type: a10.sizeMaybePercent });
  for (var A10 = 1; A10 <= ZE.pieBackgroundN; A10++) S10.push({ name: "pie-" + A10 + "-background-color", type: a10.color }), S10.push({ name: "pie-" + A10 + "-background-size", type: a10.percent }), S10.push({ name: "pie-" + A10 + "-background-opacity", type: a10.zeroOneNumber });
  var L10 = [], N10 = ZE.arrowPrefixes = ["source", "mid-source", "target", "mid-target"];
  [{ name: "arrow-shape", type: a10.arrowShape, triggersBounds: n10 }, { name: "arrow-color", type: a10.color }, { name: "arrow-fill", type: a10.arrowFill }, { name: "arrow-width", type: a10.arrowWidth }].forEach(function(t34) {
    N10.forEach(function(e11) {
      var r11 = e11 + "-" + t34.name, i11 = t34.type, n11 = t34.triggersBounds;
      L10.push({ name: r11, type: i11, triggersBounds: n11 });
    });
  }, {});
  var I10 = ZE.properties = [].concat(d10, y10, p10, g10, f10, E10, u10, h10, o10, s10, l10, x10, b10, w10, k10, S10, _10, T10, L10, C10), M10 = ZE.propertyGroups = { behavior: d10, transition: y10, visibility: p10, overlay: g10, underlay: f10, ghost: E10, commonLabel: u10, labelDimensions: h10, mainLabel: o10, sourceLabel: s10, targetLabel: l10, nodeBody: x10, nodeBorder: b10, nodeOutline: w10, backgroundImage: k10, pie: S10, compound: _10, edgeLine: T10, edgeArrow: L10, core: C10 }, R10 = ZE.propertyGroupNames = {};
  (ZE.propertyGroupKeys = Object.keys(M10)).forEach(function(t34) {
    R10[t34] = M10[t34].map(function(t35) {
      return t35.name;
    }), M10[t34].forEach(function(e11) {
      return e11.groupKey = t34;
    });
  });
  var D10 = ZE.aliases = [{ name: "content", pointsTo: "label" }, { name: "control-point-distance", pointsTo: "control-point-distances" }, { name: "control-point-weight", pointsTo: "control-point-weights" }, { name: "segment-distance", pointsTo: "segment-distances" }, { name: "segment-weight", pointsTo: "segment-weights" }, { name: "segment-radius", pointsTo: "segment-radii" }, { name: "edge-text-rotation", pointsTo: "text-rotation" }, { name: "padding-left", pointsTo: "padding" }, { name: "padding-right", pointsTo: "padding" }, { name: "padding-top", pointsTo: "padding" }, { name: "padding-bottom", pointsTo: "padding" }];
  ZE.propertyNames = I10.map(function(t34) {
    return t34.name;
  });
  for (var O10 = 0; O10 < I10.length; O10++) {
    var P10 = I10[O10];
    I10[P10.name] = P10;
  }
  for (var $10 = 0; $10 < D10.length; $10++) {
    var B10 = D10[$10], F10 = I10[B10.pointsTo], z10 = { name: B10.name, alias: true, pointsTo: F10 };
    I10.push(z10), I10[B10.name] = z10;
  }
}(), ZE.getDefaultProperty = function(t33) {
  return this.getDefaultProperties()[t33];
}, ZE.getDefaultProperties = function() {
  var t33 = this._private;
  if (null != t33.defaultProperties) return t33.defaultProperties;
  for (var e10 = HO({ "selection-box-color": "#ddd", "selection-box-opacity": 0.65, "selection-box-border-color": "#aaa", "selection-box-border-width": 1, "active-bg-color": "black", "active-bg-opacity": 0.15, "active-bg-size": 30, "outside-texture-bg-color": "#000", "outside-texture-bg-opacity": 0.125, events: "yes", "text-events": "no", "text-valign": "top", "text-halign": "center", "text-justification": "auto", "line-height": 1, color: "#000", "text-outline-color": "#000", "text-outline-width": 0, "text-outline-opacity": 1, "text-opacity": 1, "text-decoration": "none", "text-transform": "none", "text-wrap": "none", "text-overflow-wrap": "whitespace", "text-max-width": 9999, "text-background-color": "#000", "text-background-opacity": 0, "text-background-shape": "rectangle", "text-background-padding": 0, "text-border-opacity": 0, "text-border-width": 0, "text-border-style": "solid", "text-border-color": "#000", "font-family": "Helvetica Neue, Helvetica, sans-serif", "font-style": "normal", "font-weight": "normal", "font-size": 16, "min-zoomed-font-size": 0, "text-rotation": "none", "source-text-rotation": "none", "target-text-rotation": "none", visibility: "visible", display: "element", opacity: 1, "z-compound-depth": "auto", "z-index-compare": "auto", "z-index": 0, label: "", "text-margin-x": 0, "text-margin-y": 0, "source-label": "", "source-text-offset": 0, "source-text-margin-x": 0, "source-text-margin-y": 0, "target-label": "", "target-text-offset": 0, "target-text-margin-x": 0, "target-text-margin-y": 0, "overlay-opacity": 0, "overlay-color": "#000", "overlay-padding": 10, "overlay-shape": "round-rectangle", "overlay-corner-radius": "auto", "underlay-opacity": 0, "underlay-color": "#000", "underlay-padding": 10, "underlay-shape": "round-rectangle", "underlay-corner-radius": "auto", "transition-property": "none", "transition-duration": 0, "transition-delay": 0, "transition-timing-function": "linear", "background-blacken": 0, "background-color": "#999", "background-fill": "solid", "background-opacity": 1, "background-image": "none", "background-image-crossorigin": "anonymous", "background-image-opacity": 1, "background-image-containment": "inside", "background-image-smoothing": "yes", "background-position-x": "50%", "background-position-y": "50%", "background-offset-x": 0, "background-offset-y": 0, "background-width-relative-to": "include-padding", "background-height-relative-to": "include-padding", "background-repeat": "no-repeat", "background-fit": "none", "background-clip": "node", "background-width": "auto", "background-height": "auto", "border-color": "#000", "border-opacity": 1, "border-width": 0, "border-style": "solid", "border-dash-pattern": [4, 2], "border-dash-offset": 0, "border-cap": "butt", "border-join": "miter", "border-position": "center", "outline-color": "#999", "outline-opacity": 1, "outline-width": 0, "outline-offset": 0, "outline-style": "solid", height: 30, width: 30, shape: "ellipse", "shape-polygon-points": "-1, -1,   1, -1,   1, 1,   -1, 1", "corner-radius": "auto", "bounds-expansion": 0, "background-gradient-direction": "to-bottom", "background-gradient-stop-colors": "#999", "background-gradient-stop-positions": "0%", ghost: "no", "ghost-offset-y": 0, "ghost-offset-x": 0, "ghost-opacity": 0, padding: 0, "padding-relative-to": "width", position: "origin", "compound-sizing-wrt-labels": "include", "min-width": 0, "min-width-bias-left": 0, "min-width-bias-right": 0, "min-height": 0, "min-height-bias-top": 0, "min-height-bias-bottom": 0 }, { "pie-size": "100%" }, [{ name: "pie-{{i}}-background-color", value: "black" }, { name: "pie-{{i}}-background-size", value: "0%" }, { name: "pie-{{i}}-background-opacity", value: 1 }].reduce(function(t34, e11) {
    for (var r11 = 1; r11 <= ZE.pieBackgroundN; r11++) {
      var i11 = e11.name.replace("{{i}}", r11), n11 = e11.value;
      t34[i11] = n11;
    }
    return t34;
  }, {}), { "line-style": "solid", "line-color": "#999", "line-fill": "solid", "line-cap": "butt", "line-opacity": 1, "line-outline-width": 0, "line-outline-color": "#000", "line-gradient-stop-colors": "#999", "line-gradient-stop-positions": "0%", "control-point-step-size": 40, "control-point-weights": 0.5, "segment-weights": 0.5, "segment-distances": 20, "segment-radii": 15, "radius-type": "arc-radius", "taxi-turn": "50%", "taxi-radius": 15, "taxi-turn-min-distance": 10, "taxi-direction": "auto", "edge-distances": "intersection", "curve-style": "haystack", "haystack-radius": 0, "arrow-scale": 1, "loop-direction": "-45deg", "loop-sweep": "-90deg", "source-distance-from-node": 0, "target-distance-from-node": 0, "source-endpoint": "outside-to-node", "target-endpoint": "outside-to-node", "line-dash-pattern": [6, 3], "line-dash-offset": 0 }, [{ name: "arrow-shape", value: "none" }, { name: "arrow-color", value: "#999" }, { name: "arrow-fill", value: "filled" }, { name: "arrow-width", value: 1 }].reduce(function(t34, e11) {
    return ZE.arrowPrefixes.forEach(function(r11) {
      var i11 = r11 + "-" + e11.name, n11 = e11.value;
      t34[i11] = n11;
    }), t34;
  }, {})), r10 = {}, i10 = 0; i10 < this.properties.length; i10++) {
    var n10 = this.properties[i10];
    if (!n10.pointsTo) {
      var a10 = n10.name, o10 = e10[a10], s10 = this.parse(a10, o10);
      r10[a10] = s10;
    }
  }
  return t33.defaultProperties = r10, t33.defaultProperties;
}, ZE.addDefaultStylesheet = function() {
  this.selector(":parent").css({ shape: "rectangle", padding: 10, "background-color": "#eee", "border-color": "#ccc", "border-width": 1 }).selector("edge").css({ width: 3 }).selector(":loop").css({ "curve-style": "bezier" }).selector("edge:compound").css({ "curve-style": "bezier", "source-endpoint": "outside-to-line", "target-endpoint": "outside-to-line" }).selector(":selected").css({ "background-color": "#0169D9", "line-color": "#0169D9", "source-arrow-color": "#0169D9", "target-arrow-color": "#0169D9", "mid-source-arrow-color": "#0169D9", "mid-target-arrow-color": "#0169D9" }).selector(":parent:selected").css({ "background-color": "#CCE1F9", "border-color": "#aec8e5" }).selector(":active").css({ "overlay-color": "black", "overlay-padding": 10, "overlay-opacity": 0.25 }), this.defaultLength = this.length;
};
var ZC = {};
ZC.parse = function(t33, e10, r10, i10) {
  if (Hd(e10)) return this.parseImplWarn(t33, e10, r10, i10);
  var n10, a10 = jy(t33, "" + e10, r10 ? "t" : "f", "mapping" === i10 || true === i10 || false === i10 || null == i10 ? "dontcare" : i10), o10 = this.propCache = this.propCache || [];
  return (n10 = o10[a10]) || (n10 = o10[a10] = this.parseImplWarn(t33, e10, r10, i10)), (r10 || "mapping" === i10) && (n10 = jN(n10)) && (n10.value = jN(n10.value)), n10;
}, ZC.parseImplWarn = function(t33, e10, r10, i10) {
  var n10 = this.parseImpl(t33, e10, r10, i10);
  return n10 || null == e10 || jL("The style property `".concat(t33, ": ").concat(e10, "` is invalid")), n10 && ("width" === n10.name || "height" === n10.name) && "label" === e10 && jL("The style value of `label` is deprecated for `" + n10.name + "`"), n10;
}, ZC.parseImpl = function(t33, e10, r10, i10) {
  t33 = HE(t33);
  var n10 = this.properties[t33], a10 = e10, o10 = this.types;
  if (!n10 || void 0 === e10) return null;
  n10.alias && (t33 = (n10 = n10.pointsTo).name);
  var s10 = Hu(e10);
  s10 && (e10 = e10.trim());
  var l10 = n10.type;
  if (!l10) return null;
  if (r10 && ("" === e10 || null === e10)) return { name: t33, value: e10, bypass: true, deleteBypass: true };
  if (Hd(e10)) return { name: t33, value: e10, strValue: "fn", mapped: o10.fn, bypass: r10 };
  if (!s10 || i10 || e10.length < 7 || "a" !== e10[1]) ;
  else if (e10.length >= 7 && "d" === e10[0] && (y10 = new RegExp(o10.data.regex).exec(e10))) {
    if (r10) return false;
    var h10 = o10.data;
    return { name: t33, value: y10, strValue: "" + e10, mapped: h10, field: y10[1], bypass: r10 };
  } else if (e10.length >= 10 && "m" === e10[0] && (v10 = new RegExp(o10.mapData.regex).exec(e10))) {
    if (r10 || l10.multiple) return false;
    var u10 = o10.mapData;
    if (!(l10.color || l10.number)) return false;
    var d10 = this.parse(t33, v10[4]);
    if (!d10 || d10.mapped) return false;
    var p10 = this.parse(t33, v10[5]);
    if (!p10 || p10.mapped) return false;
    if (d10.pfValue === p10.pfValue || d10.strValue === p10.strValue) return jL("`" + t33 + ": " + e10 + "` is not a valid mapper because the output range is zero; converting to `" + t33 + ": " + d10.strValue + "`"), this.parse(t33, d10.strValue);
    if (l10.color) {
      var g10 = d10.value, f10 = p10.value;
      if (g10[0] === f10[0] && g10[1] === f10[1] && g10[2] === f10[2] && (g10[3] === f10[3] || (null == g10[3] || 1 === g10[3]) && (null == f10[3] || 1 === f10[3]))) return false;
    }
    return { name: t33, value: v10, strValue: "" + e10, mapped: u10, field: v10[1], fieldMin: parseFloat(v10[2]), fieldMax: parseFloat(v10[3]), valueMin: d10.value, valueMax: p10.value, bypass: r10 };
  }
  if (l10.multiple && "multiple" !== i10) {
    if (x10 = s10 ? e10.split(/\s+/) : Hp(e10) ? e10 : [e10], l10.evenMultiple && x10.length % 2 != 0) return null;
    for (var y10, v10, x10, b10 = [], w10 = [], k10 = [], _10 = "", T10 = false, E10 = 0; E10 < x10.length; E10++) {
      var C10 = this.parse(t33, x10[E10], r10, "multiple");
      T10 = T10 || Hu(C10.value), b10.push(C10.value), k10.push(null != C10.pfValue ? C10.pfValue : C10.value), w10.push(C10.units), _10 += (E10 > 0 ? " " : "") + C10.strValue;
    }
    return l10.validate && !l10.validate(b10, w10) ? null : l10.singleEnum && T10 ? 1 === b10.length && Hu(b10[0]) ? { name: t33, value: b10[0], strValue: b10[0], bypass: r10 } : null : { name: t33, value: b10, pfValue: k10, strValue: _10, bypass: r10, units: w10 };
  }
  var S10 = function() {
    for (var i11 = 0; i11 < l10.enums.length; i11++) if (l10.enums[i11] === e10) return { name: t33, value: e10, strValue: "" + e10, bypass: r10 };
    return null;
  };
  if (l10.number) {
    var A10, L10, N10 = "px";
    if (l10.units && (L10 = l10.units), l10.implicitUnits && (N10 = l10.implicitUnits), !l10.unitless) {
      if (s10) {
        var I10 = "px|em" + (l10.allowPercent ? "|\\%" : "");
        L10 && (I10 = L10);
        var M10 = e10.match("^(" + HL + ")(" + I10 + ")?$");
        M10 && (e10 = M10[1], L10 = M10[2] || N10);
      } else (!L10 || l10.implicitUnits) && (L10 = N10);
    }
    if (isNaN(e10 = parseFloat(e10)) && void 0 === l10.enums) return null;
    if (isNaN(e10) && void 0 !== l10.enums) return e10 = a10, S10();
    if (l10.integer && !(Hf(A10 = e10) && Math.floor(A10) === A10) || void 0 !== l10.min && (e10 < l10.min || l10.strictMin && e10 === l10.min) || void 0 !== l10.max && (e10 > l10.max || l10.strictMax && e10 === l10.max)) return null;
    var R10 = { name: t33, value: e10, strValue: "" + e10 + (L10 || ""), units: L10, bypass: r10 };
    return l10.unitless || "px" !== L10 && "em" !== L10 ? R10.pfValue = e10 : R10.pfValue = "px" !== L10 && L10 ? this.getEmSizeInPixels() * e10 : e10, ("ms" === L10 || "s" === L10) && (R10.pfValue = "ms" === L10 ? e10 : 1e3 * e10), ("deg" === L10 || "rad" === L10) && (R10.pfValue = "rad" === L10 ? e10 : Math.PI * e10 / 180), "%" === L10 && (R10.pfValue = e10 / 100), R10;
  }
  if (l10.propList) {
    var D10 = [], O10 = "" + e10;
    if ("none" === O10) ;
    else {
      for (var P10 = O10.split(/\s*,\s*|\s+/), $10 = 0; $10 < P10.length; $10++) {
        var B10 = P10[$10].trim();
        this.properties[B10] ? D10.push(B10) : jL("`" + B10 + "` is not a valid property name");
      }
      if (0 === D10.length) return null;
    }
    return { name: t33, value: D10, strValue: 0 === D10.length ? "none" : D10.join(" "), bypass: r10 };
  }
  if (l10.color) {
    var F10, z10 = (Hp(F10 = e10) ? F10 : null) || HF[F10.toLowerCase()] || HP(F10) || HB(F10) || H$(F10);
    return z10 ? { name: t33, value: z10, pfValue: z10, strValue: "rgb(" + z10[0] + "," + z10[1] + "," + z10[2] + ")", bypass: r10 } : null;
  }
  if (l10.regex || l10.regexes) {
    if (l10.enums) {
      var U10 = S10();
      if (U10) return U10;
    }
    for (var G10 = l10.regexes ? l10.regexes : [l10.regex], q10 = 0; q10 < G10.length; q10++) {
      var Y10 = new RegExp(G10[q10]).exec(e10);
      if (Y10) return { name: t33, value: l10.singleRegexMatchValue ? Y10[1] : Y10, strValue: "" + e10, bypass: r10 };
    }
    return null;
  }
  return l10.string ? { name: t33, value: "" + e10, strValue: "" + e10, bypass: r10 } : l10.enums ? S10() : null;
};
var ZS = function t29(e10) {
  if (!(this instanceof t29)) return new t29(e10);
  if (!Hb(e10)) {
    jS("A style must have a core reference");
    return;
  }
  this._private = { cy: e10, coreStyle: {} }, this.length = 0, this.resetToDefault();
}, ZA = ZS.prototype;
ZA.instanceString = function() {
  return "style";
}, ZA.clear = function() {
  for (var t33 = this._private, e10 = t33.cy.elements(), r10 = 0; r10 < this.length; r10++) this[r10] = void 0;
  return this.length = 0, t33.contextStyles = {}, t33.propDiffs = {}, this.cleanElements(e10, true), e10.forEach(function(t34) {
    var e11 = t34[0]._private;
    e11.styleDirty = true, e11.appliedInitStyle = false;
  }), this;
}, ZA.resetToDefault = function() {
  return this.clear(), this.addDefaultStylesheet(), this;
}, ZA.core = function(t33) {
  return this._private.coreStyle[t33] || this.getDefaultProperty(t33);
}, ZA.selector = function(t33) {
  var e10 = "core" === t33 ? null : new X0(t33), r10 = this.length++;
  return this[r10] = { selector: e10, properties: [], mappedProperties: [], index: r10 }, this;
}, ZA.css = function() {
  var t33 = arguments;
  if (1 === t33.length) for (var e10 = t33[0], r10 = 0; r10 < this.properties.length; r10++) {
    var i10 = this.properties[r10], n10 = e10[i10.name];
    void 0 === n10 && (n10 = e10[HC(i10.name)]), void 0 !== n10 && this.cssRule(i10.name, n10);
  }
  else 2 === t33.length && this.cssRule(t33[0], t33[1]);
  return this;
}, ZA.style = ZA.css, ZA.cssRule = function(t33, e10) {
  var r10 = this.parse(t33, e10);
  if (r10) {
    var i10 = this.length - 1;
    this[i10].properties.push(r10), this[i10].properties[r10.name] = r10, r10.name.match(/pie-(\d+)-background-size/) && r10.value && (this._private.hasPie = true), r10.mapped && this[i10].mappedProperties.push(r10), this[i10].selector || (this._private.coreStyle[r10.name] = r10);
  }
  return this;
}, ZA.append = function(t33) {
  return Hw(t33) ? t33.appendToStyle(this) : Hp(t33) ? this.appendFromJson(t33) : Hu(t33) && this.appendFromString(t33), this;
}, ZS.fromJson = function(t33, e10) {
  var r10 = new ZS(t33);
  return r10.fromJson(e10), r10;
}, ZS.fromString = function(t33, e10) {
  return new ZS(t33).fromString(e10);
}, [Zx, Zb, Zw, Zk, Z_, ZT, ZE, ZC].forEach(function(t33) {
  HO(ZA, t33);
}), ZS.types = ZA.types, ZS.properties = ZA.properties, ZS.propertyGroups = ZA.propertyGroups, ZS.propertyGroupNames = ZA.propertyGroupNames, ZS.propertyGroupKeys = ZA.propertyGroupKeys;
var ZL = { autolock: function(t33) {
  return void 0 === t33 ? this._private.autolock : (this._private.autolock = !!t33, this);
}, autoungrabify: function(t33) {
  return void 0 === t33 ? this._private.autoungrabify : (this._private.autoungrabify = !!t33, this);
}, autounselectify: function(t33) {
  return void 0 === t33 ? this._private.autounselectify : (this._private.autounselectify = !!t33, this);
}, selectionType: function(t33) {
  var e10 = this._private;
  return (null == e10.selectionType && (e10.selectionType = "single"), void 0 === t33) ? e10.selectionType : (("additive" === t33 || "single" === t33) && (e10.selectionType = t33), this);
}, panningEnabled: function(t33) {
  return void 0 === t33 ? this._private.panningEnabled : (this._private.panningEnabled = !!t33, this);
}, userPanningEnabled: function(t33) {
  return void 0 === t33 ? this._private.userPanningEnabled : (this._private.userPanningEnabled = !!t33, this);
}, zoomingEnabled: function(t33) {
  return void 0 === t33 ? this._private.zoomingEnabled : (this._private.zoomingEnabled = !!t33, this);
}, userZoomingEnabled: function(t33) {
  return void 0 === t33 ? this._private.userZoomingEnabled : (this._private.userZoomingEnabled = !!t33, this);
}, boxSelectionEnabled: function(t33) {
  return void 0 === t33 ? this._private.boxSelectionEnabled : (this._private.boxSelectionEnabled = !!t33, this);
}, pan: function() {
  var t33, e10, r10, i10, n10, a10 = arguments, o10 = this._private.pan;
  switch (a10.length) {
    case 0:
      return o10;
    case 1:
      if (Hu(a10[0])) return o10[t33 = a10[0]];
      if (Hg(a10[0])) {
        if (!this._private.panningEnabled) return this;
        i10 = (r10 = a10[0]).x, n10 = r10.y, Hf(i10) && (o10.x = i10), Hf(n10) && (o10.y = n10), this.emit("pan viewport");
      }
      break;
    case 2:
      if (!this._private.panningEnabled) return this;
      t33 = a10[0], e10 = a10[1], ("x" === t33 || "y" === t33) && Hf(e10) && (o10[t33] = e10), this.emit("pan viewport");
  }
  return this.notify("viewport"), this;
}, panBy: function(t33, e10) {
  var r10, i10, n10, a10 = arguments, o10 = this._private.pan;
  if (!this._private.panningEnabled) return this;
  switch (a10.length) {
    case 1:
      Hg(t33) && (i10 = (r10 = a10[0]).x, n10 = r10.y, Hf(i10) && (o10.x += i10), Hf(n10) && (o10.y += n10), this.emit("pan viewport"));
      break;
    case 2:
      ("x" === t33 || "y" === t33) && Hf(e10) && (o10[t33] += e10), this.emit("pan viewport");
  }
  return this.notify("viewport"), this;
}, fit: function(t33, e10) {
  var r10 = this.getFitViewport(t33, e10);
  if (r10) {
    var i10 = this._private;
    i10.zoom = r10.zoom, i10.pan = r10.pan, this.emit("pan zoom viewport"), this.notify("viewport");
  }
  return this;
}, getFitViewport: function(t33, e10) {
  if (Hf(t33) && void 0 === e10 && (e10 = t33, t33 = void 0), this._private.panningEnabled && this._private.zoomingEnabled) {
    if (Hu(t33)) {
      var r10, i10, n10, a10 = t33;
      t33 = this.$(a10);
    } else if (Hg(r10 = t33) && Hf(r10.x1) && Hf(r10.x2) && Hf(r10.y1) && Hf(r10.y2)) {
      var o10 = t33;
      (i10 = { x1: o10.x1, y1: o10.y1, x2: o10.x2, y2: o10.y2 }).w = i10.x2 - i10.x1, i10.h = i10.y2 - i10.y1;
    } else Hy(t33) || (t33 = this.mutableElements());
    if (!(Hy(t33) && t33.empty())) {
      i10 = i10 || t33.boundingBox();
      var s10 = this.width(), l10 = this.height();
      if (e10 = Hf(e10) ? e10 : 0, !isNaN(s10) && !isNaN(l10) && s10 > 0 && l10 > 0 && !isNaN(i10.w) && !isNaN(i10.h) && i10.w > 0 && i10.h > 0) {
        n10 = (n10 = (n10 = Math.min((s10 - 2 * e10) / i10.w, (l10 - 2 * e10) / i10.h)) > this._private.maxZoom ? this._private.maxZoom : n10) < this._private.minZoom ? this._private.minZoom : n10;
        var h10 = { x: (s10 - n10 * (i10.x1 + i10.x2)) / 2, y: (l10 - n10 * (i10.y1 + i10.y2)) / 2 };
        return { zoom: n10, pan: h10 };
      }
    }
  }
}, zoomRange: function(t33, e10) {
  var r10 = this._private;
  if (null == e10) {
    var i10 = t33;
    t33 = i10.min, e10 = i10.max;
  }
  return Hf(t33) && Hf(e10) && t33 <= e10 ? (r10.minZoom = t33, r10.maxZoom = e10) : Hf(t33) && void 0 === e10 && t33 <= r10.maxZoom ? r10.minZoom = t33 : Hf(e10) && void 0 === t33 && e10 >= r10.minZoom && (r10.maxZoom = e10), this;
}, minZoom: function(t33) {
  return void 0 === t33 ? this._private.minZoom : this.zoomRange({ min: t33 });
}, maxZoom: function(t33) {
  return void 0 === t33 ? this._private.maxZoom : this.zoomRange({ max: t33 });
}, getZoomedViewport: function(t33) {
  var e10, r10, i10 = this._private, n10 = i10.pan, a10 = i10.zoom, o10 = false;
  if (i10.zoomingEnabled || (o10 = true), Hf(t33) ? r10 = t33 : Hg(t33) && (r10 = t33.level, null != t33.position ? e10 = j1(t33.position, a10, n10) : null != t33.renderedPosition && (e10 = t33.renderedPosition), null == e10 || i10.panningEnabled || (o10 = true)), r10 = (r10 = r10 > i10.maxZoom ? i10.maxZoom : r10) < i10.minZoom ? i10.minZoom : r10, o10 || !Hf(r10) || r10 === a10 || null != e10 && (!Hf(e10.x) || !Hf(e10.y))) return null;
  if (null == e10) return { zoomed: true, panned: false, zoom: r10, pan: n10 };
  var s10 = r10, l10 = { x: -s10 / a10 * (e10.x - n10.x) + e10.x, y: -s10 / a10 * (e10.y - n10.y) + e10.y };
  return { zoomed: true, panned: true, zoom: s10, pan: l10 };
}, zoom: function(t33) {
  if (void 0 === t33) return this._private.zoom;
  var e10 = this.getZoomedViewport(t33), r10 = this._private;
  return null != e10 && e10.zoomed && (r10.zoom = e10.zoom, e10.panned && (r10.pan.x = e10.pan.x, r10.pan.y = e10.pan.y), this.emit("zoom" + (e10.panned ? " pan" : "") + " viewport"), this.notify("viewport")), this;
}, viewport: function(t33) {
  var e10 = this._private, r10 = true, i10 = true, n10 = [], a10 = false, o10 = false;
  if (!t33 || (Hf(t33.zoom) || (r10 = false), Hg(t33.pan) || (i10 = false), !r10 && !i10)) return this;
  if (r10) {
    var s10 = t33.zoom;
    s10 < e10.minZoom || s10 > e10.maxZoom || !e10.zoomingEnabled ? a10 = true : (e10.zoom = s10, n10.push("zoom"));
  }
  if (i10 && (!a10 || !t33.cancelOnFailedZoom) && e10.panningEnabled) {
    var l10 = t33.pan;
    Hf(l10.x) && (e10.pan.x = l10.x, o10 = false), Hf(l10.y) && (e10.pan.y = l10.y, o10 = false), o10 || n10.push("pan");
  }
  return n10.length > 0 && (n10.push("viewport"), this.emit(n10.join(" ")), this.notify("viewport")), this;
}, center: function(t33) {
  var e10 = this.getCenterPan(t33);
  return e10 && (this._private.pan = e10, this.emit("pan viewport"), this.notify("viewport")), this;
}, getCenterPan: function(t33, e10) {
  if (this._private.panningEnabled) {
    if (Hu(t33)) {
      var r10 = t33;
      t33 = this.mutableElements().filter(r10);
    } else Hy(t33) || (t33 = this.mutableElements());
    if (0 !== t33.length) {
      var i10 = t33.boundingBox(), n10 = this.width(), a10 = this.height();
      return { x: (n10 - (e10 = void 0 === e10 ? this._private.zoom : e10) * (i10.x1 + i10.x2)) / 2, y: (a10 - e10 * (i10.y1 + i10.y2)) / 2 };
    }
  }
}, reset: function() {
  return this._private.panningEnabled && this._private.zoomingEnabled && this.viewport({ pan: { x: 0, y: 0 }, zoom: 1 }), this;
}, invalidateSize: function() {
  this._private.sizeCache = null;
}, size: function() {
  var t33, e10, r10 = this._private, i10 = r10.container;
  return r10.sizeCache = r10.sizeCache || (i10 ? (t33 = this.window().getComputedStyle(i10), e10 = function(e11) {
    return parseFloat(t33.getPropertyValue(e11));
  }, { width: i10.clientWidth - e10("padding-left") - e10("padding-right"), height: i10.clientHeight - e10("padding-top") - e10("padding-bottom") }) : { width: 1, height: 1 });
}, width: function() {
  return this.size().width;
}, height: function() {
  return this.size().height;
}, extent: function() {
  var t33 = this._private.pan, e10 = this._private.zoom, r10 = this.renderedExtent(), i10 = { x1: (r10.x1 - t33.x) / e10, x2: (r10.x2 - t33.x) / e10, y1: (r10.y1 - t33.y) / e10, y2: (r10.y2 - t33.y) / e10 };
  return i10.w = i10.x2 - i10.x1, i10.h = i10.y2 - i10.y1, i10;
}, renderedExtent: function() {
  var t33 = this.width(), e10 = this.height();
  return { x1: 0, y1: 0, x2: t33, y2: e10, w: t33, h: e10 };
}, multiClickDebounceTime: function(t33) {
  return t33 ? (this._private.multiClickDebounceTime = t33, this) : this._private.multiClickDebounceTime;
} };
ZL.centre = ZL.center, ZL.autolockNodes = ZL.autolock, ZL.autoungrabifyNodes = ZL.autoungrabify;
var ZN = { data: XO.data({ field: "data", bindingEvent: "data", allowBinding: true, allowSetting: true, settingEvent: "data", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, updateStyle: true }), removeData: XO.removeData({ field: "data", event: "data", triggerFnName: "trigger", triggerEvent: true, updateStyle: true }), scratch: XO.data({ field: "scratch", bindingEvent: "scratch", allowBinding: true, allowSetting: true, settingEvent: "scratch", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, updateStyle: true }), removeScratch: XO.removeData({ field: "scratch", event: "scratch", triggerFnName: "trigger", triggerEvent: true, updateStyle: true }) };
ZN.attr = ZN.data, ZN.removeAttr = ZN.removeData;
var ZI = function(t33) {
  var e10 = this, r10 = (t33 = HO({}, t33)).container;
  r10 && !Hm(r10) && Hm(r10[0]) && (r10 = r10[0]);
  var i10 = r10 ? r10._cyreg : null;
  (i10 = i10 || {}).cy && (i10.cy.destroy(), i10 = {});
  var n10 = i10.readies = i10.readies || [];
  r10 && (r10._cyreg = i10), i10.cy = e10;
  var a10 = void 0 !== Hn && void 0 !== r10 && !t33.headless, o10 = t33;
  o10.layout = HO({ name: a10 ? "grid" : "null" }, o10.layout), o10.renderer = HO({ name: a10 ? "canvas" : "null" }, o10.renderer);
  var s10 = function(t34, e11, r11) {
    return void 0 !== e11 ? e11 : void 0 !== r11 ? r11 : t34;
  }, l10 = this._private = { container: r10, ready: false, options: o10, elements: new Zt(this), listeners: [], aniEles: new Zt(this), data: o10.data || {}, scratch: {}, layout: null, renderer: null, destroyed: false, notificationsEnabled: true, minZoom: 1e-50, maxZoom: 1e50, zoomingEnabled: s10(true, o10.zoomingEnabled), userZoomingEnabled: s10(true, o10.userZoomingEnabled), panningEnabled: s10(true, o10.panningEnabled), userPanningEnabled: s10(true, o10.userPanningEnabled), boxSelectionEnabled: s10(true, o10.boxSelectionEnabled), autolock: s10(false, o10.autolock, o10.autolockNodes), autoungrabify: s10(false, o10.autoungrabify, o10.autoungrabifyNodes), autounselectify: s10(false, o10.autounselectify), styleEnabled: void 0 === o10.styleEnabled ? a10 : o10.styleEnabled, zoom: Hf(o10.zoom) ? o10.zoom : 1, pan: { x: Hg(o10.pan) && Hf(o10.pan.x) ? o10.pan.x : 0, y: Hg(o10.pan) && Hf(o10.pan.y) ? o10.pan.y : 0 }, animation: { current: [], queue: [] }, hasCompoundNodes: false, multiClickDebounceTime: s10(250, o10.multiClickDebounceTime) };
  this.createEmitter(), this.selectionType(o10.selectionType), this.zoomRange({ min: o10.minZoom, max: o10.maxZoom }), l10.styleEnabled && e10.setStyle([]);
  var h10 = HO({}, o10, o10.renderer);
  e10.initRenderer(h10);
  var u10 = function(t34, r11, i11) {
    e10.notifications(false);
    var n11 = e10.mutableElements();
    n11.length > 0 && n11.remove(), null != t34 && (Hg(t34) || Hp(t34)) && e10.add(t34), e10.one("layoutready", function(t35) {
      e10.notifications(true), e10.emit(t35), e10.one("load", r11), e10.emitAndNotify("load");
    }).one("layoutstop", function() {
      e10.one("done", i11), e10.emit("done");
    });
    var a11 = HO({}, e10._private.options.layout);
    a11.eles = e10.elements(), e10.layout(a11).run();
  };
  !function(t34, e11) {
    if (t34.some(H_)) return VV.all(t34).then(e11);
    e11(t34);
  }([o10.style, o10.elements], function(t34) {
    var r11 = t34[0], a11 = t34[1];
    l10.styleEnabled && e10.style().append(r11), u10(a11, function() {
      e10.startAnimationLoop(), l10.ready = true, Hd(o10.ready) && e10.on("ready", o10.ready);
      for (var t35 = 0; t35 < n10.length; t35++) {
        var r12 = n10[t35];
        e10.on("ready", r12);
      }
      i10 && (i10.readies = []), e10.emit("ready");
    }, o10.done);
  });
}, ZM = ZI.prototype;
HO(ZM, { instanceString: function() {
  return "core";
}, isReady: function() {
  return this._private.ready;
}, destroyed: function() {
  return this._private.destroyed;
}, ready: function(t33) {
  return this.isReady() ? this.emitter().emit("ready", [], t33) : this.on("ready", t33), this;
}, destroy: function() {
  if (!this.destroyed()) return this.stopAnimationLoop(), this.destroyRenderer(), this.emit("destroy"), this._private.destroyed = true, this;
}, hasElementWithId: function(t33) {
  return this._private.elements.hasElementWithId(t33);
}, getElementById: function(t33) {
  return this._private.elements.getElementById(t33);
}, hasCompoundNodes: function() {
  return this._private.hasCompoundNodes;
}, headless: function() {
  return this._private.renderer.isHeadless();
}, styleEnabled: function() {
  return this._private.styleEnabled;
}, addToPool: function(t33) {
  return this._private.elements.merge(t33), this;
}, removeFromPool: function(t33) {
  return this._private.elements.unmerge(t33), this;
}, container: function() {
  return this._private.container || null;
}, window: function() {
  if (null == this._private.container) return Hn;
  var t33 = this._private.container.ownerDocument;
  return void 0 === t33 || null == t33 ? Hn : t33.defaultView || Hn;
}, mount: function(t33) {
  if (null != t33) {
    var e10 = this._private, r10 = e10.options;
    return !Hm(t33) && Hm(t33[0]) && (t33 = t33[0]), this.stopAnimationLoop(), this.destroyRenderer(), e10.container = t33, e10.styleEnabled = true, this.invalidateSize(), this.initRenderer(HO({}, r10, r10.renderer, { name: "null" === r10.renderer.name ? "canvas" : r10.renderer.name })), this.startAnimationLoop(), this.style(r10.style), this.emit("mount"), this;
  }
}, unmount: function() {
  return this.stopAnimationLoop(), this.destroyRenderer(), this.initRenderer({ name: "null" }), this.emit("unmount"), this;
}, options: function() {
  return jN(this._private.options);
}, json: function(t33) {
  var e10 = this, r10 = e10._private, i10 = e10.mutableElements();
  if (Hg(t33)) {
    if (e10.startBatch(), t33.elements) {
      var n10 = {}, a10 = function(t34, r11) {
        for (var i11 = [], a11 = [], o11 = 0; o11 < t34.length; o11++) {
          var s11 = t34[o11];
          if (!s11.data.id) {
            jL("cy.json() cannot handle elements without an ID attribute");
            continue;
          }
          var l11 = "" + s11.data.id, h11 = e10.getElementById(l11);
          n10[l11] = true, 0 !== h11.length ? a11.push({ ele: h11, json: s11 }) : (r11 && (s11.group = r11), i11.push(s11));
        }
        e10.add(i11);
        for (var u11 = 0; u11 < a11.length; u11++) {
          var d11 = a11[u11], p11 = d11.ele, g11 = d11.json;
          p11.json(g11);
        }
      };
      if (Hp(t33.elements)) a10(t33.elements);
      else for (var o10 = ["nodes", "edges"], s10 = 0; s10 < o10.length; s10++) {
        var l10 = o10[s10], h10 = t33.elements[l10];
        Hp(h10) && a10(h10, l10);
      }
      var u10 = e10.collection();
      i10.filter(function(t34) {
        return !n10[t34.id()];
      }).forEach(function(t34) {
        t34.isParent() ? u10.merge(t34) : t34.remove();
      }), u10.forEach(function(t34) {
        return t34.children().move({ parent: null });
      }), u10.forEach(function(t34) {
        return e10.getElementById(t34.id()).remove();
      });
    }
    t33.style && e10.style(t33.style), null != t33.zoom && t33.zoom !== r10.zoom && e10.zoom(t33.zoom), t33.pan && (t33.pan.x !== r10.pan.x || t33.pan.y !== r10.pan.y) && e10.pan(t33.pan), t33.data && e10.data(t33.data);
    for (var d10 = ["minZoom", "maxZoom", "zoomingEnabled", "userZoomingEnabled", "panningEnabled", "userPanningEnabled", "boxSelectionEnabled", "autolock", "autoungrabify", "autounselectify", "multiClickDebounceTime"], p10 = 0; p10 < d10.length; p10++) {
      var g10 = d10[p10];
      null != t33[g10] && e10[g10](t33[g10]);
    }
    return e10.endBatch(), this;
  }
  var f10 = {};
  t33 ? f10.elements = this.elements().map(function(t34) {
    return t34.json();
  }) : (f10.elements = {}, i10.forEach(function(t34) {
    var e11 = t34.group();
    f10.elements[e11] || (f10.elements[e11] = []), f10.elements[e11].push(t34.json());
  })), this._private.styleEnabled && (f10.style = e10.style().json()), f10.data = jN(e10.data());
  var y10 = r10.options;
  return f10.zoomingEnabled = r10.zoomingEnabled, f10.userZoomingEnabled = r10.userZoomingEnabled, f10.zoom = r10.zoom, f10.minZoom = r10.minZoom, f10.maxZoom = r10.maxZoom, f10.panningEnabled = r10.panningEnabled, f10.userPanningEnabled = r10.userPanningEnabled, f10.pan = jN(r10.pan), f10.boxSelectionEnabled = r10.boxSelectionEnabled, f10.renderer = jN(y10.renderer), f10.hideEdgesOnViewport = y10.hideEdgesOnViewport, f10.textureOnViewport = y10.textureOnViewport, f10.wheelSensitivity = y10.wheelSensitivity, f10.motionBlur = y10.motionBlur, f10.multiClickDebounceTime = y10.multiClickDebounceTime, f10;
} }), ZM.$id = ZM.getElementById, [{ add: function(t33) {
  var e10;
  if (Hy(t33)) {
    if (t33._private.cy === this) e10 = t33.restore();
    else {
      for (var r10 = [], i10 = 0; i10 < t33.length; i10++) {
        var n10 = t33[i10];
        r10.push(n10.json());
      }
      e10 = new Zt(this, r10);
    }
  } else if (Hp(t33)) e10 = new Zt(this, t33);
  else if (Hg(t33) && (Hp(t33.nodes) || Hp(t33.edges))) {
    for (var a10 = [], o10 = ["nodes", "edges"], s10 = 0, l10 = o10.length; s10 < l10; s10++) {
      var h10 = o10[s10], u10 = t33[h10];
      if (Hp(u10)) for (var d10 = 0, p10 = u10.length; d10 < p10; d10++) {
        var g10 = HO({ group: h10 }, u10[d10]);
        a10.push(g10);
      }
    }
    e10 = new Zt(this, a10);
  } else e10 = new jY(this, t33).collection();
  return e10;
}, remove: function(t33) {
  if (Hy(t33)) ;
  else if (Hu(t33)) {
    var e10 = t33;
    t33 = this.$(e10);
  }
  return t33.remove();
} }, Zc, Zp, Zg, Zf, { notify: function(t33, e10) {
  var r10 = this._private;
  if (this.batching()) {
    r10.batchNotifications = r10.batchNotifications || {};
    var i10 = r10.batchNotifications[t33] = r10.batchNotifications[t33] || this.collection();
    null != e10 && i10.merge(e10);
    return;
  }
  if (r10.notificationsEnabled) {
    var n10 = this.renderer();
    !this.destroyed() && n10 && n10.notify(t33, e10);
  }
}, notifications: function(t33) {
  var e10 = this._private;
  return void 0 === t33 ? e10.notificationsEnabled : (e10.notificationsEnabled = !!t33, this);
}, noNotifications: function(t33) {
  this.notifications(false), t33(), this.notifications(true);
}, batching: function() {
  return this._private.batchCount > 0;
}, startBatch: function() {
  var t33 = this._private;
  return null == t33.batchCount && (t33.batchCount = 0), 0 === t33.batchCount && (t33.batchStyleEles = this.collection(), t33.batchNotifications = {}), t33.batchCount++, this;
}, endBatch: function() {
  var t33 = this._private;
  if (0 === t33.batchCount) return this;
  if (t33.batchCount--, 0 === t33.batchCount) {
    t33.batchStyleEles.updateStyle();
    var e10 = this.renderer();
    Object.keys(t33.batchNotifications).forEach(function(r10) {
      var i10 = t33.batchNotifications[r10];
      i10.empty() ? e10.notify(r10) : e10.notify(r10, i10);
    });
  }
  return this;
}, batch: function(t33) {
  return this.startBatch(), t33(), this.endBatch(), this;
}, batchData: function(t33) {
  var e10 = this;
  return this.batch(function() {
    for (var r10 = Object.keys(t33), i10 = 0; i10 < r10.length; i10++) {
      var n10 = r10[i10], a10 = t33[n10];
      e10.getElementById(n10).data(a10);
    }
  });
} }, Zy, Zv, { style: function(t33) {
  return t33 && this.setStyle(t33).update(), this._private.style;
}, setStyle: function(t33) {
  var e10 = this._private;
  return Hw(t33) ? e10.style = t33.generateStyle(this) : Hp(t33) ? e10.style = ZS.fromJson(this, t33) : Hu(t33) ? e10.style = ZS.fromString(this, t33) : e10.style = ZS(this), e10.style;
}, updateStyle: function() {
  this.mutableElements().updateStyle();
} }, ZL, ZN].forEach(function(t33) {
  HO(ZM, t33);
});
var ZR = { fit: true, directed: false, padding: 30, circle: false, grid: false, spacingFactor: 1.75, boundingBox: void 0, avoidOverlap: true, nodeDimensionsIncludeLabels: false, roots: void 0, depthSort: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: function(t33, e10) {
  return true;
}, ready: void 0, stop: void 0, transform: function(t33, e10) {
  return e10;
} }, ZD = { maximal: false, acyclic: false }, ZO = function(t33) {
  return t33.scratch("breadthfirst");
}, ZP = function(t33, e10) {
  return t33.scratch("breadthfirst", e10);
};
function Z$(t33) {
  this.options = HO({}, ZR, ZD, t33);
}
Z$.prototype.run = function() {
  var t33, e10 = this.options, r10 = e10.cy, i10 = e10.eles, n10 = i10.nodes().filter(function(t34) {
    return !t34.isParent();
  }), a10 = e10.directed, o10 = e10.acyclic || e10.maximal || e10.maximalAdjustments > 0, s10 = Wl(e10.boundingBox ? e10.boundingBox : { x1: 0, y1: 0, w: r10.width(), h: r10.height() });
  if (Hy(e10.roots)) t33 = e10.roots;
  else if (Hp(e10.roots)) {
    for (var l10 = [], h10 = 0; h10 < e10.roots.length; h10++) {
      var u10 = e10.roots[h10], d10 = r10.getElementById(u10);
      l10.push(d10);
    }
    t33 = r10.collection(l10);
  } else if (Hu(e10.roots)) t33 = r10.$(e10.roots);
  else if (a10) t33 = n10.roots();
  else {
    var p10 = i10.components();
    t33 = r10.collection();
    for (var g10 = 0; g10 < p10.length; g10++) !function(e11) {
      var r11 = p10[e11], i11 = r11.maxDegree(false), n11 = r11.filter(function(t34) {
        return t34.degree(false) === i11;
      });
      t33 = t33.add(n11);
    }(g10);
  }
  var f10 = [], y10 = {}, v10 = function(t34, e11) {
    null == f10[e11] && (f10[e11] = []);
    var r11 = f10[e11].length;
    f10[e11].push(t34), ZP(t34, { index: r11, depth: e11 });
  }, x10 = function(t34, e11) {
    var r11 = ZO(t34), i11 = r11.depth, n11 = r11.index;
    f10[i11][n11] = null, v10(t34, e11);
  };
  i10.bfs({ roots: t33, directed: e10.directed, visit: function(t34, e11, r11, i11, n11) {
    var a11 = t34[0], o11 = a11.id();
    v10(a11, n11), y10[o11] = true;
  } });
  for (var b10 = [], w10 = 0; w10 < n10.length; w10++) {
    var k10 = n10[w10];
    y10[k10.id()] || b10.push(k10);
  }
  var _10 = function(t34) {
    for (var e11 = f10[t34], r11 = 0; r11 < e11.length; r11++) {
      var i11 = e11[r11];
      if (null == i11) {
        e11.splice(r11, 1), r11--;
        continue;
      }
      ZP(i11, { depth: t34, index: r11 });
    }
  }, T10 = function() {
    for (var t34 = 0; t34 < f10.length; t34++) _10(t34);
  };
  if (a10 && o10) {
    var E10 = [], C10 = {}, S10 = function(t34) {
      return E10.push(t34);
    };
    for (n10.forEach(function(t34) {
      return E10.push(t34);
    }); E10.length > 0; ) {
      var A10 = E10.shift(), L10 = function(t34, r11) {
        for (var n11 = ZO(t34), a11 = t34.incomers().filter(function(t35) {
          return t35.isNode() && i10.has(t35);
        }), o11 = -1, s11 = t34.id(), l11 = 0; l11 < a11.length; l11++) o11 = Math.max(o11, ZO(a11[l11]).depth);
        if (n11.depth <= o11) {
          if (!e10.acyclic && r11[s11]) return null;
          var h11 = o11 + 1;
          return x10(t34, h11), r11[s11] = h11, true;
        }
        return false;
      }(A10, C10);
      if (L10) A10.outgoers().filter(function(t34) {
        return t34.isNode() && i10.has(t34);
      }).forEach(S10);
      else if (null === L10) {
        jL("Detected double maximal shift for node `" + A10.id() + "`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");
        break;
      }
    }
  }
  T10();
  var N10 = 0;
  if (e10.avoidOverlap) for (var I10 = 0; I10 < n10.length; I10++) {
    var M10 = n10[I10].layoutDimensions(e10), R10 = M10.w, D10 = M10.h;
    N10 = Math.max(N10, R10, D10);
  }
  var O10 = {}, P10 = function(t34) {
    if (O10[t34.id()]) return O10[t34.id()];
    for (var e11 = ZO(t34).depth, r11 = t34.neighborhood(), i11 = 0, a11 = 0, o11 = 0; o11 < r11.length; o11++) {
      var s11 = r11[o11];
      if (!(s11.isEdge() || s11.isParent()) && n10.has(s11)) {
        var l11 = ZO(s11);
        if (null != l11) {
          var h11 = l11.index, u11 = l11.depth;
          if (null != h11 && null != u11) {
            var d11 = f10[u11].length;
            u11 < e11 && (i11 += h11 / d11, a11++);
          }
        }
      }
    }
    return i11 /= a11 = Math.max(1, a11), 0 === a11 && (i11 = 0), O10[t34.id()] = i11, i11;
  }, $10 = function(t34, e11) {
    var r11 = P10(t34) - P10(e11);
    return 0 === r11 ? HD(t34.id(), e11.id()) : r11;
  };
  void 0 !== e10.depthSort && ($10 = e10.depthSort);
  for (var B10 = 0; B10 < f10.length; B10++) f10[B10].sort($10), _10(B10);
  for (var F10 = [], z10 = 0; z10 < b10.length; z10++) F10.push(b10[z10]);
  f10.unshift(F10), T10();
  for (var U10 = 0, G10 = 0; G10 < f10.length; G10++) U10 = Math.max(f10[G10].length, U10);
  var q10 = { x: s10.x1 + s10.w / 2, y: s10.x1 + s10.h / 2 }, Y10 = f10.reduce(function(t34, e11) {
    return Math.max(t34, e11.length);
  }, 0);
  return i10.nodes().layoutPositions(this, e10, function(t34) {
    var r11 = ZO(t34), i11 = r11.depth, n11 = r11.index, a11 = f10[i11].length, o11 = Math.max(s10.w / ((e10.grid ? Y10 : a11) + 1), N10), l11 = Math.max(s10.h / (f10.length + 1), N10), h11 = Math.min(s10.w / 2 / f10.length, s10.h / 2 / f10.length);
    if (h11 = Math.max(h11, N10), !e10.circle) return { x: q10.x + (n11 + 1 - (a11 + 1) / 2) * o11, y: (i11 + 1) * l11 };
    var u11 = h11 * i11 + h11 - (f10.length > 0 && f10[0].length <= 3 ? h11 / 2 : 0), d11 = 2 * Math.PI / f10[i11].length * n11;
    return 0 === i11 && 1 === f10[0].length && (u11 = 1), { x: q10.x + u11 * Math.cos(d11), y: q10.y + u11 * Math.sin(d11) };
  }), this;
};
var ZB = { fit: true, padding: 30, boundingBox: void 0, avoidOverlap: true, nodeDimensionsIncludeLabels: false, spacingFactor: void 0, radius: void 0, startAngle: 1.5 * Math.PI, sweep: void 0, clockwise: true, sort: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: function(t33, e10) {
  return true;
}, ready: void 0, stop: void 0, transform: function(t33, e10) {
  return e10;
} };
function ZF(t33) {
  this.options = HO({}, ZB, t33);
}
ZF.prototype.run = function() {
  var t33, e10 = this.options, r10 = e10.cy, i10 = e10.eles, n10 = void 0 !== e10.counterclockwise ? !e10.counterclockwise : e10.clockwise, a10 = i10.nodes().not(":parent");
  e10.sort && (a10 = a10.sort(e10.sort));
  for (var o10 = Wl(e10.boundingBox ? e10.boundingBox : { x1: 0, y1: 0, w: r10.width(), h: r10.height() }), s10 = { x: o10.x1 + o10.w / 2, y: o10.y1 + o10.h / 2 }, l10 = (void 0 === e10.sweep ? 2 * Math.PI - 2 * Math.PI / a10.length : e10.sweep) / Math.max(1, a10.length - 1), h10 = 0, u10 = 0; u10 < a10.length; u10++) {
    var d10 = a10[u10].layoutDimensions(e10);
    h10 = Math.max(h10, d10.w, d10.h);
  }
  if (t33 = Hf(e10.radius) ? e10.radius : a10.length <= 1 ? 0 : Math.min(o10.h, o10.w) / 2 - h10, a10.length > 1 && e10.avoidOverlap) {
    var p10 = Math.cos(l10) - 1, g10 = Math.sin(l10) - 0;
    t33 = Math.max(Math.sqrt((h10 *= 1.75) * h10 / (p10 * p10 + g10 * g10)), t33);
  }
  return i10.nodes().layoutPositions(this, e10, function(r11, i11) {
    var a11 = e10.startAngle + i11 * l10 * (n10 ? 1 : -1), o11 = t33 * Math.cos(a11), h11 = t33 * Math.sin(a11);
    return { x: s10.x + o11, y: s10.y + h11 };
  }), this;
};
var Zz = { fit: true, padding: 30, startAngle: 1.5 * Math.PI, sweep: void 0, clockwise: true, equidistant: false, minNodeSpacing: 10, boundingBox: void 0, avoidOverlap: true, nodeDimensionsIncludeLabels: false, height: void 0, width: void 0, spacingFactor: void 0, concentric: function(t33) {
  return t33.degree();
}, levelWidth: function(t33) {
  return t33.maxDegree() / 4;
}, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: function(t33, e10) {
  return true;
}, ready: void 0, stop: void 0, transform: function(t33, e10) {
  return e10;
} };
function ZU(t33) {
  this.options = HO({}, Zz, t33);
}
ZU.prototype.run = function() {
  for (var t33 = this.options, e10 = void 0 !== t33.counterclockwise ? !t33.counterclockwise : t33.clockwise, r10 = t33.cy, i10 = t33.eles, n10 = i10.nodes().not(":parent"), a10 = Wl(t33.boundingBox ? t33.boundingBox : { x1: 0, y1: 0, w: r10.width(), h: r10.height() }), o10 = { x: a10.x1 + a10.w / 2, y: a10.y1 + a10.h / 2 }, s10 = [], l10 = 0, h10 = 0; h10 < n10.length; h10++) {
    var u10 = n10[h10], d10 = void 0;
    d10 = t33.concentric(u10), s10.push({ value: d10, node: u10 }), u10._private.scratch.concentric = d10;
  }
  n10.updateStyle();
  for (var p10 = 0; p10 < n10.length; p10++) {
    var g10 = n10[p10].layoutDimensions(t33);
    l10 = Math.max(l10, g10.w, g10.h);
  }
  s10.sort(function(t34, e11) {
    return e11.value - t34.value;
  });
  for (var f10 = t33.levelWidth(n10), y10 = [[]], v10 = y10[0], x10 = 0; x10 < s10.length; x10++) {
    var b10 = s10[x10];
    v10.length > 0 && Math.abs(v10[0].value - b10.value) >= f10 && (v10 = [], y10.push(v10)), v10.push(b10);
  }
  var w10 = l10 + t33.minNodeSpacing;
  if (!t33.avoidOverlap) {
    var k10 = y10.length > 0 && y10[0].length > 1, _10 = (Math.min(a10.w, a10.h) / 2 - w10) / (y10.length + k10 ? 1 : 0);
    w10 = Math.min(w10, _10);
  }
  for (var T10 = 0, E10 = 0; E10 < y10.length; E10++) {
    var C10 = y10[E10], S10 = void 0 === t33.sweep ? 2 * Math.PI - 2 * Math.PI / C10.length : t33.sweep, A10 = C10.dTheta = S10 / Math.max(1, C10.length - 1);
    if (C10.length > 1 && t33.avoidOverlap) {
      var L10 = Math.cos(A10) - 1, N10 = Math.sin(A10) - 0;
      T10 = Math.max(Math.sqrt(w10 * w10 / (L10 * L10 + N10 * N10)), T10);
    }
    C10.r = T10, T10 += w10;
  }
  if (t33.equidistant) {
    for (var I10 = 0, M10 = 0, R10 = 0; R10 < y10.length; R10++) I10 = Math.max(I10, y10[R10].r - M10);
    M10 = 0;
    for (var D10 = 0; D10 < y10.length; D10++) {
      var O10 = y10[D10];
      0 === D10 && (M10 = O10.r), O10.r = M10, M10 += I10;
    }
  }
  for (var P10 = {}, $10 = 0; $10 < y10.length; $10++) for (var B10 = y10[$10], F10 = B10.dTheta, z10 = B10.r, U10 = 0; U10 < B10.length; U10++) {
    var G10 = B10[U10], q10 = t33.startAngle + (e10 ? 1 : -1) * F10 * U10, Y10 = { x: o10.x + z10 * Math.cos(q10), y: o10.y + z10 * Math.sin(q10) };
    P10[G10.node.id()] = Y10;
  }
  return i10.nodes().layoutPositions(this, t33, function(t34) {
    return P10[t34.id()];
  }), this;
};
var ZG = { ready: function() {
}, stop: function() {
}, animate: true, animationEasing: void 0, animationDuration: void 0, animateFilter: function(t33, e10) {
  return true;
}, animationThreshold: 250, refresh: 20, fit: true, padding: 30, boundingBox: void 0, nodeDimensionsIncludeLabels: false, randomize: false, componentSpacing: 40, nodeRepulsion: function(t33) {
  return 2048;
}, nodeOverlap: 4, idealEdgeLength: function(t33) {
  return 32;
}, edgeElasticity: function(t33) {
  return 32;
}, nestingFactor: 1.2, gravity: 1, numIter: 1e3, initialTemp: 1e3, coolingFactor: 0.99, minTemp: 1 };
function Zq(t33) {
  this.options = HO({}, ZG, t33), this.options.layout = this;
  var e10 = this.options.eles.nodes(), r10 = this.options.eles.edges().filter(function(t34) {
    var r11 = t34.source().data("id"), i10 = t34.target().data("id"), n10 = e10.some(function(t35) {
      return t35.data("id") === r11;
    }), a10 = e10.some(function(t35) {
      return t35.data("id") === i10;
    });
    return !n10 || !a10;
  });
  this.options.eles = this.options.eles.not(r10);
}
Zq.prototype.run = function() {
  var t33 = this.options, e10 = t33.cy, r10 = this;
  r10.stopped = false, (true === t33.animate || false === t33.animate) && r10.emit({ type: "layoutstart", layout: r10 }), teS = true === t33.debug;
  var i10 = ZY(e10, r10, t33);
  teS && teA(i10), t33.randomize && ZW(i10);
  var n10 = js(), a10 = function() {
    ZX(i10, e10, t33), true === t33.fit && e10.fit(t33.padding);
  }, o10 = function(e11) {
    return !r10.stopped && !(e11 >= t33.numIter) && (ZK(i10, t33), i10.temperature = i10.temperature * t33.coolingFactor, !(i10.temperature < t33.minTemp));
  }, s10 = function() {
    if (true === t33.animate || false === t33.animate) a10(), r10.one("layoutstop", t33.stop), r10.emit({ type: "layoutstop", layout: r10 });
    else {
      var e11 = t33.eles.nodes(), n11 = ZV(i10, t33, e11);
      e11.layoutPositions(r10, t33, n11);
    }
  }, l10 = 0, h10 = true;
  if (true === t33.animate) !function e11() {
    for (var r11 = 0; h10 && r11 < t33.refresh; ) h10 = o10(l10), l10++, r11++;
    h10 ? (js() - n10 >= t33.animationThreshold && a10(), jh(e11)) : (Z8(i10, t33), s10());
  }();
  else {
    for (; h10; ) h10 = o10(l10), l10++;
    Z8(i10, t33), s10();
  }
  return this;
}, Zq.prototype.stop = function() {
  return this.stopped = true, this.thread && this.thread.stop(), this.emit("layoutstop"), this;
}, Zq.prototype.destroy = function() {
  return this.thread && this.thread.stop(), this;
};
var ZY = function(t33, e10, r10) {
  for (var i10 = r10.eles.edges(), n10 = r10.eles.nodes(), a10 = Wl(r10.boundingBox ? r10.boundingBox : { x1: 0, y1: 0, w: t33.width(), h: t33.height() }), o10 = { isCompound: t33.hasCompoundNodes(), layoutNodes: [], idToIndex: {}, nodeSize: n10.size(), graphSet: [], indexToGraph: [], layoutEdges: [], edgeSize: i10.size(), temperature: r10.initialTemp, clientWidth: a10.w, clientHeight: a10.h, boundingBox: a10 }, s10 = r10.eles.components(), l10 = {}, h10 = 0; h10 < s10.length; h10++) for (var u10 = s10[h10], d10 = 0; d10 < u10.length; d10++) {
    var p10 = u10[d10];
    l10[p10.id()] = h10;
  }
  for (var h10 = 0; h10 < o10.nodeSize; h10++) {
    var g10 = n10[h10], f10 = g10.layoutDimensions(r10), y10 = {};
    y10.isLocked = g10.locked(), y10.id = g10.data("id"), y10.parentId = g10.data("parent"), y10.cmptId = l10[g10.id()], y10.children = [], y10.positionX = g10.position("x"), y10.positionY = g10.position("y"), y10.offsetX = 0, y10.offsetY = 0, y10.height = f10.w, y10.width = f10.h, y10.maxX = y10.positionX + y10.width / 2, y10.minX = y10.positionX - y10.width / 2, y10.maxY = y10.positionY + y10.height / 2, y10.minY = y10.positionY - y10.height / 2, y10.padLeft = parseFloat(g10.style("padding")), y10.padRight = parseFloat(g10.style("padding")), y10.padTop = parseFloat(g10.style("padding")), y10.padBottom = parseFloat(g10.style("padding")), y10.nodeRepulsion = Hd(r10.nodeRepulsion) ? r10.nodeRepulsion(g10) : r10.nodeRepulsion, o10.layoutNodes.push(y10), o10.idToIndex[y10.id] = h10;
  }
  for (var v10 = [], x10 = 0, b10 = -1, w10 = [], h10 = 0; h10 < o10.nodeSize; h10++) {
    var g10 = o10.layoutNodes[h10], k10 = g10.parentId;
    null != k10 ? o10.layoutNodes[o10.idToIndex[k10]].children.push(g10.id) : (v10[++b10] = g10.id, w10.push(g10.id));
  }
  for (o10.graphSet.push(w10); x10 <= b10; ) {
    var _10 = v10[x10++], T10 = o10.idToIndex[_10], p10 = o10.layoutNodes[T10], E10 = p10.children;
    if (E10.length > 0) {
      o10.graphSet.push(E10);
      for (var h10 = 0; h10 < E10.length; h10++) v10[++b10] = E10[h10];
    }
  }
  for (var h10 = 0; h10 < o10.graphSet.length; h10++) for (var C10 = o10.graphSet[h10], d10 = 0; d10 < C10.length; d10++) {
    var S10 = o10.idToIndex[C10[d10]];
    o10.indexToGraph[S10] = h10;
  }
  for (var h10 = 0; h10 < o10.edgeSize; h10++) {
    var A10 = i10[h10], L10 = {};
    L10.id = A10.data("id"), L10.sourceId = A10.data("source"), L10.targetId = A10.data("target");
    var N10 = Hd(r10.idealEdgeLength) ? r10.idealEdgeLength(A10) : r10.idealEdgeLength, I10 = Hd(r10.edgeElasticity) ? r10.edgeElasticity(A10) : r10.edgeElasticity, M10 = o10.idToIndex[L10.sourceId], R10 = o10.idToIndex[L10.targetId];
    if (o10.indexToGraph[M10] != o10.indexToGraph[R10]) {
      for (var D10 = ZH(L10.sourceId, L10.targetId, o10), O10 = o10.graphSet[D10], P10 = 0, y10 = o10.layoutNodes[M10]; -1 === O10.indexOf(y10.id); ) y10 = o10.layoutNodes[o10.idToIndex[y10.parentId]], P10++;
      for (y10 = o10.layoutNodes[R10]; -1 === O10.indexOf(y10.id); ) y10 = o10.layoutNodes[o10.idToIndex[y10.parentId]], P10++;
      N10 *= P10 * r10.nestingFactor;
    }
    L10.idealLength = N10, L10.elasticity = I10, o10.layoutEdges.push(L10);
  }
  return o10;
}, ZH = function(t33, e10, r10) {
  var i10 = Zj(t33, e10, 0, r10);
  return 2 > i10.count ? 0 : i10.graph;
}, Zj = function t30(e10, r10, i10, n10) {
  var a10 = n10.graphSet[i10];
  if (-1 < a10.indexOf(e10) && -1 < a10.indexOf(r10)) return { count: 2, graph: i10 };
  for (var o10 = 0, s10 = 0; s10 < a10.length; s10++) {
    var l10 = a10[s10], h10 = n10.idToIndex[l10], u10 = n10.layoutNodes[h10].children;
    if (0 !== u10.length) {
      var d10 = t30(e10, r10, n10.indexToGraph[n10.idToIndex[u10[0]]], n10);
      if (0 !== d10.count) {
        if (1 !== d10.count) return d10;
        if (2 == ++o10) break;
      }
    }
  }
  return { count: o10, graph: i10 };
}, ZW = function(t33, e10) {
  for (var r10 = t33.clientWidth, i10 = t33.clientHeight, n10 = 0; n10 < t33.nodeSize; n10++) {
    var a10 = t33.layoutNodes[n10];
    0 !== a10.children.length || a10.isLocked || (a10.positionX = Math.random() * r10, a10.positionY = Math.random() * i10);
  }
}, ZV = function(t33, e10, r10) {
  var i10 = t33.boundingBox, n10 = { x1: 1 / 0, x2: -1 / 0, y1: 1 / 0, y2: -1 / 0 };
  return e10.boundingBox && (r10.forEach(function(e11) {
    var r11 = t33.layoutNodes[t33.idToIndex[e11.data("id")]];
    n10.x1 = Math.min(n10.x1, r11.positionX), n10.x2 = Math.max(n10.x2, r11.positionX), n10.y1 = Math.min(n10.y1, r11.positionY), n10.y2 = Math.max(n10.y2, r11.positionY);
  }), n10.w = n10.x2 - n10.x1, n10.h = n10.y2 - n10.y1), function(r11, a10) {
    var o10 = t33.layoutNodes[t33.idToIndex[r11.data("id")]];
    if (!e10.boundingBox) return { x: o10.positionX, y: o10.positionY };
    var s10 = (o10.positionX - n10.x1) / n10.w, l10 = (o10.positionY - n10.y1) / n10.h;
    return { x: i10.x1 + s10 * i10.w, y: i10.y1 + l10 * i10.h };
  };
}, ZX = function(t33, e10, r10) {
  var i10 = r10.layout, n10 = r10.eles.nodes(), a10 = ZV(t33, r10, n10);
  n10.positions(a10), true !== t33.ready && (t33.ready = true, i10.one("layoutready", r10.ready), i10.emit({ type: "layoutready", layout: this }));
}, ZK = function(t33, e10, r10) {
  ZZ(t33, e10), Z2(t33), Z4(t33, e10), Z5(t33), Z3(t33);
}, ZZ = function(t33, e10) {
  for (var r10 = 0; r10 < t33.graphSet.length; r10++) for (var i10 = t33.graphSet[r10], n10 = i10.length, a10 = 0; a10 < n10; a10++) for (var o10 = t33.layoutNodes[t33.idToIndex[i10[a10]]], s10 = a10 + 1; s10 < n10; s10++) ZJ(o10, t33.layoutNodes[t33.idToIndex[i10[s10]]], t33, e10);
}, ZQ = function(t33) {
  return -1 + 2 * t33 * Math.random();
}, ZJ = function(t33, e10, r10, i10) {
  if (t33.cmptId === e10.cmptId || r10.isCompound) {
    var n10 = e10.positionX - t33.positionX, a10 = e10.positionY - t33.positionY;
    0 === n10 && 0 === a10 && (n10 = ZQ(1), a10 = ZQ(1));
    var o10 = Z0(t33, e10, n10, a10);
    if (o10 > 0) var s10 = i10.nodeOverlap * o10, l10 = Math.sqrt(n10 * n10 + a10 * a10), h10 = s10 * n10 / l10, u10 = s10 * a10 / l10;
    else var d10 = Z1(t33, n10, a10), p10 = Z1(e10, -1 * n10, -1 * a10), g10 = p10.x - d10.x, f10 = p10.y - d10.y, y10 = g10 * g10 + f10 * f10, l10 = Math.sqrt(y10), s10 = (t33.nodeRepulsion + e10.nodeRepulsion) / y10, h10 = s10 * g10 / l10, u10 = s10 * f10 / l10;
    t33.isLocked || (t33.offsetX -= h10, t33.offsetY -= u10), e10.isLocked || (e10.offsetX += h10, e10.offsetY += u10);
  }
}, Z0 = function(t33, e10, r10, i10) {
  if (r10 > 0) var n10 = t33.maxX - e10.minX;
  else var n10 = e10.maxX - t33.minX;
  if (i10 > 0) var a10 = t33.maxY - e10.minY;
  else var a10 = e10.maxY - t33.minY;
  return n10 >= 0 && a10 >= 0 ? Math.sqrt(n10 * n10 + a10 * a10) : 0;
}, Z1 = function(t33, e10, r10) {
  var i10 = t33.positionX, n10 = t33.positionY, a10 = t33.height || 1, o10 = t33.width || 1, s10 = r10 / e10, l10 = a10 / o10, h10 = {};
  return 0 === e10 && 0 < r10 || 0 === e10 && 0 > r10 ? (h10.x = i10, h10.y = n10 + a10 / 2) : 0 < e10 && -1 * l10 <= s10 && s10 <= l10 ? (h10.x = i10 + o10 / 2, h10.y = n10 + o10 * r10 / 2 / e10) : 0 > e10 && -1 * l10 <= s10 && s10 <= l10 ? (h10.x = i10 - o10 / 2, h10.y = n10 - o10 * r10 / 2 / e10) : 0 < r10 && (s10 <= -1 * l10 || s10 >= l10) ? (h10.x = i10 + a10 * e10 / 2 / r10, h10.y = n10 + a10 / 2) : 0 > r10 && (s10 <= -1 * l10 || s10 >= l10) && (h10.x = i10 - a10 * e10 / 2 / r10, h10.y = n10 - a10 / 2), h10;
}, Z2 = function(t33, e10) {
  for (var r10 = 0; r10 < t33.edgeSize; r10++) {
    var i10 = t33.layoutEdges[r10], n10 = t33.idToIndex[i10.sourceId], a10 = t33.layoutNodes[n10], o10 = t33.idToIndex[i10.targetId], s10 = t33.layoutNodes[o10], l10 = s10.positionX - a10.positionX, h10 = s10.positionY - a10.positionY;
    if (0 !== l10 || 0 !== h10) {
      var u10 = Z1(a10, l10, h10), d10 = Z1(s10, -1 * l10, -1 * h10), p10 = d10.x - u10.x, g10 = d10.y - u10.y, f10 = Math.sqrt(p10 * p10 + g10 * g10), y10 = Math.pow(i10.idealLength - f10, 2) / i10.elasticity;
      if (0 !== f10) var v10 = y10 * p10 / f10, x10 = y10 * g10 / f10;
      else var v10 = 0, x10 = 0;
      a10.isLocked || (a10.offsetX += v10, a10.offsetY += x10), s10.isLocked || (s10.offsetX -= v10, s10.offsetY -= x10);
    }
  }
}, Z4 = function(t33, e10) {
  if (0 !== e10.gravity) for (var r10 = 0; r10 < t33.graphSet.length; r10++) {
    var i10 = t33.graphSet[r10], n10 = i10.length;
    if (0 === r10) var a10 = t33.clientHeight / 2, o10 = t33.clientWidth / 2;
    else var s10 = t33.layoutNodes[t33.idToIndex[i10[0]]], l10 = t33.layoutNodes[t33.idToIndex[s10.parentId]], a10 = l10.positionX, o10 = l10.positionY;
    for (var h10 = 0; h10 < n10; h10++) {
      var u10 = t33.layoutNodes[t33.idToIndex[i10[h10]]];
      if (!u10.isLocked) {
        var d10 = a10 - u10.positionX, p10 = o10 - u10.positionY, g10 = Math.sqrt(d10 * d10 + p10 * p10);
        if (g10 > 1) {
          var f10 = e10.gravity * d10 / g10, y10 = e10.gravity * p10 / g10;
          u10.offsetX += f10, u10.offsetY += y10;
        }
      }
    }
  }
}, Z5 = function(t33, e10) {
  var r10 = [], i10 = 0, n10 = -1;
  for (r10.push.apply(r10, t33.graphSet[0]), n10 += t33.graphSet[0].length; i10 <= n10; ) {
    var a10 = r10[i10++], o10 = t33.idToIndex[a10], s10 = t33.layoutNodes[o10], l10 = s10.children;
    if (0 < l10.length && !s10.isLocked) {
      for (var h10 = s10.offsetX, u10 = s10.offsetY, d10 = 0; d10 < l10.length; d10++) {
        var p10 = t33.layoutNodes[t33.idToIndex[l10[d10]]];
        p10.offsetX += h10, p10.offsetY += u10, r10[++n10] = l10[d10];
      }
      s10.offsetX = 0, s10.offsetY = 0;
    }
  }
}, Z3 = function(t33, e10) {
  for (var r10 = 0; r10 < t33.nodeSize; r10++) {
    var i10 = t33.layoutNodes[r10];
    0 < i10.children.length && (i10.maxX = void 0, i10.minX = void 0, i10.maxY = void 0, i10.minY = void 0);
  }
  for (var r10 = 0; r10 < t33.nodeSize; r10++) {
    var i10 = t33.layoutNodes[r10];
    if (!(0 < i10.children.length) && !i10.isLocked) {
      var n10 = Z6(i10.offsetX, i10.offsetY, t33.temperature);
      i10.positionX += n10.x, i10.positionY += n10.y, i10.offsetX = 0, i10.offsetY = 0, i10.minX = i10.positionX - i10.width, i10.maxX = i10.positionX + i10.width, i10.minY = i10.positionY - i10.height, i10.maxY = i10.positionY + i10.height, Z7(i10, t33);
    }
  }
  for (var r10 = 0; r10 < t33.nodeSize; r10++) {
    var i10 = t33.layoutNodes[r10];
    0 < i10.children.length && !i10.isLocked && (i10.positionX = (i10.maxX + i10.minX) / 2, i10.positionY = (i10.maxY + i10.minY) / 2, i10.width = i10.maxX - i10.minX, i10.height = i10.maxY - i10.minY);
  }
}, Z6 = function(t33, e10, r10) {
  var i10 = Math.sqrt(t33 * t33 + e10 * e10);
  if (i10 > r10) var n10 = { x: r10 * t33 / i10, y: r10 * e10 / i10 };
  else var n10 = { x: t33, y: e10 };
  return n10;
}, Z7 = function t31(e10, r10) {
  var i10 = e10.parentId;
  if (null != i10) {
    var n10 = r10.layoutNodes[r10.idToIndex[i10]], a10 = false;
    if ((null == n10.maxX || e10.maxX + n10.padRight > n10.maxX) && (n10.maxX = e10.maxX + n10.padRight, a10 = true), (null == n10.minX || e10.minX - n10.padLeft < n10.minX) && (n10.minX = e10.minX - n10.padLeft, a10 = true), (null == n10.maxY || e10.maxY + n10.padBottom > n10.maxY) && (n10.maxY = e10.maxY + n10.padBottom, a10 = true), (null == n10.minY || e10.minY - n10.padTop < n10.minY) && (n10.minY = e10.minY - n10.padTop, a10 = true), a10) return t31(n10, r10);
  }
}, Z8 = function(t33, e10) {
  for (var r10 = t33.layoutNodes, i10 = [], n10 = 0; n10 < r10.length; n10++) {
    var a10 = r10[n10], o10 = a10.cmptId;
    (i10[o10] = i10[o10] || []).push(a10);
  }
  for (var s10 = 0, n10 = 0; n10 < i10.length; n10++) {
    var l10 = i10[n10];
    if (l10) {
      l10.x1 = 1 / 0, l10.x2 = -1 / 0, l10.y1 = 1 / 0, l10.y2 = -1 / 0;
      for (var h10 = 0; h10 < l10.length; h10++) {
        var u10 = l10[h10];
        l10.x1 = Math.min(l10.x1, u10.positionX - u10.width / 2), l10.x2 = Math.max(l10.x2, u10.positionX + u10.width / 2), l10.y1 = Math.min(l10.y1, u10.positionY - u10.height / 2), l10.y2 = Math.max(l10.y2, u10.positionY + u10.height / 2);
      }
      l10.w = l10.x2 - l10.x1, l10.h = l10.y2 - l10.y1, s10 += l10.w * l10.h;
    }
  }
  i10.sort(function(t34, e11) {
    return e11.w * e11.h - t34.w * t34.h;
  });
  for (var d10 = 0, p10 = 0, g10 = 0, f10 = 0, y10 = Math.sqrt(s10) * t33.clientWidth / t33.clientHeight, n10 = 0; n10 < i10.length; n10++) {
    var l10 = i10[n10];
    if (l10) {
      for (var h10 = 0; h10 < l10.length; h10++) {
        var u10 = l10[h10];
        u10.isLocked || (u10.positionX += d10 - l10.x1, u10.positionY += p10 - l10.y1);
      }
      d10 += l10.w + e10.componentSpacing, g10 += l10.w + e10.componentSpacing, f10 = Math.max(f10, l10.h), g10 > y10 && (p10 += f10 + e10.componentSpacing, d10 = 0, g10 = 0, f10 = 0);
    }
  }
}, Z9 = { fit: true, padding: 30, boundingBox: void 0, avoidOverlap: true, avoidOverlapPadding: 10, nodeDimensionsIncludeLabels: false, spacingFactor: void 0, condense: false, rows: void 0, cols: void 0, position: function(t33) {
}, sort: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: function(t33, e10) {
  return true;
}, ready: void 0, stop: void 0, transform: function(t33, e10) {
  return e10;
} };
function Qt(t33) {
  this.options = HO({}, Z9, t33);
}
Qt.prototype.run = function() {
  var t33 = this.options, e10 = t33.cy, r10 = t33.eles, i10 = r10.nodes().not(":parent");
  t33.sort && (i10 = i10.sort(t33.sort));
  var n10 = Wl(t33.boundingBox ? t33.boundingBox : { x1: 0, y1: 0, w: e10.width(), h: e10.height() });
  if (0 === n10.h || 0 === n10.w) r10.nodes().layoutPositions(this, t33, function(t34) {
    return { x: n10.x1, y: n10.y1 };
  });
  else {
    var a10 = i10.size(), o10 = Math.sqrt(a10 * n10.h / n10.w), s10 = Math.round(o10), l10 = Math.round(n10.w / n10.h * o10), h10 = function(t34) {
      if (null == t34) return Math.min(s10, l10);
      Math.min(s10, l10) == s10 ? s10 = t34 : l10 = t34;
    }, u10 = function(t34) {
      if (null == t34) return Math.max(s10, l10);
      Math.max(s10, l10) == s10 ? s10 = t34 : l10 = t34;
    }, d10 = t33.rows, p10 = null != t33.cols ? t33.cols : t33.columns;
    if (null != d10 && null != p10) s10 = d10, l10 = p10;
    else if (null != d10 && null == p10) l10 = Math.ceil(a10 / (s10 = d10));
    else if (null == d10 && null != p10) s10 = Math.ceil(a10 / (l10 = p10));
    else if (l10 * s10 > a10) {
      var g10 = h10(), f10 = u10();
      (g10 - 1) * f10 >= a10 ? h10(g10 - 1) : (f10 - 1) * g10 >= a10 && u10(f10 - 1);
    } else for (; l10 * s10 < a10; ) {
      var y10 = h10(), v10 = u10();
      (v10 + 1) * y10 >= a10 ? u10(v10 + 1) : h10(y10 + 1);
    }
    var x10 = n10.w / l10, b10 = n10.h / s10;
    if (t33.condense && (x10 = 0, b10 = 0), t33.avoidOverlap) for (var w10 = 0; w10 < i10.length; w10++) {
      var k10 = i10[w10], _10 = k10._private.position;
      (null == _10.x || null == _10.y) && (_10.x = 0, _10.y = 0);
      var T10 = k10.layoutDimensions(t33), E10 = t33.avoidOverlapPadding, C10 = T10.w + E10, S10 = T10.h + E10;
      x10 = Math.max(x10, C10), b10 = Math.max(b10, S10);
    }
    for (var A10 = {}, L10 = function(t34, e11) {
      return !!A10["c-" + t34 + "-" + e11];
    }, N10 = function(t34, e11) {
      A10["c-" + t34 + "-" + e11] = true;
    }, I10 = 0, M10 = 0, R10 = function() {
      ++M10 >= l10 && (M10 = 0, I10++);
    }, D10 = {}, O10 = 0; O10 < i10.length; O10++) {
      var P10 = i10[O10], $10 = t33.position(P10);
      if ($10 && (void 0 !== $10.row || void 0 !== $10.col)) {
        var B10 = { row: $10.row, col: $10.col };
        if (void 0 === B10.col) for (B10.col = 0; L10(B10.row, B10.col); ) B10.col++;
        else if (void 0 === B10.row) for (B10.row = 0; L10(B10.row, B10.col); ) B10.row++;
        D10[P10.id()] = B10, N10(B10.row, B10.col);
      }
    }
    i10.layoutPositions(this, t33, function(t34, e11) {
      if (t34.locked() || t34.isParent()) return false;
      var r11, i11, a11 = D10[t34.id()];
      if (a11) r11 = a11.col * x10 + x10 / 2 + n10.x1, i11 = a11.row * b10 + b10 / 2 + n10.y1;
      else {
        for (; L10(I10, M10); ) R10();
        r11 = M10 * x10 + x10 / 2 + n10.x1, i11 = I10 * b10 + b10 / 2 + n10.y1, N10(I10, M10), R10();
      }
      return { x: r11, y: i11 };
    });
  }
  return this;
};
var Qe = { ready: function() {
}, stop: function() {
} };
function Qr(t33) {
  this.options = HO({}, Qe, t33);
}
Qr.prototype.run = function() {
  var t33 = this.options, e10 = t33.eles;
  return t33.cy, this.emit("layoutstart"), e10.nodes().positions(function() {
    return { x: 0, y: 0 };
  }), this.one("layoutready", t33.ready), this.emit("layoutready"), this.one("layoutstop", t33.stop), this.emit("layoutstop"), this;
}, Qr.prototype.stop = function() {
  return this;
};
var Qi = { positions: void 0, zoom: void 0, pan: void 0, fit: true, padding: 30, spacingFactor: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: function(t33, e10) {
  return true;
}, ready: void 0, stop: void 0, transform: function(t33, e10) {
  return e10;
} };
function Qn(t33) {
  this.options = HO({}, Qi, t33);
}
Qn.prototype.run = function() {
  var t33 = this.options, e10 = t33.eles.nodes(), r10 = Hd(t33.positions);
  return e10.layoutPositions(this, t33, function(e11, i10) {
    var n10 = function(e12) {
      if (null == t33.positions) {
        var i11;
        return { x: (i11 = e12.position()).x, y: i11.y };
      }
      if (r10) return t33.positions(e12);
      var n11 = t33.positions[e12._private.data.id];
      return null == n11 ? null : n11;
    }(e11);
    return !e11.locked() && null != n10 && n10;
  }), this;
};
var Qa = { fit: true, padding: 30, boundingBox: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: function(t33, e10) {
  return true;
}, ready: void 0, stop: void 0, transform: function(t33, e10) {
  return e10;
} };
function Qo(t33) {
  this.options = HO({}, Qa, t33);
}
Qo.prototype.run = function() {
  var t33 = this.options, e10 = t33.cy, r10 = t33.eles, i10 = Wl(t33.boundingBox ? t33.boundingBox : { x1: 0, y1: 0, w: e10.width(), h: e10.height() });
  return r10.nodes().layoutPositions(this, t33, function(t34, e11) {
    return { x: i10.x1 + Math.round(Math.random() * i10.w), y: i10.y1 + Math.round(Math.random() * i10.h) };
  }), this;
};
var Qs = [{ name: "breadthfirst", impl: Z$ }, { name: "circle", impl: ZF }, { name: "concentric", impl: ZU }, { name: "cose", impl: Zq }, { name: "grid", impl: Qt }, { name: "null", impl: Qr }, { name: "preset", impl: Qn }, { name: "random", impl: Qo }];
function Ql(t33) {
  this.options = t33, this.notifications = 0;
}
var Qh = function() {
}, Qc = function() {
  throw Error("A headless instance can not render images");
};
Ql.prototype = { recalculateRenderedStyle: Qh, notify: function() {
  this.notifications++;
}, init: Qh, isHeadless: function() {
  return true;
}, png: Qc, jpg: Qc };
var Qu = {};
Qu.arrowShapeWidth = 0.3, Qu.registerArrowShapes = function() {
  var t33 = this.arrowShapes = {}, e10 = this, r10 = function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = n11.x - r11 / 2 - o11, l10 = n11.x + r11 / 2 + o11, h10 = n11.y - r11 / 2 - o11, u10 = n11.y + r11 / 2 + o11;
    return s11 <= t34 && t34 <= l10 && h10 <= e11 && e11 <= u10;
  }, i10 = function(t34, e11, r11, i11, n11) {
    var a11 = t34 * Math.cos(i11) - e11 * Math.sin(i11), o11 = t34 * Math.sin(i11) + e11 * Math.cos(i11);
    return { x: a11 * r11 + n11.x, y: o11 * r11 + n11.y };
  }, n10 = function(t34, e11, r11, n11) {
    for (var a11 = [], o11 = 0; o11 < t34.length; o11 += 2) {
      var s11 = t34[o11], l10 = t34[o11 + 1];
      a11.push(i10(s11, l10, e11, r11, n11));
    }
    return a11;
  }, a10 = function(t34) {
    for (var e11 = [], r11 = 0; r11 < t34.length; r11++) {
      var i11 = t34[r11];
      e11.push(i11.x, i11.y);
    }
    return e11;
  }, o10 = function(t34) {
    return t34.pstyle("width").pfValue * t34.pstyle("arrow-scale").pfValue * 2;
  }, s10 = function(i11, s11) {
    Hu(s11) && (s11 = t33[s11]), t33[i11] = HO({ name: i11, points: [-0.15, -0.3, 0.15, -0.3, 0.15, 0.3, -0.15, 0.3], collide: function(t34, e11, r11, i12, o11, s12) {
      return WE(t34, e11, a10(n10(this.points, r11 + 2 * s12, i12, o11)));
    }, roughCollide: r10, draw: function(t34, r11, i12, a11) {
      var o11 = n10(this.points, r11, i12, a11);
      e10.arrowShapeImpl("polygon")(t34, o11);
    }, spacing: function(t34) {
      return 0;
    }, gap: o10 }, s11);
  };
  s10("none", { collide: jT, roughCollide: jT, draw: jC, spacing: jE, gap: jE }), s10("triangle", { points: [-0.15, -0.3, 0, 0, 0.15, -0.3] }), s10("arrow", "triangle"), s10("triangle-backcurve", { points: t33.triangle.points, controlPoint: [0, -0.15], roughCollide: r10, draw: function(t34, r11, a11, o11, s11) {
    var l10 = n10(this.points, r11, a11, o11), h10 = this.controlPoint, u10 = i10(h10[0], h10[1], r11, a11, o11);
    e10.arrowShapeImpl(this.name)(t34, l10, u10);
  }, gap: function(t34) {
    return 0.8 * o10(t34);
  } }), s10("triangle-tee", { points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0], pointsTee: [-0.15, -0.4, -0.15, -0.5, 0.15, -0.5, 0.15, -0.4], collide: function(t34, e11, r11, i11, o11, s11, l10) {
    var h10 = a10(n10(this.points, r11 + 2 * l10, i11, o11)), u10 = a10(n10(this.pointsTee, r11 + 2 * l10, i11, o11));
    return WE(t34, e11, h10) || WE(t34, e11, u10);
  }, draw: function(t34, r11, i11, a11, o11) {
    var s11 = n10(this.points, r11, i11, a11), l10 = n10(this.pointsTee, r11, i11, a11);
    e10.arrowShapeImpl(this.name)(t34, s11, l10);
  } }), s10("circle-triangle", { radius: 0.15, pointsTr: [0, -0.15, 0.15, -0.45, -0.15, -0.45, 0, -0.15], collide: function(t34, e11, r11, i11, o11, s11, l10) {
    var h10 = Math.pow(o11.x - t34, 2) + Math.pow(o11.y - e11, 2) <= Math.pow((r11 + 2 * l10) * this.radius, 2);
    return WE(t34, e11, a10(n10(this.points, r11 + 2 * l10, i11, o11))) || h10;
  }, draw: function(t34, r11, i11, a11, o11) {
    var s11 = n10(this.pointsTr, r11, i11, a11);
    e10.arrowShapeImpl(this.name)(t34, s11, a11.x, a11.y, this.radius * r11);
  }, spacing: function(t34) {
    return e10.getArrowWidth(t34.pstyle("width").pfValue, t34.pstyle("arrow-scale").value) * this.radius;
  } }), s10("triangle-cross", { points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0], baseCrossLinePts: [-0.15, -0.4, -0.15, -0.4, 0.15, -0.4, 0.15, -0.4], crossLinePts: function(t34, e11) {
    var r11 = this.baseCrossLinePts.slice(), i11 = e11 / t34;
    return r11[3] = r11[3] - i11, r11[5] = r11[5] - i11, r11;
  }, collide: function(t34, e11, r11, i11, o11, s11, l10) {
    var h10 = a10(n10(this.points, r11 + 2 * l10, i11, o11)), u10 = a10(n10(this.crossLinePts(r11, s11), r11 + 2 * l10, i11, o11));
    return WE(t34, e11, h10) || WE(t34, e11, u10);
  }, draw: function(t34, r11, i11, a11, o11) {
    var s11 = n10(this.points, r11, i11, a11), l10 = n10(this.crossLinePts(r11, o11), r11, i11, a11);
    e10.arrowShapeImpl(this.name)(t34, s11, l10);
  } }), s10("vee", { points: [-0.15, -0.3, 0, 0, 0.15, -0.3, 0, -0.15], gap: function(t34) {
    return 0.525 * o10(t34);
  } }), s10("circle", { radius: 0.15, collide: function(t34, e11, r11, i11, n11, a11, o11) {
    return Math.pow(n11.x - t34, 2) + Math.pow(n11.y - e11, 2) <= Math.pow((r11 + 2 * o11) * this.radius, 2);
  }, draw: function(t34, r11, i11, n11, a11) {
    e10.arrowShapeImpl(this.name)(t34, n11.x, n11.y, this.radius * r11);
  }, spacing: function(t34) {
    return e10.getArrowWidth(t34.pstyle("width").pfValue, t34.pstyle("arrow-scale").value) * this.radius;
  } }), s10("tee", { points: [-0.15, 0, -0.15, -0.1, 0.15, -0.1, 0.15, 0], spacing: function(t34) {
    return 1;
  }, gap: function(t34) {
    return 1;
  } }), s10("square", { points: [-0.15, 0, 0.15, 0, 0.15, -0.3, -0.15, -0.3] }), s10("diamond", { points: [-0.15, -0.15, 0, -0.3, 0.15, -0.15, 0, 0], gap: function(t34) {
    return t34.pstyle("width").pfValue * t34.pstyle("arrow-scale").value;
  } }), s10("chevron", { points: [0, 0, -0.15, -0.15, -0.1, -0.2, 0, -0.1, 0.1, -0.2, 0.15, -0.15], gap: function(t34) {
    return 0.95 * t34.pstyle("width").pfValue * t34.pstyle("arrow-scale").value;
  } });
};
var Qd = {};
Qd.projectIntoViewport = function(t33, e10) {
  var r10 = this.cy, i10 = this.findContainerClientCoords(), n10 = i10[0], a10 = i10[1], o10 = i10[4], s10 = r10.pan(), l10 = r10.zoom();
  return [((t33 - n10) / o10 - s10.x) / l10, ((e10 - a10) / o10 - s10.y) / l10];
}, Qd.findContainerClientCoords = function() {
  if (this.containerBB) return this.containerBB;
  var t33 = this.container, e10 = t33.getBoundingClientRect(), r10 = this.cy.window().getComputedStyle(t33), i10 = function(t34) {
    return parseFloat(r10.getPropertyValue(t34));
  }, n10 = { left: i10("padding-left"), right: i10("padding-right"), top: i10("padding-top"), bottom: i10("padding-bottom") }, a10 = { left: i10("border-left-width"), right: i10("border-right-width"), top: i10("border-top-width"), bottom: i10("border-bottom-width") }, o10 = t33.clientWidth, s10 = t33.clientHeight, l10 = n10.left + n10.right, h10 = n10.top + n10.bottom, u10 = a10.left + a10.right, d10 = e10.width / (o10 + u10), p10 = e10.left + n10.left + a10.left, g10 = e10.top + n10.top + a10.top;
  return this.containerBB = [p10, g10, o10 - l10, s10 - h10, d10];
}, Qd.invalidateContainerClientCoordsCache = function() {
  this.containerBB = null;
}, Qd.findNearestElement = function(t33, e10, r10, i10) {
  return this.findNearestElements(t33, e10, r10, i10)[0];
}, Qd.findNearestElements = function(t33, e10, r10, i10) {
  var n10, a10, o10 = this, s10 = this, l10 = s10.getCachedZSortedEles(), h10 = [], u10 = s10.cy.zoom(), d10 = s10.cy.hasCompoundNodes(), p10 = (i10 ? 24 : 8) / u10, g10 = (i10 ? 8 : 2) / u10, f10 = (i10 ? 8 : 2) / u10, y10 = 1 / 0;
  function v10(t34, e11) {
    if (t34.isNode()) {
      if (a10) return;
      a10 = t34, h10.push(t34);
    }
    if (t34.isEdge() && (null == e11 || e11 < y10)) {
      if (n10) {
        if (n10.pstyle("z-compound-depth").value === t34.pstyle("z-compound-depth").value && n10.pstyle("z-compound-depth").value === t34.pstyle("z-compound-depth").value) {
          for (var r11 = 0; r11 < h10.length; r11++) if (h10[r11].isEdge()) {
            h10[r11] = t34, n10 = t34, y10 = null != e11 ? e11 : y10;
            break;
          }
        }
      } else h10.push(t34), n10 = t34, y10 = null != e11 ? e11 : y10;
    }
  }
  function x10(r11) {
    var i11 = r11.outerWidth() + 2 * g10, n11 = r11.outerHeight() + 2 * g10, a11 = i11 / 2, l11 = n11 / 2, h11 = r11.position(), u11 = "auto" === r11.pstyle("corner-radius").value ? "auto" : r11.pstyle("corner-radius").pfValue, d11 = r11._private.rscratch;
    if (h11.x - a11 <= t33 && t33 <= h11.x + a11 && h11.y - l11 <= e10 && e10 <= h11.y + l11 && s10.nodeShapes[o10.getNodeShape(r11)].checkPoint(t33, e10, 0, i11, n11, h11.x, h11.y, u11, d11)) return v10(r11, 0), true;
  }
  function b10(r11, i11) {
    var n11, a11 = r11._private;
    n11 = i11 ? i11 + "-" : "", r11.boundingBox();
    var o11 = a11.labelBounds[i11 || "main"], s11 = r11.pstyle(n11 + "label").value;
    if ("yes" === r11.pstyle("text-events").strValue && s11) {
      var l11 = jB(a11.rscratch, "labelX", i11), h11 = jB(a11.rscratch, "labelY", i11), u11 = jB(a11.rscratch, "labelAngle", i11), d11 = r11.pstyle(n11 + "text-margin-x").pfValue, p11 = r11.pstyle(n11 + "text-margin-y").pfValue, g11 = o11.x1 - f10 - d11, y11 = o11.x2 + f10 - d11, x11 = o11.y1 - f10 - p11, b11 = o11.y2 + f10 - p11;
      if (u11) {
        var w11 = Math.cos(u11), k11 = Math.sin(u11), _10 = function(t34, e11) {
          return { x: (t34 -= l11) * w11 - (e11 -= h11) * k11 + l11, y: t34 * k11 + e11 * w11 + h11 };
        }, T10 = _10(g11, x11), E10 = _10(g11, b11), C10 = _10(y11, x11), S10 = _10(y11, b11);
        if (WE(t33, e10, [T10.x + d11, T10.y + p11, C10.x + d11, C10.y + p11, S10.x + d11, S10.y + p11, E10.x + d11, E10.y + p11])) return v10(r11), true;
      } else if (Wm(o11, t33, e10)) return v10(r11), true;
    }
  }
  r10 && (l10 = l10.interactive);
  for (var w10 = l10.length - 1; w10 >= 0; w10--) {
    var k10 = l10[w10];
    k10.isNode() ? x10(k10) || b10(k10) : function(r11) {
      var i11, n11 = r11._private, a11 = n11.rscratch, l11 = r11.pstyle("width").pfValue, u11 = r11.pstyle("arrow-scale").value, g11 = l11 / 2 + p10, f11 = g11 * g11, y11 = 2 * g11, b11 = n11.source, w11 = n11.target;
      if ("segments" === a11.edgeType || "straight" === a11.edgeType || "haystack" === a11.edgeType) {
        for (var k11 = a11.allpts, _10 = 0; _10 + 3 < k11.length; _10 += 2) if (Wx(t33, e10, k11[_10], k11[_10 + 1], k11[_10 + 2], k11[_10 + 3], y11) && f11 > (i11 = WT(t33, e10, k11[_10], k11[_10 + 1], k11[_10 + 2], k11[_10 + 3]))) return v10(r11, i11), true;
      } else if ("bezier" === a11.edgeType || "multibezier" === a11.edgeType || "self" === a11.edgeType || "compound" === a11.edgeType) {
        for (var k11 = a11.allpts, _10 = 0; _10 + 5 < a11.allpts.length; _10 += 4) if (Wb(t33, e10, k11[_10], k11[_10 + 1], k11[_10 + 2], k11[_10 + 3], k11[_10 + 4], k11[_10 + 5], y11) && f11 > (i11 = W_(t33, e10, k11[_10], k11[_10 + 1], k11[_10 + 2], k11[_10 + 3], k11[_10 + 4], k11[_10 + 5]))) return v10(r11, i11), true;
      }
      for (var b11 = b11 || n11.source, w11 = w11 || n11.target, T10 = o10.getArrowWidth(l11, u11), E10 = [{ name: "source", x: a11.arrowStartX, y: a11.arrowStartY, angle: a11.srcArrowAngle }, { name: "target", x: a11.arrowEndX, y: a11.arrowEndY, angle: a11.tgtArrowAngle }, { name: "mid-source", x: a11.midX, y: a11.midY, angle: a11.midsrcArrowAngle }, { name: "mid-target", x: a11.midX, y: a11.midY, angle: a11.midtgtArrowAngle }], _10 = 0; _10 < E10.length; _10++) {
        var C10 = E10[_10], S10 = s10.arrowShapes[r11.pstyle(C10.name + "-arrow-shape").value], A10 = r11.pstyle("width").pfValue;
        if (S10.roughCollide(t33, e10, T10, C10.angle, { x: C10.x, y: C10.y }, A10, p10) && S10.collide(t33, e10, T10, C10.angle, { x: C10.x, y: C10.y }, A10, p10)) return v10(r11), true;
      }
      d10 && h10.length > 0 && (x10(b11), x10(w11));
    }(k10) || b10(k10) || b10(k10, "source") || b10(k10, "target");
  }
  return h10;
}, Qd.getAllInBox = function(t33, e10, r10, i10) {
  var n10 = this.getCachedZSortedEles().interactive, a10 = [], o10 = Math.min(t33, r10), s10 = Math.max(t33, r10), l10 = Math.min(e10, i10), h10 = Math.max(e10, i10);
  t33 = o10, r10 = s10;
  for (var u10 = Wl({ x1: t33, y1: e10 = l10, x2: r10, y2: i10 = h10 }), d10 = 0; d10 < n10.length; d10++) {
    var p10 = n10[d10];
    if (p10.isNode()) {
      var g10 = p10.boundingBox({ includeNodes: true, includeEdges: false, includeLabels: false });
      Wf(u10, g10) && !Wy(g10, u10) && a10.push(p10);
    } else {
      var f10 = p10._private, y10 = f10.rscratch;
      if (null != y10.startX && null != y10.startY && !Wm(u10, y10.startX, y10.startY) || null != y10.endX && null != y10.endY && !Wm(u10, y10.endX, y10.endY)) continue;
      if ("bezier" === y10.edgeType || "multibezier" === y10.edgeType || "self" === y10.edgeType || "compound" === y10.edgeType || "segments" === y10.edgeType || "haystack" === y10.edgeType) {
        for (var v10, x10 = f10.rstyle.bezierPts || f10.rstyle.linePts || f10.rstyle.haystackPts, b10 = true, w10 = 0; w10 < x10.length; w10++) if (!Wm(u10, (v10 = x10[w10]).x, v10.y)) {
          b10 = false;
          break;
        }
        b10 && a10.push(p10);
      } else ("haystack" === y10.edgeType || "straight" === y10.edgeType) && a10.push(p10);
    }
  }
  return a10;
};
var Qp = {};
Qp.calculateArrowAngles = function(t33) {
  var e10 = t33._private.rscratch, r10 = "haystack" === e10.edgeType, i10 = "bezier" === e10.edgeType, n10 = "multibezier" === e10.edgeType, a10 = "segments" === e10.edgeType, o10 = "compound" === e10.edgeType, s10 = "self" === e10.edgeType;
  if (r10 ? (x10 = e10.haystackPts[0], b10 = e10.haystackPts[1], w10 = e10.haystackPts[2], k10 = e10.haystackPts[3]) : (x10 = e10.arrowStartX, b10 = e10.arrowStartY, w10 = e10.arrowEndX, k10 = e10.arrowEndY), d10 = e10.midX, p10 = e10.midY, a10) y10 = x10 - e10.segpts[0], v10 = b10 - e10.segpts[1];
  else if (n10 || o10 || s10 || i10) {
    var l10 = e10.allpts, h10 = Wn(l10[0], l10[2], l10[4], 0.1), u10 = Wn(l10[1], l10[3], l10[5], 0.1);
    y10 = x10 - h10, v10 = b10 - u10;
  } else y10 = x10 - d10, v10 = b10 - p10;
  e10.srcArrowAngle = j8(y10, v10);
  var d10 = e10.midX, p10 = e10.midY;
  if (r10 && (d10 = (x10 + w10) / 2, p10 = (b10 + k10) / 2), y10 = w10 - x10, v10 = k10 - b10, a10) {
    var l10 = e10.allpts;
    if (l10.length / 2 % 2 == 0) {
      var g10 = l10.length / 2, f10 = g10 - 2;
      y10 = l10[g10] - l10[f10], v10 = l10[g10 + 1] - l10[f10 + 1];
    } else if (e10.isRound) y10 = e10.midVector[1], v10 = -e10.midVector[0];
    else {
      var g10 = l10.length / 2 - 1, f10 = g10 - 2;
      y10 = l10[g10] - l10[f10], v10 = l10[g10 + 1] - l10[f10 + 1];
    }
  } else if (n10 || o10 || s10) {
    var y10, v10, x10, b10, w10, k10, d10, p10, _10, T10, E10, C10, l10 = e10.allpts;
    if (e10.ctrlpts.length / 2 % 2 == 0) {
      var S10 = l10.length / 2 - 1, A10 = S10 + 2, L10 = A10 + 2;
      _10 = Wn(l10[S10], l10[A10], l10[L10], 0), T10 = Wn(l10[S10 + 1], l10[A10 + 1], l10[L10 + 1], 0), E10 = Wn(l10[S10], l10[A10], l10[L10], 1e-4), C10 = Wn(l10[S10 + 1], l10[A10 + 1], l10[L10 + 1], 1e-4);
    } else {
      var A10 = l10.length / 2 - 1, S10 = A10 - 2, L10 = A10 + 2;
      _10 = Wn(l10[S10], l10[A10], l10[L10], 0.4999), T10 = Wn(l10[S10 + 1], l10[A10 + 1], l10[L10 + 1], 0.4999), E10 = Wn(l10[S10], l10[A10], l10[L10], 0.5), C10 = Wn(l10[S10 + 1], l10[A10 + 1], l10[L10 + 1], 0.5);
    }
    y10 = E10 - _10, v10 = C10 - T10;
  }
  if (e10.midtgtArrowAngle = j8(y10, v10), e10.midDispX = y10, e10.midDispY = v10, y10 *= -1, v10 *= -1, a10) {
    var l10 = e10.allpts;
    if (l10.length / 2 % 2 == 0) ;
    else if (!e10.isRound) {
      var g10 = l10.length / 2 - 1, N10 = g10 + 2;
      y10 = -(l10[N10] - l10[g10]), v10 = -(l10[N10 + 1] - l10[g10 + 1]);
    }
  }
  if (e10.midsrcArrowAngle = j8(y10, v10), a10) y10 = w10 - e10.segpts[e10.segpts.length - 2], v10 = k10 - e10.segpts[e10.segpts.length - 1];
  else if (n10 || o10 || s10 || i10) {
    var l10 = e10.allpts, I10 = l10.length, h10 = Wn(l10[I10 - 6], l10[I10 - 4], l10[I10 - 2], 0.9), u10 = Wn(l10[I10 - 5], l10[I10 - 3], l10[I10 - 1], 0.9);
    y10 = w10 - h10, v10 = k10 - u10;
  } else y10 = w10 - d10, v10 = k10 - p10;
  e10.tgtArrowAngle = j8(y10, v10);
}, Qp.getArrowWidth = Qp.getArrowHeight = function(t33, e10) {
  var r10 = this.arrowWidthCache = this.arrowWidthCache || {}, i10 = r10[t33 + ", " + e10];
  return i10 || (i10 = Math.max(Math.pow(13.37 * t33, 0.9), 29) * e10, r10[t33 + ", " + e10] = i10), i10;
};
var Qg, Qf, Qm, Qy, Qv, Qx, Qb, Qw, Qk, Q_, QT, QE, QC, QS, QA, QL, QN, QI, QM, QR, QD, QO, QP, Q$, QB, QF, Qz, QU, QG, Qq, QY, QH, Qj, QW, QV, QX, QK, QZ, QQ, QJ, Q0, Q1, Q2, Q4, Q5, Q3, Q6, Q7, Q8, Q9, Jt, Je, Jr, Ji, Jn, Ja, Jo, Js, Jl, Jh, Jc, Ju, Jd, Jp, Jg, Jf, Jm, Jy, Jv, Jx, Jb, Jw, Jk, J_, JT, JE, JC, JS, JA, JL, JN, JI, JM, JR, JD, JO, JP, J$, JB, JF, Jz, JU, JG, Jq, JY, JH, Jj, JW, JV, JX, JK, JZ, JQ, JJ, J0, J1, J2, J4, J5, J3, J6, J7, J8, J9, ttt, tte, ttr, tti, ttn, tta, tto, tts, ttl, tth, ttc, ttu, ttd, ttp, ttg, ttf, ttm, tty, ttv, ttx, ttb, ttw, ttk, tt_, ttT, ttE, ttC, ttS, ttA, ttL, ttN, ttI, ttM, ttR, ttD, ttO, ttP, tt$, ttB, ttF, ttz, ttU, ttG, ttq, ttY, ttH, ttj, ttW, ttV, ttX, ttK, ttZ, ttQ, ttJ, tt0, tt1, tt2, tt4, tt5, tt3, tt6, tt7, tt8, tt9, tet, tee, ter, tei, ten, tea, teo, tes, tel, teh, tec, teu, ted, tep, teg, tef, tem, tey, tev, tex, teb, tew, tek, te_, teT, teE, teC, teS, teA, teL, teN, teI, teM, teR, teD, teO, teP, te$, teB, teF, tez, teU = {}, teG = {}, teq = function(t33, e10, r10) {
  r10.x = e10.x - t33.x, r10.y = e10.y - t33.y, r10.len = Math.sqrt(r10.x * r10.x + r10.y * r10.y), r10.nx = r10.x / r10.len, r10.ny = r10.y / r10.len, r10.ang = Math.atan2(r10.ny, r10.nx);
}, teY = function(t33, e10) {
  e10.x = -1 * t33.x, e10.y = -1 * t33.y, e10.nx = -1 * t33.nx, e10.ny = -1 * t33.ny, e10.ang = t33.ang > 0 ? -(Math.PI - t33.ang) : Math.PI + t33.ang;
}, teH = function(t33, e10, r10, i10, n10) {
  if (t33 !== rE ? teq(e10, t33, teU) : teY(teG, teU), teq(e10, r10, teG), teI = teU.nx * teG.ny - teU.ny * teG.nx, teM = teU.nx * teG.nx - -(teU.ny * teG.ny), 1e-6 > Math.abs(teO = Math.asin(Math.max(-1, Math.min(1, teI))))) {
    teL = e10.x, teN = e10.y, te$ = teF = 0;
    return;
  }
  teR = 1, teD = false, teM < 0 ? teO < 0 ? teO = Math.PI + teO : (teO = Math.PI - teO, teR = -1, teD = true) : teO > 0 && (teR = -1, teD = true), teF = void 0 !== e10.radius ? e10.radius : i10, teP = teO / 2, tez = Math.min(teU.len / 2, teG.len / 2), te$ = n10 ? (teB = Math.abs(Math.cos(teP) * teF / Math.sin(teP))) > tez ? Math.abs((teB = tez) * Math.sin(teP) / Math.cos(teP)) : teF : Math.abs((teB = Math.min(tez, teF)) * Math.sin(teP) / Math.cos(teP)), r_ = e10.x + teG.nx * teB, rT = e10.y + teG.ny * teB, teL = r_ - teG.ny * te$ * teR, teN = rT + teG.nx * te$ * teR, rw = e10.x + teU.nx * teB, rk = e10.y + teU.ny * teB, rE = e10;
};
function tej(t33, e10) {
  0 === e10.radius ? t33.lineTo(e10.cx, e10.cy) : t33.arc(e10.cx, e10.cy, e10.radius, e10.startAngle, e10.endAngle, e10.counterClockwise);
}
function teW(t33, e10, r10, i10) {
  var n10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4];
  return 0 === i10 || 0 === e10.radius ? { cx: e10.x, cy: e10.y, radius: 0, startX: e10.x, startY: e10.y, stopX: e10.x, stopY: e10.y, startAngle: void 0, endAngle: void 0, counterClockwise: void 0 } : (teH(t33, e10, r10, i10, n10), { cx: teL, cy: teN, radius: te$, startX: rw, startY: rk, stopX: r_, stopY: rT, startAngle: teU.ang + Math.PI / 2 * teR, endAngle: teG.ang - Math.PI / 2 * teR, counterClockwise: teD });
}
var teV = {};
function teX(t33) {
  var e10 = [];
  if (null != t33) {
    for (var r10 = 0; r10 < t33.length; r10 += 2) {
      var i10 = t33[r10], n10 = t33[r10 + 1];
      e10.push({ x: i10, y: n10 });
    }
    return e10;
  }
}
teV.findMidptPtsEtc = function(t33, e10) {
  var r10, i10 = e10.posPts, n10 = e10.intersectionPts, a10 = e10.vectorNormInverse, o10 = t33.pstyle("source-endpoint"), s10 = t33.pstyle("target-endpoint"), l10 = null != o10.units && null != s10.units;
  switch (t33.pstyle("edge-distances").value) {
    case "node-position":
      r10 = i10;
      break;
    case "intersection":
      r10 = n10;
      break;
    case "endpoints":
      if (l10) {
        var h10, u10, d10, p10 = Ht(this.manualEndptToPx(t33.source()[0], o10), 2), g10 = p10[0], f10 = p10[1], y10 = Ht(this.manualEndptToPx(t33.target()[0], s10), 2), v10 = y10[0], x10 = y10[1];
        h10 = x10 - f10, d10 = Math.sqrt((u10 = v10 - g10) * u10 + h10 * h10), a10 = { x: -h10 / d10, y: u10 / d10 }, r10 = { x1: g10, y1: f10, x2: v10, y2: x10 };
      } else jL("Edge ".concat(t33.id(), " has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")), r10 = n10;
  }
  return { midptPts: r10, vectorNormInverse: a10 };
}, teV.findHaystackPoints = function(t33) {
  for (var e10 = 0; e10 < t33.length; e10++) {
    var r10 = t33[e10], i10 = r10._private, n10 = i10.rscratch;
    if (!n10.haystack) {
      var a10 = 2 * Math.random() * Math.PI;
      n10.source = { x: Math.cos(a10), y: Math.sin(a10) }, a10 = 2 * Math.random() * Math.PI, n10.target = { x: Math.cos(a10), y: Math.sin(a10) };
    }
    var o10 = i10.source, s10 = i10.target, l10 = o10.position(), h10 = s10.position(), u10 = o10.width(), d10 = s10.width(), p10 = o10.height(), g10 = s10.height(), f10 = r10.pstyle("haystack-radius").value / 2;
    n10.haystackPts = n10.allpts = [n10.source.x * u10 * f10 + l10.x, n10.source.y * p10 * f10 + l10.y, n10.target.x * d10 * f10 + h10.x, n10.target.y * g10 * f10 + h10.y], n10.midX = (n10.allpts[0] + n10.allpts[2]) / 2, n10.midY = (n10.allpts[1] + n10.allpts[3]) / 2, n10.edgeType = "haystack", n10.haystack = true, this.storeEdgeProjections(r10), this.calculateArrowAngles(r10), this.recalculateEdgeLabelProjections(r10), this.calculateLabelAngles(r10);
  }
}, teV.findSegmentsPoints = function(t33, e10) {
  var r10 = t33._private.rscratch, i10 = t33.pstyle("segment-weights"), n10 = t33.pstyle("segment-distances"), a10 = t33.pstyle("segment-radii"), o10 = t33.pstyle("radius-type"), s10 = Math.min(i10.pfValue.length, n10.pfValue.length), l10 = a10.pfValue[a10.pfValue.length - 1], h10 = o10.pfValue[o10.pfValue.length - 1];
  r10.edgeType = "segments", r10.segpts = [], r10.radii = [], r10.isArcRadius = [];
  for (var u10 = 0; u10 < s10; u10++) {
    var d10 = i10.pfValue[u10], p10 = n10.pfValue[u10], g10 = 1 - d10, f10 = this.findMidptPtsEtc(t33, e10), y10 = f10.midptPts, v10 = f10.vectorNormInverse, x10 = { x: y10.x1 * g10 + y10.x2 * d10, y: y10.y1 * g10 + y10.y2 * d10 };
    r10.segpts.push(x10.x + v10.x * p10, x10.y + v10.y * p10), r10.radii.push(void 0 !== a10.pfValue[u10] ? a10.pfValue[u10] : l10), r10.isArcRadius.push((void 0 !== o10.pfValue[u10] ? o10.pfValue[u10] : h10) === "arc-radius");
  }
}, teV.findLoopPoints = function(t33, e10, r10, i10) {
  var n10 = t33._private.rscratch, a10 = e10.dirCounts, o10 = e10.srcPos, s10 = t33.pstyle("control-point-distances"), l10 = s10 ? s10.pfValue[0] : void 0, h10 = t33.pstyle("loop-direction").pfValue, u10 = t33.pstyle("loop-sweep").pfValue, d10 = t33.pstyle("control-point-step-size").pfValue;
  n10.edgeType = "self";
  var p10 = r10, g10 = d10;
  i10 && (p10 = 0, g10 = l10);
  var f10 = h10 - Math.PI / 2, y10 = f10 - u10 / 2, v10 = f10 + u10 / 2, x10 = String(h10 + "_" + u10);
  p10 = void 0 === a10[x10] ? a10[x10] = 0 : ++a10[x10], n10.ctrlpts = [o10.x + 1.4 * Math.cos(y10) * g10 * (p10 / 3 + 1), o10.y + 1.4 * Math.sin(y10) * g10 * (p10 / 3 + 1), o10.x + 1.4 * Math.cos(v10) * g10 * (p10 / 3 + 1), o10.y + 1.4 * Math.sin(v10) * g10 * (p10 / 3 + 1)];
}, teV.findCompoundLoopPoints = function(t33, e10, r10, i10) {
  var n10 = t33._private.rscratch;
  n10.edgeType = "compound";
  var a10 = e10.srcPos, o10 = e10.tgtPos, s10 = e10.srcW, l10 = e10.srcH, h10 = e10.tgtW, u10 = e10.tgtH, d10 = t33.pstyle("control-point-step-size").pfValue, p10 = t33.pstyle("control-point-distances"), g10 = p10 ? p10.pfValue[0] : void 0, f10 = r10, y10 = d10;
  i10 && (f10 = 0, y10 = g10);
  var v10 = { x: a10.x - s10 / 2, y: a10.y - l10 / 2 }, x10 = { x: o10.x - h10 / 2, y: o10.y - u10 / 2 }, b10 = { x: Math.min(v10.x, x10.x), y: Math.min(v10.y, x10.y) }, w10 = Math.max(0.5, Math.log(0.01 * s10)), k10 = Math.max(0.5, Math.log(0.01 * h10));
  n10.ctrlpts = [b10.x, b10.y - 1.7995514309304248 * y10 * (f10 / 3 + 1) * w10, b10.x - 1.7995514309304248 * y10 * (f10 / 3 + 1) * k10, b10.y];
}, teV.findStraightEdgePoints = function(t33) {
  t33._private.rscratch.edgeType = "straight";
}, teV.findBezierPoints = function(t33, e10, r10, i10, n10) {
  var a10 = t33._private.rscratch, o10 = t33.pstyle("control-point-step-size").pfValue, s10 = t33.pstyle("control-point-distances"), l10 = t33.pstyle("control-point-weights"), h10 = s10 && l10 ? Math.min(s10.value.length, l10.value.length) : 1, u10 = s10 ? s10.pfValue[0] : void 0, d10 = l10.value[0];
  a10.edgeType = i10 ? "multibezier" : "bezier", a10.ctrlpts = [];
  for (var p10 = 0; p10 < h10; p10++) {
    var g10 = (0.5 - e10.eles.length / 2 + r10) * o10 * (n10 ? -1 : 1), f10 = void 0, y10 = Wt(g10);
    i10 && (u10 = s10 ? s10.pfValue[p10] : o10, d10 = l10.value[p10]);
    var v10 = void 0 !== (f10 = i10 ? u10 : void 0 !== u10 ? y10 * u10 : void 0) ? f10 : g10, x10 = 1 - d10, b10 = d10, w10 = this.findMidptPtsEtc(t33, e10), k10 = w10.midptPts, _10 = w10.vectorNormInverse, T10 = { x: k10.x1 * x10 + k10.x2 * b10, y: k10.y1 * x10 + k10.y2 * b10 };
    a10.ctrlpts.push(T10.x + _10.x * v10, T10.y + _10.y * v10);
  }
}, teV.findTaxiPoints = function(t33, e10) {
  var r10, i10 = t33._private.rscratch;
  i10.edgeType = "segments";
  var n10 = "vertical", a10 = "horizontal", o10 = "leftward", s10 = "rightward", l10 = "downward", h10 = "upward", u10 = e10.posPts, d10 = e10.srcW, p10 = e10.srcH, g10 = e10.tgtW, f10 = e10.tgtH, y10 = "node-position" !== t33.pstyle("edge-distances").value, v10 = t33.pstyle("taxi-direction").value, x10 = v10, b10 = t33.pstyle("taxi-turn"), w10 = "%" === b10.units, k10 = b10.pfValue, _10 = t33.pstyle("taxi-turn-min-distance").pfValue, T10 = u10.x2 - u10.x1, E10 = u10.y2 - u10.y1, C10 = function(t34, e11) {
    return t34 > 0 ? Math.max(t34 - e11, 0) : Math.min(t34 + e11, 0);
  }, S10 = C10(T10, y10 ? (d10 + g10) / 2 : 0), A10 = C10(E10, y10 ? (p10 + f10) / 2 : 0), L10 = false;
  "auto" === x10 ? v10 = Math.abs(S10) > Math.abs(A10) ? a10 : n10 : x10 === h10 || x10 === l10 ? (v10 = n10, L10 = true) : (x10 === o10 || x10 === s10) && (v10 = a10, L10 = true);
  var N10 = v10 === n10, I10 = N10 ? A10 : S10, M10 = N10 ? E10 : T10, R10 = Wt(M10), D10 = false;
  !(L10 && (w10 || k10 < 0)) && (x10 === l10 && M10 < 0 || x10 === h10 && M10 > 0 || x10 === o10 && M10 > 0 || x10 === s10 && M10 < 0) && (R10 *= -1, I10 = R10 * Math.abs(I10), D10 = true);
  var O10 = function(t34) {
    return Math.abs(t34) < _10 || Math.abs(t34) >= Math.abs(I10);
  }, P10 = O10(r10 = w10 ? (k10 < 0 ? 1 + k10 : k10) * I10 : (k10 < 0 ? I10 : 0) + k10 * R10), $10 = O10(Math.abs(I10) - Math.abs(r10));
  if ((P10 || $10) && !D10) {
    if (N10) {
      var B10 = Math.abs(T10) <= g10 / 2;
      if (Math.abs(M10) <= p10 / 2) {
        var F10 = (u10.x1 + u10.x2) / 2, z10 = u10.y1, U10 = u10.y2;
        i10.segpts = [F10, z10, F10, U10];
      } else if (B10) {
        var G10 = (u10.y1 + u10.y2) / 2, q10 = u10.x1, Y10 = u10.x2;
        i10.segpts = [q10, G10, Y10, G10];
      } else i10.segpts = [u10.x1, u10.y2];
    } else {
      var H10 = Math.abs(E10) <= f10 / 2;
      if (Math.abs(M10) <= d10 / 2) {
        var j10 = (u10.y1 + u10.y2) / 2, W10 = u10.x1, V10 = u10.x2;
        i10.segpts = [W10, j10, V10, j10];
      } else if (H10) {
        var X10 = (u10.x1 + u10.x2) / 2, K10 = u10.y1, Z10 = u10.y2;
        i10.segpts = [X10, K10, X10, Z10];
      } else i10.segpts = [u10.x2, u10.y1];
    }
  } else if (N10) {
    var Q10 = u10.y1 + r10 + (y10 ? p10 / 2 * R10 : 0), J10 = u10.x1, tt10 = u10.x2;
    i10.segpts = [J10, Q10, tt10, Q10];
  } else {
    var te10 = u10.x1 + r10 + (y10 ? d10 / 2 * R10 : 0), tr10 = u10.y1, ti10 = u10.y2;
    i10.segpts = [te10, tr10, te10, ti10];
  }
  if (i10.isRound) {
    var tn10 = t33.pstyle("taxi-radius").value, ta10 = "arc-radius" === t33.pstyle("radius-type").value[0];
    i10.radii = Array(i10.segpts.length / 2).fill(tn10), i10.isArcRadius = Array(i10.segpts.length / 2).fill(ta10);
  }
}, teV.tryToCorrectInvalidPoints = function(t33, e10) {
  var r10 = t33._private.rscratch;
  if ("bezier" === r10.edgeType) {
    var i10 = e10.srcPos, n10 = e10.tgtPos, a10 = e10.srcW, o10 = e10.srcH, s10 = e10.tgtW, l10 = e10.tgtH, h10 = e10.srcShape, u10 = e10.tgtShape, d10 = e10.srcCornerRadius, p10 = e10.tgtCornerRadius, g10 = e10.srcRs, f10 = e10.tgtRs, y10 = !Hf(r10.startX) || !Hf(r10.startY), v10 = !Hf(r10.arrowStartX) || !Hf(r10.arrowStartY), x10 = !Hf(r10.endX) || !Hf(r10.endY), b10 = !Hf(r10.arrowEndX) || !Hf(r10.arrowEndY), w10 = 3 * (this.getArrowWidth(t33.pstyle("width").pfValue, t33.pstyle("arrow-scale").value) * this.arrowShapeWidth), k10 = We({ x: r10.ctrlpts[0], y: r10.ctrlpts[1] }, { x: r10.startX, y: r10.startY }), _10 = k10 < w10, T10 = We({ x: r10.ctrlpts[0], y: r10.ctrlpts[1] }, { x: r10.endX, y: r10.endY }), E10 = T10 < w10, C10 = false;
    if (y10 || v10 || _10) {
      C10 = true;
      var S10 = { x: r10.ctrlpts[0] - i10.x, y: r10.ctrlpts[1] - i10.y }, A10 = Math.sqrt(S10.x * S10.x + S10.y * S10.y), L10 = { x: S10.x / A10, y: S10.y / A10 }, N10 = Math.max(a10, o10), I10 = { x: r10.ctrlpts[0] + 2 * L10.x * N10, y: r10.ctrlpts[1] + 2 * L10.y * N10 }, M10 = h10.intersectLine(i10.x, i10.y, a10, o10, I10.x, I10.y, 0, d10, g10);
      _10 ? (r10.ctrlpts[0] = r10.ctrlpts[0] + L10.x * (w10 - k10), r10.ctrlpts[1] = r10.ctrlpts[1] + L10.y * (w10 - k10)) : (r10.ctrlpts[0] = M10[0] + L10.x * w10, r10.ctrlpts[1] = M10[1] + L10.y * w10);
    }
    if (x10 || b10 || E10) {
      C10 = true;
      var R10 = { x: r10.ctrlpts[0] - n10.x, y: r10.ctrlpts[1] - n10.y }, D10 = Math.sqrt(R10.x * R10.x + R10.y * R10.y), O10 = { x: R10.x / D10, y: R10.y / D10 }, P10 = Math.max(a10, o10), $10 = { x: r10.ctrlpts[0] + 2 * O10.x * P10, y: r10.ctrlpts[1] + 2 * O10.y * P10 }, B10 = u10.intersectLine(n10.x, n10.y, s10, l10, $10.x, $10.y, 0, p10, f10);
      E10 ? (r10.ctrlpts[0] = r10.ctrlpts[0] + O10.x * (w10 - T10), r10.ctrlpts[1] = r10.ctrlpts[1] + O10.y * (w10 - T10)) : (r10.ctrlpts[0] = B10[0] + O10.x * w10, r10.ctrlpts[1] = B10[1] + O10.y * w10);
    }
    C10 && this.findEndpoints(t33);
  }
}, teV.storeAllpts = function(t33) {
  var e10 = t33._private.rscratch;
  if ("multibezier" === e10.edgeType || "bezier" === e10.edgeType || "self" === e10.edgeType || "compound" === e10.edgeType) {
    e10.allpts = [], e10.allpts.push(e10.startX, e10.startY);
    for (var r10, i10 = 0; i10 + 1 < e10.ctrlpts.length; i10 += 2) e10.allpts.push(e10.ctrlpts[i10], e10.ctrlpts[i10 + 1]), i10 + 3 < e10.ctrlpts.length && e10.allpts.push((e10.ctrlpts[i10] + e10.ctrlpts[i10 + 2]) / 2, (e10.ctrlpts[i10 + 1] + e10.ctrlpts[i10 + 3]) / 2);
    (e10.allpts.push(e10.endX, e10.endY), e10.ctrlpts.length / 2 % 2 == 0) ? (r10 = e10.allpts.length / 2 - 1, e10.midX = e10.allpts[r10], e10.midY = e10.allpts[r10 + 1]) : (r10 = e10.allpts.length / 2 - 3, e10.midX = Wn(e10.allpts[r10], e10.allpts[r10 + 2], e10.allpts[r10 + 4], 0.5), e10.midY = Wn(e10.allpts[r10 + 1], e10.allpts[r10 + 3], e10.allpts[r10 + 5], 0.5));
  } else if ("straight" === e10.edgeType) e10.allpts = [e10.startX, e10.startY, e10.endX, e10.endY], e10.midX = (e10.startX + e10.endX + e10.arrowStartX + e10.arrowEndX) / 4, e10.midY = (e10.startY + e10.endY + e10.arrowStartY + e10.arrowEndY) / 4;
  else if ("segments" === e10.edgeType) {
    if (e10.allpts = [], e10.allpts.push(e10.startX, e10.startY), e10.allpts.push.apply(e10.allpts, e10.segpts), e10.allpts.push(e10.endX, e10.endY), e10.isRound) {
      e10.roundCorners = [];
      for (var n10 = 2; n10 + 3 < e10.allpts.length; n10 += 2) {
        var a10 = e10.radii[n10 / 2 - 1], o10 = e10.isArcRadius[n10 / 2 - 1];
        e10.roundCorners.push(teW({ x: e10.allpts[n10 - 2], y: e10.allpts[n10 - 1] }, { x: e10.allpts[n10], y: e10.allpts[n10 + 1], radius: a10 }, { x: e10.allpts[n10 + 2], y: e10.allpts[n10 + 3] }, a10, o10));
      }
    }
    if (e10.segpts.length % 4 == 0) {
      var s10 = e10.segpts.length / 2, l10 = s10 - 2;
      e10.midX = (e10.segpts[l10] + e10.segpts[s10]) / 2, e10.midY = (e10.segpts[l10 + 1] + e10.segpts[s10 + 1]) / 2;
    } else {
      var h10 = e10.segpts.length / 2 - 1;
      if (e10.isRound) {
        var u10 = { x: e10.segpts[h10], y: e10.segpts[h10 + 1] }, d10 = e10.roundCorners[h10 / 2], p10 = [u10.x - d10.cx, u10.y - d10.cy], g10 = d10.radius / Math.sqrt(Math.pow(p10[0], 2) + Math.pow(p10[1], 2));
        p10 = p10.map(function(t34) {
          return t34 * g10;
        }), e10.midX = d10.cx + p10[0], e10.midY = d10.cy + p10[1], e10.midVector = p10;
      } else e10.midX = e10.segpts[h10], e10.midY = e10.segpts[h10 + 1];
    }
  }
}, teV.checkForInvalidEdgeWarning = function(t33) {
  var e10 = t33[0]._private.rscratch;
  e10.nodesOverlap || Hf(e10.startX) && Hf(e10.startY) && Hf(e10.endX) && Hf(e10.endY) ? e10.loggedErr = false : e10.loggedErr || (e10.loggedErr = true, jL("Edge `" + t33.id() + "` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."));
}, teV.findEdgeControlPoints = function(t33) {
  var e10 = this;
  if (t33 && 0 !== t33.length) {
    for (var r10 = this, i10 = r10.cy.hasCompoundNodes(), n10 = { map: new jU(), get: function(t34) {
      var e11 = this.map.get(t34[0]);
      return null != e11 ? e11.get(t34[1]) : null;
    }, set: function(t34, e11) {
      var r11 = this.map.get(t34[0]);
      null == r11 && (r11 = new jU(), this.map.set(t34[0], r11)), r11.set(t34[1], e11);
    } }, a10 = [], o10 = [], s10 = 0; s10 < t33.length; s10++) {
      var l10 = t33[s10], h10 = l10._private, u10 = l10.pstyle("curve-style").value;
      if (!l10.removed() && l10.takesUpSpace()) {
        if ("haystack" === u10) {
          o10.push(l10);
          continue;
        }
        var d10 = "unbundled-bezier" === u10 || u10.endsWith("segments") || "straight" === u10 || "straight-triangle" === u10 || u10.endsWith("taxi"), p10 = "unbundled-bezier" === u10 || "bezier" === u10, g10 = h10.source, f10 = h10.target, y10 = [g10.poolIndex(), f10.poolIndex()].sort(), v10 = n10.get(y10);
        null == v10 && (v10 = { eles: [] }, n10.set(y10, v10), a10.push(y10)), v10.eles.push(l10), d10 && (v10.hasUnbundled = true), p10 && (v10.hasBezier = true);
      }
    }
    for (var x10 = 0; x10 < a10.length; x10++) !function(t34) {
      var o11 = a10[t34], s11 = n10.get(o11), l11 = void 0;
      if (!s11.hasUnbundled) {
        var h11 = s11.eles[0].parallelEdges().filter(function(t35) {
          return t35.isBundledBezier();
        });
        jP(s11.eles), h11.forEach(function(t35) {
          return s11.eles.push(t35);
        }), s11.eles.sort(function(t35, e11) {
          return t35.poolIndex() - e11.poolIndex();
        });
      }
      var u11 = s11.eles[0], d11 = u11.source(), p11 = u11.target();
      if (d11.poolIndex() > p11.poolIndex()) {
        var g11 = d11;
        d11 = p11, p11 = g11;
      }
      var f11 = s11.srcPos = d11.position(), y11 = s11.tgtPos = p11.position(), v11 = s11.srcW = d11.outerWidth(), x11 = s11.srcH = d11.outerHeight(), b10 = s11.tgtW = p11.outerWidth(), w10 = s11.tgtH = p11.outerHeight(), k10 = s11.srcShape = r10.nodeShapes[e10.getNodeShape(d11)], _10 = s11.tgtShape = r10.nodeShapes[e10.getNodeShape(p11)], T10 = s11.srcCornerRadius = "auto" === d11.pstyle("corner-radius").value ? "auto" : d11.pstyle("corner-radius").pfValue, E10 = s11.tgtCornerRadius = "auto" === p11.pstyle("corner-radius").value ? "auto" : p11.pstyle("corner-radius").pfValue, C10 = s11.tgtRs = p11._private.rscratch, S10 = s11.srcRs = d11._private.rscratch;
      s11.dirCounts = { north: 0, west: 0, south: 0, east: 0, northwest: 0, southwest: 0, northeast: 0, southeast: 0 };
      for (var A10 = 0; A10 < s11.eles.length; A10++) {
        var L10 = s11.eles[A10], N10 = L10[0]._private.rscratch, I10 = L10.pstyle("curve-style").value, M10 = "unbundled-bezier" === I10 || I10.endsWith("segments") || I10.endsWith("taxi"), R10 = !d11.same(L10.source());
        if (!s11.calculatedIntersection && d11 !== p11 && (s11.hasBezier || s11.hasUnbundled)) {
          s11.calculatedIntersection = true;
          var D10 = k10.intersectLine(f11.x, f11.y, v11, x11, y11.x, y11.y, 0, T10, S10), O10 = s11.srcIntn = D10, P10 = _10.intersectLine(y11.x, y11.y, b10, w10, f11.x, f11.y, 0, E10, C10), $10 = s11.tgtIntn = P10, B10 = s11.intersectionPts = { x1: D10[0], x2: P10[0], y1: D10[1], y2: P10[1] }, F10 = s11.posPts = { x1: f11.x, x2: y11.x, y1: f11.y, y2: y11.y }, z10 = P10[1] - D10[1], U10 = P10[0] - D10[0], G10 = Math.sqrt(U10 * U10 + z10 * z10), q10 = s11.vector = { x: U10, y: z10 }, Y10 = s11.vectorNorm = { x: q10.x / G10, y: q10.y / G10 }, H10 = { x: -Y10.y, y: Y10.x };
          s11.nodesOverlap = !Hf(G10) || _10.checkPoint(D10[0], D10[1], 0, b10, w10, y11.x, y11.y, E10, C10) || k10.checkPoint(P10[0], P10[1], 0, v11, x11, f11.x, f11.y, T10, S10), s11.vectorNormInverse = H10, l11 = { nodesOverlap: s11.nodesOverlap, dirCounts: s11.dirCounts, calculatedIntersection: true, hasBezier: s11.hasBezier, hasUnbundled: s11.hasUnbundled, eles: s11.eles, srcPos: y11, srcRs: C10, tgtPos: f11, tgtRs: S10, srcW: b10, srcH: w10, tgtW: v11, tgtH: x11, srcIntn: $10, tgtIntn: O10, srcShape: _10, tgtShape: k10, posPts: { x1: F10.x2, y1: F10.y2, x2: F10.x1, y2: F10.y1 }, intersectionPts: { x1: B10.x2, y1: B10.y2, x2: B10.x1, y2: B10.y1 }, vector: { x: -q10.x, y: -q10.y }, vectorNorm: { x: -Y10.x, y: -Y10.y }, vectorNormInverse: { x: -H10.x, y: -H10.y } };
        }
        var j10 = R10 ? l11 : s11;
        N10.nodesOverlap = j10.nodesOverlap, N10.srcIntn = j10.srcIntn, N10.tgtIntn = j10.tgtIntn, N10.isRound = I10.startsWith("round"), i10 && (d11.isParent() || d11.isChild() || p11.isParent() || p11.isChild()) && (d11.parents().anySame(p11) || p11.parents().anySame(d11) || d11.same(p11) && d11.isParent()) ? e10.findCompoundLoopPoints(L10, j10, A10, M10) : d11 === p11 ? e10.findLoopPoints(L10, j10, A10, M10) : I10.endsWith("segments") ? e10.findSegmentsPoints(L10, j10) : I10.endsWith("taxi") ? e10.findTaxiPoints(L10, j10) : "straight" !== I10 && (M10 || s11.eles.length % 2 != 1 || A10 !== Math.floor(s11.eles.length / 2)) ? e10.findBezierPoints(L10, j10, A10, M10, R10) : e10.findStraightEdgePoints(L10), e10.findEndpoints(L10), e10.tryToCorrectInvalidPoints(L10, j10), e10.checkForInvalidEdgeWarning(L10), e10.storeAllpts(L10), e10.storeEdgeProjections(L10), e10.calculateArrowAngles(L10), e10.recalculateEdgeLabelProjections(L10), e10.calculateLabelAngles(L10);
      }
    }(x10);
    this.findHaystackPoints(o10);
  }
}, teV.getSegmentPoints = function(t33) {
  var e10 = t33[0]._private.rscratch;
  if (this.recalculateRenderedStyle(t33), "segments" === e10.edgeType) return teX(e10.segpts);
}, teV.getControlPoints = function(t33) {
  var e10 = t33[0]._private.rscratch;
  this.recalculateRenderedStyle(t33);
  var r10 = e10.edgeType;
  if ("bezier" === r10 || "multibezier" === r10 || "self" === r10 || "compound" === r10) return teX(e10.ctrlpts);
}, teV.getEdgeMidpoint = function(t33) {
  var e10 = t33[0]._private.rscratch;
  return this.recalculateRenderedStyle(t33), { x: e10.midX, y: e10.midY };
};
var teK = {};
teK.manualEndptToPx = function(t33, e10) {
  var r10 = t33.position(), i10 = t33.outerWidth(), n10 = t33.outerHeight(), a10 = t33._private.rscratch;
  if (2 === e10.value.length) {
    var o10 = [e10.pfValue[0], e10.pfValue[1]];
    return "%" === e10.units[0] && (o10[0] = o10[0] * i10), "%" === e10.units[1] && (o10[1] = o10[1] * n10), o10[0] += r10.x, o10[1] += r10.y, o10;
  }
  var s10 = e10.pfValue[0];
  s10 = -Math.PI / 2 + s10;
  var l10 = 2 * Math.max(i10, n10), h10 = [r10.x + Math.cos(s10) * l10, r10.y + Math.sin(s10) * l10];
  return this.nodeShapes[this.getNodeShape(t33)].intersectLine(r10.x, r10.y, i10, n10, h10[0], h10[1], 0, "auto" === t33.pstyle("corner-radius").value ? "auto" : t33.pstyle("corner-radius").pfValue, a10);
}, teK.findEndpoints = function(t33) {
  var e10, r10, i10, n10, a10, o10 = t33.source()[0], s10 = t33.target()[0], l10 = o10.position(), h10 = s10.position(), u10 = t33.pstyle("target-arrow-shape").value, d10 = t33.pstyle("source-arrow-shape").value, p10 = t33.pstyle("target-distance-from-node").pfValue, g10 = t33.pstyle("source-distance-from-node").pfValue, f10 = o10._private.rscratch, y10 = s10._private.rscratch, v10 = t33.pstyle("curve-style").value, x10 = t33._private.rscratch, b10 = x10.edgeType, w10 = "self" === b10 || "compound" === b10, k10 = "bezier" === b10 || "multibezier" === b10 || w10, _10 = "bezier" !== b10, T10 = "straight" === b10 || "segments" === b10, E10 = "segments" === b10, C10 = w10 || "taxi" === v10, S10 = t33.pstyle("source-endpoint"), A10 = C10 ? "outside-to-node" : S10.value, L10 = "auto" === o10.pstyle("corner-radius").value ? "auto" : o10.pstyle("corner-radius").pfValue, N10 = t33.pstyle("target-endpoint"), I10 = C10 ? "outside-to-node" : N10.value, M10 = "auto" === s10.pstyle("corner-radius").value ? "auto" : s10.pstyle("corner-radius").pfValue;
  if (x10.srcManEndpt = S10, x10.tgtManEndpt = N10, k10) {
    var R10 = [x10.ctrlpts[0], x10.ctrlpts[1]];
    r10 = _10 ? [x10.ctrlpts[x10.ctrlpts.length - 2], x10.ctrlpts[x10.ctrlpts.length - 1]] : R10, i10 = R10;
  } else if (T10) {
    var D10 = E10 ? x10.segpts.slice(0, 2) : [h10.x, h10.y];
    r10 = E10 ? x10.segpts.slice(x10.segpts.length - 2) : [l10.x, l10.y], i10 = D10;
  }
  if ("inside-to-node" === I10) e10 = [h10.x, h10.y];
  else if (N10.units) e10 = this.manualEndptToPx(s10, N10);
  else if ("outside-to-line" === I10) e10 = x10.tgtIntn;
  else if ("outside-to-node" === I10 || "outside-to-node-or-label" === I10 ? n10 = r10 : ("outside-to-line" === I10 || "outside-to-line-or-label" === I10) && (n10 = [l10.x, l10.y]), e10 = this.nodeShapes[this.getNodeShape(s10)].intersectLine(h10.x, h10.y, s10.outerWidth(), s10.outerHeight(), n10[0], n10[1], 0, M10, y10), "outside-to-node-or-label" === I10 || "outside-to-line-or-label" === I10) {
    var O10 = s10._private.rscratch, P10 = O10.labelWidth, $10 = O10.labelHeight, B10 = O10.labelX, F10 = O10.labelY, z10 = P10 / 2, U10 = $10 / 2, G10 = s10.pstyle("text-valign").value;
    "top" === G10 ? F10 -= U10 : "bottom" === G10 && (F10 += U10);
    var q10 = s10.pstyle("text-halign").value;
    "left" === q10 ? B10 -= z10 : "right" === q10 && (B10 += z10);
    var Y10 = WO(n10[0], n10[1], [B10 - z10, F10 - U10, B10 + z10, F10 - U10, B10 + z10, F10 + U10, B10 - z10, F10 + U10], h10.x, h10.y);
    if (Y10.length > 0) {
      var H10 = Wr(l10, j4(e10)), j10 = Wr(l10, j4(Y10)), W10 = H10;
      j10 < H10 && (e10 = Y10, W10 = j10), Y10.length > 2 && Wr(l10, { x: Y10[2], y: Y10[3] }) < W10 && (e10 = [Y10[2], Y10[3]]);
    }
  }
  var V10 = W$(e10, r10, this.arrowShapes[u10].spacing(t33) + p10), X10 = W$(e10, r10, this.arrowShapes[u10].gap(t33) + p10);
  if (x10.endX = X10[0], x10.endY = X10[1], x10.arrowEndX = V10[0], x10.arrowEndY = V10[1], "inside-to-node" === A10) e10 = [l10.x, l10.y];
  else if (S10.units) e10 = this.manualEndptToPx(o10, S10);
  else if ("outside-to-line" === A10) e10 = x10.srcIntn;
  else if ("outside-to-node" === A10 || "outside-to-node-or-label" === A10 ? a10 = i10 : ("outside-to-line" === A10 || "outside-to-line-or-label" === A10) && (a10 = [h10.x, h10.y]), e10 = this.nodeShapes[this.getNodeShape(o10)].intersectLine(l10.x, l10.y, o10.outerWidth(), o10.outerHeight(), a10[0], a10[1], 0, L10, f10), "outside-to-node-or-label" === A10 || "outside-to-line-or-label" === A10) {
    var K10 = o10._private.rscratch, Z10 = K10.labelWidth, Q10 = K10.labelHeight, J10 = K10.labelX, tt10 = K10.labelY, te10 = Z10 / 2, tr10 = Q10 / 2, ti10 = o10.pstyle("text-valign").value;
    "top" === ti10 ? tt10 -= tr10 : "bottom" === ti10 && (tt10 += tr10);
    var tn10 = o10.pstyle("text-halign").value;
    "left" === tn10 ? J10 -= te10 : "right" === tn10 && (J10 += te10);
    var ta10 = WO(a10[0], a10[1], [J10 - te10, tt10 - tr10, J10 + te10, tt10 - tr10, J10 + te10, tt10 + tr10, J10 - te10, tt10 + tr10], l10.x, l10.y);
    if (ta10.length > 0) {
      var to10 = Wr(h10, j4(e10)), ts2 = Wr(h10, j4(ta10)), tl2 = to10;
      ts2 < to10 && (e10 = [ta10[0], ta10[1]], tl2 = ts2), ta10.length > 2 && Wr(h10, { x: ta10[2], y: ta10[3] }) < tl2 && (e10 = [ta10[2], ta10[3]]);
    }
  }
  var th2 = W$(e10, i10, this.arrowShapes[d10].spacing(t33) + g10), tc2 = W$(e10, i10, this.arrowShapes[d10].gap(t33) + g10);
  x10.startX = tc2[0], x10.startY = tc2[1], x10.arrowStartX = th2[0], x10.arrowStartY = th2[1], (k10 || _10 || T10) && (Hf(x10.startX) && Hf(x10.startY) && Hf(x10.endX) && Hf(x10.endY) ? x10.badLine = false : x10.badLine = true);
}, teK.getSourceEndpoint = function(t33) {
  var e10 = t33[0]._private.rscratch;
  return (this.recalculateRenderedStyle(t33), "haystack" === e10.edgeType) ? { x: e10.haystackPts[0], y: e10.haystackPts[1] } : { x: e10.arrowStartX, y: e10.arrowStartY };
}, teK.getTargetEndpoint = function(t33) {
  var e10 = t33[0]._private.rscratch;
  return (this.recalculateRenderedStyle(t33), "haystack" === e10.edgeType) ? { x: e10.haystackPts[2], y: e10.haystackPts[3] } : { x: e10.arrowEndX, y: e10.arrowEndY };
};
var teZ = {};
teZ.storeEdgeProjections = function(t33) {
  var e10 = t33._private, r10 = e10.rscratch, i10 = r10.edgeType;
  if (e10.rstyle.bezierPts = null, e10.rstyle.linePts = null, e10.rstyle.haystackPts = null, "multibezier" === i10 || "bezier" === i10 || "self" === i10 || "compound" === i10) {
    e10.rstyle.bezierPts = [];
    for (var n10 = 0; n10 + 5 < r10.allpts.length; n10 += 4) !function(t34, e11, r11) {
      for (var i11 = function(t35, e12, r12, i12) {
        return Wn(t35, e12, r12, i12);
      }, n11 = e11._private.rstyle.bezierPts, a11 = 0; a11 < t34.bezierProjPcts.length; a11++) {
        var o11 = t34.bezierProjPcts[a11];
        n11.push({ x: i11(r11[0], r11[2], r11[4], o11), y: i11(r11[1], r11[3], r11[5], o11) });
      }
    }(this, t33, r10.allpts.slice(n10, n10 + 6));
  } else if ("segments" === i10) for (var a10 = e10.rstyle.linePts = [], n10 = 0; n10 + 1 < r10.allpts.length; n10 += 2) a10.push({ x: r10.allpts[n10], y: r10.allpts[n10 + 1] });
  else if ("haystack" === i10) {
    var o10 = r10.haystackPts;
    e10.rstyle.haystackPts = [{ x: o10[0], y: o10[1] }, { x: o10[2], y: o10[3] }];
  }
  e10.rstyle.arrowWidth = this.getArrowWidth(t33.pstyle("width").pfValue, t33.pstyle("arrow-scale").value) * this.arrowShapeWidth;
}, teZ.recalculateEdgeProjections = function(t33) {
  this.findEdgeControlPoints(t33);
};
var teQ = {};
teQ.recalculateNodeLabelProjection = function(t33) {
  if (!Hk(t33.pstyle("label").strValue)) {
    var e10, r10, i10 = t33._private, n10 = t33.width(), a10 = t33.height(), o10 = t33.padding(), s10 = t33.position(), l10 = t33.pstyle("text-halign").strValue, h10 = t33.pstyle("text-valign").strValue, u10 = i10.rscratch, d10 = i10.rstyle;
    switch (l10) {
      case "left":
        e10 = s10.x - n10 / 2 - o10;
        break;
      case "right":
        e10 = s10.x + n10 / 2 + o10;
        break;
      default:
        e10 = s10.x;
    }
    switch (h10) {
      case "top":
        r10 = s10.y - a10 / 2 - o10;
        break;
      case "bottom":
        r10 = s10.y + a10 / 2 + o10;
        break;
      default:
        r10 = s10.y;
    }
    u10.labelX = e10, u10.labelY = r10, d10.labelX = e10, d10.labelY = r10, this.calculateLabelAngles(t33), this.applyLabelDimensions(t33);
  }
};
var teJ = function(t33, e10) {
  var r10 = Math.atan(e10 / t33);
  return 0 === t33 && r10 < 0 && (r10 *= -1), r10;
}, te0 = function(t33, e10) {
  return teJ(e10.x - t33.x, e10.y - t33.y);
}, te1 = function(t33, e10, r10, i10) {
  var n10 = Ws(0, i10 - 1e-3, 1), a10 = Ws(0, i10 + 1e-3, 1);
  return te0(Wa(t33, e10, r10, n10), Wa(t33, e10, r10, a10));
};
teQ.recalculateEdgeLabelProjections = function(t33) {
  var e10, r10 = t33._private, i10 = r10.rscratch, n10 = this, a10 = { mid: t33.pstyle("label").strValue, source: t33.pstyle("source-label").strValue, target: t33.pstyle("target-label").strValue };
  if (a10.mid || a10.source || a10.target) {
    e10 = { x: i10.midX, y: i10.midY };
    var o10 = function(t34, e11, i11) {
      jF(r10.rscratch, t34, e11, i11), jF(r10.rstyle, t34, e11, i11);
    };
    o10("labelX", null, e10.x), o10("labelY", null, e10.y), o10("labelAutoAngle", null, teJ(i10.midDispX, i10.midDispY));
    var s10 = function t34() {
      if (t34.cache) return t34.cache;
      for (var e11 = [], a11 = 0; a11 + 5 < i10.allpts.length; a11 += 4) {
        var o11 = { x: i10.allpts[a11], y: i10.allpts[a11 + 1] }, s11 = { x: i10.allpts[a11 + 2], y: i10.allpts[a11 + 3] }, l11 = { x: i10.allpts[a11 + 4], y: i10.allpts[a11 + 5] };
        e11.push({ p0: o11, p1: s11, p2: l11, startDist: 0, length: 0, segments: [] });
      }
      var h10 = r10.rstyle.bezierPts, u10 = n10.bezierProjPcts.length;
      function d10(t35, e12, r11, i11, n11) {
        var a12 = We(e12, r11), o12 = t35.segments[t35.segments.length - 1], s12 = { p0: e12, p1: r11, t0: i11, t1: n11, startDist: o12 ? o12.startDist + o12.length : 0, length: a12 };
        t35.segments.push(s12), t35.length += a12;
      }
      for (var p10 = 0; p10 < e11.length; p10++) {
        var g10 = e11[p10], f10 = e11[p10 - 1];
        f10 && (g10.startDist = f10.startDist + f10.length), d10(g10, g10.p0, h10[p10 * u10], 0, n10.bezierProjPcts[0]);
        for (var y10 = 0; y10 < u10 - 1; y10++) d10(g10, h10[p10 * u10 + y10], h10[p10 * u10 + y10 + 1], n10.bezierProjPcts[y10], n10.bezierProjPcts[y10 + 1]);
        d10(g10, h10[p10 * u10 + u10 - 1], g10.p2, n10.bezierProjPcts[u10 - 1], 1);
      }
      return t34.cache = e11;
    }, l10 = function(r11) {
      var n11 = "source" === r11;
      if (a10[r11]) {
        var l11 = t33.pstyle(r11 + "-text-offset").pfValue;
        switch (i10.edgeType) {
          case "self":
          case "compound":
          case "bezier":
          case "multibezier":
            for (var h10, u10, d10 = s10(), p10 = 0, g10 = 0, f10 = 0; f10 < d10.length; f10++) {
              for (var y10 = d10[n11 ? f10 : d10.length - 1 - f10], v10 = 0; v10 < y10.segments.length; v10++) {
                var x10 = y10.segments[n11 ? v10 : y10.segments.length - 1 - v10], b10 = f10 === d10.length - 1 && v10 === y10.segments.length - 1;
                if (p10 = g10, (g10 += x10.length) >= l11 || b10) {
                  u10 = { cp: y10, segment: x10 };
                  break;
                }
              }
              if (u10) break;
            }
            var w10 = u10.cp, k10 = u10.segment, _10 = (l11 - p10) / k10.length, T10 = k10.t1 - k10.t0, E10 = n11 ? k10.t0 + T10 * _10 : k10.t1 - T10 * _10;
            E10 = Ws(0, E10, 1), e10 = Wa(w10.p0, w10.p1, w10.p2, E10), h10 = te1(w10.p0, w10.p1, w10.p2, E10);
            break;
          case "straight":
          case "segments":
          case "haystack":
            for (var C10, S10, A10, L10, N10 = 0, I10 = i10.allpts.length, M10 = 0; M10 + 3 < I10 && (n11 ? (C10 = { x: i10.allpts[M10], y: i10.allpts[M10 + 1] }, S10 = { x: i10.allpts[M10 + 2], y: i10.allpts[M10 + 3] }) : (C10 = { x: i10.allpts[I10 - 2 - M10], y: i10.allpts[I10 - 1 - M10] }, S10 = { x: i10.allpts[I10 - 4 - M10], y: i10.allpts[I10 - 3 - M10] }), A10 = We(C10, S10), L10 = N10, !((N10 += A10) >= l11)); M10 += 2) ;
            var R10 = (l11 - L10) / A10;
            e10 = Wo(C10, S10, R10 = Ws(0, R10, 1)), h10 = te0(C10, S10);
        }
        o10("labelX", r11, e10.x), o10("labelY", r11, e10.y), o10("labelAutoAngle", r11, h10);
      }
    };
    l10("source"), l10("target"), this.applyLabelDimensions(t33);
  }
}, teQ.applyLabelDimensions = function(t33) {
  this.applyPrefixedLabelDimensions(t33), t33.isEdge() && (this.applyPrefixedLabelDimensions(t33, "source"), this.applyPrefixedLabelDimensions(t33, "target"));
}, teQ.applyPrefixedLabelDimensions = function(t33, e10) {
  var r10 = t33._private, i10 = this.getLabelText(t33, e10), n10 = this.calculateLabelDimensions(t33, i10), a10 = t33.pstyle("line-height").pfValue, o10 = t33.pstyle("text-wrap").strValue, s10 = jB(r10.rscratch, "labelWrapCachedLines", e10) || [], l10 = "wrap" !== o10 ? 1 : Math.max(s10.length, 1), h10 = n10.height / l10, u10 = n10.width, d10 = n10.height + (l10 - 1) * (a10 - 1) * h10;
  jF(r10.rstyle, "labelWidth", e10, u10), jF(r10.rscratch, "labelWidth", e10, u10), jF(r10.rstyle, "labelHeight", e10, d10), jF(r10.rscratch, "labelHeight", e10, d10), jF(r10.rscratch, "labelLineHeight", e10, h10 * a10);
}, teQ.getLabelText = function(t33, e10) {
  var r10 = t33._private, i10 = e10 ? e10 + "-" : "", n10 = t33.pstyle(i10 + "label").strValue, a10 = t33.pstyle("text-transform").value, o10 = function(t34, i11) {
    return i11 ? (jF(r10.rscratch, t34, e10, i11), i11) : jB(r10.rscratch, t34, e10);
  };
  if (!n10) return "";
  "none" == a10 || ("uppercase" == a10 ? n10 = n10.toUpperCase() : "lowercase" == a10 && (n10 = n10.toLowerCase()));
  var s10 = t33.pstyle("text-wrap").value;
  if ("wrap" === s10) {
    var l10 = o10("labelKey");
    if (null != l10 && o10("labelWrapKey") === l10) return o10("labelWrapCachedText");
    for (var h10 = n10.split("\n"), u10 = t33.pstyle("text-max-width").pfValue, d10 = "anywhere" === t33.pstyle("text-overflow-wrap").value, p10 = [], g10 = /[\s\u200b]+|$/g, f10 = 0; f10 < h10.length; f10++) {
      var y10 = h10[f10], v10 = this.calculateLabelDimensions(t33, y10).width;
      if (d10 && (y10 = y10.split("").join("​")), v10 > u10) {
        var x10, b10 = y10.matchAll(g10), w10 = "", k10 = 0, _10 = Hi(b10);
        try {
          for (_10.s(); !(x10 = _10.n()).done; ) {
            var T10 = x10.value, E10 = T10[0], C10 = y10.substring(k10, T10.index);
            k10 = T10.index + E10.length;
            var S10 = 0 === w10.length ? C10 : w10 + C10 + E10;
            this.calculateLabelDimensions(t33, S10).width <= u10 ? w10 += C10 + E10 : (w10 && p10.push(w10), w10 = C10 + E10);
          }
        } catch (t34) {
          _10.e(t34);
        } finally {
          _10.f();
        }
        w10.match(/^[\s\u200b]+$/) || p10.push(w10);
      } else p10.push(y10);
    }
    o10("labelWrapCachedLines", p10), n10 = o10("labelWrapCachedText", p10.join("\n")), o10("labelWrapKey", l10);
  } else if ("ellipsis" === s10) {
    var A10 = t33.pstyle("text-max-width").pfValue, L10 = "", N10 = false;
    if (this.calculateLabelDimensions(t33, n10).width < A10) return n10;
    for (var I10 = 0; I10 < n10.length && !(this.calculateLabelDimensions(t33, L10 + n10[I10] + "…").width > A10); I10++) L10 += n10[I10], I10 === n10.length - 1 && (N10 = true);
    return N10 || (L10 += "…"), L10;
  }
  return n10;
}, teQ.getLabelJustification = function(t33) {
  var e10 = t33.pstyle("text-justification").strValue, r10 = t33.pstyle("text-halign").strValue;
  if ("auto" !== e10) return e10;
  if (!t33.isNode()) return "center";
  switch (r10) {
    case "left":
      return "right";
    case "right":
      return "left";
    default:
      return "center";
  }
}, teQ.calculateLabelDimensions = function(t33, e10) {
  var r10 = this.cy.window().document, i10 = jm(e10, t33._private.labelDimsKey), n10 = this.labelDimCache || (this.labelDimCache = []), a10 = n10[i10];
  if (null != a10) return a10;
  var o10 = t33.pstyle("font-style").strValue, s10 = t33.pstyle("font-size").pfValue, l10 = t33.pstyle("font-family").strValue, h10 = t33.pstyle("font-weight").strValue, u10 = this.labelCalcCanvas, d10 = this.labelCalcCanvasContext;
  if (!u10) {
    u10 = this.labelCalcCanvas = r10.createElement("canvas"), d10 = this.labelCalcCanvasContext = u10.getContext("2d");
    var p10 = u10.style;
    p10.position = "absolute", p10.left = "-9999px", p10.top = "-9999px", p10.zIndex = "-1", p10.visibility = "hidden", p10.pointerEvents = "none";
  }
  d10.font = "".concat(o10, " ").concat(h10, " ").concat(s10, "px ").concat(l10);
  for (var g10 = 0, f10 = 0, y10 = e10.split("\n"), v10 = 0; v10 < y10.length; v10++) {
    var x10 = y10[v10];
    g10 = Math.max(Math.ceil(d10.measureText(x10).width), g10), f10 += s10;
  }
  return g10 += 0, f10 += 0, n10[i10] = { width: g10, height: f10 };
}, teQ.calculateLabelAngle = function(t33, e10) {
  var r10 = t33._private.rscratch, i10 = t33.isEdge(), n10 = t33.pstyle((e10 ? e10 + "-" : "") + "text-rotation"), a10 = n10.strValue;
  return "none" === a10 ? 0 : i10 && "autorotate" === a10 ? r10.labelAutoAngle : "autorotate" === a10 ? 0 : n10.pfValue;
}, teQ.calculateLabelAngles = function(t33) {
  var e10 = t33.isEdge(), r10 = t33._private.rscratch;
  r10.labelAngle = this.calculateLabelAngle(t33), e10 && (r10.sourceLabelAngle = this.calculateLabelAngle(t33, "source"), r10.targetLabelAngle = this.calculateLabelAngle(t33, "target"));
};
var te2 = {}, te4 = false;
te2.getNodeShape = function(t33) {
  var e10 = t33.pstyle("shape").value;
  if ("cutrectangle" === e10 && (28 > t33.width() || 28 > t33.height())) return te4 || (jL("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"), te4 = true), "rectangle";
  if (t33.isParent()) return "rectangle" === e10 || "roundrectangle" === e10 || "round-rectangle" === e10 || "cutrectangle" === e10 || "cut-rectangle" === e10 || "barrel" === e10 ? e10 : "rectangle";
  if ("polygon" === e10) {
    var r10 = t33.pstyle("shape-polygon-points").value;
    return this.nodeShapes.makePolygon(r10).name;
  }
  return e10;
};
var te5 = {};
te5.registerCalculationListeners = function() {
  var t33 = this.cy, e10 = t33.collection(), r10 = this, i10 = function(t34) {
    var r11 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
    if (e10.merge(t34), r11) for (var i11 = 0; i11 < t34.length; i11++) {
      var n11 = t34[i11]._private.rstyle;
      n11.clean = false, n11.cleanConnected = false;
    }
  };
  r10.binder(t33).on("bounds.* dirty.*", function(t34) {
    i10(t34.target);
  }).on("style.* background.*", function(t34) {
    i10(t34.target, false);
  });
  var n10 = function(n11) {
    if (n11) {
      var a10 = r10.onUpdateEleCalcsFns;
      e10.cleanStyle();
      for (var o10 = 0; o10 < e10.length; o10++) {
        var s10 = e10[o10], l10 = s10._private.rstyle;
        s10.isNode() && !l10.cleanConnected && (i10(s10.connectedEdges()), l10.cleanConnected = true);
      }
      if (a10) for (var h10 = 0; h10 < a10.length; h10++) (0, a10[h10])(n11, e10);
      r10.recalculateRenderedStyle(e10), e10 = t33.collection();
    }
  };
  r10.flushRenderedStyleQueue = function() {
    n10(true);
  }, r10.beforeRender(n10, r10.beforeRenderPriorities.eleCalcs);
}, te5.onUpdateEleCalcs = function(t33) {
  (this.onUpdateEleCalcsFns = this.onUpdateEleCalcsFns || []).push(t33);
}, te5.recalculateRenderedStyle = function(t33, e10) {
  var r10 = function(t34) {
    return t34._private.rstyle.cleanConnected;
  }, i10 = [], n10 = [];
  if (!this.destroyed) {
    void 0 === e10 && (e10 = true);
    for (var a10 = 0; a10 < t33.length; a10++) {
      var o10 = t33[a10], s10 = o10._private, l10 = s10.rstyle;
      !o10.isEdge() || r10(o10.source()) && r10(o10.target()) || (l10.clean = false), e10 && l10.clean || o10.removed() || "none" === o10.pstyle("display").value || ("nodes" === s10.group ? n10.push(o10) : i10.push(o10), l10.clean = true);
    }
    for (var h10 = 0; h10 < n10.length; h10++) {
      var u10 = n10[h10], d10 = u10._private.rstyle, p10 = u10.position();
      this.recalculateNodeLabelProjection(u10), d10.nodeX = p10.x, d10.nodeY = p10.y, d10.nodeW = u10.pstyle("width").pfValue, d10.nodeH = u10.pstyle("height").pfValue;
    }
    this.recalculateEdgeProjections(i10);
    for (var g10 = 0; g10 < i10.length; g10++) {
      var f10 = i10[g10]._private, y10 = f10.rstyle, v10 = f10.rscratch;
      y10.srcX = v10.arrowStartX, y10.srcY = v10.arrowStartY, y10.tgtX = v10.arrowEndX, y10.tgtY = v10.arrowEndY, y10.midX = v10.midX, y10.midY = v10.midY, y10.labelAngle = v10.labelAngle, y10.sourceLabelAngle = v10.sourceLabelAngle, y10.targetLabelAngle = v10.targetLabelAngle;
    }
  }
};
var te3 = {};
te3.updateCachedGrabbedEles = function() {
  var t33 = this.cachedZSortedEles;
  if (t33) {
    t33.drag = [], t33.nondrag = [];
    for (var e10 = [], r10 = 0; r10 < t33.length; r10++) {
      var i10 = t33[r10], n10 = i10._private.rscratch;
      i10.grabbed() && !i10.isParent() ? e10.push(i10) : n10.inDragLayer ? t33.drag.push(i10) : t33.nondrag.push(i10);
    }
    for (var r10 = 0; r10 < e10.length; r10++) {
      var i10 = e10[r10];
      t33.drag.push(i10);
    }
  }
}, te3.invalidateCachedZSortedEles = function() {
  this.cachedZSortedEles = null;
}, te3.getCachedZSortedEles = function(t33) {
  if (t33 || !this.cachedZSortedEles) {
    var e10 = this.cy.mutableElements().toArray();
    e10.sort(Kz), e10.interactive = e10.filter(function(t34) {
      return t34.interactive();
    }), this.cachedZSortedEles = e10, this.updateCachedGrabbedEles();
  } else e10 = this.cachedZSortedEles;
  return e10;
};
var te6 = {};
[Qd, Qp, teV, teK, teZ, teQ, te2, te5, te3].forEach(function(t33) {
  HO(te6, t33);
});
var te7 = {};
te7.getCachedImage = function(t33, e10, r10) {
  var i10 = this.imageCache = this.imageCache || {}, n10 = i10[t33];
  if (n10) return n10.image.complete || n10.image.addEventListener("load", r10), n10.image;
  var a10 = (n10 = i10[t33] = i10[t33] || {}).image = new Image();
  a10.addEventListener("load", r10), a10.addEventListener("error", function() {
    a10.error = true;
  });
  var o10 = "data:";
  return t33.substring(0, o10.length).toLowerCase() !== o10 && (e10 = "null" === e10 ? null : e10, a10.crossOrigin = e10), a10.src = t33, a10;
};
var te8 = {};
te8.registerBinding = function(t33, e10, r10, i10) {
  var n10 = Array.prototype.slice.apply(arguments, [1]);
  if (Array.isArray(t33)) {
    for (var a10 = [], o10 = 0; o10 < t33.length; o10++) {
      var s10 = t33[o10];
      if (void 0 !== s10) {
        var l10 = this.binder(s10);
        a10.push(l10.on.apply(l10, n10));
      }
    }
    return a10;
  }
  var l10 = this.binder(t33);
  return l10.on.apply(l10, n10);
}, te8.binder = function(t33) {
  var e10 = this, r10 = e10.cy.window(), i10 = t33 === r10 || t33 === r10.document || t33 === r10.document.body || "undefined" != typeof HTMLElement && t33 instanceof HTMLElement;
  if (null == e10.supportsPassiveEvents) {
    var n10 = false;
    try {
      var a10 = Object.defineProperty({}, "passive", { get: function() {
        return n10 = true, true;
      } });
      r10.addEventListener("test", null, a10);
    } catch (t34) {
    }
    e10.supportsPassiveEvents = n10;
  }
  var o10 = function(r11, n11, a11) {
    var o11 = Array.prototype.slice.call(arguments);
    return i10 && e10.supportsPassiveEvents && (o11[2] = { capture: null != a11 && a11, passive: false, once: false }), e10.bindings.push({ target: t33, args: o11 }), (t33.addEventListener || t33.on).apply(t33, o11), this;
  };
  return { on: o10, addEventListener: o10, addListener: o10, bind: o10 };
}, te8.nodeIsDraggable = function(t33) {
  return t33 && t33.isNode() && !t33.locked() && t33.grabbable();
}, te8.nodeIsGrabbable = function(t33) {
  return this.nodeIsDraggable(t33) && t33.interactive();
}, te8.load = function() {
  var t33, e10, r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10, x10, b10, w10, k10, _10, T10, E10 = this, C10 = E10.cy.window(), S10 = function(t34) {
    return t34.selected();
  }, A10 = function(t34, e11, r11, i11) {
    null == t34 && (t34 = E10.cy);
    for (var n11 = 0; n11 < e11.length; n11++) {
      var a11 = e11[n11];
      t34.emit({ originalEvent: r11, type: a11, position: i11 });
    }
  }, L10 = function(t34) {
    return t34.shiftKey || t34.metaKey || t34.ctrlKey;
  }, N10 = function(t34, e11) {
    var r11 = true;
    if (E10.cy.hasCompoundNodes() && t34 && t34.pannable()) for (var i11 = 0; e11 && i11 < e11.length; i11++) {
      var t34 = e11[i11];
      if (t34.isNode() && t34.isParent() && !t34.pannable()) {
        r11 = false;
        break;
      }
    }
    else r11 = true;
    return r11;
  }, I10 = function(t34) {
    t34[0]._private.grabbed = true;
  }, M10 = function(t34) {
    t34[0]._private.grabbed = false;
  }, R10 = function(t34) {
    t34[0]._private.rscratch.inDragLayer = true;
  }, D10 = function(t34) {
    t34[0]._private.rscratch.inDragLayer = false;
  }, O10 = function(t34) {
    t34[0]._private.rscratch.isGrabTarget = true;
  }, P10 = function(t34) {
    t34[0]._private.rscratch.isGrabTarget = false;
  }, $10 = function(t34, e11) {
    var r11 = e11.addToList;
    !r11.has(t34) && t34.grabbable() && !t34.locked() && (r11.merge(t34), I10(t34));
  }, B10 = function(t34, e11) {
    if (t34.cy().hasCompoundNodes() && (null != e11.inDragLayer || null != e11.addToList)) {
      var r11 = t34.descendants();
      e11.inDragLayer && (r11.forEach(R10), r11.connectedEdges().forEach(R10)), e11.addToList && $10(r11, e11);
    }
  }, F10 = function(t34, e11) {
    e11 = e11 || {};
    var r11 = t34.cy().hasCompoundNodes();
    e11.inDragLayer && (t34.forEach(R10), t34.neighborhood().stdFilter(function(t35) {
      return !r11 || t35.isEdge();
    }).forEach(R10)), e11.addToList && t34.forEach(function(t35) {
      $10(t35, e11);
    }), B10(t34, e11), U10(t34, { inDragLayer: e11.inDragLayer }), E10.updateCachedGrabbedEles();
  }, z10 = function(t34) {
    t34 && (E10.getCachedZSortedEles().forEach(function(t35) {
      M10(t35), D10(t35), P10(t35);
    }), E10.updateCachedGrabbedEles());
  }, U10 = function(t34, e11) {
    if ((null != e11.inDragLayer || null != e11.addToList) && t34.cy().hasCompoundNodes()) {
      var r11 = t34.ancestors().orphans();
      if (!r11.same(t34)) {
        var i11 = r11.descendants().spawnSelf().merge(r11).unmerge(t34).unmerge(t34.descendants()), n11 = i11.connectedEdges();
        e11.inDragLayer && (n11.forEach(R10), i11.forEach(R10)), e11.addToList && i11.forEach(function(t35) {
          $10(t35, e11);
        });
      }
    }
  }, G10 = function() {
    null != document.activeElement && null != document.activeElement.blur && document.activeElement.blur();
  }, q10 = "undefined" != typeof MutationObserver, Y10 = "undefined" != typeof ResizeObserver;
  q10 ? (E10.removeObserver = new MutationObserver(function(t34) {
    for (var e11 = 0; e11 < t34.length; e11++) {
      var r11 = t34[e11].removedNodes;
      if (r11) {
        for (var i11 = 0; i11 < r11.length; i11++) if (r11[i11] === E10.container) {
          E10.destroy();
          break;
        }
      }
    }
  }), E10.container.parentNode && E10.removeObserver.observe(E10.container.parentNode, { childList: true })) : E10.registerBinding(E10.container, "DOMNodeRemoved", function(t34) {
    E10.destroy();
  });
  var H10 = ja(function() {
    E10.cy.resize();
  }, 100);
  q10 && (E10.styleObserver = new MutationObserver(H10), E10.styleObserver.observe(E10.container, { attributes: true })), E10.registerBinding(C10, "resize", H10), Y10 && (E10.resizeObserver = new ResizeObserver(H10), E10.resizeObserver.observe(E10.container));
  var j10 = function() {
    E10.invalidateContainerClientCoordsCache();
  };
  (function(t34, e11) {
    for (; null != t34; ) e11(t34), t34 = t34.parentNode;
  })(E10.container, function(t34) {
    E10.registerBinding(t34, "transitionend", j10), E10.registerBinding(t34, "animationend", j10), E10.registerBinding(t34, "scroll", j10);
  }), E10.registerBinding(E10.container, "contextmenu", function(t34) {
    t34.preventDefault();
  });
  var W10 = function(t34) {
    for (var e11 = E10.findContainerClientCoords(), r11 = e11[0], i11 = e11[1], n11 = e11[2], a11 = e11[3], o11 = t34.touches ? t34.touches : [t34], s11 = false, l11 = 0; l11 < o11.length; l11++) {
      var h11 = o11[l11];
      if (r11 <= h11.clientX && h11.clientX <= r11 + n11 && i11 <= h11.clientY && h11.clientY <= i11 + a11) {
        s11 = true;
        break;
      }
    }
    if (!s11) return false;
    for (var u11 = E10.container, d11 = t34.target.parentNode, p11 = false; d11; ) {
      if (d11 === u11) {
        p11 = true;
        break;
      }
      d11 = d11.parentNode;
    }
    return !!p11;
  };
  E10.registerBinding(E10.container, "mousedown", function(t34) {
    if (W10(t34) && (1 !== E10.hoverData.which || 1 === t34.which)) {
      t34.preventDefault(), G10(), E10.hoverData.capture = true, E10.hoverData.which = t34.which;
      var e11 = E10.cy, r11 = [t34.clientX, t34.clientY], i11 = E10.projectIntoViewport(r11[0], r11[1]), n11 = E10.selection, a11 = E10.findNearestElements(i11[0], i11[1], true, false), o11 = a11[0], s11 = E10.dragData.possibleDragElements;
      if (E10.hoverData.mdownPos = i11, E10.hoverData.mdownGPos = r11, 3 == t34.which) {
        E10.hoverData.cxtStarted = true;
        var l11 = { originalEvent: t34, type: "cxttapstart", position: { x: i11[0], y: i11[1] } };
        o11 ? (o11.activate(), o11.emit(l11), E10.hoverData.down = o11) : e11.emit(l11), E10.hoverData.downTime = (/* @__PURE__ */ new Date()).getTime(), E10.hoverData.cxtDragged = false;
      } else if (1 == t34.which) {
        if (o11 && o11.activate(), null != o11 && E10.nodeIsGrabbable(o11)) {
          var h11 = function(e12) {
            return { originalEvent: t34, type: e12, position: { x: i11[0], y: i11[1] } };
          };
          if (O10(o11), o11.selected()) {
            s11 = E10.dragData.possibleDragElements = e11.collection();
            var u11 = e11.$(function(t35) {
              return t35.isNode() && t35.selected() && E10.nodeIsGrabbable(t35);
            });
            F10(u11, { addToList: s11 }), o11.emit(h11("grabon")), u11.forEach(function(t35) {
              t35.emit(h11("grab"));
            });
          } else F10(o11, { addToList: s11 = E10.dragData.possibleDragElements = e11.collection() }), o11.emit(h11("grabon")).emit(h11("grab"));
          E10.redrawHint("eles", true), E10.redrawHint("drag", true);
        }
        E10.hoverData.down = o11, E10.hoverData.downs = a11, E10.hoverData.downTime = (/* @__PURE__ */ new Date()).getTime(), A10(o11, ["mousedown", "tapstart", "vmousedown"], t34, { x: i11[0], y: i11[1] }), null == o11 ? (n11[4] = 1, E10.data.bgActivePosistion = { x: i11[0], y: i11[1] }, E10.redrawHint("select", true), E10.redraw()) : o11.pannable() && (n11[4] = 1), E10.hoverData.tapholdCancelled = false, clearTimeout(E10.hoverData.tapholdTimeout), E10.hoverData.tapholdTimeout = setTimeout(function() {
          if (!E10.hoverData.tapholdCancelled) {
            var r12 = E10.hoverData.down;
            r12 ? r12.emit({ originalEvent: t34, type: "taphold", position: { x: i11[0], y: i11[1] } }) : e11.emit({ originalEvent: t34, type: "taphold", position: { x: i11[0], y: i11[1] } });
          }
        }, E10.tapholdDuration);
      }
      n11[0] = n11[2] = i11[0], n11[1] = n11[3] = i11[1];
    }
  }, false);
  var V10 = function(t34) {
    var e11 = t34.getRootNode();
    if (e11 && 11 === e11.nodeType && void 0 !== e11.host) return e11;
  }(E10.container);
  E10.registerBinding([C10, V10], "mousemove", function(t34) {
    if (E10.hoverData.capture || W10(t34)) {
      var e11 = false, r11 = E10.cy, i11 = r11.zoom(), n11 = [t34.clientX, t34.clientY], a11 = E10.projectIntoViewport(n11[0], n11[1]), o11 = E10.hoverData.mdownPos, s11 = E10.hoverData.mdownGPos, l11 = E10.selection, h11 = null;
      E10.hoverData.draggingEles || E10.hoverData.dragging || E10.hoverData.selecting || (h11 = E10.findNearestElement(a11[0], a11[1], true, false));
      var u11 = E10.hoverData.last, d11 = E10.hoverData.down, p11 = [a11[0] - l11[2], a11[1] - l11[3]], g11 = E10.dragData.possibleDragElements;
      if (s11) {
        var f11 = n11[0] - s11[0], y11 = n11[1] - s11[1];
        E10.hoverData.isOverThresholdDrag = k11 = f11 * f11 + y11 * y11 >= E10.desktopTapThreshold2;
      }
      var v11 = L10(t34);
      k11 && (E10.hoverData.tapholdCancelled = true), e11 = true, A10(h11, ["mousemove", "vmousemove", "tapdrag"], t34, { x: a11[0], y: a11[1] });
      var x11 = function() {
        E10.data.bgActivePosistion = void 0, E10.hoverData.selecting || r11.emit({ originalEvent: t34, type: "boxstart", position: { x: a11[0], y: a11[1] } }), l11[4] = 1, E10.hoverData.selecting = true, E10.redrawHint("select", true), E10.redraw();
      };
      if (3 === E10.hoverData.which) {
        if (k11) {
          var b11 = { originalEvent: t34, type: "cxtdrag", position: { x: a11[0], y: a11[1] } };
          d11 ? d11.emit(b11) : r11.emit(b11), E10.hoverData.cxtDragged = true, (!E10.hoverData.cxtOver || h11 !== E10.hoverData.cxtOver) && (E10.hoverData.cxtOver && E10.hoverData.cxtOver.emit({ originalEvent: t34, type: "cxtdragout", position: { x: a11[0], y: a11[1] } }), E10.hoverData.cxtOver = h11, h11 && h11.emit({ originalEvent: t34, type: "cxtdragover", position: { x: a11[0], y: a11[1] } }));
        }
      } else if (E10.hoverData.dragging) {
        if (e11 = true, r11.panningEnabled() && r11.userPanningEnabled()) {
          if (E10.hoverData.justStartedPan) {
            var w11 = E10.hoverData.mdownPos;
            _11 = { x: (a11[0] - w11[0]) * i11, y: (a11[1] - w11[1]) * i11 }, E10.hoverData.justStartedPan = false;
          } else _11 = { x: p11[0] * i11, y: p11[1] * i11 };
          r11.panBy(_11), r11.emit("dragpan"), E10.hoverData.dragged = true;
        }
        a11 = E10.projectIntoViewport(t34.clientX, t34.clientY);
      } else if (1 == l11[4] && (null == d11 || d11.pannable())) k11 && (!E10.hoverData.dragging && r11.boxSelectionEnabled() && (v11 || !r11.panningEnabled() || !r11.userPanningEnabled()) ? x11() : !E10.hoverData.selecting && r11.panningEnabled() && r11.userPanningEnabled() && N10(d11, E10.hoverData.downs) && (E10.hoverData.dragging = true, E10.hoverData.justStartedPan = true, l11[4] = 0, E10.data.bgActivePosistion = j4(o11), E10.redrawHint("select", true), E10.redraw()), d11 && d11.pannable() && d11.active() && d11.unactivate());
      else {
        if (d11 && d11.pannable() && d11.active() && d11.unactivate(), d11 && d11.grabbed() || h11 == u11 || (u11 && A10(u11, ["mouseout", "tapdragout"], t34, { x: a11[0], y: a11[1] }), h11 && A10(h11, ["mouseover", "tapdragover"], t34, { x: a11[0], y: a11[1] }), E10.hoverData.last = h11), d11) {
          if (k11) {
            if (r11.boxSelectionEnabled() && v11) d11 && d11.grabbed() && (z10(g11), d11.emit("freeon"), g11.emit("free"), E10.dragData.didDrag && (d11.emit("dragfreeon"), g11.emit("dragfree"))), x11();
            else if (d11 && d11.grabbed() && E10.nodeIsDraggable(d11)) {
              var k11, _11, T11, C11 = !E10.dragData.didDrag;
              C11 && E10.redrawHint("eles", true), E10.dragData.didDrag = true, E10.hoverData.draggingEles || F10(g11, { inDragLayer: true });
              var S11 = { x: 0, y: 0 };
              if (Hf(p11[0]) && Hf(p11[1]) && (S11.x += p11[0], S11.y += p11[1], C11)) {
                var I11 = E10.hoverData.dragDelta;
                I11 && Hf(I11[0]) && Hf(I11[1]) && (S11.x += I11[0], S11.y += I11[1]);
              }
              E10.hoverData.draggingEles = true, g11.silentShift(S11).emit("position drag"), E10.redrawHint("drag", true), E10.redraw();
            }
          } else 0 === (T11 = E10.hoverData.dragDelta = E10.hoverData.dragDelta || []).length ? (T11.push(p11[0]), T11.push(p11[1])) : (T11[0] += p11[0], T11[1] += p11[1]);
        }
        e11 = true;
      }
      if (l11[2] = a11[0], l11[3] = a11[1], e11) return t34.stopPropagation && t34.stopPropagation(), t34.preventDefault && t34.preventDefault(), false;
    }
  }, false), E10.registerBinding(C10, "mouseup", function(i11) {
    if ((1 !== E10.hoverData.which || 1 === i11.which || !E10.hoverData.capture) && E10.hoverData.capture) {
      E10.hoverData.capture = false;
      var n11 = E10.cy, a11 = E10.projectIntoViewport(i11.clientX, i11.clientY), o11 = E10.selection, s11 = E10.findNearestElement(a11[0], a11[1], true, false), l11 = E10.dragData.possibleDragElements, h11 = E10.hoverData.down, u11 = L10(i11);
      if (E10.data.bgActivePosistion && (E10.redrawHint("select", true), E10.redraw()), E10.hoverData.tapholdCancelled = true, E10.data.bgActivePosistion = void 0, h11 && h11.unactivate(), 3 === E10.hoverData.which) {
        var d11 = { originalEvent: i11, type: "cxttapend", position: { x: a11[0], y: a11[1] } };
        if (h11 ? h11.emit(d11) : n11.emit(d11), !E10.hoverData.cxtDragged) {
          var p11 = { originalEvent: i11, type: "cxttap", position: { x: a11[0], y: a11[1] } };
          h11 ? h11.emit(p11) : n11.emit(p11);
        }
        E10.hoverData.cxtDragged = false, E10.hoverData.which = null;
      } else if (1 === E10.hoverData.which) {
        if (A10(s11, ["mouseup", "tapend", "vmouseup"], i11, { x: a11[0], y: a11[1] }), E10.dragData.didDrag || E10.hoverData.dragged || E10.hoverData.selecting || E10.hoverData.isOverThresholdDrag || (A10(h11, ["click", "tap", "vclick"], i11, { x: a11[0], y: a11[1] }), e10 = false, i11.timeStamp - r10 <= n11.multiClickDebounceTime() ? (t33 && clearTimeout(t33), e10 = true, r10 = null, A10(h11, ["dblclick", "dbltap", "vdblclick"], i11, { x: a11[0], y: a11[1] })) : (t33 = setTimeout(function() {
          e10 || A10(h11, ["oneclick", "onetap", "voneclick"], i11, { x: a11[0], y: a11[1] });
        }, n11.multiClickDebounceTime()), r10 = i11.timeStamp)), null != h11 || E10.dragData.didDrag || E10.hoverData.selecting || E10.hoverData.dragged || L10(i11) || (n11.$(S10).unselect(["tapunselect"]), l11.length > 0 && E10.redrawHint("eles", true), E10.dragData.possibleDragElements = l11 = n11.collection()), s11 != h11 || E10.dragData.didDrag || E10.hoverData.selecting || null == s11 || !s11._private.selectable || (E10.hoverData.dragging || ("additive" === n11.selectionType() || u11 ? s11.selected() ? s11.unselect(["tapunselect"]) : s11.select(["tapselect"]) : u11 || (n11.$(S10).unmerge(s11).unselect(["tapunselect"]), s11.select(["tapselect"]))), E10.redrawHint("eles", true)), E10.hoverData.selecting) {
          var g11 = n11.collection(E10.getAllInBox(o11[0], o11[1], o11[2], o11[3]));
          E10.redrawHint("select", true), g11.length > 0 && E10.redrawHint("eles", true), n11.emit({ type: "boxend", originalEvent: i11, position: { x: a11[0], y: a11[1] } }), "additive" !== n11.selectionType() && (u11 || n11.$(S10).unmerge(g11).unselect()), g11.emit("box").stdFilter(function(t34) {
            return t34.selectable() && !t34.selected();
          }).select().emit("boxselect"), E10.redraw();
        }
        if (E10.hoverData.dragging && (E10.hoverData.dragging = false, E10.redrawHint("select", true), E10.redrawHint("eles", true), E10.redraw()), !o11[4]) {
          E10.redrawHint("drag", true), E10.redrawHint("eles", true);
          var f11 = h11 && h11.grabbed();
          z10(l11), f11 && (h11.emit("freeon"), l11.emit("free"), E10.dragData.didDrag && (h11.emit("dragfreeon"), l11.emit("dragfree")));
        }
      }
      o11[4] = 0, E10.hoverData.down = null, E10.hoverData.cxtStarted = false, E10.hoverData.draggingEles = false, E10.hoverData.selecting = false, E10.hoverData.isOverThresholdDrag = false, E10.dragData.didDrag = false, E10.hoverData.dragged = false, E10.hoverData.dragDelta = [], E10.hoverData.mdownPos = null, E10.hoverData.mdownGPos = null, E10.hoverData.which = null;
    }
  }, false);
  var X10 = function(t34) {
    if (!E10.scrollingPage) {
      var e11 = E10.cy, r11 = e11.zoom(), i11 = e11.pan(), n11 = E10.projectIntoViewport(t34.clientX, t34.clientY), a11 = [n11[0] * r11 + i11.x, n11[1] * r11 + i11.y];
      if (E10.hoverData.draggingEles || E10.hoverData.dragging || E10.hoverData.cxtStarted || 0 !== E10.selection[4]) {
        t34.preventDefault();
        return;
      }
      if (e11.panningEnabled() && e11.userPanningEnabled() && e11.zoomingEnabled() && e11.userZoomingEnabled()) {
        t34.preventDefault(), E10.data.wheelZooming = true, clearTimeout(E10.data.wheelTimeout), E10.data.wheelTimeout = setTimeout(function() {
          E10.data.wheelZooming = false, E10.redrawHint("eles", true), E10.redraw();
        }, 150), o11 = (null != t34.deltaY ? -(t34.deltaY / 250) : null != t34.wheelDeltaY ? t34.wheelDeltaY / 1e3 : t34.wheelDelta / 1e3) * E10.wheelSensitivity, 1 === t34.deltaMode && (o11 *= 33);
        var o11, s11 = e11.zoom() * Math.pow(10, o11);
        "gesturechange" === t34.type && (s11 = E10.gestureStartZoom * t34.scale), e11.zoom({ level: s11, renderedPosition: { x: a11[0], y: a11[1] } }), e11.emit("gesturechange" === t34.type ? "pinchzoom" : "scrollzoom");
      }
    }
  };
  E10.registerBinding(E10.container, "wheel", X10, true), E10.registerBinding(C10, "scroll", function(t34) {
    E10.scrollingPage = true, clearTimeout(E10.scrollingPageTimeout), E10.scrollingPageTimeout = setTimeout(function() {
      E10.scrollingPage = false;
    }, 250);
  }, true), E10.registerBinding(E10.container, "gesturestart", function(t34) {
    E10.gestureStartZoom = E10.cy.zoom(), E10.hasTouchStarted || t34.preventDefault();
  }, true), E10.registerBinding(E10.container, "gesturechange", function(t34) {
    E10.hasTouchStarted || X10(t34);
  }, true), E10.registerBinding(E10.container, "mouseout", function(t34) {
    var e11 = E10.projectIntoViewport(t34.clientX, t34.clientY);
    E10.cy.emit({ originalEvent: t34, type: "mouseout", position: { x: e11[0], y: e11[1] } });
  }, false), E10.registerBinding(E10.container, "mouseover", function(t34) {
    var e11 = E10.projectIntoViewport(t34.clientX, t34.clientY);
    E10.cy.emit({ originalEvent: t34, type: "mouseover", position: { x: e11[0], y: e11[1] } });
  }, false);
  var K10 = function(t34, e11, r11, i11) {
    return Math.sqrt((r11 - t34) * (r11 - t34) + (i11 - e11) * (i11 - e11));
  }, Z10 = function(t34, e11, r11, i11) {
    return (r11 - t34) * (r11 - t34) + (i11 - e11) * (i11 - e11);
  };
  if (E10.registerBinding(E10.container, "touchstart", v10 = function(t34) {
    if (E10.hasTouchStarted = true, W10(t34)) {
      G10(), E10.touchData.capture = true, E10.data.bgActivePosistion = void 0;
      var e11 = E10.cy, r11 = E10.touchData.now, v11 = E10.touchData.earlier;
      if (t34.touches[0]) {
        var x11 = E10.projectIntoViewport(t34.touches[0].clientX, t34.touches[0].clientY);
        r11[0] = x11[0], r11[1] = x11[1];
      }
      if (t34.touches[1]) {
        var x11 = E10.projectIntoViewport(t34.touches[1].clientX, t34.touches[1].clientY);
        r11[2] = x11[0], r11[3] = x11[1];
      }
      if (t34.touches[2]) {
        var x11 = E10.projectIntoViewport(t34.touches[2].clientX, t34.touches[2].clientY);
        r11[4] = x11[0], r11[5] = x11[1];
      }
      if (t34.touches[1]) {
        E10.touchData.singleTouchMoved = true, z10(E10.dragData.touchDragEles);
        var b11 = E10.findContainerClientCoords();
        d10 = b11[0], p10 = b11[1], g10 = b11[2], f10 = b11[3], i10 = t34.touches[0].clientX - d10, n10 = t34.touches[0].clientY - p10, a10 = t34.touches[1].clientX - d10, o10 = t34.touches[1].clientY - p10, y10 = 0 <= i10 && i10 <= g10 && 0 <= a10 && a10 <= g10 && 0 <= n10 && n10 <= f10 && 0 <= o10 && o10 <= f10;
        var w11 = e11.pan(), k11 = e11.zoom();
        if (s10 = K10(i10, n10, a10, o10), l10 = Z10(i10, n10, a10, o10), u10 = [((h10 = [(i10 + a10) / 2, (n10 + o10) / 2])[0] - w11.x) / k11, (h10[1] - w11.y) / k11], l10 < 4e4 && !t34.touches[2]) {
          var _11 = E10.findNearestElement(r11[0], r11[1], true, true), T11 = E10.findNearestElement(r11[2], r11[3], true, true);
          _11 && _11.isNode() ? (_11.activate().emit({ originalEvent: t34, type: "cxttapstart", position: { x: r11[0], y: r11[1] } }), E10.touchData.start = _11) : T11 && T11.isNode() ? (T11.activate().emit({ originalEvent: t34, type: "cxttapstart", position: { x: r11[0], y: r11[1] } }), E10.touchData.start = T11) : e11.emit({ originalEvent: t34, type: "cxttapstart", position: { x: r11[0], y: r11[1] } }), E10.touchData.start && (E10.touchData.start._private.grabbed = false), E10.touchData.cxt = true, E10.touchData.cxtDragged = false, E10.data.bgActivePosistion = void 0, E10.redraw();
          return;
        }
      }
      if (t34.touches[2]) e11.boxSelectionEnabled() && t34.preventDefault();
      else if (t34.touches[1]) ;
      else if (t34.touches[0]) {
        var C11 = E10.findNearestElements(r11[0], r11[1], true, true), S11 = C11[0];
        if (null != S11 && (S11.activate(), E10.touchData.start = S11, E10.touchData.starts = C11, E10.nodeIsGrabbable(S11))) {
          var L11 = E10.dragData.touchDragEles = e11.collection(), N11 = null;
          E10.redrawHint("eles", true), E10.redrawHint("drag", true), S11.selected() ? F10(N11 = e11.$(function(t35) {
            return t35.selected() && E10.nodeIsGrabbable(t35);
          }), { addToList: L11 }) : F10(S11, { addToList: L11 }), O10(S11);
          var I11 = function(e12) {
            return { originalEvent: t34, type: e12, position: { x: r11[0], y: r11[1] } };
          };
          S11.emit(I11("grabon")), N11 ? N11.forEach(function(t35) {
            t35.emit(I11("grab"));
          }) : S11.emit(I11("grab"));
        }
        A10(S11, ["touchstart", "tapstart", "vmousedown"], t34, { x: r11[0], y: r11[1] }), null == S11 && (E10.data.bgActivePosistion = { x: x11[0], y: x11[1] }, E10.redrawHint("select", true), E10.redraw()), E10.touchData.singleTouchMoved = false, E10.touchData.singleTouchStartTime = +/* @__PURE__ */ new Date(), clearTimeout(E10.touchData.tapholdTimeout), E10.touchData.tapholdTimeout = setTimeout(function() {
          false !== E10.touchData.singleTouchMoved || E10.pinching || E10.touchData.selecting || A10(E10.touchData.start, ["taphold"], t34, { x: r11[0], y: r11[1] });
        }, E10.tapholdDuration);
      }
      if (t34.touches.length >= 1) {
        for (var M11 = E10.touchData.startPosition = [null, null, null, null, null, null], R11 = 0; R11 < r11.length; R11++) M11[R11] = v11[R11] = r11[R11];
        var D11 = t34.touches[0];
        E10.touchData.startGPosition = [D11.clientX, D11.clientY];
      }
    }
  }, false), E10.registerBinding(C10, "touchmove", x10 = function(t34) {
    var e11 = E10.touchData.capture;
    if (e11 || W10(t34)) {
      var r11 = E10.selection, h11 = E10.cy, g11 = E10.touchData.now, f11 = E10.touchData.earlier, v11 = h11.zoom();
      if (t34.touches[0]) {
        var x11 = E10.projectIntoViewport(t34.touches[0].clientX, t34.touches[0].clientY);
        g11[0] = x11[0], g11[1] = x11[1];
      }
      if (t34.touches[1]) {
        var x11 = E10.projectIntoViewport(t34.touches[1].clientX, t34.touches[1].clientY);
        g11[2] = x11[0], g11[3] = x11[1];
      }
      if (t34.touches[2]) {
        var x11 = E10.projectIntoViewport(t34.touches[2].clientX, t34.touches[2].clientY);
        g11[4] = x11[0], g11[5] = x11[1];
      }
      var b11 = E10.touchData.startGPosition;
      if (e11 && t34.touches[0] && b11) {
        for (var w11 = [], k11 = 0; k11 < g11.length; k11++) w11[k11] = g11[k11] - f11[k11];
        var _11 = t34.touches[0].clientX - b11[0], T11 = _11 * _11, C11 = t34.touches[0].clientY - b11[1];
        ti11 = T11 + C11 * C11 >= E10.touchTapThreshold2;
      }
      if (e11 && E10.touchData.cxt) {
        t34.preventDefault();
        var S11 = t34.touches[0].clientX - d10, L11 = t34.touches[0].clientY - p10, I11 = t34.touches[1].clientX - d10, M11 = t34.touches[1].clientY - p10, R11 = Z10(S11, L11, I11, M11);
        if (R11 / l10 >= 2.25 || R11 >= 22500) {
          E10.touchData.cxt = false, E10.data.bgActivePosistion = void 0, E10.redrawHint("select", true);
          var D11 = { originalEvent: t34, type: "cxttapend", position: { x: g11[0], y: g11[1] } };
          E10.touchData.start ? (E10.touchData.start.unactivate().emit(D11), E10.touchData.start = null) : h11.emit(D11);
        }
      }
      if (e11 && E10.touchData.cxt) {
        var D11 = { originalEvent: t34, type: "cxtdrag", position: { x: g11[0], y: g11[1] } };
        E10.data.bgActivePosistion = void 0, E10.redrawHint("select", true), E10.touchData.start ? E10.touchData.start.emit(D11) : h11.emit(D11), E10.touchData.start && (E10.touchData.start._private.grabbed = false), E10.touchData.cxtDragged = true;
        var O11 = E10.findNearestElement(g11[0], g11[1], true, true);
        (!E10.touchData.cxtOver || O11 !== E10.touchData.cxtOver) && (E10.touchData.cxtOver && E10.touchData.cxtOver.emit({ originalEvent: t34, type: "cxtdragout", position: { x: g11[0], y: g11[1] } }), E10.touchData.cxtOver = O11, O11 && O11.emit({ originalEvent: t34, type: "cxtdragover", position: { x: g11[0], y: g11[1] } }));
      } else if (e11 && t34.touches[2] && h11.boxSelectionEnabled()) t34.preventDefault(), E10.data.bgActivePosistion = void 0, this.lastThreeTouch = +/* @__PURE__ */ new Date(), E10.touchData.selecting || h11.emit({ originalEvent: t34, type: "boxstart", position: { x: g11[0], y: g11[1] } }), E10.touchData.selecting = true, E10.touchData.didSelect = true, r11[4] = 1, r11 && 0 !== r11.length && void 0 !== r11[0] ? (r11[2] = (g11[0] + g11[2] + g11[4]) / 3, r11[3] = (g11[1] + g11[3] + g11[5]) / 3) : (r11[0] = (g11[0] + g11[2] + g11[4]) / 3, r11[1] = (g11[1] + g11[3] + g11[5]) / 3, r11[2] = (g11[0] + g11[2] + g11[4]) / 3 + 1, r11[3] = (g11[1] + g11[3] + g11[5]) / 3 + 1), E10.redrawHint("select", true), E10.redraw();
      else if (e11 && t34.touches[1] && !E10.touchData.didSelect && h11.zoomingEnabled() && h11.panningEnabled() && h11.userZoomingEnabled() && h11.userPanningEnabled()) {
        t34.preventDefault(), E10.data.bgActivePosistion = void 0, E10.redrawHint("select", true);
        var P11 = E10.dragData.touchDragEles;
        if (P11) {
          E10.redrawHint("drag", true);
          for (var $11 = 0; $11 < P11.length; $11++) {
            var B11 = P11[$11]._private;
            B11.grabbed = false, B11.rscratch.inDragLayer = false;
          }
        }
        var U11 = E10.touchData.start, S11 = t34.touches[0].clientX - d10, L11 = t34.touches[0].clientY - p10, I11 = t34.touches[1].clientX - d10, M11 = t34.touches[1].clientY - p10, G11 = K10(S11, L11, I11, M11), q11 = G11 / s10;
        if (y10) {
          var Y11 = S11 - i10, H11 = L11 - n10, j11 = I11 - a10, V11 = M11 - o10, X11 = h11.zoom(), Q11 = X11 * q11, J11 = h11.pan(), tt11 = u10[0] * X11 + J11.x, te11 = u10[1] * X11 + J11.y, tr11 = { x: -Q11 / X11 * (tt11 - J11.x - (Y11 + j11) / 2) + tt11, y: -Q11 / X11 * (te11 - J11.y - (H11 + V11) / 2) + te11 };
          if (U11 && U11.active()) {
            var P11 = E10.dragData.touchDragEles;
            z10(P11), E10.redrawHint("drag", true), E10.redrawHint("eles", true), U11.unactivate().emit("freeon"), P11.emit("free"), E10.dragData.didDrag && (U11.emit("dragfreeon"), P11.emit("dragfree"));
          }
          h11.viewport({ zoom: Q11, pan: tr11, cancelOnFailedZoom: true }), h11.emit("pinchzoom"), s10 = G11, i10 = S11, n10 = L11, a10 = I11, o10 = M11, E10.pinching = true;
        }
        if (t34.touches[0]) {
          var x11 = E10.projectIntoViewport(t34.touches[0].clientX, t34.touches[0].clientY);
          g11[0] = x11[0], g11[1] = x11[1];
        }
        if (t34.touches[1]) {
          var x11 = E10.projectIntoViewport(t34.touches[1].clientX, t34.touches[1].clientY);
          g11[2] = x11[0], g11[3] = x11[1];
        }
        if (t34.touches[2]) {
          var x11 = E10.projectIntoViewport(t34.touches[2].clientX, t34.touches[2].clientY);
          g11[4] = x11[0], g11[5] = x11[1];
        }
      } else if (t34.touches[0] && !E10.touchData.didSelect) {
        var ti11, O11, tn11 = E10.touchData.start, ta10 = E10.touchData.last;
        if (E10.hoverData.draggingEles || E10.swipePanning || (O11 = E10.findNearestElement(g11[0], g11[1], true, true)), e11 && null != tn11 && t34.preventDefault(), e11 && null != tn11 && E10.nodeIsDraggable(tn11)) {
          if (ti11) {
            var P11 = E10.dragData.touchDragEles, to10 = !E10.dragData.didDrag;
            to10 && F10(P11, { inDragLayer: true }), E10.dragData.didDrag = true;
            var ts2 = { x: 0, y: 0 };
            if (Hf(w11[0]) && Hf(w11[1]) && (ts2.x += w11[0], ts2.y += w11[1], to10)) {
              E10.redrawHint("eles", true);
              var tl2 = E10.touchData.dragDelta;
              tl2 && Hf(tl2[0]) && Hf(tl2[1]) && (ts2.x += tl2[0], ts2.y += tl2[1]);
            }
            E10.hoverData.draggingEles = true, P11.silentShift(ts2).emit("position drag"), E10.redrawHint("drag", true), E10.touchData.startPosition[0] == f11[0] && E10.touchData.startPosition[1] == f11[1] && E10.redrawHint("eles", true), E10.redraw();
          } else {
            var tl2 = E10.touchData.dragDelta = E10.touchData.dragDelta || [];
            0 === tl2.length ? (tl2.push(w11[0]), tl2.push(w11[1])) : (tl2[0] += w11[0], tl2[1] += w11[1]);
          }
        }
        if (A10(tn11 || O11, ["touchmove", "tapdrag", "vmousemove"], t34, { x: g11[0], y: g11[1] }), tn11 && tn11.grabbed() || O11 == ta10 || (ta10 && ta10.emit({ originalEvent: t34, type: "tapdragout", position: { x: g11[0], y: g11[1] } }), O11 && O11.emit({ originalEvent: t34, type: "tapdragover", position: { x: g11[0], y: g11[1] } })), E10.touchData.last = O11, e11) for (var $11 = 0; $11 < g11.length; $11++) g11[$11] && E10.touchData.startPosition[$11] && ti11 && (E10.touchData.singleTouchMoved = true);
        if (e11 && (null == tn11 || tn11.pannable()) && h11.panningEnabled() && h11.userPanningEnabled()) {
          N10(tn11, E10.touchData.starts) && (t34.preventDefault(), E10.data.bgActivePosistion || (E10.data.bgActivePosistion = j4(E10.touchData.startPosition)), E10.swipePanning ? (h11.panBy({ x: w11[0] * v11, y: w11[1] * v11 }), h11.emit("dragpan")) : ti11 && (E10.swipePanning = true, h11.panBy({ x: _11 * v11, y: C11 * v11 }), h11.emit("dragpan"), tn11 && (tn11.unactivate(), E10.redrawHint("select", true), E10.touchData.start = null)));
          var x11 = E10.projectIntoViewport(t34.touches[0].clientX, t34.touches[0].clientY);
          g11[0] = x11[0], g11[1] = x11[1];
        }
      }
      for (var k11 = 0; k11 < g11.length; k11++) f11[k11] = g11[k11];
      e11 && t34.touches.length > 0 && !E10.hoverData.draggingEles && !E10.swipePanning && null != E10.data.bgActivePosistion && (E10.data.bgActivePosistion = void 0, E10.redrawHint("select", true), E10.redraw());
    }
  }, false), E10.registerBinding(C10, "touchcancel", b10 = function(t34) {
    var e11 = E10.touchData.start;
    E10.touchData.capture = false, e11 && e11.unactivate();
  }), E10.registerBinding(C10, "touchend", w10 = function(t34) {
    var e11, r11 = E10.touchData.start;
    if (E10.touchData.capture) {
      0 === t34.touches.length && (E10.touchData.capture = false), t34.preventDefault();
      var i11 = E10.selection;
      E10.swipePanning = false, E10.hoverData.draggingEles = false;
      var n11 = E10.cy, a11 = n11.zoom(), o11 = E10.touchData.now, s11 = E10.touchData.earlier;
      if (t34.touches[0]) {
        var l11 = E10.projectIntoViewport(t34.touches[0].clientX, t34.touches[0].clientY);
        o11[0] = l11[0], o11[1] = l11[1];
      }
      if (t34.touches[1]) {
        var l11 = E10.projectIntoViewport(t34.touches[1].clientX, t34.touches[1].clientY);
        o11[2] = l11[0], o11[3] = l11[1];
      }
      if (t34.touches[2]) {
        var l11 = E10.projectIntoViewport(t34.touches[2].clientX, t34.touches[2].clientY);
        o11[4] = l11[0], o11[5] = l11[1];
      }
      if (r11 && r11.unactivate(), E10.touchData.cxt) {
        if (e11 = { originalEvent: t34, type: "cxttapend", position: { x: o11[0], y: o11[1] } }, r11 ? r11.emit(e11) : n11.emit(e11), !E10.touchData.cxtDragged) {
          var h11 = { originalEvent: t34, type: "cxttap", position: { x: o11[0], y: o11[1] } };
          r11 ? r11.emit(h11) : n11.emit(h11);
        }
        E10.touchData.start && (E10.touchData.start._private.grabbed = false), E10.touchData.cxt = false, E10.touchData.start = null, E10.redraw();
        return;
      }
      if (!t34.touches[2] && n11.boxSelectionEnabled() && E10.touchData.selecting) {
        E10.touchData.selecting = false;
        var u11 = n11.collection(E10.getAllInBox(i11[0], i11[1], i11[2], i11[3]));
        i11[0] = void 0, i11[1] = void 0, i11[2] = void 0, i11[3] = void 0, i11[4] = 0, E10.redrawHint("select", true), n11.emit({ type: "boxend", originalEvent: t34, position: { x: o11[0], y: o11[1] } }), u11.emit("box").stdFilter(function(t35) {
          return t35.selectable() && !t35.selected();
        }).select().emit("boxselect"), u11.nonempty() && E10.redrawHint("eles", true), E10.redraw();
      }
      if (null != r11 && r11.unactivate(), t34.touches[2]) E10.data.bgActivePosistion = void 0, E10.redrawHint("select", true);
      else if (t34.touches[1]) ;
      else if (t34.touches[0]) ;
      else if (!t34.touches[0]) {
        E10.data.bgActivePosistion = void 0, E10.redrawHint("select", true);
        var d11 = E10.dragData.touchDragEles;
        if (null != r11) {
          var p11 = r11._private.grabbed;
          z10(d11), E10.redrawHint("drag", true), E10.redrawHint("eles", true), p11 && (r11.emit("freeon"), d11.emit("free"), E10.dragData.didDrag && (r11.emit("dragfreeon"), d11.emit("dragfree"))), A10(r11, ["touchend", "tapend", "vmouseup", "tapdragout"], t34, { x: o11[0], y: o11[1] }), r11.unactivate(), E10.touchData.start = null;
        } else A10(E10.findNearestElement(o11[0], o11[1], true, true), ["touchend", "tapend", "vmouseup", "tapdragout"], t34, { x: o11[0], y: o11[1] });
        var g11 = E10.touchData.startPosition[0] - o11[0], f11 = E10.touchData.startPosition[1] - o11[1];
        E10.touchData.singleTouchMoved || (r11 || n11.$(":selected").unselect(["tapunselect"]), A10(r11, ["tap", "vclick"], t34, { x: o11[0], y: o11[1] }), k10 = false, t34.timeStamp - T10 <= n11.multiClickDebounceTime() ? (_10 && clearTimeout(_10), k10 = true, T10 = null, A10(r11, ["dbltap", "vdblclick"], t34, { x: o11[0], y: o11[1] })) : (_10 = setTimeout(function() {
          k10 || A10(r11, ["onetap", "voneclick"], t34, { x: o11[0], y: o11[1] });
        }, n11.multiClickDebounceTime()), T10 = t34.timeStamp)), null != r11 && !E10.dragData.didDrag && r11._private.selectable && (g11 * g11 + f11 * f11) * a11 * a11 < E10.touchTapThreshold2 && !E10.pinching && ("single" === n11.selectionType() ? (n11.$(S10).unmerge(r11).unselect(["tapunselect"]), r11.select(["tapselect"])) : r11.selected() ? r11.unselect(["tapunselect"]) : r11.select(["tapselect"]), E10.redrawHint("eles", true)), E10.touchData.singleTouchMoved = true;
      }
      for (var y11 = 0; y11 < o11.length; y11++) s11[y11] = o11[y11];
      E10.dragData.didDrag = false, 0 === t34.touches.length && (E10.touchData.dragDelta = [], E10.touchData.startPosition = [null, null, null, null, null, null], E10.touchData.startGPosition = null, E10.touchData.didSelect = false), t34.touches.length < 2 && (1 === t34.touches.length && (E10.touchData.startGPosition = [t34.touches[0].clientX, t34.touches[0].clientY]), E10.pinching = false, E10.redrawHint("eles", true), E10.redraw());
    }
  }, false), "undefined" == typeof TouchEvent) {
    var Q10 = [], J10 = function(t34) {
      return { clientX: t34.clientX, clientY: t34.clientY, force: 1, identifier: t34.pointerId, pageX: t34.pageX, pageY: t34.pageY, radiusX: t34.width / 2, radiusY: t34.height / 2, screenX: t34.screenX, screenY: t34.screenY, target: t34.target };
    }, tt10 = function(t34) {
      Q10.push({ event: t34, touch: J10(t34) });
    }, te10 = function(t34) {
      for (var e11 = 0; e11 < Q10.length; e11++) if (Q10[e11].event.pointerId === t34.pointerId) {
        Q10.splice(e11, 1);
        return;
      }
    }, tr10 = function(t34) {
      var e11 = Q10.filter(function(e12) {
        return e12.event.pointerId === t34.pointerId;
      })[0];
      e11.event = t34, e11.touch = J10(t34);
    }, ti10 = function(t34) {
      t34.touches = Q10.map(function(t35) {
        return t35.touch;
      });
    }, tn10 = function(t34) {
      return "mouse" === t34.pointerType || 4 === t34.pointerType;
    };
    E10.registerBinding(E10.container, "pointerdown", function(t34) {
      tn10(t34) || (t34.preventDefault(), tt10(t34), ti10(t34), v10(t34));
    }), E10.registerBinding(E10.container, "pointerup", function(t34) {
      tn10(t34) || (te10(t34), ti10(t34), w10(t34));
    }), E10.registerBinding(E10.container, "pointercancel", function(t34) {
      tn10(t34) || (te10(t34), ti10(t34), b10(t34));
    }), E10.registerBinding(E10.container, "pointermove", function(t34) {
      tn10(t34) || (t34.preventDefault(), tr10(t34), ti10(t34), x10(t34));
    });
  }
};
var te9 = {};
te9.generatePolygon = function(t33, e10) {
  return this.nodeShapes[t33] = { renderer: this, name: t33, points: e10, draw: function(t34, e11, r10, i10, n10, a10) {
    this.renderer.nodeShapeImpl("polygon", t34, e11, r10, i10, n10, this.points);
  }, intersectLine: function(t34, e11, r10, i10, n10, a10, o10, s10) {
    return WO(n10, a10, this.points, t34, e11, r10 / 2, i10 / 2, o10);
  }, checkPoint: function(t34, e11, r10, i10, n10, a10, o10, s10) {
    return WC(t34, e11, this.points, a10, o10, i10, n10, [0, -1], r10);
  } };
}, te9.generateEllipse = function() {
  return this.nodeShapes.ellipse = { renderer: this, name: "ellipse", draw: function(t33, e10, r10, i10, n10, a10) {
    this.renderer.nodeShapeImpl(this.name, t33, e10, r10, i10, n10);
  }, intersectLine: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    return WN(n10, a10, t33, e10, r10 / 2 + o10, i10 / 2 + o10);
  }, checkPoint: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    return WI(t33, e10, i10, n10, a10, o10, r10);
  } };
}, te9.generateRoundPolygon = function(t33, e10) {
  return this.nodeShapes[t33] = { renderer: this, name: t33, points: e10, getOrCreateCorners: function(t34, r10, i10, n10, a10, o10, s10) {
    if (void 0 !== o10[s10] && o10[s10 + "-cx"] === t34 && o10[s10 + "-cy"] === r10) return o10[s10];
    o10[s10] = Array(e10.length / 2), o10[s10 + "-cx"] = t34, o10[s10 + "-cy"] = r10;
    var l10 = i10 / 2, h10 = n10 / 2;
    a10 = "auto" === a10 ? WG(i10, n10) : a10;
    for (var u10 = Array(e10.length / 2), d10 = 0; d10 < e10.length / 2; d10++) u10[d10] = { x: t34 + l10 * e10[2 * d10], y: r10 + h10 * e10[2 * d10 + 1] };
    var p10, g10, f10, y10, v10 = u10.length;
    for (p10 = 0, g10 = u10[v10 - 1]; p10 < v10; p10++) f10 = u10[p10 % v10], y10 = u10[(p10 + 1) % v10], o10[s10][p10] = teW(g10, f10, y10, a10), g10 = f10, f10 = y10;
    return o10[s10];
  }, draw: function(t34, e11, r10, i10, n10, a10, o10) {
    this.renderer.nodeShapeImpl("round-polygon", t34, e11, r10, i10, n10, this.points, this.getOrCreateCorners(e11, r10, i10, n10, a10, o10, "drawCorners"));
  }, intersectLine: function(t34, e11, r10, i10, n10, a10, o10, s10, l10) {
    return WP(n10, a10, this.points, t34, e11, r10, i10, o10, this.getOrCreateCorners(t34, e11, r10, i10, s10, l10, "corners"));
  }, checkPoint: function(t34, e11, r10, i10, n10, a10, o10, s10, l10) {
    return WS(t34, e11, this.points, a10, o10, i10, n10, this.getOrCreateCorners(a10, o10, i10, n10, s10, l10, "corners"));
  } };
}, te9.generateRoundRectangle = function() {
  return this.nodeShapes["round-rectangle"] = this.nodeShapes.roundrectangle = { renderer: this, name: "round-rectangle", points: WB(4, 0), draw: function(t33, e10, r10, i10, n10, a10) {
    this.renderer.nodeShapeImpl(this.name, t33, e10, r10, i10, n10, this.points, a10);
  }, intersectLine: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    return Wv(n10, a10, t33, e10, r10, i10, o10, s10);
  }, checkPoint: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    var l10 = i10 / 2, h10 = n10 / 2, u10 = 2 * (s10 = Math.min(l10, h10, s10 = "auto" === s10 ? WU(i10, n10) : s10));
    return !!(WC(t33, e10, this.points, a10, o10, i10, n10 - u10, [0, -1], r10) || WC(t33, e10, this.points, a10, o10, i10 - u10, n10, [0, -1], r10) || WI(t33, e10, u10, u10, a10 - l10 + s10, o10 - h10 + s10, r10) || WI(t33, e10, u10, u10, a10 + l10 - s10, o10 - h10 + s10, r10) || WI(t33, e10, u10, u10, a10 + l10 - s10, o10 + h10 - s10, r10) || WI(t33, e10, u10, u10, a10 - l10 + s10, o10 + h10 - s10, r10));
  } };
}, te9.generateCutRectangle = function() {
  return this.nodeShapes["cut-rectangle"] = this.nodeShapes.cutrectangle = { renderer: this, name: "cut-rectangle", cornerLength: Wq(), points: WB(4, 0), draw: function(t33, e10, r10, i10, n10, a10) {
    this.renderer.nodeShapeImpl(this.name, t33, e10, r10, i10, n10, null, a10);
  }, generateCutTrianglePts: function(t33, e10, r10, i10, n10) {
    var a10 = "auto" === n10 ? this.cornerLength : n10, o10 = e10 / 2, s10 = t33 / 2, l10 = r10 - s10, h10 = r10 + s10, u10 = i10 - o10, d10 = i10 + o10;
    return { topLeft: [l10, u10 + a10, l10 + a10, u10, l10 + a10, u10 + a10], topRight: [h10 - a10, u10, h10, u10 + a10, h10 - a10, u10 + a10], bottomRight: [h10, d10 - a10, h10 - a10, d10, h10 - a10, d10 - a10], bottomLeft: [l10 + a10, d10, l10, d10 - a10, l10 + a10, d10 - a10] };
  }, intersectLine: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    var l10 = this.generateCutTrianglePts(r10 + 2 * o10, i10 + 2 * o10, t33, e10, s10);
    return WO(n10, a10, [].concat.apply([], [l10.topLeft.splice(0, 4), l10.topRight.splice(0, 4), l10.bottomRight.splice(0, 4), l10.bottomLeft.splice(0, 4)]), t33, e10);
  }, checkPoint: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    var l10 = "auto" === s10 ? this.cornerLength : s10;
    if (WC(t33, e10, this.points, a10, o10, i10, n10 - 2 * l10, [0, -1], r10) || WC(t33, e10, this.points, a10, o10, i10 - 2 * l10, n10, [0, -1], r10)) return true;
    var h10 = this.generateCutTrianglePts(i10, n10, a10, o10);
    return WE(t33, e10, h10.topLeft) || WE(t33, e10, h10.topRight) || WE(t33, e10, h10.bottomRight) || WE(t33, e10, h10.bottomLeft);
  } };
}, te9.generateBarrel = function() {
  return this.nodeShapes.barrel = { renderer: this, name: "barrel", points: WB(4, 0), draw: function(t33, e10, r10, i10, n10, a10) {
    this.renderer.nodeShapeImpl(this.name, t33, e10, r10, i10, n10);
  }, intersectLine: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    var l10 = this.generateBarrelBezierPts(r10 + 2 * o10, i10 + 2 * o10, t33, e10), h10 = function(t34) {
      var e11 = Wa({ x: t34[0], y: t34[1] }, { x: t34[2], y: t34[3] }, { x: t34[4], y: t34[5] }, 0.15), r11 = Wa({ x: t34[0], y: t34[1] }, { x: t34[2], y: t34[3] }, { x: t34[4], y: t34[5] }, 0.5), i11 = Wa({ x: t34[0], y: t34[1] }, { x: t34[2], y: t34[3] }, { x: t34[4], y: t34[5] }, 0.85);
      return [t34[0], t34[1], e11.x, e11.y, r11.x, r11.y, i11.x, i11.y, t34[4], t34[5]];
    };
    return WO(n10, a10, [].concat(h10(l10.topLeft), h10(l10.topRight), h10(l10.bottomRight), h10(l10.bottomLeft)), t33, e10);
  }, generateBarrelBezierPts: function(t33, e10, r10, i10) {
    var n10 = e10 / 2, a10 = t33 / 2, o10 = r10 - a10, s10 = r10 + a10, l10 = i10 - n10, h10 = i10 + n10, u10 = WY(t33, e10), d10 = u10.heightOffset, p10 = u10.widthOffset, g10 = u10.ctrlPtOffsetPct * t33, f10 = { topLeft: [o10, l10 + d10, o10 + g10, l10, o10 + p10, l10], topRight: [s10 - p10, l10, s10 - g10, l10, s10, l10 + d10], bottomRight: [s10, h10 - d10, s10 - g10, h10, s10 - p10, h10], bottomLeft: [o10 + p10, h10, o10 + g10, h10, o10, h10 - d10] };
    return f10.topLeft.isTop = true, f10.topRight.isTop = true, f10.bottomLeft.isBottom = true, f10.bottomRight.isBottom = true, f10;
  }, checkPoint: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    var l10 = WY(i10, n10), h10 = l10.heightOffset, u10 = l10.widthOffset;
    if (WC(t33, e10, this.points, a10, o10, i10, n10 - 2 * h10, [0, -1], r10) || WC(t33, e10, this.points, a10, o10, i10 - 2 * u10, n10, [0, -1], r10)) return true;
    for (var d10 = this.generateBarrelBezierPts(i10, n10, a10, o10), p10 = Object.keys(d10), g10 = 0; g10 < p10.length; g10++) {
      var f10 = d10[p10[g10]], y10 = function(t34, e11, r11) {
        var i11 = r11[4], n11 = r11[2], a11 = r11[0], o11 = r11[5], s11 = r11[1], l11 = Math.min(i11, a11), h11 = Math.max(i11, a11), u11 = Math.min(o11, s11), d11 = Math.max(o11, s11);
        if (l11 <= t34 && t34 <= h11 && u11 <= e11 && e11 <= d11) {
          var p11 = [i11 - 2 * n11 + a11, 2 * (n11 - i11), i11], g11 = Ww(p11[0], p11[1], p11[2], t34).filter(function(t35) {
            return 0 <= t35 && t35 <= 1;
          });
          if (g11.length > 0) return g11[0];
        }
        return null;
      }(t33, e10, f10);
      if (null != y10) {
        var v10 = Wn(f10[5], f10[3], f10[1], y10);
        if (f10.isTop && v10 <= e10 || f10.isBottom && e10 <= v10) return true;
      }
    }
    return false;
  } };
}, te9.generateBottomRoundrectangle = function() {
  return this.nodeShapes["bottom-round-rectangle"] = this.nodeShapes.bottomroundrectangle = { renderer: this, name: "bottom-round-rectangle", points: WB(4, 0), draw: function(t33, e10, r10, i10, n10, a10) {
    this.renderer.nodeShapeImpl(this.name, t33, e10, r10, i10, n10, this.points, a10);
  }, intersectLine: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    var l10 = t33 - (r10 / 2 + o10), h10 = e10 - (i10 / 2 + o10), u10 = t33 + (r10 / 2 + o10), d10 = WD(n10, a10, t33, e10, l10, h10, u10, h10, false);
    return d10.length > 0 ? d10 : Wv(n10, a10, t33, e10, r10, i10, o10, s10);
  }, checkPoint: function(t33, e10, r10, i10, n10, a10, o10, s10) {
    var l10 = 2 * (s10 = "auto" === s10 ? WU(i10, n10) : s10);
    if (WC(t33, e10, this.points, a10, o10, i10, n10 - l10, [0, -1], r10) || WC(t33, e10, this.points, a10, o10, i10 - l10, n10, [0, -1], r10)) return true;
    var h10 = i10 / 2 + 2 * r10, u10 = n10 / 2 + 2 * r10;
    return !!(WE(t33, e10, [a10 - h10, o10 - u10, a10 - h10, o10, a10 + h10, o10, a10 + h10, o10 - u10]) || WI(t33, e10, l10, l10, a10 + i10 / 2 - s10, o10 + n10 / 2 - s10, r10) || WI(t33, e10, l10, l10, a10 - i10 / 2 + s10, o10 + n10 / 2 - s10, r10));
  } };
}, te9.registerNodeShapes = function() {
  var t33 = this.nodeShapes = {}, e10 = this;
  this.generateEllipse(), this.generatePolygon("triangle", WB(3, 0)), this.generateRoundPolygon("round-triangle", WB(3, 0)), this.generatePolygon("rectangle", WB(4, 0)), t33.square = t33.rectangle, this.generateRoundRectangle(), this.generateCutRectangle(), this.generateBarrel(), this.generateBottomRoundrectangle();
  var r10 = [0, 1, 1, 0, 0, -1, -1, 0];
  this.generatePolygon("diamond", r10), this.generateRoundPolygon("round-diamond", r10), this.generatePolygon("pentagon", WB(5, 0)), this.generateRoundPolygon("round-pentagon", WB(5, 0)), this.generatePolygon("hexagon", WB(6, 0)), this.generateRoundPolygon("round-hexagon", WB(6, 0)), this.generatePolygon("heptagon", WB(7, 0)), this.generateRoundPolygon("round-heptagon", WB(7, 0)), this.generatePolygon("octagon", WB(8, 0)), this.generateRoundPolygon("round-octagon", WB(8, 0));
  var i10 = Array(20), n10 = Wz(5, 0), a10 = Wz(5, Math.PI / 5), o10 = 0.5 * (3 - Math.sqrt(5));
  o10 *= 1.57;
  for (var s10 = 0; s10 < a10.length / 2; s10++) a10[2 * s10] *= o10, a10[2 * s10 + 1] *= o10;
  for (var s10 = 0; s10 < 5; s10++) i10[4 * s10] = n10[2 * s10], i10[4 * s10 + 1] = n10[2 * s10 + 1], i10[4 * s10 + 2] = a10[2 * s10], i10[4 * s10 + 3] = a10[2 * s10 + 1];
  i10 = WF(i10), this.generatePolygon("star", i10), this.generatePolygon("vee", [-1, -1, 0, -0.333, 1, -1, 0, 1]), this.generatePolygon("rhomboid", [-1, -1, 0.333, -1, 1, 1, -0.333, 1]), this.generatePolygon("right-rhomboid", [-0.333, -1, 1, -1, 0.333, 1, -1, 1]), this.nodeShapes.concavehexagon = this.generatePolygon("concave-hexagon", [-1, -0.95, -0.75, 0, -1, 0.95, 1, 0.95, 0.75, 0, 1, -0.95]);
  var l10 = [-1, -1, 0.25, -1, 1, 0, 0.25, 1, -1, 1];
  this.generatePolygon("tag", l10), this.generateRoundPolygon("round-tag", l10), t33.makePolygon = function(t34) {
    var r11, i11 = "polygon-" + t34.join("$");
    return (r11 = this[i11]) ? r11 : e10.generatePolygon(i11, t34);
  };
};
var trt = {};
trt.timeToRender = function() {
  return this.redrawTotalTime / this.redrawCount;
}, trt.redraw = function(t33) {
  t33 = t33 || jR(), void 0 === this.averageRedrawTime && (this.averageRedrawTime = 0), void 0 === this.lastRedrawTime && (this.lastRedrawTime = 0), void 0 === this.lastDrawTime && (this.lastDrawTime = 0), this.requestedFrame = true, this.renderOptions = t33;
}, trt.beforeRender = function(t33, e10) {
  if (!this.destroyed) {
    null == e10 && jS("Priority is not optional for beforeRender");
    var r10 = this.beforeRenderCallbacks;
    r10.push({ fn: t33, priority: e10 }), r10.sort(function(t34, e11) {
      return e11.priority - t34.priority;
    });
  }
};
var tre = function(t33, e10, r10) {
  for (var i10 = t33.beforeRenderCallbacks, n10 = 0; n10 < i10.length; n10++) i10[n10].fn(e10, r10);
};
trt.startRenderLoop = function() {
  var t33 = this, e10 = t33.cy;
  t33.renderLoopStarted || (t33.renderLoopStarted = true, jh(function r10(i10) {
    if (!t33.destroyed) {
      if (e10.batching()) ;
      else if (t33.requestedFrame && !t33.skipFrame) {
        tre(t33, true, i10);
        var n10 = js();
        t33.render(t33.renderOptions);
        var a10 = t33.lastDrawTime = js();
        void 0 === t33.averageRedrawTime && (t33.averageRedrawTime = a10 - n10), void 0 === t33.redrawCount && (t33.redrawCount = 0), t33.redrawCount++, void 0 === t33.redrawTotalTime && (t33.redrawTotalTime = 0);
        var o10 = a10 - n10;
        t33.redrawTotalTime += o10, t33.lastRedrawTime = o10, t33.averageRedrawTime = t33.averageRedrawTime / 2 + o10 / 2, t33.requestedFrame = false;
      } else tre(t33, false, i10);
      t33.skipFrame = false, jh(r10);
    }
  }));
};
var trr = function(t33) {
  this.init(t33);
}, tri = trr.prototype;
tri.clientFunctions = ["redrawHint", "render", "renderTo", "matchCanvasSize", "nodeShapeImpl", "arrowShapeImpl"], tri.init = function(t33) {
  this.options = t33, this.cy = t33.cy;
  var e10 = this.container = t33.cy.container(), r10 = this.cy.window();
  if (r10) {
    var i10 = r10.document, n10 = i10.head, a10 = "__________cytoscape_stylesheet", o10 = "__________cytoscape_container", s10 = null != i10.getElementById(a10);
    if (0 > e10.className.indexOf(o10) && (e10.className = (e10.className || "") + " " + o10), !s10) {
      var l10 = i10.createElement("style");
      l10.id = a10, l10.textContent = "." + o10 + " { position: relative; }", n10.insertBefore(l10, n10.children[0]);
    }
    "static" === r10.getComputedStyle(e10).getPropertyValue("position") && jL("A Cytoscape container has style position:static and so can not use UI extensions properly");
  }
  this.selection = [void 0, void 0, void 0, void 0, 0], this.bezierProjPcts = [0.05, 0.225, 0.4, 0.5, 0.6, 0.775, 0.95], this.hoverData = { down: null, last: null, downTime: null, triggerMode: null, dragging: false, initialPan: [null, null], capture: false }, this.dragData = { possibleDragElements: [] }, this.touchData = { start: null, capture: false, startPosition: [null, null, null, null, null, null], singleTouchStartTime: null, singleTouchMoved: true, now: [null, null, null, null, null, null], earlier: [null, null, null, null, null, null] }, this.redraws = 0, this.showFps = t33.showFps, this.debug = t33.debug, this.hideEdgesOnViewport = t33.hideEdgesOnViewport, this.textureOnViewport = t33.textureOnViewport, this.wheelSensitivity = t33.wheelSensitivity, this.motionBlurEnabled = t33.motionBlur, this.forcedPixelRatio = Hf(t33.pixelRatio) ? t33.pixelRatio : null, this.motionBlur = t33.motionBlur, this.motionBlurOpacity = t33.motionBlurOpacity, this.motionBlurTransparency = 1 - this.motionBlurOpacity, this.motionBlurPxRatio = 1, this.mbPxRBlurry = 1, this.minMbLowQualFrames = 4, this.fullQualityMb = false, this.clearedForMotionBlur = [], this.desktopTapThreshold = t33.desktopTapThreshold, this.desktopTapThreshold2 = t33.desktopTapThreshold * t33.desktopTapThreshold, this.touchTapThreshold = t33.touchTapThreshold, this.touchTapThreshold2 = t33.touchTapThreshold * t33.touchTapThreshold, this.tapholdDuration = 500, this.bindings = [], this.beforeRenderCallbacks = [], this.beforeRenderPriorities = { animations: 400, eleCalcs: 300, eleTxrDeq: 200, lyrTxrDeq: 150, lyrTxrSkip: 100 }, this.registerNodeShapes(), this.registerArrowShapes(), this.registerCalculationListeners();
}, tri.notify = function(t33, e10) {
  var r10 = this.cy;
  if (!this.destroyed) {
    if ("init" === t33) {
      this.load();
      return;
    }
    if ("destroy" === t33) {
      this.destroy();
      return;
    }
    ("add" === t33 || "remove" === t33 || "move" === t33 && r10.hasCompoundNodes() || "load" === t33 || "zorder" === t33 || "mount" === t33) && this.invalidateCachedZSortedEles(), "viewport" === t33 && this.redrawHint("select", true), ("load" === t33 || "resize" === t33 || "mount" === t33) && (this.invalidateContainerClientCoordsCache(), this.matchCanvasSize(this.container)), this.redrawHint("eles", true), this.redrawHint("drag", true), this.startRenderLoop(), this.redraw();
  }
}, tri.destroy = function() {
  this.destroyed = true, this.cy.stopAnimationLoop();
  for (var t33 = 0; t33 < this.bindings.length; t33++) {
    var e10 = this.bindings[t33], r10 = e10.target;
    (r10.off || r10.removeEventListener).apply(r10, e10.args);
  }
  if (this.bindings = [], this.beforeRenderCallbacks = [], this.onUpdateEleCalcsFns = [], this.removeObserver && this.removeObserver.disconnect(), this.styleObserver && this.styleObserver.disconnect(), this.resizeObserver && this.resizeObserver.disconnect(), this.labelCalcDiv) try {
    document.body.removeChild(this.labelCalcDiv);
  } catch (t34) {
  }
}, tri.isHeadless = function() {
  return false;
}, [Qu, te6, te7, te8, te9, trt].forEach(function(t33) {
  HO(tri, t33);
});
var trn = 1e3 / 60, tra = function(t33) {
  return function() {
    var e10 = this, r10 = this.renderer;
    if (!e10.dequeueingSetup) {
      e10.dequeueingSetup = true;
      var i10 = ja(function() {
        r10.redrawHint("eles", true), r10.redrawHint("drag", true), r10.redraw();
      }, t33.deqRedrawThreshold), n10 = t33.priority || jC;
      r10.beforeRender(function(n11, a10) {
        var o10 = js(), s10 = r10.averageRedrawTime, l10 = r10.lastRedrawTime, h10 = [], u10 = r10.cy.extent(), d10 = r10.getPixelRatio();
        for (n11 || r10.flushRenderedStyleQueue(); ; ) {
          var p10 = js(), g10 = p10 - o10, f10 = p10 - a10;
          if (l10 < trn) {
            var y10 = trn - (n11 ? s10 : 0);
            if (f10 >= t33.deqFastCost * y10) break;
          } else if (n11) {
            if (g10 >= t33.deqCost * l10 || g10 >= t33.deqAvgCost * s10) break;
          } else if (f10 >= t33.deqNoDrawCost * trn) break;
          var v10 = t33.deq(e10, d10, u10);
          if (v10.length > 0) for (var x10 = 0; x10 < v10.length; x10++) h10.push(v10[x10]);
          else break;
        }
        h10.length > 0 && (t33.onDeqd(e10, h10), !n11 && t33.shouldRedraw(e10, h10, d10, u10) && i10());
      }, n10(e10));
    }
  };
}, tro = function() {
  function t33(e10) {
    var r10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : jT;
    Y7(this, t33), this.idsByKey = new jU(), this.keyForId = new jU(), this.cachesByLvl = new jU(), this.lvls = [], this.getKey = e10, this.doesEleInvalidateKey = r10;
  }
  return Y8(t33, [{ key: "getIdsFor", value: function(t34) {
    null == t34 && jS("Can not get id list for null key");
    var e10 = this.idsByKey, r10 = this.idsByKey.get(t34);
    return r10 || (r10 = new jq(), e10.set(t34, r10)), r10;
  } }, { key: "addIdForKey", value: function(t34, e10) {
    null != t34 && this.getIdsFor(t34).add(e10);
  } }, { key: "deleteIdForKey", value: function(t34, e10) {
    null != t34 && this.getIdsFor(t34).delete(e10);
  } }, { key: "getNumberOfIdsForKey", value: function(t34) {
    return null == t34 ? 0 : this.getIdsFor(t34).size;
  } }, { key: "updateKeyMappingFor", value: function(t34) {
    var e10 = t34.id(), r10 = this.keyForId.get(e10), i10 = this.getKey(t34);
    this.deleteIdForKey(r10, e10), this.addIdForKey(i10, e10), this.keyForId.set(e10, i10);
  } }, { key: "deleteKeyMappingFor", value: function(t34) {
    var e10 = t34.id(), r10 = this.keyForId.get(e10);
    this.deleteIdForKey(r10, e10), this.keyForId.delete(e10);
  } }, { key: "keyHasChangedFor", value: function(t34) {
    var e10 = t34.id();
    return this.keyForId.get(e10) !== this.getKey(t34);
  } }, { key: "isInvalid", value: function(t34) {
    return this.keyHasChangedFor(t34) || this.doesEleInvalidateKey(t34);
  } }, { key: "getCachesAt", value: function(t34) {
    var e10 = this.cachesByLvl, r10 = this.lvls, i10 = e10.get(t34);
    return i10 || (i10 = new jU(), e10.set(t34, i10), r10.push(t34)), i10;
  } }, { key: "getCache", value: function(t34, e10) {
    return this.getCachesAt(e10).get(t34);
  } }, { key: "get", value: function(t34, e10) {
    var r10 = this.getKey(t34), i10 = this.getCache(r10, e10);
    return null != i10 && this.updateKeyMappingFor(t34), i10;
  } }, { key: "getForCachedKey", value: function(t34, e10) {
    var r10 = this.keyForId.get(t34.id());
    return this.getCache(r10, e10);
  } }, { key: "hasCache", value: function(t34, e10) {
    return this.getCachesAt(e10).has(t34);
  } }, { key: "has", value: function(t34, e10) {
    var r10 = this.getKey(t34);
    return this.hasCache(r10, e10);
  } }, { key: "setCache", value: function(t34, e10, r10) {
    r10.key = t34, this.getCachesAt(e10).set(t34, r10);
  } }, { key: "set", value: function(t34, e10, r10) {
    var i10 = this.getKey(t34);
    this.setCache(i10, e10, r10), this.updateKeyMappingFor(t34);
  } }, { key: "deleteCache", value: function(t34, e10) {
    this.getCachesAt(e10).delete(t34);
  } }, { key: "delete", value: function(t34, e10) {
    var r10 = this.getKey(t34);
    this.deleteCache(r10, e10);
  } }, { key: "invalidateKey", value: function(t34) {
    var e10 = this;
    this.lvls.forEach(function(r10) {
      return e10.deleteCache(t34, r10);
    });
  } }, { key: "invalidate", value: function(t34) {
    var e10 = t34.id(), r10 = this.keyForId.get(e10);
    this.deleteKeyMappingFor(t34);
    var i10 = this.doesEleInvalidateKey(t34);
    return i10 && this.invalidateKey(r10), i10 || 0 === this.getNumberOfIdsForKey(r10);
  } }]), t33;
}(), trs = { dequeue: "dequeue", downscale: "downscale", highQuality: "highQuality" }, trl = jD({ getKey: null, doesEleInvalidateKey: jT, drawElement: null, getBoundingBox: null, getRotationPoint: null, getRotationOffset: null, isVisible: j_, allowEdgeTxrCaching: true, allowParentTxrCaching: true }), trh = function(t33, e10) {
  this.renderer = t33, this.onDequeues = [];
  var r10 = trl(e10);
  HO(this, r10), this.lookup = new tro(r10.getKey, r10.doesEleInvalidateKey), this.setupDequeueing();
}, trc = trh.prototype;
trc.reasons = trs, trc.getTextureQueue = function(t33) {
  return this.eleImgCaches = this.eleImgCaches || {}, this.eleImgCaches[t33] = this.eleImgCaches[t33] || [];
}, trc.getRetiredTextureQueue = function(t33) {
  var e10 = this.eleImgCaches.retired = this.eleImgCaches.retired || {};
  return e10[t33] = e10[t33] || [];
}, trc.getElementQueue = function() {
  return this.eleCacheQueue = this.eleCacheQueue || new jW(function(t33, e10) {
    return e10.reqs - t33.reqs;
  });
}, trc.getElementKeyToQueue = function() {
  return this.eleKeyToCacheQueue = this.eleKeyToCacheQueue || {};
}, trc.getElement = function(t33, e10, r10, i10, n10) {
  var a10, o10, s10, l10 = this, h10 = this.renderer, u10 = h10.cy.zoom(), d10 = this.lookup;
  if (!e10 || 0 === e10.w || 0 === e10.h || isNaN(e10.w) || isNaN(e10.h) || !t33.visible() || t33.removed() || !l10.allowEdgeTxrCaching && t33.isEdge() || !l10.allowParentTxrCaching && t33.isParent()) return null;
  if (null == i10 && (i10 = Math.ceil(j9(u10 * r10))), i10 < -4) i10 = -4;
  else if (u10 >= 7.99 || i10 > 3) return null;
  var p10 = Math.pow(2, i10), g10 = e10.h * p10, f10 = e10.w * p10, y10 = h10.eleTextBiggerThanMin(t33, p10);
  if (!this.isVisible(t33, y10)) return null;
  var v10 = d10.get(t33, i10);
  if (v10 && v10.invalidated && (v10.invalidated = false, v10.texture.invalidatedWidth -= v10.width), v10) return v10;
  if (a10 = g10 <= 25 ? 25 : g10 <= 50 ? 50 : 50 * Math.ceil(g10 / 50), g10 > 1024 || f10 > 1024) return null;
  var x10 = l10.getTextureQueue(a10), b10 = x10[x10.length - 2], w10 = function() {
    return l10.recycleTexture(a10, f10) || l10.addTexture(a10, f10);
  };
  b10 || (b10 = x10[x10.length - 1]), b10 || (b10 = w10()), b10.width - b10.usedWidth < f10 && (b10 = w10());
  for (var k10 = function(t34) {
    return t34 && t34.scaledLabelShown === y10;
  }, _10 = n10 && n10 === trs.dequeue, T10 = n10 && n10 === trs.highQuality, E10 = n10 && n10 === trs.downscale, C10 = i10 + 1; C10 <= 3; C10++) {
    var S10 = d10.get(t33, C10);
    if (S10) {
      o10 = S10;
      break;
    }
  }
  var A10 = o10 && o10.level === i10 + 1 ? o10 : null, L10 = function() {
    b10.context.drawImage(A10.texture.canvas, A10.x, 0, A10.width, A10.height, b10.usedWidth, 0, f10, g10);
  };
  if (b10.context.setTransform(1, 0, 0, 1, 0, 0), b10.context.clearRect(b10.usedWidth, 0, f10, a10), k10(A10)) L10();
  else if (k10(o10)) {
    if (!T10) return l10.queueElement(t33, o10.level - 1), o10;
    for (var N10 = o10.level; N10 > i10; N10--) A10 = l10.getElement(t33, e10, r10, N10, trs.downscale);
    L10();
  } else {
    if (!_10 && !T10 && !E10) for (var I10 = i10 - 1; I10 >= -4; I10--) {
      var M10 = d10.get(t33, I10);
      if (M10) {
        s10 = M10;
        break;
      }
    }
    if (k10(s10)) return l10.queueElement(t33, i10), s10;
    b10.context.translate(b10.usedWidth, 0), b10.context.scale(p10, p10), this.drawElement(b10.context, t33, e10, y10, false), b10.context.scale(1 / p10, 1 / p10), b10.context.translate(-b10.usedWidth, 0);
  }
  return v10 = { x: b10.usedWidth, texture: b10, level: i10, scale: p10, width: f10, height: g10, scaledLabelShown: y10 }, b10.usedWidth += Math.ceil(f10 + 8), b10.eleCaches.push(v10), d10.set(t33, i10, v10), l10.checkTextureFullness(b10), v10;
}, trc.invalidateElements = function(t33) {
  for (var e10 = 0; e10 < t33.length; e10++) this.invalidateElement(t33[e10]);
}, trc.invalidateElement = function(t33) {
  var e10 = this.lookup, r10 = [];
  if (e10.isInvalid(t33)) {
    for (var i10 = -4; i10 <= 3; i10++) {
      var n10 = e10.getForCachedKey(t33, i10);
      n10 && r10.push(n10);
    }
    if (e10.invalidate(t33)) for (var a10 = 0; a10 < r10.length; a10++) {
      var o10 = r10[a10], s10 = o10.texture;
      s10.invalidatedWidth += o10.width, o10.invalidated = true, this.checkTextureUtility(s10);
    }
    this.removeFromQueue(t33);
  }
}, trc.checkTextureUtility = function(t33) {
  t33.invalidatedWidth >= 0.2 * t33.width && this.retireTexture(t33);
}, trc.checkTextureFullness = function(t33) {
  var e10 = this.getTextureQueue(t33.height);
  t33.usedWidth / t33.width > 0.8 && t33.fullnessChecks >= 10 ? jO(e10, t33) : t33.fullnessChecks++;
}, trc.retireTexture = function(t33) {
  var e10 = t33.height, r10 = this.getTextureQueue(e10), i10 = this.lookup;
  jO(r10, t33), t33.retired = true;
  for (var n10 = t33.eleCaches, a10 = 0; a10 < n10.length; a10++) {
    var o10 = n10[a10];
    i10.deleteCache(o10.key, o10.level);
  }
  jP(n10), this.getRetiredTextureQueue(e10).push(t33);
}, trc.addTexture = function(t33, e10) {
  var r10 = this.getTextureQueue(t33), i10 = {};
  return r10.push(i10), i10.eleCaches = [], i10.height = t33, i10.width = Math.max(1024, e10), i10.usedWidth = 0, i10.invalidatedWidth = 0, i10.fullnessChecks = 0, i10.canvas = this.renderer.makeOffscreenCanvas(i10.width, i10.height), i10.context = i10.canvas.getContext("2d"), i10;
}, trc.recycleTexture = function(t33, e10) {
  for (var r10 = this.getTextureQueue(t33), i10 = this.getRetiredTextureQueue(t33), n10 = 0; n10 < i10.length; n10++) {
    var a10 = i10[n10];
    if (a10.width >= e10) return a10.retired = false, a10.usedWidth = 0, a10.invalidatedWidth = 0, a10.fullnessChecks = 0, jP(a10.eleCaches), a10.context.setTransform(1, 0, 0, 1, 0, 0), a10.context.clearRect(0, 0, a10.width, a10.height), jO(i10, a10), r10.push(a10), a10;
  }
}, trc.queueElement = function(t33, e10) {
  var r10 = this.getElementQueue(), i10 = this.getElementKeyToQueue(), n10 = this.getKey(t33), a10 = i10[n10];
  if (a10) a10.level = Math.max(a10.level, e10), a10.eles.merge(t33), a10.reqs++, r10.updateItem(a10);
  else {
    var o10 = { eles: t33.spawn().merge(t33), level: e10, reqs: 1, key: n10 };
    r10.push(o10), i10[n10] = o10;
  }
}, trc.dequeue = function(t33) {
  for (var e10 = this.getElementQueue(), r10 = this.getElementKeyToQueue(), i10 = [], n10 = this.lookup, a10 = 0; a10 < 1; a10++) if (e10.size() > 0) {
    var o10 = e10.pop(), s10 = o10.key, l10 = o10.eles[0], h10 = n10.hasCache(l10, o10.level);
    if (r10[s10] = null, h10) continue;
    i10.push(o10);
    var u10 = this.getBoundingBox(l10);
    this.getElement(l10, u10, t33, o10.level, trs.dequeue);
  } else break;
  return i10;
}, trc.removeFromQueue = function(t33) {
  var e10 = this.getElementQueue(), r10 = this.getElementKeyToQueue(), i10 = this.getKey(t33), n10 = r10[i10];
  null != n10 && (1 === n10.eles.length ? (n10.reqs = jk, e10.updateItem(n10), e10.pop(), r10[i10] = null) : n10.eles.unmerge(t33));
}, trc.onDequeue = function(t33) {
  this.onDequeues.push(t33);
}, trc.offDequeue = function(t33) {
  jO(this.onDequeues, t33);
}, trc.setupDequeueing = tra({ deqRedrawThreshold: 100, deqCost: 0.15, deqAvgCost: 0.1, deqNoDrawCost: 0.9, deqFastCost: 0.9, deq: function(t33, e10, r10) {
  return t33.dequeue(e10, r10);
}, onDeqd: function(t33, e10) {
  for (var r10 = 0; r10 < t33.onDequeues.length; r10++) (0, t33.onDequeues[r10])(e10);
}, shouldRedraw: function(t33, e10, r10, i10) {
  for (var n10 = 0; n10 < e10.length; n10++) for (var a10 = e10[n10].eles, o10 = 0; o10 < a10.length; o10++) if (Wf(a10[o10].boundingBox(), i10)) return true;
  return false;
}, priority: function(t33) {
  return t33.renderer.beforeRenderPriorities.eleTxrDeq;
} });
var tru = function(t33) {
  var e10 = this, r10 = e10.renderer = t33, i10 = r10.cy;
  e10.layersByLevel = {}, e10.firstGet = true, e10.lastInvalidationTime = js() - 500, e10.skipping = false, e10.eleTxrDeqs = i10.collection(), e10.scheduleElementRefinement = ja(function() {
    e10.refineElementTextures(e10.eleTxrDeqs), e10.eleTxrDeqs.unmerge(e10.eleTxrDeqs);
  }, 50), r10.beforeRender(function(t34, r11) {
    r11 - e10.lastInvalidationTime <= 250 ? e10.skipping = true : e10.skipping = false;
  }, r10.beforeRenderPriorities.lyrTxrSkip), e10.layersQueue = new jW(function(t34, e11) {
    return e11.reqs - t34.reqs;
  }), e10.setupDequeueing();
}, trd = tru.prototype, trp = 0;
trd.makeLayer = function(t33, e10) {
  var r10 = Math.pow(2, e10), i10 = Math.ceil(t33.w * r10), n10 = Math.ceil(t33.h * r10), a10 = this.renderer.makeOffscreenCanvas(i10, n10), o10 = { id: trp = ++trp % 9007199254740991, bb: t33, level: e10, width: i10, height: n10, canvas: a10, context: a10.getContext("2d"), eles: [], elesQueue: [], reqs: 0 }, s10 = o10.context, l10 = -o10.bb.x1, h10 = -o10.bb.y1;
  return s10.scale(r10, r10), s10.translate(l10, h10), o10;
}, trd.getLayers = function(t33, e10, r10) {
  var i10, n10, a10 = this, o10 = a10.renderer.cy.zoom(), s10 = a10.firstGet;
  if (a10.firstGet = false, null == r10) {
    if ((r10 = Math.ceil(j9(o10 * e10))) < -4) r10 = -4;
    else if (o10 >= 3.99 || r10 > 2) return null;
  }
  a10.validateLayersElesOrdering(r10, t33);
  var l10 = a10.layersByLevel, h10 = Math.pow(2, r10), u10 = l10[r10] = l10[r10] || [];
  if (a10.levelIsComplete(r10, t33)) return u10;
  !function() {
    var e11 = function(e12) {
      if (a10.validateLayersElesOrdering(e12, t33), a10.levelIsComplete(e12, t33)) return n10 = l10[e12], true;
    }, i11 = function(t34) {
      if (!n10) for (var i12 = r10 + t34; -4 <= i12 && i12 <= 2 && !e11(i12); i12 += t34) ;
    };
    i11(1), i11(-1);
    for (var o11 = u10.length - 1; o11 >= 0; o11--) {
      var s11 = u10[o11];
      s11.invalid && jO(u10, s11);
    }
  }();
  var d10 = function() {
    if (!i10) {
      i10 = Wl();
      for (var e11 = 0; e11 < t33.length; e11++) Wc(i10, t33[e11].boundingBox());
    }
    return i10;
  };
  if (a10.skipping && !s10) return null;
  for (var p10 = null, g10 = t33.length / 1, f10 = !s10, y10 = 0; y10 < t33.length; y10++) {
    var v10 = t33[y10], x10 = v10._private.rscratch, b10 = x10.imgLayerCaches = x10.imgLayerCaches || {}, w10 = b10[r10];
    if (w10) {
      p10 = w10;
      continue;
    }
    if ((!p10 || p10.eles.length >= g10 || !Wy(p10.bb, v10.boundingBox())) && !(p10 = function(t34) {
      var e11 = (t34 = t34 || {}).after;
      d10();
      var n11 = Math.ceil(i10.w * h10), o11 = Math.ceil(i10.h * h10);
      if (n11 > 32767 || o11 > 32767 || n11 * o11 > 16e6) return null;
      var s11 = a10.makeLayer(i10, r10);
      if (null != e11) {
        var l11 = u10.indexOf(e11) + 1;
        u10.splice(l11, 0, s11);
      } else (void 0 === t34.insert || t34.insert) && u10.unshift(s11);
      return s11;
    }({ insert: true, after: p10 }))) return null;
    n10 || f10 ? a10.queueLayer(p10, v10) : a10.drawEleInLayer(p10, v10, r10, e10), p10.eles.push(v10), b10[r10] = p10;
  }
  return n10 || (f10 ? null : u10);
}, trd.getEleLevelForLayerLevel = function(t33, e10) {
  return t33;
}, trd.drawEleInLayer = function(t33, e10, r10, i10) {
  var n10 = this.renderer, a10 = t33.context, o10 = e10.boundingBox();
  0 !== o10.w && 0 !== o10.h && e10.visible() && (r10 = this.getEleLevelForLayerLevel(r10, i10), n10.setImgSmoothing(a10, false), n10.drawCachedElement(a10, e10, null, null, r10, true), n10.setImgSmoothing(a10, true));
}, trd.levelIsComplete = function(t33, e10) {
  var r10 = this.layersByLevel[t33];
  if (!r10 || 0 === r10.length) return false;
  for (var i10 = 0, n10 = 0; n10 < r10.length; n10++) {
    var a10 = r10[n10];
    if (a10.reqs > 0 || a10.invalid) return false;
    i10 += a10.eles.length;
  }
  return i10 === e10.length;
}, trd.validateLayersElesOrdering = function(t33, e10) {
  var r10 = this.layersByLevel[t33];
  if (r10) for (var i10 = 0; i10 < r10.length; i10++) {
    for (var n10 = r10[i10], a10 = -1, o10 = 0; o10 < e10.length; o10++) if (n10.eles[0] === e10[o10]) {
      a10 = o10;
      break;
    }
    if (a10 < 0) {
      this.invalidateLayer(n10);
      continue;
    }
    for (var s10 = a10, o10 = 0; o10 < n10.eles.length; o10++) if (n10.eles[o10] !== e10[s10 + o10]) {
      this.invalidateLayer(n10);
      break;
    }
  }
}, trd.updateElementsInLayers = function(t33, e10) {
  for (var r10 = Hv(t33[0]), i10 = 0; i10 < t33.length; i10++) for (var n10 = r10 ? null : t33[i10], a10 = r10 ? t33[i10] : t33[i10].ele, o10 = a10._private.rscratch, s10 = o10.imgLayerCaches = o10.imgLayerCaches || {}, l10 = -4; l10 <= 2; l10++) {
    var h10 = s10[l10];
    h10 && (!n10 || this.getEleLevelForLayerLevel(h10.level) === n10.level) && e10(h10, a10, n10);
  }
}, trd.haveLayers = function() {
  for (var t33 = false, e10 = -4; e10 <= 2; e10++) {
    var r10 = this.layersByLevel[e10];
    if (r10 && r10.length > 0) {
      t33 = true;
      break;
    }
  }
  return t33;
}, trd.invalidateElements = function(t33) {
  var e10 = this;
  0 !== t33.length && (e10.lastInvalidationTime = js(), 0 !== t33.length && e10.haveLayers() && e10.updateElementsInLayers(t33, function(t34, r10, i10) {
    e10.invalidateLayer(t34);
  }));
}, trd.invalidateLayer = function(t33) {
  if (this.lastInvalidationTime = js(), !t33.invalid) {
    var e10 = t33.level, r10 = t33.eles;
    jO(this.layersByLevel[e10], t33), t33.elesQueue = [], t33.invalid = true, t33.replacement && (t33.replacement.invalid = true);
    for (var i10 = 0; i10 < r10.length; i10++) {
      var n10 = r10[i10]._private.rscratch.imgLayerCaches;
      n10 && (n10[e10] = null);
    }
  }
}, trd.refineElementTextures = function(t33) {
  var e10 = this;
  e10.updateElementsInLayers(t33, function(t34, r10, i10) {
    var n10 = t34.replacement;
    if (n10 || ((n10 = t34.replacement = e10.makeLayer(t34.bb, t34.level)).replaces = t34, n10.eles = t34.eles), !n10.reqs) for (var a10 = 0; a10 < n10.eles.length; a10++) e10.queueLayer(n10, n10.eles[a10]);
  });
}, trd.enqueueElementRefinement = function(t33) {
  this.eleTxrDeqs.merge(t33), this.scheduleElementRefinement();
}, trd.queueLayer = function(t33, e10) {
  var r10 = this.layersQueue, i10 = t33.elesQueue, n10 = i10.hasId = i10.hasId || {};
  if (!t33.replacement) {
    if (e10) {
      if (n10[e10.id()]) return;
      i10.push(e10), n10[e10.id()] = true;
    }
    t33.reqs ? (t33.reqs++, r10.updateItem(t33)) : (t33.reqs = 1, r10.push(t33));
  }
}, trd.dequeue = function(t33) {
  for (var e10 = this.layersQueue, r10 = [], i10 = 0; i10 < 1 && 0 !== e10.size(); ) {
    var n10 = e10.peek();
    if (n10.replacement || n10.replaces && n10 !== n10.replaces.replacement || n10.invalid) {
      e10.pop();
      continue;
    }
    var a10 = n10.elesQueue.shift();
    a10 && (this.drawEleInLayer(n10, a10, n10.level, t33), i10++), 0 === r10.length && r10.push(true), 0 === n10.elesQueue.length && (e10.pop(), n10.reqs = 0, n10.replaces && this.applyLayerReplacement(n10), this.requestRedraw());
  }
  return r10;
}, trd.applyLayerReplacement = function(t33) {
  var e10 = this.layersByLevel[t33.level], r10 = t33.replaces, i10 = e10.indexOf(r10);
  if (!(i10 < 0) && !r10.invalid) {
    e10[i10] = t33;
    for (var n10 = 0; n10 < t33.eles.length; n10++) {
      var a10 = t33.eles[n10]._private, o10 = a10.imgLayerCaches = a10.imgLayerCaches || {};
      o10 && (o10[t33.level] = t33);
    }
    this.requestRedraw();
  }
}, trd.requestRedraw = ja(function() {
  var t33 = this.renderer;
  t33.redrawHint("eles", true), t33.redrawHint("drag", true), t33.redraw();
}, 100), trd.setupDequeueing = tra({ deqRedrawThreshold: 50, deqCost: 0.15, deqAvgCost: 0.1, deqNoDrawCost: 0.9, deqFastCost: 0.9, deq: function(t33, e10) {
  return t33.dequeue(e10);
}, onDeqd: jC, shouldRedraw: j_, priority: function(t33) {
  return t33.renderer.beforeRenderPriorities.lyrTxrDeq;
} });
var trg = {};
function trf(t33, e10) {
  for (var r10 = 0; r10 < e10.length; r10++) {
    var i10 = e10[r10];
    t33.lineTo(i10.x, i10.y);
  }
}
function trm(t33, e10, r10) {
  for (var i10, n10 = 0; n10 < e10.length; n10++) {
    var a10 = e10[n10];
    0 === n10 && (i10 = a10), t33.lineTo(a10.x, a10.y);
  }
  t33.quadraticCurveTo(r10.x, r10.y, i10.x, i10.y);
}
function trv(t33, e10, r10) {
  t33.beginPath && t33.beginPath();
  for (var i10 = 0; i10 < e10.length; i10++) {
    var n10 = e10[i10];
    t33.lineTo(n10.x, n10.y);
  }
  var a10 = r10[0];
  t33.moveTo(a10.x, a10.y);
  for (var i10 = 1; i10 < r10.length; i10++) {
    var n10 = r10[i10];
    t33.lineTo(n10.x, n10.y);
  }
  t33.closePath && t33.closePath();
}
function trx(t33, e10, r10, i10, n10) {
  t33.beginPath && t33.beginPath(), t33.arc(r10, i10, n10, 0, 2 * Math.PI, false);
  var a10 = e10[0];
  t33.moveTo(a10.x, a10.y);
  for (var o10 = 0; o10 < e10.length; o10++) {
    var s10 = e10[o10];
    t33.lineTo(s10.x, s10.y);
  }
  t33.closePath && t33.closePath();
}
function trb(t33, e10, r10, i10) {
  t33.arc(e10, r10, i10, 0, 2 * Math.PI, false);
}
trg.arrowShapeImpl = function(t33) {
  return (rC || (rC = { polygon: trf, "triangle-backcurve": trm, "triangle-tee": trv, "circle-triangle": trx, "triangle-cross": trv, circle: trb }))[t33];
};
var trw = {};
trw.drawElement = function(t33, e10, r10, i10, n10, a10) {
  e10.isNode() ? this.drawNode(t33, e10, r10, i10, n10, a10) : this.drawEdge(t33, e10, r10, i10, n10, a10);
}, trw.drawElementOverlay = function(t33, e10) {
  e10.isNode() ? this.drawNodeOverlay(t33, e10) : this.drawEdgeOverlay(t33, e10);
}, trw.drawElementUnderlay = function(t33, e10) {
  e10.isNode() ? this.drawNodeUnderlay(t33, e10) : this.drawEdgeUnderlay(t33, e10);
}, trw.drawCachedElementPortion = function(t33, e10, r10, i10, n10, a10, o10, s10) {
  var l10 = r10.getBoundingBox(e10);
  if (0 !== l10.w && 0 !== l10.h) {
    var h10 = r10.getElement(e10, l10, i10, n10, a10);
    if (null != h10) {
      var u10, d10, p10, g10, f10, y10, v10 = s10(this, e10);
      if (0 === v10) return;
      var x10 = o10(this, e10), b10 = l10.x1, w10 = l10.y1, k10 = l10.w, _10 = l10.h;
      if (0 !== x10) {
        var T10 = r10.getRotationPoint(e10);
        p10 = T10.x, g10 = T10.y, t33.translate(p10, g10), t33.rotate(x10), (f10 = this.getImgSmoothing(t33)) || this.setImgSmoothing(t33, true);
        var E10 = r10.getRotationOffset(e10);
        u10 = E10.x, d10 = E10.y;
      } else u10 = b10, d10 = w10;
      1 !== v10 && (y10 = t33.globalAlpha, t33.globalAlpha = y10 * v10), t33.drawImage(h10.texture.canvas, h10.x, 0, h10.width, h10.height, u10, d10, k10, _10), 1 !== v10 && (t33.globalAlpha = y10), 0 === x10 || (t33.rotate(-x10), t33.translate(-p10, -g10), f10 || this.setImgSmoothing(t33, false));
    } else r10.drawElement(t33, e10);
  }
};
var trk = function() {
  return 0;
}, tr_ = function(t33, e10) {
  return t33.getTextAngle(e10, null);
}, trT = function(t33, e10) {
  return t33.getTextAngle(e10, "source");
}, trE = function(t33, e10) {
  return t33.getTextAngle(e10, "target");
}, trC = function(t33, e10) {
  return e10.effectiveOpacity();
}, trS = function(t33, e10) {
  return e10.pstyle("text-opacity").pfValue * e10.effectiveOpacity();
};
trw.drawCachedElement = function(t33, e10, r10, i10, n10, a10) {
  var o10 = this.data, s10 = o10.eleTxrCache, l10 = o10.lblTxrCache, h10 = o10.slbTxrCache, u10 = o10.tlbTxrCache, d10 = e10.boundingBox(), p10 = true === a10 ? s10.reasons.highQuality : null;
  if (0 !== d10.w && 0 !== d10.h && e10.visible() && (!i10 || Wf(d10, i10))) {
    var g10 = e10.isEdge(), f10 = e10.element()._private.rscratch.badLine;
    this.drawElementUnderlay(t33, e10), this.drawCachedElementPortion(t33, e10, s10, r10, n10, p10, trk, trC), g10 && f10 || this.drawCachedElementPortion(t33, e10, l10, r10, n10, p10, tr_, trS), g10 && !f10 && (this.drawCachedElementPortion(t33, e10, h10, r10, n10, p10, trT, trS), this.drawCachedElementPortion(t33, e10, u10, r10, n10, p10, trE, trS)), this.drawElementOverlay(t33, e10);
  }
}, trw.drawElements = function(t33, e10) {
  for (var r10 = 0; r10 < e10.length; r10++) {
    var i10 = e10[r10];
    this.drawElement(t33, i10);
  }
}, trw.drawCachedElements = function(t33, e10, r10, i10) {
  for (var n10 = 0; n10 < e10.length; n10++) {
    var a10 = e10[n10];
    this.drawCachedElement(t33, a10, r10, i10);
  }
}, trw.drawCachedNodes = function(t33, e10, r10, i10) {
  for (var n10 = 0; n10 < e10.length; n10++) {
    var a10 = e10[n10];
    a10.isNode() && this.drawCachedElement(t33, a10, r10, i10);
  }
}, trw.drawLayeredElements = function(t33, e10, r10, i10) {
  var n10 = this.data.lyrTxrCache.getLayers(e10, r10);
  if (n10) for (var a10 = 0; a10 < n10.length; a10++) {
    var o10 = n10[a10], s10 = o10.bb;
    0 !== s10.w && 0 !== s10.h && t33.drawImage(o10.canvas, s10.x1, s10.y1, s10.w, s10.h);
  }
  else this.drawCachedElements(t33, e10, r10, i10);
};
var trA = {};
trA.drawEdge = function(t33, e10, r10) {
  var i10, n10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], a10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], o10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5], s10 = this, l10 = e10._private.rscratch;
  if (!(o10 && !e10.visible() || l10.badLine || null == l10.allpts || isNaN(l10.allpts[0]))) {
    r10 && (i10 = r10, t33.translate(-i10.x1, -i10.y1));
    var h10 = o10 ? e10.pstyle("opacity").value : 1, u10 = o10 ? e10.pstyle("line-opacity").value : 1, d10 = e10.pstyle("curve-style").value, p10 = e10.pstyle("line-style").value, g10 = e10.pstyle("width").pfValue, f10 = e10.pstyle("line-cap").value, y10 = e10.pstyle("line-outline-width").value, v10 = e10.pstyle("line-outline-color").value, x10 = h10 * u10, b10 = h10 * u10, w10 = function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x10;
      "straight-triangle" === d10 ? (s10.eleStrokeStyle(t33, e10, r11), s10.drawEdgeTrianglePath(e10, t33, l10.allpts)) : (t33.lineWidth = g10, t33.lineCap = f10, s10.eleStrokeStyle(t33, e10, r11), s10.drawEdgePath(e10, t33, l10.allpts, p10), t33.lineCap = "butt");
    }, k10 = function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : b10;
      s10.drawArrowheads(t33, e10, r11);
    };
    if (t33.lineJoin = "round", "yes" === e10.pstyle("ghost").value) {
      var _10 = e10.pstyle("ghost-offset-x").pfValue, T10 = e10.pstyle("ghost-offset-y").pfValue, E10 = x10 * e10.pstyle("ghost-opacity").value;
      t33.translate(_10, T10), w10(E10), k10(E10), t33.translate(-_10, -T10);
    } else !function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x10;
      if (t33.lineWidth = g10 + y10, t33.lineCap = f10, y10 > 0) s10.colorStrokeStyle(t33, v10[0], v10[1], v10[2], r11);
      else {
        t33.lineCap = "butt";
        return;
      }
      "straight-triangle" === d10 ? s10.drawEdgeTrianglePath(e10, t33, l10.allpts) : (s10.drawEdgePath(e10, t33, l10.allpts, p10), t33.lineCap = "butt");
    }();
    a10 && s10.drawEdgeUnderlay(t33, e10), w10(), k10(), a10 && s10.drawEdgeOverlay(t33, e10), s10.drawElementText(t33, e10, null, n10), r10 && t33.translate(i10.x1, i10.y1);
  }
};
var trL = function(t33) {
  if (!["overlay", "underlay"].includes(t33)) throw Error("Invalid state");
  return function(e10, r10) {
    if (r10.visible()) {
      var i10 = r10.pstyle("".concat(t33, "-opacity")).value;
      if (0 !== i10) {
        var n10 = this.usePaths(), a10 = r10._private.rscratch, o10 = r10.pstyle("".concat(t33, "-padding")).pfValue, s10 = r10.pstyle("".concat(t33, "-color")).value;
        e10.lineWidth = 2 * o10, "self" !== a10.edgeType || n10 ? e10.lineCap = "round" : e10.lineCap = "butt", this.colorStrokeStyle(e10, s10[0], s10[1], s10[2], i10), this.drawEdgePath(r10, e10, a10.allpts, "solid");
      }
    }
  };
};
trA.drawEdgeOverlay = trL("overlay"), trA.drawEdgeUnderlay = trL("underlay"), trA.drawEdgePath = function(t33, e10, r10, i10) {
  var n10 = t33._private.rscratch, a10 = e10, o10 = false, s10 = this.usePaths(), l10 = t33.pstyle("line-dash-pattern").pfValue, h10 = t33.pstyle("line-dash-offset").pfValue;
  if (s10) {
    var u10 = r10.join("$");
    n10.pathCacheKey && n10.pathCacheKey === u10 ? (g10 = e10 = n10.pathCache, o10 = true) : (g10 = e10 = new Path2D(), n10.pathCacheKey = u10, n10.pathCache = g10);
  }
  if (a10.setLineDash) switch (i10) {
    case "dotted":
      a10.setLineDash([1, 1]);
      break;
    case "dashed":
      a10.setLineDash(l10), a10.lineDashOffset = h10;
      break;
    case "solid":
      a10.setLineDash([]);
  }
  if (!o10 && !n10.badLine) switch (e10.beginPath && e10.beginPath(), e10.moveTo(r10[0], r10[1]), n10.edgeType) {
    case "bezier":
    case "self":
    case "compound":
    case "multibezier":
      for (var d10 = 2; d10 + 3 < r10.length; d10 += 4) e10.quadraticCurveTo(r10[d10], r10[d10 + 1], r10[d10 + 2], r10[d10 + 3]);
      break;
    case "straight":
    case "haystack":
      for (var p10 = 2; p10 + 1 < r10.length; p10 += 2) e10.lineTo(r10[p10], r10[p10 + 1]);
      break;
    case "segments":
      if (n10.isRound) {
        var g10, f10, y10 = Hi(n10.roundCorners);
        try {
          for (y10.s(); !(f10 = y10.n()).done; ) {
            var v10 = f10.value;
            tej(e10, v10);
          }
        } catch (t34) {
          y10.e(t34);
        } finally {
          y10.f();
        }
        e10.lineTo(r10[r10.length - 2], r10[r10.length - 1]);
      } else for (var x10 = 2; x10 + 1 < r10.length; x10 += 2) e10.lineTo(r10[x10], r10[x10 + 1]);
  }
  e10 = a10, s10 ? e10.stroke(g10) : e10.stroke(), e10.setLineDash && e10.setLineDash([]);
}, trA.drawEdgeTrianglePath = function(t33, e10, r10) {
  e10.fillStyle = e10.strokeStyle;
  for (var i10 = t33.pstyle("width").pfValue, n10 = 0; n10 + 1 < r10.length; n10 += 2) {
    var a10 = [r10[n10 + 2] - r10[n10], r10[n10 + 3] - r10[n10 + 1]], o10 = Math.sqrt(a10[0] * a10[0] + a10[1] * a10[1]), s10 = [a10[1] / o10, -a10[0] / o10], l10 = [s10[0] * i10 / 2, s10[1] * i10 / 2];
    e10.beginPath(), e10.moveTo(r10[n10] - l10[0], r10[n10 + 1] - l10[1]), e10.lineTo(r10[n10] + l10[0], r10[n10 + 1] + l10[1]), e10.lineTo(r10[n10 + 2], r10[n10 + 3]), e10.closePath(), e10.fill();
  }
}, trA.drawArrowheads = function(t33, e10, r10) {
  var i10 = e10._private.rscratch, n10 = "haystack" === i10.edgeType;
  n10 || this.drawArrowhead(t33, e10, "source", i10.arrowStartX, i10.arrowStartY, i10.srcArrowAngle, r10), this.drawArrowhead(t33, e10, "mid-target", i10.midX, i10.midY, i10.midtgtArrowAngle, r10), this.drawArrowhead(t33, e10, "mid-source", i10.midX, i10.midY, i10.midsrcArrowAngle, r10), n10 || this.drawArrowhead(t33, e10, "target", i10.arrowEndX, i10.arrowEndY, i10.tgtArrowAngle, r10);
}, trA.drawArrowhead = function(t33, e10, r10, i10, n10, a10, o10) {
  if (!(isNaN(i10) || null == i10 || isNaN(n10) || null == n10 || isNaN(a10)) && null != a10) {
    var s10 = e10.pstyle(r10 + "-arrow-shape").value;
    if ("none" !== s10) {
      var l10 = "hollow" === e10.pstyle(r10 + "-arrow-fill").value ? "both" : "filled", h10 = e10.pstyle(r10 + "-arrow-fill").value, u10 = e10.pstyle("width").pfValue, d10 = e10.pstyle(r10 + "-arrow-width"), p10 = "match-line" === d10.value ? u10 : d10.pfValue;
      "%" === d10.units && (p10 *= u10);
      var g10 = e10.pstyle("opacity").value;
      void 0 === o10 && (o10 = g10);
      var f10 = t33.globalCompositeOperation;
      (1 !== o10 || "hollow" === h10) && (t33.globalCompositeOperation = "destination-out", this.colorFillStyle(t33, 255, 255, 255, 1), this.colorStrokeStyle(t33, 255, 255, 255, 1), this.drawArrowShape(e10, t33, l10, u10, s10, p10, i10, n10, a10), t33.globalCompositeOperation = f10);
      var y10 = e10.pstyle(r10 + "-arrow-color").value;
      this.colorFillStyle(t33, y10[0], y10[1], y10[2], o10), this.colorStrokeStyle(t33, y10[0], y10[1], y10[2], o10), this.drawArrowShape(e10, t33, h10, u10, s10, p10, i10, n10, a10);
    }
  }
}, trA.drawArrowShape = function(t33, e10, r10, i10, n10, a10, o10, s10, l10) {
  var h10, u10 = this.usePaths() && "triangle-cross" !== n10, d10 = false, p10 = e10, g10 = t33.pstyle("arrow-scale").value, f10 = this.getArrowWidth(i10, g10), y10 = this.arrowShapes[n10];
  if (u10) {
    var v10 = this.arrowPathCache = this.arrowPathCache || [], x10 = jm(n10), b10 = v10[x10];
    null != b10 ? (h10 = e10 = b10, d10 = true) : (h10 = e10 = new Path2D(), v10[x10] = h10);
  }
  !d10 && (e10.beginPath && e10.beginPath(), u10 ? y10.draw(e10, 1, 0, { x: 0, y: 0 }, 1) : y10.draw(e10, f10, l10, { x: o10, y: s10 }, i10), e10.closePath && e10.closePath()), e10 = p10, u10 && (e10.translate(o10, s10), e10.rotate(l10), e10.scale(f10, f10)), ("filled" === r10 || "both" === r10) && (u10 ? e10.fill(h10) : e10.fill()), ("hollow" === r10 || "both" === r10) && (e10.lineWidth = a10 / (u10 ? f10 : 1), e10.lineJoin = "miter", u10 ? e10.stroke(h10) : e10.stroke()), u10 && (e10.scale(1 / f10, 1 / f10), e10.rotate(-l10), e10.translate(-o10, -s10));
};
var trN = {};
trN.safeDrawImage = function(t33, e10, r10, i10, n10, a10, o10, s10, l10, h10) {
  if (!(n10 <= 0) && !(a10 <= 0) && !(l10 <= 0) && !(h10 <= 0)) try {
    t33.drawImage(e10, r10, i10, n10, a10, o10, s10, l10, h10);
  } catch (t34) {
    jL(t34);
  }
}, trN.drawInscribedImage = function(t33, e10, r10, i10, n10) {
  var a10 = r10.position(), o10 = a10.x, s10 = a10.y, l10 = r10.cy().style(), h10 = l10.getIndexedStyle.bind(l10), u10 = h10(r10, "background-fit", "value", i10), d10 = h10(r10, "background-repeat", "value", i10), p10 = r10.width(), g10 = r10.height(), f10 = 2 * r10.padding(), y10 = p10 + ("inner" === h10(r10, "background-width-relative-to", "value", i10) ? 0 : f10), v10 = g10 + ("inner" === h10(r10, "background-height-relative-to", "value", i10) ? 0 : f10), x10 = r10._private.rscratch, b10 = "node" === h10(r10, "background-clip", "value", i10), w10 = h10(r10, "background-image-opacity", "value", i10) * n10, k10 = h10(r10, "background-image-smoothing", "value", i10), _10 = r10.pstyle("corner-radius").value;
  "auto" !== _10 && (_10 = r10.pstyle("corner-radius").pfValue);
  var T10 = e10.width || e10.cachedW, E10 = e10.height || e10.cachedH;
  (null == T10 || null == E10) && (document.body.appendChild(e10), T10 = e10.cachedW = e10.width || e10.offsetWidth, E10 = e10.cachedH = e10.height || e10.offsetHeight, document.body.removeChild(e10));
  var C10 = T10, S10 = E10;
  if ("auto" !== h10(r10, "background-width", "value", i10) && (C10 = "%" === h10(r10, "background-width", "units", i10) ? h10(r10, "background-width", "pfValue", i10) * y10 : h10(r10, "background-width", "pfValue", i10)), "auto" !== h10(r10, "background-height", "value", i10) && (S10 = "%" === h10(r10, "background-height", "units", i10) ? h10(r10, "background-height", "pfValue", i10) * v10 : h10(r10, "background-height", "pfValue", i10)), 0 !== C10 && 0 !== S10) {
    if ("contain" === u10) {
      var A10 = Math.min(y10 / C10, v10 / S10);
      C10 *= A10, S10 *= A10;
    } else if ("cover" === u10) {
      var A10 = Math.max(y10 / C10, v10 / S10);
      C10 *= A10, S10 *= A10;
    }
    var L10 = o10 - y10 / 2, N10 = h10(r10, "background-position-x", "units", i10), I10 = h10(r10, "background-position-x", "pfValue", i10);
    "%" === N10 ? L10 += (y10 - C10) * I10 : L10 += I10;
    var M10 = h10(r10, "background-offset-x", "units", i10), R10 = h10(r10, "background-offset-x", "pfValue", i10);
    "%" === M10 ? L10 += (y10 - C10) * R10 : L10 += R10;
    var D10 = s10 - v10 / 2, O10 = h10(r10, "background-position-y", "units", i10), P10 = h10(r10, "background-position-y", "pfValue", i10);
    "%" === O10 ? D10 += (v10 - S10) * P10 : D10 += P10;
    var $10 = h10(r10, "background-offset-y", "units", i10), B10 = h10(r10, "background-offset-y", "pfValue", i10);
    "%" === $10 ? D10 += (v10 - S10) * B10 : D10 += B10, x10.pathCache && (L10 -= o10, D10 -= s10, o10 = 0, s10 = 0);
    var F10 = t33.globalAlpha;
    t33.globalAlpha = w10;
    var z10 = this.getImgSmoothing(t33), U10 = false;
    if ("no" === k10 && z10 ? (this.setImgSmoothing(t33, false), U10 = true) : "yes" !== k10 || z10 || (this.setImgSmoothing(t33, true), U10 = true), "no-repeat" === d10) b10 && (t33.save(), x10.pathCache ? t33.clip(x10.pathCache) : (this.nodeShapes[this.getNodeShape(r10)].draw(t33, o10, s10, y10, v10, _10, x10), t33.clip())), this.safeDrawImage(t33, e10, 0, 0, T10, E10, L10, D10, C10, S10), b10 && t33.restore();
    else {
      var G10 = t33.createPattern(e10, d10);
      t33.fillStyle = G10, this.nodeShapes[this.getNodeShape(r10)].draw(t33, o10, s10, y10, v10, _10, x10), t33.translate(L10, D10), t33.fill(), t33.translate(-L10, -D10);
    }
    t33.globalAlpha = F10, U10 && this.setImgSmoothing(t33, z10);
  }
};
var trI = {};
function trM(t33, e10, r10, i10, n10) {
  var a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 5, o10 = arguments.length > 6 ? arguments[6] : void 0;
  t33.beginPath(), t33.moveTo(e10 + a10, r10), t33.lineTo(e10 + i10 - a10, r10), t33.quadraticCurveTo(e10 + i10, r10, e10 + i10, r10 + a10), t33.lineTo(e10 + i10, r10 + n10 - a10), t33.quadraticCurveTo(e10 + i10, r10 + n10, e10 + i10 - a10, r10 + n10), t33.lineTo(e10 + a10, r10 + n10), t33.quadraticCurveTo(e10, r10 + n10, e10, r10 + n10 - a10), t33.lineTo(e10, r10 + a10), t33.quadraticCurveTo(e10, r10, e10 + a10, r10), t33.closePath(), o10 ? t33.stroke() : t33.fill();
}
trI.eleTextBiggerThanMin = function(t33, e10) {
  return e10 || (e10 = Math.pow(2, Math.ceil(j9(t33.cy().zoom() * this.getPixelRatio())))), !(t33.pstyle("font-size").pfValue * e10 < t33.pstyle("min-zoomed-font-size").pfValue);
}, trI.drawElementText = function(t33, e10, r10, i10, n10) {
  var a10, o10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5];
  if (null == i10) {
    if (o10 && !this.eleTextBiggerThanMin(e10)) return;
  } else if (false === i10) return;
  if (e10.isNode()) {
    var s10 = e10.pstyle("label");
    if (!s10 || !s10.value) return;
    var l10 = this.getLabelJustification(e10);
    t33.textAlign = l10, t33.textBaseline = "bottom";
  } else {
    var h10 = e10.element()._private.rscratch.badLine, u10 = e10.pstyle("label"), d10 = e10.pstyle("source-label"), p10 = e10.pstyle("target-label");
    if (h10 || (!u10 || !u10.value) && (!d10 || !d10.value) && (!p10 || !p10.value)) return;
    t33.textAlign = "center", t33.textBaseline = "bottom";
  }
  var g10 = !r10;
  r10 && (a10 = r10, t33.translate(-a10.x1, -a10.y1)), null == n10 ? (this.drawText(t33, e10, null, g10, o10), e10.isEdge() && (this.drawText(t33, e10, "source", g10, o10), this.drawText(t33, e10, "target", g10, o10))) : this.drawText(t33, e10, n10, g10, o10), r10 && t33.translate(a10.x1, a10.y1);
}, trI.getFontCache = function(t33) {
  var e10;
  this.fontCaches = this.fontCaches || [];
  for (var r10 = 0; r10 < this.fontCaches.length; r10++) if ((e10 = this.fontCaches[r10]).context === t33) return e10;
  return e10 = { context: t33 }, this.fontCaches.push(e10), e10;
}, trI.setupTextStyle = function(t33, e10) {
  var r10 = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2], i10 = e10.pstyle("font-style").strValue, n10 = e10.pstyle("font-size").pfValue + "px", a10 = e10.pstyle("font-family").strValue, o10 = e10.pstyle("font-weight").strValue, s10 = r10 ? e10.effectiveOpacity() * e10.pstyle("text-opacity").value : 1, l10 = e10.pstyle("text-outline-opacity").value * s10, h10 = e10.pstyle("color").value, u10 = e10.pstyle("text-outline-color").value;
  t33.font = i10 + " " + o10 + " " + n10 + " " + a10, t33.lineJoin = "round", this.colorFillStyle(t33, h10[0], h10[1], h10[2], s10), this.colorStrokeStyle(t33, u10[0], u10[1], u10[2], l10);
}, trI.getTextAngle = function(t33, e10) {
  var r10 = t33._private.rscratch, i10 = e10 ? e10 + "-" : "", n10 = t33.pstyle(i10 + "text-rotation"), a10 = jB(r10, "labelAngle", e10);
  return "autorotate" === n10.strValue ? t33.isEdge() ? a10 : 0 : "none" === n10.strValue ? 0 : n10.pfValue;
}, trI.drawText = function(t33, e10, r10) {
  var i10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], n10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], a10 = e10._private.rscratch, o10 = n10 ? e10.effectiveOpacity() : 1;
  if (!n10 || 0 !== o10 && 0 !== e10.pstyle("text-opacity").value) {
    "main" === r10 && (r10 = null);
    var s10 = jB(a10, "labelX", r10), l10 = jB(a10, "labelY", r10), h10 = this.getLabelText(e10, r10);
    if (null != h10 && "" !== h10 && !isNaN(s10) && !isNaN(l10)) {
      this.setupTextStyle(t33, e10, n10);
      var u10, d10, p10, g10 = r10 ? r10 + "-" : "", f10 = jB(a10, "labelWidth", r10), y10 = jB(a10, "labelHeight", r10), v10 = e10.pstyle(g10 + "text-margin-x").pfValue, x10 = e10.pstyle(g10 + "text-margin-y").pfValue, b10 = e10.isEdge(), w10 = e10.pstyle("text-halign").value, k10 = e10.pstyle("text-valign").value;
      switch (b10 && (w10 = "center", k10 = "center"), s10 += v10, l10 += x10, 0 !== (p10 = i10 ? this.getTextAngle(e10, r10) : 0) && (u10 = s10, d10 = l10, t33.translate(u10, d10), t33.rotate(p10), s10 = 0, l10 = 0), k10) {
        case "top":
          break;
        case "center":
          l10 += y10 / 2;
          break;
        case "bottom":
          l10 += y10;
      }
      var _10 = e10.pstyle("text-background-opacity").value, T10 = e10.pstyle("text-border-opacity").value, E10 = e10.pstyle("text-border-width").pfValue, C10 = e10.pstyle("text-background-padding").pfValue, S10 = 0 === e10.pstyle("text-background-shape").strValue.indexOf("round");
      if (_10 > 0 || E10 > 0 && T10 > 0) {
        var A10 = s10 - C10;
        switch (w10) {
          case "left":
            A10 -= f10;
            break;
          case "center":
            A10 -= f10 / 2;
        }
        var L10 = l10 - y10 - C10, N10 = f10 + 2 * C10, I10 = y10 + 2 * C10;
        if (_10 > 0) {
          var M10 = t33.fillStyle, R10 = e10.pstyle("text-background-color").value;
          t33.fillStyle = "rgba(" + R10[0] + "," + R10[1] + "," + R10[2] + "," + _10 * o10 + ")", S10 ? trM(t33, A10, L10, N10, I10, 2) : t33.fillRect(A10, L10, N10, I10), t33.fillStyle = M10;
        }
        if (E10 > 0 && T10 > 0) {
          var D10 = t33.strokeStyle, O10 = t33.lineWidth, P10 = e10.pstyle("text-border-color").value, $10 = e10.pstyle("text-border-style").value;
          if (t33.strokeStyle = "rgba(" + P10[0] + "," + P10[1] + "," + P10[2] + "," + T10 * o10 + ")", t33.lineWidth = E10, t33.setLineDash) switch ($10) {
            case "dotted":
              t33.setLineDash([1, 1]);
              break;
            case "dashed":
              t33.setLineDash([4, 2]);
              break;
            case "double":
              t33.lineWidth = E10 / 4, t33.setLineDash([]);
              break;
            case "solid":
              t33.setLineDash([]);
          }
          if (S10 ? trM(t33, A10, L10, N10, I10, 2, "stroke") : t33.strokeRect(A10, L10, N10, I10), "double" === $10) {
            var B10 = E10 / 2;
            S10 ? trM(t33, A10 + B10, L10 + B10, N10 - 2 * B10, I10 - 2 * B10, 2, "stroke") : t33.strokeRect(A10 + B10, L10 + B10, N10 - 2 * B10, I10 - 2 * B10);
          }
          t33.setLineDash && t33.setLineDash([]), t33.lineWidth = O10, t33.strokeStyle = D10;
        }
      }
      var F10 = 2 * e10.pstyle("text-outline-width").pfValue;
      if (F10 > 0 && (t33.lineWidth = F10), "wrap" === e10.pstyle("text-wrap").value) {
        var z10 = jB(a10, "labelWrapCachedLines", r10), U10 = jB(a10, "labelLineHeight", r10), G10 = f10 / 2, q10 = this.getLabelJustification(e10);
        switch ("auto" === q10 || ("left" === w10 ? "left" === q10 ? s10 += -f10 : "center" === q10 && (s10 += -G10) : "center" === w10 ? "left" === q10 ? s10 += -G10 : "right" === q10 && (s10 += G10) : "right" === w10 && ("center" === q10 ? s10 += G10 : "right" === q10 && (s10 += f10))), k10) {
          case "top":
          case "center":
          case "bottom":
            l10 -= (z10.length - 1) * U10;
        }
        for (var Y10 = 0; Y10 < z10.length; Y10++) F10 > 0 && t33.strokeText(z10[Y10], s10, l10), t33.fillText(z10[Y10], s10, l10), l10 += U10;
      } else F10 > 0 && t33.strokeText(h10, s10, l10), t33.fillText(h10, s10, l10);
      0 !== p10 && (t33.rotate(-p10), t33.translate(-u10, -d10));
    }
  }
};
var trR = {};
trR.drawNode = function(t33, e10, r10) {
  var i10, n10, a10, o10, s10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], l10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], h10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5], u10 = this, d10 = e10._private, p10 = d10.rscratch, g10 = e10.position();
  if (Hf(g10.x) && Hf(g10.y) && (!h10 || e10.visible())) {
    var f10 = h10 ? e10.effectiveOpacity() : 1, y10 = u10.usePaths(), v10 = false, x10 = e10.padding();
    i10 = e10.width() + 2 * x10, n10 = e10.height() + 2 * x10, r10 && (o10 = r10, t33.translate(-o10.x1, -o10.y1));
    for (var b10 = e10.pstyle("background-image").value, w10 = Array(b10.length), k10 = Array(b10.length), _10 = 0, T10 = 0; T10 < b10.length; T10++) {
      var E10 = b10[T10];
      if (w10[T10] = null != E10 && "none" !== E10) {
        var C10 = e10.cy().style().getIndexedStyle(e10, "background-image-crossorigin", "value", T10);
        _10++, k10[T10] = u10.getCachedImage(E10, C10, function() {
          d10.backgroundTimestamp = Date.now(), e10.emitAndNotify("background");
        });
      }
    }
    var S10 = e10.pstyle("background-blacken").value, A10 = e10.pstyle("border-width").pfValue, L10 = e10.pstyle("background-opacity").value * f10, N10 = e10.pstyle("border-color").value, I10 = e10.pstyle("border-style").value, M10 = e10.pstyle("border-join").value, R10 = e10.pstyle("border-cap").value, D10 = e10.pstyle("border-position").value, O10 = e10.pstyle("border-dash-pattern").pfValue, P10 = e10.pstyle("border-dash-offset").pfValue, $10 = e10.pstyle("border-opacity").value * f10, B10 = e10.pstyle("outline-width").pfValue, F10 = e10.pstyle("outline-color").value, z10 = e10.pstyle("outline-style").value, U10 = e10.pstyle("outline-opacity").value * f10, G10 = e10.pstyle("outline-offset").value, q10 = e10.pstyle("corner-radius").value;
    "auto" !== q10 && (q10 = e10.pstyle("corner-radius").pfValue);
    var Y10 = function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : L10;
      u10.eleFillStyle(t33, e10, r11);
    }, H10 = function() {
      var e11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : $10;
      u10.colorStrokeStyle(t33, N10[0], N10[1], N10[2], e11);
    }, j10 = function() {
      var e11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : U10;
      u10.colorStrokeStyle(t33, F10[0], F10[1], F10[2], e11);
    }, W10 = function(t34, e11, r11, i11) {
      var n11, a11 = u10.nodePathCache = u10.nodePathCache || [], o11 = jy("polygon" === r11 ? r11 + "," + i11.join(",") : r11, "" + e11, "" + t34, "" + q10), s11 = a11[o11], l11 = false;
      return null != s11 ? (n11 = s11, l11 = true, p10.pathCache = n11) : (n11 = new Path2D(), a11[o11] = p10.pathCache = n11), { path: n11, cacheHit: l11 };
    }, V10 = e10.pstyle("shape").strValue, X10 = e10.pstyle("shape-polygon-points").pfValue;
    if (y10) {
      t33.translate(g10.x, g10.y);
      var K10 = W10(i10, n10, V10, X10);
      a10 = K10.path, v10 = K10.cacheHit;
    }
    var Z10 = function() {
      if (!v10) {
        var r11 = g10;
        y10 && (r11 = { x: 0, y: 0 }), u10.nodeShapes[u10.getNodeShape(e10)].draw(a10 || t33, r11.x, r11.y, i10, n10, q10, p10);
      }
      y10 ? t33.fill(a10) : t33.fill();
    }, Q10 = function() {
      for (var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : f10, i11 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], n11 = d10.backgrounding, a11 = 0, o11 = 0; o11 < k10.length; o11++) {
        var s11 = e10.cy().style().getIndexedStyle(e10, "background-image-containment", "value", o11);
        if (i11 && "over" === s11 || !i11 && "inside" === s11) {
          a11++;
          continue;
        }
        w10[o11] && k10[o11].complete && !k10[o11].error && (a11++, u10.drawInscribedImage(t33, k10[o11], e10, o11, r11));
      }
      d10.backgrounding = a11 !== _10, n11 !== d10.backgrounding && e10.updateStyle(false);
    }, J10 = function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], a11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : f10;
      u10.hasPie(e10) && (u10.drawPie(t33, e10, a11), r11 && !y10 && u10.nodeShapes[u10.getNodeShape(e10)].draw(t33, g10.x, g10.y, i10, n10, q10, p10));
    }, tt10 = function() {
      var e11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : f10, r11 = S10 > 0 ? 0 : 255;
      0 !== S10 && (u10.colorFillStyle(t33, r11, r11, r11, (S10 > 0 ? S10 : -S10) * e11), y10 ? t33.fill(a10) : t33.fill());
    }, te10 = function() {
      if (A10 > 0) {
        if (t33.lineWidth = A10, t33.lineCap = R10, t33.lineJoin = M10, t33.setLineDash) switch (I10) {
          case "dotted":
            t33.setLineDash([1, 1]);
            break;
          case "dashed":
            t33.setLineDash(O10), t33.lineDashOffset = P10;
            break;
          case "solid":
          case "double":
            t33.setLineDash([]);
        }
        if ("center" !== D10) {
          if (t33.save(), t33.lineWidth *= 2, "inside" === D10) y10 ? t33.clip(a10) : t33.clip();
          else {
            var e11 = new Path2D();
            e11.rect(-i10 / 2 - A10, -n10 / 2 - A10, i10 + 2 * A10, n10 + 2 * A10), e11.addPath(a10), t33.clip(e11, "evenodd");
          }
          y10 ? t33.stroke(a10) : t33.stroke(), t33.restore();
        } else y10 ? t33.stroke(a10) : t33.stroke();
        if ("double" === I10) {
          t33.lineWidth = A10 / 3;
          var r11 = t33.globalCompositeOperation;
          t33.globalCompositeOperation = "destination-out", y10 ? t33.stroke(a10) : t33.stroke(), t33.globalCompositeOperation = r11;
        }
        t33.setLineDash && t33.setLineDash([]);
      }
    }, tr10 = function() {
      if (B10 > 0) {
        if (t33.lineWidth = B10, t33.lineCap = "butt", t33.setLineDash) switch (z10) {
          case "dotted":
            t33.setLineDash([1, 1]);
            break;
          case "dashed":
            t33.setLineDash([4, 2]);
            break;
          case "solid":
          case "double":
            t33.setLineDash([]);
        }
        var r11 = g10;
        y10 && (r11 = { x: 0, y: 0 });
        var a11 = u10.getNodeShape(e10), o11 = A10;
        "inside" === D10 && (o11 = 0), "outside" === D10 && (o11 *= 2);
        var s11 = (i10 + o11 + (B10 + G10)) / i10, l11 = (n10 + o11 + (B10 + G10)) / n10, h11 = i10 * s11, d11 = n10 * l11, p11 = u10.nodeShapes[a11].points;
        if (y10 && (C11 = W10(h11, d11, a11, p11).path), "ellipse" === a11) u10.drawEllipsePath(C11 || t33, r11.x, r11.y, h11, d11);
        else if (["round-diamond", "round-heptagon", "round-hexagon", "round-octagon", "round-pentagon", "round-polygon", "round-triangle", "round-tag"].includes(a11)) {
          var f11 = 0, v11 = 0, x11 = 0;
          "round-diamond" === a11 ? f11 = (o11 + G10 + B10) * 1.4 : "round-heptagon" === a11 ? (f11 = (o11 + G10 + B10) * 1.075, x11 = -(o11 / 2 + G10 + B10) / 35) : "round-hexagon" === a11 ? f11 = (o11 + G10 + B10) * 1.12 : "round-pentagon" === a11 ? (f11 = (o11 + G10 + B10) * 1.13, x11 = -(o11 / 2 + G10 + B10) / 15) : "round-tag" === a11 ? (f11 = (o11 + G10 + B10) * 1.12, v11 = (o11 / 2 + B10 + G10) * 0.07) : "round-triangle" === a11 && (f11 = Math.PI / 2 * (o11 + G10 + B10), x11 = -(o11 + G10 / 2 + B10) / Math.PI), 0 === f11 || (s11 = (i10 + f11) / i10, h11 = i10 * s11, ["round-hexagon", "round-tag"].includes(a11) || (l11 = (n10 + f11) / n10, d11 = n10 * l11)), q10 = "auto" === q10 ? WG(h11, d11) : q10;
          for (var b11 = h11 / 2, w11 = d11 / 2, k11 = q10 + (o11 + B10 + G10) / 2, _11 = Array(p11.length / 2), T11 = Array(p11.length / 2), E11 = 0; E11 < p11.length / 2; E11++) _11[E11] = { x: r11.x + v11 + b11 * p11[2 * E11], y: r11.y + x11 + w11 * p11[2 * E11 + 1] };
          var C11, S11, L11, N11, I11, M11 = _11.length;
          for (S11 = 0, L11 = _11[M11 - 1]; S11 < M11; S11++) N11 = _11[S11 % M11], I11 = _11[(S11 + 1) % M11], T11[S11] = teW(L11, N11, I11, k11), L11 = N11, N11 = I11;
          u10.drawRoundPolygonPath(C11 || t33, r11.x + v11, r11.y + x11, i10 * s11, n10 * l11, p11, T11);
        } else ["roundrectangle", "round-rectangle"].includes(a11) ? (q10 = "auto" === q10 ? WU(h11, d11) : q10, u10.drawRoundRectanglePath(C11 || t33, r11.x, r11.y, h11, d11, q10 + (o11 + B10 + G10) / 2)) : ["cutrectangle", "cut-rectangle"].includes(a11) ? (q10 = "auto" === q10 ? Wq() : q10, u10.drawCutRectanglePath(C11 || t33, r11.x, r11.y, h11, d11, null, q10 + (o11 + B10 + G10) / 4)) : ["bottomroundrectangle", "bottom-round-rectangle"].includes(a11) ? (q10 = "auto" === q10 ? WU(h11, d11) : q10, u10.drawBottomRoundRectanglePath(C11 || t33, r11.x, r11.y, h11, d11, q10 + (o11 + B10 + G10) / 2)) : "barrel" === a11 ? u10.drawBarrelPath(C11 || t33, r11.x, r11.y, h11, d11) : (p11 = a11.startsWith("polygon") || ["rhomboid", "right-rhomboid", "round-tag", "tag", "vee"].includes(a11) ? WA(WL(p11, (o11 + B10 + G10) / i10)) : WA(WL(p11, -((o11 + B10 + G10) / i10))), u10.drawPolygonPath(C11 || t33, r11.x, r11.y, i10, n10, p11));
        if (y10 ? t33.stroke(C11) : t33.stroke(), "double" === z10) {
          t33.lineWidth = o11 / 3;
          var R11 = t33.globalCompositeOperation;
          t33.globalCompositeOperation = "destination-out", y10 ? t33.stroke(C11) : t33.stroke(), t33.globalCompositeOperation = R11;
        }
        t33.setLineDash && t33.setLineDash([]);
      }
    };
    if ("yes" === e10.pstyle("ghost").value) {
      var ti10 = e10.pstyle("ghost-offset-x").pfValue, tn10 = e10.pstyle("ghost-offset-y").pfValue, ta10 = e10.pstyle("ghost-opacity").value, to10 = ta10 * f10;
      t33.translate(ti10, tn10), j10(), tr10(), Y10(ta10 * L10), Z10(), Q10(to10, true), H10(ta10 * $10), te10(), J10(0 !== S10 || 0 !== A10), Q10(to10, false), tt10(to10), t33.translate(-ti10, -tn10);
    }
    y10 && t33.translate(-g10.x, -g10.y), l10 && u10.drawNodeUnderlay(t33, e10, g10, i10, n10), y10 && t33.translate(g10.x, g10.y), j10(), tr10(), Y10(), Z10(), Q10(f10, true), H10(), te10(), J10(0 !== S10 || 0 !== A10), Q10(f10, false), tt10(), y10 && t33.translate(-g10.x, -g10.y), u10.drawElementText(t33, e10, null, s10), l10 && u10.drawNodeOverlay(t33, e10, g10, i10, n10), r10 && t33.translate(o10.x1, o10.y1);
  }
};
var trD = function(t33) {
  if (!["overlay", "underlay"].includes(t33)) throw Error("Invalid state");
  return function(e10, r10, i10, n10, a10) {
    if (r10.visible()) {
      var o10 = r10.pstyle("".concat(t33, "-padding")).pfValue, s10 = r10.pstyle("".concat(t33, "-opacity")).value, l10 = r10.pstyle("".concat(t33, "-color")).value, h10 = r10.pstyle("".concat(t33, "-shape")).value, u10 = r10.pstyle("".concat(t33, "-corner-radius")).value;
      if (s10 > 0) {
        if (i10 = i10 || r10.position(), null == n10 || null == a10) {
          var d10 = r10.padding();
          n10 = r10.width() + 2 * d10, a10 = r10.height() + 2 * d10;
        }
        this.colorFillStyle(e10, l10[0], l10[1], l10[2], s10), this.nodeShapes[h10].draw(e10, i10.x, i10.y, n10 + 2 * o10, a10 + 2 * o10, u10), e10.fill();
      }
    }
  };
};
trR.drawNodeOverlay = trD("overlay"), trR.drawNodeUnderlay = trD("underlay"), trR.hasPie = function(t33) {
  return (t33 = t33[0])._private.hasPie;
}, trR.drawPie = function(t33, e10, r10, i10) {
  e10 = e10[0], i10 = i10 || e10.position();
  var n10 = e10.cy().style(), a10 = e10.pstyle("pie-size"), o10 = i10.x, s10 = i10.y, l10 = Math.min(e10.width(), e10.height()) / 2, h10 = 0;
  this.usePaths() && (o10 = 0, s10 = 0), "%" === a10.units ? l10 *= a10.pfValue : void 0 !== a10.pfValue && (l10 = a10.pfValue / 2);
  for (var u10 = 1; u10 <= n10.pieBackgroundN; u10++) {
    var d10 = e10.pstyle("pie-" + u10 + "-background-size").value, p10 = e10.pstyle("pie-" + u10 + "-background-color").value, g10 = e10.pstyle("pie-" + u10 + "-background-opacity").value * r10, f10 = d10 / 100;
    f10 + h10 > 1 && (f10 = 1 - h10);
    var y10 = 1.5 * Math.PI + 2 * Math.PI * h10, v10 = y10 + 2 * Math.PI * f10;
    0 === d10 || h10 >= 1 || h10 + f10 > 1 || (t33.beginPath(), t33.moveTo(o10, s10), t33.arc(o10, s10, l10, y10, v10), t33.closePath(), this.colorFillStyle(t33, p10[0], p10[1], p10[2], g10), t33.fill(), h10 += f10);
  }
};
var trO = {};
trO.getPixelRatio = function() {
  var t33 = this.data.contexts[0];
  if (null != this.forcedPixelRatio) return this.forcedPixelRatio;
  var e10 = this.cy.window(), r10 = t33.backingStorePixelRatio || t33.webkitBackingStorePixelRatio || t33.mozBackingStorePixelRatio || t33.msBackingStorePixelRatio || t33.oBackingStorePixelRatio || t33.backingStorePixelRatio || 1;
  return (e10.devicePixelRatio || 1) / r10;
}, trO.paintCache = function(t33) {
  for (var e10, r10 = this.paintCaches = this.paintCaches || [], i10 = true, n10 = 0; n10 < r10.length; n10++) if ((e10 = r10[n10]).context === t33) {
    i10 = false;
    break;
  }
  return i10 && (e10 = { context: t33 }, r10.push(e10)), e10;
}, trO.createGradientStyleFor = function(t33, e10, r10, i10, n10) {
  var a10, o10 = this.usePaths(), s10 = r10.pstyle(e10 + "-gradient-stop-colors").value, l10 = r10.pstyle(e10 + "-gradient-stop-positions").pfValue;
  if ("radial-gradient" === i10) {
    if (r10.isEdge()) {
      var h10 = r10.sourceEndpoint(), u10 = r10.targetEndpoint(), d10 = r10.midpoint(), p10 = We(h10, d10), g10 = We(u10, d10);
      a10 = t33.createRadialGradient(d10.x, d10.y, 0, d10.x, d10.y, Math.max(p10, g10));
    } else {
      var f10 = o10 ? { x: 0, y: 0 } : r10.position(), y10 = r10.paddedWidth(), v10 = r10.paddedHeight();
      a10 = t33.createRadialGradient(f10.x, f10.y, 0, f10.x, f10.y, Math.max(y10, v10));
    }
  } else if (r10.isEdge()) {
    var x10 = r10.sourceEndpoint(), b10 = r10.targetEndpoint();
    a10 = t33.createLinearGradient(x10.x, x10.y, b10.x, b10.y);
  } else {
    var w10 = o10 ? { x: 0, y: 0 } : r10.position(), k10 = r10.paddedWidth(), _10 = r10.paddedHeight(), T10 = k10 / 2, E10 = _10 / 2;
    switch (r10.pstyle("background-gradient-direction").value) {
      case "to-bottom":
        a10 = t33.createLinearGradient(w10.x, w10.y - E10, w10.x, w10.y + E10);
        break;
      case "to-top":
        a10 = t33.createLinearGradient(w10.x, w10.y + E10, w10.x, w10.y - E10);
        break;
      case "to-left":
        a10 = t33.createLinearGradient(w10.x + T10, w10.y, w10.x - T10, w10.y);
        break;
      case "to-right":
        a10 = t33.createLinearGradient(w10.x - T10, w10.y, w10.x + T10, w10.y);
        break;
      case "to-bottom-right":
      case "to-right-bottom":
        a10 = t33.createLinearGradient(w10.x - T10, w10.y - E10, w10.x + T10, w10.y + E10);
        break;
      case "to-top-right":
      case "to-right-top":
        a10 = t33.createLinearGradient(w10.x - T10, w10.y + E10, w10.x + T10, w10.y - E10);
        break;
      case "to-bottom-left":
      case "to-left-bottom":
        a10 = t33.createLinearGradient(w10.x + T10, w10.y - E10, w10.x - T10, w10.y + E10);
        break;
      case "to-top-left":
      case "to-left-top":
        a10 = t33.createLinearGradient(w10.x + T10, w10.y + E10, w10.x - T10, w10.y - E10);
    }
  }
  if (!a10) return null;
  for (var C10 = l10.length === s10.length, S10 = s10.length, A10 = 0; A10 < S10; A10++) a10.addColorStop(C10 ? l10[A10] : A10 / (S10 - 1), "rgba(" + s10[A10][0] + "," + s10[A10][1] + "," + s10[A10][2] + "," + n10 + ")");
  return a10;
}, trO.gradientFillStyle = function(t33, e10, r10, i10) {
  var n10 = this.createGradientStyleFor(t33, "background", e10, r10, i10);
  if (!n10) return null;
  t33.fillStyle = n10;
}, trO.colorFillStyle = function(t33, e10, r10, i10, n10) {
  t33.fillStyle = "rgba(" + e10 + "," + r10 + "," + i10 + "," + n10 + ")";
}, trO.eleFillStyle = function(t33, e10, r10) {
  var i10 = e10.pstyle("background-fill").value;
  if ("linear-gradient" === i10 || "radial-gradient" === i10) this.gradientFillStyle(t33, e10, i10, r10);
  else {
    var n10 = e10.pstyle("background-color").value;
    this.colorFillStyle(t33, n10[0], n10[1], n10[2], r10);
  }
}, trO.gradientStrokeStyle = function(t33, e10, r10, i10) {
  var n10 = this.createGradientStyleFor(t33, "line", e10, r10, i10);
  if (!n10) return null;
  t33.strokeStyle = n10;
}, trO.colorStrokeStyle = function(t33, e10, r10, i10, n10) {
  t33.strokeStyle = "rgba(" + e10 + "," + r10 + "," + i10 + "," + n10 + ")";
}, trO.eleStrokeStyle = function(t33, e10, r10) {
  var i10 = e10.pstyle("line-fill").value;
  if ("linear-gradient" === i10 || "radial-gradient" === i10) this.gradientStrokeStyle(t33, e10, i10, r10);
  else {
    var n10 = e10.pstyle("line-color").value;
    this.colorStrokeStyle(t33, n10[0], n10[1], n10[2], r10);
  }
}, trO.matchCanvasSize = function(t33) {
  var e10, r10 = this.data, i10 = this.findContainerClientCoords(), n10 = i10[2], a10 = i10[3], o10 = this.getPixelRatio(), s10 = this.motionBlurPxRatio;
  (t33 === this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_NODE] || t33 === this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_DRAG]) && (o10 = s10);
  var l10 = n10 * o10, h10 = a10 * o10;
  if (l10 !== this.canvasWidth || h10 !== this.canvasHeight) {
    this.fontCaches = null;
    var u10 = r10.canvasContainer;
    u10.style.width = n10 + "px", u10.style.height = a10 + "px";
    for (var d10 = 0; d10 < this.CANVAS_LAYERS; d10++) (e10 = r10.canvases[d10]).width = l10, e10.height = h10, e10.style.width = n10 + "px", e10.style.height = a10 + "px";
    for (var d10 = 0; d10 < this.BUFFER_COUNT; d10++) (e10 = r10.bufferCanvases[d10]).width = l10, e10.height = h10, e10.style.width = n10 + "px", e10.style.height = a10 + "px";
    this.textureMult = 1, o10 <= 1 && (e10 = r10.bufferCanvases[this.TEXTURE_BUFFER], this.textureMult = 2, e10.width = l10 * this.textureMult, e10.height = h10 * this.textureMult), this.canvasWidth = l10, this.canvasHeight = h10;
  }
}, trO.renderTo = function(t33, e10, r10, i10) {
  this.render({ forcedContext: t33, forcedZoom: e10, forcedPan: r10, drawAllLayers: true, forcedPxRatio: i10 });
}, trO.render = function(t33) {
  var e10 = (t33 = t33 || jR()).forcedContext, r10 = t33.drawAllLayers, i10 = t33.drawOnlyNodeLayer, n10 = t33.forcedZoom, a10 = t33.forcedPan, o10 = this, s10 = void 0 === t33.forcedPxRatio ? this.getPixelRatio() : t33.forcedPxRatio, l10 = o10.cy, h10 = o10.data, u10 = h10.canvasNeedsRedraw, d10 = o10.textureOnViewport && !e10 && (o10.pinching || o10.hoverData.dragging || o10.swipePanning || o10.data.wheelZooming), p10 = void 0 !== t33.motionBlur ? t33.motionBlur : o10.motionBlur, g10 = o10.motionBlurPxRatio, f10 = l10.hasCompoundNodes(), y10 = o10.hoverData.draggingEles, v10 = !!o10.hoverData.selecting || !!o10.touchData.selecting, x10 = p10 = p10 && !e10 && o10.motionBlurEnabled && !v10;
  e10 || (o10.prevPxRatio !== s10 && (o10.invalidateContainerClientCoordsCache(), o10.matchCanvasSize(o10.container), o10.redrawHint("eles", true), o10.redrawHint("drag", true)), o10.prevPxRatio = s10), !e10 && o10.motionBlurTimeout && clearTimeout(o10.motionBlurTimeout), p10 && (null == o10.mbFrames && (o10.mbFrames = 0), o10.mbFrames++, o10.mbFrames < 3 && (x10 = false), o10.mbFrames > o10.minMbLowQualFrames && (o10.motionBlurPxRatio = o10.mbPxRBlurry)), o10.clearingMotionBlur && (o10.motionBlurPxRatio = 1), o10.textureDrawLastFrame && !d10 && (u10[o10.NODE] = true, u10[o10.SELECT_BOX] = true);
  var b10 = l10.style(), w10 = l10.zoom(), k10 = void 0 !== n10 ? n10 : w10, _10 = l10.pan(), T10 = { x: _10.x, y: _10.y }, E10 = { zoom: w10, pan: { x: _10.x, y: _10.y } }, C10 = o10.prevViewport;
  void 0 === C10 || E10.zoom !== C10.zoom || E10.pan.x !== C10.pan.x || E10.pan.y !== C10.pan.y || y10 && !f10 || (o10.motionBlurPxRatio = 1), a10 && (T10 = a10), k10 *= s10, T10.x *= s10, T10.y *= s10;
  var S10 = o10.getCachedZSortedEles();
  function A10(t34, e11, r11, i11, n11) {
    var a11 = t34.globalCompositeOperation;
    t34.globalCompositeOperation = "destination-out", o10.colorFillStyle(t34, 255, 255, 255, o10.motionBlurTransparency), t34.fillRect(e11, r11, i11, n11), t34.globalCompositeOperation = a11;
  }
  function L10(t34, i11) {
    var s11, l11, u11, d11;
    o10.clearingMotionBlur || t34 !== h10.bufferContexts[o10.MOTIONBLUR_BUFFER_NODE] && t34 !== h10.bufferContexts[o10.MOTIONBLUR_BUFFER_DRAG] ? (s11 = T10, l11 = k10, u11 = o10.canvasWidth, d11 = o10.canvasHeight) : (s11 = { x: _10.x * g10, y: _10.y * g10 }, l11 = w10 * g10, u11 = o10.canvasWidth * g10, d11 = o10.canvasHeight * g10), t34.setTransform(1, 0, 0, 1, 0, 0), "motionBlur" === i11 ? A10(t34, 0, 0, u11, d11) : !e10 && (void 0 === i11 || i11) && t34.clearRect(0, 0, u11, d11), r10 || (t34.translate(s11.x, s11.y), t34.scale(l11, l11)), a10 && t34.translate(a10.x, a10.y), n10 && t34.scale(n10, n10);
  }
  if (d10 || (o10.textureDrawLastFrame = false), d10) {
    if (o10.textureDrawLastFrame = true, !o10.textureCache) {
      o10.textureCache = {}, o10.textureCache.bb = l10.mutableElements().boundingBox(), o10.textureCache.texture = o10.data.bufferCanvases[o10.TEXTURE_BUFFER];
      var N10 = o10.data.bufferContexts[o10.TEXTURE_BUFFER];
      N10.setTransform(1, 0, 0, 1, 0, 0), N10.clearRect(0, 0, o10.canvasWidth * o10.textureMult, o10.canvasHeight * o10.textureMult), o10.render({ forcedContext: N10, drawOnlyNodeLayer: true, forcedPxRatio: s10 * o10.textureMult });
      var E10 = o10.textureCache.viewport = { zoom: l10.zoom(), pan: l10.pan(), width: o10.canvasWidth, height: o10.canvasHeight };
      E10.mpan = { x: (0 - E10.pan.x) / E10.zoom, y: (0 - E10.pan.y) / E10.zoom };
    }
    u10[o10.DRAG] = false, u10[o10.NODE] = false;
    var I10 = h10.contexts[o10.NODE], M10 = o10.textureCache.texture, E10 = o10.textureCache.viewport;
    I10.setTransform(1, 0, 0, 1, 0, 0), p10 ? A10(I10, 0, 0, E10.width, E10.height) : I10.clearRect(0, 0, E10.width, E10.height);
    var R10 = b10.core("outside-texture-bg-color").value, D10 = b10.core("outside-texture-bg-opacity").value;
    o10.colorFillStyle(I10, R10[0], R10[1], R10[2], D10), I10.fillRect(0, 0, E10.width, E10.height);
    var w10 = l10.zoom();
    L10(I10, false), I10.clearRect(E10.mpan.x, E10.mpan.y, E10.width / E10.zoom / s10, E10.height / E10.zoom / s10), I10.drawImage(M10, E10.mpan.x, E10.mpan.y, E10.width / E10.zoom / s10, E10.height / E10.zoom / s10);
  } else o10.textureOnViewport && !e10 && (o10.textureCache = null);
  var O10 = l10.extent(), P10 = o10.pinching || o10.hoverData.dragging || o10.swipePanning || o10.data.wheelZooming || o10.hoverData.draggingEles || o10.cy.animated(), $10 = o10.hideEdgesOnViewport && P10, B10 = [];
  if (B10[o10.NODE] = !u10[o10.NODE] && p10 && !o10.clearedForMotionBlur[o10.NODE] || o10.clearingMotionBlur, B10[o10.NODE] && (o10.clearedForMotionBlur[o10.NODE] = true), B10[o10.DRAG] = !u10[o10.DRAG] && p10 && !o10.clearedForMotionBlur[o10.DRAG] || o10.clearingMotionBlur, B10[o10.DRAG] && (o10.clearedForMotionBlur[o10.DRAG] = true), u10[o10.NODE] || r10 || i10 || B10[o10.NODE]) {
    var F10 = p10 && !B10[o10.NODE] && 1 !== g10, I10 = e10 || (F10 ? o10.data.bufferContexts[o10.MOTIONBLUR_BUFFER_NODE] : h10.contexts[o10.NODE]);
    L10(I10, p10 && !F10 ? "motionBlur" : void 0), $10 ? o10.drawCachedNodes(I10, S10.nondrag, s10, O10) : o10.drawLayeredElements(I10, S10.nondrag, s10, O10), o10.debug && o10.drawDebugPoints(I10, S10.nondrag), r10 || p10 || (u10[o10.NODE] = false);
  }
  if (!i10 && (u10[o10.DRAG] || r10 || B10[o10.DRAG])) {
    var F10 = p10 && !B10[o10.DRAG] && 1 !== g10, I10 = e10 || (F10 ? o10.data.bufferContexts[o10.MOTIONBLUR_BUFFER_DRAG] : h10.contexts[o10.DRAG]);
    L10(I10, p10 && !F10 ? "motionBlur" : void 0), $10 ? o10.drawCachedNodes(I10, S10.drag, s10, O10) : o10.drawCachedElements(I10, S10.drag, s10, O10), o10.debug && o10.drawDebugPoints(I10, S10.drag), r10 || p10 || (u10[o10.DRAG] = false);
  }
  if (o10.showFps || !i10 && u10[o10.SELECT_BOX] && !r10) {
    var I10 = e10 || h10.contexts[o10.SELECT_BOX];
    if (L10(I10), 1 == o10.selection[4] && (o10.hoverData.selecting || o10.touchData.selecting)) {
      var w10 = o10.cy.zoom(), z10 = b10.core("selection-box-border-width").value / w10;
      I10.lineWidth = z10, I10.fillStyle = "rgba(" + b10.core("selection-box-color").value[0] + "," + b10.core("selection-box-color").value[1] + "," + b10.core("selection-box-color").value[2] + "," + b10.core("selection-box-opacity").value + ")", I10.fillRect(o10.selection[0], o10.selection[1], o10.selection[2] - o10.selection[0], o10.selection[3] - o10.selection[1]), z10 > 0 && (I10.strokeStyle = "rgba(" + b10.core("selection-box-border-color").value[0] + "," + b10.core("selection-box-border-color").value[1] + "," + b10.core("selection-box-border-color").value[2] + "," + b10.core("selection-box-opacity").value + ")", I10.strokeRect(o10.selection[0], o10.selection[1], o10.selection[2] - o10.selection[0], o10.selection[3] - o10.selection[1]));
    }
    if (h10.bgActivePosistion && !o10.hoverData.selecting) {
      var w10 = o10.cy.zoom(), U10 = h10.bgActivePosistion;
      I10.fillStyle = "rgba(" + b10.core("active-bg-color").value[0] + "," + b10.core("active-bg-color").value[1] + "," + b10.core("active-bg-color").value[2] + "," + b10.core("active-bg-opacity").value + ")", I10.beginPath(), I10.arc(U10.x, U10.y, b10.core("active-bg-size").pfValue / w10, 0, 2 * Math.PI), I10.fill();
    }
    var G10 = o10.lastRedrawTime;
    if (o10.showFps && G10) {
      var q10 = Math.round(1e3 / (G10 = Math.round(G10)));
      I10.setTransform(1, 0, 0, 1, 0, 0), I10.fillStyle = "rgba(255, 0, 0, 0.75)", I10.strokeStyle = "rgba(255, 0, 0, 0.75)", I10.lineWidth = 1, I10.fillText("1 frame = " + G10 + " ms = " + q10 + " fps", 0, 20), I10.strokeRect(0, 30, 250, 20), I10.fillRect(0, 30, 250 * Math.min(q10 / 60, 1), 20);
    }
    r10 || (u10[o10.SELECT_BOX] = false);
  }
  if (p10 && 1 !== g10) {
    var Y10 = h10.contexts[o10.NODE], H10 = o10.data.bufferCanvases[o10.MOTIONBLUR_BUFFER_NODE], j10 = h10.contexts[o10.DRAG], W10 = o10.data.bufferCanvases[o10.MOTIONBLUR_BUFFER_DRAG], V10 = function(t34, e11, r11) {
      t34.setTransform(1, 0, 0, 1, 0, 0), r11 || !x10 ? t34.clearRect(0, 0, o10.canvasWidth, o10.canvasHeight) : A10(t34, 0, 0, o10.canvasWidth, o10.canvasHeight), t34.drawImage(e11, 0, 0, o10.canvasWidth * g10, o10.canvasHeight * g10, 0, 0, o10.canvasWidth, o10.canvasHeight);
    };
    (u10[o10.NODE] || B10[o10.NODE]) && (V10(Y10, H10, B10[o10.NODE]), u10[o10.NODE] = false), (u10[o10.DRAG] || B10[o10.DRAG]) && (V10(j10, W10, B10[o10.DRAG]), u10[o10.DRAG] = false);
  }
  o10.prevViewport = E10, o10.clearingMotionBlur && (o10.clearingMotionBlur = false, o10.motionBlurCleared = true, o10.motionBlur = true), p10 && (o10.motionBlurTimeout = setTimeout(function() {
    o10.motionBlurTimeout = null, o10.clearedForMotionBlur[o10.NODE] = false, o10.clearedForMotionBlur[o10.DRAG] = false, o10.motionBlur = false, o10.clearingMotionBlur = !d10, o10.mbFrames = 0, u10[o10.NODE] = true, u10[o10.DRAG] = true, o10.redraw();
  }, 100)), e10 || l10.emit("render");
};
var trP = {};
trP.drawPolygonPath = function(t33, e10, r10, i10, n10, a10) {
  var o10 = i10 / 2, s10 = n10 / 2;
  t33.beginPath && t33.beginPath(), t33.moveTo(e10 + o10 * a10[0], r10 + s10 * a10[1]);
  for (var l10 = 1; l10 < a10.length / 2; l10++) t33.lineTo(e10 + o10 * a10[2 * l10], r10 + s10 * a10[2 * l10 + 1]);
  t33.closePath();
}, trP.drawRoundPolygonPath = function(t33, e10, r10, i10, n10, a10, o10) {
  o10.forEach(function(e11) {
    return tej(t33, e11);
  }), t33.closePath();
}, trP.drawRoundRectanglePath = function(t33, e10, r10, i10, n10, a10) {
  var o10 = i10 / 2, s10 = n10 / 2, l10 = "auto" === a10 ? WU(i10, n10) : Math.min(a10, s10, o10);
  t33.beginPath && t33.beginPath(), t33.moveTo(e10, r10 - s10), t33.arcTo(e10 + o10, r10 - s10, e10 + o10, r10, l10), t33.arcTo(e10 + o10, r10 + s10, e10, r10 + s10, l10), t33.arcTo(e10 - o10, r10 + s10, e10 - o10, r10, l10), t33.arcTo(e10 - o10, r10 - s10, e10, r10 - s10, l10), t33.lineTo(e10, r10 - s10), t33.closePath();
}, trP.drawBottomRoundRectanglePath = function(t33, e10, r10, i10, n10, a10) {
  var o10 = i10 / 2, s10 = n10 / 2, l10 = "auto" === a10 ? WU(i10, n10) : a10;
  t33.beginPath && t33.beginPath(), t33.moveTo(e10, r10 - s10), t33.lineTo(e10 + o10, r10 - s10), t33.lineTo(e10 + o10, r10), t33.arcTo(e10 + o10, r10 + s10, e10, r10 + s10, l10), t33.arcTo(e10 - o10, r10 + s10, e10 - o10, r10, l10), t33.lineTo(e10 - o10, r10 - s10), t33.lineTo(e10, r10 - s10), t33.closePath();
}, trP.drawCutRectanglePath = function(t33, e10, r10, i10, n10, a10, o10) {
  var s10 = i10 / 2, l10 = n10 / 2, h10 = "auto" === o10 ? Wq() : o10;
  t33.beginPath && t33.beginPath(), t33.moveTo(e10 - s10 + h10, r10 - l10), t33.lineTo(e10 + s10 - h10, r10 - l10), t33.lineTo(e10 + s10, r10 - l10 + h10), t33.lineTo(e10 + s10, r10 + l10 - h10), t33.lineTo(e10 + s10 - h10, r10 + l10), t33.lineTo(e10 - s10 + h10, r10 + l10), t33.lineTo(e10 - s10, r10 + l10 - h10), t33.lineTo(e10 - s10, r10 - l10 + h10), t33.closePath();
}, trP.drawBarrelPath = function(t33, e10, r10, i10, n10) {
  var a10 = i10 / 2, o10 = n10 / 2, s10 = e10 - a10, l10 = e10 + a10, h10 = r10 - o10, u10 = r10 + o10, d10 = WY(i10, n10), p10 = d10.widthOffset, g10 = d10.heightOffset, f10 = d10.ctrlPtOffsetPct * p10;
  t33.beginPath && t33.beginPath(), t33.moveTo(s10, h10 + g10), t33.lineTo(s10, u10 - g10), t33.quadraticCurveTo(s10 + f10, u10, s10 + p10, u10), t33.lineTo(l10 - p10, u10), t33.quadraticCurveTo(l10 - f10, u10, l10, u10 - g10), t33.lineTo(l10, h10 + g10), t33.quadraticCurveTo(l10 - f10, h10, l10 - p10, h10), t33.lineTo(s10 + p10, h10), t33.quadraticCurveTo(s10 + f10, h10, s10, h10 + g10), t33.closePath();
};
for (var tr$ = {}, trB = {}, trF = Math.PI / 40, trz = 0 * Math.PI; trz < 2 * Math.PI; trz += trF) tr$[trz] = Math.sin(trz), trB[trz] = Math.cos(trz);
trP.drawEllipsePath = function(t33, e10, r10, i10, n10) {
  if (t33.beginPath && t33.beginPath(), t33.ellipse) t33.ellipse(e10, r10, i10 / 2, n10 / 2, 0, 0, 2 * Math.PI);
  else for (var a10, o10, s10 = i10 / 2, l10 = n10 / 2, h10 = 0 * Math.PI; h10 < 2 * Math.PI; h10 += trF) a10 = e10 - s10 * tr$[h10] * 0 + s10 * trB[h10] * 1, o10 = r10 + l10 * trB[h10] * 0 + l10 * tr$[h10] * 1, 0 === h10 ? t33.moveTo(a10, o10) : t33.lineTo(a10, o10);
  t33.closePath();
};
var trU = {};
function trG(t33) {
  var e10 = t33.indexOf(",");
  return t33.substr(e10 + 1);
}
function trq(t33, e10, r10) {
  var i10 = function() {
    return e10.toDataURL(r10, t33.quality);
  };
  switch (t33.output) {
    case "blob-promise":
      return new VV(function(i11, n10) {
        try {
          e10.toBlob(function(t34) {
            null != t34 ? i11(t34) : n10(Error("`canvas.toBlob()` sent a null value in its callback"));
          }, r10, t33.quality);
        } catch (t34) {
          n10(t34);
        }
      });
    case "blob":
      return function(t34, e11) {
        for (var r11 = atob(t34), i11 = new ArrayBuffer(r11.length), n10 = new Uint8Array(i11), a10 = 0; a10 < r11.length; a10++) n10[a10] = r11.charCodeAt(a10);
        return new Blob([i11], { type: e11 });
      }(trG(i10()), r10);
    case "base64":
      return trG(i10());
    default:
      return i10();
  }
}
trU.createBuffer = function(t33, e10) {
  var r10 = document.createElement("canvas");
  return r10.width = t33, r10.height = e10, [r10, r10.getContext("2d")];
}, trU.bufferCanvasImage = function(t33) {
  var e10 = this.cy, r10 = e10.mutableElements().boundingBox(), i10 = this.findContainerClientCoords(), n10 = t33.full ? Math.ceil(r10.w) : i10[2], a10 = t33.full ? Math.ceil(r10.h) : i10[3], o10 = Hf(t33.maxWidth) || Hf(t33.maxHeight), s10 = this.getPixelRatio(), l10 = 1;
  if (void 0 !== t33.scale) n10 *= t33.scale, a10 *= t33.scale, l10 = t33.scale;
  else if (o10) {
    var h10 = 1 / 0, u10 = 1 / 0;
    Hf(t33.maxWidth) && (h10 = l10 * t33.maxWidth / n10), Hf(t33.maxHeight) && (u10 = l10 * t33.maxHeight / a10), n10 *= l10 = Math.min(h10, u10), a10 *= l10;
  }
  o10 || (n10 *= s10, a10 *= s10, l10 *= s10);
  var d10 = document.createElement("canvas");
  d10.width = n10, d10.height = a10, d10.style.width = n10 + "px", d10.style.height = a10 + "px";
  var p10 = d10.getContext("2d");
  if (n10 > 0 && a10 > 0) {
    p10.clearRect(0, 0, n10, a10), p10.globalCompositeOperation = "source-over";
    var g10 = this.getCachedZSortedEles();
    if (t33.full) p10.translate(-r10.x1 * l10, -r10.y1 * l10), p10.scale(l10, l10), this.drawElements(p10, g10), p10.scale(1 / l10, 1 / l10), p10.translate(r10.x1 * l10, r10.y1 * l10);
    else {
      var f10 = e10.pan(), y10 = { x: f10.x * l10, y: f10.y * l10 };
      l10 *= e10.zoom(), p10.translate(y10.x, y10.y), p10.scale(l10, l10), this.drawElements(p10, g10), p10.scale(1 / l10, 1 / l10), p10.translate(-y10.x, -y10.y);
    }
    t33.bg && (p10.globalCompositeOperation = "destination-over", p10.fillStyle = t33.bg, p10.rect(0, 0, n10, a10), p10.fill());
  }
  return d10;
}, trU.png = function(t33) {
  return trq(t33, this.bufferCanvasImage(t33), "image/png");
}, trU.jpg = function(t33) {
  return trq(t33, this.bufferCanvasImage(t33), "image/jpeg");
};
var trY = {};
trY.nodeShapeImpl = function(t33, e10, r10, i10, n10, a10, o10, s10) {
  switch (t33) {
    case "ellipse":
      return this.drawEllipsePath(e10, r10, i10, n10, a10);
    case "polygon":
      return this.drawPolygonPath(e10, r10, i10, n10, a10, o10);
    case "round-polygon":
      return this.drawRoundPolygonPath(e10, r10, i10, n10, a10, o10, s10);
    case "roundrectangle":
    case "round-rectangle":
      return this.drawRoundRectanglePath(e10, r10, i10, n10, a10, s10);
    case "cutrectangle":
    case "cut-rectangle":
      return this.drawCutRectanglePath(e10, r10, i10, n10, a10, o10, s10);
    case "bottomroundrectangle":
    case "bottom-round-rectangle":
      return this.drawBottomRoundRectanglePath(e10, r10, i10, n10, a10, s10);
    case "barrel":
      return this.drawBarrelPath(e10, r10, i10, n10, a10);
  }
};
var trH = trj.prototype;
function trj(t33) {
  var e10 = this, r10 = e10.cy.window().document;
  e10.data = { canvases: Array(trH.CANVAS_LAYERS), contexts: Array(trH.CANVAS_LAYERS), canvasNeedsRedraw: Array(trH.CANVAS_LAYERS), bufferCanvases: Array(trH.BUFFER_COUNT), bufferContexts: Array(trH.CANVAS_LAYERS) };
  var i10 = "-webkit-tap-highlight-color", n10 = "rgba(0,0,0,0)";
  e10.data.canvasContainer = r10.createElement("div");
  var a10 = e10.data.canvasContainer.style;
  e10.data.canvasContainer.style[i10] = n10, a10.position = "relative", a10.zIndex = "0", a10.overflow = "hidden";
  var o10 = t33.cy.container();
  o10.appendChild(e10.data.canvasContainer), o10.style[i10] = n10;
  var s10 = { "-webkit-user-select": "none", "-moz-user-select": "-moz-none", "user-select": "none", "-webkit-tap-highlight-color": "rgba(0,0,0,0)", "outline-style": "none" };
  Ha && Ha.userAgent.match(/msie|trident|edge/i) && (s10["-ms-touch-action"] = "none", s10["touch-action"] = "none");
  for (var l10 = 0; l10 < trH.CANVAS_LAYERS; l10++) {
    var h10 = e10.data.canvases[l10] = r10.createElement("canvas");
    e10.data.contexts[l10] = h10.getContext("2d"), Object.keys(s10).forEach(function(t34) {
      h10.style[t34] = s10[t34];
    }), h10.style.position = "absolute", h10.setAttribute("data-id", "layer" + l10), h10.style.zIndex = String(trH.CANVAS_LAYERS - l10), e10.data.canvasContainer.appendChild(h10), e10.data.canvasNeedsRedraw[l10] = false;
  }
  e10.data.topCanvas = e10.data.canvases[0], e10.data.canvases[trH.NODE].setAttribute("data-id", "layer" + trH.NODE + "-node"), e10.data.canvases[trH.SELECT_BOX].setAttribute("data-id", "layer" + trH.SELECT_BOX + "-selectbox"), e10.data.canvases[trH.DRAG].setAttribute("data-id", "layer" + trH.DRAG + "-drag");
  for (var l10 = 0; l10 < trH.BUFFER_COUNT; l10++) e10.data.bufferCanvases[l10] = r10.createElement("canvas"), e10.data.bufferContexts[l10] = e10.data.bufferCanvases[l10].getContext("2d"), e10.data.bufferCanvases[l10].style.position = "absolute", e10.data.bufferCanvases[l10].setAttribute("data-id", "buffer" + l10), e10.data.bufferCanvases[l10].style.zIndex = String(-l10 - 1), e10.data.bufferCanvases[l10].style.visibility = "hidden";
  e10.pathsEnabled = true;
  var u10 = Wl(), d10 = function(t34) {
    return { x: -t34.w / 2, y: -t34.h / 2 };
  }, p10 = function(t34) {
    return t34.boundingBox(), t34[0]._private.bodyBounds;
  }, g10 = function(t34) {
    return t34.boundingBox(), t34[0]._private.labelBounds.main || u10;
  }, f10 = function(t34) {
    return t34.boundingBox(), t34[0]._private.labelBounds.source || u10;
  }, y10 = function(t34) {
    return t34.boundingBox(), t34[0]._private.labelBounds.target || u10;
  }, v10 = function(t34, e11) {
    return e11;
  }, x10 = function(t34, e11, r11) {
    var i11 = t34 ? t34 + "-" : "";
    return { x: e11.x + r11.pstyle(i11 + "text-margin-x").pfValue, y: e11.y + r11.pstyle(i11 + "text-margin-y").pfValue };
  }, b10 = function(t34, e11, r11) {
    var i11 = t34[0]._private.rscratch;
    return { x: i11[e11], y: i11[r11] };
  }, w10 = e10.data.eleTxrCache = new trh(e10, { getKey: function(t34) {
    return t34[0]._private.nodeKey;
  }, doesEleInvalidateKey: function(t34) {
    var e11 = t34[0]._private;
    return e11.oldBackgroundTimestamp !== e11.backgroundTimestamp;
  }, drawElement: function(t34, r11, i11, n11, a11) {
    return e10.drawElement(t34, r11, i11, false, false, a11);
  }, getBoundingBox: p10, getRotationPoint: function(t34) {
    var e11;
    return { x: ((e11 = p10(t34)).x1 + e11.x2) / 2, y: (e11.y1 + e11.y2) / 2 };
  }, getRotationOffset: function(t34) {
    return d10(p10(t34));
  }, allowEdgeTxrCaching: false, allowParentTxrCaching: false }), k10 = e10.data.lblTxrCache = new trh(e10, { getKey: function(t34) {
    return t34[0]._private.labelStyleKey;
  }, drawElement: function(t34, r11, i11, n11, a11) {
    return e10.drawElementText(t34, r11, i11, n11, "main", a11);
  }, getBoundingBox: g10, getRotationPoint: function(t34) {
    return x10("", b10(t34, "labelX", "labelY"), t34);
  }, getRotationOffset: function(t34) {
    var e11 = g10(t34), r11 = d10(g10(t34));
    if (t34.isNode()) {
      switch (t34.pstyle("text-halign").value) {
        case "left":
          r11.x = -e11.w - (e11.leftPad || 0);
          break;
        case "right":
          r11.x = -(e11.rightPad || 0);
      }
      switch (t34.pstyle("text-valign").value) {
        case "top":
          r11.y = -e11.h - (e11.topPad || 0);
          break;
        case "bottom":
          r11.y = -(e11.botPad || 0);
      }
    }
    return r11;
  }, isVisible: v10 }), _10 = e10.data.slbTxrCache = new trh(e10, { getKey: function(t34) {
    return t34[0]._private.sourceLabelStyleKey;
  }, drawElement: function(t34, r11, i11, n11, a11) {
    return e10.drawElementText(t34, r11, i11, n11, "source", a11);
  }, getBoundingBox: f10, getRotationPoint: function(t34) {
    return x10("source", b10(t34, "sourceLabelX", "sourceLabelY"), t34);
  }, getRotationOffset: function(t34) {
    return d10(f10(t34));
  }, isVisible: v10 }), T10 = e10.data.tlbTxrCache = new trh(e10, { getKey: function(t34) {
    return t34[0]._private.targetLabelStyleKey;
  }, drawElement: function(t34, r11, i11, n11, a11) {
    return e10.drawElementText(t34, r11, i11, n11, "target", a11);
  }, getBoundingBox: y10, getRotationPoint: function(t34) {
    return x10("target", b10(t34, "targetLabelX", "targetLabelY"), t34);
  }, getRotationOffset: function(t34) {
    return d10(y10(t34));
  }, isVisible: v10 }), E10 = e10.data.lyrTxrCache = new tru(e10);
  e10.onUpdateEleCalcs(function(t34, e11) {
    w10.invalidateElements(e11), k10.invalidateElements(e11), _10.invalidateElements(e11), T10.invalidateElements(e11), E10.invalidateElements(e11);
    for (var r11 = 0; r11 < e11.length; r11++) {
      var i11 = e11[r11]._private;
      i11.oldBackgroundTimestamp = i11.backgroundTimestamp;
    }
  });
  var C10 = function(t34) {
    for (var e11 = 0; e11 < t34.length; e11++) E10.enqueueElementRefinement(t34[e11].ele);
  };
  w10.onDequeue(C10), k10.onDequeue(C10), _10.onDequeue(C10), T10.onDequeue(C10);
}
trH.CANVAS_LAYERS = 3, trH.SELECT_BOX = 0, trH.DRAG = 1, trH.NODE = 2, trH.BUFFER_COUNT = 3, trH.TEXTURE_BUFFER = 0, trH.MOTIONBLUR_BUFFER_NODE = 1, trH.MOTIONBLUR_BUFFER_DRAG = 2, trH.redrawHint = function(t33, e10) {
  switch (t33) {
    case "eles":
      this.data.canvasNeedsRedraw[trH.NODE] = e10;
      break;
    case "drag":
      this.data.canvasNeedsRedraw[trH.DRAG] = e10;
      break;
    case "select":
      this.data.canvasNeedsRedraw[trH.SELECT_BOX] = e10;
  }
};
var trW = "undefined" != typeof Path2D;
trH.path2dEnabled = function(t33) {
  if (void 0 === t33) return this.pathsEnabled;
  this.pathsEnabled = !!t33;
}, trH.usePaths = function() {
  return trW && this.pathsEnabled;
}, trH.setImgSmoothing = function(t33, e10) {
  null != t33.imageSmoothingEnabled ? t33.imageSmoothingEnabled = e10 : (t33.webkitImageSmoothingEnabled = e10, t33.mozImageSmoothingEnabled = e10, t33.msImageSmoothingEnabled = e10);
}, trH.getImgSmoothing = function(t33) {
  return null != t33.imageSmoothingEnabled ? t33.imageSmoothingEnabled : t33.webkitImageSmoothingEnabled || t33.mozImageSmoothingEnabled || t33.msImageSmoothingEnabled;
}, trH.makeOffscreenCanvas = function(t33, e10) {
  var r10;
  return ("undefined" == typeof OffscreenCanvas ? "undefined" : Y6(OffscreenCanvas)) !== "undefined" ? r10 = new OffscreenCanvas(t33, e10) : ((r10 = this.cy.window().document.createElement("canvas")).width = t33, r10.height = e10), r10;
}, [trg, trw, trA, trN, trI, trR, trO, trP, trU, trY].forEach(function(t33) {
  HO(trH, t33);
});
var trV = [{ name: "null", impl: Ql }, { name: "base", impl: trr }, { name: "canvas", impl: trj }], trX = {}, trK = {};
function trZ(t33, e10, r10) {
  var i10 = r10, n10 = function(r11) {
    jL("Can not register `" + e10 + "` for `" + t33 + "` since `" + r11 + "` already exists in the prototype and can not be overridden");
  };
  if ("core" === t33) {
    if (ZI.prototype[e10]) return n10(e10);
    ZI.prototype[e10] = r10;
  } else if ("collection" === t33) {
    if (Zt.prototype[e10]) return n10(e10);
    Zt.prototype[e10] = r10;
  } else if ("layout" === t33) {
    for (var a10 = function(t34) {
      this.options = t34, r10.call(this, t34), Hg(this._private) || (this._private = {}), this._private.cy = t34.cy, this._private.listeners = [], this.createEmitter();
    }, o10 = a10.prototype = Object.create(r10.prototype), s10 = [], l10 = 0; l10 < s10.length; l10++) {
      var h10 = s10[l10];
      o10[h10] = o10[h10] || function() {
        return this;
      };
    }
    o10.start && !o10.run ? o10.run = function() {
      return this.start(), this;
    } : !o10.start && o10.run && (o10.start = function() {
      return this.run(), this;
    });
    var u10 = r10.prototype.stop;
    o10.stop = function() {
      var t34 = this.options;
      if (t34 && t34.animate) {
        var e11 = this.animations;
        if (e11) for (var r11 = 0; r11 < e11.length; r11++) e11[r11].stop();
      }
      return u10 ? u10.call(this) : this.emit("layoutstop"), this;
    }, o10.destroy || (o10.destroy = function() {
      return this;
    }), o10.cy = function() {
      return this._private.cy;
    };
    var d10 = function(t34) {
      return t34._private.cy;
    }, p10 = { addEventFields: function(t34, e11) {
      e11.layout = t34, e11.cy = d10(t34), e11.target = t34;
    }, bubble: function() {
      return true;
    }, parent: function(t34) {
      return d10(t34);
    } };
    HO(o10, { createEmitter: function() {
      return this._private.emitter = new KI(p10, this), this;
    }, emitter: function() {
      return this._private.emitter;
    }, on: function(t34, e11) {
      return this.emitter().on(t34, e11), this;
    }, one: function(t34, e11) {
      return this.emitter().one(t34, e11), this;
    }, once: function(t34, e11) {
      return this.emitter().one(t34, e11), this;
    }, removeListener: function(t34, e11) {
      return this.emitter().removeListener(t34, e11), this;
    }, removeAllListeners: function() {
      return this.emitter().removeAllListeners(), this;
    }, emit: function(t34, e11) {
      return this.emitter().emit(t34, e11), this;
    } }), XO.eventAliasesOn(o10), i10 = a10;
  } else if ("renderer" === t33 && "null" !== e10 && "base" !== e10) {
    var g10 = trQ("renderer", "base"), f10 = g10.prototype, y10 = r10.prototype, v10 = function() {
      g10.apply(this, arguments), r10.apply(this, arguments);
    }, x10 = v10.prototype;
    for (var b10 in f10) {
      var w10 = f10[b10];
      if (null != y10[b10]) return n10(b10);
      x10[b10] = w10;
    }
    for (var k10 in y10) x10[k10] = y10[k10];
    f10.clientFunctions.forEach(function(t34) {
      x10[t34] = x10[t34] || function() {
        jS("Renderer does not implement `renderer." + t34 + "()` on its prototype");
      };
    }), i10 = v10;
  } else if ("__proto__" === t33 || "constructor" === t33 || "prototype" === t33) return jS(t33 + " is an illegal type to be registered, possibly lead to prototype pollutions");
  return Hz({ map: trX, keys: [t33, e10], value: i10 });
}
function trQ(t33, e10) {
  return HU({ map: trX, keys: [t33, e10] });
}
function trJ(t33, e10, r10, i10, n10) {
  return Hz({ map: trK, keys: [t33, e10, r10, i10], value: n10 });
}
function tr0(t33, e10, r10, i10) {
  return HU({ map: trK, keys: [t33, e10, r10, i10] });
}
var tr1 = function() {
  return 2 == arguments.length ? trQ.apply(null, arguments) : 3 == arguments.length ? trZ.apply(null, arguments) : 4 == arguments.length ? tr0.apply(null, arguments) : 5 == arguments.length ? trJ.apply(null, arguments) : void jS("Invalid extension access syntax");
};
ZI.prototype.extension = tr1, [{ type: "layout", extensions: Qs }, { type: "renderer", extensions: trV }].forEach(function(t33) {
  t33.extensions.forEach(function(e10) {
    trZ(t33.type, e10.name, e10.impl);
  });
});
var tr2 = function t32() {
  if (!(this instanceof t32)) return new t32();
  this.length = 0;
}, tr4 = tr2.prototype;
tr4.instanceString = function() {
  return "stylesheet";
}, tr4.selector = function(t33) {
  return this[this.length++] = { selector: t33, properties: [] }, this;
}, tr4.css = function(t33, e10) {
  var r10 = this.length - 1;
  if (Hu(t33)) this[r10].properties.push({ name: t33, value: e10 });
  else if (Hg(t33)) for (var i10 = Object.keys(t33), n10 = 0; n10 < i10.length; n10++) {
    var a10 = i10[n10], o10 = t33[a10];
    if (null != o10) {
      var s10 = ZS.properties[a10] || ZS.properties[HC(a10)];
      if (null != s10) {
        var l10 = s10.name;
        this[r10].properties.push({ name: l10, value: o10 });
      }
    }
  }
  return this;
}, tr4.style = tr4.css, tr4.generateStyle = function(t33) {
  var e10 = new ZS(t33);
  return this.appendToStyle(e10);
}, tr4.appendToStyle = function(t33) {
  for (var e10 = 0; e10 < this.length; e10++) {
    var r10 = this[e10], i10 = r10.selector, n10 = r10.properties;
    t33.selector(i10);
    for (var a10 = 0; a10 < n10.length; a10++) {
      var o10 = n10[a10];
      t33.css(o10.name, o10.value);
    }
  }
  return t33;
};
var tr5 = function(t33) {
  return (void 0 === t33 && (t33 = {}), Hg(t33)) ? new ZI(t33) : Hu(t33) ? tr1.apply(tr1, arguments) : void 0;
};
tr5.use = function(t33) {
  var e10 = Array.prototype.slice.call(arguments, 1);
  return e10.unshift(tr5), t33.apply(null, e10), this;
}, tr5.warnings = function(t33) {
  return jA(t33);
}, tr5.version = "3.30.4", tr5.stylesheet = tr5.Stylesheet = tr2;
var tr3 = { exports: {} }, tr6 = { exports: {} }, tr7 = { exports: {} };
tr7.exports, tr6.exports, tr3.exports;
let tr8 = k((rL || (rL = 1, rf = function(t33) {
  return function(t34) {
    var e10 = {};
    function r10(i10) {
      if (e10[i10]) return e10[i10].exports;
      var n10 = e10[i10] = { i: i10, l: false, exports: {} };
      return t34[i10].call(n10.exports, n10, n10.exports, r10), n10.l = true, n10.exports;
    }
    return r10.m = t34, r10.c = e10, r10.i = function(t35) {
      return t35;
    }, r10.d = function(t35, e11, i10) {
      r10.o(t35, e11) || Object.defineProperty(t35, e11, { configurable: false, enumerable: true, get: i10 });
    }, r10.n = function(t35) {
      var e11 = t35 && t35.__esModule ? function() {
        return t35.default;
      } : function() {
        return t35;
      };
      return r10.d(e11, "a", e11), e11;
    }, r10.o = function(t35, e11) {
      return Object.prototype.hasOwnProperty.call(t35, e11);
    }, r10.p = "", r10(r10.s = 1);
  }([function(e10, r10) {
    e10.exports = t33;
  }, function(t34, e10, r10) {
    var i10 = r10(0).layoutBase.LayoutConstants, n10 = r10(0).layoutBase.FDLayoutConstants, a10 = r10(0).CoSEConstants, o10 = r10(0).CoSELayout, s10 = r10(0).CoSENode, l10 = r10(0).layoutBase.PointD, h10 = r10(0).layoutBase.DimensionD, u10 = { ready: function() {
    }, stop: function() {
    }, quality: "default", nodeDimensionsIncludeLabels: false, refresh: 30, fit: true, padding: 10, randomize: true, nodeRepulsion: 4500, idealEdgeLength: 50, edgeElasticity: 0.45, nestingFactor: 0.1, gravity: 0.25, numIter: 2500, tile: true, animate: "end", animationDuration: 500, tilingPaddingVertical: 10, tilingPaddingHorizontal: 10, gravityRangeCompound: 1.5, gravityCompound: 1, gravityRange: 3.8, initialEnergyOnIncremental: 0.5 };
    function d10(t35) {
      this.options = function(t36, e11) {
        var r11 = {};
        for (var i11 in t36) r11[i11] = t36[i11];
        for (var i11 in e11) r11[i11] = e11[i11];
        return r11;
      }(u10, t35), p10(this.options);
    }
    var p10 = function(t35) {
      null != t35.nodeRepulsion && (a10.DEFAULT_REPULSION_STRENGTH = n10.DEFAULT_REPULSION_STRENGTH = t35.nodeRepulsion), null != t35.idealEdgeLength && (a10.DEFAULT_EDGE_LENGTH = n10.DEFAULT_EDGE_LENGTH = t35.idealEdgeLength), null != t35.edgeElasticity && (a10.DEFAULT_SPRING_STRENGTH = n10.DEFAULT_SPRING_STRENGTH = t35.edgeElasticity), null != t35.nestingFactor && (a10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = n10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = t35.nestingFactor), null != t35.gravity && (a10.DEFAULT_GRAVITY_STRENGTH = n10.DEFAULT_GRAVITY_STRENGTH = t35.gravity), null != t35.numIter && (a10.MAX_ITERATIONS = n10.MAX_ITERATIONS = t35.numIter), null != t35.gravityRange && (a10.DEFAULT_GRAVITY_RANGE_FACTOR = n10.DEFAULT_GRAVITY_RANGE_FACTOR = t35.gravityRange), null != t35.gravityCompound && (a10.DEFAULT_COMPOUND_GRAVITY_STRENGTH = n10.DEFAULT_COMPOUND_GRAVITY_STRENGTH = t35.gravityCompound), null != t35.gravityRangeCompound && (a10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = n10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = t35.gravityRangeCompound), null != t35.initialEnergyOnIncremental && (a10.DEFAULT_COOLING_FACTOR_INCREMENTAL = n10.DEFAULT_COOLING_FACTOR_INCREMENTAL = t35.initialEnergyOnIncremental), "draft" == t35.quality ? i10.QUALITY = 0 : "proof" == t35.quality ? i10.QUALITY = 2 : i10.QUALITY = 1, a10.NODE_DIMENSIONS_INCLUDE_LABELS = n10.NODE_DIMENSIONS_INCLUDE_LABELS = i10.NODE_DIMENSIONS_INCLUDE_LABELS = t35.nodeDimensionsIncludeLabels, a10.DEFAULT_INCREMENTAL = n10.DEFAULT_INCREMENTAL = i10.DEFAULT_INCREMENTAL = !t35.randomize, a10.ANIMATE = n10.ANIMATE = i10.ANIMATE = t35.animate, a10.TILE = t35.tile, a10.TILING_PADDING_VERTICAL = "function" == typeof t35.tilingPaddingVertical ? t35.tilingPaddingVertical.call() : t35.tilingPaddingVertical, a10.TILING_PADDING_HORIZONTAL = "function" == typeof t35.tilingPaddingHorizontal ? t35.tilingPaddingHorizontal.call() : t35.tilingPaddingHorizontal;
    };
    d10.prototype.run = function() {
      var t35, e11, r11 = this.options;
      this.idToLNode = {};
      var i11 = this.layout = new o10(), n11 = this;
      n11.stopped = false, this.cy = this.options.cy, this.cy.trigger({ type: "layoutstart", layout: this });
      var a11 = i11.newGraphManager();
      this.gm = a11;
      var s11 = this.options.eles.nodes(), l11 = this.options.eles.edges();
      this.root = a11.addRoot(), this.processChildrenList(this.root, this.getTopMostNodes(s11), i11);
      for (var h11 = 0; h11 < l11.length; h11++) {
        var u11 = l11[h11], d11 = this.idToLNode[u11.data("source")], p11 = this.idToLNode[u11.data("target")];
        d11 !== p11 && 0 == d11.getEdgesBetween(p11).length && (a11.add(i11.newEdge(), d11, p11).id = u11.id());
      }
      var g11 = function(t36, e12) {
        "number" == typeof t36 && (t36 = e12);
        var r12 = t36.data("id"), i12 = n11.idToLNode[r12];
        return { x: i12.getRect().getCenterX(), y: i12.getRect().getCenterY() };
      }, f10 = function a12() {
        for (var o11, s12 = function() {
          r11.fit && r11.cy.fit(r11.eles, r11.padding), t35 || (t35 = true, n11.cy.one("layoutready", r11.ready), n11.cy.trigger({ type: "layoutready", layout: n11 }));
        }, l12 = n11.options.refresh, h12 = 0; h12 < l12 && !o11; h12++) o11 = n11.stopped || n11.layout.tick();
        if (o11) {
          i11.checkLayoutSuccess() && !i11.isSubLayout && i11.doPostLayout(), i11.tilingPostLayout && i11.tilingPostLayout(), i11.isLayoutFinished = true, n11.options.eles.nodes().positions(g11), s12(), n11.cy.one("layoutstop", n11.options.stop), n11.cy.trigger({ type: "layoutstop", layout: n11 }), e11 && cancelAnimationFrame(e11), t35 = false;
          return;
        }
        var u12 = n11.layout.getPositionsData();
        r11.eles.nodes().positions(function(t36, e12) {
          if ("number" == typeof t36 && (t36 = e12), !t36.isParent()) {
            for (var r12 = t36.id(), i12 = u12[r12], n12 = t36; null == i12 && (i12 = u12[n12.data("parent")] || u12["DummyCompound_" + n12.data("parent")], u12[r12] = i12, void 0 != (n12 = n12.parent()[0])); ) ;
            return null != i12 ? { x: i12.x, y: i12.y } : { x: t36.position("x"), y: t36.position("y") };
          }
        }), s12(), e11 = requestAnimationFrame(a12);
      };
      return i11.addListener("layoutstarted", function() {
        "during" === n11.options.animate && (e11 = requestAnimationFrame(f10));
      }), i11.runLayout(), "during" !== this.options.animate && (n11.options.eles.nodes().not(":parent").layoutPositions(n11, n11.options, g11), t35 = false), this;
    }, d10.prototype.getTopMostNodes = function(t35) {
      for (var e11 = {}, r11 = 0; r11 < t35.length; r11++) e11[t35[r11].id()] = true;
      return t35.filter(function(t36, r12) {
        "number" == typeof t36 && (t36 = r12);
        for (var i11 = t36.parent()[0]; null != i11; ) {
          if (e11[i11.id()]) return false;
          i11 = i11.parent()[0];
        }
        return true;
      });
    }, d10.prototype.processChildrenList = function(t35, e11, r11) {
      for (var i11 = e11.length, n11 = 0; n11 < i11; n11++) {
        var a11, o11, u11 = e11[n11], d11 = u11.children(), p11 = u11.layoutDimensions({ nodeDimensionsIncludeLabels: this.options.nodeDimensionsIncludeLabels });
        if ((a11 = null != u11.outerWidth() && null != u11.outerHeight() ? t35.add(new s10(r11.graphManager, new l10(u11.position("x") - p11.w / 2, u11.position("y") - p11.h / 2), new h10(parseFloat(p11.w), parseFloat(p11.h)))) : t35.add(new s10(this.graphManager))).id = u11.data("id"), a11.paddingLeft = parseInt(u11.css("padding")), a11.paddingTop = parseInt(u11.css("padding")), a11.paddingRight = parseInt(u11.css("padding")), a11.paddingBottom = parseInt(u11.css("padding")), this.options.nodeDimensionsIncludeLabels && u11.isParent()) {
          var g11 = u11.boundingBox({ includeLabels: true, includeNodes: false }).w, f10 = u11.boundingBox({ includeLabels: true, includeNodes: false }).h, y10 = u11.css("text-halign");
          a11.labelWidth = g11, a11.labelHeight = f10, a11.labelPos = y10;
        }
        this.idToLNode[u11.data("id")] = a11, isNaN(a11.rect.x) && (a11.rect.x = 0), isNaN(a11.rect.y) && (a11.rect.y = 0), null != d11 && d11.length > 0 && (o11 = r11.getGraphManager().add(r11.newGraph(), a11), this.processChildrenList(o11, d11, r11));
      }
    }, d10.prototype.stop = function() {
      return this.stopped = true, this;
    };
    var g10 = function(t35) {
      t35("layout", "cose-bilkent", d10);
    };
    "undefined" != typeof cytoscape && g10(cytoscape), t34.exports = g10;
  }]);
}, tr3.exports = rf((rA || (rA = 1, rm = function(t33) {
  return function(t34) {
    var e10 = {};
    function r10(i10) {
      if (e10[i10]) return e10[i10].exports;
      var n10 = e10[i10] = { i: i10, l: false, exports: {} };
      return t34[i10].call(n10.exports, n10, n10.exports, r10), n10.l = true, n10.exports;
    }
    return r10.m = t34, r10.c = e10, r10.i = function(t35) {
      return t35;
    }, r10.d = function(t35, e11, i10) {
      r10.o(t35, e11) || Object.defineProperty(t35, e11, { configurable: false, enumerable: true, get: i10 });
    }, r10.n = function(t35) {
      var e11 = t35 && t35.__esModule ? function() {
        return t35.default;
      } : function() {
        return t35;
      };
      return r10.d(e11, "a", e11), e11;
    }, r10.o = function(t35, e11) {
      return Object.prototype.hasOwnProperty.call(t35, e11);
    }, r10.p = "", r10(r10.s = 7);
  }([function(e10, r10) {
    e10.exports = t33;
  }, function(t34, e10, r10) {
    var i10 = r10(0).FDLayoutConstants;
    function n10() {
    }
    for (var a10 in i10) n10[a10] = i10[a10];
    n10.DEFAULT_USE_MULTI_LEVEL_SCALING = false, n10.DEFAULT_RADIAL_SEPARATION = i10.DEFAULT_EDGE_LENGTH, n10.DEFAULT_COMPONENT_SEPERATION = 60, n10.TILE = true, n10.TILING_PADDING_VERTICAL = 10, n10.TILING_PADDING_HORIZONTAL = 10, n10.TREE_REDUCTION_ON_INCREMENTAL = false, t34.exports = n10;
  }, function(t34, e10, r10) {
    var i10 = r10(0).FDLayoutEdge;
    function n10(t35, e11, r11) {
      i10.call(this, t35, e11, r11);
    }
    for (var a10 in n10.prototype = Object.create(i10.prototype), i10) n10[a10] = i10[a10];
    t34.exports = n10;
  }, function(t34, e10, r10) {
    var i10 = r10(0).LGraph;
    function n10(t35, e11, r11) {
      i10.call(this, t35, e11, r11);
    }
    for (var a10 in n10.prototype = Object.create(i10.prototype), i10) n10[a10] = i10[a10];
    t34.exports = n10;
  }, function(t34, e10, r10) {
    var i10 = r10(0).LGraphManager;
    function n10(t35) {
      i10.call(this, t35);
    }
    for (var a10 in n10.prototype = Object.create(i10.prototype), i10) n10[a10] = i10[a10];
    t34.exports = n10;
  }, function(t34, e10, r10) {
    var i10 = r10(0).FDLayoutNode, n10 = r10(0).IMath;
    function a10(t35, e11, r11, n11) {
      i10.call(this, t35, e11, r11, n11);
    }
    for (var o10 in a10.prototype = Object.create(i10.prototype), i10) a10[o10] = i10[o10];
    a10.prototype.move = function() {
      var t35 = this.graphManager.getLayout();
      this.displacementX = t35.coolingFactor * (this.springForceX + this.repulsionForceX + this.gravitationForceX) / this.noOfChildren, this.displacementY = t35.coolingFactor * (this.springForceY + this.repulsionForceY + this.gravitationForceY) / this.noOfChildren, Math.abs(this.displacementX) > t35.coolingFactor * t35.maxNodeDisplacement && (this.displacementX = t35.coolingFactor * t35.maxNodeDisplacement * n10.sign(this.displacementX)), Math.abs(this.displacementY) > t35.coolingFactor * t35.maxNodeDisplacement && (this.displacementY = t35.coolingFactor * t35.maxNodeDisplacement * n10.sign(this.displacementY)), null == this.child ? this.moveBy(this.displacementX, this.displacementY) : 0 == this.child.getNodes().length ? this.moveBy(this.displacementX, this.displacementY) : this.propogateDisplacementToChildren(this.displacementX, this.displacementY), t35.totalDisplacement += Math.abs(this.displacementX) + Math.abs(this.displacementY), this.springForceX = 0, this.springForceY = 0, this.repulsionForceX = 0, this.repulsionForceY = 0, this.gravitationForceX = 0, this.gravitationForceY = 0, this.displacementX = 0, this.displacementY = 0;
    }, a10.prototype.propogateDisplacementToChildren = function(t35, e11) {
      for (var r11, i11 = this.getChild().getNodes(), n11 = 0; n11 < i11.length; n11++) null == (r11 = i11[n11]).getChild() ? (r11.moveBy(t35, e11), r11.displacementX += t35, r11.displacementY += e11) : r11.propogateDisplacementToChildren(t35, e11);
    }, a10.prototype.setPred1 = function(t35) {
      this.pred1 = t35;
    }, a10.prototype.getPred1 = function() {
      return pred1;
    }, a10.prototype.getPred2 = function() {
      return pred2;
    }, a10.prototype.setNext = function(t35) {
      this.next = t35;
    }, a10.prototype.getNext = function() {
      return next;
    }, a10.prototype.setProcessed = function(t35) {
      this.processed = t35;
    }, a10.prototype.isProcessed = function() {
      return processed;
    }, t34.exports = a10;
  }, function(t34, e10, r10) {
    var i10 = r10(0).FDLayout, n10 = r10(4), a10 = r10(3), o10 = r10(5), s10 = r10(2), l10 = r10(1), h10 = r10(0).FDLayoutConstants, u10 = r10(0).LayoutConstants, d10 = r10(0).Point, p10 = r10(0).PointD, g10 = r10(0).Layout, f10 = r10(0).Integer, y10 = r10(0).IGeometry, v10 = r10(0).LGraph, x10 = r10(0).Transform;
    function b10() {
      i10.call(this), this.toBeTiled = {};
    }
    for (var w10 in b10.prototype = Object.create(i10.prototype), i10) b10[w10] = i10[w10];
    b10.prototype.newGraphManager = function() {
      var t35 = new n10(this);
      return this.graphManager = t35, t35;
    }, b10.prototype.newGraph = function(t35) {
      return new a10(null, this.graphManager, t35);
    }, b10.prototype.newNode = function(t35) {
      return new o10(this.graphManager, t35);
    }, b10.prototype.newEdge = function(t35) {
      return new s10(null, null, t35);
    }, b10.prototype.initParameters = function() {
      i10.prototype.initParameters.call(this, arguments), this.isSubLayout || (l10.DEFAULT_EDGE_LENGTH < 10 ? this.idealEdgeLength = 10 : this.idealEdgeLength = l10.DEFAULT_EDGE_LENGTH, this.useSmartIdealEdgeLengthCalculation = l10.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION, this.springConstant = h10.DEFAULT_SPRING_STRENGTH, this.repulsionConstant = h10.DEFAULT_REPULSION_STRENGTH, this.gravityConstant = h10.DEFAULT_GRAVITY_STRENGTH, this.compoundGravityConstant = h10.DEFAULT_COMPOUND_GRAVITY_STRENGTH, this.gravityRangeFactor = h10.DEFAULT_GRAVITY_RANGE_FACTOR, this.compoundGravityRangeFactor = h10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR, this.prunedNodesAll = [], this.growTreeIterations = 0, this.afterGrowthIterations = 0, this.isTreeGrowing = false, this.isGrowthFinished = false, this.coolingCycle = 0, this.maxCoolingCycle = this.maxIterations / h10.CONVERGENCE_CHECK_PERIOD, this.finalTemperature = h10.CONVERGENCE_CHECK_PERIOD / this.maxIterations, this.coolingAdjuster = 1);
    }, b10.prototype.layout = function() {
      return u10.DEFAULT_CREATE_BENDS_AS_NEEDED && (this.createBendpoints(), this.graphManager.resetAllEdges()), this.level = 0, this.classicLayout();
    }, b10.prototype.classicLayout = function() {
      if (this.nodesWithGravity = this.calculateNodesToApplyGravitationTo(), this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity), this.calcNoOfChildrenForAllNodes(), this.graphManager.calcLowestCommonAncestors(), this.graphManager.calcInclusionTreeDepths(), this.graphManager.getRoot().calcEstimatedSize(), this.calcIdealEdgeLengths(), this.incremental) {
        if (l10.TREE_REDUCTION_ON_INCREMENTAL) {
          this.reduceTrees(), this.graphManager.resetAllNodesToApplyGravitation();
          var t35 = new Set(this.getAllNodes()), e11 = this.nodesWithGravity.filter(function(e12) {
            return t35.has(e12);
          });
          this.graphManager.setAllNodesToApplyGravitation(e11);
        }
      } else {
        var r11 = this.getFlatForest();
        if (r11.length > 0) this.positionNodesRadially(r11);
        else {
          this.reduceTrees(), this.graphManager.resetAllNodesToApplyGravitation();
          var t35 = new Set(this.getAllNodes()), e11 = this.nodesWithGravity.filter(function(e12) {
            return t35.has(e12);
          });
          this.graphManager.setAllNodesToApplyGravitation(e11), this.positionNodesRandomly();
        }
      }
      return this.initSpringEmbedder(), this.runSpringEmbedder(), true;
    }, b10.prototype.tick = function() {
      if (this.totalIterations++, this.totalIterations === this.maxIterations && !this.isTreeGrowing && !this.isGrowthFinished) {
        if (!(this.prunedNodesAll.length > 0)) return true;
        this.isTreeGrowing = true;
      }
      if (this.totalIterations % h10.CONVERGENCE_CHECK_PERIOD == 0 && !this.isTreeGrowing && !this.isGrowthFinished) {
        if (this.isConverged()) {
          if (!(this.prunedNodesAll.length > 0)) return true;
          this.isTreeGrowing = true;
        }
        this.coolingCycle++, 0 == this.layoutQuality ? this.coolingAdjuster = this.coolingCycle : 1 == this.layoutQuality && (this.coolingAdjuster = this.coolingCycle / 3), this.coolingFactor = Math.max(this.initialCoolingFactor - Math.pow(this.coolingCycle, Math.log(100 * (this.initialCoolingFactor - this.finalTemperature)) / Math.log(this.maxCoolingCycle)) / 100 * this.coolingAdjuster, this.finalTemperature), this.animationPeriod = Math.ceil(this.initialAnimationPeriod * Math.sqrt(this.coolingFactor));
      }
      if (this.isTreeGrowing) {
        if (this.growTreeIterations % 10 == 0) {
          if (this.prunedNodesAll.length > 0) {
            this.graphManager.updateBounds(), this.updateGrid(), this.growTree(this.prunedNodesAll), this.graphManager.resetAllNodesToApplyGravitation();
            var t35 = new Set(this.getAllNodes()), e11 = this.nodesWithGravity.filter(function(e12) {
              return t35.has(e12);
            });
            this.graphManager.setAllNodesToApplyGravitation(e11), this.graphManager.updateBounds(), this.updateGrid(), this.coolingFactor = h10.DEFAULT_COOLING_FACTOR_INCREMENTAL;
          } else this.isTreeGrowing = false, this.isGrowthFinished = true;
        }
        this.growTreeIterations++;
      }
      if (this.isGrowthFinished) {
        if (this.isConverged()) return true;
        this.afterGrowthIterations % 10 == 0 && (this.graphManager.updateBounds(), this.updateGrid()), this.coolingFactor = h10.DEFAULT_COOLING_FACTOR_INCREMENTAL * ((100 - this.afterGrowthIterations) / 100), this.afterGrowthIterations++;
      }
      var r11 = !this.isTreeGrowing && !this.isGrowthFinished, i11 = this.growTreeIterations % 10 == 1 && this.isTreeGrowing || this.afterGrowthIterations % 10 == 1 && this.isGrowthFinished;
      return this.totalDisplacement = 0, this.graphManager.updateBounds(), this.calcSpringForces(), this.calcRepulsionForces(r11, i11), this.calcGravitationalForces(), this.moveNodes(), this.animate(), false;
    }, b10.prototype.getPositionsData = function() {
      for (var t35 = this.graphManager.getAllNodes(), e11 = {}, r11 = 0; r11 < t35.length; r11++) {
        var i11 = t35[r11].rect, n11 = t35[r11].id;
        e11[n11] = { id: n11, x: i11.getCenterX(), y: i11.getCenterY(), w: i11.width, h: i11.height };
      }
      return e11;
    }, b10.prototype.runSpringEmbedder = function() {
      this.initialAnimationPeriod = 25, this.animationPeriod = this.initialAnimationPeriod;
      var t35 = false;
      if ("during" === h10.ANIMATE) this.emit("layoutstarted");
      else {
        for (; !t35; ) t35 = this.tick();
        this.graphManager.updateBounds();
      }
    }, b10.prototype.calculateNodesToApplyGravitationTo = function() {
      var t35, e11, r11 = [], i11 = this.graphManager.getGraphs(), n11 = i11.length;
      for (e11 = 0; e11 < n11; e11++) (t35 = i11[e11]).updateConnected(), t35.isConnected || (r11 = r11.concat(t35.getNodes()));
      return r11;
    }, b10.prototype.createBendpoints = function() {
      var t35 = [];
      t35 = t35.concat(this.graphManager.getAllEdges());
      var e11 = /* @__PURE__ */ new Set();
      for (a11 = 0; a11 < t35.length; a11++) {
        var r11 = t35[a11];
        if (!e11.has(r11)) {
          var i11 = r11.getSource(), n11 = r11.getTarget();
          if (i11 == n11) r11.getBendpoints().push(new p10()), r11.getBendpoints().push(new p10()), this.createDummyNodesForBendpoints(r11), e11.add(r11);
          else {
            var a11, o11, s11 = [];
            if (s11 = (s11 = s11.concat(i11.getEdgeListToNode(n11))).concat(n11.getEdgeListToNode(i11)), !e11.has(s11[0])) {
              if (s11.length > 1) for (o11 = 0; o11 < s11.length; o11++) {
                var l11 = s11[o11];
                l11.getBendpoints().push(new p10()), this.createDummyNodesForBendpoints(l11);
              }
              s11.forEach(function(t36) {
                e11.add(t36);
              });
            }
          }
        }
        if (e11.size == t35.length) break;
      }
    }, b10.prototype.positionNodesRadially = function(t35) {
      for (var e11 = new d10(0, 0), r11 = Math.ceil(Math.sqrt(t35.length)), i11 = 0, n11 = 0, a11 = 0, o11 = new p10(0, 0), s11 = 0; s11 < t35.length; s11++) {
        s11 % r11 == 0 && (a11 = 0, n11 = i11, 0 != s11 && (n11 += l10.DEFAULT_COMPONENT_SEPERATION), i11 = 0);
        var h11 = t35[s11], f11 = g10.findCenterOfTree(h11);
        e11.x = a11, e11.y = n11, (o11 = b10.radialLayout(h11, f11, e11)).y > i11 && (i11 = Math.floor(o11.y)), a11 = Math.floor(o11.x + l10.DEFAULT_COMPONENT_SEPERATION);
      }
      this.transform(new p10(u10.WORLD_CENTER_X - o11.x / 2, u10.WORLD_CENTER_Y - o11.y / 2));
    }, b10.radialLayout = function(t35, e11, r11) {
      var i11 = Math.max(this.maxDiagonalInTree(t35), l10.DEFAULT_RADIAL_SEPARATION);
      b10.branchRadialLayout(e11, null, 0, 359, 0, i11);
      var n11 = v10.calculateBounds(t35), a11 = new x10();
      a11.setDeviceOrgX(n11.getMinX()), a11.setDeviceOrgY(n11.getMinY()), a11.setWorldOrgX(r11.x), a11.setWorldOrgY(r11.y);
      for (var o11 = 0; o11 < t35.length; o11++) t35[o11].transform(a11);
      var s11 = new p10(n11.getMaxX(), n11.getMaxY());
      return a11.inverseTransformPoint(s11);
    }, b10.branchRadialLayout = function(t35, e11, r11, i11, n11, a11) {
      var o11, s11 = (i11 - r11 + 1) / 2;
      s11 < 0 && (s11 += 180);
      var l11 = (s11 + r11) % 360 * y10.TWO_PI / 360, h11 = n11 * Math.cos(l11), u11 = n11 * Math.sin(l11);
      t35.setCenter(h11, u11);
      var d11 = [], p11 = (d11 = d11.concat(t35.getEdges())).length;
      null != e11 && p11--;
      for (var g11 = 0, f11 = d11.length, v11 = t35.getEdgesBetween(e11); v11.length > 1; ) {
        var x11 = v11[0];
        v11.splice(0, 1);
        var w11 = d11.indexOf(x11);
        w11 >= 0 && d11.splice(w11, 1), f11--, p11--;
      }
      o11 = null != e11 ? (d11.indexOf(v11[0]) + 1) % f11 : 0;
      for (var k10 = Math.abs(i11 - r11) / p11, _10 = o11; g11 != p11; _10 = ++_10 % f11) {
        var T10 = d11[_10].getOtherEnd(t35);
        if (T10 != e11) {
          var E10 = (r11 + g11 * k10) % 360, C10 = (E10 + k10) % 360;
          b10.branchRadialLayout(T10, t35, E10, C10, n11 + a11, a11), g11++;
        }
      }
    }, b10.maxDiagonalInTree = function(t35) {
      for (var e11 = f10.MIN_VALUE, r11 = 0; r11 < t35.length; r11++) {
        var i11 = t35[r11].getDiagonal();
        i11 > e11 && (e11 = i11);
      }
      return e11;
    }, b10.prototype.calcRepulsionRange = function() {
      return 2 * (this.level + 1) * this.idealEdgeLength;
    }, b10.prototype.groupZeroDegreeMembers = function() {
      var t35 = this, e11 = {};
      this.memberGroups = {}, this.idToDummyNode = {};
      for (var r11 = [], i11 = this.graphManager.getAllNodes(), n11 = 0; n11 < i11.length; n11++) {
        var a11 = i11[n11], s11 = a11.getParent();
        0 !== this.getNodeDegreeWithChildren(a11) || void 0 != s11.id && this.getToBeTiled(s11) || r11.push(a11);
      }
      for (var n11 = 0; n11 < r11.length; n11++) {
        var a11 = r11[n11], l11 = a11.getParent().id;
        void 0 === e11[l11] && (e11[l11] = []), e11[l11] = e11[l11].concat(a11);
      }
      Object.keys(e11).forEach(function(r12) {
        if (e11[r12].length > 1) {
          var i12 = "DummyCompound_" + r12;
          t35.memberGroups[i12] = e11[r12];
          var n12 = e11[r12][0].getParent(), a12 = new o10(t35.graphManager);
          a12.id = i12, a12.paddingLeft = n12.paddingLeft || 0, a12.paddingRight = n12.paddingRight || 0, a12.paddingBottom = n12.paddingBottom || 0, a12.paddingTop = n12.paddingTop || 0, t35.idToDummyNode[i12] = a12;
          var s12 = t35.getGraphManager().add(t35.newGraph(), a12), l12 = n12.getChild();
          l12.add(a12);
          for (var h11 = 0; h11 < e11[r12].length; h11++) {
            var u11 = e11[r12][h11];
            l12.remove(u11), s12.add(u11);
          }
        }
      });
    }, b10.prototype.clearCompounds = function() {
      var t35 = {}, e11 = {};
      this.performDFSOnCompounds();
      for (var r11 = 0; r11 < this.compoundOrder.length; r11++) e11[this.compoundOrder[r11].id] = this.compoundOrder[r11], t35[this.compoundOrder[r11].id] = [].concat(this.compoundOrder[r11].getChild().getNodes()), this.graphManager.remove(this.compoundOrder[r11].getChild()), this.compoundOrder[r11].child = null;
      this.graphManager.resetAllNodes(), this.tileCompoundMembers(t35, e11);
    }, b10.prototype.clearZeroDegreeMembers = function() {
      var t35 = this, e11 = this.tiledZeroDegreePack = [];
      Object.keys(this.memberGroups).forEach(function(r11) {
        var i11 = t35.idToDummyNode[r11];
        e11[r11] = t35.tileNodes(t35.memberGroups[r11], i11.paddingLeft + i11.paddingRight), i11.rect.width = e11[r11].width, i11.rect.height = e11[r11].height;
      });
    }, b10.prototype.repopulateCompounds = function() {
      for (var t35 = this.compoundOrder.length - 1; t35 >= 0; t35--) {
        var e11 = this.compoundOrder[t35], r11 = e11.id, i11 = e11.paddingLeft, n11 = e11.paddingTop;
        this.adjustLocations(this.tiledMemberPack[r11], e11.rect.x, e11.rect.y, i11, n11);
      }
    }, b10.prototype.repopulateZeroDegreeMembers = function() {
      var t35 = this, e11 = this.tiledZeroDegreePack;
      Object.keys(e11).forEach(function(r11) {
        var i11 = t35.idToDummyNode[r11], n11 = i11.paddingLeft, a11 = i11.paddingTop;
        t35.adjustLocations(e11[r11], i11.rect.x, i11.rect.y, n11, a11);
      });
    }, b10.prototype.getToBeTiled = function(t35) {
      var e11 = t35.id;
      if (null != this.toBeTiled[e11]) return this.toBeTiled[e11];
      var r11 = t35.getChild();
      if (null == r11) return this.toBeTiled[e11] = false, false;
      for (var i11 = r11.getNodes(), n11 = 0; n11 < i11.length; n11++) {
        var a11 = i11[n11];
        if (this.getNodeDegree(a11) > 0) return this.toBeTiled[e11] = false, false;
        if (null == a11.getChild()) {
          this.toBeTiled[a11.id] = false;
          continue;
        }
        if (!this.getToBeTiled(a11)) return this.toBeTiled[e11] = false, false;
      }
      return this.toBeTiled[e11] = true, true;
    }, b10.prototype.getNodeDegree = function(t35) {
      t35.id;
      for (var e11 = t35.getEdges(), r11 = 0, i11 = 0; i11 < e11.length; i11++) {
        var n11 = e11[i11];
        n11.getSource().id !== n11.getTarget().id && (r11 += 1);
      }
      return r11;
    }, b10.prototype.getNodeDegreeWithChildren = function(t35) {
      var e11 = this.getNodeDegree(t35);
      if (null == t35.getChild()) return e11;
      for (var r11 = t35.getChild().getNodes(), i11 = 0; i11 < r11.length; i11++) {
        var n11 = r11[i11];
        e11 += this.getNodeDegreeWithChildren(n11);
      }
      return e11;
    }, b10.prototype.performDFSOnCompounds = function() {
      this.compoundOrder = [], this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes());
    }, b10.prototype.fillCompexOrderByDFS = function(t35) {
      for (var e11 = 0; e11 < t35.length; e11++) {
        var r11 = t35[e11];
        null != r11.getChild() && this.fillCompexOrderByDFS(r11.getChild().getNodes()), this.getToBeTiled(r11) && this.compoundOrder.push(r11);
      }
    }, b10.prototype.adjustLocations = function(t35, e11, r11, i11, n11) {
      e11 += i11, r11 += n11;
      for (var a11 = e11, o11 = 0; o11 < t35.rows.length; o11++) {
        var s11 = t35.rows[o11];
        e11 = a11;
        for (var l11 = 0, h11 = 0; h11 < s11.length; h11++) {
          var u11 = s11[h11];
          u11.rect.x = e11, u11.rect.y = r11, e11 += u11.rect.width + t35.horizontalPadding, u11.rect.height > l11 && (l11 = u11.rect.height);
        }
        r11 += l11 + t35.verticalPadding;
      }
    }, b10.prototype.tileCompoundMembers = function(t35, e11) {
      var r11 = this;
      this.tiledMemberPack = [], Object.keys(t35).forEach(function(i11) {
        var n11 = e11[i11];
        r11.tiledMemberPack[i11] = r11.tileNodes(t35[i11], n11.paddingLeft + n11.paddingRight), n11.rect.width = r11.tiledMemberPack[i11].width, n11.rect.height = r11.tiledMemberPack[i11].height;
      });
    }, b10.prototype.tileNodes = function(t35, e11) {
      var r11 = { rows: [], rowWidth: [], rowHeight: [], width: 0, height: e11, verticalPadding: l10.TILING_PADDING_VERTICAL, horizontalPadding: l10.TILING_PADDING_HORIZONTAL };
      t35.sort(function(t36, e12) {
        return t36.rect.width * t36.rect.height > e12.rect.width * e12.rect.height ? -1 : t36.rect.width * t36.rect.height < e12.rect.width * e12.rect.height ? 1 : 0;
      });
      for (var i11 = 0; i11 < t35.length; i11++) {
        var n11 = t35[i11];
        0 == r11.rows.length ? this.insertNodeToRow(r11, n11, 0, e11) : this.canAddHorizontal(r11, n11.rect.width, n11.rect.height) ? this.insertNodeToRow(r11, n11, this.getShortestRowIndex(r11), e11) : this.insertNodeToRow(r11, n11, r11.rows.length, e11), this.shiftToLastRow(r11);
      }
      return r11;
    }, b10.prototype.insertNodeToRow = function(t35, e11, r11, i11) {
      r11 == t35.rows.length && (t35.rows.push([]), t35.rowWidth.push(i11), t35.rowHeight.push(0));
      var n11 = t35.rowWidth[r11] + e11.rect.width;
      t35.rows[r11].length > 0 && (n11 += t35.horizontalPadding), t35.rowWidth[r11] = n11, t35.width < n11 && (t35.width = n11);
      var a11 = e11.rect.height;
      r11 > 0 && (a11 += t35.verticalPadding);
      var o11 = 0;
      a11 > t35.rowHeight[r11] && (o11 = t35.rowHeight[r11], t35.rowHeight[r11] = a11, o11 = t35.rowHeight[r11] - o11), t35.height += o11, t35.rows[r11].push(e11);
    }, b10.prototype.getShortestRowIndex = function(t35) {
      for (var e11 = -1, r11 = Number.MAX_VALUE, i11 = 0; i11 < t35.rows.length; i11++) t35.rowWidth[i11] < r11 && (e11 = i11, r11 = t35.rowWidth[i11]);
      return e11;
    }, b10.prototype.getLongestRowIndex = function(t35) {
      for (var e11 = -1, r11 = Number.MIN_VALUE, i11 = 0; i11 < t35.rows.length; i11++) t35.rowWidth[i11] > r11 && (e11 = i11, r11 = t35.rowWidth[i11]);
      return e11;
    }, b10.prototype.canAddHorizontal = function(t35, e11, r11) {
      var i11, n11, a11 = this.getShortestRowIndex(t35);
      if (a11 < 0) return true;
      var o11 = t35.rowWidth[a11];
      if (o11 + t35.horizontalPadding + e11 <= t35.width) return true;
      var s11 = 0;
      return t35.rowHeight[a11] < r11 && a11 > 0 && (s11 = r11 + t35.verticalPadding - t35.rowHeight[a11]), i11 = t35.width - o11 >= e11 + t35.horizontalPadding ? (t35.height + s11) / (o11 + e11 + t35.horizontalPadding) : (t35.height + s11) / t35.width, s11 = r11 + t35.verticalPadding, (n11 = t35.width < e11 ? (t35.height + s11) / e11 : (t35.height + s11) / t35.width) < 1 && (n11 = 1 / n11), i11 < 1 && (i11 = 1 / i11), i11 < n11;
    }, b10.prototype.shiftToLastRow = function(t35) {
      var e11 = this.getLongestRowIndex(t35), r11 = t35.rowWidth.length - 1, i11 = t35.rows[e11], n11 = i11[i11.length - 1], a11 = n11.width + t35.horizontalPadding;
      if (t35.width - t35.rowWidth[r11] > a11 && e11 != r11) {
        i11.splice(-1, 1), t35.rows[r11].push(n11), t35.rowWidth[e11] = t35.rowWidth[e11] - a11, t35.rowWidth[r11] = t35.rowWidth[r11] + a11, t35.width = t35.rowWidth[instance.getLongestRowIndex(t35)];
        for (var o11 = Number.MIN_VALUE, s11 = 0; s11 < i11.length; s11++) i11[s11].height > o11 && (o11 = i11[s11].height);
        e11 > 0 && (o11 += t35.verticalPadding);
        var l11 = t35.rowHeight[e11] + t35.rowHeight[r11];
        t35.rowHeight[e11] = o11, t35.rowHeight[r11] < n11.height + t35.verticalPadding && (t35.rowHeight[r11] = n11.height + t35.verticalPadding);
        var h11 = t35.rowHeight[e11] + t35.rowHeight[r11];
        t35.height += h11 - l11, this.shiftToLastRow(t35);
      }
    }, b10.prototype.tilingPreLayout = function() {
      l10.TILE && (this.groupZeroDegreeMembers(), this.clearCompounds(), this.clearZeroDegreeMembers());
    }, b10.prototype.tilingPostLayout = function() {
      l10.TILE && (this.repopulateZeroDegreeMembers(), this.repopulateCompounds());
    }, b10.prototype.reduceTrees = function() {
      for (var t35, e11 = [], r11 = true; r11; ) {
        var i11 = this.graphManager.getAllNodes(), n11 = [];
        r11 = false;
        for (var a11 = 0; a11 < i11.length; a11++) 1 != (t35 = i11[a11]).getEdges().length || t35.getEdges()[0].isInterGraph || null != t35.getChild() || (n11.push([t35, t35.getEdges()[0], t35.getOwner()]), r11 = true);
        if (true == r11) {
          for (var o11 = [], s11 = 0; s11 < n11.length; s11++) 1 == n11[s11][0].getEdges().length && (o11.push(n11[s11]), n11[s11][0].getOwner().remove(n11[s11][0]));
          e11.push(o11), this.graphManager.resetAllNodes(), this.graphManager.resetAllEdges();
        }
      }
      this.prunedNodesAll = e11;
    }, b10.prototype.growTree = function(t35) {
      for (var e11, r11 = t35.length, i11 = t35[r11 - 1], n11 = 0; n11 < i11.length; n11++) e11 = i11[n11], this.findPlaceforPrunedNode(e11), e11[2].add(e11[0]), e11[2].add(e11[1], e11[1].source, e11[1].target);
      t35.splice(t35.length - 1, 1), this.graphManager.resetAllNodes(), this.graphManager.resetAllEdges();
    }, b10.prototype.findPlaceforPrunedNode = function(t35) {
      var e11, r11, i11, n11, a11 = t35[0], o11 = (r11 = a11 == t35[1].source ? t35[1].target : t35[1].source).startX, s11 = r11.finishX, l11 = r11.startY, u11 = r11.finishY, d11 = [0, 0, 0, 0];
      if (l11 > 0) for (var p11 = o11; p11 <= s11; p11++) d11[0] += this.grid[p11][l11 - 1].length + this.grid[p11][l11].length - 1;
      if (s11 < this.grid.length - 1) for (var p11 = l11; p11 <= u11; p11++) d11[1] += this.grid[s11 + 1][p11].length + this.grid[s11][p11].length - 1;
      if (u11 < this.grid[0].length - 1) for (var p11 = o11; p11 <= s11; p11++) d11[2] += this.grid[p11][u11 + 1].length + this.grid[p11][u11].length - 1;
      if (o11 > 0) for (var p11 = l11; p11 <= u11; p11++) d11[3] += this.grid[o11 - 1][p11].length + this.grid[o11][p11].length - 1;
      for (var g11 = f10.MAX_VALUE, y11 = 0; y11 < d11.length; y11++) d11[y11] < g11 ? (g11 = d11[y11], i11 = 1, n11 = y11) : d11[y11] == g11 && i11++;
      if (3 == i11 && 0 == g11) 0 == d11[0] && 0 == d11[1] && 0 == d11[2] ? e11 = 1 : 0 == d11[0] && 0 == d11[1] && 0 == d11[3] ? e11 = 0 : 0 == d11[0] && 0 == d11[2] && 0 == d11[3] ? e11 = 3 : 0 == d11[1] && 0 == d11[2] && 0 == d11[3] && (e11 = 2);
      else if (2 == i11 && 0 == g11) {
        var v11 = Math.floor(2 * Math.random());
        e11 = 0 == d11[0] && 0 == d11[1] ? 0 == v11 ? 0 : 1 : 0 == d11[0] && 0 == d11[2] ? 0 == v11 ? 0 : 2 : 0 == d11[0] && 0 == d11[3] ? 0 == v11 ? 0 : 3 : 0 == d11[1] && 0 == d11[2] ? 0 == v11 ? 1 : 2 : 0 == d11[1] && 0 == d11[3] ? 0 == v11 ? 1 : 3 : 0 == v11 ? 2 : 3;
      } else if (4 == i11 && 0 == g11) {
        var v11 = Math.floor(4 * Math.random());
        e11 = v11;
      } else e11 = n11;
      0 == e11 ? a11.setCenter(r11.getCenterX(), r11.getCenterY() - r11.getHeight() / 2 - h10.DEFAULT_EDGE_LENGTH - a11.getHeight() / 2) : 1 == e11 ? a11.setCenter(r11.getCenterX() + r11.getWidth() / 2 + h10.DEFAULT_EDGE_LENGTH + a11.getWidth() / 2, r11.getCenterY()) : 2 == e11 ? a11.setCenter(r11.getCenterX(), r11.getCenterY() + r11.getHeight() / 2 + h10.DEFAULT_EDGE_LENGTH + a11.getHeight() / 2) : a11.setCenter(r11.getCenterX() - r11.getWidth() / 2 - h10.DEFAULT_EDGE_LENGTH - a11.getWidth() / 2, r11.getCenterY());
    }, t34.exports = b10;
  }, function(t34, e10, r10) {
    var i10 = {};
    i10.layoutBase = r10(0), i10.CoSEConstants = r10(1), i10.CoSEEdge = r10(2), i10.CoSEGraph = r10(3), i10.CoSEGraphManager = r10(4), i10.CoSELayout = r10(6), i10.CoSENode = r10(5), t34.exports = i10;
  }]);
}, tr6.exports = rm((rS || (rS = 1, ry = function() {
  return function(t33) {
    var e10 = {};
    function r10(i10) {
      if (e10[i10]) return e10[i10].exports;
      var n10 = e10[i10] = { i: i10, l: false, exports: {} };
      return t33[i10].call(n10.exports, n10, n10.exports, r10), n10.l = true, n10.exports;
    }
    return r10.m = t33, r10.c = e10, r10.i = function(t34) {
      return t34;
    }, r10.d = function(t34, e11, i10) {
      r10.o(t34, e11) || Object.defineProperty(t34, e11, { configurable: false, enumerable: true, get: i10 });
    }, r10.n = function(t34) {
      var e11 = t34 && t34.__esModule ? function() {
        return t34.default;
      } : function() {
        return t34;
      };
      return r10.d(e11, "a", e11), e11;
    }, r10.o = function(t34, e11) {
      return Object.prototype.hasOwnProperty.call(t34, e11);
    }, r10.p = "", r10(r10.s = 26);
  }([function(t33, e10, r10) {
    function i10() {
    }
    i10.QUALITY = 1, i10.DEFAULT_CREATE_BENDS_AS_NEEDED = false, i10.DEFAULT_INCREMENTAL = false, i10.DEFAULT_ANIMATION_ON_LAYOUT = true, i10.DEFAULT_ANIMATION_DURING_LAYOUT = false, i10.DEFAULT_ANIMATION_PERIOD = 50, i10.DEFAULT_UNIFORM_LEAF_NODE_SIZES = false, i10.DEFAULT_GRAPH_MARGIN = 15, i10.NODE_DIMENSIONS_INCLUDE_LABELS = false, i10.SIMPLE_NODE_SIZE = 40, i10.SIMPLE_NODE_HALF_SIZE = i10.SIMPLE_NODE_SIZE / 2, i10.EMPTY_COMPOUND_NODE_SIZE = 40, i10.MIN_EDGE_LENGTH = 1, i10.WORLD_BOUNDARY = 1e6, i10.INITIAL_WORLD_BOUNDARY = i10.WORLD_BOUNDARY / 1e3, i10.WORLD_CENTER_X = 1200, i10.WORLD_CENTER_Y = 900, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(2), n10 = r10(8), a10 = r10(9);
    function o10(t34, e11, r11) {
      i10.call(this, r11), this.isOverlapingSourceAndTarget = false, this.vGraphObject = r11, this.bendpoints = [], this.source = t34, this.target = e11;
    }
    for (var s10 in o10.prototype = Object.create(i10.prototype), i10) o10[s10] = i10[s10];
    o10.prototype.getSource = function() {
      return this.source;
    }, o10.prototype.getTarget = function() {
      return this.target;
    }, o10.prototype.isInterGraph = function() {
      return this.isInterGraph;
    }, o10.prototype.getLength = function() {
      return this.length;
    }, o10.prototype.isOverlapingSourceAndTarget = function() {
      return this.isOverlapingSourceAndTarget;
    }, o10.prototype.getBendpoints = function() {
      return this.bendpoints;
    }, o10.prototype.getLca = function() {
      return this.lca;
    }, o10.prototype.getSourceInLca = function() {
      return this.sourceInLca;
    }, o10.prototype.getTargetInLca = function() {
      return this.targetInLca;
    }, o10.prototype.getOtherEnd = function(t34) {
      if (this.source === t34) return this.target;
      if (this.target === t34) return this.source;
      throw "Node is not incident with this edge";
    }, o10.prototype.getOtherEndInGraph = function(t34, e11) {
      for (var r11 = this.getOtherEnd(t34), i11 = e11.getGraphManager().getRoot(); ; ) {
        if (r11.getOwner() == e11) return r11;
        if (r11.getOwner() == i11) break;
        r11 = r11.getOwner().getParent();
      }
      return null;
    }, o10.prototype.updateLength = function() {
      var t34 = [, , , ,];
      this.isOverlapingSourceAndTarget = n10.getIntersection(this.target.getRect(), this.source.getRect(), t34), this.isOverlapingSourceAndTarget || (this.lengthX = t34[0] - t34[2], this.lengthY = t34[1] - t34[3], 1 > Math.abs(this.lengthX) && (this.lengthX = a10.sign(this.lengthX)), 1 > Math.abs(this.lengthY) && (this.lengthY = a10.sign(this.lengthY)), this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY));
    }, o10.prototype.updateLengthSimple = function() {
      this.lengthX = this.target.getCenterX() - this.source.getCenterX(), this.lengthY = this.target.getCenterY() - this.source.getCenterY(), 1 > Math.abs(this.lengthX) && (this.lengthX = a10.sign(this.lengthX)), 1 > Math.abs(this.lengthY) && (this.lengthY = a10.sign(this.lengthY)), this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);
    }, t33.exports = o10;
  }, function(t33, e10, r10) {
    t33.exports = function(t34) {
      this.vGraphObject = t34;
    };
  }, function(t33, e10, r10) {
    var i10 = r10(2), n10 = r10(10), a10 = r10(13), o10 = r10(0), s10 = r10(16), l10 = r10(4);
    function h10(t34, e11, r11, o11) {
      null == r11 && null == o11 && (o11 = e11), i10.call(this, o11), null != t34.graphManager && (t34 = t34.graphManager), this.estimatedSize = n10.MIN_VALUE, this.inclusionTreeDepth = n10.MAX_VALUE, this.vGraphObject = o11, this.edges = [], this.graphManager = t34, null != r11 && null != e11 ? this.rect = new a10(e11.x, e11.y, r11.width, r11.height) : this.rect = new a10();
    }
    for (var u10 in h10.prototype = Object.create(i10.prototype), i10) h10[u10] = i10[u10];
    h10.prototype.getEdges = function() {
      return this.edges;
    }, h10.prototype.getChild = function() {
      return this.child;
    }, h10.prototype.getOwner = function() {
      return this.owner;
    }, h10.prototype.getWidth = function() {
      return this.rect.width;
    }, h10.prototype.setWidth = function(t34) {
      this.rect.width = t34;
    }, h10.prototype.getHeight = function() {
      return this.rect.height;
    }, h10.prototype.setHeight = function(t34) {
      this.rect.height = t34;
    }, h10.prototype.getCenterX = function() {
      return this.rect.x + this.rect.width / 2;
    }, h10.prototype.getCenterY = function() {
      return this.rect.y + this.rect.height / 2;
    }, h10.prototype.getCenter = function() {
      return new l10(this.rect.x + this.rect.width / 2, this.rect.y + this.rect.height / 2);
    }, h10.prototype.getLocation = function() {
      return new l10(this.rect.x, this.rect.y);
    }, h10.prototype.getRect = function() {
      return this.rect;
    }, h10.prototype.getDiagonal = function() {
      return Math.sqrt(this.rect.width * this.rect.width + this.rect.height * this.rect.height);
    }, h10.prototype.getHalfTheDiagonal = function() {
      return Math.sqrt(this.rect.height * this.rect.height + this.rect.width * this.rect.width) / 2;
    }, h10.prototype.setRect = function(t34, e11) {
      this.rect.x = t34.x, this.rect.y = t34.y, this.rect.width = e11.width, this.rect.height = e11.height;
    }, h10.prototype.setCenter = function(t34, e11) {
      this.rect.x = t34 - this.rect.width / 2, this.rect.y = e11 - this.rect.height / 2;
    }, h10.prototype.setLocation = function(t34, e11) {
      this.rect.x = t34, this.rect.y = e11;
    }, h10.prototype.moveBy = function(t34, e11) {
      this.rect.x += t34, this.rect.y += e11;
    }, h10.prototype.getEdgeListToNode = function(t34) {
      var e11 = [], r11 = this;
      return r11.edges.forEach(function(i11) {
        if (i11.target == t34) {
          if (i11.source != r11) throw "Incorrect edge source!";
          e11.push(i11);
        }
      }), e11;
    }, h10.prototype.getEdgesBetween = function(t34) {
      var e11 = [], r11 = this;
      return r11.edges.forEach(function(i11) {
        if (!(i11.source == r11 || i11.target == r11)) throw "Incorrect edge source and/or target";
        (i11.target == t34 || i11.source == t34) && e11.push(i11);
      }), e11;
    }, h10.prototype.getNeighborsList = function() {
      var t34 = /* @__PURE__ */ new Set(), e11 = this;
      return e11.edges.forEach(function(r11) {
        if (r11.source == e11) t34.add(r11.target);
        else {
          if (r11.target != e11) throw "Incorrect incidency!";
          t34.add(r11.source);
        }
      }), t34;
    }, h10.prototype.withChildren = function() {
      var t34 = /* @__PURE__ */ new Set();
      if (t34.add(this), null != this.child) for (var e11 = this.child.getNodes(), r11 = 0; r11 < e11.length; r11++) e11[r11].withChildren().forEach(function(e12) {
        t34.add(e12);
      });
      return t34;
    }, h10.prototype.getNoOfChildren = function() {
      var t34 = 0;
      if (null == this.child) t34 = 1;
      else for (var e11 = this.child.getNodes(), r11 = 0; r11 < e11.length; r11++) t34 += e11[r11].getNoOfChildren();
      return 0 == t34 && (t34 = 1), t34;
    }, h10.prototype.getEstimatedSize = function() {
      if (this.estimatedSize == n10.MIN_VALUE) throw "assert failed";
      return this.estimatedSize;
    }, h10.prototype.calcEstimatedSize = function() {
      return null == this.child ? this.estimatedSize = (this.rect.width + this.rect.height) / 2 : (this.estimatedSize = this.child.calcEstimatedSize(), this.rect.width = this.estimatedSize, this.rect.height = this.estimatedSize, this.estimatedSize);
    }, h10.prototype.scatter = function() {
      var t34, e11, r11 = -o10.INITIAL_WORLD_BOUNDARY, i11 = o10.INITIAL_WORLD_BOUNDARY;
      t34 = o10.WORLD_CENTER_X + s10.nextDouble() * (i11 - r11) + r11;
      var n11 = -o10.INITIAL_WORLD_BOUNDARY, a11 = o10.INITIAL_WORLD_BOUNDARY;
      e11 = o10.WORLD_CENTER_Y + s10.nextDouble() * (a11 - n11) + n11, this.rect.x = t34, this.rect.y = e11;
    }, h10.prototype.updateBounds = function() {
      if (null == this.getChild()) throw "assert failed";
      if (0 != this.getChild().getNodes().length) {
        var t34 = this.getChild();
        if (t34.updateBounds(true), this.rect.x = t34.getLeft(), this.rect.y = t34.getTop(), this.setWidth(t34.getRight() - t34.getLeft()), this.setHeight(t34.getBottom() - t34.getTop()), o10.NODE_DIMENSIONS_INCLUDE_LABELS) {
          var e11 = t34.getRight() - t34.getLeft(), r11 = t34.getBottom() - t34.getTop();
          this.labelWidth > e11 && (this.rect.x -= (this.labelWidth - e11) / 2, this.setWidth(this.labelWidth)), this.labelHeight > r11 && ("center" == this.labelPos ? this.rect.y -= (this.labelHeight - r11) / 2 : "top" == this.labelPos && (this.rect.y -= this.labelHeight - r11), this.setHeight(this.labelHeight));
        }
      }
    }, h10.prototype.getInclusionTreeDepth = function() {
      if (this.inclusionTreeDepth == n10.MAX_VALUE) throw "assert failed";
      return this.inclusionTreeDepth;
    }, h10.prototype.transform = function(t34) {
      var e11 = this.rect.x;
      e11 > o10.WORLD_BOUNDARY ? e11 = o10.WORLD_BOUNDARY : e11 < -o10.WORLD_BOUNDARY && (e11 = -o10.WORLD_BOUNDARY);
      var r11 = this.rect.y;
      r11 > o10.WORLD_BOUNDARY ? r11 = o10.WORLD_BOUNDARY : r11 < -o10.WORLD_BOUNDARY && (r11 = -o10.WORLD_BOUNDARY);
      var i11 = new l10(e11, r11), n11 = t34.inverseTransformPoint(i11);
      this.setLocation(n11.x, n11.y);
    }, h10.prototype.getLeft = function() {
      return this.rect.x;
    }, h10.prototype.getRight = function() {
      return this.rect.x + this.rect.width;
    }, h10.prototype.getTop = function() {
      return this.rect.y;
    }, h10.prototype.getBottom = function() {
      return this.rect.y + this.rect.height;
    }, h10.prototype.getParent = function() {
      return null == this.owner ? null : this.owner.getParent();
    }, t33.exports = h10;
  }, function(t33, e10, r10) {
    function i10(t34, e11) {
      null == t34 && null == e11 ? (this.x = 0, this.y = 0) : (this.x = t34, this.y = e11);
    }
    i10.prototype.getX = function() {
      return this.x;
    }, i10.prototype.getY = function() {
      return this.y;
    }, i10.prototype.setX = function(t34) {
      this.x = t34;
    }, i10.prototype.setY = function(t34) {
      this.y = t34;
    }, i10.prototype.getDifference = function(t34) {
      return new DimensionD(this.x - t34.x, this.y - t34.y);
    }, i10.prototype.getCopy = function() {
      return new i10(this.x, this.y);
    }, i10.prototype.translate = function(t34) {
      return this.x += t34.width, this.y += t34.height, this;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(2), n10 = r10(10), a10 = r10(0), o10 = r10(6), s10 = r10(3), l10 = r10(1), h10 = r10(13), u10 = r10(12), d10 = r10(11);
    function p10(t34, e11, r11) {
      i10.call(this, r11), this.estimatedSize = n10.MIN_VALUE, this.margin = a10.DEFAULT_GRAPH_MARGIN, this.edges = [], this.nodes = [], this.isConnected = false, this.parent = t34, null != e11 && e11 instanceof o10 ? this.graphManager = e11 : null != e11 && e11 instanceof Layout && (this.graphManager = e11.graphManager);
    }
    for (var g10 in p10.prototype = Object.create(i10.prototype), i10) p10[g10] = i10[g10];
    p10.prototype.getNodes = function() {
      return this.nodes;
    }, p10.prototype.getEdges = function() {
      return this.edges;
    }, p10.prototype.getGraphManager = function() {
      return this.graphManager;
    }, p10.prototype.getParent = function() {
      return this.parent;
    }, p10.prototype.getLeft = function() {
      return this.left;
    }, p10.prototype.getRight = function() {
      return this.right;
    }, p10.prototype.getTop = function() {
      return this.top;
    }, p10.prototype.getBottom = function() {
      return this.bottom;
    }, p10.prototype.isConnected = function() {
      return this.isConnected;
    }, p10.prototype.add = function(t34, e11, r11) {
      if (null == e11 && null == r11) {
        if (null == this.graphManager) throw "Graph has no graph mgr!";
        if (this.getNodes().indexOf(t34) > -1) throw "Node already in graph!";
        return t34.owner = this, this.getNodes().push(t34), t34;
      }
      if (!(this.getNodes().indexOf(e11) > -1 && this.getNodes().indexOf(r11) > -1)) throw "Source or target not in graph!";
      if (!(e11.owner == r11.owner && e11.owner == this)) throw "Both owners must be this graph!";
      return e11.owner != r11.owner ? null : (t34.source = e11, t34.target = r11, t34.isInterGraph = false, this.getEdges().push(t34), e11.edges.push(t34), r11 != e11 && r11.edges.push(t34), t34);
    }, p10.prototype.remove = function(t34) {
      if (t34 instanceof s10) {
        if (null == t34) throw "Node is null!";
        if (!(null != t34.owner && t34.owner == this)) throw "Owner graph is invalid!";
        if (null == this.graphManager) throw "Owner graph manager is invalid!";
        for (var e11, r11 = t34.edges.slice(), i11 = r11.length, n11 = 0; n11 < i11; n11++) (e11 = r11[n11]).isInterGraph ? this.graphManager.remove(e11) : e11.source.owner.remove(e11);
        var a11 = this.nodes.indexOf(t34);
        if (-1 == a11) throw "Node not in owner node list!";
        this.nodes.splice(a11, 1);
      } else if (t34 instanceof l10) {
        var e11 = t34;
        if (null == e11) throw "Edge is null!";
        if (!(null != e11.source && null != e11.target)) throw "Source and/or target is null!";
        if (!(null != e11.source.owner && null != e11.target.owner && e11.source.owner == this && e11.target.owner == this)) throw "Source and/or target owner is invalid!";
        var o11 = e11.source.edges.indexOf(e11), h11 = e11.target.edges.indexOf(e11);
        if (!(o11 > -1 && h11 > -1)) throw "Source and/or target doesn't know this edge!";
        e11.source.edges.splice(o11, 1), e11.target != e11.source && e11.target.edges.splice(h11, 1);
        var a11 = e11.source.owner.getEdges().indexOf(e11);
        if (-1 == a11) throw "Not in owner's edge list!";
        e11.source.owner.getEdges().splice(a11, 1);
      }
    }, p10.prototype.updateLeftTop = function() {
      for (var t34, e11, r11, i11 = n10.MAX_VALUE, a11 = n10.MAX_VALUE, o11 = this.getNodes(), s11 = o11.length, l11 = 0; l11 < s11; l11++) {
        var h11 = o11[l11];
        t34 = h11.getTop(), e11 = h11.getLeft(), i11 > t34 && (i11 = t34), a11 > e11 && (a11 = e11);
      }
      return i11 == n10.MAX_VALUE ? null : (r11 = void 0 != o11[0].getParent().paddingLeft ? o11[0].getParent().paddingLeft : this.margin, this.left = a11 - r11, this.top = i11 - r11, new u10(this.left, this.top));
    }, p10.prototype.updateBounds = function(t34) {
      for (var e11, r11, i11, a11, o11, s11 = n10.MAX_VALUE, l11 = -n10.MAX_VALUE, u11 = n10.MAX_VALUE, d11 = -n10.MAX_VALUE, p11 = this.nodes, g11 = p11.length, f10 = 0; f10 < g11; f10++) {
        var y10 = p11[f10];
        t34 && null != y10.child && y10.updateBounds(), e11 = y10.getLeft(), r11 = y10.getRight(), i11 = y10.getTop(), a11 = y10.getBottom(), s11 > e11 && (s11 = e11), l11 < r11 && (l11 = r11), u11 > i11 && (u11 = i11), d11 < a11 && (d11 = a11);
      }
      var v10 = new h10(s11, u11, l11 - s11, d11 - u11);
      s11 == n10.MAX_VALUE && (this.left = this.parent.getLeft(), this.right = this.parent.getRight(), this.top = this.parent.getTop(), this.bottom = this.parent.getBottom()), o11 = void 0 != p11[0].getParent().paddingLeft ? p11[0].getParent().paddingLeft : this.margin, this.left = v10.x - o11, this.right = v10.x + v10.width + o11, this.top = v10.y - o11, this.bottom = v10.y + v10.height + o11;
    }, p10.calculateBounds = function(t34) {
      for (var e11, r11, i11, a11, o11 = n10.MAX_VALUE, s11 = -n10.MAX_VALUE, l11 = n10.MAX_VALUE, u11 = -n10.MAX_VALUE, d11 = t34.length, p11 = 0; p11 < d11; p11++) {
        var g11 = t34[p11];
        e11 = g11.getLeft(), r11 = g11.getRight(), i11 = g11.getTop(), a11 = g11.getBottom(), o11 > e11 && (o11 = e11), s11 < r11 && (s11 = r11), l11 > i11 && (l11 = i11), u11 < a11 && (u11 = a11);
      }
      return new h10(o11, l11, s11 - o11, u11 - l11);
    }, p10.prototype.getInclusionTreeDepth = function() {
      return this == this.graphManager.getRoot() ? 1 : this.parent.getInclusionTreeDepth();
    }, p10.prototype.getEstimatedSize = function() {
      if (this.estimatedSize == n10.MIN_VALUE) throw "assert failed";
      return this.estimatedSize;
    }, p10.prototype.calcEstimatedSize = function() {
      for (var t34 = 0, e11 = this.nodes, r11 = e11.length, i11 = 0; i11 < r11; i11++) t34 += e11[i11].calcEstimatedSize();
      return 0 == t34 ? this.estimatedSize = a10.EMPTY_COMPOUND_NODE_SIZE : this.estimatedSize = t34 / Math.sqrt(this.nodes.length), this.estimatedSize;
    }, p10.prototype.updateConnected = function() {
      var t34, e11, r11 = this;
      if (0 == this.nodes.length) {
        this.isConnected = true;
        return;
      }
      var i11 = new d10(), n11 = /* @__PURE__ */ new Set(), a11 = this.nodes[0];
      for (a11.withChildren().forEach(function(t35) {
        i11.push(t35), n11.add(t35);
      }); 0 !== i11.length; ) for (var o11 = (t34 = (a11 = i11.shift()).getEdges()).length, s11 = 0; s11 < o11; s11++) null == (e11 = t34[s11].getOtherEndInGraph(a11, this)) || n11.has(e11) || e11.withChildren().forEach(function(t35) {
        i11.push(t35), n11.add(t35);
      });
      if (this.isConnected = false, n11.size >= this.nodes.length) {
        var l11 = 0;
        n11.forEach(function(t35) {
          t35.owner == r11 && l11++;
        }), l11 == this.nodes.length && (this.isConnected = true);
      }
    }, t33.exports = p10;
  }, function(t33, e10, r10) {
    var i10, n10 = r10(1);
    function a10(t34) {
      i10 = r10(5), this.layout = t34, this.graphs = [], this.edges = [];
    }
    a10.prototype.addRoot = function() {
      var t34 = this.layout.newGraph(), e11 = this.layout.newNode(null), r11 = this.add(t34, e11);
      return this.setRootGraph(r11), this.rootGraph;
    }, a10.prototype.add = function(t34, e11, r11, i11, n11) {
      if (null == r11 && null == i11 && null == n11) {
        if (null == t34) throw "Graph is null!";
        if (null == e11) throw "Parent node is null!";
        if (this.graphs.indexOf(t34) > -1) throw "Graph already in this graph mgr!";
        if (this.graphs.push(t34), null != t34.parent) throw "Already has a parent!";
        if (null != e11.child) throw "Already has a child!";
        return t34.parent = e11, e11.child = t34, t34;
      }
      n11 = r11, i11 = e11, r11 = t34;
      var a11 = i11.getOwner(), o10 = n11.getOwner();
      if (!(null != a11 && a11.getGraphManager() == this)) throw "Source not in this graph mgr!";
      if (!(null != o10 && o10.getGraphManager() == this)) throw "Target not in this graph mgr!";
      if (a11 == o10) return r11.isInterGraph = false, a11.add(r11, i11, n11);
      if (r11.isInterGraph = true, r11.source = i11, r11.target = n11, this.edges.indexOf(r11) > -1) throw "Edge already in inter-graph edge list!";
      if (this.edges.push(r11), !(null != r11.source && null != r11.target)) throw "Edge source and/or target is null!";
      if (!(-1 == r11.source.edges.indexOf(r11) && -1 == r11.target.edges.indexOf(r11))) throw "Edge already in source and/or target incidency list!";
      return r11.source.edges.push(r11), r11.target.edges.push(r11), r11;
    }, a10.prototype.remove = function(t34) {
      if (t34 instanceof i10) {
        if (t34.getGraphManager() != this) throw "Graph not in this graph mgr";
        if (!(t34 == this.rootGraph || null != t34.parent && t34.parent.graphManager == this)) throw "Invalid parent node!";
        for (var e11, r11, a11 = [], o10 = (a11 = a11.concat(t34.getEdges())).length, s10 = 0; s10 < o10; s10++) e11 = a11[s10], t34.remove(e11);
        var l10 = [];
        o10 = (l10 = l10.concat(t34.getNodes())).length;
        for (var s10 = 0; s10 < o10; s10++) r11 = l10[s10], t34.remove(r11);
        t34 == this.rootGraph && this.setRootGraph(null);
        var h10 = this.graphs.indexOf(t34);
        this.graphs.splice(h10, 1), t34.parent = null;
      } else if (t34 instanceof n10) {
        if (null == (e11 = t34)) throw "Edge is null!";
        if (!e11.isInterGraph) throw "Not an inter-graph edge!";
        if (!(null != e11.source && null != e11.target)) throw "Source and/or target is null!";
        if (!(-1 != e11.source.edges.indexOf(e11) && -1 != e11.target.edges.indexOf(e11))) throw "Source and/or target doesn't know this edge!";
        var h10 = e11.source.edges.indexOf(e11);
        if (e11.source.edges.splice(h10, 1), h10 = e11.target.edges.indexOf(e11), e11.target.edges.splice(h10, 1), !(null != e11.source.owner && null != e11.source.owner.getGraphManager())) throw "Edge owner graph or owner graph manager is null!";
        if (-1 == e11.source.owner.getGraphManager().edges.indexOf(e11)) throw "Not in owner graph manager's edge list!";
        var h10 = e11.source.owner.getGraphManager().edges.indexOf(e11);
        e11.source.owner.getGraphManager().edges.splice(h10, 1);
      }
    }, a10.prototype.updateBounds = function() {
      this.rootGraph.updateBounds(true);
    }, a10.prototype.getGraphs = function() {
      return this.graphs;
    }, a10.prototype.getAllNodes = function() {
      if (null == this.allNodes) {
        for (var t34 = [], e11 = this.getGraphs(), r11 = e11.length, i11 = 0; i11 < r11; i11++) t34 = t34.concat(e11[i11].getNodes());
        this.allNodes = t34;
      }
      return this.allNodes;
    }, a10.prototype.resetAllNodes = function() {
      this.allNodes = null;
    }, a10.prototype.resetAllEdges = function() {
      this.allEdges = null;
    }, a10.prototype.resetAllNodesToApplyGravitation = function() {
      this.allNodesToApplyGravitation = null;
    }, a10.prototype.getAllEdges = function() {
      if (null == this.allEdges) {
        var t34 = [], e11 = this.getGraphs();
        e11.length;
        for (var r11 = 0; r11 < e11.length; r11++) t34 = t34.concat(e11[r11].getEdges());
        t34 = t34.concat(this.edges), this.allEdges = t34;
      }
      return this.allEdges;
    }, a10.prototype.getAllNodesToApplyGravitation = function() {
      return this.allNodesToApplyGravitation;
    }, a10.prototype.setAllNodesToApplyGravitation = function(t34) {
      if (null != this.allNodesToApplyGravitation) throw "assert failed";
      this.allNodesToApplyGravitation = t34;
    }, a10.prototype.getRoot = function() {
      return this.rootGraph;
    }, a10.prototype.setRootGraph = function(t34) {
      if (t34.getGraphManager() != this) throw "Root not in this graph mgr!";
      this.rootGraph = t34, null == t34.parent && (t34.parent = this.layout.newNode("Root node"));
    }, a10.prototype.getLayout = function() {
      return this.layout;
    }, a10.prototype.isOneAncestorOfOther = function(t34, e11) {
      if (!(null != t34 && null != e11)) throw "assert failed";
      if (t34 == e11) return true;
      for (var r11, i11 = t34.getOwner(); null != (r11 = i11.getParent()); ) {
        if (r11 == e11) return true;
        if (null == (i11 = r11.getOwner())) break;
      }
      for (i11 = e11.getOwner(); null != (r11 = i11.getParent()); ) {
        if (r11 == t34) return true;
        if (null == (i11 = r11.getOwner())) break;
      }
      return false;
    }, a10.prototype.calcLowestCommonAncestors = function() {
      for (var t34, e11, r11, i11, n11, a11 = this.getAllEdges(), o10 = a11.length, s10 = 0; s10 < o10; s10++) {
        if (e11 = (t34 = a11[s10]).source, r11 = t34.target, t34.lca = null, t34.sourceInLca = e11, t34.targetInLca = r11, e11 == r11) {
          t34.lca = e11.getOwner();
          continue;
        }
        for (i11 = e11.getOwner(); null == t34.lca; ) {
          for (t34.targetInLca = r11, n11 = r11.getOwner(); null == t34.lca; ) {
            if (n11 == i11) {
              t34.lca = n11;
              break;
            }
            if (n11 == this.rootGraph) break;
            if (null != t34.lca) throw "assert failed";
            t34.targetInLca = n11.getParent(), n11 = t34.targetInLca.getOwner();
          }
          if (i11 == this.rootGraph) break;
          null == t34.lca && (t34.sourceInLca = i11.getParent(), i11 = t34.sourceInLca.getOwner());
        }
        if (null == t34.lca) throw "assert failed";
      }
    }, a10.prototype.calcLowestCommonAncestor = function(t34, e11) {
      if (t34 == e11) return t34.getOwner();
      for (var r11 = t34.getOwner(); null != r11; ) {
        for (var i11 = e11.getOwner(); null != i11; ) {
          if (i11 == r11) return i11;
          i11 = i11.getParent().getOwner();
        }
        r11 = r11.getParent().getOwner();
      }
      return r11;
    }, a10.prototype.calcInclusionTreeDepths = function(t34, e11) {
      null == t34 && null == e11 && (t34 = this.rootGraph, e11 = 1);
      for (var r11, i11 = t34.getNodes(), n11 = i11.length, a11 = 0; a11 < n11; a11++) (r11 = i11[a11]).inclusionTreeDepth = e11, null != r11.child && this.calcInclusionTreeDepths(r11.child, e11 + 1);
    }, a10.prototype.includesInvalidEdge = function() {
      for (var t34, e11 = this.edges.length, r11 = 0; r11 < e11; r11++) if (t34 = this.edges[r11], this.isOneAncestorOfOther(t34.source, t34.target)) return true;
      return false;
    }, t33.exports = a10;
  }, function(t33, e10, r10) {
    var i10 = r10(0);
    function n10() {
    }
    for (var a10 in i10) n10[a10] = i10[a10];
    n10.MAX_ITERATIONS = 2500, n10.DEFAULT_EDGE_LENGTH = 50, n10.DEFAULT_SPRING_STRENGTH = 0.45, n10.DEFAULT_REPULSION_STRENGTH = 4500, n10.DEFAULT_GRAVITY_STRENGTH = 0.4, n10.DEFAULT_COMPOUND_GRAVITY_STRENGTH = 1, n10.DEFAULT_GRAVITY_RANGE_FACTOR = 3.8, n10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = 1.5, n10.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION = true, n10.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION = true, n10.DEFAULT_COOLING_FACTOR_INCREMENTAL = 0.3, n10.COOLING_ADAPTATION_FACTOR = 0.33, n10.ADAPTATION_LOWER_NODE_LIMIT = 1e3, n10.ADAPTATION_UPPER_NODE_LIMIT = 5e3, n10.MAX_NODE_DISPLACEMENT_INCREMENTAL = 100, n10.MAX_NODE_DISPLACEMENT = 3 * n10.MAX_NODE_DISPLACEMENT_INCREMENTAL, n10.MIN_REPULSION_DIST = n10.DEFAULT_EDGE_LENGTH / 10, n10.CONVERGENCE_CHECK_PERIOD = 100, n10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = 0.1, n10.MIN_EDGE_LENGTH = 1, n10.GRID_CALCULATION_CHECK_PERIOD = 10, t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = r10(12);
    function n10() {
    }
    n10.calcSeparationAmount = function(t34, e11, r11, i11) {
      if (!t34.intersects(e11)) throw "assert failed";
      var n11 = [, ,];
      this.decideDirectionsForOverlappingNodes(t34, e11, n11), r11[0] = Math.min(t34.getRight(), e11.getRight()) - Math.max(t34.x, e11.x), r11[1] = Math.min(t34.getBottom(), e11.getBottom()) - Math.max(t34.y, e11.y), t34.getX() <= e11.getX() && t34.getRight() >= e11.getRight() ? r11[0] += Math.min(e11.getX() - t34.getX(), t34.getRight() - e11.getRight()) : e11.getX() <= t34.getX() && e11.getRight() >= t34.getRight() && (r11[0] += Math.min(t34.getX() - e11.getX(), e11.getRight() - t34.getRight())), t34.getY() <= e11.getY() && t34.getBottom() >= e11.getBottom() ? r11[1] += Math.min(e11.getY() - t34.getY(), t34.getBottom() - e11.getBottom()) : e11.getY() <= t34.getY() && e11.getBottom() >= t34.getBottom() && (r11[1] += Math.min(t34.getY() - e11.getY(), e11.getBottom() - t34.getBottom()));
      var a10 = Math.abs((e11.getCenterY() - t34.getCenterY()) / (e11.getCenterX() - t34.getCenterX()));
      e11.getCenterY() === t34.getCenterY() && e11.getCenterX() === t34.getCenterX() && (a10 = 1);
      var o10 = a10 * r11[0], s10 = r11[1] / a10;
      r11[0] < s10 ? s10 = r11[0] : o10 = r11[1], r11[0] = -1 * n11[0] * (s10 / 2 + i11), r11[1] = -1 * n11[1] * (o10 / 2 + i11);
    }, n10.decideDirectionsForOverlappingNodes = function(t34, e11, r11) {
      t34.getCenterX() < e11.getCenterX() ? r11[0] = -1 : r11[0] = 1, t34.getCenterY() < e11.getCenterY() ? r11[1] = -1 : r11[1] = 1;
    }, n10.getIntersection2 = function(t34, e11, r11) {
      var i11 = t34.getCenterX(), n11 = t34.getCenterY(), a10 = e11.getCenterX(), o10 = e11.getCenterY();
      if (t34.intersects(e11)) return r11[0] = i11, r11[1] = n11, r11[2] = a10, r11[3] = o10, true;
      var s10 = t34.getX(), l10 = t34.getY(), h10 = t34.getRight(), u10 = t34.getX(), d10 = t34.getBottom(), p10 = t34.getRight(), g10 = t34.getWidthHalf(), f10 = t34.getHeightHalf(), y10 = e11.getX(), v10 = e11.getY(), x10 = e11.getRight(), b10 = e11.getX(), w10 = e11.getBottom(), k10 = e11.getRight(), _10 = e11.getWidthHalf(), T10 = e11.getHeightHalf(), E10 = false, C10 = false;
      if (i11 === a10) n11 > o10 ? (r11[0] = i11, r11[1] = l10, r11[2] = a10, r11[3] = w10) : n11 < o10 && (r11[0] = i11, r11[1] = d10, r11[2] = a10, r11[3] = v10);
      else if (n11 === o10) i11 > a10 ? (r11[0] = s10, r11[1] = n11, r11[2] = x10, r11[3] = o10) : i11 < a10 && (r11[0] = h10, r11[1] = n11, r11[2] = y10, r11[3] = o10);
      else {
        var S10 = t34.height / t34.width, A10 = e11.height / e11.width, L10 = (o10 - n11) / (a10 - i11), N10 = void 0, I10 = void 0, M10 = void 0, R10 = void 0, D10 = void 0, O10 = void 0;
        if (-S10 === L10 ? (i11 > a10 ? (r11[0] = u10, r11[1] = d10) : (r11[0] = h10, r11[1] = l10), E10 = true) : S10 === L10 && (i11 > a10 ? (r11[0] = s10, r11[1] = l10) : (r11[0] = p10, r11[1] = d10), E10 = true), -A10 === L10 ? (a10 > i11 ? (r11[2] = b10, r11[3] = w10) : (r11[2] = x10, r11[3] = v10), C10 = true) : A10 === L10 && (a10 > i11 ? (r11[2] = y10, r11[3] = v10) : (r11[2] = k10, r11[3] = w10), C10 = true), E10 && C10) return false;
        if (i11 > a10 ? n11 > o10 ? (N10 = this.getCardinalDirection(S10, L10, 4), I10 = this.getCardinalDirection(A10, L10, 2)) : (N10 = this.getCardinalDirection(-S10, L10, 3), I10 = this.getCardinalDirection(-A10, L10, 1)) : n11 > o10 ? (N10 = this.getCardinalDirection(-S10, L10, 1), I10 = this.getCardinalDirection(-A10, L10, 3)) : (N10 = this.getCardinalDirection(S10, L10, 2), I10 = this.getCardinalDirection(A10, L10, 4)), !E10) switch (N10) {
          case 1:
            R10 = l10, M10 = i11 + -f10 / L10, r11[0] = M10, r11[1] = R10;
            break;
          case 2:
            M10 = p10, R10 = n11 + g10 * L10, r11[0] = M10, r11[1] = R10;
            break;
          case 3:
            R10 = d10, M10 = i11 + f10 / L10, r11[0] = M10, r11[1] = R10;
            break;
          case 4:
            M10 = u10, R10 = n11 + -g10 * L10, r11[0] = M10, r11[1] = R10;
        }
        if (!C10) switch (I10) {
          case 1:
            O10 = v10, D10 = a10 + -T10 / L10, r11[2] = D10, r11[3] = O10;
            break;
          case 2:
            D10 = k10, O10 = o10 + _10 * L10, r11[2] = D10, r11[3] = O10;
            break;
          case 3:
            O10 = w10, D10 = a10 + T10 / L10, r11[2] = D10, r11[3] = O10;
            break;
          case 4:
            D10 = b10, O10 = o10 + -_10 * L10, r11[2] = D10, r11[3] = O10;
        }
      }
      return false;
    }, n10.getCardinalDirection = function(t34, e11, r11) {
      return t34 > e11 ? r11 : 1 + r11 % 4;
    }, n10.getIntersection = function(t34, e11, r11, n11) {
      if (null == n11) return this.getIntersection2(t34, e11, r11);
      var a10 = t34.x, o10 = t34.y, s10 = e11.x, l10 = e11.y, h10 = r11.x, u10 = r11.y, d10 = n11.x, p10 = n11.y, g10 = void 0, f10 = void 0, y10 = void 0, v10 = void 0, x10 = void 0, b10 = void 0, w10 = void 0;
      return (g10 = l10 - o10, y10 = a10 - s10, x10 = s10 * o10 - a10 * l10, f10 = p10 - u10, v10 = h10 - d10, b10 = d10 * u10 - h10 * p10, 0 == (w10 = g10 * v10 - f10 * y10)) ? null : new i10((y10 * b10 - v10 * x10) / w10, (f10 * x10 - g10 * b10) / w10);
    }, n10.angleOfVector = function(t34, e11, r11, i11) {
      var n11 = void 0;
      return t34 !== r11 ? (n11 = Math.atan((i11 - e11) / (r11 - t34)), r11 < t34 ? n11 += Math.PI : i11 < e11 && (n11 += this.TWO_PI)) : n11 = i11 < e11 ? this.ONE_AND_HALF_PI : this.HALF_PI, n11;
    }, n10.doIntersect = function(t34, e11, r11, i11) {
      var n11 = t34.x, a10 = t34.y, o10 = e11.x, s10 = e11.y, l10 = r11.x, h10 = r11.y, u10 = i11.x, d10 = i11.y, p10 = (o10 - n11) * (d10 - h10) - (u10 - l10) * (s10 - a10);
      if (0 === p10) return false;
      var g10 = ((d10 - h10) * (u10 - n11) + (l10 - u10) * (d10 - a10)) / p10, f10 = ((a10 - s10) * (u10 - n11) + (o10 - n11) * (d10 - a10)) / p10;
      return 0 < g10 && g10 < 1 && 0 < f10 && f10 < 1;
    }, n10.HALF_PI = 0.5 * Math.PI, n10.ONE_AND_HALF_PI = 1.5 * Math.PI, n10.TWO_PI = 2 * Math.PI, n10.THREE_PI = 3 * Math.PI, t33.exports = n10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.sign = function(t34) {
      return t34 > 0 ? 1 : t34 < 0 ? -1 : 0;
    }, i10.floor = function(t34) {
      return t34 < 0 ? Math.ceil(t34) : Math.floor(t34);
    }, i10.ceil = function(t34) {
      return t34 < 0 ? Math.floor(t34) : Math.ceil(t34);
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.MAX_VALUE = 2147483647, i10.MIN_VALUE = -2147483648, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = /* @__PURE__ */ function() {
      function t34(t35, e11) {
        for (var r11 = 0; r11 < e11.length; r11++) {
          var i11 = e11[r11];
          i11.enumerable = i11.enumerable || false, i11.configurable = true, "value" in i11 && (i11.writable = true), Object.defineProperty(t35, i11.key, i11);
        }
      }
      return function(e11, r11, i11) {
        return r11 && t34(e11.prototype, r11), i11 && t34(e11, i11), e11;
      };
    }(), n10 = function(t34) {
      return { value: t34, next: null, prev: null };
    }, a10 = function(t34, e11, r11, i11) {
      return null !== t34 ? t34.next = e11 : i11.head = e11, null !== r11 ? r11.prev = e11 : i11.tail = e11, e11.prev = t34, e11.next = r11, i11.length++, e11;
    }, o10 = function(t34, e11) {
      var r11 = t34.prev, i11 = t34.next;
      return null !== r11 ? r11.next = i11 : e11.head = i11, null !== i11 ? i11.prev = r11 : e11.tail = r11, t34.prev = t34.next = null, e11.length--, t34;
    }, s10 = function() {
      function t34(e11) {
        var r11 = this;
        (function(t35, e12) {
          if (!(t35 instanceof e12)) throw TypeError("Cannot call a class as a function");
        })(this, t34), this.length = 0, this.head = null, this.tail = null, null != e11 && e11.forEach(function(t35) {
          return r11.push(t35);
        });
      }
      return i10(t34, [{ key: "size", value: function() {
        return this.length;
      } }, { key: "insertBefore", value: function(t35, e11) {
        return a10(e11.prev, n10(t35), e11, this);
      } }, { key: "insertAfter", value: function(t35, e11) {
        return a10(e11, n10(t35), e11.next, this);
      } }, { key: "insertNodeBefore", value: function(t35, e11) {
        return a10(e11.prev, t35, e11, this);
      } }, { key: "insertNodeAfter", value: function(t35, e11) {
        return a10(e11, t35, e11.next, this);
      } }, { key: "push", value: function(t35) {
        return a10(this.tail, n10(t35), null, this);
      } }, { key: "unshift", value: function(t35) {
        return a10(null, n10(t35), this.head, this);
      } }, { key: "remove", value: function(t35) {
        return o10(t35, this);
      } }, { key: "pop", value: function() {
        return o10(this.tail, this).value;
      } }, { key: "popNode", value: function() {
        return o10(this.tail, this);
      } }, { key: "shift", value: function() {
        return o10(this.head, this).value;
      } }, { key: "shiftNode", value: function() {
        return o10(this.head, this);
      } }, { key: "get_object_at", value: function(t35) {
        if (t35 <= this.length()) {
          for (var e11 = 1, r11 = this.head; e11 < t35; ) r11 = r11.next, e11++;
          return r11.value;
        }
      } }, { key: "set_object_at", value: function(t35, e11) {
        if (t35 <= this.length()) {
          for (var r11 = 1, i11 = this.head; r11 < t35; ) i11 = i11.next, r11++;
          i11.value = e11;
        }
      } }]), t34;
    }();
    t33.exports = s10;
  }, function(t33, e10, r10) {
    function i10(t34, e11, r11) {
      this.x = null, this.y = null, null == t34 && null == e11 && null == r11 ? (this.x = 0, this.y = 0) : "number" == typeof t34 && "number" == typeof e11 && null == r11 ? (this.x = t34, this.y = e11) : "Point" == t34.constructor.name && null == e11 && null == r11 && (r11 = t34, this.x = r11.x, this.y = r11.y);
    }
    i10.prototype.getX = function() {
      return this.x;
    }, i10.prototype.getY = function() {
      return this.y;
    }, i10.prototype.getLocation = function() {
      return new i10(this.x, this.y);
    }, i10.prototype.setLocation = function(t34, e11, r11) {
      "Point" == t34.constructor.name && null == e11 && null == r11 ? (r11 = t34, this.setLocation(r11.x, r11.y)) : "number" == typeof t34 && "number" == typeof e11 && null == r11 && (parseInt(t34) == t34 && parseInt(e11) == e11 ? this.move(t34, e11) : (this.x = Math.floor(t34 + 0.5), this.y = Math.floor(e11 + 0.5)));
    }, i10.prototype.move = function(t34, e11) {
      this.x = t34, this.y = e11;
    }, i10.prototype.translate = function(t34, e11) {
      this.x += t34, this.y += e11;
    }, i10.prototype.equals = function(t34) {
      return "Point" == t34.constructor.name ? this.x == t34.x && this.y == t34.y : this == t34;
    }, i10.prototype.toString = function() {
      return new i10().constructor.name + "[x=" + this.x + ",y=" + this.y + "]";
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    function i10(t34, e11, r11, i11) {
      this.x = 0, this.y = 0, this.width = 0, this.height = 0, null != t34 && null != e11 && null != r11 && null != i11 && (this.x = t34, this.y = e11, this.width = r11, this.height = i11);
    }
    i10.prototype.getX = function() {
      return this.x;
    }, i10.prototype.setX = function(t34) {
      this.x = t34;
    }, i10.prototype.getY = function() {
      return this.y;
    }, i10.prototype.setY = function(t34) {
      this.y = t34;
    }, i10.prototype.getWidth = function() {
      return this.width;
    }, i10.prototype.setWidth = function(t34) {
      this.width = t34;
    }, i10.prototype.getHeight = function() {
      return this.height;
    }, i10.prototype.setHeight = function(t34) {
      this.height = t34;
    }, i10.prototype.getRight = function() {
      return this.x + this.width;
    }, i10.prototype.getBottom = function() {
      return this.y + this.height;
    }, i10.prototype.intersects = function(t34) {
      return !(this.getRight() < t34.x || this.getBottom() < t34.y || t34.getRight() < this.x || t34.getBottom() < this.y);
    }, i10.prototype.getCenterX = function() {
      return this.x + this.width / 2;
    }, i10.prototype.getMinX = function() {
      return this.getX();
    }, i10.prototype.getMaxX = function() {
      return this.getX() + this.width;
    }, i10.prototype.getCenterY = function() {
      return this.y + this.height / 2;
    }, i10.prototype.getMinY = function() {
      return this.getY();
    }, i10.prototype.getMaxY = function() {
      return this.getY() + this.height;
    }, i10.prototype.getWidthHalf = function() {
      return this.width / 2;
    }, i10.prototype.getHeightHalf = function() {
      return this.height / 2;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t34) {
      return typeof t34;
    } : function(t34) {
      return t34 && "function" == typeof Symbol && t34.constructor === Symbol && t34 !== Symbol.prototype ? "symbol" : typeof t34;
    };
    function n10() {
    }
    n10.lastID = 0, n10.createID = function(t34) {
      return n10.isPrimitive(t34) ? t34 : (null != t34.uniqueID || (t34.uniqueID = n10.getString(), n10.lastID++), t34.uniqueID);
    }, n10.getString = function(t34) {
      return null == t34 && (t34 = n10.lastID), "Object#" + t34;
    }, n10.isPrimitive = function(t34) {
      var e11 = void 0 === t34 ? "undefined" : i10(t34);
      return null == t34 || "object" != e11 && "function" != e11;
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    function i10(t34) {
      if (!Array.isArray(t34)) return Array.from(t34);
      for (var e11 = 0, r11 = Array(t34.length); e11 < t34.length; e11++) r11[e11] = t34[e11];
      return r11;
    }
    var n10 = r10(0), a10 = r10(6), o10 = r10(3), s10 = r10(1), l10 = r10(5), h10 = r10(4), u10 = r10(17), d10 = r10(27);
    function p10(t34) {
      d10.call(this), this.layoutQuality = n10.QUALITY, this.createBendsAsNeeded = n10.DEFAULT_CREATE_BENDS_AS_NEEDED, this.incremental = n10.DEFAULT_INCREMENTAL, this.animationOnLayout = n10.DEFAULT_ANIMATION_ON_LAYOUT, this.animationDuringLayout = n10.DEFAULT_ANIMATION_DURING_LAYOUT, this.animationPeriod = n10.DEFAULT_ANIMATION_PERIOD, this.uniformLeafNodeSizes = n10.DEFAULT_UNIFORM_LEAF_NODE_SIZES, this.edgeToDummyNodes = /* @__PURE__ */ new Map(), this.graphManager = new a10(this), this.isLayoutFinished = false, this.isSubLayout = false, this.isRemoteUse = false, null != t34 && (this.isRemoteUse = t34);
    }
    p10.RANDOM_SEED = 1, p10.prototype = Object.create(d10.prototype), p10.prototype.getGraphManager = function() {
      return this.graphManager;
    }, p10.prototype.getAllNodes = function() {
      return this.graphManager.getAllNodes();
    }, p10.prototype.getAllEdges = function() {
      return this.graphManager.getAllEdges();
    }, p10.prototype.getAllNodesToApplyGravitation = function() {
      return this.graphManager.getAllNodesToApplyGravitation();
    }, p10.prototype.newGraphManager = function() {
      var t34 = new a10(this);
      return this.graphManager = t34, t34;
    }, p10.prototype.newGraph = function(t34) {
      return new l10(null, this.graphManager, t34);
    }, p10.prototype.newNode = function(t34) {
      return new o10(this.graphManager, t34);
    }, p10.prototype.newEdge = function(t34) {
      return new s10(null, null, t34);
    }, p10.prototype.checkLayoutSuccess = function() {
      return null == this.graphManager.getRoot() || 0 == this.graphManager.getRoot().getNodes().length || this.graphManager.includesInvalidEdge();
    }, p10.prototype.runLayout = function() {
      var t34;
      return this.isLayoutFinished = false, this.tilingPreLayout && this.tilingPreLayout(), this.initParameters(), t34 = !this.checkLayoutSuccess() && this.layout(), "during" !== n10.ANIMATE && (t34 && !this.isSubLayout && this.doPostLayout(), this.tilingPostLayout && this.tilingPostLayout(), this.isLayoutFinished = true, t34);
    }, p10.prototype.doPostLayout = function() {
      this.incremental || this.transform(), this.update();
    }, p10.prototype.update2 = function() {
      if (this.createBendsAsNeeded && (this.createBendpointsFromDummyNodes(), this.graphManager.resetAllEdges()), !this.isRemoteUse) {
        for (var t34 = this.graphManager.getAllEdges(), e11 = 0; e11 < t34.length; e11++) t34[e11];
        for (var r11 = this.graphManager.getRoot().getNodes(), e11 = 0; e11 < r11.length; e11++) r11[e11];
        this.update(this.graphManager.getRoot());
      }
    }, p10.prototype.update = function(t34) {
      if (null == t34) this.update2();
      else if (t34 instanceof o10) {
        if (null != t34.getChild()) for (var e11 = t34.getChild().getNodes(), r11 = 0; r11 < e11.length; r11++) update(e11[r11]);
        null != t34.vGraphObject && t34.vGraphObject.update(t34);
      } else t34 instanceof s10 ? null != t34.vGraphObject && t34.vGraphObject.update(t34) : t34 instanceof l10 && null != t34.vGraphObject && t34.vGraphObject.update(t34);
    }, p10.prototype.initParameters = function() {
      this.isSubLayout || (this.layoutQuality = n10.QUALITY, this.animationDuringLayout = n10.DEFAULT_ANIMATION_DURING_LAYOUT, this.animationPeriod = n10.DEFAULT_ANIMATION_PERIOD, this.animationOnLayout = n10.DEFAULT_ANIMATION_ON_LAYOUT, this.incremental = n10.DEFAULT_INCREMENTAL, this.createBendsAsNeeded = n10.DEFAULT_CREATE_BENDS_AS_NEEDED, this.uniformLeafNodeSizes = n10.DEFAULT_UNIFORM_LEAF_NODE_SIZES), this.animationDuringLayout && (this.animationOnLayout = false);
    }, p10.prototype.transform = function(t34) {
      if (void 0 == t34) this.transform(new h10(0, 0));
      else {
        var e11 = new u10(), r11 = this.graphManager.getRoot().updateLeftTop();
        if (null != r11) {
          e11.setWorldOrgX(t34.x), e11.setWorldOrgY(t34.y), e11.setDeviceOrgX(r11.x), e11.setDeviceOrgY(r11.y);
          for (var i11 = this.getAllNodes(), n11 = 0; n11 < i11.length; n11++) i11[n11].transform(e11);
        }
      }
    }, p10.prototype.positionNodesRandomly = function(t34) {
      if (void 0 == t34) this.positionNodesRandomly(this.getGraphManager().getRoot()), this.getGraphManager().getRoot().updateBounds(true);
      else for (var e11, r11, i11 = t34.getNodes(), n11 = 0; n11 < i11.length; n11++) null == (r11 = (e11 = i11[n11]).getChild()) ? e11.scatter() : 0 == r11.getNodes().length ? e11.scatter() : (this.positionNodesRandomly(r11), e11.updateBounds());
    }, p10.prototype.getFlatForest = function() {
      for (var t34 = [], e11 = true, r11 = this.graphManager.getRoot().getNodes(), n11 = true, a11 = 0; a11 < r11.length; a11++) null != r11[a11].getChild() && (n11 = false);
      if (!n11) return t34;
      var o11 = /* @__PURE__ */ new Set(), s11 = [], l11 = /* @__PURE__ */ new Map(), h11 = [];
      for (h11 = h11.concat(r11); h11.length > 0 && e11; ) {
        for (s11.push(h11[0]); s11.length > 0 && e11; ) {
          var u11 = s11[0];
          s11.splice(0, 1), o11.add(u11);
          for (var d11 = u11.getEdges(), a11 = 0; a11 < d11.length; a11++) {
            var p11 = d11[a11].getOtherEnd(u11);
            if (l11.get(u11) != p11) {
              if (o11.has(p11)) {
                e11 = false;
                break;
              }
              s11.push(p11), l11.set(p11, u11);
            }
          }
        }
        if (e11) {
          var g10 = [].concat(i10(o11));
          t34.push(g10);
          for (var a11 = 0; a11 < g10.length; a11++) {
            var f10 = g10[a11], y10 = h11.indexOf(f10);
            y10 > -1 && h11.splice(y10, 1);
          }
          o11 = /* @__PURE__ */ new Set(), l11 = /* @__PURE__ */ new Map();
        } else t34 = [];
      }
      return t34;
    }, p10.prototype.createDummyNodesForBendpoints = function(t34) {
      for (var e11 = [], r11 = t34.source, i11 = this.graphManager.calcLowestCommonAncestor(t34.source, t34.target), n11 = 0; n11 < t34.bendpoints.length; n11++) {
        var a11 = this.newNode(null);
        a11.setRect(new Point(0, 0), new Dimension(1, 1)), i11.add(a11);
        var o11 = this.newEdge(null);
        this.graphManager.add(o11, r11, a11), e11.add(a11), r11 = a11;
      }
      var o11 = this.newEdge(null);
      return this.graphManager.add(o11, r11, t34.target), this.edgeToDummyNodes.set(t34, e11), t34.isInterGraph() ? this.graphManager.remove(t34) : i11.remove(t34), e11;
    }, p10.prototype.createBendpointsFromDummyNodes = function() {
      var t34 = [];
      t34 = t34.concat(this.graphManager.getAllEdges()), t34 = [].concat(i10(this.edgeToDummyNodes.keys())).concat(t34);
      for (var e11 = 0; e11 < t34.length; e11++) {
        var r11 = t34[e11];
        if (r11.bendpoints.length > 0) {
          for (var n11 = this.edgeToDummyNodes.get(r11), a11 = 0; a11 < n11.length; a11++) {
            var o11 = n11[a11], s11 = new h10(o11.getCenterX(), o11.getCenterY()), l11 = r11.bendpoints.get(a11);
            l11.x = s11.x, l11.y = s11.y, o11.getOwner().remove(o11);
          }
          this.graphManager.add(r11, r11.source, r11.target);
        }
      }
    }, p10.transform = function(t34, e11, r11, i11) {
      if (void 0 == r11 || void 0 == i11) return t34 <= 50 ? (n11 = 9 * e11 / 500, a11 = e11 / 10) : (n11 = 9 * e11 / 50, a11 = -8 * e11), n11 * t34 + a11;
      var n11, a11, o11 = e11;
      return t34 <= 50 ? o11 -= (e11 - e11 / r11) / 50 * (50 - t34) : o11 += (e11 * i11 - e11) / 50 * (t34 - 50), o11;
    }, p10.findCenterOfTree = function(t34) {
      var e11 = [];
      e11 = e11.concat(t34);
      var r11 = [], i11 = /* @__PURE__ */ new Map(), n11 = false, a11 = null;
      (1 == e11.length || 2 == e11.length) && (n11 = true, a11 = e11[0]);
      for (var o11 = 0; o11 < e11.length; o11++) {
        var s11 = e11[o11], l11 = s11.getNeighborsList().size;
        i11.set(s11, s11.getNeighborsList().size), 1 == l11 && r11.push(s11);
      }
      var h11 = [];
      for (h11 = h11.concat(r11); !n11; ) {
        var u11 = [];
        u11 = u11.concat(h11), h11 = [];
        for (var o11 = 0; o11 < e11.length; o11++) {
          var s11 = e11[o11], d11 = e11.indexOf(s11);
          d11 >= 0 && e11.splice(d11, 1), s11.getNeighborsList().forEach(function(t35) {
            if (0 > r11.indexOf(t35)) {
              var e12 = i11.get(t35) - 1;
              1 == e12 && h11.push(t35), i11.set(t35, e12);
            }
          });
        }
        r11 = r11.concat(h11), (1 == e11.length || 2 == e11.length) && (n11 = true, a11 = e11[0]);
      }
      return a11;
    }, p10.prototype.setGraphManager = function(t34) {
      this.graphManager = t34;
    }, t33.exports = p10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.seed = 1, i10.x = 0, i10.nextDouble = function() {
      return i10.x = 1e4 * Math.sin(i10.seed++), i10.x - Math.floor(i10.x);
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(4);
    function n10(t34, e11) {
      this.lworldOrgX = 0, this.lworldOrgY = 0, this.ldeviceOrgX = 0, this.ldeviceOrgY = 0, this.lworldExtX = 1, this.lworldExtY = 1, this.ldeviceExtX = 1, this.ldeviceExtY = 1;
    }
    n10.prototype.getWorldOrgX = function() {
      return this.lworldOrgX;
    }, n10.prototype.setWorldOrgX = function(t34) {
      this.lworldOrgX = t34;
    }, n10.prototype.getWorldOrgY = function() {
      return this.lworldOrgY;
    }, n10.prototype.setWorldOrgY = function(t34) {
      this.lworldOrgY = t34;
    }, n10.prototype.getWorldExtX = function() {
      return this.lworldExtX;
    }, n10.prototype.setWorldExtX = function(t34) {
      this.lworldExtX = t34;
    }, n10.prototype.getWorldExtY = function() {
      return this.lworldExtY;
    }, n10.prototype.setWorldExtY = function(t34) {
      this.lworldExtY = t34;
    }, n10.prototype.getDeviceOrgX = function() {
      return this.ldeviceOrgX;
    }, n10.prototype.setDeviceOrgX = function(t34) {
      this.ldeviceOrgX = t34;
    }, n10.prototype.getDeviceOrgY = function() {
      return this.ldeviceOrgY;
    }, n10.prototype.setDeviceOrgY = function(t34) {
      this.ldeviceOrgY = t34;
    }, n10.prototype.getDeviceExtX = function() {
      return this.ldeviceExtX;
    }, n10.prototype.setDeviceExtX = function(t34) {
      this.ldeviceExtX = t34;
    }, n10.prototype.getDeviceExtY = function() {
      return this.ldeviceExtY;
    }, n10.prototype.setDeviceExtY = function(t34) {
      this.ldeviceExtY = t34;
    }, n10.prototype.transformX = function(t34) {
      var e11 = 0, r11 = this.lworldExtX;
      return 0 != r11 && (e11 = this.ldeviceOrgX + (t34 - this.lworldOrgX) * this.ldeviceExtX / r11), e11;
    }, n10.prototype.transformY = function(t34) {
      var e11 = 0, r11 = this.lworldExtY;
      return 0 != r11 && (e11 = this.ldeviceOrgY + (t34 - this.lworldOrgY) * this.ldeviceExtY / r11), e11;
    }, n10.prototype.inverseTransformX = function(t34) {
      var e11 = 0, r11 = this.ldeviceExtX;
      return 0 != r11 && (e11 = this.lworldOrgX + (t34 - this.ldeviceOrgX) * this.lworldExtX / r11), e11;
    }, n10.prototype.inverseTransformY = function(t34) {
      var e11 = 0, r11 = this.ldeviceExtY;
      return 0 != r11 && (e11 = this.lworldOrgY + (t34 - this.ldeviceOrgY) * this.lworldExtY / r11), e11;
    }, n10.prototype.inverseTransformPoint = function(t34) {
      return new i10(this.inverseTransformX(t34.x), this.inverseTransformY(t34.y));
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = r10(15), n10 = r10(7), a10 = r10(0), o10 = r10(8), s10 = r10(9);
    function l10() {
      i10.call(this), this.useSmartIdealEdgeLengthCalculation = n10.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION, this.idealEdgeLength = n10.DEFAULT_EDGE_LENGTH, this.springConstant = n10.DEFAULT_SPRING_STRENGTH, this.repulsionConstant = n10.DEFAULT_REPULSION_STRENGTH, this.gravityConstant = n10.DEFAULT_GRAVITY_STRENGTH, this.compoundGravityConstant = n10.DEFAULT_COMPOUND_GRAVITY_STRENGTH, this.gravityRangeFactor = n10.DEFAULT_GRAVITY_RANGE_FACTOR, this.compoundGravityRangeFactor = n10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR, this.displacementThresholdPerNode = 3 * n10.DEFAULT_EDGE_LENGTH / 100, this.coolingFactor = n10.DEFAULT_COOLING_FACTOR_INCREMENTAL, this.initialCoolingFactor = n10.DEFAULT_COOLING_FACTOR_INCREMENTAL, this.totalDisplacement = 0, this.oldTotalDisplacement = 0, this.maxIterations = n10.MAX_ITERATIONS;
    }
    for (var h10 in l10.prototype = Object.create(i10.prototype), i10) l10[h10] = i10[h10];
    l10.prototype.initParameters = function() {
      i10.prototype.initParameters.call(this, arguments), this.totalIterations = 0, this.notAnimatedIterations = 0, this.useFRGridVariant = n10.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION, this.grid = [];
    }, l10.prototype.calcIdealEdgeLengths = function() {
      for (var t34, e11, r11, i11, o11, s11, l11 = this.getGraphManager().getAllEdges(), h11 = 0; h11 < l11.length; h11++) (t34 = l11[h11]).idealLength = this.idealEdgeLength, t34.isInterGraph && (r11 = t34.getSource(), i11 = t34.getTarget(), o11 = t34.getSourceInLca().getEstimatedSize(), s11 = t34.getTargetInLca().getEstimatedSize(), this.useSmartIdealEdgeLengthCalculation && (t34.idealLength += o11 + s11 - 2 * a10.SIMPLE_NODE_SIZE), e11 = t34.getLca().getInclusionTreeDepth(), t34.idealLength += n10.DEFAULT_EDGE_LENGTH * n10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR * (r11.getInclusionTreeDepth() + i11.getInclusionTreeDepth() - 2 * e11));
    }, l10.prototype.initSpringEmbedder = function() {
      var t34 = this.getAllNodes().length;
      this.incremental ? (t34 > n10.ADAPTATION_LOWER_NODE_LIMIT && (this.coolingFactor = Math.max(this.coolingFactor * n10.COOLING_ADAPTATION_FACTOR, this.coolingFactor - (t34 - n10.ADAPTATION_LOWER_NODE_LIMIT) / (n10.ADAPTATION_UPPER_NODE_LIMIT - n10.ADAPTATION_LOWER_NODE_LIMIT) * this.coolingFactor * (1 - n10.COOLING_ADAPTATION_FACTOR))), this.maxNodeDisplacement = n10.MAX_NODE_DISPLACEMENT_INCREMENTAL) : (t34 > n10.ADAPTATION_LOWER_NODE_LIMIT ? this.coolingFactor = Math.max(n10.COOLING_ADAPTATION_FACTOR, 1 - (t34 - n10.ADAPTATION_LOWER_NODE_LIMIT) / (n10.ADAPTATION_UPPER_NODE_LIMIT - n10.ADAPTATION_LOWER_NODE_LIMIT) * (1 - n10.COOLING_ADAPTATION_FACTOR)) : this.coolingFactor = 1, this.initialCoolingFactor = this.coolingFactor, this.maxNodeDisplacement = n10.MAX_NODE_DISPLACEMENT), this.maxIterations = Math.max(5 * this.getAllNodes().length, this.maxIterations), this.totalDisplacementThreshold = this.displacementThresholdPerNode * this.getAllNodes().length, this.repulsionRange = this.calcRepulsionRange();
    }, l10.prototype.calcSpringForces = function() {
      for (var t34, e11 = this.getAllEdges(), r11 = 0; r11 < e11.length; r11++) t34 = e11[r11], this.calcSpringForce(t34, t34.idealLength);
    }, l10.prototype.calcRepulsionForces = function() {
      var t34, e11, r11, i11, a11, o11 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0], s11 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], l11 = this.getAllNodes();
      if (this.useFRGridVariant) for (this.totalIterations % n10.GRID_CALCULATION_CHECK_PERIOD == 1 && o11 && this.updateGrid(), a11 = /* @__PURE__ */ new Set(), t34 = 0; t34 < l11.length; t34++) r11 = l11[t34], this.calculateRepulsionForceOfANode(r11, a11, o11, s11), a11.add(r11);
      else for (t34 = 0; t34 < l11.length; t34++) for (r11 = l11[t34], e11 = t34 + 1; e11 < l11.length; e11++) i11 = l11[e11], r11.getOwner() == i11.getOwner() && this.calcRepulsionForce(r11, i11);
    }, l10.prototype.calcGravitationalForces = function() {
      for (var t34, e11 = this.getAllNodesToApplyGravitation(), r11 = 0; r11 < e11.length; r11++) t34 = e11[r11], this.calcGravitationalForce(t34);
    }, l10.prototype.moveNodes = function() {
      for (var t34 = this.getAllNodes(), e11 = 0; e11 < t34.length; e11++) t34[e11].move();
    }, l10.prototype.calcSpringForce = function(t34, e11) {
      var r11, i11, n11, a11, o11 = t34.getSource(), s11 = t34.getTarget();
      if (this.uniformLeafNodeSizes && null == o11.getChild() && null == s11.getChild()) t34.updateLengthSimple();
      else if (t34.updateLength(), t34.isOverlapingSourceAndTarget) return;
      0 != (r11 = t34.getLength()) && (n11 = (i11 = this.springConstant * (r11 - e11)) * (t34.lengthX / r11), a11 = i11 * (t34.lengthY / r11), o11.springForceX += n11, o11.springForceY += a11, s11.springForceX -= n11, s11.springForceY -= a11);
    }, l10.prototype.calcRepulsionForce = function(t34, e11) {
      var r11, i11, a11, l11, h11, u10, d10, p10 = t34.getRect(), g10 = e11.getRect(), f10 = [, ,], y10 = [, , , ,];
      if (p10.intersects(g10)) {
        o10.calcSeparationAmount(p10, g10, f10, n10.DEFAULT_EDGE_LENGTH / 2), u10 = 2 * f10[0], d10 = 2 * f10[1];
        var v10 = t34.noOfChildren * e11.noOfChildren / (t34.noOfChildren + e11.noOfChildren);
        t34.repulsionForceX -= v10 * u10, t34.repulsionForceY -= v10 * d10, e11.repulsionForceX += v10 * u10, e11.repulsionForceY += v10 * d10;
      } else this.uniformLeafNodeSizes && null == t34.getChild() && null == e11.getChild() ? (r11 = g10.getCenterX() - p10.getCenterX(), i11 = g10.getCenterY() - p10.getCenterY()) : (o10.getIntersection(p10, g10, y10), r11 = y10[2] - y10[0], i11 = y10[3] - y10[1]), Math.abs(r11) < n10.MIN_REPULSION_DIST && (r11 = s10.sign(r11) * n10.MIN_REPULSION_DIST), Math.abs(i11) < n10.MIN_REPULSION_DIST && (i11 = s10.sign(i11) * n10.MIN_REPULSION_DIST), l11 = Math.sqrt(a11 = r11 * r11 + i11 * i11), u10 = (h11 = this.repulsionConstant * t34.noOfChildren * e11.noOfChildren / a11) * r11 / l11, d10 = h11 * i11 / l11, t34.repulsionForceX -= u10, t34.repulsionForceY -= d10, e11.repulsionForceX += u10, e11.repulsionForceY += d10;
    }, l10.prototype.calcGravitationalForce = function(t34) {
      var e11, r11, i11, n11, a11, o11, s11, l11;
      r11 = ((e11 = t34.getOwner()).getRight() + e11.getLeft()) / 2, i11 = (e11.getTop() + e11.getBottom()) / 2, n11 = t34.getCenterX() - r11, a11 = t34.getCenterY() - i11, o11 = Math.abs(n11) + t34.getWidth() / 2, s11 = Math.abs(a11) + t34.getHeight() / 2, t34.getOwner() == this.graphManager.getRoot() ? (o11 > (l11 = e11.getEstimatedSize() * this.gravityRangeFactor) || s11 > l11) && (t34.gravitationForceX = -this.gravityConstant * n11, t34.gravitationForceY = -this.gravityConstant * a11) : (o11 > (l11 = e11.getEstimatedSize() * this.compoundGravityRangeFactor) || s11 > l11) && (t34.gravitationForceX = -this.gravityConstant * n11 * this.compoundGravityConstant, t34.gravitationForceY = -this.gravityConstant * a11 * this.compoundGravityConstant);
    }, l10.prototype.isConverged = function() {
      var t34, e11 = false;
      return this.totalIterations > this.maxIterations / 3 && (e11 = 2 > Math.abs(this.totalDisplacement - this.oldTotalDisplacement)), t34 = this.totalDisplacement < this.totalDisplacementThreshold, this.oldTotalDisplacement = this.totalDisplacement, t34 || e11;
    }, l10.prototype.animate = function() {
      this.animationDuringLayout && !this.isSubLayout && (this.notAnimatedIterations == this.animationPeriod ? (this.update(), this.notAnimatedIterations = 0) : this.notAnimatedIterations++);
    }, l10.prototype.calcNoOfChildrenForAllNodes = function() {
      for (var t34, e11 = this.graphManager.getAllNodes(), r11 = 0; r11 < e11.length; r11++) (t34 = e11[r11]).noOfChildren = t34.getNoOfChildren();
    }, l10.prototype.calcGrid = function(t34) {
      var e11 = 0, r11 = 0;
      e11 = parseInt(Math.ceil((t34.getRight() - t34.getLeft()) / this.repulsionRange)), r11 = parseInt(Math.ceil((t34.getBottom() - t34.getTop()) / this.repulsionRange));
      for (var i11 = Array(e11), n11 = 0; n11 < e11; n11++) i11[n11] = Array(r11);
      for (var n11 = 0; n11 < e11; n11++) for (var a11 = 0; a11 < r11; a11++) i11[n11][a11] = [];
      return i11;
    }, l10.prototype.addNodeToGrid = function(t34, e11, r11) {
      var i11 = 0, n11 = 0, a11 = 0, o11 = 0;
      i11 = parseInt(Math.floor((t34.getRect().x - e11) / this.repulsionRange)), n11 = parseInt(Math.floor((t34.getRect().width + t34.getRect().x - e11) / this.repulsionRange)), a11 = parseInt(Math.floor((t34.getRect().y - r11) / this.repulsionRange)), o11 = parseInt(Math.floor((t34.getRect().height + t34.getRect().y - r11) / this.repulsionRange));
      for (var s11 = i11; s11 <= n11; s11++) for (var l11 = a11; l11 <= o11; l11++) this.grid[s11][l11].push(t34), t34.setGridCoordinates(i11, n11, a11, o11);
    }, l10.prototype.updateGrid = function() {
      var t34, e11, r11 = this.getAllNodes();
      for (t34 = 0, this.grid = this.calcGrid(this.graphManager.getRoot()); t34 < r11.length; t34++) e11 = r11[t34], this.addNodeToGrid(e11, this.graphManager.getRoot().getLeft(), this.graphManager.getRoot().getTop());
    }, l10.prototype.calculateRepulsionForceOfANode = function(t34, e11, r11, i11) {
      if (this.totalIterations % n10.GRID_CALCULATION_CHECK_PERIOD == 1 && r11 || i11) {
        var a11, o11 = /* @__PURE__ */ new Set();
        t34.surrounding = [];
        for (var s11 = this.grid, l11 = t34.startX - 1; l11 < t34.finishX + 2; l11++) for (var h11 = t34.startY - 1; h11 < t34.finishY + 2; h11++) if (!(l11 < 0 || h11 < 0 || l11 >= s11.length || h11 >= s11[0].length)) {
          for (var u10 = 0; u10 < s11[l11][h11].length; u10++) if (a11 = s11[l11][h11][u10], t34.getOwner() == a11.getOwner() && t34 != a11 && !e11.has(a11) && !o11.has(a11)) {
            var d10 = Math.abs(t34.getCenterX() - a11.getCenterX()) - (t34.getWidth() / 2 + a11.getWidth() / 2), p10 = Math.abs(t34.getCenterY() - a11.getCenterY()) - (t34.getHeight() / 2 + a11.getHeight() / 2);
            d10 <= this.repulsionRange && p10 <= this.repulsionRange && o11.add(a11);
          }
        }
        t34.surrounding = [].concat(function(t35) {
          if (!Array.isArray(t35)) return Array.from(t35);
          for (var e12 = 0, r12 = Array(t35.length); e12 < t35.length; e12++) r12[e12] = t35[e12];
          return r12;
        }(o11));
      }
      for (l11 = 0; l11 < t34.surrounding.length; l11++) this.calcRepulsionForce(t34, t34.surrounding[l11]);
    }, l10.prototype.calcRepulsionRange = function() {
      return 0;
    }, t33.exports = l10;
  }, function(t33, e10, r10) {
    var i10 = r10(1), n10 = r10(7);
    function a10(t34, e11, r11) {
      i10.call(this, t34, e11, r11), this.idealLength = n10.DEFAULT_EDGE_LENGTH;
    }
    for (var o10 in a10.prototype = Object.create(i10.prototype), i10) a10[o10] = i10[o10];
    t33.exports = a10;
  }, function(t33, e10, r10) {
    var i10 = r10(3);
    function n10(t34, e11, r11, n11) {
      i10.call(this, t34, e11, r11, n11), this.springForceX = 0, this.springForceY = 0, this.repulsionForceX = 0, this.repulsionForceY = 0, this.gravitationForceX = 0, this.gravitationForceY = 0, this.displacementX = 0, this.displacementY = 0, this.startX = 0, this.finishX = 0, this.startY = 0, this.finishY = 0, this.surrounding = [];
    }
    for (var a10 in n10.prototype = Object.create(i10.prototype), i10) n10[a10] = i10[a10];
    n10.prototype.setGridCoordinates = function(t34, e11, r11, i11) {
      this.startX = t34, this.finishX = e11, this.startY = r11, this.finishY = i11;
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    function i10(t34, e11) {
      this.width = 0, this.height = 0, null !== t34 && null !== e11 && (this.height = e11, this.width = t34);
    }
    i10.prototype.getWidth = function() {
      return this.width;
    }, i10.prototype.setWidth = function(t34) {
      this.width = t34;
    }, i10.prototype.getHeight = function() {
      return this.height;
    }, i10.prototype.setHeight = function(t34) {
      this.height = t34;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(14);
    function n10() {
      this.map = {}, this.keys = [];
    }
    n10.prototype.put = function(t34, e11) {
      var r11 = i10.createID(t34);
      this.contains(r11) || (this.map[r11] = e11, this.keys.push(t34));
    }, n10.prototype.contains = function(t34) {
      return i10.createID(t34), null != this.map[t34];
    }, n10.prototype.get = function(t34) {
      var e11 = i10.createID(t34);
      return this.map[e11];
    }, n10.prototype.keySet = function() {
      return this.keys;
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = r10(14);
    function n10() {
      this.set = {};
    }
    n10.prototype.add = function(t34) {
      var e11 = i10.createID(t34);
      this.contains(e11) || (this.set[e11] = t34);
    }, n10.prototype.remove = function(t34) {
      delete this.set[i10.createID(t34)];
    }, n10.prototype.clear = function() {
      this.set = {};
    }, n10.prototype.contains = function(t34) {
      return this.set[i10.createID(t34)] == t34;
    }, n10.prototype.isEmpty = function() {
      return 0 === this.size();
    }, n10.prototype.size = function() {
      return Object.keys(this.set).length;
    }, n10.prototype.addAllTo = function(t34) {
      for (var e11 = Object.keys(this.set), r11 = e11.length, i11 = 0; i11 < r11; i11++) t34.push(this.set[e11[i11]]);
    }, n10.prototype.size = function() {
      return Object.keys(this.set).length;
    }, n10.prototype.addAll = function(t34) {
      for (var e11 = t34.length, r11 = 0; r11 < e11; r11++) {
        var i11 = t34[r11];
        this.add(i11);
      }
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = /* @__PURE__ */ function() {
      function t34(t35, e11) {
        for (var r11 = 0; r11 < e11.length; r11++) {
          var i11 = e11[r11];
          i11.enumerable = i11.enumerable || false, i11.configurable = true, "value" in i11 && (i11.writable = true), Object.defineProperty(t35, i11.key, i11);
        }
      }
      return function(e11, r11, i11) {
        return r11 && t34(e11.prototype, r11), i11 && t34(e11, i11), e11;
      };
    }(), n10 = r10(11), a10 = function() {
      function t34(e11, r11) {
        (function(t35, e12) {
          if (!(t35 instanceof e12)) throw TypeError("Cannot call a class as a function");
        })(this, t34), (null !== r11 || void 0 !== r11) && (this.compareFunction = this._defaultCompareFunction);
        var i11 = void 0;
        i11 = e11 instanceof n10 ? e11.size() : e11.length, this._quicksort(e11, 0, i11 - 1);
      }
      return i10(t34, [{ key: "_quicksort", value: function(t35, e11, r11) {
        if (e11 < r11) {
          var i11 = this._partition(t35, e11, r11);
          this._quicksort(t35, e11, i11), this._quicksort(t35, i11 + 1, r11);
        }
      } }, { key: "_partition", value: function(t35, e11, r11) {
        for (var i11 = this._get(t35, e11), n11 = e11, a11 = r11; ; ) {
          for (; this.compareFunction(i11, this._get(t35, a11)); ) a11--;
          for (; this.compareFunction(this._get(t35, n11), i11); ) n11++;
          if (!(n11 < a11)) return a11;
          this._swap(t35, n11, a11), n11++, a11--;
        }
      } }, { key: "_get", value: function(t35, e11) {
        return t35 instanceof n10 ? t35.get_object_at(e11) : t35[e11];
      } }, { key: "_set", value: function(t35, e11, r11) {
        t35 instanceof n10 ? t35.set_object_at(e11, r11) : t35[e11] = r11;
      } }, { key: "_swap", value: function(t35, e11, r11) {
        var i11 = this._get(t35, e11);
        this._set(t35, e11, this._get(t35, r11)), this._set(t35, r11, i11);
      } }, { key: "_defaultCompareFunction", value: function(t35, e11) {
        return e11 > t35;
      } }]), t34;
    }();
    t33.exports = a10;
  }, function(t33, e10, r10) {
    var i10 = /* @__PURE__ */ function() {
      function t34(t35, e11) {
        for (var r11 = 0; r11 < e11.length; r11++) {
          var i11 = e11[r11];
          i11.enumerable = i11.enumerable || false, i11.configurable = true, "value" in i11 && (i11.writable = true), Object.defineProperty(t35, i11.key, i11);
        }
      }
      return function(e11, r11, i11) {
        return r11 && t34(e11.prototype, r11), i11 && t34(e11, i11), e11;
      };
    }(), n10 = function() {
      function t34(e11, r11) {
        var i11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, n11 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : -1, a10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : -1;
        (function(t35, e12) {
          if (!(t35 instanceof e12)) throw TypeError("Cannot call a class as a function");
        })(this, t34), this.sequence1 = e11, this.sequence2 = r11, this.match_score = i11, this.mismatch_penalty = n11, this.gap_penalty = a10, this.iMax = e11.length + 1, this.jMax = r11.length + 1, this.grid = Array(this.iMax);
        for (var o10 = 0; o10 < this.iMax; o10++) {
          this.grid[o10] = Array(this.jMax);
          for (var s10 = 0; s10 < this.jMax; s10++) this.grid[o10][s10] = 0;
        }
        this.tracebackGrid = Array(this.iMax);
        for (var l10 = 0; l10 < this.iMax; l10++) {
          this.tracebackGrid[l10] = Array(this.jMax);
          for (var h10 = 0; h10 < this.jMax; h10++) this.tracebackGrid[l10][h10] = [null, null, null];
        }
        this.alignments = [], this.score = -1, this.computeGrids();
      }
      return i10(t34, [{ key: "getScore", value: function() {
        return this.score;
      } }, { key: "getAlignments", value: function() {
        return this.alignments;
      } }, { key: "computeGrids", value: function() {
        for (var t35 = 1; t35 < this.jMax; t35++) this.grid[0][t35] = this.grid[0][t35 - 1] + this.gap_penalty, this.tracebackGrid[0][t35] = [false, false, true];
        for (var e11 = 1; e11 < this.iMax; e11++) this.grid[e11][0] = this.grid[e11 - 1][0] + this.gap_penalty, this.tracebackGrid[e11][0] = [false, true, false];
        for (var r11 = 1; r11 < this.iMax; r11++) for (var i11 = 1; i11 < this.jMax; i11++) {
          var n11 = [this.sequence1[r11 - 1] === this.sequence2[i11 - 1] ? this.grid[r11 - 1][i11 - 1] + this.match_score : this.grid[r11 - 1][i11 - 1] + this.mismatch_penalty, this.grid[r11 - 1][i11] + this.gap_penalty, this.grid[r11][i11 - 1] + this.gap_penalty], a10 = this.arrayAllMaxIndexes(n11);
          this.grid[r11][i11] = n11[a10[0]], this.tracebackGrid[r11][i11] = [a10.includes(0), a10.includes(1), a10.includes(2)];
        }
        this.score = this.grid[this.iMax - 1][this.jMax - 1];
      } }, { key: "alignmentTraceback", value: function() {
        var t35 = [];
        for (t35.push({ pos: [this.sequence1.length, this.sequence2.length], seq1: "", seq2: "" }); t35[0]; ) {
          var e11 = t35[0], r11 = this.tracebackGrid[e11.pos[0]][e11.pos[1]];
          r11[0] && t35.push({ pos: [e11.pos[0] - 1, e11.pos[1] - 1], seq1: this.sequence1[e11.pos[0] - 1] + e11.seq1, seq2: this.sequence2[e11.pos[1] - 1] + e11.seq2 }), r11[1] && t35.push({ pos: [e11.pos[0] - 1, e11.pos[1]], seq1: this.sequence1[e11.pos[0] - 1] + e11.seq1, seq2: "-" + e11.seq2 }), r11[2] && t35.push({ pos: [e11.pos[0], e11.pos[1] - 1], seq1: "-" + e11.seq1, seq2: this.sequence2[e11.pos[1] - 1] + e11.seq2 }), 0 === e11.pos[0] && 0 === e11.pos[1] && this.alignments.push({ sequence1: e11.seq1, sequence2: e11.seq2 }), t35.shift();
        }
        return this.alignments;
      } }, { key: "getAllIndexes", value: function(t35, e11) {
        for (var r11 = [], i11 = -1; -1 !== (i11 = t35.indexOf(e11, i11 + 1)); ) r11.push(i11);
        return r11;
      } }, { key: "arrayAllMaxIndexes", value: function(t35) {
        return this.getAllIndexes(t35, Math.max.apply(null, t35));
      } }]), t34;
    }();
    t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = function() {
    };
    i10.FDLayout = r10(18), i10.FDLayoutConstants = r10(7), i10.FDLayoutEdge = r10(19), i10.FDLayoutNode = r10(20), i10.DimensionD = r10(21), i10.HashMap = r10(22), i10.HashSet = r10(23), i10.IGeometry = r10(8), i10.IMath = r10(9), i10.Integer = r10(10), i10.Point = r10(12), i10.PointD = r10(4), i10.RandomSeed = r10(16), i10.RectangleD = r10(13), i10.Transform = r10(17), i10.UniqueIDGeneretor = r10(14), i10.Quicksort = r10(24), i10.LinkedList = r10(11), i10.LGraphObject = r10(2), i10.LGraph = r10(5), i10.LEdge = r10(1), i10.LGraphManager = r10(6), i10.LNode = r10(3), i10.Layout = r10(15), i10.LayoutConstants = r10(0), i10.NeedlemanWunsch = r10(25), t33.exports = i10;
  }, function(t33, e10, r10) {
    function i10() {
      this.listeners = [];
    }
    var n10 = i10.prototype;
    n10.addListener = function(t34, e11) {
      this.listeners.push({ event: t34, callback: e11 });
    }, n10.removeListener = function(t34, e11) {
      for (var r11 = this.listeners.length; r11 >= 0; r11--) {
        var i11 = this.listeners[r11];
        i11.event === t34 && i11.callback === e11 && this.listeners.splice(r11, 1);
      }
    }, n10.emit = function(t34, e11) {
      for (var r11 = 0; r11 < this.listeners.length; r11++) {
        var i11 = this.listeners[r11];
        t34 === i11.event && i11.callback(e11);
      }
    }, t33.exports = i10;
  }]);
}, tr7.exports = ry()), tr7.exports))), tr6.exports))), tr3.exports));
var tr9 = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 4], r10 = [1, 13], i10 = [1, 12], n10 = [1, 15], a10 = [1, 16], o10 = [1, 20], s10 = [1, 19], l10 = [6, 7, 8], h10 = [1, 26], u10 = [1, 24], d10 = [1, 25], p10 = [6, 7, 11], g10 = [1, 6, 13, 15, 16, 19, 22], f10 = [1, 33], y10 = [1, 34], v10 = [1, 6, 7, 11, 13, 15, 16, 19, 22], x10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mindMap: 4, spaceLines: 5, SPACELINE: 6, NL: 7, MINDMAP: 8, document: 9, stop: 10, EOF: 11, statement: 12, SPACELIST: 13, node: 14, ICON: 15, CLASS: 16, nodeWithId: 17, nodeWithoutId: 18, NODE_DSTART: 19, NODE_DESCR: 20, NODE_DEND: 21, NODE_ID: 22, $accept: 0, $end: 1 }, terminals_: { 2: "error", 6: "SPACELINE", 7: "NL", 8: "MINDMAP", 11: "EOF", 13: "SPACELIST", 15: "ICON", 16: "CLASS", 19: "NODE_DSTART", 20: "NODE_DESCR", 21: "NODE_DEND", 22: "NODE_ID" }, productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 2], [12, 2], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [18, 3], [17, 1], [17, 4]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 6:
      case 7:
        return i11;
      case 8:
        i11.getLogger().trace("Stop NL ");
        break;
      case 9:
        i11.getLogger().trace("Stop EOF ");
        break;
      case 11:
        i11.getLogger().trace("Stop NL2 ");
        break;
      case 12:
        i11.getLogger().trace("Stop EOF2 ");
        break;
      case 15:
        i11.getLogger().info("Node: ", a11[s11].id), i11.addNode(a11[s11 - 1].length, a11[s11].id, a11[s11].descr, a11[s11].type);
        break;
      case 16:
        i11.getLogger().trace("Icon: ", a11[s11]), i11.decorateNode({ icon: a11[s11] });
        break;
      case 17:
      case 21:
        i11.decorateNode({ class: a11[s11] });
        break;
      case 18:
        i11.getLogger().trace("SPACELIST");
        break;
      case 19:
        i11.getLogger().trace("Node: ", a11[s11].id), i11.addNode(0, a11[s11].id, a11[s11].descr, a11[s11].type);
        break;
      case 20:
        i11.decorateNode({ icon: a11[s11] });
        break;
      case 25:
        i11.getLogger().trace("node found ..", a11[s11 - 2]), this.$ = { id: a11[s11 - 1], descr: a11[s11 - 1], type: i11.getType(a11[s11 - 2], a11[s11]) };
        break;
      case 26:
        this.$ = { id: a11[s11], descr: a11[s11], type: i11.nodeType.DEFAULT };
        break;
      case 27:
        i11.getLogger().trace("node found ..", a11[s11 - 3]), this.$ = { id: a11[s11 - 3], descr: a11[s11 - 1], type: i11.getType(a11[s11 - 2], a11[s11]) };
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: e10 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: e10 }, { 6: r10, 7: [1, 10], 9: 9, 12: 11, 13: i10, 14: 14, 15: n10, 16: a10, 17: 17, 18: 18, 19: o10, 22: s10 }, t33(l10, [2, 3]), { 1: [2, 2] }, t33(l10, [2, 4]), t33(l10, [2, 5]), { 1: [2, 6], 6: r10, 12: 21, 13: i10, 14: 14, 15: n10, 16: a10, 17: 17, 18: 18, 19: o10, 22: s10 }, { 6: r10, 9: 22, 12: 11, 13: i10, 14: 14, 15: n10, 16: a10, 17: 17, 18: 18, 19: o10, 22: s10 }, { 6: h10, 7: u10, 10: 23, 11: d10 }, t33(p10, [2, 22], { 17: 17, 18: 18, 14: 27, 15: [1, 28], 16: [1, 29], 19: o10, 22: s10 }), t33(p10, [2, 18]), t33(p10, [2, 19]), t33(p10, [2, 20]), t33(p10, [2, 21]), t33(p10, [2, 23]), t33(p10, [2, 24]), t33(p10, [2, 26], { 19: [1, 30] }), { 20: [1, 31] }, { 6: h10, 7: u10, 10: 32, 11: d10 }, { 1: [2, 7], 6: r10, 12: 21, 13: i10, 14: 14, 15: n10, 16: a10, 17: 17, 18: 18, 19: o10, 22: s10 }, t33(g10, [2, 14], { 7: f10, 11: y10 }), t33(v10, [2, 8]), t33(v10, [2, 9]), t33(v10, [2, 10]), t33(p10, [2, 15]), t33(p10, [2, 16]), t33(p10, [2, 17]), { 20: [1, 35] }, { 21: [1, 36] }, t33(g10, [2, 13], { 7: f10, 11: y10 }), t33(v10, [2, 11]), t33(v10, [2, 12]), { 21: [1, 37] }, t33(p10, [2, 25]), t33(p10, [2, 27])], defaultActions: { 2: [2, 1], 6: [2, 2] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k10, _10, T10, E10, C10, S10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A10 = "";
        for (_10 in C10 = [], o11[b11]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C10 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[w11[1]][1], S10.$ = n11[n11.length - T10], S10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k10 = this.performAction.apply(S10, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), n11 = n11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[w11[1]][0]), n11.push(S10.$), a11.push(S10._$), E10 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, b10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return t34.getLogger().trace("Found comment", e11.yytext), 6;
      case 1:
        return 8;
      case 2:
        this.begin("CLASS");
        break;
      case 3:
        return this.popState(), 16;
      case 4:
      case 23:
      case 26:
        this.popState();
        break;
      case 5:
        t34.getLogger().trace("Begin icon"), this.begin("ICON");
        break;
      case 6:
        return t34.getLogger().trace("SPACELINE"), 6;
      case 7:
        return 7;
      case 8:
        return 15;
      case 9:
        t34.getLogger().trace("end icon"), this.popState();
        break;
      case 10:
        return t34.getLogger().trace("Exploding node"), this.begin("NODE"), 19;
      case 11:
        return t34.getLogger().trace("Cloud"), this.begin("NODE"), 19;
      case 12:
        return t34.getLogger().trace("Explosion Bang"), this.begin("NODE"), 19;
      case 13:
        return t34.getLogger().trace("Cloud Bang"), this.begin("NODE"), 19;
      case 14:
      case 15:
      case 16:
      case 17:
        return this.begin("NODE"), 19;
      case 18:
        return 13;
      case 19:
        return 22;
      case 20:
        return 11;
      case 21:
        this.begin("NSTR2");
        break;
      case 22:
        return "NODE_DESCR";
      case 24:
        t34.getLogger().trace("Starting NSTR"), this.begin("NSTR");
        break;
      case 25:
        return t34.getLogger().trace("description:", e11.yytext), "NODE_DESCR";
      case 27:
        return this.popState(), t34.getLogger().trace("node end ))"), "NODE_DEND";
      case 28:
        return this.popState(), t34.getLogger().trace("node end )"), "NODE_DEND";
      case 29:
        return this.popState(), t34.getLogger().trace("node end ...", e11.yytext), "NODE_DEND";
      case 30:
      case 33:
      case 34:
        return this.popState(), t34.getLogger().trace("node end (("), "NODE_DEND";
      case 31:
      case 32:
        return this.popState(), t34.getLogger().trace("node end (-"), "NODE_DEND";
      case 35:
      case 36:
        return t34.getLogger().trace("Long description:", e11.yytext), 20;
    }
  }, "anonymous"), rules: [/^(?:\s*%%.*)/i, /^(?:mindmap\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\n)/i, /^(?:::icon\()/i, /^(?:[\s]+[\n])/i, /^(?:[\n]+)/i, /^(?:[^\)]+)/i, /^(?:\))/i, /^(?:-\))/i, /^(?:\(-)/i, /^(?:\)\))/i, /^(?:\))/i, /^(?:\(\()/i, /^(?:\{\{)/i, /^(?:\()/i, /^(?:\[)/i, /^(?:[\s]+)/i, /^(?:[^\(\[\n\)\{\}]+)/i, /^(?:$)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:[^"]+)/i, /^(?:["])/i, /^(?:[\)]\))/i, /^(?:[\)])/i, /^(?:[\]])/i, /^(?:\}\})/i, /^(?:\(-)/i, /^(?:-\))/i, /^(?:\(\()/i, /^(?:\()/i, /^(?:[^\)\]\(\}]+)/i, /^(?:.+(?!\(\())/i], conditions: { CLASS: { rules: [3, 4], inclusive: false }, ICON: { rules: [8, 9], inclusive: false }, NSTR2: { rules: [22, 23], inclusive: false }, NSTR: { rules: [25, 26], inclusive: false }, NODE: { rules: [21, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], inclusive: false }, INITIAL: { rules: [0, 1, 2, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], inclusive: true } } };
  function w10() {
    this.yy = {};
  }
  return x10.lexer = b10, iZ(w10, "Parser"), w10.prototype = x10, x10.Parser = w10, new w10();
}();
tr9.parser = tr9;
var tit = [], tie = 0, tir = {}, tii = iZ(() => {
  tit = [], tie = 0, tir = {};
}, "clear"), tin = iZ(function(t33) {
  for (let e10 = tit.length - 1; e10 >= 0; e10--) if (tit[e10].level < t33) return tit[e10];
  return null;
}, "getParent"), tia = iZ(() => tit.length > 0 ? tit[0] : null, "getMindmap"), tio = iZ((t33, e10, r10, i10) => {
  var n10, a10, o10, s10;
  i0.info("addNode", t33, e10, r10, i10);
  let l10 = nM(), h10 = null !== (o10 = null === (n10 = l10.mindmap) || void 0 === n10 ? void 0 : n10.padding) && void 0 !== o10 ? o10 : ny.mindmap.padding;
  switch (i10) {
    case tis.ROUNDED_RECT:
    case tis.RECT:
    case tis.HEXAGON:
      h10 *= 2;
  }
  let u10 = { id: tie++, nodeId: nj(e10, l10), level: t33, descr: nj(r10, l10), type: i10, children: [], width: null !== (s10 = null === (a10 = l10.mindmap) || void 0 === a10 ? void 0 : a10.maxNodeWidth) && void 0 !== s10 ? s10 : ny.mindmap.maxNodeWidth, padding: h10 }, d10 = tin(t33);
  if (d10) d10.children.push(u10), tit.push(u10);
  else if (0 === tit.length) tit.push(u10);
  else throw Error('There can be only one root. No parent could be found for ("' + u10.descr + '")');
}, "addNode"), tis = { DEFAULT: 0, NO_BORDER: 0, ROUNDED_RECT: 1, RECT: 2, CIRCLE: 3, CLOUD: 4, BANG: 5, HEXAGON: 6 }, til = iZ((t33, e10) => {
  switch (i0.debug("In get type", t33, e10), t33) {
    case "[":
      return tis.RECT;
    case "(":
      return ")" === e10 ? tis.ROUNDED_RECT : tis.CLOUD;
    case "((":
      return tis.CIRCLE;
    case ")":
      return tis.CLOUD;
    case "))":
      return tis.BANG;
    case "{{":
      return tis.HEXAGON;
    default:
      return tis.DEFAULT;
  }
}, "getType"), tih = iZ((t33, e10) => {
  tir[t33] = e10;
}, "setElementForId"), tic = iZ((t33) => {
  if (!t33) return;
  let e10 = nM(), r10 = tit[tit.length - 1];
  t33.icon && (r10.icon = nj(t33.icon, e10)), t33.class && (r10.class = nj(t33.class, e10));
}, "decorateNode"), tiu = iZ((t33) => {
  switch (t33) {
    case tis.DEFAULT:
      return "no-border";
    case tis.RECT:
      return "rect";
    case tis.ROUNDED_RECT:
      return "rounded-rect";
    case tis.CIRCLE:
      return "circle";
    case tis.CLOUD:
      return "cloud";
    case tis.BANG:
      return "bang";
    case tis.HEXAGON:
      return "hexgon";
    default:
      return "no-border";
  }
}, "type2Str"), tid = iZ(() => i0, "getLogger"), tip = iZ((t33) => tir[t33], "getElementById"), tig = iZ(function(t33, e10, r10, i10) {
  e10.append("path").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + t33.type2Str(r10.type)).attr("d", `M0 ${r10.height - 5} v${-r10.height + 10} q0,-5 5,-5 h${r10.width - 10} q5,0 5,5 v${r10.height - 5} H0 Z`), e10.append("line").attr("class", "node-line-" + i10).attr("x1", 0).attr("y1", r10.height).attr("x2", r10.width).attr("y2", r10.height);
}, "defaultBkg"), tif = iZ(function(t33, e10, r10) {
  e10.append("rect").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + t33.type2Str(r10.type)).attr("height", r10.height).attr("width", r10.width);
}, "rectBkg"), tim = iZ(function(t33, e10, r10) {
  let i10 = r10.width, n10 = r10.height, a10 = 0.15 * i10, o10 = 0.25 * i10, s10 = 0.35 * i10, l10 = 0.2 * i10;
  e10.append("path").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + t33.type2Str(r10.type)).attr("d", `M0 0 a${a10},${a10} 0 0,1 ${0.25 * i10},${-1 * i10 * 0.1}
      a${s10},${s10} 1 0,1 ${0.4 * i10},${-1 * i10 * 0.1}
      a${o10},${o10} 1 0,1 ${0.35 * i10},${1 * i10 * 0.2}

      a${a10},${a10} 1 0,1 ${0.15 * i10},${1 * n10 * 0.35}
      a${l10},${l10} 1 0,1 ${-1 * i10 * 0.15},${1 * n10 * 0.65}

      a${o10},${a10} 1 0,1 ${-1 * i10 * 0.25},${0.15 * i10}
      a${s10},${s10} 1 0,1 ${-1 * i10 * 0.5},0
      a${a10},${a10} 1 0,1 ${-1 * i10 * 0.25},${-1 * i10 * 0.15}

      a${a10},${a10} 1 0,1 ${-1 * i10 * 0.1},${-1 * n10 * 0.35}
      a${l10},${l10} 1 0,1 ${0.1 * i10},${-1 * n10 * 0.65}

    H0 V0 Z`);
}, "cloudBkg"), tiy = iZ(function(t33, e10, r10) {
  let i10 = r10.width, n10 = r10.height, a10 = 0.15 * i10;
  e10.append("path").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + t33.type2Str(r10.type)).attr("d", `M0 0 a${a10},${a10} 1 0,0 ${0.25 * i10},${-1 * n10 * 0.1}
      a${a10},${a10} 1 0,0 ${0.25 * i10},0
      a${a10},${a10} 1 0,0 ${0.25 * i10},0
      a${a10},${a10} 1 0,0 ${0.25 * i10},${1 * n10 * 0.1}

      a${a10},${a10} 1 0,0 ${0.15 * i10},${1 * n10 * 0.33}
      a${0.8 * a10},${0.8 * a10} 1 0,0 0,${1 * n10 * 0.34}
      a${a10},${a10} 1 0,0 ${-1 * i10 * 0.15},${1 * n10 * 0.33}

      a${a10},${a10} 1 0,0 ${-1 * i10 * 0.25},${0.15 * n10}
      a${a10},${a10} 1 0,0 ${-1 * i10 * 0.25},0
      a${a10},${a10} 1 0,0 ${-1 * i10 * 0.25},0
      a${a10},${a10} 1 0,0 ${-1 * i10 * 0.25},${-1 * n10 * 0.15}

      a${a10},${a10} 1 0,0 ${-1 * i10 * 0.1},${-1 * n10 * 0.33}
      a${0.8 * a10},${0.8 * a10} 1 0,0 0,${-1 * n10 * 0.34}
      a${a10},${a10} 1 0,0 ${0.1 * i10},${-1 * n10 * 0.33}

    H0 V0 Z`);
}, "bangBkg"), tiv = iZ(function(t33, e10, r10) {
  e10.append("circle").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + t33.type2Str(r10.type)).attr("r", r10.width / 2);
}, "circleBkg");
function tix(t33, e10, r10, i10, n10) {
  return t33.insert("polygon", ":first-child").attr("points", i10.map(function(t34) {
    return t34.x + "," + t34.y;
  }).join(" ")).attr("transform", "translate(" + (n10.width - e10) / 2 + ", " + r10 + ")");
}
iZ(tix, "insertPolygonShape");
var tib = iZ(function(t33, e10, r10) {
  let i10 = r10.height, n10 = i10 / 4, a10 = r10.width - r10.padding + 2 * n10, o10 = [{ x: n10, y: 0 }, { x: a10 - n10, y: 0 }, { x: a10, y: -i10 / 2 }, { x: a10 - n10, y: -i10 }, { x: n10, y: -i10 }, { x: 0, y: -i10 / 2 }];
  tix(e10, a10, i10, o10, r10);
}, "hexagonBkg"), tiw = iZ(function(t33, e10, r10) {
  e10.append("rect").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + t33.type2Str(r10.type)).attr("height", r10.height).attr("rx", r10.padding).attr("ry", r10.padding).attr("width", r10.width);
}, "roundedRectBkg"), tik = iZ(async function(t33, e10, r10, i10, n10) {
  let a10 = n10.htmlLabels, o10 = i10 % 11, s10 = e10.append("g");
  r10.section = o10;
  let l10 = "section-" + o10;
  o10 < 0 && (l10 += " section-root"), s10.attr("class", (r10.class ? r10.class + " " : "") + "mindmap-node " + l10);
  let h10 = s10.append("g"), u10 = s10.append("g"), d10 = r10.descr.replace(/(<br\/*>)/g, "\n");
  await fH(u10, d10, { useHtmlLabels: a10, width: r10.width, classes: "mindmap-node-label" }, n10), a10 || u10.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle");
  let p10 = u10.node().getBBox(), [g10] = gk(n10.fontSize);
  if (r10.height = p10.height + 0.55 * g10 + r10.padding, r10.width = p10.width + 2 * r10.padding, r10.icon) {
    if (r10.type === t33.nodeType.CIRCLE) r10.height += 50, r10.width += 50, s10.append("foreignObject").attr("height", "50px").attr("width", r10.width).attr("style", "text-align: center;").append("div").attr("class", "icon-container").append("i").attr("class", "node-icon-" + o10 + " " + r10.icon), u10.attr("transform", "translate(" + r10.width / 2 + ", " + (r10.height / 2 - 1.5 * r10.padding) + ")");
    else {
      r10.width += 50;
      let t34 = r10.height;
      r10.height = Math.max(t34, 60);
      let e11 = Math.abs(r10.height - t34);
      s10.append("foreignObject").attr("width", "60px").attr("height", r10.height).attr("style", "text-align: center;margin-top:" + e11 / 2 + "px;").append("div").attr("class", "icon-container").append("i").attr("class", "node-icon-" + o10 + " " + r10.icon), u10.attr("transform", "translate(" + (25 + r10.width / 2) + ", " + (e11 / 2 + r10.padding / 2) + ")");
    }
  } else if (a10) {
    let t34 = (r10.width - p10.width) / 2, e11 = (r10.height - p10.height) / 2;
    u10.attr("transform", "translate(" + t34 + ", " + e11 + ")");
  } else {
    let t34 = r10.width / 2, e11 = r10.padding / 2;
    u10.attr("transform", "translate(" + t34 + ", " + e11 + ")");
  }
  switch (r10.type) {
    case t33.nodeType.DEFAULT:
      tig(t33, h10, r10, o10);
      break;
    case t33.nodeType.ROUNDED_RECT:
      tiw(t33, h10, r10, o10);
      break;
    case t33.nodeType.RECT:
      tif(t33, h10, r10, o10);
      break;
    case t33.nodeType.CIRCLE:
      h10.attr("transform", "translate(" + r10.width / 2 + ", " + +r10.height / 2 + ")"), tiv(t33, h10, r10, o10);
      break;
    case t33.nodeType.CLOUD:
      tim(t33, h10, r10, o10);
      break;
    case t33.nodeType.BANG:
      tiy(t33, h10, r10, o10);
      break;
    case t33.nodeType.HEXAGON:
      tib(t33, h10, r10, o10);
  }
  return t33.setElementForId(r10.id, s10), r10.height;
}, "drawNode"), ti_ = iZ(function(t33, e10) {
  let r10 = t33.getElementById(e10.id), i10 = e10.x || 0, n10 = e10.y || 0;
  r10.attr("transform", "translate(" + i10 + "," + n10 + ")");
}, "positionNode");
async function tiT(t33, e10, r10, i10, n10) {
  await tik(t33, e10, r10, i10, n10), r10.children && await Promise.all(r10.children.map((r11, a10) => tiT(t33, e10, r11, i10 < 0 ? a10 : i10, n10)));
}
function tiE(t33, e10) {
  e10.edges().map((e11, r10) => {
    let i10 = e11.data();
    if (e11[0]._private.bodyBounds) {
      let n10 = e11[0]._private.rscratch;
      i0.trace("Edge: ", r10, i10), t33.insert("path").attr("d", `M ${n10.startX},${n10.startY} L ${n10.midX},${n10.midY} L${n10.endX},${n10.endY} `).attr("class", "edge section-edge-" + i10.section + " edge-depth-" + i10.depth);
    }
  });
}
function tiC(t33, e10, r10, i10) {
  e10.add({ group: "nodes", data: { id: t33.id.toString(), labelText: t33.descr, height: t33.height, width: t33.width, level: i10, nodeId: t33.id, padding: t33.padding, type: t33.type }, position: { x: t33.x, y: t33.y } }), t33.children && t33.children.forEach((n10) => {
    tiC(n10, e10, r10, i10 + 1), e10.add({ group: "edges", data: { id: `${t33.id}_${n10.id}`, source: t33.id, target: n10.id, depth: i10, section: n10.section } });
  });
}
function tiS(t33, e10) {
  return new Promise((r10) => {
    let i10 = hl("body").append("div").attr("id", "cy").attr("style", "display:none"), n10 = tr5({ container: document.getElementById("cy"), style: [{ selector: "edge", style: { "curve-style": "bezier" } }] });
    i10.remove(), tiC(t33, n10, e10, 0), n10.nodes().forEach(function(t34) {
      t34.layoutDimensions = () => {
        let e11 = t34.data();
        return { w: e11.width, h: e11.height };
      };
    }), n10.layout({ name: "cose-bilkent", quality: "proof", styleEnabled: false, animate: false }).run(), n10.ready((t34) => {
      i0.info("Ready", t34), r10(n10);
    });
  });
}
function tiA(t33, e10) {
  e10.nodes().map((e11, r10) => {
    let i10 = e11.data();
    i10.x = e11.position().x, i10.y = e11.position().y, ti_(t33, i10);
    let n10 = t33.getElementById(i10.nodeId);
    i0.info("Id:", r10, "Position: (", e11.position().x, ", ", e11.position().y, ")", i10), n10.attr("transform", `translate(${e11.position().x - i10.width / 2}, ${e11.position().y - i10.height / 2})`), n10.attr("attr", `apa-${r10})`);
  });
}
tr5.use(tr8), iZ(tiT, "drawNodes"), iZ(tiE, "drawEdges"), iZ(tiC, "addNodes"), iZ(tiS, "layoutMindmap"), iZ(tiA, "positionNodes");
var tiL = iZ(async (t33, e10, r10, i10) => {
  var n10, a10, o10, s10;
  i0.debug("Rendering mindmap diagram\n" + t33);
  let l10 = i10.db, h10 = l10.getMindmap();
  if (!h10) return;
  let u10 = nM();
  u10.htmlLabels = false;
  let d10 = vW(e10), p10 = d10.append("g");
  p10.attr("class", "mindmap-edges");
  let g10 = d10.append("g");
  g10.attr("class", "mindmap-nodes"), await tiT(l10, g10, h10, -1, u10);
  let f10 = await tiS(h10, u10);
  tiE(p10, f10), tiA(l10, f10), aa(void 0, d10, null !== (o10 = null === (n10 = u10.mindmap) || void 0 === n10 ? void 0 : n10.padding) && void 0 !== o10 ? o10 : ny.mindmap.padding, null !== (s10 = null === (a10 = u10.mindmap) || void 0 === a10 ? void 0 : a10.useMaxWidth) && void 0 !== s10 ? s10 : ny.mindmap.useMaxWidth);
}, "draw"), tiN = iZ((t33) => {
  let e10 = "";
  for (let e11 = 0; e11 < t33.THEME_COLOR_LIMIT; e11++) t33["lineColor" + e11] = t33["lineColor" + e11] || t33["cScaleInv" + e11], r0(t33["lineColor" + e11]) ? t33["lineColor" + e11] = r2(t33["lineColor" + e11], 20) : t33["lineColor" + e11] = r4(t33["lineColor" + e11], 20);
  for (let r10 = 0; r10 < t33.THEME_COLOR_LIMIT; r10++) {
    let i10 = "" + (17 - 3 * r10);
    e10 += `
    .section-${r10 - 1} rect, .section-${r10 - 1} path, .section-${r10 - 1} circle, .section-${r10 - 1} polygon, .section-${r10 - 1} path  {
      fill: ${t33["cScale" + r10]};
    }
    .section-${r10 - 1} text {
     fill: ${t33["cScaleLabel" + r10]};
    }
    .node-icon-${r10 - 1} {
      font-size: 40px;
      color: ${t33["cScaleLabel" + r10]};
    }
    .section-edge-${r10 - 1}{
      stroke: ${t33["cScale" + r10]};
    }
    .edge-depth-${r10 - 1}{
      stroke-width: ${i10};
    }
    .section-${r10 - 1} line {
      stroke: ${t33["cScaleInv" + r10]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `;
  }
  return e10;
}, "genSections");
let tiI = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { db: { clear: tii, addNode: tio, getMindmap: tia, nodeType: tis, getType: til, setElementForId: tih, decorateNode: tic, type2Str: tiu, getLogger: tid, getElementById: tip }, renderer: { draw: tiL }, parser: tr9, styles: iZ((t33) => `
  .edge {
    stroke-width: 3;
  }
  ${tiN(t33)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t33.git0};
  }
  .section-root text {
    fill: ${t33.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
var tiM = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 4], r10 = [1, 13], i10 = [1, 12], n10 = [1, 15], a10 = [1, 16], o10 = [1, 20], s10 = [1, 19], l10 = [6, 7, 8], h10 = [1, 26], u10 = [1, 24], d10 = [1, 25], p10 = [6, 7, 11], g10 = [1, 31], f10 = [6, 7, 11, 24], y10 = [1, 6, 13, 16, 17, 20, 23], v10 = [1, 35], x10 = [1, 36], b10 = [1, 6, 7, 11, 13, 16, 17, 20, 23], w10 = [1, 38], k10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mindMap: 4, spaceLines: 5, SPACELINE: 6, NL: 7, KANBAN: 8, document: 9, stop: 10, EOF: 11, statement: 12, SPACELIST: 13, node: 14, shapeData: 15, ICON: 16, CLASS: 17, nodeWithId: 18, nodeWithoutId: 19, NODE_DSTART: 20, NODE_DESCR: 21, NODE_DEND: 22, NODE_ID: 23, SHAPE_DATA: 24, $accept: 0, $end: 1 }, terminals_: { 2: "error", 6: "SPACELINE", 7: "NL", 8: "KANBAN", 11: "EOF", 13: "SPACELIST", 16: "ICON", 17: "CLASS", 20: "NODE_DSTART", 21: "NODE_DESCR", 22: "NODE_DEND", 23: "NODE_ID", 24: "SHAPE_DATA" }, productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 3], [12, 2], [12, 2], [12, 2], [12, 1], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [19, 3], [18, 1], [18, 4], [15, 2], [15, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 6:
      case 7:
        return i11;
      case 8:
        i11.getLogger().trace("Stop NL ");
        break;
      case 9:
        i11.getLogger().trace("Stop EOF ");
        break;
      case 11:
        i11.getLogger().trace("Stop NL2 ");
        break;
      case 12:
        i11.getLogger().trace("Stop EOF2 ");
        break;
      case 15:
        i11.getLogger().info("Node: ", a11[s11 - 1].id), i11.addNode(a11[s11 - 2].length, a11[s11 - 1].id, a11[s11 - 1].descr, a11[s11 - 1].type, a11[s11]);
        break;
      case 16:
        i11.getLogger().info("Node: ", a11[s11].id), i11.addNode(a11[s11 - 1].length, a11[s11].id, a11[s11].descr, a11[s11].type);
        break;
      case 17:
        i11.getLogger().trace("Icon: ", a11[s11]), i11.decorateNode({ icon: a11[s11] });
        break;
      case 18:
      case 23:
        i11.decorateNode({ class: a11[s11] });
        break;
      case 19:
        i11.getLogger().trace("SPACELIST");
        break;
      case 20:
        i11.getLogger().trace("Node: ", a11[s11 - 1].id), i11.addNode(0, a11[s11 - 1].id, a11[s11 - 1].descr, a11[s11 - 1].type, a11[s11]);
        break;
      case 21:
        i11.getLogger().trace("Node: ", a11[s11].id), i11.addNode(0, a11[s11].id, a11[s11].descr, a11[s11].type);
        break;
      case 22:
        i11.decorateNode({ icon: a11[s11] });
        break;
      case 27:
        i11.getLogger().trace("node found ..", a11[s11 - 2]), this.$ = { id: a11[s11 - 1], descr: a11[s11 - 1], type: i11.getType(a11[s11 - 2], a11[s11]) };
        break;
      case 28:
        this.$ = { id: a11[s11], descr: a11[s11], type: 0 };
        break;
      case 29:
        i11.getLogger().trace("node found ..", a11[s11 - 3]), this.$ = { id: a11[s11 - 3], descr: a11[s11 - 1], type: i11.getType(a11[s11 - 2], a11[s11]) };
        break;
      case 30:
        this.$ = a11[s11 - 1] + a11[s11];
        break;
      case 31:
        this.$ = a11[s11];
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: e10 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: e10 }, { 6: r10, 7: [1, 10], 9: 9, 12: 11, 13: i10, 14: 14, 16: n10, 17: a10, 18: 17, 19: 18, 20: o10, 23: s10 }, t33(l10, [2, 3]), { 1: [2, 2] }, t33(l10, [2, 4]), t33(l10, [2, 5]), { 1: [2, 6], 6: r10, 12: 21, 13: i10, 14: 14, 16: n10, 17: a10, 18: 17, 19: 18, 20: o10, 23: s10 }, { 6: r10, 9: 22, 12: 11, 13: i10, 14: 14, 16: n10, 17: a10, 18: 17, 19: 18, 20: o10, 23: s10 }, { 6: h10, 7: u10, 10: 23, 11: d10 }, t33(p10, [2, 24], { 18: 17, 19: 18, 14: 27, 16: [1, 28], 17: [1, 29], 20: o10, 23: s10 }), t33(p10, [2, 19]), t33(p10, [2, 21], { 15: 30, 24: g10 }), t33(p10, [2, 22]), t33(p10, [2, 23]), t33(f10, [2, 25]), t33(f10, [2, 26]), t33(f10, [2, 28], { 20: [1, 32] }), { 21: [1, 33] }, { 6: h10, 7: u10, 10: 34, 11: d10 }, { 1: [2, 7], 6: r10, 12: 21, 13: i10, 14: 14, 16: n10, 17: a10, 18: 17, 19: 18, 20: o10, 23: s10 }, t33(y10, [2, 14], { 7: v10, 11: x10 }), t33(b10, [2, 8]), t33(b10, [2, 9]), t33(b10, [2, 10]), t33(p10, [2, 16], { 15: 37, 24: g10 }), t33(p10, [2, 17]), t33(p10, [2, 18]), t33(p10, [2, 20], { 24: w10 }), t33(f10, [2, 31]), { 21: [1, 39] }, { 22: [1, 40] }, t33(y10, [2, 13], { 7: v10, 11: x10 }), t33(b10, [2, 11]), t33(b10, [2, 12]), t33(p10, [2, 15], { 24: w10 }), t33(f10, [2, 30]), { 22: [1, 41] }, t33(f10, [2, 27]), t33(f10, [2, 29])], defaultActions: { 2: [2, 1], 6: [2, 2] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w11, k11, _11, T11, E10, C10, S10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w11 = o11[b11] && o11[b11][x11]), void 0 === w11 || !w11.length || !w11[0]) {
        var A10 = "";
        for (_11 in C10 = [], o11[b11]) this.terminals_[_11] && _11 > 2 && C10.push("'" + this.terminals_[_11] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C10 });
      }
      if (w11[0] instanceof Array && w11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w11[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w11[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[w11[1]][1], S10.$ = n11[n11.length - T11], S10._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S10._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k11 = this.performAction.apply(S10, [s11, h11, l11, p11.yy, w11[1], n11, a11].concat(u11)))) return k11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), n11 = n11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[w11[1]][0]), n11.push(S10.$), a11.push(S10._$), E10 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, _10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return this.pushState("shapeData"), e11.yytext = "", 24;
      case 1:
        return this.pushState("shapeDataStr"), 24;
      case 2:
        return this.popState(), 24;
      case 3:
        return e11.yytext = e11.yytext.replace(/\n\s*/g, "<br/>"), 24;
      case 4:
        return 24;
      case 5:
      case 10:
      case 29:
      case 32:
        this.popState();
        break;
      case 6:
        return t34.getLogger().trace("Found comment", e11.yytext), 6;
      case 7:
        return 8;
      case 8:
        this.begin("CLASS");
        break;
      case 9:
        return this.popState(), 17;
      case 11:
        t34.getLogger().trace("Begin icon"), this.begin("ICON");
        break;
      case 12:
        return t34.getLogger().trace("SPACELINE"), 6;
      case 13:
        return 7;
      case 14:
        return 16;
      case 15:
        t34.getLogger().trace("end icon"), this.popState();
        break;
      case 16:
        return t34.getLogger().trace("Exploding node"), this.begin("NODE"), 20;
      case 17:
        return t34.getLogger().trace("Cloud"), this.begin("NODE"), 20;
      case 18:
        return t34.getLogger().trace("Explosion Bang"), this.begin("NODE"), 20;
      case 19:
        return t34.getLogger().trace("Cloud Bang"), this.begin("NODE"), 20;
      case 20:
      case 21:
      case 22:
      case 23:
        return this.begin("NODE"), 20;
      case 24:
        return 13;
      case 25:
        return 23;
      case 26:
        return 11;
      case 27:
        this.begin("NSTR2");
        break;
      case 28:
        return "NODE_DESCR";
      case 30:
        t34.getLogger().trace("Starting NSTR"), this.begin("NSTR");
        break;
      case 31:
        return t34.getLogger().trace("description:", e11.yytext), "NODE_DESCR";
      case 33:
        return this.popState(), t34.getLogger().trace("node end ))"), "NODE_DEND";
      case 34:
        return this.popState(), t34.getLogger().trace("node end )"), "NODE_DEND";
      case 35:
        return this.popState(), t34.getLogger().trace("node end ...", e11.yytext), "NODE_DEND";
      case 36:
      case 39:
      case 40:
        return this.popState(), t34.getLogger().trace("node end (("), "NODE_DEND";
      case 37:
      case 38:
        return this.popState(), t34.getLogger().trace("node end (-"), "NODE_DEND";
      case 41:
      case 42:
        return t34.getLogger().trace("Long description:", e11.yytext), 21;
    }
  }, "anonymous"), rules: [/^(?:@\{)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^\"]+)/i, /^(?:[^}^"]+)/i, /^(?:\})/i, /^(?:\s*%%.*)/i, /^(?:kanban\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\n)/i, /^(?:::icon\()/i, /^(?:[\s]+[\n])/i, /^(?:[\n]+)/i, /^(?:[^\)]+)/i, /^(?:\))/i, /^(?:-\))/i, /^(?:\(-)/i, /^(?:\)\))/i, /^(?:\))/i, /^(?:\(\()/i, /^(?:\{\{)/i, /^(?:\()/i, /^(?:\[)/i, /^(?:[\s]+)/i, /^(?:[^\(\[\n\)\{\}@]+)/i, /^(?:$)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:[^"]+)/i, /^(?:["])/i, /^(?:[\)]\))/i, /^(?:[\)])/i, /^(?:[\]])/i, /^(?:\}\})/i, /^(?:\(-)/i, /^(?:-\))/i, /^(?:\(\()/i, /^(?:\()/i, /^(?:[^\)\]\(\}]+)/i, /^(?:.+(?!\(\())/i], conditions: { shapeDataEndBracket: { rules: [], inclusive: false }, shapeDataStr: { rules: [2, 3], inclusive: false }, shapeData: { rules: [1, 4, 5], inclusive: false }, CLASS: { rules: [9, 10], inclusive: false }, ICON: { rules: [14, 15], inclusive: false }, NSTR2: { rules: [28, 29], inclusive: false }, NSTR: { rules: [31, 32], inclusive: false }, NODE: { rules: [27, 30, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42], inclusive: false }, INITIAL: { rules: [0, 6, 7, 8, 11, 12, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26], inclusive: true } } };
  function T10() {
    this.yy = {};
  }
  return k10.lexer = _10, iZ(T10, "Parser"), T10.prototype = k10, k10.Parser = T10, new T10();
}();
tiM.parser = tiM;
var tiR = [], tiD = [], tiO = 0, tiP = {}, ti$ = iZ(() => {
  tiR = [], tiD = [], tiO = 0, tiP = {};
}, "clear"), tiB = iZ((t33) => {
  if (0 === tiR.length) return null;
  let e10 = tiR[0].level, r10 = null;
  for (let t34 = tiR.length - 1; t34 >= 0; t34--) if (tiR[t34].level !== e10 || r10 || (r10 = tiR[t34]), tiR[t34].level < e10) throw Error('Items without section detected, found section ("' + tiR[t34].label + '")');
  return t33 === (null == r10 ? void 0 : r10.level) ? null : r10;
}, "getSection"), tiF = iZ(function() {
  return tiD;
}, "getSections"), tiz = iZ(function() {
  let t33 = [], e10 = tiF(), r10 = nM();
  for (let a10 of e10) {
    var i10, n10;
    let e11 = { id: a10.id, label: nj(null !== (i10 = a10.label) && void 0 !== i10 ? i10 : "", r10), isGroup: true, ticket: a10.ticket, shape: "kanbanSection", level: a10.level, look: r10.look };
    for (let i11 of (t33.push(e11), tiR.filter((t34) => t34.parentId === a10.id))) {
      let e12 = { id: i11.id, parentId: a10.id, label: nj(null !== (n10 = i11.label) && void 0 !== n10 ? n10 : "", r10), isGroup: false, ticket: null == i11 ? void 0 : i11.ticket, priority: null == i11 ? void 0 : i11.priority, assigned: null == i11 ? void 0 : i11.assigned, icon: null == i11 ? void 0 : i11.icon, shape: "kanbanItem", level: i11.level, rx: 5, ry: 5, cssStyles: ["text-align: left"] };
      t33.push(e12);
    }
  }
  return { nodes: t33, edges: [], other: {}, config: nM() };
}, "getData"), tiU = iZ((t33, e10, r10, i10, n10) => {
  var a10, o10, s10, l10;
  let h10 = nM(), u10 = null !== (s10 = null === (a10 = h10.mindmap) || void 0 === a10 ? void 0 : a10.padding) && void 0 !== s10 ? s10 : ny.mindmap.padding;
  switch (i10) {
    case tiG.ROUNDED_RECT:
    case tiG.RECT:
    case tiG.HEXAGON:
      u10 *= 2;
  }
  let d10 = { id: nj(e10, h10) || "kbn" + tiO++, level: t33, label: nj(r10, h10), width: null !== (l10 = null === (o10 = h10.mindmap) || void 0 === o10 ? void 0 : o10.maxNodeWidth) && void 0 !== l10 ? l10 : ny.mindmap.maxNodeWidth, padding: u10, isGroup: false };
  if (void 0 !== n10) {
    let t34 = su(n10.includes("\n") ? n10 + "\n" : "{\n" + n10 + "\n}", { schema: oi });
    if (t34.shape && (t34.shape !== t34.shape.toLowerCase() || t34.shape.includes("_"))) throw Error(`No such shape: ${t34.shape}. Shape names should be lowercase.`);
    (null == t34 ? void 0 : t34.shape) && "kanbanItem" === t34.shape && (d10.shape = null == t34 ? void 0 : t34.shape), (null == t34 ? void 0 : t34.label) && (d10.label = null == t34 ? void 0 : t34.label), (null == t34 ? void 0 : t34.icon) && (d10.icon = null == t34 ? void 0 : t34.icon.toString()), (null == t34 ? void 0 : t34.assigned) && (d10.assigned = null == t34 ? void 0 : t34.assigned.toString()), (null == t34 ? void 0 : t34.ticket) && (d10.ticket = null == t34 ? void 0 : t34.ticket.toString()), (null == t34 ? void 0 : t34.priority) && (d10.priority = null == t34 ? void 0 : t34.priority);
  }
  let p10 = tiB(t33);
  p10 ? d10.parentId = p10.id || "kbn" + tiO++ : tiD.push(d10), tiR.push(d10);
}, "addNode"), tiG = { DEFAULT: 0, NO_BORDER: 0, ROUNDED_RECT: 1, RECT: 2, CIRCLE: 3, CLOUD: 4, BANG: 5, HEXAGON: 6 }, tiq = iZ((t33, e10) => {
  switch (i0.debug("In get type", t33, e10), t33) {
    case "[":
      return tiG.RECT;
    case "(":
      return ")" === e10 ? tiG.ROUNDED_RECT : tiG.CLOUD;
    case "((":
      return tiG.CIRCLE;
    case ")":
      return tiG.CLOUD;
    case "))":
      return tiG.BANG;
    case "{{":
      return tiG.HEXAGON;
    default:
      return tiG.DEFAULT;
  }
}, "getType"), tiY = iZ((t33, e10) => {
  tiP[t33] = e10;
}, "setElementForId"), tiH = iZ((t33) => {
  if (!t33) return;
  let e10 = nM(), r10 = tiR[tiR.length - 1];
  t33.icon && (r10.icon = nj(t33.icon, e10)), t33.class && (r10.cssClasses = nj(t33.class, e10));
}, "decorateNode"), tij = iZ((t33) => {
  switch (t33) {
    case tiG.DEFAULT:
      return "no-border";
    case tiG.RECT:
      return "rect";
    case tiG.ROUNDED_RECT:
      return "rounded-rect";
    case tiG.CIRCLE:
      return "circle";
    case tiG.CLOUD:
      return "cloud";
    case tiG.BANG:
      return "bang";
    case tiG.HEXAGON:
      return "hexgon";
    default:
      return "no-border";
  }
}, "type2Str"), tiW = iZ(() => i0, "getLogger"), tiV = iZ((t33) => tiP[t33], "getElementById"), tiX = iZ(async (t33, e10, r10, i10) => {
  var n10, a10, o10, s10, l10, h10, u10;
  i0.debug("Rendering kanban diagram\n" + t33);
  let d10 = i10.db.getData(), p10 = nM();
  p10.htmlLabels = false;
  let g10 = vW(e10), f10 = g10.append("g");
  f10.attr("class", "sections");
  let y10 = g10.append("g");
  y10.attr("class", "items");
  let v10 = d10.nodes.filter((t34) => t34.isGroup), x10 = 0, b10 = [], w10 = 25;
  for (let t34 of v10) {
    let e11 = (null == p10 ? void 0 : null === (o10 = p10.kanban) || void 0 === o10 ? void 0 : o10.sectionWidth) || 200;
    x10 += 1, t34.x = e11 * x10 + (x10 - 1) * 10 / 2, t34.width = e11, t34.y = 0, t34.height = 3 * e11, t34.rx = 5, t34.ry = 5, t34.cssClasses = t34.cssClasses + " section-" + x10;
    let r11 = await mZ(f10, t34);
    w10 = Math.max(w10, null == r11 ? void 0 : null === (s10 = r11.labelBBox) || void 0 === s10 ? void 0 : s10.height), b10.push(r11);
  }
  let k10 = 0;
  for (let t34 of v10) {
    let e11 = b10[k10];
    k10 += 1;
    let r11 = (null == p10 ? void 0 : null === (l10 = p10.kanban) || void 0 === l10 ? void 0 : l10.sectionWidth) || 200, i11 = -(3 * r11) / 2 + w10, n11 = i11;
    for (let e12 of d10.nodes.filter((e13) => e13.parentId === t34.id)) {
      if (e12.isGroup) throw Error("Groups within groups are not allowed in Kanban diagrams");
      e12.x = t34.x, e12.width = r11 - 15;
      let i12 = (await vg(y10, e12, { config: p10 })).node().getBBox();
      e12.y = n11 + i12.height / 2, await vy(e12), n11 = e12.y + i12.height / 2 + 5;
    }
    let a11 = e11.cluster.select("rect"), o11 = Math.max(n11 - i11 + 30, 50) + (w10 - 25);
    a11.attr("height", o11);
  }
  aa(void 0, g10, null !== (h10 = null === (n10 = p10.mindmap) || void 0 === n10 ? void 0 : n10.padding) && void 0 !== h10 ? h10 : ny.kanban.padding, null !== (u10 = null === (a10 = p10.mindmap) || void 0 === a10 ? void 0 : a10.useMaxWidth) && void 0 !== u10 ? u10 : ny.kanban.useMaxWidth);
}, "draw"), tiK = iZ((t33) => {
  let e10 = "";
  for (let e11 = 0; e11 < t33.THEME_COLOR_LIMIT; e11++) t33["lineColor" + e11] = t33["lineColor" + e11] || t33["cScaleInv" + e11], r0(t33["lineColor" + e11]) ? t33["lineColor" + e11] = r2(t33["lineColor" + e11], 20) : t33["lineColor" + e11] = r4(t33["lineColor" + e11], 20);
  let r10 = iZ((e11, r11) => t33.darkMode ? r4(e11, r11) : r2(e11, r11), "adjuster");
  for (let i10 = 0; i10 < t33.THEME_COLOR_LIMIT; i10++) {
    let n10 = "" + (17 - 3 * i10);
    e10 += `
    .section-${i10 - 1} rect, .section-${i10 - 1} path, .section-${i10 - 1} circle, .section-${i10 - 1} polygon, .section-${i10 - 1} path  {
      fill: ${r10(t33["cScale" + i10], 10)};
      stroke: ${r10(t33["cScale" + i10], 10)};

    }
    .section-${i10 - 1} text {
     fill: ${t33["cScaleLabel" + i10]};
    }
    .node-icon-${i10 - 1} {
      font-size: 40px;
      color: ${t33["cScaleLabel" + i10]};
    }
    .section-edge-${i10 - 1}{
      stroke: ${t33["cScale" + i10]};
    }
    .edge-depth-${i10 - 1}{
      stroke-width: ${n10};
    }
    .section-${i10 - 1} line {
      stroke: ${t33["cScaleInv" + i10]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t33.background};
    stroke: ${t33.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${t33.background};
    stroke: ${t33.nodeBorder};
    text-decoration: underline;
  }
    `;
  }
  return e10;
}, "genSections");
let tiZ = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { db: { clear: ti$, addNode: tiU, getSections: tiF, getData: tiz, nodeType: tiG, getType: tiq, setElementForId: tiY, decorateNode: tiH, type2Str: tij, getLogger: tiW, getElementById: tiV }, renderer: { draw: tiX }, parser: tiM, styles: iZ((t33) => `
  .edge {
    stroke-width: 3;
  }
  ${tiK(t33)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t33.git0};
  }
  .section-root text {
    fill: ${t33.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${t33.textColor};
    fill: ${t33.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
function tiQ(t33, e10) {
  let r10;
  if (void 0 === e10) for (let e11 of t33) null != e11 && (r10 < e11 || void 0 === r10 && e11 >= e11) && (r10 = e11);
  else {
    let i10 = -1;
    for (let n10 of t33) null != (n10 = e10(n10, ++i10, t33)) && (r10 < n10 || void 0 === r10 && n10 >= n10) && (r10 = n10);
  }
  return r10;
}
function tiJ(t33, e10) {
  let r10;
  if (void 0 === e10) for (let e11 of t33) null != e11 && (r10 > e11 || void 0 === r10 && e11 >= e11) && (r10 = e11);
  else {
    let i10 = -1;
    for (let n10 of t33) null != (n10 = e10(n10, ++i10, t33)) && (r10 > n10 || void 0 === r10 && n10 >= n10) && (r10 = n10);
  }
  return r10;
}
function ti0(t33, e10) {
  let r10 = 0;
  if (void 0 === e10) for (let e11 of t33) (e11 = +e11) && (r10 += e11);
  else {
    let i10 = -1;
    for (let n10 of t33) (n10 = +e10(n10, ++i10, t33)) && (r10 += n10);
  }
  return r10;
}
function ti1(t33) {
  return t33.target.depth;
}
function ti2(t33, e10) {
  return t33.sourceLinks.length ? t33.depth : e10 - 1;
}
function ti4(t33) {
  return function() {
    return t33;
  };
}
function ti5(t33, e10) {
  return ti6(t33.source, e10.source) || t33.index - e10.index;
}
function ti3(t33, e10) {
  return ti6(t33.target, e10.target) || t33.index - e10.index;
}
function ti6(t33, e10) {
  return t33.y0 - e10.y0;
}
function ti7(t33) {
  return t33.value;
}
function ti8(t33) {
  return t33.index;
}
function ti9(t33) {
  return t33.nodes;
}
function tnt(t33) {
  return t33.links;
}
function tne(t33, e10) {
  let r10 = t33.get(e10);
  if (!r10) throw Error("missing: " + e10);
  return r10;
}
function tnr(t33) {
  let { nodes: e10 } = t33;
  for (let t34 of e10) {
    let e11 = t34.y0, r10 = e11;
    for (let r11 of t34.sourceLinks) r11.y0 = e11 + r11.width / 2, e11 += r11.width;
    for (let e12 of t34.targetLinks) e12.y1 = r10 + e12.width / 2, r10 += e12.width;
  }
}
var tni = Math.PI, tnn = 2 * tni, tna = tnn - 1e-6;
function tno() {
  this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "";
}
function tns() {
  return new tno();
}
function tnl(t33) {
  return function() {
    return t33;
  };
}
function tnh(t33) {
  return t33[0];
}
function tnc(t33) {
  return t33[1];
}
tno.prototype = tns.prototype = { constructor: tno, moveTo: function(t33, e10) {
  this._ += "M" + (this._x0 = this._x1 = +t33) + "," + (this._y0 = this._y1 = +e10);
}, closePath: function() {
  null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z");
}, lineTo: function(t33, e10) {
  this._ += "L" + (this._x1 = +t33) + "," + (this._y1 = +e10);
}, quadraticCurveTo: function(t33, e10, r10, i10) {
  this._ += "Q" + +t33 + "," + +e10 + "," + (this._x1 = +r10) + "," + (this._y1 = +i10);
}, bezierCurveTo: function(t33, e10, r10, i10, n10, a10) {
  this._ += "C" + +t33 + "," + +e10 + "," + +r10 + "," + +i10 + "," + (this._x1 = +n10) + "," + (this._y1 = +a10);
}, arcTo: function(t33, e10, r10, i10, n10) {
  t33 = +t33, e10 = +e10, r10 = +r10, i10 = +i10, n10 = +n10;
  var a10 = this._x1, o10 = this._y1, s10 = r10 - t33, l10 = i10 - e10, h10 = a10 - t33, u10 = o10 - e10, d10 = h10 * h10 + u10 * u10;
  if (n10 < 0) throw Error("negative radius: " + n10);
  if (null === this._x1) this._ += "M" + (this._x1 = t33) + "," + (this._y1 = e10);
  else if (d10 > 1e-6) {
    if (Math.abs(u10 * s10 - l10 * h10) > 1e-6 && n10) {
      var p10 = r10 - a10, g10 = i10 - o10, f10 = s10 * s10 + l10 * l10, y10 = Math.sqrt(f10), v10 = Math.sqrt(d10), x10 = n10 * Math.tan((tni - Math.acos((f10 + d10 - (p10 * p10 + g10 * g10)) / (2 * y10 * v10))) / 2), b10 = x10 / v10, w10 = x10 / y10;
      Math.abs(b10 - 1) > 1e-6 && (this._ += "L" + (t33 + b10 * h10) + "," + (e10 + b10 * u10)), this._ += "A" + n10 + "," + n10 + ",0,0," + +(u10 * p10 > h10 * g10) + "," + (this._x1 = t33 + w10 * s10) + "," + (this._y1 = e10 + w10 * l10);
    } else this._ += "L" + (this._x1 = t33) + "," + (this._y1 = e10);
  }
}, arc: function(t33, e10, r10, i10, n10, a10) {
  t33 = +t33, e10 = +e10, r10 = +r10, a10 = !!a10;
  var o10 = r10 * Math.cos(i10), s10 = r10 * Math.sin(i10), l10 = t33 + o10, h10 = e10 + s10, u10 = 1 ^ a10, d10 = a10 ? i10 - n10 : n10 - i10;
  if (r10 < 0) throw Error("negative radius: " + r10);
  null === this._x1 ? this._ += "M" + l10 + "," + h10 : (Math.abs(this._x1 - l10) > 1e-6 || Math.abs(this._y1 - h10) > 1e-6) && (this._ += "L" + l10 + "," + h10), r10 && (d10 < 0 && (d10 = d10 % tnn + tnn), d10 > tna ? this._ += "A" + r10 + "," + r10 + ",0,1," + u10 + "," + (t33 - o10) + "," + (e10 - s10) + "A" + r10 + "," + r10 + ",0,1," + u10 + "," + (this._x1 = l10) + "," + (this._y1 = h10) : d10 > 1e-6 && (this._ += "A" + r10 + "," + r10 + ",0," + +(d10 >= tni) + "," + u10 + "," + (this._x1 = t33 + r10 * Math.cos(n10)) + "," + (this._y1 = e10 + r10 * Math.sin(n10))));
}, rect: function(t33, e10, r10, i10) {
  this._ += "M" + (this._x0 = this._x1 = +t33) + "," + (this._y0 = this._y1 = +e10) + "h" + +r10 + "v" + +i10 + "h" + -r10 + "Z";
}, toString: function() {
  return this._;
} };
var tnu = Array.prototype.slice;
function tnd(t33) {
  return t33.source;
}
function tnp(t33) {
  return t33.target;
}
function tng(t33, e10, r10, i10, n10) {
  t33.moveTo(e10, r10), t33.bezierCurveTo(e10 = (e10 + i10) / 2, r10, e10, n10, i10, n10);
}
function tnf(t33) {
  return [t33.source.x1, t33.y0];
}
function tnm(t33) {
  return [t33.target.x0, t33.y1];
}
var tny = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 9], r10 = [1, 10], i10 = [1, 5, 10, 12], n10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, SANKEY: 4, NEWLINE: 5, csv: 6, opt_eof: 7, record: 8, csv_tail: 9, EOF: 10, "field[source]": 11, COMMA: 12, "field[target]": 13, "field[value]": 14, field: 15, escaped: 16, non_escaped: 17, DQUOTE: 18, ESCAPED_TEXT: 19, NON_ESCAPED_TEXT: 20, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SANKEY", 5: "NEWLINE", 10: "EOF", 11: "field[source]", 12: "COMMA", 13: "field[target]", 14: "field[value]", 18: "DQUOTE", 19: "ESCAPED_TEXT", 20: "NON_ESCAPED_TEXT" }, productions_: [0, [3, 4], [6, 2], [9, 2], [9, 0], [7, 1], [7, 0], [8, 5], [15, 1], [15, 1], [16, 3], [17, 1]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s10 = a11.length - 1;
    switch (n11) {
      case 7:
        let l10 = i11.findOrCreateNode(a11[s10 - 4].trim().replaceAll('""', '"')), h10 = i11.findOrCreateNode(a11[s10 - 2].trim().replaceAll('""', '"')), u10 = parseFloat(a11[s10].trim());
        i11.addLink(l10, h10, u10);
        break;
      case 8:
      case 9:
      case 11:
        this.$ = a11[s10];
        break;
      case 10:
        this.$ = a11[s10 - 1];
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, { 5: [1, 3] }, { 6: 4, 8: 5, 15: 6, 16: 7, 17: 8, 18: e10, 20: r10 }, { 1: [2, 6], 7: 11, 10: [1, 12] }, t33(r10, [2, 4], { 9: 13, 5: [1, 14] }), { 12: [1, 15] }, t33(i10, [2, 8]), t33(i10, [2, 9]), { 19: [1, 16] }, t33(i10, [2, 11]), { 1: [2, 1] }, { 1: [2, 5] }, t33(r10, [2, 2]), { 6: 17, 8: 5, 15: 6, 16: 7, 17: 8, 18: e10, 20: r10 }, { 15: 18, 16: 7, 17: 8, 18: e10, 20: r10 }, { 18: [1, 19] }, t33(r10, [2, 3]), { 12: [1, 20] }, t33(i10, [2, 10]), { 15: 21, 16: 7, 17: 8, 18: e10, 20: r10 }, t33([1, 5, 10], [2, 7])], defaultActions: { 11: [2, 1], 12: [2, 5] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s10 = "", l10 = 0, h10 = 0, u10 = a11.slice.call(arguments, 1), d10 = Object.create(this.lexer), p10 = { yy: {} };
    for (var g10 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g10) && (p10.yy[g10] = this.yy[g10]);
    d10.setInput(t34, p10.yy), p10.yy.lexer = d10, p10.yy.parser = this, void 0 === d10.yylloc && (d10.yylloc = {});
    var f10 = d10.yylloc;
    a11.push(f10);
    var y10 = d10.options && d10.options.ranges;
    function v10() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d10.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p10.yy.parseError ? this.parseError = p10.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v10, "lex");
    for (var x10, b10, w10, k10, _10, T10, E10, C10, S10 = {}; ; ) {
      if (b10 = r11[r11.length - 1], this.defaultActions[b10] ? w10 = this.defaultActions[b10] : (null == x10 && (x10 = v10()), w10 = o11[b10] && o11[b10][x10]), void 0 === w10 || !w10.length || !w10[0]) {
        var A10 = "";
        for (_10 in C10 = [], o11[b10]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d10.showPosition ? "Parse error on line " + (l10 + 1) + ":\n" + d10.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x10] || x10) + "'" : "Parse error on line " + (l10 + 1) + ": Unexpected " + (1 == x10 ? "end of input" : "'" + (this.terminals_[x10] || x10) + "'"), this.parseError(A10, { text: d10.match, token: this.terminals_[x10] || x10, line: d10.yylineno, loc: f10, expected: C10 });
      }
      if (w10[0] instanceof Array && w10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b10 + ", token: " + x10);
      switch (w10[0]) {
        case 1:
          r11.push(x10), n11.push(d10.yytext), a11.push(d10.yylloc), r11.push(w10[1]), x10 = null, h10 = d10.yyleng, s10 = d10.yytext, l10 = d10.yylineno, f10 = d10.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[w10[1]][1], S10.$ = n11[n11.length - T10], S10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y10 && (S10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k10 = this.performAction.apply(S10, [s10, h10, l10, p10.yy, w10[1], n11, a11].concat(u10)))) return k10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), n11 = n11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[w10[1]][0]), n11.push(S10.$), a11.push(S10._$), E10 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, a10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return this.pushState("csv"), 4;
      case 1:
        return 10;
      case 2:
        return 5;
      case 3:
        return 12;
      case 4:
        return this.pushState("escaped_text"), 18;
      case 5:
        return 20;
      case 6:
        return this.popState("escaped_text"), 18;
      case 7:
        return 19;
    }
  }, "anonymous"), rules: [/^(?:sankey-beta\b)/i, /^(?:$)/i, /^(?:((\u000D\u000A)|(\u000A)))/i, /^(?:(\u002C))/i, /^(?:(\u0022))/i, /^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i, /^(?:(\u0022)(?!(\u0022)))/i, /^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i], conditions: { csv: { rules: [1, 2, 3, 4, 5, 6, 7], inclusive: false }, escaped_text: { rules: [6, 7], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7], inclusive: true } } };
  function o10() {
    this.yy = {};
  }
  return n10.lexer = a10, iZ(o10, "Parser"), o10.prototype = n10, n10.Parser = o10, new o10();
}();
tny.parser = tny;
var tnv = [], tnx = [], tnb = /* @__PURE__ */ new Map(), tnw = iZ(() => {
  tnv = [], tnx = [], tnb = /* @__PURE__ */ new Map(), ag();
}, "clear"), tnk = (_L2 = class {
  constructor(t33, e10, r10 = 0) {
    this.source = t33, this.target = e10, this.value = r10;
  }
}, _n40 = new WeakMap(), __privateAdd(_L2, _n40, iZ(_L2, "SankeyLink")), _L2), tn_ = iZ((t33, e10, r10) => {
  tnv.push(new tnk(t33, e10, r10));
}, "addLink"), tnT = (_M2 = class {
  constructor(t33) {
    this.ID = t33;
  }
}, _n41 = new WeakMap(), __privateAdd(_M2, _n41, iZ(_M2, "SankeyNode")), _M2), tnE = iZ((t33) => {
  t33 = ae.sanitizeText(t33, nM());
  let e10 = tnb.get(t33);
  return void 0 === e10 && (e10 = new tnT(t33), tnb.set(t33, e10), tnx.push(e10)), e10;
}, "findOrCreateNode"), tnC = iZ(() => tnx, "getNodes"), tnS = iZ(() => tnv, "getLinks"), tnA = iZ(() => ({ nodes: tnx.map((t33) => ({ id: t33.ID })), links: tnv.map((t33) => ({ source: t33.source.ID, target: t33.target.ID, value: t33.value })) }), "getGraph"), tnL = { nodesMap: tnb, getConfig: iZ(() => nM().sankey, "getConfig"), getNodes: tnC, getLinks: tnS, getGraph: tnA, addLink: tn_, findOrCreateNode: tnE, getAccTitle: am, setAccTitle: af, getAccDescription: av, setAccDescription: ay, getDiagramTitle: ab, setDiagramTitle: ax, clear: tnw }, tnN = (_N2 = class {
  static next(e10) {
    return new _N2(e10 + ++_N2.count);
  }
  constructor(t33) {
    this.id = t33, this.href = `#${t33}`;
  }
  toString() {
    return "url(" + this.href + ")";
  }
}, _n42 = new WeakMap(), _l3 = new WeakMap(), __privateAdd(_N2, _n42, iZ(_N2, "Uid")), __privateAdd(_N2, _l3, _N2.count = 0), _N2), tnI = { left: function(t33) {
  return t33.depth;
}, right: function(t33, e10) {
  return e10 - 1 - t33.height;
}, center: function(t33) {
  return t33.targetLinks.length ? t33.depth : t33.sourceLinks.length ? tiJ(t33.sourceLinks, ti1) - 1 : 0;
}, justify: ti2 }, tnM = iZ(function(t33, e10, r10, i10) {
  var n10, a10, o10, s10, l10, h10, u10, d10;
  let p10, g10;
  let { securityLevel: f10, sankey: y10 } = nM(), v10 = nk.sankey;
  "sandbox" === f10 && (p10 = hl("#i" + e10));
  let x10 = "sandbox" === f10 ? hl(p10.nodes()[0].contentDocument.body) : hl("body"), b10 = "sandbox" === f10 ? x10.select(`[id="${e10}"]`) : hl(`[id="${e10}"]`), w10 = null !== (n10 = null == y10 ? void 0 : y10.width) && void 0 !== n10 ? n10 : v10.width, k10 = null !== (a10 = null == y10 ? void 0 : y10.height) && void 0 !== a10 ? a10 : v10.width, _10 = null !== (o10 = null == y10 ? void 0 : y10.useMaxWidth) && void 0 !== o10 ? o10 : v10.useMaxWidth, T10 = null !== (s10 = null == y10 ? void 0 : y10.nodeAlignment) && void 0 !== s10 ? s10 : v10.nodeAlignment, E10 = null !== (l10 = null == y10 ? void 0 : y10.prefix) && void 0 !== l10 ? l10 : v10.prefix, C10 = null !== (h10 = null == y10 ? void 0 : y10.suffix) && void 0 !== h10 ? h10 : v10.suffix, S10 = null !== (u10 = null == y10 ? void 0 : y10.showValues) && void 0 !== u10 ? u10 : v10.showValues, A10 = i10.db.getGraph(), L10 = tnI[T10];
  (function() {
    let t34, e11, r11 = 0, i11 = 0, n11 = 1, a11 = 1, o11 = 24, s11 = 8, l11, h11 = ti8, u11 = ti2, d11 = ti9, p11 = tnt, g11 = 6;
    function f11() {
      let f12 = { nodes: d11.apply(null, arguments), links: p11.apply(null, arguments) };
      return function(t35) {
        let { nodes: r12, links: i12 } = t35;
        for (let [t36, e12] of r12.entries()) e12.index = t36, e12.sourceLinks = [], e12.targetLinks = [];
        let n12 = new Map(r12.map((t36, e12) => [h11(t36, e12, r12), t36]));
        for (let [t36, e12] of i12.entries()) {
          e12.index = t36;
          let { source: r13, target: i13 } = e12;
          "object" != typeof r13 && (r13 = e12.source = tne(n12, r13)), "object" != typeof i13 && (i13 = e12.target = tne(n12, i13)), r13.sourceLinks.push(e12), i13.targetLinks.push(e12);
        }
        if (null != e11) for (let { sourceLinks: t36, targetLinks: i13 } of r12) t36.sort(e11), i13.sort(e11);
      }(f12), function(t35) {
        let { nodes: e12 } = t35;
        for (let t36 of e12) t36.value = void 0 === t36.fixedValue ? Math.max(ti0(t36.sourceLinks, ti7), ti0(t36.targetLinks, ti7)) : t36.fixedValue;
      }(f12), function(t35) {
        let { nodes: e12 } = t35, r12 = e12.length, i12 = new Set(e12), n12 = /* @__PURE__ */ new Set(), a12 = 0;
        for (; i12.size; ) {
          for (let t36 of i12) for (let { target: e13 } of (t36.depth = a12, t36.sourceLinks)) n12.add(e13);
          if (++a12 > r12) throw Error("circular link");
          i12 = n12, n12 = /* @__PURE__ */ new Set();
        }
      }(f12), function(t35) {
        let { nodes: e12 } = t35, r12 = e12.length, i12 = new Set(e12), n12 = /* @__PURE__ */ new Set(), a12 = 0;
        for (; i12.size; ) {
          for (let t36 of i12) for (let { source: e13 } of (t36.height = a12, t36.targetLinks)) n12.add(e13);
          if (++a12 > r12) throw Error("circular link");
          i12 = n12, n12 = /* @__PURE__ */ new Set();
        }
      }(f12), function(h12) {
        let d12 = function(e12) {
          let { nodes: i12 } = e12, a12 = tiQ(i12, (t35) => t35.depth) + 1, s12 = (n11 - r11 - o11) / (a12 - 1), l12 = Array(a12);
          for (let t35 of i12) {
            let e13 = Math.max(0, Math.min(a12 - 1, Math.floor(u11.call(null, t35, a12))));
            t35.layer = e13, t35.x0 = r11 + e13 * s12, t35.x1 = t35.x0 + o11, l12[e13] ? l12[e13].push(t35) : l12[e13] = [t35];
          }
          if (t34) for (let e13 of l12) e13.sort(t34);
          return l12;
        }(h12);
        l11 = Math.min(s11, (a11 - i11) / (tiQ(d12, (t35) => t35.length) - 1)), function(t35) {
          let r12 = tiJ(t35, (t36) => (a11 - i11 - (t36.length - 1) * l11) / ti0(t36, ti7));
          for (let n12 of t35) {
            let t36 = i11;
            for (let e12 of n12) for (let i12 of (e12.y0 = t36, e12.y1 = t36 + e12.value * r12, t36 = e12.y1 + l11, e12.sourceLinks)) i12.width = i12.value * r12;
            t36 = (a11 - t36 + l11) / (n12.length + 1);
            for (let e12 = 0; e12 < n12.length; ++e12) {
              let r13 = n12[e12];
              r13.y0 += t36 * (e12 + 1), r13.y1 += t36 * (e12 + 1);
            }
            (function(t37) {
              if (void 0 === e11) for (let { sourceLinks: e12, targetLinks: r13 } of t37) e12.sort(ti3), r13.sort(ti5);
            })(n12);
          }
        }(d12);
        for (let e12 = 0; e12 < g11; ++e12) {
          let r12 = Math.pow(0.99, e12), i12 = Math.max(1 - r12, (e12 + 1) / g11);
          (function(e13, r13, i13) {
            for (let n12 = e13.length, a12 = n12 - 2; a12 >= 0; --a12) {
              let n13 = e13[a12];
              for (let t35 of n13) {
                let e14 = 0, i14 = 0;
                for (let { target: r14, value: n15 } of t35.sourceLinks) {
                  let a13 = n15 * (r14.layer - t35.layer);
                  e14 += function(t36, e15) {
                    let r15 = e15.y0 - (e15.targetLinks.length - 1) * l11 / 2;
                    for (let { source: i15, width: n16 } of e15.targetLinks) {
                      if (i15 === t36) break;
                      r15 += n16 + l11;
                    }
                    for (let { target: i15, width: n16 } of t36.sourceLinks) {
                      if (i15 === e15) break;
                      r15 -= n16;
                    }
                    return r15;
                  }(t35, r14) * a13, i14 += a13;
                }
                if (!(i14 > 0)) continue;
                let n14 = (e14 / i14 - t35.y0) * r13;
                t35.y0 += n14, t35.y1 += n14, b11(t35);
              }
              void 0 === t34 && n13.sort(ti6), y11(n13, i13);
            }
          })(d12, r12, i12), function(e13, r13, i13) {
            for (let n12 = 1, a12 = e13.length; n12 < a12; ++n12) {
              let a13 = e13[n12];
              for (let t35 of a13) {
                let e14 = 0, i14 = 0;
                for (let { source: r14, value: n14 } of t35.targetLinks) {
                  let a14 = n14 * (t35.layer - r14.layer);
                  e14 += function(t36, e15) {
                    let r15 = t36.y0 - (t36.sourceLinks.length - 1) * l11 / 2;
                    for (let { target: i15, width: n15 } of t36.sourceLinks) {
                      if (i15 === e15) break;
                      r15 += n15 + l11;
                    }
                    for (let { source: i15, width: n15 } of e15.targetLinks) {
                      if (i15 === t36) break;
                      r15 -= n15;
                    }
                    return r15;
                  }(r14, t35) * a14, i14 += a14;
                }
                if (!(i14 > 0)) continue;
                let n13 = (e14 / i14 - t35.y0) * r13;
                t35.y0 += n13, t35.y1 += n13, b11(t35);
              }
              void 0 === t34 && a13.sort(ti6), y11(a13, i13);
            }
          }(d12, r12, i12);
        }
      }(f12), tnr(f12), f12;
    }
    function y11(t35, e12) {
      let r12 = t35.length >> 1, n12 = t35[r12];
      x11(t35, n12.y0 - l11, r12 - 1, e12), v11(t35, n12.y1 + l11, r12 + 1, e12), x11(t35, a11, t35.length - 1, e12), v11(t35, i11, 0, e12);
    }
    function v11(t35, e12, r12, i12) {
      for (; r12 < t35.length; ++r12) {
        let n12 = t35[r12], a12 = (e12 - n12.y0) * i12;
        a12 > 1e-6 && (n12.y0 += a12, n12.y1 += a12), e12 = n12.y1 + l11;
      }
    }
    function x11(t35, e12, r12, i12) {
      for (; r12 >= 0; --r12) {
        let n12 = t35[r12], a12 = (n12.y1 - e12) * i12;
        a12 > 1e-6 && (n12.y0 -= a12, n12.y1 -= a12), e12 = n12.y0 - l11;
      }
    }
    function b11(t35) {
      let { sourceLinks: r12, targetLinks: i12 } = t35;
      if (void 0 === e11) {
        for (let { source: { sourceLinks: t36 } } of i12) t36.sort(ti3);
        for (let { target: { targetLinks: t36 } } of r12) t36.sort(ti5);
      }
    }
    return f11.update = function(t35) {
      return tnr(t35), t35;
    }, f11.nodeId = function(t35) {
      return arguments.length ? (h11 = "function" == typeof t35 ? t35 : ti4(t35), f11) : h11;
    }, f11.nodeAlign = function(t35) {
      return arguments.length ? (u11 = "function" == typeof t35 ? t35 : ti4(t35), f11) : u11;
    }, f11.nodeSort = function(e12) {
      return arguments.length ? (t34 = e12, f11) : t34;
    }, f11.nodeWidth = function(t35) {
      return arguments.length ? (o11 = +t35, f11) : o11;
    }, f11.nodePadding = function(t35) {
      return arguments.length ? (s11 = l11 = +t35, f11) : s11;
    }, f11.nodes = function(t35) {
      return arguments.length ? (d11 = "function" == typeof t35 ? t35 : ti4(t35), f11) : d11;
    }, f11.links = function(t35) {
      return arguments.length ? (p11 = "function" == typeof t35 ? t35 : ti4(t35), f11) : p11;
    }, f11.linkSort = function(t35) {
      return arguments.length ? (e11 = t35, f11) : e11;
    }, f11.size = function(t35) {
      return arguments.length ? (r11 = i11 = 0, n11 = +t35[0], a11 = +t35[1], f11) : [n11 - r11, a11 - i11];
    }, f11.extent = function(t35) {
      return arguments.length ? (r11 = +t35[0][0], n11 = +t35[1][0], i11 = +t35[0][1], a11 = +t35[1][1], f11) : [[r11, i11], [n11, a11]];
    }, f11.iterations = function(t35) {
      return arguments.length ? (g11 = +t35, f11) : g11;
    }, f11;
  })().nodeId((t34) => t34.id).nodeWidth(10).nodePadding(10 + (S10 ? 15 : 0)).nodeAlign(L10).extent([[0, 0], [w10, k10]])(A10);
  let N10 = ui(d4);
  b10.append("g").attr("class", "nodes").selectAll(".node").data(A10.nodes).join("g").attr("class", "node").attr("id", (t34) => (t34.uid = tnN.next("node-")).id).attr("transform", function(t34) {
    return "translate(" + t34.x0 + "," + t34.y0 + ")";
  }).attr("x", (t34) => t34.x0).attr("y", (t34) => t34.y0).append("rect").attr("height", (t34) => t34.y1 - t34.y0).attr("width", (t34) => t34.x1 - t34.x0).attr("fill", (t34) => N10(t34.id));
  let I10 = iZ((t34) => {
    let { id: e11, value: r11 } = t34;
    return S10 ? `${e11}
${E10}${Math.round(100 * r11) / 100}${C10}` : e11;
  }, "getText");
  b10.append("g").attr("class", "node-labels").attr("font-family", "sans-serif").attr("font-size", 14).selectAll("text").data(A10.nodes).join("text").attr("x", (t34) => t34.x0 < w10 / 2 ? t34.x1 + 6 : t34.x0 - 6).attr("y", (t34) => (t34.y1 + t34.y0) / 2).attr("dy", `${S10 ? "0" : "0.35"}em`).attr("text-anchor", (t34) => t34.x0 < w10 / 2 ? "start" : "end").text(I10);
  let M10 = b10.append("g").attr("class", "links").attr("fill", "none").attr("stroke-opacity", 0.5).selectAll(".link").data(A10.links).join("g").attr("class", "link").style("mix-blend-mode", "multiply"), R10 = null !== (d10 = null == y10 ? void 0 : y10.linkColor) && void 0 !== d10 ? d10 : "gradient";
  if ("gradient" === R10) {
    let t34 = M10.append("linearGradient").attr("id", (t35) => (t35.uid = tnN.next("linearGradient-")).id).attr("gradientUnits", "userSpaceOnUse").attr("x1", (t35) => t35.source.x1).attr("x2", (t35) => t35.target.x0);
    t34.append("stop").attr("offset", "0%").attr("stop-color", (t35) => N10(t35.source.id)), t34.append("stop").attr("offset", "100%").attr("stop-color", (t35) => N10(t35.target.id));
  }
  switch (R10) {
    case "gradient":
      g10 = iZ((t34) => t34.uid, "coloring");
      break;
    case "source":
      g10 = iZ((t34) => N10(t34.source.id), "coloring");
      break;
    case "target":
      g10 = iZ((t34) => N10(t34.target.id), "coloring");
      break;
    default:
      g10 = R10;
  }
  M10.append("path").attr("d", function(t34) {
    var e11 = tnd, r11 = tnp, i11 = tnh, n11 = tnc, a11 = null;
    function o11() {
      var o12, s11 = tnu.call(arguments), l11 = e11.apply(this, s11), h11 = r11.apply(this, s11);
      if (a11 || (a11 = o12 = tns()), t34(a11, +i11.apply(this, (s11[0] = l11, s11)), +n11.apply(this, s11), +i11.apply(this, (s11[0] = h11, s11)), +n11.apply(this, s11)), o12) return a11 = null, o12 + "" || null;
    }
    return o11.source = function(t35) {
      return arguments.length ? (e11 = t35, o11) : e11;
    }, o11.target = function(t35) {
      return arguments.length ? (r11 = t35, o11) : r11;
    }, o11.x = function(t35) {
      return arguments.length ? (i11 = "function" == typeof t35 ? t35 : tnl(+t35), o11) : i11;
    }, o11.y = function(t35) {
      return arguments.length ? (n11 = "function" == typeof t35 ? t35 : tnl(+t35), o11) : n11;
    }, o11.context = function(t35) {
      return arguments.length ? (a11 = null == t35 ? null : t35, o11) : a11;
    }, o11;
  }(tng).source(tnf).target(tnm)).attr("stroke", g10).attr("stroke-width", (t34) => Math.max(1, t34.width)), aa(void 0, b10, 0, _10);
}, "draw"), tnR = iZ((t33) => t33.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g, "").replaceAll(/([\n\r])+/g, "\n").trim(), "prepareTextForParsing"), tnD = tny.parse.bind(tny);
tny.parse = (t33) => tnD(tnR(t33));
let tnO = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: tny, db: tnL, renderer: { draw: tnM } } }, Symbol.toStringTag, { value: "Module" }));
var tnP = { packet: [] }, tn$ = structuredClone(tnP), tnB = ny.packet, tnF = iZ(() => {
  let t33 = g_({ ...tnB, ...nM().packet });
  return t33.showBits && (t33.paddingY += 10), t33;
}, "getConfig"), tnz = iZ(() => tn$.packet, "getPacket"), tnU = { pushWord: iZ((t33) => {
  t33.length > 0 && tn$.packet.push(t33);
}, "pushWord"), getPacket: tnz, getConfig: tnF, clear: iZ(() => {
  ag(), tn$ = structuredClone(tnP);
}, "clear"), setAccTitle: af, getAccTitle: am, setDiagramTitle: ax, getDiagramTitle: ab, getAccDescription: av, setAccDescription: ay }, tnG = iZ((t33) => {
  Lc(t33, tnU);
  let e10 = -1, r10 = [], i10 = 1, { bitsPerRow: n10 } = tnU.getConfig();
  for (let { start: a10, end: o10, label: s10 } of t33.blocks) {
    if (o10 && o10 < a10) throw Error(`Packet block ${a10} - ${o10} is invalid. End must be greater than start.`);
    if (a10 !== e10 + 1) throw Error(`Packet block ${a10} - ${null != o10 ? o10 : a10} is not contiguous. It should start from ${e10 + 1}.`);
    for (e10 = null != o10 ? o10 : a10, i0.debug(`Packet block ${a10} - ${e10} with label ${s10}`); r10.length <= n10 + 1 && tnU.getPacket().length < 1e4; ) {
      let [t34, e11] = tnq({ start: a10, end: o10, label: s10 }, i10, n10);
      if (r10.push(t34), t34.end + 1 === i10 * n10 && (tnU.pushWord(r10), r10 = [], i10++), !e11) break;
      ({ start: a10, end: o10, label: s10 } = e11);
    }
  }
  tnU.pushWord(r10);
}, "populate"), tnq = iZ((t33, e10, r10) => {
  if (void 0 === t33.end && (t33.end = t33.start), t33.start > t33.end) throw Error(`Block start ${t33.start} is greater than block end ${t33.end}.`);
  return t33.end + 1 <= e10 * r10 ? [t33, void 0] : [{ start: t33.start, end: e10 * r10 - 1, label: t33.label }, { start: e10 * r10, end: t33.end, label: t33.label }];
}, "getNextFittingBlock"), tnY = { parse: iZ(async (t33) => {
  let e10 = await OQ("packet", t33);
  i0.debug(e10), tnG(e10);
}, "parse") }, tnH = iZ((t33, e10, r10, i10) => {
  let n10 = i10.db, a10 = n10.getConfig(), { rowHeight: o10, paddingY: s10, bitWidth: l10, bitsPerRow: h10 } = a10, u10 = n10.getPacket(), d10 = n10.getDiagramTitle(), p10 = o10 + s10, g10 = p10 * (u10.length + 1) - (d10 ? 0 : o10), f10 = l10 * h10 + 2, y10 = vW(e10);
  for (let [t34, e11] of (y10.attr("viewbox", `0 0 ${f10} ${g10}`), an(y10, g10, f10, a10.useMaxWidth), u10.entries())) tnj(y10, e11, t34, a10);
  y10.append("text").text(d10).attr("x", f10 / 2).attr("y", g10 - p10 / 2).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr("class", "packetTitle");
}, "draw"), tnj = iZ((t33, e10, r10, i10) => {
  let { rowHeight: n10, paddingX: a10, paddingY: o10, bitWidth: s10, bitsPerRow: l10, showBits: h10 } = i10, u10 = t33.append("g"), d10 = r10 * (n10 + o10) + o10;
  for (let t34 of e10) {
    let e11 = t34.start % l10 * s10 + 1, r11 = (t34.end - t34.start + 1) * s10 - a10;
    if (u10.append("rect").attr("x", e11).attr("y", d10).attr("width", r11).attr("height", n10).attr("class", "packetBlock"), u10.append("text").attr("x", e11 + r11 / 2).attr("y", d10 + n10 / 2).attr("class", "packetLabel").attr("dominant-baseline", "middle").attr("text-anchor", "middle").text(t34.label), !h10) continue;
    let i11 = t34.end === t34.start, o11 = d10 - 2;
    u10.append("text").attr("x", e11 + (i11 ? r11 / 2 : 0)).attr("y", o11).attr("class", "packetByte start").attr("dominant-baseline", "auto").attr("text-anchor", i11 ? "middle" : "start").text(t34.start), i11 || u10.append("text").attr("x", e11 + r11).attr("y", o11).attr("class", "packetByte end").attr("dominant-baseline", "auto").attr("text-anchor", "end").text(t34.end);
  }
}, "drawWord"), tnW = { byteFontSize: "10px", startByteColor: "black", endByteColor: "black", labelColor: "black", labelFontSize: "12px", titleColor: "black", titleFontSize: "14px", blockStrokeColor: "black", blockStrokeWidth: "1", blockFillColor: "#efefef" };
let tnV = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: tnY, db: tnU, renderer: { draw: tnH }, styles: iZ(function() {
  let { packet: t33 } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e10 = g_(tnW, t33);
  return `
	.packetByte {
		font-size: ${e10.byteFontSize};
	}
	.packetByte.start {
		fill: ${e10.startByteColor};
	}
	.packetByte.end {
		fill: ${e10.endByteColor};
	}
	.packetLabel {
		fill: ${e10.labelColor};
		font-size: ${e10.labelFontSize};
	}
	.packetTitle {
		fill: ${e10.titleColor};
		font-size: ${e10.titleFontSize};
	}
	.packetBlock {
		stroke: ${e10.blockStrokeColor};
		stroke-width: ${e10.blockStrokeWidth};
		fill: ${e10.blockFillColor};
	}
	`;
}, "styles") } }, Symbol.toStringTag, { value: "Module" }));
var tnX = function() {
  var t33 = iZ(function(t34, e11, r11, i11) {
    for (r11 = r11 || {}, i11 = t34.length; i11--; r11[t34[i11]] = e11) ;
    return r11;
  }, "o"), e10 = [1, 7], r10 = [1, 13], i10 = [1, 14], n10 = [1, 15], a10 = [1, 19], o10 = [1, 16], s10 = [1, 17], l10 = [1, 18], h10 = [8, 30], u10 = [8, 21, 28, 29, 30, 31, 32, 40, 44, 47], d10 = [1, 23], p10 = [1, 24], g10 = [8, 15, 16, 21, 28, 29, 30, 31, 32, 40, 44, 47], f10 = [8, 15, 16, 21, 27, 28, 29, 30, 31, 32, 40, 44, 47], y10 = [1, 49], v10 = { trace: iZ(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, spaceLines: 3, SPACELINE: 4, NL: 5, separator: 6, SPACE: 7, EOF: 8, start: 9, BLOCK_DIAGRAM_KEY: 10, document: 11, stop: 12, statement: 13, link: 14, LINK: 15, START_LINK: 16, LINK_LABEL: 17, STR: 18, nodeStatement: 19, columnsStatement: 20, SPACE_BLOCK: 21, blockStatement: 22, classDefStatement: 23, cssClassStatement: 24, styleStatement: 25, node: 26, SIZE: 27, COLUMNS: 28, "id-block": 29, end: 30, block: 31, NODE_ID: 32, nodeShapeNLabel: 33, dirList: 34, DIR: 35, NODE_DSTART: 36, NODE_DEND: 37, BLOCK_ARROW_START: 38, BLOCK_ARROW_END: 39, classDef: 40, CLASSDEF_ID: 41, CLASSDEF_STYLEOPTS: 42, DEFAULT: 43, class: 44, CLASSENTITY_IDS: 45, STYLECLASS: 46, style: 47, STYLE_ENTITY_IDS: 48, STYLE_DEFINITION_DATA: 49, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SPACELINE", 5: "NL", 7: "SPACE", 8: "EOF", 10: "BLOCK_DIAGRAM_KEY", 15: "LINK", 16: "START_LINK", 17: "LINK_LABEL", 18: "STR", 21: "SPACE_BLOCK", 27: "SIZE", 28: "COLUMNS", 29: "id-block", 30: "end", 31: "block", 32: "NODE_ID", 35: "DIR", 36: "NODE_DSTART", 37: "NODE_DEND", 38: "BLOCK_ARROW_START", 39: "BLOCK_ARROW_END", 40: "classDef", 41: "CLASSDEF_ID", 42: "CLASSDEF_STYLEOPTS", 43: "DEFAULT", 44: "class", 45: "CLASSENTITY_IDS", 46: "STYLECLASS", 47: "style", 48: "STYLE_ENTITY_IDS", 49: "STYLE_DEFINITION_DATA" }, productions_: [0, [3, 1], [3, 2], [3, 2], [6, 1], [6, 1], [6, 1], [9, 3], [12, 1], [12, 1], [12, 2], [12, 2], [11, 1], [11, 2], [14, 1], [14, 4], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [19, 3], [19, 2], [19, 1], [20, 1], [22, 4], [22, 3], [26, 1], [26, 2], [34, 1], [34, 2], [33, 3], [33, 4], [23, 3], [23, 3], [24, 3], [25, 3]], performAction: iZ(function(t34, e11, r11, i11, n11, a11, o11) {
    var s11 = a11.length - 1;
    switch (n11) {
      case 4:
        i11.getLogger().debug("Rule: separator (NL) ");
        break;
      case 5:
        i11.getLogger().debug("Rule: separator (Space) ");
        break;
      case 6:
        i11.getLogger().debug("Rule: separator (EOF) ");
        break;
      case 7:
        i11.getLogger().debug("Rule: hierarchy: ", a11[s11 - 1]), i11.setHierarchy(a11[s11 - 1]);
        break;
      case 8:
        i11.getLogger().debug("Stop NL ");
        break;
      case 9:
        i11.getLogger().debug("Stop EOF ");
        break;
      case 10:
        i11.getLogger().debug("Stop NL2 ");
        break;
      case 11:
        i11.getLogger().debug("Stop EOF2 ");
        break;
      case 12:
        i11.getLogger().debug("Rule: statement: ", a11[s11]), "number" == typeof a11[s11].length ? this.$ = a11[s11] : this.$ = [a11[s11]];
        break;
      case 13:
        i11.getLogger().debug("Rule: statement #2: ", a11[s11 - 1]), this.$ = [a11[s11 - 1]].concat(a11[s11]);
        break;
      case 14:
        i11.getLogger().debug("Rule: link: ", a11[s11], t34), this.$ = { edgeTypeStr: a11[s11], label: "" };
        break;
      case 15:
        i11.getLogger().debug("Rule: LABEL link: ", a11[s11 - 3], a11[s11 - 1], a11[s11]), this.$ = { edgeTypeStr: a11[s11], label: a11[s11 - 1] };
        break;
      case 18:
        let l11 = parseInt(a11[s11]), h11 = i11.generateId();
        this.$ = { id: h11, type: "space", label: "", width: l11, children: [] };
        break;
      case 23:
        i11.getLogger().debug("Rule: (nodeStatement link node) ", a11[s11 - 2], a11[s11 - 1], a11[s11], " typestr: ", a11[s11 - 1].edgeTypeStr);
        let u11 = i11.edgeStrToEdgeData(a11[s11 - 1].edgeTypeStr);
        this.$ = [{ id: a11[s11 - 2].id, label: a11[s11 - 2].label, type: a11[s11 - 2].type, directions: a11[s11 - 2].directions }, { id: a11[s11 - 2].id + "-" + a11[s11].id, start: a11[s11 - 2].id, end: a11[s11].id, label: a11[s11 - 1].label, type: "edge", directions: a11[s11].directions, arrowTypeEnd: u11, arrowTypeStart: "arrow_open" }, { id: a11[s11].id, label: a11[s11].label, type: i11.typeStr2Type(a11[s11].typeStr), directions: a11[s11].directions }];
        break;
      case 24:
        i11.getLogger().debug("Rule: nodeStatement (abc88 node size) ", a11[s11 - 1], a11[s11]), this.$ = { id: a11[s11 - 1].id, label: a11[s11 - 1].label, type: i11.typeStr2Type(a11[s11 - 1].typeStr), directions: a11[s11 - 1].directions, widthInColumns: parseInt(a11[s11], 10) };
        break;
      case 25:
        i11.getLogger().debug("Rule: nodeStatement (node) ", a11[s11]), this.$ = { id: a11[s11].id, label: a11[s11].label, type: i11.typeStr2Type(a11[s11].typeStr), directions: a11[s11].directions, widthInColumns: 1 };
        break;
      case 26:
        i11.getLogger().debug("APA123", this ? this : "na"), i11.getLogger().debug("COLUMNS: ", a11[s11]), this.$ = { type: "column-setting", columns: "auto" === a11[s11] ? -1 : parseInt(a11[s11]) };
        break;
      case 27:
        i11.getLogger().debug("Rule: id-block statement : ", a11[s11 - 2], a11[s11 - 1]), i11.generateId(), this.$ = { ...a11[s11 - 2], type: "composite", children: a11[s11 - 1] };
        break;
      case 28:
        i11.getLogger().debug("Rule: blockStatement : ", a11[s11 - 2], a11[s11 - 1], a11[s11]);
        let d11 = i11.generateId();
        this.$ = { id: d11, type: "composite", label: "", children: a11[s11 - 1] };
        break;
      case 29:
        i11.getLogger().debug("Rule: node (NODE_ID separator): ", a11[s11]), this.$ = { id: a11[s11] };
        break;
      case 30:
        i11.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ", a11[s11 - 1], a11[s11]), this.$ = { id: a11[s11 - 1], label: a11[s11].label, typeStr: a11[s11].typeStr, directions: a11[s11].directions };
        break;
      case 31:
        i11.getLogger().debug("Rule: dirList: ", a11[s11]), this.$ = [a11[s11]];
        break;
      case 32:
        i11.getLogger().debug("Rule: dirList: ", a11[s11 - 1], a11[s11]), this.$ = [a11[s11 - 1]].concat(a11[s11]);
        break;
      case 33:
        i11.getLogger().debug("Rule: nodeShapeNLabel: ", a11[s11 - 2], a11[s11 - 1], a11[s11]), this.$ = { typeStr: a11[s11 - 2] + a11[s11], label: a11[s11 - 1] };
        break;
      case 34:
        i11.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ", a11[s11 - 3], a11[s11 - 2], " #3:", a11[s11 - 1], a11[s11]), this.$ = { typeStr: a11[s11 - 3] + a11[s11], label: a11[s11 - 2], directions: a11[s11 - 1] };
        break;
      case 35:
      case 36:
        this.$ = { type: "classDef", id: a11[s11 - 1].trim(), css: a11[s11].trim() };
        break;
      case 37:
        this.$ = { type: "applyClass", id: a11[s11 - 1].trim(), styleClass: a11[s11].trim() };
        break;
      case 38:
        this.$ = { type: "applyStyles", id: a11[s11 - 1].trim(), stylesStr: a11[s11].trim() };
    }
  }, "anonymous"), table: [{ 9: 1, 10: [1, 2] }, { 1: [3] }, { 11: 3, 13: 4, 19: 5, 20: 6, 21: e10, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: r10, 29: i10, 31: n10, 32: a10, 40: o10, 44: s10, 47: l10 }, { 8: [1, 20] }, t33(h10, [2, 12], { 13: 4, 19: 5, 20: 6, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 11: 21, 21: e10, 28: r10, 29: i10, 31: n10, 32: a10, 40: o10, 44: s10, 47: l10 }), t33(u10, [2, 16], { 14: 22, 15: d10, 16: p10 }), t33(u10, [2, 17]), t33(u10, [2, 18]), t33(u10, [2, 19]), t33(u10, [2, 20]), t33(u10, [2, 21]), t33(u10, [2, 22]), t33(g10, [2, 25], { 27: [1, 25] }), t33(u10, [2, 26]), { 19: 26, 26: 12, 32: a10 }, { 11: 27, 13: 4, 19: 5, 20: 6, 21: e10, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: r10, 29: i10, 31: n10, 32: a10, 40: o10, 44: s10, 47: l10 }, { 41: [1, 28], 43: [1, 29] }, { 45: [1, 30] }, { 48: [1, 31] }, t33(f10, [2, 29], { 33: 32, 36: [1, 33], 38: [1, 34] }), { 1: [2, 7] }, t33(h10, [2, 13]), { 26: 35, 32: a10 }, { 32: [2, 14] }, { 17: [1, 36] }, t33(g10, [2, 24]), { 11: 37, 13: 4, 14: 22, 15: d10, 16: p10, 19: 5, 20: 6, 21: e10, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: r10, 29: i10, 31: n10, 32: a10, 40: o10, 44: s10, 47: l10 }, { 30: [1, 38] }, { 42: [1, 39] }, { 42: [1, 40] }, { 46: [1, 41] }, { 49: [1, 42] }, t33(f10, [2, 30]), { 18: [1, 43] }, { 18: [1, 44] }, t33(g10, [2, 23]), { 18: [1, 45] }, { 30: [1, 46] }, t33(u10, [2, 28]), t33(u10, [2, 35]), t33(u10, [2, 36]), t33(u10, [2, 37]), t33(u10, [2, 38]), { 37: [1, 47] }, { 34: 48, 35: y10 }, { 15: [1, 50] }, t33(u10, [2, 27]), t33(f10, [2, 33]), { 39: [1, 51] }, { 34: 52, 35: y10, 39: [2, 31] }, { 32: [2, 15] }, t33(f10, [2, 34]), { 39: [2, 32] }], defaultActions: { 20: [2, 7], 23: [2, 14], 50: [2, 15], 52: [2, 32] }, parseError: iZ(function(t34, e11) {
    if (e11.recoverable) this.trace(t34);
    else {
      var r11 = Error(t34);
      throw r11.hash = e11, r11;
    }
  }, "parseError"), parse: iZ(function(t34) {
    var e11 = this, r11 = [0], i11 = [], n11 = [null], a11 = [], o11 = this.table, s11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var g11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g11) && (p11.yy[g11] = this.yy[g11]);
    d11.setInput(t34, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var f11 = d11.yylloc;
    a11.push(f11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var t35;
      return "number" != typeof (t35 = i11.pop() || d11.lex() || 1) && (t35 instanceof Array && (t35 = (i11 = t35).pop()), t35 = e11.symbols_[t35] || t35), t35;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iZ(function(t35) {
      r11.length = r11.length - 2 * t35, n11.length = n11.length - t35, a11.length = a11.length - t35;
    }, "popStack"), iZ(v11, "lex");
    for (var x11, b11, w10, k10, _10, T10, E10, C10, S10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? w10 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), w10 = o11[b11] && o11[b11][x11]), void 0 === w10 || !w10.length || !w10[0]) {
        var A10 = "";
        for (_10 in C10 = [], o11[b11]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: f11, expected: C10 });
      }
      if (w10[0] instanceof Array && w10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (w10[0]) {
        case 1:
          r11.push(x11), n11.push(d11.yytext), a11.push(d11.yylloc), r11.push(w10[1]), x11 = null, h11 = d11.yyleng, s11 = d11.yytext, l11 = d11.yylineno, f11 = d11.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[w10[1]][1], S10.$ = n11[n11.length - T10], S10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (S10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (k10 = this.performAction.apply(S10, [s11, h11, l11, p11.yy, w10[1], n11, a11].concat(u11)))) return k10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), n11 = n11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[w10[1]][0]), n11.push(S10.$), a11.push(S10._$), E10 = o11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(E10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, x10 = { EOF: 1, parseError: iZ(function(t34, e11) {
    if (this.yy.parser) this.yy.parser.parseError(t34, e11);
    else throw Error(t34);
  }, "parseError"), setInput: iZ(function(t34, e11) {
    return this.yy = e11 || this.yy || {}, this._input = t34, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iZ(function() {
    var t34 = this._input[0];
    return this.yytext += t34, this.yyleng++, this.offset++, this.match += t34, this.matched += t34, t34.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t34;
  }, "input"), unput: iZ(function(t34) {
    var e11 = t34.length, r11 = t34.split(/(?:\r\n?|\n)/g);
    this._input = t34 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e11), this.offset -= e11;
    var i11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var n11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === i11.length ? this.yylloc.first_column : 0) + i11[i11.length - r11.length].length - r11[0].length : this.yylloc.first_column - e11 }, this.options.ranges && (this.yylloc.range = [n11[0], n11[0] + this.yyleng - e11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iZ(function() {
    return this._more = true, this;
  }, "more"), reject: iZ(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iZ(function(t34) {
    this.unput(this.match.slice(t34));
  }, "less"), pastInput: iZ(function() {
    var t34 = this.matched.substr(0, this.matched.length - this.match.length);
    return (t34.length > 20 ? "..." : "") + t34.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iZ(function() {
    var t34 = this.match;
    return t34.length < 20 && (t34 += this._input.substr(0, 20 - t34.length)), (t34.substr(0, 20) + (t34.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iZ(function() {
    var t34 = this.pastInput(), e11 = Array(t34.length + 1).join("-");
    return t34 + this.upcomingInput() + "\n" + e11 + "^";
  }, "showPosition"), test_match: iZ(function(t34, e11) {
    var r11, i11, n11;
    if (this.options.backtrack_lexer && (n11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n11.yylloc.range = this.yylloc.range.slice(0))), (i11 = t34[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += i11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: i11 ? i11[i11.length - 1].length - i11[i11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t34[0].length }, this.yytext += t34[0], this.match += t34[0], this.matches = t34, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(t34[0].length), this.matched += t34[0], r11 = this.performAction.call(this, this.yy, this, e11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in n11) this[a11] = n11[a11];
    return false;
  }, "test_match"), next: iZ(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var t34, e11, r11, i11, n11 = this._currentRules(), a11 = 0; a11 < n11.length; a11++) if ((r11 = this._input.match(this.rules[n11[a11]])) && (!e11 || r11[0].length > e11[0].length)) {
      if (e11 = r11, i11 = a11, this.options.backtrack_lexer) {
        if (false !== (t34 = this.test_match(r11, n11[a11]))) return t34;
        if (!this._backtrack) return false;
        e11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return e11 ? false !== (t34 = this.test_match(e11, n11[i11])) && t34 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iZ(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iZ(function(t34) {
    this.conditionStack.push(t34);
  }, "begin"), popState: iZ(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iZ(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iZ(function(t34) {
    return (t34 = this.conditionStack.length - 1 - Math.abs(t34 || 0)) >= 0 ? this.conditionStack[t34] : "INITIAL";
  }, "topState"), pushState: iZ(function(t34) {
    this.begin(t34);
  }, "pushState"), stateStackSize: iZ(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iZ(function(t34, e11, r11, i11) {
    switch (r11) {
      case 0:
        return 10;
      case 1:
        return t34.getLogger().debug("Found space-block"), 31;
      case 2:
        return t34.getLogger().debug("Found nl-block"), 31;
      case 3:
        return t34.getLogger().debug("Found space-block"), 29;
      case 4:
        t34.getLogger().debug(".", e11.yytext);
        break;
      case 5:
        t34.getLogger().debug("_", e11.yytext);
        break;
      case 6:
        return 5;
      case 7:
        return e11.yytext = -1, 28;
      case 8:
        return e11.yytext = e11.yytext.replace(/columns\s+/, ""), t34.getLogger().debug("COLUMNS (LEX)", e11.yytext), 28;
      case 9:
      case 77:
      case 78:
      case 100:
        this.pushState("md_string");
        break;
      case 10:
        return "MD_STR";
      case 11:
      case 35:
      case 80:
        this.popState();
        break;
      case 12:
        this.pushState("string");
        break;
      case 13:
        t34.getLogger().debug("LEX: POPPING STR:", e11.yytext), this.popState();
        break;
      case 14:
        return t34.getLogger().debug("LEX: STR end:", e11.yytext), "STR";
      case 15:
        return e11.yytext = e11.yytext.replace(/space\:/, ""), t34.getLogger().debug("SPACE NUM (LEX)", e11.yytext), 21;
      case 16:
        return e11.yytext = "1", t34.getLogger().debug("COLUMNS (LEX)", e11.yytext), 21;
      case 17:
        return 43;
      case 18:
        return "LINKSTYLE";
      case 19:
        return "INTERPOLATE";
      case 20:
        return this.pushState("CLASSDEF"), 40;
      case 21:
        return this.popState(), this.pushState("CLASSDEFID"), "DEFAULT_CLASSDEF_ID";
      case 22:
        return this.popState(), this.pushState("CLASSDEFID"), 41;
      case 23:
        return this.popState(), 42;
      case 24:
        return this.pushState("CLASS"), 44;
      case 25:
        return this.popState(), this.pushState("CLASS_STYLE"), 45;
      case 26:
        return this.popState(), 46;
      case 27:
        return this.pushState("STYLE_STMNT"), 47;
      case 28:
        return this.popState(), this.pushState("STYLE_DEFINITION"), 48;
      case 29:
        return this.popState(), 49;
      case 30:
        return this.pushState("acc_title"), "acc_title";
      case 31:
        return this.popState(), "acc_title_value";
      case 32:
        return this.pushState("acc_descr"), "acc_descr";
      case 33:
        return this.popState(), "acc_descr_value";
      case 34:
        this.pushState("acc_descr_multiline");
        break;
      case 36:
        return "acc_descr_multiline_value";
      case 37:
        return 30;
      case 38:
      case 39:
      case 41:
      case 42:
      case 45:
        return this.popState(), t34.getLogger().debug("Lex: (("), "NODE_DEND";
      case 40:
        return this.popState(), t34.getLogger().debug("Lex: ))"), "NODE_DEND";
      case 43:
        return this.popState(), t34.getLogger().debug("Lex: (-"), "NODE_DEND";
      case 44:
        return this.popState(), t34.getLogger().debug("Lex: -)"), "NODE_DEND";
      case 46:
        return this.popState(), t34.getLogger().debug("Lex: ]]"), "NODE_DEND";
      case 47:
        return this.popState(), t34.getLogger().debug("Lex: ("), "NODE_DEND";
      case 48:
        return this.popState(), t34.getLogger().debug("Lex: ])"), "NODE_DEND";
      case 49:
      case 50:
        return this.popState(), t34.getLogger().debug("Lex: /]"), "NODE_DEND";
      case 51:
        return this.popState(), t34.getLogger().debug("Lex: )]"), "NODE_DEND";
      case 52:
        return this.popState(), t34.getLogger().debug("Lex: )"), "NODE_DEND";
      case 53:
        return this.popState(), t34.getLogger().debug("Lex: ]>"), "NODE_DEND";
      case 54:
        return this.popState(), t34.getLogger().debug("Lex: ]"), "NODE_DEND";
      case 55:
        return t34.getLogger().debug("Lexa: -)"), this.pushState("NODE"), 36;
      case 56:
        return t34.getLogger().debug("Lexa: (-"), this.pushState("NODE"), 36;
      case 57:
        return t34.getLogger().debug("Lexa: ))"), this.pushState("NODE"), 36;
      case 58:
      case 60:
      case 61:
      case 62:
      case 65:
        return t34.getLogger().debug("Lexa: )"), this.pushState("NODE"), 36;
      case 59:
        return t34.getLogger().debug("Lex: ((("), this.pushState("NODE"), 36;
      case 63:
        return t34.getLogger().debug("Lexc: >"), this.pushState("NODE"), 36;
      case 64:
        return t34.getLogger().debug("Lexa: (["), this.pushState("NODE"), 36;
      case 66:
      case 67:
      case 68:
      case 69:
      case 70:
      case 71:
      case 72:
        return this.pushState("NODE"), 36;
      case 73:
        return t34.getLogger().debug("Lexa: ["), this.pushState("NODE"), 36;
      case 74:
        return this.pushState("BLOCK_ARROW"), t34.getLogger().debug("LEX ARR START"), 38;
      case 75:
        return t34.getLogger().debug("Lex: NODE_ID", e11.yytext), 32;
      case 76:
        return t34.getLogger().debug("Lex: EOF", e11.yytext), 8;
      case 79:
        return "NODE_DESCR";
      case 81:
        t34.getLogger().debug("Lex: Starting string"), this.pushState("string");
        break;
      case 82:
        t34.getLogger().debug("LEX ARR: Starting string"), this.pushState("string");
        break;
      case 83:
        return t34.getLogger().debug("LEX: NODE_DESCR:", e11.yytext), "NODE_DESCR";
      case 84:
        t34.getLogger().debug("LEX POPPING"), this.popState();
        break;
      case 85:
        t34.getLogger().debug("Lex: =>BAE"), this.pushState("ARROW_DIR");
        break;
      case 86:
        return e11.yytext = e11.yytext.replace(/^,\s*/, ""), t34.getLogger().debug("Lex (right): dir:", e11.yytext), "DIR";
      case 87:
        return e11.yytext = e11.yytext.replace(/^,\s*/, ""), t34.getLogger().debug("Lex (left):", e11.yytext), "DIR";
      case 88:
        return e11.yytext = e11.yytext.replace(/^,\s*/, ""), t34.getLogger().debug("Lex (x):", e11.yytext), "DIR";
      case 89:
        return e11.yytext = e11.yytext.replace(/^,\s*/, ""), t34.getLogger().debug("Lex (y):", e11.yytext), "DIR";
      case 90:
        return e11.yytext = e11.yytext.replace(/^,\s*/, ""), t34.getLogger().debug("Lex (up):", e11.yytext), "DIR";
      case 91:
        return e11.yytext = e11.yytext.replace(/^,\s*/, ""), t34.getLogger().debug("Lex (down):", e11.yytext), "DIR";
      case 92:
        return e11.yytext = "]>", t34.getLogger().debug("Lex (ARROW_DIR end):", e11.yytext), this.popState(), this.popState(), "BLOCK_ARROW_END";
      case 93:
        return t34.getLogger().debug("Lex: LINK", "#" + e11.yytext + "#"), 15;
      case 94:
      case 95:
      case 96:
        return t34.getLogger().debug("Lex: LINK", e11.yytext), 15;
      case 97:
      case 98:
      case 99:
        return t34.getLogger().debug("Lex: START_LINK", e11.yytext), this.pushState("LLABEL"), 16;
      case 101:
        return t34.getLogger().debug("Lex: Starting string"), this.pushState("string"), "LINK_LABEL";
      case 102:
        return this.popState(), t34.getLogger().debug("Lex: LINK", "#" + e11.yytext + "#"), 15;
      case 103:
      case 104:
        return this.popState(), t34.getLogger().debug("Lex: LINK", e11.yytext), 15;
      case 105:
        return t34.getLogger().debug("Lex: COLON", e11.yytext), e11.yytext = e11.yytext.slice(1), 27;
    }
  }, "anonymous"), rules: [/^(?:block-beta\b)/, /^(?:block\s+)/, /^(?:block\n+)/, /^(?:block:)/, /^(?:[\s]+)/, /^(?:[\n]+)/, /^(?:((\u000D\u000A)|(\u000A)))/, /^(?:columns\s+auto\b)/, /^(?:columns\s+[\d]+)/, /^(?:["][`])/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:space[:]\d+)/, /^(?:space\b)/, /^(?:default\b)/, /^(?:linkStyle\b)/, /^(?:interpolate\b)/, /^(?:classDef\s+)/, /^(?:DEFAULT\s+)/, /^(?:\w+\s+)/, /^(?:[^\n]*)/, /^(?:class\s+)/, /^(?:(\w+)+((,\s*\w+)*))/, /^(?:[^\n]*)/, /^(?:style\s+)/, /^(?:(\w+)+((,\s*\w+)*))/, /^(?:[^\n]*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:end\b\s*)/, /^(?:\(\(\()/, /^(?:\)\)\))/, /^(?:[\)]\))/, /^(?:\}\})/, /^(?:\})/, /^(?:\(-)/, /^(?:-\))/, /^(?:\(\()/, /^(?:\]\])/, /^(?:\()/, /^(?:\]\))/, /^(?:\\\])/, /^(?:\/\])/, /^(?:\)\])/, /^(?:[\)])/, /^(?:\]>)/, /^(?:[\]])/, /^(?:-\))/, /^(?:\(-)/, /^(?:\)\))/, /^(?:\))/, /^(?:\(\(\()/, /^(?:\(\()/, /^(?:\{\{)/, /^(?:\{)/, /^(?:>)/, /^(?:\(\[)/, /^(?:\()/, /^(?:\[\[)/, /^(?:\[\|)/, /^(?:\[\()/, /^(?:\)\)\))/, /^(?:\[\\)/, /^(?:\[\/)/, /^(?:\[\\)/, /^(?:\[)/, /^(?:<\[)/, /^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/, /^(?:$)/, /^(?:["][`])/, /^(?:["][`])/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["])/, /^(?:["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:\]>\s*\()/, /^(?:,?\s*right\s*)/, /^(?:,?\s*left\s*)/, /^(?:,?\s*x\s*)/, /^(?:,?\s*y\s*)/, /^(?:,?\s*up\s*)/, /^(?:,?\s*down\s*)/, /^(?:\)\s*)/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?:\s*~~[\~]+\s*)/, /^(?:\s*[xo<]?--\s*)/, /^(?:\s*[xo<]?==\s*)/, /^(?:\s*[xo<]?-\.\s*)/, /^(?:["][`])/, /^(?:["])/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?::\d+)/], conditions: { STYLE_DEFINITION: { rules: [29], inclusive: false }, STYLE_STMNT: { rules: [28], inclusive: false }, CLASSDEFID: { rules: [23], inclusive: false }, CLASSDEF: { rules: [21, 22], inclusive: false }, CLASS_STYLE: { rules: [26], inclusive: false }, CLASS: { rules: [25], inclusive: false }, LLABEL: { rules: [100, 101, 102, 103, 104], inclusive: false }, ARROW_DIR: { rules: [86, 87, 88, 89, 90, 91, 92], inclusive: false }, BLOCK_ARROW: { rules: [77, 82, 85], inclusive: false }, NODE: { rules: [38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 78, 81], inclusive: false }, md_string: { rules: [10, 11, 79, 80], inclusive: false }, space: { rules: [], inclusive: false }, string: { rules: [13, 14, 83, 84], inclusive: false }, acc_descr_multiline: { rules: [35, 36], inclusive: false }, acc_descr: { rules: [33], inclusive: false }, acc_title: { rules: [31], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 12, 15, 16, 17, 18, 19, 20, 24, 27, 30, 32, 34, 37, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 93, 94, 95, 96, 97, 98, 99, 105], inclusive: true } } };
  function b10() {
    this.yy = {};
  }
  return v10.lexer = x10, iZ(b10, "Parser"), b10.prototype = v10, v10.Parser = b10, new b10();
}();
tnX.parser = tnX;
var tnK = /* @__PURE__ */ new Map(), tnZ = [], tnQ = /* @__PURE__ */ new Map(), tnJ = "color", tn0 = "fill", tn1 = nM(), tn2 = /* @__PURE__ */ new Map(), tn4 = iZ((t33) => ae.sanitizeText(t33, tn1), "sanitizeText"), tn5 = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r10 = tn2.get(t33);
  r10 || (r10 = { id: t33, styles: [], textStyles: [] }, tn2.set(t33, r10)), null != e10 && e10.split(",").forEach((t34) => {
    let e11 = t34.replace(/([^;]*);/, "$1").trim();
    if (RegExp(tnJ).exec(t34)) {
      let t35 = e11.replace(tn0, "bgFill").replace(tnJ, tn0);
      r10.textStyles.push(t35);
    }
    r10.styles.push(e11);
  });
}, "addStyleClass"), tn3 = iZ(function(t33) {
  let e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r10 = tnK.get(t33);
  null != e10 && (r10.styles = e10.split(","));
}, "addStyle2Node"), tn6 = iZ(function(t33, e10) {
  t33.split(",").forEach(function(t34) {
    let r10 = tnK.get(t34);
    if (void 0 === r10) {
      let e11 = t34.trim();
      r10 = { id: e11, type: "na", children: [] }, tnK.set(e11, r10);
    }
    r10.classes || (r10.classes = []), r10.classes.push(e10);
  });
}, "setCssClass"), tn7 = iZ((t33, e10) => {
  let r10 = t33.flat(), i10 = [];
  for (let t34 of r10) {
    var n10, a10, o10, s10;
    if (t34.label && (t34.label = tn4(t34.label)), "classDef" === t34.type) {
      tn5(t34.id, t34.css);
      continue;
    }
    if ("applyClass" === t34.type) {
      tn6(t34.id, null !== (n10 = null == t34 ? void 0 : t34.styleClass) && void 0 !== n10 ? n10 : "");
      continue;
    }
    if ("applyStyles" === t34.type) {
      (null == t34 ? void 0 : t34.stylesStr) && tn3(t34.id, null == t34 ? void 0 : t34.stylesStr);
      continue;
    }
    if ("column-setting" === t34.type) e10.columns = null !== (a10 = t34.columns) && void 0 !== a10 ? a10 : -1;
    else if ("edge" === t34.type) {
      let e11 = (null !== (o10 = tnQ.get(t34.id)) && void 0 !== o10 ? o10 : 0) + 1;
      tnQ.set(t34.id, e11), t34.id = e11 + "-" + t34.id, tnZ.push(t34);
    } else {
      t34.label || ("composite" === t34.type ? t34.label = "" : t34.label = t34.id);
      let e11 = tnK.get(t34.id);
      if (void 0 === e11 ? tnK.set(t34.id, t34) : ("na" !== t34.type && (e11.type = t34.type), t34.label !== t34.id && (e11.label = t34.label)), t34.children && tn7(t34.children, t34), "space" === t34.type) {
        let e12 = null !== (s10 = t34.width) && void 0 !== s10 ? s10 : 1;
        for (let r11 = 0; r11 < e12; r11++) {
          let e13 = tI(t34);
          e13.id = e13.id + "-" + r11, tnK.set(e13.id, e13), i10.push(e13);
        }
      } else void 0 === e11 && i10.push(t34);
    }
  }
  e10.children = i10;
}, "populateBlockDatabase"), tn8 = [], tn9 = { id: "root", type: "composite", children: [], columns: -1 }, tat = iZ(() => {
  i0.debug("Clear called"), ag(), tnK = /* @__PURE__ */ new Map([["root", tn9 = { id: "root", type: "composite", children: [], columns: -1 }]]), tn8 = [], tn2 = /* @__PURE__ */ new Map(), tnZ = [], tnQ = /* @__PURE__ */ new Map();
}, "clear");
function tae(t33) {
  switch (i0.debug("typeStr2Type", t33), t33) {
    case "[]":
      return "square";
    case "()":
      return i0.debug("we have a round"), "round";
    case "(())":
      return "circle";
    case ">]":
      return "rect_left_inv_arrow";
    case "{}":
      return "diamond";
    case "{{}}":
      return "hexagon";
    case "([])":
      return "stadium";
    case "[[]]":
      return "subroutine";
    case "[()]":
      return "cylinder";
    case "((()))":
      return "doublecircle";
    case "[//]":
      return "lean_right";
    case "[\\\\]":
      return "lean_left";
    case "[/\\]":
      return "trapezoid";
    case "[\\/]":
      return "inv_trapezoid";
    case "<[]>":
      return "block_arrow";
    default:
      return "na";
  }
}
function tar(t33) {
  return (i0.debug("typeStr2Type", t33), "==" === t33) ? "thick" : "normal";
}
function tai(t33) {
  switch (t33.trim()) {
    case "--x":
      return "arrow_cross";
    case "--o":
      return "arrow_circle";
    default:
      return "arrow_point";
  }
}
iZ(tae, "typeStr2Type"), iZ(tar, "edgeTypeStr2Type"), iZ(tai, "edgeStrToEdgeData");
var tan = 0, taa = iZ(() => (tan++, "id-" + Math.random().toString(36).substr(2, 12) + "-" + tan), "generateId"), tao = iZ((t33) => {
  tn9.children = t33, tn7(t33, tn9), tn8 = tn9.children;
}, "setHierarchy"), tas = iZ((t33) => {
  let e10 = tnK.get(t33);
  return e10 ? e10.columns ? e10.columns : e10.children ? e10.children.length : -1 : -1;
}, "getColumns"), tal = iZ(() => [...tnK.values()], "getBlocksFlat"), tah = iZ(() => tn8 || [], "getBlocks"), tac = iZ(() => tnZ, "getEdges"), tau = iZ((t33) => tnK.get(t33), "getBlock"), tad = iZ((t33) => {
  tnK.set(t33.id, t33);
}, "setBlock"), tap = iZ(() => console, "getLogger"), tag = iZ(function() {
  return tn2;
}, "getClasses"), taf = { getConfig: iZ(() => nM().block, "getConfig"), typeStr2Type: tae, edgeTypeStr2Type: tar, edgeStrToEdgeData: tai, getLogger: tap, getBlocksFlat: tal, getBlocks: tah, getEdges: tac, setHierarchy: tao, getBlock: tau, setBlock: tad, getColumns: tas, getClasses: tag, clear: tat, generateId: taa }, tam = iZ((t33, e10) => rK(rZ(t33, "r"), rZ(t33, "g"), rZ(t33, "b"), e10), "fade"), tay = iZ((t33) => `.label {
    font-family: ${t33.fontFamily};
    color: ${t33.nodeTextColor || t33.textColor};
  }
  .cluster-label text {
    fill: ${t33.titleColor};
  }
  .cluster-label span,p {
    color: ${t33.titleColor};
  }



  .label text,span,p {
    fill: ${t33.nodeTextColor || t33.textColor};
    color: ${t33.nodeTextColor || t33.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t33.mainBkg};
    stroke: ${t33.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t33.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t33.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t33.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t33.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t33.edgeLabelBackground};
      fill: ${t33.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${tam(t33.edgeLabelBackground, 0.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${tam(t33.mainBkg, 0.5)};
    fill: ${tam(t33.clusterBkg, 0.5)};
    stroke: ${tam(t33.clusterBorder, 0.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t33.titleColor};
  }

  .cluster span,p {
    color: ${t33.titleColor};
  }
  /* .cluster div {
    color: ${t33.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t33.fontFamily};
    font-size: 12px;
    background: ${t33.tertiaryColor};
    border: 1px solid ${t33.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t33.textColor};
  }
`, "getStyles"), tav = iZ((t33, e10, r10, i10) => {
  e10.forEach((e11) => {
    taT[e11](t33, r10, i10);
  });
}, "insertMarkers"), tax = iZ((t33, e10, r10) => {
  i0.trace("Making markers for ", r10), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-extensionStart").attr("class", "marker extension " + e10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-extensionEnd").attr("class", "marker extension " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
}, "extension"), tab = iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-compositionStart").attr("class", "marker composition " + e10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-compositionEnd").attr("class", "marker composition " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "composition"), taw = iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-aggregationStart").attr("class", "marker aggregation " + e10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-aggregationEnd").attr("class", "marker aggregation " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "aggregation"), tak = iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-dependencyStart").attr("class", "marker dependency " + e10).attr("refX", 6).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z"), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-dependencyEnd").attr("class", "marker dependency " + e10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "dependency"), ta_ = iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-lollipopStart").attr("class", "marker lollipop " + e10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6), t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-lollipopEnd").attr("class", "marker lollipop " + e10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);
}, "lollipop"), taT = { extension: tax, composition: tab, aggregation: taw, dependency: tak, lollipop: ta_, point: iZ((t33, e10, r10) => {
  t33.append("marker").attr("id", r10 + "_" + e10 + "-pointEnd").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", 6).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), t33.append("marker").attr("id", r10 + "_" + e10 + "-pointStart").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", 4.5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "point"), circle: iZ((t33, e10, r10) => {
  t33.append("marker").attr("id", r10 + "_" + e10 + "-circleEnd").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), t33.append("marker").attr("id", r10 + "_" + e10 + "-circleStart").attr("class", "marker " + e10).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "circle"), cross: iZ((t33, e10, r10) => {
  t33.append("marker").attr("id", r10 + "_" + e10 + "-crossEnd").attr("class", "marker cross " + e10).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0"), t33.append("marker").attr("id", r10 + "_" + e10 + "-crossStart").attr("class", "marker cross " + e10).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
}, "cross"), barb: iZ((t33, e10, r10) => {
  t33.append("defs").append("marker").attr("id", r10 + "_" + e10 + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "strokeWidth").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
}, "barb") }, taE = null !== (rM = null === (rI = nM()) || void 0 === rI ? void 0 : null === (rN = rI.block) || void 0 === rN ? void 0 : rN.padding) && void 0 !== rM ? rM : 8;
function taC(t33, e10) {
  if (0 === t33 || !Number.isInteger(t33)) throw Error("Columns must be an integer !== 0.");
  if (e10 < 0 || !Number.isInteger(e10)) throw Error("Position must be a non-negative integer." + e10);
  if (t33 < 0) return { px: e10, py: 0 };
  if (1 === t33) return { px: 0, py: e10 };
  let r10 = Math.floor(e10 / t33);
  return { px: e10 % t33, py: r10 };
}
iZ(taC, "calculateBlockPosition");
var taS = iZ((t33) => {
  let e10 = 0, r10 = 0;
  for (let a10 of t33.children) {
    var i10, n10;
    let { width: o10, height: s10, x: l10, y: h10 } = null !== (i10 = a10.size) && void 0 !== i10 ? i10 : { width: 0, height: 0, x: 0, y: 0 };
    i0.debug("getMaxChildSize abc95 child:", a10.id, "width:", o10, "height:", s10, "x:", l10, "y:", h10, a10.type), "space" !== a10.type && (o10 > e10 && (e10 = o10 / (null !== (n10 = t33.widthInColumns) && void 0 !== n10 ? n10 : 1)), s10 > r10 && (r10 = s10));
  }
  return { width: e10, height: r10 };
}, "getMaxChildSize");
function taA(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10;
  let x10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, b10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
  i0.debug("setBlockSizes abc95 (start)", t33.id, null == t33 ? void 0 : null === (r10 = t33.size) || void 0 === r10 ? void 0 : r10.x, "block width =", null == t33 ? void 0 : t33.size, "sieblingWidth", x10), (null == t33 ? void 0 : null === (i10 = t33.size) || void 0 === i10 ? void 0 : i10.width) || (t33.size = { width: x10, height: b10, x: 0, y: 0 });
  let w10 = 0, k10 = 0;
  if ((null === (n10 = t33.children) || void 0 === n10 ? void 0 : n10.length) > 0) {
    for (let r12 of t33.children) taA(r12, e10);
    let r11 = taS(t33);
    for (let e11 of (w10 = r11.width, k10 = r11.height, i0.debug("setBlockSizes abc95 maxWidth of", t33.id, ":s children is ", w10, k10), t33.children)) e11.size && (i0.debug(`abc95 Setting size of children of ${t33.id} id=${e11.id} ${w10} ${k10} ${JSON.stringify(e11.size)}`), e11.size.width = w10 * (null !== (d10 = e11.widthInColumns) && void 0 !== d10 ? d10 : 1) + taE * ((null !== (p10 = e11.widthInColumns) && void 0 !== p10 ? p10 : 1) - 1), e11.size.height = k10, e11.size.x = 0, e11.size.y = 0, i0.debug(`abc95 updating size of ${t33.id} children child:${e11.id} maxWidth:${w10} maxHeight:${k10}`));
    for (let r12 of t33.children) taA(r12, e10, w10, k10);
    let i11 = null !== (g10 = t33.columns) && void 0 !== g10 ? g10 : -1, n11 = 0;
    for (let e11 of t33.children) n11 += null !== (f10 = e11.widthInColumns) && void 0 !== f10 ? f10 : 1;
    let a11 = t33.children.length;
    i11 > 0 && i11 < n11 && (a11 = i11);
    let o11 = Math.ceil(n11 / a11), s11 = a11 * (w10 + taE) + taE, l11 = o11 * (k10 + taE) + taE;
    if (s11 < x10) {
      i0.debug(`Detected to small siebling: abc95 ${t33.id} sieblingWidth ${x10} sieblingHeight ${b10} width ${s11}`), s11 = x10, l11 = b10;
      let e11 = (x10 - a11 * taE - taE) / a11, r12 = (b10 - o11 * taE - taE) / o11;
      for (let i12 of (i0.debug("Size indata abc88", t33.id, "childWidth", e11, "maxWidth", w10), i0.debug("Size indata abc88", t33.id, "childHeight", r12, "maxHeight", k10), i0.debug("Size indata abc88 xSize", a11, "padding", taE), t33.children)) i12.size && (i12.size.width = e11, i12.size.height = r12, i12.size.x = 0, i12.size.y = 0);
    }
    if (i0.debug(`abc95 (finale calc) ${t33.id} xSize ${a11} ySize ${o11} columns ${i11}${t33.children.length} width=${Math.max(s11, (null === (h10 = t33.size) || void 0 === h10 ? void 0 : h10.width) || 0)}`), s11 < ((null == t33 ? void 0 : null === (u10 = t33.size) || void 0 === u10 ? void 0 : u10.width) || 0)) {
      s11 = (null == t33 ? void 0 : null === (y10 = t33.size) || void 0 === y10 ? void 0 : y10.width) || 0;
      let e11 = i11 > 0 ? Math.min(t33.children.length, i11) : t33.children.length;
      if (e11 > 0) {
        let r12 = (s11 - e11 * taE - taE) / e11;
        for (let e12 of (i0.debug("abc95 (growing to fit) width", t33.id, s11, null === (v10 = t33.size) || void 0 === v10 ? void 0 : v10.width, r12), t33.children)) e12.size && (e12.size.width = r12);
      }
    }
    t33.size = { width: s11, height: l11, x: 0, y: 0 };
  }
  i0.debug("setBlockSizes abc94 (done)", t33.id, null == t33 ? void 0 : null === (a10 = t33.size) || void 0 === a10 ? void 0 : a10.x, null == t33 ? void 0 : null === (o10 = t33.size) || void 0 === o10 ? void 0 : o10.width, null == t33 ? void 0 : null === (s10 = t33.size) || void 0 === s10 ? void 0 : s10.y, null == t33 ? void 0 : null === (l10 = t33.size) || void 0 === l10 ? void 0 : l10.height);
}
function taL(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10, x10, b10, w10, k10, _10, T10, E10;
  i0.debug(`abc85 layout blocks (=>layoutBlocks) ${t33.id} x: ${null == t33 ? void 0 : null === (r10 = t33.size) || void 0 === r10 ? void 0 : r10.x} y: ${null == t33 ? void 0 : null === (i10 = t33.size) || void 0 === i10 ? void 0 : i10.y} width: ${null == t33 ? void 0 : null === (n10 = t33.size) || void 0 === n10 ? void 0 : n10.width}`);
  let C10 = null !== (l10 = t33.columns) && void 0 !== l10 ? l10 : -1;
  if (i0.debug("layoutBlocks columns abc95", t33.id, "=>", C10, t33), t33.children && t33.children.length > 0) {
    let e11 = null !== (y10 = null == t33 ? void 0 : null === (u10 = t33.children[0]) || void 0 === u10 ? void 0 : null === (h10 = u10.size) || void 0 === h10 ? void 0 : h10.width) && void 0 !== y10 ? y10 : 0, r11 = t33.children.length * e11 + (t33.children.length - 1) * taE;
    i0.debug("widthOfChildren 88", r11, "posX");
    let i11 = 0;
    i0.debug("abc91 block?.size?.x", t33.id, null == t33 ? void 0 : null === (d10 = t33.size) || void 0 === d10 ? void 0 : d10.x);
    let n11 = (null == t33 ? void 0 : null === (p10 = t33.size) || void 0 === p10 ? void 0 : p10.x) ? (null == t33 ? void 0 : null === (g10 = t33.size) || void 0 === g10 ? void 0 : g10.x) + (-(null == t33 ? void 0 : null === (f10 = t33.size) || void 0 === f10 ? void 0 : f10.width) / 2 || 0) : -taE, a11 = 0;
    for (let e12 of t33.children) {
      if (!e12.size) continue;
      let { width: r12, height: o11 } = e12.size, { px: s11, py: l11 } = taC(C10, i11);
      if (l11 != a11 && (a11 = l11, n11 = (null == t33 ? void 0 : null === (b10 = t33.size) || void 0 === b10 ? void 0 : b10.x) ? (null == t33 ? void 0 : null === (w10 = t33.size) || void 0 === w10 ? void 0 : w10.x) + (-(null == t33 ? void 0 : null === (k10 = t33.size) || void 0 === k10 ? void 0 : k10.width) / 2 || 0) : -taE, i0.debug("New row in layout for block", t33.id, " and child ", e12.id, a11)), i0.debug(`abc89 layout blocks (child) id: ${e12.id} Pos: ${i11} (px, py) ${s11},${l11} (${null == t33 ? void 0 : null === (v10 = t33.size) || void 0 === v10 ? void 0 : v10.x},${null == t33 ? void 0 : null === (x10 = t33.size) || void 0 === x10 ? void 0 : x10.y}) parent: ${t33.id} width: ${r12}${taE}`), t33.size) {
        let i12 = r12 / 2;
        e12.size.x = n11 + taE + i12, i0.debug(`abc91 layout blocks (calc) px, pyid:${e12.id} startingPos=X${n11} new startingPosX${e12.size.x} ${i12} padding=${taE} width=${r12} halfWidth=${i12} => x:${e12.size.x} y:${e12.size.y} ${e12.widthInColumns} (width * (child?.w || 1)) / 2 ${r12 * (null !== (_10 = null == e12 ? void 0 : e12.widthInColumns) && void 0 !== _10 ? _10 : 1) / 2}`), n11 = e12.size.x + i12, e12.size.y = t33.size.y - t33.size.height / 2 + l11 * (o11 + taE) + o11 / 2 + taE, i0.debug(`abc88 layout blocks (calc) px, pyid:${e12.id}startingPosX${n11}${taE}${i12}=>x:${e12.size.x}y:${e12.size.y}${e12.widthInColumns}(width * (child?.w || 1)) / 2${r12 * (null !== (T10 = null == e12 ? void 0 : e12.widthInColumns) && void 0 !== T10 ? T10 : 1) / 2}`);
      }
      e12.children && taL(e12), i11 += null !== (E10 = null == e12 ? void 0 : e12.widthInColumns) && void 0 !== E10 ? E10 : 1, i0.debug("abc88 columnsPos", e12, i11);
    }
  }
  i0.debug(`layout blocks (<==layoutBlocks) ${t33.id} x: ${null == t33 ? void 0 : null === (a10 = t33.size) || void 0 === a10 ? void 0 : a10.x} y: ${null == t33 ? void 0 : null === (o10 = t33.size) || void 0 === o10 ? void 0 : o10.y} width: ${null == t33 ? void 0 : null === (s10 = t33.size) || void 0 === s10 ? void 0 : s10.width}`);
}
function taN(t33) {
  let { minX: e10, minY: r10, maxX: i10, maxY: n10 } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : { minX: 0, minY: 0, maxX: 0, maxY: 0 };
  if (t33.size && "root" !== t33.id) {
    let { x: a10, y: o10, width: s10, height: l10 } = t33.size;
    a10 - s10 / 2 < e10 && (e10 = a10 - s10 / 2), o10 - l10 / 2 < r10 && (r10 = o10 - l10 / 2), a10 + s10 / 2 > i10 && (i10 = a10 + s10 / 2), o10 + l10 / 2 > n10 && (n10 = o10 + l10 / 2);
  }
  if (t33.children) for (let a10 of t33.children) ({ minX: e10, minY: r10, maxX: i10, maxY: n10 } = taN(a10, { minX: e10, minY: r10, maxX: i10, maxY: n10 }));
  return { minX: e10, minY: r10, maxX: i10, maxY: n10 };
}
function taI(t33) {
  let e10 = t33.getBlock("root");
  if (!e10) return;
  taA(e10, t33, 0, 0), taL(e10), i0.debug("getBlocks", JSON.stringify(e10, null, 2));
  let { minX: r10, minY: i10, maxX: n10, maxY: a10 } = taN(e10);
  return { x: r10, y: i10, width: n10 - r10, height: a10 - i10 };
}
function taM(t33, e10) {
  e10 && t33.attr("style", e10);
}
function taR(t33) {
  let e10 = hl(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject")), r10 = e10.append("xhtml:div"), i10 = t33.label, n10 = t33.isNode ? "nodeLabel" : "edgeLabel", a10 = r10.append("span");
  return a10.html(i10), taM(a10, t33.labelStyle), a10.attr("class", n10), taM(r10, t33.labelStyle), r10.style("display", "inline-block"), r10.style("white-space", "nowrap"), r10.attr("xmlns", "http://www.w3.org/1999/xhtml"), e10.node();
}
iZ(taA, "setBlockSizes"), iZ(taL, "layoutBlocks"), iZ(taN, "findBounds"), iZ(taI, "layout"), iZ(taM, "applyStyle"), iZ(taR, "addHtmlLabel");
var taD = iZ((t33, e10, r10, i10) => {
  let n10 = t33 || "";
  if ("object" == typeof n10 && (n10 = n10[0]), nJ(nM().flowchart.htmlLabels)) return n10 = n10.replace(/\\n|\n/g, "<br />"), i0.debug("vertexText" + n10), taR({ isNode: i10, label: fY(gC(n10)), labelStyle: e10.replace("fill:", "color:") });
  {
    let t34 = document.createElementNS("http://www.w3.org/2000/svg", "text");
    t34.setAttribute("style", e10.replace("color:", "fill:"));
    for (let e11 of "string" == typeof n10 ? n10.split(/\\n|\n|<br\s*\/?>/gi) : Array.isArray(n10) ? n10 : []) {
      let i11 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
      i11.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), i11.setAttribute("dy", "1em"), i11.setAttribute("x", "0"), r10 ? i11.setAttribute("class", "title-row") : i11.setAttribute("class", "row"), i11.textContent = e11.trim(), t34.appendChild(i11);
    }
    return t34;
  }
}, "createLabel"), taO = iZ((t33, e10, r10, i10, n10) => {
  e10.arrowTypeStart && ta$(t33, "start", e10.arrowTypeStart, r10, i10, n10), e10.arrowTypeEnd && ta$(t33, "end", e10.arrowTypeEnd, r10, i10, n10);
}, "addEdgeMarkers"), taP = { arrow_cross: "cross", arrow_point: "point", arrow_barb: "barb", arrow_circle: "circle", aggregation: "aggregation", extension: "extension", composition: "composition", dependency: "dependency", lollipop: "lollipop" }, ta$ = iZ((t33, e10, r10, i10, n10, a10) => {
  let o10 = taP[r10];
  if (!o10) {
    i0.warn(`Unknown arrow type: ${r10}`);
    return;
  }
  t33.attr(`marker-${e10}`, `url(${i10}#${n10}_${a10}-${o10}${"start" === e10 ? "Start" : "End"})`);
}, "addEdgeMarker"), taB = {}, taF = {}, taz = iZ((t33, e10) => {
  let r10;
  let i10 = nM(), n10 = nJ(i10.flowchart.htmlLabels), a10 = "markdown" === e10.labelType ? fH(t33, e10.label, { style: e10.labelStyle, useHtmlLabels: n10, addSvgBackground: true }, i10) : taD(e10.label, e10.labelStyle), o10 = t33.insert("g").attr("class", "edgeLabel"), s10 = o10.insert("g").attr("class", "label");
  s10.node().appendChild(a10);
  let l10 = a10.getBBox();
  if (n10) {
    let t34 = a10.children[0], e11 = hl(a10);
    l10 = t34.getBoundingClientRect(), e11.attr("width", l10.width), e11.attr("height", l10.height);
  }
  if (s10.attr("transform", "translate(" + -l10.width / 2 + ", " + -l10.height / 2 + ")"), taB[e10.id] = o10, e10.width = l10.width, e10.height = l10.height, e10.startLabelLeft) {
    let i11 = taD(e10.startLabelLeft, e10.labelStyle), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), taF[e10.id] || (taF[e10.id] = {}), taF[e10.id].startLeft = n11, taU(r10, e10.startLabelLeft);
  }
  if (e10.startLabelRight) {
    let i11 = taD(e10.startLabelRight, e10.labelStyle), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = n11.node().appendChild(i11), a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), taF[e10.id] || (taF[e10.id] = {}), taF[e10.id].startRight = n11, taU(r10, e10.startLabelRight);
  }
  if (e10.endLabelLeft) {
    let i11 = taD(e10.endLabelLeft, e10.labelStyle), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), n11.node().appendChild(i11), taF[e10.id] || (taF[e10.id] = {}), taF[e10.id].endLeft = n11, taU(r10, e10.endLabelLeft);
  }
  if (e10.endLabelRight) {
    let i11 = taD(e10.endLabelRight, e10.labelStyle), n11 = t33.insert("g").attr("class", "edgeTerminals"), a11 = n11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(i11);
    let o11 = i11.getBBox();
    a11.attr("transform", "translate(" + -o11.width / 2 + ", " + -o11.height / 2 + ")"), n11.node().appendChild(i11), taF[e10.id] || (taF[e10.id] = {}), taF[e10.id].endRight = n11, taU(r10, e10.endLabelRight);
  }
  return a10;
}, "insertEdgeLabel");
function taU(t33, e10) {
  nM().flowchart.htmlLabels && t33 && (t33.style.width = 9 * e10.length + "px", t33.style.height = "12px");
}
iZ(taU, "setTerminalWidth");
var taG = iZ((t33, e10) => {
  i0.debug("Moving label abc88 ", t33.id, t33.label, taB[t33.id], e10);
  let r10 = e10.updatedPath ? e10.updatedPath : e10.originalPath, { subGraphTitleTotalMargin: i10 } = ln(nM());
  if (t33.label) {
    let n10 = taB[t33.id], a10 = t33.x, o10 = t33.y;
    if (r10) {
      let i11 = gT.calcLabelPosition(r10);
      i0.debug("Moving label " + t33.label + " from (", a10, ",", o10, ") to (", i11.x, ",", i11.y, ") abc88"), e10.updatedPath && (a10 = i11.x, o10 = i11.y);
    }
    n10.attr("transform", `translate(${a10}, ${o10 + i10 / 2})`);
  }
  if (t33.startLabelLeft) {
    let e11 = taF[t33.id].startLeft, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeStart ? 10 : 0, "start_left", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
  if (t33.startLabelRight) {
    let e11 = taF[t33.id].startRight, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeStart ? 10 : 0, "start_right", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
  if (t33.endLabelLeft) {
    let e11 = taF[t33.id].endLeft, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeEnd ? 10 : 0, "end_left", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
  if (t33.endLabelRight) {
    let e11 = taF[t33.id].endRight, i11 = t33.x, n10 = t33.y;
    if (r10) {
      let e12 = gT.calcTerminalLabelPosition(t33.arrowTypeEnd ? 10 : 0, "end_right", r10);
      i11 = e12.x, n10 = e12.y;
    }
    e11.attr("transform", `translate(${i11}, ${n10})`);
  }
}, "positionEdgeLabel"), taq = iZ((t33, e10) => {
  let r10 = t33.x, i10 = t33.y, n10 = Math.abs(e10.x - r10), a10 = Math.abs(e10.y - i10), o10 = t33.width / 2, s10 = t33.height / 2;
  return n10 >= o10 || a10 >= s10;
}, "outsideNode"), taY = iZ((t33, e10, r10) => {
  i0.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e10)}
  insidePoint : ${JSON.stringify(r10)}
  node        : x:${t33.x} y:${t33.y} w:${t33.width} h:${t33.height}`);
  let i10 = t33.x, n10 = t33.y, a10 = Math.abs(i10 - r10.x), o10 = t33.width / 2, s10 = r10.x < e10.x ? o10 - a10 : o10 + a10, l10 = t33.height / 2, h10 = Math.abs(e10.y - r10.y), u10 = Math.abs(e10.x - r10.x);
  if (Math.abs(n10 - e10.y) * o10 > Math.abs(i10 - e10.x) * l10) {
    let t34 = r10.y < e10.y ? e10.y - l10 - n10 : n10 - l10 - e10.y;
    s10 = u10 * t34 / h10;
    let i11 = { x: r10.x < e10.x ? r10.x + s10 : r10.x - u10 + s10, y: r10.y < e10.y ? r10.y + h10 - t34 : r10.y - h10 + t34 };
    return 0 === s10 && (i11.x = e10.x, i11.y = e10.y), 0 === u10 && (i11.x = e10.x), 0 === h10 && (i11.y = e10.y), i0.debug(`abc89 topp/bott calc, Q ${h10}, q ${t34}, R ${u10}, r ${s10}`, i11), i11;
  }
  {
    let t34 = h10 * (s10 = r10.x < e10.x ? e10.x - o10 - i10 : i10 - o10 - e10.x) / u10, n11 = r10.x < e10.x ? r10.x + u10 - s10 : r10.x - u10 + s10, a11 = r10.y < e10.y ? r10.y + t34 : r10.y - t34;
    return i0.debug(`sides calc abc89, Q ${h10}, q ${t34}, R ${u10}, r ${s10}`, { _x: n11, _y: a11 }), 0 === s10 && (n11 = e10.x, a11 = e10.y), 0 === u10 && (n11 = e10.x), 0 === h10 && (a11 = e10.y), { x: n11, y: a11 };
  }
}, "intersection"), taH = iZ((t33, e10) => {
  i0.debug("abc88 cutPathAtIntersect", t33, e10);
  let r10 = [], i10 = t33[0], n10 = false;
  return t33.forEach((t34) => {
    if (taq(e10, t34) || n10) i10 = t34, n10 || r10.push(t34);
    else {
      let a10 = taY(e10, i10, t34), o10 = false;
      r10.forEach((t35) => {
        o10 = o10 || t35.x === a10.x && t35.y === a10.y;
      }), r10.some((t35) => t35.x === a10.x && t35.y === a10.y) || r10.push(a10), n10 = true;
    }
  }), r10;
}, "cutPathAtIntersect"), taj = iZ(function(t33, e10, r10, i10, n10, a10, o10) {
  let s10, l10 = r10.points;
  i0.debug("abc88 InsertEdge: edge=", r10, "e=", e10);
  let h10 = false, u10 = a10.node(e10.v);
  var d10 = a10.node(e10.w);
  (null == d10 ? void 0 : d10.intersect) && (null == u10 ? void 0 : u10.intersect) && ((l10 = l10.slice(1, r10.points.length - 1)).unshift(u10.intersect(l10[0])), l10.push(d10.intersect(l10[l10.length - 1]))), r10.toCluster && (i0.debug("to cluster abc88", i10[r10.toCluster]), l10 = taH(r10.points, i10[r10.toCluster].node), h10 = true), r10.fromCluster && (i0.debug("from cluster abc88", i10[r10.fromCluster]), l10 = taH(l10.reverse(), i10[r10.fromCluster].node).reverse(), h10 = true);
  let p10 = l10.filter((t34) => !Number.isNaN(t34.y)), g10 = pC;
  r10.curve && ("graph" === n10 || "flowchart" === n10) && (g10 = r10.curve);
  let { x: f10, y: y10 } = vw(r10), v10 = px().x(f10).y(y10).curve(g10);
  switch (r10.thickness) {
    case "normal":
      s10 = "edge-thickness-normal";
      break;
    case "thick":
    case "invisible":
      s10 = "edge-thickness-thick";
      break;
    default:
      s10 = "";
  }
  switch (r10.pattern) {
    case "solid":
      s10 += " edge-pattern-solid";
      break;
    case "dotted":
      s10 += " edge-pattern-dotted";
      break;
    case "dashed":
      s10 += " edge-pattern-dashed";
  }
  let x10 = t33.append("path").attr("d", v10(p10)).attr("id", r10.id).attr("class", " " + s10 + (r10.classes ? " " + r10.classes : "")).attr("style", r10.style), b10 = "";
  (nM().flowchart.arrowMarkerAbsolute || nM().state.arrowMarkerAbsolute) && (b10 = (b10 = (b10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), taO(x10, r10, b10, o10, n10);
  let w10 = {};
  return h10 && (w10.updatedPath = l10), w10.originalPath = r10.points, w10;
}, "insertEdge"), taW = iZ((t33) => {
  let e10 = /* @__PURE__ */ new Set();
  for (let r10 of t33) switch (r10) {
    case "x":
      e10.add("right"), e10.add("left");
      break;
    case "y":
      e10.add("up"), e10.add("down");
      break;
    default:
      e10.add(r10);
  }
  return e10;
}, "expandAndDeduplicateDirections"), taV = iZ((t33, e10, r10) => {
  let i10 = taW(t33), n10 = e10.height + 2 * r10.padding, a10 = n10 / 2, o10 = e10.width + 2 * a10 + r10.padding, s10 = r10.padding / 2;
  return i10.has("right") && i10.has("left") && i10.has("up") && i10.has("down") ? [{ x: 0, y: 0 }, { x: a10, y: 0 }, { x: o10 / 2, y: 2 * s10 }, { x: o10 - a10, y: 0 }, { x: o10, y: 0 }, { x: o10, y: -n10 / 3 }, { x: o10 + 2 * s10, y: -n10 / 2 }, { x: o10, y: -2 * n10 / 3 }, { x: o10, y: -n10 }, { x: o10 - a10, y: -n10 }, { x: o10 / 2, y: -n10 - 2 * s10 }, { x: a10, y: -n10 }, { x: 0, y: -n10 }, { x: 0, y: -2 * n10 / 3 }, { x: -2 * s10, y: -n10 / 2 }, { x: 0, y: -n10 / 3 }] : i10.has("right") && i10.has("left") && i10.has("up") ? [{ x: a10, y: 0 }, { x: o10 - a10, y: 0 }, { x: o10, y: -n10 / 2 }, { x: o10 - a10, y: -n10 }, { x: a10, y: -n10 }, { x: 0, y: -n10 / 2 }] : i10.has("right") && i10.has("left") && i10.has("down") ? [{ x: 0, y: 0 }, { x: a10, y: -n10 }, { x: o10 - a10, y: -n10 }, { x: o10, y: 0 }] : i10.has("right") && i10.has("up") && i10.has("down") ? [{ x: 0, y: 0 }, { x: o10, y: -a10 }, { x: o10, y: -n10 + a10 }, { x: 0, y: -n10 }] : i10.has("left") && i10.has("up") && i10.has("down") ? [{ x: o10, y: 0 }, { x: 0, y: -a10 }, { x: 0, y: -n10 + a10 }, { x: o10, y: -n10 }] : i10.has("right") && i10.has("left") ? [{ x: a10, y: 0 }, { x: a10, y: -s10 }, { x: o10 - a10, y: -s10 }, { x: o10 - a10, y: 0 }, { x: o10, y: -n10 / 2 }, { x: o10 - a10, y: -n10 }, { x: o10 - a10, y: -n10 + s10 }, { x: a10, y: -n10 + s10 }, { x: a10, y: -n10 }, { x: 0, y: -n10 / 2 }] : i10.has("up") && i10.has("down") ? [{ x: o10 / 2, y: 0 }, { x: 0, y: -s10 }, { x: a10, y: -s10 }, { x: a10, y: -n10 + s10 }, { x: 0, y: -n10 + s10 }, { x: o10 / 2, y: -n10 }, { x: o10, y: -n10 + s10 }, { x: o10 - a10, y: -n10 + s10 }, { x: o10 - a10, y: -s10 }, { x: o10, y: -s10 }] : i10.has("right") && i10.has("up") ? [{ x: 0, y: 0 }, { x: o10, y: -a10 }, { x: 0, y: -n10 }] : i10.has("right") && i10.has("down") ? [{ x: 0, y: 0 }, { x: o10, y: 0 }, { x: 0, y: -n10 }] : i10.has("left") && i10.has("up") ? [{ x: o10, y: 0 }, { x: 0, y: -a10 }, { x: o10, y: -n10 }] : i10.has("left") && i10.has("down") ? [{ x: o10, y: 0 }, { x: 0, y: 0 }, { x: o10, y: -n10 }] : i10.has("right") ? [{ x: a10, y: -s10 }, { x: a10, y: -s10 }, { x: o10 - a10, y: -s10 }, { x: o10 - a10, y: 0 }, { x: o10, y: -n10 / 2 }, { x: o10 - a10, y: -n10 }, { x: o10 - a10, y: -n10 + s10 }, { x: a10, y: -n10 + s10 }, { x: a10, y: -n10 + s10 }] : i10.has("left") ? [{ x: a10, y: 0 }, { x: a10, y: -s10 }, { x: o10 - a10, y: -s10 }, { x: o10 - a10, y: -n10 + s10 }, { x: a10, y: -n10 + s10 }, { x: a10, y: -n10 }, { x: 0, y: -n10 / 2 }] : i10.has("up") ? [{ x: a10, y: -s10 }, { x: a10, y: -n10 + s10 }, { x: 0, y: -n10 + s10 }, { x: o10 / 2, y: -n10 }, { x: o10, y: -n10 + s10 }, { x: o10 - a10, y: -n10 + s10 }, { x: o10 - a10, y: -s10 }] : i10.has("down") ? [{ x: o10 / 2, y: 0 }, { x: 0, y: -s10 }, { x: a10, y: -s10 }, { x: a10, y: -n10 + s10 }, { x: o10 - a10, y: -n10 + s10 }, { x: o10 - a10, y: -s10 }, { x: o10, y: -s10 }] : [{ x: 0, y: 0 }];
}, "getArrowPoints");
function taX(t33, e10, r10, i10) {
  var n10 = t33.x, a10 = t33.y, o10 = n10 - i10.x, s10 = a10 - i10.y, l10 = Math.sqrt(e10 * e10 * s10 * s10 + r10 * r10 * o10 * o10), h10 = Math.abs(e10 * r10 * o10 / l10);
  i10.x < n10 && (h10 = -h10);
  var u10 = Math.abs(e10 * r10 * s10 / l10);
  return i10.y < a10 && (u10 = -u10), { x: n10 + h10, y: a10 + u10 };
}
function taK(t33, e10, r10) {
  return taX(t33, e10, e10, r10);
}
function taZ(t33, e10, r10, i10) {
  var n10, a10, o10, s10, l10, h10, u10, d10, p10, g10, f10, y10, v10;
  if (n10 = e10.y - t33.y, o10 = t33.x - e10.x, l10 = e10.x * t33.y - t33.x * e10.y, p10 = n10 * r10.x + o10 * r10.y + l10, g10 = n10 * i10.x + o10 * i10.y + l10, !(0 !== p10 && 0 !== g10 && taQ(p10, g10)) && (a10 = i10.y - r10.y, s10 = r10.x - i10.x, h10 = i10.x * r10.y - r10.x * i10.y, u10 = a10 * t33.x + s10 * t33.y + h10, d10 = a10 * e10.x + s10 * e10.y + h10, !(0 !== u10 && 0 !== d10 && taQ(u10, d10)) && 0 != (f10 = n10 * s10 - a10 * o10))) return y10 = Math.abs(f10 / 2), { x: (v10 = o10 * h10 - s10 * l10) < 0 ? (v10 - y10) / f10 : (v10 + y10) / f10, y: (v10 = a10 * l10 - n10 * h10) < 0 ? (v10 - y10) / f10 : (v10 + y10) / f10 };
}
function taQ(t33, e10) {
  return t33 * e10 > 0;
}
function taJ(t33, e10, r10) {
  var i10 = t33.x, n10 = t33.y, a10 = [], o10 = Number.POSITIVE_INFINITY, s10 = Number.POSITIVE_INFINITY;
  "function" == typeof e10.forEach ? e10.forEach(function(t34) {
    o10 = Math.min(o10, t34.x), s10 = Math.min(s10, t34.y);
  }) : (o10 = Math.min(o10, e10.x), s10 = Math.min(s10, e10.y));
  for (var l10 = i10 - t33.width / 2 - o10, h10 = n10 - t33.height / 2 - s10, u10 = 0; u10 < e10.length; u10++) {
    var d10 = e10[u10], p10 = e10[u10 < e10.length - 1 ? u10 + 1 : 0], g10 = taZ(t33, r10, { x: l10 + d10.x, y: h10 + d10.y }, { x: l10 + p10.x, y: h10 + p10.y });
    g10 && a10.push(g10);
  }
  return a10.length ? (a10.length > 1 && a10.sort(function(t34, e11) {
    var i11 = t34.x - r10.x, n11 = t34.y - r10.y, a11 = Math.sqrt(i11 * i11 + n11 * n11), o11 = e11.x - r10.x, s11 = e11.y - r10.y, l11 = Math.sqrt(o11 * o11 + s11 * s11);
    return a11 < l11 ? -1 : a11 === l11 ? 0 : 1;
  }), a10[0]) : t33;
}
iZ(function(t33, e10) {
  return t33.intersect(e10);
}, "intersectNode"), iZ(taX, "intersectEllipse"), iZ(taK, "intersectCircle"), iZ(taZ, "intersectLine"), iZ(taQ, "sameSign"), iZ(taJ, "intersectPolygon");
var ta0 = iZ((t33, e10) => {
  var r10, i10, n10 = t33.x, a10 = t33.y, o10 = e10.x - n10, s10 = e10.y - a10, l10 = t33.width / 2, h10 = t33.height / 2;
  return Math.abs(s10) * l10 > Math.abs(o10) * h10 ? (s10 < 0 && (h10 = -h10), r10 = 0 === s10 ? 0 : h10 * o10 / s10, i10 = h10) : (o10 < 0 && (l10 = -l10), r10 = l10, i10 = 0 === o10 ? 0 : l10 * s10 / o10), { x: n10 + r10, y: a10 + i10 };
}, "intersectRect"), ta1 = iZ(async (t33, e10, r10, i10) => {
  let n10, a10, o10;
  let s10 = nM(), l10 = e10.useHtmlLabels || nJ(s10.flowchart.htmlLabels);
  n10 = r10 || "node default";
  let h10 = t33.insert("g").attr("class", n10).attr("id", e10.domId || e10.id), u10 = h10.insert("g").attr("class", "label").attr("style", e10.labelStyle);
  a10 = void 0 === e10.labelText ? "" : "string" == typeof e10.labelText ? e10.labelText : e10.labelText[0];
  let d10 = u10.node(), p10 = (o10 = "markdown" === e10.labelType ? fH(u10, nj(gC(a10), s10), { useHtmlLabels: l10, width: e10.width || s10.flowchart.wrappingWidth, classes: "markdown-node-label" }, s10) : d10.appendChild(taD(nj(gC(a10), s10), e10.labelStyle, false, i10))).getBBox(), g10 = e10.padding / 2;
  if (nJ(s10.flowchart.htmlLabels)) {
    let t34 = o10.children[0], e11 = hl(o10), r11 = t34.getElementsByTagName("img");
    if (r11) {
      let t35 = "" === a10.replace(/<img[^>]*>/g, "").trim();
      await Promise.all([...r11].map((e12) => new Promise((r12) => {
        function i11() {
          if (e12.style.display = "flex", e12.style.flexDirection = "column", t35) {
            let t36 = 5 * parseInt(s10.fontSize ? s10.fontSize : window.getComputedStyle(document.body).fontSize, 10) + "px";
            e12.style.minWidth = t36, e12.style.maxWidth = t36;
          } else e12.style.width = "100%";
          r12(e12);
        }
        iZ(i11, "setupImage"), setTimeout(() => {
          e12.complete && i11();
        }), e12.addEventListener("error", i11), e12.addEventListener("load", i11);
      })));
    }
    p10 = t34.getBoundingClientRect(), e11.attr("width", p10.width), e11.attr("height", p10.height);
  }
  return l10 ? u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")") : u10.attr("transform", "translate(0, " + -p10.height / 2 + ")"), e10.centerLabel && u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")"), u10.insert("rect", ":first-child"), { shapeSvg: h10, bbox: p10, halfPadding: g10, label: u10 };
}, "labelHelper"), ta2 = iZ((t33, e10) => {
  let r10 = e10.node().getBBox();
  t33.width = r10.width, t33.height = r10.height;
}, "updateNodeBounds");
function ta4(t33, e10, r10, i10) {
  return t33.insert("polygon", ":first-child").attr("points", i10.map(function(t34) {
    return t34.x + "," + t34.y;
  }).join(" ")).attr("class", "label-container").attr("transform", "translate(" + -e10 / 2 + "," + r10 / 2 + ")");
}
iZ(ta4, "insertPolygonShape");
var ta5 = iZ(async (t33, e10) => {
  e10.useHtmlLabels || nM().flowchart.htmlLabels || (e10.centerLabel = true);
  let { shapeSvg: r10, bbox: i10, halfPadding: n10 } = await ta1(t33, e10, "node " + e10.classes, true);
  i0.info("Classes = ", e10.classes);
  let a10 = r10.insert("rect", ":first-child");
  return a10.attr("rx", e10.rx).attr("ry", e10.ry).attr("x", -i10.width / 2 - n10).attr("y", -i10.height / 2 - n10).attr("width", i10.width + e10.padding).attr("height", i10.height + e10.padding), ta2(e10, a10), e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, r10;
}, "note"), ta3 = iZ((t33) => t33 ? " " + t33 : "", "formatClass"), ta6 = iZ((t33, e10) => `${e10 || "node default"}${ta3(t33.classes)} ${ta3(t33.class)}`, "getClassesFromNode"), ta7 = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding + (i10.height + e10.padding), a10 = [{ x: n10 / 2, y: 0 }, { x: n10, y: -n10 / 2 }, { x: n10 / 2, y: -n10 }, { x: 0, y: -n10 / 2 }];
  i0.info("Question main (Circle)");
  let o10 = ta4(r10, n10, n10, a10);
  return o10.attr("style", e10.style), ta2(e10, o10), e10.intersect = function(t34) {
    return i0.warn("Intersect called"), taJ(e10, a10, t34);
  }, r10;
}, "question"), ta8 = iZ((t33, e10) => {
  let r10 = t33.insert("g").attr("class", "node default").attr("id", e10.domId || e10.id);
  return r10.insert("polygon", ":first-child").attr("points", [{ x: 0, y: 14 }, { x: 14, y: 0 }, { x: 0, y: -14 }, { x: -14, y: 0 }].map(function(t34) {
    return t34.x + "," + t34.y;
  }).join(" ")).attr("class", "state-start").attr("r", 7).attr("width", 28).attr("height", 28), e10.width = 28, e10.height = 28, e10.intersect = function(t34) {
    return taK(e10, 14, t34);
  }, r10;
}, "choice"), ta9 = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.height + e10.padding, a10 = n10 / 4, o10 = i10.width + 2 * a10 + e10.padding, s10 = [{ x: a10, y: 0 }, { x: o10 - a10, y: 0 }, { x: o10, y: -n10 / 2 }, { x: o10 - a10, y: -n10 }, { x: a10, y: -n10 }, { x: 0, y: -n10 / 2 }], l10 = ta4(r10, o10, n10, s10);
  return l10.attr("style", e10.style), ta2(e10, l10), e10.intersect = function(t34) {
    return taJ(e10, s10, t34);
  }, r10;
}, "hexagon"), tot = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, void 0, true), n10 = i10.height + 2 * e10.padding, a10 = n10 / 2, o10 = i10.width + 2 * a10 + e10.padding, s10 = taV(e10.directions, i10, e10), l10 = ta4(r10, o10, n10, s10);
  return l10.attr("style", e10.style), ta2(e10, l10), e10.intersect = function(t34) {
    return taJ(e10, s10, t34);
  }, r10;
}, "block_arrow"), toe = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding, a10 = i10.height + e10.padding, o10 = [{ x: -a10 / 2, y: 0 }, { x: n10, y: 0 }, { x: n10, y: -a10 }, { x: -a10 / 2, y: -a10 }, { x: 0, y: -a10 / 2 }];
  return ta4(r10, n10, a10, o10).attr("style", e10.style), e10.width = n10 + a10, e10.height = a10, e10.intersect = function(t34) {
    return taJ(e10, o10, t34);
  }, r10;
}, "rect_left_inv_arrow"), tor = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10), true), n10 = i10.width + e10.padding, a10 = i10.height + e10.padding, o10 = [{ x: -2 * a10 / 6, y: 0 }, { x: n10 - a10 / 6, y: 0 }, { x: n10 + 2 * a10 / 6, y: -a10 }, { x: a10 / 6, y: -a10 }], s10 = ta4(r10, n10, a10, o10);
  return s10.attr("style", e10.style), ta2(e10, s10), e10.intersect = function(t34) {
    return taJ(e10, o10, t34);
  }, r10;
}, "lean_right"), toi = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding, a10 = i10.height + e10.padding, o10 = [{ x: 2 * a10 / 6, y: 0 }, { x: n10 + a10 / 6, y: 0 }, { x: n10 - 2 * a10 / 6, y: -a10 }, { x: -a10 / 6, y: -a10 }], s10 = ta4(r10, n10, a10, o10);
  return s10.attr("style", e10.style), ta2(e10, s10), e10.intersect = function(t34) {
    return taJ(e10, o10, t34);
  }, r10;
}, "lean_left"), ton = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding, a10 = i10.height + e10.padding, o10 = [{ x: -2 * a10 / 6, y: 0 }, { x: n10 + 2 * a10 / 6, y: 0 }, { x: n10 - a10 / 6, y: -a10 }, { x: a10 / 6, y: -a10 }], s10 = ta4(r10, n10, a10, o10);
  return s10.attr("style", e10.style), ta2(e10, s10), e10.intersect = function(t34) {
    return taJ(e10, o10, t34);
  }, r10;
}, "trapezoid"), toa = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding, a10 = i10.height + e10.padding, o10 = [{ x: a10 / 6, y: 0 }, { x: n10 - a10 / 6, y: 0 }, { x: n10 + 2 * a10 / 6, y: -a10 }, { x: -2 * a10 / 6, y: -a10 }], s10 = ta4(r10, n10, a10, o10);
  return s10.attr("style", e10.style), ta2(e10, s10), e10.intersect = function(t34) {
    return taJ(e10, o10, t34);
  }, r10;
}, "inv_trapezoid"), too = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding, a10 = i10.height + e10.padding, o10 = [{ x: 0, y: 0 }, { x: n10 + a10 / 2, y: 0 }, { x: n10, y: -a10 / 2 }, { x: n10 + a10 / 2, y: -a10 }, { x: 0, y: -a10 }], s10 = ta4(r10, n10, a10, o10);
  return s10.attr("style", e10.style), ta2(e10, s10), e10.intersect = function(t34) {
    return taJ(e10, o10, t34);
  }, r10;
}, "rect_right_inv_arrow"), tos = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding, a10 = n10 / 2, o10 = a10 / (2.5 + n10 / 50), s10 = i10.height + o10 + e10.padding, l10 = r10.attr("label-offset-y", o10).insert("path", ":first-child").attr("style", e10.style).attr("d", "M 0," + o10 + " a " + a10 + "," + o10 + " 0,0,0 " + n10 + " 0 a " + a10 + "," + o10 + " 0,0,0 " + -n10 + " 0 l 0," + s10 + " a " + a10 + "," + o10 + " 0,0,0 " + n10 + " 0 l 0," + -s10).attr("transform", "translate(" + -n10 / 2 + "," + -(s10 / 2 + o10) + ")");
  return ta2(e10, l10), e10.intersect = function(t34) {
    let r11 = ta0(e10, t34), i11 = r11.x - e10.x;
    if (0 != a10 && (Math.abs(i11) < e10.width / 2 || Math.abs(i11) == e10.width / 2 && Math.abs(r11.y - e10.y) > e10.height / 2 - o10)) {
      let n11 = o10 * o10 * (1 - i11 * i11 / (a10 * a10));
      0 != n11 && (n11 = Math.sqrt(n11)), n11 = o10 - n11, t34.y - e10.y > 0 && (n11 = -n11), r11.y += n11;
    }
    return r11;
  }, r10;
}, "cylinder"), tol = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10, halfPadding: n10 } = await ta1(t33, e10, "node " + e10.classes + " " + e10.class, true), a10 = r10.insert("rect", ":first-child"), o10 = e10.positioned ? e10.width : i10.width + e10.padding, s10 = e10.positioned ? e10.height : i10.height + e10.padding, l10 = e10.positioned ? -o10 / 2 : -i10.width / 2 - n10, h10 = e10.positioned ? -s10 / 2 : -i10.height / 2 - n10;
  if (a10.attr("class", "basic label-container").attr("style", e10.style).attr("rx", e10.rx).attr("ry", e10.ry).attr("x", l10).attr("y", h10).attr("width", o10).attr("height", s10), e10.props) {
    let t34 = new Set(Object.keys(e10.props));
    e10.props.borders && (tou(a10, e10.props.borders, o10, s10), t34.delete("borders")), t34.forEach((t35) => {
      i0.warn(`Unknown node property ${t35}`);
    });
  }
  return ta2(e10, a10), e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, r10;
}, "rect"), toh = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10, halfPadding: n10 } = await ta1(t33, e10, "node " + e10.classes, true), a10 = r10.insert("rect", ":first-child"), o10 = e10.positioned ? e10.width : i10.width + e10.padding, s10 = e10.positioned ? e10.height : i10.height + e10.padding, l10 = e10.positioned ? -o10 / 2 : -i10.width / 2 - n10, h10 = e10.positioned ? -s10 / 2 : -i10.height / 2 - n10;
  if (a10.attr("class", "basic cluster composite label-container").attr("style", e10.style).attr("rx", e10.rx).attr("ry", e10.ry).attr("x", l10).attr("y", h10).attr("width", o10).attr("height", s10), e10.props) {
    let t34 = new Set(Object.keys(e10.props));
    e10.props.borders && (tou(a10, e10.props.borders, o10, s10), t34.delete("borders")), t34.forEach((t35) => {
      i0.warn(`Unknown node property ${t35}`);
    });
  }
  return ta2(e10, a10), e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, r10;
}, "composite"), toc = iZ(async (t33, e10) => {
  let { shapeSvg: r10 } = await ta1(t33, e10, "label", true);
  i0.trace("Classes = ", e10.class);
  let i10 = r10.insert("rect", ":first-child");
  if (i10.attr("width", 0).attr("height", 0), r10.attr("class", "label edgeLabel"), e10.props) {
    let t34 = new Set(Object.keys(e10.props));
    e10.props.borders && (tou(i10, e10.props.borders, 0, 0), t34.delete("borders")), t34.forEach((t35) => {
      i0.warn(`Unknown node property ${t35}`);
    });
  }
  return ta2(e10, i10), e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, r10;
}, "labelRect");
function tou(t33, e10, r10, i10) {
  let n10 = [], a10 = iZ((t34) => {
    n10.push(t34, 0);
  }, "addBorder"), o10 = iZ((t34) => {
    n10.push(0, t34);
  }, "skipBorder");
  e10.includes("t") ? (i0.debug("add top border"), a10(r10)) : o10(r10), e10.includes("r") ? (i0.debug("add right border"), a10(i10)) : o10(i10), e10.includes("b") ? (i0.debug("add bottom border"), a10(r10)) : o10(r10), e10.includes("l") ? (i0.debug("add left border"), a10(i10)) : o10(i10), t33.attr("stroke-dasharray", n10.join(" "));
}
iZ(tou, "applyNodePropertyBorders");
var tod = iZ((t33, e10) => {
  let r10;
  r10 = e10.classes ? "node " + e10.classes : "node default";
  let i10 = t33.insert("g").attr("class", r10).attr("id", e10.domId || e10.id), n10 = i10.insert("rect", ":first-child"), a10 = i10.insert("line"), o10 = i10.insert("g").attr("class", "label"), s10 = e10.labelText.flat ? e10.labelText.flat() : e10.labelText, l10 = "";
  l10 = "object" == typeof s10 ? s10[0] : s10, i0.info("Label text abc79", l10, s10, "object" == typeof s10);
  let h10 = o10.node().appendChild(taD(l10, e10.labelStyle, true, true)), u10 = { width: 0, height: 0 };
  if (nJ(nM().flowchart.htmlLabels)) {
    let t34 = h10.children[0], e11 = hl(h10);
    u10 = t34.getBoundingClientRect(), e11.attr("width", u10.width), e11.attr("height", u10.height);
  }
  i0.info("Text 2", s10);
  let d10 = s10.slice(1, s10.length), p10 = h10.getBBox(), g10 = o10.node().appendChild(taD(d10.join ? d10.join("<br/>") : d10, e10.labelStyle, true, true));
  if (nJ(nM().flowchart.htmlLabels)) {
    let t34 = g10.children[0], e11 = hl(g10);
    u10 = t34.getBoundingClientRect(), e11.attr("width", u10.width), e11.attr("height", u10.height);
  }
  let f10 = e10.padding / 2;
  return hl(g10).attr("transform", "translate( " + (u10.width > p10.width ? 0 : (p10.width - u10.width) / 2) + ", " + (p10.height + f10 + 5) + ")"), hl(h10).attr("transform", "translate( " + (u10.width < p10.width ? 0 : -(p10.width - u10.width) / 2) + ", 0)"), u10 = o10.node().getBBox(), o10.attr("transform", "translate(" + -u10.width / 2 + ", " + (-u10.height / 2 - f10 + 3) + ")"), n10.attr("class", "outer title-state").attr("x", -u10.width / 2 - f10).attr("y", -u10.height / 2 - f10).attr("width", u10.width + e10.padding).attr("height", u10.height + e10.padding), a10.attr("class", "divider").attr("x1", -u10.width / 2 - f10).attr("x2", u10.width / 2 + f10).attr("y1", -u10.height / 2 - f10 + p10.height + f10).attr("y2", -u10.height / 2 - f10 + p10.height + f10), ta2(e10, n10), e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, i10;
}, "rectWithTitle"), top = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.height + e10.padding, a10 = i10.width + n10 / 4 + e10.padding, o10 = r10.insert("rect", ":first-child").attr("style", e10.style).attr("rx", n10 / 2).attr("ry", n10 / 2).attr("x", -a10 / 2).attr("y", -n10 / 2).attr("width", a10).attr("height", n10);
  return ta2(e10, o10), e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, r10;
}, "stadium"), tog = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10, halfPadding: n10 } = await ta1(t33, e10, ta6(e10, void 0), true), a10 = r10.insert("circle", ":first-child");
  return a10.attr("style", e10.style).attr("rx", e10.rx).attr("ry", e10.ry).attr("r", i10.width / 2 + n10).attr("width", i10.width + e10.padding).attr("height", i10.height + e10.padding), i0.info("Circle main"), ta2(e10, a10), e10.intersect = function(t34) {
    return i0.info("Circle intersect", e10, i10.width / 2 + n10, t34), taK(e10, i10.width / 2 + n10, t34);
  }, r10;
}, "circle"), tof = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10, halfPadding: n10 } = await ta1(t33, e10, ta6(e10, void 0), true), a10 = r10.insert("g", ":first-child"), o10 = a10.insert("circle"), s10 = a10.insert("circle");
  return a10.attr("class", e10.class), o10.attr("style", e10.style).attr("rx", e10.rx).attr("ry", e10.ry).attr("r", i10.width / 2 + n10 + 5).attr("width", i10.width + e10.padding + 10).attr("height", i10.height + e10.padding + 10), s10.attr("style", e10.style).attr("rx", e10.rx).attr("ry", e10.ry).attr("r", i10.width / 2 + n10).attr("width", i10.width + e10.padding).attr("height", i10.height + e10.padding), i0.info("DoubleCircle main"), ta2(e10, o10), e10.intersect = function(t34) {
    return i0.info("DoubleCircle intersect", e10, i10.width / 2 + n10 + 5, t34), taK(e10, i10.width / 2 + n10 + 5, t34);
  }, r10;
}, "doublecircle"), tom = iZ(async (t33, e10) => {
  let { shapeSvg: r10, bbox: i10 } = await ta1(t33, e10, ta6(e10, void 0), true), n10 = i10.width + e10.padding, a10 = i10.height + e10.padding, o10 = [{ x: 0, y: 0 }, { x: n10, y: 0 }, { x: n10, y: -a10 }, { x: 0, y: -a10 }, { x: 0, y: 0 }, { x: -8, y: 0 }, { x: n10 + 8, y: 0 }, { x: n10 + 8, y: -a10 }, { x: -8, y: -a10 }, { x: -8, y: 0 }], s10 = ta4(r10, n10, a10, o10);
  return s10.attr("style", e10.style), ta2(e10, s10), e10.intersect = function(t34) {
    return taJ(e10, o10, t34);
  }, r10;
}, "subroutine"), toy = iZ((t33, e10) => {
  let r10 = t33.insert("g").attr("class", "node default").attr("id", e10.domId || e10.id), i10 = r10.insert("circle", ":first-child");
  return i10.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14), ta2(e10, i10), e10.intersect = function(t34) {
    return taK(e10, 7, t34);
  }, r10;
}, "start"), tov = iZ((t33, e10, r10) => {
  let i10 = t33.insert("g").attr("class", "node default").attr("id", e10.domId || e10.id), n10 = 70, a10 = 10;
  return "LR" === r10 && (n10 = 10, a10 = 70), ta2(e10, i10.append("rect").attr("x", -1 * n10 / 2).attr("y", -1 * a10 / 2).attr("width", n10).attr("height", a10).attr("class", "fork-join")), e10.height = e10.height + e10.padding / 2, e10.width = e10.width + e10.padding / 2, e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, i10;
}, "forkJoin"), tox = { rhombus: ta7, composite: toh, question: ta7, rect: tol, labelRect: toc, rectWithTitle: tod, choice: ta8, circle: tog, doublecircle: tof, stadium: top, hexagon: ta9, block_arrow: tot, rect_left_inv_arrow: toe, lean_right: tor, lean_left: toi, trapezoid: ton, inv_trapezoid: toa, rect_right_inv_arrow: too, cylinder: tos, start: toy, end: iZ((t33, e10) => {
  let r10 = t33.insert("g").attr("class", "node default").attr("id", e10.domId || e10.id), i10 = r10.insert("circle", ":first-child"), n10 = r10.insert("circle", ":first-child");
  return n10.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14), i10.attr("class", "state-end").attr("r", 5).attr("width", 10).attr("height", 10), ta2(e10, n10), e10.intersect = function(t34) {
    return taK(e10, 7, t34);
  }, r10;
}, "end"), note: ta5, subroutine: tom, fork: tov, join: tov, class_box: iZ((t33, e10) => {
  var r10;
  let i10;
  let n10 = e10.padding / 2;
  i10 = e10.classes ? "node " + e10.classes : "node default";
  let a10 = t33.insert("g").attr("class", i10).attr("id", e10.domId || e10.id), o10 = a10.insert("rect", ":first-child"), s10 = a10.insert("line"), l10 = a10.insert("line"), h10 = 0, u10 = 4, d10 = a10.insert("g").attr("class", "label"), p10 = 0, g10 = null === (r10 = e10.classData.annotations) || void 0 === r10 ? void 0 : r10[0], f10 = e10.classData.annotations[0] ? "«" + e10.classData.annotations[0] + "»" : "", y10 = d10.node().appendChild(taD(f10, e10.labelStyle, true, true)), v10 = y10.getBBox();
  if (nJ(nM().flowchart.htmlLabels)) {
    let t34 = y10.children[0], e11 = hl(y10);
    v10 = t34.getBoundingClientRect(), e11.attr("width", v10.width), e11.attr("height", v10.height);
  }
  e10.classData.annotations[0] && (u10 += v10.height + 4, h10 += v10.width);
  let x10 = e10.classData.label;
  void 0 !== e10.classData.type && "" !== e10.classData.type && (nM().flowchart.htmlLabels ? x10 += "&lt;" + e10.classData.type + "&gt;" : x10 += "<" + e10.classData.type + ">");
  let b10 = d10.node().appendChild(taD(x10, e10.labelStyle, true, true));
  hl(b10).attr("class", "classTitle");
  let w10 = b10.getBBox();
  if (nJ(nM().flowchart.htmlLabels)) {
    let t34 = b10.children[0], e11 = hl(b10);
    w10 = t34.getBoundingClientRect(), e11.attr("width", w10.width), e11.attr("height", w10.height);
  }
  u10 += w10.height + 4, w10.width > h10 && (h10 = w10.width);
  let k10 = [];
  e10.classData.members.forEach((t34) => {
    let r11 = t34.getDisplayDetails(), i11 = r11.displayText;
    nM().flowchart.htmlLabels && (i11 = i11.replace(/</g, "&lt;").replace(/>/g, "&gt;"));
    let n11 = d10.node().appendChild(taD(i11, r11.cssStyle ? r11.cssStyle : e10.labelStyle, true, true)), a11 = n11.getBBox();
    if (nJ(nM().flowchart.htmlLabels)) {
      let t35 = n11.children[0], e11 = hl(n11);
      a11 = t35.getBoundingClientRect(), e11.attr("width", a11.width), e11.attr("height", a11.height);
    }
    a11.width > h10 && (h10 = a11.width), u10 += a11.height + 4, k10.push(n11);
  }), u10 += 8;
  let _10 = [];
  if (e10.classData.methods.forEach((t34) => {
    let r11 = t34.getDisplayDetails(), i11 = r11.displayText;
    nM().flowchart.htmlLabels && (i11 = i11.replace(/</g, "&lt;").replace(/>/g, "&gt;"));
    let n11 = d10.node().appendChild(taD(i11, r11.cssStyle ? r11.cssStyle : e10.labelStyle, true, true)), a11 = n11.getBBox();
    if (nJ(nM().flowchart.htmlLabels)) {
      let t35 = n11.children[0], e11 = hl(n11);
      a11 = t35.getBoundingClientRect(), e11.attr("width", a11.width), e11.attr("height", a11.height);
    }
    a11.width > h10 && (h10 = a11.width), u10 += a11.height + 4, _10.push(n11);
  }), u10 += 8, g10) {
    let t34 = (h10 - v10.width) / 2;
    hl(y10).attr("transform", "translate( " + (-1 * h10 / 2 + t34) + ", " + -1 * u10 / 2 + ")"), p10 = v10.height + 4;
  }
  let T10 = (h10 - w10.width) / 2;
  return hl(b10).attr("transform", "translate( " + (-1 * h10 / 2 + T10) + ", " + (-1 * u10 / 2 + p10) + ")"), p10 += w10.height + 4, s10.attr("class", "divider").attr("x1", -h10 / 2 - n10).attr("x2", h10 / 2 + n10).attr("y1", -u10 / 2 - n10 + 8 + p10).attr("y2", -u10 / 2 - n10 + 8 + p10), p10 += 8, k10.forEach((t34) => {
    var e11;
    hl(t34).attr("transform", "translate( " + -h10 / 2 + ", " + (-1 * u10 / 2 + p10 + 4) + ")");
    let r11 = null == t34 ? void 0 : t34.getBBox();
    p10 += (null !== (e11 = null == r11 ? void 0 : r11.height) && void 0 !== e11 ? e11 : 0) + 4;
  }), p10 += 8, l10.attr("class", "divider").attr("x1", -h10 / 2 - n10).attr("x2", h10 / 2 + n10).attr("y1", -u10 / 2 - n10 + 8 + p10).attr("y2", -u10 / 2 - n10 + 8 + p10), p10 += 8, _10.forEach((t34) => {
    var e11;
    hl(t34).attr("transform", "translate( " + -h10 / 2 + ", " + (-1 * u10 / 2 + p10) + ")");
    let r11 = null == t34 ? void 0 : t34.getBBox();
    p10 += (null !== (e11 = null == r11 ? void 0 : r11.height) && void 0 !== e11 ? e11 : 0) + 4;
  }), o10.attr("style", e10.style).attr("class", "outer title-state").attr("x", -h10 / 2 - n10).attr("y", -(u10 / 2) - n10).attr("width", h10 + e10.padding).attr("height", u10 + e10.padding), ta2(e10, o10), e10.intersect = function(t34) {
    return ta0(e10, t34);
  }, a10;
}, "class_box") }, tob = {}, tow = iZ(async (t33, e10, r10) => {
  let i10, n10;
  if (e10.link) {
    let a10;
    "sandbox" === nM().securityLevel ? a10 = "_top" : e10.linkTarget && (a10 = e10.linkTarget || "_blank"), i10 = t33.insert("svg:a").attr("xlink:href", e10.link).attr("target", a10), n10 = await tox[e10.shape](i10, e10, r10);
  } else i10 = n10 = await tox[e10.shape](t33, e10, r10);
  return e10.tooltip && n10.attr("title", e10.tooltip), e10.class && n10.attr("class", "node default " + e10.class), tob[e10.id] = i10, e10.haveCallback && tob[e10.id].attr("class", tob[e10.id].attr("class") + " clickable"), i10;
}, "insertNode"), tok = iZ((t33) => {
  let e10 = tob[t33.id];
  i0.trace("Transforming node", t33.diff, t33, "translate(" + (t33.x - t33.width / 2 - 5) + ", " + t33.width / 2 + ")");
  let r10 = t33.diff || 0;
  return t33.clusterNode ? e10.attr("transform", "translate(" + (t33.x + r10 - t33.width / 2) + ", " + (t33.y - t33.height / 2 - 8) + ")") : e10.attr("transform", "translate(" + t33.x + ", " + t33.y + ")"), r10;
}, "positionNode");
function to_(t33, e10) {
  var r10, i10, n10, a10, o10, s10, l10;
  let h10, u10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], d10 = "default";
  ((null == t33 ? void 0 : null === (r10 = t33.classes) || void 0 === r10 ? void 0 : r10.length) || 0) > 0 && (d10 = (null !== (a10 = null == t33 ? void 0 : t33.classes) && void 0 !== a10 ? a10 : []).join(" ")), d10 += " flowchart-label";
  let p10 = 0, g10 = "";
  switch (t33.type) {
    case "round":
      p10 = 5, g10 = "rect";
      break;
    case "composite":
      p10 = 0, g10 = "composite", h10 = 0;
      break;
    case "square":
    case "group":
    default:
      g10 = "rect";
      break;
    case "diamond":
      g10 = "question";
      break;
    case "hexagon":
      g10 = "hexagon";
      break;
    case "block_arrow":
      g10 = "block_arrow";
      break;
    case "odd":
    case "rect_left_inv_arrow":
      g10 = "rect_left_inv_arrow";
      break;
    case "lean_right":
      g10 = "lean_right";
      break;
    case "lean_left":
      g10 = "lean_left";
      break;
    case "trapezoid":
      g10 = "trapezoid";
      break;
    case "inv_trapezoid":
      g10 = "inv_trapezoid";
      break;
    case "circle":
      g10 = "circle";
      break;
    case "ellipse":
      g10 = "ellipse";
      break;
    case "stadium":
      g10 = "stadium";
      break;
    case "subroutine":
      g10 = "subroutine";
      break;
    case "cylinder":
      g10 = "cylinder";
      break;
    case "doublecircle":
      g10 = "doublecircle";
  }
  let f10 = go(null !== (o10 = null == t33 ? void 0 : t33.styles) && void 0 !== o10 ? o10 : []), y10 = t33.label, v10 = null !== (s10 = t33.size) && void 0 !== s10 ? s10 : { width: 0, height: 0, x: 0, y: 0 };
  return { labelStyle: f10.labelStyle, shape: g10, labelText: y10, rx: p10, ry: p10, class: d10, style: f10.style, id: t33.id, directions: t33.directions, width: v10.width, height: v10.height, x: v10.x, y: v10.y, positioned: u10, intersect: void 0, type: t33.type, padding: null !== (l10 = null != h10 ? h10 : null === (n10 = nM()) || void 0 === n10 ? void 0 : null === (i10 = n10.block) || void 0 === i10 ? void 0 : i10.padding) && void 0 !== l10 ? l10 : 0 };
}
async function toT(t33, e10, r10) {
  let i10 = to_(e10, r10, false);
  if ("group" === i10.type) return;
  let n10 = nM(), a10 = await tow(t33, i10, { config: n10 }), o10 = a10.node().getBBox(), s10 = r10.getBlock(i10.id);
  s10.size = { width: o10.width, height: o10.height, x: 0, y: 0, node: a10 }, r10.setBlock(s10), a10.remove();
}
async function toE(t33, e10, r10) {
  let i10 = to_(e10, r10, true);
  if ("space" !== r10.getBlock(i10.id).type) {
    let r11 = nM();
    await tow(t33, i10, { config: r11 }), e10.intersect = null == i10 ? void 0 : i10.intersect, tok(i10);
  }
}
async function toC(t33, e10, r10, i10) {
  for (let n10 of e10) await i10(t33, n10, r10), n10.children && await toC(t33, n10.children, r10, i10);
}
async function toS(t33, e10, r10) {
  await toC(t33, e10, r10, toT);
}
async function toA(t33, e10, r10) {
  await toC(t33, e10, r10, toE);
}
async function toL(t33, e10, r10, i10, n10) {
  let a10 = new Eb({ multigraph: true, compound: true });
  for (let t34 of (a10.setGraph({ rankdir: "TB", nodesep: 10, ranksep: 10, marginx: 8, marginy: 8 }), r10)) t34.size && a10.setNode(t34.id, { width: t34.size.width, height: t34.size.height, intersect: t34.intersect });
  for (let r11 of e10) if (r11.start && r11.end) {
    let e11 = i10.getBlock(r11.start), o10 = i10.getBlock(r11.end);
    if ((null == e11 ? void 0 : e11.size) && (null == o10 ? void 0 : o10.size)) {
      let i11 = e11.size, s10 = o10.size, l10 = [{ x: i11.x, y: i11.y }, { x: i11.x + (s10.x - i11.x) / 2, y: i11.y + (s10.y - i11.y) / 2 }, { x: s10.x, y: s10.y }];
      taj(t33, { v: r11.start, w: r11.end, name: r11.id }, { ...r11, arrowTypeEnd: r11.arrowTypeEnd, arrowTypeStart: r11.arrowTypeStart, points: l10, classes: "edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1" }, void 0, "block", a10, n10), r11.label && (await taz(t33, { ...r11, label: r11.label, labelStyle: "stroke: #333; stroke-width: 1.5px;fill:none;", arrowTypeEnd: r11.arrowTypeEnd, arrowTypeStart: r11.arrowTypeStart, points: l10, classes: "edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1" }), taG({ ...r11, x: l10[1].x, y: l10[1].y }, { originalPath: l10 }));
    }
  }
}
iZ(to_, "getNodeFromBlock"), iZ(toT, "calculateBlockSize"), iZ(toE, "insertBlockPositioned"), iZ(toC, "performOperations"), iZ(toS, "calculateBlockSizes"), iZ(toA, "insertBlocks"), iZ(toL, "insertEdges");
var toN = iZ(function(t33, e10) {
  return e10.db.getClasses();
}, "getClasses");
let toI = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: tnX, db: taf, renderer: { draw: iZ(async function(t33, e10, r10, i10) {
  let n10;
  let { securityLevel: a10, block: o10 } = nM(), s10 = i10.db;
  "sandbox" === a10 && (n10 = hl("#i" + e10));
  let l10 = "sandbox" === a10 ? hl(n10.nodes()[0].contentDocument.body) : hl("body"), h10 = "sandbox" === a10 ? l10.select(`[id="${e10}"]`) : hl(`[id="${e10}"]`);
  tav(h10, ["point", "circle", "cross"], i10.type, e10);
  let u10 = s10.getBlocks(), d10 = s10.getBlocksFlat(), p10 = s10.getEdges(), g10 = h10.insert("g").attr("class", "block");
  await toS(g10, u10, s10);
  let f10 = taI(s10);
  if (await toA(g10, u10, s10), await toL(g10, p10, d10, s10, e10), f10) {
    let t34 = Math.max(1, Math.round(0.125 * (f10.width / f10.height))), e11 = f10.height + t34 + 10, r11 = f10.width + 10, { useMaxWidth: i11 } = o10;
    an(h10, e11, r11, !!i11), i0.debug("Here Bounds", f10, f10), h10.attr("viewBox", `${f10.x - 5} ${f10.y - 5} ${f10.width + 10} ${f10.height + 10}`);
  }
}, "draw"), getClasses: toN }, styles: tay } }, Symbol.toStringTag, { value: "Module" }));
var toM = { exports: {} }, toR = { exports: {} }, toD = { exports: {} };
toD.exports, toR.exports, toM.exports;
let toO = k((rO || (rO = 1, rv = function(t33) {
  var e10, r10;
  return e10 = { 658: (t34) => {
    t34.exports = null != Object.assign ? Object.assign.bind(Object) : function(t35) {
      for (var e11 = arguments.length, r11 = Array(e11 > 1 ? e11 - 1 : 0), i10 = 1; i10 < e11; i10++) r11[i10 - 1] = arguments[i10];
      return r11.forEach(function(e12) {
        Object.keys(e12).forEach(function(r12) {
          return t35[r12] = e12[r12];
        });
      }), t35;
    };
  }, 548: (t34, e11, r11) => {
    var i10 = function(t35, e12) {
      if (Array.isArray(t35)) return t35;
      if (Symbol.iterator in Object(t35)) return function(t36, e13) {
        var r12 = [], i11 = true, n11 = false, a11 = void 0;
        try {
          for (var o10, s10 = t36[Symbol.iterator](); !(i11 = (o10 = s10.next()).done) && (r12.push(o10.value), !e13 || r12.length !== e13); i11 = true) ;
        } catch (t37) {
          n11 = true, a11 = t37;
        } finally {
          try {
            !i11 && s10.return && s10.return();
          } finally {
            if (n11) throw a11;
          }
        }
        return r12;
      }(t35, e12);
      throw TypeError("Invalid attempt to destructure non-iterable instance");
    }, n10 = r11(140).layoutBase.LinkedList, a10 = {};
    a10.getTopMostNodes = function(t35) {
      for (var e12 = {}, r12 = 0; r12 < t35.length; r12++) e12[t35[r12].id()] = true;
      return t35.filter(function(t36, r13) {
        "number" == typeof t36 && (t36 = r13);
        for (var i11 = t36.parent()[0]; null != i11; ) {
          if (e12[i11.id()]) return false;
          i11 = i11.parent()[0];
        }
        return true;
      });
    }, a10.connectComponents = function(t35, e12, r12, i11) {
      var a11 = new n10(), o10 = /* @__PURE__ */ new Set(), s10 = [], l10 = void 0, h10 = void 0, u10 = void 0, d10 = false, p10 = 1, g10 = [], f10 = [];
      do
        !function() {
          var i12 = t35.collection();
          f10.push(i12);
          var n11 = r12[0], y10 = t35.collection();
          for (y10.merge(n11).merge(n11.descendants().intersection(e12)), s10.push(n11), y10.forEach(function(t36) {
            a11.push(t36), o10.add(t36), i12.merge(t36);
          }); 0 != a11.length; ) !function() {
            n11 = a11.shift();
            var h11 = t35.collection();
            n11.neighborhood().nodes().forEach(function(t36) {
              e12.intersection(n11.edgesWith(t36)).length > 0 && h11.merge(t36);
            });
            for (var u11 = 0; u11 < h11.length; u11++) {
              var d11 = h11[u11];
              null == (l10 = r12.intersection(d11.union(d11.ancestors()))) || o10.has(l10[0]) || l10.union(l10.descendants()).forEach(function(t36) {
                a11.push(t36), o10.add(t36), i12.merge(t36), r12.has(t36) && s10.push(t36);
              });
            }
          }();
          if (i12.forEach(function(t36) {
            e12.intersection(t36.connectedEdges()).forEach(function(t37) {
              i12.has(t37.source()) && i12.has(t37.target()) && i12.merge(t37);
            });
          }), s10.length == r12.length && (d10 = true), !d10 || d10 && p10 > 1) {
            u10 = (h10 = s10[0]).connectedEdges().length, s10.forEach(function(t36) {
              t36.connectedEdges().length < u10 && (u10 = t36.connectedEdges().length, h10 = t36);
            }), g10.push(h10.id());
            var v10 = t35.collection();
            v10.merge(s10[0]), s10.forEach(function(t36) {
              v10.merge(t36);
            }), s10 = [], r12 = r12.difference(v10), p10++;
          }
        }();
      while (!d10);
      return i11 && g10.length > 0 && i11.set("dummy" + (i11.size + 1), g10), f10;
    }, a10.relocateComponent = function(t35, e12, r12) {
      if (!r12.fixedNodeConstraint) {
        var n11 = Number.POSITIVE_INFINITY, a11 = Number.NEGATIVE_INFINITY, o10 = Number.POSITIVE_INFINITY, s10 = Number.NEGATIVE_INFINITY;
        if ("draft" == r12.quality) {
          var l10 = true, h10 = false, u10 = void 0;
          try {
            for (var d10, p10 = e12.nodeIndexes[Symbol.iterator](); !(l10 = (d10 = p10.next()).done); l10 = true) {
              var g10 = d10.value, f10 = i10(g10, 2), y10 = f10[0], v10 = f10[1], x10 = r12.cy.getElementById(y10);
              if (x10) {
                var b10 = x10.boundingBox(), w10 = e12.xCoords[v10] - b10.w / 2, k10 = e12.xCoords[v10] + b10.w / 2, _10 = e12.yCoords[v10] - b10.h / 2, T10 = e12.yCoords[v10] + b10.h / 2;
                w10 < n11 && (n11 = w10), k10 > a11 && (a11 = k10), _10 < o10 && (o10 = _10), T10 > s10 && (s10 = T10);
              }
            }
          } catch (t36) {
            h10 = true, u10 = t36;
          } finally {
            try {
              !l10 && p10.return && p10.return();
            } finally {
              if (h10) throw u10;
            }
          }
          var E10 = t35.x - (a11 + n11) / 2, C10 = t35.y - (s10 + o10) / 2;
          e12.xCoords = e12.xCoords.map(function(t36) {
            return t36 + E10;
          }), e12.yCoords = e12.yCoords.map(function(t36) {
            return t36 + C10;
          });
        } else {
          Object.keys(e12).forEach(function(t36) {
            var r13 = e12[t36], i11 = r13.getRect().x, l11 = r13.getRect().x + r13.getRect().width, h11 = r13.getRect().y, u11 = r13.getRect().y + r13.getRect().height;
            i11 < n11 && (n11 = i11), l11 > a11 && (a11 = l11), h11 < o10 && (o10 = h11), u11 > s10 && (s10 = u11);
          });
          var S10 = t35.x - (a11 + n11) / 2, A10 = t35.y - (s10 + o10) / 2;
          Object.keys(e12).forEach(function(t36) {
            var r13 = e12[t36];
            r13.setCenter(r13.getCenterX() + S10, r13.getCenterY() + A10);
          });
        }
      }
    }, a10.calcBoundingBox = function(t35, e12, r12, i11) {
      for (var n11 = Number.MAX_SAFE_INTEGER, a11 = Number.MIN_SAFE_INTEGER, o10 = Number.MAX_SAFE_INTEGER, s10 = Number.MIN_SAFE_INTEGER, l10 = void 0, h10 = void 0, u10 = void 0, d10 = void 0, p10 = t35.descendants().not(":parent"), g10 = p10.length, f10 = 0; f10 < g10; f10++) {
        var y10 = p10[f10];
        l10 = e12[i11.get(y10.id())] - y10.width() / 2, h10 = e12[i11.get(y10.id())] + y10.width() / 2, u10 = r12[i11.get(y10.id())] - y10.height() / 2, d10 = r12[i11.get(y10.id())] + y10.height() / 2, n11 > l10 && (n11 = l10), a11 < h10 && (a11 = h10), o10 > u10 && (o10 = u10), s10 < d10 && (s10 = d10);
      }
      var v10 = {};
      return v10.topLeftX = n11, v10.topLeftY = o10, v10.width = a11 - n11, v10.height = s10 - o10, v10;
    }, a10.calcParentsWithoutChildren = function(t35, e12) {
      var r12 = t35.collection();
      return e12.nodes(":parent").forEach(function(t36) {
        var e13 = false;
        t36.children().forEach(function(t37) {
          "none" != t37.css("display") && (e13 = true);
        }), e13 || r12.merge(t36);
      }), r12;
    }, t34.exports = a10;
  }, 816: (t34, e11, r11) => {
    var i10 = r11(548), n10 = r11(140).CoSELayout, a10 = r11(140).CoSENode, o10 = r11(140).layoutBase.PointD, s10 = r11(140).layoutBase.DimensionD, l10 = r11(140).layoutBase.LayoutConstants, h10 = r11(140).layoutBase.FDLayoutConstants, u10 = r11(140).CoSEConstants;
    t34.exports = { coseLayout: function(t35, e12) {
      var r12 = t35.cy, d10 = t35.eles, p10 = d10.nodes(), g10 = d10.edges(), f10 = void 0, y10 = void 0, v10 = void 0, x10 = {};
      t35.randomize && (f10 = e12.nodeIndexes, y10 = e12.xCoords, v10 = e12.yCoords);
      var b10 = function(t36) {
        return "function" == typeof t36;
      }, w10 = function(t36, e13) {
        return b10(t36) ? t36(e13) : t36;
      }, k10 = i10.calcParentsWithoutChildren(r12, d10);
      null != t35.nestingFactor && (u10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = h10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = t35.nestingFactor), null != t35.gravity && (u10.DEFAULT_GRAVITY_STRENGTH = h10.DEFAULT_GRAVITY_STRENGTH = t35.gravity), null != t35.numIter && (u10.MAX_ITERATIONS = h10.MAX_ITERATIONS = t35.numIter), null != t35.gravityRange && (u10.DEFAULT_GRAVITY_RANGE_FACTOR = h10.DEFAULT_GRAVITY_RANGE_FACTOR = t35.gravityRange), null != t35.gravityCompound && (u10.DEFAULT_COMPOUND_GRAVITY_STRENGTH = h10.DEFAULT_COMPOUND_GRAVITY_STRENGTH = t35.gravityCompound), null != t35.gravityRangeCompound && (u10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = h10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = t35.gravityRangeCompound), null != t35.initialEnergyOnIncremental && (u10.DEFAULT_COOLING_FACTOR_INCREMENTAL = h10.DEFAULT_COOLING_FACTOR_INCREMENTAL = t35.initialEnergyOnIncremental), null != t35.tilingCompareBy && (u10.TILING_COMPARE_BY = t35.tilingCompareBy), "proof" == t35.quality ? l10.QUALITY = 2 : l10.QUALITY = 0, u10.NODE_DIMENSIONS_INCLUDE_LABELS = h10.NODE_DIMENSIONS_INCLUDE_LABELS = l10.NODE_DIMENSIONS_INCLUDE_LABELS = t35.nodeDimensionsIncludeLabels, u10.DEFAULT_INCREMENTAL = h10.DEFAULT_INCREMENTAL = l10.DEFAULT_INCREMENTAL = !t35.randomize, u10.ANIMATE = h10.ANIMATE = l10.ANIMATE = t35.animate, u10.TILE = t35.tile, u10.TILING_PADDING_VERTICAL = "function" == typeof t35.tilingPaddingVertical ? t35.tilingPaddingVertical.call() : t35.tilingPaddingVertical, u10.TILING_PADDING_HORIZONTAL = "function" == typeof t35.tilingPaddingHorizontal ? t35.tilingPaddingHorizontal.call() : t35.tilingPaddingHorizontal, u10.DEFAULT_INCREMENTAL = h10.DEFAULT_INCREMENTAL = l10.DEFAULT_INCREMENTAL = true, u10.PURE_INCREMENTAL = !t35.randomize, l10.DEFAULT_UNIFORM_LEAF_NODE_SIZES = t35.uniformNodeDimensions, "transformed" == t35.step && (u10.TRANSFORM_ON_CONSTRAINT_HANDLING = true, u10.ENFORCE_CONSTRAINTS = false, u10.APPLY_LAYOUT = false), "enforced" == t35.step && (u10.TRANSFORM_ON_CONSTRAINT_HANDLING = false, u10.ENFORCE_CONSTRAINTS = true, u10.APPLY_LAYOUT = false), "cose" == t35.step && (u10.TRANSFORM_ON_CONSTRAINT_HANDLING = false, u10.ENFORCE_CONSTRAINTS = false, u10.APPLY_LAYOUT = true), "all" == t35.step && (t35.randomize ? u10.TRANSFORM_ON_CONSTRAINT_HANDLING = true : u10.TRANSFORM_ON_CONSTRAINT_HANDLING = false, u10.ENFORCE_CONSTRAINTS = true, u10.APPLY_LAYOUT = true), t35.fixedNodeConstraint || t35.alignmentConstraint || t35.relativePlacementConstraint ? u10.TREE_REDUCTION_ON_INCREMENTAL = false : u10.TREE_REDUCTION_ON_INCREMENTAL = true;
      var _10 = new n10(), T10 = _10.newGraphManager();
      return function t36(e13, r13, n11, l11) {
        for (var h11 = r13.length, u11 = 0; u11 < h11; u11++) {
          var d11 = r13[u11], p11 = null;
          0 == d11.intersection(k10).length && (p11 = d11.children());
          var g11 = void 0, b11 = d11.layoutDimensions({ nodeDimensionsIncludeLabels: l11.nodeDimensionsIncludeLabels });
          if (null != d11.outerWidth() && null != d11.outerHeight()) {
            if (l11.randomize) {
              if (d11.isParent()) {
                var _11 = i10.calcBoundingBox(d11, y10, v10, f10);
                g11 = 0 == d11.intersection(k10).length ? e13.add(new a10(n11.graphManager, new o10(_11.topLeftX, _11.topLeftY), new s10(_11.width, _11.height))) : e13.add(new a10(n11.graphManager, new o10(_11.topLeftX, _11.topLeftY), new s10(parseFloat(b11.w), parseFloat(b11.h))));
              } else g11 = e13.add(new a10(n11.graphManager, new o10(y10[f10.get(d11.id())] - b11.w / 2, v10[f10.get(d11.id())] - b11.h / 2), new s10(parseFloat(b11.w), parseFloat(b11.h))));
            } else g11 = e13.add(new a10(n11.graphManager, new o10(d11.position("x") - b11.w / 2, d11.position("y") - b11.h / 2), new s10(parseFloat(b11.w), parseFloat(b11.h))));
          } else g11 = e13.add(new a10(this.graphManager));
          g11.id = d11.data("id"), g11.nodeRepulsion = w10(l11.nodeRepulsion, d11), g11.paddingLeft = parseInt(d11.css("padding")), g11.paddingTop = parseInt(d11.css("padding")), g11.paddingRight = parseInt(d11.css("padding")), g11.paddingBottom = parseInt(d11.css("padding")), l11.nodeDimensionsIncludeLabels && (g11.labelWidth = d11.boundingBox({ includeLabels: true, includeNodes: false, includeOverlays: false }).w, g11.labelHeight = d11.boundingBox({ includeLabels: true, includeNodes: false, includeOverlays: false }).h, g11.labelPosVertical = d11.css("text-valign"), g11.labelPosHorizontal = d11.css("text-halign")), x10[d11.data("id")] = g11, isNaN(g11.rect.x) && (g11.rect.x = 0), isNaN(g11.rect.y) && (g11.rect.y = 0), null != p11 && p11.length > 0 && t36(n11.getGraphManager().add(n11.newGraph(), g11), p11, n11, l11);
        }
      }(T10.addRoot(), i10.getTopMostNodes(p10), _10, t35), function(e13, r13, i11) {
        for (var n11 = 0, a11 = 0, o11 = 0; o11 < i11.length; o11++) {
          var s11 = i11[o11], l11 = x10[s11.data("source")], d11 = x10[s11.data("target")];
          if (l11 && d11 && l11 !== d11 && 0 == l11.getEdgesBetween(d11).length) {
            var p11 = r13.add(e13.newEdge(), l11, d11);
            p11.id = s11.id(), p11.idealLength = w10(t35.idealEdgeLength, s11), p11.edgeElasticity = w10(t35.edgeElasticity, s11), n11 += p11.idealLength, a11++;
          }
        }
        null != t35.idealEdgeLength && (a11 > 0 ? u10.DEFAULT_EDGE_LENGTH = h10.DEFAULT_EDGE_LENGTH = n11 / a11 : b10(t35.idealEdgeLength) ? u10.DEFAULT_EDGE_LENGTH = h10.DEFAULT_EDGE_LENGTH = 50 : u10.DEFAULT_EDGE_LENGTH = h10.DEFAULT_EDGE_LENGTH = t35.idealEdgeLength, u10.MIN_REPULSION_DIST = h10.MIN_REPULSION_DIST = h10.DEFAULT_EDGE_LENGTH / 10, u10.DEFAULT_RADIAL_SEPARATION = h10.DEFAULT_EDGE_LENGTH);
      }(_10, T10, g10), t35.fixedNodeConstraint && (_10.constraints.fixedNodeConstraint = t35.fixedNodeConstraint), t35.alignmentConstraint && (_10.constraints.alignmentConstraint = t35.alignmentConstraint), t35.relativePlacementConstraint && (_10.constraints.relativePlacementConstraint = t35.relativePlacementConstraint), _10.runLayout(), x10;
    } };
  }, 212: (t34, e11, r11) => {
    var i10 = /* @__PURE__ */ function() {
      function t35(t36, e12) {
        for (var r12 = 0; r12 < e12.length; r12++) {
          var i11 = e12[r12];
          i11.enumerable = i11.enumerable || false, i11.configurable = true, "value" in i11 && (i11.writable = true), Object.defineProperty(t36, i11.key, i11);
        }
      }
      return function(e12, r12, i11) {
        return r12 && t35(e12.prototype, r12), i11 && t35(e12, i11), e12;
      };
    }(), n10 = r11(658), a10 = r11(548), o10 = r11(657).spectralLayout, s10 = r11(816).coseLayout, l10 = Object.freeze({ quality: "default", randomize: true, animate: true, animationDuration: 1e3, animationEasing: void 0, fit: true, padding: 30, nodeDimensionsIncludeLabels: false, uniformNodeDimensions: false, packComponents: true, step: "all", samplingType: true, sampleSize: 25, nodeSeparation: 75, piTol: 1e-7, nodeRepulsion: function(t35) {
      return 4500;
    }, idealEdgeLength: function(t35) {
      return 50;
    }, edgeElasticity: function(t35) {
      return 0.45;
    }, nestingFactor: 0.1, gravity: 0.25, numIter: 2500, tile: true, tilingCompareBy: void 0, tilingPaddingVertical: 10, tilingPaddingHorizontal: 10, gravityRangeCompound: 1.5, gravityCompound: 1, gravityRange: 3.8, initialEnergyOnIncremental: 0.3, fixedNodeConstraint: void 0, alignmentConstraint: void 0, relativePlacementConstraint: void 0, ready: function() {
    }, stop: function() {
    } }), h10 = function() {
      function t35(e12) {
        (function(t36, e13) {
          if (!(t36 instanceof e13)) throw TypeError("Cannot call a class as a function");
        })(this, t35), this.options = n10({}, l10, e12);
      }
      return i10(t35, [{ key: "run", value: function() {
        var t36 = this.options, e12 = t36.cy, r12 = t36.eles, i11 = [], n11 = [], l11 = void 0, h11 = [];
        t36.fixedNodeConstraint && (!Array.isArray(t36.fixedNodeConstraint) || 0 == t36.fixedNodeConstraint.length) && (t36.fixedNodeConstraint = void 0), t36.alignmentConstraint && (t36.alignmentConstraint.vertical && (!Array.isArray(t36.alignmentConstraint.vertical) || 0 == t36.alignmentConstraint.vertical.length) && (t36.alignmentConstraint.vertical = void 0), t36.alignmentConstraint.horizontal && (!Array.isArray(t36.alignmentConstraint.horizontal) || 0 == t36.alignmentConstraint.horizontal.length) && (t36.alignmentConstraint.horizontal = void 0)), t36.relativePlacementConstraint && (!Array.isArray(t36.relativePlacementConstraint) || 0 == t36.relativePlacementConstraint.length) && (t36.relativePlacementConstraint = void 0), (t36.fixedNodeConstraint || t36.alignmentConstraint || t36.relativePlacementConstraint) && (t36.tile = false, t36.packComponents = false);
        var u10 = void 0, d10 = false;
        if (e12.layoutUtilities && t36.packComponents && ((u10 = e12.layoutUtilities("get")) || (u10 = e12.layoutUtilities()), d10 = true), r12.nodes().length > 0) {
          if (d10) {
            var p10 = a10.getTopMostNodes(t36.eles.nodes());
            if ((l11 = a10.connectComponents(e12, t36.eles, p10)).forEach(function(t37) {
              var e13 = t37.boundingBox();
              h11.push({ x: e13.x1 + e13.w / 2, y: e13.y1 + e13.h / 2 });
            }), t36.randomize && l11.forEach(function(e13) {
              t36.eles = e13, i11.push(o10(t36));
            }), "default" == t36.quality || "proof" == t36.quality) {
              var g10 = e12.collection();
              if (t36.tile) {
                var f10 = /* @__PURE__ */ new Map(), y10 = 0, v10 = { nodeIndexes: f10, xCoords: [], yCoords: [] }, x10 = [];
                if (l11.forEach(function(t37, e13) {
                  0 == t37.edges().length && (t37.nodes().forEach(function(e14, r13) {
                    g10.merge(t37.nodes()[r13]), e14.isParent() || (v10.nodeIndexes.set(t37.nodes()[r13].id(), y10++), v10.xCoords.push(t37.nodes()[0].position().x), v10.yCoords.push(t37.nodes()[0].position().y));
                  }), x10.push(e13));
                }), g10.length > 1) {
                  var b10 = g10.boundingBox();
                  h11.push({ x: b10.x1 + b10.w / 2, y: b10.y1 + b10.h / 2 }), l11.push(g10), i11.push(v10);
                  for (var w10 = x10.length - 1; w10 >= 0; w10--) l11.splice(x10[w10], 1), i11.splice(x10[w10], 1), h11.splice(x10[w10], 1);
                }
              }
              l11.forEach(function(e13, r13) {
                t36.eles = e13, n11.push(s10(t36, i11[r13])), a10.relocateComponent(h11[r13], n11[r13], t36);
              });
            } else l11.forEach(function(e13, r13) {
              a10.relocateComponent(h11[r13], i11[r13], t36);
            });
            var k10 = /* @__PURE__ */ new Set();
            if (l11.length > 1) {
              var _10 = [], T10 = r12.filter(function(t37) {
                return "none" == t37.css("display");
              });
              l11.forEach(function(e13, r13) {
                var o11 = void 0;
                if ("draft" == t36.quality && (o11 = i11[r13].nodeIndexes), e13.nodes().not(T10).length > 0) {
                  var s11 = {};
                  s11.edges = [], s11.nodes = [];
                  var l12 = void 0;
                  e13.nodes().not(T10).forEach(function(e14) {
                    if ("draft" == t36.quality) {
                      if (e14.isParent()) {
                        var h12 = a10.calcBoundingBox(e14, i11[r13].xCoords, i11[r13].yCoords, o11);
                        s11.nodes.push({ x: h12.topLeftX, y: h12.topLeftY, width: h12.width, height: h12.height });
                      } else l12 = o11.get(e14.id()), s11.nodes.push({ x: i11[r13].xCoords[l12] - e14.boundingbox().w / 2, y: i11[r13].yCoords[l12] - e14.boundingbox().h / 2, width: e14.boundingbox().w, height: e14.boundingbox().h });
                    } else n11[r13][e14.id()] && s11.nodes.push({ x: n11[r13][e14.id()].getLeft(), y: n11[r13][e14.id()].getTop(), width: n11[r13][e14.id()].getWidth(), height: n11[r13][e14.id()].getHeight() });
                  }), e13.edges().forEach(function(e14) {
                    var l13 = e14.source(), h12 = e14.target();
                    if ("none" != l13.css("display") && "none" != h12.css("display")) {
                      if ("draft" == t36.quality) {
                        var u11 = o11.get(l13.id()), d11 = o11.get(h12.id()), p11 = [], g11 = [];
                        if (l13.isParent()) {
                          var f11 = a10.calcBoundingBox(l13, i11[r13].xCoords, i11[r13].yCoords, o11);
                          p11.push(f11.topLeftX + f11.width / 2), p11.push(f11.topLeftY + f11.height / 2);
                        } else p11.push(i11[r13].xCoords[u11]), p11.push(i11[r13].yCoords[u11]);
                        if (h12.isParent()) {
                          var y11 = a10.calcBoundingBox(h12, i11[r13].xCoords, i11[r13].yCoords, o11);
                          g11.push(y11.topLeftX + y11.width / 2), g11.push(y11.topLeftY + y11.height / 2);
                        } else g11.push(i11[r13].xCoords[d11]), g11.push(i11[r13].yCoords[d11]);
                        s11.edges.push({ startX: p11[0], startY: p11[1], endX: g11[0], endY: g11[1] });
                      } else n11[r13][l13.id()] && n11[r13][h12.id()] && s11.edges.push({ startX: n11[r13][l13.id()].getCenterX(), startY: n11[r13][l13.id()].getCenterY(), endX: n11[r13][h12.id()].getCenterX(), endY: n11[r13][h12.id()].getCenterY() });
                    }
                  }), s11.nodes.length > 0 && (_10.push(s11), k10.add(r13));
                }
              });
              var E10 = u10.packComponents(_10, t36.randomize).shifts;
              if ("draft" == t36.quality) i11.forEach(function(t37, e13) {
                var r13 = t37.xCoords.map(function(t38) {
                  return t38 + E10[e13].dx;
                }), i12 = t37.yCoords.map(function(t38) {
                  return t38 + E10[e13].dy;
                });
                t37.xCoords = r13, t37.yCoords = i12;
              });
              else {
                var C10 = 0;
                k10.forEach(function(t37) {
                  Object.keys(n11[t37]).forEach(function(e13) {
                    var r13 = n11[t37][e13];
                    r13.setCenter(r13.getCenterX() + E10[C10].dx, r13.getCenterY() + E10[C10].dy);
                  }), C10++;
                });
              }
            }
          } else {
            var S10 = t36.eles.boundingBox();
            if (h11.push({ x: S10.x1 + S10.w / 2, y: S10.y1 + S10.h / 2 }), t36.randomize) {
              var A10 = o10(t36);
              i11.push(A10);
            }
            "default" == t36.quality || "proof" == t36.quality ? (n11.push(s10(t36, i11[0])), a10.relocateComponent(h11[0], n11[0], t36)) : a10.relocateComponent(h11[0], i11[0], t36);
          }
        }
        var L10 = function(e13, r13) {
          if ("default" == t36.quality || "proof" == t36.quality) {
            "number" == typeof e13 && (e13 = r13);
            var a11 = void 0, o11 = void 0, s11 = e13.data("id");
            return n11.forEach(function(t37) {
              s11 in t37 && (a11 = { x: t37[s11].getRect().getCenterX(), y: t37[s11].getRect().getCenterY() }, o11 = t37[s11]);
            }), t36.nodeDimensionsIncludeLabels && (o11.labelWidth && ("left" == o11.labelPosHorizontal ? a11.x += o11.labelWidth / 2 : "right" == o11.labelPosHorizontal && (a11.x -= o11.labelWidth / 2)), o11.labelHeight && ("top" == o11.labelPosVertical ? a11.y += o11.labelHeight / 2 : "bottom" == o11.labelPosVertical && (a11.y -= o11.labelHeight / 2))), void 0 == a11 && (a11 = { x: e13.position("x"), y: e13.position("y") }), { x: a11.x, y: a11.y };
          }
          var l12 = void 0;
          return i11.forEach(function(t37) {
            var r14 = t37.nodeIndexes.get(e13.id());
            void 0 != r14 && (l12 = { x: t37.xCoords[r14], y: t37.yCoords[r14] });
          }), void 0 == l12 && (l12 = { x: e13.position("x"), y: e13.position("y") }), { x: l12.x, y: l12.y };
        };
        if ("default" == t36.quality || "proof" == t36.quality || t36.randomize) {
          var N10 = a10.calcParentsWithoutChildren(e12, r12), I10 = r12.filter(function(t37) {
            return "none" == t37.css("display");
          });
          t36.eles = r12.not(I10), r12.nodes().not(":parent").not(I10).layoutPositions(this, t36, L10), N10.length > 0 && N10.forEach(function(t37) {
            t37.position(L10(t37));
          });
        } else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.");
      } }]), t35;
    }();
    t34.exports = h10;
  }, 657: (t34, e11, r11) => {
    var i10 = r11(548), n10 = r11(140).layoutBase.Matrix, a10 = r11(140).layoutBase.SVD;
    t34.exports = { spectralLayout: function(t35) {
      var e12 = t35.cy, r12 = t35.eles, o10 = r12.nodes(), s10 = r12.nodes(":parent"), l10 = /* @__PURE__ */ new Map(), h10 = /* @__PURE__ */ new Map(), u10 = /* @__PURE__ */ new Map(), d10 = [], p10 = [], g10 = [], f10 = [], y10 = [], v10 = [], x10 = [], b10 = [], w10 = void 0, k10 = t35.piTol, _10 = t35.samplingType, T10 = t35.nodeSeparation, E10 = void 0, C10 = function() {
        for (var t36 = 0, e13 = 0, r13 = false; e13 < E10; ) {
          t36 = Math.floor(Math.random() * w10), r13 = false;
          for (var i11 = 0; i11 < e13; i11++) if (f10[i11] == t36) {
            r13 = true;
            break;
          }
          !r13 && (f10[e13] = t36, e13++);
        }
      }, S10 = function(t36, e13, r13) {
        for (var i11 = [], n11 = 0, a11 = 0, o11 = 0, s11 = void 0, l11 = [], u11 = 0, p11 = 1, g11 = 0; g11 < w10; g11++) l11[g11] = 1e8;
        for (i11[a11] = t36, l11[t36] = 0; a11 >= n11; ) {
          for (var f11 = d10[o11 = i11[n11++]], x11 = 0; x11 < f11.length; x11++) 1e8 == l11[s11 = h10.get(f11[x11])] && (l11[s11] = l11[o11] + 1, i11[++a11] = s11);
          v10[o11][e13] = l11[o11] * T10;
        }
        if (r13) {
          for (var b11 = 0; b11 < w10; b11++) v10[b11][e13] < y10[b11] && (y10[b11] = v10[b11][e13]);
          for (var k11 = 0; k11 < w10; k11++) y10[k11] > u11 && (u11 = y10[k11], p11 = k11);
        }
        return p11;
      };
      i10.connectComponents(e12, r12, i10.getTopMostNodes(o10), l10), s10.forEach(function(t36) {
        i10.connectComponents(e12, r12, i10.getTopMostNodes(t36.descendants().intersection(r12)), l10);
      });
      for (var A10 = 0, L10 = 0; L10 < o10.length; L10++) o10[L10].isParent() || h10.set(o10[L10].id(), A10++);
      var N10 = true, I10 = false, M10 = void 0;
      try {
        for (var R10, D10 = l10.keys()[Symbol.iterator](); !(N10 = (R10 = D10.next()).done); N10 = true) {
          var O10 = R10.value;
          h10.set(O10, A10++);
        }
      } catch (t36) {
        I10 = true, M10 = t36;
      } finally {
        try {
          !N10 && D10.return && D10.return();
        } finally {
          if (I10) throw M10;
        }
      }
      for (var P10 = 0; P10 < h10.size; P10++) d10[P10] = [];
      s10.forEach(function(t36) {
        for (var e13 = t36.children().intersection(r12); 0 == e13.nodes(":childless").length; ) e13 = e13.nodes()[0].children().intersection(r12);
        var i11 = 0, n11 = e13.nodes(":childless")[0].connectedEdges().length;
        e13.nodes(":childless").forEach(function(t37, e14) {
          t37.connectedEdges().length < n11 && (n11 = t37.connectedEdges().length, i11 = e14);
        }), u10.set(t36.id(), e13.nodes(":childless")[i11].id());
      }), o10.forEach(function(t36) {
        var e13 = void 0;
        e13 = t36.isParent() ? h10.get(u10.get(t36.id())) : h10.get(t36.id()), t36.neighborhood().nodes().forEach(function(i11) {
          r12.intersection(t36.edgesWith(i11)).length > 0 && (i11.isParent() ? d10[e13].push(u10.get(i11.id())) : d10[e13].push(i11.id()));
        });
      });
      var $10 = function(t36) {
        var r13 = h10.get(t36), i11 = void 0;
        l10.get(t36).forEach(function(n11) {
          i11 = e12.getElementById(n11).isParent() ? u10.get(n11) : n11, d10[r13].push(i11), d10[h10.get(i11)].push(t36);
        });
      }, B10 = true, F10 = false, z10 = void 0;
      try {
        for (var U10, G10 = l10.keys()[Symbol.iterator](); !(B10 = (U10 = G10.next()).done); B10 = true) {
          var q10 = U10.value;
          $10(q10);
        }
      } catch (t36) {
        F10 = true, z10 = t36;
      } finally {
        try {
          !B10 && G10.return && G10.return();
        } finally {
          if (F10) throw z10;
        }
      }
      w10 = h10.size;
      if (w10 > 2) {
        E10 = w10 < t35.sampleSize ? w10 : t35.sampleSize;
        for (var Y10 = 0; Y10 < w10; Y10++) v10[Y10] = [];
        for (var H10 = 0; H10 < E10; H10++) b10[H10] = [];
        return "draft" == t35.quality || "all" == t35.step ? (function(t36) {
          var e13 = void 0;
          if (t36) {
            e13 = Math.floor(Math.random() * w10);
            for (var r13 = 0; r13 < w10; r13++) y10[r13] = 1e8;
            for (var i11 = 0; i11 < E10; i11++) f10[i11] = e13, e13 = S10(e13, i11, t36);
          } else {
            C10();
            for (var n11 = 0; n11 < E10; n11++) S10(f10[n11], n11, t36);
          }
          for (var a11 = 0; a11 < w10; a11++) for (var o11 = 0; o11 < E10; o11++) v10[a11][o11] *= v10[a11][o11];
          for (var s11 = 0; s11 < E10; s11++) x10[s11] = [];
          for (var l11 = 0; l11 < E10; l11++) for (var h11 = 0; h11 < E10; h11++) x10[l11][h11] = v10[f10[h11]][l11];
        }(_10), function() {
          for (var t36 = a10.svd(x10), e13 = t36.S, r13 = t36.U, i11 = t36.V, o11 = e13[0] * e13[0] * e13[0], s11 = [], l11 = 0; l11 < E10; l11++) {
            s11[l11] = [];
            for (var h11 = 0; h11 < E10; h11++) s11[l11][h11] = 0, l11 == h11 && (s11[l11][h11] = e13[l11] / (e13[l11] * e13[l11] + o11 / (e13[l11] * e13[l11])));
          }
          b10 = n10.multMat(n10.multMat(i11, s11), n10.transpose(r13));
        }(), function() {
          for (var t36 = void 0, e13 = void 0, r13 = [], i11 = [], a11 = [], o11 = [], s11 = 0; s11 < w10; s11++) r13[s11] = Math.random(), i11[s11] = Math.random();
          r13 = n10.normalize(r13), i11 = n10.normalize(i11);
          for (var l11 = 1e-9, h11 = 1e-9, u11 = void 0; ; ) {
            for (var d11 = 0; d11 < w10; d11++) a11[d11] = r13[d11];
            if (r13 = n10.multGamma(n10.multL(n10.multGamma(a11), v10, b10)), t36 = n10.dotProduct(a11, r13), r13 = n10.normalize(r13), (u11 = Math.abs((l11 = n10.dotProduct(a11, r13)) / h11)) <= 1 + k10 && u11 >= 1) break;
            h11 = l11;
          }
          for (var f11 = 0; f11 < w10; f11++) a11[f11] = r13[f11];
          for (h11 = 1e-9; ; ) {
            for (var y11 = 0; y11 < w10; y11++) o11[y11] = i11[y11];
            if (o11 = n10.minusOp(o11, n10.multCons(a11, n10.dotProduct(a11, o11))), i11 = n10.multGamma(n10.multL(n10.multGamma(o11), v10, b10)), e13 = n10.dotProduct(o11, i11), i11 = n10.normalize(i11), (u11 = Math.abs((l11 = n10.dotProduct(o11, i11)) / h11)) <= 1 + k10 && u11 >= 1) break;
            h11 = l11;
          }
          for (var x11 = 0; x11 < w10; x11++) o11[x11] = i11[x11];
          p10 = n10.multCons(a11, Math.sqrt(Math.abs(t36))), g10 = n10.multCons(o11, Math.sqrt(Math.abs(e13)));
        }()) : h10.forEach(function(t36, r13) {
          p10.push(e12.getElementById(r13).position("x")), g10.push(e12.getElementById(r13).position("y"));
        }), { nodeIndexes: h10, xCoords: p10, yCoords: g10 };
      }
      var j10 = h10.keys(), W10 = e12.getElementById(j10.next().value), V10 = W10.position(), X10 = W10.outerWidth();
      if (p10.push(V10.x), g10.push(V10.y), 2 == w10) {
        var K10 = e12.getElementById(j10.next().value).outerWidth();
        p10.push(V10.x + X10 / 2 + K10 / 2 + t35.idealEdgeLength), g10.push(V10.y);
      }
      return { nodeIndexes: h10, xCoords: p10, yCoords: g10 };
    } };
  }, 579: (t34, e11, r11) => {
    var i10 = r11(212), n10 = function(t35) {
      t35 && t35("layout", "fcose", i10);
    };
    "undefined" != typeof cytoscape && n10(cytoscape), t34.exports = n10;
  }, 140: (e11) => {
    e11.exports = t33;
  } }, r10 = {}, function t34(i10) {
    var n10 = r10[i10];
    if (void 0 !== n10) return n10.exports;
    var a10 = r10[i10] = { exports: {} };
    return e10[i10](a10, a10.exports, t34), a10.exports;
  }(579);
}, toM.exports = rv((rD || (rD = 1, rx = function(t33) {
  var e10, r10;
  return e10 = { 45: (t34, e11, r11) => {
    var i10 = {};
    i10.layoutBase = r11(551), i10.CoSEConstants = r11(806), i10.CoSEEdge = r11(767), i10.CoSEGraph = r11(880), i10.CoSEGraphManager = r11(578), i10.CoSELayout = r11(765), i10.CoSENode = r11(991), i10.ConstraintHandler = r11(902), t34.exports = i10;
  }, 806: (t34, e11, r11) => {
    var i10 = r11(551).FDLayoutConstants;
    function n10() {
    }
    for (var a10 in i10) n10[a10] = i10[a10];
    n10.DEFAULT_USE_MULTI_LEVEL_SCALING = false, n10.DEFAULT_RADIAL_SEPARATION = i10.DEFAULT_EDGE_LENGTH, n10.DEFAULT_COMPONENT_SEPERATION = 60, n10.TILE = true, n10.TILING_PADDING_VERTICAL = 10, n10.TILING_PADDING_HORIZONTAL = 10, n10.TRANSFORM_ON_CONSTRAINT_HANDLING = true, n10.ENFORCE_CONSTRAINTS = true, n10.APPLY_LAYOUT = true, n10.RELAX_MOVEMENT_ON_CONSTRAINTS = true, n10.TREE_REDUCTION_ON_INCREMENTAL = true, n10.PURE_INCREMENTAL = n10.DEFAULT_INCREMENTAL, t34.exports = n10;
  }, 767: (t34, e11, r11) => {
    var i10 = r11(551).FDLayoutEdge;
    function n10(t35, e12, r12) {
      i10.call(this, t35, e12, r12);
    }
    for (var a10 in n10.prototype = Object.create(i10.prototype), i10) n10[a10] = i10[a10];
    t34.exports = n10;
  }, 880: (t34, e11, r11) => {
    var i10 = r11(551).LGraph;
    function n10(t35, e12, r12) {
      i10.call(this, t35, e12, r12);
    }
    for (var a10 in n10.prototype = Object.create(i10.prototype), i10) n10[a10] = i10[a10];
    t34.exports = n10;
  }, 578: (t34, e11, r11) => {
    var i10 = r11(551).LGraphManager;
    function n10(t35) {
      i10.call(this, t35);
    }
    for (var a10 in n10.prototype = Object.create(i10.prototype), i10) n10[a10] = i10[a10];
    t34.exports = n10;
  }, 765: (t34, e11, r11) => {
    var i10 = r11(551).FDLayout, n10 = r11(578), a10 = r11(880), o10 = r11(991), s10 = r11(767), l10 = r11(806), h10 = r11(902), u10 = r11(551).FDLayoutConstants, d10 = r11(551).LayoutConstants, p10 = r11(551).Point, g10 = r11(551).PointD, f10 = r11(551).DimensionD, y10 = r11(551).Layout, v10 = r11(551).Integer, x10 = r11(551).IGeometry, b10 = r11(551).LGraph, w10 = r11(551).Transform, k10 = r11(551).LinkedList;
    function _10() {
      i10.call(this), this.toBeTiled = {}, this.constraints = {};
    }
    for (var T10 in _10.prototype = Object.create(i10.prototype), i10) _10[T10] = i10[T10];
    _10.prototype.newGraphManager = function() {
      var t35 = new n10(this);
      return this.graphManager = t35, t35;
    }, _10.prototype.newGraph = function(t35) {
      return new a10(null, this.graphManager, t35);
    }, _10.prototype.newNode = function(t35) {
      return new o10(this.graphManager, t35);
    }, _10.prototype.newEdge = function(t35) {
      return new s10(null, null, t35);
    }, _10.prototype.initParameters = function() {
      i10.prototype.initParameters.call(this, arguments), this.isSubLayout || (l10.DEFAULT_EDGE_LENGTH < 10 ? this.idealEdgeLength = 10 : this.idealEdgeLength = l10.DEFAULT_EDGE_LENGTH, this.useSmartIdealEdgeLengthCalculation = l10.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION, this.gravityConstant = u10.DEFAULT_GRAVITY_STRENGTH, this.compoundGravityConstant = u10.DEFAULT_COMPOUND_GRAVITY_STRENGTH, this.gravityRangeFactor = u10.DEFAULT_GRAVITY_RANGE_FACTOR, this.compoundGravityRangeFactor = u10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR, this.prunedNodesAll = [], this.growTreeIterations = 0, this.afterGrowthIterations = 0, this.isTreeGrowing = false, this.isGrowthFinished = false);
    }, _10.prototype.initSpringEmbedder = function() {
      i10.prototype.initSpringEmbedder.call(this), this.coolingCycle = 0, this.maxCoolingCycle = this.maxIterations / u10.CONVERGENCE_CHECK_PERIOD, this.finalTemperature = 0.04, this.coolingAdjuster = 1;
    }, _10.prototype.layout = function() {
      return d10.DEFAULT_CREATE_BENDS_AS_NEEDED && (this.createBendpoints(), this.graphManager.resetAllEdges()), this.level = 0, this.classicLayout();
    }, _10.prototype.classicLayout = function() {
      if (this.nodesWithGravity = this.calculateNodesToApplyGravitationTo(), this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity), this.calcNoOfChildrenForAllNodes(), this.graphManager.calcLowestCommonAncestors(), this.graphManager.calcInclusionTreeDepths(), this.graphManager.getRoot().calcEstimatedSize(), this.calcIdealEdgeLengths(), this.incremental) {
        if (l10.TREE_REDUCTION_ON_INCREMENTAL) {
          this.reduceTrees(), this.graphManager.resetAllNodesToApplyGravitation();
          var t35 = new Set(this.getAllNodes()), e12 = this.nodesWithGravity.filter(function(e13) {
            return t35.has(e13);
          });
          this.graphManager.setAllNodesToApplyGravitation(e12);
        }
      } else {
        var r12 = this.getFlatForest();
        if (r12.length > 0) this.positionNodesRadially(r12);
        else {
          this.reduceTrees(), this.graphManager.resetAllNodesToApplyGravitation();
          var t35 = new Set(this.getAllNodes()), e12 = this.nodesWithGravity.filter(function(e13) {
            return t35.has(e13);
          });
          this.graphManager.setAllNodesToApplyGravitation(e12), this.positionNodesRandomly();
        }
      }
      return Object.keys(this.constraints).length > 0 && (h10.handleConstraints(this), this.initConstraintVariables()), this.initSpringEmbedder(), l10.APPLY_LAYOUT && this.runSpringEmbedder(), true;
    }, _10.prototype.tick = function() {
      if (this.totalIterations++, this.totalIterations === this.maxIterations && !this.isTreeGrowing && !this.isGrowthFinished) {
        if (!(this.prunedNodesAll.length > 0)) return true;
        this.isTreeGrowing = true;
      }
      if (this.totalIterations % u10.CONVERGENCE_CHECK_PERIOD == 0 && !this.isTreeGrowing && !this.isGrowthFinished) {
        if (this.isConverged()) {
          if (!(this.prunedNodesAll.length > 0)) return true;
          this.isTreeGrowing = true;
        }
        this.coolingCycle++, 0 == this.layoutQuality ? this.coolingAdjuster = this.coolingCycle : 1 == this.layoutQuality && (this.coolingAdjuster = this.coolingCycle / 3), this.coolingFactor = Math.max(this.initialCoolingFactor - Math.pow(this.coolingCycle, Math.log(100 * (this.initialCoolingFactor - this.finalTemperature)) / Math.log(this.maxCoolingCycle)) / 100 * this.coolingAdjuster, this.finalTemperature), this.animationPeriod = Math.ceil(this.initialAnimationPeriod * Math.sqrt(this.coolingFactor));
      }
      if (this.isTreeGrowing) {
        if (this.growTreeIterations % 10 == 0) {
          if (this.prunedNodesAll.length > 0) {
            this.graphManager.updateBounds(), this.updateGrid(), this.growTree(this.prunedNodesAll), this.graphManager.resetAllNodesToApplyGravitation();
            var t35 = new Set(this.getAllNodes()), e12 = this.nodesWithGravity.filter(function(e13) {
              return t35.has(e13);
            });
            this.graphManager.setAllNodesToApplyGravitation(e12), this.graphManager.updateBounds(), this.updateGrid(), l10.PURE_INCREMENTAL ? this.coolingFactor = u10.DEFAULT_COOLING_FACTOR_INCREMENTAL / 2 : this.coolingFactor = u10.DEFAULT_COOLING_FACTOR_INCREMENTAL;
          } else this.isTreeGrowing = false, this.isGrowthFinished = true;
        }
        this.growTreeIterations++;
      }
      if (this.isGrowthFinished) {
        if (this.isConverged()) return true;
        this.afterGrowthIterations % 10 == 0 && (this.graphManager.updateBounds(), this.updateGrid()), l10.PURE_INCREMENTAL ? this.coolingFactor = u10.DEFAULT_COOLING_FACTOR_INCREMENTAL / 2 * ((100 - this.afterGrowthIterations) / 100) : this.coolingFactor = u10.DEFAULT_COOLING_FACTOR_INCREMENTAL * ((100 - this.afterGrowthIterations) / 100), this.afterGrowthIterations++;
      }
      var r12 = !this.isTreeGrowing && !this.isGrowthFinished, i11 = this.growTreeIterations % 10 == 1 && this.isTreeGrowing || this.afterGrowthIterations % 10 == 1 && this.isGrowthFinished;
      return this.totalDisplacement = 0, this.graphManager.updateBounds(), this.calcSpringForces(), this.calcRepulsionForces(r12, i11), this.calcGravitationalForces(), this.moveNodes(), this.animate(), false;
    }, _10.prototype.getPositionsData = function() {
      for (var t35 = this.graphManager.getAllNodes(), e12 = {}, r12 = 0; r12 < t35.length; r12++) {
        var i11 = t35[r12].rect, n11 = t35[r12].id;
        e12[n11] = { id: n11, x: i11.getCenterX(), y: i11.getCenterY(), w: i11.width, h: i11.height };
      }
      return e12;
    }, _10.prototype.runSpringEmbedder = function() {
      this.initialAnimationPeriod = 25, this.animationPeriod = this.initialAnimationPeriod;
      var t35 = false;
      if ("during" === u10.ANIMATE) this.emit("layoutstarted");
      else {
        for (; !t35; ) t35 = this.tick();
        this.graphManager.updateBounds();
      }
    }, _10.prototype.moveNodes = function() {
      for (var t35 = this.getAllNodes(), e12 = 0; e12 < t35.length; e12++) (0, t35[e12]).calculateDisplacement();
      Object.keys(this.constraints).length > 0 && this.updateDisplacements();
      for (var e12 = 0; e12 < t35.length; e12++) (0, t35[e12]).move();
    }, _10.prototype.initConstraintVariables = function() {
      var t35 = this;
      this.idToNodeMap = /* @__PURE__ */ new Map(), this.fixedNodeSet = /* @__PURE__ */ new Set();
      for (var e12 = this.graphManager.getAllNodes(), r12 = 0; r12 < e12.length; r12++) {
        var i11 = e12[r12];
        this.idToNodeMap.set(i11.id, i11);
      }
      if (this.constraints.fixedNodeConstraint) {
        this.constraints.fixedNodeConstraint.forEach(function(e13) {
          t35.fixedNodeSet.add(e13.nodeId);
        });
        for (var i11, e12 = this.graphManager.getAllNodes(), r12 = 0; r12 < e12.length; r12++) if (null != (i11 = e12[r12]).getChild()) {
          var n11 = function e13(r13) {
            for (var i12, n12 = r13.getChild().getNodes(), a12 = 0, o12 = 0; o12 < n12.length; o12++) null == (i12 = n12[o12]).getChild() ? t35.fixedNodeSet.has(i12.id) && (a12 += 100) : a12 += e13(i12);
            return a12;
          }(i11);
          n11 > 0 && (i11.fixedNodeWeight = n11);
        }
      }
      if (this.constraints.relativePlacementConstraint) {
        var a11 = /* @__PURE__ */ new Map(), o11 = /* @__PURE__ */ new Map();
        if (this.dummyToNodeForVerticalAlignment = /* @__PURE__ */ new Map(), this.dummyToNodeForHorizontalAlignment = /* @__PURE__ */ new Map(), this.fixedNodesOnHorizontal = /* @__PURE__ */ new Set(), this.fixedNodesOnVertical = /* @__PURE__ */ new Set(), this.fixedNodeSet.forEach(function(e13) {
          t35.fixedNodesOnHorizontal.add(e13), t35.fixedNodesOnVertical.add(e13);
        }), this.constraints.alignmentConstraint) {
          if (this.constraints.alignmentConstraint.vertical) for (var s11 = this.constraints.alignmentConstraint.vertical, r12 = 0; r12 < s11.length; r12++) this.dummyToNodeForVerticalAlignment.set("dummy" + r12, []), s11[r12].forEach(function(e13) {
            a11.set(e13, "dummy" + r12), t35.dummyToNodeForVerticalAlignment.get("dummy" + r12).push(e13), t35.fixedNodeSet.has(e13) && t35.fixedNodesOnHorizontal.add("dummy" + r12);
          });
          if (this.constraints.alignmentConstraint.horizontal) for (var h11 = this.constraints.alignmentConstraint.horizontal, r12 = 0; r12 < h11.length; r12++) this.dummyToNodeForHorizontalAlignment.set("dummy" + r12, []), h11[r12].forEach(function(e13) {
            o11.set(e13, "dummy" + r12), t35.dummyToNodeForHorizontalAlignment.get("dummy" + r12).push(e13), t35.fixedNodeSet.has(e13) && t35.fixedNodesOnVertical.add("dummy" + r12);
          });
        }
        if (l10.RELAX_MOVEMENT_ON_CONSTRAINTS) this.shuffle = function(t36) {
          var e13, r13, i12;
          for (i12 = t36.length - 1; i12 >= 2 * t36.length / 3; i12--) e13 = Math.floor(Math.random() * (i12 + 1)), r13 = t36[i12], t36[i12] = t36[e13], t36[e13] = r13;
          return t36;
        }, this.nodesInRelativeHorizontal = [], this.nodesInRelativeVertical = [], this.nodeToRelativeConstraintMapHorizontal = /* @__PURE__ */ new Map(), this.nodeToRelativeConstraintMapVertical = /* @__PURE__ */ new Map(), this.nodeToTempPositionMapHorizontal = /* @__PURE__ */ new Map(), this.nodeToTempPositionMapVertical = /* @__PURE__ */ new Map(), this.constraints.relativePlacementConstraint.forEach(function(e13) {
          if (e13.left) {
            var r13 = a11.has(e13.left) ? a11.get(e13.left) : e13.left, i12 = a11.has(e13.right) ? a11.get(e13.right) : e13.right;
            t35.nodesInRelativeHorizontal.includes(r13) || (t35.nodesInRelativeHorizontal.push(r13), t35.nodeToRelativeConstraintMapHorizontal.set(r13, []), t35.dummyToNodeForVerticalAlignment.has(r13) ? t35.nodeToTempPositionMapHorizontal.set(r13, t35.idToNodeMap.get(t35.dummyToNodeForVerticalAlignment.get(r13)[0]).getCenterX()) : t35.nodeToTempPositionMapHorizontal.set(r13, t35.idToNodeMap.get(r13).getCenterX())), t35.nodesInRelativeHorizontal.includes(i12) || (t35.nodesInRelativeHorizontal.push(i12), t35.nodeToRelativeConstraintMapHorizontal.set(i12, []), t35.dummyToNodeForVerticalAlignment.has(i12) ? t35.nodeToTempPositionMapHorizontal.set(i12, t35.idToNodeMap.get(t35.dummyToNodeForVerticalAlignment.get(i12)[0]).getCenterX()) : t35.nodeToTempPositionMapHorizontal.set(i12, t35.idToNodeMap.get(i12).getCenterX())), t35.nodeToRelativeConstraintMapHorizontal.get(r13).push({ right: i12, gap: e13.gap }), t35.nodeToRelativeConstraintMapHorizontal.get(i12).push({ left: r13, gap: e13.gap });
          } else {
            var n12 = o11.has(e13.top) ? o11.get(e13.top) : e13.top, s12 = o11.has(e13.bottom) ? o11.get(e13.bottom) : e13.bottom;
            t35.nodesInRelativeVertical.includes(n12) || (t35.nodesInRelativeVertical.push(n12), t35.nodeToRelativeConstraintMapVertical.set(n12, []), t35.dummyToNodeForHorizontalAlignment.has(n12) ? t35.nodeToTempPositionMapVertical.set(n12, t35.idToNodeMap.get(t35.dummyToNodeForHorizontalAlignment.get(n12)[0]).getCenterY()) : t35.nodeToTempPositionMapVertical.set(n12, t35.idToNodeMap.get(n12).getCenterY())), t35.nodesInRelativeVertical.includes(s12) || (t35.nodesInRelativeVertical.push(s12), t35.nodeToRelativeConstraintMapVertical.set(s12, []), t35.dummyToNodeForHorizontalAlignment.has(s12) ? t35.nodeToTempPositionMapVertical.set(s12, t35.idToNodeMap.get(t35.dummyToNodeForHorizontalAlignment.get(s12)[0]).getCenterY()) : t35.nodeToTempPositionMapVertical.set(s12, t35.idToNodeMap.get(s12).getCenterY())), t35.nodeToRelativeConstraintMapVertical.get(n12).push({ bottom: s12, gap: e13.gap }), t35.nodeToRelativeConstraintMapVertical.get(s12).push({ top: n12, gap: e13.gap });
          }
        });
        else {
          var u11 = /* @__PURE__ */ new Map(), d11 = /* @__PURE__ */ new Map();
          this.constraints.relativePlacementConstraint.forEach(function(t36) {
            if (t36.left) {
              var e13 = a11.has(t36.left) ? a11.get(t36.left) : t36.left, r13 = a11.has(t36.right) ? a11.get(t36.right) : t36.right;
              u11.has(e13) ? u11.get(e13).push(r13) : u11.set(e13, [r13]), u11.has(r13) ? u11.get(r13).push(e13) : u11.set(r13, [e13]);
            } else {
              var i12 = o11.has(t36.top) ? o11.get(t36.top) : t36.top, n12 = o11.has(t36.bottom) ? o11.get(t36.bottom) : t36.bottom;
              d11.has(i12) ? d11.get(i12).push(n12) : d11.set(i12, [n12]), d11.has(n12) ? d11.get(n12).push(i12) : d11.set(n12, [i12]);
            }
          });
          var p11 = function(t36, e13) {
            var r13 = [], i12 = [], n12 = new k10(), a12 = /* @__PURE__ */ new Set(), o12 = 0;
            return t36.forEach(function(s12, l11) {
              if (!a12.has(l11)) {
                r13[o12] = [], i12[o12] = false;
                var h12 = l11;
                for (n12.push(h12), a12.add(h12), r13[o12].push(h12); 0 != n12.length; ) h12 = n12.shift(), e13.has(h12) && (i12[o12] = true), t36.get(h12).forEach(function(t37) {
                  a12.has(t37) || (n12.push(t37), a12.add(t37), r13[o12].push(t37));
                });
                o12++;
              }
            }), { components: r13, isFixed: i12 };
          }, g11 = p11(u11, t35.fixedNodesOnHorizontal);
          this.componentsOnHorizontal = g11.components, this.fixedComponentsOnHorizontal = g11.isFixed;
          var f11 = p11(d11, t35.fixedNodesOnVertical);
          this.componentsOnVertical = f11.components, this.fixedComponentsOnVertical = f11.isFixed;
        }
      }
    }, _10.prototype.updateDisplacements = function() {
      var t35 = this;
      if (this.constraints.fixedNodeConstraint && this.constraints.fixedNodeConstraint.forEach(function(e13) {
        var r13 = t35.idToNodeMap.get(e13.nodeId);
        r13.displacementX = 0, r13.displacementY = 0;
      }), this.constraints.alignmentConstraint) {
        if (this.constraints.alignmentConstraint.vertical) for (var e12 = this.constraints.alignmentConstraint.vertical, r12 = 0; r12 < e12.length; r12++) {
          for (var i11 = 0, n11 = 0; n11 < e12[r12].length; n11++) {
            if (this.fixedNodeSet.has(e12[r12][n11])) {
              i11 = 0;
              break;
            }
            i11 += this.idToNodeMap.get(e12[r12][n11]).displacementX;
          }
          for (var a11 = i11 / e12[r12].length, n11 = 0; n11 < e12[r12].length; n11++) this.idToNodeMap.get(e12[r12][n11]).displacementX = a11;
        }
        if (this.constraints.alignmentConstraint.horizontal) for (var o11 = this.constraints.alignmentConstraint.horizontal, r12 = 0; r12 < o11.length; r12++) {
          for (var s11 = 0, n11 = 0; n11 < o11[r12].length; n11++) {
            if (this.fixedNodeSet.has(o11[r12][n11])) {
              s11 = 0;
              break;
            }
            s11 += this.idToNodeMap.get(o11[r12][n11]).displacementY;
          }
          for (var h11 = s11 / o11[r12].length, n11 = 0; n11 < o11[r12].length; n11++) this.idToNodeMap.get(o11[r12][n11]).displacementY = h11;
        }
      }
      if (this.constraints.relativePlacementConstraint) {
        if (l10.RELAX_MOVEMENT_ON_CONSTRAINTS) this.totalIterations % 10 == 0 && (this.shuffle(this.nodesInRelativeHorizontal), this.shuffle(this.nodesInRelativeVertical)), this.nodesInRelativeHorizontal.forEach(function(e13) {
          if (!t35.fixedNodesOnHorizontal.has(e13)) {
            var r13 = 0;
            r13 = t35.dummyToNodeForVerticalAlignment.has(e13) ? t35.idToNodeMap.get(t35.dummyToNodeForVerticalAlignment.get(e13)[0]).displacementX : t35.idToNodeMap.get(e13).displacementX, t35.nodeToRelativeConstraintMapHorizontal.get(e13).forEach(function(i12) {
              if (i12.right) {
                var n12 = t35.nodeToTempPositionMapHorizontal.get(i12.right) - t35.nodeToTempPositionMapHorizontal.get(e13) - r13;
                n12 < i12.gap && (r13 -= i12.gap - n12);
              } else {
                var n12 = t35.nodeToTempPositionMapHorizontal.get(e13) - t35.nodeToTempPositionMapHorizontal.get(i12.left) + r13;
                n12 < i12.gap && (r13 += i12.gap - n12);
              }
            }), t35.nodeToTempPositionMapHorizontal.set(e13, t35.nodeToTempPositionMapHorizontal.get(e13) + r13), t35.dummyToNodeForVerticalAlignment.has(e13) ? t35.dummyToNodeForVerticalAlignment.get(e13).forEach(function(e14) {
              t35.idToNodeMap.get(e14).displacementX = r13;
            }) : t35.idToNodeMap.get(e13).displacementX = r13;
          }
        }), this.nodesInRelativeVertical.forEach(function(e13) {
          if (!t35.fixedNodesOnHorizontal.has(e13)) {
            var r13 = 0;
            r13 = t35.dummyToNodeForHorizontalAlignment.has(e13) ? t35.idToNodeMap.get(t35.dummyToNodeForHorizontalAlignment.get(e13)[0]).displacementY : t35.idToNodeMap.get(e13).displacementY, t35.nodeToRelativeConstraintMapVertical.get(e13).forEach(function(i12) {
              if (i12.bottom) {
                var n12 = t35.nodeToTempPositionMapVertical.get(i12.bottom) - t35.nodeToTempPositionMapVertical.get(e13) - r13;
                n12 < i12.gap && (r13 -= i12.gap - n12);
              } else {
                var n12 = t35.nodeToTempPositionMapVertical.get(e13) - t35.nodeToTempPositionMapVertical.get(i12.top) + r13;
                n12 < i12.gap && (r13 += i12.gap - n12);
              }
            }), t35.nodeToTempPositionMapVertical.set(e13, t35.nodeToTempPositionMapVertical.get(e13) + r13), t35.dummyToNodeForHorizontalAlignment.has(e13) ? t35.dummyToNodeForHorizontalAlignment.get(e13).forEach(function(e14) {
              t35.idToNodeMap.get(e14).displacementY = r13;
            }) : t35.idToNodeMap.get(e13).displacementY = r13;
          }
        });
        else {
          for (var r12 = 0; r12 < this.componentsOnHorizontal.length; r12++) {
            var u11 = this.componentsOnHorizontal[r12];
            if (this.fixedComponentsOnHorizontal[r12]) for (var n11 = 0; n11 < u11.length; n11++) this.dummyToNodeForVerticalAlignment.has(u11[n11]) ? this.dummyToNodeForVerticalAlignment.get(u11[n11]).forEach(function(e13) {
              t35.idToNodeMap.get(e13).displacementX = 0;
            }) : this.idToNodeMap.get(u11[n11]).displacementX = 0;
            else {
              for (var d11 = 0, p11 = 0, n11 = 0; n11 < u11.length; n11++) if (this.dummyToNodeForVerticalAlignment.has(u11[n11])) {
                var g11 = this.dummyToNodeForVerticalAlignment.get(u11[n11]);
                d11 += g11.length * this.idToNodeMap.get(g11[0]).displacementX, p11 += g11.length;
              } else d11 += this.idToNodeMap.get(u11[n11]).displacementX, p11++;
              for (var f11 = d11 / p11, n11 = 0; n11 < u11.length; n11++) this.dummyToNodeForVerticalAlignment.has(u11[n11]) ? this.dummyToNodeForVerticalAlignment.get(u11[n11]).forEach(function(e13) {
                t35.idToNodeMap.get(e13).displacementX = f11;
              }) : this.idToNodeMap.get(u11[n11]).displacementX = f11;
            }
          }
          for (var r12 = 0; r12 < this.componentsOnVertical.length; r12++) {
            var u11 = this.componentsOnVertical[r12];
            if (this.fixedComponentsOnVertical[r12]) for (var n11 = 0; n11 < u11.length; n11++) this.dummyToNodeForHorizontalAlignment.has(u11[n11]) ? this.dummyToNodeForHorizontalAlignment.get(u11[n11]).forEach(function(e13) {
              t35.idToNodeMap.get(e13).displacementY = 0;
            }) : this.idToNodeMap.get(u11[n11]).displacementY = 0;
            else {
              for (var d11 = 0, p11 = 0, n11 = 0; n11 < u11.length; n11++) if (this.dummyToNodeForHorizontalAlignment.has(u11[n11])) {
                var g11 = this.dummyToNodeForHorizontalAlignment.get(u11[n11]);
                d11 += g11.length * this.idToNodeMap.get(g11[0]).displacementY, p11 += g11.length;
              } else d11 += this.idToNodeMap.get(u11[n11]).displacementY, p11++;
              for (var f11 = d11 / p11, n11 = 0; n11 < u11.length; n11++) this.dummyToNodeForHorizontalAlignment.has(u11[n11]) ? this.dummyToNodeForHorizontalAlignment.get(u11[n11]).forEach(function(e13) {
                t35.idToNodeMap.get(e13).displacementY = f11;
              }) : this.idToNodeMap.get(u11[n11]).displacementY = f11;
            }
          }
        }
      }
    }, _10.prototype.calculateNodesToApplyGravitationTo = function() {
      var t35, e12, r12 = [], i11 = this.graphManager.getGraphs(), n11 = i11.length;
      for (e12 = 0; e12 < n11; e12++) (t35 = i11[e12]).updateConnected(), t35.isConnected || (r12 = r12.concat(t35.getNodes()));
      return r12;
    }, _10.prototype.createBendpoints = function() {
      var t35 = [];
      t35 = t35.concat(this.graphManager.getAllEdges());
      var e12 = /* @__PURE__ */ new Set();
      for (a11 = 0; a11 < t35.length; a11++) {
        var r12 = t35[a11];
        if (!e12.has(r12)) {
          var i11 = r12.getSource(), n11 = r12.getTarget();
          if (i11 == n11) r12.getBendpoints().push(new g10()), r12.getBendpoints().push(new g10()), this.createDummyNodesForBendpoints(r12), e12.add(r12);
          else {
            var a11, o11, s11 = [];
            if (s11 = (s11 = s11.concat(i11.getEdgeListToNode(n11))).concat(n11.getEdgeListToNode(i11)), !e12.has(s11[0])) {
              if (s11.length > 1) for (o11 = 0; o11 < s11.length; o11++) {
                var l11 = s11[o11];
                l11.getBendpoints().push(new g10()), this.createDummyNodesForBendpoints(l11);
              }
              s11.forEach(function(t36) {
                e12.add(t36);
              });
            }
          }
        }
        if (e12.size == t35.length) break;
      }
    }, _10.prototype.positionNodesRadially = function(t35) {
      for (var e12 = new p10(0, 0), r12 = Math.ceil(Math.sqrt(t35.length)), i11 = 0, n11 = 0, a11 = 0, o11 = new g10(0, 0), s11 = 0; s11 < t35.length; s11++) {
        s11 % r12 == 0 && (a11 = 0, n11 = i11, 0 != s11 && (n11 += l10.DEFAULT_COMPONENT_SEPERATION), i11 = 0);
        var h11 = t35[s11], u11 = y10.findCenterOfTree(h11);
        e12.x = a11, e12.y = n11, (o11 = _10.radialLayout(h11, u11, e12)).y > i11 && (i11 = Math.floor(o11.y)), a11 = Math.floor(o11.x + l10.DEFAULT_COMPONENT_SEPERATION);
      }
      this.transform(new g10(d10.WORLD_CENTER_X - o11.x / 2, d10.WORLD_CENTER_Y - o11.y / 2));
    }, _10.radialLayout = function(t35, e12, r12) {
      var i11 = Math.max(this.maxDiagonalInTree(t35), l10.DEFAULT_RADIAL_SEPARATION);
      _10.branchRadialLayout(e12, null, 0, 359, 0, i11);
      var n11 = b10.calculateBounds(t35), a11 = new w10();
      a11.setDeviceOrgX(n11.getMinX()), a11.setDeviceOrgY(n11.getMinY()), a11.setWorldOrgX(r12.x), a11.setWorldOrgY(r12.y);
      for (var o11 = 0; o11 < t35.length; o11++) t35[o11].transform(a11);
      var s11 = new g10(n11.getMaxX(), n11.getMaxY());
      return a11.inverseTransformPoint(s11);
    }, _10.branchRadialLayout = function(t35, e12, r12, i11, n11, a11) {
      var o11, s11 = (i11 - r12 + 1) / 2;
      s11 < 0 && (s11 += 180);
      var l11 = (s11 + r12) % 360 * x10.TWO_PI / 360, h11 = n11 * Math.cos(l11), u11 = n11 * Math.sin(l11);
      t35.setCenter(h11, u11);
      var d11 = [], p11 = (d11 = d11.concat(t35.getEdges())).length;
      null != e12 && p11--;
      for (var g11 = 0, f11 = d11.length, y11 = t35.getEdgesBetween(e12); y11.length > 1; ) {
        var v11 = y11[0];
        y11.splice(0, 1);
        var b11 = d11.indexOf(v11);
        b11 >= 0 && d11.splice(b11, 1), f11--, p11--;
      }
      o11 = null != e12 ? (d11.indexOf(y11[0]) + 1) % f11 : 0;
      for (var w11 = Math.abs(i11 - r12) / p11, k11 = o11; g11 != p11; k11 = ++k11 % f11) {
        var T11 = d11[k11].getOtherEnd(t35);
        if (T11 != e12) {
          var E10 = (r12 + g11 * w11) % 360, C10 = (E10 + w11) % 360;
          _10.branchRadialLayout(T11, t35, E10, C10, n11 + a11, a11), g11++;
        }
      }
    }, _10.maxDiagonalInTree = function(t35) {
      for (var e12 = v10.MIN_VALUE, r12 = 0; r12 < t35.length; r12++) {
        var i11 = t35[r12].getDiagonal();
        i11 > e12 && (e12 = i11);
      }
      return e12;
    }, _10.prototype.calcRepulsionRange = function() {
      return 2 * (this.level + 1) * this.idealEdgeLength;
    }, _10.prototype.groupZeroDegreeMembers = function() {
      var t35 = this, e12 = {};
      this.memberGroups = {}, this.idToDummyNode = {};
      for (var r12 = [], i11 = this.graphManager.getAllNodes(), n11 = 0; n11 < i11.length; n11++) {
        var a11 = i11[n11], s11 = a11.getParent();
        0 !== this.getNodeDegreeWithChildren(a11) || void 0 != s11.id && this.getToBeTiled(s11) || r12.push(a11);
      }
      for (var n11 = 0; n11 < r12.length; n11++) {
        var a11 = r12[n11], l11 = a11.getParent().id;
        void 0 === e12[l11] && (e12[l11] = []), e12[l11] = e12[l11].concat(a11);
      }
      Object.keys(e12).forEach(function(r13) {
        if (e12[r13].length > 1) {
          var i12 = "DummyCompound_" + r13;
          t35.memberGroups[i12] = e12[r13];
          var n12 = e12[r13][0].getParent(), a12 = new o10(t35.graphManager);
          a12.id = i12, a12.paddingLeft = n12.paddingLeft || 0, a12.paddingRight = n12.paddingRight || 0, a12.paddingBottom = n12.paddingBottom || 0, a12.paddingTop = n12.paddingTop || 0, t35.idToDummyNode[i12] = a12;
          var s12 = t35.getGraphManager().add(t35.newGraph(), a12), l12 = n12.getChild();
          l12.add(a12);
          for (var h11 = 0; h11 < e12[r13].length; h11++) {
            var u11 = e12[r13][h11];
            l12.remove(u11), s12.add(u11);
          }
        }
      });
    }, _10.prototype.clearCompounds = function() {
      var t35 = {}, e12 = {};
      this.performDFSOnCompounds();
      for (var r12 = 0; r12 < this.compoundOrder.length; r12++) e12[this.compoundOrder[r12].id] = this.compoundOrder[r12], t35[this.compoundOrder[r12].id] = [].concat(this.compoundOrder[r12].getChild().getNodes()), this.graphManager.remove(this.compoundOrder[r12].getChild()), this.compoundOrder[r12].child = null;
      this.graphManager.resetAllNodes(), this.tileCompoundMembers(t35, e12);
    }, _10.prototype.clearZeroDegreeMembers = function() {
      var t35 = this, e12 = this.tiledZeroDegreePack = [];
      Object.keys(this.memberGroups).forEach(function(r12) {
        var i11 = t35.idToDummyNode[r12];
        if (e12[r12] = t35.tileNodes(t35.memberGroups[r12], i11.paddingLeft + i11.paddingRight), i11.rect.width = e12[r12].width, i11.rect.height = e12[r12].height, i11.setCenter(e12[r12].centerX, e12[r12].centerY), i11.labelMarginLeft = 0, i11.labelMarginTop = 0, l10.NODE_DIMENSIONS_INCLUDE_LABELS) {
          var n11 = i11.rect.width, a11 = i11.rect.height;
          i11.labelWidth && ("left" == i11.labelPosHorizontal ? (i11.rect.x -= i11.labelWidth, i11.setWidth(n11 + i11.labelWidth), i11.labelMarginLeft = i11.labelWidth) : "center" == i11.labelPosHorizontal && i11.labelWidth > n11 ? (i11.rect.x -= (i11.labelWidth - n11) / 2, i11.setWidth(i11.labelWidth), i11.labelMarginLeft = (i11.labelWidth - n11) / 2) : "right" == i11.labelPosHorizontal && i11.setWidth(n11 + i11.labelWidth)), i11.labelHeight && ("top" == i11.labelPosVertical ? (i11.rect.y -= i11.labelHeight, i11.setHeight(a11 + i11.labelHeight), i11.labelMarginTop = i11.labelHeight) : "center" == i11.labelPosVertical && i11.labelHeight > a11 ? (i11.rect.y -= (i11.labelHeight - a11) / 2, i11.setHeight(i11.labelHeight), i11.labelMarginTop = (i11.labelHeight - a11) / 2) : "bottom" == i11.labelPosVertical && i11.setHeight(a11 + i11.labelHeight));
        }
      });
    }, _10.prototype.repopulateCompounds = function() {
      for (var t35 = this.compoundOrder.length - 1; t35 >= 0; t35--) {
        var e12 = this.compoundOrder[t35], r12 = e12.id, i11 = e12.paddingLeft, n11 = e12.paddingTop, a11 = e12.labelMarginLeft, o11 = e12.labelMarginTop;
        this.adjustLocations(this.tiledMemberPack[r12], e12.rect.x, e12.rect.y, i11, n11, a11, o11);
      }
    }, _10.prototype.repopulateZeroDegreeMembers = function() {
      var t35 = this, e12 = this.tiledZeroDegreePack;
      Object.keys(e12).forEach(function(r12) {
        var i11 = t35.idToDummyNode[r12], n11 = i11.paddingLeft, a11 = i11.paddingTop, o11 = i11.labelMarginLeft, s11 = i11.labelMarginTop;
        t35.adjustLocations(e12[r12], i11.rect.x, i11.rect.y, n11, a11, o11, s11);
      });
    }, _10.prototype.getToBeTiled = function(t35) {
      var e12 = t35.id;
      if (null != this.toBeTiled[e12]) return this.toBeTiled[e12];
      var r12 = t35.getChild();
      if (null == r12) return this.toBeTiled[e12] = false, false;
      for (var i11 = r12.getNodes(), n11 = 0; n11 < i11.length; n11++) {
        var a11 = i11[n11];
        if (this.getNodeDegree(a11) > 0) return this.toBeTiled[e12] = false, false;
        if (null == a11.getChild()) {
          this.toBeTiled[a11.id] = false;
          continue;
        }
        if (!this.getToBeTiled(a11)) return this.toBeTiled[e12] = false, false;
      }
      return this.toBeTiled[e12] = true, true;
    }, _10.prototype.getNodeDegree = function(t35) {
      t35.id;
      for (var e12 = t35.getEdges(), r12 = 0, i11 = 0; i11 < e12.length; i11++) {
        var n11 = e12[i11];
        n11.getSource().id !== n11.getTarget().id && (r12 += 1);
      }
      return r12;
    }, _10.prototype.getNodeDegreeWithChildren = function(t35) {
      var e12 = this.getNodeDegree(t35);
      if (null == t35.getChild()) return e12;
      for (var r12 = t35.getChild().getNodes(), i11 = 0; i11 < r12.length; i11++) {
        var n11 = r12[i11];
        e12 += this.getNodeDegreeWithChildren(n11);
      }
      return e12;
    }, _10.prototype.performDFSOnCompounds = function() {
      this.compoundOrder = [], this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes());
    }, _10.prototype.fillCompexOrderByDFS = function(t35) {
      for (var e12 = 0; e12 < t35.length; e12++) {
        var r12 = t35[e12];
        null != r12.getChild() && this.fillCompexOrderByDFS(r12.getChild().getNodes()), this.getToBeTiled(r12) && this.compoundOrder.push(r12);
      }
    }, _10.prototype.adjustLocations = function(t35, e12, r12, i11, n11, a11, o11) {
      e12 += i11 + a11, r12 += n11 + o11;
      for (var s11 = e12, l11 = 0; l11 < t35.rows.length; l11++) {
        var h11 = t35.rows[l11];
        e12 = s11;
        for (var u11 = 0, d11 = 0; d11 < h11.length; d11++) {
          var p11 = h11[d11];
          p11.rect.x = e12, p11.rect.y = r12, e12 += p11.rect.width + t35.horizontalPadding, p11.rect.height > u11 && (u11 = p11.rect.height);
        }
        r12 += u11 + t35.verticalPadding;
      }
    }, _10.prototype.tileCompoundMembers = function(t35, e12) {
      var r12 = this;
      this.tiledMemberPack = [], Object.keys(t35).forEach(function(i11) {
        var n11 = e12[i11];
        if (r12.tiledMemberPack[i11] = r12.tileNodes(t35[i11], n11.paddingLeft + n11.paddingRight), n11.rect.width = r12.tiledMemberPack[i11].width, n11.rect.height = r12.tiledMemberPack[i11].height, n11.setCenter(r12.tiledMemberPack[i11].centerX, r12.tiledMemberPack[i11].centerY), n11.labelMarginLeft = 0, n11.labelMarginTop = 0, l10.NODE_DIMENSIONS_INCLUDE_LABELS) {
          var a11 = n11.rect.width, o11 = n11.rect.height;
          n11.labelWidth && ("left" == n11.labelPosHorizontal ? (n11.rect.x -= n11.labelWidth, n11.setWidth(a11 + n11.labelWidth), n11.labelMarginLeft = n11.labelWidth) : "center" == n11.labelPosHorizontal && n11.labelWidth > a11 ? (n11.rect.x -= (n11.labelWidth - a11) / 2, n11.setWidth(n11.labelWidth), n11.labelMarginLeft = (n11.labelWidth - a11) / 2) : "right" == n11.labelPosHorizontal && n11.setWidth(a11 + n11.labelWidth)), n11.labelHeight && ("top" == n11.labelPosVertical ? (n11.rect.y -= n11.labelHeight, n11.setHeight(o11 + n11.labelHeight), n11.labelMarginTop = n11.labelHeight) : "center" == n11.labelPosVertical && n11.labelHeight > o11 ? (n11.rect.y -= (n11.labelHeight - o11) / 2, n11.setHeight(n11.labelHeight), n11.labelMarginTop = (n11.labelHeight - o11) / 2) : "bottom" == n11.labelPosVertical && n11.setHeight(o11 + n11.labelHeight));
        }
      });
    }, _10.prototype.tileNodes = function(t35, e12) {
      var r12 = this.tileNodesByFavoringDim(t35, e12, true), i11 = this.tileNodesByFavoringDim(t35, e12, false), n11 = this.getOrgRatio(r12);
      return this.getOrgRatio(i11) < n11 ? i11 : r12;
    }, _10.prototype.getOrgRatio = function(t35) {
      var e12 = t35.width / t35.height;
      return e12 < 1 && (e12 = 1 / e12), e12;
    }, _10.prototype.calcIdealRowWidth = function(t35, e12) {
      var r12, i11 = l10.TILING_PADDING_VERTICAL, n11 = l10.TILING_PADDING_HORIZONTAL, a11 = t35.length, o11 = 0, s11 = 0, h11 = 0;
      t35.forEach(function(t36) {
        o11 += t36.getWidth(), s11 += t36.getHeight(), t36.getWidth() > h11 && (h11 = t36.getWidth());
      });
      var u11 = o11 / a11, d11 = Math.pow(i11 - n11, 2) + 4 * (u11 + n11) * (s11 / a11 + i11) * a11, p11 = (n11 - i11 + Math.sqrt(d11)) / (2 * (u11 + n11));
      e12 ? (r12 = Math.ceil(p11)) == p11 && r12++ : r12 = Math.floor(p11);
      var g11 = r12 * (u11 + n11) - n11;
      return h11 > g11 && (g11 = h11), g11 += 2 * n11;
    }, _10.prototype.tileNodesByFavoringDim = function(t35, e12, r12) {
      var i11 = l10.TILING_PADDING_VERTICAL, n11 = l10.TILING_PADDING_HORIZONTAL, a11 = l10.TILING_COMPARE_BY, o11 = { rows: [], rowWidth: [], rowHeight: [], width: 0, height: e12, verticalPadding: i11, horizontalPadding: n11, centerX: 0, centerY: 0 };
      a11 && (o11.idealRowWidth = this.calcIdealRowWidth(t35, r12));
      var s11 = function(t36) {
        return t36.rect.width * t36.rect.height;
      }, h11 = function(t36, e13) {
        return s11(e13) - s11(t36);
      };
      t35.sort(function(t36, e13) {
        var r13 = h11;
        return o11.idealRowWidth ? (r13 = a11)(t36.id, e13.id) : r13(t36, e13);
      });
      for (var u11 = 0, d11 = 0, p11 = 0; p11 < t35.length; p11++) {
        var g11 = t35[p11];
        u11 += g11.getCenterX(), d11 += g11.getCenterY();
      }
      o11.centerX = u11 / t35.length, o11.centerY = d11 / t35.length;
      for (var p11 = 0; p11 < t35.length; p11++) {
        var g11 = t35[p11];
        if (0 == o11.rows.length) this.insertNodeToRow(o11, g11, 0, e12);
        else if (this.canAddHorizontal(o11, g11.rect.width, g11.rect.height)) {
          var f11 = o11.rows.length - 1;
          o11.idealRowWidth || (f11 = this.getShortestRowIndex(o11)), this.insertNodeToRow(o11, g11, f11, e12);
        } else this.insertNodeToRow(o11, g11, o11.rows.length, e12);
        this.shiftToLastRow(o11);
      }
      return o11;
    }, _10.prototype.insertNodeToRow = function(t35, e12, r12, i11) {
      r12 == t35.rows.length && (t35.rows.push([]), t35.rowWidth.push(i11), t35.rowHeight.push(0));
      var n11 = t35.rowWidth[r12] + e12.rect.width;
      t35.rows[r12].length > 0 && (n11 += t35.horizontalPadding), t35.rowWidth[r12] = n11, t35.width < n11 && (t35.width = n11);
      var a11 = e12.rect.height;
      r12 > 0 && (a11 += t35.verticalPadding);
      var o11 = 0;
      a11 > t35.rowHeight[r12] && (o11 = t35.rowHeight[r12], t35.rowHeight[r12] = a11, o11 = t35.rowHeight[r12] - o11), t35.height += o11, t35.rows[r12].push(e12);
    }, _10.prototype.getShortestRowIndex = function(t35) {
      for (var e12 = -1, r12 = Number.MAX_VALUE, i11 = 0; i11 < t35.rows.length; i11++) t35.rowWidth[i11] < r12 && (e12 = i11, r12 = t35.rowWidth[i11]);
      return e12;
    }, _10.prototype.getLongestRowIndex = function(t35) {
      for (var e12 = -1, r12 = Number.MIN_VALUE, i11 = 0; i11 < t35.rows.length; i11++) t35.rowWidth[i11] > r12 && (e12 = i11, r12 = t35.rowWidth[i11]);
      return e12;
    }, _10.prototype.canAddHorizontal = function(t35, e12, r12) {
      if (t35.idealRowWidth) {
        var i11, n11, a11 = t35.rows.length - 1;
        return t35.rowWidth[a11] + e12 + t35.horizontalPadding <= t35.idealRowWidth;
      }
      var o11 = this.getShortestRowIndex(t35);
      if (o11 < 0) return true;
      var s11 = t35.rowWidth[o11];
      if (s11 + t35.horizontalPadding + e12 <= t35.width) return true;
      var l11 = 0;
      return t35.rowHeight[o11] < r12 && o11 > 0 && (l11 = r12 + t35.verticalPadding - t35.rowHeight[o11]), i11 = t35.width - s11 >= e12 + t35.horizontalPadding ? (t35.height + l11) / (s11 + e12 + t35.horizontalPadding) : (t35.height + l11) / t35.width, l11 = r12 + t35.verticalPadding, (n11 = t35.width < e12 ? (t35.height + l11) / e12 : (t35.height + l11) / t35.width) < 1 && (n11 = 1 / n11), i11 < 1 && (i11 = 1 / i11), i11 < n11;
    }, _10.prototype.shiftToLastRow = function(t35) {
      var e12 = this.getLongestRowIndex(t35), r12 = t35.rowWidth.length - 1, i11 = t35.rows[e12], n11 = i11[i11.length - 1], a11 = n11.width + t35.horizontalPadding;
      if (t35.width - t35.rowWidth[r12] > a11 && e12 != r12) {
        i11.splice(-1, 1), t35.rows[r12].push(n11), t35.rowWidth[e12] = t35.rowWidth[e12] - a11, t35.rowWidth[r12] = t35.rowWidth[r12] + a11, t35.width = t35.rowWidth[instance.getLongestRowIndex(t35)];
        for (var o11 = Number.MIN_VALUE, s11 = 0; s11 < i11.length; s11++) i11[s11].height > o11 && (o11 = i11[s11].height);
        e12 > 0 && (o11 += t35.verticalPadding);
        var l11 = t35.rowHeight[e12] + t35.rowHeight[r12];
        t35.rowHeight[e12] = o11, t35.rowHeight[r12] < n11.height + t35.verticalPadding && (t35.rowHeight[r12] = n11.height + t35.verticalPadding);
        var h11 = t35.rowHeight[e12] + t35.rowHeight[r12];
        t35.height += h11 - l11, this.shiftToLastRow(t35);
      }
    }, _10.prototype.tilingPreLayout = function() {
      l10.TILE && (this.groupZeroDegreeMembers(), this.clearCompounds(), this.clearZeroDegreeMembers());
    }, _10.prototype.tilingPostLayout = function() {
      l10.TILE && (this.repopulateZeroDegreeMembers(), this.repopulateCompounds());
    }, _10.prototype.reduceTrees = function() {
      for (var t35, e12 = [], r12 = true; r12; ) {
        var i11 = this.graphManager.getAllNodes(), n11 = [];
        r12 = false;
        for (var a11 = 0; a11 < i11.length; a11++) if (1 == (t35 = i11[a11]).getEdges().length && !t35.getEdges()[0].isInterGraph && null == t35.getChild()) {
          if (l10.PURE_INCREMENTAL) {
            var o11 = t35.getEdges()[0].getOtherEnd(t35), s11 = new f10(t35.getCenterX() - o11.getCenterX(), t35.getCenterY() - o11.getCenterY());
            n11.push([t35, t35.getEdges()[0], t35.getOwner(), s11]);
          } else n11.push([t35, t35.getEdges()[0], t35.getOwner()]);
          r12 = true;
        }
        if (true == r12) {
          for (var h11 = [], u11 = 0; u11 < n11.length; u11++) 1 == n11[u11][0].getEdges().length && (h11.push(n11[u11]), n11[u11][0].getOwner().remove(n11[u11][0]));
          e12.push(h11), this.graphManager.resetAllNodes(), this.graphManager.resetAllEdges();
        }
      }
      this.prunedNodesAll = e12;
    }, _10.prototype.growTree = function(t35) {
      for (var e12, r12 = t35.length, i11 = t35[r12 - 1], n11 = 0; n11 < i11.length; n11++) e12 = i11[n11], this.findPlaceforPrunedNode(e12), e12[2].add(e12[0]), e12[2].add(e12[1], e12[1].source, e12[1].target);
      t35.splice(t35.length - 1, 1), this.graphManager.resetAllNodes(), this.graphManager.resetAllEdges();
    }, _10.prototype.findPlaceforPrunedNode = function(t35) {
      var e12 = t35[0];
      if (i11 = e12 == t35[1].source ? t35[1].target : t35[1].source, l10.PURE_INCREMENTAL) e12.setCenter(i11.getCenterX() + t35[3].getWidth(), i11.getCenterY() + t35[3].getHeight());
      else {
        var r12, i11, n11, a11, o11 = i11.startX, s11 = i11.finishX, h11 = i11.startY, d11 = i11.finishY, p11 = [0, 0, 0, 0];
        if (h11 > 0) for (var g11 = o11; g11 <= s11; g11++) p11[0] += this.grid[g11][h11 - 1].length + this.grid[g11][h11].length - 1;
        if (s11 < this.grid.length - 1) for (var g11 = h11; g11 <= d11; g11++) p11[1] += this.grid[s11 + 1][g11].length + this.grid[s11][g11].length - 1;
        if (d11 < this.grid[0].length - 1) for (var g11 = o11; g11 <= s11; g11++) p11[2] += this.grid[g11][d11 + 1].length + this.grid[g11][d11].length - 1;
        if (o11 > 0) for (var g11 = h11; g11 <= d11; g11++) p11[3] += this.grid[o11 - 1][g11].length + this.grid[o11][g11].length - 1;
        for (var f11 = v10.MAX_VALUE, y11 = 0; y11 < p11.length; y11++) p11[y11] < f11 ? (f11 = p11[y11], n11 = 1, a11 = y11) : p11[y11] == f11 && n11++;
        if (3 == n11 && 0 == f11) 0 == p11[0] && 0 == p11[1] && 0 == p11[2] ? r12 = 1 : 0 == p11[0] && 0 == p11[1] && 0 == p11[3] ? r12 = 0 : 0 == p11[0] && 0 == p11[2] && 0 == p11[3] ? r12 = 3 : 0 == p11[1] && 0 == p11[2] && 0 == p11[3] && (r12 = 2);
        else if (2 == n11 && 0 == f11) {
          var x11 = Math.floor(2 * Math.random());
          r12 = 0 == p11[0] && 0 == p11[1] ? 0 == x11 ? 0 : 1 : 0 == p11[0] && 0 == p11[2] ? 0 == x11 ? 0 : 2 : 0 == p11[0] && 0 == p11[3] ? 0 == x11 ? 0 : 3 : 0 == p11[1] && 0 == p11[2] ? 0 == x11 ? 1 : 2 : 0 == p11[1] && 0 == p11[3] ? 0 == x11 ? 1 : 3 : 0 == x11 ? 2 : 3;
        } else if (4 == n11 && 0 == f11) {
          var x11 = Math.floor(4 * Math.random());
          r12 = x11;
        } else r12 = a11;
        0 == r12 ? e12.setCenter(i11.getCenterX(), i11.getCenterY() - i11.getHeight() / 2 - u10.DEFAULT_EDGE_LENGTH - e12.getHeight() / 2) : 1 == r12 ? e12.setCenter(i11.getCenterX() + i11.getWidth() / 2 + u10.DEFAULT_EDGE_LENGTH + e12.getWidth() / 2, i11.getCenterY()) : 2 == r12 ? e12.setCenter(i11.getCenterX(), i11.getCenterY() + i11.getHeight() / 2 + u10.DEFAULT_EDGE_LENGTH + e12.getHeight() / 2) : e12.setCenter(i11.getCenterX() - i11.getWidth() / 2 - u10.DEFAULT_EDGE_LENGTH - e12.getWidth() / 2, i11.getCenterY());
      }
    }, t34.exports = _10;
  }, 991: (t34, e11, r11) => {
    var i10 = r11(551).FDLayoutNode, n10 = r11(551).IMath;
    function a10(t35, e12, r12, n11) {
      i10.call(this, t35, e12, r12, n11);
    }
    for (var o10 in a10.prototype = Object.create(i10.prototype), i10) a10[o10] = i10[o10];
    a10.prototype.calculateDisplacement = function() {
      var t35 = this.graphManager.getLayout();
      null != this.getChild() && this.fixedNodeWeight ? (this.displacementX += t35.coolingFactor * (this.springForceX + this.repulsionForceX + this.gravitationForceX) / this.fixedNodeWeight, this.displacementY += t35.coolingFactor * (this.springForceY + this.repulsionForceY + this.gravitationForceY) / this.fixedNodeWeight) : (this.displacementX += t35.coolingFactor * (this.springForceX + this.repulsionForceX + this.gravitationForceX) / this.noOfChildren, this.displacementY += t35.coolingFactor * (this.springForceY + this.repulsionForceY + this.gravitationForceY) / this.noOfChildren), Math.abs(this.displacementX) > t35.coolingFactor * t35.maxNodeDisplacement && (this.displacementX = t35.coolingFactor * t35.maxNodeDisplacement * n10.sign(this.displacementX)), Math.abs(this.displacementY) > t35.coolingFactor * t35.maxNodeDisplacement && (this.displacementY = t35.coolingFactor * t35.maxNodeDisplacement * n10.sign(this.displacementY)), this.child && this.child.getNodes().length > 0 && this.propogateDisplacementToChildren(this.displacementX, this.displacementY);
    }, a10.prototype.propogateDisplacementToChildren = function(t35, e12) {
      for (var r12, i11 = this.getChild().getNodes(), n11 = 0; n11 < i11.length; n11++) null == (r12 = i11[n11]).getChild() ? (r12.displacementX += t35, r12.displacementY += e12) : r12.propogateDisplacementToChildren(t35, e12);
    }, a10.prototype.move = function() {
      var t35 = this.graphManager.getLayout();
      (null == this.child || 0 == this.child.getNodes().length) && (this.moveBy(this.displacementX, this.displacementY), t35.totalDisplacement += Math.abs(this.displacementX) + Math.abs(this.displacementY)), this.springForceX = 0, this.springForceY = 0, this.repulsionForceX = 0, this.repulsionForceY = 0, this.gravitationForceX = 0, this.gravitationForceY = 0, this.displacementX = 0, this.displacementY = 0;
    }, a10.prototype.setPred1 = function(t35) {
      this.pred1 = t35;
    }, a10.prototype.getPred1 = function() {
      return pred1;
    }, a10.prototype.getPred2 = function() {
      return pred2;
    }, a10.prototype.setNext = function(t35) {
      this.next = t35;
    }, a10.prototype.getNext = function() {
      return next;
    }, a10.prototype.setProcessed = function(t35) {
      this.processed = t35;
    }, a10.prototype.isProcessed = function() {
      return processed;
    }, t34.exports = a10;
  }, 902: (t34, e11, r11) => {
    function i10(t35) {
      if (!Array.isArray(t35)) return Array.from(t35);
      for (var e12 = 0, r12 = Array(t35.length); e12 < t35.length; e12++) r12[e12] = t35[e12];
      return r12;
    }
    var n10 = r11(806), a10 = r11(551).LinkedList, o10 = r11(551).Matrix, s10 = r11(551).SVD;
    function l10() {
    }
    l10.handleConstraints = function(t35) {
      var e12 = {};
      e12.fixedNodeConstraint = t35.constraints.fixedNodeConstraint, e12.alignmentConstraint = t35.constraints.alignmentConstraint, e12.relativePlacementConstraint = t35.constraints.relativePlacementConstraint;
      for (var r12 = /* @__PURE__ */ new Map(), l11 = /* @__PURE__ */ new Map(), h10 = [], u10 = [], d10 = t35.getAllNodes(), p10 = 0, g10 = 0; g10 < d10.length; g10++) {
        var f10 = d10[g10];
        null == f10.getChild() && (l11.set(f10.id, p10++), h10.push(f10.getCenterX()), u10.push(f10.getCenterY()), r12.set(f10.id, f10));
      }
      e12.relativePlacementConstraint && e12.relativePlacementConstraint.forEach(function(t36) {
        t36.gap || 0 == t36.gap || (t36.left ? t36.gap = n10.DEFAULT_EDGE_LENGTH + r12.get(t36.left).getWidth() / 2 + r12.get(t36.right).getWidth() / 2 : t36.gap = n10.DEFAULT_EDGE_LENGTH + r12.get(t36.top).getHeight() / 2 + r12.get(t36.bottom).getHeight() / 2);
      });
      var y10 = function(t36) {
        var e13 = 0, r13 = 0;
        return t36.forEach(function(t37) {
          e13 += h10[l11.get(t37)], r13 += u10[l11.get(t37)];
        }), { x: e13 / t36.size, y: r13 / t36.size };
      }, v10 = function(t36, e13, r13, n11, o11) {
        var s11 = /* @__PURE__ */ new Map();
        t36.forEach(function(t37, e14) {
          s11.set(e14, 0);
        }), t36.forEach(function(t37, e14) {
          t37.forEach(function(t38) {
            s11.set(t38.id, s11.get(t38.id) + 1);
          });
        });
        var d11 = /* @__PURE__ */ new Map(), p11 = /* @__PURE__ */ new Map(), g11 = new a10();
        for (s11.forEach(function(t37, i11) {
          0 == t37 ? (g11.push(i11), r13 || ("horizontal" == e13 ? d11.set(i11, l11.has(i11) ? h10[l11.get(i11)] : n11.get(i11)) : d11.set(i11, l11.has(i11) ? u10[l11.get(i11)] : n11.get(i11)))) : d11.set(i11, Number.NEGATIVE_INFINITY), r13 && p11.set(i11, /* @__PURE__ */ new Set([i11]));
        }), r13 && o11.forEach(function(t37) {
          var i11 = [];
          if (t37.forEach(function(t38) {
            r13.has(t38) && i11.push(t38);
          }), i11.length > 0) {
            var a11 = 0;
            i11.forEach(function(t38) {
              "horizontal" == e13 ? d11.set(t38, l11.has(t38) ? h10[l11.get(t38)] : n11.get(t38)) : d11.set(t38, l11.has(t38) ? u10[l11.get(t38)] : n11.get(t38)), a11 += d11.get(t38);
            }), a11 /= i11.length, t37.forEach(function(t38) {
              r13.has(t38) || d11.set(t38, a11);
            });
          } else {
            var o12 = 0;
            t37.forEach(function(t38) {
              "horizontal" == e13 ? o12 += l11.has(t38) ? h10[l11.get(t38)] : n11.get(t38) : o12 += l11.has(t38) ? u10[l11.get(t38)] : n11.get(t38);
            }), o12 /= t37.length, t37.forEach(function(t38) {
              d11.set(t38, o12);
            });
          }
        }); 0 != g11.length; ) !function() {
          var i11 = g11.shift();
          t36.get(i11).forEach(function(t37) {
            if (d11.get(t37.id) < d11.get(i11) + t37.gap) {
              if (r13 && r13.has(t37.id)) {
                var a11 = void 0;
                if (a11 = "horizontal" == e13 ? l11.has(t37.id) ? h10[l11.get(t37.id)] : n11.get(t37.id) : l11.has(t37.id) ? u10[l11.get(t37.id)] : n11.get(t37.id), d11.set(t37.id, a11), a11 < d11.get(i11) + t37.gap) {
                  var o12 = d11.get(i11) + t37.gap - a11;
                  p11.get(i11).forEach(function(t38) {
                    d11.set(t38, d11.get(t38) - o12);
                  });
                }
              } else d11.set(t37.id, d11.get(i11) + t37.gap);
            }
            s11.set(t37.id, s11.get(t37.id) - 1), 0 == s11.get(t37.id) && g11.push(t37.id), r13 && p11.set(t37.id, function(t38, e14) {
              var r14 = new Set(t38), i12 = true, n12 = false, a12 = void 0;
              try {
                for (var o13, s12 = e14[Symbol.iterator](); !(i12 = (o13 = s12.next()).done); i12 = true) {
                  var l12 = o13.value;
                  r14.add(l12);
                }
              } catch (t39) {
                n12 = true, a12 = t39;
              } finally {
                try {
                  !i12 && s12.return && s12.return();
                } finally {
                  if (n12) throw a12;
                }
              }
              return r14;
            }(p11.get(i11), p11.get(t37.id)));
          });
        }();
        if (r13) {
          var f11 = /* @__PURE__ */ new Set();
          t36.forEach(function(t37, e14) {
            0 == t37.length && f11.add(e14);
          });
          var y11 = [];
          p11.forEach(function(t37, e14) {
            if (f11.has(e14)) {
              var n12 = false, a11 = true, o12 = false, s12 = void 0;
              try {
                for (var l12, h11 = t37[Symbol.iterator](); !(a11 = (l12 = h11.next()).done); a11 = true) {
                  var u11 = l12.value;
                  r13.has(u11) && (n12 = true);
                }
              } catch (t38) {
                o12 = true, s12 = t38;
              } finally {
                try {
                  !a11 && h11.return && h11.return();
                } finally {
                  if (o12) throw s12;
                }
              }
              if (!n12) {
                var d12 = false, p12 = void 0;
                y11.forEach(function(e15, r14) {
                  e15.has([].concat(i10(t37))[0]) && (d12 = true, p12 = r14);
                }), d12 ? t37.forEach(function(t38) {
                  y11[p12].add(t38);
                }) : y11.push(new Set(t37));
              }
            }
          }), y11.forEach(function(t37, r14) {
            var i11 = Number.POSITIVE_INFINITY, a11 = Number.POSITIVE_INFINITY, o12 = Number.NEGATIVE_INFINITY, s12 = Number.NEGATIVE_INFINITY, p12 = true, g12 = false, f12 = void 0;
            try {
              for (var y12, v11 = t37[Symbol.iterator](); !(p12 = (y12 = v11.next()).done); p12 = true) {
                var x11 = y12.value, b11 = void 0;
                b11 = "horizontal" == e13 ? l11.has(x11) ? h10[l11.get(x11)] : n11.get(x11) : l11.has(x11) ? u10[l11.get(x11)] : n11.get(x11);
                var w11 = d11.get(x11);
                b11 < i11 && (i11 = b11), b11 > o12 && (o12 = b11), w11 < a11 && (a11 = w11), w11 > s12 && (s12 = w11);
              }
            } catch (t38) {
              g12 = true, f12 = t38;
            } finally {
              try {
                !p12 && v11.return && v11.return();
              } finally {
                if (g12) throw f12;
              }
            }
            var k11 = (i11 + o12) / 2 - (a11 + s12) / 2, _11 = true, T11 = false, E11 = void 0;
            try {
              for (var C11, S11 = t37[Symbol.iterator](); !(_11 = (C11 = S11.next()).done); _11 = true) {
                var A11 = C11.value;
                d11.set(A11, d11.get(A11) + k11);
              }
            } catch (t38) {
              T11 = true, E11 = t38;
            } finally {
              try {
                !_11 && S11.return && S11.return();
              } finally {
                if (T11) throw E11;
              }
            }
          });
        }
        return d11;
      }, x10 = function(t36) {
        var e13 = 0, r13 = 0, i11 = 0, n11 = 0;
        if (t36.forEach(function(t37) {
          t37.left ? h10[l11.get(t37.left)] - h10[l11.get(t37.right)] >= 0 ? e13++ : r13++ : u10[l11.get(t37.top)] - u10[l11.get(t37.bottom)] >= 0 ? i11++ : n11++;
        }), e13 > r13 && i11 > n11) for (var a11 = 0; a11 < l11.size; a11++) h10[a11] = -1 * h10[a11], u10[a11] = -1 * u10[a11];
        else if (e13 > r13) for (var o11 = 0; o11 < l11.size; o11++) h10[o11] = -1 * h10[o11];
        else if (i11 > n11) for (var s11 = 0; s11 < l11.size; s11++) u10[s11] = -1 * u10[s11];
      }, b10 = function(t36) {
        var e13 = [], r13 = new a10(), i11 = /* @__PURE__ */ new Set(), n11 = 0;
        return t36.forEach(function(a11, o11) {
          if (!i11.has(o11)) {
            e13[n11] = [];
            var s11 = o11;
            for (r13.push(s11), i11.add(s11), e13[n11].push(s11); 0 != r13.length; ) s11 = r13.shift(), t36.get(s11).forEach(function(t37) {
              i11.has(t37.id) || (r13.push(t37.id), i11.add(t37.id), e13[n11].push(t37.id));
            });
            n11++;
          }
        }), e13;
      }, w10 = function(t36) {
        var e13 = /* @__PURE__ */ new Map();
        return t36.forEach(function(t37, r13) {
          e13.set(r13, []);
        }), t36.forEach(function(t37, r13) {
          t37.forEach(function(t38) {
            e13.get(r13).push(t38), e13.get(t38.id).push({ id: r13, gap: t38.gap, direction: t38.direction });
          });
        }), e13;
      }, k10 = function(t36) {
        var e13 = /* @__PURE__ */ new Map();
        return t36.forEach(function(t37, r13) {
          e13.set(r13, []);
        }), t36.forEach(function(t37, r13) {
          t37.forEach(function(t38) {
            e13.get(t38.id).push({ id: r13, gap: t38.gap, direction: t38.direction });
          });
        }), e13;
      }, _10 = [], T10 = [], E10 = false, C10 = false, S10 = /* @__PURE__ */ new Set(), A10 = /* @__PURE__ */ new Map(), L10 = /* @__PURE__ */ new Map(), N10 = [];
      if (e12.fixedNodeConstraint && e12.fixedNodeConstraint.forEach(function(t36) {
        S10.add(t36.nodeId);
      }), e12.relativePlacementConstraint && (e12.relativePlacementConstraint.forEach(function(t36) {
        t36.left ? (A10.has(t36.left) ? A10.get(t36.left).push({ id: t36.right, gap: t36.gap, direction: "horizontal" }) : A10.set(t36.left, [{ id: t36.right, gap: t36.gap, direction: "horizontal" }]), A10.has(t36.right) || A10.set(t36.right, [])) : (A10.has(t36.top) ? A10.get(t36.top).push({ id: t36.bottom, gap: t36.gap, direction: "vertical" }) : A10.set(t36.top, [{ id: t36.bottom, gap: t36.gap, direction: "vertical" }]), A10.has(t36.bottom) || A10.set(t36.bottom, []));
      }), N10 = b10(L10 = w10(A10))), n10.TRANSFORM_ON_CONSTRAINT_HANDLING) {
        if (e12.fixedNodeConstraint && e12.fixedNodeConstraint.length > 1) e12.fixedNodeConstraint.forEach(function(t36, e13) {
          _10[e13] = [t36.position.x, t36.position.y], T10[e13] = [h10[l11.get(t36.nodeId)], u10[l11.get(t36.nodeId)]];
        }), E10 = true;
        else if (e12.alignmentConstraint) !function() {
          var t36 = 0;
          if (e12.alignmentConstraint.vertical) {
            for (var r13 = e12.alignmentConstraint.vertical, n11 = 0; n11 < r13.length; n11++) !function(e13) {
              var n12 = /* @__PURE__ */ new Set();
              r13[e13].forEach(function(t37) {
                n12.add(t37);
              });
              var a12 = new Set([].concat(i10(n12)).filter(function(t37) {
                return S10.has(t37);
              })), o12 = void 0;
              o12 = a12.size > 0 ? h10[l11.get(a12.values().next().value)] : y10(n12).x, r13[e13].forEach(function(e14) {
                _10[t36] = [o12, u10[l11.get(e14)]], T10[t36] = [h10[l11.get(e14)], u10[l11.get(e14)]], t36++;
              });
            }(n11);
            E10 = true;
          }
          if (e12.alignmentConstraint.horizontal) {
            for (var a11 = e12.alignmentConstraint.horizontal, o11 = 0; o11 < a11.length; o11++) !function(e13) {
              var r14 = /* @__PURE__ */ new Set();
              a11[e13].forEach(function(t37) {
                r14.add(t37);
              });
              var n12 = new Set([].concat(i10(r14)).filter(function(t37) {
                return S10.has(t37);
              })), o12 = void 0;
              o12 = n12.size > 0 ? h10[l11.get(n12.values().next().value)] : y10(r14).y, a11[e13].forEach(function(e14) {
                _10[t36] = [h10[l11.get(e14)], o12], T10[t36] = [h10[l11.get(e14)], u10[l11.get(e14)]], t36++;
              });
            }(o11);
            E10 = true;
          }
          e12.relativePlacementConstraint && (C10 = true);
        }();
        else if (e12.relativePlacementConstraint) {
          for (var I10 = 0, M10 = 0, R10 = 0; R10 < N10.length; R10++) N10[R10].length > I10 && (I10 = N10[R10].length, M10 = R10);
          if (I10 < L10.size / 2) x10(e12.relativePlacementConstraint), E10 = false, C10 = false;
          else {
            var D10 = /* @__PURE__ */ new Map(), O10 = /* @__PURE__ */ new Map(), P10 = [];
            N10[M10].forEach(function(t36) {
              A10.get(t36).forEach(function(e13) {
                "horizontal" == e13.direction ? (D10.has(t36) ? D10.get(t36).push(e13) : D10.set(t36, [e13]), D10.has(e13.id) || D10.set(e13.id, []), P10.push({ left: t36, right: e13.id })) : (O10.has(t36) ? O10.get(t36).push(e13) : O10.set(t36, [e13]), O10.has(e13.id) || O10.set(e13.id, []), P10.push({ top: t36, bottom: e13.id }));
              });
            }), x10(P10), C10 = false;
            var $10 = v10(D10, "horizontal"), B10 = v10(O10, "vertical");
            N10[M10].forEach(function(t36, e13) {
              T10[e13] = [h10[l11.get(t36)], u10[l11.get(t36)]], _10[e13] = [], $10.has(t36) ? _10[e13][0] = $10.get(t36) : _10[e13][0] = h10[l11.get(t36)], B10.has(t36) ? _10[e13][1] = B10.get(t36) : _10[e13][1] = u10[l11.get(t36)];
            }), E10 = true;
          }
        }
        if (E10) {
          for (var F10 = void 0, z10 = o10.transpose(_10), U10 = o10.transpose(T10), G10 = 0; G10 < z10.length; G10++) z10[G10] = o10.multGamma(z10[G10]), U10[G10] = o10.multGamma(U10[G10]);
          var q10 = o10.multMat(z10, o10.transpose(U10)), Y10 = s10.svd(q10);
          F10 = o10.multMat(Y10.V, o10.transpose(Y10.U));
          for (var H10 = 0; H10 < l11.size; H10++) {
            var j10 = [h10[H10], u10[H10]], W10 = [F10[0][0], F10[1][0]], V10 = [F10[0][1], F10[1][1]];
            h10[H10] = o10.dotProduct(j10, W10), u10[H10] = o10.dotProduct(j10, V10);
          }
          C10 && x10(e12.relativePlacementConstraint);
        }
      }
      if (n10.ENFORCE_CONSTRAINTS) {
        if (e12.fixedNodeConstraint && e12.fixedNodeConstraint.length > 0) {
          var X10 = { x: 0, y: 0 };
          e12.fixedNodeConstraint.forEach(function(t36, e13) {
            var r13, i11 = { x: h10[l11.get(t36.nodeId)], y: u10[l11.get(t36.nodeId)] }, n11 = { x: (r13 = t36.position).x - i11.x, y: r13.y - i11.y };
            X10.x += n11.x, X10.y += n11.y;
          }), X10.x /= e12.fixedNodeConstraint.length, X10.y /= e12.fixedNodeConstraint.length, h10.forEach(function(t36, e13) {
            h10[e13] += X10.x;
          }), u10.forEach(function(t36, e13) {
            u10[e13] += X10.y;
          }), e12.fixedNodeConstraint.forEach(function(t36) {
            h10[l11.get(t36.nodeId)] = t36.position.x, u10[l11.get(t36.nodeId)] = t36.position.y;
          });
        }
        if (e12.alignmentConstraint) {
          if (e12.alignmentConstraint.vertical) for (var K10 = e12.alignmentConstraint.vertical, Z10 = 0; Z10 < K10.length; Z10++) !function(t36) {
            var e13 = /* @__PURE__ */ new Set();
            K10[t36].forEach(function(t37) {
              e13.add(t37);
            });
            var r13 = new Set([].concat(i10(e13)).filter(function(t37) {
              return S10.has(t37);
            })), n11 = void 0;
            n11 = r13.size > 0 ? h10[l11.get(r13.values().next().value)] : y10(e13).x, e13.forEach(function(t37) {
              S10.has(t37) || (h10[l11.get(t37)] = n11);
            });
          }(Z10);
          if (e12.alignmentConstraint.horizontal) for (var Q10 = e12.alignmentConstraint.horizontal, J10 = 0; J10 < Q10.length; J10++) !function(t36) {
            var e13 = /* @__PURE__ */ new Set();
            Q10[t36].forEach(function(t37) {
              e13.add(t37);
            });
            var r13 = new Set([].concat(i10(e13)).filter(function(t37) {
              return S10.has(t37);
            })), n11 = void 0;
            n11 = r13.size > 0 ? u10[l11.get(r13.values().next().value)] : y10(e13).y, e13.forEach(function(t37) {
              S10.has(t37) || (u10[l11.get(t37)] = n11);
            });
          }(J10);
        }
        e12.relativePlacementConstraint && function() {
          var t36 = /* @__PURE__ */ new Map(), r13 = /* @__PURE__ */ new Map(), i11 = /* @__PURE__ */ new Map(), n11 = /* @__PURE__ */ new Map(), a11 = /* @__PURE__ */ new Map(), o11 = /* @__PURE__ */ new Map(), s11 = /* @__PURE__ */ new Set(), d11 = /* @__PURE__ */ new Set();
          if (S10.forEach(function(t37) {
            s11.add(t37), d11.add(t37);
          }), e12.alignmentConstraint) {
            if (e12.alignmentConstraint.vertical) for (var p11 = e12.alignmentConstraint.vertical, g11 = function(e13) {
              i11.set("dummy" + e13, []), p11[e13].forEach(function(r14) {
                t36.set(r14, "dummy" + e13), i11.get("dummy" + e13).push(r14), S10.has(r14) && s11.add("dummy" + e13);
              }), a11.set("dummy" + e13, h10[l11.get(p11[e13][0])]);
            }, f11 = 0; f11 < p11.length; f11++) g11(f11);
            if (e12.alignmentConstraint.horizontal) for (var y11 = e12.alignmentConstraint.horizontal, x11 = function(t37) {
              n11.set("dummy" + t37, []), y11[t37].forEach(function(e13) {
                r13.set(e13, "dummy" + t37), n11.get("dummy" + t37).push(e13), S10.has(e13) && d11.add("dummy" + t37);
              }), o11.set("dummy" + t37, u10[l11.get(y11[t37][0])]);
            }, _11 = 0; _11 < y11.length; _11++) x11(_11);
          }
          var T11 = /* @__PURE__ */ new Map(), E11 = /* @__PURE__ */ new Map(), C11 = function(e13) {
            A10.get(e13).forEach(function(i12) {
              var n12 = void 0, a12 = void 0;
              "horizontal" == i12.direction ? (n12 = t36.get(e13) ? t36.get(e13) : e13, a12 = t36.get(i12.id) ? { id: t36.get(i12.id), gap: i12.gap, direction: i12.direction } : i12, T11.has(n12) ? T11.get(n12).push(a12) : T11.set(n12, [a12]), T11.has(a12.id) || T11.set(a12.id, [])) : (n12 = r13.get(e13) ? r13.get(e13) : e13, a12 = r13.get(i12.id) ? { id: r13.get(i12.id), gap: i12.gap, direction: i12.direction } : i12, E11.has(n12) ? E11.get(n12).push(a12) : E11.set(n12, [a12]), E11.has(a12.id) || E11.set(a12.id, []));
            });
          }, L11 = true, N11 = false, I11 = void 0;
          try {
            for (var M11, R11 = A10.keys()[Symbol.iterator](); !(L11 = (M11 = R11.next()).done); L11 = true) {
              var D11 = M11.value;
              C11(D11);
            }
          } catch (t37) {
            N11 = true, I11 = t37;
          } finally {
            try {
              !L11 && R11.return && R11.return();
            } finally {
              if (N11) throw I11;
            }
          }
          var O11 = w10(T11), P11 = w10(E11), $11 = b10(O11), B11 = b10(P11), F11 = k10(T11), z11 = k10(E11), U11 = [], G11 = [];
          $11.forEach(function(t37, e13) {
            U11[e13] = [], t37.forEach(function(t38) {
              0 == F11.get(t38).length && U11[e13].push(t38);
            });
          }), B11.forEach(function(t37, e13) {
            G11[e13] = [], t37.forEach(function(t38) {
              0 == z11.get(t38).length && G11[e13].push(t38);
            });
          });
          var q11 = v10(T11, "horizontal", s11, a11, U11), Y11 = v10(E11, "vertical", d11, o11, G11), H11 = function(t37) {
            i11.get(t37) ? i11.get(t37).forEach(function(e13) {
              h10[l11.get(e13)] = q11.get(t37);
            }) : h10[l11.get(t37)] = q11.get(t37);
          }, j11 = true, W11 = false, V11 = void 0;
          try {
            for (var X11, K11 = q11.keys()[Symbol.iterator](); !(j11 = (X11 = K11.next()).done); j11 = true) {
              var Z11 = X11.value;
              H11(Z11);
            }
          } catch (t37) {
            W11 = true, V11 = t37;
          } finally {
            try {
              !j11 && K11.return && K11.return();
            } finally {
              if (W11) throw V11;
            }
          }
          var Q11 = function(t37) {
            n11.get(t37) ? n11.get(t37).forEach(function(e13) {
              u10[l11.get(e13)] = Y11.get(t37);
            }) : u10[l11.get(t37)] = Y11.get(t37);
          }, J11 = true, tt11 = false, te11 = void 0;
          try {
            for (var tr10, ti10 = Y11.keys()[Symbol.iterator](); !(J11 = (tr10 = ti10.next()).done); J11 = true) {
              var Z11 = tr10.value;
              Q11(Z11);
            }
          } catch (t37) {
            tt11 = true, te11 = t37;
          } finally {
            try {
              !J11 && ti10.return && ti10.return();
            } finally {
              if (tt11) throw te11;
            }
          }
        }();
      }
      for (var tt10 = 0; tt10 < d10.length; tt10++) {
        var te10 = d10[tt10];
        null == te10.getChild() && te10.setCenter(h10[l11.get(te10.id)], u10[l11.get(te10.id)]);
      }
    }, t34.exports = l10;
  }, 551: (e11) => {
    e11.exports = t33;
  } }, r10 = {}, function t34(i10) {
    var n10 = r10[i10];
    if (void 0 !== n10) return n10.exports;
    var a10 = r10[i10] = { exports: {} };
    return e10[i10](a10, a10.exports, t34), a10.exports;
  }(45);
}, toR.exports = rx((rR || (rR = 1, rb = function() {
  return function(t33) {
    var e10 = {};
    function r10(i10) {
      if (e10[i10]) return e10[i10].exports;
      var n10 = e10[i10] = { i: i10, l: false, exports: {} };
      return t33[i10].call(n10.exports, n10, n10.exports, r10), n10.l = true, n10.exports;
    }
    return r10.m = t33, r10.c = e10, r10.i = function(t34) {
      return t34;
    }, r10.d = function(t34, e11, i10) {
      r10.o(t34, e11) || Object.defineProperty(t34, e11, { configurable: false, enumerable: true, get: i10 });
    }, r10.n = function(t34) {
      var e11 = t34 && t34.__esModule ? function() {
        return t34.default;
      } : function() {
        return t34;
      };
      return r10.d(e11, "a", e11), e11;
    }, r10.o = function(t34, e11) {
      return Object.prototype.hasOwnProperty.call(t34, e11);
    }, r10.p = "", r10(r10.s = 28);
  }([function(t33, e10, r10) {
    function i10() {
    }
    i10.QUALITY = 1, i10.DEFAULT_CREATE_BENDS_AS_NEEDED = false, i10.DEFAULT_INCREMENTAL = false, i10.DEFAULT_ANIMATION_ON_LAYOUT = true, i10.DEFAULT_ANIMATION_DURING_LAYOUT = false, i10.DEFAULT_ANIMATION_PERIOD = 50, i10.DEFAULT_UNIFORM_LEAF_NODE_SIZES = false, i10.DEFAULT_GRAPH_MARGIN = 15, i10.NODE_DIMENSIONS_INCLUDE_LABELS = false, i10.SIMPLE_NODE_SIZE = 40, i10.SIMPLE_NODE_HALF_SIZE = i10.SIMPLE_NODE_SIZE / 2, i10.EMPTY_COMPOUND_NODE_SIZE = 40, i10.MIN_EDGE_LENGTH = 1, i10.WORLD_BOUNDARY = 1e6, i10.INITIAL_WORLD_BOUNDARY = i10.WORLD_BOUNDARY / 1e3, i10.WORLD_CENTER_X = 1200, i10.WORLD_CENTER_Y = 900, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(2), n10 = r10(8), a10 = r10(9);
    function o10(t34, e11, r11) {
      i10.call(this, r11), this.isOverlapingSourceAndTarget = false, this.vGraphObject = r11, this.bendpoints = [], this.source = t34, this.target = e11;
    }
    for (var s10 in o10.prototype = Object.create(i10.prototype), i10) o10[s10] = i10[s10];
    o10.prototype.getSource = function() {
      return this.source;
    }, o10.prototype.getTarget = function() {
      return this.target;
    }, o10.prototype.isInterGraph = function() {
      return this.isInterGraph;
    }, o10.prototype.getLength = function() {
      return this.length;
    }, o10.prototype.isOverlapingSourceAndTarget = function() {
      return this.isOverlapingSourceAndTarget;
    }, o10.prototype.getBendpoints = function() {
      return this.bendpoints;
    }, o10.prototype.getLca = function() {
      return this.lca;
    }, o10.prototype.getSourceInLca = function() {
      return this.sourceInLca;
    }, o10.prototype.getTargetInLca = function() {
      return this.targetInLca;
    }, o10.prototype.getOtherEnd = function(t34) {
      if (this.source === t34) return this.target;
      if (this.target === t34) return this.source;
      throw "Node is not incident with this edge";
    }, o10.prototype.getOtherEndInGraph = function(t34, e11) {
      for (var r11 = this.getOtherEnd(t34), i11 = e11.getGraphManager().getRoot(); ; ) {
        if (r11.getOwner() == e11) return r11;
        if (r11.getOwner() == i11) break;
        r11 = r11.getOwner().getParent();
      }
      return null;
    }, o10.prototype.updateLength = function() {
      var t34 = [, , , ,];
      this.isOverlapingSourceAndTarget = n10.getIntersection(this.target.getRect(), this.source.getRect(), t34), this.isOverlapingSourceAndTarget || (this.lengthX = t34[0] - t34[2], this.lengthY = t34[1] - t34[3], 1 > Math.abs(this.lengthX) && (this.lengthX = a10.sign(this.lengthX)), 1 > Math.abs(this.lengthY) && (this.lengthY = a10.sign(this.lengthY)), this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY));
    }, o10.prototype.updateLengthSimple = function() {
      this.lengthX = this.target.getCenterX() - this.source.getCenterX(), this.lengthY = this.target.getCenterY() - this.source.getCenterY(), 1 > Math.abs(this.lengthX) && (this.lengthX = a10.sign(this.lengthX)), 1 > Math.abs(this.lengthY) && (this.lengthY = a10.sign(this.lengthY)), this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);
    }, t33.exports = o10;
  }, function(t33, e10, r10) {
    t33.exports = function(t34) {
      this.vGraphObject = t34;
    };
  }, function(t33, e10, r10) {
    var i10 = r10(2), n10 = r10(10), a10 = r10(13), o10 = r10(0), s10 = r10(16), l10 = r10(5);
    function h10(t34, e11, r11, o11) {
      null == r11 && null == o11 && (o11 = e11), i10.call(this, o11), null != t34.graphManager && (t34 = t34.graphManager), this.estimatedSize = n10.MIN_VALUE, this.inclusionTreeDepth = n10.MAX_VALUE, this.vGraphObject = o11, this.edges = [], this.graphManager = t34, null != r11 && null != e11 ? this.rect = new a10(e11.x, e11.y, r11.width, r11.height) : this.rect = new a10();
    }
    for (var u10 in h10.prototype = Object.create(i10.prototype), i10) h10[u10] = i10[u10];
    h10.prototype.getEdges = function() {
      return this.edges;
    }, h10.prototype.getChild = function() {
      return this.child;
    }, h10.prototype.getOwner = function() {
      return this.owner;
    }, h10.prototype.getWidth = function() {
      return this.rect.width;
    }, h10.prototype.setWidth = function(t34) {
      this.rect.width = t34;
    }, h10.prototype.getHeight = function() {
      return this.rect.height;
    }, h10.prototype.setHeight = function(t34) {
      this.rect.height = t34;
    }, h10.prototype.getCenterX = function() {
      return this.rect.x + this.rect.width / 2;
    }, h10.prototype.getCenterY = function() {
      return this.rect.y + this.rect.height / 2;
    }, h10.prototype.getCenter = function() {
      return new l10(this.rect.x + this.rect.width / 2, this.rect.y + this.rect.height / 2);
    }, h10.prototype.getLocation = function() {
      return new l10(this.rect.x, this.rect.y);
    }, h10.prototype.getRect = function() {
      return this.rect;
    }, h10.prototype.getDiagonal = function() {
      return Math.sqrt(this.rect.width * this.rect.width + this.rect.height * this.rect.height);
    }, h10.prototype.getHalfTheDiagonal = function() {
      return Math.sqrt(this.rect.height * this.rect.height + this.rect.width * this.rect.width) / 2;
    }, h10.prototype.setRect = function(t34, e11) {
      this.rect.x = t34.x, this.rect.y = t34.y, this.rect.width = e11.width, this.rect.height = e11.height;
    }, h10.prototype.setCenter = function(t34, e11) {
      this.rect.x = t34 - this.rect.width / 2, this.rect.y = e11 - this.rect.height / 2;
    }, h10.prototype.setLocation = function(t34, e11) {
      this.rect.x = t34, this.rect.y = e11;
    }, h10.prototype.moveBy = function(t34, e11) {
      this.rect.x += t34, this.rect.y += e11;
    }, h10.prototype.getEdgeListToNode = function(t34) {
      var e11 = [], r11 = this;
      return r11.edges.forEach(function(i11) {
        if (i11.target == t34) {
          if (i11.source != r11) throw "Incorrect edge source!";
          e11.push(i11);
        }
      }), e11;
    }, h10.prototype.getEdgesBetween = function(t34) {
      var e11 = [], r11 = this;
      return r11.edges.forEach(function(i11) {
        if (!(i11.source == r11 || i11.target == r11)) throw "Incorrect edge source and/or target";
        (i11.target == t34 || i11.source == t34) && e11.push(i11);
      }), e11;
    }, h10.prototype.getNeighborsList = function() {
      var t34 = /* @__PURE__ */ new Set(), e11 = this;
      return e11.edges.forEach(function(r11) {
        if (r11.source == e11) t34.add(r11.target);
        else {
          if (r11.target != e11) throw "Incorrect incidency!";
          t34.add(r11.source);
        }
      }), t34;
    }, h10.prototype.withChildren = function() {
      var t34 = /* @__PURE__ */ new Set();
      if (t34.add(this), null != this.child) for (var e11 = this.child.getNodes(), r11 = 0; r11 < e11.length; r11++) e11[r11].withChildren().forEach(function(e12) {
        t34.add(e12);
      });
      return t34;
    }, h10.prototype.getNoOfChildren = function() {
      var t34 = 0;
      if (null == this.child) t34 = 1;
      else for (var e11 = this.child.getNodes(), r11 = 0; r11 < e11.length; r11++) t34 += e11[r11].getNoOfChildren();
      return 0 == t34 && (t34 = 1), t34;
    }, h10.prototype.getEstimatedSize = function() {
      if (this.estimatedSize == n10.MIN_VALUE) throw "assert failed";
      return this.estimatedSize;
    }, h10.prototype.calcEstimatedSize = function() {
      return null == this.child ? this.estimatedSize = (this.rect.width + this.rect.height) / 2 : (this.estimatedSize = this.child.calcEstimatedSize(), this.rect.width = this.estimatedSize, this.rect.height = this.estimatedSize, this.estimatedSize);
    }, h10.prototype.scatter = function() {
      var t34, e11, r11 = -o10.INITIAL_WORLD_BOUNDARY, i11 = o10.INITIAL_WORLD_BOUNDARY;
      t34 = o10.WORLD_CENTER_X + s10.nextDouble() * (i11 - r11) + r11;
      var n11 = -o10.INITIAL_WORLD_BOUNDARY, a11 = o10.INITIAL_WORLD_BOUNDARY;
      e11 = o10.WORLD_CENTER_Y + s10.nextDouble() * (a11 - n11) + n11, this.rect.x = t34, this.rect.y = e11;
    }, h10.prototype.updateBounds = function() {
      if (null == this.getChild()) throw "assert failed";
      if (0 != this.getChild().getNodes().length) {
        var t34 = this.getChild();
        if (t34.updateBounds(true), this.rect.x = t34.getLeft(), this.rect.y = t34.getTop(), this.setWidth(t34.getRight() - t34.getLeft()), this.setHeight(t34.getBottom() - t34.getTop()), o10.NODE_DIMENSIONS_INCLUDE_LABELS) {
          var e11 = t34.getRight() - t34.getLeft(), r11 = t34.getBottom() - t34.getTop();
          this.labelWidth && ("left" == this.labelPosHorizontal ? (this.rect.x -= this.labelWidth, this.setWidth(e11 + this.labelWidth)) : "center" == this.labelPosHorizontal && this.labelWidth > e11 ? (this.rect.x -= (this.labelWidth - e11) / 2, this.setWidth(this.labelWidth)) : "right" == this.labelPosHorizontal && this.setWidth(e11 + this.labelWidth)), this.labelHeight && ("top" == this.labelPosVertical ? (this.rect.y -= this.labelHeight, this.setHeight(r11 + this.labelHeight)) : "center" == this.labelPosVertical && this.labelHeight > r11 ? (this.rect.y -= (this.labelHeight - r11) / 2, this.setHeight(this.labelHeight)) : "bottom" == this.labelPosVertical && this.setHeight(r11 + this.labelHeight));
        }
      }
    }, h10.prototype.getInclusionTreeDepth = function() {
      if (this.inclusionTreeDepth == n10.MAX_VALUE) throw "assert failed";
      return this.inclusionTreeDepth;
    }, h10.prototype.transform = function(t34) {
      var e11 = this.rect.x;
      e11 > o10.WORLD_BOUNDARY ? e11 = o10.WORLD_BOUNDARY : e11 < -o10.WORLD_BOUNDARY && (e11 = -o10.WORLD_BOUNDARY);
      var r11 = this.rect.y;
      r11 > o10.WORLD_BOUNDARY ? r11 = o10.WORLD_BOUNDARY : r11 < -o10.WORLD_BOUNDARY && (r11 = -o10.WORLD_BOUNDARY);
      var i11 = new l10(e11, r11), n11 = t34.inverseTransformPoint(i11);
      this.setLocation(n11.x, n11.y);
    }, h10.prototype.getLeft = function() {
      return this.rect.x;
    }, h10.prototype.getRight = function() {
      return this.rect.x + this.rect.width;
    }, h10.prototype.getTop = function() {
      return this.rect.y;
    }, h10.prototype.getBottom = function() {
      return this.rect.y + this.rect.height;
    }, h10.prototype.getParent = function() {
      return null == this.owner ? null : this.owner.getParent();
    }, t33.exports = h10;
  }, function(t33, e10, r10) {
    var i10 = r10(0);
    function n10() {
    }
    for (var a10 in i10) n10[a10] = i10[a10];
    n10.MAX_ITERATIONS = 2500, n10.DEFAULT_EDGE_LENGTH = 50, n10.DEFAULT_SPRING_STRENGTH = 0.45, n10.DEFAULT_REPULSION_STRENGTH = 4500, n10.DEFAULT_GRAVITY_STRENGTH = 0.4, n10.DEFAULT_COMPOUND_GRAVITY_STRENGTH = 1, n10.DEFAULT_GRAVITY_RANGE_FACTOR = 3.8, n10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = 1.5, n10.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION = true, n10.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION = true, n10.DEFAULT_COOLING_FACTOR_INCREMENTAL = 0.3, n10.COOLING_ADAPTATION_FACTOR = 0.33, n10.ADAPTATION_LOWER_NODE_LIMIT = 1e3, n10.ADAPTATION_UPPER_NODE_LIMIT = 5e3, n10.MAX_NODE_DISPLACEMENT_INCREMENTAL = 100, n10.MAX_NODE_DISPLACEMENT = 3 * n10.MAX_NODE_DISPLACEMENT_INCREMENTAL, n10.MIN_REPULSION_DIST = n10.DEFAULT_EDGE_LENGTH / 10, n10.CONVERGENCE_CHECK_PERIOD = 100, n10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = 0.1, n10.MIN_EDGE_LENGTH = 1, n10.GRID_CALCULATION_CHECK_PERIOD = 10, t33.exports = n10;
  }, function(t33, e10, r10) {
    function i10(t34, e11) {
      null == t34 && null == e11 ? (this.x = 0, this.y = 0) : (this.x = t34, this.y = e11);
    }
    i10.prototype.getX = function() {
      return this.x;
    }, i10.prototype.getY = function() {
      return this.y;
    }, i10.prototype.setX = function(t34) {
      this.x = t34;
    }, i10.prototype.setY = function(t34) {
      this.y = t34;
    }, i10.prototype.getDifference = function(t34) {
      return new DimensionD(this.x - t34.x, this.y - t34.y);
    }, i10.prototype.getCopy = function() {
      return new i10(this.x, this.y);
    }, i10.prototype.translate = function(t34) {
      return this.x += t34.width, this.y += t34.height, this;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(2), n10 = r10(10), a10 = r10(0), o10 = r10(7), s10 = r10(3), l10 = r10(1), h10 = r10(13), u10 = r10(12), d10 = r10(11);
    function p10(t34, e11, r11) {
      i10.call(this, r11), this.estimatedSize = n10.MIN_VALUE, this.margin = a10.DEFAULT_GRAPH_MARGIN, this.edges = [], this.nodes = [], this.isConnected = false, this.parent = t34, null != e11 && e11 instanceof o10 ? this.graphManager = e11 : null != e11 && e11 instanceof Layout && (this.graphManager = e11.graphManager);
    }
    for (var g10 in p10.prototype = Object.create(i10.prototype), i10) p10[g10] = i10[g10];
    p10.prototype.getNodes = function() {
      return this.nodes;
    }, p10.prototype.getEdges = function() {
      return this.edges;
    }, p10.prototype.getGraphManager = function() {
      return this.graphManager;
    }, p10.prototype.getParent = function() {
      return this.parent;
    }, p10.prototype.getLeft = function() {
      return this.left;
    }, p10.prototype.getRight = function() {
      return this.right;
    }, p10.prototype.getTop = function() {
      return this.top;
    }, p10.prototype.getBottom = function() {
      return this.bottom;
    }, p10.prototype.isConnected = function() {
      return this.isConnected;
    }, p10.prototype.add = function(t34, e11, r11) {
      if (null == e11 && null == r11) {
        if (null == this.graphManager) throw "Graph has no graph mgr!";
        if (this.getNodes().indexOf(t34) > -1) throw "Node already in graph!";
        return t34.owner = this, this.getNodes().push(t34), t34;
      }
      if (!(this.getNodes().indexOf(e11) > -1 && this.getNodes().indexOf(r11) > -1)) throw "Source or target not in graph!";
      if (!(e11.owner == r11.owner && e11.owner == this)) throw "Both owners must be this graph!";
      return e11.owner != r11.owner ? null : (t34.source = e11, t34.target = r11, t34.isInterGraph = false, this.getEdges().push(t34), e11.edges.push(t34), r11 != e11 && r11.edges.push(t34), t34);
    }, p10.prototype.remove = function(t34) {
      if (t34 instanceof s10) {
        if (null == t34) throw "Node is null!";
        if (!(null != t34.owner && t34.owner == this)) throw "Owner graph is invalid!";
        if (null == this.graphManager) throw "Owner graph manager is invalid!";
        for (var e11, r11 = t34.edges.slice(), i11 = r11.length, n11 = 0; n11 < i11; n11++) (e11 = r11[n11]).isInterGraph ? this.graphManager.remove(e11) : e11.source.owner.remove(e11);
        var a11 = this.nodes.indexOf(t34);
        if (-1 == a11) throw "Node not in owner node list!";
        this.nodes.splice(a11, 1);
      } else if (t34 instanceof l10) {
        var e11 = t34;
        if (null == e11) throw "Edge is null!";
        if (!(null != e11.source && null != e11.target)) throw "Source and/or target is null!";
        if (!(null != e11.source.owner && null != e11.target.owner && e11.source.owner == this && e11.target.owner == this)) throw "Source and/or target owner is invalid!";
        var o11 = e11.source.edges.indexOf(e11), h11 = e11.target.edges.indexOf(e11);
        if (!(o11 > -1 && h11 > -1)) throw "Source and/or target doesn't know this edge!";
        e11.source.edges.splice(o11, 1), e11.target != e11.source && e11.target.edges.splice(h11, 1);
        var a11 = e11.source.owner.getEdges().indexOf(e11);
        if (-1 == a11) throw "Not in owner's edge list!";
        e11.source.owner.getEdges().splice(a11, 1);
      }
    }, p10.prototype.updateLeftTop = function() {
      for (var t34, e11, r11, i11 = n10.MAX_VALUE, a11 = n10.MAX_VALUE, o11 = this.getNodes(), s11 = o11.length, l11 = 0; l11 < s11; l11++) {
        var h11 = o11[l11];
        t34 = h11.getTop(), e11 = h11.getLeft(), i11 > t34 && (i11 = t34), a11 > e11 && (a11 = e11);
      }
      return i11 == n10.MAX_VALUE ? null : (r11 = void 0 != o11[0].getParent().paddingLeft ? o11[0].getParent().paddingLeft : this.margin, this.left = a11 - r11, this.top = i11 - r11, new u10(this.left, this.top));
    }, p10.prototype.updateBounds = function(t34) {
      for (var e11, r11, i11, a11, o11, s11 = n10.MAX_VALUE, l11 = -n10.MAX_VALUE, u11 = n10.MAX_VALUE, d11 = -n10.MAX_VALUE, p11 = this.nodes, g11 = p11.length, f10 = 0; f10 < g11; f10++) {
        var y10 = p11[f10];
        t34 && null != y10.child && y10.updateBounds(), e11 = y10.getLeft(), r11 = y10.getRight(), i11 = y10.getTop(), a11 = y10.getBottom(), s11 > e11 && (s11 = e11), l11 < r11 && (l11 = r11), u11 > i11 && (u11 = i11), d11 < a11 && (d11 = a11);
      }
      var v10 = new h10(s11, u11, l11 - s11, d11 - u11);
      s11 == n10.MAX_VALUE && (this.left = this.parent.getLeft(), this.right = this.parent.getRight(), this.top = this.parent.getTop(), this.bottom = this.parent.getBottom()), o11 = void 0 != p11[0].getParent().paddingLeft ? p11[0].getParent().paddingLeft : this.margin, this.left = v10.x - o11, this.right = v10.x + v10.width + o11, this.top = v10.y - o11, this.bottom = v10.y + v10.height + o11;
    }, p10.calculateBounds = function(t34) {
      for (var e11, r11, i11, a11, o11 = n10.MAX_VALUE, s11 = -n10.MAX_VALUE, l11 = n10.MAX_VALUE, u11 = -n10.MAX_VALUE, d11 = t34.length, p11 = 0; p11 < d11; p11++) {
        var g11 = t34[p11];
        e11 = g11.getLeft(), r11 = g11.getRight(), i11 = g11.getTop(), a11 = g11.getBottom(), o11 > e11 && (o11 = e11), s11 < r11 && (s11 = r11), l11 > i11 && (l11 = i11), u11 < a11 && (u11 = a11);
      }
      return new h10(o11, l11, s11 - o11, u11 - l11);
    }, p10.prototype.getInclusionTreeDepth = function() {
      return this == this.graphManager.getRoot() ? 1 : this.parent.getInclusionTreeDepth();
    }, p10.prototype.getEstimatedSize = function() {
      if (this.estimatedSize == n10.MIN_VALUE) throw "assert failed";
      return this.estimatedSize;
    }, p10.prototype.calcEstimatedSize = function() {
      for (var t34 = 0, e11 = this.nodes, r11 = e11.length, i11 = 0; i11 < r11; i11++) t34 += e11[i11].calcEstimatedSize();
      return 0 == t34 ? this.estimatedSize = a10.EMPTY_COMPOUND_NODE_SIZE : this.estimatedSize = t34 / Math.sqrt(this.nodes.length), this.estimatedSize;
    }, p10.prototype.updateConnected = function() {
      var t34, e11, r11 = this;
      if (0 == this.nodes.length) {
        this.isConnected = true;
        return;
      }
      var i11 = new d10(), n11 = /* @__PURE__ */ new Set(), a11 = this.nodes[0];
      for (a11.withChildren().forEach(function(t35) {
        i11.push(t35), n11.add(t35);
      }); 0 !== i11.length; ) for (var o11 = (t34 = (a11 = i11.shift()).getEdges()).length, s11 = 0; s11 < o11; s11++) null == (e11 = t34[s11].getOtherEndInGraph(a11, this)) || n11.has(e11) || e11.withChildren().forEach(function(t35) {
        i11.push(t35), n11.add(t35);
      });
      if (this.isConnected = false, n11.size >= this.nodes.length) {
        var l11 = 0;
        n11.forEach(function(t35) {
          t35.owner == r11 && l11++;
        }), l11 == this.nodes.length && (this.isConnected = true);
      }
    }, t33.exports = p10;
  }, function(t33, e10, r10) {
    var i10, n10 = r10(1);
    function a10(t34) {
      i10 = r10(6), this.layout = t34, this.graphs = [], this.edges = [];
    }
    a10.prototype.addRoot = function() {
      var t34 = this.layout.newGraph(), e11 = this.layout.newNode(null), r11 = this.add(t34, e11);
      return this.setRootGraph(r11), this.rootGraph;
    }, a10.prototype.add = function(t34, e11, r11, i11, n11) {
      if (null == r11 && null == i11 && null == n11) {
        if (null == t34) throw "Graph is null!";
        if (null == e11) throw "Parent node is null!";
        if (this.graphs.indexOf(t34) > -1) throw "Graph already in this graph mgr!";
        if (this.graphs.push(t34), null != t34.parent) throw "Already has a parent!";
        if (null != e11.child) throw "Already has a child!";
        return t34.parent = e11, e11.child = t34, t34;
      }
      n11 = r11, i11 = e11, r11 = t34;
      var a11 = i11.getOwner(), o10 = n11.getOwner();
      if (!(null != a11 && a11.getGraphManager() == this)) throw "Source not in this graph mgr!";
      if (!(null != o10 && o10.getGraphManager() == this)) throw "Target not in this graph mgr!";
      if (a11 == o10) return r11.isInterGraph = false, a11.add(r11, i11, n11);
      if (r11.isInterGraph = true, r11.source = i11, r11.target = n11, this.edges.indexOf(r11) > -1) throw "Edge already in inter-graph edge list!";
      if (this.edges.push(r11), !(null != r11.source && null != r11.target)) throw "Edge source and/or target is null!";
      if (!(-1 == r11.source.edges.indexOf(r11) && -1 == r11.target.edges.indexOf(r11))) throw "Edge already in source and/or target incidency list!";
      return r11.source.edges.push(r11), r11.target.edges.push(r11), r11;
    }, a10.prototype.remove = function(t34) {
      if (t34 instanceof i10) {
        if (t34.getGraphManager() != this) throw "Graph not in this graph mgr";
        if (!(t34 == this.rootGraph || null != t34.parent && t34.parent.graphManager == this)) throw "Invalid parent node!";
        for (var e11, r11, a11 = [], o10 = (a11 = a11.concat(t34.getEdges())).length, s10 = 0; s10 < o10; s10++) e11 = a11[s10], t34.remove(e11);
        var l10 = [];
        o10 = (l10 = l10.concat(t34.getNodes())).length;
        for (var s10 = 0; s10 < o10; s10++) r11 = l10[s10], t34.remove(r11);
        t34 == this.rootGraph && this.setRootGraph(null);
        var h10 = this.graphs.indexOf(t34);
        this.graphs.splice(h10, 1), t34.parent = null;
      } else if (t34 instanceof n10) {
        if (null == (e11 = t34)) throw "Edge is null!";
        if (!e11.isInterGraph) throw "Not an inter-graph edge!";
        if (!(null != e11.source && null != e11.target)) throw "Source and/or target is null!";
        if (!(-1 != e11.source.edges.indexOf(e11) && -1 != e11.target.edges.indexOf(e11))) throw "Source and/or target doesn't know this edge!";
        var h10 = e11.source.edges.indexOf(e11);
        if (e11.source.edges.splice(h10, 1), h10 = e11.target.edges.indexOf(e11), e11.target.edges.splice(h10, 1), !(null != e11.source.owner && null != e11.source.owner.getGraphManager())) throw "Edge owner graph or owner graph manager is null!";
        if (-1 == e11.source.owner.getGraphManager().edges.indexOf(e11)) throw "Not in owner graph manager's edge list!";
        var h10 = e11.source.owner.getGraphManager().edges.indexOf(e11);
        e11.source.owner.getGraphManager().edges.splice(h10, 1);
      }
    }, a10.prototype.updateBounds = function() {
      this.rootGraph.updateBounds(true);
    }, a10.prototype.getGraphs = function() {
      return this.graphs;
    }, a10.prototype.getAllNodes = function() {
      if (null == this.allNodes) {
        for (var t34 = [], e11 = this.getGraphs(), r11 = e11.length, i11 = 0; i11 < r11; i11++) t34 = t34.concat(e11[i11].getNodes());
        this.allNodes = t34;
      }
      return this.allNodes;
    }, a10.prototype.resetAllNodes = function() {
      this.allNodes = null;
    }, a10.prototype.resetAllEdges = function() {
      this.allEdges = null;
    }, a10.prototype.resetAllNodesToApplyGravitation = function() {
      this.allNodesToApplyGravitation = null;
    }, a10.prototype.getAllEdges = function() {
      if (null == this.allEdges) {
        var t34 = [], e11 = this.getGraphs();
        e11.length;
        for (var r11 = 0; r11 < e11.length; r11++) t34 = t34.concat(e11[r11].getEdges());
        t34 = t34.concat(this.edges), this.allEdges = t34;
      }
      return this.allEdges;
    }, a10.prototype.getAllNodesToApplyGravitation = function() {
      return this.allNodesToApplyGravitation;
    }, a10.prototype.setAllNodesToApplyGravitation = function(t34) {
      if (null != this.allNodesToApplyGravitation) throw "assert failed";
      this.allNodesToApplyGravitation = t34;
    }, a10.prototype.getRoot = function() {
      return this.rootGraph;
    }, a10.prototype.setRootGraph = function(t34) {
      if (t34.getGraphManager() != this) throw "Root not in this graph mgr!";
      this.rootGraph = t34, null == t34.parent && (t34.parent = this.layout.newNode("Root node"));
    }, a10.prototype.getLayout = function() {
      return this.layout;
    }, a10.prototype.isOneAncestorOfOther = function(t34, e11) {
      if (!(null != t34 && null != e11)) throw "assert failed";
      if (t34 == e11) return true;
      for (var r11, i11 = t34.getOwner(); null != (r11 = i11.getParent()); ) {
        if (r11 == e11) return true;
        if (null == (i11 = r11.getOwner())) break;
      }
      for (i11 = e11.getOwner(); null != (r11 = i11.getParent()); ) {
        if (r11 == t34) return true;
        if (null == (i11 = r11.getOwner())) break;
      }
      return false;
    }, a10.prototype.calcLowestCommonAncestors = function() {
      for (var t34, e11, r11, i11, n11, a11 = this.getAllEdges(), o10 = a11.length, s10 = 0; s10 < o10; s10++) {
        if (e11 = (t34 = a11[s10]).source, r11 = t34.target, t34.lca = null, t34.sourceInLca = e11, t34.targetInLca = r11, e11 == r11) {
          t34.lca = e11.getOwner();
          continue;
        }
        for (i11 = e11.getOwner(); null == t34.lca; ) {
          for (t34.targetInLca = r11, n11 = r11.getOwner(); null == t34.lca; ) {
            if (n11 == i11) {
              t34.lca = n11;
              break;
            }
            if (n11 == this.rootGraph) break;
            if (null != t34.lca) throw "assert failed";
            t34.targetInLca = n11.getParent(), n11 = t34.targetInLca.getOwner();
          }
          if (i11 == this.rootGraph) break;
          null == t34.lca && (t34.sourceInLca = i11.getParent(), i11 = t34.sourceInLca.getOwner());
        }
        if (null == t34.lca) throw "assert failed";
      }
    }, a10.prototype.calcLowestCommonAncestor = function(t34, e11) {
      if (t34 == e11) return t34.getOwner();
      for (var r11 = t34.getOwner(); null != r11; ) {
        for (var i11 = e11.getOwner(); null != i11; ) {
          if (i11 == r11) return i11;
          i11 = i11.getParent().getOwner();
        }
        r11 = r11.getParent().getOwner();
      }
      return r11;
    }, a10.prototype.calcInclusionTreeDepths = function(t34, e11) {
      null == t34 && null == e11 && (t34 = this.rootGraph, e11 = 1);
      for (var r11, i11 = t34.getNodes(), n11 = i11.length, a11 = 0; a11 < n11; a11++) (r11 = i11[a11]).inclusionTreeDepth = e11, null != r11.child && this.calcInclusionTreeDepths(r11.child, e11 + 1);
    }, a10.prototype.includesInvalidEdge = function() {
      for (var t34, e11 = [], r11 = this.edges.length, i11 = 0; i11 < r11; i11++) t34 = this.edges[i11], this.isOneAncestorOfOther(t34.source, t34.target) && e11.push(t34);
      for (var i11 = 0; i11 < e11.length; i11++) this.remove(e11[i11]);
      return false;
    }, t33.exports = a10;
  }, function(t33, e10, r10) {
    var i10 = r10(12);
    function n10() {
    }
    n10.calcSeparationAmount = function(t34, e11, r11, i11) {
      if (!t34.intersects(e11)) throw "assert failed";
      var n11 = [, ,];
      this.decideDirectionsForOverlappingNodes(t34, e11, n11), r11[0] = Math.min(t34.getRight(), e11.getRight()) - Math.max(t34.x, e11.x), r11[1] = Math.min(t34.getBottom(), e11.getBottom()) - Math.max(t34.y, e11.y), t34.getX() <= e11.getX() && t34.getRight() >= e11.getRight() ? r11[0] += Math.min(e11.getX() - t34.getX(), t34.getRight() - e11.getRight()) : e11.getX() <= t34.getX() && e11.getRight() >= t34.getRight() && (r11[0] += Math.min(t34.getX() - e11.getX(), e11.getRight() - t34.getRight())), t34.getY() <= e11.getY() && t34.getBottom() >= e11.getBottom() ? r11[1] += Math.min(e11.getY() - t34.getY(), t34.getBottom() - e11.getBottom()) : e11.getY() <= t34.getY() && e11.getBottom() >= t34.getBottom() && (r11[1] += Math.min(t34.getY() - e11.getY(), e11.getBottom() - t34.getBottom()));
      var a10 = Math.abs((e11.getCenterY() - t34.getCenterY()) / (e11.getCenterX() - t34.getCenterX()));
      e11.getCenterY() === t34.getCenterY() && e11.getCenterX() === t34.getCenterX() && (a10 = 1);
      var o10 = a10 * r11[0], s10 = r11[1] / a10;
      r11[0] < s10 ? s10 = r11[0] : o10 = r11[1], r11[0] = -1 * n11[0] * (s10 / 2 + i11), r11[1] = -1 * n11[1] * (o10 / 2 + i11);
    }, n10.decideDirectionsForOverlappingNodes = function(t34, e11, r11) {
      t34.getCenterX() < e11.getCenterX() ? r11[0] = -1 : r11[0] = 1, t34.getCenterY() < e11.getCenterY() ? r11[1] = -1 : r11[1] = 1;
    }, n10.getIntersection2 = function(t34, e11, r11) {
      var i11 = t34.getCenterX(), n11 = t34.getCenterY(), a10 = e11.getCenterX(), o10 = e11.getCenterY();
      if (t34.intersects(e11)) return r11[0] = i11, r11[1] = n11, r11[2] = a10, r11[3] = o10, true;
      var s10 = t34.getX(), l10 = t34.getY(), h10 = t34.getRight(), u10 = t34.getX(), d10 = t34.getBottom(), p10 = t34.getRight(), g10 = t34.getWidthHalf(), f10 = t34.getHeightHalf(), y10 = e11.getX(), v10 = e11.getY(), x10 = e11.getRight(), b10 = e11.getX(), w10 = e11.getBottom(), k10 = e11.getRight(), _10 = e11.getWidthHalf(), T10 = e11.getHeightHalf(), E10 = false, C10 = false;
      if (i11 === a10) n11 > o10 ? (r11[0] = i11, r11[1] = l10, r11[2] = a10, r11[3] = w10) : n11 < o10 && (r11[0] = i11, r11[1] = d10, r11[2] = a10, r11[3] = v10);
      else if (n11 === o10) i11 > a10 ? (r11[0] = s10, r11[1] = n11, r11[2] = x10, r11[3] = o10) : i11 < a10 && (r11[0] = h10, r11[1] = n11, r11[2] = y10, r11[3] = o10);
      else {
        var S10 = t34.height / t34.width, A10 = e11.height / e11.width, L10 = (o10 - n11) / (a10 - i11), N10 = void 0, I10 = void 0, M10 = void 0, R10 = void 0, D10 = void 0, O10 = void 0;
        if (-S10 === L10 ? (i11 > a10 ? (r11[0] = u10, r11[1] = d10) : (r11[0] = h10, r11[1] = l10), E10 = true) : S10 === L10 && (i11 > a10 ? (r11[0] = s10, r11[1] = l10) : (r11[0] = p10, r11[1] = d10), E10 = true), -A10 === L10 ? (a10 > i11 ? (r11[2] = b10, r11[3] = w10) : (r11[2] = x10, r11[3] = v10), C10 = true) : A10 === L10 && (a10 > i11 ? (r11[2] = y10, r11[3] = v10) : (r11[2] = k10, r11[3] = w10), C10 = true), E10 && C10) return false;
        if (i11 > a10 ? n11 > o10 ? (N10 = this.getCardinalDirection(S10, L10, 4), I10 = this.getCardinalDirection(A10, L10, 2)) : (N10 = this.getCardinalDirection(-S10, L10, 3), I10 = this.getCardinalDirection(-A10, L10, 1)) : n11 > o10 ? (N10 = this.getCardinalDirection(-S10, L10, 1), I10 = this.getCardinalDirection(-A10, L10, 3)) : (N10 = this.getCardinalDirection(S10, L10, 2), I10 = this.getCardinalDirection(A10, L10, 4)), !E10) switch (N10) {
          case 1:
            R10 = l10, M10 = i11 + -f10 / L10, r11[0] = M10, r11[1] = R10;
            break;
          case 2:
            M10 = p10, R10 = n11 + g10 * L10, r11[0] = M10, r11[1] = R10;
            break;
          case 3:
            R10 = d10, M10 = i11 + f10 / L10, r11[0] = M10, r11[1] = R10;
            break;
          case 4:
            M10 = u10, R10 = n11 + -g10 * L10, r11[0] = M10, r11[1] = R10;
        }
        if (!C10) switch (I10) {
          case 1:
            O10 = v10, D10 = a10 + -T10 / L10, r11[2] = D10, r11[3] = O10;
            break;
          case 2:
            D10 = k10, O10 = o10 + _10 * L10, r11[2] = D10, r11[3] = O10;
            break;
          case 3:
            O10 = w10, D10 = a10 + T10 / L10, r11[2] = D10, r11[3] = O10;
            break;
          case 4:
            D10 = b10, O10 = o10 + -_10 * L10, r11[2] = D10, r11[3] = O10;
        }
      }
      return false;
    }, n10.getCardinalDirection = function(t34, e11, r11) {
      return t34 > e11 ? r11 : 1 + r11 % 4;
    }, n10.getIntersection = function(t34, e11, r11, n11) {
      if (null == n11) return this.getIntersection2(t34, e11, r11);
      var a10 = t34.x, o10 = t34.y, s10 = e11.x, l10 = e11.y, h10 = r11.x, u10 = r11.y, d10 = n11.x, p10 = n11.y, g10 = void 0, f10 = void 0, y10 = void 0, v10 = void 0, x10 = void 0, b10 = void 0, w10 = void 0;
      return (g10 = l10 - o10, y10 = a10 - s10, x10 = s10 * o10 - a10 * l10, f10 = p10 - u10, v10 = h10 - d10, b10 = d10 * u10 - h10 * p10, 0 == (w10 = g10 * v10 - f10 * y10)) ? null : new i10((y10 * b10 - v10 * x10) / w10, (f10 * x10 - g10 * b10) / w10);
    }, n10.angleOfVector = function(t34, e11, r11, i11) {
      var n11 = void 0;
      return t34 !== r11 ? (n11 = Math.atan((i11 - e11) / (r11 - t34)), r11 < t34 ? n11 += Math.PI : i11 < e11 && (n11 += this.TWO_PI)) : n11 = i11 < e11 ? this.ONE_AND_HALF_PI : this.HALF_PI, n11;
    }, n10.doIntersect = function(t34, e11, r11, i11) {
      var n11 = t34.x, a10 = t34.y, o10 = e11.x, s10 = e11.y, l10 = r11.x, h10 = r11.y, u10 = i11.x, d10 = i11.y, p10 = (o10 - n11) * (d10 - h10) - (u10 - l10) * (s10 - a10);
      if (0 === p10) return false;
      var g10 = ((d10 - h10) * (u10 - n11) + (l10 - u10) * (d10 - a10)) / p10, f10 = ((a10 - s10) * (u10 - n11) + (o10 - n11) * (d10 - a10)) / p10;
      return 0 < g10 && g10 < 1 && 0 < f10 && f10 < 1;
    }, n10.findCircleLineIntersections = function(t34, e11, r11, i11, n11, a10, o10) {
      var s10 = (r11 - t34) * (r11 - t34) + (i11 - e11) * (i11 - e11), l10 = 2 * ((t34 - n11) * (r11 - t34) + (e11 - a10) * (i11 - e11)), h10 = (t34 - n11) * (t34 - n11) + (e11 - a10) * (e11 - a10) - o10 * o10;
      if (!(l10 * l10 - 4 * s10 * h10 >= 0)) return null;
      var u10 = (-l10 + Math.sqrt(l10 * l10 - 4 * s10 * h10)) / (2 * s10), d10 = (-l10 - Math.sqrt(l10 * l10 - 4 * s10 * h10)) / (2 * s10);
      return u10 >= 0 && u10 <= 1 ? [u10] : d10 >= 0 && d10 <= 1 ? [d10] : null;
    }, n10.HALF_PI = 0.5 * Math.PI, n10.ONE_AND_HALF_PI = 1.5 * Math.PI, n10.TWO_PI = 2 * Math.PI, n10.THREE_PI = 3 * Math.PI, t33.exports = n10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.sign = function(t34) {
      return t34 > 0 ? 1 : t34 < 0 ? -1 : 0;
    }, i10.floor = function(t34) {
      return t34 < 0 ? Math.ceil(t34) : Math.floor(t34);
    }, i10.ceil = function(t34) {
      return t34 < 0 ? Math.floor(t34) : Math.ceil(t34);
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.MAX_VALUE = 2147483647, i10.MIN_VALUE = -2147483648, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = /* @__PURE__ */ function() {
      function t34(t35, e11) {
        for (var r11 = 0; r11 < e11.length; r11++) {
          var i11 = e11[r11];
          i11.enumerable = i11.enumerable || false, i11.configurable = true, "value" in i11 && (i11.writable = true), Object.defineProperty(t35, i11.key, i11);
        }
      }
      return function(e11, r11, i11) {
        return r11 && t34(e11.prototype, r11), i11 && t34(e11, i11), e11;
      };
    }(), n10 = function(t34) {
      return { value: t34, next: null, prev: null };
    }, a10 = function(t34, e11, r11, i11) {
      return null !== t34 ? t34.next = e11 : i11.head = e11, null !== r11 ? r11.prev = e11 : i11.tail = e11, e11.prev = t34, e11.next = r11, i11.length++, e11;
    }, o10 = function(t34, e11) {
      var r11 = t34.prev, i11 = t34.next;
      return null !== r11 ? r11.next = i11 : e11.head = i11, null !== i11 ? i11.prev = r11 : e11.tail = r11, t34.prev = t34.next = null, e11.length--, t34;
    }, s10 = function() {
      function t34(e11) {
        var r11 = this;
        (function(t35, e12) {
          if (!(t35 instanceof e12)) throw TypeError("Cannot call a class as a function");
        })(this, t34), this.length = 0, this.head = null, this.tail = null, null != e11 && e11.forEach(function(t35) {
          return r11.push(t35);
        });
      }
      return i10(t34, [{ key: "size", value: function() {
        return this.length;
      } }, { key: "insertBefore", value: function(t35, e11) {
        return a10(e11.prev, n10(t35), e11, this);
      } }, { key: "insertAfter", value: function(t35, e11) {
        return a10(e11, n10(t35), e11.next, this);
      } }, { key: "insertNodeBefore", value: function(t35, e11) {
        return a10(e11.prev, t35, e11, this);
      } }, { key: "insertNodeAfter", value: function(t35, e11) {
        return a10(e11, t35, e11.next, this);
      } }, { key: "push", value: function(t35) {
        return a10(this.tail, n10(t35), null, this);
      } }, { key: "unshift", value: function(t35) {
        return a10(null, n10(t35), this.head, this);
      } }, { key: "remove", value: function(t35) {
        return o10(t35, this);
      } }, { key: "pop", value: function() {
        return o10(this.tail, this).value;
      } }, { key: "popNode", value: function() {
        return o10(this.tail, this);
      } }, { key: "shift", value: function() {
        return o10(this.head, this).value;
      } }, { key: "shiftNode", value: function() {
        return o10(this.head, this);
      } }, { key: "get_object_at", value: function(t35) {
        if (t35 <= this.length()) {
          for (var e11 = 1, r11 = this.head; e11 < t35; ) r11 = r11.next, e11++;
          return r11.value;
        }
      } }, { key: "set_object_at", value: function(t35, e11) {
        if (t35 <= this.length()) {
          for (var r11 = 1, i11 = this.head; r11 < t35; ) i11 = i11.next, r11++;
          i11.value = e11;
        }
      } }]), t34;
    }();
    t33.exports = s10;
  }, function(t33, e10, r10) {
    function i10(t34, e11, r11) {
      this.x = null, this.y = null, null == t34 && null == e11 && null == r11 ? (this.x = 0, this.y = 0) : "number" == typeof t34 && "number" == typeof e11 && null == r11 ? (this.x = t34, this.y = e11) : "Point" == t34.constructor.name && null == e11 && null == r11 && (r11 = t34, this.x = r11.x, this.y = r11.y);
    }
    i10.prototype.getX = function() {
      return this.x;
    }, i10.prototype.getY = function() {
      return this.y;
    }, i10.prototype.getLocation = function() {
      return new i10(this.x, this.y);
    }, i10.prototype.setLocation = function(t34, e11, r11) {
      "Point" == t34.constructor.name && null == e11 && null == r11 ? (r11 = t34, this.setLocation(r11.x, r11.y)) : "number" == typeof t34 && "number" == typeof e11 && null == r11 && (parseInt(t34) == t34 && parseInt(e11) == e11 ? this.move(t34, e11) : (this.x = Math.floor(t34 + 0.5), this.y = Math.floor(e11 + 0.5)));
    }, i10.prototype.move = function(t34, e11) {
      this.x = t34, this.y = e11;
    }, i10.prototype.translate = function(t34, e11) {
      this.x += t34, this.y += e11;
    }, i10.prototype.equals = function(t34) {
      return "Point" == t34.constructor.name ? this.x == t34.x && this.y == t34.y : this == t34;
    }, i10.prototype.toString = function() {
      return new i10().constructor.name + "[x=" + this.x + ",y=" + this.y + "]";
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    function i10(t34, e11, r11, i11) {
      this.x = 0, this.y = 0, this.width = 0, this.height = 0, null != t34 && null != e11 && null != r11 && null != i11 && (this.x = t34, this.y = e11, this.width = r11, this.height = i11);
    }
    i10.prototype.getX = function() {
      return this.x;
    }, i10.prototype.setX = function(t34) {
      this.x = t34;
    }, i10.prototype.getY = function() {
      return this.y;
    }, i10.prototype.setY = function(t34) {
      this.y = t34;
    }, i10.prototype.getWidth = function() {
      return this.width;
    }, i10.prototype.setWidth = function(t34) {
      this.width = t34;
    }, i10.prototype.getHeight = function() {
      return this.height;
    }, i10.prototype.setHeight = function(t34) {
      this.height = t34;
    }, i10.prototype.getRight = function() {
      return this.x + this.width;
    }, i10.prototype.getBottom = function() {
      return this.y + this.height;
    }, i10.prototype.intersects = function(t34) {
      return !(this.getRight() < t34.x || this.getBottom() < t34.y || t34.getRight() < this.x || t34.getBottom() < this.y);
    }, i10.prototype.getCenterX = function() {
      return this.x + this.width / 2;
    }, i10.prototype.getMinX = function() {
      return this.getX();
    }, i10.prototype.getMaxX = function() {
      return this.getX() + this.width;
    }, i10.prototype.getCenterY = function() {
      return this.y + this.height / 2;
    }, i10.prototype.getMinY = function() {
      return this.getY();
    }, i10.prototype.getMaxY = function() {
      return this.getY() + this.height;
    }, i10.prototype.getWidthHalf = function() {
      return this.width / 2;
    }, i10.prototype.getHeightHalf = function() {
      return this.height / 2;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t34) {
      return typeof t34;
    } : function(t34) {
      return t34 && "function" == typeof Symbol && t34.constructor === Symbol && t34 !== Symbol.prototype ? "symbol" : typeof t34;
    };
    function n10() {
    }
    n10.lastID = 0, n10.createID = function(t34) {
      return n10.isPrimitive(t34) ? t34 : (null != t34.uniqueID || (t34.uniqueID = n10.getString(), n10.lastID++), t34.uniqueID);
    }, n10.getString = function(t34) {
      return null == t34 && (t34 = n10.lastID), "Object#" + t34;
    }, n10.isPrimitive = function(t34) {
      var e11 = void 0 === t34 ? "undefined" : i10(t34);
      return null == t34 || "object" != e11 && "function" != e11;
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    function i10(t34) {
      if (!Array.isArray(t34)) return Array.from(t34);
      for (var e11 = 0, r11 = Array(t34.length); e11 < t34.length; e11++) r11[e11] = t34[e11];
      return r11;
    }
    var n10 = r10(0), a10 = r10(7), o10 = r10(3), s10 = r10(1), l10 = r10(6), h10 = r10(5), u10 = r10(17), d10 = r10(29);
    function p10(t34) {
      d10.call(this), this.layoutQuality = n10.QUALITY, this.createBendsAsNeeded = n10.DEFAULT_CREATE_BENDS_AS_NEEDED, this.incremental = n10.DEFAULT_INCREMENTAL, this.animationOnLayout = n10.DEFAULT_ANIMATION_ON_LAYOUT, this.animationDuringLayout = n10.DEFAULT_ANIMATION_DURING_LAYOUT, this.animationPeriod = n10.DEFAULT_ANIMATION_PERIOD, this.uniformLeafNodeSizes = n10.DEFAULT_UNIFORM_LEAF_NODE_SIZES, this.edgeToDummyNodes = /* @__PURE__ */ new Map(), this.graphManager = new a10(this), this.isLayoutFinished = false, this.isSubLayout = false, this.isRemoteUse = false, null != t34 && (this.isRemoteUse = t34);
    }
    p10.RANDOM_SEED = 1, p10.prototype = Object.create(d10.prototype), p10.prototype.getGraphManager = function() {
      return this.graphManager;
    }, p10.prototype.getAllNodes = function() {
      return this.graphManager.getAllNodes();
    }, p10.prototype.getAllEdges = function() {
      return this.graphManager.getAllEdges();
    }, p10.prototype.getAllNodesToApplyGravitation = function() {
      return this.graphManager.getAllNodesToApplyGravitation();
    }, p10.prototype.newGraphManager = function() {
      var t34 = new a10(this);
      return this.graphManager = t34, t34;
    }, p10.prototype.newGraph = function(t34) {
      return new l10(null, this.graphManager, t34);
    }, p10.prototype.newNode = function(t34) {
      return new o10(this.graphManager, t34);
    }, p10.prototype.newEdge = function(t34) {
      return new s10(null, null, t34);
    }, p10.prototype.checkLayoutSuccess = function() {
      return null == this.graphManager.getRoot() || 0 == this.graphManager.getRoot().getNodes().length || this.graphManager.includesInvalidEdge();
    }, p10.prototype.runLayout = function() {
      var t34;
      return this.isLayoutFinished = false, this.tilingPreLayout && this.tilingPreLayout(), this.initParameters(), t34 = !this.checkLayoutSuccess() && this.layout(), "during" !== n10.ANIMATE && (t34 && !this.isSubLayout && this.doPostLayout(), this.tilingPostLayout && this.tilingPostLayout(), this.isLayoutFinished = true, t34);
    }, p10.prototype.doPostLayout = function() {
      this.incremental || this.transform(), this.update();
    }, p10.prototype.update2 = function() {
      if (this.createBendsAsNeeded && (this.createBendpointsFromDummyNodes(), this.graphManager.resetAllEdges()), !this.isRemoteUse) {
        for (var t34 = this.graphManager.getAllEdges(), e11 = 0; e11 < t34.length; e11++) t34[e11];
        for (var r11 = this.graphManager.getRoot().getNodes(), e11 = 0; e11 < r11.length; e11++) r11[e11];
        this.update(this.graphManager.getRoot());
      }
    }, p10.prototype.update = function(t34) {
      if (null == t34) this.update2();
      else if (t34 instanceof o10) {
        if (null != t34.getChild()) for (var e11 = t34.getChild().getNodes(), r11 = 0; r11 < e11.length; r11++) update(e11[r11]);
        null != t34.vGraphObject && t34.vGraphObject.update(t34);
      } else t34 instanceof s10 ? null != t34.vGraphObject && t34.vGraphObject.update(t34) : t34 instanceof l10 && null != t34.vGraphObject && t34.vGraphObject.update(t34);
    }, p10.prototype.initParameters = function() {
      this.isSubLayout || (this.layoutQuality = n10.QUALITY, this.animationDuringLayout = n10.DEFAULT_ANIMATION_DURING_LAYOUT, this.animationPeriod = n10.DEFAULT_ANIMATION_PERIOD, this.animationOnLayout = n10.DEFAULT_ANIMATION_ON_LAYOUT, this.incremental = n10.DEFAULT_INCREMENTAL, this.createBendsAsNeeded = n10.DEFAULT_CREATE_BENDS_AS_NEEDED, this.uniformLeafNodeSizes = n10.DEFAULT_UNIFORM_LEAF_NODE_SIZES), this.animationDuringLayout && (this.animationOnLayout = false);
    }, p10.prototype.transform = function(t34) {
      if (void 0 == t34) this.transform(new h10(0, 0));
      else {
        var e11 = new u10(), r11 = this.graphManager.getRoot().updateLeftTop();
        if (null != r11) {
          e11.setWorldOrgX(t34.x), e11.setWorldOrgY(t34.y), e11.setDeviceOrgX(r11.x), e11.setDeviceOrgY(r11.y);
          for (var i11 = this.getAllNodes(), n11 = 0; n11 < i11.length; n11++) i11[n11].transform(e11);
        }
      }
    }, p10.prototype.positionNodesRandomly = function(t34) {
      if (void 0 == t34) this.positionNodesRandomly(this.getGraphManager().getRoot()), this.getGraphManager().getRoot().updateBounds(true);
      else for (var e11, r11, i11 = t34.getNodes(), n11 = 0; n11 < i11.length; n11++) null == (r11 = (e11 = i11[n11]).getChild()) ? e11.scatter() : 0 == r11.getNodes().length ? e11.scatter() : (this.positionNodesRandomly(r11), e11.updateBounds());
    }, p10.prototype.getFlatForest = function() {
      for (var t34 = [], e11 = true, r11 = this.graphManager.getRoot().getNodes(), n11 = true, a11 = 0; a11 < r11.length; a11++) null != r11[a11].getChild() && (n11 = false);
      if (!n11) return t34;
      var o11 = /* @__PURE__ */ new Set(), s11 = [], l11 = /* @__PURE__ */ new Map(), h11 = [];
      for (h11 = h11.concat(r11); h11.length > 0 && e11; ) {
        for (s11.push(h11[0]); s11.length > 0 && e11; ) {
          var u11 = s11[0];
          s11.splice(0, 1), o11.add(u11);
          for (var d11 = u11.getEdges(), a11 = 0; a11 < d11.length; a11++) {
            var p11 = d11[a11].getOtherEnd(u11);
            if (l11.get(u11) != p11) {
              if (o11.has(p11)) {
                e11 = false;
                break;
              }
              s11.push(p11), l11.set(p11, u11);
            }
          }
        }
        if (e11) {
          var g10 = [].concat(i10(o11));
          t34.push(g10);
          for (var a11 = 0; a11 < g10.length; a11++) {
            var f10 = g10[a11], y10 = h11.indexOf(f10);
            y10 > -1 && h11.splice(y10, 1);
          }
          o11 = /* @__PURE__ */ new Set(), l11 = /* @__PURE__ */ new Map();
        } else t34 = [];
      }
      return t34;
    }, p10.prototype.createDummyNodesForBendpoints = function(t34) {
      for (var e11 = [], r11 = t34.source, i11 = this.graphManager.calcLowestCommonAncestor(t34.source, t34.target), n11 = 0; n11 < t34.bendpoints.length; n11++) {
        var a11 = this.newNode(null);
        a11.setRect(new Point(0, 0), new Dimension(1, 1)), i11.add(a11);
        var o11 = this.newEdge(null);
        this.graphManager.add(o11, r11, a11), e11.add(a11), r11 = a11;
      }
      var o11 = this.newEdge(null);
      return this.graphManager.add(o11, r11, t34.target), this.edgeToDummyNodes.set(t34, e11), t34.isInterGraph() ? this.graphManager.remove(t34) : i11.remove(t34), e11;
    }, p10.prototype.createBendpointsFromDummyNodes = function() {
      var t34 = [];
      t34 = t34.concat(this.graphManager.getAllEdges()), t34 = [].concat(i10(this.edgeToDummyNodes.keys())).concat(t34);
      for (var e11 = 0; e11 < t34.length; e11++) {
        var r11 = t34[e11];
        if (r11.bendpoints.length > 0) {
          for (var n11 = this.edgeToDummyNodes.get(r11), a11 = 0; a11 < n11.length; a11++) {
            var o11 = n11[a11], s11 = new h10(o11.getCenterX(), o11.getCenterY()), l11 = r11.bendpoints.get(a11);
            l11.x = s11.x, l11.y = s11.y, o11.getOwner().remove(o11);
          }
          this.graphManager.add(r11, r11.source, r11.target);
        }
      }
    }, p10.transform = function(t34, e11, r11, i11) {
      if (void 0 == r11 || void 0 == i11) return t34 <= 50 ? (n11 = 9 * e11 / 500, a11 = e11 / 10) : (n11 = 9 * e11 / 50, a11 = -8 * e11), n11 * t34 + a11;
      var n11, a11, o11 = e11;
      return t34 <= 50 ? o11 -= (e11 - e11 / r11) / 50 * (50 - t34) : o11 += (e11 * i11 - e11) / 50 * (t34 - 50), o11;
    }, p10.findCenterOfTree = function(t34) {
      var e11 = [];
      e11 = e11.concat(t34);
      var r11 = [], i11 = /* @__PURE__ */ new Map(), n11 = false, a11 = null;
      (1 == e11.length || 2 == e11.length) && (n11 = true, a11 = e11[0]);
      for (var o11 = 0; o11 < e11.length; o11++) {
        var s11 = e11[o11], l11 = s11.getNeighborsList().size;
        i11.set(s11, s11.getNeighborsList().size), 1 == l11 && r11.push(s11);
      }
      var h11 = [];
      for (h11 = h11.concat(r11); !n11; ) {
        var u11 = [];
        u11 = u11.concat(h11), h11 = [];
        for (var o11 = 0; o11 < e11.length; o11++) {
          var s11 = e11[o11], d11 = e11.indexOf(s11);
          d11 >= 0 && e11.splice(d11, 1), s11.getNeighborsList().forEach(function(t35) {
            if (0 > r11.indexOf(t35)) {
              var e12 = i11.get(t35) - 1;
              1 == e12 && h11.push(t35), i11.set(t35, e12);
            }
          });
        }
        r11 = r11.concat(h11), (1 == e11.length || 2 == e11.length) && (n11 = true, a11 = e11[0]);
      }
      return a11;
    }, p10.prototype.setGraphManager = function(t34) {
      this.graphManager = t34;
    }, t33.exports = p10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.seed = 1, i10.x = 0, i10.nextDouble = function() {
      return i10.x = 1e4 * Math.sin(i10.seed++), i10.x - Math.floor(i10.x);
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(5);
    function n10(t34, e11) {
      this.lworldOrgX = 0, this.lworldOrgY = 0, this.ldeviceOrgX = 0, this.ldeviceOrgY = 0, this.lworldExtX = 1, this.lworldExtY = 1, this.ldeviceExtX = 1, this.ldeviceExtY = 1;
    }
    n10.prototype.getWorldOrgX = function() {
      return this.lworldOrgX;
    }, n10.prototype.setWorldOrgX = function(t34) {
      this.lworldOrgX = t34;
    }, n10.prototype.getWorldOrgY = function() {
      return this.lworldOrgY;
    }, n10.prototype.setWorldOrgY = function(t34) {
      this.lworldOrgY = t34;
    }, n10.prototype.getWorldExtX = function() {
      return this.lworldExtX;
    }, n10.prototype.setWorldExtX = function(t34) {
      this.lworldExtX = t34;
    }, n10.prototype.getWorldExtY = function() {
      return this.lworldExtY;
    }, n10.prototype.setWorldExtY = function(t34) {
      this.lworldExtY = t34;
    }, n10.prototype.getDeviceOrgX = function() {
      return this.ldeviceOrgX;
    }, n10.prototype.setDeviceOrgX = function(t34) {
      this.ldeviceOrgX = t34;
    }, n10.prototype.getDeviceOrgY = function() {
      return this.ldeviceOrgY;
    }, n10.prototype.setDeviceOrgY = function(t34) {
      this.ldeviceOrgY = t34;
    }, n10.prototype.getDeviceExtX = function() {
      return this.ldeviceExtX;
    }, n10.prototype.setDeviceExtX = function(t34) {
      this.ldeviceExtX = t34;
    }, n10.prototype.getDeviceExtY = function() {
      return this.ldeviceExtY;
    }, n10.prototype.setDeviceExtY = function(t34) {
      this.ldeviceExtY = t34;
    }, n10.prototype.transformX = function(t34) {
      var e11 = 0, r11 = this.lworldExtX;
      return 0 != r11 && (e11 = this.ldeviceOrgX + (t34 - this.lworldOrgX) * this.ldeviceExtX / r11), e11;
    }, n10.prototype.transformY = function(t34) {
      var e11 = 0, r11 = this.lworldExtY;
      return 0 != r11 && (e11 = this.ldeviceOrgY + (t34 - this.lworldOrgY) * this.ldeviceExtY / r11), e11;
    }, n10.prototype.inverseTransformX = function(t34) {
      var e11 = 0, r11 = this.ldeviceExtX;
      return 0 != r11 && (e11 = this.lworldOrgX + (t34 - this.ldeviceOrgX) * this.lworldExtX / r11), e11;
    }, n10.prototype.inverseTransformY = function(t34) {
      var e11 = 0, r11 = this.ldeviceExtY;
      return 0 != r11 && (e11 = this.lworldOrgY + (t34 - this.ldeviceOrgY) * this.lworldExtY / r11), e11;
    }, n10.prototype.inverseTransformPoint = function(t34) {
      return new i10(this.inverseTransformX(t34.x), this.inverseTransformY(t34.y));
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = r10(15), n10 = r10(4), a10 = r10(0), o10 = r10(8), s10 = r10(9);
    function l10() {
      i10.call(this), this.useSmartIdealEdgeLengthCalculation = n10.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION, this.gravityConstant = n10.DEFAULT_GRAVITY_STRENGTH, this.compoundGravityConstant = n10.DEFAULT_COMPOUND_GRAVITY_STRENGTH, this.gravityRangeFactor = n10.DEFAULT_GRAVITY_RANGE_FACTOR, this.compoundGravityRangeFactor = n10.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR, this.displacementThresholdPerNode = 3 * n10.DEFAULT_EDGE_LENGTH / 100, this.coolingFactor = n10.DEFAULT_COOLING_FACTOR_INCREMENTAL, this.initialCoolingFactor = n10.DEFAULT_COOLING_FACTOR_INCREMENTAL, this.totalDisplacement = 0, this.oldTotalDisplacement = 0, this.maxIterations = n10.MAX_ITERATIONS;
    }
    for (var h10 in l10.prototype = Object.create(i10.prototype), i10) l10[h10] = i10[h10];
    l10.prototype.initParameters = function() {
      i10.prototype.initParameters.call(this, arguments), this.totalIterations = 0, this.notAnimatedIterations = 0, this.useFRGridVariant = n10.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION, this.grid = [];
    }, l10.prototype.calcIdealEdgeLengths = function() {
      for (var t34, e11, r11, i11, o11, s11, l11, h11 = this.getGraphManager().getAllEdges(), u10 = 0; u10 < h11.length; u10++) e11 = (t34 = h11[u10]).idealLength, t34.isInterGraph && (i11 = t34.getSource(), o11 = t34.getTarget(), s11 = t34.getSourceInLca().getEstimatedSize(), l11 = t34.getTargetInLca().getEstimatedSize(), this.useSmartIdealEdgeLengthCalculation && (t34.idealLength += s11 + l11 - 2 * a10.SIMPLE_NODE_SIZE), r11 = t34.getLca().getInclusionTreeDepth(), t34.idealLength += e11 * n10.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR * (i11.getInclusionTreeDepth() + o11.getInclusionTreeDepth() - 2 * r11));
    }, l10.prototype.initSpringEmbedder = function() {
      var t34 = this.getAllNodes().length;
      this.incremental ? (t34 > n10.ADAPTATION_LOWER_NODE_LIMIT && (this.coolingFactor = Math.max(this.coolingFactor * n10.COOLING_ADAPTATION_FACTOR, this.coolingFactor - (t34 - n10.ADAPTATION_LOWER_NODE_LIMIT) / (n10.ADAPTATION_UPPER_NODE_LIMIT - n10.ADAPTATION_LOWER_NODE_LIMIT) * this.coolingFactor * (1 - n10.COOLING_ADAPTATION_FACTOR))), this.maxNodeDisplacement = n10.MAX_NODE_DISPLACEMENT_INCREMENTAL) : (t34 > n10.ADAPTATION_LOWER_NODE_LIMIT ? this.coolingFactor = Math.max(n10.COOLING_ADAPTATION_FACTOR, 1 - (t34 - n10.ADAPTATION_LOWER_NODE_LIMIT) / (n10.ADAPTATION_UPPER_NODE_LIMIT - n10.ADAPTATION_LOWER_NODE_LIMIT) * (1 - n10.COOLING_ADAPTATION_FACTOR)) : this.coolingFactor = 1, this.initialCoolingFactor = this.coolingFactor, this.maxNodeDisplacement = n10.MAX_NODE_DISPLACEMENT), this.maxIterations = Math.max(5 * this.getAllNodes().length, this.maxIterations), this.displacementThresholdPerNode = 3 * n10.DEFAULT_EDGE_LENGTH / 100, this.totalDisplacementThreshold = this.displacementThresholdPerNode * this.getAllNodes().length, this.repulsionRange = this.calcRepulsionRange();
    }, l10.prototype.calcSpringForces = function() {
      for (var t34, e11 = this.getAllEdges(), r11 = 0; r11 < e11.length; r11++) t34 = e11[r11], this.calcSpringForce(t34, t34.idealLength);
    }, l10.prototype.calcRepulsionForces = function() {
      var t34, e11, r11, i11, a11, o11 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0], s11 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], l11 = this.getAllNodes();
      if (this.useFRGridVariant) for (this.totalIterations % n10.GRID_CALCULATION_CHECK_PERIOD == 1 && o11 && this.updateGrid(), a11 = /* @__PURE__ */ new Set(), t34 = 0; t34 < l11.length; t34++) r11 = l11[t34], this.calculateRepulsionForceOfANode(r11, a11, o11, s11), a11.add(r11);
      else for (t34 = 0; t34 < l11.length; t34++) for (r11 = l11[t34], e11 = t34 + 1; e11 < l11.length; e11++) i11 = l11[e11], r11.getOwner() == i11.getOwner() && this.calcRepulsionForce(r11, i11);
    }, l10.prototype.calcGravitationalForces = function() {
      for (var t34, e11 = this.getAllNodesToApplyGravitation(), r11 = 0; r11 < e11.length; r11++) t34 = e11[r11], this.calcGravitationalForce(t34);
    }, l10.prototype.moveNodes = function() {
      for (var t34 = this.getAllNodes(), e11 = 0; e11 < t34.length; e11++) t34[e11].move();
    }, l10.prototype.calcSpringForce = function(t34, e11) {
      var r11, i11, n11, a11, o11 = t34.getSource(), s11 = t34.getTarget();
      if (this.uniformLeafNodeSizes && null == o11.getChild() && null == s11.getChild()) t34.updateLengthSimple();
      else if (t34.updateLength(), t34.isOverlapingSourceAndTarget) return;
      0 != (r11 = t34.getLength()) && (n11 = (i11 = t34.edgeElasticity * (r11 - e11)) * (t34.lengthX / r11), a11 = i11 * (t34.lengthY / r11), o11.springForceX += n11, o11.springForceY += a11, s11.springForceX -= n11, s11.springForceY -= a11);
    }, l10.prototype.calcRepulsionForce = function(t34, e11) {
      var r11, i11, a11, l11, h11, u10, d10, p10 = t34.getRect(), g10 = e11.getRect(), f10 = [, ,], y10 = [, , , ,];
      if (p10.intersects(g10)) {
        o10.calcSeparationAmount(p10, g10, f10, n10.DEFAULT_EDGE_LENGTH / 2), u10 = 2 * f10[0], d10 = 2 * f10[1];
        var v10 = t34.noOfChildren * e11.noOfChildren / (t34.noOfChildren + e11.noOfChildren);
        t34.repulsionForceX -= v10 * u10, t34.repulsionForceY -= v10 * d10, e11.repulsionForceX += v10 * u10, e11.repulsionForceY += v10 * d10;
      } else this.uniformLeafNodeSizes && null == t34.getChild() && null == e11.getChild() ? (r11 = g10.getCenterX() - p10.getCenterX(), i11 = g10.getCenterY() - p10.getCenterY()) : (o10.getIntersection(p10, g10, y10), r11 = y10[2] - y10[0], i11 = y10[3] - y10[1]), Math.abs(r11) < n10.MIN_REPULSION_DIST && (r11 = s10.sign(r11) * n10.MIN_REPULSION_DIST), Math.abs(i11) < n10.MIN_REPULSION_DIST && (i11 = s10.sign(i11) * n10.MIN_REPULSION_DIST), l11 = Math.sqrt(a11 = r11 * r11 + i11 * i11), u10 = (h11 = (t34.nodeRepulsion / 2 + e11.nodeRepulsion / 2) * t34.noOfChildren * e11.noOfChildren / a11) * r11 / l11, d10 = h11 * i11 / l11, t34.repulsionForceX -= u10, t34.repulsionForceY -= d10, e11.repulsionForceX += u10, e11.repulsionForceY += d10;
    }, l10.prototype.calcGravitationalForce = function(t34) {
      var e11, r11, i11, n11, a11, o11, s11, l11;
      r11 = ((e11 = t34.getOwner()).getRight() + e11.getLeft()) / 2, i11 = (e11.getTop() + e11.getBottom()) / 2, n11 = t34.getCenterX() - r11, a11 = t34.getCenterY() - i11, o11 = Math.abs(n11) + t34.getWidth() / 2, s11 = Math.abs(a11) + t34.getHeight() / 2, t34.getOwner() == this.graphManager.getRoot() ? (o11 > (l11 = e11.getEstimatedSize() * this.gravityRangeFactor) || s11 > l11) && (t34.gravitationForceX = -this.gravityConstant * n11, t34.gravitationForceY = -this.gravityConstant * a11) : (o11 > (l11 = e11.getEstimatedSize() * this.compoundGravityRangeFactor) || s11 > l11) && (t34.gravitationForceX = -this.gravityConstant * n11 * this.compoundGravityConstant, t34.gravitationForceY = -this.gravityConstant * a11 * this.compoundGravityConstant);
    }, l10.prototype.isConverged = function() {
      var t34, e11 = false;
      return this.totalIterations > this.maxIterations / 3 && (e11 = 2 > Math.abs(this.totalDisplacement - this.oldTotalDisplacement)), t34 = this.totalDisplacement < this.totalDisplacementThreshold, this.oldTotalDisplacement = this.totalDisplacement, t34 || e11;
    }, l10.prototype.animate = function() {
      this.animationDuringLayout && !this.isSubLayout && (this.notAnimatedIterations == this.animationPeriod ? (this.update(), this.notAnimatedIterations = 0) : this.notAnimatedIterations++);
    }, l10.prototype.calcNoOfChildrenForAllNodes = function() {
      for (var t34, e11 = this.graphManager.getAllNodes(), r11 = 0; r11 < e11.length; r11++) (t34 = e11[r11]).noOfChildren = t34.getNoOfChildren();
    }, l10.prototype.calcGrid = function(t34) {
      var e11 = 0, r11 = 0;
      e11 = parseInt(Math.ceil((t34.getRight() - t34.getLeft()) / this.repulsionRange)), r11 = parseInt(Math.ceil((t34.getBottom() - t34.getTop()) / this.repulsionRange));
      for (var i11 = Array(e11), n11 = 0; n11 < e11; n11++) i11[n11] = Array(r11);
      for (var n11 = 0; n11 < e11; n11++) for (var a11 = 0; a11 < r11; a11++) i11[n11][a11] = [];
      return i11;
    }, l10.prototype.addNodeToGrid = function(t34, e11, r11) {
      var i11 = 0, n11 = 0, a11 = 0, o11 = 0;
      i11 = parseInt(Math.floor((t34.getRect().x - e11) / this.repulsionRange)), n11 = parseInt(Math.floor((t34.getRect().width + t34.getRect().x - e11) / this.repulsionRange)), a11 = parseInt(Math.floor((t34.getRect().y - r11) / this.repulsionRange)), o11 = parseInt(Math.floor((t34.getRect().height + t34.getRect().y - r11) / this.repulsionRange));
      for (var s11 = i11; s11 <= n11; s11++) for (var l11 = a11; l11 <= o11; l11++) this.grid[s11][l11].push(t34), t34.setGridCoordinates(i11, n11, a11, o11);
    }, l10.prototype.updateGrid = function() {
      var t34, e11, r11 = this.getAllNodes();
      for (t34 = 0, this.grid = this.calcGrid(this.graphManager.getRoot()); t34 < r11.length; t34++) e11 = r11[t34], this.addNodeToGrid(e11, this.graphManager.getRoot().getLeft(), this.graphManager.getRoot().getTop());
    }, l10.prototype.calculateRepulsionForceOfANode = function(t34, e11, r11, i11) {
      if (this.totalIterations % n10.GRID_CALCULATION_CHECK_PERIOD == 1 && r11 || i11) {
        var a11, o11 = /* @__PURE__ */ new Set();
        t34.surrounding = [];
        for (var s11 = this.grid, l11 = t34.startX - 1; l11 < t34.finishX + 2; l11++) for (var h11 = t34.startY - 1; h11 < t34.finishY + 2; h11++) if (!(l11 < 0 || h11 < 0 || l11 >= s11.length || h11 >= s11[0].length)) {
          for (var u10 = 0; u10 < s11[l11][h11].length; u10++) if (a11 = s11[l11][h11][u10], t34.getOwner() == a11.getOwner() && t34 != a11 && !e11.has(a11) && !o11.has(a11)) {
            var d10 = Math.abs(t34.getCenterX() - a11.getCenterX()) - (t34.getWidth() / 2 + a11.getWidth() / 2), p10 = Math.abs(t34.getCenterY() - a11.getCenterY()) - (t34.getHeight() / 2 + a11.getHeight() / 2);
            d10 <= this.repulsionRange && p10 <= this.repulsionRange && o11.add(a11);
          }
        }
        t34.surrounding = [].concat(function(t35) {
          if (!Array.isArray(t35)) return Array.from(t35);
          for (var e12 = 0, r12 = Array(t35.length); e12 < t35.length; e12++) r12[e12] = t35[e12];
          return r12;
        }(o11));
      }
      for (l11 = 0; l11 < t34.surrounding.length; l11++) this.calcRepulsionForce(t34, t34.surrounding[l11]);
    }, l10.prototype.calcRepulsionRange = function() {
      return 0;
    }, t33.exports = l10;
  }, function(t33, e10, r10) {
    var i10 = r10(1), n10 = r10(4);
    function a10(t34, e11, r11) {
      i10.call(this, t34, e11, r11), this.idealLength = n10.DEFAULT_EDGE_LENGTH, this.edgeElasticity = n10.DEFAULT_SPRING_STRENGTH;
    }
    for (var o10 in a10.prototype = Object.create(i10.prototype), i10) a10[o10] = i10[o10];
    t33.exports = a10;
  }, function(t33, e10, r10) {
    var i10 = r10(3), n10 = r10(4);
    function a10(t34, e11, r11, a11) {
      i10.call(this, t34, e11, r11, a11), this.nodeRepulsion = n10.DEFAULT_REPULSION_STRENGTH, this.springForceX = 0, this.springForceY = 0, this.repulsionForceX = 0, this.repulsionForceY = 0, this.gravitationForceX = 0, this.gravitationForceY = 0, this.displacementX = 0, this.displacementY = 0, this.startX = 0, this.finishX = 0, this.startY = 0, this.finishY = 0, this.surrounding = [];
    }
    for (var o10 in a10.prototype = Object.create(i10.prototype), i10) a10[o10] = i10[o10];
    a10.prototype.setGridCoordinates = function(t34, e11, r11, i11) {
      this.startX = t34, this.finishX = e11, this.startY = r11, this.finishY = i11;
    }, t33.exports = a10;
  }, function(t33, e10, r10) {
    function i10(t34, e11) {
      this.width = 0, this.height = 0, null !== t34 && null !== e11 && (this.height = e11, this.width = t34);
    }
    i10.prototype.getWidth = function() {
      return this.width;
    }, i10.prototype.setWidth = function(t34) {
      this.width = t34;
    }, i10.prototype.getHeight = function() {
      return this.height;
    }, i10.prototype.setHeight = function(t34) {
      this.height = t34;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = r10(14);
    function n10() {
      this.map = {}, this.keys = [];
    }
    n10.prototype.put = function(t34, e11) {
      var r11 = i10.createID(t34);
      this.contains(r11) || (this.map[r11] = e11, this.keys.push(t34));
    }, n10.prototype.contains = function(t34) {
      return i10.createID(t34), null != this.map[t34];
    }, n10.prototype.get = function(t34) {
      var e11 = i10.createID(t34);
      return this.map[e11];
    }, n10.prototype.keySet = function() {
      return this.keys;
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = r10(14);
    function n10() {
      this.set = {};
    }
    n10.prototype.add = function(t34) {
      var e11 = i10.createID(t34);
      this.contains(e11) || (this.set[e11] = t34);
    }, n10.prototype.remove = function(t34) {
      delete this.set[i10.createID(t34)];
    }, n10.prototype.clear = function() {
      this.set = {};
    }, n10.prototype.contains = function(t34) {
      return this.set[i10.createID(t34)] == t34;
    }, n10.prototype.isEmpty = function() {
      return 0 === this.size();
    }, n10.prototype.size = function() {
      return Object.keys(this.set).length;
    }, n10.prototype.addAllTo = function(t34) {
      for (var e11 = Object.keys(this.set), r11 = e11.length, i11 = 0; i11 < r11; i11++) t34.push(this.set[e11[i11]]);
    }, n10.prototype.size = function() {
      return Object.keys(this.set).length;
    }, n10.prototype.addAll = function(t34) {
      for (var e11 = t34.length, r11 = 0; r11 < e11; r11++) {
        var i11 = t34[r11];
        this.add(i11);
      }
    }, t33.exports = n10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.multMat = function(t34, e11) {
      for (var r11 = [], i11 = 0; i11 < t34.length; i11++) {
        r11[i11] = [];
        for (var n10 = 0; n10 < e11[0].length; n10++) {
          r11[i11][n10] = 0;
          for (var a10 = 0; a10 < t34[0].length; a10++) r11[i11][n10] += t34[i11][a10] * e11[a10][n10];
        }
      }
      return r11;
    }, i10.transpose = function(t34) {
      for (var e11 = [], r11 = 0; r11 < t34[0].length; r11++) {
        e11[r11] = [];
        for (var i11 = 0; i11 < t34.length; i11++) e11[r11][i11] = t34[i11][r11];
      }
      return e11;
    }, i10.multCons = function(t34, e11) {
      for (var r11 = [], i11 = 0; i11 < t34.length; i11++) r11[i11] = t34[i11] * e11;
      return r11;
    }, i10.minusOp = function(t34, e11) {
      for (var r11 = [], i11 = 0; i11 < t34.length; i11++) r11[i11] = t34[i11] - e11[i11];
      return r11;
    }, i10.dotProduct = function(t34, e11) {
      for (var r11 = 0, i11 = 0; i11 < t34.length; i11++) r11 += t34[i11] * e11[i11];
      return r11;
    }, i10.mag = function(t34) {
      return Math.sqrt(this.dotProduct(t34, t34));
    }, i10.normalize = function(t34) {
      for (var e11 = [], r11 = this.mag(t34), i11 = 0; i11 < t34.length; i11++) e11[i11] = t34[i11] / r11;
      return e11;
    }, i10.multGamma = function(t34) {
      for (var e11 = [], r11 = 0, i11 = 0; i11 < t34.length; i11++) r11 += t34[i11];
      r11 *= -1 / t34.length;
      for (var n10 = 0; n10 < t34.length; n10++) e11[n10] = r11 + t34[n10];
      return e11;
    }, i10.multL = function(t34, e11, r11) {
      for (var i11 = [], n10 = [], a10 = [], o10 = 0; o10 < e11[0].length; o10++) {
        for (var s10 = 0, l10 = 0; l10 < e11.length; l10++) s10 += -0.5 * e11[l10][o10] * t34[l10];
        n10[o10] = s10;
      }
      for (var h10 = 0; h10 < r11.length; h10++) {
        for (var u10 = 0, d10 = 0; d10 < r11.length; d10++) u10 += r11[h10][d10] * n10[d10];
        a10[h10] = u10;
      }
      for (var p10 = 0; p10 < e11.length; p10++) {
        for (var g10 = 0, f10 = 0; f10 < e11[0].length; f10++) g10 += e11[p10][f10] * a10[f10];
        i11[p10] = g10;
      }
      return i11;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = /* @__PURE__ */ function() {
      function t34(t35, e11) {
        for (var r11 = 0; r11 < e11.length; r11++) {
          var i11 = e11[r11];
          i11.enumerable = i11.enumerable || false, i11.configurable = true, "value" in i11 && (i11.writable = true), Object.defineProperty(t35, i11.key, i11);
        }
      }
      return function(e11, r11, i11) {
        return r11 && t34(e11.prototype, r11), i11 && t34(e11, i11), e11;
      };
    }(), n10 = r10(11), a10 = function() {
      function t34(e11, r11) {
        (function(t35, e12) {
          if (!(t35 instanceof e12)) throw TypeError("Cannot call a class as a function");
        })(this, t34), (null !== r11 || void 0 !== r11) && (this.compareFunction = this._defaultCompareFunction);
        var i11 = void 0;
        i11 = e11 instanceof n10 ? e11.size() : e11.length, this._quicksort(e11, 0, i11 - 1);
      }
      return i10(t34, [{ key: "_quicksort", value: function(t35, e11, r11) {
        if (e11 < r11) {
          var i11 = this._partition(t35, e11, r11);
          this._quicksort(t35, e11, i11), this._quicksort(t35, i11 + 1, r11);
        }
      } }, { key: "_partition", value: function(t35, e11, r11) {
        for (var i11 = this._get(t35, e11), n11 = e11, a11 = r11; ; ) {
          for (; this.compareFunction(i11, this._get(t35, a11)); ) a11--;
          for (; this.compareFunction(this._get(t35, n11), i11); ) n11++;
          if (!(n11 < a11)) return a11;
          this._swap(t35, n11, a11), n11++, a11--;
        }
      } }, { key: "_get", value: function(t35, e11) {
        return t35 instanceof n10 ? t35.get_object_at(e11) : t35[e11];
      } }, { key: "_set", value: function(t35, e11, r11) {
        t35 instanceof n10 ? t35.set_object_at(e11, r11) : t35[e11] = r11;
      } }, { key: "_swap", value: function(t35, e11, r11) {
        var i11 = this._get(t35, e11);
        this._set(t35, e11, this._get(t35, r11)), this._set(t35, r11, i11);
      } }, { key: "_defaultCompareFunction", value: function(t35, e11) {
        return e11 > t35;
      } }]), t34;
    }();
    t33.exports = a10;
  }, function(t33, e10, r10) {
    function i10() {
    }
    i10.svd = function(t34) {
      this.U = null, this.V = null, this.s = null, this.m = 0, this.n = 0, this.m = t34.length, this.n = t34[0].length;
      var e11 = Math.min(this.m, this.n);
      this.s = function(t35) {
        for (var e12 = []; t35-- > 0; ) e12.push(0);
        return e12;
      }(Math.min(this.m + 1, this.n)), this.U = function t35(e12) {
        if (0 == e12.length) return 0;
        for (var r12 = [], i11 = 0; i11 < e12[0]; i11++) r12.push(t35(e12.slice(1)));
        return r12;
      }([this.m, e11]), this.V = function t35(e12) {
        if (0 == e12.length) return 0;
        for (var r12 = [], i11 = 0; i11 < e12[0]; i11++) r12.push(t35(e12.slice(1)));
        return r12;
      }([this.n, this.n]);
      for (var r11 = function(t35) {
        for (var e12 = []; t35-- > 0; ) e12.push(0);
        return e12;
      }(this.n), n10 = function(t35) {
        for (var e12 = []; t35-- > 0; ) e12.push(0);
        return e12;
      }(this.m), a10 = Math.min(this.m - 1, this.n), o10 = Math.max(0, Math.min(this.n - 2, this.m)), s10 = 0; s10 < Math.max(a10, o10); s10++) {
        if (s10 < a10) {
          this.s[s10] = 0;
          for (var l10 = s10; l10 < this.m; l10++) this.s[s10] = i10.hypot(this.s[s10], t34[l10][s10]);
          if (0 !== this.s[s10]) {
            t34[s10][s10] < 0 && (this.s[s10] = -this.s[s10]);
            for (var h10 = s10; h10 < this.m; h10++) t34[h10][s10] /= this.s[s10];
            t34[s10][s10] += 1;
          }
          this.s[s10] = -this.s[s10];
        }
        for (var u10 = s10 + 1; u10 < this.n; u10++) {
          if (y10 = s10 < a10, v10 = 0 !== this.s[s10], y10 && v10) {
            for (var d10 = 0, p10 = s10; p10 < this.m; p10++) d10 += t34[p10][s10] * t34[p10][u10];
            d10 = -d10 / t34[s10][s10];
            for (var g10 = s10; g10 < this.m; g10++) t34[g10][u10] += d10 * t34[g10][s10];
          }
          r11[u10] = t34[s10][u10];
        }
        if (s10 < a10) for (var f10 = s10; f10 < this.m; f10++) this.U[f10][s10] = t34[f10][s10];
        if (s10 < o10) {
          r11[s10] = 0;
          for (var y10, v10, x10, b10, w10 = s10 + 1; w10 < this.n; w10++) r11[s10] = i10.hypot(r11[s10], r11[w10]);
          if (0 !== r11[s10]) {
            r11[s10 + 1] < 0 && (r11[s10] = -r11[s10]);
            for (var k10 = s10 + 1; k10 < this.n; k10++) r11[k10] /= r11[s10];
            r11[s10 + 1] += 1;
          }
          if (r11[s10] = -r11[s10], x10 = s10 + 1 < this.m, b10 = 0 !== r11[s10], x10 && b10) {
            for (var _10 = s10 + 1; _10 < this.m; _10++) n10[_10] = 0;
            for (var T10 = s10 + 1; T10 < this.n; T10++) for (var E10 = s10 + 1; E10 < this.m; E10++) n10[E10] += r11[T10] * t34[E10][T10];
            for (var C10 = s10 + 1; C10 < this.n; C10++) for (var S10 = -r11[C10] / r11[s10 + 1], A10 = s10 + 1; A10 < this.m; A10++) t34[A10][C10] += S10 * n10[A10];
          }
          for (var L10 = s10 + 1; L10 < this.n; L10++) this.V[L10][s10] = r11[L10];
        }
      }
      var N10 = Math.min(this.n, this.m + 1);
      a10 < this.n && (this.s[a10] = t34[a10][a10]), this.m < N10 && (this.s[N10 - 1] = 0), o10 + 1 < N10 && (r11[o10] = t34[o10][N10 - 1]), r11[N10 - 1] = 0;
      for (var I10 = a10; I10 < e11; I10++) {
        for (var M10 = 0; M10 < this.m; M10++) this.U[M10][I10] = 0;
        this.U[I10][I10] = 1;
      }
      for (var R10 = a10 - 1; R10 >= 0; R10--) if (0 !== this.s[R10]) {
        for (var D10 = R10 + 1; D10 < e11; D10++) {
          for (var O10 = 0, P10 = R10; P10 < this.m; P10++) O10 += this.U[P10][R10] * this.U[P10][D10];
          O10 = -O10 / this.U[R10][R10];
          for (var $10 = R10; $10 < this.m; $10++) this.U[$10][D10] += O10 * this.U[$10][R10];
        }
        for (var B10 = R10; B10 < this.m; B10++) this.U[B10][R10] = -this.U[B10][R10];
        this.U[R10][R10] = 1 + this.U[R10][R10];
        for (var F10 = 0; F10 < R10 - 1; F10++) this.U[F10][R10] = 0;
      } else {
        for (var z10 = 0; z10 < this.m; z10++) this.U[z10][R10] = 0;
        this.U[R10][R10] = 1;
      }
      for (var U10 = this.n - 1; U10 >= 0; U10--) {
        if (tc2 = U10 < o10, tu2 = 0 !== r11[U10], tc2 && tu2) for (var G10 = U10 + 1; G10 < e11; G10++) {
          for (var q10 = 0, Y10 = U10 + 1; Y10 < this.n; Y10++) q10 += this.V[Y10][U10] * this.V[Y10][G10];
          q10 = -q10 / this.V[U10 + 1][U10];
          for (var H10 = U10 + 1; H10 < this.n; H10++) this.V[H10][G10] += q10 * this.V[H10][U10];
        }
        for (var j10 = 0; j10 < this.n; j10++) this.V[j10][U10] = 0;
        this.V[U10][U10] = 1;
      }
      for (var W10 = N10 - 1; N10 > 0; ) {
        var V10 = void 0, X10 = void 0;
        for (V10 = N10 - 2; V10 >= -1 && -1 !== V10; V10--) if (Math.abs(r11[V10]) <= 16033346880071782e-307 + 2220446049250313e-31 * (Math.abs(this.s[V10]) + Math.abs(this.s[V10 + 1]))) {
          r11[V10] = 0;
          break;
        }
        if (V10 === N10 - 2) X10 = 4;
        else {
          var K10 = void 0;
          for (K10 = N10 - 1; K10 >= V10 && K10 !== V10; K10--) {
            var Z10 = (K10 !== N10 ? Math.abs(r11[K10]) : 0) + (K10 !== V10 + 1 ? Math.abs(r11[K10 - 1]) : 0);
            if (Math.abs(this.s[K10]) <= 16033346880071782e-307 + 2220446049250313e-31 * Z10) {
              this.s[K10] = 0;
              break;
            }
          }
          K10 === V10 ? X10 = 3 : K10 === N10 - 1 ? X10 = 1 : (X10 = 2, V10 = K10);
        }
        switch (V10++, X10) {
          case 1:
            var Q10 = r11[N10 - 2];
            r11[N10 - 2] = 0;
            for (var J10 = N10 - 2; J10 >= V10; J10--) {
              var tt10 = i10.hypot(this.s[J10], Q10), te10 = this.s[J10] / tt10, tr10 = Q10 / tt10;
              this.s[J10] = tt10, J10 !== V10 && (Q10 = -tr10 * r11[J10 - 1], r11[J10 - 1] = te10 * r11[J10 - 1]);
              for (var ti10 = 0; ti10 < this.n; ti10++) tt10 = te10 * this.V[ti10][J10] + tr10 * this.V[ti10][N10 - 1], this.V[ti10][N10 - 1] = -tr10 * this.V[ti10][J10] + te10 * this.V[ti10][N10 - 1], this.V[ti10][J10] = tt10;
            }
            break;
          case 2:
            var tn10 = r11[V10 - 1];
            r11[V10 - 1] = 0;
            for (var ta10 = V10; ta10 < N10; ta10++) {
              var to10 = i10.hypot(this.s[ta10], tn10), ts2 = this.s[ta10] / to10, tl2 = tn10 / to10;
              this.s[ta10] = to10, tn10 = -tl2 * r11[ta10], r11[ta10] = ts2 * r11[ta10];
              for (var th2 = 0; th2 < this.m; th2++) to10 = ts2 * this.U[th2][ta10] + tl2 * this.U[th2][V10 - 1], this.U[th2][V10 - 1] = -tl2 * this.U[th2][ta10] + ts2 * this.U[th2][V10 - 1], this.U[th2][ta10] = to10;
            }
            break;
          case 3:
            var tc2, tu2, td2, tp2, tg2 = Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[N10 - 1]), Math.abs(this.s[N10 - 2])), Math.abs(r11[N10 - 2])), Math.abs(this.s[V10])), Math.abs(r11[V10])), tf2 = this.s[N10 - 1] / tg2, tm2 = this.s[N10 - 2] / tg2, ty2 = r11[N10 - 2] / tg2, tv2 = this.s[V10] / tg2, tx2 = r11[V10] / tg2, tb2 = ((tm2 + tf2) * (tm2 - tf2) + ty2 * ty2) / 2, tw2 = tf2 * ty2 * (tf2 * ty2), tk2 = 0;
            td2 = 0 !== tb2, tp2 = 0 !== tw2, (td2 || tp2) && (tk2 = Math.sqrt(tb2 * tb2 + tw2), tb2 < 0 && (tk2 = -tk2), tk2 = tw2 / (tb2 + tk2));
            for (var t_2 = (tv2 + tf2) * (tv2 - tf2) + tk2, tT2 = tv2 * tx2, tE2 = V10; tE2 < N10 - 1; tE2++) {
              var tC2 = i10.hypot(t_2, tT2), tS2 = t_2 / tC2, tA2 = tT2 / tC2;
              tE2 !== V10 && (r11[tE2 - 1] = tC2), t_2 = tS2 * this.s[tE2] + tA2 * r11[tE2], r11[tE2] = tS2 * r11[tE2] - tA2 * this.s[tE2], tT2 = tA2 * this.s[tE2 + 1], this.s[tE2 + 1] = tS2 * this.s[tE2 + 1];
              for (var tL2 = 0; tL2 < this.n; tL2++) tC2 = tS2 * this.V[tL2][tE2] + tA2 * this.V[tL2][tE2 + 1], this.V[tL2][tE2 + 1] = -tA2 * this.V[tL2][tE2] + tS2 * this.V[tL2][tE2 + 1], this.V[tL2][tE2] = tC2;
              if (tC2 = i10.hypot(t_2, tT2), tS2 = t_2 / tC2, tA2 = tT2 / tC2, this.s[tE2] = tC2, t_2 = tS2 * r11[tE2] + tA2 * this.s[tE2 + 1], this.s[tE2 + 1] = -tA2 * r11[tE2] + tS2 * this.s[tE2 + 1], tT2 = tA2 * r11[tE2 + 1], r11[tE2 + 1] = tS2 * r11[tE2 + 1], tE2 < this.m - 1) for (var tN2 = 0; tN2 < this.m; tN2++) tC2 = tS2 * this.U[tN2][tE2] + tA2 * this.U[tN2][tE2 + 1], this.U[tN2][tE2 + 1] = -tA2 * this.U[tN2][tE2] + tS2 * this.U[tN2][tE2 + 1], this.U[tN2][tE2] = tC2;
            }
            r11[N10 - 2] = t_2;
            break;
          case 4:
            if (this.s[V10] <= 0) {
              this.s[V10] = this.s[V10] < 0 ? -this.s[V10] : 0;
              for (var tI2 = 0; tI2 <= W10; tI2++) this.V[tI2][V10] = -this.V[tI2][V10];
            }
            for (; V10 < W10 && !(this.s[V10] >= this.s[V10 + 1]); ) {
              var tM2 = this.s[V10];
              if (this.s[V10] = this.s[V10 + 1], this.s[V10 + 1] = tM2, V10 < this.n - 1) for (var tR2 = 0; tR2 < this.n; tR2++) tM2 = this.V[tR2][V10 + 1], this.V[tR2][V10 + 1] = this.V[tR2][V10], this.V[tR2][V10] = tM2;
              if (V10 < this.m - 1) for (var tD2 = 0; tD2 < this.m; tD2++) tM2 = this.U[tD2][V10 + 1], this.U[tD2][V10 + 1] = this.U[tD2][V10], this.U[tD2][V10] = tM2;
              V10++;
            }
            N10--;
        }
      }
      return { U: this.U, V: this.V, S: this.s };
    }, i10.hypot = function(t34, e11) {
      var r11 = void 0;
      return Math.abs(t34) > Math.abs(e11) ? (r11 = e11 / t34, r11 = Math.abs(t34) * Math.sqrt(1 + r11 * r11)) : 0 != e11 ? (r11 = t34 / e11, r11 = Math.abs(e11) * Math.sqrt(1 + r11 * r11)) : r11 = 0, r11;
    }, t33.exports = i10;
  }, function(t33, e10, r10) {
    var i10 = /* @__PURE__ */ function() {
      function t34(t35, e11) {
        for (var r11 = 0; r11 < e11.length; r11++) {
          var i11 = e11[r11];
          i11.enumerable = i11.enumerable || false, i11.configurable = true, "value" in i11 && (i11.writable = true), Object.defineProperty(t35, i11.key, i11);
        }
      }
      return function(e11, r11, i11) {
        return r11 && t34(e11.prototype, r11), i11 && t34(e11, i11), e11;
      };
    }(), n10 = function() {
      function t34(e11, r11) {
        var i11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, n11 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : -1, a10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : -1;
        (function(t35, e12) {
          if (!(t35 instanceof e12)) throw TypeError("Cannot call a class as a function");
        })(this, t34), this.sequence1 = e11, this.sequence2 = r11, this.match_score = i11, this.mismatch_penalty = n11, this.gap_penalty = a10, this.iMax = e11.length + 1, this.jMax = r11.length + 1, this.grid = Array(this.iMax);
        for (var o10 = 0; o10 < this.iMax; o10++) {
          this.grid[o10] = Array(this.jMax);
          for (var s10 = 0; s10 < this.jMax; s10++) this.grid[o10][s10] = 0;
        }
        this.tracebackGrid = Array(this.iMax);
        for (var l10 = 0; l10 < this.iMax; l10++) {
          this.tracebackGrid[l10] = Array(this.jMax);
          for (var h10 = 0; h10 < this.jMax; h10++) this.tracebackGrid[l10][h10] = [null, null, null];
        }
        this.alignments = [], this.score = -1, this.computeGrids();
      }
      return i10(t34, [{ key: "getScore", value: function() {
        return this.score;
      } }, { key: "getAlignments", value: function() {
        return this.alignments;
      } }, { key: "computeGrids", value: function() {
        for (var t35 = 1; t35 < this.jMax; t35++) this.grid[0][t35] = this.grid[0][t35 - 1] + this.gap_penalty, this.tracebackGrid[0][t35] = [false, false, true];
        for (var e11 = 1; e11 < this.iMax; e11++) this.grid[e11][0] = this.grid[e11 - 1][0] + this.gap_penalty, this.tracebackGrid[e11][0] = [false, true, false];
        for (var r11 = 1; r11 < this.iMax; r11++) for (var i11 = 1; i11 < this.jMax; i11++) {
          var n11 = [this.sequence1[r11 - 1] === this.sequence2[i11 - 1] ? this.grid[r11 - 1][i11 - 1] + this.match_score : this.grid[r11 - 1][i11 - 1] + this.mismatch_penalty, this.grid[r11 - 1][i11] + this.gap_penalty, this.grid[r11][i11 - 1] + this.gap_penalty], a10 = this.arrayAllMaxIndexes(n11);
          this.grid[r11][i11] = n11[a10[0]], this.tracebackGrid[r11][i11] = [a10.includes(0), a10.includes(1), a10.includes(2)];
        }
        this.score = this.grid[this.iMax - 1][this.jMax - 1];
      } }, { key: "alignmentTraceback", value: function() {
        var t35 = [];
        for (t35.push({ pos: [this.sequence1.length, this.sequence2.length], seq1: "", seq2: "" }); t35[0]; ) {
          var e11 = t35[0], r11 = this.tracebackGrid[e11.pos[0]][e11.pos[1]];
          r11[0] && t35.push({ pos: [e11.pos[0] - 1, e11.pos[1] - 1], seq1: this.sequence1[e11.pos[0] - 1] + e11.seq1, seq2: this.sequence2[e11.pos[1] - 1] + e11.seq2 }), r11[1] && t35.push({ pos: [e11.pos[0] - 1, e11.pos[1]], seq1: this.sequence1[e11.pos[0] - 1] + e11.seq1, seq2: "-" + e11.seq2 }), r11[2] && t35.push({ pos: [e11.pos[0], e11.pos[1] - 1], seq1: "-" + e11.seq1, seq2: this.sequence2[e11.pos[1] - 1] + e11.seq2 }), 0 === e11.pos[0] && 0 === e11.pos[1] && this.alignments.push({ sequence1: e11.seq1, sequence2: e11.seq2 }), t35.shift();
        }
        return this.alignments;
      } }, { key: "getAllIndexes", value: function(t35, e11) {
        for (var r11 = [], i11 = -1; -1 !== (i11 = t35.indexOf(e11, i11 + 1)); ) r11.push(i11);
        return r11;
      } }, { key: "arrayAllMaxIndexes", value: function(t35) {
        return this.getAllIndexes(t35, Math.max.apply(null, t35));
      } }]), t34;
    }();
    t33.exports = n10;
  }, function(t33, e10, r10) {
    var i10 = function() {
    };
    i10.FDLayout = r10(18), i10.FDLayoutConstants = r10(4), i10.FDLayoutEdge = r10(19), i10.FDLayoutNode = r10(20), i10.DimensionD = r10(21), i10.HashMap = r10(22), i10.HashSet = r10(23), i10.IGeometry = r10(8), i10.IMath = r10(9), i10.Integer = r10(10), i10.Point = r10(12), i10.PointD = r10(5), i10.RandomSeed = r10(16), i10.RectangleD = r10(13), i10.Transform = r10(17), i10.UniqueIDGeneretor = r10(14), i10.Quicksort = r10(25), i10.LinkedList = r10(11), i10.LGraphObject = r10(2), i10.LGraph = r10(6), i10.LEdge = r10(1), i10.LGraphManager = r10(7), i10.LNode = r10(3), i10.Layout = r10(15), i10.LayoutConstants = r10(0), i10.NeedlemanWunsch = r10(27), i10.Matrix = r10(24), i10.SVD = r10(26), t33.exports = i10;
  }, function(t33, e10, r10) {
    function i10() {
      this.listeners = [];
    }
    var n10 = i10.prototype;
    n10.addListener = function(t34, e11) {
      this.listeners.push({ event: t34, callback: e11 });
    }, n10.removeListener = function(t34, e11) {
      for (var r11 = this.listeners.length; r11 >= 0; r11--) {
        var i11 = this.listeners[r11];
        i11.event === t34 && i11.callback === e11 && this.listeners.splice(r11, 1);
      }
    }, n10.emit = function(t34, e11) {
      for (var r11 = 0; r11 < this.listeners.length; r11++) {
        var i11 = this.listeners[r11];
        t34 === i11.event && i11.callback(e11);
      }
    }, t33.exports = i10;
  }]);
}, toD.exports = rb()), toD.exports))), toR.exports))), toM.exports));
var toP = { L: "left", R: "right", T: "top", B: "bottom" }, to$ = { L: iZ((t33) => `${t33},${t33 / 2} 0,${t33} 0,0`, "L"), R: iZ((t33) => `0,${t33 / 2} ${t33},0 ${t33},${t33}`, "R"), T: iZ((t33) => `0,0 ${t33},0 ${t33 / 2},${t33}`, "T"), B: iZ((t33) => `${t33 / 2},0 ${t33},${t33} 0,${t33}`, "B") }, toB = { L: iZ((t33, e10) => t33 - e10 + 2, "L"), R: iZ((t33, e10) => t33 - 2, "R"), T: iZ((t33, e10) => t33 - e10 + 2, "T"), B: iZ((t33, e10) => t33 - 2, "B") }, toF = iZ(function(t33) {
  return toU(t33) ? "L" === t33 ? "R" : "L" : "T" === t33 ? "B" : "T";
}, "getOppositeArchitectureDirection"), toz = iZ(function(t33) {
  return "L" === t33 || "R" === t33 || "T" === t33 || "B" === t33;
}, "isArchitectureDirection"), toU = iZ(function(t33) {
  return "L" === t33 || "R" === t33;
}, "isArchitectureDirectionX"), toG = iZ(function(t33) {
  return "T" === t33 || "B" === t33;
}, "isArchitectureDirectionY"), toq = iZ(function(t33, e10) {
  let r10 = toU(t33) && toG(e10), i10 = toG(t33) && toU(e10);
  return r10 || i10;
}, "isArchitectureDirectionXY"), toY = iZ(function(t33) {
  let e10 = t33[0], r10 = t33[1], i10 = toU(e10) && toG(r10), n10 = toG(e10) && toU(r10);
  return i10 || n10;
}, "isArchitecturePairXY"), toH = iZ(function(t33) {
  return "LL" !== t33 && "RR" !== t33 && "TT" !== t33 && "BB" !== t33;
}, "isValidArchitectureDirectionPair"), toj = iZ(function(t33, e10) {
  let r10 = `${t33}${e10}`;
  return toH(r10) ? r10 : void 0;
}, "getArchitectureDirectionPair"), toW = iZ(function(t33, e10) {
  let [r10, i10] = t33, n10 = e10[0], a10 = e10[1];
  return toU(n10) ? toG(a10) ? [r10 + ("L" === n10 ? -1 : 1), i10 + ("T" === a10 ? 1 : -1)] : [r10 + ("L" === n10 ? -1 : 1), i10] : toU(a10) ? [r10 + ("L" === a10 ? 1 : -1), i10 + ("T" === n10 ? 1 : -1)] : [r10, i10 + ("T" === n10 ? 1 : -1)];
}, "shiftPositionByArchitectureDirectionPair"), toV = iZ(function(t33) {
  return "LT" === t33 || "TL" === t33 ? [1, 1] : "BL" === t33 || "LB" === t33 ? [1, -1] : "BR" === t33 || "RB" === t33 ? [-1, -1] : [-1, 1];
}, "getArchitectureDirectionXYFactors"), toX = iZ(function(t33) {
  return "service" === t33.type;
}, "isArchitectureService"), toK = iZ(function(t33) {
  return "junction" === t33.type;
}, "isArchitectureJunction"), toZ = iZ((t33) => t33.data(), "edgeData"), toQ = iZ((t33) => t33.data(), "nodeData"), toJ = ny.architecture, to0 = new Lu(() => ({ nodes: {}, groups: {}, edges: [], registeredIds: {}, config: toJ, dataStructures: void 0, elements: {} })), to1 = iZ(() => {
  to0.reset(), ag();
}, "clear"), to2 = iZ(function(t33) {
  let { id: e10, icon: r10, in: i10, title: n10, iconText: a10 } = t33;
  if (void 0 !== to0.records.registeredIds[e10]) throw Error(`The service id [${e10}] is already in use by another ${to0.records.registeredIds[e10]}`);
  if (void 0 !== i10) {
    if (e10 === i10) throw Error(`The service [${e10}] cannot be placed within itself`);
    if (void 0 === to0.records.registeredIds[i10]) throw Error(`The service [${e10}]'s parent does not exist. Please make sure the parent is created before this service`);
    if ("node" === to0.records.registeredIds[i10]) throw Error(`The service [${e10}]'s parent is not a group`);
  }
  to0.records.registeredIds[e10] = "node", to0.records.nodes[e10] = { id: e10, type: "service", icon: r10, iconText: a10, title: n10, edges: [], in: i10 };
}, "addService"), to4 = iZ(() => Object.values(to0.records.nodes).filter(toX), "getServices"), to5 = iZ(function(t33) {
  let { id: e10, in: r10 } = t33;
  to0.records.registeredIds[e10] = "node", to0.records.nodes[e10] = { id: e10, type: "junction", edges: [], in: r10 };
}, "addJunction"), to3 = iZ(() => Object.values(to0.records.nodes).filter(toK), "getJunctions"), to6 = iZ(() => Object.values(to0.records.nodes), "getNodes"), to7 = iZ((t33) => to0.records.nodes[t33], "getNode"), to8 = iZ(function(t33) {
  let { id: e10, icon: r10, in: i10, title: n10 } = t33;
  if (void 0 !== to0.records.registeredIds[e10]) throw Error(`The group id [${e10}] is already in use by another ${to0.records.registeredIds[e10]}`);
  if (void 0 !== i10) {
    if (e10 === i10) throw Error(`The group [${e10}] cannot be placed within itself`);
    if (void 0 === to0.records.registeredIds[i10]) throw Error(`The group [${e10}]'s parent does not exist. Please make sure the parent is created before this group`);
    if ("node" === to0.records.registeredIds[i10]) throw Error(`The group [${e10}]'s parent is not a group`);
  }
  to0.records.registeredIds[e10] = "group", to0.records.groups[e10] = { id: e10, icon: r10, title: n10, in: i10 };
}, "addGroup"), to9 = iZ(() => Object.values(to0.records.groups), "getGroups"), tst = iZ(function(t33) {
  let { lhsId: e10, rhsId: r10, lhsDir: i10, rhsDir: n10, lhsInto: a10, rhsInto: o10, lhsGroup: s10, rhsGroup: l10, title: h10 } = t33;
  if (!toz(i10)) throw Error(`Invalid direction given for left hand side of edge ${e10}--${r10}. Expected (L,R,T,B) got ${i10}`);
  if (!toz(n10)) throw Error(`Invalid direction given for right hand side of edge ${e10}--${r10}. Expected (L,R,T,B) got ${n10}`);
  if (void 0 === to0.records.nodes[e10] && void 0 === to0.records.groups[e10]) throw Error(`The left-hand id [${e10}] does not yet exist. Please create the service/group before declaring an edge to it.`);
  if (void 0 === to0.records.nodes[r10] && void 0 === to0.records.groups[e10]) throw Error(`The right-hand id [${r10}] does not yet exist. Please create the service/group before declaring an edge to it.`);
  let u10 = to0.records.nodes[e10].in, d10 = to0.records.nodes[r10].in;
  if (s10 && u10 && d10 && u10 == d10) throw Error(`The left-hand id [${e10}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);
  if (l10 && u10 && d10 && u10 == d10) throw Error(`The right-hand id [${r10}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);
  to0.records.edges.push({ lhsId: e10, lhsDir: i10, lhsInto: a10, lhsGroup: s10, rhsId: r10, rhsDir: n10, rhsInto: o10, rhsGroup: l10, title: h10 }), to0.records.nodes[e10] && to0.records.nodes[r10] && (to0.records.nodes[e10].edges.push(to0.records.edges[to0.records.edges.length - 1]), to0.records.nodes[r10].edges.push(to0.records.edges[to0.records.edges.length - 1]));
}, "addEdge"), tse = iZ(() => to0.records.edges, "getEdges"), tsr = iZ(() => {
  if (void 0 === to0.records.dataStructures) {
    let t33 = Object.entries(to0.records.nodes).reduce((t34, e11) => {
      let [r11, i11] = e11;
      return t34[r11] = i11.edges.reduce((t35, e12) => {
        if (e12.lhsId === r11) {
          let r12 = toj(e12.lhsDir, e12.rhsDir);
          r12 && (t35[r12] = e12.rhsId);
        } else {
          let r12 = toj(e12.rhsDir, e12.lhsDir);
          r12 && (t35[r12] = e12.lhsId);
        }
        return t35;
      }, {}), t34;
    }, {}), e10 = Object.keys(t33)[0], r10 = { [e10]: 1 }, i10 = Object.keys(t33).reduce((t34, r11) => r11 === e10 ? t34 : { ...t34, [r11]: 1 }, {}), n10 = iZ((e11) => {
      let n11 = { [e11]: [0, 0] }, a11 = [e11];
      for (; a11.length > 0; ) {
        let e12 = a11.shift();
        if (e12) {
          r10[e12] = 1, delete i10[e12];
          let o10 = t33[e12], [s10, l10] = n11[e12];
          Object.entries(o10).forEach((t34) => {
            let [e13, i11] = t34;
            r10[i11] || (n11[i11] = toW([s10, l10], e13), a11.push(i11));
          });
        }
      }
      return n11;
    }, "BFS"), a10 = [n10(e10)];
    for (; Object.keys(i10).length > 0; ) a10.push(n10(Object.keys(i10)[0]));
    to0.records.dataStructures = { adjList: t33, spatialMaps: a10 };
  }
  return to0.records.dataStructures;
}, "getDataStructures"), tsi = { clear: to1, setDiagramTitle: ax, getDiagramTitle: ab, setAccTitle: af, getAccTitle: am, setAccDescription: ay, getAccDescription: av, addService: to2, getServices: to4, addJunction: to5, getJunctions: to3, getNodes: to6, getNode: to7, addGroup: to8, getGroups: to9, addEdge: tst, getEdges: tse, setElementForId: iZ((t33, e10) => {
  to0.records.elements[t33] = e10;
}, "setElementForId"), getElementById: iZ((t33) => to0.records.elements[t33], "getElementById"), getDataStructures: tsr };
function tsn(t33) {
  let e10 = nM().architecture;
  return (null == e10 ? void 0 : e10[t33]) ? e10[t33] : toJ[t33];
}
iZ(tsn, "getConfigField");
var tsa = iZ((t33, e10) => {
  Lc(t33, e10), t33.groups.map(e10.addGroup), t33.services.map((t34) => e10.addService({ ...t34, type: "service" })), t33.junctions.map((t34) => e10.addJunction({ ...t34, type: "junction" })), t33.edges.map(e10.addEdge);
}, "populateDb"), tso = { parse: iZ(async (t33) => {
  let e10 = await OQ("architecture", t33);
  i0.debug(e10), tsa(e10, tsi);
}, "parse") }, tss = iZ((t33) => `
  .edge {
    stroke-width: ${t33.archEdgeWidth};
    stroke: ${t33.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${t33.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${t33.archGroupBorderColor};
    stroke-width: ${t33.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`, "getStyles"), tsl = iZ((t33) => `<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t33}</g>`, "wrapIcon"), tsh = { prefix: "mermaid-architecture", height: 80, width: 80, icons: { database: { body: tsl('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>') }, server: { body: tsl('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>') }, disk: { body: tsl('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>') }, internet: { body: tsl('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>') }, cloud: { body: tsl('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>') }, unknown: s8, blank: { body: tsl("") } } }, tsc = iZ(async function(t33, e10) {
  let r10 = tsn("padding"), i10 = tsn("iconSize"), n10 = i10 / 2, a10 = i10 / 6, o10 = a10 / 2;
  await Promise.all(e10.edges().map(async (e11) => {
    var i11, s10;
    let { source: l10, sourceDir: h10, sourceArrow: u10, sourceGroup: d10, target: p10, targetDir: g10, targetArrow: f10, targetGroup: y10, label: v10 } = toZ(e11), { x: x10, y: b10 } = e11[0].sourceEndpoint(), { x: w10, y: k10 } = e11[0].midpoint(), { x: _10, y: T10 } = e11[0].targetEndpoint(), E10 = r10 + 4;
    if (d10 && (toU(h10) ? x10 += "L" === h10 ? -E10 : E10 : b10 += "T" === h10 ? -E10 : E10 + 18), y10 && (toU(g10) ? _10 += "L" === g10 ? -E10 : E10 : T10 += "T" === g10 ? -E10 : E10 + 18), d10 || (null === (i11 = tsi.getNode(l10)) || void 0 === i11 ? void 0 : i11.type) !== "junction" || (toU(h10) ? x10 += "L" === h10 ? n10 : -n10 : b10 += "T" === h10 ? n10 : -n10), y10 || (null === (s10 = tsi.getNode(p10)) || void 0 === s10 ? void 0 : s10.type) !== "junction" || (toU(g10) ? _10 += "L" === g10 ? n10 : -n10 : T10 += "T" === g10 ? n10 : -n10), e11[0]._private.rscratch) {
      let e12 = t33.insert("g");
      if (e12.insert("path").attr("d", `M ${x10},${b10} L ${w10},${k10} L${_10},${T10} `).attr("class", "edge"), u10) {
        let t34 = toU(h10) ? toB[h10](x10, a10) : x10 - o10, r11 = toG(h10) ? toB[h10](b10, a10) : b10 - o10;
        e12.insert("polygon").attr("points", to$[h10](a10)).attr("transform", `translate(${t34},${r11})`).attr("class", "arrow");
      }
      if (f10) {
        let t34 = toU(g10) ? toB[g10](_10, a10) : _10 - o10, r11 = toG(g10) ? toB[g10](T10, a10) : T10 - o10;
        e12.insert("polygon").attr("points", to$[g10](a10)).attr("transform", `translate(${t34},${r11})`).attr("class", "arrow");
      }
      if (v10) {
        let t34 = toq(h10, g10) ? "XY" : toU(h10) ? "X" : "Y", r11 = 0;
        r11 = "X" === t34 ? Math.abs(x10 - _10) : "Y" === t34 ? Math.abs(b10 - T10) / 1.5 : Math.abs(x10 - _10) / 2;
        let i12 = e12.append("g");
        if (await fH(i12, v10, { useHtmlLabels: false, width: r11, classes: "architecture-service-label" }, nM()), i12.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle"), "X" === t34) i12.attr("transform", "translate(" + w10 + ", " + k10 + ")");
        else if ("Y" === t34) i12.attr("transform", "translate(" + w10 + ", " + k10 + ") rotate(-90)");
        else if ("XY" === t34) {
          let t35 = toj(h10, g10);
          if (t35 && toY(t35)) {
            let e13 = i12.node().getBoundingClientRect(), [r12, n11] = toV(t35);
            i12.attr("dominant-baseline", "auto").attr("transform", `rotate(${-1 * r12 * n11 * 45})`);
            let a11 = i12.node().getBoundingClientRect();
            i12.attr("transform", `
                translate(${w10}, ${k10 - e13.height / 2})
                translate(${r12 * a11.width / 2}, ${n11 * a11.height / 2})
                rotate(${-1 * r12 * n11 * 45}, 0, ${e13.height / 2})
              `);
          }
        }
      }
    }
  }));
}, "drawEdges"), tsu = iZ(async function(t33, e10) {
  let r10 = 0.75 * tsn("padding"), i10 = tsn("fontSize"), n10 = tsn("iconSize") / 2;
  await Promise.all(e10.nodes().map(async (e11) => {
    let a10 = toQ(e11);
    if ("group" === a10.type) {
      let { h: o10, w: s10, x1: l10, y1: h10 } = e11.boundingBox();
      t33.append("rect").attr("x", l10 + n10).attr("y", h10 + n10).attr("width", s10).attr("height", o10).attr("class", "node-bkg");
      let u10 = t33.append("g"), d10 = l10, p10 = h10;
      if (a10.icon) {
        let t34 = u10.append("g");
        t34.html(`<g>${await li(a10.icon, { height: r10, width: r10, fallbackPrefix: tsh.prefix })}</g>`), t34.attr("transform", "translate(" + (d10 + n10 + 1) + ", " + (p10 + n10 + 1) + ")"), d10 += r10, p10 += i10 / 2 - 1 - 2;
      }
      if (a10.label) {
        let t34 = u10.append("g");
        await fH(t34, a10.label, { useHtmlLabels: false, width: s10, classes: "architecture-service-label" }, nM()), t34.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "start").attr("text-anchor", "start"), t34.attr("transform", "translate(" + (d10 + n10 + 4) + ", " + (p10 + n10 + 2) + ")");
      }
    }
  }));
}, "drawGroups"), tsd = iZ(async function(t33, e10, r10) {
  for (let n10 of r10) {
    let r11 = e10.append("g"), a10 = tsn("iconSize");
    if (n10.title) {
      let t34 = r11.append("g");
      await fH(t34, n10.title, { useHtmlLabels: false, width: 1.5 * a10, classes: "architecture-service-label" }, nM()), t34.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle"), t34.attr("transform", "translate(" + a10 / 2 + ", " + a10 + ")");
    }
    let o10 = r11.append("g");
    if (n10.icon) o10.html(`<g>${await li(n10.icon, { height: a10, width: a10, fallbackPrefix: tsh.prefix })}</g>`);
    else if (n10.iconText) {
      var i10;
      o10.html(`<g>${await li("blank", { height: a10, width: a10, fallbackPrefix: tsh.prefix })}</g>`);
      let t34 = o10.append("g").append("foreignObject").attr("width", a10).attr("height", a10).append("div").attr("class", "node-icon-text").attr("style", `height: ${a10}px;`).append("div").html(n10.iconText), e11 = null !== (i10 = parseInt(window.getComputedStyle(t34.node(), null).getPropertyValue("font-size").replace(/\D/g, ""))) && void 0 !== i10 ? i10 : 16;
      t34.attr("style", `-webkit-line-clamp: ${Math.floor((a10 - 2) / e11)};`);
    } else o10.append("path").attr("class", "node-bkg").attr("id", "node-" + n10.id).attr("d", `M0 ${a10} v${-a10} q0,-5 5,-5 h${a10} q5,0 5,5 v${a10} H0 Z`);
    r11.attr("class", "architecture-service");
    let { width: s10, height: l10 } = r11._groups[0][0].getBBox();
    n10.width = s10, n10.height = l10, t33.setElementForId(n10.id, r11);
  }
  return 0;
}, "drawServices"), tsp = iZ(function(t33, e10, r10) {
  r10.forEach((r11) => {
    let i10 = e10.append("g"), n10 = tsn("iconSize");
    i10.append("g").append("rect").attr("id", "node-" + r11.id).attr("fill-opacity", "0").attr("width", n10).attr("height", n10), i10.attr("class", "architecture-junction");
    let { width: a10, height: o10 } = i10._groups[0][0].getBBox();
    i10.width = a10, i10.height = o10, t33.setElementForId(r11.id, i10);
  });
}, "drawJunctions");
function tsg(t33, e10) {
  t33.forEach((t34) => {
    e10.add({ group: "nodes", data: { type: "service", id: t34.id, icon: t34.icon, label: t34.title, parent: t34.in, width: tsn("iconSize"), height: tsn("iconSize") }, classes: "node-service" });
  });
}
function tsf(t33, e10) {
  t33.forEach((t34) => {
    e10.add({ group: "nodes", data: { type: "junction", id: t34.id, parent: t34.in, width: tsn("iconSize"), height: tsn("iconSize") }, classes: "node-junction" });
  });
}
function tsm(t33, e10) {
  e10.nodes().map((e11) => {
    let r10 = toQ(e11);
    "group" !== r10.type && (r10.x = e11.position().x, r10.y = e11.position().y, t33.getElementById(r10.id).attr("transform", "translate(" + (r10.x || 0) + "," + (r10.y || 0) + ")"));
  });
}
function tsy(t33, e10) {
  t33.forEach((t34) => {
    e10.add({ group: "nodes", data: { type: "group", id: t34.id, icon: t34.icon, label: t34.title, parent: t34.in }, classes: "node-group" });
  });
}
function tsv(t33, e10) {
  t33.forEach((t34) => {
    let { lhsId: r10, rhsId: i10, lhsInto: n10, lhsGroup: a10, rhsInto: o10, lhsDir: s10, rhsDir: l10, rhsGroup: h10, title: u10 } = t34, d10 = toq(t34.lhsDir, t34.rhsDir) ? "segments" : "straight", p10 = { id: `${r10}-${i10}`, label: u10, source: r10, sourceDir: s10, sourceArrow: n10, sourceGroup: a10, sourceEndpoint: "L" === s10 ? "0 50%" : "R" === s10 ? "100% 50%" : "T" === s10 ? "50% 0" : "50% 100%", target: i10, targetDir: l10, targetArrow: o10, targetGroup: h10, targetEndpoint: "L" === l10 ? "0 50%" : "R" === l10 ? "100% 50%" : "T" === l10 ? "50% 0" : "50% 100%" };
    e10.add({ group: "edges", data: p10, classes: d10 });
  });
}
function tsx(t33) {
  let [e10, r10] = t33.map((t34) => {
    let e11 = {}, r11 = {};
    return Object.entries(t34).forEach((t35) => {
      let [i10, [n10, a10]] = t35;
      e11[a10] || (e11[a10] = []), r11[n10] || (r11[n10] = []), e11[a10].push(i10), r11[n10].push(i10);
    }), { horiz: Object.values(e11).filter((t35) => t35.length > 1), vert: Object.values(r11).filter((t35) => t35.length > 1) };
  }).reduce((t34, e11) => {
    let [r11, i10] = t34, { horiz: n10, vert: a10 } = e11;
    return [[...r11, ...n10], [...i10, ...a10]];
  }, [[], []]);
  return { horizontal: e10, vertical: r10 };
}
function tsb(t33) {
  let e10 = [], r10 = iZ((t34) => `${t34[0]},${t34[1]}`, "posToStr"), i10 = iZ((t34) => t34.split(",").map((t35) => parseInt(t35)), "strToPos");
  return t33.forEach((t34) => {
    let n10 = Object.fromEntries(Object.entries(t34).map((t35) => {
      let [e11, i11] = t35;
      return [r10(i11), e11];
    })), a10 = [r10([0, 0])], o10 = {}, s10 = { L: [-1, 0], R: [1, 0], T: [0, 1], B: [0, -1] };
    for (; a10.length > 0; ) {
      let t35 = a10.shift();
      if (t35) {
        o10[t35] = 1;
        let l10 = n10[t35];
        if (l10) {
          let h10 = i10(t35);
          Object.entries(s10).forEach((t36) => {
            let [i11, s11] = t36, u10 = r10([h10[0] + s11[0], h10[1] + s11[1]]), d10 = n10[u10];
            d10 && !o10[u10] && (a10.push(u10), e10.push({ [toP[i11]]: d10, [toP[toF(i11)]]: l10, gap: 1.5 * tsn("iconSize") }));
          });
        }
      }
    }
  }), e10;
}
function tsw(t33, e10, r10, i10, n10) {
  let { spatialMaps: a10 } = n10;
  return new Promise((n11) => {
    let o10 = hl("body").append("div").attr("id", "cy").attr("style", "display:none"), s10 = tr5({ container: document.getElementById("cy"), style: [{ selector: "edge", style: { "curve-style": "straight", label: "data(label)", "source-endpoint": "data(sourceEndpoint)", "target-endpoint": "data(targetEndpoint)" } }, { selector: "edge.segments", style: { "curve-style": "segments", "segment-weights": "0", "segment-distances": [0.5], "edge-distances": "endpoints", "source-endpoint": "data(sourceEndpoint)", "target-endpoint": "data(targetEndpoint)" } }, { selector: "node", style: { "compound-sizing-wrt-labels": "include" } }, { selector: "node[label]", style: { "text-valign": "bottom", "text-halign": "center", "font-size": `${tsn("fontSize")}px` } }, { selector: ".node-service", style: { label: "data(label)", width: "data(width)", height: "data(height)" } }, { selector: ".node-junction", style: { width: "data(width)", height: "data(height)" } }, { selector: ".node-group", style: { padding: `${tsn("padding")}px` } }] });
    o10.remove(), tsy(r10, s10), tsg(t33, s10), tsf(e10, s10), tsv(i10, s10);
    let l10 = tsx(a10), h10 = tsb(a10), u10 = s10.layout({ name: "fcose", quality: "proof", styleEnabled: false, animate: false, nodeDimensionsIncludeLabels: false, idealEdgeLength(t34) {
      let [e11, r11] = t34.connectedNodes(), { parent: i11 } = toQ(e11), { parent: n12 } = toQ(r11);
      return i11 === n12 ? 1.5 * tsn("iconSize") : 0.5 * tsn("iconSize");
    }, edgeElasticity(t34) {
      let [e11, r11] = t34.connectedNodes(), { parent: i11 } = toQ(e11), { parent: n12 } = toQ(r11);
      return i11 === n12 ? 0.45 : 1e-3;
    }, alignmentConstraint: l10, relativePlacementConstraint: h10 });
    u10.one("layoutstop", () => {
      function t34(t35, e12, r11, i11) {
        let n12, a11;
        let { x: o11, y: s11 } = t35, { x: l11, y: h11 } = e12;
        a11 = (i11 - s11 + (o11 - r11) * (s11 - h11) / (o11 - l11)) / Math.sqrt(1 + Math.pow((s11 - h11) / (o11 - l11), 2)), n12 = Math.sqrt(Math.pow(i11 - s11, 2) + Math.pow(r11 - o11, 2) - Math.pow(a11, 2)) / Math.sqrt(Math.pow(l11 - o11, 2) + Math.pow(h11 - s11, 2));
        let u11 = (l11 - o11) * (i11 - s11) - (h11 - s11) * (r11 - o11);
        switch (true) {
          case u11 >= 0:
            u11 = 1;
            break;
          case u11 < 0:
            u11 = -1;
        }
        let d10 = (l11 - o11) * (r11 - o11) + (h11 - s11) * (i11 - s11);
        switch (true) {
          case d10 >= 0:
            d10 = 1;
            break;
          case d10 < 0:
            d10 = -1;
        }
        return { distances: a11 = Math.abs(a11) * u11, weights: n12 *= d10 };
      }
      for (let r11 of (iZ(t34, "getSegmentWeights"), s10.startBatch(), Object.values(s10.edges()))) {
        var e11;
        if (null === (e11 = r11.data) || void 0 === e11 ? void 0 : e11.call(r11)) {
          let { x: e12, y: i11 } = r11.source().position(), { x: n12, y: a11 } = r11.target().position();
          if (e12 !== n12 && i11 !== a11) {
            let e13 = r11.sourceEndpoint(), i12 = r11.targetEndpoint(), { sourceDir: n13 } = toZ(r11), [a12, o11] = toG(n13) ? [e13.x, i12.y] : [i12.x, e13.y], { weights: s11, distances: l11 } = t34(e13, i12, a12, o11);
            r11.style("segment-distances", l11), r11.style("segment-weights", s11);
          }
        }
      }
      s10.endBatch(), u10.run();
    }), u10.run(), s10.ready((t34) => {
      i0.info("Ready", t34), n11(s10);
    });
  });
}
le([{ name: tsh.prefix, icons: tsh }]), tr5.use(toO), iZ(tsg, "addServices"), iZ(tsf, "addJunctions"), iZ(tsm, "positionNodes"), iZ(tsy, "addGroups"), iZ(tsv, "addEdges"), iZ(tsx, "getAlignments"), iZ(tsb, "getRelativeConstraints"), iZ(tsw, "layoutArchitecture");
let tsk = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: tso, db: tsi, renderer: { draw: iZ(async (t33, e10, r10, i10) => {
  let n10 = i10.db, a10 = n10.getServices(), o10 = n10.getJunctions(), s10 = n10.getGroups(), l10 = n10.getEdges(), h10 = n10.getDataStructures(), u10 = vW(e10), d10 = u10.append("g");
  d10.attr("class", "architecture-edges");
  let p10 = u10.append("g");
  p10.attr("class", "architecture-services");
  let g10 = u10.append("g");
  g10.attr("class", "architecture-groups"), await tsd(n10, p10, a10), tsp(n10, p10, o10);
  let f10 = await tsw(a10, o10, s10, l10, h10);
  await tsc(d10, f10), await tsu(g10, f10), tsm(n10, f10), aa(void 0, u10, tsn("padding"), tsn("useMaxWidth"));
}, "draw") }, styles: tss } }, Symbol.toStringTag, { value: "Module" })), ts_ = Object.freeze(Object.defineProperty({ __proto__: null, InfoModule: O$, createInfoServices: OB }, Symbol.toStringTag, { value: "Module" })), tsT = Object.freeze(Object.defineProperty({ __proto__: null, PacketModule: Oz, createPacketServices: OU }, Symbol.toStringTag, { value: "Module" })), tsE = Object.freeze(Object.defineProperty({ __proto__: null, PieModule: OY, createPieServices: OH }, Symbol.toStringTag, { value: "Module" })), tsC = Object.freeze(Object.defineProperty({ __proto__: null, ArchitectureModule: OV, createArchitectureServices: OX }, Symbol.toStringTag, { value: "Module" })), tsS = Object.freeze(Object.defineProperty({ __proto__: null, GitGraphModule: OD, createGitGraphServices: OO }, Symbol.toStringTag, { value: "Module" }));
export {
  ef as O,
  b8 as a,
  ey as b
};
