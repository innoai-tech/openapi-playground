var __defProp = Object.defineProperty;
var __typeError = (msg) => {
  throw TypeError(msg);
};
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateMethod = (obj, member, method) => (__accessCheck(obj, member, "access private method"), method);
var _e2, _t2, _eT_instances, r_get, n_fn, _a2, _i2, _b2, _i3, _c2, _i4, _d2, _i5, _e3, _i6, _f2, _i7, _g2, _i8, _h2, _i9, _i10, _i11, _j2, _i12, _k2, _i13, _l2, _i14, _m2, _i15, _n2, _i16, _o, _i17, _p2, _i18, _q2, _i19, _r, _i20, _s2, _i21, _t3, _i22, __this_instances, s_fn, a_fn, o_fn, _u2, _i23, _v2, _i24, _w2, _i25, _x2, _i26, _y2, _i27, _z2, _i28, _A2, _i29, _B2, _i30, _C2, _i31, _D2, _i32, _E2, _i33, _F2, _i34, _G2, _i35, _H2, _i36, _I2, _i37, _J2, _i38, _K2, _i39, _L2, _i40, _M2, _i41, _N2, _i42, _O2, _i43, _P2, _i44, _Q2, _i45, _R2, _i46, _S2, _i47, _T2, _i48, _U2, _i49, _V2, _i50, _W2, _i51, _X2, _i52, _Y2, _i53, _Z2, _i54, __2, _i55, _$2, _i56, _aa, _i57, _ba, _i58, _ca, _i59, _da, _i60, _ea, _i61, _fa, _i62, _ga, _i63, _ha, _i64, _ia, _i65, _ja, _i66, _ka, _i67, _la, _i68, _ma, _i69, _na, _i70, _oa, _i71, _pa, _i72, _qa, _i73, _ra, _i74, _sa, _i75, _ta, _i76, _ua, _i77, _va, _i78, _wa, _i79, _xa, _i80, _ya, _i81, _za, _i82, _Aa, _i83, _Ba, _i84, _Ca, _i85, _Da, _i86, _Ea, _i87, _Fa, _i88, _Ga, _i89, _Ha, _i90, _Ia, _i91, _Ja, _i92, _Ka, _i93, _La, _i94, _Ma, _i95, _Na, _i96, _Oa, _i97, _Pa, _i98, _Qa, _i99, _Ra, _i100, _Sa, _i101, _Ta, _i102, _Ua, _i103, _Va, _i104, _Wa, _i105, _Xa, _i106, _Ya, _i107, _Za, _i108, __a, _i109, _$a, _i110, _ab, _i111, _bb, _i112, _cb, _i113, _db, _i114, _eb, _i115, _fb, _i116, _gb, _i117, _hb, _i118, _ib, _i119, _jb, _i120, _kb, _i121, _lb, _i122, _mb, _i123, _nb, _i124, _ob, _i125, _pb, _i126, _qb, _i127, _rb, _i128, _sb, _i129, _tb, _i130, _ub, _i131, _vb, _i132, _wb, _i133, _xb, _i134, _yb, _i135, _zb, _i136, _Ab, _i137, _Bb, _i138, _Cb, _i139, _Db, _i140, _Eb, _i141, _Fb, _i142, _Gb, _i143, _Hb, _i144, _Ib, _i145, _Jb, _i146, _Kb, _i147, _Lb, _i148, _Mb, _i149, _Nb, _i150, _Ob, _i151, _Pb, _i152, _Qb, _i153, _Rb, _i154, _Sb, _i155, _Tb, _i156, _Ub, _i157, _Vb, _i158, _Wb, _i159, _Xb, _i160, _Yb, _i161, _Zb, _i162, __b, _i163, _$b, _i164, _ac, _i165, _bc, _i166, _cc, _i167, _dc, _i168, _ec, _i169, _fc, _i170, _gc, _i171, _hc, _i172, _ic, _i173, _jc, _i174, _kc, _i175, _lc, _i176, _mc, _i177, _nc, _i178, _oc, _i179, _pc, _i180, _qc, _i181, _l3, _rc, _i182, _l4, _sc, _i183, _l5, _tc, _i184, _l6, _uc, _i185, _l7, _vc, _i186, _l8, _wc, _i187, _l9, _xc, _i188, _l10, _yc, _i189, _l11, _zc, _i190, _l12, _Ac, _i191, _l13, _Bc, _i192, _l14, _Cc, _i193, _Dc, _i194, _Ec, _i195, _Fc, _i196, _Gc, _i197, _Hc, _i198, _Ic, _i199, _Jc, _i200, _Kc, _i201, _Lc, _i202, _Mc, _i203, _Nc, _i204, _Oc, _i205, _Pc, _i206, _Qc, _i207, _Rc, _i208, _l15;
let e;
import { I as t, r, c as n, a as i, o as a, e as s, s as o, y as l, k as h, j as u, C as d, R as p, d as f, F as g, b as y, D as v, E as x, G as b, m as k, _ as w } from "./lib-nodepkg-vuekit.BuMHRMp9.chunk.js";
import { S as _, s as T, b as S, e as C, f as E, g as A, h as L, j as I, o as M } from "./lib-nodepkg-typedef.BsYo_O8x.chunk.js";
import { c as N, a as R, p as D, t as O } from "./vendor-innoai-tech-fetcher.KkH6f0Jt.chunk.js";
import { B as $, s as P, b as B, m as F, E as z, o as j, S as q, t as U, k as W, O as V, l as H, c as Y, e as G, n as X } from "./vendor-rxjs.0fvETg7O.chunk.js";
import { w as K, g as Z, a as Q, x as J, d as ee, e as et } from "./vendor-innoai-tech-lodash.BIpaKHXU.chunk.js";
import { s as er, B as en, v as ei, a as ea } from "./lib-nodepkg-vueuikit.BRE8okFg.chunk.js";
import { M as es } from "./lib-nodepkg-vuemarkdown.DR5du_WU.chunk.js";
import { I as eo, D as el, m as ec, T as eh, F as eu, f as ed, g as ep, h as ef, i as eg, a as em } from "./lib-nodepkg-vuematerial.CVl0YFoA.chunk.js";
import { l as ey, h as ev, i as ex, F as eb } from "./lib-nodepkg-vueformdata.CWAXaynC.chunk.js";
import { J as ek, a as ew, b as e_ } from "./lib-nodepkg-jsoneditor.aeHuJxDu.chunk.js";
const _eT = class _eT extends t {
  constructor() {
    super(...arguments);
    __privateAdd(this, _eT_instances);
    __privateAdd(this, _e2, N({ paramsSerializer: D, transformRequestBody: O }));
    __privateAdd(this, _t2, new $(/* @__PURE__ */ new Map()));
  }
  static empty() {
    return new _eT({ openapi: "3.1.0", components: { schemas: {} }, paths: {} });
  }
  response$(e30) {
    return r(__privateGet(this, _t2), P((t10) => {
      let r10 = t10.get(e30);
      return r10 ? F(r10, r10.error$) : z;
    }));
  }
  requesting$(e30) {
    return r(__privateGet(this, _t2), P((t10) => {
      var r10, n10;
      return null !== (n10 = null === (r10 = t10.get(e30)) || void 0 === r10 ? void 0 : r10.requesting$) && void 0 !== n10 ? n10 : j(false);
    }));
  }
  asRequestConfigCreator(e30) {
    var t10, r10;
    let n10 = __privateMethod(this, _eT_instances, n_fn).call(this, e30);
    if (!n10) return null;
    let i10 = Object.keys(null !== (r10 = null === (t10 = n10.requestBody) || void 0 === t10 ? void 0 : t10.content) && void 0 !== r10 ? r10 : {})[0];
    return (e31) => {
      var t11, r11;
      return { method: n10.method, url: __privateGet(this, _eT_instances, r_get) + eC(n10.path, e31), params: K(e31, null === (t11 = n10.parameters) || void 0 === t11 ? void 0 : t11.filter((e32) => "query" == e32.in).map((e32) => e32.name)), headers: { ...K(e31, null === (r11 = n10.parameters) || void 0 === r11 ? void 0 : r11.filter((e32) => "header" == e32.in).map((e32) => e32.name)), ...i10 ? { "Content-Type": i10 } : {} }, body: e31.body, inputs: e31 };
    };
  }
  request(e30, t10) {
    let r10 = __privateGet(this, _t2).value.get(e30);
    if (!r10) {
      let t11 = this.asRequestConfigCreator(e30);
      if (!t11) return;
      r10 = R(Object.assign(t11, { operationID: e30, TRespData: {} }), __privateGet(this, _e2)), __privateGet(this, _t2).value.set(e30, r10), __privateGet(this, _t2).next(__privateGet(this, _t2).value);
    }
    r10.next(t10);
  }
  operation$(e30) {
    return r(this, P((t10) => {
      for (let r10 of eS(t10, { operationId: e30 })) if (r10) return j(r10);
      return j(null);
    }));
  }
  operations$(e30) {
    return r(this, P((t10) => j([...eS(t10, e30)])));
  }
  schema$(e30) {
    var t10, n10;
    let i10 = null !== (n10 = null === (t10 = e30.split("#/")[1]) || void 0 === t10 ? void 0 : t10.split("/")) && void 0 !== n10 ? n10 : [];
    return r(this, P((e31) => {
      if (i10) {
        var t11;
        return j(null !== (t11 = Z(e31, i10)) && void 0 !== t11 ? t11 : null);
      }
      return j(null);
    }), B((e31) => e31 ? { ...e31, $id: i10[i10.length - 1] } : e31));
  }
  schema(e30) {
    var t10, r10, n10;
    let i10 = null !== (r10 = null === (t10 = e30.split("#/")[1]) || void 0 === t10 ? void 0 : t10.split("/")) && void 0 !== r10 ? r10 : [];
    if (i10) return null !== (n10 = Z(this.value, i10)) && void 0 !== n10 ? n10 : void 0;
  }
};
_e2 = new WeakMap();
_t2 = new WeakMap();
_eT_instances = new WeakSet();
r_get = function() {
  var e30, t10, r10;
  return null !== (r10 = null === (t10 = this.value.servers) || void 0 === t10 ? void 0 : null === (e30 = t10[0]) || void 0 === e30 ? void 0 : e30.url) && void 0 !== r10 ? r10 : "";
};
n_fn = function(e30) {
  for (let t10 of eS(this.value, { operationId: e30 })) if (t10) return t10;
  return null;
};
let eT = _eT;
function* eS(e30, t10) {
  for (let [a10, s10] of Object.entries(e30.paths)) for (let [e31, o10] of Object.entries(s10)) {
    var r10, n10, i10;
    if ("OpenAPI" != o10.operationId && "OpenAPIView" != o10.operationId && (!t10.tag || (null !== (n10 = o10.tags) && void 0 !== n10 ? n10 : []).includes(t10.tag))) {
      if (t10.operationId) {
        if (t10.operationId.startsWith("*")) {
          if (!o10.operationId.toLowerCase().includes(t10.operationId.slice(1).toLowerCase())) continue;
        } else if (o10.operationId.toLowerCase() != t10.operationId.toLowerCase()) continue;
      }
      yield { ...o10, method: e31, path: a10, group: null !== (i10 = null === (r10 = o10.tags) || void 0 === r10 ? void 0 : r10[0]) && void 0 !== i10 ? i10 : "" };
    }
  }
}
let eC = function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  return e30.replace(/{([\s\S]+?)}/g, (e31, r10) => [].concat(t10[r10] || e31).join(","));
}, eE = n(() => eT.empty(), { name: "OpenAPI" }), eA = (e30) => (t10, r10) => t10[e30] == r10[e30] ? 0 : t10[e30] < r10[e30] ? -1 : 1, eL = i((e30, n10) => {
  let {} = e30, {} = n10, i10 = eE.use(), f10 = new t({ operationId: void 0 }), g10 = new q();
  r(g10, W(200), U((e31) => {
    f10.next((t10) => {
      t10.operationId = `*${null != e31 ? e31 : ""}`;
    });
  }), o());
  let y10 = a(null);
  r(y10, P((e31) => {
    if (e31) {
      let t10 = (t11) => {
        t11 && e31.scrollTo({ top: t11.offsetTop - e31.offsetTop });
      };
      return new V(() => {
        let r10 = new MutationObserver((e32) => {
          for (let r11 of e32) if ("attributes" === r11.type) {
            let e33 = r11.target;
            e33.classList.contains("router-link-active") && t10(e33);
          }
        });
        return r10.observe(e31, { attributes: true, subtree: true }), setTimeout(() => {
          t10(e31.querySelector(".router-link-active"));
        }, 100), () => {
          r10.disconnect();
        };
      });
    }
    return z;
  }), l());
  let v10 = r(f10, P((e31) => i10.operations$(e31)), h((e31) => {
    let t10 = Object.groupBy(e31, (e32) => e32.group);
    return s(eM, { children: [u(eN, { children: u("input", { type: "text", placeholder: "请输入 operationId 查询", onInput: (e32) => {
      g10.next(e32.target.value);
    } }) }), u(eR, { sx: { flex: 1, overflow: "scroll" }, ref: y10, children: Object.entries(t10).toSorted().map((e32) => {
      let [t11, r10] = e32;
      return s("div", { "data-nav-group": true, children: [u("div", { "data-nav-group-heading": true, children: t11 }), u("div", { "data-nav-group-contents": true, children: null == r10 ? void 0 : r10.toSorted(eA("operationId")).map((e33) => {
        var t12;
        return s(eO, { component: d, to: `/operations/${e33.operationId}`, children: [u(en, { "data-operation-method": true, sx: { color: null !== (t12 = { get: "sys.primary", post: "sys.success", put: "sys.warning", delete: "sys.error" }[e33.method]) && void 0 !== t12 ? t12 : "sys.secondary" }, children: e33.method }), s("div", { "data-operation-desc": true, children: [u("div", { "data-operation-id": true, children: e33.operationId }), e33.summary ? u("div", { "data-operation-summary": true, children: e33.summary != e33.operationId ? e33.summary : u("span", { children: " " }) }) : void 0] })] });
      }) })] });
    }) })] });
  }));
  return () => s(eI, { children: [v10, u(eD, { children: u(p, {}) })] });
}, { displayName: "OpenAPIView" }), eI = er("div", { displayName: "Container" })({ width: "100vw", height: "100vh", overflow: "hidden", display: "flex" }), eM = er("aside", { displayName: "NavContainer" })({ width: 240, py: 4, display: "flex", flexDirection: "column", gap: 4, height: "100%", overflow: "hidden", borderRight: "1px solid", borderColor: "sys.outline" }), eN = er("div", { displayName: "NavSearchBox" })({ input: { py: 10, px: 12, border: "none", width: "100%", outline: 0 }, borderBottom: "1px solid", borderColor: "sys.outline" }), eR = er("div", { displayName: "Nav" })({ display: "flex", flexDirection: "column", gap: 4, $data_nav_group_heading: { px: 12, py: 4, textStyle: "sys.label-small", containerStyle: "sys.secondary-container" } }), eD = er("main", { displayName: "Main" })({ flex: 1, overflow: "hidden" }), eO = er("a", { displayName: "OperationListItem" })({ px: 12, py: 8, pos: "relative", overflow: "hidden", width: 240, display: "flex", alignItems: "center", gap: 8, flexDirection: "row-reverse", textDecoration: "none", $data_operation_method: { textTransform: "uppercase", fontSize: 18, fontFamily: "code", display: "flex", alignItems: "center", pointerEvents: "none" }, $data_operation_desc: { flex: 1, overflow: "hidden" }, $data_operation_id: { textStyle: "sys.label-large", textOverflow: "ellipsis", overflow: "hidden" }, $data_operation_summary: { opacity: 0.7, textStyle: "sys.body-small", textOverflow: "ellipsis", overflow: "hidden" }, "&.router-link-active": { containerStyle: "sys.surface-container" } }), e$ = er("div", { displayName: "Token" })({ display: "inline-table", textStyle: "sys.label-small", fontWeight: "bold", fontFamily: "inherit", fontSize: 11, lineHeight: 14 }), eP = er("div", { displayName: "PropName", props: ["deprecated", "optional", "nullable"] })({ display: "inline-table", textStyle: "sys.label-small", fontWeight: "bold", fontFamily: "inherit", fontSize: 11, lineHeight: 14, color: "sys.primary", _deprecated: { textDecoration: "line-through" }, _nullable: { "&:after": { content: '"??"', color: "sys.error" } }, _optional: { "&:after": { content: '"?"', color: "sys.secondary" } } }), eB = er("div", (e30, t10) => {
  let { slots: r10 } = t10, n10 = eq.use();
  return (t11) => {
    var i10, a10;
    return u(t11, { style: { paddingLeft: `${n10.indent}em`, marginTop: (null !== (a10 = e30.spacing) && void 0 !== a10 ? a10 : 0) * 0.5 }, children: null === (i10 = r10.default) || void 0 === i10 ? void 0 : i10.call(r10) });
  };
}, { displayName: "Line", props: ["spacing"] })({ position: "relative", display: "block" }), eF = er("div", (e30, t10) => {
  let {} = t10;
  return (t11) => {
    var r10, n10;
    let i10 = null !== (r10 = _.metaProp(e30.schema, "title")) && void 0 !== r10 ? r10 : "", a10 = null !== (n10 = _.metaProp(e30.schema, "description")) && void 0 !== n10 ? n10 : "";
    return s(t11, { children: [i10, " ", a10 ? u(eh, { title: u(ez, { children: u(es, { text: a10 }) }), children: u(eo, { path: ec }) }) : null] });
  };
}, { displayName: "Description", props: ["schema"] })({ position: "relative", pt: 8, display: "flex", alignItems: "center", gap: 4, "&::before": { content: '"// "', fontFamily: "code" }, textStyle: "sys.body-small", fontSize: 10, lineHeight: 12, [`${eo}`]: { width: 12, height: 12, overflow: "hidden" } }), ez = er("div", { displayName: "MarkdownContainer" })({ textStyle: "sys.body-small", "& p": { my: 1, wordBreak: "keep-all", whiteSpace: "nowrap", opacity: 0.7 }, "& code": { wordBreak: "keep-all", whiteSpace: "nowrap" } }), ej = (e30) => {
  let { name: t10, value: r10, extra: n10 } = e30;
  return "" == r10 ? null : u(eB, { children: s(e$, { sx: { opacity: 0.7, wordBreak: "keep-all", whiteSpace: "nowrap" }, children: [u(e$, { sx: { color: "sys.primary" }, children: `@${t10}(` }), `${r10}`, Object.entries(null != n10 ? n10 : {}).map((e31) => {
    let [t11, r11] = e31;
    return s(g, { children: [s(e$, { sx: { opacity: 0.5 }, children: [",", " "] }), u(e$, { sx: { opacity: 0.5 }, children: t11 }), s(e$, { sx: { opacity: 0.5 }, children: [":", " "] }), u(e$, { sx: { opacity: 0.7 }, children: r11 })] });
  }), u(e$, { sx: { color: "sys.primary" }, children: ")" })] }) });
}, eq = n(() => ({ indent: 0 }), { name: "IntentContext" }), eU = f((e30, t10) => {
  let {} = e30, { slots: r10 } = t10, n10 = eq.use();
  return () => {
    var e31;
    return u(eq, { value: { indent: n10.indent + 1 }, children: null === (e31 = r10.default) || void 0 === e31 ? void 0 : e31.call(r10) });
  };
}, { displayName: "Indent" });
class eW {
  constructor(e30, t10) {
    this.id = e30, this.parent = t10;
  }
  child(e30) {
    return new eW(e30, this);
  }
  safe(e30) {
    let t10 = this;
    for (; t10; ) {
      if (t10.id == e30) return false;
      t10 = t10.parent;
    }
    return true;
  }
}
let eV = n(() => new eW("")), eH = i((e30) => {
  let t10 = eV.use(), r10 = eq.use(), n10 = a(false);
  return () => {
    let i10 = e30.schema, a10 = _.schemaProp(e30.schema, "$ref"), o10 = "intersection" == (i10 = _.schemaProp(e30.schema, _.unwrap)()).type || "object" == i10.type || "union" == i10.type || "record" == i10.type || "array" == i10.type || "union" == i10.type, l10 = t10.safe(a10) && s(g, { children: [u("span", { children: " " }), u(eG, { schema: i10 })] });
    return u(eV, { value: t10.child(a10), children: o10 ? r10.indent < 3 ? s(g, { children: [u(d, { to: `#${a10}`, children: u(e$, { id: a10, children: a10 }) }), r10.indent < 3 && l10] }) : s(g, { children: [u("a", { href: `#${a10}`, onClick: (e31) => {
      e31.preventDefault(), n10.next(true);
    }, children: u(e$, { id: a10, children: a10 }) }), t10.safe(a10) && u(el, { isOpen: n10.value, onClose: () => {
      n10.next(false);
    }, children: u(eY, { children: s(eB, { children: [u(e$, { children: a10 }), u(eq, { value: { indent: 0 }, children: l10 })] }) }) })] }) : l10 });
  };
}, { displayName: "SchemaViewLink", props: ["schema"] }), eY = er("div", { displayName: "DialogContainer" })({ display: "flex", containerStyle: "sys.surface", height: "100vh", width: "36vw", roundedLeft: "sm", px: 16, py: 36, top: 0, right: 0, position: "absolute", overflow: "auto" }), eG = i((e30) => {
  let t10 = e30.schema;
  return _.schemaProp(t10, "$ref") ? u(eH, { schema: t10 }) : () => {
    var e31, r10, n10, i10, a10, o10, l10, h10;
    switch (t10.type) {
      case "union":
        return u(g, { children: null === (e31 = _.schemaProp(t10, "oneOf")) || void 0 === e31 ? void 0 : e31.map((e32, t11) => s(g, { children: [t11 > 0 && s(e$, { children: [" ", " | ", " "] }), u(eG, { schema: e32 })] })) });
      case "intersection":
        return u(e$, { children: null === (r10 = _.schemaProp(t10, "allOf")) || void 0 === r10 ? void 0 : r10.filter((e32) => !Object.keys(e32).length).map((e32, t11) => s(g, { children: [t11 > 0 && s(e$, { children: [" ", "&", " "] }), u(eG, { schema: e32 })] })) });
      case "array":
        return s(e$, { sx: { wordBreak: "keep-all", whiteSpace: "nowrap" }, children: [u(e$, { children: "Array<" }), u(eG, { schema: null !== (n10 = _.schemaProp(t10, "items")) && void 0 !== n10 ? n10 : S() }), u(e$, { children: ">" })] });
      case "object":
        return s(g, { children: [u(e$, { children: "{" }), u(eU, { children: u(g, { children: Object.entries(null !== (i10 = _.schemaProp(t10, "properties")) && void 0 !== i10 ? i10 : {}).map((e32) => {
          var r11;
          let [n11, i11] = e32;
          return i11 ? u(g, { children: s(eB, { spacing: 2, children: [u(eF, { schema: i11 }), s(e$, { sx: { wordBreak: "keep-all", whiteSpace: "nowrap" }, children: [u(eP, { nullable: _.schemaProp(t10, "nullable"), deprecated: _.schemaProp(t10, "deprecated"), optional: !(null !== (r11 = _.schemaProp(t10, "required")) && void 0 !== r11 ? r11 : []).includes(n11), children: n11 }), u(e$, { sx: { mr: "1em" }, children: ":" }), u(eG, { schema: i11 })] })] }) }) : null;
        }) }) }), u(e$, { children: "}" })] });
      case "record":
        return s(g, { children: [u(e$, { children: "{" }), _.schemaProp(t10, "additionalProperties") && u(g, { children: u(eU, { children: s(eB, { children: [s(e$, { sx: { mr: 1 }, children: ["[K:", " "] }), u(eG, { schema: null !== (a10 = _.schemaProp(t10, "propertyNames")) && void 0 !== a10 ? a10 : T() }), s(e$, { sx: { mr: 1 }, children: ["]:", " "] }), u(eG, { schema: null !== (o10 = _.schemaProp(t10, "additionalProperties")) && void 0 !== o10 ? o10 : S() })] }) }) }), u(e$, { children: "}" })] });
      case "enums": {
        let e32 = null !== (l10 = _.schemaProp(t10, "enum")) && void 0 !== l10 ? l10 : [];
        if (1 == e32.length) return u(e$, { children: JSON.stringify(e32[0]) });
        let r11 = "any";
        return e32.length > 0 && (r11 = typeof e32[0]), s(g, { children: [u(e$, { sx: { fontWeight: "bold" }, children: r11 }), u(eU, { children: e32.map((e33, r12) => {
          var n11;
          return u(ej, { name: "enum", value: `${e33}`, extra: (null === (n11 = _.metaProp(t10, "enumLabels")) || void 0 === n11 ? void 0 : n11[r12]) ? { label: JSON.stringify(_.metaProp(t10, "enumLabels")[r12]) } : {} }, e33);
        }) })] });
      }
    }
    let [d10, p10, f10] = [t10.type, _.schemaProp(t10, "format"), _.schemaProp(t10, "default")];
    return s(g, { children: [u(e$, { sx: { fontWeight: "bold" }, children: d10 || "any" }), s(eU, { children: [p10 && u(ej, { name: "format", value: p10 }), !Q(f10) && u(ej, { name: "default", value: f10 }), !eX(t10) && u(ej, { name: "validate", value: eX(h10 = t10) ? _.schemaProp(h10, "pattern") ? `@r/${String(_.schemaProp(h10, "pattern"))}/` : `@${_.schemaProp(h10, "exclusiveMinimum")} ? "(" : "["}${_.schemaProp(h10, "minProperties") ? _.schemaProp(h10, "minProperties") : _.schemaProp(h10, "minItems") ? _.schemaProp(h10, "minItems") : _.schemaProp(h10, "minimum") ? _.schemaProp(h10, "minimum") : _.schemaProp(h10, "minLength") ? _.schemaProp(h10, "minLength") : "string" === h10.type ? "0" : ("number" === h10.type || "integer" === h10.type) && _.schemaProp(h10, "format") ? `${Math.pow(2, Number(_.schemaProp(h10, "format").replace(/[^0-9]/g, "")) - 1) - 1}` : "-∞"},${_.schemaProp(h10, "maxProperties") ? _.schemaProp(h10, "maxProperties") : _.schemaProp(h10, "maxItems") ? _.schemaProp(h10, "maxItems") : _.schemaProp(h10, "maximum") ? _.schemaProp(h10, "maximum") : _.schemaProp(h10, "maxLength") ? _.schemaProp(h10, "maxLength") : "string" === h10.type && "uint64" === _.schemaProp(h10, "format") ? "19" : ("number" === h10.type || "integer" === h10.type) && _.schemaProp(h10, "format") ? `${Math.pow(2, Number(_.schemaProp(h10, "format").replace(/[^0-9]/g, "")) - 1) - 1}` : "+∞"}${_.schemaProp(h10, "exclusiveMaximum") ? ")" : "]"}` : "" })] })] });
  };
}, { displayName: "SchemaView", props: ["schema"] });
function eX(e30) {
  return ["enum", "maximum", "exclusiveMaximum", "minimum", "exclusiveMinimum", "maxLength", "minLength", "pattern", "maxItems", "minItems", "maxProperties", "minProperties"].some((t10) => _.schemaProp(e30, t10));
}
let eK = i({ code: C(), response: C() }, (e30) => {
  let t10 = eE.use();
  return () => {
    var r10, n10;
    return s(eZ, { children: [u(eQ, { "data-failed": function(e31) {
      try {
        return Number(e31) >= 400;
      } catch (e32) {
        return false;
      }
    }(e30.code), children: e30.code }), s(en, { sx: { pl: "4em" }, children: [u(g, { children: J(null !== (r10 = e30.response["x-status-return-errors"]) && void 0 !== r10 ? r10 : []).map((e31) => function() {
      let e32 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t11 = e32.indexOf("{");
      return t11 > -1 ? e32.slice(t11 + 1, e32.length - 1).split(",").reduce((e33, t12) => (e33.joining ? e33.values[e33.values.length - 1] += "," + t12 : e33.values.push(t12), t12.split('"').length % 2 == 0 && (e33.joining = !e33.joining), e33), { values: [], joining: false }).values.reduce((e33, t12) => {
        let r11 = t12.indexOf("=");
        if (r11 < 0) return e33;
        let n11 = t12.slice(0, r11), i10 = t12.slice(r11 + 1);
        return Q(n11) || Q(i10) ? e33 : { ...e33, [n11]: JSON.parse(i10) };
      }, { key: e32.slice(0, t11) }) : null;
    }(e31)).map((e31) => e31 ? u(en, { sx: { mb: 16 }, children: s(eB, { spacing: 0, children: [s(e$, { children: ["{", " "] }), u(eU, { children: Object.entries(e31).map((e32) => {
      let [t11, r11] = e32;
      return "code" === t11 ? null : s(eB, { children: [u(eP, { children: t11 }), u(e$, { children: ": " }), u(e$, { children: JSON.stringify(r11) })] });
    }) }), s(e$, { children: [" ", "}"] })] }) }) : null) }), u(g, { children: Object.entries(null !== (n10 = e30.response.content) && void 0 !== n10 ? n10 : {}).map((e31) => {
      let [r11, { schema: n11 }] = e31;
      return s(eJ, { children: [u(eB, { spacing: 0, children: u(eG, { schema: E.decode(n11, (e32) => {
        var r12;
        return [null !== (r12 = t10.schema(e32)) && void 0 !== r12 ? r12 : {}, A(e32)];
      }) }) }), u("div", { "data-content-type": true, children: r11 })] });
    }) })] })] });
  };
}, { displayName: "ResponseView" }), eZ = er("section", { displayName: "ResponseSection" })({}), eQ = er("div", { displayName: "ResponseStatusCode" })({ fontSize: 18, fontFamily: "code", color: "sys.success", py: 12, pos: "sticky", top: 0, _data_failed__true: { color: "sys.error" } }), eJ = er("section", { displayName: "ResponseSchema" })({ pos: "relative", $data_content_type: { pos: "absolute", right: 0, top: 0, fontFamily: "code", opacity: 0.3 } }), e0 = er("div", (e30, t10) => {
  let { slots: r10 } = t10;
  return (t11) => {
    var n10, i10, a10, o10;
    let l10 = e30.valued, h10 = e30.invalid, d10 = e30.disabled, p10 = (null !== (o10 = null === (n10 = r10.default) || void 0 === n10 ? void 0 : n10.call(r10)) && void 0 !== o10 ? o10 : []).map((e31) => {
      if ("input" === e31.type) {
        var t12, r11, n11, i11, a11, s10;
        return l10 = !!(null !== (a11 = null !== (i11 = null === (t12 = e31.props) || void 0 === t12 ? void 0 : t12.value) && void 0 !== i11 ? i11 : null === (r11 = e31.props) || void 0 === r11 ? void 0 : r11.placeholder) && void 0 !== a11 ? a11 : l10), d10 = null !== (s10 = null === (n11 = e31.props) || void 0 === n11 ? void 0 : n11.disabled) && void 0 !== s10 ? s10 : d10, y(e31, { disabled: d10 });
      }
      return y(e31);
    });
    return s(t11, { "data-valued": l10, "data-invalid": h10, "data-disabled": d10, "data-focus-within": e30.focus, "data-has-leading": !!r10.leading, "data-has-trailing": !!r10.trailing, children: [s("div", { "data-input-container": true, children: [s("div", { "data-input-decorator-container": true, children: [u("div", { "data-input-decorator-leading": true }), u("div", { "data-input-decorator-label": true, children: u("div", { "data-input-label": true, children: null === (i10 = r10.label) || void 0 === i10 ? void 0 : i10.call(r10) }) }), u("div", { "data-input-decorator-trailing": true })] }), s("div", { "data-input-row": true, children: [r10.leading && u(e1, { role: "leading", children: r10.leading() }), p10, r10.trailing && u(e1, { role: "trailing", children: r10.trailing() })] })] }), r10.supporting && u("div", { "data-input-supporting": true, children: null === (a10 = r10.supporting) || void 0 === a10 ? void 0 : a10.call(r10) })] });
  };
}, { displayName: "TextField", props: ["valued", "focus", "invalid", "disabled"] })({ display: "block", pos: "relative", textStyle: "sys.body-medium", $data_input_container: { pos: "relative", zIndex: 1 }, $data_input_row: { pos: "relative", rounded: "xs", overflow: "hidden", minHeight: 40, display: "flex", alignItems: "stretch" }, $data_input_decorator_container: { pos: "absolute", left: 0, top: 0, bottom: 0, right: 0, display: "flex", zIndex: 1, pointerEvents: "none", rounded: "xs" }, $data_input_decorator_leading: { roundedLeft: "xs", transitionDuration: "sm1", transitionTimingFunction: "standard", width: 16, borderLeft: "1px solid", borderTop: "1px solid", borderBottom: "1px solid", borderColor: "sys.outline" }, $data_input_decorator_label: { transitionDuration: "sm1", transitionTimingFunction: "standard", borderBottom: "1px solid", borderColor: "sys.outline" }, $data_input_decorator_trailing: { borderRight: "1px solid", borderTop: "1px solid", borderBottom: "1px solid", borderColor: "sys.outline", roundedRight: "xs", transitionDuration: "sm1", transitionTimingFunction: "standard", flex: 1 }, $data_input_label: { position: "relative", top: -12, padding: 4, textStyle: "sys.body-small", color: "sys.on-surface-variant", display: "flex", alignItems: "center" }, $data_input: { flex: 1, w: "100%", m: 0, px: 16, py: 4, cursor: "text", "&[readonly]": { cursor: "pointer" }, bg: "inherit", color: "sys.on-surface", outline: "none", border: "none", textStyle: "sys.body-medium", _disabled: { cursor: "not-allowed" } }, $data_input_supporting: { textStyle: "sys.body-small", px: 16, pt: 4, display: "flex", gap: 16, width: "100%", overflow: "auto", color: "sys.on-surface-variant" }, $data_icon: { color: "sys.on-surface-variant" }, _has_leading: { $data_input: { pl: 36 }, $data_input_label: { left: 36 } }, _has_trailing: { $data_input: { pr: 32 } }, _valued: { $data_input: {} }, _focusWithin: { $data_input_decorator_leading: { borderWidth: "2px", borderColor: "sys.primary" }, $data_input_decorator_label: { borderWidth: "2px", borderColor: "sys.primary" }, $data_input_decorator_trailing: { borderWidth: "2px", borderColor: "sys.primary" }, $data_input_label: { color: "sys.primary" } }, _invalid: { $data_input_decorator_leading: { borderWidth: "2px", borderColor: "sys.error" }, $data_input_decorator_label: { borderWidth: "2px", borderColor: "sys.error" }, $data_input_decorator_trailing: { borderWidth: "2px", borderColor: "sys.error" }, $data_input_label: { color: "sys.error" }, $data_input_supporting: { color: "sys.error" }, $data_icon: { color: "sys.error" } }, _disabled: { opacity: 0.38, cursor: "not-allowed" } }), e1 = er("div", { role: L(["leading", "trailing"]) }, { displayName: "Maker" })({ pos: "absolute", top: 4, bottom: 4, display: "flex", alignItems: "center", color: "sys.on-surface-variant", _role__leading: { left: 12, $data_icon: { ml: -4 } }, _role__trailing: { right: 12, $data_icon: { mr: -4 } } }), e2 = i((e30, t10) => {
  let {} = t10, n10 = ek.of(e30.field$.typedef, Q(e30.field$.input) ? void 0 : e30.field$.input);
  return r(n10, H(1), U((t11) => {
    e30.field$.update(t11);
  }), o()), () => u(e4, { children: u(ew, { value: n10, children: u(e_, {}) }) });
}, { displayName: "JSONEditorInput", props: ["field$", "readOnly"] }), e4 = er("div", { displayName: "JSONInputContainer" })({ position: "relative", width: "100%", minHeight: "40em", py: 8, px: 12, overflow: "hidden" }), e3 = () => ({ "User-Agent": navigator.userAgent, Origin: location.origin, Referer: `${location.origin}${location.pathname}` }), e5 = (e30) => {
  let { field: t10, value: r10 } = e30;
  return s(en, { component: "span", sx: { display: "block" }, children: [s(en, { component: "span", sx: { fontWeight: "bold", marginRight: "0.5em" }, children: [t10, ":"] }), u("span", { children: r10 })] });
}, e6 = (e30) => {
  let { method: t10, url: r10, params: n10 } = e30, i10 = D(n10);
  return s(en, { component: "span", sx: { fontWeight: "bold" }, children: [`${t10.toUpperCase()} `, s(en, { component: "span", sx: { fontWeight: "medium" }, children: [r10, i10 ? `?${i10}` : ""] }), " HTTP/*"] });
}, e7 = (e30, t10) => {
  let r10 = (t11, n10) => n10 instanceof File || n10 instanceof Blob ? `${e30}
Content-Disposition: form-data; name="${t11}"${n10.name ? `; filename="${n10.name}"` : ""}
Content-Type: ${n10.type}

[File Content]
` : ee(n10) ? n10.map((e31) => r10(t11, e31)).join("\n") : `${e30}
Content-Disposition: form-data; name="${t11}"

${et(n10) ? JSON.stringify(n10) : String(n10)}
`;
  return Object.entries(t10).map((e31) => {
    let [t11, n10] = e31;
    return r10(t11, n10);
  }).join("\n") + `${e30}--`;
}, e8 = f({ $default: C().optional() }, (e30, t10) => {
  let {} = e30, { slots: r10 } = t10;
  return () => {
    var e31;
    return u(en, { sx: { containerStyle: "sys.surface-container", rounded: "xs", width: "100%", overflow: "auto", py: 4, px: 8 }, children: u(en, { component: "pre", sx: { padding: 4, margin: 0, textStyle: "sys.body-small", fontFamily: "code" }, children: u("code", { children: null === (e31 = r10.default) || void 0 === e31 ? void 0 : e31.call(r10) }) }) });
  };
}, { displayName: "CodeView" }), e9 = f({ request: C() }, (e30) => () => {
  let t10 = e30.request;
  return s(e8, { children: [u(e6, { ...t10 }), u(g, { children: Object.entries({ ...e3(), ...t10.headers }).toSorted().map((e31) => {
    let [t11, r10] = e31;
    return u(e5, { field: t11, value: r10 }, t11);
  }) }), t10.body && s(g, { children: [u("br", {}), function(e31) {
    if (tr(e31.headers).includes("multipart/form-data")) {
      let t11 = "----WebKitFormBoundaryfakefakefakefakefakefakefakefakefake";
      return e31.headers = { ...e31.headers, "Content-Type": `multipart/form-data; boundary=${t11}` }, e7(t11, e31.body);
    }
    return tr(e31.headers).includes("application/x-www-form-urlencoded") ? D(e31.body) : tn(e31.headers) ? JSON.stringify(e31.body, null, 2) : e31.body;
  }(t10)] })] });
}, { displayName: "HttpRequest" }), te = (e30, t10) => {
  let r10 = new Uint8Array(e30), n10 = "";
  for (let e31 = r10.byteLength, t11 = 0; t11 < e31; t11++) n10 += String.fromCharCode(r10[t11]);
  return `data:${t10};base64,${btoa(n10)}`;
}, tt = f({ response: C() }, (e30, t10) => {
  let {} = t10;
  return () => {
    let t11 = e30.response;
    return tr(t11.headers).includes("image/") ? u("div", { children: u("img", { src: te(t11.body, tr(t11.headers)), alt: "" }) }) : s(e8, { children: [s("span", { children: ["HTTP/* ", t11.status] }), u("br", {}), t11.headers && u(g, { children: Object.entries(t11.headers).map((e31) => {
      let [t12, r10] = e31;
      return u(e5, { field: t12, value: r10 }, t12);
    }) }), u("br", {}), t11.body ? tn(t11.headers) ? JSON.stringify(t11.body, null, 2) : `${t11.body}` : null] });
  };
}, { displayName: "HTTPResponse" });
function tr() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
  for (let [t10, r10] of Object.entries(e30)) if ("content-type" == t10.toLowerCase()) return r10;
  return "";
}
let tn = (e30) => tr(e30).includes("application/json"), ti = i({ operationID: T() }, (e30) => r(eE.use().response$(e30.operationID), h((e31) => u(ta, { children: u(tt, { response: e31 }) }))), { displayName: "ResponsePreview" }), ta = er("section", { displayName: "ResponseSection" })({ maxHeight: "40vh", overflow: "auto" }), ts = i((e30, t10) => {
  var n10, i10, a10, l10;
  let { slots: d10 } = t10, p10 = eE.use(), f10 = {};
  for (let t11 of null !== (n10 = e30.operation.parameters) && void 0 !== n10 ? n10 : []) {
    let e31 = E.decode(t11.schema, (e32) => {
      var t12;
      return [null !== (t12 = p10.schema(e32)) && void 0 !== t12 ? t12 : {}, A(e32)];
    }).use(ey(`${t11.name}, in=${JSON.stringify(t11.in)}`));
    t11.required || (e31 = e31.optional()), e31.use(ev(t11.schema.title)), ["object", "array"].includes(null !== (i10 = t11.schema.type) && void 0 !== i10 ? i10 : "") ? f10[t11.name] = e31.use(ex(e2)) : f10[t11.name] = e31;
  }
  if (e30.operation.requestBody) {
    let t11 = Object.entries(null !== (a10 = e30.operation.requestBody.content) && void 0 !== a10 ? a10 : {})[0];
    if (t11) {
      let [e31, r10] = t11, n11 = E.decode(null !== (l10 = r10.schema) && void 0 !== l10 ? l10 : {}, (e32) => {
        var t12;
        return [null !== (t12 = p10.schema(e32)) && void 0 !== t12 ? t12 : {}, A(e32)];
      }).use(ey(`body, content-type = ${JSON.stringify(e31)}`));
      e31.includes("json") ? f10.body = n11.use(ex(e2)) : e31.includes("octet-stream") ? f10.body = n11.use(ex(tc)) : f10.body = n11;
    }
  }
  let g10 = x(), y10 = b(), v10 = eb.of(M(f10), (() => {
    try {
      var e31;
      let t11 = y10.query.params;
      return JSON.parse(atob(null !== (e31 = Array.isArray(t11) ? t11[0] : t11) && void 0 !== e31 ? e31 : ""));
    } catch (e32) {
    }
    return {};
  })());
  r(v10, U((t11) => {
    p10.request(e30.operation.operationId, t11);
  }), U((e31) => {
    g10.replace({ query: { params: btoa(JSON.stringify(e31)) } });
  }), o());
  let k10 = r(v10.inputs$, h((t11) => {
    let r10 = p10.asRequestConfigCreator(e30.operation.operationId);
    return r10 ? u(e9, { request: r10(t11) }) : null;
  }));
  return () => {
    var t11;
    return s(en, { sx: { py: 24, px: 24, gap: 24, width: "100%", height: "100%", display: "flex", alignItems: "stretch", overflow: "hidden" }, component: "form", onSubmit: (e31) => {
      e31.preventDefault(), v10.submit();
    }, children: [u(en, { sx: { flex: 2, py: 24, display: "flex", flexDirection: "column", gap: 32, height: "100%", overflow: "auto" }, children: [...v10.fields(v10.typedef)].map((e31) => u(to, { field$: e31 })) }), u(en, { sx: { flex: 3, gap: 24, display: "flex", flexDirection: "column", height: "100%", overflow: "hidden" }, children: s(en, { sx: { display: "flex", flexDirection: "column", gap: 24, height: "100%", overflow: "hidden" }, children: [k10, u(en, { sx: { px: 8 }, children: u(eu, { type: "submit", children: "发起请求" }) }), u(ti, { operationID: e30.operation.operationId }), u(en, { sx: { flex: 1, overflow: "auto" }, children: null === (t11 = d10.default) || void 0 === t11 ? void 0 : t11.call(d10) })] }) })] }, e30.operation.operationId);
  };
}, { displayName: "RequestBuilder", props: ["operation"] }), to = i((e30, t10) => {
  let { field$: n10 } = e30, { render: i10 } = t10;
  return v(() => {
    n10.destroy();
  }), r(Y([n10, n10.input$]), i10((e31) => {
    var t11, r10, i11;
    let [a10, o10] = e31, l10 = null !== (t11 = _.metaProp(n10.typedef, "inputBy")) && void 0 !== t11 ? t11 : tl, h10 = null !== (r10 = _.metaProp(n10.typedef, "readOnlyWhenInitialExist")) && void 0 !== r10 && r10 && !!a10.initial;
    return u(e0, { valued: !Q(null != o10 ? o10 : a10.initial), invalid: !!a10.error, focus: !!a10.focus, $label: s("span", { children: [null !== (i11 = n10.meta.label) && void 0 !== i11 ? i11 : n10.name, n10.optional ? "（非必填）" : ""] }), $supporting: s(eB, { children: [u(eF, { schema: n10.typedef }), u(eG, { schema: n10.typedef })] }), $trailing: l10.$trailing, children: u(l10, { field$: n10, readOnly: h10 }) });
  }));
}, { displayName: "ParameterInput", props: ["field$"] }), tl = f({ readOnly: I().optional(), field$: C() }, (e30) => () => {
  let { readOnly: t10, field$: r10, ...n10 } = e30;
  return u("input", { ...n10, "data-input": true, type: "text", readonly: t10, name: r10.name, value: r10.input, onChange: (e31) => {
    let t11 = e31.target.value;
    switch (r10.typedef.type) {
      case "number":
        try {
          r10.update(r10.typedef.create(parseFloat(t11)));
        } catch (e32) {
        }
        break;
      case "integer":
        try {
          r10.update(r10.typedef.create(parseInt(t11)));
        } catch (e32) {
        }
        break;
      case "boolean":
        try {
          r10.update(r10.typedef.create("false" !== t11 || !!t11));
        } catch (e32) {
        }
        break;
      default:
        r10.update(r10.typedef.create(t11));
    }
  }, onFocus: () => r10.focus(), onBlur: () => r10.blur() });
}, { displayName: "TextInput" }), tc = i((e30) => {
  let t10 = a(null);
  return r(t10, U((t11) => {
    t11 && e30.field$.update(t11);
  }), l()), () => {
    var r10;
    let { readOnly: n10, accept: i10 } = e30;
    return s(en, { component: "label", "data-input": true, sx: { display: "flex", alignItems: "center", justifyContent: "center", gap: 8, $data_file_input: { display: "none" }, $data_icon: { width: 40, height: 40, my: 40 } }, children: [u("input", { type: "file", name: e30.field$.name, readonly: n10, accept: i10, "data-file-input": true, onChange: (e31) => {
      var r11;
      let n11 = null === (r11 = e31.target.files) || void 0 === r11 ? void 0 : r11[0];
      n11 && (t10.value = n11);
    } }), u(eo, { path: ed }), u("span", { children: null === (r10 = t10.value) || void 0 === r10 ? void 0 : r10.name })] });
  };
}, { displayName: "FileSelectInput", props: ["field$", "readOnly", "accept"] }), th = i((e30, t10) => {
  let { render: n10 } = t10, i10 = eE.use();
  return k(() => {
    i10.request(e30.op.operationId, {});
  }), r(i10.response$(e30.op.operationId), n10((e31) => u(tu, { database: e31.body })));
}, { displayName: "DatabaseErContainer", props: ["op"] }), tu = i((e30) => () => s(tf, { children: [u(tg, { children: e30.database.name }), Object.entries(e30.database.tables).map((t10) => {
  let [r10, n10] = t10;
  return u(td, { database: e30.database, table: n10, tableName: r10 });
})] }), { displayName: "DatabaseErView", props: ["database"] }), td = i((e30, n10) => {
  let { render: i10 } = n10, a10 = new t([]);
  return r(a10, i10((t10) => {
    let r10 = e30.table.columns, n11 = e30.table.constraints;
    return s(tm, { open: true, children: [s(ty, { children: [u("span", { children: e30.tableName }), u(tC, {}), u(t_, { meta: e30.table })] }), Object.keys(r10).map((n12) => {
      let i11 = r10[n12];
      return s(tv, { "data-hover": t10.includes(n12), children: [u(tx, { children: n12 }), i11.of ? u(tp, { database: e30.database, of: i11.of }) : u(tw, { children: i11.type }), u(tb, { children: u(t_, { meta: i11 }) })] });
    }), Object.entries(n11).map((e31) => {
      let [t11, r11] = e31;
      return u(tv, { onMouseover: () => {
        a10.next(r11.columnNames.map((e32) => e32.name));
      }, onMouseleave: () => {
        a10.next([]);
      }, children: s(tS, { "data-primary": r11.primary, "data-unique": r11.unique, children: [u(eo, { path: r11.unique ? ep : ef }), u("span", { children: t11 }), s("span", { children: ["(", r11.columnNames.map((e32) => {
        var t12;
        return [e32.name, ...null !== (t12 = e32.options) && void 0 !== t12 ? t12 : []].join(" ");
      }).join(","), ")"] })] }) });
    }), u(en, { sx: { py: 4 } })] });
  }));
}, { displayName: "DatabaseErTableView", props: ["database", "table", "tableName"] }), tp = i((e30, n10) => {
  let { render: i10 } = n10, a10 = t.seed(false), o10 = r(a10, i10((t10) => {
    let r10 = e30.of.split(".")[0];
    return u(el, { isOpen: t10, onClose: () => {
      a10.next(false);
    }, children: u(tT, { children: u(td, { database: e30.database, tableName: r10, table: e30.database.tables[r10] }) }) });
  }));
  return () => s(tk, { onClick: () => {
    a10.next(true);
  }, children: [e30.of, o10] });
}, { displayName: "DatabaseErTableColumnOfView", props: ["of", "database"] }), tf = er("div", { displayName: "DatabaseErMain" })({ py: 18, px: 24, flex: 1, overflow: "auto" }), tg = er("div", { displayName: "DatabaseErHeader" })({ py: 8, px: 16, textStyle: "sys.label-large" }), tm = er("details", { displayName: "DatabaseErTable" })({ "& + &": { mt: 16 }, rounded: "sm", border: "1px solid", borderColor: ei("sys.outline-variant", ea(0.38)), overflow: "hidden", width: "100%" }), ty = er("summary", { displayName: "DatabaseErTableSummary" })({ textStyle: "sys.label-large", py: 8, px: 16, display: "flex", color: "sys.primary" }), tv = er("div", { displayName: "DatabaseErTableDef" })({ px: 16, py: 4, display: "flex", _hover: { containerStyle: "sys.surface-container-low" } }), tx = er("div", { displayName: "DatabaseErTableColumnName" })({ display: "flex", width: "20vw", textStyle: "sys.label-small", font: "code" }), tb = er("div", { displayName: "DatabaseErTableColumnComment" })({ display: "flex", textStyle: "sys.label-small", width: "20vw", justifyContent: "end" }), tk = er("div", { displayName: "DatabaseErTableColumnOf" })({ flex: 1, textStyle: "sys.label-small", font: "code", fontWeight: "bold", color: "sys.primary", _hover: { cursor: "pointer" } }), tw = er("div", { displayName: "DatabaseErTableColumnType" })({ flex: 1, textStyle: "sys.label-small" }), t_ = er("div", (e30, t10) => {
  let {} = t10;
  return (t11) => s(t11, { children: [e30.meta.title, " ", e30.meta.description ? u(eh, { title: u(ez, { children: u(es, { text: e30.meta.description }) }), children: u(eo, { path: ec }) }) : null] });
}, { displayName: "DatabaseDescription", props: ["meta"] })({ position: "relative", display: "flex", alignItems: "center", gap: 4, textStyle: "sys.body-small", fontSize: 10, lineHeight: 12, [`${eo}`]: { width: 12, height: 12, overflow: "hidden" } }), tT = er("div", { displayName: "DialogContainer" })({ display: "flex", containerStyle: "sys.surface", width: "90vw", roundedBottom: "sm", px: 16, py: 36, top: 0, position: "absolute", overflow: "auto" }), tS = er("div", { displayName: "DatabaseErTableConstraintName" })({ flex: 1, textStyle: "sys.label-small", font: "code", fontWeight: "bold", display: "flex", alignItems: "center", gap: "1em", _primary: { [`${eo}`]: { color: "sys.primary" } }, _unique: { [`${eo}`]: { position: "relative", "&::before": { content: JSON.stringify("1"), position: "absolute", right: -6, textStyle: "sys.label-small", fontSize: 8 } } } }), tC = er("div", { displayName: "Spacer" })({ flex: 1 });
var tE, tA, tL, tI, tM, tN, tR, tD, tO, t$, tP, tB, tF, tz, tj, tq, tU, tW, tV, tH, tY, tG, tX, tK, tZ, tQ, tJ, t0, t1, t2, t4, t3, t5, t6, t7, t8, t9, re, rt, rr, rn, ri, ra, rs, ro, rl, rc, rh, ru, rd, rp, rf, rg, rm, ry, rv, rx, rb, rk, rw, r_, rT, rS, rC, rE, rA, rL, rI, rM, rN, rR, rD, rO, r$, rP, rB, rF, rz, rj, rq, rU, rW, rV, rH, rY, rG, rX, rK, rZ, rQ, rJ, r0, r1, r2, r4, r3, r5, r6, r7, r8, r9, ne, nt, nr, nn, ni, na, ns, no, nl, nc, nh, nu, nd, np, nf, ng, nm, ny, nv, nx, nb, nk, nw, n_, nT, nS, nC, nE, nA, nL, nI, nM, nN, nR, nD, nO, n$, nP, nB, nF, nz, nj, nq, nU, nW, nV, nH, nY, nG, nX, nK, nZ, nQ, nJ, n0, n1, n2, n4, n3, n5, n6, n7, n8, n9, ie, it, ir, ii, ia, is, io, il, ic, ih, iu, id, ip, ig, im, iy, iv, ix, ib, ik, iw, i_, iT = "11.4.1", iS = Object.create, iC = Object.defineProperty, iE = Object.getOwnPropertyDescriptor, iA = Object.getOwnPropertyNames, iL = Object.getPrototypeOf, iI = Object.prototype.hasOwnProperty, iM = (e30, t10) => iC(e30, "name", { value: t10, configurable: true }), iN = (e30, t10) => function() {
  return t10 || (0, e30[iA(e30)[0]])((t10 = { exports: {} }).exports, t10), t10.exports;
}, iR = (e30, t10) => {
  for (var r10 in t10) iC(e30, r10, { get: t10[r10], enumerable: true });
}, iD = (e30, t10, r10, n10) => {
  if (t10 && "object" == typeof t10 || "function" == typeof t10) for (let i10 of iA(t10)) iI.call(e30, i10) || i10 === r10 || iC(e30, i10, { get: () => t10[i10], enumerable: !(n10 = iE(t10, i10)) || n10.enumerable });
  return e30;
}, iO = (e30, t10, r10) => (iD(e30, t10, "default"), r10), i$ = (e30, t10, r10) => iD(iC(null != e30 ? iS(iL(e30)) : {}, "default", { value: e30, enumerable: true }), e30), iP = iN({ "../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/dayjs.min.js"(e30, t10) {
  var r10, n10;
  r10 = e30, n10 = function() {
    var e31 = "millisecond", t11 = "second", r11 = "minute", n11 = "hour", i10 = "week", a10 = "month", s10 = "quarter", o10 = "year", l10 = "date", h10 = "Invalid Date", u10 = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/, d10 = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g, p10 = { name: "en", weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), ordinal: iM(function(e32) {
      var t12 = ["th", "st", "nd", "rd"], r12 = e32 % 100;
      return "[" + e32 + (t12[(r12 - 20) % 10] || t12[r12] || "th") + "]";
    }, "ordinal") }, f10 = iM(function(e32, t12, r12) {
      var n12 = String(e32);
      return !n12 || n12.length >= t12 ? e32 : "" + Array(t12 + 1 - n12.length).join(r12) + e32;
    }, "m"), g10 = { s: f10, z: iM(function(e32) {
      var t12 = -e32.utcOffset(), r12 = Math.abs(t12);
      return (t12 <= 0 ? "+" : "-") + f10(Math.floor(r12 / 60), 2, "0") + ":" + f10(r12 % 60, 2, "0");
    }, "z"), m: iM(function e32(t12, r12) {
      if (t12.date() < r12.date()) return -e32(r12, t12);
      var n12 = 12 * (r12.year() - t12.year()) + (r12.month() - t12.month()), i11 = t12.clone().add(n12, a10), s11 = r12 - i11 < 0, o11 = t12.clone().add(n12 + (s11 ? -1 : 1), a10);
      return +(-(n12 + (r12 - i11) / (s11 ? i11 - o11 : o11 - i11)) || 0);
    }, "t"), a: iM(function(e32) {
      return e32 < 0 ? Math.ceil(e32) || 0 : Math.floor(e32);
    }, "a"), p: iM(function(h11) {
      return { M: a10, y: o10, w: i10, d: "day", D: l10, h: n11, m: r11, s: t11, ms: e31, Q: s10 }[h11] || String(h11 || "").toLowerCase().replace(/s$/, "");
    }, "p"), u: iM(function(e32) {
      return void 0 === e32;
    }, "u") }, y10 = "en", v10 = {};
    v10[y10] = p10;
    var x10 = "$isDayjsObject", b10 = iM(function(e32) {
      return e32 instanceof _10 || !(!e32 || !e32[x10]);
    }, "S"), k10 = iM(function e32(t12, r12, n12) {
      var i11;
      if (!t12) return y10;
      if ("string" == typeof t12) {
        var a11 = t12.toLowerCase();
        v10[a11] && (i11 = a11), r12 && (v10[a11] = r12, i11 = a11);
        var s11 = t12.split("-");
        if (!i11 && s11.length > 1) return e32(s11[0]);
      } else {
        var o11 = t12.name;
        v10[o11] = t12, i11 = o11;
      }
      return !n12 && i11 && (y10 = i11), i11 || !n12 && y10;
    }, "t"), w10 = iM(function(e32, t12) {
      if (b10(e32)) return e32.clone();
      var r12 = "object" == typeof t12 ? t12 : {};
      return r12.date = e32, r12.args = arguments, new _10(r12);
    }, "O");
    g10.l = k10, g10.i = b10, g10.w = function(e32, t12) {
      return w10(e32, { locale: t12.$L, utc: t12.$u, x: t12.$x, $offset: t12.$offset });
    };
    var _10 = function() {
      function p11(e32) {
        this.$L = k10(e32.locale, null, true), this.parse(e32), this.$x = this.$x || e32.x || {}, this[x10] = true;
      }
      iM(p11, "M");
      var f11 = p11.prototype;
      return f11.parse = function(e32) {
        this.$d = function(e33) {
          var t12 = e33.date, r12 = e33.utc;
          if (null === t12) return /* @__PURE__ */ new Date(NaN);
          if (g10.u(t12)) return /* @__PURE__ */ new Date();
          if (t12 instanceof Date) return new Date(t12);
          if ("string" == typeof t12 && !/Z$/i.test(t12)) {
            var n12 = t12.match(u10);
            if (n12) {
              var i11 = n12[2] - 1 || 0, a11 = (n12[7] || "0").substring(0, 3);
              return r12 ? new Date(Date.UTC(n12[1], i11, n12[3] || 1, n12[4] || 0, n12[5] || 0, n12[6] || 0, a11)) : new Date(n12[1], i11, n12[3] || 1, n12[4] || 0, n12[5] || 0, n12[6] || 0, a11);
            }
          }
          return new Date(t12);
        }(e32), this.init();
      }, f11.init = function() {
        var e32 = this.$d;
        this.$y = e32.getFullYear(), this.$M = e32.getMonth(), this.$D = e32.getDate(), this.$W = e32.getDay(), this.$H = e32.getHours(), this.$m = e32.getMinutes(), this.$s = e32.getSeconds(), this.$ms = e32.getMilliseconds();
      }, f11.$utils = function() {
        return g10;
      }, f11.isValid = function() {
        return this.$d.toString() !== h10;
      }, f11.isSame = function(e32, t12) {
        var r12 = w10(e32);
        return this.startOf(t12) <= r12 && r12 <= this.endOf(t12);
      }, f11.isAfter = function(e32, t12) {
        return w10(e32) < this.startOf(t12);
      }, f11.isBefore = function(e32, t12) {
        return this.endOf(t12) < w10(e32);
      }, f11.$g = function(e32, t12, r12) {
        return g10.u(e32) ? this[t12] : this.set(r12, e32);
      }, f11.unix = function() {
        return Math.floor(this.valueOf() / 1e3);
      }, f11.valueOf = function() {
        return this.$d.getTime();
      }, f11.startOf = function(e32, s11) {
        var h11 = this, u11 = !!g10.u(s11) || s11, d11 = g10.p(e32), p12 = iM(function(e33, t12) {
          var r12 = g10.w(h11.$u ? Date.UTC(h11.$y, t12, e33) : new Date(h11.$y, t12, e33), h11);
          return u11 ? r12 : r12.endOf("day");
        }, "l"), f12 = iM(function(e33, t12) {
          return g10.w(h11.toDate()[e33].apply(h11.toDate("s"), (u11 ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(t12)), h11);
        }, "$"), y11 = this.$W, v11 = this.$M, x11 = this.$D, b11 = "set" + (this.$u ? "UTC" : "");
        switch (d11) {
          case o10:
            return u11 ? p12(1, 0) : p12(31, 11);
          case a10:
            return u11 ? p12(1, v11) : p12(0, v11 + 1);
          case i10:
            var k11 = this.$locale().weekStart || 0, w11 = (y11 < k11 ? y11 + 7 : y11) - k11;
            return p12(u11 ? x11 - w11 : x11 + (6 - w11), v11);
          case "day":
          case l10:
            return f12(b11 + "Hours", 0);
          case n11:
            return f12(b11 + "Minutes", 1);
          case r11:
            return f12(b11 + "Seconds", 2);
          case t11:
            return f12(b11 + "Milliseconds", 3);
          default:
            return this.clone();
        }
      }, f11.endOf = function(e32) {
        return this.startOf(e32, false);
      }, f11.$set = function(i11, s11) {
        var h11, u11 = g10.p(i11), d11 = "set" + (this.$u ? "UTC" : ""), p12 = ((h11 = {}).day = d11 + "Date", h11[l10] = d11 + "Date", h11[a10] = d11 + "Month", h11[o10] = d11 + "FullYear", h11[n11] = d11 + "Hours", h11[r11] = d11 + "Minutes", h11[t11] = d11 + "Seconds", h11[e31] = d11 + "Milliseconds", h11)[u11], f12 = "day" === u11 ? this.$D + (s11 - this.$W) : s11;
        if (u11 === a10 || u11 === o10) {
          var y11 = this.clone().set(l10, 1);
          y11.$d[p12](f12), y11.init(), this.$d = y11.set(l10, Math.min(this.$D, y11.daysInMonth())).$d;
        } else p12 && this.$d[p12](f12);
        return this.init(), this;
      }, f11.set = function(e32, t12) {
        return this.clone().$set(e32, t12);
      }, f11.get = function(e32) {
        return this[g10.p(e32)]();
      }, f11.add = function(e32, s11) {
        var l11, h11 = this;
        e32 = Number(e32);
        var u11 = g10.p(s11), d11 = iM(function(t12) {
          var r12 = w10(h11);
          return g10.w(r12.date(r12.date() + Math.round(t12 * e32)), h11);
        }, "y");
        if (u11 === a10) return this.set(a10, this.$M + e32);
        if (u11 === o10) return this.set(o10, this.$y + e32);
        if ("day" === u11) return d11(1);
        if (u11 === i10) return d11(7);
        var p12 = ((l11 = {})[r11] = 6e4, l11[n11] = 36e5, l11[t11] = 1e3, l11)[u11] || 1, f12 = this.$d.getTime() + e32 * p12;
        return g10.w(f12, this);
      }, f11.subtract = function(e32, t12) {
        return this.add(-1 * e32, t12);
      }, f11.format = function(e32) {
        var t12 = this, r12 = this.$locale();
        if (!this.isValid()) return r12.invalidDate || h10;
        var n12 = e32 || "YYYY-MM-DDTHH:mm:ssZ", i11 = g10.z(this), a11 = this.$H, s11 = this.$m, o11 = this.$M, l11 = r12.weekdays, u11 = r12.months, p12 = r12.meridiem, f12 = iM(function(e33, r13, i12, a12) {
          return e33 && (e33[r13] || e33(t12, n12)) || i12[r13].slice(0, a12);
        }, "h"), y11 = iM(function(e33) {
          return g10.s(a11 % 12 || 12, e33, "0");
        }, "d"), v11 = p12 || function(e33, t13, r13) {
          var n13 = e33 < 12 ? "AM" : "PM";
          return r13 ? n13.toLowerCase() : n13;
        };
        return n12.replace(d10, function(e33, n13) {
          return n13 || function(e34) {
            switch (e34) {
              case "YY":
                return String(t12.$y).slice(-2);
              case "YYYY":
                return g10.s(t12.$y, 4, "0");
              case "M":
                return o11 + 1;
              case "MM":
                return g10.s(o11 + 1, 2, "0");
              case "MMM":
                return f12(r12.monthsShort, o11, u11, 3);
              case "MMMM":
                return f12(u11, o11);
              case "D":
                return t12.$D;
              case "DD":
                return g10.s(t12.$D, 2, "0");
              case "d":
                return String(t12.$W);
              case "dd":
                return f12(r12.weekdaysMin, t12.$W, l11, 2);
              case "ddd":
                return f12(r12.weekdaysShort, t12.$W, l11, 3);
              case "dddd":
                return l11[t12.$W];
              case "H":
                return String(a11);
              case "HH":
                return g10.s(a11, 2, "0");
              case "h":
                return y11(1);
              case "hh":
                return y11(2);
              case "a":
                return v11(a11, s11, true);
              case "A":
                return v11(a11, s11, false);
              case "m":
                return String(s11);
              case "mm":
                return g10.s(s11, 2, "0");
              case "s":
                return String(t12.$s);
              case "ss":
                return g10.s(t12.$s, 2, "0");
              case "SSS":
                return g10.s(t12.$ms, 3, "0");
              case "Z":
                return i11;
            }
            return null;
          }(e33) || i11.replace(":", "");
        });
      }, f11.utcOffset = function() {
        return -(15 * Math.round(this.$d.getTimezoneOffset() / 15));
      }, f11.diff = function(e32, l11, h11) {
        var u11, d11 = this, p12 = g10.p(l11), f12 = w10(e32), y11 = (f12.utcOffset() - this.utcOffset()) * 6e4, v11 = this - f12, x11 = iM(function() {
          return g10.m(d11, f12);
        }, "D");
        switch (p12) {
          case o10:
            u11 = x11() / 12;
            break;
          case a10:
            u11 = x11();
            break;
          case s10:
            u11 = x11() / 3;
            break;
          case i10:
            u11 = (v11 - y11) / 6048e5;
            break;
          case "day":
            u11 = (v11 - y11) / 864e5;
            break;
          case n11:
            u11 = v11 / 36e5;
            break;
          case r11:
            u11 = v11 / 6e4;
            break;
          case t11:
            u11 = v11 / 1e3;
            break;
          default:
            u11 = v11;
        }
        return h11 ? u11 : g10.a(u11);
      }, f11.daysInMonth = function() {
        return this.endOf(a10).$D;
      }, f11.$locale = function() {
        return v10[this.$L];
      }, f11.locale = function(e32, t12) {
        if (!e32) return this.$L;
        var r12 = this.clone(), n12 = k10(e32, t12, true);
        return n12 && (r12.$L = n12), r12;
      }, f11.clone = function() {
        return g10.w(this.$d, this);
      }, f11.toDate = function() {
        return new Date(this.valueOf());
      }, f11.toJSON = function() {
        return this.isValid() ? this.toISOString() : null;
      }, f11.toISOString = function() {
        return this.$d.toISOString();
      }, f11.toString = function() {
        return this.$d.toUTCString();
      }, p11;
    }(), T10 = _10.prototype;
    return w10.prototype = T10, [["$ms", e31], ["$s", t11], ["$m", r11], ["$H", n11], ["$W", "day"], ["$M", a10], ["$y", o10], ["$D", l10]].forEach(function(e32) {
      T10[e32[1]] = function(t12) {
        return this.$g(t12, e32[0], e32[1]);
      };
    }), w10.extend = function(e32, t12) {
      return e32.$i || (e32(t12, _10, w10), e32.$i = true), w10;
    }, w10.locale = k10, w10.isDayjs = b10, w10.unix = function(e32) {
      return w10(1e3 * e32);
    }, w10.en = v10[y10], w10.Ls = v10, w10.p = {}, w10;
  }, "object" == typeof e30 && void 0 !== t10 ? t10.exports = n10() : "function" == typeof define && define.amd ? define(n10) : (r10 = "undefined" != typeof globalThis ? globalThis : r10 || self).dayjs = n10();
} }), iB = i$(iP()), iF = { trace: 0, debug: 1, info: 2, warn: 3, error: 4, fatal: 5 }, iz = { trace: iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
}, "trace"), debug: iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
}, "debug"), info: iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
}, "info"), warn: iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
}, "warn"), error: iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
}, "error"), fatal: iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
}, "fatal") }, ij = iM(function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "fatal", t10 = iF.fatal;
  "string" == typeof e30 ? e30.toLowerCase() in iF && (t10 = iF[e30]) : "number" == typeof e30 && (t10 = e30), iz.trace = () => {
  }, iz.debug = () => {
  }, iz.info = () => {
  }, iz.warn = () => {
  }, iz.error = () => {
  }, iz.fatal = () => {
  }, t10 <= iF.fatal && (iz.fatal = console.error ? console.error.bind(console, iq("FATAL"), "color: orange") : console.log.bind(console, "\x1B[35m", iq("FATAL"))), t10 <= iF.error && (iz.error = console.error ? console.error.bind(console, iq("ERROR"), "color: orange") : console.log.bind(console, "\x1B[31m", iq("ERROR"))), t10 <= iF.warn && (iz.warn = console.warn ? console.warn.bind(console, iq("WARN"), "color: orange") : console.log.bind(console, `\x1B[33m`, iq("WARN"))), t10 <= iF.info && (iz.info = console.info ? console.info.bind(console, iq("INFO"), "color: lightblue") : console.log.bind(console, "\x1B[34m", iq("INFO"))), t10 <= iF.debug && (iz.debug = console.debug ? console.debug.bind(console, iq("DEBUG"), "color: lightgreen") : console.log.bind(console, "\x1B[32m", iq("DEBUG"))), t10 <= iF.trace && (iz.trace = console.debug ? console.debug.bind(console, iq("TRACE"), "color: lightgreen") : console.log.bind(console, "\x1B[32m", iq("TRACE")));
}, "setLogLevel"), iq = iM((e30) => {
  let t10 = (0, iB.default)().format("ss.SSS");
  return `%c${t10} : ${e30} : `;
}, "format"), iU = /^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s, iW = /%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi, iV = /\s*%%.*\n/gm, iH = (_a2 = class extends Error {
  constructor(e30) {
    super(e30), this.name = "UnknownDiagramError";
  }
}, _i2 = new WeakMap(), __privateAdd(_a2, _i2, iM(_a2, "UnknownDiagramError")), _a2), iY = {}, iG = iM(function(e30, t10) {
  for (let [r10, { detector: n10 }] of (e30 = e30.replace(iU, "").replace(iW, "").replace(iV, "\n"), Object.entries(iY))) if (n10(e30, t10)) return r10;
  throw new iH(`No diagram type detected matching given configuration for text: ${e30}`);
}, "detectType"), iX = iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
  for (let { id: e31, detector: r11, loader: n10 } of t10) iK(e31, r11, n10);
}, "registerLazyLoadedDiagrams"), iK = iM((e30, t10, r10) => {
  iY[e30] && iz.warn(`Detector with key ${e30} already exists. Overwriting.`), iY[e30] = { detector: t10, loader: r10 }, iz.debug(`Detector with key ${e30} added${r10 ? " with loader" : ""}`);
}, "addDetector"), iZ = iM((e30) => iY[e30].loader, "getDiagramLoader"), iQ = iM(function(e30, t10) {
  let { depth: r10 = 2, clobber: n10 = false } = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i10 = { depth: r10, clobber: n10 };
  return Array.isArray(t10) && !Array.isArray(e30) ? (t10.forEach((t11) => iQ(e30, t11, i10)), e30) : Array.isArray(t10) && Array.isArray(e30) ? (t10.forEach((t11) => {
    e30.includes(t11) || e30.push(t11);
  }), e30) : void 0 === e30 || r10 <= 0 ? null != e30 && "object" == typeof e30 && "object" == typeof t10 ? Object.assign(e30, t10) : t10 : (void 0 !== t10 && "object" == typeof e30 && "object" == typeof t10 && Object.keys(t10).forEach((i11) => {
    "object" == typeof t10[i11] && (void 0 === e30[i11] || "object" == typeof e30[i11]) ? (void 0 === e30[i11] && (e30[i11] = Array.isArray(t10[i11]) ? [] : {}), e30[i11] = iQ(e30[i11], t10[i11], { depth: r10 - 1, clobber: n10 })) : (n10 || "object" != typeof e30[i11] && "object" != typeof t10[i11]) && (e30[i11] = t10[i11]);
  }), e30);
}, "assignWithDepth"), iJ = { min: { r: 0, g: 0, b: 0, s: 0, l: 0, a: 0 }, max: { r: 255, g: 255, b: 255, h: 360, s: 100, l: 100, a: 1 }, clamp: { r: iM((e30) => e30 >= 255 ? 255 : e30 < 0 ? 0 : e30, "r"), g: iM((e30) => e30 >= 255 ? 255 : e30 < 0 ? 0 : e30, "g"), b: iM((e30) => e30 >= 255 ? 255 : e30 < 0 ? 0 : e30, "b"), h: iM((e30) => e30 % 360, "h"), s: iM((e30) => e30 >= 100 ? 100 : e30 < 0 ? 0 : e30, "s"), l: iM((e30) => e30 >= 100 ? 100 : e30 < 0 ? 0 : e30, "l"), a: iM((e30) => e30 >= 1 ? 1 : e30 < 0 ? 0 : e30, "a") }, toLinear: iM((e30) => {
  let t10 = e30 / 255;
  return e30 > 0.03928 ? Math.pow((t10 + 0.055) / 1.055, 2.4) : t10 / 12.92;
}, "toLinear"), hue2rgb: iM((e30, t10, r10) => (r10 < 0 && (r10 += 1), r10 > 1 && (r10 -= 1), r10 < 1 / 6) ? e30 + (t10 - e30) * 6 * r10 : r10 < 0.5 ? t10 : r10 < 2 / 3 ? e30 + (t10 - e30) * (2 / 3 - r10) * 6 : e30, "hue2rgb"), hsl2rgb: iM((e30, t10) => {
  let { h: r10, s: n10, l: i10 } = e30;
  if (!n10) return 2.55 * i10;
  r10 /= 360, n10 /= 100;
  let a10 = (i10 /= 100) < 0.5 ? i10 * (1 + n10) : i10 + n10 - i10 * n10, s10 = 2 * i10 - a10;
  switch (t10) {
    case "r":
      return 255 * iJ.hue2rgb(s10, a10, r10 + 1 / 3);
    case "g":
      return 255 * iJ.hue2rgb(s10, a10, r10);
    case "b":
      return 255 * iJ.hue2rgb(s10, a10, r10 - 1 / 3);
  }
}, "hsl2rgb"), rgb2hsl: iM((e30, t10) => {
  let { r: r10, g: n10, b: i10 } = e30, a10 = Math.max(r10 /= 255, n10 /= 255, i10 /= 255), s10 = Math.min(r10, n10, i10), o10 = (a10 + s10) / 2;
  if ("l" === t10) return 100 * o10;
  if (a10 === s10) return 0;
  let l10 = a10 - s10;
  if ("s" === t10) return 100 * (o10 > 0.5 ? l10 / (2 - a10 - s10) : l10 / (a10 + s10));
  switch (a10) {
    case r10:
      return ((n10 - i10) / l10 + (n10 < i10 ? 6 : 0)) * 60;
    case n10:
      return ((i10 - r10) / l10 + 2) * 60;
    case i10:
      return ((r10 - n10) / l10 + 4) * 60;
    default:
      return -1;
  }
}, "rgb2hsl") }, i0 = { channel: iJ, lang: { clamp: iM((e30, t10, r10) => t10 > r10 ? Math.min(t10, Math.max(r10, e30)) : Math.min(r10, Math.max(t10, e30)), "clamp"), round: iM((e30) => Math.round(1e10 * e30) / 1e10, "round") }, unit: { dec2hex: iM((e30) => {
  let t10 = Math.round(e30).toString(16);
  return t10.length > 1 ? t10 : `0${t10}`;
}, "dec2hex") } }, i1 = {};
for (let e30 = 0; e30 <= 255; e30++) i1[e30] = i0.unit.dec2hex(e30);
var i2 = { ALL: 0, RGB: 1, HSL: 2 }, i4 = (_b2 = class {
  constructor() {
    this.type = i2.ALL;
  }
  get() {
    return this.type;
  }
  set(e30) {
    if (this.type && this.type !== e30) throw Error("Cannot change both RGB and HSL channels at the same time");
    this.type = e30;
  }
  reset() {
    this.type = i2.ALL;
  }
  is(e30) {
    return this.type === e30;
  }
}, _i3 = new WeakMap(), __privateAdd(_b2, _i3, iM(_b2, "Type")), _b2), i3 = new (_c2 = class {
  constructor(e30, t10) {
    this.color = t10, this.changed = false, this.data = e30, this.type = new i4();
  }
  set(e30, t10) {
    return this.color = t10, this.changed = false, this.data = e30, this.type.type = i2.ALL, this;
  }
  _ensureHSL() {
    let e30 = this.data, { h: t10, s: r10, l: n10 } = e30;
    void 0 === t10 && (e30.h = i0.channel.rgb2hsl(e30, "h")), void 0 === r10 && (e30.s = i0.channel.rgb2hsl(e30, "s")), void 0 === n10 && (e30.l = i0.channel.rgb2hsl(e30, "l"));
  }
  _ensureRGB() {
    let e30 = this.data, { r: t10, g: r10, b: n10 } = e30;
    void 0 === t10 && (e30.r = i0.channel.hsl2rgb(e30, "r")), void 0 === r10 && (e30.g = i0.channel.hsl2rgb(e30, "g")), void 0 === n10 && (e30.b = i0.channel.hsl2rgb(e30, "b"));
  }
  get r() {
    let e30 = this.data, t10 = e30.r;
    return this.type.is(i2.HSL) || void 0 === t10 ? (this._ensureHSL(), i0.channel.hsl2rgb(e30, "r")) : t10;
  }
  get g() {
    let e30 = this.data, t10 = e30.g;
    return this.type.is(i2.HSL) || void 0 === t10 ? (this._ensureHSL(), i0.channel.hsl2rgb(e30, "g")) : t10;
  }
  get b() {
    let e30 = this.data, t10 = e30.b;
    return this.type.is(i2.HSL) || void 0 === t10 ? (this._ensureHSL(), i0.channel.hsl2rgb(e30, "b")) : t10;
  }
  get h() {
    let e30 = this.data, t10 = e30.h;
    return this.type.is(i2.RGB) || void 0 === t10 ? (this._ensureRGB(), i0.channel.rgb2hsl(e30, "h")) : t10;
  }
  get s() {
    let e30 = this.data, t10 = e30.s;
    return this.type.is(i2.RGB) || void 0 === t10 ? (this._ensureRGB(), i0.channel.rgb2hsl(e30, "s")) : t10;
  }
  get l() {
    let e30 = this.data, t10 = e30.l;
    return this.type.is(i2.RGB) || void 0 === t10 ? (this._ensureRGB(), i0.channel.rgb2hsl(e30, "l")) : t10;
  }
  get a() {
    return this.data.a;
  }
  set r(e30) {
    this.type.set(i2.RGB), this.changed = true, this.data.r = e30;
  }
  set g(e30) {
    this.type.set(i2.RGB), this.changed = true, this.data.g = e30;
  }
  set b(e30) {
    this.type.set(i2.RGB), this.changed = true, this.data.b = e30;
  }
  set h(e30) {
    this.type.set(i2.HSL), this.changed = true, this.data.h = e30;
  }
  set s(e30) {
    this.type.set(i2.HSL), this.changed = true, this.data.s = e30;
  }
  set l(e30) {
    this.type.set(i2.HSL), this.changed = true, this.data.l = e30;
  }
  set a(e30) {
    this.changed = true, this.data.a = e30;
  }
}, _i4 = new WeakMap(), __privateAdd(_c2, _i4, iM(_c2, "Channels")), _c2)({ r: 0, g: 0, b: 0, a: 0 }, "transparent"), i5 = { re: /^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i, parse: iM((e30) => {
  if (35 !== e30.charCodeAt(0)) return;
  let t10 = e30.match(i5.re);
  if (!t10) return;
  let r10 = t10[1], n10 = parseInt(r10, 16), i10 = r10.length, a10 = i10 % 4 == 0, s10 = i10 > 4, o10 = s10 ? 1 : 17, l10 = s10 ? 8 : 4, h10 = a10 ? 0 : -1, u10 = s10 ? 255 : 15;
  return i3.set({ r: (n10 >> l10 * (h10 + 3) & u10) * o10, g: (n10 >> l10 * (h10 + 2) & u10) * o10, b: (n10 >> l10 * (h10 + 1) & u10) * o10, a: a10 ? (n10 & u10) * o10 / 255 : 1 }, e30);
}, "parse"), stringify: iM((e30) => {
  let { r: t10, g: r10, b: n10, a: i10 } = e30;
  return i10 < 1 ? `#${i1[Math.round(t10)]}${i1[Math.round(r10)]}${i1[Math.round(n10)]}${i1[Math.round(255 * i10)]}` : `#${i1[Math.round(t10)]}${i1[Math.round(r10)]}${i1[Math.round(n10)]}`;
}, "stringify") }, i6 = { re: /^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i, hueRe: /^(.+?)(deg|grad|rad|turn)$/i, _hue2deg: iM((e30) => {
  let t10 = e30.match(i6.hueRe);
  if (t10) {
    let [, e31, r10] = t10;
    switch (r10) {
      case "grad":
        return i0.channel.clamp.h(0.9 * parseFloat(e31));
      case "rad":
        return i0.channel.clamp.h(180 * parseFloat(e31) / Math.PI);
      case "turn":
        return i0.channel.clamp.h(360 * parseFloat(e31));
    }
  }
  return i0.channel.clamp.h(parseFloat(e30));
}, "_hue2deg"), parse: iM((e30) => {
  let t10 = e30.charCodeAt(0);
  if (104 !== t10 && 72 !== t10) return;
  let r10 = e30.match(i6.re);
  if (!r10) return;
  let [, n10, i10, a10, s10, o10] = r10;
  return i3.set({ h: i6._hue2deg(n10), s: i0.channel.clamp.s(parseFloat(i10)), l: i0.channel.clamp.l(parseFloat(a10)), a: s10 ? i0.channel.clamp.a(o10 ? parseFloat(s10) / 100 : parseFloat(s10)) : 1 }, e30);
}, "parse"), stringify: iM((e30) => {
  let { h: t10, s: r10, l: n10, a: i10 } = e30;
  return i10 < 1 ? `hsla(${i0.lang.round(t10)}, ${i0.lang.round(r10)}%, ${i0.lang.round(n10)}%, ${i10})` : `hsl(${i0.lang.round(t10)}, ${i0.lang.round(r10)}%, ${i0.lang.round(n10)}%)`;
}, "stringify") }, i7 = { colors: { aliceblue: "#f0f8ff", antiquewhite: "#faebd7", aqua: "#00ffff", aquamarine: "#7fffd4", azure: "#f0ffff", beige: "#f5f5dc", bisque: "#ffe4c4", black: "#000000", blanchedalmond: "#ffebcd", blue: "#0000ff", blueviolet: "#8a2be2", brown: "#a52a2a", burlywood: "#deb887", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cyanaqua: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", darkkhaki: "#bdb76b", darkmagenta: "#8b008b", darkolivegreen: "#556b2f", darkorange: "#ff8c00", darkorchid: "#9932cc", darkred: "#8b0000", darksalmon: "#e9967a", darkseagreen: "#8fbc8f", darkslateblue: "#483d8b", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", darkturquoise: "#00ced1", darkviolet: "#9400d3", deeppink: "#ff1493", deepskyblue: "#00bfff", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1e90ff", firebrick: "#b22222", floralwhite: "#fffaf0", forestgreen: "#228b22", fuchsia: "#ff00ff", gainsboro: "#dcdcdc", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gray: "#808080", green: "#008000", greenyellow: "#adff2f", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", indianred: "#cd5c5c", indigo: "#4b0082", ivory: "#fffff0", khaki: "#f0e68c", lavender: "#e6e6fa", lavenderblush: "#fff0f5", lawngreen: "#7cfc00", lemonchiffon: "#fffacd", lightblue: "#add8e6", lightcoral: "#f08080", lightcyan: "#e0ffff", lightgoldenrodyellow: "#fafad2", lightgray: "#d3d3d3", lightgreen: "#90ee90", lightgrey: "#d3d3d3", lightpink: "#ffb6c1", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", lightskyblue: "#87cefa", lightslategray: "#778899", lightslategrey: "#778899", lightsteelblue: "#b0c4de", lightyellow: "#ffffe0", lime: "#00ff00", limegreen: "#32cd32", linen: "#faf0e6", magenta: "#ff00ff", maroon: "#800000", mediumaquamarine: "#66cdaa", mediumblue: "#0000cd", mediumorchid: "#ba55d3", mediumpurple: "#9370db", mediumseagreen: "#3cb371", mediumslateblue: "#7b68ee", mediumspringgreen: "#00fa9a", mediumturquoise: "#48d1cc", mediumvioletred: "#c71585", midnightblue: "#191970", mintcream: "#f5fffa", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", navajowhite: "#ffdead", navy: "#000080", oldlace: "#fdf5e6", olive: "#808000", olivedrab: "#6b8e23", orange: "#ffa500", orangered: "#ff4500", orchid: "#da70d6", palegoldenrod: "#eee8aa", palegreen: "#98fb98", paleturquoise: "#afeeee", palevioletred: "#db7093", papayawhip: "#ffefd5", peachpuff: "#ffdab9", peru: "#cd853f", pink: "#ffc0cb", plum: "#dda0dd", powderblue: "#b0e0e6", purple: "#800080", rebeccapurple: "#663399", red: "#ff0000", rosybrown: "#bc8f8f", royalblue: "#4169e1", saddlebrown: "#8b4513", salmon: "#fa8072", sandybrown: "#f4a460", seagreen: "#2e8b57", seashell: "#fff5ee", sienna: "#a0522d", silver: "#c0c0c0", skyblue: "#87ceeb", slateblue: "#6a5acd", slategray: "#708090", slategrey: "#708090", snow: "#fffafa", springgreen: "#00ff7f", tan: "#d2b48c", teal: "#008080", thistle: "#d8bfd8", transparent: "#00000000", turquoise: "#40e0d0", violet: "#ee82ee", wheat: "#f5deb3", white: "#ffffff", whitesmoke: "#f5f5f5", yellow: "#ffff00", yellowgreen: "#9acd32" }, parse: iM((e30) => {
  e30 = e30.toLowerCase();
  let t10 = i7.colors[e30];
  if (t10) return i5.parse(t10);
}, "parse"), stringify: iM((e30) => {
  let t10 = i5.stringify(e30);
  for (let e31 in i7.colors) if (i7.colors[e31] === t10) return e31;
}, "stringify") }, i8 = { re: /^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i, parse: iM((e30) => {
  let t10 = e30.charCodeAt(0);
  if (114 !== t10 && 82 !== t10) return;
  let r10 = e30.match(i8.re);
  if (!r10) return;
  let [, n10, i10, a10, s10, o10, l10, h10, u10] = r10;
  return i3.set({ r: i0.channel.clamp.r(i10 ? 2.55 * parseFloat(n10) : parseFloat(n10)), g: i0.channel.clamp.g(s10 ? 2.55 * parseFloat(a10) : parseFloat(a10)), b: i0.channel.clamp.b(l10 ? 2.55 * parseFloat(o10) : parseFloat(o10)), a: h10 ? i0.channel.clamp.a(u10 ? parseFloat(h10) / 100 : parseFloat(h10)) : 1 }, e30);
}, "parse"), stringify: iM((e30) => {
  let { r: t10, g: r10, b: n10, a: i10 } = e30;
  return i10 < 1 ? `rgba(${i0.lang.round(t10)}, ${i0.lang.round(r10)}, ${i0.lang.round(n10)}, ${i0.lang.round(i10)})` : `rgb(${i0.lang.round(t10)}, ${i0.lang.round(r10)}, ${i0.lang.round(n10)})`;
}, "stringify") }, i9 = { format: { keyword: i7, hex: i5, rgb: i8, rgba: i8, hsl: i6, hsla: i6 }, parse: iM((e30) => {
  if ("string" != typeof e30) return e30;
  let t10 = i5.parse(e30) || i8.parse(e30) || i6.parse(e30) || i7.parse(e30);
  if (t10) return t10;
  throw Error(`Unsupported color format: "${e30}"`);
}, "parse"), stringify: iM((e30) => !e30.changed && e30.color ? e30.color : e30.type.is(i2.HSL) || void 0 === e30.data.r ? i6.stringify(e30) : !(e30.a < 1) && Number.isInteger(e30.r) && Number.isInteger(e30.g) && Number.isInteger(e30.b) ? i5.stringify(e30) : i8.stringify(e30), "stringify") }, ae = iM((e30, t10) => {
  let r10 = i9.parse(e30);
  for (let e31 in t10) r10[e31] = i0.channel.clamp[e31](t10[e31]);
  return i9.stringify(r10);
}, "change"), at = iM(function(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
  if ("number" != typeof e30) return ae(e30, { a: t10 });
  let i10 = i3.set({ r: i0.channel.clamp.r(e30), g: i0.channel.clamp.g(t10), b: i0.channel.clamp.b(r10), a: i0.channel.clamp.a(n10) });
  return i9.stringify(i10);
}, "rgba"), ar = iM((e30, t10) => i0.lang.round(i9.parse(e30)[t10]), "channel"), an = iM((e30) => {
  let { r: t10, g: r10, b: n10 } = i9.parse(e30), i10 = 0.2126 * i0.channel.toLinear(t10) + 0.7152 * i0.channel.toLinear(r10) + 0.0722 * i0.channel.toLinear(n10);
  return i0.lang.round(i10);
}, "luminance"), ai = iM((e30) => an(e30) >= 0.5, "isLight"), aa = iM((e30) => !ai(e30), "isDark"), as = iM((e30, t10, r10) => {
  let n10 = i9.parse(e30), i10 = n10[t10], a10 = i0.channel.clamp[t10](i10 + r10);
  return i10 !== a10 && (n10[t10] = a10), i9.stringify(n10);
}, "adjustChannel"), ao = iM((e30, t10) => as(e30, "l", t10), "lighten"), al = iM((e30, t10) => as(e30, "l", -t10), "darken"), ac = iM((e30, t10) => {
  let r10 = i9.parse(e30), n10 = {};
  for (let e31 in t10) t10[e31] && (n10[e31] = r10[e31] + t10[e31]);
  return ae(e30, n10);
}, "adjust"), ah = iM(function(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 50, { r: n10, g: i10, b: a10, a: s10 } = i9.parse(e30), { r: o10, g: l10, b: h10, a: u10 } = i9.parse(t10), d10 = r10 / 100, p10 = 2 * d10 - 1, f10 = s10 - u10, g10 = ((p10 * f10 == -1 ? p10 : (p10 + f10) / (1 + p10 * f10)) + 1) / 2, y10 = 1 - g10;
  return at(n10 * g10 + o10 * y10, i10 * g10 + l10 * y10, a10 * g10 + h10 * y10, s10 * d10 + u10 * (1 - d10));
}, "mix"), au = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100, r10 = i9.parse(e30);
  return r10.r = 255 - r10.r, r10.g = 255 - r10.g, r10.b = 255 - r10.b, ah(r10, e30, t10);
}, "invert"), ad = "#ffffff", ap = "#f2f2f2", af = iM((e30, t10) => ac(e30, t10 ? { s: -40, l: 10 } : { s: -40, l: -10 }), "mkBorder"), ag = (_d2 = class {
  constructor() {
    this.background = "#f4f4f4", this.primaryColor = "#fff4dd", this.noteBkgColor = "#fff5ad", this.noteTextColor = "#333", this.THEME_COLOR_LIMIT = 12, this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px";
  }
  updateColors() {
    var e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10;
    if (this.primaryTextColor = this.primaryTextColor || (this.darkMode ? "#eee" : "#333"), this.secondaryColor = this.secondaryColor || ac(this.primaryColor, { h: -120 }), this.tertiaryColor = this.tertiaryColor || ac(this.primaryColor, { h: 180, l: 5 }), this.primaryBorderColor = this.primaryBorderColor || af(this.primaryColor, this.darkMode), this.secondaryBorderColor = this.secondaryBorderColor || af(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = this.tertiaryBorderColor || af(this.tertiaryColor, this.darkMode), this.noteBorderColor = this.noteBorderColor || af(this.noteBkgColor, this.darkMode), this.noteBkgColor = this.noteBkgColor || "#fff5ad", this.noteTextColor = this.noteTextColor || "#333", this.secondaryTextColor = this.secondaryTextColor || au(this.secondaryColor), this.tertiaryTextColor = this.tertiaryTextColor || au(this.tertiaryColor), this.lineColor = this.lineColor || au(this.background), this.arrowheadColor = this.arrowheadColor || au(this.background), this.textColor = this.textColor || this.primaryTextColor, this.border2 = this.border2 || this.tertiaryBorderColor, this.nodeBkg = this.nodeBkg || this.primaryColor, this.mainBkg = this.mainBkg || this.primaryColor, this.nodeBorder = this.nodeBorder || this.primaryBorderColor, this.clusterBkg = this.clusterBkg || this.tertiaryColor, this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor, this.defaultLinkColor = this.defaultLinkColor || this.lineColor, this.titleColor = this.titleColor || this.tertiaryTextColor, this.edgeLabelBackground = this.edgeLabelBackground || (this.darkMode ? al(this.secondaryColor, 30) : this.secondaryColor), this.nodeTextColor = this.nodeTextColor || this.primaryTextColor, this.actorBorder = this.actorBorder || this.primaryBorderColor, this.actorBkg = this.actorBkg || this.mainBkg, this.actorTextColor = this.actorTextColor || this.primaryTextColor, this.actorLineColor = this.actorLineColor || this.actorBorder, this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg, this.signalColor = this.signalColor || this.textColor, this.signalTextColor = this.signalTextColor || this.textColor, this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder, this.labelTextColor = this.labelTextColor || this.actorTextColor, this.loopTextColor = this.loopTextColor || this.actorTextColor, this.activationBorderColor = this.activationBorderColor || al(this.secondaryColor, 10), this.activationBkgColor = this.activationBkgColor || this.secondaryColor, this.sequenceNumberColor = this.sequenceNumberColor || au(this.lineColor), this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor, this.altSectionBkgColor = this.altSectionBkgColor || "white", this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor, this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor, this.excludeBkgColor = this.excludeBkgColor || "#eeeeee", this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor, this.taskBkgColor = this.taskBkgColor || this.primaryColor, this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor, this.activeTaskBkgColor = this.activeTaskBkgColor || ao(this.primaryColor, 23), this.gridColor = this.gridColor || "lightgrey", this.doneTaskBkgColor = this.doneTaskBkgColor || "lightgrey", this.doneTaskBorderColor = this.doneTaskBorderColor || "grey", this.critBorderColor = this.critBorderColor || "#ff8888", this.critBkgColor = this.critBkgColor || "red", this.todayLineColor = this.todayLineColor || "red", this.taskTextColor = this.taskTextColor || this.textColor, this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor, this.taskTextLightColor = this.taskTextLightColor || this.textColor, this.taskTextColor = this.taskTextColor || this.primaryTextColor, this.taskTextDarkColor = this.taskTextDarkColor || this.textColor, this.taskTextClickableColor = this.taskTextClickableColor || "#003163", this.personBorder = this.personBorder || this.primaryBorderColor, this.personBkg = this.personBkg || this.mainBkg, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || this.tertiaryColor, this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.nodeBorder, this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.transitionColor = this.transitionColor || this.lineColor, this.specialStateColor = this.lineColor, this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || ac(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || ac(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || ac(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || ac(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || ac(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || ac(this.primaryColor, { h: 210, l: 150 }), this.cScale9 = this.cScale9 || ac(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || ac(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || ac(this.primaryColor, { h: 330 }), this.darkMode) for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScale" + e31] = al(this["cScale" + e31], 75);
    else for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScale" + e31] = al(this["cScale" + e31], 25);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleInv" + e31] = this["cScaleInv" + e31] || au(this["cScale" + e31]);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this.darkMode ? this["cScalePeer" + e31] = this["cScalePeer" + e31] || ao(this["cScale" + e31], 10) : this["cScalePeer" + e31] = this["cScalePeer" + e31] || al(this["cScale" + e31], 10);
    this.scaleLabelColor = this.scaleLabelColor || this.labelTextColor;
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleLabel" + e31] = this["cScaleLabel" + e31] || this.scaleLabelColor;
    let d10 = this.darkMode ? -4 : -1;
    for (let e31 = 0; e31 < 5; e31++) this["surface" + e31] = this["surface" + e31] || ac(this.mainBkg, { h: 180, s: -15, l: d10 * (5 + 3 * e31) }), this["surfacePeer" + e31] = this["surfacePeer" + e31] || ac(this.mainBkg, { h: 180, s: -15, l: d10 * (8 + 3 * e31) });
    this.classText = this.classText || this.textColor, this.fillType0 = this.fillType0 || this.primaryColor, this.fillType1 = this.fillType1 || this.secondaryColor, this.fillType2 = this.fillType2 || ac(this.primaryColor, { h: 64 }), this.fillType3 = this.fillType3 || ac(this.secondaryColor, { h: 64 }), this.fillType4 = this.fillType4 || ac(this.primaryColor, { h: -64 }), this.fillType5 = this.fillType5 || ac(this.secondaryColor, { h: -64 }), this.fillType6 = this.fillType6 || ac(this.primaryColor, { h: 128 }), this.fillType7 = this.fillType7 || ac(this.secondaryColor, { h: 128 }), this.pie1 = this.pie1 || this.primaryColor, this.pie2 = this.pie2 || this.secondaryColor, this.pie3 = this.pie3 || this.tertiaryColor, this.pie4 = this.pie4 || ac(this.primaryColor, { l: -10 }), this.pie5 = this.pie5 || ac(this.secondaryColor, { l: -10 }), this.pie6 = this.pie6 || ac(this.tertiaryColor, { l: -10 }), this.pie7 = this.pie7 || ac(this.primaryColor, { h: 60, l: -10 }), this.pie8 = this.pie8 || ac(this.primaryColor, { h: -60, l: -10 }), this.pie9 = this.pie9 || ac(this.primaryColor, { h: 120, l: 0 }), this.pie10 = this.pie10 || ac(this.primaryColor, { h: 60, l: -20 }), this.pie11 = this.pie11 || ac(this.primaryColor, { h: -60, l: -20 }), this.pie12 = this.pie12 || ac(this.primaryColor, { h: 120, l: -10 }), this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.archEdgeColor = this.archEdgeColor || "#777", this.archEdgeArrowColor = this.archEdgeArrowColor || "#777", this.archEdgeWidth = this.archEdgeWidth || "3", this.archGroupBorderColor = this.archGroupBorderColor || "#000", this.archGroupBorderWidth = this.archGroupBorderWidth || "2px", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || ac(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || ac(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || ac(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || ac(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || ac(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || ac(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || aa(this.quadrant1Fill) ? ao(this.quadrant1Fill) : al(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (e30 = this.xyChart) || void 0 === e30 ? void 0 : e30.backgroundColor) || this.background, titleColor: (null === (t10 = this.xyChart) || void 0 === t10 ? void 0 : t10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? al(this.secondaryColor, 30) : this.secondaryColor), this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = this.git0 || this.primaryColor, this.git1 = this.git1 || this.secondaryColor, this.git2 = this.git2 || this.tertiaryColor, this.git3 = this.git3 || ac(this.primaryColor, { h: -30 }), this.git4 = this.git4 || ac(this.primaryColor, { h: -60 }), this.git5 = this.git5 || ac(this.primaryColor, { h: -90 }), this.git6 = this.git6 || ac(this.primaryColor, { h: 60 }), this.git7 = this.git7 || ac(this.primaryColor, { h: 120 }), this.darkMode ? (this.git0 = ao(this.git0, 25), this.git1 = ao(this.git1, 25), this.git2 = ao(this.git2, 25), this.git3 = ao(this.git3, 25), this.git4 = ao(this.git4, 25), this.git5 = ao(this.git5, 25), this.git6 = ao(this.git6, 25), this.git7 = ao(this.git7, 25)) : (this.git0 = al(this.git0, 25), this.git1 = al(this.git1, 25), this.git2 = al(this.git2, 25), this.git3 = al(this.git3, 25), this.git4 = al(this.git4, 25), this.git5 = al(this.git5, 25), this.git6 = al(this.git6, 25), this.git7 = al(this.git7, 25)), this.gitInv0 = this.gitInv0 || au(this.git0), this.gitInv1 = this.gitInv1 || au(this.git1), this.gitInv2 = this.gitInv2 || au(this.git2), this.gitInv3 = this.gitInv3 || au(this.git3), this.gitInv4 = this.gitInv4 || au(this.git4), this.gitInv5 = this.gitInv5 || au(this.git5), this.gitInv6 = this.gitInv6 || au(this.git6), this.gitInv7 = this.gitInv7 || au(this.git7), this.branchLabelColor = this.branchLabelColor || (this.darkMode ? "black" : this.labelTextColor), this.gitBranchLabel0 = this.gitBranchLabel0 || this.branchLabelColor, this.gitBranchLabel1 = this.gitBranchLabel1 || this.branchLabelColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.branchLabelColor, this.gitBranchLabel3 = this.gitBranchLabel3 || this.branchLabelColor, this.gitBranchLabel4 = this.gitBranchLabel4 || this.branchLabelColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.branchLabelColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.branchLabelColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.branchLabelColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ad, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || ap;
  }
  calculate(e30) {
    if ("object" != typeof e30) {
      this.updateColors();
      return;
    }
    let t10 = Object.keys(e30);
    t10.forEach((t11) => {
      this[t11] = e30[t11];
    }), this.updateColors(), t10.forEach((t11) => {
      this[t11] = e30[t11];
    });
  }
}, _i5 = new WeakMap(), __privateAdd(_d2, _i5, iM(_d2, "Theme")), _d2), am = iM((e30) => {
  let t10 = new ag();
  return t10.calculate(e30), t10;
}, "getThemeVariables"), ay = (_e3 = class {
  constructor() {
    this.background = "#333", this.primaryColor = "#1f2020", this.secondaryColor = ao(this.primaryColor, 16), this.tertiaryColor = ac(this.primaryColor, { h: -160 }), this.primaryBorderColor = au(this.background), this.secondaryBorderColor = af(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = af(this.tertiaryColor, this.darkMode), this.primaryTextColor = au(this.primaryColor), this.secondaryTextColor = au(this.secondaryColor), this.tertiaryTextColor = au(this.tertiaryColor), this.lineColor = au(this.background), this.textColor = au(this.background), this.mainBkg = "#1f2020", this.secondBkg = "calculated", this.mainContrastColor = "lightgrey", this.darkTextColor = ao(au("#323D47"), 10), this.lineColor = "calculated", this.border1 = "#ccc", this.border2 = at(255, 255, 255, 0.25), this.arrowheadColor = "calculated", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.labelBackground = "#181818", this.textColor = "#ccc", this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "#F9FFFE", this.edgeLabelBackground = "calculated", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "calculated", this.actorLineColor = "calculated", this.signalColor = "calculated", this.signalTextColor = "calculated", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "calculated", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "#fff5ad", this.noteTextColor = "calculated", this.activationBorderColor = "calculated", this.activationBkgColor = "calculated", this.sequenceNumberColor = "black", this.sectionBkgColor = al("#EAE8D9", 30), this.altSectionBkgColor = "calculated", this.sectionBkgColor2 = "#EAE8D9", this.excludeBkgColor = al(this.sectionBkgColor, 10), this.taskBorderColor = at(255, 255, 255, 70), this.taskBkgColor = "calculated", this.taskTextColor = "calculated", this.taskTextLightColor = "calculated", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = at(255, 255, 255, 50), this.activeTaskBkgColor = "#81B1DB", this.gridColor = "calculated", this.doneTaskBkgColor = "calculated", this.doneTaskBorderColor = "grey", this.critBorderColor = "#E83737", this.critBkgColor = "#E83737", this.taskTextDarkColor = "calculated", this.todayLineColor = "#DB5757", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "calculated", this.errorBkgColor = "#a44141", this.errorTextColor = "#ddd";
  }
  updateColors() {
    var e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10;
    this.secondBkg = ao(this.mainBkg, 16), this.lineColor = this.mainContrastColor, this.arrowheadColor = this.mainContrastColor, this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.edgeLabelBackground = ao(this.labelBackground, 25), this.actorBorder = this.border1, this.actorBkg = this.mainBkg, this.actorTextColor = this.mainContrastColor, this.actorLineColor = this.actorBorder, this.signalColor = this.mainContrastColor, this.signalTextColor = this.mainContrastColor, this.labelBoxBkgColor = this.actorBkg, this.labelBoxBorderColor = this.actorBorder, this.labelTextColor = this.mainContrastColor, this.loopTextColor = this.mainContrastColor, this.noteBorderColor = this.secondaryBorderColor, this.noteBkgColor = this.secondBkg, this.noteTextColor = this.secondaryTextColor, this.activationBorderColor = this.border1, this.activationBkgColor = this.secondBkg, this.altSectionBkgColor = this.background, this.taskBkgColor = ao(this.mainBkg, 23), this.taskTextColor = this.darkTextColor, this.taskTextLightColor = this.mainContrastColor, this.taskTextOutsideColor = this.taskTextLightColor, this.gridColor = this.mainContrastColor, this.doneTaskBkgColor = this.mainContrastColor, this.taskTextDarkColor = this.darkTextColor, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#555", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.primaryBorderColor, this.specialStateColor = "#f4f4f4", this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = ac(this.primaryColor, { h: 64 }), this.fillType3 = ac(this.secondaryColor, { h: 64 }), this.fillType4 = ac(this.primaryColor, { h: -64 }), this.fillType5 = ac(this.secondaryColor, { h: -64 }), this.fillType6 = ac(this.primaryColor, { h: 128 }), this.fillType7 = ac(this.secondaryColor, { h: 128 }), this.cScale1 = this.cScale1 || "#0b0000", this.cScale2 = this.cScale2 || "#4d1037", this.cScale3 = this.cScale3 || "#3f5258", this.cScale4 = this.cScale4 || "#4f2f1b", this.cScale5 = this.cScale5 || "#6e0a0a", this.cScale6 = this.cScale6 || "#3b0048", this.cScale7 = this.cScale7 || "#995a01", this.cScale8 = this.cScale8 || "#154706", this.cScale9 = this.cScale9 || "#161722", this.cScale10 = this.cScale10 || "#00296f", this.cScale11 = this.cScale11 || "#01629c", this.cScale12 = this.cScale12 || "#010029", this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || ac(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || ac(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || ac(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || ac(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || ac(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || ac(this.primaryColor, { h: 210 }), this.cScale9 = this.cScale9 || ac(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || ac(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || ac(this.primaryColor, { h: 330 });
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleInv" + e31] = this["cScaleInv" + e31] || au(this["cScale" + e31]);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScalePeer" + e31] = this["cScalePeer" + e31] || ao(this["cScale" + e31], 10);
    for (let e31 = 0; e31 < 5; e31++) this["surface" + e31] = this["surface" + e31] || ac(this.mainBkg, { h: 30, s: -30, l: -(-10 + 4 * e31) }), this["surfacePeer" + e31] = this["surfacePeer" + e31] || ac(this.mainBkg, { h: 30, s: -30, l: -(-7 + 4 * e31) });
    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleLabel" + e31] = this["cScaleLabel" + e31] || this.scaleLabelColor;
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["pie" + e31] = this["cScale" + e31];
    this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || ac(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || ac(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || ac(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || ac(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || ac(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || ac(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || aa(this.quadrant1Fill) ? ao(this.quadrant1Fill) : al(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (e30 = this.xyChart) || void 0 === e30 ? void 0 : e30.backgroundColor) || this.background, titleColor: (null === (t10 = this.xyChart) || void 0 === t10 ? void 0 : t10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22" }, this.packet = { startByteColor: this.primaryTextColor, endByteColor: this.primaryTextColor, labelColor: this.primaryTextColor, titleColor: this.primaryTextColor, blockStrokeColor: this.primaryTextColor, blockFillColor: this.background }, this.classText = this.primaryTextColor, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? al(this.secondaryColor, 30) : this.secondaryColor), this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = ao(this.secondaryColor, 20), this.git1 = ao(this.pie2 || this.secondaryColor, 20), this.git2 = ao(this.pie3 || this.tertiaryColor, 20), this.git3 = ao(this.pie4 || ac(this.primaryColor, { h: -30 }), 20), this.git4 = ao(this.pie5 || ac(this.primaryColor, { h: -60 }), 20), this.git5 = ao(this.pie6 || ac(this.primaryColor, { h: -90 }), 10), this.git6 = ao(this.pie7 || ac(this.primaryColor, { h: 60 }), 10), this.git7 = ao(this.pie8 || ac(this.primaryColor, { h: 120 }), 20), this.gitInv0 = this.gitInv0 || au(this.git0), this.gitInv1 = this.gitInv1 || au(this.git1), this.gitInv2 = this.gitInv2 || au(this.git2), this.gitInv3 = this.gitInv3 || au(this.git3), this.gitInv4 = this.gitInv4 || au(this.git4), this.gitInv5 = this.gitInv5 || au(this.git5), this.gitInv6 = this.gitInv6 || au(this.git6), this.gitInv7 = this.gitInv7 || au(this.git7), this.gitBranchLabel0 = this.gitBranchLabel0 || au(this.labelTextColor), this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor, this.gitBranchLabel3 = this.gitBranchLabel3 || au(this.labelTextColor), this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ao(this.background, 12), this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || ao(this.background, 2), this.nodeBorder = this.nodeBorder || "#999";
  }
  calculate(e30) {
    if ("object" != typeof e30) {
      this.updateColors();
      return;
    }
    let t10 = Object.keys(e30);
    t10.forEach((t11) => {
      this[t11] = e30[t11];
    }), this.updateColors(), t10.forEach((t11) => {
      this[t11] = e30[t11];
    });
  }
}, _i6 = new WeakMap(), __privateAdd(_e3, _i6, iM(_e3, "Theme")), _e3), av = iM((e30) => {
  let t10 = new ay();
  return t10.calculate(e30), t10;
}, "getThemeVariables"), ax = (_f2 = class {
  constructor() {
    this.background = "#f4f4f4", this.primaryColor = "#ECECFF", this.secondaryColor = ac(this.primaryColor, { h: 120 }), this.secondaryColor = "#ffffde", this.tertiaryColor = ac(this.primaryColor, { h: -160 }), this.primaryBorderColor = af(this.primaryColor, this.darkMode), this.secondaryBorderColor = af(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = af(this.tertiaryColor, this.darkMode), this.primaryTextColor = au(this.primaryColor), this.secondaryTextColor = au(this.secondaryColor), this.tertiaryTextColor = au(this.tertiaryColor), this.lineColor = au(this.background), this.textColor = au(this.background), this.background = "white", this.mainBkg = "#ECECFF", this.secondBkg = "#ffffde", this.lineColor = "#333333", this.border1 = "#9370DB", this.border2 = "#aaaa33", this.arrowheadColor = "#333333", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.labelBackground = "rgba(232,232,232, 0.8)", this.textColor = "#333", this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "calculated", this.edgeLabelBackground = "calculated", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "black", this.actorLineColor = "calculated", this.signalColor = "calculated", this.signalTextColor = "calculated", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "calculated", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "#fff5ad", this.noteTextColor = "calculated", this.activationBorderColor = "#666", this.activationBkgColor = "#f4f4f4", this.sequenceNumberColor = "white", this.sectionBkgColor = "calculated", this.altSectionBkgColor = "calculated", this.sectionBkgColor2 = "calculated", this.excludeBkgColor = "#eeeeee", this.taskBorderColor = "calculated", this.taskBkgColor = "calculated", this.taskTextLightColor = "calculated", this.taskTextColor = this.taskTextLightColor, this.taskTextDarkColor = "calculated", this.taskTextOutsideColor = this.taskTextDarkColor, this.taskTextClickableColor = "calculated", this.activeTaskBorderColor = "calculated", this.activeTaskBkgColor = "calculated", this.gridColor = "calculated", this.doneTaskBkgColor = "calculated", this.doneTaskBorderColor = "calculated", this.critBorderColor = "calculated", this.critBkgColor = "calculated", this.todayLineColor = "calculated", this.sectionBkgColor = at(102, 102, 255, 0.49), this.altSectionBkgColor = "white", this.sectionBkgColor2 = "#fff400", this.taskBorderColor = "#534fbc", this.taskBkgColor = "#8a90dd", this.taskTextLightColor = "white", this.taskTextColor = "calculated", this.taskTextDarkColor = "black", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = "#534fbc", this.activeTaskBkgColor = "#bfc7ff", this.gridColor = "lightgrey", this.doneTaskBkgColor = "lightgrey", this.doneTaskBorderColor = "grey", this.critBorderColor = "#ff8888", this.critBkgColor = "red", this.todayLineColor = "red", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "black", this.errorBkgColor = "#552222", this.errorTextColor = "#552222", this.updateColors();
  }
  updateColors() {
    var e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10;
    this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || ac(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || ac(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || ac(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || ac(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || ac(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || ac(this.primaryColor, { h: 210 }), this.cScale9 = this.cScale9 || ac(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || ac(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || ac(this.primaryColor, { h: 330 }), this.cScalePeer1 = this.cScalePeer1 || al(this.secondaryColor, 45), this.cScalePeer2 = this.cScalePeer2 || al(this.tertiaryColor, 40);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScale" + e31] = al(this["cScale" + e31], 10), this["cScalePeer" + e31] = this["cScalePeer" + e31] || al(this["cScale" + e31], 25);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleInv" + e31] = this["cScaleInv" + e31] || ac(this["cScale" + e31], { h: 180 });
    for (let e31 = 0; e31 < 5; e31++) this["surface" + e31] = this["surface" + e31] || ac(this.mainBkg, { h: 30, l: -(5 + 5 * e31) }), this["surfacePeer" + e31] = this["surfacePeer" + e31] || ac(this.mainBkg, { h: 30, l: -(7 + 5 * e31) });
    if (this.scaleLabelColor = "calculated" !== this.scaleLabelColor && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor, "calculated" !== this.labelTextColor) {
      this.cScaleLabel0 = this.cScaleLabel0 || au(this.labelTextColor), this.cScaleLabel3 = this.cScaleLabel3 || au(this.labelTextColor);
      for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleLabel" + e31] = this["cScaleLabel" + e31] || this.labelTextColor;
    }
    this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.titleColor = this.textColor, this.edgeLabelBackground = this.labelBackground, this.actorBorder = ao(this.border1, 23), this.actorBkg = this.mainBkg, this.labelBoxBkgColor = this.actorBkg, this.signalColor = this.textColor, this.signalTextColor = this.textColor, this.labelBoxBorderColor = this.actorBorder, this.labelTextColor = this.actorTextColor, this.loopTextColor = this.actorTextColor, this.noteBorderColor = this.border2, this.noteTextColor = this.actorTextColor, this.actorLineColor = this.actorBorder, this.taskTextColor = this.taskTextLightColor, this.taskTextOutsideColor = this.taskTextDarkColor, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#f0f0f0", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.nodeBorder, this.specialStateColor = this.lineColor, this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.transitionColor = this.transitionColor || this.lineColor, this.classText = this.primaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = ac(this.primaryColor, { h: 64 }), this.fillType3 = ac(this.secondaryColor, { h: 64 }), this.fillType4 = ac(this.primaryColor, { h: -64 }), this.fillType5 = ac(this.secondaryColor, { h: -64 }), this.fillType6 = ac(this.primaryColor, { h: 128 }), this.fillType7 = ac(this.secondaryColor, { h: 128 }), this.pie1 = this.pie1 || this.primaryColor, this.pie2 = this.pie2 || this.secondaryColor, this.pie3 = this.pie3 || ac(this.tertiaryColor, { l: -40 }), this.pie4 = this.pie4 || ac(this.primaryColor, { l: -10 }), this.pie5 = this.pie5 || ac(this.secondaryColor, { l: -30 }), this.pie6 = this.pie6 || ac(this.tertiaryColor, { l: -20 }), this.pie7 = this.pie7 || ac(this.primaryColor, { h: 60, l: -20 }), this.pie8 = this.pie8 || ac(this.primaryColor, { h: -60, l: -40 }), this.pie9 = this.pie9 || ac(this.primaryColor, { h: 120, l: -40 }), this.pie10 = this.pie10 || ac(this.primaryColor, { h: 60, l: -40 }), this.pie11 = this.pie11 || ac(this.primaryColor, { h: -90, l: -40 }), this.pie12 = this.pie12 || ac(this.primaryColor, { h: 120, l: -30 }), this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || ac(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || ac(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || ac(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || ac(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || ac(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || ac(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || aa(this.quadrant1Fill) ? ao(this.quadrant1Fill) : al(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (e30 = this.xyChart) || void 0 === e30 ? void 0 : e30.backgroundColor) || this.background, titleColor: (null === (t10 = this.xyChart) || void 0 === t10 ? void 0 : t10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || this.labelBackground, this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = this.git0 || this.primaryColor, this.git1 = this.git1 || this.secondaryColor, this.git2 = this.git2 || this.tertiaryColor, this.git3 = this.git3 || ac(this.primaryColor, { h: -30 }), this.git4 = this.git4 || ac(this.primaryColor, { h: -60 }), this.git5 = this.git5 || ac(this.primaryColor, { h: -90 }), this.git6 = this.git6 || ac(this.primaryColor, { h: 60 }), this.git7 = this.git7 || ac(this.primaryColor, { h: 120 }), this.darkMode ? (this.git0 = ao(this.git0, 25), this.git1 = ao(this.git1, 25), this.git2 = ao(this.git2, 25), this.git3 = ao(this.git3, 25), this.git4 = ao(this.git4, 25), this.git5 = ao(this.git5, 25), this.git6 = ao(this.git6, 25), this.git7 = ao(this.git7, 25)) : (this.git0 = al(this.git0, 25), this.git1 = al(this.git1, 25), this.git2 = al(this.git2, 25), this.git3 = al(this.git3, 25), this.git4 = al(this.git4, 25), this.git5 = al(this.git5, 25), this.git6 = al(this.git6, 25), this.git7 = al(this.git7, 25)), this.gitInv0 = this.gitInv0 || al(au(this.git0), 25), this.gitInv1 = this.gitInv1 || au(this.git1), this.gitInv2 = this.gitInv2 || au(this.git2), this.gitInv3 = this.gitInv3 || au(this.git3), this.gitInv4 = this.gitInv4 || au(this.git4), this.gitInv5 = this.gitInv5 || au(this.git5), this.gitInv6 = this.gitInv6 || au(this.git6), this.gitInv7 = this.gitInv7 || au(this.git7), this.gitBranchLabel0 = this.gitBranchLabel0 || au(this.labelTextColor), this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor, this.gitBranchLabel3 = this.gitBranchLabel3 || au(this.labelTextColor), this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ad, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || ap;
  }
  calculate(e30) {
    if ("object" != typeof e30) {
      this.updateColors();
      return;
    }
    let t10 = Object.keys(e30);
    t10.forEach((t11) => {
      this[t11] = e30[t11];
    }), this.updateColors(), t10.forEach((t11) => {
      this[t11] = e30[t11];
    });
  }
}, _i7 = new WeakMap(), __privateAdd(_f2, _i7, iM(_f2, "Theme")), _f2), ab = iM((e30) => {
  let t10 = new ax();
  return t10.calculate(e30), t10;
}, "getThemeVariables"), ak = (_g2 = class {
  constructor() {
    this.background = "#f4f4f4", this.primaryColor = "#cde498", this.secondaryColor = "#cdffb2", this.background = "white", this.mainBkg = "#cde498", this.secondBkg = "#cdffb2", this.lineColor = "green", this.border1 = "#13540c", this.border2 = "#6eaa49", this.arrowheadColor = "green", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.tertiaryColor = ao("#cde498", 10), this.primaryBorderColor = af(this.primaryColor, this.darkMode), this.secondaryBorderColor = af(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = af(this.tertiaryColor, this.darkMode), this.primaryTextColor = au(this.primaryColor), this.secondaryTextColor = au(this.secondaryColor), this.tertiaryTextColor = au(this.primaryColor), this.lineColor = au(this.background), this.textColor = au(this.background), this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "#333", this.edgeLabelBackground = "#e8e8e8", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "black", this.actorLineColor = "calculated", this.signalColor = "#333", this.signalTextColor = "#333", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "#326932", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "#fff5ad", this.noteTextColor = "calculated", this.activationBorderColor = "#666", this.activationBkgColor = "#f4f4f4", this.sequenceNumberColor = "white", this.sectionBkgColor = "#6eaa49", this.altSectionBkgColor = "white", this.sectionBkgColor2 = "#6eaa49", this.excludeBkgColor = "#eeeeee", this.taskBorderColor = "calculated", this.taskBkgColor = "#487e3a", this.taskTextLightColor = "white", this.taskTextColor = "calculated", this.taskTextDarkColor = "black", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = "calculated", this.activeTaskBkgColor = "calculated", this.gridColor = "lightgrey", this.doneTaskBkgColor = "lightgrey", this.doneTaskBorderColor = "grey", this.critBorderColor = "#ff8888", this.critBkgColor = "red", this.todayLineColor = "red", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "black", this.errorBkgColor = "#552222", this.errorTextColor = "#552222";
  }
  updateColors() {
    var e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10;
    this.actorBorder = al(this.mainBkg, 20), this.actorBkg = this.mainBkg, this.labelBoxBkgColor = this.actorBkg, this.labelTextColor = this.actorTextColor, this.loopTextColor = this.actorTextColor, this.noteBorderColor = this.border2, this.noteTextColor = this.actorTextColor, this.actorLineColor = this.actorBorder, this.cScale0 = this.cScale0 || this.primaryColor, this.cScale1 = this.cScale1 || this.secondaryColor, this.cScale2 = this.cScale2 || this.tertiaryColor, this.cScale3 = this.cScale3 || ac(this.primaryColor, { h: 30 }), this.cScale4 = this.cScale4 || ac(this.primaryColor, { h: 60 }), this.cScale5 = this.cScale5 || ac(this.primaryColor, { h: 90 }), this.cScale6 = this.cScale6 || ac(this.primaryColor, { h: 120 }), this.cScale7 = this.cScale7 || ac(this.primaryColor, { h: 150 }), this.cScale8 = this.cScale8 || ac(this.primaryColor, { h: 210 }), this.cScale9 = this.cScale9 || ac(this.primaryColor, { h: 270 }), this.cScale10 = this.cScale10 || ac(this.primaryColor, { h: 300 }), this.cScale11 = this.cScale11 || ac(this.primaryColor, { h: 330 }), this.cScalePeer1 = this.cScalePeer1 || al(this.secondaryColor, 45), this.cScalePeer2 = this.cScalePeer2 || al(this.tertiaryColor, 40);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScale" + e31] = al(this["cScale" + e31], 10), this["cScalePeer" + e31] = this["cScalePeer" + e31] || al(this["cScale" + e31], 25);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleInv" + e31] = this["cScaleInv" + e31] || ac(this["cScale" + e31], { h: 180 });
    this.scaleLabelColor = "calculated" !== this.scaleLabelColor && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleLabel" + e31] = this["cScaleLabel" + e31] || this.scaleLabelColor;
    for (let e31 = 0; e31 < 5; e31++) this["surface" + e31] = this["surface" + e31] || ac(this.mainBkg, { h: 30, s: -30, l: -(5 + 5 * e31) }), this["surfacePeer" + e31] = this["surfacePeer" + e31] || ac(this.mainBkg, { h: 30, s: -30, l: -(8 + 5 * e31) });
    this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.taskBorderColor = this.border1, this.taskTextColor = this.taskTextLightColor, this.taskTextOutsideColor = this.taskTextDarkColor, this.activeTaskBorderColor = this.taskBorderColor, this.activeTaskBkgColor = this.mainBkg, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || this.lineColor, this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#f0f0f0", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.compositeBorder = this.compositeBorder || this.nodeBorder, this.innerEndBackground = this.primaryBorderColor, this.specialStateColor = this.lineColor, this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.transitionColor = this.transitionColor || this.lineColor, this.classText = this.primaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = ac(this.primaryColor, { h: 64 }), this.fillType3 = ac(this.secondaryColor, { h: 64 }), this.fillType4 = ac(this.primaryColor, { h: -64 }), this.fillType5 = ac(this.secondaryColor, { h: -64 }), this.fillType6 = ac(this.primaryColor, { h: 128 }), this.fillType7 = ac(this.secondaryColor, { h: 128 }), this.pie1 = this.pie1 || this.primaryColor, this.pie2 = this.pie2 || this.secondaryColor, this.pie3 = this.pie3 || this.tertiaryColor, this.pie4 = this.pie4 || ac(this.primaryColor, { l: -30 }), this.pie5 = this.pie5 || ac(this.secondaryColor, { l: -30 }), this.pie6 = this.pie6 || ac(this.tertiaryColor, { h: 40, l: -40 }), this.pie7 = this.pie7 || ac(this.primaryColor, { h: 60, l: -10 }), this.pie8 = this.pie8 || ac(this.primaryColor, { h: -60, l: -10 }), this.pie9 = this.pie9 || ac(this.primaryColor, { h: 120, l: 0 }), this.pie10 = this.pie10 || ac(this.primaryColor, { h: 60, l: -50 }), this.pie11 = this.pie11 || ac(this.primaryColor, { h: -60, l: -50 }), this.pie12 = this.pie12 || ac(this.primaryColor, { h: 120, l: -50 }), this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || ac(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || ac(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || ac(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || ac(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || ac(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || ac(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || aa(this.quadrant1Fill) ? ao(this.quadrant1Fill) : al(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.packet = { startByteColor: this.primaryTextColor, endByteColor: this.primaryTextColor, labelColor: this.primaryTextColor, titleColor: this.primaryTextColor, blockStrokeColor: this.primaryTextColor, blockFillColor: this.mainBkg }, this.xyChart = { backgroundColor: (null === (e30 = this.xyChart) || void 0 === e30 ? void 0 : e30.backgroundColor) || this.background, titleColor: (null === (t10 = this.xyChart) || void 0 === t10 ? void 0 : t10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground, this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = this.git0 || this.primaryColor, this.git1 = this.git1 || this.secondaryColor, this.git2 = this.git2 || this.tertiaryColor, this.git3 = this.git3 || ac(this.primaryColor, { h: -30 }), this.git4 = this.git4 || ac(this.primaryColor, { h: -60 }), this.git5 = this.git5 || ac(this.primaryColor, { h: -90 }), this.git6 = this.git6 || ac(this.primaryColor, { h: 60 }), this.git7 = this.git7 || ac(this.primaryColor, { h: 120 }), this.darkMode ? (this.git0 = ao(this.git0, 25), this.git1 = ao(this.git1, 25), this.git2 = ao(this.git2, 25), this.git3 = ao(this.git3, 25), this.git4 = ao(this.git4, 25), this.git5 = ao(this.git5, 25), this.git6 = ao(this.git6, 25), this.git7 = ao(this.git7, 25)) : (this.git0 = al(this.git0, 25), this.git1 = al(this.git1, 25), this.git2 = al(this.git2, 25), this.git3 = al(this.git3, 25), this.git4 = al(this.git4, 25), this.git5 = al(this.git5, 25), this.git6 = al(this.git6, 25), this.git7 = al(this.git7, 25)), this.gitInv0 = this.gitInv0 || au(this.git0), this.gitInv1 = this.gitInv1 || au(this.git1), this.gitInv2 = this.gitInv2 || au(this.git2), this.gitInv3 = this.gitInv3 || au(this.git3), this.gitInv4 = this.gitInv4 || au(this.git4), this.gitInv5 = this.gitInv5 || au(this.git5), this.gitInv6 = this.gitInv6 || au(this.git6), this.gitInv7 = this.gitInv7 || au(this.git7), this.gitBranchLabel0 = this.gitBranchLabel0 || au(this.labelTextColor), this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor, this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor, this.gitBranchLabel3 = this.gitBranchLabel3 || au(this.labelTextColor), this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor, this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor, this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor, this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ad, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || ap;
  }
  calculate(e30) {
    if ("object" != typeof e30) {
      this.updateColors();
      return;
    }
    let t10 = Object.keys(e30);
    t10.forEach((t11) => {
      this[t11] = e30[t11];
    }), this.updateColors(), t10.forEach((t11) => {
      this[t11] = e30[t11];
    });
  }
}, _i8 = new WeakMap(), __privateAdd(_g2, _i8, iM(_g2, "Theme")), _g2), aw = iM((e30) => {
  let t10 = new ak();
  return t10.calculate(e30), t10;
}, "getThemeVariables"), a_ = (_h2 = class {
  constructor() {
    this.primaryColor = "#eee", this.contrast = "#707070", this.secondaryColor = ao(this.contrast, 55), this.background = "#ffffff", this.tertiaryColor = ac(this.primaryColor, { h: -160 }), this.primaryBorderColor = af(this.primaryColor, this.darkMode), this.secondaryBorderColor = af(this.secondaryColor, this.darkMode), this.tertiaryBorderColor = af(this.tertiaryColor, this.darkMode), this.primaryTextColor = au(this.primaryColor), this.secondaryTextColor = au(this.secondaryColor), this.tertiaryTextColor = au(this.tertiaryColor), this.lineColor = au(this.background), this.textColor = au(this.background), this.mainBkg = "#eee", this.secondBkg = "calculated", this.lineColor = "#666", this.border1 = "#999", this.border2 = "calculated", this.note = "#ffa", this.text = "#333", this.critical = "#d42", this.done = "#bbb", this.arrowheadColor = "#333333", this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif', this.fontSize = "16px", this.THEME_COLOR_LIMIT = 12, this.nodeBkg = "calculated", this.nodeBorder = "calculated", this.clusterBkg = "calculated", this.clusterBorder = "calculated", this.defaultLinkColor = "calculated", this.titleColor = "calculated", this.edgeLabelBackground = "white", this.actorBorder = "calculated", this.actorBkg = "calculated", this.actorTextColor = "calculated", this.actorLineColor = this.actorBorder, this.signalColor = "calculated", this.signalTextColor = "calculated", this.labelBoxBkgColor = "calculated", this.labelBoxBorderColor = "calculated", this.labelTextColor = "calculated", this.loopTextColor = "calculated", this.noteBorderColor = "calculated", this.noteBkgColor = "calculated", this.noteTextColor = "calculated", this.activationBorderColor = "#666", this.activationBkgColor = "#f4f4f4", this.sequenceNumberColor = "white", this.sectionBkgColor = "calculated", this.altSectionBkgColor = "white", this.sectionBkgColor2 = "calculated", this.excludeBkgColor = "#eeeeee", this.taskBorderColor = "calculated", this.taskBkgColor = "calculated", this.taskTextLightColor = "white", this.taskTextColor = "calculated", this.taskTextDarkColor = "calculated", this.taskTextOutsideColor = "calculated", this.taskTextClickableColor = "#003163", this.activeTaskBorderColor = "calculated", this.activeTaskBkgColor = "calculated", this.gridColor = "calculated", this.doneTaskBkgColor = "calculated", this.doneTaskBorderColor = "calculated", this.critBkgColor = "calculated", this.critBorderColor = "calculated", this.todayLineColor = "calculated", this.personBorder = this.primaryBorderColor, this.personBkg = this.mainBkg, this.archEdgeColor = "calculated", this.archEdgeArrowColor = "calculated", this.archEdgeWidth = "3", this.archGroupBorderColor = this.primaryBorderColor, this.archGroupBorderWidth = "2px", this.labelColor = "black", this.errorBkgColor = "#552222", this.errorTextColor = "#552222";
  }
  updateColors() {
    var e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10;
    this.secondBkg = ao(this.contrast, 55), this.border2 = this.contrast, this.actorBorder = ao(this.border1, 23), this.actorBkg = this.mainBkg, this.actorTextColor = this.text, this.actorLineColor = this.actorBorder, this.signalColor = this.text, this.signalTextColor = this.text, this.labelBoxBkgColor = this.actorBkg, this.labelBoxBorderColor = this.actorBorder, this.labelTextColor = this.text, this.loopTextColor = this.text, this.noteBorderColor = "#999", this.noteBkgColor = "#666", this.noteTextColor = "#fff", this.cScale0 = this.cScale0 || "#555", this.cScale1 = this.cScale1 || "#F4F4F4", this.cScale2 = this.cScale2 || "#555", this.cScale3 = this.cScale3 || "#BBB", this.cScale4 = this.cScale4 || "#777", this.cScale5 = this.cScale5 || "#999", this.cScale6 = this.cScale6 || "#DDD", this.cScale7 = this.cScale7 || "#FFF", this.cScale8 = this.cScale8 || "#DDD", this.cScale9 = this.cScale9 || "#BBB", this.cScale10 = this.cScale10 || "#999", this.cScale11 = this.cScale11 || "#777";
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleInv" + e31] = this["cScaleInv" + e31] || au(this["cScale" + e31]);
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this.darkMode ? this["cScalePeer" + e31] = this["cScalePeer" + e31] || ao(this["cScale" + e31], 10) : this["cScalePeer" + e31] = this["cScalePeer" + e31] || al(this["cScale" + e31], 10);
    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor), this.cScaleLabel0 = this.cScaleLabel0 || this.cScale1, this.cScaleLabel2 = this.cScaleLabel2 || this.cScale1;
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["cScaleLabel" + e31] = this["cScaleLabel" + e31] || this.scaleLabelColor;
    for (let e31 = 0; e31 < 5; e31++) this["surface" + e31] = this["surface" + e31] || ac(this.mainBkg, { l: -(5 + 5 * e31) }), this["surfacePeer" + e31] = this["surfacePeer" + e31] || ac(this.mainBkg, { l: -(8 + 5 * e31) });
    this.nodeBkg = this.mainBkg, this.nodeBorder = this.border1, this.clusterBkg = this.secondBkg, this.clusterBorder = this.border2, this.defaultLinkColor = this.lineColor, this.titleColor = this.text, this.sectionBkgColor = ao(this.contrast, 30), this.sectionBkgColor2 = ao(this.contrast, 30), this.taskBorderColor = al(this.contrast, 10), this.taskBkgColor = this.contrast, this.taskTextColor = this.taskTextLightColor, this.taskTextDarkColor = this.text, this.taskTextOutsideColor = this.taskTextDarkColor, this.activeTaskBorderColor = this.taskBorderColor, this.activeTaskBkgColor = this.mainBkg, this.gridColor = ao(this.border1, 30), this.doneTaskBkgColor = this.done, this.doneTaskBorderColor = this.lineColor, this.critBkgColor = this.critical, this.critBorderColor = al(this.critBkgColor, 10), this.todayLineColor = this.critBkgColor, this.archEdgeColor = this.lineColor, this.archEdgeArrowColor = this.lineColor, this.transitionColor = this.transitionColor || "#000", this.transitionLabelColor = this.transitionLabelColor || this.textColor, this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor, this.stateBkg = this.stateBkg || this.mainBkg, this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg, this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor, this.altBackground = this.altBackground || "#f4f4f4", this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg, this.stateBorder = this.stateBorder || "#000", this.innerEndBackground = this.primaryBorderColor, this.specialStateColor = "#222", this.errorBkgColor = this.errorBkgColor || this.tertiaryColor, this.errorTextColor = this.errorTextColor || this.tertiaryTextColor, this.classText = this.primaryTextColor, this.fillType0 = this.primaryColor, this.fillType1 = this.secondaryColor, this.fillType2 = ac(this.primaryColor, { h: 64 }), this.fillType3 = ac(this.secondaryColor, { h: 64 }), this.fillType4 = ac(this.primaryColor, { h: -64 }), this.fillType5 = ac(this.secondaryColor, { h: -64 }), this.fillType6 = ac(this.primaryColor, { h: 128 }), this.fillType7 = ac(this.secondaryColor, { h: 128 });
    for (let e31 = 0; e31 < this.THEME_COLOR_LIMIT; e31++) this["pie" + e31] = this["cScale" + e31];
    this.pie12 = this.pie0, this.pieTitleTextSize = this.pieTitleTextSize || "25px", this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor, this.pieSectionTextSize = this.pieSectionTextSize || "17px", this.pieSectionTextColor = this.pieSectionTextColor || this.textColor, this.pieLegendTextSize = this.pieLegendTextSize || "17px", this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor, this.pieStrokeColor = this.pieStrokeColor || "black", this.pieStrokeWidth = this.pieStrokeWidth || "2px", this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px", this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black", this.pieOpacity = this.pieOpacity || "0.7", this.quadrant1Fill = this.quadrant1Fill || this.primaryColor, this.quadrant2Fill = this.quadrant2Fill || ac(this.primaryColor, { r: 5, g: 5, b: 5 }), this.quadrant3Fill = this.quadrant3Fill || ac(this.primaryColor, { r: 10, g: 10, b: 10 }), this.quadrant4Fill = this.quadrant4Fill || ac(this.primaryColor, { r: 15, g: 15, b: 15 }), this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor, this.quadrant2TextFill = this.quadrant2TextFill || ac(this.primaryTextColor, { r: -5, g: -5, b: -5 }), this.quadrant3TextFill = this.quadrant3TextFill || ac(this.primaryTextColor, { r: -10, g: -10, b: -10 }), this.quadrant4TextFill = this.quadrant4TextFill || ac(this.primaryTextColor, { r: -15, g: -15, b: -15 }), this.quadrantPointFill = this.quadrantPointFill || aa(this.quadrant1Fill) ? ao(this.quadrant1Fill) : al(this.quadrant1Fill), this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor, this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor, this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor, this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor, this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor, this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor, this.xyChart = { backgroundColor: (null === (e30 = this.xyChart) || void 0 === e30 ? void 0 : e30.backgroundColor) || this.background, titleColor: (null === (t10 = this.xyChart) || void 0 === t10 ? void 0 : t10.titleColor) || this.primaryTextColor, xAxisTitleColor: (null === (r10 = this.xyChart) || void 0 === r10 ? void 0 : r10.xAxisTitleColor) || this.primaryTextColor, xAxisLabelColor: (null === (n10 = this.xyChart) || void 0 === n10 ? void 0 : n10.xAxisLabelColor) || this.primaryTextColor, xAxisTickColor: (null === (i10 = this.xyChart) || void 0 === i10 ? void 0 : i10.xAxisTickColor) || this.primaryTextColor, xAxisLineColor: (null === (a10 = this.xyChart) || void 0 === a10 ? void 0 : a10.xAxisLineColor) || this.primaryTextColor, yAxisTitleColor: (null === (s10 = this.xyChart) || void 0 === s10 ? void 0 : s10.yAxisTitleColor) || this.primaryTextColor, yAxisLabelColor: (null === (o10 = this.xyChart) || void 0 === o10 ? void 0 : o10.yAxisLabelColor) || this.primaryTextColor, yAxisTickColor: (null === (l10 = this.xyChart) || void 0 === l10 ? void 0 : l10.yAxisTickColor) || this.primaryTextColor, yAxisLineColor: (null === (h10 = this.xyChart) || void 0 === h10 ? void 0 : h10.yAxisLineColor) || this.primaryTextColor, plotColorPalette: (null === (u10 = this.xyChart) || void 0 === u10 ? void 0 : u10.plotColorPalette) || "#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0" }, this.requirementBackground = this.requirementBackground || this.primaryColor, this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor, this.requirementBorderSize = this.requirementBorderSize || "1", this.requirementTextColor = this.requirementTextColor || this.primaryTextColor, this.relationColor = this.relationColor || this.lineColor, this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground, this.relationLabelColor = this.relationLabelColor || this.actorTextColor, this.git0 = al(this.pie1, 25) || this.primaryColor, this.git1 = this.pie2 || this.secondaryColor, this.git2 = this.pie3 || this.tertiaryColor, this.git3 = this.pie4 || ac(this.primaryColor, { h: -30 }), this.git4 = this.pie5 || ac(this.primaryColor, { h: -60 }), this.git5 = this.pie6 || ac(this.primaryColor, { h: -90 }), this.git6 = this.pie7 || ac(this.primaryColor, { h: 60 }), this.git7 = this.pie8 || ac(this.primaryColor, { h: 120 }), this.gitInv0 = this.gitInv0 || au(this.git0), this.gitInv1 = this.gitInv1 || au(this.git1), this.gitInv2 = this.gitInv2 || au(this.git2), this.gitInv3 = this.gitInv3 || au(this.git3), this.gitInv4 = this.gitInv4 || au(this.git4), this.gitInv5 = this.gitInv5 || au(this.git5), this.gitInv6 = this.gitInv6 || au(this.git6), this.gitInv7 = this.gitInv7 || au(this.git7), this.branchLabelColor = this.branchLabelColor || this.labelTextColor, this.gitBranchLabel0 = this.branchLabelColor, this.gitBranchLabel1 = "white", this.gitBranchLabel2 = this.branchLabelColor, this.gitBranchLabel3 = "white", this.gitBranchLabel4 = this.branchLabelColor, this.gitBranchLabel5 = this.branchLabelColor, this.gitBranchLabel6 = this.branchLabelColor, this.gitBranchLabel7 = this.branchLabelColor, this.tagLabelColor = this.tagLabelColor || this.primaryTextColor, this.tagLabelBackground = this.tagLabelBackground || this.primaryColor, this.tagLabelBorder = this.tagBorder || this.primaryBorderColor, this.tagLabelFontSize = this.tagLabelFontSize || "10px", this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor, this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor, this.commitLabelFontSize = this.commitLabelFontSize || "10px", this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || ad, this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || ap;
  }
  calculate(e30) {
    if ("object" != typeof e30) {
      this.updateColors();
      return;
    }
    let t10 = Object.keys(e30);
    t10.forEach((t11) => {
      this[t11] = e30[t11];
    }), this.updateColors(), t10.forEach((t11) => {
      this[t11] = e30[t11];
    });
  }
}, _i9 = new WeakMap(), __privateAdd(_h2, _i9, iM(_h2, "Theme")), _h2), aT = { base: { getThemeVariables: am }, dark: { getThemeVariables: av }, default: { getThemeVariables: ab }, forest: { getThemeVariables: aw }, neutral: { getThemeVariables: iM((e30) => {
  let t10 = new a_();
  return t10.calculate(e30), t10;
}, "getThemeVariables") } }, aS = { flowchart: { useMaxWidth: true, titleTopMargin: 25, subGraphTitleMargin: { top: 0, bottom: 0 }, diagramPadding: 8, htmlLabels: true, nodeSpacing: 50, rankSpacing: 50, curve: "basis", padding: 15, defaultRenderer: "dagre-wrapper", wrappingWidth: 200 }, sequence: { useMaxWidth: true, hideUnusedParticipants: false, activationWidth: 10, diagramMarginX: 50, diagramMarginY: 10, actorMargin: 50, width: 150, height: 65, boxMargin: 10, boxTextMargin: 5, noteMargin: 10, messageMargin: 35, messageAlign: "center", mirrorActors: true, forceMenus: false, bottomMarginAdj: 1, rightAngles: false, showSequenceNumbers: false, actorFontSize: 14, actorFontFamily: '"Open Sans", sans-serif', actorFontWeight: 400, noteFontSize: 14, noteFontFamily: '"trebuchet ms", verdana, arial, sans-serif', noteFontWeight: 400, noteAlign: "center", messageFontSize: 16, messageFontFamily: '"trebuchet ms", verdana, arial, sans-serif', messageFontWeight: 400, wrap: false, wrapPadding: 10, labelBoxWidth: 50, labelBoxHeight: 20 }, gantt: { useMaxWidth: true, titleTopMargin: 25, barHeight: 20, barGap: 4, topPadding: 50, rightPadding: 75, leftPadding: 75, gridLineStartPadding: 35, fontSize: 11, sectionFontSize: 11, numberSectionStyles: 4, axisFormat: "%Y-%m-%d", topAxis: false, displayMode: "", weekday: "sunday" }, journey: { useMaxWidth: true, diagramMarginX: 50, diagramMarginY: 10, leftMargin: 150, width: 150, height: 50, boxMargin: 10, boxTextMargin: 5, noteMargin: 10, messageMargin: 35, messageAlign: "center", bottomMarginAdj: 1, rightAngles: false, taskFontSize: 14, taskFontFamily: '"Open Sans", sans-serif', taskMargin: 50, activationWidth: 10, textPlacement: "fo", actorColours: ["#8FBC8F", "#7CFC00", "#00FFFF", "#20B2AA", "#B0E0E6", "#FFFFE0"], sectionFills: ["#191970", "#8B008B", "#4B0082", "#2F4F4F", "#800000", "#8B4513", "#00008B"], sectionColours: ["#fff"] }, class: { useMaxWidth: true, titleTopMargin: 25, arrowMarkerAbsolute: false, dividerMargin: 10, padding: 5, textHeight: 10, defaultRenderer: "dagre-wrapper", htmlLabels: false, hideEmptyMembersBox: false }, state: { useMaxWidth: true, titleTopMargin: 25, dividerMargin: 10, sizeUnit: 5, padding: 8, textHeight: 10, titleShift: -15, noteMargin: 10, forkWidth: 70, forkHeight: 7, miniPadding: 2, fontSizeFactor: 5.02, fontSize: 24, labelHeight: 16, edgeLengthFactor: "20", compositTitleSize: 35, radius: 5, defaultRenderer: "dagre-wrapper" }, er: { useMaxWidth: true, titleTopMargin: 25, diagramPadding: 20, layoutDirection: "TB", minEntityWidth: 100, minEntityHeight: 75, entityPadding: 15, stroke: "gray", fill: "honeydew", fontSize: 12 }, pie: { useMaxWidth: true, textPosition: 0.75 }, quadrantChart: { useMaxWidth: true, chartWidth: 500, chartHeight: 500, titleFontSize: 20, titlePadding: 10, quadrantPadding: 5, xAxisLabelPadding: 5, yAxisLabelPadding: 5, xAxisLabelFontSize: 16, yAxisLabelFontSize: 16, quadrantLabelFontSize: 16, quadrantTextTopPadding: 5, pointTextPadding: 5, pointLabelFontSize: 12, pointRadius: 5, xAxisPosition: "top", yAxisPosition: "left", quadrantInternalBorderStrokeWidth: 1, quadrantExternalBorderStrokeWidth: 2 }, xyChart: { useMaxWidth: true, width: 700, height: 500, titleFontSize: 20, titlePadding: 10, showTitle: true, xAxis: { $ref: "#/$defs/XYChartAxisConfig", showLabel: true, labelFontSize: 14, labelPadding: 5, showTitle: true, titleFontSize: 16, titlePadding: 5, showTick: true, tickLength: 5, tickWidth: 2, showAxisLine: true, axisLineWidth: 2 }, yAxis: { $ref: "#/$defs/XYChartAxisConfig", showLabel: true, labelFontSize: 14, labelPadding: 5, showTitle: true, titleFontSize: 16, titlePadding: 5, showTick: true, tickLength: 5, tickWidth: 2, showAxisLine: true, axisLineWidth: 2 }, chartOrientation: "vertical", plotReservedSpacePercent: 50 }, requirement: { useMaxWidth: true, rect_fill: "#f9f9f9", text_color: "#333", rect_border_size: "0.5px", rect_border_color: "#bbb", rect_min_width: 200, rect_min_height: 200, fontSize: 14, rect_padding: 10, line_height: 20 }, mindmap: { useMaxWidth: true, padding: 10, maxNodeWidth: 200 }, kanban: { useMaxWidth: true, padding: 8, sectionWidth: 200, ticketBaseUrl: "" }, timeline: { useMaxWidth: true, diagramMarginX: 50, diagramMarginY: 10, leftMargin: 150, width: 150, height: 50, boxMargin: 10, boxTextMargin: 5, noteMargin: 10, messageMargin: 35, messageAlign: "center", bottomMarginAdj: 1, rightAngles: false, taskFontSize: 14, taskFontFamily: '"Open Sans", sans-serif', taskMargin: 50, activationWidth: 10, textPlacement: "fo", actorColours: ["#8FBC8F", "#7CFC00", "#00FFFF", "#20B2AA", "#B0E0E6", "#FFFFE0"], sectionFills: ["#191970", "#8B008B", "#4B0082", "#2F4F4F", "#800000", "#8B4513", "#00008B"], sectionColours: ["#fff"], disableMulticolor: false }, gitGraph: { useMaxWidth: true, titleTopMargin: 25, diagramPadding: 8, nodeLabel: { width: 75, height: 100, x: -25, y: 0 }, mainBranchName: "main", mainBranchOrder: 0, showCommitLabel: true, showBranches: true, rotateCommitLabel: true, parallelCommits: false, arrowMarkerAbsolute: false }, c4: { useMaxWidth: true, diagramMarginX: 50, diagramMarginY: 10, c4ShapeMargin: 50, c4ShapePadding: 20, width: 216, height: 60, boxMargin: 10, c4ShapeInRow: 4, nextLinePaddingX: 0, c4BoundaryInRow: 2, personFontSize: 14, personFontFamily: '"Open Sans", sans-serif', personFontWeight: "normal", external_personFontSize: 14, external_personFontFamily: '"Open Sans", sans-serif', external_personFontWeight: "normal", systemFontSize: 14, systemFontFamily: '"Open Sans", sans-serif', systemFontWeight: "normal", external_systemFontSize: 14, external_systemFontFamily: '"Open Sans", sans-serif', external_systemFontWeight: "normal", system_dbFontSize: 14, system_dbFontFamily: '"Open Sans", sans-serif', system_dbFontWeight: "normal", external_system_dbFontSize: 14, external_system_dbFontFamily: '"Open Sans", sans-serif', external_system_dbFontWeight: "normal", system_queueFontSize: 14, system_queueFontFamily: '"Open Sans", sans-serif', system_queueFontWeight: "normal", external_system_queueFontSize: 14, external_system_queueFontFamily: '"Open Sans", sans-serif', external_system_queueFontWeight: "normal", boundaryFontSize: 14, boundaryFontFamily: '"Open Sans", sans-serif', boundaryFontWeight: "normal", messageFontSize: 12, messageFontFamily: '"Open Sans", sans-serif', messageFontWeight: "normal", containerFontSize: 14, containerFontFamily: '"Open Sans", sans-serif', containerFontWeight: "normal", external_containerFontSize: 14, external_containerFontFamily: '"Open Sans", sans-serif', external_containerFontWeight: "normal", container_dbFontSize: 14, container_dbFontFamily: '"Open Sans", sans-serif', container_dbFontWeight: "normal", external_container_dbFontSize: 14, external_container_dbFontFamily: '"Open Sans", sans-serif', external_container_dbFontWeight: "normal", container_queueFontSize: 14, container_queueFontFamily: '"Open Sans", sans-serif', container_queueFontWeight: "normal", external_container_queueFontSize: 14, external_container_queueFontFamily: '"Open Sans", sans-serif', external_container_queueFontWeight: "normal", componentFontSize: 14, componentFontFamily: '"Open Sans", sans-serif', componentFontWeight: "normal", external_componentFontSize: 14, external_componentFontFamily: '"Open Sans", sans-serif', external_componentFontWeight: "normal", component_dbFontSize: 14, component_dbFontFamily: '"Open Sans", sans-serif', component_dbFontWeight: "normal", external_component_dbFontSize: 14, external_component_dbFontFamily: '"Open Sans", sans-serif', external_component_dbFontWeight: "normal", component_queueFontSize: 14, component_queueFontFamily: '"Open Sans", sans-serif', component_queueFontWeight: "normal", external_component_queueFontSize: 14, external_component_queueFontFamily: '"Open Sans", sans-serif', external_component_queueFontWeight: "normal", wrap: true, wrapPadding: 10, person_bg_color: "#08427B", person_border_color: "#073B6F", external_person_bg_color: "#686868", external_person_border_color: "#8A8A8A", system_bg_color: "#1168BD", system_border_color: "#3C7FC0", system_db_bg_color: "#1168BD", system_db_border_color: "#3C7FC0", system_queue_bg_color: "#1168BD", system_queue_border_color: "#3C7FC0", external_system_bg_color: "#999999", external_system_border_color: "#8A8A8A", external_system_db_bg_color: "#999999", external_system_db_border_color: "#8A8A8A", external_system_queue_bg_color: "#999999", external_system_queue_border_color: "#8A8A8A", container_bg_color: "#438DD5", container_border_color: "#3C7FC0", container_db_bg_color: "#438DD5", container_db_border_color: "#3C7FC0", container_queue_bg_color: "#438DD5", container_queue_border_color: "#3C7FC0", external_container_bg_color: "#B3B3B3", external_container_border_color: "#A6A6A6", external_container_db_bg_color: "#B3B3B3", external_container_db_border_color: "#A6A6A6", external_container_queue_bg_color: "#B3B3B3", external_container_queue_border_color: "#A6A6A6", component_bg_color: "#85BBF0", component_border_color: "#78A8D8", component_db_bg_color: "#85BBF0", component_db_border_color: "#78A8D8", component_queue_bg_color: "#85BBF0", component_queue_border_color: "#78A8D8", external_component_bg_color: "#CCCCCC", external_component_border_color: "#BFBFBF", external_component_db_bg_color: "#CCCCCC", external_component_db_border_color: "#BFBFBF", external_component_queue_bg_color: "#CCCCCC", external_component_queue_border_color: "#BFBFBF" }, sankey: { useMaxWidth: true, width: 600, height: 400, linkColor: "gradient", nodeAlignment: "justify", showValues: true, prefix: "", suffix: "" }, block: { useMaxWidth: true, padding: 8 }, packet: { useMaxWidth: true, rowHeight: 32, bitWidth: 32, bitsPerRow: 32, showBits: true, paddingX: 5, paddingY: 5 }, architecture: { useMaxWidth: true, padding: 40, iconSize: 80, fontSize: 16 }, theme: "default", look: "classic", handDrawnSeed: 0, layout: "dagre", maxTextSize: 5e4, maxEdges: 500, darkMode: false, fontFamily: '"trebuchet ms", verdana, arial, sans-serif;', logLevel: 5, securityLevel: "strict", startOnLoad: true, arrowMarkerAbsolute: false, secure: ["secure", "securityLevel", "startOnLoad", "maxTextSize", "suppressErrorRendering", "maxEdges"], legacyMathML: false, forceLegacyMathML: false, deterministicIds: false, fontSize: 16, markdownAutoWrap: true, suppressErrorRendering: false }, aC = { ...aS, deterministicIDSeed: void 0, elk: { mergeEdges: false, nodePlacementStrategy: "BRANDES_KOEPF" }, themeCSS: void 0, themeVariables: aT.default.getThemeVariables(), sequence: { ...aS.sequence, messageFont: iM(function() {
  return { fontFamily: this.messageFontFamily, fontSize: this.messageFontSize, fontWeight: this.messageFontWeight };
}, "messageFont"), noteFont: iM(function() {
  return { fontFamily: this.noteFontFamily, fontSize: this.noteFontSize, fontWeight: this.noteFontWeight };
}, "noteFont"), actorFont: iM(function() {
  return { fontFamily: this.actorFontFamily, fontSize: this.actorFontSize, fontWeight: this.actorFontWeight };
}, "actorFont") }, class: { hideEmptyMembersBox: false }, gantt: { ...aS.gantt, tickInterval: void 0, useWidth: void 0 }, c4: { ...aS.c4, useWidth: void 0, personFont: iM(function() {
  return { fontFamily: this.personFontFamily, fontSize: this.personFontSize, fontWeight: this.personFontWeight };
}, "personFont"), external_personFont: iM(function() {
  return { fontFamily: this.external_personFontFamily, fontSize: this.external_personFontSize, fontWeight: this.external_personFontWeight };
}, "external_personFont"), systemFont: iM(function() {
  return { fontFamily: this.systemFontFamily, fontSize: this.systemFontSize, fontWeight: this.systemFontWeight };
}, "systemFont"), external_systemFont: iM(function() {
  return { fontFamily: this.external_systemFontFamily, fontSize: this.external_systemFontSize, fontWeight: this.external_systemFontWeight };
}, "external_systemFont"), system_dbFont: iM(function() {
  return { fontFamily: this.system_dbFontFamily, fontSize: this.system_dbFontSize, fontWeight: this.system_dbFontWeight };
}, "system_dbFont"), external_system_dbFont: iM(function() {
  return { fontFamily: this.external_system_dbFontFamily, fontSize: this.external_system_dbFontSize, fontWeight: this.external_system_dbFontWeight };
}, "external_system_dbFont"), system_queueFont: iM(function() {
  return { fontFamily: this.system_queueFontFamily, fontSize: this.system_queueFontSize, fontWeight: this.system_queueFontWeight };
}, "system_queueFont"), external_system_queueFont: iM(function() {
  return { fontFamily: this.external_system_queueFontFamily, fontSize: this.external_system_queueFontSize, fontWeight: this.external_system_queueFontWeight };
}, "external_system_queueFont"), containerFont: iM(function() {
  return { fontFamily: this.containerFontFamily, fontSize: this.containerFontSize, fontWeight: this.containerFontWeight };
}, "containerFont"), external_containerFont: iM(function() {
  return { fontFamily: this.external_containerFontFamily, fontSize: this.external_containerFontSize, fontWeight: this.external_containerFontWeight };
}, "external_containerFont"), container_dbFont: iM(function() {
  return { fontFamily: this.container_dbFontFamily, fontSize: this.container_dbFontSize, fontWeight: this.container_dbFontWeight };
}, "container_dbFont"), external_container_dbFont: iM(function() {
  return { fontFamily: this.external_container_dbFontFamily, fontSize: this.external_container_dbFontSize, fontWeight: this.external_container_dbFontWeight };
}, "external_container_dbFont"), container_queueFont: iM(function() {
  return { fontFamily: this.container_queueFontFamily, fontSize: this.container_queueFontSize, fontWeight: this.container_queueFontWeight };
}, "container_queueFont"), external_container_queueFont: iM(function() {
  return { fontFamily: this.external_container_queueFontFamily, fontSize: this.external_container_queueFontSize, fontWeight: this.external_container_queueFontWeight };
}, "external_container_queueFont"), componentFont: iM(function() {
  return { fontFamily: this.componentFontFamily, fontSize: this.componentFontSize, fontWeight: this.componentFontWeight };
}, "componentFont"), external_componentFont: iM(function() {
  return { fontFamily: this.external_componentFontFamily, fontSize: this.external_componentFontSize, fontWeight: this.external_componentFontWeight };
}, "external_componentFont"), component_dbFont: iM(function() {
  return { fontFamily: this.component_dbFontFamily, fontSize: this.component_dbFontSize, fontWeight: this.component_dbFontWeight };
}, "component_dbFont"), external_component_dbFont: iM(function() {
  return { fontFamily: this.external_component_dbFontFamily, fontSize: this.external_component_dbFontSize, fontWeight: this.external_component_dbFontWeight };
}, "external_component_dbFont"), component_queueFont: iM(function() {
  return { fontFamily: this.component_queueFontFamily, fontSize: this.component_queueFontSize, fontWeight: this.component_queueFontWeight };
}, "component_queueFont"), external_component_queueFont: iM(function() {
  return { fontFamily: this.external_component_queueFontFamily, fontSize: this.external_component_queueFontSize, fontWeight: this.external_component_queueFontWeight };
}, "external_component_queueFont"), boundaryFont: iM(function() {
  return { fontFamily: this.boundaryFontFamily, fontSize: this.boundaryFontSize, fontWeight: this.boundaryFontWeight };
}, "boundaryFont"), messageFont: iM(function() {
  return { fontFamily: this.messageFontFamily, fontSize: this.messageFontSize, fontWeight: this.messageFontWeight };
}, "messageFont") }, pie: { ...aS.pie, useWidth: 984 }, xyChart: { ...aS.xyChart, useWidth: void 0 }, requirement: { ...aS.requirement, useWidth: void 0 }, packet: { ...aS.packet } }, aE = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
  return Object.keys(e30).reduce((r10, n10) => Array.isArray(e30[n10]) ? r10 : "object" == typeof e30[n10] && null !== e30[n10] ? [...r10, t10 + n10, ...aE(e30[n10], "")] : [...r10, t10 + n10], []);
}, "keyify"), aA = new Set(aE(aC, "")), aL = iM((e30) => {
  if (iz.debug("sanitizeDirective called with", e30), "object" == typeof e30 && null != e30) {
    if (Array.isArray(e30)) {
      e30.forEach((e31) => aL(e31));
      return;
    }
    for (let t10 of Object.keys(e30)) {
      if (iz.debug("Checking key", t10), t10.startsWith("__") || t10.includes("proto") || t10.includes("constr") || !aA.has(t10) || null == e30[t10]) {
        iz.debug("sanitize deleting key: ", t10), delete e30[t10];
        continue;
      }
      if ("object" == typeof e30[t10]) {
        iz.debug("sanitizing object", t10), aL(e30[t10]);
        continue;
      }
      for (let r10 of ["themeCSS", "fontFamily", "altFontFamily"]) t10.includes(r10) && (iz.debug("sanitizing css option", t10), e30[t10] = aI(e30[t10]));
    }
    if (e30.themeVariables) for (let t10 of Object.keys(e30.themeVariables)) {
      let r10 = e30.themeVariables[t10];
      (null == r10 ? void 0 : r10.match) && !r10.match(/^[\d "#%(),.;A-Za-z]+$/) && (e30.themeVariables[t10] = "");
    }
    iz.debug("After sanitization", e30);
  }
}, "sanitizeDirective"), aI = iM((e30) => {
  let t10 = 0, r10 = 0;
  for (let n10 of e30) {
    if (t10 < r10) return "{ /* ERROR: Unbalanced CSS */ }";
    "{" === n10 ? t10++ : "}" === n10 && r10++;
  }
  return t10 !== r10 ? "{ /* ERROR: Unbalanced CSS */ }" : e30;
}, "sanitizeCss"), aM = Object.freeze(aC), aN = iQ({}, aM), aR = [], aD = iQ({}, aM), aO = iM((e30, t10) => {
  let r10 = iQ({}, e30), n10 = {};
  for (let e31 of t10) aq(e31), n10 = iQ(n10, e31);
  if (r10 = iQ(r10, n10), n10.theme && n10.theme in aT) {
    let e31 = iQ({}, tX), t11 = iQ(e31.themeVariables || {}, n10.themeVariables);
    r10.theme && r10.theme in aT && (r10.themeVariables = aT[r10.theme].getThemeVariables(t11));
  }
  return aG(aD = r10), aD;
}, "updateCurrentConfig"), a$ = iM((e30) => (aN = iQ({}, aM), aN = iQ(aN, e30), e30.theme && aT[e30.theme] && (aN.themeVariables = aT[e30.theme].getThemeVariables(e30.themeVariables)), aO(aN, aR), aN), "setSiteConfig"), aP = iM((e30) => {
  tX = iQ({}, e30);
}, "saveConfigFromInitialize"), aB = iM((e30) => (aO(aN = iQ(aN, e30), aR), aN), "updateSiteConfig"), aF = iM(() => iQ({}, aN), "getSiteConfig"), az = iM((e30) => (aG(e30), iQ(aD, e30), aj()), "setConfig"), aj = iM(() => iQ({}, aD), "getConfig"), aq = iM((e30) => {
  var t10;
  e30 && (["secure", ...null !== (t10 = aN.secure) && void 0 !== t10 ? t10 : []].forEach((t11) => {
    Object.hasOwn(e30, t11) && (iz.debug(`Denied attempt to modify a secure key ${t11}`, e30[t11]), delete e30[t11]);
  }), Object.keys(e30).forEach((t11) => {
    t11.startsWith("__") && delete e30[t11];
  }), Object.keys(e30).forEach((t11) => {
    "string" == typeof e30[t11] && (e30[t11].includes("<") || e30[t11].includes(">") || e30[t11].includes("url(data:")) && delete e30[t11], "object" == typeof e30[t11] && aq(e30[t11]);
  }));
}, "sanitize"), aU = iM((e30) => {
  var t10;
  aL(e30), !e30.fontFamily || (null === (t10 = e30.themeVariables) || void 0 === t10 ? void 0 : t10.fontFamily) || (e30.themeVariables = { ...e30.themeVariables, fontFamily: e30.fontFamily }), aR.push(e30), aO(aN, aR);
}, "addDirective"), aW = iM(function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : aN;
  aO(e30, aR = []);
}, "reset"), aV = { LAZY_LOAD_DEPRECATED: "The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead." }, aH = {}, aY = iM((e30) => {
  aH[e30] || (iz.warn(aV[e30]), aH[e30] = true);
}, "issueWarning"), aG = iM((e30) => {
  e30 && (e30.lazyLoadedDiagrams || e30.loadExternalDiagramsAtStartup) && aY("LAZY_LOAD_DEPRECATED");
}, "checkConfig"), { entries: aX, setPrototypeOf: aK, isFrozen: aZ, getPrototypeOf: aQ, getOwnPropertyDescriptor: aJ } = Object, { freeze: a0, seal: a1, create: a2 } = Object, { apply: a4, construct: a3 } = "undefined" != typeof Reflect && Reflect;
a0 || (a0 = iM(function(e30) {
  return e30;
}, "freeze")), a1 || (a1 = iM(function(e30) {
  return e30;
}, "seal")), a4 || (a4 = iM(function(e30, t10, r10) {
  return e30.apply(t10, r10);
}, "apply")), a3 || (a3 = iM(function(e30, t10) {
  return new e30(...t10);
}, "construct"));
var a5 = so(Array.prototype.forEach), a6 = so(Array.prototype.pop), a7 = so(Array.prototype.push), a8 = so(String.prototype.toLowerCase), a9 = so(String.prototype.toString), se = so(String.prototype.match), st = so(String.prototype.replace), sr = so(String.prototype.indexOf), sn = so(String.prototype.trim), si = so(Object.prototype.hasOwnProperty), sa = so(RegExp.prototype.test), ss = sl(TypeError);
function so(e30) {
  return function(t10) {
    for (var r10 = arguments.length, n10 = Array(r10 > 1 ? r10 - 1 : 0), i10 = 1; i10 < r10; i10++) n10[i10 - 1] = arguments[i10];
    return a4(e30, t10, n10);
  };
}
function sl(e30) {
  return function() {
    for (var t10 = arguments.length, r10 = Array(t10), n10 = 0; n10 < t10; n10++) r10[n10] = arguments[n10];
    return a3(e30, r10);
  };
}
function sc(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : a8;
  aK && aK(e30, null);
  let n10 = t10.length;
  for (; n10--; ) {
    let i10 = t10[n10];
    if ("string" == typeof i10) {
      let e31 = r10(i10);
      e31 !== i10 && (aZ(t10) || (t10[n10] = e31), i10 = e31);
    }
    e30[i10] = true;
  }
  return e30;
}
function sh(e30) {
  for (let t10 = 0; t10 < e30.length; t10++) si(e30, t10) || (e30[t10] = null);
  return e30;
}
function su(e30) {
  let t10 = a2(null);
  for (let [r10, n10] of aX(e30)) si(e30, r10) && (Array.isArray(n10) ? t10[r10] = sh(n10) : n10 && "object" == typeof n10 && n10.constructor === Object ? t10[r10] = su(n10) : t10[r10] = n10);
  return t10;
}
function sd(e30, t10) {
  for (; null !== e30; ) {
    let r11 = aJ(e30, t10);
    if (r11) {
      if (r11.get) return so(r11.get);
      if ("function" == typeof r11.value) return so(r11.value);
    }
    e30 = aQ(e30);
  }
  function r10() {
    return null;
  }
  return iM(r10, "fallbackValue"), r10;
}
iM(so, "unapply"), iM(sl, "unconstruct"), iM(sc, "addToSet"), iM(sh, "cleanArray"), iM(su, "clone"), iM(sd, "lookupGetter");
var sp = a0(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]), sf = a0(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]), sg = a0(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]), sm = a0(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]), sy = a0(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]), sv = a0(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]), sx = a0(["#text"]), sb = a0(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"]), sk = a0(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]), sw = a0(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]), s_ = a0(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]), sT = a1(/\{\{[\w\W]*|[\w\W]*\}\}/gm), sS = a1(/<%[\w\W]*|[\w\W]*%>/gm), sC = a1(/\${[\w\W]*}/gm), sE = a1(/^data-[\-\w.\u00B7-\uFFFF]/), sA = a1(/^aria-[\-\w]+$/), sL = a1(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i), sI = a1(/^(?:\w+script|data):/i), sM = a1(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g), sN = a1(/^html$/i), sR = Object.freeze({ __proto__: null, ARIA_ATTR: sA, ATTR_WHITESPACE: sM, CUSTOM_ELEMENT: a1(/^[a-z][.\w]*(-[.\w]+)+$/i), DATA_ATTR: sE, DOCTYPE_NAME: sN, ERB_EXPR: sS, IS_ALLOWED_URI: sL, IS_SCRIPT_OR_DATA: sI, MUSTACHE_EXPR: sT, TMPLIT_EXPR: sC }), sD = { element: 1, text: 3, progressingInstruction: 7, comment: 8, document: 9 }, sO = iM(function() {
  return "undefined" == typeof window ? null : window;
}, "getGlobal"), s$ = iM(function(e30, t10) {
  if ("object" != typeof e30 || "function" != typeof e30.createPolicy) return null;
  let r10 = null, n10 = "data-tt-policy-suffix";
  t10 && t10.hasAttribute(n10) && (r10 = t10.getAttribute(n10));
  let i10 = "dompurify" + (r10 ? "#" + r10 : "");
  try {
    return e30.createPolicy(i10, { createHTML: (e31) => e31, createScriptURL: (e31) => e31 });
  } catch (e31) {
    return console.warn("TrustedTypes policy " + i10 + " could not be created."), null;
  }
}, "_createTrustedTypesPolicy");
function sP() {
  let e30, t10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : sO(), r10 = iM((e31) => sP(e31), "DOMPurify");
  if (r10.version = "3.2.1", r10.removed = [], !t10 || !t10.document || t10.document.nodeType !== sD.document) return r10.isSupported = false, r10;
  let { document: n10 } = t10, i10 = n10, a10 = i10.currentScript, { DocumentFragment: s10, HTMLTemplateElement: o10, Node: l10, Element: h10, NodeFilter: u10, NamedNodeMap: d10 = t10.NamedNodeMap || t10.MozNamedAttrMap, HTMLFormElement: p10, DOMParser: f10, trustedTypes: g10 } = t10, y10 = h10.prototype, v10 = sd(y10, "cloneNode"), x10 = sd(y10, "remove"), b10 = sd(y10, "nextSibling"), k10 = sd(y10, "childNodes"), w10 = sd(y10, "parentNode");
  if ("function" == typeof o10) {
    let e31 = n10.createElement("template");
    e31.content && e31.content.ownerDocument && (n10 = e31.content.ownerDocument);
  }
  let _10 = "", { implementation: T10, createNodeIterator: S10, createDocumentFragment: C10, getElementsByTagName: E10 } = n10, { importNode: A10 } = i10, L10 = {};
  r10.isSupported = "function" == typeof aX && "function" == typeof w10 && T10 && void 0 !== T10.createHTMLDocument;
  let { MUSTACHE_EXPR: I10, ERB_EXPR: M10, TMPLIT_EXPR: N10, DATA_ATTR: R10, ARIA_ATTR: D10, IS_SCRIPT_OR_DATA: O10, ATTR_WHITESPACE: $10, CUSTOM_ELEMENT: P10 } = sR, { IS_ALLOWED_URI: B10 } = sR, F10 = null, z10 = sc({}, [...sp, ...sf, ...sg, ...sy, ...sx]), j10 = null, q10 = sc({}, [...sb, ...sk, ...sw, ...s_]), U10 = Object.seal(a2(null, { tagNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, attributeNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, allowCustomizedBuiltInElements: { writable: true, configurable: false, enumerable: true, value: false } })), W10 = null, V10 = null, H10 = true, Y10 = true, G10 = false, X10 = true, K10 = false, Z10 = true, Q10 = false, J10 = false, ee10 = false, et10 = false, er10 = false, en10 = false, ei10 = true, ea10 = false, es10 = true, eo10 = false, el10 = {}, ec10 = null, eh10 = sc({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]), eu10 = null, ed10 = sc({}, ["audio", "video", "img", "source", "image", "track"]), ep10 = null, ef10 = sc({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), eg10 = "http://www.w3.org/1998/Math/MathML", em10 = "http://www.w3.org/2000/svg", ey10 = "http://www.w3.org/1999/xhtml", ev10 = ey10, ex10 = false, eb10 = null, ek10 = sc({}, [eg10, em10, ey10], a9), ew10 = sc({}, ["mi", "mo", "mn", "ms", "mtext"]), e_2 = sc({}, ["annotation-xml"]), eT2 = sc({}, ["title", "style", "font", "a", "script"]), eS2 = null, eC2 = ["application/xhtml+xml", "text/html"], eE2 = null, eA2 = null, eL2 = n10.createElement("form"), eI2 = iM(function(e31) {
    return e31 instanceof RegExp || e31 instanceof Function;
  }, "isRegexOrFunction"), eM2 = iM(function() {
    let t11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
    if (!eA2 || eA2 !== t11) {
      if (t11 && "object" == typeof t11 || (t11 = {}), t11 = su(t11), eE2 = "application/xhtml+xml" === (eS2 = -1 === eC2.indexOf(t11.PARSER_MEDIA_TYPE) ? "text/html" : t11.PARSER_MEDIA_TYPE) ? a9 : a8, F10 = si(t11, "ALLOWED_TAGS") ? sc({}, t11.ALLOWED_TAGS, eE2) : z10, j10 = si(t11, "ALLOWED_ATTR") ? sc({}, t11.ALLOWED_ATTR, eE2) : q10, eb10 = si(t11, "ALLOWED_NAMESPACES") ? sc({}, t11.ALLOWED_NAMESPACES, a9) : ek10, ep10 = si(t11, "ADD_URI_SAFE_ATTR") ? sc(su(ef10), t11.ADD_URI_SAFE_ATTR, eE2) : ef10, eu10 = si(t11, "ADD_DATA_URI_TAGS") ? sc(su(ed10), t11.ADD_DATA_URI_TAGS, eE2) : ed10, ec10 = si(t11, "FORBID_CONTENTS") ? sc({}, t11.FORBID_CONTENTS, eE2) : eh10, W10 = si(t11, "FORBID_TAGS") ? sc({}, t11.FORBID_TAGS, eE2) : {}, V10 = si(t11, "FORBID_ATTR") ? sc({}, t11.FORBID_ATTR, eE2) : {}, el10 = !!si(t11, "USE_PROFILES") && t11.USE_PROFILES, H10 = false !== t11.ALLOW_ARIA_ATTR, Y10 = false !== t11.ALLOW_DATA_ATTR, G10 = t11.ALLOW_UNKNOWN_PROTOCOLS || false, X10 = false !== t11.ALLOW_SELF_CLOSE_IN_ATTR, K10 = t11.SAFE_FOR_TEMPLATES || false, Z10 = false !== t11.SAFE_FOR_XML, Q10 = t11.WHOLE_DOCUMENT || false, et10 = t11.RETURN_DOM || false, er10 = t11.RETURN_DOM_FRAGMENT || false, en10 = t11.RETURN_TRUSTED_TYPE || false, ee10 = t11.FORCE_BODY || false, ei10 = false !== t11.SANITIZE_DOM, ea10 = t11.SANITIZE_NAMED_PROPS || false, es10 = false !== t11.KEEP_CONTENT, eo10 = t11.IN_PLACE || false, B10 = t11.ALLOWED_URI_REGEXP || sL, ev10 = t11.NAMESPACE || ey10, ew10 = t11.MATHML_TEXT_INTEGRATION_POINTS || ew10, e_2 = t11.HTML_INTEGRATION_POINTS || e_2, U10 = t11.CUSTOM_ELEMENT_HANDLING || {}, t11.CUSTOM_ELEMENT_HANDLING && eI2(t11.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (U10.tagNameCheck = t11.CUSTOM_ELEMENT_HANDLING.tagNameCheck), t11.CUSTOM_ELEMENT_HANDLING && eI2(t11.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (U10.attributeNameCheck = t11.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), t11.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof t11.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (U10.allowCustomizedBuiltInElements = t11.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), K10 && (Y10 = false), er10 && (et10 = true), el10 && (F10 = sc({}, sx), j10 = [], true === el10.html && (sc(F10, sp), sc(j10, sb)), true === el10.svg && (sc(F10, sf), sc(j10, sk), sc(j10, s_)), true === el10.svgFilters && (sc(F10, sg), sc(j10, sk), sc(j10, s_)), true === el10.mathMl && (sc(F10, sy), sc(j10, sw), sc(j10, s_))), t11.ADD_TAGS && (F10 === z10 && (F10 = su(F10)), sc(F10, t11.ADD_TAGS, eE2)), t11.ADD_ATTR && (j10 === q10 && (j10 = su(j10)), sc(j10, t11.ADD_ATTR, eE2)), t11.ADD_URI_SAFE_ATTR && sc(ep10, t11.ADD_URI_SAFE_ATTR, eE2), t11.FORBID_CONTENTS && (ec10 === eh10 && (ec10 = su(ec10)), sc(ec10, t11.FORBID_CONTENTS, eE2)), es10 && (F10["#text"] = true), Q10 && sc(F10, ["html", "head", "body"]), F10.table && (sc(F10, ["tbody"]), delete W10.tbody), t11.TRUSTED_TYPES_POLICY) {
        if ("function" != typeof t11.TRUSTED_TYPES_POLICY.createHTML) throw ss('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
        if ("function" != typeof t11.TRUSTED_TYPES_POLICY.createScriptURL) throw ss('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
        _10 = (e30 = t11.TRUSTED_TYPES_POLICY).createHTML("");
      } else void 0 === e30 && (e30 = s$(g10, a10)), null !== e30 && "string" == typeof _10 && (_10 = e30.createHTML(""));
      a0 && a0(t11), eA2 = t11;
    }
  }, "_parseConfig"), eN2 = sc({}, [...sf, ...sg, ...sm]), eR2 = sc({}, [...sy, ...sv]), eD2 = iM(function(e31) {
    let t11 = w10(e31);
    t11 && t11.tagName || (t11 = { namespaceURI: ev10, tagName: "template" });
    let r11 = a8(e31.tagName), n11 = a8(t11.tagName);
    return !!eb10[e31.namespaceURI] && (e31.namespaceURI === em10 ? t11.namespaceURI === ey10 ? "svg" === r11 : t11.namespaceURI === eg10 ? "svg" === r11 && ("annotation-xml" === n11 || ew10[n11]) : !!eN2[r11] : e31.namespaceURI === eg10 ? t11.namespaceURI === ey10 ? "math" === r11 : t11.namespaceURI === em10 ? "math" === r11 && e_2[n11] : !!eR2[r11] : e31.namespaceURI === ey10 ? (t11.namespaceURI !== em10 || !!e_2[n11]) && (t11.namespaceURI !== eg10 || !!ew10[n11]) && !eR2[r11] && (eT2[r11] || !eN2[r11]) : "application/xhtml+xml" === eS2 && !!eb10[e31.namespaceURI]);
  }, "_checkValidNamespace"), eO2 = iM(function(e31) {
    a7(r10.removed, { element: e31 });
    try {
      w10(e31).removeChild(e31);
    } catch (t11) {
      x10(e31);
    }
  }, "_forceRemove"), e$2 = iM(function(e31, t11) {
    try {
      a7(r10.removed, { attribute: t11.getAttributeNode(e31), from: t11 });
    } catch (e32) {
      a7(r10.removed, { attribute: null, from: t11 });
    }
    if (t11.removeAttribute(e31), "is" === e31 && !j10[e31]) {
      if (et10 || er10) try {
        eO2(t11);
      } catch (e32) {
      }
      else try {
        t11.setAttribute(e31, "");
      } catch (e32) {
      }
    }
  }, "_removeAttribute"), eP2 = iM(function(t11) {
    let r11 = null, i11 = null;
    if (ee10) t11 = "<remove></remove>" + t11;
    else {
      let e31 = se(t11, /^[\r\n\t ]+/);
      i11 = e31 && e31[0];
    }
    "application/xhtml+xml" === eS2 && ev10 === ey10 && (t11 = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + t11 + "</body></html>");
    let a11 = e30 ? e30.createHTML(t11) : t11;
    if (ev10 === ey10) try {
      r11 = new f10().parseFromString(a11, eS2);
    } catch (e31) {
    }
    if (!r11 || !r11.documentElement) {
      r11 = T10.createDocument(ev10, "template", null);
      try {
        r11.documentElement.innerHTML = ex10 ? _10 : a11;
      } catch (e31) {
      }
    }
    let s11 = r11.body || r11.documentElement;
    return (t11 && i11 && s11.insertBefore(n10.createTextNode(i11), s11.childNodes[0] || null), ev10 === ey10) ? E10.call(r11, Q10 ? "html" : "body")[0] : Q10 ? r11.documentElement : s11;
  }, "_initDocument"), eB2 = iM(function(e31) {
    return S10.call(e31.ownerDocument || e31, e31, u10.SHOW_ELEMENT | u10.SHOW_COMMENT | u10.SHOW_TEXT | u10.SHOW_PROCESSING_INSTRUCTION | u10.SHOW_CDATA_SECTION, null);
  }, "_createNodeIterator"), eF2 = iM(function(e31) {
    return e31 instanceof p10 && ("string" != typeof e31.nodeName || "string" != typeof e31.textContent || "function" != typeof e31.removeChild || !(e31.attributes instanceof d10) || "function" != typeof e31.removeAttribute || "function" != typeof e31.setAttribute || "string" != typeof e31.namespaceURI || "function" != typeof e31.insertBefore || "function" != typeof e31.hasChildNodes);
  }, "_isClobbered"), ez2 = iM(function(e31) {
    return "function" == typeof l10 && e31 instanceof l10;
  }, "_isNode");
  function ej2(e31, t11, n11) {
    L10[e31] && a5(L10[e31], (e32) => {
      e32.call(r10, t11, n11, eA2);
    });
  }
  iM(ej2, "_executeHook");
  let eq2 = iM(function(e31) {
    let t11 = null;
    if (ej2("beforeSanitizeElements", e31, null), eF2(e31)) return eO2(e31), true;
    let n11 = eE2(e31.nodeName);
    if (ej2("uponSanitizeElement", e31, { tagName: n11, allowedTags: F10 }), e31.hasChildNodes() && !ez2(e31.firstElementChild) && sa(/<[/\w]/g, e31.innerHTML) && sa(/<[/\w]/g, e31.textContent) || e31.nodeType === sD.progressingInstruction || Z10 && e31.nodeType === sD.comment && sa(/<[/\w]/g, e31.data)) return eO2(e31), true;
    if (!F10[n11] || W10[n11]) {
      if (!W10[n11] && eW2(n11) && (U10.tagNameCheck instanceof RegExp && sa(U10.tagNameCheck, n11) || U10.tagNameCheck instanceof Function && U10.tagNameCheck(n11))) return false;
      if (es10 && !ec10[n11]) {
        let t12 = w10(e31) || e31.parentNode, r11 = k10(e31) || e31.childNodes;
        if (r11 && t12) {
          let n12 = r11.length;
          for (let i11 = n12 - 1; i11 >= 0; --i11) {
            let n13 = v10(r11[i11], true);
            n13.__removalCount = (e31.__removalCount || 0) + 1, t12.insertBefore(n13, b10(e31));
          }
        }
      }
      return eO2(e31), true;
    }
    return e31 instanceof h10 && !eD2(e31) || ("noscript" === n11 || "noembed" === n11 || "noframes" === n11) && sa(/<\/no(script|embed|frames)/i, e31.innerHTML) ? (eO2(e31), true) : (K10 && e31.nodeType === sD.text && (t11 = e31.textContent, a5([I10, M10, N10], (e32) => {
      t11 = st(t11, e32, " ");
    }), e31.textContent !== t11 && (a7(r10.removed, { element: e31.cloneNode() }), e31.textContent = t11)), ej2("afterSanitizeElements", e31, null), false);
  }, "_sanitizeElements"), eU2 = iM(function(e31, t11, r11) {
    if (ei10 && ("id" === t11 || "name" === t11) && (r11 in n10 || r11 in eL2)) return false;
    if (Y10 && !V10[t11] && sa(R10, t11)) ;
    else if (H10 && sa(D10, t11)) ;
    else if (!j10[t11] || V10[t11]) {
      if (!(eW2(e31) && (U10.tagNameCheck instanceof RegExp && sa(U10.tagNameCheck, e31) || U10.tagNameCheck instanceof Function && U10.tagNameCheck(e31)) && (U10.attributeNameCheck instanceof RegExp && sa(U10.attributeNameCheck, t11) || U10.attributeNameCheck instanceof Function && U10.attributeNameCheck(t11)) || "is" === t11 && U10.allowCustomizedBuiltInElements && (U10.tagNameCheck instanceof RegExp && sa(U10.tagNameCheck, r11) || U10.tagNameCheck instanceof Function && U10.tagNameCheck(r11)))) return false;
    } else if (ep10[t11]) ;
    else if (sa(B10, st(r11, $10, ""))) ;
    else if (("src" === t11 || "xlink:href" === t11 || "href" === t11) && "script" !== e31 && 0 === sr(r11, "data:") && eu10[e31]) ;
    else if (G10 && !sa(O10, st(r11, $10, ""))) ;
    else if (r11) return false;
    return true;
  }, "_isValidAttribute"), eW2 = iM(function(e31) {
    return "annotation-xml" !== e31 && se(e31, P10);
  }, "_isBasicCustomElement"), eV2 = iM(function(t11) {
    ej2("beforeSanitizeAttributes", t11, null);
    let { attributes: n11 } = t11;
    if (!n11) return;
    let i11 = { attrName: "", attrValue: "", keepAttr: true, allowedAttributes: j10, forceKeepAttr: void 0 }, a11 = n11.length;
    for (; a11--; ) {
      let { name: s11, namespaceURI: o11, value: l11 } = n11[a11], h11 = eE2(s11), u11 = "value" === s11 ? l11 : sn(l11);
      if (i11.attrName = h11, i11.attrValue = u11, i11.keepAttr = true, i11.forceKeepAttr = void 0, ej2("uponSanitizeAttribute", t11, i11), u11 = i11.attrValue, ea10 && ("id" === h11 || "name" === h11) && (e$2(s11, t11), u11 = "user-content-" + u11), Z10 && sa(/((--!?|])>)|<\/(style|title)/i, u11)) {
        e$2(s11, t11);
        continue;
      }
      if (i11.forceKeepAttr || (e$2(s11, t11), !i11.keepAttr)) continue;
      if (!X10 && sa(/\/>/i, u11)) {
        e$2(s11, t11);
        continue;
      }
      K10 && a5([I10, M10, N10], (e31) => {
        u11 = st(u11, e31, " ");
      });
      let d11 = eE2(t11.nodeName);
      if (eU2(d11, h11, u11)) {
        if (e30 && "object" == typeof g10 && "function" == typeof g10.getAttributeType) {
          if (o11) ;
          else switch (g10.getAttributeType(d11, h11)) {
            case "TrustedHTML":
              u11 = e30.createHTML(u11);
              break;
            case "TrustedScriptURL":
              u11 = e30.createScriptURL(u11);
          }
        }
        try {
          o11 ? t11.setAttributeNS(o11, s11, u11) : t11.setAttribute(s11, u11), eF2(t11) ? eO2(t11) : a6(r10.removed);
        } catch (e31) {
        }
      }
    }
    ej2("afterSanitizeAttributes", t11, null);
  }, "_sanitizeAttributes"), eH2 = iM(function e31(t11) {
    let r11 = null, n11 = eB2(t11);
    for (ej2("beforeSanitizeShadowDOM", t11, null); r11 = n11.nextNode(); ) ej2("uponSanitizeShadowNode", r11, null), eq2(r11) || (r11.content instanceof s10 && e31(r11.content), eV2(r11));
    ej2("afterSanitizeShadowDOM", t11, null);
  }, "_sanitizeShadowDOM");
  return r10.sanitize = function(t11) {
    let n11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a11 = null, o11 = null, h11 = null, u11 = null;
    if ((ex10 = !t11) && (t11 = "<!-->"), "string" != typeof t11 && !ez2(t11)) {
      if ("function" == typeof t11.toString) {
        if ("string" != typeof (t11 = t11.toString())) throw ss("dirty is not a string, aborting");
      } else throw ss("toString is not a function");
    }
    if (!r10.isSupported) return t11;
    if (J10 || eM2(n11), r10.removed = [], "string" == typeof t11 && (eo10 = false), eo10) {
      if (t11.nodeName) {
        let e31 = eE2(t11.nodeName);
        if (!F10[e31] || W10[e31]) throw ss("root node is forbidden and cannot be sanitized in-place");
      }
    } else if (t11 instanceof l10) (o11 = (a11 = eP2("<!---->")).ownerDocument.importNode(t11, true)).nodeType === sD.element && "BODY" === o11.nodeName ? a11 = o11 : "HTML" === o11.nodeName ? a11 = o11 : a11.appendChild(o11);
    else {
      if (!et10 && !K10 && !Q10 && -1 === t11.indexOf("<")) return e30 && en10 ? e30.createHTML(t11) : t11;
      if (!(a11 = eP2(t11))) return et10 ? null : en10 ? _10 : "";
    }
    a11 && ee10 && eO2(a11.firstChild);
    let d11 = eB2(eo10 ? t11 : a11);
    for (; h11 = d11.nextNode(); ) eq2(h11) || (h11.content instanceof s10 && eH2(h11.content), eV2(h11));
    if (eo10) return t11;
    if (et10) {
      if (er10) for (u11 = C10.call(a11.ownerDocument); a11.firstChild; ) u11.appendChild(a11.firstChild);
      else u11 = a11;
      return (j10.shadowroot || j10.shadowrootmode) && (u11 = A10.call(i10, u11, true)), u11;
    }
    let p11 = Q10 ? a11.outerHTML : a11.innerHTML;
    return Q10 && F10["!doctype"] && a11.ownerDocument && a11.ownerDocument.doctype && a11.ownerDocument.doctype.name && sa(sN, a11.ownerDocument.doctype.name) && (p11 = "<!DOCTYPE " + a11.ownerDocument.doctype.name + ">\n" + p11), K10 && a5([I10, M10, N10], (e31) => {
      p11 = st(p11, e31, " ");
    }), e30 && en10 ? e30.createHTML(p11) : p11;
  }, r10.setConfig = function() {
    let e31 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
    eM2(e31), J10 = true;
  }, r10.clearConfig = function() {
    eA2 = null, J10 = false;
  }, r10.isValidAttribute = function(e31, t11, r11) {
    return eA2 || eM2({}), eU2(eE2(e31), eE2(t11), r11);
  }, r10.addHook = function(e31, t11) {
    "function" == typeof t11 && (L10[e31] = L10[e31] || [], a7(L10[e31], t11));
  }, r10.removeHook = function(e31) {
    if (L10[e31]) return a6(L10[e31]);
  }, r10.removeHooks = function(e31) {
    L10[e31] && (L10[e31] = []);
  }, r10.removeAllHooks = function() {
    L10 = {};
  }, r10;
}
iM(sP, "createDOMPurify");
var sB = sP(), sF = /<br\s*\/?>/gi, sz = iM((e30) => e30 ? sK(e30).replace(/\\n/g, "#br#").split("#br#") : [""], "getRows"), sj = (e = false, () => {
  e || (sq(), e = true);
});
function sq() {
  let e30 = "data-temp-href-target";
  sB.addHook("beforeSanitizeAttributes", (t10) => {
    if (t10 instanceof Element && "A" === t10.tagName && t10.hasAttribute("target")) {
      var r10;
      t10.setAttribute(e30, null !== (r10 = t10.getAttribute("target")) && void 0 !== r10 ? r10 : "");
    }
  }), sB.addHook("afterSanitizeAttributes", (t10) => {
    if (t10 instanceof Element && "A" === t10.tagName && t10.hasAttribute(e30)) {
      var r10;
      t10.setAttribute("target", null !== (r10 = t10.getAttribute(e30)) && void 0 !== r10 ? r10 : ""), t10.removeAttribute(e30), "_blank" === t10.getAttribute("target") && t10.setAttribute("rel", "noopener");
    }
  });
}
iM(sq, "setupDompurifyHooks");
var sU = iM((e30) => (sj(), sB.sanitize(e30)), "removeScript"), sW = iM((e30, t10) => {
  var r10;
  if ((null === (r10 = t10.flowchart) || void 0 === r10 ? void 0 : r10.htmlLabels) !== false) {
    let r11 = t10.securityLevel;
    "antiscript" === r11 || "strict" === r11 ? e30 = sU(e30) : "loose" !== r11 && (e30 = sX(e30 = (e30 = (e30 = sK(e30)).replace(/</g, "&lt;").replace(/>/g, "&gt;")).replace(/=/g, "&equals;")));
  }
  return e30;
}, "sanitizeMore"), sV = iM((e30, t10) => e30 ? e30 = t10.dompurifyConfig ? sB.sanitize(sW(e30, t10), t10.dompurifyConfig).toString() : sB.sanitize(sW(e30, t10), { FORBID_TAGS: ["style"] }).toString() : e30, "sanitizeText"), sH = iM((e30, t10) => "string" == typeof e30 ? sV(e30, t10) : e30.flat().map((e31) => sV(e31, t10)), "sanitizeTextOrArray"), sY = iM((e30) => sF.test(e30), "hasBreaks"), sG = iM((e30) => e30.split(sF), "splitBreaks"), sX = iM((e30) => e30.replace(/#br#/g, "<br/>"), "placeholderToBreak"), sK = iM((e30) => e30.replace(sF, "#br#"), "breakToPlaceholder"), sZ = iM((e30) => {
  let t10 = "";
  return e30 && (t10 = (t10 = (t10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replaceAll(/\(/g, "\\(")).replaceAll(/\)/g, "\\)")), t10;
}, "getUrl"), sQ = iM((e30) => !(false === e30 || ["false", "null", "0"].includes(String(e30).trim().toLowerCase())), "evaluate"), sJ = iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
  return Math.max(...t10.filter((e31) => !isNaN(e31)));
}, "getMax"), s0 = iM(function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
  return Math.min(...t10.filter((e31) => !isNaN(e31)));
}, "getMin"), s1 = iM(function(e30) {
  let t10 = e30.split(/(,)/), r10 = [];
  for (let e31 = 0; e31 < t10.length; e31++) {
    let n10 = t10[e31];
    if ("," === n10 && e31 > 0 && e31 + 1 < t10.length) {
      let i10 = t10[e31 - 1], a10 = t10[e31 + 1];
      s4(i10, a10) && (n10 = i10 + "," + a10, e31++, r10.pop());
    }
    r10.push(s3(n10));
  }
  return r10.join("");
}, "parseGenericTypes"), s2 = iM((e30, t10) => Math.max(0, e30.split(t10).length - 1), "countOccurrence"), s4 = iM((e30, t10) => {
  let r10 = s2(e30, "~"), n10 = s2(t10, "~");
  return 1 === r10 && 1 === n10;
}, "shouldCombineSets"), s3 = iM((e30) => {
  let t10 = s2(e30, "~"), r10 = false;
  if (t10 <= 1) return e30;
  t10 % 2 != 0 && e30.startsWith("~") && (e30 = e30.substring(1), r10 = true);
  let n10 = [...e30], i10 = n10.indexOf("~"), a10 = n10.lastIndexOf("~");
  for (; -1 !== i10 && -1 !== a10 && i10 !== a10; ) n10[i10] = "<", n10[a10] = ">", i10 = n10.indexOf("~"), a10 = n10.lastIndexOf("~");
  return r10 && n10.unshift("~"), n10.join("");
}, "processSet"), s5 = iM(() => void 0 !== window.MathMLElement, "isMathMLSupported"), s6 = /\$\$(.*)\$\$/g, s7 = iM((e30) => {
  var t10, r10;
  return (null !== (r10 = null === (t10 = e30.match(s6)) || void 0 === t10 ? void 0 : t10.length) && void 0 !== r10 ? r10 : 0) > 0;
}, "hasKatex"), s8 = iM(async (e30, t10) => {
  e30 = await s9(e30, t10);
  let r10 = document.createElement("div");
  r10.innerHTML = e30, r10.id = "katex-temp", r10.style.visibility = "hidden", r10.style.position = "absolute", r10.style.top = "0";
  let n10 = document.querySelector("body");
  null == n10 || n10.insertAdjacentElement("beforeend", r10);
  let i10 = { width: r10.clientWidth, height: r10.clientHeight };
  return r10.remove(), i10;
}, "calculateMathMLDimensions"), s9 = iM(async (e30, t10) => {
  if (!s7(e30)) return e30;
  if (!(s5() || t10.legacyMathML || t10.forceLegacyMathML)) return e30.replace(s6, "MathML is unsupported in this environment.");
  let { default: r10 } = await w(async () => {
    let { default: e31 } = await Promise.resolve().then(() => Dv);
    return { default: e31 };
  }, true ? void 0 : void 0), n10 = t10.forceLegacyMathML || !s5() && t10.legacyMathML ? "htmlAndMathml" : "mathml";
  return e30.split(sF).map((e31) => s7(e31) ? `<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e31}</div>` : `<div>${e31}</div>`).join("").replace(s6, (e31, t11) => r10.renderToString(t11, { throwOnError: true, displayMode: true, output: n10 }).replace(/\n/g, " ").replace(/<annotation.*<\/annotation>/g, ""));
}, "renderKatex"), oe = { getRows: sz, sanitizeText: sV, sanitizeTextOrArray: sH, hasBreaks: sY, splitBreaks: sG, lineBreakRegex: sF, removeScript: sU, getUrl: sZ, evaluate: sQ, getMax: sJ, getMin: s0 }, ot = iM(function(e30, t10) {
  for (let r10 of t10) e30.attr(r10[0], r10[1]);
}, "d3Attrs"), or = iM(function(e30, t10, r10) {
  let n10 = /* @__PURE__ */ new Map();
  return r10 ? (n10.set("width", "100%"), n10.set("style", `max-width: ${t10}px;`)) : (n10.set("height", e30), n10.set("width", t10)), n10;
}, "calculateSvgSizeAttrs"), on = iM(function(e30, t10, r10, n10) {
  ot(e30, or(t10, r10, n10));
}, "configureSvgSize"), oi = iM(function(e30, t10, r10, n10) {
  let i10 = t10.node().getBBox(), a10 = i10.width, s10 = i10.height;
  iz.info(`SVG bounds: ${a10}x${s10}`, i10);
  let o10 = 0, l10 = 0;
  iz.info(`Graph bounds: ${o10}x${l10}`, e30), o10 = a10 + 2 * r10, l10 = s10 + 2 * r10, iz.info(`Calculated bounds: ${o10}x${l10}`), on(t10, l10, o10, n10);
  let h10 = `${i10.x - r10} ${i10.y - r10} ${i10.width + 2 * r10} ${i10.height + 2 * r10}`;
  t10.attr("viewBox", h10);
}, "setupGraphViewbox"), oa = {}, os = iM((e30, t10, r10) => {
  let n10 = "";
  return e30 in oa && oa[e30] ? n10 = oa[e30](r10) : iz.warn(`No theme found for ${e30}`), ` & {
    font-family: ${r10.fontFamily};
    font-size: ${r10.fontSize};
    fill: ${r10.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r10.errorBkgColor};
  }
  & .error-text {
    fill: ${r10.errorTextColor};
    stroke: ${r10.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r10.lineColor};
    stroke: ${r10.lineColor};
  }
  & .marker.cross {
    stroke: ${r10.lineColor};
  }

  & svg {
    font-family: ${r10.fontFamily};
    font-size: ${r10.fontSize};
  }
   & p {
    margin: 0
   }

  ${n10}

  ${t10}
`;
}, "getStyles"), oo = iM((e30, t10) => {
  void 0 !== t10 && (oa[e30] = t10);
}, "addStylesForDiagram"), ol = {};
iR(ol, { clear: () => op, getAccDescription: () => oy, getAccTitle: () => og, getDiagramTitle: () => ox, setAccDescription: () => om, setAccTitle: () => of, setDiagramTitle: () => ov });
var oc = "", oh = "", ou = "", od = iM((e30) => sV(e30, aj()), "sanitizeText"), op = iM(() => {
  oc = "", ou = "", oh = "";
}, "clear"), of = iM((e30) => {
  oc = od(e30).replace(/^\s+/g, "");
}, "setAccTitle"), og = iM(() => oc, "getAccTitle"), om = iM((e30) => {
  ou = od(e30).replace(/\n\s+/g, "\n");
}, "setAccDescription"), oy = iM(() => ou, "getAccDescription"), ov = iM((e30) => {
  oh = od(e30);
}, "setDiagramTitle"), ox = iM(() => oh, "getDiagramTitle"), ob = iM((e30) => sV(e30, aj()), "sanitizeText"), ok = iM(() => ol, "getCommonDb"), ow = {}, o_ = iM((e30, t10, r10) => {
  var n10;
  ow[e30] && iz.warn(`Diagram with id ${e30} already registered. Overwriting.`), ow[e30] = t10, r10 && iK(e30, r10), oo(e30, t10.styles), null === (n10 = t10.injectUtils) || void 0 === n10 || n10.call(t10, iz, ij, aj, ob, oi, ok(), () => {
  });
}, "registerDiagram"), oT = iM((e30) => {
  if (e30 in ow) return ow[e30];
  throw new oS(e30);
}, "getDiagram"), oS = (_i10 = class extends Error {
  constructor(e30) {
    super(`Diagram ${e30} not found.`);
  }
}, _i11 = new WeakMap(), __privateAdd(_i10, _i11, iM(_i10, "DiagramNotFoundError")), _i10);
function oC(e30, t10) {
  let r10;
  if (void 0 === t10) for (let t11 of e30) null != t11 && (r10 < t11 || void 0 === r10 && t11 >= t11) && (r10 = t11);
  else {
    let n10 = -1;
    for (let i10 of e30) null != (i10 = t10(i10, ++n10, e30)) && (r10 < i10 || void 0 === r10 && i10 >= i10) && (r10 = i10);
  }
  return r10;
}
function oE(e30, t10) {
  let r10;
  if (void 0 === t10) for (let t11 of e30) null != t11 && (r10 > t11 || void 0 === r10 && t11 >= t11) && (r10 = t11);
  else {
    let n10 = -1;
    for (let i10 of e30) null != (i10 = t10(i10, ++n10, e30)) && (r10 > i10 || void 0 === r10 && i10 >= i10) && (r10 = i10);
  }
  return r10;
}
function oA(e30, t10) {
  return null == e30 || null == t10 ? NaN : e30 < t10 ? -1 : e30 > t10 ? 1 : e30 >= t10 ? 0 : NaN;
}
function oL(e30, t10) {
  return null == e30 || null == t10 ? NaN : t10 < e30 ? -1 : t10 > e30 ? 1 : t10 >= e30 ? 0 : NaN;
}
function oI(e30) {
  let t10, r10, n10;
  function i10(e31, n11) {
    let i11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, a11 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : e31.length;
    if (i11 < a11) {
      if (0 !== t10(n11, n11)) return a11;
      do {
        let t11 = i11 + a11 >>> 1;
        0 > r10(e31[t11], n11) ? i11 = t11 + 1 : a11 = t11;
      } while (i11 < a11);
    }
    return i11;
  }
  function a10(e31, n11) {
    let i11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, a11 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : e31.length;
    if (i11 < a11) {
      if (0 !== t10(n11, n11)) return a11;
      do {
        let t11 = i11 + a11 >>> 1;
        0 >= r10(e31[t11], n11) ? i11 = t11 + 1 : a11 = t11;
      } while (i11 < a11);
    }
    return i11;
  }
  function s10(e31, t11) {
    let r11 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, a11 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : e31.length, s11 = i10(e31, t11, r11, a11 - 1);
    return s11 > r11 && n10(e31[s11 - 1], t11) > -n10(e31[s11], t11) ? s11 - 1 : s11;
  }
  return 2 !== e30.length ? (t10 = oA, r10 = iM((t11, r11) => oA(e30(t11), r11), "compare2"), n10 = iM((t11, r11) => e30(t11) - r11, "delta")) : (t10 = e30 === oA || e30 === oL ? e30 : oM, r10 = e30, n10 = e30), iM(i10, "left"), iM(a10, "right"), iM(s10, "center"), { left: i10, center: s10, right: a10 };
}
function oM() {
  return 0;
}
function oN(e30) {
  return null === e30 ? NaN : +e30;
}
iM(oC, "max"), iM(oE, "min"), iM(oA, "ascending"), iM(oL, "descending"), iM(oI, "bisector"), iM(oM, "zero"), iM(oN, "number");
var oR = oI(oA), oD = oR.right;
oR.left, oI(oN).center;
var oO = (_j2 = class extends Map {
  constructor(e30, t10 = oF) {
    if (super(), Object.defineProperties(this, { _intern: { value: /* @__PURE__ */ new Map() }, _key: { value: t10 } }), null != e30) for (let [t11, r10] of e30) this.set(t11, r10);
  }
  get(e30) {
    return super.get(o$(this, e30));
  }
  has(e30) {
    return super.has(o$(this, e30));
  }
  set(e30, t10) {
    return super.set(oP(this, e30), t10);
  }
  delete(e30) {
    return super.delete(oB(this, e30));
  }
}, _i12 = new WeakMap(), __privateAdd(_j2, _i12, iM(_j2, "InternMap")), _j2);
function o$(e30, t10) {
  let { _intern: r10, _key: n10 } = e30, i10 = n10(t10);
  return r10.has(i10) ? r10.get(i10) : t10;
}
function oP(e30, t10) {
  let { _intern: r10, _key: n10 } = e30, i10 = n10(t10);
  return r10.has(i10) ? r10.get(i10) : (r10.set(i10, t10), t10);
}
function oB(e30, t10) {
  let { _intern: r10, _key: n10 } = e30, i10 = n10(t10);
  return r10.has(i10) && (t10 = r10.get(i10), r10.delete(i10)), t10;
}
function oF(e30) {
  return null !== e30 && "object" == typeof e30 ? e30.valueOf() : e30;
}
iM(o$, "intern_get"), iM(oP, "intern_set"), iM(oB, "intern_delete"), iM(oF, "keyof");
var oz = Math.sqrt(50), oj = Math.sqrt(10), oq = Math.sqrt(2);
function oU(e30, t10, r10) {
  let n10, i10, a10;
  let s10 = (t10 - e30) / Math.max(0, r10), o10 = Math.floor(Math.log10(s10)), l10 = s10 / Math.pow(10, o10), h10 = l10 >= oz ? 10 : l10 >= oj ? 5 : l10 >= oq ? 2 : 1;
  return (o10 < 0 ? (n10 = Math.round(e30 * (a10 = Math.pow(10, -o10) / h10)), i10 = Math.round(t10 * a10), n10 / a10 < e30 && ++n10, i10 / a10 > t10 && --i10, a10 = -a10) : (n10 = Math.round(e30 / (a10 = Math.pow(10, o10) * h10)), i10 = Math.round(t10 / a10), n10 * a10 < e30 && ++n10, i10 * a10 > t10 && --i10), i10 < n10 && 0.5 <= r10 && r10 < 2) ? oU(e30, t10, 2 * r10) : [n10, i10, a10];
}
function oW(e30, t10, r10) {
  if (t10 = +t10, e30 = +e30, !((r10 = +r10) > 0)) return [];
  if (e30 === t10) return [e30];
  let n10 = t10 < e30, [i10, a10, s10] = n10 ? oU(t10, e30, r10) : oU(e30, t10, r10);
  if (!(a10 >= i10)) return [];
  let o10 = a10 - i10 + 1, l10 = Array(o10);
  if (n10) {
    if (s10 < 0) for (let e31 = 0; e31 < o10; ++e31) l10[e31] = -((a10 - e31) / s10);
    else for (let e31 = 0; e31 < o10; ++e31) l10[e31] = (a10 - e31) * s10;
  } else if (s10 < 0) for (let e31 = 0; e31 < o10; ++e31) l10[e31] = -((i10 + e31) / s10);
  else for (let e31 = 0; e31 < o10; ++e31) l10[e31] = (i10 + e31) * s10;
  return l10;
}
function oV(e30, t10, r10) {
  return oU(e30 = +e30, t10 = +t10, r10 = +r10)[2];
}
function oH(e30, t10, r10) {
  t10 = +t10, e30 = +e30, r10 = +r10;
  let n10 = t10 < e30, i10 = n10 ? oV(t10, e30, r10) : oV(e30, t10, r10);
  return (n10 ? -1 : 1) * (i10 < 0 ? -(1 / i10) : i10);
}
function oY(e30, t10, r10) {
  e30 = +e30, t10 = +t10, r10 = (i10 = arguments.length) < 2 ? (t10 = e30, e30 = 0, 1) : i10 < 3 ? 1 : +r10;
  for (var n10 = -1, i10 = 0 | Math.max(0, Math.ceil((t10 - e30) / r10)), a10 = Array(i10); ++n10 < i10; ) a10[n10] = e30 + n10 * r10;
  return a10;
}
function oG(e30) {
  return e30;
}
function oX(e30) {
  return "translate(" + e30 + ",0)";
}
function oK(e30) {
  return "translate(0," + e30 + ")";
}
function oZ(e30) {
  return (t10) => +e30(t10);
}
function oQ(e30, t10) {
  return t10 = Math.max(0, e30.bandwidth() - 2 * t10) / 2, e30.round() && (t10 = Math.round(t10)), (r10) => +e30(r10) + t10;
}
function oJ() {
  return !this.__axis;
}
function o0(e30, t10) {
  var r10 = [], n10 = null, i10 = null, a10 = 6, s10 = 6, o10 = 3, l10 = "undefined" != typeof window && window.devicePixelRatio > 1 ? 0 : 0.5, h10 = 1 === e30 || 4 === e30 ? -1 : 1, u10 = 4 === e30 || 2 === e30 ? "x" : "y", d10 = 1 === e30 || 3 === e30 ? oX : oK;
  function p10(p11) {
    var f10 = null == n10 ? t10.ticks ? t10.ticks.apply(t10, r10) : t10.domain() : n10, g10 = null == i10 ? t10.tickFormat ? t10.tickFormat.apply(t10, r10) : oG : i10, y10 = Math.max(a10, 0) + o10, v10 = t10.range(), x10 = +v10[0] + l10, b10 = +v10[v10.length - 1] + l10, k10 = (t10.bandwidth ? oQ : oZ)(t10.copy(), l10), w10 = p11.selection ? p11.selection() : p11, _10 = w10.selectAll(".domain").data([null]), T10 = w10.selectAll(".tick").data(f10, t10).order(), S10 = T10.exit(), C10 = T10.enter().append("g").attr("class", "tick"), E10 = T10.select("line"), A10 = T10.select("text");
    _10 = _10.merge(_10.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor")), T10 = T10.merge(C10), E10 = E10.merge(C10.append("line").attr("stroke", "currentColor").attr(u10 + "2", h10 * a10)), A10 = A10.merge(C10.append("text").attr("fill", "currentColor").attr(u10, h10 * y10).attr("dy", 1 === e30 ? "0em" : 3 === e30 ? "0.71em" : "0.32em")), p11 !== w10 && (_10 = _10.transition(p11), T10 = T10.transition(p11), E10 = E10.transition(p11), A10 = A10.transition(p11), S10 = S10.transition(p11).attr("opacity", 1e-6).attr("transform", function(e31) {
      return isFinite(e31 = k10(e31)) ? d10(e31 + l10) : this.getAttribute("transform");
    }), C10.attr("opacity", 1e-6).attr("transform", function(e31) {
      var t11 = this.parentNode.__axis;
      return d10((t11 && isFinite(t11 = t11(e31)) ? t11 : k10(e31)) + l10);
    })), S10.remove(), _10.attr("d", 4 === e30 || 2 === e30 ? s10 ? "M" + h10 * s10 + "," + x10 + "H" + l10 + "V" + b10 + "H" + h10 * s10 : "M" + l10 + "," + x10 + "V" + b10 : s10 ? "M" + x10 + "," + h10 * s10 + "V" + l10 + "H" + b10 + "V" + h10 * s10 : "M" + x10 + "," + l10 + "H" + b10), T10.attr("opacity", 1).attr("transform", function(e31) {
      return d10(k10(e31) + l10);
    }), E10.attr(u10 + "2", h10 * a10), A10.attr(u10, h10 * y10).text(g10), w10.filter(oJ).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", 2 === e30 ? "start" : 4 === e30 ? "end" : "middle"), w10.each(function() {
      this.__axis = k10;
    });
  }
  return iM(p10, "axis"), p10.scale = function(e31) {
    return arguments.length ? (t10 = e31, p10) : t10;
  }, p10.ticks = function() {
    return r10 = Array.from(arguments), p10;
  }, p10.tickArguments = function(e31) {
    return arguments.length ? (r10 = null == e31 ? [] : Array.from(e31), p10) : r10.slice();
  }, p10.tickValues = function(e31) {
    return arguments.length ? (n10 = null == e31 ? null : Array.from(e31), p10) : n10 && n10.slice();
  }, p10.tickFormat = function(e31) {
    return arguments.length ? (i10 = e31, p10) : i10;
  }, p10.tickSize = function(e31) {
    return arguments.length ? (a10 = s10 = +e31, p10) : a10;
  }, p10.tickSizeInner = function(e31) {
    return arguments.length ? (a10 = +e31, p10) : a10;
  }, p10.tickSizeOuter = function(e31) {
    return arguments.length ? (s10 = +e31, p10) : s10;
  }, p10.tickPadding = function(e31) {
    return arguments.length ? (o10 = +e31, p10) : o10;
  }, p10.offset = function(e31) {
    return arguments.length ? (l10 = +e31, p10) : l10;
  }, p10;
}
function o1(e30) {
  return o0(1, e30);
}
function o2(e30) {
  return o0(3, e30);
}
function o4() {
}
function o3(e30) {
  return null == e30 ? o4 : function() {
    return this.querySelector(e30);
  };
}
function o5(e30) {
  "function" != typeof e30 && (e30 = o3(e30));
  for (var t10 = this._groups, r10 = t10.length, n10 = Array(r10), i10 = 0; i10 < r10; ++i10) for (var a10, s10, o10 = t10[i10], l10 = o10.length, h10 = n10[i10] = Array(l10), u10 = 0; u10 < l10; ++u10) (a10 = o10[u10]) && (s10 = e30.call(a10, a10.__data__, u10, o10)) && ("__data__" in a10 && (s10.__data__ = a10.__data__), h10[u10] = s10);
  return new cR(n10, this._parents);
}
function o6(e30) {
  return null == e30 ? [] : Array.isArray(e30) ? e30 : Array.from(e30);
}
function o7() {
  return [];
}
function o8(e30) {
  return null == e30 ? o7 : function() {
    return this.querySelectorAll(e30);
  };
}
function o9(e30) {
  return function() {
    return o6(e30.apply(this, arguments));
  };
}
function le(e30) {
  e30 = "function" == typeof e30 ? o9(e30) : o8(e30);
  for (var t10 = this._groups, r10 = t10.length, n10 = [], i10 = [], a10 = 0; a10 < r10; ++a10) for (var s10, o10 = t10[a10], l10 = o10.length, h10 = 0; h10 < l10; ++h10) (s10 = o10[h10]) && (n10.push(e30.call(s10, s10.__data__, h10, o10)), i10.push(s10));
  return new cR(n10, i10);
}
function lt(e30) {
  return function() {
    return this.matches(e30);
  };
}
function lr(e30) {
  return function(t10) {
    return t10.matches(e30);
  };
}
iM(oU, "tickSpec"), iM(oW, "ticks"), iM(oV, "tickIncrement"), iM(oH, "tickStep"), iM(oY, "range"), iM(oG, "default"), iM(oX, "translateX"), iM(oK, "translateY"), iM(oZ, "number"), iM(oQ, "center"), iM(oJ, "entering"), iM(o0, "axis"), iM(o1, "axisTop"), iM(o2, "axisBottom"), iM(o4, "none"), iM(o3, "default"), iM(o5, "default"), iM(o6, "array"), iM(o7, "empty"), iM(o8, "default"), iM(o9, "arrayAll"), iM(le, "default"), iM(lt, "default"), iM(lr, "childMatcher");
var ln = Array.prototype.find;
function li(e30) {
  return function() {
    return ln.call(this.children, e30);
  };
}
function la() {
  return this.firstElementChild;
}
function ls(e30) {
  return this.select(null == e30 ? la : li("function" == typeof e30 ? e30 : lr(e30)));
}
iM(li, "childFind"), iM(la, "childFirst"), iM(ls, "default");
var lo = Array.prototype.filter;
function ll() {
  return Array.from(this.children);
}
function lc(e30) {
  return function() {
    return lo.call(this.children, e30);
  };
}
function lh(e30) {
  return this.selectAll(null == e30 ? ll : lc("function" == typeof e30 ? e30 : lr(e30)));
}
function lu(e30) {
  "function" != typeof e30 && (e30 = lt(e30));
  for (var t10 = this._groups, r10 = t10.length, n10 = Array(r10), i10 = 0; i10 < r10; ++i10) for (var a10, s10 = t10[i10], o10 = s10.length, l10 = n10[i10] = [], h10 = 0; h10 < o10; ++h10) (a10 = s10[h10]) && e30.call(a10, a10.__data__, h10, s10) && l10.push(a10);
  return new cR(n10, this._parents);
}
function ld(e30) {
  return Array(e30.length);
}
function lp() {
  return new cR(this._enter || this._groups.map(ld), this._parents);
}
function lf(e30, t10) {
  this.ownerDocument = e30.ownerDocument, this.namespaceURI = e30.namespaceURI, this._next = null, this._parent = e30, this.__data__ = t10;
}
function lg(e30) {
  return function() {
    return e30;
  };
}
function lm(e30, t10, r10, n10, i10, a10) {
  for (var s10, o10 = 0, l10 = t10.length, h10 = a10.length; o10 < h10; ++o10) (s10 = t10[o10]) ? (s10.__data__ = a10[o10], n10[o10] = s10) : r10[o10] = new lf(e30, a10[o10]);
  for (; o10 < l10; ++o10) (s10 = t10[o10]) && (i10[o10] = s10);
}
function ly(e30, t10, r10, n10, i10, a10, s10) {
  var o10, l10, h10, u10 = /* @__PURE__ */ new Map(), d10 = t10.length, p10 = a10.length, f10 = Array(d10);
  for (o10 = 0; o10 < d10; ++o10) (l10 = t10[o10]) && (f10[o10] = h10 = s10.call(l10, l10.__data__, o10, t10) + "", u10.has(h10) ? i10[o10] = l10 : u10.set(h10, l10));
  for (o10 = 0; o10 < p10; ++o10) h10 = s10.call(e30, a10[o10], o10, a10) + "", (l10 = u10.get(h10)) ? (n10[o10] = l10, l10.__data__ = a10[o10], u10.delete(h10)) : r10[o10] = new lf(e30, a10[o10]);
  for (o10 = 0; o10 < d10; ++o10) (l10 = t10[o10]) && u10.get(f10[o10]) === l10 && (i10[o10] = l10);
}
function lv(e30) {
  return e30.__data__;
}
function lx(e30, t10) {
  if (!arguments.length) return Array.from(this, lv);
  var r10 = t10 ? ly : lm, n10 = this._parents, i10 = this._groups;
  "function" != typeof e30 && (e30 = lg(e30));
  for (var a10 = i10.length, s10 = Array(a10), o10 = Array(a10), l10 = Array(a10), h10 = 0; h10 < a10; ++h10) {
    var u10 = n10[h10], d10 = i10[h10], p10 = d10.length, f10 = lb(e30.call(u10, u10 && u10.__data__, h10, n10)), g10 = f10.length, y10 = o10[h10] = Array(g10), v10 = s10[h10] = Array(g10);
    r10(u10, d10, y10, v10, l10[h10] = Array(p10), f10, t10);
    for (var x10, b10, k10 = 0, w10 = 0; k10 < g10; ++k10) if (x10 = y10[k10]) {
      for (k10 >= w10 && (w10 = k10 + 1); !(b10 = v10[w10]) && ++w10 < g10; ) ;
      x10._next = b10 || null;
    }
  }
  return (s10 = new cR(s10, n10))._enter = o10, s10._exit = l10, s10;
}
function lb(e30) {
  return "object" == typeof e30 && "length" in e30 ? e30 : Array.from(e30);
}
function lk() {
  return new cR(this._exit || this._groups.map(ld), this._parents);
}
function lw(e30, t10, r10) {
  var n10 = this.enter(), i10 = this, a10 = this.exit();
  return "function" == typeof e30 ? (n10 = e30(n10)) && (n10 = n10.selection()) : n10 = n10.append(e30 + ""), null != t10 && (i10 = t10(i10)) && (i10 = i10.selection()), null == r10 ? a10.remove() : r10(a10), n10 && i10 ? n10.merge(i10).order() : i10;
}
function l_(e30) {
  for (var t10 = e30.selection ? e30.selection() : e30, r10 = this._groups, n10 = t10._groups, i10 = r10.length, a10 = n10.length, s10 = Math.min(i10, a10), o10 = Array(i10), l10 = 0; l10 < s10; ++l10) for (var h10, u10 = r10[l10], d10 = n10[l10], p10 = u10.length, f10 = o10[l10] = Array(p10), g10 = 0; g10 < p10; ++g10) (h10 = u10[g10] || d10[g10]) && (f10[g10] = h10);
  for (; l10 < i10; ++l10) o10[l10] = r10[l10];
  return new cR(o10, this._parents);
}
function lT() {
  for (var e30 = this._groups, t10 = -1, r10 = e30.length; ++t10 < r10; ) for (var n10, i10 = e30[t10], a10 = i10.length - 1, s10 = i10[a10]; --a10 >= 0; ) (n10 = i10[a10]) && (s10 && 4 ^ n10.compareDocumentPosition(s10) && s10.parentNode.insertBefore(n10, s10), s10 = n10);
  return this;
}
function lS(e30) {
  function t10(t11, r11) {
    return t11 && r11 ? e30(t11.__data__, r11.__data__) : !t11 - !r11;
  }
  e30 || (e30 = lC), iM(t10, "compareNode");
  for (var r10 = this._groups, n10 = r10.length, i10 = Array(n10), a10 = 0; a10 < n10; ++a10) {
    for (var s10, o10 = r10[a10], l10 = o10.length, h10 = i10[a10] = Array(l10), u10 = 0; u10 < l10; ++u10) (s10 = o10[u10]) && (h10[u10] = s10);
    h10.sort(t10);
  }
  return new cR(i10, this._parents).order();
}
function lC(e30, t10) {
  return e30 < t10 ? -1 : e30 > t10 ? 1 : e30 >= t10 ? 0 : NaN;
}
function lE() {
  var e30 = arguments[0];
  return arguments[0] = this, e30.apply(null, arguments), this;
}
function lA() {
  return Array.from(this);
}
function lL() {
  for (var e30 = this._groups, t10 = 0, r10 = e30.length; t10 < r10; ++t10) for (var n10 = e30[t10], i10 = 0, a10 = n10.length; i10 < a10; ++i10) {
    var s10 = n10[i10];
    if (s10) return s10;
  }
  return null;
}
function lI() {
  let e30 = 0;
  for (let t10 of this) ++e30;
  return e30;
}
function lM() {
  return !this.node();
}
function lN(e30) {
  for (var t10 = this._groups, r10 = 0, n10 = t10.length; r10 < n10; ++r10) for (var i10, a10 = t10[r10], s10 = 0, o10 = a10.length; s10 < o10; ++s10) (i10 = a10[s10]) && e30.call(i10, i10.__data__, s10, a10);
  return this;
}
iM(ll, "children"), iM(lc, "childrenFilter"), iM(lh, "default"), iM(lu, "default"), iM(ld, "default"), iM(lp, "default"), iM(lf, "EnterNode"), lf.prototype = { constructor: lf, appendChild: iM(function(e30) {
  return this._parent.insertBefore(e30, this._next);
}, "appendChild"), insertBefore: iM(function(e30, t10) {
  return this._parent.insertBefore(e30, t10);
}, "insertBefore"), querySelector: iM(function(e30) {
  return this._parent.querySelector(e30);
}, "querySelector"), querySelectorAll: iM(function(e30) {
  return this._parent.querySelectorAll(e30);
}, "querySelectorAll") }, iM(lg, "default"), iM(lm, "bindIndex"), iM(ly, "bindKey"), iM(lv, "datum"), iM(lx, "default"), iM(lb, "arraylike"), iM(lk, "default"), iM(lw, "default"), iM(l_, "default"), iM(lT, "default"), iM(lS, "default"), iM(lC, "ascending"), iM(lE, "default"), iM(lA, "default"), iM(lL, "default"), iM(lI, "default"), iM(lM, "default"), iM(lN, "default");
var lR = "http://www.w3.org/1999/xhtml", lD = { svg: "http://www.w3.org/2000/svg", xhtml: lR, xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" };
function lO(e30) {
  var t10 = e30 += "", r10 = t10.indexOf(":");
  return r10 >= 0 && "xmlns" !== (t10 = e30.slice(0, r10)) && (e30 = e30.slice(r10 + 1)), lD.hasOwnProperty(t10) ? { space: lD[t10], local: e30 } : e30;
}
function l$(e30) {
  return function() {
    this.removeAttribute(e30);
  };
}
function lP(e30) {
  return function() {
    this.removeAttributeNS(e30.space, e30.local);
  };
}
function lB(e30, t10) {
  return function() {
    this.setAttribute(e30, t10);
  };
}
function lF(e30, t10) {
  return function() {
    this.setAttributeNS(e30.space, e30.local, t10);
  };
}
function lz(e30, t10) {
  return function() {
    var r10 = t10.apply(this, arguments);
    null == r10 ? this.removeAttribute(e30) : this.setAttribute(e30, r10);
  };
}
function lj(e30, t10) {
  return function() {
    var r10 = t10.apply(this, arguments);
    null == r10 ? this.removeAttributeNS(e30.space, e30.local) : this.setAttributeNS(e30.space, e30.local, r10);
  };
}
function lq(e30, t10) {
  var r10 = lO(e30);
  if (arguments.length < 2) {
    var n10 = this.node();
    return r10.local ? n10.getAttributeNS(r10.space, r10.local) : n10.getAttribute(r10);
  }
  return this.each((null == t10 ? r10.local ? lP : l$ : "function" == typeof t10 ? r10.local ? lj : lz : r10.local ? lF : lB)(r10, t10));
}
function lU(e30) {
  return e30.ownerDocument && e30.ownerDocument.defaultView || e30.document && e30 || e30.defaultView;
}
function lW(e30) {
  return function() {
    this.style.removeProperty(e30);
  };
}
function lV(e30, t10, r10) {
  return function() {
    this.style.setProperty(e30, t10, r10);
  };
}
function lH(e30, t10, r10) {
  return function() {
    var n10 = t10.apply(this, arguments);
    null == n10 ? this.style.removeProperty(e30) : this.style.setProperty(e30, n10, r10);
  };
}
function lY(e30, t10, r10) {
  return arguments.length > 1 ? this.each((null == t10 ? lW : "function" == typeof t10 ? lH : lV)(e30, t10, null == r10 ? "" : r10)) : lG(this.node(), e30);
}
function lG(e30, t10) {
  return e30.style.getPropertyValue(t10) || lU(e30).getComputedStyle(e30, null).getPropertyValue(t10);
}
function lX(e30) {
  return function() {
    delete this[e30];
  };
}
function lK(e30, t10) {
  return function() {
    this[e30] = t10;
  };
}
function lZ(e30, t10) {
  return function() {
    var r10 = t10.apply(this, arguments);
    null == r10 ? delete this[e30] : this[e30] = r10;
  };
}
function lQ(e30, t10) {
  return arguments.length > 1 ? this.each((null == t10 ? lX : "function" == typeof t10 ? lZ : lK)(e30, t10)) : this.node()[e30];
}
function lJ(e30) {
  return e30.trim().split(/^|\s+/);
}
function l0(e30) {
  return e30.classList || new l1(e30);
}
function l1(e30) {
  this._node = e30, this._names = lJ(e30.getAttribute("class") || "");
}
function l2(e30, t10) {
  for (var r10 = l0(e30), n10 = -1, i10 = t10.length; ++n10 < i10; ) r10.add(t10[n10]);
}
function l4(e30, t10) {
  for (var r10 = l0(e30), n10 = -1, i10 = t10.length; ++n10 < i10; ) r10.remove(t10[n10]);
}
function l3(e30) {
  return function() {
    l2(this, e30);
  };
}
function l5(e30) {
  return function() {
    l4(this, e30);
  };
}
function l6(e30, t10) {
  return function() {
    (t10.apply(this, arguments) ? l2 : l4)(this, e30);
  };
}
function l7(e30, t10) {
  var r10 = lJ(e30 + "");
  if (arguments.length < 2) {
    for (var n10 = l0(this.node()), i10 = -1, a10 = r10.length; ++i10 < a10; ) if (!n10.contains(r10[i10])) return false;
    return true;
  }
  return this.each(("function" == typeof t10 ? l6 : t10 ? l3 : l5)(r10, t10));
}
function l8() {
  this.textContent = "";
}
function l9(e30) {
  return function() {
    this.textContent = e30;
  };
}
function ce(e30) {
  return function() {
    var t10 = e30.apply(this, arguments);
    this.textContent = null == t10 ? "" : t10;
  };
}
function ct(e30) {
  return arguments.length ? this.each(null == e30 ? l8 : ("function" == typeof e30 ? ce : l9)(e30)) : this.node().textContent;
}
function cr() {
  this.innerHTML = "";
}
function cn(e30) {
  return function() {
    this.innerHTML = e30;
  };
}
function ci(e30) {
  return function() {
    var t10 = e30.apply(this, arguments);
    this.innerHTML = null == t10 ? "" : t10;
  };
}
function ca(e30) {
  return arguments.length ? this.each(null == e30 ? cr : ("function" == typeof e30 ? ci : cn)(e30)) : this.node().innerHTML;
}
function cs() {
  this.nextSibling && this.parentNode.appendChild(this);
}
function co() {
  return this.each(cs);
}
function cl() {
  this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function cc() {
  return this.each(cl);
}
function ch(e30) {
  return function() {
    var t10 = this.ownerDocument, r10 = this.namespaceURI;
    return r10 === lR && t10.documentElement.namespaceURI === lR ? t10.createElement(e30) : t10.createElementNS(r10, e30);
  };
}
function cu(e30) {
  return function() {
    return this.ownerDocument.createElementNS(e30.space, e30.local);
  };
}
function cd(e30) {
  var t10 = lO(e30);
  return (t10.local ? cu : ch)(t10);
}
function cp(e30) {
  var t10 = "function" == typeof e30 ? e30 : cd(e30);
  return this.select(function() {
    return this.appendChild(t10.apply(this, arguments));
  });
}
function cf() {
  return null;
}
function cg(e30, t10) {
  var r10 = "function" == typeof e30 ? e30 : cd(e30), n10 = null == t10 ? cf : "function" == typeof t10 ? t10 : o3(t10);
  return this.select(function() {
    return this.insertBefore(r10.apply(this, arguments), n10.apply(this, arguments) || null);
  });
}
function cm() {
  var e30 = this.parentNode;
  e30 && e30.removeChild(this);
}
function cy() {
  return this.each(cm);
}
function cv() {
  var e30 = this.cloneNode(false), t10 = this.parentNode;
  return t10 ? t10.insertBefore(e30, this.nextSibling) : e30;
}
function cx() {
  var e30 = this.cloneNode(true), t10 = this.parentNode;
  return t10 ? t10.insertBefore(e30, this.nextSibling) : e30;
}
function cb(e30) {
  return this.select(e30 ? cx : cv);
}
function ck(e30) {
  return arguments.length ? this.property("__data__", e30) : this.node().__data__;
}
function cw(e30) {
  return function(t10) {
    e30.call(this, t10, this.__data__);
  };
}
function c_(e30) {
  return e30.trim().split(/^|\s+/).map(function(e31) {
    var t10 = "", r10 = e31.indexOf(".");
    return r10 >= 0 && (t10 = e31.slice(r10 + 1), e31 = e31.slice(0, r10)), { type: e31, name: t10 };
  });
}
function cT(e30) {
  return function() {
    var t10 = this.__on;
    if (t10) {
      for (var r10, n10 = 0, i10 = -1, a10 = t10.length; n10 < a10; ++n10) (r10 = t10[n10], e30.type && r10.type !== e30.type || r10.name !== e30.name) ? t10[++i10] = r10 : this.removeEventListener(r10.type, r10.listener, r10.options);
      ++i10 ? t10.length = i10 : delete this.__on;
    }
  };
}
function cS(e30, t10, r10) {
  return function() {
    var n10, i10 = this.__on, a10 = cw(t10);
    if (i10) {
      for (var s10 = 0, o10 = i10.length; s10 < o10; ++s10) if ((n10 = i10[s10]).type === e30.type && n10.name === e30.name) {
        this.removeEventListener(n10.type, n10.listener, n10.options), this.addEventListener(n10.type, n10.listener = a10, n10.options = r10), n10.value = t10;
        return;
      }
    }
    this.addEventListener(e30.type, a10, r10), n10 = { type: e30.type, name: e30.name, value: t10, listener: a10, options: r10 }, i10 ? i10.push(n10) : this.__on = [n10];
  };
}
function cC(e30, t10, r10) {
  var n10, i10, a10 = c_(e30 + ""), s10 = a10.length;
  if (arguments.length < 2) {
    var o10 = this.node().__on;
    if (o10) {
      for (var l10, h10 = 0, u10 = o10.length; h10 < u10; ++h10) for (n10 = 0, l10 = o10[h10]; n10 < s10; ++n10) if ((i10 = a10[n10]).type === l10.type && i10.name === l10.name) return l10.value;
    }
    return;
  }
  for (n10 = 0, o10 = t10 ? cS : cT; n10 < s10; ++n10) this.each(o10(a10[n10], t10, r10));
  return this;
}
function cE(e30, t10, r10) {
  var n10 = lU(e30), i10 = n10.CustomEvent;
  "function" == typeof i10 ? i10 = new i10(t10, r10) : (i10 = n10.document.createEvent("Event"), r10 ? (i10.initEvent(t10, r10.bubbles, r10.cancelable), i10.detail = r10.detail) : i10.initEvent(t10, false, false)), e30.dispatchEvent(i10);
}
function cA(e30, t10) {
  return function() {
    return cE(this, e30, t10);
  };
}
function cL(e30, t10) {
  return function() {
    return cE(this, e30, t10.apply(this, arguments));
  };
}
function cI(e30, t10) {
  return this.each(("function" == typeof t10 ? cL : cA)(e30, t10));
}
function* cM() {
  for (var e30 = this._groups, t10 = 0, r10 = e30.length; t10 < r10; ++t10) for (var n10, i10 = e30[t10], a10 = 0, s10 = i10.length; a10 < s10; ++a10) (n10 = i10[a10]) && (yield n10);
}
iM(lO, "default"), iM(l$, "attrRemove"), iM(lP, "attrRemoveNS"), iM(lB, "attrConstant"), iM(lF, "attrConstantNS"), iM(lz, "attrFunction"), iM(lj, "attrFunctionNS"), iM(lq, "default"), iM(lU, "default"), iM(lW, "styleRemove"), iM(lV, "styleConstant"), iM(lH, "styleFunction"), iM(lY, "default"), iM(lG, "styleValue"), iM(lX, "propertyRemove"), iM(lK, "propertyConstant"), iM(lZ, "propertyFunction"), iM(lQ, "default"), iM(lJ, "classArray"), iM(l0, "classList"), iM(l1, "ClassList"), l1.prototype = { add: iM(function(e30) {
  0 > this._names.indexOf(e30) && (this._names.push(e30), this._node.setAttribute("class", this._names.join(" ")));
}, "add"), remove: iM(function(e30) {
  var t10 = this._names.indexOf(e30);
  t10 >= 0 && (this._names.splice(t10, 1), this._node.setAttribute("class", this._names.join(" ")));
}, "remove"), contains: iM(function(e30) {
  return this._names.indexOf(e30) >= 0;
}, "contains") }, iM(l2, "classedAdd"), iM(l4, "classedRemove"), iM(l3, "classedTrue"), iM(l5, "classedFalse"), iM(l6, "classedFunction"), iM(l7, "default"), iM(l8, "textRemove"), iM(l9, "textConstant"), iM(ce, "textFunction"), iM(ct, "default"), iM(cr, "htmlRemove"), iM(cn, "htmlConstant"), iM(ci, "htmlFunction"), iM(ca, "default"), iM(cs, "raise"), iM(co, "default"), iM(cl, "lower"), iM(cc, "default"), iM(ch, "creatorInherit"), iM(cu, "creatorFixed"), iM(cd, "default"), iM(cp, "default"), iM(cf, "constantNull"), iM(cg, "default"), iM(cm, "remove"), iM(cy, "default"), iM(cv, "selection_cloneShallow"), iM(cx, "selection_cloneDeep"), iM(cb, "default"), iM(ck, "default"), iM(cw, "contextListener"), iM(c_, "parseTypenames"), iM(cT, "onRemove"), iM(cS, "onAdd"), iM(cC, "default"), iM(cE, "dispatchEvent"), iM(cA, "dispatchConstant"), iM(cL, "dispatchFunction"), iM(cI, "default"), iM(cM, "default");
var cN = [null];
function cR(e30, t10) {
  this._groups = e30, this._parents = t10;
}
function cD() {
  return new cR([[document.documentElement]], cN);
}
function cO() {
  return this;
}
function c$(e30) {
  return "string" == typeof e30 ? new cR([[document.querySelector(e30)]], [document.documentElement]) : new cR([[e30]], cN);
}
function cP(e30, t10, r10) {
  e30.prototype = t10.prototype = r10, r10.constructor = e30;
}
function cB(e30, t10) {
  var r10 = Object.create(e30.prototype);
  for (var n10 in t10) r10[n10] = t10[n10];
  return r10;
}
function cF() {
}
iM(cR, "Selection"), iM(cD, "selection"), iM(cO, "selection_selection"), cR.prototype = cD.prototype = { constructor: cR, select: o5, selectAll: le, selectChild: ls, selectChildren: lh, filter: lu, data: lx, enter: lp, exit: lk, join: lw, merge: l_, selection: cO, order: lT, sort: lS, call: lE, nodes: lA, node: lL, size: lI, empty: lM, each: lN, attr: lq, style: lY, property: lQ, classed: l7, text: ct, html: ca, raise: co, lower: cc, append: cp, insert: cg, remove: cy, clone: cb, datum: ck, on: cC, dispatch: cI, [Symbol.iterator]: cM }, iM(c$, "default"), iM(cP, "default"), iM(cB, "extend"), iM(cF, "Color");
var cz = "\\s*([+-]?\\d+)\\s*", cj = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*", cq = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*", cU = /^#([0-9a-f]{3,8})$/, cW = RegExp(`^rgb\\(${cz},${cz},${cz}\\)$`), cV = RegExp(`^rgb\\(${cq},${cq},${cq}\\)$`), cH = RegExp(`^rgba\\(${cz},${cz},${cz},${cj}\\)$`), cY = RegExp(`^rgba\\(${cq},${cq},${cq},${cj}\\)$`), cG = RegExp(`^hsl\\(${cj},${cq},${cq}\\)$`), cX = RegExp(`^hsla\\(${cj},${cq},${cq},${cj}\\)$`), cK = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 };
function cZ() {
  return this.rgb().formatHex();
}
function cQ() {
  return this.rgb().formatHex8();
}
function cJ() {
  return hi(this).formatHsl();
}
function c0() {
  return this.rgb().formatRgb();
}
function c1(e30) {
  var t10, r10;
  return e30 = (e30 + "").trim().toLowerCase(), (t10 = cU.exec(e30)) ? (r10 = t10[1].length, t10 = parseInt(t10[1], 16), 6 === r10 ? c2(t10) : 3 === r10 ? new c6(t10 >> 8 & 15 | t10 >> 4 & 240, t10 >> 4 & 15 | 240 & t10, (15 & t10) << 4 | 15 & t10, 1) : 8 === r10 ? c4(t10 >> 24 & 255, t10 >> 16 & 255, t10 >> 8 & 255, (255 & t10) / 255) : 4 === r10 ? c4(t10 >> 12 & 15 | t10 >> 8 & 240, t10 >> 8 & 15 | t10 >> 4 & 240, t10 >> 4 & 15 | 240 & t10, ((15 & t10) << 4 | 15 & t10) / 255) : null) : (t10 = cW.exec(e30)) ? new c6(t10[1], t10[2], t10[3], 1) : (t10 = cV.exec(e30)) ? new c6(255 * t10[1] / 100, 255 * t10[2] / 100, 255 * t10[3] / 100, 1) : (t10 = cH.exec(e30)) ? c4(t10[1], t10[2], t10[3], t10[4]) : (t10 = cY.exec(e30)) ? c4(255 * t10[1] / 100, 255 * t10[2] / 100, 255 * t10[3] / 100, t10[4]) : (t10 = cG.exec(e30)) ? hn(t10[1], t10[2] / 100, t10[3] / 100, 1) : (t10 = cX.exec(e30)) ? hn(t10[1], t10[2] / 100, t10[3] / 100, t10[4]) : cK.hasOwnProperty(e30) ? c2(cK[e30]) : "transparent" === e30 ? new c6(NaN, NaN, NaN, 0) : null;
}
function c2(e30) {
  return new c6(e30 >> 16 & 255, e30 >> 8 & 255, 255 & e30, 1);
}
function c4(e30, t10, r10, n10) {
  return n10 <= 0 && (e30 = t10 = r10 = NaN), new c6(e30, t10, r10, n10);
}
function c3(e30) {
  return (e30 instanceof cF || (e30 = c1(e30)), e30) ? new c6((e30 = e30.rgb()).r, e30.g, e30.b, e30.opacity) : new c6();
}
function c5(e30, t10, r10, n10) {
  return 1 == arguments.length ? c3(e30) : new c6(e30, t10, r10, null == n10 ? 1 : n10);
}
function c6(e30, t10, r10, n10) {
  this.r = +e30, this.g = +t10, this.b = +r10, this.opacity = +n10;
}
function c7() {
  return `#${hr(this.r)}${hr(this.g)}${hr(this.b)}`;
}
function c8() {
  return `#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function c9() {
  let e30 = he(this.opacity);
  return `${1 === e30 ? "rgb(" : "rgba("}${ht(this.r)}, ${ht(this.g)}, ${ht(this.b)}${1 === e30 ? ")" : `, ${e30})`}`;
}
function he(e30) {
  return isNaN(e30) ? 1 : Math.max(0, Math.min(1, e30));
}
function ht(e30) {
  return Math.max(0, Math.min(255, Math.round(e30) || 0));
}
function hr(e30) {
  return ((e30 = ht(e30)) < 16 ? "0" : "") + e30.toString(16);
}
function hn(e30, t10, r10, n10) {
  return n10 <= 0 ? e30 = t10 = r10 = NaN : r10 <= 0 || r10 >= 1 ? e30 = t10 = NaN : t10 <= 0 && (e30 = NaN), new hs(e30, t10, r10, n10);
}
function hi(e30) {
  if (e30 instanceof hs) return new hs(e30.h, e30.s, e30.l, e30.opacity);
  if (e30 instanceof cF || (e30 = c1(e30)), !e30) return new hs();
  if (e30 instanceof hs) return e30;
  var t10 = (e30 = e30.rgb()).r / 255, r10 = e30.g / 255, n10 = e30.b / 255, i10 = Math.min(t10, r10, n10), a10 = Math.max(t10, r10, n10), s10 = NaN, o10 = a10 - i10, l10 = (a10 + i10) / 2;
  return o10 ? (s10 = t10 === a10 ? (r10 - n10) / o10 + (r10 < n10) * 6 : r10 === a10 ? (n10 - t10) / o10 + 2 : (t10 - r10) / o10 + 4, o10 /= l10 < 0.5 ? a10 + i10 : 2 - a10 - i10, s10 *= 60) : o10 = l10 > 0 && l10 < 1 ? 0 : s10, new hs(s10, o10, l10, e30.opacity);
}
function ha(e30, t10, r10, n10) {
  return 1 == arguments.length ? hi(e30) : new hs(e30, t10, r10, null == n10 ? 1 : n10);
}
function hs(e30, t10, r10, n10) {
  this.h = +e30, this.s = +t10, this.l = +r10, this.opacity = +n10;
}
function ho(e30) {
  return (e30 = (e30 || 0) % 360) < 0 ? e30 + 360 : e30;
}
function hl(e30) {
  return Math.max(0, Math.min(1, e30 || 0));
}
function hc(e30, t10, r10) {
  return (e30 < 60 ? t10 + (r10 - t10) * e30 / 60 : e30 < 180 ? r10 : e30 < 240 ? t10 + (r10 - t10) * (240 - e30) / 60 : t10) * 255;
}
cP(cF, c1, { copy(e30) {
  return Object.assign(new this.constructor(), this, e30);
}, displayable() {
  return this.rgb().displayable();
}, hex: cZ, formatHex: cZ, formatHex8: cQ, formatHsl: cJ, formatRgb: c0, toString: c0 }), iM(cZ, "color_formatHex"), iM(cQ, "color_formatHex8"), iM(cJ, "color_formatHsl"), iM(c0, "color_formatRgb"), iM(c1, "color"), iM(c2, "rgbn"), iM(c4, "rgba"), iM(c3, "rgbConvert"), iM(c5, "rgb"), iM(c6, "Rgb"), cP(c6, c5, cB(cF, { brighter(e30) {
  return e30 = null == e30 ? 1.4285714285714286 : Math.pow(1.4285714285714286, e30), new c6(this.r * e30, this.g * e30, this.b * e30, this.opacity);
}, darker(e30) {
  return e30 = null == e30 ? 0.7 : Math.pow(0.7, e30), new c6(this.r * e30, this.g * e30, this.b * e30, this.opacity);
}, rgb() {
  return this;
}, clamp() {
  return new c6(ht(this.r), ht(this.g), ht(this.b), he(this.opacity));
}, displayable() {
  return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;
}, hex: c7, formatHex: c7, formatHex8: c8, formatRgb: c9, toString: c9 })), iM(c7, "rgb_formatHex"), iM(c8, "rgb_formatHex8"), iM(c9, "rgb_formatRgb"), iM(he, "clampa"), iM(ht, "clampi"), iM(hr, "hex"), iM(hn, "hsla"), iM(hi, "hslConvert"), iM(ha, "hsl"), iM(hs, "Hsl"), cP(hs, ha, cB(cF, { brighter(e30) {
  return e30 = null == e30 ? 1.4285714285714286 : Math.pow(1.4285714285714286, e30), new hs(this.h, this.s, this.l * e30, this.opacity);
}, darker(e30) {
  return e30 = null == e30 ? 0.7 : Math.pow(0.7, e30), new hs(this.h, this.s, this.l * e30, this.opacity);
}, rgb() {
  var e30 = this.h % 360 + (this.h < 0) * 360, t10 = isNaN(e30) || isNaN(this.s) ? 0 : this.s, r10 = this.l, n10 = r10 + (r10 < 0.5 ? r10 : 1 - r10) * t10, i10 = 2 * r10 - n10;
  return new c6(hc(e30 >= 240 ? e30 - 240 : e30 + 120, i10, n10), hc(e30, i10, n10), hc(e30 < 120 ? e30 + 240 : e30 - 120, i10, n10), this.opacity);
}, clamp() {
  return new hs(ho(this.h), hl(this.s), hl(this.l), he(this.opacity));
}, displayable() {
  return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
}, formatHsl() {
  let e30 = he(this.opacity);
  return `${1 === e30 ? "hsl(" : "hsla("}${ho(this.h)}, ${100 * hl(this.s)}%, ${100 * hl(this.l)}%${1 === e30 ? ")" : `, ${e30})`}`;
} })), iM(ho, "clamph"), iM(hl, "clampt"), iM(hc, "hsl2rgb");
var hh = Math.PI / 180, hu = 180 / Math.PI, hd = 4 / 29, hp = 6 / 29, hf = 6 / 29 * 3 * (6 / 29), hg = 6 / 29 * (6 / 29) * (6 / 29);
function hm(e30) {
  if (e30 instanceof hv) return new hv(e30.l, e30.a, e30.b, e30.opacity);
  if (e30 instanceof hS) return hC(e30);
  e30 instanceof c6 || (e30 = c3(e30));
  var t10, r10, n10 = hw(e30.r), i10 = hw(e30.g), a10 = hw(e30.b), s10 = hx((0.2225045 * n10 + 0.7168786 * i10 + 0.0606169 * a10) / 1);
  return n10 === i10 && i10 === a10 ? t10 = r10 = s10 : (t10 = hx((0.4360747 * n10 + 0.3850649 * i10 + 0.1430804 * a10) / 0.96422), r10 = hx((0.0139322 * n10 + 0.0971045 * i10 + 0.7141733 * a10) / 0.82521)), new hv(116 * s10 - 16, 500 * (t10 - s10), 200 * (s10 - r10), e30.opacity);
}
function hy(e30, t10, r10, n10) {
  return 1 == arguments.length ? hm(e30) : new hv(e30, t10, r10, null == n10 ? 1 : n10);
}
function hv(e30, t10, r10, n10) {
  this.l = +e30, this.a = +t10, this.b = +r10, this.opacity = +n10;
}
function hx(e30) {
  return e30 > hg ? Math.pow(e30, 1 / 3) : e30 / hf + hd;
}
function hb(e30) {
  return e30 > hp ? e30 * e30 * e30 : hf * (e30 - hd);
}
function hk(e30) {
  return 255 * (e30 <= 31308e-7 ? 12.92 * e30 : 1.055 * Math.pow(e30, 1 / 2.4) - 0.055);
}
function hw(e30) {
  return (e30 /= 255) <= 0.04045 ? e30 / 12.92 : Math.pow((e30 + 0.055) / 1.055, 2.4);
}
function h_(e30) {
  if (e30 instanceof hS) return new hS(e30.h, e30.c, e30.l, e30.opacity);
  if (e30 instanceof hv || (e30 = hm(e30)), 0 === e30.a && 0 === e30.b) return new hS(NaN, 0 < e30.l && e30.l < 100 ? 0 : NaN, e30.l, e30.opacity);
  var t10 = Math.atan2(e30.b, e30.a) * hu;
  return new hS(t10 < 0 ? t10 + 360 : t10, Math.sqrt(e30.a * e30.a + e30.b * e30.b), e30.l, e30.opacity);
}
function hT(e30, t10, r10, n10) {
  return 1 == arguments.length ? h_(e30) : new hS(e30, t10, r10, null == n10 ? 1 : n10);
}
function hS(e30, t10, r10, n10) {
  this.h = +e30, this.c = +t10, this.l = +r10, this.opacity = +n10;
}
function hC(e30) {
  if (isNaN(e30.h)) return new hv(e30.l, 0, 0, e30.opacity);
  var t10 = e30.h * hh;
  return new hv(e30.l, Math.cos(t10) * e30.c, Math.sin(t10) * e30.c, e30.opacity);
}
iM(hm, "labConvert"), iM(hy, "lab"), iM(hv, "Lab"), cP(hv, hy, cB(cF, { brighter(e30) {
  return new hv(this.l + 18 * (null == e30 ? 1 : e30), this.a, this.b, this.opacity);
}, darker(e30) {
  return new hv(this.l - 18 * (null == e30 ? 1 : e30), this.a, this.b, this.opacity);
}, rgb() {
  var e30 = (this.l + 16) / 116, t10 = isNaN(this.a) ? e30 : e30 + this.a / 500, r10 = isNaN(this.b) ? e30 : e30 - this.b / 200;
  return new c6(hk(3.1338561 * (t10 = 0.96422 * hb(t10)) - 1.6168667 * (e30 = 1 * hb(e30)) - 0.4906146 * (r10 = 0.82521 * hb(r10))), hk(-0.9787684 * t10 + 1.9161415 * e30 + 0.033454 * r10), hk(0.0719453 * t10 - 0.2289914 * e30 + 1.4052427 * r10), this.opacity);
} })), iM(hx, "xyz2lab"), iM(hb, "lab2xyz"), iM(hk, "lrgb2rgb"), iM(hw, "rgb2lrgb"), iM(h_, "hclConvert"), iM(hT, "hcl"), iM(hS, "Hcl"), iM(hC, "hcl2lab"), cP(hS, hT, cB(cF, { brighter(e30) {
  return new hS(this.h, this.c, this.l + 18 * (null == e30 ? 1 : e30), this.opacity);
}, darker(e30) {
  return new hS(this.h, this.c, this.l - 18 * (null == e30 ? 1 : e30), this.opacity);
}, rgb() {
  return hC(this).rgb();
} }));
var hE = iM((e30) => () => e30, "default");
function hA(e30, t10) {
  return function(r10) {
    return e30 + r10 * t10;
  };
}
function hL(e30, t10, r10) {
  return e30 = Math.pow(e30, r10), t10 = Math.pow(t10, r10) - e30, r10 = 1 / r10, function(n10) {
    return Math.pow(e30 + n10 * t10, r10);
  };
}
function hI(e30, t10) {
  var r10 = t10 - e30;
  return r10 ? hA(e30, r10 > 180 || r10 < -180 ? r10 - 360 * Math.round(r10 / 360) : r10) : hE(isNaN(e30) ? t10 : e30);
}
function hM(e30) {
  return 1 == (e30 = +e30) ? hN : function(t10, r10) {
    return r10 - t10 ? hL(t10, r10, e30) : hE(isNaN(t10) ? r10 : t10);
  };
}
function hN(e30, t10) {
  var r10 = t10 - e30;
  return r10 ? hA(e30, r10) : hE(isNaN(e30) ? t10 : e30);
}
function hR(e30) {
  return function(t10, r10) {
    var n10 = e30((t10 = hT(t10)).h, (r10 = hT(r10)).h), i10 = hN(t10.c, r10.c), a10 = hN(t10.l, r10.l), s10 = hN(t10.opacity, r10.opacity);
    return function(e31) {
      return t10.h = n10(e31), t10.c = i10(e31), t10.l = a10(e31), t10.opacity = s10(e31), t10 + "";
    };
  };
}
iM(hA, "linear"), iM(hL, "exponential"), iM(hI, "hue"), iM(hM, "gamma"), iM(hN, "nogamma"), iM(hR, "hcl");
var hD = hR(hI);
function hO(e30, t10, r10, n10, i10) {
  var a10 = e30 * e30, s10 = a10 * e30;
  return ((1 - 3 * e30 + 3 * a10 - s10) * t10 + (4 - 6 * a10 + 3 * s10) * r10 + (1 + 3 * e30 + 3 * a10 - 3 * s10) * n10 + s10 * i10) / 6;
}
iM(hO, "basis"), iM(function(e30) {
  var t10 = e30.length - 1;
  return function(r10) {
    var n10 = r10 <= 0 ? r10 = 0 : r10 >= 1 ? (r10 = 1, t10 - 1) : Math.floor(r10 * t10), i10 = e30[n10], a10 = e30[n10 + 1], s10 = n10 > 0 ? e30[n10 - 1] : 2 * i10 - a10, o10 = n10 < t10 - 1 ? e30[n10 + 2] : 2 * a10 - i10;
    return hO((r10 - n10 / t10) * t10, s10, i10, a10, o10);
  };
}, "default"), iM(function(e30) {
  var t10 = e30.length;
  return function(r10) {
    var n10 = Math.floor(((r10 %= 1) < 0 ? ++r10 : r10) * t10), i10 = e30[(n10 + t10 - 1) % t10], a10 = e30[n10 % t10], s10 = e30[(n10 + 1) % t10], o10 = e30[(n10 + 2) % t10];
    return hO((r10 - n10 / t10) * t10, i10, a10, s10, o10);
  };
}, "default");
var h$ = iM(function e10(t10) {
  var r10 = hM(t10);
  function n10(e30, t11) {
    var n11 = r10((e30 = c5(e30)).r, (t11 = c5(t11)).r), i10 = r10(e30.g, t11.g), a10 = r10(e30.b, t11.b), s10 = hN(e30.opacity, t11.opacity);
    return function(t12) {
      return e30.r = n11(t12), e30.g = i10(t12), e30.b = a10(t12), e30.opacity = s10(t12), e30 + "";
    };
  }
  return iM(n10, "rgb"), n10.gamma = e10, n10;
}, "rgbGamma")(1);
function hP(e30, t10) {
  t10 || (t10 = []);
  var r10, n10 = e30 ? Math.min(t10.length, e30.length) : 0, i10 = t10.slice();
  return function(a10) {
    for (r10 = 0; r10 < n10; ++r10) i10[r10] = e30[r10] * (1 - a10) + t10[r10] * a10;
    return i10;
  };
}
function hB(e30) {
  return ArrayBuffer.isView(e30) && !(e30 instanceof DataView);
}
function hF(e30, t10) {
  var r10, n10 = t10 ? t10.length : 0, i10 = e30 ? Math.min(n10, e30.length) : 0, a10 = Array(i10), s10 = Array(n10);
  for (r10 = 0; r10 < i10; ++r10) a10[r10] = hG(e30[r10], t10[r10]);
  for (; r10 < n10; ++r10) s10[r10] = t10[r10];
  return function(e31) {
    for (r10 = 0; r10 < i10; ++r10) s10[r10] = a10[r10](e31);
    return s10;
  };
}
function hz(e30, t10) {
  var r10 = /* @__PURE__ */ new Date();
  return e30 = +e30, t10 = +t10, function(n10) {
    return r10.setTime(e30 * (1 - n10) + t10 * n10), r10;
  };
}
function hj(e30, t10) {
  return e30 = +e30, t10 = +t10, function(r10) {
    return e30 * (1 - r10) + t10 * r10;
  };
}
function hq(e30, t10) {
  var r10, n10 = {}, i10 = {};
  for (r10 in (null === e30 || "object" != typeof e30) && (e30 = {}), (null === t10 || "object" != typeof t10) && (t10 = {}), t10) r10 in e30 ? n10[r10] = hG(e30[r10], t10[r10]) : i10[r10] = t10[r10];
  return function(e31) {
    for (r10 in n10) i10[r10] = n10[r10](e31);
    return i10;
  };
}
iM(function(e30) {
  return function(t10) {
    var r10, n10, i10 = t10.length, a10 = Array(i10), s10 = Array(i10), o10 = Array(i10);
    for (r10 = 0; r10 < i10; ++r10) n10 = c5(t10[r10]), a10[r10] = n10.r || 0, s10[r10] = n10.g || 0, o10[r10] = n10.b || 0;
    return a10 = e30(a10), s10 = e30(s10), o10 = e30(o10), n10.opacity = 1, function(e31) {
      return n10.r = a10(e31), n10.g = s10(e31), n10.b = o10(e31), n10 + "";
    };
  };
}, "rgbSpline"), iM(hP, "default"), iM(hB, "isNumberArray"), iM(hF, "genericArray"), iM(hz, "default"), iM(hj, "default"), iM(hq, "default");
var hU = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, hW = RegExp(hU.source, "g");
function hV(e30) {
  return function() {
    return e30;
  };
}
function hH(e30) {
  return function(t10) {
    return e30(t10) + "";
  };
}
function hY(e30, t10) {
  var r10, n10, i10, a10 = hU.lastIndex = hW.lastIndex = 0, s10 = -1, o10 = [], l10 = [];
  for (e30 += "", t10 += ""; (r10 = hU.exec(e30)) && (n10 = hW.exec(t10)); ) (i10 = n10.index) > a10 && (i10 = t10.slice(a10, i10), o10[s10] ? o10[s10] += i10 : o10[++s10] = i10), (r10 = r10[0]) === (n10 = n10[0]) ? o10[s10] ? o10[s10] += n10 : o10[++s10] = n10 : (o10[++s10] = null, l10.push({ i: s10, x: hj(r10, n10) })), a10 = hW.lastIndex;
  return a10 < t10.length && (i10 = t10.slice(a10), o10[s10] ? o10[s10] += i10 : o10[++s10] = i10), o10.length < 2 ? l10[0] ? hH(l10[0].x) : hV(t10) : (t10 = l10.length, function(e31) {
    for (var r11, n11 = 0; n11 < t10; ++n11) o10[(r11 = l10[n11]).i] = r11.x(e31);
    return o10.join("");
  });
}
function hG(e30, t10) {
  var r10, n10 = typeof t10;
  return null == t10 || "boolean" === n10 ? hE(t10) : ("number" === n10 ? hj : "string" === n10 ? (r10 = c1(t10)) ? (t10 = r10, h$) : hY : t10 instanceof c1 ? h$ : t10 instanceof Date ? hz : hB(t10) ? hP : Array.isArray(t10) ? hF : "function" != typeof t10.valueOf && "function" != typeof t10.toString || isNaN(t10) ? hq : hj)(e30, t10);
}
function hX(e30, t10) {
  return e30 = +e30, t10 = +t10, function(r10) {
    return Math.round(e30 * (1 - r10) + t10 * r10);
  };
}
iM(hV, "zero"), iM(hH, "one"), iM(hY, "default"), iM(hG, "default"), iM(hX, "default");
var hK = 180 / Math.PI, hZ = { translateX: 0, translateY: 0, rotate: 0, skewX: 0, scaleX: 1, scaleY: 1 };
function hQ(e30, t10, r10, n10, i10, a10) {
  var s10, o10, l10;
  return (s10 = Math.sqrt(e30 * e30 + t10 * t10)) && (e30 /= s10, t10 /= s10), (l10 = e30 * r10 + t10 * n10) && (r10 -= e30 * l10, n10 -= t10 * l10), (o10 = Math.sqrt(r10 * r10 + n10 * n10)) && (r10 /= o10, n10 /= o10, l10 /= o10), e30 * n10 < t10 * r10 && (e30 = -e30, t10 = -t10, l10 = -l10, s10 = -s10), { translateX: i10, translateY: a10, rotate: Math.atan2(t10, e30) * hK, skewX: Math.atan(l10) * hK, scaleX: s10, scaleY: o10 };
}
function hJ(e30) {
  let t10 = new ("function" == typeof DOMMatrix ? DOMMatrix : WebKitCSSMatrix)(e30 + "");
  return t10.isIdentity ? hZ : hQ(t10.a, t10.b, t10.c, t10.d, t10.e, t10.f);
}
function h0(e30) {
  return null == e30 ? hZ : (tK || (tK = document.createElementNS("http://www.w3.org/2000/svg", "g")), tK.setAttribute("transform", e30), e30 = tK.transform.baseVal.consolidate()) ? hQ((e30 = e30.matrix).a, e30.b, e30.c, e30.d, e30.e, e30.f) : hZ;
}
function h1(e30, t10, r10, n10) {
  function i10(e31) {
    return e31.length ? e31.pop() + " " : "";
  }
  function a10(e31, n11, i11, a11, s11, o11) {
    if (e31 !== i11 || n11 !== a11) {
      var l11 = s11.push("translate(", null, t10, null, r10);
      o11.push({ i: l11 - 4, x: hj(e31, i11) }, { i: l11 - 2, x: hj(n11, a11) });
    } else (i11 || a11) && s11.push("translate(" + i11 + t10 + a11 + r10);
  }
  function s10(e31, t11, r11, a11) {
    e31 !== t11 ? (e31 - t11 > 180 ? t11 += 360 : t11 - e31 > 180 && (e31 += 360), a11.push({ i: r11.push(i10(r11) + "rotate(", null, n10) - 2, x: hj(e31, t11) })) : t11 && r11.push(i10(r11) + "rotate(" + t11 + n10);
  }
  function o10(e31, t11, r11, a11) {
    e31 !== t11 ? a11.push({ i: r11.push(i10(r11) + "skewX(", null, n10) - 2, x: hj(e31, t11) }) : t11 && r11.push(i10(r11) + "skewX(" + t11 + n10);
  }
  function l10(e31, t11, r11, n11, a11, s11) {
    if (e31 !== r11 || t11 !== n11) {
      var o11 = a11.push(i10(a11) + "scale(", null, ",", null, ")");
      s11.push({ i: o11 - 4, x: hj(e31, r11) }, { i: o11 - 2, x: hj(t11, n11) });
    } else (1 !== r11 || 1 !== n11) && a11.push(i10(a11) + "scale(" + r11 + "," + n11 + ")");
  }
  return iM(i10, "pop"), iM(a10, "translate"), iM(s10, "rotate"), iM(o10, "skewX"), iM(l10, "scale"), function(t11, r11) {
    var n11 = [], i11 = [];
    return t11 = e30(t11), r11 = e30(r11), a10(t11.translateX, t11.translateY, r11.translateX, r11.translateY, n11, i11), s10(t11.rotate, r11.rotate, n11, i11), o10(t11.skewX, r11.skewX, n11, i11), l10(t11.scaleX, t11.scaleY, r11.scaleX, r11.scaleY, n11, i11), t11 = r11 = null, function(e31) {
      for (var t12, r12 = -1, a11 = i11.length; ++r12 < a11; ) n11[(t12 = i11[r12]).i] = t12.x(e31);
      return n11.join("");
    };
  };
}
iM(hQ, "default"), iM(hJ, "parseCss"), iM(h0, "parseSvg"), iM(h1, "interpolateTransform");
var h2 = h1(hJ, "px, ", "px)", "deg)"), h4 = h1(h0, ", ", ")", ")");
function h3(e30, t10) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(e30);
      break;
    default:
      this.range(t10).domain(e30);
  }
  return this;
}
iM(h3, "initRange");
var h5 = Symbol("implicit");
function h6() {
  var e30 = new oO(), t10 = [], r10 = [], n10 = h5;
  function i10(i11) {
    let a10 = e30.get(i11);
    if (void 0 === a10) {
      if (n10 !== h5) return n10;
      e30.set(i11, a10 = t10.push(i11) - 1);
    }
    return r10[a10 % r10.length];
  }
  return iM(i10, "scale"), i10.domain = function(r11) {
    if (!arguments.length) return t10.slice();
    for (let n11 of (t10 = [], e30 = new oO(), r11)) e30.has(n11) || e30.set(n11, t10.push(n11) - 1);
    return i10;
  }, i10.range = function(e31) {
    return arguments.length ? (r10 = Array.from(e31), i10) : r10.slice();
  }, i10.unknown = function(e31) {
    return arguments.length ? (n10 = e31, i10) : n10;
  }, i10.copy = function() {
    return h6(t10, r10).unknown(n10);
  }, h3.apply(i10, arguments), i10;
}
function h7(e30) {
  return function() {
    return e30;
  };
}
function h8(e30) {
  return +e30;
}
iM(h6, "ordinal"), iM(h7, "constants"), iM(h8, "number");
var h9 = [0, 1];
function ue(e30) {
  return e30;
}
function ut(e30, t10) {
  return (t10 -= e30 = +e30) ? function(r10) {
    return (r10 - e30) / t10;
  } : h7(isNaN(t10) ? NaN : 0.5);
}
function ur(e30, t10) {
  var r10;
  return e30 > t10 && (r10 = e30, e30 = t10, t10 = r10), function(r11) {
    return Math.max(e30, Math.min(t10, r11));
  };
}
function un(e30, t10, r10) {
  var n10 = e30[0], i10 = e30[1], a10 = t10[0], s10 = t10[1];
  return i10 < n10 ? (n10 = ut(i10, n10), a10 = r10(s10, a10)) : (n10 = ut(n10, i10), a10 = r10(a10, s10)), function(e31) {
    return a10(n10(e31));
  };
}
function ui(e30, t10, r10) {
  var n10 = Math.min(e30.length, t10.length) - 1, i10 = Array(n10), a10 = Array(n10), s10 = -1;
  for (e30[n10] < e30[0] && (e30 = e30.slice().reverse(), t10 = t10.slice().reverse()); ++s10 < n10; ) i10[s10] = ut(e30[s10], e30[s10 + 1]), a10[s10] = r10(t10[s10], t10[s10 + 1]);
  return function(t11) {
    var r11 = oD(e30, t11, 1, n10) - 1;
    return a10[r11](i10[r11](t11));
  };
}
function ua(e30, t10) {
  return t10.domain(e30.domain()).range(e30.range()).interpolate(e30.interpolate()).clamp(e30.clamp()).unknown(e30.unknown());
}
function us() {
  var e30, t10, r10, n10, i10, a10, s10 = h9, o10 = h9, l10 = hG, h10 = ue;
  function u10() {
    var e31 = Math.min(s10.length, o10.length);
    return h10 !== ue && (h10 = ur(s10[0], s10[e31 - 1])), n10 = e31 > 2 ? ui : un, i10 = a10 = null, d10;
  }
  function d10(t11) {
    return null == t11 || isNaN(t11 = +t11) ? r10 : (i10 || (i10 = n10(s10.map(e30), o10, l10)))(e30(h10(t11)));
  }
  return iM(u10, "rescale"), iM(d10, "scale"), d10.invert = function(r11) {
    return h10(t10((a10 || (a10 = n10(o10, s10.map(e30), hj)))(r11)));
  }, d10.domain = function(e31) {
    return arguments.length ? (s10 = Array.from(e31, h8), u10()) : s10.slice();
  }, d10.range = function(e31) {
    return arguments.length ? (o10 = Array.from(e31), u10()) : o10.slice();
  }, d10.rangeRound = function(e31) {
    return o10 = Array.from(e31), l10 = hX, u10();
  }, d10.clamp = function(e31) {
    return arguments.length ? (h10 = !!e31 || ue, u10()) : h10 !== ue;
  }, d10.interpolate = function(e31) {
    return arguments.length ? (l10 = e31, u10()) : l10;
  }, d10.unknown = function(e31) {
    return arguments.length ? (r10 = e31, d10) : r10;
  }, function(r11, n11) {
    return e30 = r11, t10 = n11, u10();
  };
}
function uo() {
  return us()(ue, ue);
}
function ul(e30) {
  return Math.abs(e30 = Math.round(e30)) >= 1e21 ? e30.toLocaleString("en").replace(/,/g, "") : e30.toString(10);
}
function uc(e30, t10) {
  if ((r10 = (e30 = t10 ? e30.toExponential(t10 - 1) : e30.toExponential()).indexOf("e")) < 0) return null;
  var r10, n10 = e30.slice(0, r10);
  return [n10.length > 1 ? n10[0] + n10.slice(2) : n10, +e30.slice(r10 + 1)];
}
function uh(e30) {
  return (e30 = uc(Math.abs(e30))) ? e30[1] : NaN;
}
function uu(e30, t10) {
  return function(r10, n10) {
    for (var i10 = r10.length, a10 = [], s10 = 0, o10 = e30[0], l10 = 0; i10 > 0 && o10 > 0 && (l10 + o10 + 1 > n10 && (o10 = Math.max(1, n10 - l10)), a10.push(r10.substring(i10 -= o10, i10 + o10)), !((l10 += o10 + 1) > n10)); ) o10 = e30[s10 = (s10 + 1) % e30.length];
    return a10.reverse().join(t10);
  };
}
function ud(e30) {
  return function(t10) {
    return t10.replace(/[0-9]/g, function(t11) {
      return e30[+t11];
    });
  };
}
iM(ue, "identity"), iM(ut, "normalize"), iM(ur, "clamper"), iM(un, "bimap"), iM(ui, "polymap"), iM(ua, "copy"), iM(us, "transformer"), iM(uo, "continuous"), iM(ul, "default"), iM(uc, "formatDecimalParts"), iM(uh, "default"), iM(uu, "default"), iM(ud, "default");
var up = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function uf(e30) {
  var t10;
  if (!(t10 = up.exec(e30))) throw Error("invalid format: " + e30);
  return new ug({ fill: t10[1], align: t10[2], sign: t10[3], symbol: t10[4], zero: t10[5], width: t10[6], comma: t10[7], precision: t10[8] && t10[8].slice(1), trim: t10[9], type: t10[10] });
}
function ug(e30) {
  this.fill = void 0 === e30.fill ? " " : e30.fill + "", this.align = void 0 === e30.align ? ">" : e30.align + "", this.sign = void 0 === e30.sign ? "-" : e30.sign + "", this.symbol = void 0 === e30.symbol ? "" : e30.symbol + "", this.zero = !!e30.zero, this.width = void 0 === e30.width ? void 0 : +e30.width, this.comma = !!e30.comma, this.precision = void 0 === e30.precision ? void 0 : +e30.precision, this.trim = !!e30.trim, this.type = void 0 === e30.type ? "" : e30.type + "";
}
function um(e30) {
  e: for (var t10, r10 = e30.length, n10 = 1, i10 = -1; n10 < r10; ++n10) switch (e30[n10]) {
    case ".":
      i10 = t10 = n10;
      break;
    case "0":
      0 === i10 && (i10 = n10), t10 = n10;
      break;
    default:
      if (!+e30[n10]) break e;
      i10 > 0 && (i10 = 0);
  }
  return i10 > 0 ? e30.slice(0, i10) + e30.slice(t10 + 1) : e30;
}
function uy(e30, t10) {
  var r10 = uc(e30, t10);
  if (!r10) return e30 + "";
  var n10 = r10[0], i10 = r10[1], a10 = i10 - (tZ = 3 * Math.max(-8, Math.min(8, Math.floor(i10 / 3)))) + 1, s10 = n10.length;
  return a10 === s10 ? n10 : a10 > s10 ? n10 + Array(a10 - s10 + 1).join("0") : a10 > 0 ? n10.slice(0, a10) + "." + n10.slice(a10) : "0." + Array(1 - a10).join("0") + uc(e30, Math.max(0, t10 + a10 - 1))[0];
}
function uv(e30, t10) {
  var r10 = uc(e30, t10);
  if (!r10) return e30 + "";
  var n10 = r10[0], i10 = r10[1];
  return i10 < 0 ? "0." + Array(-i10).join("0") + n10 : n10.length > i10 + 1 ? n10.slice(0, i10 + 1) + "." + n10.slice(i10 + 1) : n10 + Array(i10 - n10.length + 2).join("0");
}
iM(uf, "formatSpecifier"), uf.prototype = ug.prototype, iM(ug, "FormatSpecifier"), ug.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (void 0 === this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (void 0 === this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type;
}, iM(um, "default"), iM(uy, "default"), iM(uv, "default");
var ux = { "%": iM((e30, t10) => (100 * e30).toFixed(t10), "%"), b: iM((e30) => Math.round(e30).toString(2), "b"), c: iM((e30) => e30 + "", "c"), d: ul, e: iM((e30, t10) => e30.toExponential(t10), "e"), f: iM((e30, t10) => e30.toFixed(t10), "f"), g: iM((e30, t10) => e30.toPrecision(t10), "g"), o: iM((e30) => Math.round(e30).toString(8), "o"), p: iM((e30, t10) => uv(100 * e30, t10), "p"), r: uv, s: uy, X: iM((e30) => Math.round(e30).toString(16).toUpperCase(), "X"), x: iM((e30) => Math.round(e30).toString(16), "x") };
function ub(e30) {
  return e30;
}
iM(ub, "default");
var uk = Array.prototype.map, uw = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function u_(e30) {
  var t10 = void 0 === e30.grouping || void 0 === e30.thousands ? ub : uu(uk.call(e30.grouping, Number), e30.thousands + ""), r10 = void 0 === e30.currency ? "" : e30.currency[0] + "", n10 = void 0 === e30.currency ? "" : e30.currency[1] + "", i10 = void 0 === e30.decimal ? "." : e30.decimal + "", a10 = void 0 === e30.numerals ? ub : ud(uk.call(e30.numerals, String)), s10 = void 0 === e30.percent ? "%" : e30.percent + "", o10 = void 0 === e30.minus ? "−" : e30.minus + "", l10 = void 0 === e30.nan ? "NaN" : e30.nan + "";
  function h10(e31) {
    var h11 = (e31 = uf(e31)).fill, u11 = e31.align, d10 = e31.sign, p10 = e31.symbol, f10 = e31.zero, g10 = e31.width, y10 = e31.comma, v10 = e31.precision, x10 = e31.trim, b10 = e31.type;
    "n" === b10 ? (y10 = true, b10 = "g") : ux[b10] || (void 0 === v10 && (v10 = 12), x10 = true, b10 = "g"), (f10 || "0" === h11 && "=" === u11) && (f10 = true, h11 = "0", u11 = "=");
    var k10 = "$" === p10 ? r10 : "#" === p10 && /[boxX]/.test(b10) ? "0" + b10.toLowerCase() : "", w10 = "$" === p10 ? n10 : /[%p]/.test(b10) ? s10 : "", _10 = ux[b10], T10 = /[defgprs%]/.test(b10);
    function S10(e32) {
      var r11, n11, s11, p11 = k10, S11 = w10;
      if ("c" === b10) S11 = _10(e32) + S11, e32 = "";
      else {
        var C10 = (e32 = +e32) < 0 || 1 / e32 < 0;
        if (e32 = isNaN(e32) ? l10 : _10(Math.abs(e32), v10), x10 && (e32 = um(e32)), C10 && 0 == +e32 && "+" !== d10 && (C10 = false), p11 = (C10 ? "(" === d10 ? d10 : o10 : "-" === d10 || "(" === d10 ? "" : d10) + p11, S11 = ("s" === b10 ? uw[8 + tZ / 3] : "") + S11 + (C10 && "(" === d10 ? ")" : ""), T10) {
          for (r11 = -1, n11 = e32.length; ++r11 < n11; ) if (48 > (s11 = e32.charCodeAt(r11)) || s11 > 57) {
            S11 = (46 === s11 ? i10 + e32.slice(r11 + 1) : e32.slice(r11)) + S11, e32 = e32.slice(0, r11);
            break;
          }
        }
      }
      y10 && !f10 && (e32 = t10(e32, 1 / 0));
      var E10 = p11.length + e32.length + S11.length, A10 = E10 < g10 ? Array(g10 - E10 + 1).join(h11) : "";
      switch (y10 && f10 && (e32 = t10(A10 + e32, A10.length ? g10 - S11.length : 1 / 0), A10 = ""), u11) {
        case "<":
          e32 = p11 + e32 + S11 + A10;
          break;
        case "=":
          e32 = p11 + A10 + e32 + S11;
          break;
        case "^":
          e32 = A10.slice(0, E10 = A10.length >> 1) + p11 + e32 + S11 + A10.slice(E10);
          break;
        default:
          e32 = A10 + p11 + e32 + S11;
      }
      return a10(e32);
    }
    return v10 = void 0 === v10 ? 6 : /[gprs]/.test(b10) ? Math.max(1, Math.min(21, v10)) : Math.max(0, Math.min(20, v10)), iM(S10, "format"), S10.toString = function() {
      return e31 + "";
    }, S10;
  }
  function u10(e31, t11) {
    var r11 = h10(((e31 = uf(e31)).type = "f", e31)), n11 = 3 * Math.max(-8, Math.min(8, Math.floor(uh(t11) / 3))), i11 = Math.pow(10, -n11), a11 = uw[8 + n11 / 3];
    return function(e32) {
      return r11(i11 * e32) + a11;
    };
  }
  return iM(h10, "newFormat"), iM(u10, "formatPrefix"), { format: h10, formatPrefix: u10 };
}
function uT(e30) {
  return tJ = (tQ = u_(e30)).format, t0 = tQ.formatPrefix, tQ;
}
function uS(e30) {
  return Math.max(0, -uh(Math.abs(e30)));
}
function uC(e30, t10) {
  return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(uh(t10) / 3))) - uh(Math.abs(e30)));
}
function uE(e30, t10) {
  return Math.max(0, uh(t10 = Math.abs(t10) - (e30 = Math.abs(e30))) - uh(e30)) + 1;
}
function uA(e30, t10, r10, n10) {
  var i10, a10 = oH(e30, t10, r10);
  switch ((n10 = uf(null == n10 ? ",f" : n10)).type) {
    case "s":
      var s10 = Math.max(Math.abs(e30), Math.abs(t10));
      return null != n10.precision || isNaN(i10 = uC(a10, s10)) || (n10.precision = i10), t0(n10, s10);
    case "":
    case "e":
    case "g":
    case "p":
    case "r":
      null != n10.precision || isNaN(i10 = uE(a10, Math.max(Math.abs(e30), Math.abs(t10)))) || (n10.precision = i10 - ("e" === n10.type));
      break;
    case "f":
    case "%":
      null != n10.precision || isNaN(i10 = uS(a10)) || (n10.precision = i10 - ("%" === n10.type) * 2);
  }
  return tJ(n10);
}
function uL(e30) {
  var t10 = e30.domain;
  return e30.ticks = function(e31) {
    var r10 = t10();
    return oW(r10[0], r10[r10.length - 1], null == e31 ? 10 : e31);
  }, e30.tickFormat = function(e31, r10) {
    var n10 = t10();
    return uA(n10[0], n10[n10.length - 1], null == e31 ? 10 : e31, r10);
  }, e30.nice = function(r10) {
    null == r10 && (r10 = 10);
    var n10, i10, a10 = t10(), s10 = 0, o10 = a10.length - 1, l10 = a10[s10], h10 = a10[o10], u10 = 10;
    for (h10 < l10 && (i10 = l10, l10 = h10, h10 = i10, i10 = s10, s10 = o10, o10 = i10); u10-- > 0; ) {
      if ((i10 = oV(l10, h10, r10)) === n10) return a10[s10] = l10, a10[o10] = h10, t10(a10);
      if (i10 > 0) l10 = Math.floor(l10 / i10) * i10, h10 = Math.ceil(h10 / i10) * i10;
      else if (i10 < 0) l10 = Math.ceil(l10 * i10) / i10, h10 = Math.floor(h10 * i10) / i10;
      else break;
      n10 = i10;
    }
    return e30;
  }, e30;
}
function uI() {
  var e30 = uo();
  return e30.copy = function() {
    return ua(e30, uI());
  }, h3.apply(e30, arguments), uL(e30);
}
iM(u_, "default"), uT({ thousands: ",", grouping: [3], currency: ["$", ""] }), iM(uT, "defaultLocale"), iM(uS, "default"), iM(uC, "default"), iM(uE, "default"), iM(uA, "tickFormat"), iM(uL, "linearish"), iM(uI, "linear");
var uM = /* @__PURE__ */ new Date(), uN = /* @__PURE__ */ new Date();
function uR(e30, t10, r10, n10) {
  function i10(t11) {
    return e30(t11 = 0 == arguments.length ? /* @__PURE__ */ new Date() : /* @__PURE__ */ new Date(+t11)), t11;
  }
  return iM(i10, "interval"), i10.floor = (t11) => (e30(t11 = /* @__PURE__ */ new Date(+t11)), t11), i10.ceil = (r11) => (e30(r11 = new Date(r11 - 1)), t10(r11, 1), e30(r11), r11), i10.round = (e31) => {
    let t11 = i10(e31), r11 = i10.ceil(e31);
    return e31 - t11 < r11 - e31 ? t11 : r11;
  }, i10.offset = (e31, r11) => (t10(e31 = /* @__PURE__ */ new Date(+e31), null == r11 ? 1 : Math.floor(r11)), e31), i10.range = (r11, n11, a10) => {
    let s10;
    let o10 = [];
    if (r11 = i10.ceil(r11), a10 = null == a10 ? 1 : Math.floor(a10), !(r11 < n11) || !(a10 > 0)) return o10;
    do
      o10.push(s10 = /* @__PURE__ */ new Date(+r11)), t10(r11, a10), e30(r11);
    while (s10 < r11 && r11 < n11);
    return o10;
  }, i10.filter = (r11) => uR((t11) => {
    if (t11 >= t11) for (; e30(t11), !r11(t11); ) t11.setTime(t11 - 1);
  }, (e31, n11) => {
    if (e31 >= e31) {
      if (n11 < 0) for (; ++n11 <= 0; ) for (; t10(e31, -1), !r11(e31); ) ;
      else for (; --n11 >= 0; ) for (; t10(e31, 1), !r11(e31); ) ;
    }
  }), r10 && (i10.count = (t11, n11) => (uM.setTime(+t11), uN.setTime(+n11), e30(uM), e30(uN), Math.floor(r10(uM, uN))), i10.every = (e31) => isFinite(e31 = Math.floor(e31)) && e31 > 0 ? e31 > 1 ? i10.filter(n10 ? (t11) => n10(t11) % e31 == 0 : (t11) => i10.count(0, t11) % e31 == 0) : i10 : null), i10;
}
iM(uR, "timeInterval");
var uD = uR(() => {
}, (e30, t10) => {
  e30.setTime(+e30 + t10);
}, (e30, t10) => t10 - e30);
uD.every = (e30) => isFinite(e30 = Math.floor(e30)) && e30 > 0 ? e30 > 1 ? uR((t10) => {
  t10.setTime(Math.floor(t10 / e30) * e30);
}, (t10, r10) => {
  t10.setTime(+t10 + r10 * e30);
}, (t10, r10) => (r10 - t10) / e30) : uD : null, uD.range;
var uO = uR((e30) => {
  e30.setTime(e30 - e30.getMilliseconds());
}, (e30, t10) => {
  e30.setTime(+e30 + 1e3 * t10);
}, (e30, t10) => (t10 - e30) / 1e3, (e30) => e30.getUTCSeconds());
uO.range;
var u$ = uR((e30) => {
  e30.setTime(e30 - e30.getMilliseconds() - 1e3 * e30.getSeconds());
}, (e30, t10) => {
  e30.setTime(+e30 + 6e4 * t10);
}, (e30, t10) => (t10 - e30) / 6e4, (e30) => e30.getMinutes());
u$.range;
var uP = uR((e30) => {
  e30.setUTCSeconds(0, 0);
}, (e30, t10) => {
  e30.setTime(+e30 + 6e4 * t10);
}, (e30, t10) => (t10 - e30) / 6e4, (e30) => e30.getUTCMinutes());
uP.range;
var uB = uR((e30) => {
  e30.setTime(e30 - e30.getMilliseconds() - 1e3 * e30.getSeconds() - 6e4 * e30.getMinutes());
}, (e30, t10) => {
  e30.setTime(+e30 + 36e5 * t10);
}, (e30, t10) => (t10 - e30) / 36e5, (e30) => e30.getHours());
uB.range;
var uF = uR((e30) => {
  e30.setUTCMinutes(0, 0, 0);
}, (e30, t10) => {
  e30.setTime(+e30 + 36e5 * t10);
}, (e30, t10) => (t10 - e30) / 36e5, (e30) => e30.getUTCHours());
uF.range;
var uz = uR((e30) => e30.setHours(0, 0, 0, 0), (e30, t10) => e30.setDate(e30.getDate() + t10), (e30, t10) => (t10 - e30 - (t10.getTimezoneOffset() - e30.getTimezoneOffset()) * 6e4) / 864e5, (e30) => e30.getDate() - 1);
uz.range;
var uj = uR((e30) => {
  e30.setUTCHours(0, 0, 0, 0);
}, (e30, t10) => {
  e30.setUTCDate(e30.getUTCDate() + t10);
}, (e30, t10) => (t10 - e30) / 864e5, (e30) => e30.getUTCDate() - 1);
uj.range;
var uq = uR((e30) => {
  e30.setUTCHours(0, 0, 0, 0);
}, (e30, t10) => {
  e30.setUTCDate(e30.getUTCDate() + t10);
}, (e30, t10) => (t10 - e30) / 864e5, (e30) => Math.floor(e30 / 864e5));
function uU(e30) {
  return uR((t10) => {
    t10.setDate(t10.getDate() - (t10.getDay() + 7 - e30) % 7), t10.setHours(0, 0, 0, 0);
  }, (e31, t10) => {
    e31.setDate(e31.getDate() + 7 * t10);
  }, (e31, t10) => (t10 - e31 - (t10.getTimezoneOffset() - e31.getTimezoneOffset()) * 6e4) / 6048e5);
}
uq.range, iM(uU, "timeWeekday");
var uW = uU(0), uV = uU(1), uH = uU(2), uY = uU(3), uG = uU(4), uX = uU(5), uK = uU(6);
function uZ(e30) {
  return uR((t10) => {
    t10.setUTCDate(t10.getUTCDate() - (t10.getUTCDay() + 7 - e30) % 7), t10.setUTCHours(0, 0, 0, 0);
  }, (e31, t10) => {
    e31.setUTCDate(e31.getUTCDate() + 7 * t10);
  }, (e31, t10) => (t10 - e31) / 6048e5);
}
uW.range, uV.range, uH.range, uY.range, uG.range, uX.range, uK.range, iM(uZ, "utcWeekday");
var uQ = uZ(0), uJ = uZ(1), u0 = uZ(2), u1 = uZ(3), u2 = uZ(4), u4 = uZ(5), u3 = uZ(6);
uQ.range, uJ.range, u0.range, u1.range, u2.range, u4.range, u3.range;
var u5 = uR((e30) => {
  e30.setDate(1), e30.setHours(0, 0, 0, 0);
}, (e30, t10) => {
  e30.setMonth(e30.getMonth() + t10);
}, (e30, t10) => t10.getMonth() - e30.getMonth() + (t10.getFullYear() - e30.getFullYear()) * 12, (e30) => e30.getMonth());
u5.range;
var u6 = uR((e30) => {
  e30.setUTCDate(1), e30.setUTCHours(0, 0, 0, 0);
}, (e30, t10) => {
  e30.setUTCMonth(e30.getUTCMonth() + t10);
}, (e30, t10) => t10.getUTCMonth() - e30.getUTCMonth() + (t10.getUTCFullYear() - e30.getUTCFullYear()) * 12, (e30) => e30.getUTCMonth());
u6.range;
var u7 = uR((e30) => {
  e30.setMonth(0, 1), e30.setHours(0, 0, 0, 0);
}, (e30, t10) => {
  e30.setFullYear(e30.getFullYear() + t10);
}, (e30, t10) => t10.getFullYear() - e30.getFullYear(), (e30) => e30.getFullYear());
u7.every = (e30) => isFinite(e30 = Math.floor(e30)) && e30 > 0 ? uR((t10) => {
  t10.setFullYear(Math.floor(t10.getFullYear() / e30) * e30), t10.setMonth(0, 1), t10.setHours(0, 0, 0, 0);
}, (t10, r10) => {
  t10.setFullYear(t10.getFullYear() + r10 * e30);
}) : null, u7.range;
var u8 = uR((e30) => {
  e30.setUTCMonth(0, 1), e30.setUTCHours(0, 0, 0, 0);
}, (e30, t10) => {
  e30.setUTCFullYear(e30.getUTCFullYear() + t10);
}, (e30, t10) => t10.getUTCFullYear() - e30.getUTCFullYear(), (e30) => e30.getUTCFullYear());
function u9(e30, t10, r10, n10, i10, a10) {
  let s10 = [[uO, 1, 1e3], [uO, 5, 5e3], [uO, 15, 15e3], [uO, 30, 3e4], [a10, 1, 6e4], [a10, 5, 3e5], [a10, 15, 9e5], [a10, 30, 18e5], [i10, 1, 36e5], [i10, 3, 108e5], [i10, 6, 216e5], [i10, 12, 432e5], [n10, 1, 864e5], [n10, 2, 1728e5], [r10, 1, 6048e5], [t10, 1, 2592e6], [t10, 3, 7776e6], [e30, 1, 31536e6]];
  function o10(e31, t11, r11) {
    let n11 = t11 < e31;
    n11 && ([e31, t11] = [t11, e31]);
    let i11 = r11 && "function" == typeof r11.range ? r11 : l10(e31, t11, r11), a11 = i11 ? i11.range(e31, +t11 + 1) : [];
    return n11 ? a11.reverse() : a11;
  }
  function l10(t11, r11, n11) {
    let i11 = Math.abs(r11 - t11) / n11, a11 = oI((e31) => {
      let [, , t12] = e31;
      return t12;
    }).right(s10, i11);
    if (a11 === s10.length) return e30.every(oH(t11 / 31536e6, r11 / 31536e6, n11));
    if (0 === a11) return uD.every(Math.max(oH(t11, r11, n11), 1));
    let [o11, l11] = s10[i11 / s10[a11 - 1][2] < s10[a11][2] / i11 ? a11 - 1 : a11];
    return o11.every(l11);
  }
  return iM(o10, "ticks"), iM(l10, "tickInterval"), [o10, l10];
}
u8.every = (e30) => isFinite(e30 = Math.floor(e30)) && e30 > 0 ? uR((t10) => {
  t10.setUTCFullYear(Math.floor(t10.getUTCFullYear() / e30) * e30), t10.setUTCMonth(0, 1), t10.setUTCHours(0, 0, 0, 0);
}, (t10, r10) => {
  t10.setUTCFullYear(t10.getUTCFullYear() + r10 * e30);
}) : null, u8.range, iM(u9, "ticker"), u9(u8, u6, uQ, uq, uF, uP);
var [de, dt] = u9(u7, u5, uW, uz, uB, u$);
function dr(e30) {
  if (0 <= e30.y && e30.y < 100) {
    var t10 = new Date(-1, e30.m, e30.d, e30.H, e30.M, e30.S, e30.L);
    return t10.setFullYear(e30.y), t10;
  }
  return new Date(e30.y, e30.m, e30.d, e30.H, e30.M, e30.S, e30.L);
}
function dn(e30) {
  if (0 <= e30.y && e30.y < 100) {
    var t10 = new Date(Date.UTC(-1, e30.m, e30.d, e30.H, e30.M, e30.S, e30.L));
    return t10.setUTCFullYear(e30.y), t10;
  }
  return new Date(Date.UTC(e30.y, e30.m, e30.d, e30.H, e30.M, e30.S, e30.L));
}
function di(e30, t10, r10) {
  return { y: e30, m: t10, d: r10, H: 0, M: 0, S: 0, L: 0 };
}
function da(e30) {
  var t10 = e30.dateTime, r10 = e30.date, n10 = e30.time, i10 = e30.periods, a10 = e30.days, s10 = e30.shortDays, o10 = e30.months, l10 = e30.shortMonths, h10 = dp(i10), u10 = df(i10), d10 = dp(a10), p10 = df(a10), f10 = dp(s10), g10 = df(s10), y10 = dp(o10), v10 = df(o10), x10 = dp(l10), b10 = df(l10), k10 = { a: O10, A: $10, b: P10, B: B10, c: null, d: dO, e: dO, f: dz, g: dZ, G: dJ, H: d$, I: dP, j: dB, L: dF, m: dj, M: dq, p: F10, q: z10, Q: pd, s: pp, S: dU, u: dW, U: dV, V: dY, w: dG, W: dX, x: null, X: null, y: dK, Y: dQ, Z: d0, "%": pu }, w10 = { a: j10, A: q10, b: U10, B: W10, c: null, d: d1, e: d1, f: d6, g: po, G: pc, H: d2, I: d4, j: d3, L: d5, m: d7, M: d8, p: V10, q: H10, Q: pd, s: pp, S: d9, u: pe, U: pt, V: pn, w: pi, W: pa, x: null, X: null, y: ps, Y: pl, Z: ph, "%": pu }, _10 = { a: A10, A: L10, b: I10, B: M10, c: N10, d: dS, e: dS, f: dM, g: dk, G: db, H: dE, I: dE, j: dC, L: dI, m: dT, M: dA, p: E10, q: d_, Q: dR, s: dD, S: dL, u: dm, U: dy, V: dv, w: dg, W: dx, x: R10, X: D10, y: dk, Y: db, Z: dw, "%": dN };
  function T10(e31, t11) {
    return function(r11) {
      var n11, i11, a11, s11 = [], o11 = -1, l11 = 0, h11 = e31.length;
      for (r11 instanceof Date || (r11 = /* @__PURE__ */ new Date(+r11)); ++o11 < h11; ) 37 === e31.charCodeAt(o11) && (s11.push(e31.slice(l11, o11)), null != (i11 = ds[n11 = e31.charAt(++o11)]) ? n11 = e31.charAt(++o11) : i11 = "e" === n11 ? " " : "0", (a11 = t11[n11]) && (n11 = a11(r11, i11)), s11.push(n11), l11 = o11 + 1);
      return s11.push(e31.slice(l11, o11)), s11.join("");
    };
  }
  function S10(e31, t11) {
    return function(r11) {
      var n11, i11, a11 = di(1900, void 0, 1);
      if (C10(a11, e31, r11 += "", 0) != r11.length) return null;
      if ("Q" in a11) return new Date(a11.Q);
      if ("s" in a11) return new Date(1e3 * a11.s + ("L" in a11 ? a11.L : 0));
      if (!t11 || "Z" in a11 || (a11.Z = 0), "p" in a11 && (a11.H = a11.H % 12 + 12 * a11.p), void 0 === a11.m && (a11.m = "q" in a11 ? a11.q : 0), "V" in a11) {
        if (a11.V < 1 || a11.V > 53) return null;
        "w" in a11 || (a11.w = 1), "Z" in a11 ? (n11 = (i11 = (n11 = dn(di(a11.y, 0, 1))).getUTCDay()) > 4 || 0 === i11 ? uJ.ceil(n11) : uJ(n11), n11 = uj.offset(n11, (a11.V - 1) * 7), a11.y = n11.getUTCFullYear(), a11.m = n11.getUTCMonth(), a11.d = n11.getUTCDate() + (a11.w + 6) % 7) : (n11 = (i11 = (n11 = dr(di(a11.y, 0, 1))).getDay()) > 4 || 0 === i11 ? uV.ceil(n11) : uV(n11), n11 = uz.offset(n11, (a11.V - 1) * 7), a11.y = n11.getFullYear(), a11.m = n11.getMonth(), a11.d = n11.getDate() + (a11.w + 6) % 7);
      } else ("W" in a11 || "U" in a11) && ("w" in a11 || (a11.w = "u" in a11 ? a11.u % 7 : "W" in a11 ? 1 : 0), i11 = "Z" in a11 ? dn(di(a11.y, 0, 1)).getUTCDay() : dr(di(a11.y, 0, 1)).getDay(), a11.m = 0, a11.d = "W" in a11 ? (a11.w + 6) % 7 + 7 * a11.W - (i11 + 5) % 7 : a11.w + 7 * a11.U - (i11 + 6) % 7);
      return "Z" in a11 ? (a11.H += a11.Z / 100 | 0, a11.M += a11.Z % 100, dn(a11)) : dr(a11);
    };
  }
  function C10(e31, t11, r11, n11) {
    for (var i11, a11, s11 = 0, o11 = t11.length, l11 = r11.length; s11 < o11; ) {
      if (n11 >= l11) return -1;
      if (37 === (i11 = t11.charCodeAt(s11++))) {
        if (!(a11 = _10[(i11 = t11.charAt(s11++)) in ds ? t11.charAt(s11++) : i11]) || (n11 = a11(e31, r11, n11)) < 0) return -1;
      } else if (i11 != r11.charCodeAt(n11++)) return -1;
    }
    return n11;
  }
  function E10(e31, t11, r11) {
    var n11 = h10.exec(t11.slice(r11));
    return n11 ? (e31.p = u10.get(n11[0].toLowerCase()), r11 + n11[0].length) : -1;
  }
  function A10(e31, t11, r11) {
    var n11 = f10.exec(t11.slice(r11));
    return n11 ? (e31.w = g10.get(n11[0].toLowerCase()), r11 + n11[0].length) : -1;
  }
  function L10(e31, t11, r11) {
    var n11 = d10.exec(t11.slice(r11));
    return n11 ? (e31.w = p10.get(n11[0].toLowerCase()), r11 + n11[0].length) : -1;
  }
  function I10(e31, t11, r11) {
    var n11 = x10.exec(t11.slice(r11));
    return n11 ? (e31.m = b10.get(n11[0].toLowerCase()), r11 + n11[0].length) : -1;
  }
  function M10(e31, t11, r11) {
    var n11 = y10.exec(t11.slice(r11));
    return n11 ? (e31.m = v10.get(n11[0].toLowerCase()), r11 + n11[0].length) : -1;
  }
  function N10(e31, r11, n11) {
    return C10(e31, t10, r11, n11);
  }
  function R10(e31, t11, n11) {
    return C10(e31, r10, t11, n11);
  }
  function D10(e31, t11, r11) {
    return C10(e31, n10, t11, r11);
  }
  function O10(e31) {
    return s10[e31.getDay()];
  }
  function $10(e31) {
    return a10[e31.getDay()];
  }
  function P10(e31) {
    return l10[e31.getMonth()];
  }
  function B10(e31) {
    return o10[e31.getMonth()];
  }
  function F10(e31) {
    return i10[+(e31.getHours() >= 12)];
  }
  function z10(e31) {
    return 1 + ~~(e31.getMonth() / 3);
  }
  function j10(e31) {
    return s10[e31.getUTCDay()];
  }
  function q10(e31) {
    return a10[e31.getUTCDay()];
  }
  function U10(e31) {
    return l10[e31.getUTCMonth()];
  }
  function W10(e31) {
    return o10[e31.getUTCMonth()];
  }
  function V10(e31) {
    return i10[+(e31.getUTCHours() >= 12)];
  }
  function H10(e31) {
    return 1 + ~~(e31.getUTCMonth() / 3);
  }
  return k10.x = T10(r10, k10), k10.X = T10(n10, k10), k10.c = T10(t10, k10), w10.x = T10(r10, w10), w10.X = T10(n10, w10), w10.c = T10(t10, w10), iM(T10, "newFormat"), iM(S10, "newParse"), iM(C10, "parseSpecifier"), iM(E10, "parsePeriod"), iM(A10, "parseShortWeekday"), iM(L10, "parseWeekday"), iM(I10, "parseShortMonth"), iM(M10, "parseMonth"), iM(N10, "parseLocaleDateTime"), iM(R10, "parseLocaleDate"), iM(D10, "parseLocaleTime"), iM(O10, "formatShortWeekday"), iM($10, "formatWeekday"), iM(P10, "formatShortMonth"), iM(B10, "formatMonth"), iM(F10, "formatPeriod"), iM(z10, "formatQuarter"), iM(j10, "formatUTCShortWeekday"), iM(q10, "formatUTCWeekday"), iM(U10, "formatUTCShortMonth"), iM(W10, "formatUTCMonth"), iM(V10, "formatUTCPeriod"), iM(H10, "formatUTCQuarter"), { format: iM(function(e31) {
    var t11 = T10(e31 += "", k10);
    return t11.toString = function() {
      return e31;
    }, t11;
  }, "format"), parse: iM(function(e31) {
    var t11 = S10(e31 += "", false);
    return t11.toString = function() {
      return e31;
    }, t11;
  }, "parse"), utcFormat: iM(function(e31) {
    var t11 = T10(e31 += "", w10);
    return t11.toString = function() {
      return e31;
    }, t11;
  }, "utcFormat"), utcParse: iM(function(e31) {
    var t11 = S10(e31 += "", true);
    return t11.toString = function() {
      return e31;
    }, t11;
  }, "utcParse") };
}
iM(dr, "localDate"), iM(dn, "utcDate"), iM(di, "newDate"), iM(da, "formatLocale");
var ds = { "-": "", _: " ", 0: "0" }, dl = /^\s*\d+/, dc = /^%/, dh = /[\\^$*+?|[\]().{}]/g;
function du(e30, t10, r10) {
  var n10 = e30 < 0 ? "-" : "", i10 = (n10 ? -e30 : e30) + "", a10 = i10.length;
  return n10 + (a10 < r10 ? Array(r10 - a10 + 1).join(t10) + i10 : i10);
}
function dd(e30) {
  return e30.replace(dh, "\\$&");
}
function dp(e30) {
  return RegExp("^(?:" + e30.map(dd).join("|") + ")", "i");
}
function df(e30) {
  return new Map(e30.map((e31, t10) => [e31.toLowerCase(), t10]));
}
function dg(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 1));
  return n10 ? (e30.w = +n10[0], r10 + n10[0].length) : -1;
}
function dm(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 1));
  return n10 ? (e30.u = +n10[0], r10 + n10[0].length) : -1;
}
function dy(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.U = +n10[0], r10 + n10[0].length) : -1;
}
function dv(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.V = +n10[0], r10 + n10[0].length) : -1;
}
function dx(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.W = +n10[0], r10 + n10[0].length) : -1;
}
function db(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 4));
  return n10 ? (e30.y = +n10[0], r10 + n10[0].length) : -1;
}
function dk(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.y = +n10[0] + (+n10[0] > 68 ? 1900 : 2e3), r10 + n10[0].length) : -1;
}
function dw(e30, t10, r10) {
  var n10 = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t10.slice(r10, r10 + 6));
  return n10 ? (e30.Z = n10[1] ? 0 : -(n10[2] + (n10[3] || "00")), r10 + n10[0].length) : -1;
}
function d_(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 1));
  return n10 ? (e30.q = 3 * n10[0] - 3, r10 + n10[0].length) : -1;
}
function dT(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.m = n10[0] - 1, r10 + n10[0].length) : -1;
}
function dS(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.d = +n10[0], r10 + n10[0].length) : -1;
}
function dC(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 3));
  return n10 ? (e30.m = 0, e30.d = +n10[0], r10 + n10[0].length) : -1;
}
function dE(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.H = +n10[0], r10 + n10[0].length) : -1;
}
function dA(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.M = +n10[0], r10 + n10[0].length) : -1;
}
function dL(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 2));
  return n10 ? (e30.S = +n10[0], r10 + n10[0].length) : -1;
}
function dI(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 3));
  return n10 ? (e30.L = +n10[0], r10 + n10[0].length) : -1;
}
function dM(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10, r10 + 6));
  return n10 ? (e30.L = Math.floor(n10[0] / 1e3), r10 + n10[0].length) : -1;
}
function dN(e30, t10, r10) {
  var n10 = dc.exec(t10.slice(r10, r10 + 1));
  return n10 ? r10 + n10[0].length : -1;
}
function dR(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10));
  return n10 ? (e30.Q = +n10[0], r10 + n10[0].length) : -1;
}
function dD(e30, t10, r10) {
  var n10 = dl.exec(t10.slice(r10));
  return n10 ? (e30.s = +n10[0], r10 + n10[0].length) : -1;
}
function dO(e30, t10) {
  return du(e30.getDate(), t10, 2);
}
function d$(e30, t10) {
  return du(e30.getHours(), t10, 2);
}
function dP(e30, t10) {
  return du(e30.getHours() % 12 || 12, t10, 2);
}
function dB(e30, t10) {
  return du(1 + uz.count(u7(e30), e30), t10, 3);
}
function dF(e30, t10) {
  return du(e30.getMilliseconds(), t10, 3);
}
function dz(e30, t10) {
  return dF(e30, t10) + "000";
}
function dj(e30, t10) {
  return du(e30.getMonth() + 1, t10, 2);
}
function dq(e30, t10) {
  return du(e30.getMinutes(), t10, 2);
}
function dU(e30, t10) {
  return du(e30.getSeconds(), t10, 2);
}
function dW(e30) {
  var t10 = e30.getDay();
  return 0 === t10 ? 7 : t10;
}
function dV(e30, t10) {
  return du(uW.count(u7(e30) - 1, e30), t10, 2);
}
function dH(e30) {
  var t10 = e30.getDay();
  return t10 >= 4 || 0 === t10 ? uG(e30) : uG.ceil(e30);
}
function dY(e30, t10) {
  return e30 = dH(e30), du(uG.count(u7(e30), e30) + (4 === u7(e30).getDay()), t10, 2);
}
function dG(e30) {
  return e30.getDay();
}
function dX(e30, t10) {
  return du(uV.count(u7(e30) - 1, e30), t10, 2);
}
function dK(e30, t10) {
  return du(e30.getFullYear() % 100, t10, 2);
}
function dZ(e30, t10) {
  return du((e30 = dH(e30)).getFullYear() % 100, t10, 2);
}
function dQ(e30, t10) {
  return du(e30.getFullYear() % 1e4, t10, 4);
}
function dJ(e30, t10) {
  var r10 = e30.getDay();
  return du((e30 = r10 >= 4 || 0 === r10 ? uG(e30) : uG.ceil(e30)).getFullYear() % 1e4, t10, 4);
}
function d0(e30) {
  var t10 = e30.getTimezoneOffset();
  return (t10 > 0 ? "-" : (t10 *= -1, "+")) + du(t10 / 60 | 0, "0", 2) + du(t10 % 60, "0", 2);
}
function d1(e30, t10) {
  return du(e30.getUTCDate(), t10, 2);
}
function d2(e30, t10) {
  return du(e30.getUTCHours(), t10, 2);
}
function d4(e30, t10) {
  return du(e30.getUTCHours() % 12 || 12, t10, 2);
}
function d3(e30, t10) {
  return du(1 + uj.count(u8(e30), e30), t10, 3);
}
function d5(e30, t10) {
  return du(e30.getUTCMilliseconds(), t10, 3);
}
function d6(e30, t10) {
  return d5(e30, t10) + "000";
}
function d7(e30, t10) {
  return du(e30.getUTCMonth() + 1, t10, 2);
}
function d8(e30, t10) {
  return du(e30.getUTCMinutes(), t10, 2);
}
function d9(e30, t10) {
  return du(e30.getUTCSeconds(), t10, 2);
}
function pe(e30) {
  var t10 = e30.getUTCDay();
  return 0 === t10 ? 7 : t10;
}
function pt(e30, t10) {
  return du(uQ.count(u8(e30) - 1, e30), t10, 2);
}
function pr(e30) {
  var t10 = e30.getUTCDay();
  return t10 >= 4 || 0 === t10 ? u2(e30) : u2.ceil(e30);
}
function pn(e30, t10) {
  return e30 = pr(e30), du(u2.count(u8(e30), e30) + (4 === u8(e30).getUTCDay()), t10, 2);
}
function pi(e30) {
  return e30.getUTCDay();
}
function pa(e30, t10) {
  return du(uJ.count(u8(e30) - 1, e30), t10, 2);
}
function ps(e30, t10) {
  return du(e30.getUTCFullYear() % 100, t10, 2);
}
function po(e30, t10) {
  return du((e30 = pr(e30)).getUTCFullYear() % 100, t10, 2);
}
function pl(e30, t10) {
  return du(e30.getUTCFullYear() % 1e4, t10, 4);
}
function pc(e30, t10) {
  var r10 = e30.getUTCDay();
  return du((e30 = r10 >= 4 || 0 === r10 ? u2(e30) : u2.ceil(e30)).getUTCFullYear() % 1e4, t10, 4);
}
function ph() {
  return "+0000";
}
function pu() {
  return "%";
}
function pd(e30) {
  return +e30;
}
function pp(e30) {
  return Math.floor(+e30 / 1e3);
}
function pf(e30) {
  return t2 = (t1 = da(e30)).format, t1.parse, t1.utcFormat, t1.utcParse, t1;
}
function pg(e30, t10) {
  e30 = e30.slice();
  var r10, n10 = 0, i10 = e30.length - 1, a10 = e30[n10], s10 = e30[i10];
  return s10 < a10 && (r10 = n10, n10 = i10, i10 = r10, r10 = a10, a10 = s10, s10 = r10), e30[n10] = t10.floor(a10), e30[i10] = t10.ceil(s10), e30;
}
function pm(e30) {
  return new Date(e30);
}
function py(e30) {
  return e30 instanceof Date ? +e30 : +/* @__PURE__ */ new Date(+e30);
}
function pv(e30, t10, r10, n10, i10, a10, s10, o10, l10, h10) {
  var u10 = uo(), d10 = u10.invert, p10 = u10.domain, f10 = h10(".%L"), g10 = h10(":%S"), y10 = h10("%I:%M"), v10 = h10("%I %p"), x10 = h10("%a %d"), b10 = h10("%b %d"), k10 = h10("%B"), w10 = h10("%Y");
  function _10(e31) {
    return (l10(e31) < e31 ? f10 : o10(e31) < e31 ? g10 : s10(e31) < e31 ? y10 : a10(e31) < e31 ? v10 : n10(e31) < e31 ? i10(e31) < e31 ? x10 : b10 : r10(e31) < e31 ? k10 : w10)(e31);
  }
  return iM(_10, "tickFormat"), u10.invert = function(e31) {
    return new Date(d10(e31));
  }, u10.domain = function(e31) {
    return arguments.length ? p10(Array.from(e31, py)) : p10().map(pm);
  }, u10.ticks = function(t11) {
    var r11 = p10();
    return e30(r11[0], r11[r11.length - 1], null == t11 ? 10 : t11);
  }, u10.tickFormat = function(e31, t11) {
    return null == t11 ? _10 : h10(t11);
  }, u10.nice = function(e31) {
    var r11 = p10();
    return e31 && "function" == typeof e31.range || (e31 = t10(r11[0], r11[r11.length - 1], null == e31 ? 10 : e31)), e31 ? p10(pg(r11, e31)) : u10;
  }, u10.copy = function() {
    return ua(u10, pv(e30, t10, r10, n10, i10, a10, s10, o10, l10, h10));
  }, u10;
}
function px() {
  return h3.apply(pv(de, dt, u7, u5, uW, uz, uB, u$, uO, t2).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
}
function pb() {
  var e30, t10, r10 = h6().unknown(void 0), n10 = r10.domain, i10 = r10.range, a10 = 0, s10 = 1, o10 = false, l10 = 0, h10 = 0, u10 = 0.5;
  function d10() {
    var r11 = n10().length, d11 = s10 < a10, p10 = d11 ? s10 : a10, f10 = d11 ? a10 : s10;
    e30 = (f10 - p10) / Math.max(1, r11 - l10 + 2 * h10), o10 && (e30 = Math.floor(e30)), p10 += (f10 - p10 - e30 * (r11 - l10)) * u10, t10 = e30 * (1 - l10), o10 && (p10 = Math.round(p10), t10 = Math.round(t10));
    var g10 = oY(r11).map(function(t11) {
      return p10 + e30 * t11;
    });
    return i10(d11 ? g10.reverse() : g10);
  }
  return delete r10.unknown, iM(d10, "rescale"), r10.domain = function(e31) {
    return arguments.length ? (n10(e31), d10()) : n10();
  }, r10.range = function(e31) {
    return arguments.length ? ([a10, s10] = e31, a10 = +a10, s10 = +s10, d10()) : [a10, s10];
  }, r10.rangeRound = function(e31) {
    return [a10, s10] = e31, a10 = +a10, s10 = +s10, o10 = true, d10();
  }, r10.bandwidth = function() {
    return t10;
  }, r10.step = function() {
    return e30;
  }, r10.round = function(e31) {
    return arguments.length ? (o10 = !!e31, d10()) : o10;
  }, r10.padding = function(e31) {
    return arguments.length ? (l10 = Math.min(1, h10 = +e31), d10()) : l10;
  }, r10.paddingInner = function(e31) {
    return arguments.length ? (l10 = Math.min(1, e31), d10()) : l10;
  }, r10.paddingOuter = function(e31) {
    return arguments.length ? (h10 = +e31, d10()) : h10;
  }, r10.align = function(e31) {
    return arguments.length ? (u10 = Math.max(0, Math.min(1, e31)), d10()) : u10;
  }, r10.copy = function() {
    return pb(n10(), [a10, s10]).round(o10).paddingInner(l10).paddingOuter(h10).align(u10);
  }, h3.apply(d10(), arguments);
}
function pk(e30) {
  for (var t10 = e30.length / 6 | 0, r10 = Array(t10), n10 = 0; n10 < t10; ) r10[n10] = "#" + e30.slice(6 * n10, 6 * ++n10);
  return r10;
}
iM(du, "pad"), iM(dd, "requote"), iM(dp, "formatRe"), iM(df, "formatLookup"), iM(dg, "parseWeekdayNumberSunday"), iM(dm, "parseWeekdayNumberMonday"), iM(dy, "parseWeekNumberSunday"), iM(dv, "parseWeekNumberISO"), iM(dx, "parseWeekNumberMonday"), iM(db, "parseFullYear"), iM(dk, "parseYear"), iM(dw, "parseZone"), iM(d_, "parseQuarter"), iM(dT, "parseMonthNumber"), iM(dS, "parseDayOfMonth"), iM(dC, "parseDayOfYear"), iM(dE, "parseHour24"), iM(dA, "parseMinutes"), iM(dL, "parseSeconds"), iM(dI, "parseMilliseconds"), iM(dM, "parseMicroseconds"), iM(dN, "parseLiteralPercent"), iM(dR, "parseUnixTimestamp"), iM(dD, "parseUnixTimestampSeconds"), iM(dO, "formatDayOfMonth"), iM(d$, "formatHour24"), iM(dP, "formatHour12"), iM(dB, "formatDayOfYear"), iM(dF, "formatMilliseconds"), iM(dz, "formatMicroseconds"), iM(dj, "formatMonthNumber"), iM(dq, "formatMinutes"), iM(dU, "formatSeconds"), iM(dW, "formatWeekdayNumberMonday"), iM(dV, "formatWeekNumberSunday"), iM(dH, "dISO"), iM(dY, "formatWeekNumberISO"), iM(dG, "formatWeekdayNumberSunday"), iM(dX, "formatWeekNumberMonday"), iM(dK, "formatYear"), iM(dZ, "formatYearISO"), iM(dQ, "formatFullYear"), iM(dJ, "formatFullYearISO"), iM(d0, "formatZone"), iM(d1, "formatUTCDayOfMonth"), iM(d2, "formatUTCHour24"), iM(d4, "formatUTCHour12"), iM(d3, "formatUTCDayOfYear"), iM(d5, "formatUTCMilliseconds"), iM(d6, "formatUTCMicroseconds"), iM(d7, "formatUTCMonthNumber"), iM(d8, "formatUTCMinutes"), iM(d9, "formatUTCSeconds"), iM(pe, "formatUTCWeekdayNumberMonday"), iM(pt, "formatUTCWeekNumberSunday"), iM(pr, "UTCdISO"), iM(pn, "formatUTCWeekNumberISO"), iM(pi, "formatUTCWeekdayNumberSunday"), iM(pa, "formatUTCWeekNumberMonday"), iM(ps, "formatUTCYear"), iM(po, "formatUTCYearISO"), iM(pl, "formatUTCFullYear"), iM(pc, "formatUTCFullYearISO"), iM(ph, "formatUTCZone"), iM(pu, "formatLiteralPercent"), iM(pd, "formatUnixTimestamp"), iM(pp, "formatUnixTimestampSeconds"), pf({ dateTime: "%x, %X", date: "%-m/%-d/%Y", time: "%-I:%M:%S %p", periods: ["AM", "PM"], days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }), iM(pf, "defaultLocale"), iM(pg, "nice"), iM(pm, "date"), iM(py, "number"), iM(pv, "calendar"), iM(px, "time"), iM(pb, "band"), iM(pk, "default");
var pw = pk("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");
function p_(e30) {
  return iM(function() {
    return e30;
  }, "constant");
}
iM(p_, "default");
var pT = Math.abs, pS = Math.atan2, pC = Math.cos, pE = Math.max, pA = Math.min, pL = Math.sin, pI = Math.sqrt, pM = Math.PI, pN = pM / 2, pR = 2 * pM;
function pD(e30) {
  return e30 > 1 ? 0 : e30 < -1 ? pM : Math.acos(e30);
}
function pO(e30) {
  return e30 >= 1 ? pN : e30 <= -1 ? -pN : Math.asin(e30);
}
iM(pD, "acos"), iM(pO, "asin");
var p$ = Math.PI, pP = 2 * p$, pB = pP - 1e-6;
function pF(e30) {
  this._ += e30[0];
  for (let t10 = 1, r10 = e30.length; t10 < r10; ++t10) this._ += arguments[t10] + e30[t10];
}
function pz(e30) {
  let t10 = Math.floor(e30);
  if (!(t10 >= 0)) throw Error(`invalid digits: ${e30}`);
  if (t10 > 15) return pF;
  let r10 = 10 ** t10;
  return function(e31) {
    this._ += e31[0];
    for (let t11 = 1, n10 = e31.length; t11 < n10; ++t11) this._ += Math.round(arguments[t11] * r10) / r10 + e31[t11];
  };
}
iM(pF, "append"), iM(pz, "appendRound");
var pj = (_k2 = class {
  constructor(e30) {
    this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "", this._append = null == e30 ? pF : pz(e30);
  }
  moveTo(e30, t10) {
    this._append`M${this._x0 = this._x1 = +e30},${this._y0 = this._y1 = +t10}`;
  }
  closePath() {
    null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._append`Z`);
  }
  lineTo(e30, t10) {
    this._append`L${this._x1 = +e30},${this._y1 = +t10}`;
  }
  quadraticCurveTo(e30, t10, r10, n10) {
    this._append`Q${+e30},${+t10},${this._x1 = +r10},${this._y1 = +n10}`;
  }
  bezierCurveTo(e30, t10, r10, n10, i10, a10) {
    this._append`C${+e30},${+t10},${+r10},${+n10},${this._x1 = +i10},${this._y1 = +a10}`;
  }
  arcTo(e30, t10, r10, n10, i10) {
    if (e30 = +e30, t10 = +t10, r10 = +r10, n10 = +n10, (i10 = +i10) < 0) throw Error(`negative radius: ${i10}`);
    let a10 = this._x1, s10 = this._y1, o10 = r10 - e30, l10 = n10 - t10, h10 = a10 - e30, u10 = s10 - t10, d10 = h10 * h10 + u10 * u10;
    if (null === this._x1) this._append`M${this._x1 = e30},${this._y1 = t10}`;
    else if (d10 > 1e-6) {
      if (Math.abs(u10 * o10 - l10 * h10) > 1e-6 && i10) {
        let p10 = r10 - a10, f10 = n10 - s10, g10 = o10 * o10 + l10 * l10, y10 = Math.sqrt(g10), v10 = Math.sqrt(d10), x10 = i10 * Math.tan((p$ - Math.acos((g10 + d10 - (p10 * p10 + f10 * f10)) / (2 * y10 * v10))) / 2), b10 = x10 / v10, k10 = x10 / y10;
        Math.abs(b10 - 1) > 1e-6 && this._append`L${e30 + b10 * h10},${t10 + b10 * u10}`, this._append`A${i10},${i10},0,0,${+(u10 * p10 > h10 * f10)},${this._x1 = e30 + k10 * o10},${this._y1 = t10 + k10 * l10}`;
      } else this._append`L${this._x1 = e30},${this._y1 = t10}`;
    }
  }
  arc(e30, t10, r10, n10, i10, a10) {
    if (e30 = +e30, t10 = +t10, a10 = !!a10, (r10 = +r10) < 0) throw Error(`negative radius: ${r10}`);
    let s10 = r10 * Math.cos(n10), o10 = r10 * Math.sin(n10), l10 = e30 + s10, h10 = t10 + o10, u10 = 1 ^ a10, d10 = a10 ? n10 - i10 : i10 - n10;
    null === this._x1 ? this._append`M${l10},${h10}` : (Math.abs(this._x1 - l10) > 1e-6 || Math.abs(this._y1 - h10) > 1e-6) && this._append`L${l10},${h10}`, r10 && (d10 < 0 && (d10 = d10 % pP + pP), d10 > pB ? this._append`A${r10},${r10},0,1,${u10},${e30 - s10},${t10 - o10}A${r10},${r10},0,1,${u10},${this._x1 = l10},${this._y1 = h10}` : d10 > 1e-6 && this._append`A${r10},${r10},0,${+(d10 >= p$)},${u10},${this._x1 = e30 + r10 * Math.cos(i10)},${this._y1 = t10 + r10 * Math.sin(i10)}`);
  }
  rect(e30, t10, r10, n10) {
    this._append`M${this._x0 = this._x1 = +e30},${this._y0 = this._y1 = +t10}h${r10 = +r10}v${+n10}h${-r10}Z`;
  }
  toString() {
    return this._;
  }
}, _i13 = new WeakMap(), __privateAdd(_k2, _i13, iM(_k2, "Path")), _k2);
function pq() {
  return new pj();
}
function pU(e30) {
  let t10 = 3;
  return e30.digits = function(r10) {
    if (!arguments.length) return t10;
    if (null == r10) t10 = null;
    else {
      let e31 = Math.floor(r10);
      if (!(e31 >= 0)) throw RangeError(`invalid digits: ${r10}`);
      t10 = e31;
    }
    return e30;
  }, () => new pj(t10);
}
function pW(e30) {
  return e30.innerRadius;
}
function pV(e30) {
  return e30.outerRadius;
}
function pH(e30) {
  return e30.startAngle;
}
function pY(e30) {
  return e30.endAngle;
}
function pG(e30) {
  return e30 && e30.padAngle;
}
function pX(e30, t10, r10, n10, i10, a10, s10, o10) {
  var l10 = r10 - e30, h10 = n10 - t10, u10 = s10 - i10, d10 = o10 - a10, p10 = d10 * l10 - u10 * h10;
  if (!(p10 * p10 < 1e-12)) return p10 = (u10 * (t10 - a10) - d10 * (e30 - i10)) / p10, [e30 + p10 * l10, t10 + p10 * h10];
}
function pK(e30, t10, r10, n10, i10, a10, s10) {
  var o10 = e30 - r10, l10 = t10 - n10, h10 = (s10 ? a10 : -a10) / pI(o10 * o10 + l10 * l10), u10 = h10 * l10, d10 = -h10 * o10, p10 = e30 + u10, f10 = t10 + d10, g10 = r10 + u10, y10 = n10 + d10, v10 = (p10 + g10) / 2, x10 = (f10 + y10) / 2, b10 = g10 - p10, k10 = y10 - f10, w10 = b10 * b10 + k10 * k10, _10 = i10 - a10, T10 = p10 * y10 - g10 * f10, S10 = (k10 < 0 ? -1 : 1) * pI(pE(0, _10 * _10 * w10 - T10 * T10)), C10 = (T10 * k10 - b10 * S10) / w10, E10 = (-T10 * b10 - k10 * S10) / w10, A10 = (T10 * k10 + b10 * S10) / w10, L10 = (-T10 * b10 + k10 * S10) / w10, I10 = C10 - v10, M10 = E10 - x10, N10 = A10 - v10, R10 = L10 - x10;
  return I10 * I10 + M10 * M10 > N10 * N10 + R10 * R10 && (C10 = A10, E10 = L10), { cx: C10, cy: E10, x01: -u10, y01: -d10, x11: C10 * (i10 / _10 - 1), y11: E10 * (i10 / _10 - 1) };
}
function pZ() {
  var e30 = pW, t10 = pV, r10 = p_(0), n10 = null, i10 = pH, a10 = pY, s10 = pG, o10 = null, l10 = pU(h10);
  function h10() {
    var h11, u10, d10 = +e30.apply(this, arguments), p10 = +t10.apply(this, arguments), f10 = i10.apply(this, arguments) - pN, g10 = a10.apply(this, arguments) - pN, y10 = pT(g10 - f10), v10 = g10 > f10;
    if (o10 || (o10 = h11 = l10()), p10 < d10 && (u10 = p10, p10 = d10, d10 = u10), p10 > 1e-12) {
      if (y10 > pR - 1e-12) o10.moveTo(p10 * pC(f10), p10 * pL(f10)), o10.arc(0, 0, p10, f10, g10, !v10), d10 > 1e-12 && (o10.moveTo(d10 * pC(g10), d10 * pL(g10)), o10.arc(0, 0, d10, g10, f10, v10));
      else {
        var x10, b10, k10 = f10, w10 = g10, _10 = f10, T10 = g10, S10 = y10, C10 = y10, E10 = s10.apply(this, arguments) / 2, A10 = E10 > 1e-12 && (n10 ? +n10.apply(this, arguments) : pI(d10 * d10 + p10 * p10)), L10 = pA(pT(p10 - d10) / 2, +r10.apply(this, arguments)), I10 = L10, M10 = L10;
        if (A10 > 1e-12) {
          var N10 = pO(A10 / d10 * pL(E10)), R10 = pO(A10 / p10 * pL(E10));
          (S10 -= 2 * N10) > 1e-12 ? (N10 *= v10 ? 1 : -1, _10 += N10, T10 -= N10) : (S10 = 0, _10 = T10 = (f10 + g10) / 2), (C10 -= 2 * R10) > 1e-12 ? (R10 *= v10 ? 1 : -1, k10 += R10, w10 -= R10) : (C10 = 0, k10 = w10 = (f10 + g10) / 2);
        }
        var D10 = p10 * pC(k10), O10 = p10 * pL(k10), $10 = d10 * pC(T10), P10 = d10 * pL(T10);
        if (L10 > 1e-12) {
          var B10, F10 = p10 * pC(w10), z10 = p10 * pL(w10), j10 = d10 * pC(_10), q10 = d10 * pL(_10);
          if (y10 < pM) {
            if (B10 = pX(D10, O10, j10, q10, F10, z10, $10, P10)) {
              var U10 = D10 - B10[0], W10 = O10 - B10[1], V10 = F10 - B10[0], H10 = z10 - B10[1], Y10 = 1 / pL(pD((U10 * V10 + W10 * H10) / (pI(U10 * U10 + W10 * W10) * pI(V10 * V10 + H10 * H10))) / 2), G10 = pI(B10[0] * B10[0] + B10[1] * B10[1]);
              I10 = pA(L10, (d10 - G10) / (Y10 - 1)), M10 = pA(L10, (p10 - G10) / (Y10 + 1));
            } else I10 = M10 = 0;
          }
        }
        C10 > 1e-12 ? M10 > 1e-12 ? (x10 = pK(j10, q10, D10, O10, p10, M10, v10), b10 = pK(F10, z10, $10, P10, p10, M10, v10), o10.moveTo(x10.cx + x10.x01, x10.cy + x10.y01), M10 < L10 ? o10.arc(x10.cx, x10.cy, M10, pS(x10.y01, x10.x01), pS(b10.y01, b10.x01), !v10) : (o10.arc(x10.cx, x10.cy, M10, pS(x10.y01, x10.x01), pS(x10.y11, x10.x11), !v10), o10.arc(0, 0, p10, pS(x10.cy + x10.y11, x10.cx + x10.x11), pS(b10.cy + b10.y11, b10.cx + b10.x11), !v10), o10.arc(b10.cx, b10.cy, M10, pS(b10.y11, b10.x11), pS(b10.y01, b10.x01), !v10))) : (o10.moveTo(D10, O10), o10.arc(0, 0, p10, k10, w10, !v10)) : o10.moveTo(D10, O10), d10 > 1e-12 && S10 > 1e-12 ? I10 > 1e-12 ? (x10 = pK($10, P10, F10, z10, d10, -I10, v10), b10 = pK(D10, O10, j10, q10, d10, -I10, v10), o10.lineTo(x10.cx + x10.x01, x10.cy + x10.y01), I10 < L10 ? o10.arc(x10.cx, x10.cy, I10, pS(x10.y01, x10.x01), pS(b10.y01, b10.x01), !v10) : (o10.arc(x10.cx, x10.cy, I10, pS(x10.y01, x10.x01), pS(x10.y11, x10.x11), !v10), o10.arc(0, 0, d10, pS(x10.cy + x10.y11, x10.cx + x10.x11), pS(b10.cy + b10.y11, b10.cx + b10.x11), v10), o10.arc(b10.cx, b10.cy, I10, pS(b10.y11, b10.x11), pS(b10.y01, b10.x01), !v10))) : o10.arc(0, 0, d10, T10, _10, v10) : o10.lineTo($10, P10);
      }
    } else o10.moveTo(0, 0);
    if (o10.closePath(), h11) return o10 = null, h11 + "" || null;
  }
  return iM(h10, "arc"), h10.centroid = function() {
    var r11 = (+e30.apply(this, arguments) + +t10.apply(this, arguments)) / 2, n11 = (+i10.apply(this, arguments) + +a10.apply(this, arguments)) / 2 - pM / 2;
    return [pC(n11) * r11, pL(n11) * r11];
  }, h10.innerRadius = function(t11) {
    return arguments.length ? (e30 = "function" == typeof t11 ? t11 : p_(+t11), h10) : e30;
  }, h10.outerRadius = function(e31) {
    return arguments.length ? (t10 = "function" == typeof e31 ? e31 : p_(+e31), h10) : t10;
  }, h10.cornerRadius = function(e31) {
    return arguments.length ? (r10 = "function" == typeof e31 ? e31 : p_(+e31), h10) : r10;
  }, h10.padRadius = function(e31) {
    return arguments.length ? (n10 = null == e31 ? null : "function" == typeof e31 ? e31 : p_(+e31), h10) : n10;
  }, h10.startAngle = function(e31) {
    return arguments.length ? (i10 = "function" == typeof e31 ? e31 : p_(+e31), h10) : i10;
  }, h10.endAngle = function(e31) {
    return arguments.length ? (a10 = "function" == typeof e31 ? e31 : p_(+e31), h10) : a10;
  }, h10.padAngle = function(e31) {
    return arguments.length ? (s10 = "function" == typeof e31 ? e31 : p_(+e31), h10) : s10;
  }, h10.context = function(e31) {
    return arguments.length ? (o10 = null == e31 ? null : e31, h10) : o10;
  }, h10;
}
function pQ(e30) {
  this._context = e30;
}
function pJ(e30) {
  return new pQ(e30);
}
function p0(e30) {
  return "object" == typeof e30 && "length" in e30 ? e30 : Array.from(e30);
}
function p1(e30) {
  return e30[0];
}
function p2(e30) {
  return e30[1];
}
function p4(e30, t10) {
  var r10 = p_(true), n10 = null, i10 = pJ, a10 = null, s10 = pU(o10);
  function o10(o11) {
    var l10, h10, u10, d10 = (o11 = p0(o11)).length, p10 = false;
    for (null == n10 && (a10 = i10(u10 = s10())), l10 = 0; l10 <= d10; ++l10) !(l10 < d10 && r10(h10 = o11[l10], l10, o11)) === p10 && ((p10 = !p10) ? a10.lineStart() : a10.lineEnd()), p10 && a10.point(+e30(h10, l10, o11), +t10(h10, l10, o11));
    if (u10) return a10 = null, u10 + "" || null;
  }
  return e30 = "function" == typeof e30 ? e30 : void 0 === e30 ? p1 : p_(e30), t10 = "function" == typeof t10 ? t10 : void 0 === t10 ? p2 : p_(t10), iM(o10, "line"), o10.x = function(t11) {
    return arguments.length ? (e30 = "function" == typeof t11 ? t11 : p_(+t11), o10) : e30;
  }, o10.y = function(e31) {
    return arguments.length ? (t10 = "function" == typeof e31 ? e31 : p_(+e31), o10) : t10;
  }, o10.defined = function(e31) {
    return arguments.length ? (r10 = "function" == typeof e31 ? e31 : p_(!!e31), o10) : r10;
  }, o10.curve = function(e31) {
    return arguments.length ? (i10 = e31, null != n10 && (a10 = i10(n10)), o10) : i10;
  }, o10.context = function(e31) {
    return arguments.length ? (null == e31 ? n10 = a10 = null : a10 = i10(n10 = e31), o10) : n10;
  }, o10;
}
function p3(e30, t10) {
  return t10 < e30 ? -1 : t10 > e30 ? 1 : t10 >= e30 ? 0 : NaN;
}
function p5(e30) {
  return e30;
}
function p6() {
  var e30 = p5, t10 = p3, r10 = null, n10 = p_(0), i10 = p_(pR), a10 = p_(0);
  function s10(s11) {
    var o10, l10, h10, u10, d10, p10 = (s11 = p0(s11)).length, f10 = 0, g10 = Array(p10), y10 = Array(p10), v10 = +n10.apply(this, arguments), x10 = Math.min(pR, Math.max(-pR, i10.apply(this, arguments) - v10)), b10 = Math.min(Math.abs(x10) / p10, a10.apply(this, arguments)), k10 = b10 * (x10 < 0 ? -1 : 1);
    for (o10 = 0; o10 < p10; ++o10) (d10 = y10[g10[o10] = o10] = +e30(s11[o10], o10, s11)) > 0 && (f10 += d10);
    for (null != t10 ? g10.sort(function(e31, r11) {
      return t10(y10[e31], y10[r11]);
    }) : null != r10 && g10.sort(function(e31, t11) {
      return r10(s11[e31], s11[t11]);
    }), o10 = 0, h10 = f10 ? (x10 - p10 * k10) / f10 : 0; o10 < p10; ++o10, v10 = u10) u10 = v10 + ((d10 = y10[l10 = g10[o10]]) > 0 ? d10 * h10 : 0) + k10, y10[l10] = { data: s11[l10], index: o10, value: d10, startAngle: v10, endAngle: u10, padAngle: b10 };
    return y10;
  }
  return iM(s10, "pie"), s10.value = function(t11) {
    return arguments.length ? (e30 = "function" == typeof t11 ? t11 : p_(+t11), s10) : e30;
  }, s10.sortValues = function(e31) {
    return arguments.length ? (t10 = e31, r10 = null, s10) : t10;
  }, s10.sort = function(e31) {
    return arguments.length ? (r10 = e31, t10 = null, s10) : r10;
  }, s10.startAngle = function(e31) {
    return arguments.length ? (n10 = "function" == typeof e31 ? e31 : p_(+e31), s10) : n10;
  }, s10.endAngle = function(e31) {
    return arguments.length ? (i10 = "function" == typeof e31 ? e31 : p_(+e31), s10) : i10;
  }, s10.padAngle = function(e31) {
    return arguments.length ? (a10 = "function" == typeof e31 ? e31 : p_(+e31), s10) : a10;
  }, s10;
}
iM(pq, "path"), pq.prototype = pj.prototype, iM(pU, "withPath"), iM(pW, "arcInnerRadius"), iM(pV, "arcOuterRadius"), iM(pH, "arcStartAngle"), iM(pY, "arcEndAngle"), iM(pG, "arcPadAngle"), iM(pX, "intersect"), iM(pK, "cornerTangents"), iM(pZ, "default"), iM(pQ, "Linear"), pQ.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(e30, t10) : this._context.moveTo(e30, t10);
      break;
    case 1:
      this._point = 2;
    default:
      this._context.lineTo(e30, t10);
  }
}, "point") }, iM(pJ, "default"), iM(p0, "default"), iM(p1, "x"), iM(p2, "y"), iM(p4, "default"), iM(p3, "default"), iM(p5, "default"), iM(p6, "default");
var p7 = (_l2 = class {
  constructor(e30, t10) {
    this._context = e30, this._x = t10;
  }
  areaStart() {
    this._line = 0;
  }
  areaEnd() {
    this._line = NaN;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
    (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
  }
  point(e30, t10) {
    switch (e30 = +e30, t10 = +t10, this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(e30, t10) : this._context.moveTo(e30, t10);
        break;
      case 1:
        this._point = 2;
      default:
        this._x ? this._context.bezierCurveTo(this._x0 = (this._x0 + e30) / 2, this._y0, this._x0, t10, e30, t10) : this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + t10) / 2, e30, this._y0, e30, t10);
    }
    this._x0 = e30, this._y0 = t10;
  }
}, _i14 = new WeakMap(), __privateAdd(_l2, _i14, iM(_l2, "Bump")), _l2);
function p8(e30) {
  return new p7(e30, true);
}
function p9(e30) {
  return new p7(e30, false);
}
function fe(e30, t10, r10) {
  e30._context.bezierCurveTo((2 * e30._x0 + e30._x1) / 3, (2 * e30._y0 + e30._y1) / 3, (e30._x0 + 2 * e30._x1) / 3, (e30._y0 + 2 * e30._y1) / 3, (e30._x0 + 4 * e30._x1 + t10) / 6, (e30._y0 + 4 * e30._y1 + r10) / 6);
}
function ft(e30) {
  this._context = e30;
}
function fr(e30) {
  return new ft(e30);
}
function fn() {
}
function fi(e30) {
  this._context = e30;
}
function fa(e30) {
  return new fi(e30);
}
function fs(e30) {
  this._context = e30;
}
function fo(e30) {
  return new fs(e30);
}
function fl(e30, t10) {
  this._basis = new ft(e30), this._beta = t10;
}
iM(p8, "bumpX"), iM(p9, "bumpY"), iM(fe, "point"), iM(ft, "Basis"), ft.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  switch (this._point) {
    case 3:
      fe(this, this._x1, this._y1);
    case 2:
      this._context.lineTo(this._x1, this._y1);
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(e30, t10) : this._context.moveTo(e30, t10);
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
    default:
      fe(this, e30, t10);
  }
  this._x0 = this._x1, this._x1 = e30, this._y0 = this._y1, this._y1 = t10;
}, "point") }, iM(fr, "default"), iM(fn, "default"), iM(fi, "BasisClosed"), fi.prototype = { areaStart: fn, areaEnd: fn, lineStart: iM(function() {
  this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  switch (this._point) {
    case 1:
      this._context.moveTo(this._x2, this._y2), this._context.closePath();
      break;
    case 2:
      this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath();
      break;
    case 3:
      this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4);
  }
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1, this._x2 = e30, this._y2 = t10;
      break;
    case 1:
      this._point = 2, this._x3 = e30, this._y3 = t10;
      break;
    case 2:
      this._point = 3, this._x4 = e30, this._y4 = t10, this._context.moveTo((this._x0 + 4 * this._x1 + e30) / 6, (this._y0 + 4 * this._y1 + t10) / 6);
      break;
    default:
      fe(this, e30, t10);
  }
  this._x0 = this._x1, this._x1 = e30, this._y0 = this._y1, this._y1 = t10;
}, "point") }, iM(fa, "default"), iM(fs, "BasisOpen"), fs.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1;
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3;
      var r10 = (this._x0 + 4 * this._x1 + e30) / 6, n10 = (this._y0 + 4 * this._y1 + t10) / 6;
      this._line ? this._context.lineTo(r10, n10) : this._context.moveTo(r10, n10);
      break;
    case 3:
      this._point = 4;
    default:
      fe(this, e30, t10);
  }
  this._x0 = this._x1, this._x1 = e30, this._y0 = this._y1, this._y1 = t10;
}, "point") }, iM(fo, "default"), iM(fl, "Bundle"), fl.prototype = { lineStart: iM(function() {
  this._x = [], this._y = [], this._basis.lineStart();
}, "lineStart"), lineEnd: iM(function() {
  var e30 = this._x, t10 = this._y, r10 = e30.length - 1;
  if (r10 > 0) for (var n10, i10 = e30[0], a10 = t10[0], s10 = e30[r10] - i10, o10 = t10[r10] - a10, l10 = -1; ++l10 <= r10; ) n10 = l10 / r10, this._basis.point(this._beta * e30[l10] + (1 - this._beta) * (i10 + n10 * s10), this._beta * t10[l10] + (1 - this._beta) * (a10 + n10 * o10));
  this._x = this._y = null, this._basis.lineEnd();
}, "lineEnd"), point: iM(function(e30, t10) {
  this._x.push(+e30), this._y.push(+t10);
}, "point") };
var fc = iM(function e11(t10) {
  function r10(e30) {
    return 1 === t10 ? new ft(e30) : new fl(e30, t10);
  }
  return iM(r10, "bundle"), r10.beta = function(t11) {
    return e11(+t11);
  }, r10;
}, "custom")(0.85);
function fh(e30, t10, r10) {
  e30._context.bezierCurveTo(e30._x1 + e30._k * (e30._x2 - e30._x0), e30._y1 + e30._k * (e30._y2 - e30._y0), e30._x2 + e30._k * (e30._x1 - t10), e30._y2 + e30._k * (e30._y1 - r10), e30._x2, e30._y2);
}
function fu(e30, t10) {
  this._context = e30, this._k = (1 - t10) / 6;
}
iM(fh, "point"), iM(fu, "Cardinal"), fu.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  switch (this._point) {
    case 2:
      this._context.lineTo(this._x2, this._y2);
      break;
    case 3:
      fh(this, this._x1, this._y1);
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(e30, t10) : this._context.moveTo(e30, t10);
      break;
    case 1:
      this._point = 2, this._x1 = e30, this._y1 = t10;
      break;
    case 2:
      this._point = 3;
    default:
      fh(this, e30, t10);
  }
  this._x0 = this._x1, this._x1 = this._x2, this._x2 = e30, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t10;
}, "point") };
var fd = iM(function e12(t10) {
  function r10(e30) {
    return new fu(e30, t10);
  }
  return iM(r10, "cardinal"), r10.tension = function(t11) {
    return e12(+t11);
  }, r10;
}, "custom")(0);
function fp(e30, t10) {
  this._context = e30, this._k = (1 - t10) / 6;
}
iM(fp, "CardinalClosed"), fp.prototype = { areaStart: fn, areaEnd: fn, lineStart: iM(function() {
  this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  switch (this._point) {
    case 1:
      this._context.moveTo(this._x3, this._y3), this._context.closePath();
      break;
    case 2:
      this._context.lineTo(this._x3, this._y3), this._context.closePath();
      break;
    case 3:
      this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5);
  }
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1, this._x3 = e30, this._y3 = t10;
      break;
    case 1:
      this._point = 2, this._context.moveTo(this._x4 = e30, this._y4 = t10);
      break;
    case 2:
      this._point = 3, this._x5 = e30, this._y5 = t10;
      break;
    default:
      fh(this, e30, t10);
  }
  this._x0 = this._x1, this._x1 = this._x2, this._x2 = e30, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t10;
}, "point") };
var ff = iM(function e13(t10) {
  function r10(e30) {
    return new fp(e30, t10);
  }
  return iM(r10, "cardinal"), r10.tension = function(t11) {
    return e13(+t11);
  }, r10;
}, "custom")(0);
function fg(e30, t10) {
  this._context = e30, this._k = (1 - t10) / 6;
}
iM(fg, "CardinalOpen"), fg.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1;
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
      break;
    case 3:
      this._point = 4;
    default:
      fh(this, e30, t10);
  }
  this._x0 = this._x1, this._x1 = this._x2, this._x2 = e30, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t10;
}, "point") };
var fm = iM(function e14(t10) {
  function r10(e30) {
    return new fg(e30, t10);
  }
  return iM(r10, "cardinal"), r10.tension = function(t11) {
    return e14(+t11);
  }, r10;
}, "custom")(0);
function fy(e30, t10, r10) {
  var n10 = e30._x1, i10 = e30._y1, a10 = e30._x2, s10 = e30._y2;
  if (e30._l01_a > 1e-12) {
    var o10 = 2 * e30._l01_2a + 3 * e30._l01_a * e30._l12_a + e30._l12_2a, l10 = 3 * e30._l01_a * (e30._l01_a + e30._l12_a);
    n10 = (n10 * o10 - e30._x0 * e30._l12_2a + e30._x2 * e30._l01_2a) / l10, i10 = (i10 * o10 - e30._y0 * e30._l12_2a + e30._y2 * e30._l01_2a) / l10;
  }
  if (e30._l23_a > 1e-12) {
    var h10 = 2 * e30._l23_2a + 3 * e30._l23_a * e30._l12_a + e30._l12_2a, u10 = 3 * e30._l23_a * (e30._l23_a + e30._l12_a);
    a10 = (a10 * h10 + e30._x1 * e30._l23_2a - t10 * e30._l12_2a) / u10, s10 = (s10 * h10 + e30._y1 * e30._l23_2a - r10 * e30._l12_2a) / u10;
  }
  e30._context.bezierCurveTo(n10, i10, a10, s10, e30._x2, e30._y2);
}
function fv(e30, t10) {
  this._context = e30, this._alpha = t10;
}
iM(fy, "point"), iM(fv, "CatmullRom"), fv.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  switch (this._point) {
    case 2:
      this._context.lineTo(this._x2, this._y2);
      break;
    case 3:
      this.point(this._x2, this._y2);
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  if (e30 = +e30, t10 = +t10, this._point) {
    var r10 = this._x2 - e30, n10 = this._y2 - t10;
    this._l23_a = Math.sqrt(this._l23_2a = Math.pow(r10 * r10 + n10 * n10, this._alpha));
  }
  switch (this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(e30, t10) : this._context.moveTo(e30, t10);
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3;
    default:
      fy(this, e30, t10);
  }
  this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = e30, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t10;
}, "point") };
var fx = iM(function e15(t10) {
  function r10(e30) {
    return t10 ? new fv(e30, t10) : new fu(e30, 0);
  }
  return iM(r10, "catmullRom"), r10.alpha = function(t11) {
    return e15(+t11);
  }, r10;
}, "custom")(0.5);
function fb(e30, t10) {
  this._context = e30, this._alpha = t10;
}
iM(fb, "CatmullRomClosed"), fb.prototype = { areaStart: fn, areaEnd: fn, lineStart: iM(function() {
  this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  switch (this._point) {
    case 1:
      this._context.moveTo(this._x3, this._y3), this._context.closePath();
      break;
    case 2:
      this._context.lineTo(this._x3, this._y3), this._context.closePath();
      break;
    case 3:
      this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5);
  }
}, "lineEnd"), point: iM(function(e30, t10) {
  if (e30 = +e30, t10 = +t10, this._point) {
    var r10 = this._x2 - e30, n10 = this._y2 - t10;
    this._l23_a = Math.sqrt(this._l23_2a = Math.pow(r10 * r10 + n10 * n10, this._alpha));
  }
  switch (this._point) {
    case 0:
      this._point = 1, this._x3 = e30, this._y3 = t10;
      break;
    case 1:
      this._point = 2, this._context.moveTo(this._x4 = e30, this._y4 = t10);
      break;
    case 2:
      this._point = 3, this._x5 = e30, this._y5 = t10;
      break;
    default:
      fy(this, e30, t10);
  }
  this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = e30, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t10;
}, "point") };
var fk = iM(function e16(t10) {
  function r10(e30) {
    return t10 ? new fb(e30, t10) : new fp(e30, 0);
  }
  return iM(r10, "catmullRom"), r10.alpha = function(t11) {
    return e16(+t11);
  }, r10;
}, "custom")(0.5);
function fw(e30, t10) {
  this._context = e30, this._alpha = t10;
}
iM(fw, "CatmullRomOpen"), fw.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  if (e30 = +e30, t10 = +t10, this._point) {
    var r10 = this._x2 - e30, n10 = this._y2 - t10;
    this._l23_a = Math.sqrt(this._l23_2a = Math.pow(r10 * r10 + n10 * n10, this._alpha));
  }
  switch (this._point) {
    case 0:
      this._point = 1;
      break;
    case 1:
      this._point = 2;
      break;
    case 2:
      this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
      break;
    case 3:
      this._point = 4;
    default:
      fy(this, e30, t10);
  }
  this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = e30, this._y0 = this._y1, this._y1 = this._y2, this._y2 = t10;
}, "point") };
var f_ = iM(function e17(t10) {
  function r10(e30) {
    return t10 ? new fw(e30, t10) : new fg(e30, 0);
  }
  return iM(r10, "catmullRom"), r10.alpha = function(t11) {
    return e17(+t11);
  }, r10;
}, "custom")(0.5);
function fT(e30) {
  this._context = e30;
}
function fS(e30) {
  return new fT(e30);
}
function fC(e30) {
  return e30 < 0 ? -1 : 1;
}
function fE(e30, t10, r10) {
  var n10 = e30._x1 - e30._x0, i10 = t10 - e30._x1, a10 = (e30._y1 - e30._y0) / (n10 || i10 < 0 && -0), s10 = (r10 - e30._y1) / (i10 || n10 < 0 && -0), o10 = (a10 * i10 + s10 * n10) / (n10 + i10);
  return (fC(a10) + fC(s10)) * Math.min(Math.abs(a10), Math.abs(s10), 0.5 * Math.abs(o10)) || 0;
}
function fA(e30, t10) {
  var r10 = e30._x1 - e30._x0;
  return r10 ? (3 * (e30._y1 - e30._y0) / r10 - t10) / 2 : t10;
}
function fL(e30, t10, r10) {
  var n10 = e30._x0, i10 = e30._y0, a10 = e30._x1, s10 = e30._y1, o10 = (a10 - n10) / 3;
  e30._context.bezierCurveTo(n10 + o10, i10 + o10 * t10, a10 - o10, s10 - o10 * r10, a10, s10);
}
function fI(e30) {
  this._context = e30;
}
function fM(e30) {
  this._context = new fN(e30);
}
function fN(e30) {
  this._context = e30;
}
function fR(e30) {
  return new fI(e30);
}
function fD(e30) {
  return new fM(e30);
}
function fO(e30) {
  this._context = e30;
}
function f$(e30) {
  var t10, r10, n10 = e30.length - 1, i10 = Array(n10), a10 = Array(n10), s10 = Array(n10);
  for (i10[0] = 0, a10[0] = 2, s10[0] = e30[0] + 2 * e30[1], t10 = 1; t10 < n10 - 1; ++t10) i10[t10] = 1, a10[t10] = 4, s10[t10] = 4 * e30[t10] + 2 * e30[t10 + 1];
  for (i10[n10 - 1] = 2, a10[n10 - 1] = 7, s10[n10 - 1] = 8 * e30[n10 - 1] + e30[n10], t10 = 1; t10 < n10; ++t10) r10 = i10[t10] / a10[t10 - 1], a10[t10] -= r10, s10[t10] -= r10 * s10[t10 - 1];
  for (i10[n10 - 1] = s10[n10 - 1] / a10[n10 - 1], t10 = n10 - 2; t10 >= 0; --t10) i10[t10] = (s10[t10] - i10[t10 + 1]) / a10[t10];
  for (t10 = 0, a10[n10 - 1] = (e30[n10] + i10[n10 - 1]) / 2; t10 < n10 - 1; ++t10) a10[t10] = 2 * e30[t10 + 1] - i10[t10 + 1];
  return [i10, a10];
}
function fP(e30) {
  return new fO(e30);
}
function fB(e30, t10) {
  this._context = e30, this._t = t10;
}
function fF(e30) {
  return new fB(e30, 0.5);
}
function fz(e30) {
  return new fB(e30, 0);
}
function fj(e30) {
  return new fB(e30, 1);
}
iM(fT, "LinearClosed"), fT.prototype = { areaStart: fn, areaEnd: fn, lineStart: iM(function() {
  this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  this._point && this._context.closePath();
}, "lineEnd"), point: iM(function(e30, t10) {
  e30 = +e30, t10 = +t10, this._point ? this._context.lineTo(e30, t10) : (this._point = 1, this._context.moveTo(e30, t10));
}, "point") }, iM(fS, "default"), iM(fC, "sign"), iM(fE, "slope3"), iM(fA, "slope2"), iM(fL, "point"), iM(fI, "MonotoneX"), fI.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  switch (this._point) {
    case 2:
      this._context.lineTo(this._x1, this._y1);
      break;
    case 3:
      fL(this, this._t0, fA(this, this._t0));
  }
  (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line;
}, "lineEnd"), point: iM(function(e30, t10) {
  var r10 = NaN;
  if (t10 = +t10, (e30 = +e30) !== this._x1 || t10 !== this._y1) {
    switch (this._point) {
      case 0:
        this._point = 1, this._line ? this._context.lineTo(e30, t10) : this._context.moveTo(e30, t10);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3, fL(this, fA(this, r10 = fE(this, e30, t10)), r10);
        break;
      default:
        fL(this, this._t0, r10 = fE(this, e30, t10));
    }
    this._x0 = this._x1, this._x1 = e30, this._y0 = this._y1, this._y1 = t10, this._t0 = r10;
  }
}, "point") }, iM(fM, "MonotoneY"), (fM.prototype = Object.create(fI.prototype)).point = function(e30, t10) {
  fI.prototype.point.call(this, t10, e30);
}, iM(fN, "ReflectContext"), fN.prototype = { moveTo: iM(function(e30, t10) {
  this._context.moveTo(t10, e30);
}, "moveTo"), closePath: iM(function() {
  this._context.closePath();
}, "closePath"), lineTo: iM(function(e30, t10) {
  this._context.lineTo(t10, e30);
}, "lineTo"), bezierCurveTo: iM(function(e30, t10, r10, n10, i10, a10) {
  this._context.bezierCurveTo(t10, e30, n10, r10, a10, i10);
}, "bezierCurveTo") }, iM(fR, "monotoneX"), iM(fD, "monotoneY"), iM(fO, "Natural"), fO.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x = [], this._y = [];
}, "lineStart"), lineEnd: iM(function() {
  var e30 = this._x, t10 = this._y, r10 = e30.length;
  if (r10) {
    if (this._line ? this._context.lineTo(e30[0], t10[0]) : this._context.moveTo(e30[0], t10[0]), 2 === r10) this._context.lineTo(e30[1], t10[1]);
    else for (var n10 = f$(e30), i10 = f$(t10), a10 = 0, s10 = 1; s10 < r10; ++a10, ++s10) this._context.bezierCurveTo(n10[0][a10], i10[0][a10], n10[1][a10], i10[1][a10], e30[s10], t10[s10]);
  }
  (this._line || 0 !== this._line && 1 === r10) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null;
}, "lineEnd"), point: iM(function(e30, t10) {
  this._x.push(+e30), this._y.push(+t10);
}, "point") }, iM(f$, "controlPoints"), iM(fP, "default"), iM(fB, "Step"), fB.prototype = { areaStart: iM(function() {
  this._line = 0;
}, "areaStart"), areaEnd: iM(function() {
  this._line = NaN;
}, "areaEnd"), lineStart: iM(function() {
  this._x = this._y = NaN, this._point = 0;
}, "lineStart"), lineEnd: iM(function() {
  0 < this._t && this._t < 1 && 2 === this._point && this._context.lineTo(this._x, this._y), (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line);
}, "lineEnd"), point: iM(function(e30, t10) {
  switch (e30 = +e30, t10 = +t10, this._point) {
    case 0:
      this._point = 1, this._line ? this._context.lineTo(e30, t10) : this._context.moveTo(e30, t10);
      break;
    case 1:
      this._point = 2;
    default:
      if (this._t <= 0) this._context.lineTo(this._x, t10), this._context.lineTo(e30, t10);
      else {
        var r10 = this._x * (1 - this._t) + e30 * this._t;
        this._context.lineTo(r10, this._y), this._context.lineTo(r10, t10);
      }
  }
  this._x = e30, this._y = t10;
}, "point") }, iM(fF, "default"), iM(fz, "stepBefore"), iM(fj, "stepAfter");
var fq = { value: iM(() => {
}, "value") };
function fU() {
  for (var e30, t10 = 0, r10 = arguments.length, n10 = {}; t10 < r10; ++t10) {
    if (!(e30 = arguments[t10] + "") || e30 in n10 || /[\s.]/.test(e30)) throw Error("illegal type: " + e30);
    n10[e30] = [];
  }
  return new fW(n10);
}
function fW(e30) {
  this._ = e30;
}
function fV(e30, t10) {
  return e30.trim().split(/^|\s+/).map(function(e31) {
    var r10 = "", n10 = e31.indexOf(".");
    if (n10 >= 0 && (r10 = e31.slice(n10 + 1), e31 = e31.slice(0, n10)), e31 && !t10.hasOwnProperty(e31)) throw Error("unknown type: " + e31);
    return { type: e31, name: r10 };
  });
}
function fH(e30, t10) {
  for (var r10, n10 = 0, i10 = e30.length; n10 < i10; ++n10) if ((r10 = e30[n10]).name === t10) return r10.value;
}
function fY(e30, t10, r10) {
  for (var n10 = 0, i10 = e30.length; n10 < i10; ++n10) if (e30[n10].name === t10) {
    e30[n10] = fq, e30 = e30.slice(0, n10).concat(e30.slice(n10 + 1));
    break;
  }
  return null != r10 && e30.push({ name: t10, value: r10 }), e30;
}
iM(fU, "dispatch"), iM(fW, "Dispatch"), iM(fV, "parseTypenames"), fW.prototype = fU.prototype = { constructor: fW, on: iM(function(e30, t10) {
  var r10, n10 = this._, i10 = fV(e30 + "", n10), a10 = -1, s10 = i10.length;
  if (arguments.length < 2) {
    for (; ++a10 < s10; ) if ((r10 = (e30 = i10[a10]).type) && (r10 = fH(n10[r10], e30.name))) return r10;
    return;
  }
  if (null != t10 && "function" != typeof t10) throw Error("invalid callback: " + t10);
  for (; ++a10 < s10; ) if (r10 = (e30 = i10[a10]).type) n10[r10] = fY(n10[r10], e30.name, t10);
  else if (null == t10) for (r10 in n10) n10[r10] = fY(n10[r10], e30.name, null);
  return this;
}, "on"), copy: iM(function() {
  var e30 = {}, t10 = this._;
  for (var r10 in t10) e30[r10] = t10[r10].slice();
  return new fW(e30);
}, "copy"), call: iM(function(e30, t10) {
  if ((r10 = arguments.length - 2) > 0) for (var r10, n10, i10 = Array(r10), a10 = 0; a10 < r10; ++a10) i10[a10] = arguments[a10 + 2];
  if (!this._.hasOwnProperty(e30)) throw Error("unknown type: " + e30);
  for (n10 = this._[e30], a10 = 0, r10 = n10.length; a10 < r10; ++a10) n10[a10].value.apply(t10, i10);
}, "call"), apply: iM(function(e30, t10, r10) {
  if (!this._.hasOwnProperty(e30)) throw Error("unknown type: " + e30);
  for (var n10 = this._[e30], i10 = 0, a10 = n10.length; i10 < a10; ++i10) n10[i10].value.apply(t10, r10);
}, "apply") }, iM(fH, "get"), iM(fY, "set");
var fG = 0, fX = 0, fK = 0, fZ = 0, fQ = 0, fJ = 0, f0 = "object" == typeof performance && performance.now ? performance : Date, f1 = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(e30) {
  setTimeout(e30, 17);
};
function f2() {
  return fQ || (f1(f4), fQ = f0.now() + fJ);
}
function f4() {
  fQ = 0;
}
function f3() {
  this._call = this._time = this._next = null;
}
function f5(e30, t10, r10) {
  var n10 = new f3();
  return n10.restart(e30, t10, r10), n10;
}
function f6() {
  f2(), ++fG;
  for (var e30, t10 = t4; t10; ) (e30 = fQ - t10._time) >= 0 && t10._call.call(void 0, e30), t10 = t10._next;
  --fG;
}
function f7() {
  fQ = (fZ = f0.now()) + fJ, fG = fX = 0;
  try {
    f6();
  } finally {
    fG = 0, f9(), fQ = 0;
  }
}
function f8() {
  var e30 = f0.now(), t10 = e30 - fZ;
  t10 > 1e3 && (fJ -= t10, fZ = e30);
}
function f9() {
  for (var e30, t10, r10 = t4, n10 = 1 / 0; r10; ) r10._call ? (n10 > r10._time && (n10 = r10._time), e30 = r10, r10 = r10._next) : (t10 = r10._next, r10._next = null, r10 = e30 ? e30._next = t10 : t4 = t10);
  t3 = e30, ge(n10);
}
function ge(e30) {
  !fG && (fX && (fX = clearTimeout(fX)), e30 - fQ > 24 ? (e30 < 1 / 0 && (fX = setTimeout(f7, e30 - f0.now() - fJ)), fK && (fK = clearInterval(fK))) : (fK || (fZ = f0.now(), fK = setInterval(f8, 1e3)), fG = 1, f1(f7)));
}
function gt(e30, t10, r10) {
  var n10 = new f3();
  return t10 = null == t10 ? 0 : +t10, n10.restart((r11) => {
    n10.stop(), e30(r11 + t10);
  }, t10, r10), n10;
}
iM(f2, "now"), iM(f4, "clearNow"), iM(f3, "Timer"), f3.prototype = f5.prototype = { constructor: f3, restart: iM(function(e30, t10, r10) {
  if ("function" != typeof e30) throw TypeError("callback is not a function");
  r10 = (null == r10 ? f2() : +r10) + (null == t10 ? 0 : +t10), this._next || t3 === this || (t3 ? t3._next = this : t4 = this, t3 = this), this._call = e30, this._time = r10, ge();
}, "restart"), stop: iM(function() {
  this._call && (this._call = null, this._time = 1 / 0, ge());
}, "stop") }, iM(f5, "timer"), iM(f6, "timerFlush"), iM(f7, "wake"), iM(f8, "poke"), iM(f9, "nap"), iM(ge, "sleep"), iM(gt, "default");
var gr = fU("start", "end", "cancel", "interrupt"), gn = [];
function gi(e30, t10, r10, n10, i10, a10) {
  var s10 = e30.__transition;
  if (s10) {
    if (r10 in s10) return;
  } else e30.__transition = {};
  gl(e30, r10, { name: t10, index: n10, group: i10, on: gr, tween: gn, time: a10.time, delay: a10.delay, duration: a10.duration, ease: a10.ease, timer: null, state: 0 });
}
function ga(e30, t10) {
  var r10 = go(e30, t10);
  if (r10.state > 0) throw Error("too late; already scheduled");
  return r10;
}
function gs(e30, t10) {
  var r10 = go(e30, t10);
  if (r10.state > 3) throw Error("too late; already running");
  return r10;
}
function go(e30, t10) {
  var r10 = e30.__transition;
  if (!r10 || !(r10 = r10[t10])) throw Error("transition not found");
  return r10;
}
function gl(e30, t10, r10) {
  var n10, i10 = e30.__transition;
  function a10(e31) {
    r10.state = 1, r10.timer.restart(s10, r10.delay, r10.time), r10.delay <= e31 && s10(e31 - r10.delay);
  }
  function s10(a11) {
    var h10, u10, d10, p10;
    if (1 !== r10.state) return l10();
    for (h10 in i10) if ((p10 = i10[h10]).name === r10.name) {
      if (3 === p10.state) return gt(s10);
      4 === p10.state ? (p10.state = 6, p10.timer.stop(), p10.on.call("interrupt", e30, e30.__data__, p10.index, p10.group), delete i10[h10]) : +h10 < t10 && (p10.state = 6, p10.timer.stop(), p10.on.call("cancel", e30, e30.__data__, p10.index, p10.group), delete i10[h10]);
    }
    if (gt(function() {
      3 === r10.state && (r10.state = 4, r10.timer.restart(o10, r10.delay, r10.time), o10(a11));
    }), r10.state = 2, r10.on.call("start", e30, e30.__data__, r10.index, r10.group), 2 === r10.state) {
      for (h10 = 0, r10.state = 3, n10 = Array(d10 = r10.tween.length), u10 = -1; h10 < d10; ++h10) (p10 = r10.tween[h10].value.call(e30, e30.__data__, r10.index, r10.group)) && (n10[++u10] = p10);
      n10.length = u10 + 1;
    }
  }
  function o10(t11) {
    for (var i11 = t11 < r10.duration ? r10.ease.call(null, t11 / r10.duration) : (r10.timer.restart(l10), r10.state = 5, 1), a11 = -1, s11 = n10.length; ++a11 < s11; ) n10[a11].call(e30, i11);
    5 === r10.state && (r10.on.call("end", e30, e30.__data__, r10.index, r10.group), l10());
  }
  function l10() {
    for (var n11 in r10.state = 6, r10.timer.stop(), delete i10[t10], i10) return;
    delete e30.__transition;
  }
  i10[t10] = r10, r10.timer = f5(a10, 0, r10.time), iM(a10, "schedule"), iM(s10, "start"), iM(o10, "tick"), iM(l10, "stop");
}
function gc(e30, t10) {
  var r10, n10, i10, a10 = e30.__transition, s10 = true;
  if (a10) {
    for (i10 in t10 = null == t10 ? null : t10 + "", a10) {
      if ((r10 = a10[i10]).name !== t10) {
        s10 = false;
        continue;
      }
      n10 = r10.state > 2 && r10.state < 5, r10.state = 6, r10.timer.stop(), r10.on.call(n10 ? "interrupt" : "cancel", e30, e30.__data__, r10.index, r10.group), delete a10[i10];
    }
    s10 && delete e30.__transition;
  }
}
function gh(e30) {
  return this.each(function() {
    gc(this, e30);
  });
}
function gu(e30, t10) {
  var r10, n10;
  return function() {
    var i10 = gs(this, e30), a10 = i10.tween;
    if (a10 !== r10) {
      n10 = r10 = a10;
      for (var s10 = 0, o10 = n10.length; s10 < o10; ++s10) if (n10[s10].name === t10) {
        (n10 = n10.slice()).splice(s10, 1);
        break;
      }
    }
    i10.tween = n10;
  };
}
function gd(e30, t10, r10) {
  var n10, i10;
  if ("function" != typeof r10) throw Error();
  return function() {
    var a10 = gs(this, e30), s10 = a10.tween;
    if (s10 !== n10) {
      i10 = (n10 = s10).slice();
      for (var o10 = { name: t10, value: r10 }, l10 = 0, h10 = i10.length; l10 < h10; ++l10) if (i10[l10].name === t10) {
        i10[l10] = o10;
        break;
      }
      l10 === h10 && i10.push(o10);
    }
    a10.tween = i10;
  };
}
function gp(e30, t10) {
  var r10 = this._id;
  if (e30 += "", arguments.length < 2) {
    for (var n10, i10 = go(this.node(), r10).tween, a10 = 0, s10 = i10.length; a10 < s10; ++a10) if ((n10 = i10[a10]).name === e30) return n10.value;
    return null;
  }
  return this.each((null == t10 ? gu : gd)(r10, e30, t10));
}
function gf(e30, t10, r10) {
  var n10 = e30._id;
  return e30.each(function() {
    var e31 = gs(this, n10);
    (e31.value || (e31.value = {}))[t10] = r10.apply(this, arguments);
  }), function(e31) {
    return go(e31, n10).value[t10];
  };
}
function gg(e30, t10) {
  var r10;
  return ("number" == typeof t10 ? hj : t10 instanceof c1 ? h$ : (r10 = c1(t10)) ? (t10 = r10, h$) : hY)(e30, t10);
}
function gm(e30) {
  return function() {
    this.removeAttribute(e30);
  };
}
function gy(e30) {
  return function() {
    this.removeAttributeNS(e30.space, e30.local);
  };
}
function gv(e30, t10, r10) {
  var n10, i10, a10 = r10 + "";
  return function() {
    var s10 = this.getAttribute(e30);
    return s10 === a10 ? null : s10 === n10 ? i10 : i10 = t10(n10 = s10, r10);
  };
}
function gx(e30, t10, r10) {
  var n10, i10, a10 = r10 + "";
  return function() {
    var s10 = this.getAttributeNS(e30.space, e30.local);
    return s10 === a10 ? null : s10 === n10 ? i10 : i10 = t10(n10 = s10, r10);
  };
}
function gb(e30, t10, r10) {
  var n10, i10, a10;
  return function() {
    var s10, o10, l10 = r10(this);
    return null == l10 ? void this.removeAttribute(e30) : (s10 = this.getAttribute(e30)) === (o10 = l10 + "") ? null : s10 === n10 && o10 === i10 ? a10 : (i10 = o10, a10 = t10(n10 = s10, l10));
  };
}
function gk(e30, t10, r10) {
  var n10, i10, a10;
  return function() {
    var s10, o10, l10 = r10(this);
    return null == l10 ? void this.removeAttributeNS(e30.space, e30.local) : (s10 = this.getAttributeNS(e30.space, e30.local)) === (o10 = l10 + "") ? null : s10 === n10 && o10 === i10 ? a10 : (i10 = o10, a10 = t10(n10 = s10, l10));
  };
}
function gw(e30, t10) {
  var r10 = lO(e30), n10 = "transform" === r10 ? h4 : gg;
  return this.attrTween(e30, "function" == typeof t10 ? (r10.local ? gk : gb)(r10, n10, gf(this, "attr." + e30, t10)) : null == t10 ? (r10.local ? gy : gm)(r10) : (r10.local ? gx : gv)(r10, n10, t10));
}
function g_(e30, t10) {
  return function(r10) {
    this.setAttribute(e30, t10.call(this, r10));
  };
}
function gT(e30, t10) {
  return function(r10) {
    this.setAttributeNS(e30.space, e30.local, t10.call(this, r10));
  };
}
function gS(e30, t10) {
  var r10, n10;
  function i10() {
    var i11 = t10.apply(this, arguments);
    return i11 !== n10 && (r10 = (n10 = i11) && gT(e30, i11)), r10;
  }
  return iM(i10, "tween"), i10._value = t10, i10;
}
function gC(e30, t10) {
  var r10, n10;
  function i10() {
    var i11 = t10.apply(this, arguments);
    return i11 !== n10 && (r10 = (n10 = i11) && g_(e30, i11)), r10;
  }
  return iM(i10, "tween"), i10._value = t10, i10;
}
function gE(e30, t10) {
  var r10 = "attr." + e30;
  if (arguments.length < 2) return (r10 = this.tween(r10)) && r10._value;
  if (null == t10) return this.tween(r10, null);
  if ("function" != typeof t10) throw Error();
  var n10 = lO(e30);
  return this.tween(r10, (n10.local ? gS : gC)(n10, t10));
}
function gA(e30, t10) {
  return function() {
    ga(this, e30).delay = +t10.apply(this, arguments);
  };
}
function gL(e30, t10) {
  return t10 = +t10, function() {
    ga(this, e30).delay = t10;
  };
}
function gI(e30) {
  var t10 = this._id;
  return arguments.length ? this.each(("function" == typeof e30 ? gA : gL)(t10, e30)) : go(this.node(), t10).delay;
}
function gM(e30, t10) {
  return function() {
    gs(this, e30).duration = +t10.apply(this, arguments);
  };
}
function gN(e30, t10) {
  return t10 = +t10, function() {
    gs(this, e30).duration = t10;
  };
}
function gR(e30) {
  var t10 = this._id;
  return arguments.length ? this.each(("function" == typeof e30 ? gM : gN)(t10, e30)) : go(this.node(), t10).duration;
}
function gD(e30, t10) {
  if ("function" != typeof t10) throw Error();
  return function() {
    gs(this, e30).ease = t10;
  };
}
function gO(e30) {
  var t10 = this._id;
  return arguments.length ? this.each(gD(t10, e30)) : go(this.node(), t10).ease;
}
function g$(e30, t10) {
  return function() {
    var r10 = t10.apply(this, arguments);
    if ("function" != typeof r10) throw Error();
    gs(this, e30).ease = r10;
  };
}
function gP(e30) {
  if ("function" != typeof e30) throw Error();
  return this.each(g$(this._id, e30));
}
function gB(e30) {
  "function" != typeof e30 && (e30 = lt(e30));
  for (var t10 = this._groups, r10 = t10.length, n10 = Array(r10), i10 = 0; i10 < r10; ++i10) for (var a10, s10 = t10[i10], o10 = s10.length, l10 = n10[i10] = [], h10 = 0; h10 < o10; ++h10) (a10 = s10[h10]) && e30.call(a10, a10.__data__, h10, s10) && l10.push(a10);
  return new mn(n10, this._parents, this._name, this._id);
}
function gF(e30) {
  if (e30._id !== this._id) throw Error();
  for (var t10 = this._groups, r10 = e30._groups, n10 = t10.length, i10 = r10.length, a10 = Math.min(n10, i10), s10 = Array(n10), o10 = 0; o10 < a10; ++o10) for (var l10, h10 = t10[o10], u10 = r10[o10], d10 = h10.length, p10 = s10[o10] = Array(d10), f10 = 0; f10 < d10; ++f10) (l10 = h10[f10] || u10[f10]) && (p10[f10] = l10);
  for (; o10 < n10; ++o10) s10[o10] = t10[o10];
  return new mn(s10, this._parents, this._name, this._id);
}
function gz(e30) {
  return (e30 + "").trim().split(/^|\s+/).every(function(e31) {
    var t10 = e31.indexOf(".");
    return t10 >= 0 && (e31 = e31.slice(0, t10)), !e31 || "start" === e31;
  });
}
function gj(e30, t10, r10) {
  var n10, i10, a10 = gz(t10) ? ga : gs;
  return function() {
    var s10 = a10(this, e30), o10 = s10.on;
    o10 !== n10 && (i10 = (n10 = o10).copy()).on(t10, r10), s10.on = i10;
  };
}
function gq(e30, t10) {
  var r10 = this._id;
  return arguments.length < 2 ? go(this.node(), r10).on.on(e30) : this.each(gj(r10, e30, t10));
}
function gU(e30) {
  return function() {
    var t10 = this.parentNode;
    for (var r10 in this.__transition) if (+r10 !== e30) return;
    t10 && t10.removeChild(this);
  };
}
function gW() {
  return this.on("end.remove", gU(this._id));
}
function gV(e30) {
  var t10 = this._name, r10 = this._id;
  "function" != typeof e30 && (e30 = o3(e30));
  for (var n10 = this._groups, i10 = n10.length, a10 = Array(i10), s10 = 0; s10 < i10; ++s10) for (var o10, l10, h10 = n10[s10], u10 = h10.length, d10 = a10[s10] = Array(u10), p10 = 0; p10 < u10; ++p10) (o10 = h10[p10]) && (l10 = e30.call(o10, o10.__data__, p10, h10)) && ("__data__" in o10 && (l10.__data__ = o10.__data__), d10[p10] = l10, gi(d10[p10], t10, r10, p10, d10, go(o10, r10)));
  return new mn(a10, this._parents, t10, r10);
}
function gH(e30) {
  var t10 = this._name, r10 = this._id;
  "function" != typeof e30 && (e30 = o8(e30));
  for (var n10 = this._groups, i10 = n10.length, a10 = [], s10 = [], o10 = 0; o10 < i10; ++o10) for (var l10, h10 = n10[o10], u10 = h10.length, d10 = 0; d10 < u10; ++d10) if (l10 = h10[d10]) {
    for (var p10, f10 = e30.call(l10, l10.__data__, d10, h10), g10 = go(l10, r10), y10 = 0, v10 = f10.length; y10 < v10; ++y10) (p10 = f10[y10]) && gi(p10, t10, r10, y10, f10, g10);
    a10.push(f10), s10.push(l10);
  }
  return new mn(a10, s10, t10, r10);
}
iM(gi, "default"), iM(ga, "init"), iM(gs, "set"), iM(go, "get"), iM(gl, "create"), iM(gc, "default"), iM(gh, "default"), iM(gu, "tweenRemove"), iM(gd, "tweenFunction"), iM(gp, "default"), iM(gf, "tweenValue"), iM(gg, "default"), iM(gm, "attrRemove"), iM(gy, "attrRemoveNS"), iM(gv, "attrConstant"), iM(gx, "attrConstantNS"), iM(gb, "attrFunction"), iM(gk, "attrFunctionNS"), iM(gw, "default"), iM(g_, "attrInterpolate"), iM(gT, "attrInterpolateNS"), iM(gS, "attrTweenNS"), iM(gC, "attrTween"), iM(gE, "default"), iM(gA, "delayFunction"), iM(gL, "delayConstant"), iM(gI, "default"), iM(gM, "durationFunction"), iM(gN, "durationConstant"), iM(gR, "default"), iM(gD, "easeConstant"), iM(gO, "default"), iM(g$, "easeVarying"), iM(gP, "default"), iM(gB, "default"), iM(gF, "default"), iM(gz, "start"), iM(gj, "onFunction"), iM(gq, "default"), iM(gU, "removeFunction"), iM(gW, "default"), iM(gV, "default"), iM(gH, "default");
var gY = cD.prototype.constructor;
function gG() {
  return new gY(this._groups, this._parents);
}
function gX(e30, t10) {
  var r10, n10, i10;
  return function() {
    var a10 = lG(this, e30), s10 = (this.style.removeProperty(e30), lG(this, e30));
    return a10 === s10 ? null : a10 === r10 && s10 === n10 ? i10 : i10 = t10(r10 = a10, n10 = s10);
  };
}
function gK(e30) {
  return function() {
    this.style.removeProperty(e30);
  };
}
function gZ(e30, t10, r10) {
  var n10, i10, a10 = r10 + "";
  return function() {
    var s10 = lG(this, e30);
    return s10 === a10 ? null : s10 === n10 ? i10 : i10 = t10(n10 = s10, r10);
  };
}
function gQ(e30, t10, r10) {
  var n10, i10, a10;
  return function() {
    var s10 = lG(this, e30), o10 = r10(this), l10 = o10 + "";
    return null == o10 && (this.style.removeProperty(e30), l10 = o10 = lG(this, e30)), s10 === l10 ? null : s10 === n10 && l10 === i10 ? a10 : (i10 = l10, a10 = t10(n10 = s10, o10));
  };
}
function gJ(e30, t10) {
  var r10, n10, i10, a10, s10 = "style." + t10, o10 = "end." + s10;
  return function() {
    var l10 = gs(this, e30), h10 = l10.on, u10 = null == l10.value[s10] ? a10 || (a10 = gK(t10)) : void 0;
    (h10 !== r10 || i10 !== u10) && (n10 = (r10 = h10).copy()).on(o10, i10 = u10), l10.on = n10;
  };
}
function g0(e30, t10, r10) {
  var n10 = "transform" == (e30 += "") ? h2 : gg;
  return null == t10 ? this.styleTween(e30, gX(e30, n10)).on("end.style." + e30, gK(e30)) : "function" == typeof t10 ? this.styleTween(e30, gQ(e30, n10, gf(this, "style." + e30, t10))).each(gJ(this._id, e30)) : this.styleTween(e30, gZ(e30, n10, t10), r10).on("end.style." + e30, null);
}
function g1(e30, t10, r10) {
  return function(n10) {
    this.style.setProperty(e30, t10.call(this, n10), r10);
  };
}
function g2(e30, t10, r10) {
  var n10, i10;
  function a10() {
    var a11 = t10.apply(this, arguments);
    return a11 !== i10 && (n10 = (i10 = a11) && g1(e30, a11, r10)), n10;
  }
  return iM(a10, "tween"), a10._value = t10, a10;
}
function g4(e30, t10, r10) {
  var n10 = "style." + (e30 += "");
  if (arguments.length < 2) return (n10 = this.tween(n10)) && n10._value;
  if (null == t10) return this.tween(n10, null);
  if ("function" != typeof t10) throw Error();
  return this.tween(n10, g2(e30, t10, null == r10 ? "" : r10));
}
function g3(e30) {
  return function() {
    this.textContent = e30;
  };
}
function g5(e30) {
  return function() {
    var t10 = e30(this);
    this.textContent = null == t10 ? "" : t10;
  };
}
function g6(e30) {
  return this.tween("text", "function" == typeof e30 ? g5(gf(this, "text", e30)) : g3(null == e30 ? "" : e30 + ""));
}
function g7(e30) {
  return function(t10) {
    this.textContent = e30.call(this, t10);
  };
}
function g8(e30) {
  var t10, r10;
  function n10() {
    var n11 = e30.apply(this, arguments);
    return n11 !== r10 && (t10 = (r10 = n11) && g7(n11)), t10;
  }
  return iM(n10, "tween"), n10._value = e30, n10;
}
function g9(e30) {
  var t10 = "text";
  if (arguments.length < 1) return (t10 = this.tween(t10)) && t10._value;
  if (null == e30) return this.tween(t10, null);
  if ("function" != typeof e30) throw Error();
  return this.tween(t10, g8(e30));
}
function me() {
  for (var e30 = this._name, t10 = this._id, r10 = ma(), n10 = this._groups, i10 = n10.length, a10 = 0; a10 < i10; ++a10) for (var s10, o10 = n10[a10], l10 = o10.length, h10 = 0; h10 < l10; ++h10) if (s10 = o10[h10]) {
    var u10 = go(s10, t10);
    gi(s10, e30, r10, h10, o10, { time: u10.time + u10.delay + u10.duration, delay: 0, duration: u10.duration, ease: u10.ease });
  }
  return new mn(n10, this._parents, e30, r10);
}
function mt() {
  var e30, t10, r10 = this, n10 = r10._id, i10 = r10.size();
  return new Promise(function(a10, s10) {
    var o10 = { value: s10 }, l10 = { value: iM(function() {
      0 == --i10 && a10();
    }, "value") };
    r10.each(function() {
      var r11 = gs(this, n10), i11 = r11.on;
      i11 !== e30 && ((t10 = (e30 = i11).copy())._.cancel.push(o10), t10._.interrupt.push(o10), t10._.end.push(l10)), r11.on = t10;
    }), 0 === i10 && a10();
  });
}
iM(gG, "default"), iM(gX, "styleNull"), iM(gK, "styleRemove"), iM(gZ, "styleConstant"), iM(gQ, "styleFunction"), iM(gJ, "styleMaybeRemove"), iM(g0, "default"), iM(g1, "styleInterpolate"), iM(g2, "styleTween"), iM(g4, "default"), iM(g3, "textConstant"), iM(g5, "textFunction"), iM(g6, "default"), iM(g7, "textInterpolate"), iM(g8, "textTween"), iM(g9, "default"), iM(me, "default"), iM(mt, "default");
var mr = 0;
function mn(e30, t10, r10, n10) {
  this._groups = e30, this._parents = t10, this._name = r10, this._id = n10;
}
function mi(e30) {
  return cD().transition(e30);
}
function ma() {
  return ++mr;
}
iM(mn, "Transition"), iM(mi, "transition"), iM(ma, "newId");
var ms = cD.prototype;
function mo(e30) {
  return ((e30 *= 2) <= 1 ? e30 * e30 * e30 : (e30 -= 2) * e30 * e30 + 2) / 2;
}
mn.prototype = mi.prototype = { constructor: mn, select: gV, selectAll: gH, selectChild: ms.selectChild, selectChildren: ms.selectChildren, filter: gB, merge: gF, selection: gG, transition: me, call: ms.call, nodes: ms.nodes, node: ms.node, size: ms.size, empty: ms.empty, each: ms.each, on: gq, attr: gw, attrTween: gE, style: g0, styleTween: g4, text: g6, textTween: g9, remove: gW, tween: gp, delay: gI, duration: gR, ease: gO, easeVarying: gP, end: mt, [Symbol.iterator]: ms[Symbol.iterator] }, iM(mo, "cubicInOut");
var ml = { time: null, delay: 0, duration: 250, ease: mo };
function mc(e30, t10) {
  for (var r10; !(r10 = e30.__transition) || !(r10 = r10[t10]); ) if (!(e30 = e30.parentNode)) throw Error(`transition ${t10} not found`);
  return r10;
}
function mh(e30) {
  var t10, r10;
  e30 instanceof mn ? (t10 = e30._id, e30 = e30._name) : (t10 = ma(), (r10 = ml).time = f2(), e30 = null == e30 ? null : e30 + "");
  for (var n10 = this._groups, i10 = n10.length, a10 = 0; a10 < i10; ++a10) for (var s10, o10 = n10[a10], l10 = o10.length, h10 = 0; h10 < l10; ++h10) (s10 = o10[h10]) && gi(s10, e30, t10, h10, o10, r10 || mc(s10, t10));
  return new mn(n10, this._parents, e30, t10);
}
function mu(e30) {
  return [+e30[0], +e30[1]];
}
function md(e30, t10, r10) {
  this.k = e30, this.x = t10, this.y = r10;
}
iM(mc, "inherit"), iM(mh, "default"), cD.prototype.interrupt = gh, cD.prototype.transition = mh, iM(mu, "number1"), iM(function(e30) {
  return [mu(e30[0]), mu(e30[1])];
}, "number2"), iM(function(e30) {
  return { type: e30 };
}, "type"), iM(md, "Transform"), md.prototype = { constructor: md, scale: iM(function(e30) {
  return 1 === e30 ? this : new md(this.k * e30, this.x, this.y);
}, "scale"), translate: iM(function(e30, t10) {
  return 0 === e30 & 0 === t10 ? this : new md(this.k, this.x + this.k * e30, this.y + this.k * t10);
}, "translate"), apply: iM(function(e30) {
  return [e30[0] * this.k + this.x, e30[1] * this.k + this.y];
}, "apply"), applyX: iM(function(e30) {
  return e30 * this.k + this.x;
}, "applyX"), applyY: iM(function(e30) {
  return e30 * this.k + this.y;
}, "applyY"), invert: iM(function(e30) {
  return [(e30[0] - this.x) / this.k, (e30[1] - this.y) / this.k];
}, "invert"), invertX: iM(function(e30) {
  return (e30 - this.x) / this.k;
}, "invertX"), invertY: iM(function(e30) {
  return (e30 - this.y) / this.k;
}, "invertY"), rescaleX: iM(function(e30) {
  return e30.copy().domain(e30.range().map(this.invertX, this).map(e30.invert, e30));
}, "rescaleX"), rescaleY: iM(function(e30) {
  return e30.copy().domain(e30.range().map(this.invertY, this).map(e30.invert, e30));
}, "rescaleY"), toString: iM(function() {
  return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
}, "toString") };
var mp = new md(1, 0, 0);
function mf(e30) {
  for (; !e30.__zoom; ) if (!(e30 = e30.parentNode)) return mp;
  return e30.__zoom;
}
mf.prototype = md.prototype, iM(mf, "transform");
var mg = iM((e30) => {
  let { securityLevel: t10 } = aj(), r10 = c$("body");
  if ("sandbox" === t10) {
    var n10, i10;
    let t11 = null !== (i10 = null === (n10 = c$(`#i${e30}`).node()) || void 0 === n10 ? void 0 : n10.contentDocument) && void 0 !== i10 ? i10 : document;
    r10 = c$(t11.body);
  }
  return r10.select(`#${e30}`);
}, "selectSvgElement");
function mm(e30) {
  return null == e30;
}
function my(e30) {
  return "object" == typeof e30 && null !== e30;
}
function mv(e30, t10) {
  var r10, n10 = "";
  for (r10 = 0; r10 < t10; r10 += 1) n10 += e30;
  return n10;
}
function mx(e30) {
  return 0 === e30 && Number.NEGATIVE_INFINITY === 1 / e30;
}
iM(mm, "isNothing"), iM(my, "isObject"), iM(function(e30) {
  return Array.isArray(e30) ? e30 : mm(e30) ? [] : [e30];
}, "toArray"), iM(function(e30, t10) {
  var r10, n10, i10, a10;
  if (t10) for (r10 = 0, n10 = (a10 = Object.keys(t10)).length; r10 < n10; r10 += 1) e30[i10 = a10[r10]] = t10[i10];
  return e30;
}, "extend"), iM(mv, "repeat"), iM(mx, "isNegativeZero");
var mb = { isNothing: mm, isObject: my, repeat: mv, isNegativeZero: mx };
function mk(e30, t10) {
  var r10 = "", n10 = e30.reason || "(unknown reason)";
  return e30.mark ? (e30.mark.name && (r10 += 'in "' + e30.mark.name + '" '), r10 += "(" + (e30.mark.line + 1) + ":" + (e30.mark.column + 1) + ")", !t10 && e30.mark.snippet && (r10 += "\n\n" + e30.mark.snippet), n10 + " " + r10) : n10;
}
function mw(e30, t10) {
  Error.call(this), this.name = "YAMLException", this.reason = e30, this.mark = t10, this.message = mk(this, false), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = Error().stack || "";
}
function m_(e30, t10, r10, n10, i10) {
  var a10 = "", s10 = "", o10 = Math.floor(i10 / 2) - 1;
  return n10 - t10 > o10 && (t10 = n10 - o10 + (a10 = " ... ").length), r10 - n10 > o10 && (r10 = n10 + o10 - (s10 = " ...").length), { str: a10 + e30.slice(t10, r10).replace(/\t/g, "→") + s10, pos: n10 - t10 + a10.length };
}
function mT(e30, t10) {
  return mb.repeat(" ", t10 - e30.length) + e30;
}
function mS(e30, t10) {
  if (t10 = Object.create(t10 || null), !e30.buffer) return null;
  t10.maxLength || (t10.maxLength = 79), "number" != typeof t10.indent && (t10.indent = 1), "number" != typeof t10.linesBefore && (t10.linesBefore = 3), "number" != typeof t10.linesAfter && (t10.linesAfter = 2);
  for (var r10 = /\r?\n|\r|\0/g, n10 = [0], i10 = [], a10 = -1; s10 = r10.exec(e30.buffer); ) i10.push(s10.index), n10.push(s10.index + s10[0].length), e30.position <= s10.index && a10 < 0 && (a10 = n10.length - 2);
  a10 < 0 && (a10 = n10.length - 1);
  var s10, o10, l10, h10 = "", u10 = Math.min(e30.line + t10.linesAfter, i10.length).toString().length, d10 = t10.maxLength - (t10.indent + u10 + 3);
  for (o10 = 1; o10 <= t10.linesBefore && !(a10 - o10 < 0); o10++) l10 = m_(e30.buffer, n10[a10 - o10], i10[a10 - o10], e30.position - (n10[a10] - n10[a10 - o10]), d10), h10 = mb.repeat(" ", t10.indent) + mT((e30.line - o10 + 1).toString(), u10) + " | " + l10.str + "\n" + h10;
  for (l10 = m_(e30.buffer, n10[a10], i10[a10], e30.position, d10), h10 += mb.repeat(" ", t10.indent) + mT((e30.line + 1).toString(), u10) + " | " + l10.str + "\n" + mb.repeat("-", t10.indent + u10 + 3 + l10.pos) + "^\n", o10 = 1; o10 <= t10.linesAfter && !(a10 + o10 >= i10.length); o10++) l10 = m_(e30.buffer, n10[a10 + o10], i10[a10 + o10], e30.position - (n10[a10] - n10[a10 + o10]), d10), h10 += mb.repeat(" ", t10.indent) + mT((e30.line + o10 + 1).toString(), u10) + " | " + l10.str + "\n";
  return h10.replace(/\n$/, "");
}
iM(mk, "formatError"), iM(mw, "YAMLException$1"), mw.prototype = Object.create(Error.prototype), mw.prototype.constructor = mw, mw.prototype.toString = iM(function(e30) {
  return this.name + ": " + mk(this, e30);
}, "toString"), iM(m_, "getLine"), iM(mT, "padStart"), iM(mS, "makeSnippet");
var mC = ["kind", "multi", "resolve", "construct", "instanceOf", "predicate", "represent", "representName", "defaultStyle", "styleAliases"], mE = ["scalar", "sequence", "mapping"];
function mA(e30) {
  var t10 = {};
  return null !== e30 && Object.keys(e30).forEach(function(r10) {
    e30[r10].forEach(function(e31) {
      t10[String(e31)] = r10;
    });
  }), t10;
}
function mL(e30, t10) {
  if (Object.keys(t10 = t10 || {}).forEach(function(t11) {
    if (-1 === mC.indexOf(t11)) throw new mw('Unknown option "' + t11 + '" is met in definition of "' + e30 + '" YAML type.');
  }), this.options = t10, this.tag = e30, this.kind = t10.kind || null, this.resolve = t10.resolve || function() {
    return true;
  }, this.construct = t10.construct || function(e31) {
    return e31;
  }, this.instanceOf = t10.instanceOf || null, this.predicate = t10.predicate || null, this.represent = t10.represent || null, this.representName = t10.representName || null, this.defaultStyle = t10.defaultStyle || null, this.multi = t10.multi || false, this.styleAliases = mA(t10.styleAliases || null), -1 === mE.indexOf(this.kind)) throw new mw('Unknown kind "' + this.kind + '" is specified for "' + e30 + '" YAML type.');
}
function mI(e30, t10) {
  var r10 = [];
  return e30[t10].forEach(function(e31) {
    var t11 = r10.length;
    r10.forEach(function(r11, n10) {
      r11.tag === e31.tag && r11.kind === e31.kind && r11.multi === e31.multi && (t11 = n10);
    }), r10[t11] = e31;
  }), r10;
}
function mM() {
  var e30, t10, r10 = { scalar: {}, sequence: {}, mapping: {}, fallback: {}, multi: { scalar: [], sequence: [], mapping: [], fallback: [] } };
  function n10(e31) {
    e31.multi ? (r10.multi[e31.kind].push(e31), r10.multi.fallback.push(e31)) : r10[e31.kind][e31.tag] = r10.fallback[e31.tag] = e31;
  }
  for (iM(n10, "collectType"), e30 = 0, t10 = arguments.length; e30 < t10; e30 += 1) arguments[e30].forEach(n10);
  return r10;
}
function mN(e30) {
  return this.extend(e30);
}
iM(mA, "compileStyleAliases"), iM(mL, "Type$1"), iM(mI, "compileList"), iM(mM, "compileMap"), iM(mN, "Schema$1"), mN.prototype.extend = iM(function(e30) {
  var t10 = [], r10 = [];
  if (e30 instanceof mL) r10.push(e30);
  else if (Array.isArray(e30)) r10 = r10.concat(e30);
  else if (e30 && (Array.isArray(e30.implicit) || Array.isArray(e30.explicit))) e30.implicit && (t10 = t10.concat(e30.implicit)), e30.explicit && (r10 = r10.concat(e30.explicit));
  else throw new mw("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");
  t10.forEach(function(e31) {
    if (!(e31 instanceof mL)) throw new mw("Specified list of YAML types (or a single Type object) contains a non-Type object.");
    if (e31.loadKind && "scalar" !== e31.loadKind) throw new mw("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");
    if (e31.multi) throw new mw("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.");
  }), r10.forEach(function(e31) {
    if (!(e31 instanceof mL)) throw new mw("Specified list of YAML types (or a single Type object) contains a non-Type object.");
  });
  var n10 = Object.create(mN.prototype);
  return n10.implicit = (this.implicit || []).concat(t10), n10.explicit = (this.explicit || []).concat(r10), n10.compiledImplicit = mI(n10, "implicit"), n10.compiledExplicit = mI(n10, "explicit"), n10.compiledTypeMap = mM(n10.compiledImplicit, n10.compiledExplicit), n10;
}, "extend");
var mR = new mN({ explicit: [new mL("tag:yaml.org,2002:str", { kind: "scalar", construct: iM(function(e30) {
  return null !== e30 ? e30 : "";
}, "construct") }), new mL("tag:yaml.org,2002:seq", { kind: "sequence", construct: iM(function(e30) {
  return null !== e30 ? e30 : [];
}, "construct") }), new mL("tag:yaml.org,2002:map", { kind: "mapping", construct: iM(function(e30) {
  return null !== e30 ? e30 : {};
}, "construct") })] });
function mD(e30) {
  if (null === e30) return true;
  var t10 = e30.length;
  return 1 === t10 && "~" === e30 || 4 === t10 && ("null" === e30 || "Null" === e30 || "NULL" === e30);
}
function mO() {
  return null;
}
function m$(e30) {
  return null === e30;
}
iM(mD, "resolveYamlNull"), iM(mO, "constructYamlNull"), iM(m$, "isNull");
var mP = new mL("tag:yaml.org,2002:null", { kind: "scalar", resolve: mD, construct: mO, predicate: m$, represent: { canonical: iM(function() {
  return "~";
}, "canonical"), lowercase: iM(function() {
  return "null";
}, "lowercase"), uppercase: iM(function() {
  return "NULL";
}, "uppercase"), camelcase: iM(function() {
  return "Null";
}, "camelcase"), empty: iM(function() {
  return "";
}, "empty") }, defaultStyle: "lowercase" });
function mB(e30) {
  if (null === e30) return false;
  var t10 = e30.length;
  return 4 === t10 && ("true" === e30 || "True" === e30 || "TRUE" === e30) || 5 === t10 && ("false" === e30 || "False" === e30 || "FALSE" === e30);
}
function mF(e30) {
  return "true" === e30 || "True" === e30 || "TRUE" === e30;
}
function mz(e30) {
  return "[object Boolean]" === Object.prototype.toString.call(e30);
}
iM(mB, "resolveYamlBoolean"), iM(mF, "constructYamlBoolean"), iM(mz, "isBoolean");
var mj = new mL("tag:yaml.org,2002:bool", { kind: "scalar", resolve: mB, construct: mF, predicate: mz, represent: { lowercase: iM(function(e30) {
  return e30 ? "true" : "false";
}, "lowercase"), uppercase: iM(function(e30) {
  return e30 ? "TRUE" : "FALSE";
}, "uppercase"), camelcase: iM(function(e30) {
  return e30 ? "True" : "False";
}, "camelcase") }, defaultStyle: "lowercase" });
function mq(e30) {
  return 48 <= e30 && e30 <= 57 || 65 <= e30 && e30 <= 70 || 97 <= e30 && e30 <= 102;
}
function mU(e30) {
  return 48 <= e30 && e30 <= 55;
}
function mW(e30) {
  return 48 <= e30 && e30 <= 57;
}
function mV(e30) {
  if (null === e30) return false;
  var t10, r10 = e30.length, n10 = 0, i10 = false;
  if (!r10) return false;
  if (("-" === (t10 = e30[n10]) || "+" === t10) && (t10 = e30[++n10]), "0" === t10) {
    if (n10 + 1 === r10) return true;
    if ("b" === (t10 = e30[++n10])) {
      for (n10++; n10 < r10; n10++) if ("_" !== (t10 = e30[n10])) {
        if ("0" !== t10 && "1" !== t10) return false;
        i10 = true;
      }
      return i10 && "_" !== t10;
    }
    if ("x" === t10) {
      for (n10++; n10 < r10; n10++) if ("_" !== (t10 = e30[n10])) {
        if (!mq(e30.charCodeAt(n10))) return false;
        i10 = true;
      }
      return i10 && "_" !== t10;
    }
    if ("o" === t10) {
      for (n10++; n10 < r10; n10++) if ("_" !== (t10 = e30[n10])) {
        if (!mU(e30.charCodeAt(n10))) return false;
        i10 = true;
      }
      return i10 && "_" !== t10;
    }
  }
  if ("_" === t10) return false;
  for (; n10 < r10; n10++) if ("_" !== (t10 = e30[n10])) {
    if (!mW(e30.charCodeAt(n10))) return false;
    i10 = true;
  }
  return !!i10 && "_" !== t10;
}
function mH(e30) {
  var t10, r10 = e30, n10 = 1;
  if (-1 !== r10.indexOf("_") && (r10 = r10.replace(/_/g, "")), ("-" === (t10 = r10[0]) || "+" === t10) && ("-" === t10 && (n10 = -1), t10 = (r10 = r10.slice(1))[0]), "0" === r10) return 0;
  if ("0" === t10) {
    if ("b" === r10[1]) return n10 * parseInt(r10.slice(2), 2);
    if ("x" === r10[1]) return n10 * parseInt(r10.slice(2), 16);
    if ("o" === r10[1]) return n10 * parseInt(r10.slice(2), 8);
  }
  return n10 * parseInt(r10, 10);
}
function mY(e30) {
  return "[object Number]" === Object.prototype.toString.call(e30) && e30 % 1 == 0 && !mb.isNegativeZero(e30);
}
iM(mq, "isHexCode"), iM(mU, "isOctCode"), iM(mW, "isDecCode"), iM(mV, "resolveYamlInteger"), iM(mH, "constructYamlInteger"), iM(mY, "isInteger");
var mG = new mL("tag:yaml.org,2002:int", { kind: "scalar", resolve: mV, construct: mH, predicate: mY, represent: { binary: iM(function(e30) {
  return e30 >= 0 ? "0b" + e30.toString(2) : "-0b" + e30.toString(2).slice(1);
}, "binary"), octal: iM(function(e30) {
  return e30 >= 0 ? "0o" + e30.toString(8) : "-0o" + e30.toString(8).slice(1);
}, "octal"), decimal: iM(function(e30) {
  return e30.toString(10);
}, "decimal"), hexadecimal: iM(function(e30) {
  return e30 >= 0 ? "0x" + e30.toString(16).toUpperCase() : "-0x" + e30.toString(16).toUpperCase().slice(1);
}, "hexadecimal") }, defaultStyle: "decimal", styleAliases: { binary: [2, "bin"], octal: [8, "oct"], decimal: [10, "dec"], hexadecimal: [16, "hex"] } }), mX = RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");
function mK(e30) {
  return !!(null !== e30 && mX.test(e30) && "_" !== e30[e30.length - 1]);
}
function mZ(e30) {
  var t10, r10;
  return (r10 = "-" === (t10 = e30.replace(/_/g, "").toLowerCase())[0] ? -1 : 1, "+-".indexOf(t10[0]) >= 0 && (t10 = t10.slice(1)), ".inf" === t10) ? 1 === r10 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY : ".nan" === t10 ? NaN : r10 * parseFloat(t10, 10);
}
iM(mK, "resolveYamlFloat"), iM(mZ, "constructYamlFloat");
var mQ = /^[-+]?[0-9]+e/;
function mJ(e30, t10) {
  var r10;
  if (isNaN(e30)) switch (t10) {
    case "lowercase":
      return ".nan";
    case "uppercase":
      return ".NAN";
    case "camelcase":
      return ".NaN";
  }
  else if (Number.POSITIVE_INFINITY === e30) switch (t10) {
    case "lowercase":
      return ".inf";
    case "uppercase":
      return ".INF";
    case "camelcase":
      return ".Inf";
  }
  else if (Number.NEGATIVE_INFINITY === e30) switch (t10) {
    case "lowercase":
      return "-.inf";
    case "uppercase":
      return "-.INF";
    case "camelcase":
      return "-.Inf";
  }
  else if (mb.isNegativeZero(e30)) return "-0.0";
  return r10 = e30.toString(10), mQ.test(r10) ? r10.replace("e", ".e") : r10;
}
function m0(e30) {
  return "[object Number]" === Object.prototype.toString.call(e30) && (e30 % 1 != 0 || mb.isNegativeZero(e30));
}
iM(mJ, "representYamlFloat"), iM(m0, "isFloat");
var m1 = new mL("tag:yaml.org,2002:float", { kind: "scalar", resolve: mK, construct: mZ, predicate: m0, represent: mJ, defaultStyle: "lowercase" }), m2 = mR.extend({ implicit: [mP, mj, mG, m1] }), m4 = RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"), m3 = RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");
function m5(e30) {
  return null !== e30 && (null !== m4.exec(e30) || null !== m3.exec(e30));
}
function m6(e30) {
  var t10, r10, n10, i10, a10, s10, o10, l10, h10 = 0, u10 = null;
  if (null === (t10 = m4.exec(e30)) && (t10 = m3.exec(e30)), null === t10) throw Error("Date resolve error");
  if (r10 = +t10[1], n10 = +t10[2] - 1, i10 = +t10[3], !t10[4]) return new Date(Date.UTC(r10, n10, i10));
  if (a10 = +t10[4], s10 = +t10[5], o10 = +t10[6], t10[7]) {
    for (h10 = t10[7].slice(0, 3); h10.length < 3; ) h10 += "0";
    h10 = +h10;
  }
  return t10[9] && (u10 = (60 * +t10[10] + +(t10[11] || 0)) * 6e4, "-" === t10[9] && (u10 = -u10)), l10 = new Date(Date.UTC(r10, n10, i10, a10, s10, o10, h10)), u10 && l10.setTime(l10.getTime() - u10), l10;
}
function m7(e30) {
  return e30.toISOString();
}
iM(m5, "resolveYamlTimestamp"), iM(m6, "constructYamlTimestamp"), iM(m7, "representYamlTimestamp");
var m8 = new mL("tag:yaml.org,2002:timestamp", { kind: "scalar", resolve: m5, construct: m6, instanceOf: Date, represent: m7 });
function m9(e30) {
  return "<<" === e30 || null === e30;
}
iM(m9, "resolveYamlMerge");
var ye = new mL("tag:yaml.org,2002:merge", { kind: "scalar", resolve: m9 }), yt = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";
function yr(e30) {
  if (null === e30) return false;
  var t10, r10, n10 = 0, i10 = e30.length;
  for (r10 = 0; r10 < i10; r10++) if (!((t10 = yt.indexOf(e30.charAt(r10))) > 64)) {
    if (t10 < 0) return false;
    n10 += 6;
  }
  return n10 % 8 == 0;
}
function yn(e30) {
  var t10, r10, n10 = e30.replace(/[\r\n=]/g, ""), i10 = n10.length, a10 = 0, s10 = [];
  for (t10 = 0; t10 < i10; t10++) t10 % 4 == 0 && t10 && (s10.push(a10 >> 16 & 255), s10.push(a10 >> 8 & 255), s10.push(255 & a10)), a10 = a10 << 6 | yt.indexOf(n10.charAt(t10));
  return 0 == (r10 = i10 % 4 * 6) ? (s10.push(a10 >> 16 & 255), s10.push(a10 >> 8 & 255), s10.push(255 & a10)) : 18 === r10 ? (s10.push(a10 >> 10 & 255), s10.push(a10 >> 2 & 255)) : 12 === r10 && s10.push(a10 >> 4 & 255), new Uint8Array(s10);
}
function yi(e30) {
  var t10, r10, n10 = "", i10 = 0, a10 = e30.length;
  for (t10 = 0; t10 < a10; t10++) t10 % 3 == 0 && t10 && (n10 += yt[i10 >> 18 & 63], n10 += yt[i10 >> 12 & 63], n10 += yt[i10 >> 6 & 63], n10 += yt[63 & i10]), i10 = (i10 << 8) + e30[t10];
  return 0 == (r10 = a10 % 3) ? (n10 += yt[i10 >> 18 & 63], n10 += yt[i10 >> 12 & 63], n10 += yt[i10 >> 6 & 63], n10 += yt[63 & i10]) : 2 === r10 ? (n10 += yt[i10 >> 10 & 63], n10 += yt[i10 >> 4 & 63], n10 += yt[i10 << 2 & 63], n10 += yt[64]) : 1 === r10 && (n10 += yt[i10 >> 2 & 63], n10 += yt[i10 << 4 & 63], n10 += yt[64], n10 += yt[64]), n10;
}
function ya(e30) {
  return "[object Uint8Array]" === Object.prototype.toString.call(e30);
}
iM(yr, "resolveYamlBinary"), iM(yn, "constructYamlBinary"), iM(yi, "representYamlBinary"), iM(ya, "isBinary");
var ys = new mL("tag:yaml.org,2002:binary", { kind: "scalar", resolve: yr, construct: yn, predicate: ya, represent: yi }), yo = Object.prototype.hasOwnProperty, yl = Object.prototype.toString;
function yc(e30) {
  if (null === e30) return true;
  var t10, r10, n10, i10, a10, s10 = [];
  for (t10 = 0, r10 = e30.length; t10 < r10; t10 += 1) {
    if (n10 = e30[t10], a10 = false, "[object Object]" !== yl.call(n10)) return false;
    for (i10 in n10) if (yo.call(n10, i10)) {
      if (a10) return false;
      a10 = true;
    }
    if (!a10 || -1 !== s10.indexOf(i10)) return false;
    s10.push(i10);
  }
  return true;
}
function yh(e30) {
  return null !== e30 ? e30 : [];
}
iM(yc, "resolveYamlOmap"), iM(yh, "constructYamlOmap");
var yu = new mL("tag:yaml.org,2002:omap", { kind: "sequence", resolve: yc, construct: yh }), yd = Object.prototype.toString;
function yp(e30) {
  var t10, r10, n10, i10, a10;
  if (null === e30) return true;
  for (t10 = 0, a10 = Array(e30.length), r10 = e30.length; t10 < r10; t10 += 1) {
    if (n10 = e30[t10], "[object Object]" !== yd.call(n10) || 1 !== (i10 = Object.keys(n10)).length) return false;
    a10[t10] = [i10[0], n10[i10[0]]];
  }
  return true;
}
function yf(e30) {
  var t10, r10, n10, i10, a10;
  if (null === e30) return [];
  for (t10 = 0, a10 = Array(e30.length), r10 = e30.length; t10 < r10; t10 += 1) i10 = Object.keys(n10 = e30[t10]), a10[t10] = [i10[0], n10[i10[0]]];
  return a10;
}
iM(yp, "resolveYamlPairs"), iM(yf, "constructYamlPairs");
var yg = new mL("tag:yaml.org,2002:pairs", { kind: "sequence", resolve: yp, construct: yf }), ym = Object.prototype.hasOwnProperty;
function yy(e30) {
  var t10;
  if (null === e30) return true;
  for (t10 in e30) if (ym.call(e30, t10) && null !== e30[t10]) return false;
  return true;
}
function yv(e30) {
  return null !== e30 ? e30 : {};
}
iM(yy, "resolveYamlSet"), iM(yv, "constructYamlSet");
var yx = new mL("tag:yaml.org,2002:set", { kind: "mapping", resolve: yy, construct: yv }), yb = m2.extend({ implicit: [m8, ye], explicit: [ys, yu, yg, yx] }), yk = Object.prototype.hasOwnProperty, yw = /[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/, y_ = /[\x85\u2028\u2029]/, yT = /[,\[\]\{\}]/, yS = /^(?:!|!!|![a-z\-]+!)$/i, yC = /^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;
function yE(e30) {
  return Object.prototype.toString.call(e30);
}
function yA(e30) {
  return 10 === e30 || 13 === e30;
}
function yL(e30) {
  return 9 === e30 || 32 === e30;
}
function yI(e30) {
  return 9 === e30 || 32 === e30 || 10 === e30 || 13 === e30;
}
function yM(e30) {
  return 44 === e30 || 91 === e30 || 93 === e30 || 123 === e30 || 125 === e30;
}
function yN(e30) {
  var t10;
  return 48 <= e30 && e30 <= 57 ? e30 - 48 : 97 <= (t10 = 32 | e30) && t10 <= 102 ? t10 - 97 + 10 : -1;
}
function yR(e30) {
  return 120 === e30 ? 2 : 117 === e30 ? 4 : 85 === e30 ? 8 : 0;
}
function yD(e30) {
  return 48 <= e30 && e30 <= 57 ? e30 - 48 : -1;
}
function yO(e30) {
  return 48 === e30 ? "\0" : 97 === e30 ? "\x07" : 98 === e30 ? "\b" : 116 === e30 ? "	" : 9 === e30 ? "	" : 110 === e30 ? "\n" : 118 === e30 ? "\v" : 102 === e30 ? "\f" : 114 === e30 ? "\r" : 101 === e30 ? "\x1B" : 32 === e30 ? " " : 34 === e30 ? '"' : 47 === e30 ? "/" : 92 === e30 ? "\\" : 78 === e30 ? "" : 95 === e30 ? " " : 76 === e30 ? "\u2028" : 80 === e30 ? "\u2029" : "";
}
function y$(e30) {
  return e30 <= 65535 ? String.fromCharCode(e30) : String.fromCharCode((e30 - 65536 >> 10) + 55296, (e30 - 65536 & 1023) + 56320);
}
iM(yE, "_class"), iM(yA, "is_EOL"), iM(yL, "is_WHITE_SPACE"), iM(yI, "is_WS_OR_EOL"), iM(yM, "is_FLOW_INDICATOR"), iM(yN, "fromHexCode"), iM(yR, "escapedHexLen"), iM(yD, "fromDecimalCode"), iM(yO, "simpleEscapeSequence"), iM(y$, "charFromCodepoint");
var yP = Array(256), yB = Array(256);
for (t5 = 0; t5 < 256; t5++) yP[t5] = yO(t5) ? 1 : 0, yB[t5] = yO(t5);
function yF(e30, t10) {
  this.input = e30, this.filename = t10.filename || null, this.schema = t10.schema || yb, this.onWarning = t10.onWarning || null, this.legacy = t10.legacy || false, this.json = t10.json || false, this.listener = t10.listener || null, this.implicitTypes = this.schema.compiledImplicit, this.typeMap = this.schema.compiledTypeMap, this.length = e30.length, this.position = 0, this.line = 0, this.lineStart = 0, this.lineIndent = 0, this.firstTabInLine = -1, this.documents = [];
}
function yz(e30, t10) {
  var r10 = { name: e30.filename, buffer: e30.input.slice(0, -1), position: e30.position, line: e30.line, column: e30.position - e30.lineStart };
  return r10.snippet = mS(r10), new mw(t10, r10);
}
function yj(e30, t10) {
  throw yz(e30, t10);
}
function yq(e30, t10) {
  e30.onWarning && e30.onWarning.call(null, yz(e30, t10));
}
iM(yF, "State$1"), iM(yz, "generateError"), iM(yj, "throwError"), iM(yq, "throwWarning");
var yU = { YAML: iM(function(e30, t10, r10) {
  var n10, i10, a10;
  null !== e30.version && yj(e30, "duplication of %YAML directive"), 1 !== r10.length && yj(e30, "YAML directive accepts exactly one argument"), null === (n10 = /^([0-9]+)\.([0-9]+)$/.exec(r10[0])) && yj(e30, "ill-formed argument of the YAML directive"), i10 = parseInt(n10[1], 10), a10 = parseInt(n10[2], 10), 1 !== i10 && yj(e30, "unacceptable YAML version of the document"), e30.version = r10[0], e30.checkLineBreaks = a10 < 2, 1 !== a10 && 2 !== a10 && yq(e30, "unsupported YAML version of the document");
}, "handleYamlDirective"), TAG: iM(function(e30, t10, r10) {
  var n10, i10;
  2 !== r10.length && yj(e30, "TAG directive accepts exactly two arguments"), n10 = r10[0], i10 = r10[1], yS.test(n10) || yj(e30, "ill-formed tag handle (first argument) of the TAG directive"), yk.call(e30.tagMap, n10) && yj(e30, 'there is a previously declared suffix for "' + n10 + '" tag handle'), yC.test(i10) || yj(e30, "ill-formed tag prefix (second argument) of the TAG directive");
  try {
    i10 = decodeURIComponent(i10);
  } catch (t11) {
    yj(e30, "tag prefix is malformed: " + i10);
  }
  e30.tagMap[n10] = i10;
}, "handleTagDirective") };
function yW(e30, t10, r10, n10) {
  var i10, a10, s10, o10;
  if (t10 < r10) {
    if (o10 = e30.input.slice(t10, r10), n10) for (i10 = 0, a10 = o10.length; i10 < a10; i10 += 1) 9 === (s10 = o10.charCodeAt(i10)) || 32 <= s10 && s10 <= 1114111 || yj(e30, "expected valid JSON character");
    else yw.test(o10) && yj(e30, "the stream contains non-printable characters");
    e30.result += o10;
  }
}
function yV(e30, t10, r10, n10) {
  var i10, a10, s10, o10;
  for (mb.isObject(r10) || yj(e30, "cannot merge mappings; the provided source object is unacceptable"), s10 = 0, o10 = (i10 = Object.keys(r10)).length; s10 < o10; s10 += 1) a10 = i10[s10], yk.call(t10, a10) || (t10[a10] = r10[a10], n10[a10] = true);
}
function yH(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  var h10, u10;
  if (Array.isArray(i10)) for (h10 = 0, u10 = (i10 = Array.prototype.slice.call(i10)).length; h10 < u10; h10 += 1) Array.isArray(i10[h10]) && yj(e30, "nested arrays are not supported inside keys"), "object" == typeof i10 && "[object Object]" === yE(i10[h10]) && (i10[h10] = "[object Object]");
  if ("object" == typeof i10 && "[object Object]" === yE(i10) && (i10 = "[object Object]"), i10 = String(i10), null === t10 && (t10 = {}), "tag:yaml.org,2002:merge" === n10) {
    if (Array.isArray(a10)) for (h10 = 0, u10 = a10.length; h10 < u10; h10 += 1) yV(e30, t10, a10[h10], r10);
    else yV(e30, t10, a10, r10);
  } else !e30.json && !yk.call(r10, i10) && yk.call(t10, i10) && (e30.line = s10 || e30.line, e30.lineStart = o10 || e30.lineStart, e30.position = l10 || e30.position, yj(e30, "duplicated mapping key")), "__proto__" === i10 ? Object.defineProperty(t10, i10, { configurable: true, enumerable: true, writable: true, value: a10 }) : t10[i10] = a10, delete r10[i10];
  return t10;
}
function yY(e30) {
  var t10;
  10 === (t10 = e30.input.charCodeAt(e30.position)) ? e30.position++ : 13 === t10 ? (e30.position++, 10 === e30.input.charCodeAt(e30.position) && e30.position++) : yj(e30, "a line break is expected"), e30.line += 1, e30.lineStart = e30.position, e30.firstTabInLine = -1;
}
function yG(e30, t10, r10) {
  for (var n10 = 0, i10 = e30.input.charCodeAt(e30.position); 0 !== i10; ) {
    for (; yL(i10); ) 9 === i10 && -1 === e30.firstTabInLine && (e30.firstTabInLine = e30.position), i10 = e30.input.charCodeAt(++e30.position);
    if (t10 && 35 === i10) do
      i10 = e30.input.charCodeAt(++e30.position);
    while (10 !== i10 && 13 !== i10 && 0 !== i10);
    if (yA(i10)) for (yY(e30), i10 = e30.input.charCodeAt(e30.position), n10++, e30.lineIndent = 0; 32 === i10; ) e30.lineIndent++, i10 = e30.input.charCodeAt(++e30.position);
    else break;
  }
  return -1 !== r10 && 0 !== n10 && e30.lineIndent < r10 && yq(e30, "deficient indentation"), n10;
}
function yX(e30) {
  var t10, r10 = e30.position;
  return !!((45 === (t10 = e30.input.charCodeAt(r10)) || 46 === t10) && t10 === e30.input.charCodeAt(r10 + 1) && t10 === e30.input.charCodeAt(r10 + 2) && (r10 += 3, 0 === (t10 = e30.input.charCodeAt(r10)) || yI(t10)));
}
function yK(e30, t10) {
  1 === t10 ? e30.result += " " : t10 > 1 && (e30.result += mb.repeat("\n", t10 - 1));
}
function yZ(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10, h10, u10, d10 = e30.kind, p10 = e30.result;
  if (yI(u10 = e30.input.charCodeAt(e30.position)) || yM(u10) || 35 === u10 || 38 === u10 || 42 === u10 || 33 === u10 || 124 === u10 || 62 === u10 || 39 === u10 || 34 === u10 || 37 === u10 || 64 === u10 || 96 === u10 || (63 === u10 || 45 === u10) && (yI(n10 = e30.input.charCodeAt(e30.position + 1)) || r10 && yM(n10))) return false;
  for (e30.kind = "scalar", e30.result = "", i10 = a10 = e30.position, s10 = false; 0 !== u10; ) {
    if (58 === u10) {
      if (yI(n10 = e30.input.charCodeAt(e30.position + 1)) || r10 && yM(n10)) break;
    } else if (35 === u10) {
      if (yI(e30.input.charCodeAt(e30.position - 1))) break;
    } else if (e30.position === e30.lineStart && yX(e30) || r10 && yM(u10)) break;
    else if (yA(u10)) {
      if (o10 = e30.line, l10 = e30.lineStart, h10 = e30.lineIndent, yG(e30, false, -1), e30.lineIndent >= t10) {
        s10 = true, u10 = e30.input.charCodeAt(e30.position);
        continue;
      }
      e30.position = a10, e30.line = o10, e30.lineStart = l10, e30.lineIndent = h10;
      break;
    }
    s10 && (yW(e30, i10, a10, false), yK(e30, e30.line - o10), i10 = a10 = e30.position, s10 = false), yL(u10) || (a10 = e30.position + 1), u10 = e30.input.charCodeAt(++e30.position);
  }
  return yW(e30, i10, a10, false), !!e30.result || (e30.kind = d10, e30.result = p10, false);
}
function yQ(e30, t10) {
  var r10, n10, i10;
  if (39 !== (r10 = e30.input.charCodeAt(e30.position))) return false;
  for (e30.kind = "scalar", e30.result = "", e30.position++, n10 = i10 = e30.position; 0 !== (r10 = e30.input.charCodeAt(e30.position)); ) if (39 === r10) {
    if (yW(e30, n10, e30.position, true), 39 !== (r10 = e30.input.charCodeAt(++e30.position))) return true;
    n10 = e30.position, e30.position++, i10 = e30.position;
  } else yA(r10) ? (yW(e30, n10, i10, true), yK(e30, yG(e30, false, t10)), n10 = i10 = e30.position) : e30.position === e30.lineStart && yX(e30) ? yj(e30, "unexpected end of the document within a single quoted scalar") : (e30.position++, i10 = e30.position);
  yj(e30, "unexpected end of the stream within a single quoted scalar");
}
function yJ(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  if (34 !== (o10 = e30.input.charCodeAt(e30.position))) return false;
  for (e30.kind = "scalar", e30.result = "", e30.position++, r10 = n10 = e30.position; 0 !== (o10 = e30.input.charCodeAt(e30.position)); ) {
    if (34 === o10) return yW(e30, r10, e30.position, true), e30.position++, true;
    if (92 === o10) {
      if (yW(e30, r10, e30.position, true), yA(o10 = e30.input.charCodeAt(++e30.position))) yG(e30, false, t10);
      else if (o10 < 256 && yP[o10]) e30.result += yB[o10], e30.position++;
      else if ((s10 = yR(o10)) > 0) {
        for (i10 = s10, a10 = 0; i10 > 0; i10--) (s10 = yN(o10 = e30.input.charCodeAt(++e30.position))) >= 0 ? a10 = (a10 << 4) + s10 : yj(e30, "expected hexadecimal character");
        e30.result += y$(a10), e30.position++;
      } else yj(e30, "unknown escape sequence");
      r10 = n10 = e30.position;
    } else yA(o10) ? (yW(e30, r10, n10, true), yK(e30, yG(e30, false, t10)), r10 = n10 = e30.position) : e30.position === e30.lineStart && yX(e30) ? yj(e30, "unexpected end of the document within a double quoted scalar") : (e30.position++, n10 = e30.position);
  }
  yj(e30, "unexpected end of the stream within a double quoted scalar");
}
function y0(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10 = true, y10 = e30.tag, v10 = e30.anchor, x10 = /* @__PURE__ */ Object.create(null);
  if (91 === (f10 = e30.input.charCodeAt(e30.position))) s10 = 93, h10 = false, a10 = [];
  else {
    if (123 !== f10) return false;
    s10 = 125, h10 = true, a10 = {};
  }
  for (null !== e30.anchor && (e30.anchorMap[e30.anchor] = a10), f10 = e30.input.charCodeAt(++e30.position); 0 !== f10; ) {
    if (yG(e30, true, t10), (f10 = e30.input.charCodeAt(e30.position)) === s10) return e30.position++, e30.tag = y10, e30.anchor = v10, e30.kind = h10 ? "mapping" : "sequence", e30.result = a10, true;
    g10 ? 44 === f10 && yj(e30, "expected the node content, but found ','") : yj(e30, "missed comma between flow collection entries"), d10 = u10 = p10 = null, o10 = l10 = false, 63 === f10 && yI(e30.input.charCodeAt(e30.position + 1)) && (o10 = l10 = true, e30.position++, yG(e30, true, t10)), r10 = e30.line, n10 = e30.lineStart, i10 = e30.position, y7(e30, t10, 1, false, true), d10 = e30.tag, u10 = e30.result, yG(e30, true, t10), f10 = e30.input.charCodeAt(e30.position), (l10 || e30.line === r10) && 58 === f10 && (o10 = true, f10 = e30.input.charCodeAt(++e30.position), yG(e30, true, t10), y7(e30, t10, 1, false, true), p10 = e30.result), h10 ? yH(e30, a10, x10, d10, u10, p10, r10, n10, i10) : o10 ? a10.push(yH(e30, null, x10, d10, u10, p10, r10, n10, i10)) : a10.push(u10), yG(e30, true, t10), 44 === (f10 = e30.input.charCodeAt(e30.position)) ? (g10 = true, f10 = e30.input.charCodeAt(++e30.position)) : g10 = false;
  }
  yj(e30, "unexpected end of the stream within a flow collection");
}
function y1(e30, t10) {
  var r10, n10, i10, a10, s10 = 1, o10 = false, l10 = false, h10 = t10, u10 = 0, d10 = false;
  if (124 === (a10 = e30.input.charCodeAt(e30.position))) n10 = false;
  else {
    if (62 !== a10) return false;
    n10 = true;
  }
  for (e30.kind = "scalar", e30.result = ""; 0 !== a10; ) if (43 === (a10 = e30.input.charCodeAt(++e30.position)) || 45 === a10) 1 === s10 ? s10 = 43 === a10 ? 3 : 2 : yj(e30, "repeat of a chomping mode identifier");
  else if ((i10 = yD(a10)) >= 0) 0 === i10 ? yj(e30, "bad explicit indentation width of a block scalar; it cannot be less than one") : l10 ? yj(e30, "repeat of an indentation width identifier") : (h10 = t10 + i10 - 1, l10 = true);
  else break;
  if (yL(a10)) {
    do
      a10 = e30.input.charCodeAt(++e30.position);
    while (yL(a10));
    if (35 === a10) do
      a10 = e30.input.charCodeAt(++e30.position);
    while (!yA(a10) && 0 !== a10);
  }
  for (; 0 !== a10; ) {
    for (yY(e30), e30.lineIndent = 0, a10 = e30.input.charCodeAt(e30.position); (!l10 || e30.lineIndent < h10) && 32 === a10; ) e30.lineIndent++, a10 = e30.input.charCodeAt(++e30.position);
    if (!l10 && e30.lineIndent > h10 && (h10 = e30.lineIndent), yA(a10)) {
      u10++;
      continue;
    }
    if (e30.lineIndent < h10) {
      3 === s10 ? e30.result += mb.repeat("\n", o10 ? 1 + u10 : u10) : 1 === s10 && o10 && (e30.result += "\n");
      break;
    }
    for (n10 ? yL(a10) ? (d10 = true, e30.result += mb.repeat("\n", o10 ? 1 + u10 : u10)) : d10 ? (d10 = false, e30.result += mb.repeat("\n", u10 + 1)) : 0 === u10 ? o10 && (e30.result += " ") : e30.result += mb.repeat("\n", u10) : e30.result += mb.repeat("\n", o10 ? 1 + u10 : u10), o10 = true, l10 = true, u10 = 0, r10 = e30.position; !yA(a10) && 0 !== a10; ) a10 = e30.input.charCodeAt(++e30.position);
    yW(e30, r10, e30.position, false);
  }
  return true;
}
function y2(e30, t10) {
  var r10, n10, i10 = e30.tag, a10 = e30.anchor, s10 = [], o10 = false;
  if (-1 !== e30.firstTabInLine) return false;
  for (null !== e30.anchor && (e30.anchorMap[e30.anchor] = s10), n10 = e30.input.charCodeAt(e30.position); 0 !== n10 && (-1 !== e30.firstTabInLine && (e30.position = e30.firstTabInLine, yj(e30, "tab characters must not be used in indentation")), 45 === n10 && yI(e30.input.charCodeAt(e30.position + 1))); ) {
    if (o10 = true, e30.position++, yG(e30, true, -1) && e30.lineIndent <= t10) {
      s10.push(null), n10 = e30.input.charCodeAt(e30.position);
      continue;
    }
    if (r10 = e30.line, y7(e30, t10, 3, false, true), s10.push(e30.result), yG(e30, true, -1), n10 = e30.input.charCodeAt(e30.position), (e30.line === r10 || e30.lineIndent > t10) && 0 !== n10) yj(e30, "bad indentation of a sequence entry");
    else if (e30.lineIndent < t10) break;
  }
  return !!o10 && (e30.tag = i10, e30.anchor = a10, e30.kind = "sequence", e30.result = s10, true);
}
function y4(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10, h10, u10 = e30.tag, d10 = e30.anchor, p10 = {}, f10 = /* @__PURE__ */ Object.create(null), g10 = null, y10 = null, v10 = null, x10 = false, b10 = false;
  if (-1 !== e30.firstTabInLine) return false;
  for (null !== e30.anchor && (e30.anchorMap[e30.anchor] = p10), h10 = e30.input.charCodeAt(e30.position); 0 !== h10; ) {
    if (x10 || -1 === e30.firstTabInLine || (e30.position = e30.firstTabInLine, yj(e30, "tab characters must not be used in indentation")), n10 = e30.input.charCodeAt(e30.position + 1), a10 = e30.line, (63 === h10 || 58 === h10) && yI(n10)) 63 === h10 ? (x10 && (yH(e30, p10, f10, g10, y10, null, s10, o10, l10), g10 = y10 = v10 = null), b10 = true, x10 = true, i10 = true) : x10 ? (x10 = false, i10 = true) : yj(e30, "incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"), e30.position += 1, h10 = n10;
    else {
      if (s10 = e30.line, o10 = e30.lineStart, l10 = e30.position, !y7(e30, r10, 2, false, true)) break;
      if (e30.line === a10) {
        for (h10 = e30.input.charCodeAt(e30.position); yL(h10); ) h10 = e30.input.charCodeAt(++e30.position);
        if (58 === h10) yI(h10 = e30.input.charCodeAt(++e30.position)) || yj(e30, "a whitespace character is expected after the key-value separator within a block mapping"), x10 && (yH(e30, p10, f10, g10, y10, null, s10, o10, l10), g10 = y10 = v10 = null), b10 = true, x10 = false, i10 = false, g10 = e30.tag, y10 = e30.result;
        else {
          if (!b10) return e30.tag = u10, e30.anchor = d10, true;
          yj(e30, "can not read an implicit mapping pair; a colon is missed");
        }
      } else {
        if (!b10) return e30.tag = u10, e30.anchor = d10, true;
        yj(e30, "can not read a block mapping entry; a multiline key may not be an implicit key");
      }
    }
    if ((e30.line === a10 || e30.lineIndent > t10) && (x10 && (s10 = e30.line, o10 = e30.lineStart, l10 = e30.position), y7(e30, t10, 4, true, i10) && (x10 ? y10 = e30.result : v10 = e30.result), x10 || (yH(e30, p10, f10, g10, y10, v10, s10, o10, l10), g10 = y10 = v10 = null), yG(e30, true, -1), h10 = e30.input.charCodeAt(e30.position)), (e30.line === a10 || e30.lineIndent > t10) && 0 !== h10) yj(e30, "bad indentation of a mapping entry");
    else if (e30.lineIndent < t10) break;
  }
  return x10 && yH(e30, p10, f10, g10, y10, null, s10, o10, l10), b10 && (e30.tag = u10, e30.anchor = d10, e30.kind = "mapping", e30.result = p10), b10;
}
function y3(e30) {
  var t10, r10, n10, i10, a10 = false, s10 = false;
  if (33 !== (i10 = e30.input.charCodeAt(e30.position))) return false;
  if (null !== e30.tag && yj(e30, "duplication of a tag property"), 60 === (i10 = e30.input.charCodeAt(++e30.position)) ? (a10 = true, i10 = e30.input.charCodeAt(++e30.position)) : 33 === i10 ? (s10 = true, r10 = "!!", i10 = e30.input.charCodeAt(++e30.position)) : r10 = "!", t10 = e30.position, a10) {
    do
      i10 = e30.input.charCodeAt(++e30.position);
    while (0 !== i10 && 62 !== i10);
    e30.position < e30.length ? (n10 = e30.input.slice(t10, e30.position), i10 = e30.input.charCodeAt(++e30.position)) : yj(e30, "unexpected end of the stream within a verbatim tag");
  } else {
    for (; 0 !== i10 && !yI(i10); ) 33 === i10 && (s10 ? yj(e30, "tag suffix cannot contain exclamation marks") : (r10 = e30.input.slice(t10 - 1, e30.position + 1), yS.test(r10) || yj(e30, "named tag handle cannot contain such characters"), s10 = true, t10 = e30.position + 1)), i10 = e30.input.charCodeAt(++e30.position);
    n10 = e30.input.slice(t10, e30.position), yT.test(n10) && yj(e30, "tag suffix cannot contain flow indicator characters");
  }
  n10 && !yC.test(n10) && yj(e30, "tag name cannot contain such characters: " + n10);
  try {
    n10 = decodeURIComponent(n10);
  } catch (t11) {
    yj(e30, "tag name is malformed: " + n10);
  }
  return a10 ? e30.tag = n10 : yk.call(e30.tagMap, r10) ? e30.tag = e30.tagMap[r10] + n10 : "!" === r10 ? e30.tag = "!" + n10 : "!!" === r10 ? e30.tag = "tag:yaml.org,2002:" + n10 : yj(e30, 'undeclared tag handle "' + r10 + '"'), true;
}
function y5(e30) {
  var t10, r10;
  if (38 !== (r10 = e30.input.charCodeAt(e30.position))) return false;
  for (null !== e30.anchor && yj(e30, "duplication of an anchor property"), r10 = e30.input.charCodeAt(++e30.position), t10 = e30.position; 0 !== r10 && !yI(r10) && !yM(r10); ) r10 = e30.input.charCodeAt(++e30.position);
  return e30.position === t10 && yj(e30, "name of an anchor node must contain at least one character"), e30.anchor = e30.input.slice(t10, e30.position), true;
}
function y6(e30) {
  var t10, r10, n10;
  if (42 !== (n10 = e30.input.charCodeAt(e30.position))) return false;
  for (n10 = e30.input.charCodeAt(++e30.position), t10 = e30.position; 0 !== n10 && !yI(n10) && !yM(n10); ) n10 = e30.input.charCodeAt(++e30.position);
  return e30.position === t10 && yj(e30, "name of an alias node must contain at least one character"), r10 = e30.input.slice(t10, e30.position), yk.call(e30.anchorMap, r10) || yj(e30, 'unidentified alias "' + r10 + '"'), e30.result = e30.anchorMap[r10], yG(e30, true, -1), true;
}
function y7(e30, t10, r10, n10, i10) {
  var a10, s10, o10, l10, h10, u10, d10, p10, f10, g10 = 1, y10 = false, v10 = false;
  if (null !== e30.listener && e30.listener("open", e30), e30.tag = null, e30.anchor = null, e30.kind = null, e30.result = null, a10 = s10 = o10 = 4 === r10 || 3 === r10, n10 && yG(e30, true, -1) && (y10 = true, e30.lineIndent > t10 ? g10 = 1 : e30.lineIndent === t10 ? g10 = 0 : e30.lineIndent < t10 && (g10 = -1)), 1 === g10) for (; y3(e30) || y5(e30); ) yG(e30, true, -1) ? (y10 = true, o10 = a10, e30.lineIndent > t10 ? g10 = 1 : e30.lineIndent === t10 ? g10 = 0 : e30.lineIndent < t10 && (g10 = -1)) : o10 = false;
  if (o10 && (o10 = y10 || i10), (1 === g10 || 4 === r10) && (p10 = 1 === r10 || 2 === r10 ? t10 : t10 + 1, f10 = e30.position - e30.lineStart, 1 === g10 ? o10 && (y2(e30, f10) || y4(e30, f10, p10)) || y0(e30, p10) ? v10 = true : (s10 && y1(e30, p10) || yQ(e30, p10) || yJ(e30, p10) ? v10 = true : y6(e30) ? (v10 = true, (null !== e30.tag || null !== e30.anchor) && yj(e30, "alias node should not have any properties")) : yZ(e30, p10, 1 === r10) && (v10 = true, null === e30.tag && (e30.tag = "?")), null !== e30.anchor && (e30.anchorMap[e30.anchor] = e30.result)) : 0 === g10 && (v10 = o10 && y2(e30, f10))), null === e30.tag) null !== e30.anchor && (e30.anchorMap[e30.anchor] = e30.result);
  else if ("?" === e30.tag) {
    for (null !== e30.result && "scalar" !== e30.kind && yj(e30, 'unacceptable node kind for !<?> tag; it should be "scalar", not "' + e30.kind + '"'), l10 = 0, h10 = e30.implicitTypes.length; l10 < h10; l10 += 1) if ((d10 = e30.implicitTypes[l10]).resolve(e30.result)) {
      e30.result = d10.construct(e30.result), e30.tag = d10.tag, null !== e30.anchor && (e30.anchorMap[e30.anchor] = e30.result);
      break;
    }
  } else if ("!" !== e30.tag) {
    if (yk.call(e30.typeMap[e30.kind || "fallback"], e30.tag)) d10 = e30.typeMap[e30.kind || "fallback"][e30.tag];
    else for (l10 = 0, d10 = null, h10 = (u10 = e30.typeMap.multi[e30.kind || "fallback"]).length; l10 < h10; l10 += 1) if (e30.tag.slice(0, u10[l10].tag.length) === u10[l10].tag) {
      d10 = u10[l10];
      break;
    }
    d10 || yj(e30, "unknown tag !<" + e30.tag + ">"), null !== e30.result && d10.kind !== e30.kind && yj(e30, "unacceptable node kind for !<" + e30.tag + '> tag; it should be "' + d10.kind + '", not "' + e30.kind + '"'), d10.resolve(e30.result, e30.tag) ? (e30.result = d10.construct(e30.result, e30.tag), null !== e30.anchor && (e30.anchorMap[e30.anchor] = e30.result)) : yj(e30, "cannot resolve a node with !<" + e30.tag + "> explicit tag");
  }
  return null !== e30.listener && e30.listener("close", e30), null !== e30.tag || null !== e30.anchor || v10;
}
function y8(e30) {
  var t10, r10, n10, i10, a10 = e30.position, s10 = false;
  for (e30.version = null, e30.checkLineBreaks = e30.legacy, e30.tagMap = /* @__PURE__ */ Object.create(null), e30.anchorMap = /* @__PURE__ */ Object.create(null); 0 !== (i10 = e30.input.charCodeAt(e30.position)) && (yG(e30, true, -1), i10 = e30.input.charCodeAt(e30.position), !(e30.lineIndent > 0) && 37 === i10); ) {
    for (s10 = true, i10 = e30.input.charCodeAt(++e30.position), t10 = e30.position; 0 !== i10 && !yI(i10); ) i10 = e30.input.charCodeAt(++e30.position);
    for (r10 = e30.input.slice(t10, e30.position), n10 = [], r10.length < 1 && yj(e30, "directive name must not be less than one character in length"); 0 !== i10; ) {
      for (; yL(i10); ) i10 = e30.input.charCodeAt(++e30.position);
      if (35 === i10) {
        do
          i10 = e30.input.charCodeAt(++e30.position);
        while (0 !== i10 && !yA(i10));
        break;
      }
      if (yA(i10)) break;
      for (t10 = e30.position; 0 !== i10 && !yI(i10); ) i10 = e30.input.charCodeAt(++e30.position);
      n10.push(e30.input.slice(t10, e30.position));
    }
    0 !== i10 && yY(e30), yk.call(yU, r10) ? yU[r10](e30, r10, n10) : yq(e30, 'unknown document directive "' + r10 + '"');
  }
  if (yG(e30, true, -1), 0 === e30.lineIndent && 45 === e30.input.charCodeAt(e30.position) && 45 === e30.input.charCodeAt(e30.position + 1) && 45 === e30.input.charCodeAt(e30.position + 2) ? (e30.position += 3, yG(e30, true, -1)) : s10 && yj(e30, "directives end mark is expected"), y7(e30, e30.lineIndent - 1, 4, false, true), yG(e30, true, -1), e30.checkLineBreaks && y_.test(e30.input.slice(a10, e30.position)) && yq(e30, "non-ASCII line breaks are interpreted as content"), e30.documents.push(e30.result), e30.position === e30.lineStart && yX(e30)) {
    46 === e30.input.charCodeAt(e30.position) && (e30.position += 3, yG(e30, true, -1));
    return;
  }
  e30.position < e30.length - 1 && yj(e30, "end of the stream or a document separator is expected");
}
function y9(e30, t10) {
  e30 = String(e30), t10 = t10 || {}, 0 !== e30.length && (10 !== e30.charCodeAt(e30.length - 1) && 13 !== e30.charCodeAt(e30.length - 1) && (e30 += "\n"), 65279 === e30.charCodeAt(0) && (e30 = e30.slice(1)));
  var r10 = new yF(e30, t10), n10 = e30.indexOf("\0");
  for (-1 !== n10 && (r10.position = n10, yj(r10, "null byte is not allowed in input")), r10.input += "\0"; 32 === r10.input.charCodeAt(r10.position); ) r10.lineIndent += 1, r10.position += 1;
  for (; r10.position < r10.length - 1; ) y8(r10);
  return r10.documents;
}
function ve(e30, t10) {
  var r10 = y9(e30, t10);
  if (0 !== r10.length) {
    if (1 === r10.length) return r10[0];
    throw new mw("expected a single document in the stream, but found more");
  }
}
iM(yW, "captureSegment"), iM(yV, "mergeMappings"), iM(yH, "storeMappingPair"), iM(yY, "readLineBreak"), iM(yG, "skipSeparationSpace"), iM(yX, "testDocumentSeparator"), iM(yK, "writeFoldedLines"), iM(yZ, "readPlainScalar"), iM(yQ, "readSingleQuotedScalar"), iM(yJ, "readDoubleQuotedScalar"), iM(y0, "readFlowCollection"), iM(y1, "readBlockScalar"), iM(y2, "readBlockSequence"), iM(y4, "readBlockMapping"), iM(y3, "readTagProperty"), iM(y5, "readAnchorProperty"), iM(y6, "readAlias"), iM(y7, "composeNode"), iM(y8, "readDocument"), iM(y9, "loadDocuments"), iM(function(e30, t10, r10) {
  null !== t10 && "object" == typeof t10 && void 0 === r10 && (r10 = t10, t10 = null);
  var n10 = y9(e30, r10);
  if ("function" != typeof t10) return n10;
  for (var i10 = 0, a10 = n10.length; i10 < a10; i10 += 1) t10(n10[i10]);
}, "loadAll$1"), iM(ve, "load$1");
var vt = Object.prototype.toString, vr = Object.prototype.hasOwnProperty, vn = {};
vn[0] = "\\0", vn[7] = "\\a", vn[8] = "\\b", vn[9] = "\\t", vn[10] = "\\n", vn[11] = "\\v", vn[12] = "\\f", vn[13] = "\\r", vn[27] = "\\e", vn[34] = '\\"', vn[92] = "\\\\", vn[133] = "\\N", vn[160] = "\\_", vn[8232] = "\\L", vn[8233] = "\\P";
var vi = ["y", "Y", "yes", "Yes", "YES", "on", "On", "ON", "n", "N", "no", "No", "NO", "off", "Off", "OFF"], va = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;
function vs(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10;
  if (null === t10) return {};
  for (i10 = 0, r10 = {}, a10 = (n10 = Object.keys(t10)).length; i10 < a10; i10 += 1) o10 = String(t10[s10 = n10[i10]]), "!!" === s10.slice(0, 2) && (s10 = "tag:yaml.org,2002:" + s10.slice(2)), (l10 = e30.compiledTypeMap.fallback[s10]) && vr.call(l10.styleAliases, o10) && (o10 = l10.styleAliases[o10]), r10[s10] = o10;
  return r10;
}
function vo(e30) {
  var t10, r10, n10;
  if (t10 = e30.toString(16).toUpperCase(), e30 <= 255) r10 = "x", n10 = 2;
  else if (e30 <= 65535) r10 = "u", n10 = 4;
  else if (e30 <= 4294967295) r10 = "U", n10 = 8;
  else throw new mw("code point within a string may not be greater than 0xFFFFFFFF");
  return "\\" + r10 + mb.repeat("0", n10 - t10.length) + t10;
}
function vl(e30) {
  this.schema = e30.schema || yb, this.indent = Math.max(1, e30.indent || 2), this.noArrayIndent = e30.noArrayIndent || false, this.skipInvalid = e30.skipInvalid || false, this.flowLevel = mb.isNothing(e30.flowLevel) ? -1 : e30.flowLevel, this.styleMap = vs(this.schema, e30.styles || null), this.sortKeys = e30.sortKeys || false, this.lineWidth = e30.lineWidth || 80, this.noRefs = e30.noRefs || false, this.noCompatMode = e30.noCompatMode || false, this.condenseFlow = e30.condenseFlow || false, this.quotingType = '"' === e30.quotingType ? 2 : 1, this.forceQuotes = e30.forceQuotes || false, this.replacer = "function" == typeof e30.replacer ? e30.replacer : null, this.implicitTypes = this.schema.compiledImplicit, this.explicitTypes = this.schema.compiledExplicit, this.tag = null, this.result = "", this.duplicates = [], this.usedDuplicates = null;
}
function vc(e30, t10) {
  for (var r10, n10 = mb.repeat(" ", t10), i10 = 0, a10 = -1, s10 = "", o10 = e30.length; i10 < o10; ) -1 === (a10 = e30.indexOf("\n", i10)) ? (r10 = e30.slice(i10), i10 = o10) : (r10 = e30.slice(i10, a10 + 1), i10 = a10 + 1), r10.length && "\n" !== r10 && (s10 += n10), s10 += r10;
  return s10;
}
function vh(e30, t10) {
  return "\n" + mb.repeat(" ", e30.indent * t10);
}
function vu(e30, t10) {
  var r10, n10;
  for (r10 = 0, n10 = e30.implicitTypes.length; r10 < n10; r10 += 1) if (e30.implicitTypes[r10].resolve(t10)) return true;
  return false;
}
function vd(e30) {
  return 32 === e30 || 9 === e30;
}
function vp(e30) {
  return 32 <= e30 && e30 <= 126 || 161 <= e30 && e30 <= 55295 && 8232 !== e30 && 8233 !== e30 || 57344 <= e30 && e30 <= 65533 && 65279 !== e30 || 65536 <= e30 && e30 <= 1114111;
}
function vf(e30) {
  return vp(e30) && 65279 !== e30 && 13 !== e30 && 10 !== e30;
}
function vg(e30, t10, r10) {
  var n10 = vf(e30), i10 = n10 && !vd(e30);
  return (r10 ? n10 : n10 && 44 !== e30 && 91 !== e30 && 93 !== e30 && 123 !== e30 && 125 !== e30) && 35 !== e30 && !(58 === t10 && !i10) || vf(t10) && !vd(t10) && 35 === e30 || 58 === t10 && i10;
}
function vm(e30) {
  return vp(e30) && 65279 !== e30 && !vd(e30) && 45 !== e30 && 63 !== e30 && 58 !== e30 && 44 !== e30 && 91 !== e30 && 93 !== e30 && 123 !== e30 && 125 !== e30 && 35 !== e30 && 38 !== e30 && 42 !== e30 && 33 !== e30 && 124 !== e30 && 61 !== e30 && 62 !== e30 && 39 !== e30 && 34 !== e30 && 37 !== e30 && 64 !== e30 && 96 !== e30;
}
function vy(e30) {
  return !vd(e30) && 58 !== e30;
}
function vv(e30, t10) {
  var r10, n10 = e30.charCodeAt(t10);
  return n10 >= 55296 && n10 <= 56319 && t10 + 1 < e30.length && (r10 = e30.charCodeAt(t10 + 1)) >= 56320 && r10 <= 57343 ? (n10 - 55296) * 1024 + r10 - 56320 + 65536 : n10;
}
function vx(e30) {
  return /^\n* /.test(e30);
}
function vb(e30, t10, r10, n10, i10, a10, s10, o10) {
  var l10, h10 = 0, u10 = null, d10 = false, p10 = false, f10 = -1 !== n10, g10 = -1, y10 = vm(vv(e30, 0)) && vy(vv(e30, e30.length - 1));
  if (t10 || s10) for (l10 = 0; l10 < e30.length; h10 >= 65536 ? l10 += 2 : l10++) {
    if (!vp(h10 = vv(e30, l10))) return 5;
    y10 = y10 && vg(h10, u10, o10), u10 = h10;
  }
  else {
    for (l10 = 0; l10 < e30.length; h10 >= 65536 ? l10 += 2 : l10++) {
      if (10 === (h10 = vv(e30, l10))) d10 = true, f10 && (p10 = p10 || l10 - g10 - 1 > n10 && " " !== e30[g10 + 1], g10 = l10);
      else if (!vp(h10)) return 5;
      y10 = y10 && vg(h10, u10, o10), u10 = h10;
    }
    p10 = p10 || f10 && l10 - g10 - 1 > n10 && " " !== e30[g10 + 1];
  }
  return d10 || p10 ? r10 > 9 && vx(e30) ? 5 : s10 ? 2 === a10 ? 5 : 2 : p10 ? 4 : 3 : !y10 || s10 || i10(e30) ? 2 === a10 ? 5 : 2 : 1;
}
function vk(e30, t10, r10, n10, i10) {
  e30.dump = function() {
    if (0 === t10.length) return 2 === e30.quotingType ? '""' : "''";
    if (!e30.noCompatMode && (-1 !== vi.indexOf(t10) || va.test(t10))) return 2 === e30.quotingType ? '"' + t10 + '"' : "'" + t10 + "'";
    var a10 = e30.indent * Math.max(1, r10), s10 = -1 === e30.lineWidth ? -1 : Math.max(Math.min(e30.lineWidth, 40), e30.lineWidth - a10), o10 = n10 || e30.flowLevel > -1 && r10 >= e30.flowLevel;
    function l10(t11) {
      return vu(e30, t11);
    }
    switch (iM(l10, "testAmbiguity"), vb(t10, o10, e30.indent, s10, l10, e30.quotingType, e30.forceQuotes && !n10, i10)) {
      case 1:
        return t10;
      case 2:
        return "'" + t10.replace(/'/g, "''") + "'";
      case 3:
        return "|" + vw(t10, e30.indent) + v_(vc(t10, a10));
      case 4:
        return ">" + vw(t10, e30.indent) + v_(vc(vT(t10, s10), a10));
      case 5:
        return '"' + vC(t10) + '"';
      default:
        throw new mw("impossible error: invalid scalar style");
    }
  }();
}
function vw(e30, t10) {
  var r10 = vx(e30) ? String(t10) : "", n10 = "\n" === e30[e30.length - 1];
  return r10 + (n10 && ("\n" === e30[e30.length - 2] || "\n" === e30) ? "+" : n10 ? "" : "-") + "\n";
}
function v_(e30) {
  return "\n" === e30[e30.length - 1] ? e30.slice(0, -1) : e30;
}
function vT(e30, t10) {
  for (var r10, n10, i10, a10 = /(\n+)([^\n]*)/g, s10 = (r10 = -1 !== (r10 = e30.indexOf("\n")) ? r10 : e30.length, a10.lastIndex = r10, vS(e30.slice(0, r10), t10)), o10 = "\n" === e30[0] || " " === e30[0]; i10 = a10.exec(e30); ) {
    var l10 = i10[1], h10 = i10[2];
    n10 = " " === h10[0], s10 += l10 + (o10 || n10 || "" === h10 ? "" : "\n") + vS(h10, t10), o10 = n10;
  }
  return s10;
}
function vS(e30, t10) {
  if ("" === e30 || " " === e30[0]) return e30;
  for (var r10, n10, i10 = / [^ ]/g, a10 = 0, s10 = 0, o10 = 0, l10 = ""; r10 = i10.exec(e30); ) (o10 = r10.index) - a10 > t10 && (n10 = s10 > a10 ? s10 : o10, l10 += "\n" + e30.slice(a10, n10), a10 = n10 + 1), s10 = o10;
  return l10 += "\n", e30.length - a10 > t10 && s10 > a10 ? l10 += e30.slice(a10, s10) + "\n" + e30.slice(s10 + 1) : l10 += e30.slice(a10), l10.slice(1);
}
function vC(e30) {
  for (var t10, r10 = "", n10 = 0, i10 = 0; i10 < e30.length; n10 >= 65536 ? i10 += 2 : i10++) !(t10 = vn[n10 = vv(e30, i10)]) && vp(n10) ? (r10 += e30[i10], n10 >= 65536 && (r10 += e30[i10 + 1])) : r10 += t10 || vo(n10);
  return r10;
}
function vE(e30, t10, r10) {
  var n10, i10, a10, s10 = "", o10 = e30.tag;
  for (n10 = 0, i10 = r10.length; n10 < i10; n10 += 1) a10 = r10[n10], e30.replacer && (a10 = e30.replacer.call(r10, String(n10), a10)), (vN(e30, t10, a10, false, false) || void 0 === a10 && vN(e30, t10, null, false, false)) && ("" !== s10 && (s10 += "," + (e30.condenseFlow ? "" : " ")), s10 += e30.dump);
  e30.tag = o10, e30.dump = "[" + s10 + "]";
}
function vA(e30, t10, r10, n10) {
  var i10, a10, s10, o10 = "", l10 = e30.tag;
  for (i10 = 0, a10 = r10.length; i10 < a10; i10 += 1) s10 = r10[i10], e30.replacer && (s10 = e30.replacer.call(r10, String(i10), s10)), (vN(e30, t10 + 1, s10, true, true, false, true) || void 0 === s10 && vN(e30, t10 + 1, null, true, true, false, true)) && (n10 && "" === o10 || (o10 += vh(e30, t10)), e30.dump && 10 === e30.dump.charCodeAt(0) ? o10 += "-" : o10 += "- ", o10 += e30.dump);
  e30.tag = l10, e30.dump = o10 || "[]";
}
function vL(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10 = "", h10 = e30.tag, u10 = Object.keys(r10);
  for (n10 = 0, i10 = u10.length; n10 < i10; n10 += 1) o10 = "", "" !== l10 && (o10 += ", "), e30.condenseFlow && (o10 += '"'), s10 = r10[a10 = u10[n10]], e30.replacer && (s10 = e30.replacer.call(r10, a10, s10)), vN(e30, t10, a10, false, false) && (e30.dump.length > 1024 && (o10 += "? "), o10 += e30.dump + (e30.condenseFlow ? '"' : "") + ":" + (e30.condenseFlow ? "" : " "), vN(e30, t10, s10, false, false) && (o10 += e30.dump, l10 += o10));
  e30.tag = h10, e30.dump = "{" + l10 + "}";
}
function vI(e30, t10, r10, n10) {
  var i10, a10, s10, o10, l10, h10, u10 = "", d10 = e30.tag, p10 = Object.keys(r10);
  if (true === e30.sortKeys) p10.sort();
  else if ("function" == typeof e30.sortKeys) p10.sort(e30.sortKeys);
  else if (e30.sortKeys) throw new mw("sortKeys must be a boolean or a function");
  for (i10 = 0, a10 = p10.length; i10 < a10; i10 += 1) h10 = "", n10 && "" === u10 || (h10 += vh(e30, t10)), o10 = r10[s10 = p10[i10]], e30.replacer && (o10 = e30.replacer.call(r10, s10, o10)), vN(e30, t10 + 1, s10, true, true, true) && ((l10 = null !== e30.tag && "?" !== e30.tag || e30.dump && e30.dump.length > 1024) && (e30.dump && 10 === e30.dump.charCodeAt(0) ? h10 += "?" : h10 += "? "), h10 += e30.dump, l10 && (h10 += vh(e30, t10)), vN(e30, t10 + 1, o10, true, l10) && (e30.dump && 10 === e30.dump.charCodeAt(0) ? h10 += ":" : h10 += ": ", h10 += e30.dump, u10 += h10));
  e30.tag = d10, e30.dump = u10 || "{}";
}
function vM(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10;
  for (a10 = 0, s10 = (i10 = r10 ? e30.explicitTypes : e30.implicitTypes).length; a10 < s10; a10 += 1) if (((o10 = i10[a10]).instanceOf || o10.predicate) && (!o10.instanceOf || "object" == typeof t10 && t10 instanceof o10.instanceOf) && (!o10.predicate || o10.predicate(t10))) {
    if (r10 ? o10.multi && o10.representName ? e30.tag = o10.representName(t10) : e30.tag = o10.tag : e30.tag = "?", o10.represent) {
      if (l10 = e30.styleMap[o10.tag] || o10.defaultStyle, "[object Function]" === vt.call(o10.represent)) n10 = o10.represent(t10, l10);
      else if (vr.call(o10.represent, l10)) n10 = o10.represent[l10](t10, l10);
      else throw new mw("!<" + o10.tag + '> tag resolver accepts not "' + l10 + '" style');
      e30.dump = n10;
    }
    return true;
  }
  return false;
}
function vN(e30, t10, r10, n10, i10, a10, s10) {
  e30.tag = null, e30.dump = r10, vM(e30, r10, false) || vM(e30, r10, true);
  var o10 = vt.call(e30.dump), l10 = n10;
  n10 && (n10 = e30.flowLevel < 0 || e30.flowLevel > t10);
  var h10, u10, d10, p10 = "[object Object]" === o10 || "[object Array]" === o10;
  if (p10 && (d10 = -1 !== (u10 = e30.duplicates.indexOf(r10))), (null !== e30.tag && "?" !== e30.tag || d10 || 2 !== e30.indent && t10 > 0) && (i10 = false), d10 && e30.usedDuplicates[u10]) e30.dump = "*ref_" + u10;
  else {
    if (p10 && d10 && !e30.usedDuplicates[u10] && (e30.usedDuplicates[u10] = true), "[object Object]" === o10) n10 && 0 !== Object.keys(e30.dump).length ? (vI(e30, t10, e30.dump, i10), d10 && (e30.dump = "&ref_" + u10 + e30.dump)) : (vL(e30, t10, e30.dump), d10 && (e30.dump = "&ref_" + u10 + " " + e30.dump));
    else if ("[object Array]" === o10) n10 && 0 !== e30.dump.length ? (e30.noArrayIndent && !s10 && t10 > 0 ? vA(e30, t10 - 1, e30.dump, i10) : vA(e30, t10, e30.dump, i10), d10 && (e30.dump = "&ref_" + u10 + e30.dump)) : (vE(e30, t10, e30.dump), d10 && (e30.dump = "&ref_" + u10 + " " + e30.dump));
    else if ("[object String]" === o10) "?" !== e30.tag && vk(e30, e30.dump, t10, a10, l10);
    else {
      if ("[object Undefined]" === o10 || e30.skipInvalid) return false;
      throw new mw("unacceptable kind of an object to dump " + o10);
    }
    null !== e30.tag && "?" !== e30.tag && (h10 = encodeURI("!" === e30.tag[0] ? e30.tag.slice(1) : e30.tag).replace(/!/g, "%21"), h10 = "!" === e30.tag[0] ? "!" + h10 : "tag:yaml.org,2002:" === h10.slice(0, 18) ? "!!" + h10.slice(18) : "!<" + h10 + ">", e30.dump = h10 + " " + e30.dump);
  }
  return true;
}
function vR(e30, t10) {
  var r10, n10, i10 = [], a10 = [];
  for (vD(e30, i10, a10), r10 = 0, n10 = a10.length; r10 < n10; r10 += 1) t10.duplicates.push(i10[a10[r10]]);
  t10.usedDuplicates = Array(n10);
}
function vD(e30, t10, r10) {
  var n10, i10, a10;
  if (null !== e30 && "object" == typeof e30) {
    if (-1 !== (i10 = t10.indexOf(e30))) -1 === r10.indexOf(i10) && r10.push(i10);
    else if (t10.push(e30), Array.isArray(e30)) for (i10 = 0, a10 = e30.length; i10 < a10; i10 += 1) vD(e30[i10], t10, r10);
    else for (i10 = 0, a10 = (n10 = Object.keys(e30)).length; i10 < a10; i10 += 1) vD(e30[n10[i10]], t10, r10);
  }
}
iM(vs, "compileStyleMap"), iM(vo, "encodeHex"), iM(vl, "State"), iM(vc, "indentString"), iM(vh, "generateNextLine"), iM(vu, "testImplicitResolving"), iM(vd, "isWhitespace"), iM(vp, "isPrintable"), iM(vf, "isNsCharOrWhitespace"), iM(vg, "isPlainSafe"), iM(vm, "isPlainSafeFirst"), iM(vy, "isPlainSafeLast"), iM(vv, "codePointAt"), iM(vx, "needIndentIndicator"), iM(vb, "chooseScalarStyle"), iM(vk, "writeScalar"), iM(vw, "blockHeader"), iM(v_, "dropEndingNewline"), iM(vT, "foldString"), iM(vS, "foldLine"), iM(vC, "escapeString"), iM(vE, "writeFlowSequence"), iM(vA, "writeBlockSequence"), iM(vL, "writeFlowMapping"), iM(vI, "writeBlockMapping"), iM(vM, "detectType"), iM(vN, "writeNode"), iM(vR, "getDuplicateReferences"), iM(vD, "inspectNode"), iM(function(e30, t10) {
  var r10 = new vl(t10 = t10 || {});
  r10.noRefs || vR(e30, r10);
  var n10 = e30;
  return (r10.replacer && (n10 = r10.replacer.call({ "": n10 }, "", n10)), vN(r10, 0, n10, true, true)) ? r10.dump + "\n" : "";
}, "dump$1"), iM(function(e30, t10) {
  return function() {
    throw Error("Function yaml." + e30 + " is removed in js-yaml 4. Use yaml." + t10 + " instead, which is now safe by default.");
  };
}, "renamed");
var vO = iM((e30) => {
  var t10, r10, n10, i10;
  let { flowchart: a10 } = e30, s10 = null !== (n10 = null == a10 ? void 0 : null === (t10 = a10.subGraphTitleMargin) || void 0 === t10 ? void 0 : t10.top) && void 0 !== n10 ? n10 : 0, o10 = null !== (i10 = null == a10 ? void 0 : null === (r10 = a10.subGraphTitleMargin) || void 0 === r10 ? void 0 : r10.bottom) && void 0 !== i10 ? i10 : 0;
  return { subGraphTitleTopMargin: s10, subGraphTitleBottomMargin: o10, subGraphTitleTotalMargin: s10 + o10 };
}, "getSubGraphTitleMargins"), v$ = {}, vP = iN({ "../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js"(e30, t10) {
  function r10(e31) {
    if (!((e31 = String(e31)).length > 100)) {
      var t11 = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e31);
      if (t11) {
        var r11 = parseFloat(t11[1]);
        switch ((t11[2] || "ms").toLowerCase()) {
          case "years":
          case "year":
          case "yrs":
          case "yr":
          case "y":
            return 315576e5 * r11;
          case "weeks":
          case "week":
          case "w":
            return 6048e5 * r11;
          case "days":
          case "day":
          case "d":
            return 864e5 * r11;
          case "hours":
          case "hour":
          case "hrs":
          case "hr":
          case "h":
            return 36e5 * r11;
          case "minutes":
          case "minute":
          case "mins":
          case "min":
          case "m":
            return 6e4 * r11;
          case "seconds":
          case "second":
          case "secs":
          case "sec":
          case "s":
            return 1e3 * r11;
          case "milliseconds":
          case "millisecond":
          case "msecs":
          case "msec":
          case "ms":
            return r11;
          default:
            return;
        }
      }
    }
  }
  function n10(e31) {
    var t11 = Math.abs(e31);
    return t11 >= 864e5 ? Math.round(e31 / 864e5) + "d" : t11 >= 36e5 ? Math.round(e31 / 36e5) + "h" : t11 >= 6e4 ? Math.round(e31 / 6e4) + "m" : t11 >= 1e3 ? Math.round(e31 / 1e3) + "s" : e31 + "ms";
  }
  function i10(e31) {
    var t11 = Math.abs(e31);
    return t11 >= 864e5 ? a10(e31, t11, 864e5, "day") : t11 >= 36e5 ? a10(e31, t11, 36e5, "hour") : t11 >= 6e4 ? a10(e31, t11, 6e4, "minute") : t11 >= 1e3 ? a10(e31, t11, 1e3, "second") : e31 + " ms";
  }
  function a10(e31, t11, r11, n11) {
    return Math.round(e31 / r11) + " " + n11 + (t11 >= 1.5 * r11 ? "s" : "");
  }
  t10.exports = function(e31, t11) {
    t11 = t11 || {};
    var a11 = typeof e31;
    if ("string" === a11 && e31.length > 0) return r10(e31);
    if ("number" === a11 && isFinite(e31)) return t11.long ? i10(e31) : n10(e31);
    throw Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e31));
  }, iM(r10, "parse"), iM(n10, "fmtShort"), iM(i10, "fmtLong"), iM(a10, "plural");
} }), vB = iN({ "../../node_modules/.pnpm/debug@4.3.7_supports-color@8.1.1/node_modules/debug/src/common.js"(e30, t10) {
  function r10(e31) {
    function t11(e32) {
      let t12 = 0;
      for (let r12 = 0; r12 < e32.length; r12++) t12 = (t12 << 5) - t12 + e32.charCodeAt(r12) | 0;
      return r11.colors[Math.abs(t12) % r11.colors.length];
    }
    function r11(e32) {
      let t12, i11, a11;
      let s11 = null;
      function o11() {
        for (var e33 = arguments.length, n11 = Array(e33), i12 = 0; i12 < e33; i12++) n11[i12] = arguments[i12];
        if (!o11.enabled) return;
        let a12 = Number(/* @__PURE__ */ new Date()), s12 = a12 - (t12 || a12);
        o11.diff = s12, o11.prev = t12, o11.curr = a12, t12 = a12, n11[0] = r11.coerce(n11[0]), "string" != typeof n11[0] && n11.unshift("%O");
        let l11 = 0;
        n11[0] = n11[0].replace(/%([a-zA-Z%])/g, (e34, t13) => {
          if ("%%" === e34) return "%";
          l11++;
          let i13 = r11.formatters[t13];
          if ("function" == typeof i13) {
            let t14 = n11[l11];
            e34 = i13.call(o11, t14), n11.splice(l11, 1), l11--;
          }
          return e34;
        }), r11.formatArgs.call(o11, n11), (o11.log || r11.log).apply(o11, n11);
      }
      return iM(o11, "debug"), o11.namespace = e32, o11.useColors = r11.useColors(), o11.color = r11.selectColor(e32), o11.extend = n10, o11.destroy = r11.destroy, Object.defineProperty(o11, "enabled", { enumerable: true, configurable: false, get: iM(() => null !== s11 ? s11 : (i11 !== r11.namespaces && (i11 = r11.namespaces, a11 = r11.enabled(e32)), a11), "get"), set: iM((e33) => {
        s11 = e33;
      }, "set") }), "function" == typeof r11.init && r11.init(o11), o11;
    }
    function n10(e32, t12) {
      let n11 = r11(this.namespace + (void 0 === t12 ? ":" : t12) + e32);
      return n11.log = this.log, n11;
    }
    function i10(e32) {
      let t12;
      r11.save(e32), r11.namespaces = e32, r11.names = [], r11.skips = [];
      let n11 = ("string" == typeof e32 ? e32 : "").split(/[\s,]+/), i11 = n11.length;
      for (t12 = 0; t12 < i11; t12++) n11[t12] && ("-" === (e32 = n11[t12].replace(/\*/g, ".*?"))[0] ? r11.skips.push(RegExp("^" + e32.slice(1) + "$")) : r11.names.push(RegExp("^" + e32 + "$")));
    }
    function a10() {
      let e32 = [...r11.names.map(o10), ...r11.skips.map(o10).map((e33) => "-" + e33)].join(",");
      return r11.enable(""), e32;
    }
    function s10(e32) {
      let t12, n11;
      if ("*" === e32[e32.length - 1]) return true;
      for (t12 = 0, n11 = r11.skips.length; t12 < n11; t12++) if (r11.skips[t12].test(e32)) return false;
      for (t12 = 0, n11 = r11.names.length; t12 < n11; t12++) if (r11.names[t12].test(e32)) return true;
      return false;
    }
    function o10(e32) {
      return e32.toString().substring(2, e32.toString().length - 2).replace(/\.\*\?$/, "*");
    }
    function l10(e32) {
      return e32 instanceof Error ? e32.stack || e32.message : e32;
    }
    function h10() {
      console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
    }
    return r11.debug = r11, r11.default = r11, r11.coerce = l10, r11.disable = a10, r11.enable = i10, r11.enabled = s10, r11.humanize = vP(), r11.destroy = h10, Object.keys(e31).forEach((t12) => {
      r11[t12] = e31[t12];
    }), r11.names = [], r11.skips = [], r11.formatters = {}, iM(t11, "selectColor"), r11.selectColor = t11, iM(r11, "createDebug"), iM(n10, "extend"), iM(i10, "enable"), iM(a10, "disable"), iM(s10, "enabled"), iM(o10, "toNamespace"), iM(l10, "coerce"), iM(h10, "destroy"), r11.enable(r11.load()), r11;
  }
  iM(r10, "setup"), t10.exports = r10;
} }), vF = iN({ "../../node_modules/.pnpm/debug@4.3.7_supports-color@8.1.1/node_modules/debug/src/browser.js"(e30, t10) {
  let r10;
  function n10() {
    let e31;
    return "undefined" != typeof window && !!window.process && ("renderer" === window.process.type || !!window.process.__nwjs) || !("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) && ("undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && (e31 = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(e31[1], 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
  }
  function i10(e31) {
    if (e31[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + e31[0] + (this.useColors ? "%c " : " ") + "+" + t10.exports.humanize(this.diff), !this.useColors) return;
    let r11 = "color: " + this.color;
    e31.splice(1, 0, r11, "color: inherit");
    let n11 = 0, i11 = 0;
    e31[0].replace(/%[a-zA-Z%]/g, (e32) => {
      "%%" !== e32 && (n11++, "%c" === e32 && (i11 = n11));
    }), e31.splice(i11, 0, r11);
  }
  function a10(t11) {
    try {
      t11 ? e30.storage.setItem("debug", t11) : e30.storage.removeItem("debug");
    } catch (e31) {
    }
  }
  function s10() {
    let t11;
    try {
      t11 = e30.storage.getItem("debug");
    } catch (e31) {
    }
    return !t11 && "undefined" != typeof process && "env" in process && (t11 = v$.DEBUG), t11;
  }
  function o10() {
    try {
      return localStorage;
    } catch (e31) {
    }
  }
  e30.formatArgs = i10, e30.save = a10, e30.load = s10, e30.useColors = n10, e30.storage = o10(), e30.destroy = (r10 = false, () => {
    r10 || (r10 = true, console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));
  }), e30.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], iM(n10, "useColors"), iM(i10, "formatArgs"), e30.log = console.debug || console.log || (() => {
  }), iM(a10, "save"), iM(s10, "load"), iM(o10, "localstorage"), t10.exports = vB()(e30);
  var { formatters: l10 } = t10.exports;
  l10.j = function(e31) {
    try {
      return JSON.stringify(e31);
    } catch (e32) {
      return "[UnexpectedJSONParseError]: " + e32.message;
    }
  };
} }), vz = Object.freeze({ left: 0, top: 0, width: 16, height: 16 }), vj = Object.freeze({ rotate: 0, vFlip: false, hFlip: false }), vq = Object.freeze({ ...vz, ...vj }), vU = Object.freeze({ ...vq, body: "", hidden: false }), vW = Object.freeze({ ...Object.freeze({ width: null, height: null }), ...vj }), vV = /^[a-z0-9]+(-[a-z0-9]+)*$/, vH = iM(function(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "", i10 = e30.split(":");
  if ("@" === e30.slice(0, 1)) {
    if (i10.length < 2 || i10.length > 3) return null;
    n10 = i10.shift().slice(1);
  }
  if (i10.length > 3 || !i10.length) return null;
  if (i10.length > 1) {
    let e31 = i10.pop(), r11 = i10.pop(), a11 = { provider: i10.length > 0 ? i10[0] : n10, prefix: r11, name: e31 };
    return t10 && !vY(a11) ? null : a11;
  }
  let a10 = i10[0], s10 = a10.split("-");
  if (s10.length > 1) {
    let e31 = { provider: n10, prefix: s10.shift(), name: s10.join("-") };
    return t10 && !vY(e31) ? null : e31;
  }
  if (r10 && "" === n10) {
    let e31 = { provider: n10, prefix: "", name: a10 };
    return t10 && !vY(e31, r10) ? null : e31;
  }
  return null;
}, "stringToIcon"), vY = iM((e30, t10) => !!e30 && !!(("" === e30.provider || e30.provider.match(vV)) && (t10 && "" === e30.prefix || e30.prefix.match(vV)) && e30.name.match(vV)), "validateIconName");
function vG(e30, t10) {
  let r10 = {};
  !e30.hFlip != !t10.hFlip && (r10.hFlip = true), !e30.vFlip != !t10.vFlip && (r10.vFlip = true);
  let n10 = ((e30.rotate || 0) + (t10.rotate || 0)) % 4;
  return n10 && (r10.rotate = n10), r10;
}
function vX(e30, t10) {
  let r10 = vG(e30, t10);
  for (let n10 in vU) n10 in vj ? n10 in e30 && !(n10 in r10) && (r10[n10] = vj[n10]) : n10 in t10 ? r10[n10] = t10[n10] : n10 in e30 && (r10[n10] = e30[n10]);
  return r10;
}
function vK(e30, t10) {
  let r10 = e30.icons, n10 = e30.aliases || /* @__PURE__ */ Object.create(null), i10 = /* @__PURE__ */ Object.create(null);
  function a10(e31) {
    if (r10[e31]) return i10[e31] = [];
    if (!(e31 in i10)) {
      i10[e31] = null;
      let t11 = n10[e31] && n10[e31].parent, r11 = t11 && a10(t11);
      r11 && (i10[e31] = [t11].concat(r11));
    }
    return i10[e31];
  }
  return iM(a10, "resolve"), (t10 || Object.keys(r10).concat(Object.keys(n10))).forEach(a10), i10;
}
function vZ(e30, t10, r10) {
  let n10 = e30.icons, i10 = e30.aliases || /* @__PURE__ */ Object.create(null), a10 = {};
  function s10(e31) {
    a10 = vX(n10[e31] || i10[e31], a10);
  }
  return iM(s10, "parse"), s10(t10), r10.forEach(s10), vX(e30, a10);
}
function vQ(e30, t10) {
  if (e30.icons[t10]) return vZ(e30, t10, []);
  let r10 = vK(e30, [t10])[t10];
  return r10 ? vZ(e30, t10, r10) : null;
}
iM(vG, "mergeIconTransformations"), iM(vX, "mergeIconData"), iM(vK, "getIconsTree"), iM(vZ, "internalGetIconData"), iM(vQ, "getIconData");
var vJ = /(-?[0-9.]*[0-9]+[0-9.]*)/g, v0 = /^-?[0-9.]*[0-9]+[0-9.]*$/g;
function v1(e30, t10, r10) {
  if (1 === t10) return e30;
  if (r10 = r10 || 100, "number" == typeof e30) return Math.ceil(e30 * t10 * r10) / r10;
  if ("string" != typeof e30) return e30;
  let n10 = e30.split(vJ);
  if (null === n10 || !n10.length) return e30;
  let i10 = [], a10 = n10.shift(), s10 = v0.test(a10);
  for (; ; ) {
    if (s10) {
      let e31 = parseFloat(a10);
      isNaN(e31) ? i10.push(a10) : i10.push(Math.ceil(e31 * t10 * r10) / r10);
    } else i10.push(a10);
    if (void 0 === (a10 = n10.shift())) return i10.join("");
    s10 = !s10;
  }
}
function v2(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "defs", r10 = "", n10 = e30.indexOf("<" + t10);
  for (; n10 >= 0; ) {
    let i10 = e30.indexOf(">", n10), a10 = e30.indexOf("</" + t10);
    if (-1 === i10 || -1 === a10) break;
    let s10 = e30.indexOf(">", a10);
    if (-1 === s10) break;
    r10 += e30.slice(i10 + 1, a10).trim(), e30 = e30.slice(0, n10).trim() + e30.slice(s10 + 1);
  }
  return { defs: r10, content: e30 };
}
function v4(e30, t10) {
  return e30 ? "<defs>" + e30 + "</defs>" + t10 : t10;
}
function v3(e30, t10, r10) {
  let n10 = v2(e30);
  return v4(n10.defs, t10 + n10.content + r10);
}
iM(v1, "calculateSize"), iM(v2, "splitSVGDefs"), iM(v4, "mergeDefsAndContent"), iM(v3, "wrapSVGContent");
var v5 = iM((e30) => "unset" === e30 || "undefined" === e30 || "none" === e30, "isUnsetKeyword");
function v6(e30, t10) {
  let r10, n10;
  let i10 = { ...vq, ...e30 }, a10 = { ...vW, ...t10 }, s10 = { left: i10.left, top: i10.top, width: i10.width, height: i10.height }, o10 = i10.body;
  [i10, a10].forEach((e31) => {
    let t11;
    let r11 = [], n11 = e31.hFlip, i11 = e31.vFlip, a11 = e31.rotate;
    switch (n11 ? i11 ? a11 += 2 : (r11.push("translate(" + (s10.width + s10.left).toString() + " " + (0 - s10.top).toString() + ")"), r11.push("scale(-1 1)"), s10.top = s10.left = 0) : i11 && (r11.push("translate(" + (0 - s10.left).toString() + " " + (s10.height + s10.top).toString() + ")"), r11.push("scale(1 -1)"), s10.top = s10.left = 0), a11 < 0 && (a11 -= 4 * Math.floor(a11 / 4)), a11 %= 4) {
      case 1:
        r11.unshift("rotate(90 " + (t11 = s10.height / 2 + s10.top).toString() + " " + t11.toString() + ")");
        break;
      case 2:
        r11.unshift("rotate(180 " + (s10.width / 2 + s10.left).toString() + " " + (s10.height / 2 + s10.top).toString() + ")");
        break;
      case 3:
        r11.unshift("rotate(-90 " + (t11 = s10.width / 2 + s10.left).toString() + " " + t11.toString() + ")");
    }
    a11 % 2 == 1 && (s10.left !== s10.top && (t11 = s10.left, s10.left = s10.top, s10.top = t11), s10.width !== s10.height && (t11 = s10.width, s10.width = s10.height, s10.height = t11)), r11.length && (o10 = v3(o10, '<g transform="' + r11.join(" ") + '">', "</g>"));
  });
  let l10 = a10.width, h10 = a10.height, u10 = s10.width, d10 = s10.height;
  null === l10 ? r10 = v1(n10 = null === h10 ? "1em" : "auto" === h10 ? d10 : h10, u10 / d10) : (r10 = "auto" === l10 ? u10 : l10, n10 = null === h10 ? v1(r10, d10 / u10) : "auto" === h10 ? d10 : h10);
  let p10 = {}, f10 = iM((e31, t11) => {
    v5(t11) || (p10[e31] = t11.toString());
  }, "setAttr");
  f10("width", r10), f10("height", n10);
  let g10 = [s10.left, s10.top, u10, d10];
  return p10.viewBox = g10.join(" "), { attributes: p10, viewBox: g10, body: o10 };
}
iM(v6, "iconToSVG");
var v7 = /\sid="(\S+)"/g, v8 = "IconifyId" + Date.now().toString(16) + (16777216 * Math.random() | 0).toString(16), v9 = 0;
function xe(e30) {
  let t10, r10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : v8, n10 = [];
  for (; t10 = v7.exec(e30); ) n10.push(t10[1]);
  if (!n10.length) return e30;
  let i10 = "suffix" + (16777216 * Math.random() | Date.now()).toString(16);
  return n10.forEach((t11) => {
    let n11 = "function" == typeof r10 ? r10(t11) : r10 + (v9++).toString(), a10 = t11.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    e30 = e30.replace(RegExp('([#;"])(' + a10 + ')([")]|\\.[a-z])', "g"), "$1" + n11 + i10 + "$3");
  }), e30 = e30.replace(RegExp(i10, "g"), "");
}
function xt(e30, t10) {
  let r10 = -1 === e30.indexOf("xlink:") ? "" : ' xmlns:xlink="http://www.w3.org/1999/xlink"';
  for (let e31 in t10) r10 += " " + e31 + '="' + t10[e31] + '"';
  return '<svg xmlns="http://www.w3.org/2000/svg"' + r10 + ">" + e30 + "</svg>";
}
iM(xe, "replaceIDs"), iM(xt, "iconToHTML"), i$(vF());
var xr = { body: '<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>', height: 80, width: 80 }, xn = /* @__PURE__ */ new Map(), xi = /* @__PURE__ */ new Map(), xa = iM((e30) => {
  for (let t10 of e30) {
    if (!t10.name) throw Error('Invalid icon loader. Must have a "name" property with non-empty string value.');
    if (iz.debug("Registering icon pack:", t10.name), "loader" in t10) xi.set(t10.name, t10.loader);
    else if ("icons" in t10) xn.set(t10.name, t10.icons);
    else throw iz.error("Invalid icon loader:", t10), Error('Invalid icon loader. Must have either "icons" or "loader" property.');
  }
}, "registerIconPacks"), xs = iM(async (e30, t10) => {
  let r10 = vH(e30, true, void 0 !== t10);
  if (!r10) throw Error(`Invalid icon name: ${e30}`);
  let n10 = r10.prefix || t10;
  if (!n10) throw Error(`Icon name must contain a prefix: ${e30}`);
  let i10 = xn.get(n10);
  if (!i10) {
    let e31 = xi.get(n10);
    if (!e31) throw Error(`Icon set not found: ${r10.prefix}`);
    try {
      i10 = { ...await e31(), prefix: n10 }, xn.set(n10, i10);
    } catch (e32) {
      throw iz.error(e32), Error(`Failed to load icon set: ${r10.prefix}`);
    }
  }
  let a10 = vQ(i10, r10.name);
  if (!a10) throw Error(`Icon not found: ${e30}`);
  return a10;
}, "getRegisteredIconData"), xo = iM(async (e30, t10) => {
  let r10;
  try {
    r10 = await xs(e30, null == t10 ? void 0 : t10.fallbackPrefix);
  } catch (e31) {
    iz.error(e31), r10 = xr;
  }
  let n10 = v6(r10, t10);
  return xt(xe(n10.body), n10.attributes);
}, "getIconSVG"), xl = iN({ "../../node_modules/.pnpm/@braintree+sanitize-url@7.1.0/node_modules/@braintree/sanitize-url/dist/constants.js"(e30) {
  Object.defineProperty(e30, "__esModule", { value: true }), e30.BLANK_URL = e30.relativeFirstCharacters = e30.whitespaceEscapeCharsRegex = e30.urlSchemeRegex = e30.ctrlCharactersRegex = e30.htmlCtrlEntityRegex = e30.htmlEntitiesRegex = e30.invalidProtocolRegex = void 0, e30.invalidProtocolRegex = /^([^\w]*)(javascript|data|vbscript)/im, e30.htmlEntitiesRegex = /&#(\w+)(^\w|;)?/g, e30.htmlCtrlEntityRegex = /&(newline|tab);/gi, e30.ctrlCharactersRegex = /[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim, e30.urlSchemeRegex = /^.+(:|&colon;)/gim, e30.whitespaceEscapeCharsRegex = /(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g, e30.relativeFirstCharacters = [".", "/"], e30.BLANK_URL = "about:blank";
} }), xc = iN({ "../../node_modules/.pnpm/@braintree+sanitize-url@7.1.0/node_modules/@braintree/sanitize-url/dist/index.js"(e30) {
  Object.defineProperty(e30, "__esModule", { value: true }), e30.sanitizeUrl = void 0;
  var t10 = xl();
  function r10(e31) {
    return t10.relativeFirstCharacters.indexOf(e31[0]) > -1;
  }
  function n10(e31) {
    return e31.replace(t10.ctrlCharactersRegex, "").replace(t10.htmlEntitiesRegex, function(e32, t11) {
      return String.fromCharCode(t11);
    });
  }
  function i10(e31) {
    return URL.canParse(e31);
  }
  function a10(e31) {
    try {
      return decodeURIComponent(e31);
    } catch (t11) {
      return e31;
    }
  }
  function s10(e31) {
    if (!e31) return t10.BLANK_URL;
    var s11, o10 = a10(e31.trim());
    do
      s11 = (o10 = a10(o10 = n10(o10).replace(t10.htmlCtrlEntityRegex, "").replace(t10.ctrlCharactersRegex, "").replace(t10.whitespaceEscapeCharsRegex, "").trim())).match(t10.ctrlCharactersRegex) || o10.match(t10.htmlEntitiesRegex) || o10.match(t10.htmlCtrlEntityRegex) || o10.match(t10.whitespaceEscapeCharsRegex);
    while (s11 && s11.length > 0);
    var l10 = o10;
    if (!l10) return t10.BLANK_URL;
    if (r10(l10)) return l10;
    var h10 = l10.trimStart(), u10 = h10.match(t10.urlSchemeRegex);
    if (!u10) return l10;
    var d10 = u10[0].toLowerCase().trim();
    if (t10.invalidProtocolRegex.test(d10)) return t10.BLANK_URL;
    var p10 = h10.replace(/\\/g, "/");
    if ("mailto:" === d10 || d10.includes("://")) return p10;
    if ("http:" === d10 || "https:" === d10) {
      if (!i10(p10)) return t10.BLANK_URL;
      var f10 = new URL(p10);
      return f10.protocol = f10.protocol.toLowerCase(), f10.hostname = f10.hostname.toLowerCase(), f10.toString();
    }
    return p10;
  }
  iM(r10, "isRelativeUrlWithoutProtocol"), iM(n10, "decodeHtmlCharacters"), iM(i10, "isValidUrl"), iM(a10, "decodeURI"), iM(s10, "sanitizeUrl"), e30.sanitizeUrl = s10;
} }), xh = "object" == typeof global && global && global.Object === Object && global, xu = "object" == typeof self && self && self.Object === Object && self, xd = xh || xu || Function("return this")(), xp = xd.Symbol, xf = Object.prototype, xg = xf.hasOwnProperty, xm = xf.toString, xy = xp ? xp.toStringTag : void 0;
function xv(e30) {
  var t10 = xg.call(e30, xy), r10 = e30[xy];
  try {
    e30[xy] = void 0;
    var n10 = true;
  } catch (e31) {
  }
  var i10 = xm.call(e30);
  return n10 && (t10 ? e30[xy] = r10 : delete e30[xy]), i10;
}
iM(xv, "getRawTag");
var xx = Object.prototype.toString;
function xb(e30) {
  return xx.call(e30);
}
iM(xb, "objectToString");
var xk = xp ? xp.toStringTag : void 0;
function xw(e30) {
  return null == e30 ? void 0 === e30 ? "[object Undefined]" : "[object Null]" : xk && xk in Object(e30) ? xv(e30) : xb(e30);
}
function x_(e30) {
  var t10 = typeof e30;
  return null != e30 && ("object" == t10 || "function" == t10);
}
function xT(e30) {
  if (!x_(e30)) return false;
  var t10 = xw(e30);
  return "[object Function]" == t10 || "[object GeneratorFunction]" == t10 || "[object AsyncFunction]" == t10 || "[object Proxy]" == t10;
}
iM(xw, "baseGetTag"), iM(x_, "isObject"), iM(xT, "isFunction");
var xS = xd["__core-js_shared__"], xC = (tE = /[^.]+$/.exec(xS && xS.keys && xS.keys.IE_PROTO || "")) ? "Symbol(src)_1." + tE : "";
function xE(e30) {
  return !!xC && xC in e30;
}
iM(xE, "isMasked");
var xA = Function.prototype.toString;
function xL(e30) {
  if (null != e30) {
    try {
      return xA.call(e30);
    } catch (e31) {
    }
    try {
      return e30 + "";
    } catch (e31) {
    }
  }
  return "";
}
iM(xL, "toSource");
var xI = /^\[object .+?Constructor\]$/, xM = Object.prototype, xN = Function.prototype.toString, xR = xM.hasOwnProperty, xD = RegExp("^" + xN.call(xR).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
function xO(e30) {
  return !(!x_(e30) || xE(e30)) && (xT(e30) ? xD : xI).test(xL(e30));
}
function x$(e30, t10) {
  return null == e30 ? void 0 : e30[t10];
}
function xP(e30, t10) {
  var r10 = x$(e30, t10);
  return xO(r10) ? r10 : void 0;
}
iM(xO, "baseIsNative"), iM(x$, "getValue"), iM(xP, "getNative");
var xB = xP(Object, "create");
function xF() {
  this.__data__ = xB ? xB(null) : {}, this.size = 0;
}
function xz(e30) {
  var t10 = this.has(e30) && delete this.__data__[e30];
  return this.size -= t10 ? 1 : 0, t10;
}
iM(xF, "hashClear"), iM(xz, "hashDelete");
var xj = Object.prototype.hasOwnProperty;
function xq(e30) {
  var t10 = this.__data__;
  if (xB) {
    var r10 = t10[e30];
    return "__lodash_hash_undefined__" === r10 ? void 0 : r10;
  }
  return xj.call(t10, e30) ? t10[e30] : void 0;
}
iM(xq, "hashGet");
var xU = Object.prototype.hasOwnProperty;
function xW(e30) {
  var t10 = this.__data__;
  return xB ? void 0 !== t10[e30] : xU.call(t10, e30);
}
function xV(e30, t10) {
  var r10 = this.__data__;
  return this.size += this.has(e30) ? 0 : 1, r10[e30] = xB && void 0 === t10 ? "__lodash_hash_undefined__" : t10, this;
}
function xH(e30) {
  var t10 = -1, r10 = null == e30 ? 0 : e30.length;
  for (this.clear(); ++t10 < r10; ) {
    var n10 = e30[t10];
    this.set(n10[0], n10[1]);
  }
}
function xY() {
  this.__data__ = [], this.size = 0;
}
function xG(e30, t10) {
  return e30 === t10 || e30 != e30 && t10 != t10;
}
function xX(e30, t10) {
  for (var r10 = e30.length; r10--; ) if (xG(e30[r10][0], t10)) return r10;
  return -1;
}
iM(xW, "hashHas"), iM(xV, "hashSet"), iM(xH, "Hash"), xH.prototype.clear = xF, xH.prototype.delete = xz, xH.prototype.get = xq, xH.prototype.has = xW, xH.prototype.set = xV, iM(xY, "listCacheClear"), iM(xG, "eq"), iM(xX, "assocIndexOf");
var xK = Array.prototype.splice;
function xZ(e30) {
  var t10 = this.__data__, r10 = xX(t10, e30);
  return !(r10 < 0) && (r10 == t10.length - 1 ? t10.pop() : xK.call(t10, r10, 1), --this.size, true);
}
function xQ(e30) {
  var t10 = this.__data__, r10 = xX(t10, e30);
  return r10 < 0 ? void 0 : t10[r10][1];
}
function xJ(e30) {
  return xX(this.__data__, e30) > -1;
}
function x0(e30, t10) {
  var r10 = this.__data__, n10 = xX(r10, e30);
  return n10 < 0 ? (++this.size, r10.push([e30, t10])) : r10[n10][1] = t10, this;
}
function x1(e30) {
  var t10 = -1, r10 = null == e30 ? 0 : e30.length;
  for (this.clear(); ++t10 < r10; ) {
    var n10 = e30[t10];
    this.set(n10[0], n10[1]);
  }
}
iM(xZ, "listCacheDelete"), iM(xQ, "listCacheGet"), iM(xJ, "listCacheHas"), iM(x0, "listCacheSet"), iM(x1, "ListCache"), x1.prototype.clear = xY, x1.prototype.delete = xZ, x1.prototype.get = xQ, x1.prototype.has = xJ, x1.prototype.set = x0;
var x2 = xP(xd, "Map");
function x4() {
  this.size = 0, this.__data__ = { hash: new xH(), map: new (x2 || x1)(), string: new xH() };
}
function x3(e30) {
  var t10 = typeof e30;
  return "string" == t10 || "number" == t10 || "symbol" == t10 || "boolean" == t10 ? "__proto__" !== e30 : null === e30;
}
function x5(e30, t10) {
  var r10 = e30.__data__;
  return x3(t10) ? r10["string" == typeof t10 ? "string" : "hash"] : r10.map;
}
function x6(e30) {
  var t10 = x5(this, e30).delete(e30);
  return this.size -= t10 ? 1 : 0, t10;
}
function x7(e30) {
  return x5(this, e30).get(e30);
}
function x8(e30) {
  return x5(this, e30).has(e30);
}
function x9(e30, t10) {
  var r10 = x5(this, e30), n10 = r10.size;
  return r10.set(e30, t10), this.size += r10.size == n10 ? 0 : 1, this;
}
function be(e30) {
  var t10 = -1, r10 = null == e30 ? 0 : e30.length;
  for (this.clear(); ++t10 < r10; ) {
    var n10 = e30[t10];
    this.set(n10[0], n10[1]);
  }
}
function bt(e30, t10) {
  if ("function" != typeof e30 || null != t10 && "function" != typeof t10) throw TypeError("Expected a function");
  var r10 = iM(function() {
    var n10 = arguments, i10 = t10 ? t10.apply(this, n10) : n10[0], a10 = r10.cache;
    if (a10.has(i10)) return a10.get(i10);
    var s10 = e30.apply(this, n10);
    return r10.cache = a10.set(i10, s10) || a10, s10;
  }, "memoized");
  return r10.cache = new (bt.Cache || be)(), r10;
}
function br(e30) {
  return function() {
    return e30;
  };
}
function bn() {
  this.__data__ = new x1(), this.size = 0;
}
function bi(e30) {
  var t10 = this.__data__, r10 = t10.delete(e30);
  return this.size = t10.size, r10;
}
function ba(e30) {
  return this.__data__.get(e30);
}
function bs(e30) {
  return this.__data__.has(e30);
}
function bo(e30, t10) {
  var r10 = this.__data__;
  if (r10 instanceof x1) {
    var n10 = r10.__data__;
    if (!x2 || n10.length < 199) return n10.push([e30, t10]), this.size = ++r10.size, this;
    r10 = this.__data__ = new be(n10);
  }
  return r10.set(e30, t10), this.size = r10.size, this;
}
function bl(e30) {
  var t10 = this.__data__ = new x1(e30);
  this.size = t10.size;
}
iM(x4, "mapCacheClear"), iM(x3, "isKeyable"), iM(x5, "getMapData"), iM(x6, "mapCacheDelete"), iM(x7, "mapCacheGet"), iM(x8, "mapCacheHas"), iM(x9, "mapCacheSet"), iM(be, "MapCache"), be.prototype.clear = x4, be.prototype.delete = x6, be.prototype.get = x7, be.prototype.has = x8, be.prototype.set = x9, iM(bt, "memoize"), bt.Cache = be, iM(br, "constant"), iM(bn, "stackClear"), iM(bi, "stackDelete"), iM(ba, "stackGet"), iM(bs, "stackHas"), iM(bo, "stackSet"), iM(bl, "Stack"), bl.prototype.clear = bn, bl.prototype.delete = bi, bl.prototype.get = ba, bl.prototype.has = bs, bl.prototype.set = bo;
var bc = function() {
  try {
    var e30 = xP(Object, "defineProperty");
    return e30({}, "", {}), e30;
  } catch (e31) {
  }
}();
function bh(e30, t10, r10) {
  "__proto__" == t10 && bc ? bc(e30, t10, { configurable: true, enumerable: true, value: r10, writable: true }) : e30[t10] = r10;
}
function bu(e30, t10, r10) {
  (void 0 === r10 || xG(e30[t10], r10)) && (void 0 !== r10 || t10 in e30) || bh(e30, t10, r10);
}
function bd(e30) {
  return function(t10, r10, n10) {
    for (var i10 = -1, a10 = Object(t10), s10 = n10(t10), o10 = s10.length; o10--; ) {
      var l10 = s10[e30 ? o10 : ++i10];
      if (false === r10(a10[l10], l10, a10)) break;
    }
    return t10;
  };
}
iM(bh, "baseAssignValue"), iM(bu, "assignMergeValue"), iM(bd, "createBaseFor");
var bp = bd(), bf = "object" == typeof exports && exports && !exports.nodeType && exports, bg = bf && "object" == typeof module && module && !module.nodeType && module, bm = bg && bg.exports === bf ? xd.Buffer : void 0, by = bm ? bm.allocUnsafe : void 0;
function bv(e30, t10) {
  if (t10) return e30.slice();
  var r10 = e30.length, n10 = by ? by(r10) : new e30.constructor(r10);
  return e30.copy(n10), n10;
}
iM(bv, "cloneBuffer");
var bx = xd.Uint8Array;
function bb(e30) {
  var t10 = new e30.constructor(e30.byteLength);
  return new bx(t10).set(new bx(e30)), t10;
}
function bk(e30, t10) {
  var r10 = t10 ? bb(e30.buffer) : e30.buffer;
  return new e30.constructor(r10, e30.byteOffset, e30.length);
}
function bw(e30, t10) {
  var r10 = -1, n10 = e30.length;
  for (t10 || (t10 = Array(n10)); ++r10 < n10; ) t10[r10] = e30[r10];
  return t10;
}
iM(bb, "cloneArrayBuffer"), iM(bk, "cloneTypedArray"), iM(bw, "copyArray");
var b_ = Object.create, bT = function() {
  function e30() {
  }
  return iM(e30, "object"), function(t10) {
    if (!x_(t10)) return {};
    if (b_) return b_(t10);
    e30.prototype = t10;
    var r10 = new e30();
    return e30.prototype = void 0, r10;
  };
}();
function bS(e30, t10) {
  return function(r10) {
    return e30(t10(r10));
  };
}
iM(bS, "overArg");
var bC = bS(Object.getPrototypeOf, Object), bE = Object.prototype;
function bA(e30) {
  var t10 = e30 && e30.constructor;
  return e30 === ("function" == typeof t10 && t10.prototype || bE);
}
function bL(e30) {
  return "function" != typeof e30.constructor || bA(e30) ? {} : bT(bC(e30));
}
function bI(e30) {
  return null != e30 && "object" == typeof e30;
}
function bM(e30) {
  return bI(e30) && "[object Arguments]" == xw(e30);
}
iM(bA, "isPrototype"), iM(bL, "initCloneObject"), iM(bI, "isObjectLike"), iM(bM, "baseIsArguments");
var bN = Object.prototype, bR = bN.hasOwnProperty, bD = bN.propertyIsEnumerable, bO = bM(/* @__PURE__ */ function() {
  return arguments;
}()) ? bM : function(e30) {
  return bI(e30) && bR.call(e30, "callee") && !bD.call(e30, "callee");
}, b$ = Array.isArray;
function bP(e30) {
  return "number" == typeof e30 && e30 > -1 && e30 % 1 == 0 && e30 <= 9007199254740991;
}
function bB(e30) {
  return null != e30 && bP(e30.length) && !xT(e30);
}
function bF(e30) {
  return bI(e30) && bB(e30);
}
function bz() {
  return false;
}
iM(bP, "isLength"), iM(bB, "isArrayLike"), iM(bF, "isArrayLikeObject"), iM(bz, "stubFalse");
var bj = "object" == typeof exports && exports && !exports.nodeType && exports, bq = bj && "object" == typeof module && module && !module.nodeType && module, bU = bq && bq.exports === bj ? xd.Buffer : void 0, bW = (bU ? bU.isBuffer : void 0) || bz, bV = Object.prototype, bH = Function.prototype.toString, bY = bV.hasOwnProperty, bG = bH.call(Object);
function bX(e30) {
  if (!bI(e30) || "[object Object]" != xw(e30)) return false;
  var t10 = bC(e30);
  if (null === t10) return true;
  var r10 = bY.call(t10, "constructor") && t10.constructor;
  return "function" == typeof r10 && r10 instanceof r10 && bH.call(r10) == bG;
}
iM(bX, "isPlainObject");
var bK = {};
function bZ(e30) {
  return bI(e30) && bP(e30.length) && !!bK[xw(e30)];
}
function bQ(e30) {
  return function(t10) {
    return e30(t10);
  };
}
bK["[object Float32Array]"] = bK["[object Float64Array]"] = bK["[object Int8Array]"] = bK["[object Int16Array]"] = bK["[object Int32Array]"] = bK["[object Uint8Array]"] = bK["[object Uint8ClampedArray]"] = bK["[object Uint16Array]"] = bK["[object Uint32Array]"] = true, bK["[object Arguments]"] = bK["[object Array]"] = bK["[object ArrayBuffer]"] = bK["[object Boolean]"] = bK["[object DataView]"] = bK["[object Date]"] = bK["[object Error]"] = bK["[object Function]"] = bK["[object Map]"] = bK["[object Number]"] = bK["[object Object]"] = bK["[object RegExp]"] = bK["[object Set]"] = bK["[object String]"] = bK["[object WeakMap]"] = false, iM(bZ, "baseIsTypedArray"), iM(bQ, "baseUnary");
var bJ = "object" == typeof exports && exports && !exports.nodeType && exports, b0 = bJ && "object" == typeof module && module && !module.nodeType && module, b1 = b0 && b0.exports === bJ && xh.process, b2 = function() {
  try {
    var e30 = b0 && b0.require && b0.require("util").types;
    if (e30) return e30;
    return b1 && b1.binding && b1.binding("util");
  } catch (e31) {
  }
}(), b4 = b2 && b2.isTypedArray, b3 = b4 ? bQ(b4) : bZ;
function b5(e30, t10) {
  if (("constructor" !== t10 || "function" != typeof e30[t10]) && "__proto__" != t10) return e30[t10];
}
iM(b5, "safeGet");
var b6 = Object.prototype.hasOwnProperty;
function b7(e30, t10, r10) {
  var n10 = e30[t10];
  b6.call(e30, t10) && xG(n10, r10) && (void 0 !== r10 || t10 in e30) || bh(e30, t10, r10);
}
function b8(e30, t10, r10, n10) {
  var i10 = !r10;
  r10 || (r10 = {});
  for (var a10 = -1, s10 = t10.length; ++a10 < s10; ) {
    var o10 = t10[a10], l10 = n10 ? n10(r10[o10], e30[o10], o10, r10, e30) : void 0;
    void 0 === l10 && (l10 = e30[o10]), i10 ? bh(r10, o10, l10) : b7(r10, o10, l10);
  }
  return r10;
}
function b9(e30, t10) {
  for (var r10 = -1, n10 = Array(e30); ++r10 < e30; ) n10[r10] = t10(r10);
  return n10;
}
iM(b7, "assignValue"), iM(b8, "copyObject"), iM(b9, "baseTimes");
var ke = /^(?:0|[1-9]\d*)$/;
function kt(e30, t10) {
  var r10 = typeof e30;
  return !!(t10 = null == t10 ? 9007199254740991 : t10) && ("number" == r10 || "symbol" != r10 && ke.test(e30)) && e30 > -1 && e30 % 1 == 0 && e30 < t10;
}
iM(kt, "isIndex");
var kr = Object.prototype.hasOwnProperty;
function kn(e30, t10) {
  var r10 = b$(e30), n10 = !r10 && bO(e30), i10 = !r10 && !n10 && bW(e30), a10 = !r10 && !n10 && !i10 && b3(e30), s10 = r10 || n10 || i10 || a10, o10 = s10 ? b9(e30.length, String) : [], l10 = o10.length;
  for (var h10 in e30) (t10 || kr.call(e30, h10)) && !(s10 && ("length" == h10 || i10 && ("offset" == h10 || "parent" == h10) || a10 && ("buffer" == h10 || "byteLength" == h10 || "byteOffset" == h10) || kt(h10, l10))) && o10.push(h10);
  return o10;
}
function ki(e30) {
  var t10 = [];
  if (null != e30) for (var r10 in Object(e30)) t10.push(r10);
  return t10;
}
iM(kn, "arrayLikeKeys"), iM(ki, "nativeKeysIn");
var ka = Object.prototype.hasOwnProperty;
function ks(e30) {
  if (!x_(e30)) return ki(e30);
  var t10 = bA(e30), r10 = [];
  for (var n10 in e30) "constructor" == n10 && (t10 || !ka.call(e30, n10)) || r10.push(n10);
  return r10;
}
function ko(e30) {
  return bB(e30) ? kn(e30, true) : ks(e30);
}
function kl(e30) {
  return b8(e30, ko(e30));
}
function kc(e30, t10, r10, n10, i10, a10, s10) {
  var o10 = b5(e30, r10), l10 = b5(t10, r10), h10 = s10.get(l10);
  if (h10) {
    bu(e30, r10, h10);
    return;
  }
  var u10 = a10 ? a10(o10, l10, r10 + "", e30, t10, s10) : void 0, d10 = void 0 === u10;
  if (d10) {
    var p10 = b$(l10), f10 = !p10 && bW(l10), g10 = !p10 && !f10 && b3(l10);
    u10 = l10, p10 || f10 || g10 ? b$(o10) ? u10 = o10 : bF(o10) ? u10 = bw(o10) : f10 ? (d10 = false, u10 = bv(l10, true)) : g10 ? (d10 = false, u10 = bk(l10, true)) : u10 = [] : bX(l10) || bO(l10) ? (u10 = o10, bO(o10) ? u10 = kl(o10) : (!x_(o10) || xT(o10)) && (u10 = bL(l10))) : d10 = false;
  }
  d10 && (s10.set(l10, u10), i10(u10, l10, n10, a10, s10), s10.delete(l10)), bu(e30, r10, u10);
}
function kh(e30, t10, r10, n10, i10) {
  e30 !== t10 && bp(t10, function(a10, s10) {
    if (i10 || (i10 = new bl()), x_(a10)) kc(e30, t10, s10, r10, kh, n10, i10);
    else {
      var o10 = n10 ? n10(b5(e30, s10), a10, s10 + "", e30, t10, i10) : void 0;
      void 0 === o10 && (o10 = a10), bu(e30, s10, o10);
    }
  }, ko);
}
function ku(e30) {
  return e30;
}
function kd(e30, t10, r10) {
  switch (r10.length) {
    case 0:
      return e30.call(t10);
    case 1:
      return e30.call(t10, r10[0]);
    case 2:
      return e30.call(t10, r10[0], r10[1]);
    case 3:
      return e30.call(t10, r10[0], r10[1], r10[2]);
  }
  return e30.apply(t10, r10);
}
iM(ks, "baseKeysIn"), iM(ko, "keysIn"), iM(kl, "toPlainObject"), iM(kc, "baseMergeDeep"), iM(kh, "baseMerge"), iM(ku, "identity"), iM(kd, "apply");
var kp = Math.max;
function kf(e30, t10, r10) {
  return t10 = kp(void 0 === t10 ? e30.length - 1 : t10, 0), function() {
    for (var n10 = arguments, i10 = -1, a10 = kp(n10.length - t10, 0), s10 = Array(a10); ++i10 < a10; ) s10[i10] = n10[t10 + i10];
    i10 = -1;
    for (var o10 = Array(t10 + 1); ++i10 < t10; ) o10[i10] = n10[i10];
    return o10[t10] = r10(s10), kd(e30, this, o10);
  };
}
iM(kf, "overRest");
var kg = bc ? function(e30, t10) {
  return bc(e30, "toString", { configurable: true, enumerable: false, value: br(t10), writable: true });
} : ku, km = Date.now;
function ky(e30) {
  var t10 = 0, r10 = 0;
  return function() {
    var n10 = km(), i10 = 16 - (n10 - r10);
    if (r10 = n10, i10 > 0) {
      if (++t10 >= 800) return arguments[0];
    } else t10 = 0;
    return e30.apply(void 0, arguments);
  };
}
iM(ky, "shortOut");
var kv = ky(kg);
function kx(e30, t10) {
  return kv(kf(e30, t10, ku), e30 + "");
}
function kb(e30, t10, r10) {
  if (!x_(r10)) return false;
  var n10 = typeof t10;
  return ("number" == n10 ? !!(bB(r10) && kt(t10, r10.length)) : "string" == n10 && t10 in r10) && xG(r10[t10], e30);
}
function kk(e30) {
  return kx(function(t10, r10) {
    var n10 = -1, i10 = r10.length, a10 = i10 > 1 ? r10[i10 - 1] : void 0, s10 = i10 > 2 ? r10[2] : void 0;
    for (a10 = e30.length > 3 && "function" == typeof a10 ? (i10--, a10) : void 0, s10 && kb(r10[0], r10[1], s10) && (a10 = i10 < 3 ? void 0 : a10, i10 = 1), t10 = Object(t10); ++n10 < i10; ) {
      var o10 = r10[n10];
      o10 && e30(t10, o10, n10, a10);
    }
    return t10;
  });
}
iM(kx, "baseRest"), iM(kb, "isIterateeCall"), iM(kk, "createAssigner");
var kw = kk(function(e30, t10, r10) {
  kh(e30, t10, r10);
}), k_ = i$(xc()), kT = { curveBasis: fr, curveBasisClosed: fa, curveBasisOpen: fo, curveBumpX: p8, curveBumpY: p9, curveBundle: fc, curveCardinalClosed: ff, curveCardinalOpen: fm, curveCardinal: fd, curveCatmullRomClosed: fk, curveCatmullRomOpen: f_, curveCatmullRom: fx, curveLinear: pJ, curveLinearClosed: fS, curveMonotoneX: fR, curveMonotoneY: fD, curveNatural: fP, curveStep: fF, curveStepAfter: fj, curveStepBefore: fz }, kS = /\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi, kC = iM(function(e30, t10) {
  let r10 = kE(e30, /(?:init\b)|(?:initialize\b)/), n10 = {};
  if (Array.isArray(r10)) {
    let e31 = r10.map((e32) => e32.args);
    aL(e31), n10 = iQ(n10, [...e31]);
  } else n10 = r10.args;
  if (!n10) return;
  let i10 = iG(e30, t10), a10 = "config";
  return void 0 !== n10[a10] && ("flowchart-v2" === i10 && (i10 = "flowchart"), n10[i10] = n10[a10], delete n10[a10]), n10;
}, "detectInit"), kE = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
  try {
    let i10;
    let a10 = RegExp(`[%]{2}(?![{]${kS.source})(?=[}][%]{2}).*
`, "ig");
    e30 = e30.trim().replace(a10, "").replace(/'/gm, '"'), iz.debug(`Detecting diagram directive${null !== t10 ? " type:" + t10 : ""} based on the text:${e30}`);
    let s10 = [];
    for (; null !== (i10 = iW.exec(e30)); ) {
      var r10, n10;
      if (i10.index === iW.lastIndex && iW.lastIndex++, i10 && !t10 || t10 && (null === (r10 = i10[1]) || void 0 === r10 ? void 0 : r10.match(t10)) || t10 && (null === (n10 = i10[2]) || void 0 === n10 ? void 0 : n10.match(t10))) {
        let e31 = i10[1] ? i10[1] : i10[2], t11 = i10[3] ? i10[3].trim() : i10[4] ? JSON.parse(i10[4].trim()) : null;
        s10.push({ type: e31, args: t11 });
      }
    }
    if (0 === s10.length) return { type: e30, args: null };
    return 1 === s10.length ? s10[0] : s10;
  } catch (r11) {
    return iz.error(`ERROR: ${r11.message} - Unable to parse directive type: '${t10}' based on the text: '${e30}'`), { type: void 0, args: null };
  }
}, "detectDirective"), kA = iM(function(e30) {
  return e30.replace(iW, "");
}, "removeDirectives");
function kL(e30, t10) {
  var r10;
  return e30 && null !== (r10 = kT[`curve${e30.charAt(0).toUpperCase() + e30.slice(1)}`]) && void 0 !== r10 ? r10 : t10;
}
function kI(e30, t10) {
  let r10 = e30.trim();
  return r10 ? "loose" !== t10.securityLevel ? (0, k_.sanitizeUrl)(r10) : r10 : void 0;
}
iM(kL, "interpolateToCurve"), iM(kI, "formatUrl");
var kM = iM(function(e30) {
  for (var t10 = arguments.length, r10 = Array(t10 > 1 ? t10 - 1 : 0), n10 = 1; n10 < t10; n10++) r10[n10 - 1] = arguments[n10];
  let i10 = e30.split("."), a10 = i10.length - 1, s10 = i10[a10], o10 = window;
  for (let t11 = 0; t11 < a10; t11++) if (!(o10 = o10[i10[t11]])) {
    iz.error(`Function name: ${e30} not found in window`);
    return;
  }
  o10[s10](...r10);
}, "runFunc");
function kN(e30, t10) {
  return e30 && t10 ? Math.sqrt(Math.pow(t10.x - e30.x, 2) + Math.pow(t10.y - e30.y, 2)) : 0;
}
function kR(e30) {
  let t10;
  let r10 = 0;
  return e30.forEach((e31) => {
    r10 += kN(e31, t10), t10 = e31;
  }), k$(e30, r10 / 2);
}
function kD(e30) {
  return 1 === e30.length ? e30[0] : kR(e30);
}
iM(kN, "distance"), iM(kR, "traverseEdge"), iM(kD, "calcLabelPosition");
var kO = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2, r10 = Math.pow(10, t10);
  return Math.round(e30 * r10) / r10;
}, "roundNumber"), k$ = iM((e30, t10) => {
  let r10;
  let n10 = t10;
  for (let t11 of e30) {
    if (r10) {
      let e31 = kN(t11, r10);
      if (e31 < n10) n10 -= e31;
      else {
        let i10 = n10 / e31;
        if (i10 <= 0) return r10;
        if (i10 >= 1) return { x: t11.x, y: t11.y };
        if (i10 > 0 && i10 < 1) return { x: kO((1 - i10) * r10.x + i10 * t11.x, 5), y: kO((1 - i10) * r10.y + i10 * t11.y, 5) };
      }
    }
    r10 = t11;
  }
  throw Error("Could not find a suitable point for the given distance");
}, "calculatePoint");
function kP(e30, t10, r10) {
  let n10 = structuredClone(r10);
  iz.info("our points", n10), "start_left" !== t10 && "start_right" !== t10 && n10.reverse();
  let i10 = k$(n10, 25 + e30), a10 = 10 + 0.5 * e30, s10 = Math.atan2(n10[0].y - i10.y, n10[0].x - i10.x), o10 = { x: 0, y: 0 };
  return "start_left" === t10 ? (o10.x = Math.sin(s10 + Math.PI) * a10 + (n10[0].x + i10.x) / 2, o10.y = -Math.cos(s10 + Math.PI) * a10 + (n10[0].y + i10.y) / 2) : "end_right" === t10 ? (o10.x = Math.sin(s10 - Math.PI) * a10 + (n10[0].x + i10.x) / 2 - 5, o10.y = -Math.cos(s10 - Math.PI) * a10 + (n10[0].y + i10.y) / 2 - 5) : "end_left" === t10 ? (o10.x = Math.sin(s10) * a10 + (n10[0].x + i10.x) / 2 - 5, o10.y = -Math.cos(s10) * a10 + (n10[0].y + i10.y) / 2 - 5) : (o10.x = Math.sin(s10) * a10 + (n10[0].x + i10.x) / 2, o10.y = -Math.cos(s10) * a10 + (n10[0].y + i10.y) / 2), o10;
}
function kB(e30) {
  let t10 = "", r10 = "";
  for (let n10 of e30) void 0 !== n10 && (n10.startsWith("color:") || n10.startsWith("text-align:") ? r10 = r10 + n10 + ";" : t10 = t10 + n10 + ";");
  return { style: t10, labelStyle: r10 };
}
iM(kP, "calcTerminalLabelPosition"), iM(kB, "getStylesFromArray");
var kF = 0, kz = iM(() => (kF++, "id-" + Math.random().toString(36).substr(2, 12) + "-" + kF), "generateId");
function kj(e30) {
  let t10 = "", r10 = "0123456789abcdef", n10 = r10.length;
  for (let i10 = 0; i10 < e30; i10++) t10 += r10.charAt(Math.floor(Math.random() * n10));
  return t10;
}
iM(kj, "makeRandomHex");
var kq = iM((e30) => kj(e30.length), "random"), kU = iM(function() {
  return { x: 0, y: 0, fill: void 0, anchor: "start", style: "#666", width: 100, height: 100, textMargin: 0, rx: 0, ry: 0, valign: void 0, text: "" };
}, "getTextObj"), kW = iM(function(e30, t10) {
  let r10 = t10.text.replace(oe.lineBreakRegex, " "), [, n10] = k0(t10.fontSize), i10 = e30.append("text");
  i10.attr("x", t10.x), i10.attr("y", t10.y), i10.style("text-anchor", t10.anchor), i10.style("font-family", t10.fontFamily), i10.style("font-size", n10), i10.style("font-weight", t10.fontWeight), i10.attr("fill", t10.fill), void 0 !== t10.class && i10.attr("class", t10.class);
  let a10 = i10.append("tspan");
  return a10.attr("x", t10.x + 2 * t10.textMargin), a10.attr("fill", t10.fill), a10.text(r10), i10;
}, "drawSimpleText"), kV = bt((e30, t10, r10) => {
  if (!e30 || (r10 = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: "Arial", joinWith: "<br/>" }, r10), oe.lineBreakRegex.test(e30))) return e30;
  let n10 = e30.split(" ").filter(Boolean), i10 = [], a10 = "";
  return n10.forEach((e31, s10) => {
    let o10 = kG(`${e31} `, r10), l10 = kG(a10, r10);
    if (o10 > t10) {
      let { hyphenatedStrings: n11, remainingWord: s11 } = kH(e31, t10, "-", r10);
      i10.push(a10, ...n11), a10 = s11;
    } else l10 + o10 >= t10 ? (i10.push(a10), a10 = e31) : a10 = [a10, e31].filter(Boolean).join(" ");
    s10 + 1 === n10.length && i10.push(a10);
  }), i10.filter((e31) => "" !== e31).join(r10.joinWith);
}, (e30, t10, r10) => `${e30}${t10}${r10.fontSize}${r10.fontWeight}${r10.fontFamily}${r10.joinWith}`), kH = bt(function(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "-", n10 = arguments.length > 3 ? arguments[3] : void 0;
  n10 = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: "Arial", margin: 0 }, n10);
  let i10 = [...e30], a10 = [], s10 = "";
  return i10.forEach((e31, o10) => {
    let l10 = `${s10}${e31}`;
    if (kG(l10, n10) >= t10) {
      let e32 = i10.length === o10 + 1, t11 = `${l10}${r10}`;
      a10.push(e32 ? l10 : t11), s10 = "";
    } else s10 = l10;
  }), { hyphenatedStrings: a10, remainingWord: s10 };
}, function(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "-", n10 = arguments.length > 3 ? arguments[3] : void 0;
  return `${e30}${t10}${r10}${n10.fontSize}${n10.fontWeight}${n10.fontFamily}`;
});
function kY(e30, t10) {
  return kX(e30, t10).height;
}
function kG(e30, t10) {
  return kX(e30, t10).width;
}
iM(kY, "calculateTextHeight"), iM(kG, "calculateTextWidth");
var kX = bt((e30, t10) => {
  let { fontSize: r10 = 12, fontFamily: n10 = "Arial", fontWeight: i10 = 400 } = t10;
  if (!e30) return { width: 0, height: 0 };
  let [, a10] = k0(r10), s10 = e30.split(oe.lineBreakRegex), o10 = [], l10 = c$("body");
  if (!l10.remove) return { width: 0, height: 0, lineHeight: 0 };
  let h10 = l10.append("svg");
  for (let e31 of ["sans-serif", n10]) {
    let t11 = 0, r11 = { width: 0, height: 0, lineHeight: 0 };
    for (let n11 of s10) {
      let s11 = kU();
      s11.text = n11 || "​";
      let o11 = kW(h10, s11).style("font-size", a10).style("font-weight", i10).style("font-family", e31), l11 = (o11._groups || o11)[0][0].getBBox();
      if (0 === l11.width && 0 === l11.height) throw Error("svg element not in render tree");
      r11.width = Math.round(Math.max(r11.width, l11.width)), t11 = Math.round(l11.height), r11.height += t11, r11.lineHeight = Math.round(Math.max(r11.lineHeight, t11));
    }
    o10.push(r11);
  }
  h10.remove();
  let u10 = isNaN(o10[1].height) || isNaN(o10[1].width) || isNaN(o10[1].lineHeight) || o10[0].height > o10[1].height && o10[0].width > o10[1].width && o10[0].lineHeight > o10[1].lineHeight ? 0 : 1;
  return o10[u10];
}, (e30, t10) => `${e30}${t10.fontSize}${t10.fontWeight}${t10.fontFamily}`), kK = (_m2 = class {
  constructor(e30 = false, t10) {
    this.count = 0, this.count = t10 ? t10.length : 0, this.next = e30 ? () => this.count++ : () => Date.now();
  }
}, _i15 = new WeakMap(), __privateAdd(_m2, _i15, iM(_m2, "InitIDGenerator")), _m2), kZ = iM(function(e30) {
  return t6 = t6 || document.createElement("div"), e30 = escape(e30).replace(/%26/g, "&").replace(/%23/g, "#").replace(/%3B/g, ";"), t6.innerHTML = e30, unescape(t6.textContent);
}, "entityDecode");
function kQ(e30) {
  return "str" in e30;
}
iM(kQ, "isDetailedError");
var kJ = iM((e30, t10, r10, n10) => {
  var i10;
  if (!n10) return;
  let a10 = null === (i10 = e30.node()) || void 0 === i10 ? void 0 : i10.getBBox();
  a10 && e30.append("text").text(n10).attr("text-anchor", "middle").attr("x", a10.x + a10.width / 2).attr("y", -r10).attr("class", t10);
}, "insertTitle"), k0 = iM((e30) => {
  if ("number" == typeof e30) return [e30, e30 + "px"];
  let t10 = parseInt(null != e30 ? e30 : "", 10);
  return Number.isNaN(t10) ? [void 0, void 0] : e30 === String(t10) ? [t10, e30 + "px"] : [t10, e30];
}, "parseFontSize");
function k1(e30, t10) {
  return kw({}, e30, t10);
}
iM(k1, "cleanAndMerge");
var k2 = { wrapLabel: kV, calculateTextDimensions: kX, detectInit: kC, detectDirective: kE, calcLabelPosition: kD, calcTerminalLabelPosition: kP, formatUrl: kI, random: kq, runFunc: kM, entityDecode: kZ, insertTitle: kJ, InitIDGenerator: kK }, k4 = iM(function(e30) {
  let t10 = e30;
  return (t10 = (t10 = t10.replace(/style.*:\S*#.*;/g, function(e31) {
    return e31.substring(0, e31.length - 1);
  })).replace(/classDef.*:\S*#.*;/g, function(e31) {
    return e31.substring(0, e31.length - 1);
  })).replace(/#\w+;/g, function(e31) {
    let t11 = e31.substring(1, e31.length - 1);
    return /^\+?\d+$/.test(t11) ? "ﬂ°°" + t11 + "¶ß" : "ﬂ°" + t11 + "¶ß";
  });
}, "encodeEntities"), k3 = iM(function(e30) {
  return e30.replace(/ﬂ°°/g, "&#").replace(/ﬂ°/g, "&").replace(/¶ß/g, ";");
}, "decodeEntities"), k5 = iM((e30, t10, r10) => {
  let { counter: n10 = 0, prefix: i10, suffix: a10 } = r10;
  return `${i10 ? `${i10}_` : ""}${e30}_${t10}_${n10}${a10 ? `_${a10}` : ""}`;
}, "getEdgeId");
function k6(e30) {
  return null != e30 ? e30 : null;
}
function k7(e30) {
  for (var t10 = [], r10 = 1; r10 < arguments.length; r10++) t10[r10 - 1] = arguments[r10];
  var n10 = Array.from("string" == typeof e30 ? [e30] : e30);
  n10[n10.length - 1] = n10[n10.length - 1].replace(/\r?\n([\t ]*)$/, "");
  var i10 = n10.reduce(function(e31, t11) {
    var r11 = t11.match(/\n([\t ]+|(?!\s).)/g);
    return r11 ? e31.concat(r11.map(function(e32) {
      var t12, r12;
      return null !== (r12 = null === (t12 = e32.match(/[\t ]/g)) || void 0 === t12 ? void 0 : t12.length) && void 0 !== r12 ? r12 : 0;
    })) : e31;
  }, []);
  if (i10.length) {
    var a10 = RegExp("\n[	 ]{" + Math.min.apply(Math, i10) + "}", "g");
    n10 = n10.map(function(e31) {
      return e31.replace(a10, "\n");
    });
  }
  n10[0] = n10[0].replace(/^\r?\n/, "");
  var s10 = n10[0];
  return t10.forEach(function(e31, t11) {
    var r11 = s10.match(/(?:^|\n)( *)$/), i11 = r11 ? r11[1] : "", a11 = e31;
    "string" == typeof e31 && e31.includes("\n") && (a11 = String(e31).split("\n").map(function(e32, t12) {
      return 0 === t12 ? e32 : "" + i11 + e32;
    }).join("\n")), s10 += a11 + n10[t11 + 1];
  }), s10;
}
function k8() {
  return { async: false, breaks: false, extensions: null, gfm: true, hooks: null, pedantic: false, renderer: null, silent: false, tokenizer: null, walkTokens: null };
}
iM(k6, "handleUndefinedAttr"), iM(k7, "dedent"), iM(k8, "_getDefaults");
var k9 = k8();
function we(e30) {
  k9 = e30;
}
iM(we, "changeDefaults");
var wt = /[&<>"']/, wr = RegExp(wt.source, "g"), wn = /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/, wi = RegExp(wn.source, "g"), wa = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, ws = iM((e30) => wa[e30], "getEscapeReplacement");
function wo(e30, t10) {
  if (t10) {
    if (wt.test(e30)) return e30.replace(wr, ws);
  } else if (wn.test(e30)) return e30.replace(wi, ws);
  return e30;
}
iM(wo, "escape$1");
var wl = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;
function wc(e30) {
  return e30.replace(wl, (e31, t10) => "colon" === (t10 = t10.toLowerCase()) ? ":" : "#" === t10.charAt(0) ? "x" === t10.charAt(1) ? String.fromCharCode(parseInt(t10.substring(2), 16)) : String.fromCharCode(+t10.substring(1)) : "");
}
iM(wc, "unescape");
var wh = /(^|[^\[])\^/g;
function wu(e30, t10) {
  let r10 = "string" == typeof e30 ? e30 : e30.source;
  t10 = t10 || "";
  let n10 = { replace: iM((e31, t11) => {
    let i10 = "string" == typeof t11 ? t11 : t11.source;
    return i10 = i10.replace(wh, "$1"), r10 = r10.replace(e31, i10), n10;
  }, "replace"), getRegex: iM(() => new RegExp(r10, t10), "getRegex") };
  return n10;
}
function wd(e30) {
  try {
    e30 = encodeURI(e30).replace(/%25/g, "%");
  } catch {
    return null;
  }
  return e30;
}
iM(wu, "edit"), iM(wd, "cleanUrl");
var wp = { exec: iM(() => null, "exec") };
function wf(e30, t10) {
  let r10 = e30.replace(/\|/g, (e31, t11, r11) => {
    let n11 = false, i10 = t11;
    for (; --i10 >= 0 && "\\" === r11[i10]; ) n11 = !n11;
    return n11 ? "|" : " |";
  }).split(/ \|/), n10 = 0;
  if (r10[0].trim() || r10.shift(), r10.length > 0 && !r10[r10.length - 1].trim() && r10.pop(), t10) {
    if (r10.length > t10) r10.splice(t10);
    else for (; r10.length < t10; ) r10.push("");
  }
  for (; n10 < r10.length; n10++) r10[n10] = r10[n10].trim().replace(/\\\|/g, "|");
  return r10;
}
function wg(e30, t10, r10) {
  let n10 = e30.length;
  if (0 === n10) return "";
  let i10 = 0;
  for (; i10 < n10; ) {
    let a10 = e30.charAt(n10 - i10 - 1);
    if (a10 !== t10 || r10) {
      if (a10 !== t10 && r10) i10++;
      else break;
    } else i10++;
  }
  return e30.slice(0, n10 - i10);
}
function wm(e30, t10) {
  if (-1 === e30.indexOf(t10[1])) return -1;
  let r10 = 0;
  for (let n10 = 0; n10 < e30.length; n10++) if ("\\" === e30[n10]) n10++;
  else if (e30[n10] === t10[0]) r10++;
  else if (e30[n10] === t10[1] && --r10 < 0) return n10;
  return -1;
}
function wy(e30, t10, r10, n10) {
  let i10 = t10.href, a10 = t10.title ? wo(t10.title) : null, s10 = e30[1].replace(/\\([\[\]])/g, "$1");
  if ("!" !== e30[0].charAt(0)) {
    n10.state.inLink = true;
    let e31 = { type: "link", raw: r10, href: i10, title: a10, text: s10, tokens: n10.inlineTokens(s10) };
    return n10.state.inLink = false, e31;
  }
  return { type: "image", raw: r10, href: i10, title: a10, text: wo(s10) };
}
function wv(e30, t10) {
  let r10 = e30.match(/^(\s+)(?:```)/);
  if (null === r10) return t10;
  let n10 = r10[1];
  return t10.split("\n").map((e31) => {
    let t11 = e31.match(/^\s+/);
    if (null === t11) return e31;
    let [r11] = t11;
    return r11.length >= n10.length ? e31.slice(n10.length) : e31;
  }).join("\n");
}
iM(wf, "splitCells"), iM(wg, "rtrim"), iM(wm, "findClosingBracket"), iM(wy, "outputLink"), iM(wv, "indentCodeCompensation");
var wx = (_n2 = class {
  constructor(e30) {
    __publicField(this, "options");
    __publicField(this, "rules");
    __publicField(this, "lexer");
    this.options = e30 || k9;
  }
  space(e30) {
    let t10 = this.rules.block.newline.exec(e30);
    if (t10 && t10[0].length > 0) return { type: "space", raw: t10[0] };
  }
  code(e30) {
    let t10 = this.rules.block.code.exec(e30);
    if (t10) {
      let e31 = t10[0].replace(/^ {1,4}/gm, "");
      return { type: "code", raw: t10[0], codeBlockStyle: "indented", text: this.options.pedantic ? e31 : wg(e31, "\n") };
    }
  }
  fences(e30) {
    let t10 = this.rules.block.fences.exec(e30);
    if (t10) {
      let e31 = t10[0], r10 = wv(e31, t10[3] || "");
      return { type: "code", raw: e31, lang: t10[2] ? t10[2].trim().replace(this.rules.inline.anyPunctuation, "$1") : t10[2], text: r10 };
    }
  }
  heading(e30) {
    let t10 = this.rules.block.heading.exec(e30);
    if (t10) {
      let e31 = t10[2].trim();
      if (/#$/.test(e31)) {
        let t11 = wg(e31, "#");
        this.options.pedantic ? e31 = t11.trim() : (!t11 || / $/.test(t11)) && (e31 = t11.trim());
      }
      return { type: "heading", raw: t10[0], depth: t10[1].length, text: e31, tokens: this.lexer.inline(e31) };
    }
  }
  hr(e30) {
    let t10 = this.rules.block.hr.exec(e30);
    if (t10) return { type: "hr", raw: wg(t10[0], "\n") };
  }
  blockquote(e30) {
    let t10 = this.rules.block.blockquote.exec(e30);
    if (t10) {
      let e31 = wg(t10[0], "\n").split("\n"), r10 = "", n10 = "", i10 = [];
      for (; e31.length > 0; ) {
        let t11, a10 = false, s10 = [];
        for (t11 = 0; t11 < e31.length; t11++) if (/^ {0,3}>/.test(e31[t11])) s10.push(e31[t11]), a10 = true;
        else if (a10) break;
        else s10.push(e31[t11]);
        e31 = e31.slice(t11);
        let o10 = s10.join("\n"), l10 = o10.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g, "\n    $1").replace(/^ {0,3}>[ \t]?/gm, "");
        r10 = r10 ? `${r10}
${o10}` : o10, n10 = n10 ? `${n10}
${l10}` : l10;
        let h10 = this.lexer.state.top;
        if (this.lexer.state.top = true, this.lexer.blockTokens(l10, i10, true), this.lexer.state.top = h10, 0 === e31.length) break;
        let u10 = i10[i10.length - 1];
        if ((null == u10 ? void 0 : u10.type) === "code") break;
        if ((null == u10 ? void 0 : u10.type) === "blockquote") {
          let t12 = u10.raw + "\n" + e31.join("\n"), a11 = this.blockquote(t12);
          i10[i10.length - 1] = a11, r10 = r10.substring(0, r10.length - u10.raw.length) + a11.raw, n10 = n10.substring(0, n10.length - u10.text.length) + a11.text;
          break;
        }
        if ((null == u10 ? void 0 : u10.type) === "list") {
          let t12 = u10.raw + "\n" + e31.join("\n"), a11 = this.list(t12);
          i10[i10.length - 1] = a11, r10 = r10.substring(0, r10.length - u10.raw.length) + a11.raw, n10 = n10.substring(0, n10.length - u10.raw.length) + a11.raw, e31 = t12.substring(i10[i10.length - 1].raw.length).split("\n");
          continue;
        }
      }
      return { type: "blockquote", raw: r10, tokens: i10, text: n10 };
    }
  }
  list(e30) {
    let t10 = this.rules.block.list.exec(e30);
    if (t10) {
      let r10 = t10[1].trim(), n10 = r10.length > 1, i10 = { type: "list", raw: "", ordered: n10, start: n10 ? +r10.slice(0, -1) : "", loose: false, items: [] };
      r10 = n10 ? `\\d{1,9}\\${r10.slice(-1)}` : `\\${r10}`, this.options.pedantic && (r10 = n10 ? r10 : "[*+-]");
      let a10 = RegExp(`^( {0,3}${r10})((?:[	 ][^\\n]*)?(?:\\n|$))`), s10 = false;
      for (; e30; ) {
        let r11, n11 = false, o10 = "", l10 = "";
        if (!(t10 = a10.exec(e30)) || this.rules.block.hr.test(e30)) break;
        o10 = t10[0], e30 = e30.substring(o10.length);
        let h10 = t10[2].split("\n", 1)[0].replace(/^\t+/, (e31) => " ".repeat(3 * e31.length)), u10 = e30.split("\n", 1)[0], d10 = !h10.trim(), p10 = 0;
        if (this.options.pedantic ? (p10 = 2, l10 = h10.trimStart()) : d10 ? p10 = t10[1].length + 1 : (p10 = (p10 = t10[2].search(/[^ ]/)) > 4 ? 1 : p10, l10 = h10.slice(p10), p10 += t10[1].length), d10 && /^ *$/.test(u10) && (o10 += u10 + "\n", e30 = e30.substring(u10.length + 1), n11 = true), !n11) {
          let t11 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`), r12 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`), n12 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}(?:\`\`\`|~~~)`), i11 = RegExp(`^ {0,${Math.min(3, p10 - 1)}}#`);
          for (; e30; ) {
            let a11 = e30.split("\n", 1)[0];
            if (u10 = a11, this.options.pedantic && (u10 = u10.replace(/^ {1,4}(?=( {4})*[^ ])/g, "  ")), n12.test(u10) || i11.test(u10) || t11.test(u10) || r12.test(e30)) break;
            if (u10.search(/[^ ]/) >= p10 || !u10.trim()) l10 += "\n" + u10.slice(p10);
            else {
              if (d10 || h10.search(/[^ ]/) >= 4 || n12.test(h10) || i11.test(h10) || r12.test(h10)) break;
              l10 += "\n" + u10;
            }
            d10 || u10.trim() || (d10 = true), o10 += a11 + "\n", e30 = e30.substring(a11.length + 1), h10 = u10.slice(p10);
          }
        }
        !i10.loose && (s10 ? i10.loose = true : /\n *\n *$/.test(o10) && (s10 = true));
        let f10 = null;
        this.options.gfm && (f10 = /^\[[ xX]\] /.exec(l10)) && (r11 = "[ ] " !== f10[0], l10 = l10.replace(/^\[[ xX]\] +/, "")), i10.items.push({ type: "list_item", raw: o10, task: !!f10, checked: r11, loose: false, text: l10, tokens: [] }), i10.raw += o10;
      }
      i10.items[i10.items.length - 1].raw = i10.items[i10.items.length - 1].raw.trimEnd(), i10.items[i10.items.length - 1].text = i10.items[i10.items.length - 1].text.trimEnd(), i10.raw = i10.raw.trimEnd();
      for (let e31 = 0; e31 < i10.items.length; e31++) if (this.lexer.state.top = false, i10.items[e31].tokens = this.lexer.blockTokens(i10.items[e31].text, []), !i10.loose) {
        let t11 = i10.items[e31].tokens.filter((e32) => "space" === e32.type), r11 = t11.length > 0 && t11.some((e32) => /\n.*\n/.test(e32.raw));
        i10.loose = r11;
      }
      if (i10.loose) for (let e31 = 0; e31 < i10.items.length; e31++) i10.items[e31].loose = true;
      return i10;
    }
  }
  html(e30) {
    let t10 = this.rules.block.html.exec(e30);
    if (t10) return { type: "html", block: true, raw: t10[0], pre: "pre" === t10[1] || "script" === t10[1] || "style" === t10[1], text: t10[0] };
  }
  def(e30) {
    let t10 = this.rules.block.def.exec(e30);
    if (t10) {
      let e31 = t10[1].toLowerCase().replace(/\s+/g, " "), r10 = t10[2] ? t10[2].replace(/^<(.*)>$/, "$1").replace(this.rules.inline.anyPunctuation, "$1") : "", n10 = t10[3] ? t10[3].substring(1, t10[3].length - 1).replace(this.rules.inline.anyPunctuation, "$1") : t10[3];
      return { type: "def", tag: e31, raw: t10[0], href: r10, title: n10 };
    }
  }
  table(e30) {
    let t10 = this.rules.block.table.exec(e30);
    if (!t10 || !/[:|]/.test(t10[2])) return;
    let r10 = wf(t10[1]), n10 = t10[2].replace(/^\||\| *$/g, "").split("|"), i10 = t10[3] && t10[3].trim() ? t10[3].replace(/\n[ \t]*$/, "").split("\n") : [], a10 = { type: "table", raw: t10[0], header: [], align: [], rows: [] };
    if (r10.length === n10.length) {
      for (let e31 of n10) /^ *-+: *$/.test(e31) ? a10.align.push("right") : /^ *:-+: *$/.test(e31) ? a10.align.push("center") : /^ *:-+ *$/.test(e31) ? a10.align.push("left") : a10.align.push(null);
      for (let e31 = 0; e31 < r10.length; e31++) a10.header.push({ text: r10[e31], tokens: this.lexer.inline(r10[e31]), header: true, align: a10.align[e31] });
      for (let e31 of i10) a10.rows.push(wf(e31, a10.header.length).map((e32, t11) => ({ text: e32, tokens: this.lexer.inline(e32), header: false, align: a10.align[t11] })));
      return a10;
    }
  }
  lheading(e30) {
    let t10 = this.rules.block.lheading.exec(e30);
    if (t10) return { type: "heading", raw: t10[0], depth: "=" === t10[2].charAt(0) ? 1 : 2, text: t10[1], tokens: this.lexer.inline(t10[1]) };
  }
  paragraph(e30) {
    let t10 = this.rules.block.paragraph.exec(e30);
    if (t10) {
      let e31 = "\n" === t10[1].charAt(t10[1].length - 1) ? t10[1].slice(0, -1) : t10[1];
      return { type: "paragraph", raw: t10[0], text: e31, tokens: this.lexer.inline(e31) };
    }
  }
  text(e30) {
    let t10 = this.rules.block.text.exec(e30);
    if (t10) return { type: "text", raw: t10[0], text: t10[0], tokens: this.lexer.inline(t10[0]) };
  }
  escape(e30) {
    let t10 = this.rules.inline.escape.exec(e30);
    if (t10) return { type: "escape", raw: t10[0], text: wo(t10[1]) };
  }
  tag(e30) {
    let t10 = this.rules.inline.tag.exec(e30);
    if (t10) return !this.lexer.state.inLink && /^<a /i.test(t10[0]) ? this.lexer.state.inLink = true : this.lexer.state.inLink && /^<\/a>/i.test(t10[0]) && (this.lexer.state.inLink = false), !this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(t10[0]) ? this.lexer.state.inRawBlock = true : this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(t10[0]) && (this.lexer.state.inRawBlock = false), { type: "html", raw: t10[0], inLink: this.lexer.state.inLink, inRawBlock: this.lexer.state.inRawBlock, block: false, text: t10[0] };
  }
  link(e30) {
    let t10 = this.rules.inline.link.exec(e30);
    if (t10) {
      let e31 = t10[2].trim();
      if (!this.options.pedantic && /^</.test(e31)) {
        if (!/>$/.test(e31)) return;
        let t11 = wg(e31.slice(0, -1), "\\");
        if ((e31.length - t11.length) % 2 == 0) return;
      } else {
        let e32 = wm(t10[2], "()");
        if (e32 > -1) {
          let r11 = (0 === t10[0].indexOf("!") ? 5 : 4) + t10[1].length + e32;
          t10[2] = t10[2].substring(0, e32), t10[0] = t10[0].substring(0, r11).trim(), t10[3] = "";
        }
      }
      let r10 = t10[2], n10 = "";
      if (this.options.pedantic) {
        let e32 = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r10);
        e32 && (r10 = e32[1], n10 = e32[3]);
      } else n10 = t10[3] ? t10[3].slice(1, -1) : "";
      return r10 = r10.trim(), /^</.test(r10) && (r10 = this.options.pedantic && !/>$/.test(e31) ? r10.slice(1) : r10.slice(1, -1)), wy(t10, { href: r10 ? r10.replace(this.rules.inline.anyPunctuation, "$1") : r10, title: n10 ? n10.replace(this.rules.inline.anyPunctuation, "$1") : n10 }, t10[0], this.lexer);
    }
  }
  reflink(e30, t10) {
    let r10;
    if ((r10 = this.rules.inline.reflink.exec(e30)) || (r10 = this.rules.inline.nolink.exec(e30))) {
      let e31 = t10[(r10[2] || r10[1]).replace(/\s+/g, " ").toLowerCase()];
      if (!e31) {
        let e32 = r10[0].charAt(0);
        return { type: "text", raw: e32, text: e32 };
      }
      return wy(r10, e31, r10[0], this.lexer);
    }
  }
  emStrong(e30, t10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "", n10 = this.rules.inline.emStrongLDelim.exec(e30);
    if (!(!n10 || n10[3] && r10.match(/[\p{L}\p{N}]/u)) && (!(n10[1] || n10[2]) || !r10 || this.rules.inline.punctuation.exec(r10))) {
      let r11 = [...n10[0]].length - 1, i10, a10, s10 = r11, o10 = 0, l10 = "*" === n10[0][0] ? this.rules.inline.emStrongRDelimAst : this.rules.inline.emStrongRDelimUnd;
      for (l10.lastIndex = 0, t10 = t10.slice(-1 * e30.length + r11); null != (n10 = l10.exec(t10)); ) {
        if (!(i10 = n10[1] || n10[2] || n10[3] || n10[4] || n10[5] || n10[6])) continue;
        if (a10 = [...i10].length, n10[3] || n10[4]) {
          s10 += a10;
          continue;
        }
        if ((n10[5] || n10[6]) && r11 % 3 && !((r11 + a10) % 3)) {
          o10 += a10;
          continue;
        }
        if ((s10 -= a10) > 0) continue;
        a10 = Math.min(a10, a10 + s10 + o10);
        let t11 = [...n10[0]][0].length, l11 = e30.slice(0, r11 + n10.index + t11 + a10);
        if (Math.min(r11, a10) % 2) {
          let e31 = l11.slice(1, -1);
          return { type: "em", raw: l11, text: e31, tokens: this.lexer.inlineTokens(e31) };
        }
        let h10 = l11.slice(2, -2);
        return { type: "strong", raw: l11, text: h10, tokens: this.lexer.inlineTokens(h10) };
      }
    }
  }
  codespan(e30) {
    let t10 = this.rules.inline.code.exec(e30);
    if (t10) {
      let e31 = t10[2].replace(/\n/g, " "), r10 = /[^ ]/.test(e31), n10 = /^ /.test(e31) && / $/.test(e31);
      return r10 && n10 && (e31 = e31.substring(1, e31.length - 1)), e31 = wo(e31, true), { type: "codespan", raw: t10[0], text: e31 };
    }
  }
  br(e30) {
    let t10 = this.rules.inline.br.exec(e30);
    if (t10) return { type: "br", raw: t10[0] };
  }
  del(e30) {
    let t10 = this.rules.inline.del.exec(e30);
    if (t10) return { type: "del", raw: t10[0], text: t10[2], tokens: this.lexer.inlineTokens(t10[2]) };
  }
  autolink(e30) {
    let t10 = this.rules.inline.autolink.exec(e30);
    if (t10) {
      let e31, r10;
      return r10 = "@" === t10[2] ? "mailto:" + (e31 = wo(t10[1])) : e31 = wo(t10[1]), { type: "link", raw: t10[0], text: e31, href: r10, tokens: [{ type: "text", raw: e31, text: e31 }] };
    }
  }
  url(e30) {
    let t10;
    if (t10 = this.rules.inline.url.exec(e30)) {
      let e31, i10;
      if ("@" === t10[2]) i10 = "mailto:" + (e31 = wo(t10[0]));
      else {
        let a10;
        do {
          var r10, n10;
          a10 = t10[0], t10[0] = null !== (n10 = null === (r10 = this.rules.inline._backpedal.exec(t10[0])) || void 0 === r10 ? void 0 : r10[0]) && void 0 !== n10 ? n10 : "";
        } while (a10 !== t10[0]);
        e31 = wo(t10[0]), i10 = "www." === t10[1] ? "http://" + t10[0] : t10[0];
      }
      return { type: "link", raw: t10[0], text: e31, href: i10, tokens: [{ type: "text", raw: e31, text: e31 }] };
    }
  }
  inlineText(e30) {
    let t10 = this.rules.inline.text.exec(e30);
    if (t10) {
      let e31;
      return e31 = this.lexer.state.inRawBlock ? t10[0] : wo(t10[0]), { type: "text", raw: t10[0], text: e31 };
    }
  }
}, _i16 = new WeakMap(), __privateAdd(_n2, _i16, iM(_n2, "_Tokenizer")), _n2), wb = /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/, wk = /(?:[*+-]|\d{1,9}[.)])/, ww = wu(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g, wk).replace(/blockCode/g, / {4}/).replace(/fences/g, / {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g, / {0,3}>/).replace(/heading/g, / {0,3}#{1,6}/).replace(/html/g, / {0,3}<[^\n>]+>\n/).getRegex(), w_ = /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/, wT = /(?!\s*\])(?:\\.|[^\[\]\\])+/, wS = wu(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label", wT).replace("title", /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(), wC = wu(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g, wk).getRegex(), wE = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul", wA = /<!--(?:-?>|[\s\S]*?(?:-->|$))/, wL = wu("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))", "i").replace("comment", wA).replace("tag", wE).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(), wI = wu(w_).replace("hr", wb).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("|lheading", "").replace("|table", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", wE).getRegex(), wM = { blockquote: wu(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph", wI).getRegex(), code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/, def: wS, fences: /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/, heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/, hr: wb, html: wL, lheading: ww, list: wC, newline: /^(?: *(?:\n|$))+/, paragraph: wI, table: wp, text: /^[^\n]+/ }, wN = wu("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr", wb).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", wE).getRegex(), wR = { ...wM, table: wN, paragraph: wu(w_).replace("hr", wb).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("|lheading", "").replace("table", wN).replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", wE).getRegex() }, wD = { ...wM, html: wu(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment", wA).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(), def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/, heading: /^(#{1,6})(.*)(?:\n+|$)/, fences: wp, lheading: /^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/, paragraph: wu(w_).replace("hr", wb).replace("heading", " *#{1,6} *[^\n]").replace("lheading", ww).replace("|table", "").replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").replace("|tag", "").getRegex() }, wO = /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/, w$ = /^( {2,}|\\)\n(?!\s*$)/, wP = "\\p{P}\\p{S}", wB = wu(/^((?![*_])[\spunctuation])/, "u").replace(/punctuation/g, wP).getRegex(), wF = wu(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/, "u").replace(/punct/g, wP).getRegex(), wz = wu("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])", "gu").replace(/punct/g, wP).getRegex(), wj = wu("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])", "gu").replace(/punct/g, wP).getRegex(), wq = wu(/\\([punct])/, "gu").replace(/punct/g, wP).getRegex(), wU = wu(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme", /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email", /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(), wW = wu(wA).replace("(?:-->|$)", "-->").getRegex(), wV = wu("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment", wW).replace("attribute", /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(), wH = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/, wY = wu(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label", wH).replace("href", /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title", /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(), wG = wu(/^!?\[(label)\]\[(ref)\]/).replace("label", wH).replace("ref", wT).getRegex(), wX = wu(/^!?\[(ref)\](?:\[\])?/).replace("ref", wT).getRegex(), wK = wu("reflink|nolink(?!\\()", "g").replace("reflink", wG).replace("nolink", wX).getRegex(), wZ = { _backpedal: wp, anyPunctuation: wq, autolink: wU, blockSkip: /\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g, br: w$, code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/, del: wp, emStrongLDelim: wF, emStrongRDelimAst: wz, emStrongRDelimUnd: wj, escape: wO, link: wY, nolink: wX, punctuation: wB, reflink: wG, reflinkSearch: wK, tag: wV, text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/, url: wp }, wQ = { ...wZ, link: wu(/^!?\[(label)\]\((.*?)\)/).replace("label", wH).getRegex(), reflink: wu(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", wH).getRegex() }, wJ = { ...wZ, escape: wu(wO).replace("])", "~|])").getRegex(), url: wu(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/, "i").replace("email", /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(), _backpedal: /(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/, del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/, text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/ }, w0 = { ...wJ, br: wu(w$).replace("{2,}", "*").getRegex(), text: wu(wJ.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex() }, w1 = { normal: wM, gfm: wR, pedantic: wD }, w2 = { normal: wZ, gfm: wJ, breaks: w0, pedantic: wQ }, w4 = (_o = class {
  constructor(e30) {
    __publicField(this, "tokens");
    __publicField(this, "options");
    __publicField(this, "state");
    __publicField(this, "tokenizer");
    __publicField(this, "inlineQueue");
    this.tokens = [], this.tokens.links = /* @__PURE__ */ Object.create(null), this.options = e30 || k9, this.options.tokenizer = this.options.tokenizer || new wx(), this.tokenizer = this.options.tokenizer, this.tokenizer.options = this.options, this.tokenizer.lexer = this, this.inlineQueue = [], this.state = { inLink: false, inRawBlock: false, top: true };
    let t10 = { block: w1.normal, inline: w2.normal };
    this.options.pedantic ? (t10.block = w1.pedantic, t10.inline = w2.pedantic) : this.options.gfm && (t10.block = w1.gfm, this.options.breaks ? t10.inline = w2.breaks : t10.inline = w2.gfm), this.tokenizer.rules = t10;
  }
  static get rules() {
    return { block: w1, inline: w2 };
  }
  static lex(t10, r10) {
    return new _o(r10).lex(t10);
  }
  static lexInline(t10, r10) {
    return new _o(r10).inlineTokens(t10);
  }
  lex(e30) {
    e30 = e30.replace(/\r\n|\r/g, "\n"), this.blockTokens(e30, this.tokens);
    for (let e31 = 0; e31 < this.inlineQueue.length; e31++) {
      let t10 = this.inlineQueue[e31];
      this.inlineTokens(t10.src, t10.tokens);
    }
    return this.inlineQueue = [], this.tokens;
  }
  blockTokens(e30) {
    let t10, r10, n10, i10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], a10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
    for (e30 = this.options.pedantic ? e30.replace(/\t/g, "    ").replace(/^ +$/gm, "") : e30.replace(/^( *)(\t+)/gm, (e31, t11, r11) => t11 + "    ".repeat(r11.length)); e30; ) if (!(this.options.extensions && this.options.extensions.block && this.options.extensions.block.some((r11) => !!(t10 = r11.call({ lexer: this }, e30, i10)) && (e30 = e30.substring(t10.raw.length), i10.push(t10), true)))) {
      if (t10 = this.tokenizer.space(e30)) {
        e30 = e30.substring(t10.raw.length), 1 === t10.raw.length && i10.length > 0 ? i10[i10.length - 1].raw += "\n" : i10.push(t10);
        continue;
      }
      if (t10 = this.tokenizer.code(e30)) {
        e30 = e30.substring(t10.raw.length), (r10 = i10[i10.length - 1]) && ("paragraph" === r10.type || "text" === r10.type) ? (r10.raw += "\n" + t10.raw, r10.text += "\n" + t10.text, this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : i10.push(t10);
        continue;
      }
      if ((t10 = this.tokenizer.fences(e30)) || (t10 = this.tokenizer.heading(e30)) || (t10 = this.tokenizer.hr(e30)) || (t10 = this.tokenizer.blockquote(e30)) || (t10 = this.tokenizer.list(e30)) || (t10 = this.tokenizer.html(e30))) {
        e30 = e30.substring(t10.raw.length), i10.push(t10);
        continue;
      }
      if (t10 = this.tokenizer.def(e30)) {
        e30 = e30.substring(t10.raw.length), (r10 = i10[i10.length - 1]) && ("paragraph" === r10.type || "text" === r10.type) ? (r10.raw += "\n" + t10.raw, r10.text += "\n" + t10.raw, this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : this.tokens.links[t10.tag] || (this.tokens.links[t10.tag] = { href: t10.href, title: t10.title });
        continue;
      }
      if ((t10 = this.tokenizer.table(e30)) || (t10 = this.tokenizer.lheading(e30))) {
        e30 = e30.substring(t10.raw.length), i10.push(t10);
        continue;
      }
      if (n10 = e30, this.options.extensions && this.options.extensions.startBlock) {
        let t11, r11 = 1 / 0, i11 = e30.slice(1);
        this.options.extensions.startBlock.forEach((e31) => {
          "number" == typeof (t11 = e31.call({ lexer: this }, i11)) && t11 >= 0 && (r11 = Math.min(r11, t11));
        }), r11 < 1 / 0 && r11 >= 0 && (n10 = e30.substring(0, r11 + 1));
      }
      if (this.state.top && (t10 = this.tokenizer.paragraph(n10))) {
        r10 = i10[i10.length - 1], a10 && (null == r10 ? void 0 : r10.type) === "paragraph" ? (r10.raw += "\n" + t10.raw, r10.text += "\n" + t10.text, this.inlineQueue.pop(), this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : i10.push(t10), a10 = n10.length !== e30.length, e30 = e30.substring(t10.raw.length);
        continue;
      }
      if (t10 = this.tokenizer.text(e30)) {
        e30 = e30.substring(t10.raw.length), (r10 = i10[i10.length - 1]) && "text" === r10.type ? (r10.raw += "\n" + t10.raw, r10.text += "\n" + t10.text, this.inlineQueue.pop(), this.inlineQueue[this.inlineQueue.length - 1].src = r10.text) : i10.push(t10);
        continue;
      }
      if (e30) {
        let t11 = "Infinite loop on byte: " + e30.charCodeAt(0);
        if (this.options.silent) {
          console.error(t11);
          break;
        }
        throw Error(t11);
      }
    }
    return this.state.top = true, i10;
  }
  inline(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
    return this.inlineQueue.push({ src: e30, tokens: t10 }), t10;
  }
  inlineTokens(e30) {
    let t10, r10, n10, i10, a10, s10, o10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], l10 = e30;
    if (this.tokens.links) {
      let e31 = Object.keys(this.tokens.links);
      if (e31.length > 0) for (; null != (i10 = this.tokenizer.rules.inline.reflinkSearch.exec(l10)); ) e31.includes(i10[0].slice(i10[0].lastIndexOf("[") + 1, -1)) && (l10 = l10.slice(0, i10.index) + "[" + "a".repeat(i10[0].length - 2) + "]" + l10.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex));
    }
    for (; null != (i10 = this.tokenizer.rules.inline.blockSkip.exec(l10)); ) l10 = l10.slice(0, i10.index) + "[" + "a".repeat(i10[0].length - 2) + "]" + l10.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
    for (; null != (i10 = this.tokenizer.rules.inline.anyPunctuation.exec(l10)); ) l10 = l10.slice(0, i10.index) + "++" + l10.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);
    for (; e30; ) if (a10 || (s10 = ""), a10 = false, !(this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some((r11) => !!(t10 = r11.call({ lexer: this }, e30, o10)) && (e30 = e30.substring(t10.raw.length), o10.push(t10), true)))) {
      if (t10 = this.tokenizer.escape(e30)) {
        e30 = e30.substring(t10.raw.length), o10.push(t10);
        continue;
      }
      if (t10 = this.tokenizer.tag(e30)) {
        e30 = e30.substring(t10.raw.length), (r10 = o10[o10.length - 1]) && "text" === t10.type && "text" === r10.type ? (r10.raw += t10.raw, r10.text += t10.text) : o10.push(t10);
        continue;
      }
      if (t10 = this.tokenizer.link(e30)) {
        e30 = e30.substring(t10.raw.length), o10.push(t10);
        continue;
      }
      if (t10 = this.tokenizer.reflink(e30, this.tokens.links)) {
        e30 = e30.substring(t10.raw.length), (r10 = o10[o10.length - 1]) && "text" === t10.type && "text" === r10.type ? (r10.raw += t10.raw, r10.text += t10.text) : o10.push(t10);
        continue;
      }
      if ((t10 = this.tokenizer.emStrong(e30, l10, s10)) || (t10 = this.tokenizer.codespan(e30)) || (t10 = this.tokenizer.br(e30)) || (t10 = this.tokenizer.del(e30)) || (t10 = this.tokenizer.autolink(e30)) || !this.state.inLink && (t10 = this.tokenizer.url(e30))) {
        e30 = e30.substring(t10.raw.length), o10.push(t10);
        continue;
      }
      if (n10 = e30, this.options.extensions && this.options.extensions.startInline) {
        let t11, r11 = 1 / 0, i11 = e30.slice(1);
        this.options.extensions.startInline.forEach((e31) => {
          "number" == typeof (t11 = e31.call({ lexer: this }, i11)) && t11 >= 0 && (r11 = Math.min(r11, t11));
        }), r11 < 1 / 0 && r11 >= 0 && (n10 = e30.substring(0, r11 + 1));
      }
      if (t10 = this.tokenizer.inlineText(n10)) {
        e30 = e30.substring(t10.raw.length), "_" !== t10.raw.slice(-1) && (s10 = t10.raw.slice(-1)), a10 = true, (r10 = o10[o10.length - 1]) && "text" === r10.type ? (r10.raw += t10.raw, r10.text += t10.text) : o10.push(t10);
        continue;
      }
      if (e30) {
        let t11 = "Infinite loop on byte: " + e30.charCodeAt(0);
        if (this.options.silent) {
          console.error(t11);
          break;
        }
        throw Error(t11);
      }
    }
    return o10;
  }
}, _i17 = new WeakMap(), __privateAdd(_o, _i17, iM(_o, "_Lexer")), _o), w3 = (_p2 = class {
  constructor(e30) {
    __publicField(this, "options");
    __publicField(this, "parser");
    this.options = e30 || k9;
  }
  space(e30) {
    return "";
  }
  code(e30) {
    var t10;
    let { text: r10, lang: n10, escaped: i10 } = e30, a10 = null === (t10 = (n10 || "").match(/^\S*/)) || void 0 === t10 ? void 0 : t10[0], s10 = r10.replace(/\n$/, "") + "\n";
    return a10 ? '<pre><code class="language-' + wo(a10) + '">' + (i10 ? s10 : wo(s10, true)) + "</code></pre>\n" : "<pre><code>" + (i10 ? s10 : wo(s10, true)) + "</code></pre>\n";
  }
  blockquote(e30) {
    let { tokens: t10 } = e30, r10 = this.parser.parse(t10);
    return `<blockquote>
${r10}</blockquote>
`;
  }
  html(e30) {
    let { text: t10 } = e30;
    return t10;
  }
  heading(e30) {
    let { tokens: t10, depth: r10 } = e30;
    return `<h${r10}>${this.parser.parseInline(t10)}</h${r10}>
`;
  }
  hr(e30) {
    return "<hr>\n";
  }
  list(e30) {
    let t10 = e30.ordered, r10 = e30.start, n10 = "";
    for (let t11 = 0; t11 < e30.items.length; t11++) {
      let r11 = e30.items[t11];
      n10 += this.listitem(r11);
    }
    let i10 = t10 ? "ol" : "ul";
    return "<" + i10 + (t10 && 1 !== r10 ? ' start="' + r10 + '"' : "") + ">\n" + n10 + "</" + i10 + ">\n";
  }
  listitem(e30) {
    let t10 = "";
    if (e30.task) {
      let r10 = this.checkbox({ checked: !!e30.checked });
      e30.loose ? e30.tokens.length > 0 && "paragraph" === e30.tokens[0].type ? (e30.tokens[0].text = r10 + " " + e30.tokens[0].text, e30.tokens[0].tokens && e30.tokens[0].tokens.length > 0 && "text" === e30.tokens[0].tokens[0].type && (e30.tokens[0].tokens[0].text = r10 + " " + e30.tokens[0].tokens[0].text)) : e30.tokens.unshift({ type: "text", raw: r10 + " ", text: r10 + " " }) : t10 += r10 + " ";
    }
    return t10 += this.parser.parse(e30.tokens, !!e30.loose), `<li>${t10}</li>
`;
  }
  checkbox(e30) {
    let { checked: t10 } = e30;
    return "<input " + (t10 ? 'checked="" ' : "") + 'disabled="" type="checkbox">';
  }
  paragraph(e30) {
    let { tokens: t10 } = e30;
    return `<p>${this.parser.parseInline(t10)}</p>
`;
  }
  table(e30) {
    let t10 = "", r10 = "";
    for (let t11 = 0; t11 < e30.header.length; t11++) r10 += this.tablecell(e30.header[t11]);
    t10 += this.tablerow({ text: r10 });
    let n10 = "";
    for (let t11 = 0; t11 < e30.rows.length; t11++) {
      let i10 = e30.rows[t11];
      r10 = "";
      for (let e31 = 0; e31 < i10.length; e31++) r10 += this.tablecell(i10[e31]);
      n10 += this.tablerow({ text: r10 });
    }
    return n10 && (n10 = `<tbody>${n10}</tbody>`), "<table>\n<thead>\n" + t10 + "</thead>\n" + n10 + "</table>\n";
  }
  tablerow(e30) {
    let { text: t10 } = e30;
    return `<tr>
${t10}</tr>
`;
  }
  tablecell(e30) {
    let t10 = this.parser.parseInline(e30.tokens), r10 = e30.header ? "th" : "td";
    return (e30.align ? `<${r10} align="${e30.align}">` : `<${r10}>`) + t10 + `</${r10}>
`;
  }
  strong(e30) {
    let { tokens: t10 } = e30;
    return `<strong>${this.parser.parseInline(t10)}</strong>`;
  }
  em(e30) {
    let { tokens: t10 } = e30;
    return `<em>${this.parser.parseInline(t10)}</em>`;
  }
  codespan(e30) {
    let { text: t10 } = e30;
    return `<code>${t10}</code>`;
  }
  br(e30) {
    return "<br>";
  }
  del(e30) {
    let { tokens: t10 } = e30;
    return `<del>${this.parser.parseInline(t10)}</del>`;
  }
  link(e30) {
    let { href: t10, title: r10, tokens: n10 } = e30, i10 = this.parser.parseInline(n10), a10 = wd(t10);
    if (null === a10) return i10;
    let s10 = '<a href="' + (t10 = a10) + '"';
    return r10 && (s10 += ' title="' + r10 + '"'), s10 += ">" + i10 + "</a>";
  }
  image(e30) {
    let { href: t10, title: r10, text: n10 } = e30, i10 = wd(t10);
    if (null === i10) return n10;
    t10 = i10;
    let a10 = `<img src="${t10}" alt="${n10}"`;
    return r10 && (a10 += ` title="${r10}"`), a10 += ">";
  }
  text(e30) {
    return "tokens" in e30 && e30.tokens ? this.parser.parseInline(e30.tokens) : e30.text;
  }
}, _i18 = new WeakMap(), __privateAdd(_p2, _i18, iM(_p2, "_Renderer")), _p2), w5 = (_q2 = class {
  strong(e30) {
    let { text: t10 } = e30;
    return t10;
  }
  em(e30) {
    let { text: t10 } = e30;
    return t10;
  }
  codespan(e30) {
    let { text: t10 } = e30;
    return t10;
  }
  del(e30) {
    let { text: t10 } = e30;
    return t10;
  }
  html(e30) {
    let { text: t10 } = e30;
    return t10;
  }
  text(e30) {
    let { text: t10 } = e30;
    return t10;
  }
  link(e30) {
    let { text: t10 } = e30;
    return "" + t10;
  }
  image(e30) {
    let { text: t10 } = e30;
    return "" + t10;
  }
  br() {
    return "";
  }
}, _i19 = new WeakMap(), __privateAdd(_q2, _i19, iM(_q2, "_TextRenderer")), _q2), w6 = (_r = class {
  constructor(e30) {
    __publicField(this, "options");
    __publicField(this, "renderer");
    __publicField(this, "textRenderer");
    this.options = e30 || k9, this.options.renderer = this.options.renderer || new w3(), this.renderer = this.options.renderer, this.renderer.options = this.options, this.renderer.parser = this, this.textRenderer = new w5();
  }
  static parse(t10, r10) {
    return new _r(r10).parse(t10);
  }
  static parseInline(t10, r10) {
    return new _r(r10).parseInline(t10);
  }
  parse(e30) {
    let t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = "";
    for (let n10 = 0; n10 < e30.length; n10++) {
      let i10 = e30[n10];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[i10.type]) {
        let e31 = this.options.extensions.renderers[i10.type].call({ parser: this }, i10);
        if (false !== e31 || !["space", "hr", "heading", "code", "table", "blockquote", "list", "html", "paragraph", "text"].includes(i10.type)) {
          r10 += e31 || "";
          continue;
        }
      }
      switch (i10.type) {
        case "space":
          r10 += this.renderer.space(i10);
          continue;
        case "hr":
          r10 += this.renderer.hr(i10);
          continue;
        case "heading":
          r10 += this.renderer.heading(i10);
          continue;
        case "code":
          r10 += this.renderer.code(i10);
          continue;
        case "table":
          r10 += this.renderer.table(i10);
          continue;
        case "blockquote":
          r10 += this.renderer.blockquote(i10);
          continue;
        case "list":
          r10 += this.renderer.list(i10);
          continue;
        case "html":
          r10 += this.renderer.html(i10);
          continue;
        case "paragraph":
          r10 += this.renderer.paragraph(i10);
          continue;
        case "text": {
          let a10 = i10, s10 = this.renderer.text(a10);
          for (; n10 + 1 < e30.length && "text" === e30[n10 + 1].type; ) a10 = e30[++n10], s10 += "\n" + this.renderer.text(a10);
          t10 ? r10 += this.renderer.paragraph({ type: "paragraph", raw: s10, text: s10, tokens: [{ type: "text", raw: s10, text: s10 }] }) : r10 += s10;
          continue;
        }
        default: {
          let e31 = 'Token with "' + i10.type + '" type was not found.';
          if (this.options.silent) return console.error(e31), "";
          throw Error(e31);
        }
      }
    }
    return r10;
  }
  parseInline(e30, t10) {
    t10 = t10 || this.renderer;
    let r10 = "";
    for (let n10 = 0; n10 < e30.length; n10++) {
      let i10 = e30[n10];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[i10.type]) {
        let e31 = this.options.extensions.renderers[i10.type].call({ parser: this }, i10);
        if (false !== e31 || !["escape", "html", "link", "image", "strong", "em", "codespan", "br", "del", "text"].includes(i10.type)) {
          r10 += e31 || "";
          continue;
        }
      }
      switch (i10.type) {
        case "escape":
        case "text":
          r10 += t10.text(i10);
          break;
        case "html":
          r10 += t10.html(i10);
          break;
        case "link":
          r10 += t10.link(i10);
          break;
        case "image":
          r10 += t10.image(i10);
          break;
        case "strong":
          r10 += t10.strong(i10);
          break;
        case "em":
          r10 += t10.em(i10);
          break;
        case "codespan":
          r10 += t10.codespan(i10);
          break;
        case "br":
          r10 += t10.br(i10);
          break;
        case "del":
          r10 += t10.del(i10);
          break;
        default: {
          let e31 = 'Token with "' + i10.type + '" type was not found.';
          if (this.options.silent) return console.error(e31), "";
          throw Error(e31);
        }
      }
    }
    return r10;
  }
}, _i20 = new WeakMap(), __privateAdd(_r, _i20, iM(_r, "_Parser")), _r), w7 = (_s2 = class {
  constructor(e30) {
    __publicField(this, "options");
    this.options = e30 || k9;
  }
  preprocess(e30) {
    return e30;
  }
  postprocess(e30) {
    return e30;
  }
  processAllTokens(e30) {
    return e30;
  }
}, _i21 = new WeakMap(), __privateAdd(_s2, _i21, iM(_s2, "_Hooks")), __publicField(_s2, "passThroughHooks", /* @__PURE__ */ new Set(["preprocess", "postprocess", "processAllTokens"])), _s2), w8 = new (_t3 = class {
  constructor(...e30) {
    __privateAdd(this, __this_instances);
    __publicField(this, "defaults", k8());
    __publicField(this, "options", this.setOptions);
    __publicField(this, "parse", __privateMethod(this, __this_instances, a_fn).call(this, w4.lex, w6.parse));
    __publicField(this, "parseInline", __privateMethod(this, __this_instances, a_fn).call(this, w4.lexInline, w6.parseInline));
    __publicField(this, "Parser", w6);
    __publicField(this, "Renderer", w3);
    __publicField(this, "TextRenderer", w5);
    __publicField(this, "Lexer", w4);
    __publicField(this, "Tokenizer", wx);
    __publicField(this, "Hooks", w7);
    this.use(...e30);
  }
  walkTokens(e30, t10) {
    let r10 = [];
    for (let a10 of e30) switch (r10 = r10.concat(t10.call(this, a10)), a10.type) {
      case "table":
        for (let e31 of a10.header) r10 = r10.concat(this.walkTokens(e31.tokens, t10));
        for (let e31 of a10.rows) for (let n11 of e31) r10 = r10.concat(this.walkTokens(n11.tokens, t10));
        break;
      case "list":
        r10 = r10.concat(this.walkTokens(a10.items, t10));
        break;
      default: {
        var n10, i10;
        let e31 = a10;
        (null === (i10 = this.defaults.extensions) || void 0 === i10 ? void 0 : null === (n10 = i10.childTokens) || void 0 === n10 ? void 0 : n10[e31.type]) ? this.defaults.extensions.childTokens[e31.type].forEach((n11) => {
          let i11 = e31[n11].flat(1 / 0);
          r10 = r10.concat(this.walkTokens(i11, t10));
        }) : e31.tokens && (r10 = r10.concat(this.walkTokens(e31.tokens, t10)));
      }
    }
    return r10;
  }
  use() {
    for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
    let n10 = this.defaults.extensions || { renderers: {}, childTokens: {} };
    return t10.forEach((e31) => {
      let t11 = { ...e31 };
      if (t11.async = this.defaults.async || t11.async || false, e31.extensions && (e31.extensions.forEach((e32) => {
        if (!e32.name) throw Error("extension name required");
        if ("renderer" in e32) {
          let t12 = n10.renderers[e32.name];
          t12 ? n10.renderers[e32.name] = function() {
            for (var r11 = arguments.length, n11 = Array(r11), i10 = 0; i10 < r11; i10++) n11[i10] = arguments[i10];
            let a10 = e32.renderer.apply(this, n11);
            return false === a10 && (a10 = t12.apply(this, n11)), a10;
          } : n10.renderers[e32.name] = e32.renderer;
        }
        if ("tokenizer" in e32) {
          if (!e32.level || "block" !== e32.level && "inline" !== e32.level) throw Error("extension level must be 'block' or 'inline'");
          let t12 = n10[e32.level];
          t12 ? t12.unshift(e32.tokenizer) : n10[e32.level] = [e32.tokenizer], e32.start && ("block" === e32.level ? n10.startBlock ? n10.startBlock.push(e32.start) : n10.startBlock = [e32.start] : "inline" === e32.level && (n10.startInline ? n10.startInline.push(e32.start) : n10.startInline = [e32.start]));
        }
        "childTokens" in e32 && e32.childTokens && (n10.childTokens[e32.name] = e32.childTokens);
      }), t11.extensions = n10), e31.renderer) {
        let r11 = this.defaults.renderer || new w3(this.defaults);
        for (let t12 in e31.renderer) {
          if (!(t12 in r11)) throw Error(`renderer '${t12}' does not exist`);
          if (["options", "parser"].includes(t12)) continue;
          let n11 = e31.renderer[t12];
          e31.useNewRenderer || (n11 = __privateMethod(this, __this_instances, s_fn).call(this, n11, t12, r11));
          let i10 = r11[t12];
          r11[t12] = function() {
            for (var e32 = arguments.length, t13 = Array(e32), a10 = 0; a10 < e32; a10++) t13[a10] = arguments[a10];
            let s10 = n11.apply(r11, t13);
            return false === s10 && (s10 = i10.apply(r11, t13)), s10 || "";
          };
        }
        t11.renderer = r11;
      }
      if (e31.tokenizer) {
        let r11 = this.defaults.tokenizer || new wx(this.defaults);
        for (let t12 in e31.tokenizer) {
          if (!(t12 in r11)) throw Error(`tokenizer '${t12}' does not exist`);
          if (["options", "rules", "lexer"].includes(t12)) continue;
          let n11 = e31.tokenizer[t12], i10 = r11[t12];
          r11[t12] = function() {
            for (var e32 = arguments.length, t13 = Array(e32), a10 = 0; a10 < e32; a10++) t13[a10] = arguments[a10];
            let s10 = n11.apply(r11, t13);
            return false === s10 && (s10 = i10.apply(r11, t13)), s10;
          };
        }
        t11.tokenizer = r11;
      }
      if (e31.hooks) {
        let r11 = this.defaults.hooks || new w7();
        for (let t12 in e31.hooks) {
          if (!(t12 in r11)) throw Error(`hook '${t12}' does not exist`);
          if ("options" === t12) continue;
          let n11 = e31.hooks[t12], i10 = r11[t12];
          w7.passThroughHooks.has(t12) ? r11[t12] = (e32) => {
            if (this.defaults.async) return Promise.resolve(n11.call(r11, e32)).then((e33) => i10.call(r11, e33));
            let t13 = n11.call(r11, e32);
            return i10.call(r11, t13);
          } : r11[t12] = function() {
            for (var e32 = arguments.length, t13 = Array(e32), a10 = 0; a10 < e32; a10++) t13[a10] = arguments[a10];
            let s10 = n11.apply(r11, t13);
            return false === s10 && (s10 = i10.apply(r11, t13)), s10;
          };
        }
        t11.hooks = r11;
      }
      if (e31.walkTokens) {
        let r11 = this.defaults.walkTokens, n11 = e31.walkTokens;
        t11.walkTokens = function(e32) {
          let t12 = [];
          return t12.push(n11.call(this, e32)), r11 && (t12 = t12.concat(r11.call(this, e32))), t12;
        };
      }
      this.defaults = { ...this.defaults, ...t11 };
    }), this;
  }
  setOptions(e30) {
    return this.defaults = { ...this.defaults, ...e30 }, this;
  }
  lexer(e30, t10) {
    return w4.lex(e30, null != t10 ? t10 : this.defaults);
  }
  parser(e30, t10) {
    return w6.parse(e30, null != t10 ? t10 : this.defaults);
  }
}, _i22 = new WeakMap(), __this_instances = new WeakSet(), s_fn = function(e30, t10, r10) {
  switch (t10) {
    case "heading":
      return function(n10) {
        return n10.type && n10.type === t10 ? e30.call(this, r10.parser.parseInline(n10.tokens), n10.depth, wc(r10.parser.parseInline(n10.tokens, r10.parser.textRenderer))) : e30.apply(this, arguments);
      };
    case "code":
      return function(r11) {
        return r11.type && r11.type === t10 ? e30.call(this, r11.text, r11.lang, !!r11.escaped) : e30.apply(this, arguments);
      };
    case "table":
      return function(r11) {
        if (!r11.type || r11.type !== t10) return e30.apply(this, arguments);
        let n10 = "", i10 = "";
        for (let e31 = 0; e31 < r11.header.length; e31++) i10 += this.tablecell({ text: r11.header[e31].text, tokens: r11.header[e31].tokens, header: true, align: r11.align[e31] });
        n10 += this.tablerow({ text: i10 });
        let a10 = "";
        for (let e31 = 0; e31 < r11.rows.length; e31++) {
          let t11 = r11.rows[e31];
          i10 = "";
          for (let e32 = 0; e32 < t11.length; e32++) i10 += this.tablecell({ text: t11[e32].text, tokens: t11[e32].tokens, header: false, align: r11.align[e32] });
          a10 += this.tablerow({ text: i10 });
        }
        return e30.call(this, n10, a10);
      };
    case "blockquote":
      return function(r11) {
        if (!r11.type || r11.type !== t10) return e30.apply(this, arguments);
        let n10 = this.parser.parse(r11.tokens);
        return e30.call(this, n10);
      };
    case "list":
      return function(r11) {
        if (!r11.type || r11.type !== t10) return e30.apply(this, arguments);
        let n10 = r11.ordered, i10 = r11.start, a10 = r11.loose, s10 = "";
        for (let e31 = 0; e31 < r11.items.length; e31++) {
          let t11 = r11.items[e31], n11 = t11.checked, i11 = t11.task, o10 = "";
          if (t11.task) {
            let e32 = this.checkbox({ checked: !!n11 });
            a10 ? t11.tokens.length > 0 && "paragraph" === t11.tokens[0].type ? (t11.tokens[0].text = e32 + " " + t11.tokens[0].text, t11.tokens[0].tokens && t11.tokens[0].tokens.length > 0 && "text" === t11.tokens[0].tokens[0].type && (t11.tokens[0].tokens[0].text = e32 + " " + t11.tokens[0].tokens[0].text)) : t11.tokens.unshift({ type: "text", text: e32 + " " }) : o10 += e32 + " ";
          }
          o10 += this.parser.parse(t11.tokens, a10), s10 += this.listitem({ type: "list_item", raw: o10, text: o10, task: i11, checked: !!n11, loose: a10, tokens: t11.tokens });
        }
        return e30.call(this, s10, n10, i10);
      };
    case "html":
      return function(r11) {
        return r11.type && r11.type === t10 ? e30.call(this, r11.text, r11.block) : e30.apply(this, arguments);
      };
    case "paragraph":
    case "strong":
    case "del":
    case "em":
      return function(r11) {
        return r11.type && r11.type === t10 ? e30.call(this, this.parser.parseInline(r11.tokens)) : e30.apply(this, arguments);
      };
    case "escape":
    case "text":
    case "codespan":
      return function(r11) {
        return r11.type && r11.type === t10 ? e30.call(this, r11.text) : e30.apply(this, arguments);
      };
    case "link":
      return function(r11) {
        return r11.type && r11.type === t10 ? e30.call(this, r11.href, r11.title, this.parser.parseInline(r11.tokens)) : e30.apply(this, arguments);
      };
    case "image":
      return function(r11) {
        return r11.type && r11.type === t10 ? e30.call(this, r11.href, r11.title, r11.text) : e30.apply(this, arguments);
      };
  }
  return e30;
}, a_fn = function(e30, t10) {
  return (r10, n10) => {
    let i10 = { ...n10 }, a10 = { ...this.defaults, ...i10 };
    true === this.defaults.async && false === i10.async && (a10.silent || console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."), a10.async = true);
    let s10 = __privateMethod(this, __this_instances, o_fn).call(this, !!a10.silent, !!a10.async);
    if (null == r10) return s10(Error("marked(): input parameter is undefined or null"));
    if ("string" != typeof r10) return s10(Error("marked(): input parameter is of type " + Object.prototype.toString.call(r10) + ", string expected"));
    if (a10.hooks && (a10.hooks.options = a10), a10.async) return Promise.resolve(a10.hooks ? a10.hooks.preprocess(r10) : r10).then((t11) => e30(t11, a10)).then((e31) => a10.hooks ? a10.hooks.processAllTokens(e31) : e31).then((e31) => a10.walkTokens ? Promise.all(this.walkTokens(e31, a10.walkTokens)).then(() => e31) : e31).then((e31) => t10(e31, a10)).then((e31) => a10.hooks ? a10.hooks.postprocess(e31) : e31).catch(s10);
    try {
      a10.hooks && (r10 = a10.hooks.preprocess(r10));
      let n11 = e30(r10, a10);
      a10.hooks && (n11 = a10.hooks.processAllTokens(n11)), a10.walkTokens && this.walkTokens(n11, a10.walkTokens);
      let i11 = t10(n11, a10);
      return a10.hooks && (i11 = a10.hooks.postprocess(i11)), i11;
    } catch (e31) {
      return s10(e31);
    }
  };
}, o_fn = function(e30, t10) {
  return (r10) => {
    if (r10.message += "\nPlease report this to https://github.com/markedjs/marked.", e30) {
      let e31 = "<p>An error occurred:</p><pre>" + wo(r10.message + "", true) + "</pre>";
      return t10 ? Promise.resolve(e31) : e31;
    }
    if (t10) return Promise.reject(r10);
    throw r10;
  };
}, __privateAdd(_t3, _i22, iM(_t3, "Marked")), _t3)();
function w9(e30, t10) {
  return w8.parse(e30, t10);
}
function _e(e30, t10) {
  let { markdownAutoWrap: r10 } = t10, n10 = k7(e30.replace(/<br\/>/g, "\n").replace(/\n{2,}/g, "\n"));
  return false === r10 ? n10.replace(/ /g, "&nbsp;") : n10;
}
function _t(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = _e(e30, t10), n10 = w9.lexer(r10), i10 = [[]], a10 = 0;
  function s10(e31) {
    let t11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "normal";
    "text" === e31.type ? e31.text.split("\n").forEach((e32, r11) => {
      0 !== r11 && (a10++, i10.push([])), e32.split(" ").forEach((e33) => {
        (e33 = e33.replace(/&#39;/g, "'")) && i10[a10].push({ content: e33, type: t11 });
      });
    }) : "strong" === e31.type || "em" === e31.type ? e31.tokens.forEach((t12) => {
      s10(t12, e31.type);
    }) : "html" === e31.type && i10[a10].push({ content: e31.text, type: "normal" });
  }
  return iM(s10, "processNode"), n10.forEach((e31) => {
    if ("paragraph" === e31.type) {
      var t11;
      null === (t11 = e31.tokens) || void 0 === t11 || t11.forEach((e32) => {
        s10(e32);
      });
    } else "html" === e31.type && i10[a10].push({ content: e31.text, type: "normal" });
  }), i10;
}
function _r2(e30) {
  let { markdownAutoWrap: t10 } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = w9.lexer(e30);
  function n10(e31) {
    var r11, i10, a10;
    if ("text" === e31.type) return false === t10 ? e31.text.replace(/\n */g, "<br/>").replace(/ /g, "&nbsp;") : e31.text.replace(/\n */g, "<br/>");
    if ("strong" === e31.type) return `<strong>${null === (r11 = e31.tokens) || void 0 === r11 ? void 0 : r11.map(n10).join("")}</strong>`;
    if ("em" === e31.type) return `<em>${null === (i10 = e31.tokens) || void 0 === i10 ? void 0 : i10.map(n10).join("")}</em>`;
    if ("paragraph" === e31.type) return `<p>${null === (a10 = e31.tokens) || void 0 === a10 ? void 0 : a10.map(n10).join("")}</p>`;
    if ("space" === e31.type) return "";
    if ("html" === e31.type) return `${e31.text}`;
    if ("escape" === e31.type) return e31.text;
    return `Unsupported markdown: ${e31.type}`;
  }
  return iM(n10, "output"), r10.map(n10).join("");
}
function _n(e30) {
  return Intl.Segmenter ? [...new Intl.Segmenter().segment(e30)].map((e31) => e31.segment) : [...e30];
}
function _i(e30, t10) {
  return _a(e30, [], _n(t10.content), t10.type);
}
function _a(e30, t10, r10, n10) {
  if (0 === r10.length) return [{ content: t10.join(""), type: n10 }, { content: "", type: n10 }];
  let [i10, ...a10] = r10, s10 = [...t10, i10];
  return e30([{ content: s10.join(""), type: n10 }]) ? _a(e30, s10, a10, n10) : (0 === t10.length && i10 && (t10.push(i10), r10.shift()), [{ content: t10.join(""), type: n10 }, { content: r10.join(""), type: n10 }]);
}
function _s(e30, t10) {
  if (e30.some((e31) => {
    let { content: t11 } = e31;
    return t11.includes("\n");
  })) throw Error("splitLineToFitWidth does not support newlines in the line");
  return _o2(e30, t10);
}
function _o2(e30, t10) {
  var r10;
  let n10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], i10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [];
  if (0 === e30.length) return i10.length > 0 && n10.push(i10), n10.length > 0 ? n10 : [];
  let a10 = "";
  " " === e30[0].content && (a10 = " ", e30.shift());
  let s10 = null !== (r10 = e30.shift()) && void 0 !== r10 ? r10 : { content: " ", type: "normal" }, o10 = [...i10];
  if ("" !== a10 && o10.push({ content: a10, type: "normal" }), o10.push(s10), t10(o10)) return _o2(e30, t10, n10, o10);
  if (i10.length > 0) n10.push(i10), e30.unshift(s10);
  else if (s10.content) {
    let [r11, i11] = _i(t10, s10);
    n10.push([r11]), i11.content && e30.unshift(i11);
  }
  return _o2(e30, t10, n10);
}
function _l(e30, t10) {
  t10 && e30.attr("style", t10);
}
async function _c(e30, t10, r10, n10) {
  let i10 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], a10 = e30.append("foreignObject");
  a10.attr("width", `${10 * r10}px`), a10.attr("height", `${10 * r10}px`);
  let s10 = a10.append("xhtml:div"), o10 = t10.label;
  t10.label && s7(t10.label) && (o10 = await s9(t10.label.replace(oe.lineBreakRegex, "\n"), aj()));
  let l10 = t10.isNode ? "nodeLabel" : "edgeLabel", h10 = s10.append("span");
  h10.html(o10), _l(h10, t10.labelStyle), h10.attr("class", `${l10} ${n10}`), _l(s10, t10.labelStyle), s10.style("display", "table-cell"), s10.style("white-space", "nowrap"), s10.style("line-height", "1.5"), s10.style("max-width", r10 + "px"), s10.style("text-align", "center"), s10.attr("xmlns", "http://www.w3.org/1999/xhtml"), i10 && s10.attr("class", "labelBkg");
  let u10 = s10.node().getBoundingClientRect();
  return u10.width === r10 && (s10.style("display", "table"), s10.style("white-space", "break-spaces"), s10.style("width", r10 + "px"), u10 = s10.node().getBoundingClientRect()), a10.node();
}
function _h(e30, t10, r10) {
  return e30.append("tspan").attr("class", "text-outer-tspan").attr("x", 0).attr("y", t10 * r10 - 0.1 + "em").attr("dy", r10 + "em");
}
function _u(e30, t10, r10) {
  let n10 = e30.append("text"), i10 = _h(n10, 1, t10);
  _f(i10, r10);
  let a10 = i10.node().getComputedTextLength();
  return n10.remove(), a10;
}
function _d(e30, t10, r10) {
  var n10;
  let i10 = e30.append("text"), a10 = _h(i10, 1, t10);
  _f(a10, [{ content: r10, type: "normal" }]);
  let s10 = null === (n10 = a10.node()) || void 0 === n10 ? void 0 : n10.getBoundingClientRect();
  return s10 && i10.remove(), s10;
}
function _p(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], i10 = t10.append("g"), a10 = i10.insert("rect").attr("class", "background").attr("style", "stroke: none"), s10 = i10.append("text").attr("y", "-10.1"), o10 = 0;
  for (let t11 of r10) {
    let r11 = iM((t12) => _u(i10, 1.1, t12) <= e30, "checkWidth");
    for (let e31 of r11(t11) ? [t11] : _s(t11, r11)) _f(_h(s10, o10, 1.1), e31), o10++;
  }
  if (!n10) return s10.node();
  {
    let e31 = s10.node().getBBox();
    return a10.attr("x", e31.x - 2).attr("y", e31.y - 2).attr("width", e31.width + 4).attr("height", e31.height + 4), i10.node();
  }
}
function _f(e30, t10) {
  e30.text(""), t10.forEach((t11, r10) => {
    let n10 = e30.append("tspan").attr("font-style", "em" === t11.type ? "italic" : "normal").attr("class", "text-inner-tspan").attr("font-weight", "strong" === t11.type ? "bold" : "normal");
    0 === r10 ? n10.text(t11.content) : n10.text(" " + t11.content);
  });
}
function _g(e30) {
  return e30.replace(/fa[bklrs]?:fa-[\w-]+/g, (e31) => `<i class='${e31.replace(":", " ")}'></i>`);
}
iM(w9, "marked"), w9.options = w9.setOptions = function(e30) {
  return w8.setOptions(e30), w9.defaults = w8.defaults, we(w9.defaults), w9;
}, w9.getDefaults = k8, w9.defaults = k9, w9.use = function() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
  return w8.use(...t10), w9.defaults = w8.defaults, we(w9.defaults), w9;
}, w9.walkTokens = function(e30, t10) {
  return w8.walkTokens(e30, t10);
}, w9.parseInline = w8.parseInline, w9.Parser = w6, w9.parser = w6.parse, w9.Renderer = w3, w9.TextRenderer = w5, w9.Lexer = w4, w9.lexer = w4.lex, w9.Tokenizer = wx, w9.Hooks = w7, w9.parse = w9, w9.options, w9.setOptions, w9.use, w9.walkTokens, w9.parseInline, w6.parse, w4.lex, iM(_e, "preprocessMarkdown"), iM(_t, "markdownToLines"), iM(_r2, "markdownToHTML"), iM(_n, "splitTextToChars"), iM(_i, "splitWordToFitWidth"), iM(_a, "splitWordToFitWidthRecursion"), iM(_s, "splitLineToFitWidth"), iM(_o2, "splitLineToFitWidthRecursion"), iM(_l, "applyStyle"), iM(_c, "addHtmlSpan"), iM(_h, "createTspan"), iM(_u, "computeWidthOfText"), iM(_d, "computeDimensionOfText"), iM(_p, "createFormattedText"), iM(_f, "updateTextContentAndStyles"), iM(_g, "replaceIconSubstring");
var _m = iM(async function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", { style: r10 = "", isTitle: n10 = false, classes: i10 = "", useHtmlLabels: a10 = true, isNode: s10 = true, width: o10 = 200, addSvgBackground: l10 = false } = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, h10 = arguments.length > 3 ? arguments[3] : void 0;
  if (iz.debug("XYZ createText", t10, r10, n10, i10, a10, s10, "addSvgBackground: ", l10), a10) {
    let n11 = _g(k3(_r2(t10, h10))), a11 = t10.replace(/\\\\/g, "\\"), u10 = { isNode: s10, label: s7(t10) ? a11 : n11, labelStyle: r10.replace("fill:", "color:") };
    return await _c(e30, u10, o10, i10, l10);
  }
  {
    let n11 = _p(o10, e30, _t(t10.replace(/<br\s*\/?>/g, "<br/>").replace("<br>", "<br/>"), h10), !!t10 && l10);
    if (s10) {
      /stroke:/.exec(r10) && (r10 = r10.replace("stroke:", "lineColor:"));
      let e31 = r10.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/color:/g, "fill:");
      c$(n11).attr("style", e31);
    } else {
      let e31 = r10.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/background:/g, "fill:");
      c$(n11).select("rect").attr("style", e31.replace(/background:/g, "fill:"));
      let t11 = r10.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/color:/g, "fill:");
      c$(n11).select("text").attr("style", t11);
    }
    return n11;
  }
}, "createText"), _y = iM(async (e30, t10, r10) => {
  var n10, i10, a10;
  let s10, o10;
  let l10 = t10.useHtmlLabels || sQ(null === (n10 = aj()) || void 0 === n10 ? void 0 : n10.htmlLabels);
  s10 = r10 || "node default";
  let h10 = e30.insert("g").attr("class", s10).attr("id", t10.domId || t10.id), u10 = h10.insert("g").attr("class", "label").attr("style", k6(t10.labelStyle));
  o10 = void 0 === t10.label ? "" : "string" == typeof t10.label ? t10.label : t10.label[0];
  let d10 = await _m(u10, sV(k3(o10), aj()), { useHtmlLabels: l10, width: t10.width || (null === (i10 = aj().flowchart) || void 0 === i10 ? void 0 : i10.wrappingWidth), cssClasses: "markdown-node-label", style: t10.labelStyle, addSvgBackground: !!t10.icon || !!t10.img }), p10 = d10.getBBox(), f10 = (null !== (a10 = null == t10 ? void 0 : t10.padding) && void 0 !== a10 ? a10 : 0) / 2;
  if (l10) {
    let e31 = d10.children[0], t11 = c$(d10), r11 = e31.getElementsByTagName("img");
    if (r11) {
      let e32 = "" === o10.replace(/<img[^>]*>/g, "").trim();
      await Promise.all([...r11].map((t12) => new Promise((r12) => {
        function n11() {
          if (t12.style.display = "flex", t12.style.flexDirection = "column", e32) {
            let [e33 = aC.fontSize] = k0(aj().fontSize ? aj().fontSize : window.getComputedStyle(document.body).fontSize), r13 = 5 * e33 + "px";
            t12.style.minWidth = r13, t12.style.maxWidth = r13;
          } else t12.style.width = "100%";
          r12(t12);
        }
        iM(n11, "setupImage"), setTimeout(() => {
          t12.complete && n11();
        }), t12.addEventListener("error", n11), t12.addEventListener("load", n11);
      })));
    }
    p10 = e31.getBoundingClientRect(), t11.attr("width", p10.width), t11.attr("height", p10.height);
  }
  return l10 ? u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")") : u10.attr("transform", "translate(0, " + -p10.height / 2 + ")"), t10.centerLabel && u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")"), u10.insert("rect", ":first-child"), { shapeSvg: h10, bbox: p10, halfPadding: f10, label: u10 };
}, "labelHelper"), _v = iM(async (e30, t10, r10) => {
  var n10, i10, a10, s10, o10, l10;
  let h10 = r10.useHtmlLabels || sQ(null === (i10 = aj()) || void 0 === i10 ? void 0 : null === (n10 = i10.flowchart) || void 0 === n10 ? void 0 : n10.htmlLabels), u10 = e30.insert("g").attr("class", "label").attr("style", r10.labelStyle || ""), d10 = await _m(u10, sV(k3(t10), aj()), { useHtmlLabels: h10, width: r10.width || (null === (s10 = aj()) || void 0 === s10 ? void 0 : null === (a10 = s10.flowchart) || void 0 === a10 ? void 0 : a10.wrappingWidth), style: r10.labelStyle, addSvgBackground: !!r10.icon || !!r10.img }), p10 = d10.getBBox(), f10 = r10.padding / 2;
  if (sQ(null === (l10 = aj()) || void 0 === l10 ? void 0 : null === (o10 = l10.flowchart) || void 0 === o10 ? void 0 : o10.htmlLabels)) {
    let e31 = d10.children[0], t11 = c$(d10);
    p10 = e31.getBoundingClientRect(), t11.attr("width", p10.width), t11.attr("height", p10.height);
  }
  return h10 ? u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")") : u10.attr("transform", "translate(0, " + -p10.height / 2 + ")"), r10.centerLabel && u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")"), u10.insert("rect", ":first-child"), { shapeSvg: e30, bbox: p10, halfPadding: f10, label: u10 };
}, "insertLabel"), _x = iM((e30, t10) => {
  let r10 = t10.node().getBBox();
  e30.width = r10.width, e30.height = r10.height;
}, "updateNodeBounds"), _b = iM((e30, t10) => ("handDrawn" === e30.look ? "rough-node" : "node") + " " + e30.cssClasses + " " + (t10 || ""), "getNodeClasses");
function _k(e30) {
  let t10 = e30.map((e31, t11) => `${0 === t11 ? "M" : "L"}${e31.x},${e31.y}`);
  return t10.push("Z"), t10.join(" ");
}
function _w(e30, t10, r10, n10, i10, a10) {
  let s10 = [], o10 = r10 - e30, l10 = 2 * Math.PI / (o10 / a10), h10 = t10 + (n10 - t10) / 2;
  for (let t11 = 0; t11 <= 50; t11++) {
    let r11 = e30 + t11 / 50 * o10, n11 = h10 + i10 * Math.sin(l10 * (r11 - e30));
    s10.push({ x: r11, y: n11 });
  }
  return s10;
}
function __(e30, t10, r10, n10, i10, a10) {
  let s10 = [], o10 = i10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - o10) / (n10 - 1);
  for (let i11 = 0; i11 < n10; i11++) {
    let n11 = o10 + i11 * l10, a11 = e30 + r10 * Math.cos(n11), h10 = t10 + r10 * Math.sin(n11);
    s10.push({ x: -a11, y: -h10 });
  }
  return s10;
}
function _T(e30, t10, r10) {
  if (e30 && e30.length) {
    let [n10, i10] = t10, a10 = Math.PI / 180 * r10, s10 = Math.cos(a10), o10 = Math.sin(a10);
    for (let t11 of e30) {
      let [e31, r11] = t11;
      t11[0] = (e31 - n10) * s10 - (r11 - i10) * o10 + n10, t11[1] = (e31 - n10) * o10 + (r11 - i10) * s10 + i10;
    }
  }
}
function _S(e30, t10) {
  return e30[0] === t10[0] && e30[1] === t10[1];
}
function _C(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, i10 = Math.max(t10, 0.1), a10 = e30[0] && e30[0][0] && "number" == typeof e30[0][0] ? [e30] : e30, s10 = [0, 0];
  if (r10) for (let e31 of a10) _T(e31, s10, r10);
  let o10 = function(e31, t11, r11) {
    let n11 = [];
    for (let t12 of e31) {
      let e32 = [...t12];
      _S(e32[0], e32[e32.length - 1]) || e32.push([e32[0][0], e32[0][1]]), e32.length > 2 && n11.push(e32);
    }
    let i11 = [];
    t11 = Math.max(t11, 0.1);
    let a11 = [];
    for (let e32 of n11) for (let t12 = 0; t12 < e32.length - 1; t12++) {
      let r12 = e32[t12], n12 = e32[t12 + 1];
      if (r12[1] !== n12[1]) {
        let e33 = Math.min(r12[1], n12[1]);
        a11.push({ ymin: e33, ymax: Math.max(r12[1], n12[1]), x: e33 === r12[1] ? r12[0] : n12[0], islope: (n12[0] - r12[0]) / (n12[1] - r12[1]) });
      }
    }
    if (a11.sort((e32, t12) => e32.ymin < t12.ymin ? -1 : e32.ymin > t12.ymin ? 1 : e32.x < t12.x ? -1 : e32.x > t12.x ? 1 : e32.ymax === t12.ymax ? 0 : (e32.ymax - t12.ymax) / Math.abs(e32.ymax - t12.ymax)), !a11.length) return i11;
    let s11 = [], o11 = a11[0].ymin, l10 = 0;
    for (; s11.length || a11.length; ) {
      if (a11.length) {
        let e32 = -1;
        for (let t12 = 0; t12 < a11.length && !(a11[t12].ymin > o11); t12++) e32 = t12;
        a11.splice(0, e32 + 1).forEach((e33) => {
          s11.push({ s: o11, edge: e33 });
        });
      }
      if ((s11 = s11.filter((e32) => !(e32.edge.ymax <= o11))).sort((e32, t12) => e32.edge.x === t12.edge.x ? 0 : (e32.edge.x - t12.edge.x) / Math.abs(e32.edge.x - t12.edge.x)), (1 !== r11 || l10 % t11 == 0) && s11.length > 1) for (let e32 = 0; e32 < s11.length; e32 += 2) {
        let t12 = e32 + 1;
        if (t12 >= s11.length) break;
        let r12 = s11[e32].edge, n12 = s11[t12].edge;
        i11.push([[Math.round(r12.x), o11], [Math.round(n12.x), o11]]);
      }
      o11 += r11, s11.forEach((e32) => {
        e32.edge.x = e32.edge.x + r11 * e32.edge.islope;
      }), l10++;
    }
    return i11;
  }(a10, i10, n10);
  if (r10) {
    for (let e31 of a10) _T(e31, s10, -r10);
    !function(e31, t11, r11) {
      let n11 = [];
      e31.forEach((e32) => n11.push(...e32)), _T(n11, t11, r11);
    }(o10, s10, -r10);
  }
  return o10;
}
function _E(e30, t10) {
  var r10;
  let n10 = t10.hachureAngle + 90, i10 = t10.hachureGap;
  i10 < 0 && (i10 = 4 * t10.strokeWidth), i10 = Math.round(Math.max(i10, 0.1));
  let a10 = 1;
  return t10.roughness >= 1 && ((null === (r10 = t10.randomizer) || void 0 === r10 ? void 0 : r10.next()) || Math.random()) > 0.7 && (a10 = i10), _C(e30, i10, n10, a10 || 1);
}
iM(_k, "createPathFromPoints"), iM(_w, "generateFullSineWavePoints"), iM(__, "generateCirclePoints"), iM(_T, "t"), iM(_S, "e"), iM(_C, "s"), iM(_E, "n");
var _A = (_u2 = class {
  constructor(e30) {
    this.helper = e30;
  }
  fillPolygons(e30, t10) {
    return this._fillPolygons(e30, t10);
  }
  _fillPolygons(e30, t10) {
    let r10 = _E(e30, t10);
    return { type: "fillSketch", ops: this.renderLines(r10, t10) };
  }
  renderLines(e30, t10) {
    let r10 = [];
    for (let n10 of e30) r10.push(...this.helper.doubleLineOps(n10[0][0], n10[0][1], n10[1][0], n10[1][1], t10));
    return r10;
  }
}, _i23 = new WeakMap(), __privateAdd(_u2, _i23, iM(_u2, "o")), _u2);
function _L(e30) {
  let t10 = e30[0], r10 = e30[1];
  return Math.sqrt(Math.pow(t10[0] - r10[0], 2) + Math.pow(t10[1] - r10[1], 2));
}
iM(_L, "a");
var _I = (_v2 = class extends _A {
  fillPolygons(e30, t10) {
    let r10 = t10.hachureGap;
    r10 < 0 && (r10 = 4 * t10.strokeWidth);
    let n10 = _E(e30, Object.assign({}, t10, { hachureGap: r10 = Math.max(r10, 0.1) })), i10 = Math.PI / 180 * t10.hachureAngle, a10 = [], s10 = 0.5 * r10 * Math.cos(i10), o10 = 0.5 * r10 * Math.sin(i10);
    for (let [e31, t11] of n10) _L([e31, t11]) && a10.push([[e31[0] - s10, e31[1] + o10], [...t11]], [[e31[0] + s10, e31[1] - o10], [...t11]]);
    return { type: "fillSketch", ops: this.renderLines(a10, t10) };
  }
}, _i24 = new WeakMap(), __privateAdd(_v2, _i24, iM(_v2, "h")), _v2), _M = (_w2 = class extends _A {
  fillPolygons(e30, t10) {
    let r10 = this._fillPolygons(e30, t10), n10 = Object.assign({}, t10, { hachureAngle: t10.hachureAngle + 90 }), i10 = this._fillPolygons(e30, n10);
    return r10.ops = r10.ops.concat(i10.ops), r10;
  }
}, _i25 = new WeakMap(), __privateAdd(_w2, _i25, iM(_w2, "r")), _w2), _N = (_x2 = class {
  constructor(e30) {
    this.helper = e30;
  }
  fillPolygons(e30, t10) {
    let r10 = _E(e30, t10 = Object.assign({}, t10, { hachureAngle: 0 }));
    return this.dotsOnLines(r10, t10);
  }
  dotsOnLines(e30, t10) {
    let r10 = [], n10 = t10.hachureGap;
    n10 < 0 && (n10 = 4 * t10.strokeWidth), n10 = Math.max(n10, 0.1);
    let i10 = t10.fillWeight;
    i10 < 0 && (i10 = t10.strokeWidth / 2);
    let a10 = n10 / 4;
    for (let s10 of e30) {
      let e31 = _L(s10), o10 = Math.ceil(e31 / n10) - 1, l10 = e31 - o10 * n10, h10 = (s10[0][0] + s10[1][0]) / 2 - n10 / 4, u10 = Math.min(s10[0][1], s10[1][1]);
      for (let e32 = 0; e32 < o10; e32++) {
        let s11 = h10 - a10 + 2 * Math.random() * a10, o11 = u10 + l10 + e32 * n10 - a10 + 2 * Math.random() * a10, d10 = this.helper.ellipse(s11, o11, i10, i10, t10);
        r10.push(...d10.ops);
      }
    }
    return { type: "fillSketch", ops: r10 };
  }
}, _i26 = new WeakMap(), __privateAdd(_x2, _i26, iM(_x2, "i")), _x2), _R = (_y2 = class {
  constructor(e30) {
    this.helper = e30;
  }
  fillPolygons(e30, t10) {
    let r10 = _E(e30, t10);
    return { type: "fillSketch", ops: this.dashedLine(r10, t10) };
  }
  dashedLine(e30, t10) {
    let r10 = t10.dashOffset < 0 ? t10.hachureGap < 0 ? 4 * t10.strokeWidth : t10.hachureGap : t10.dashOffset, n10 = t10.dashGap < 0 ? t10.hachureGap < 0 ? 4 * t10.strokeWidth : t10.hachureGap : t10.dashGap, i10 = [];
    return e30.forEach((e31) => {
      let a10 = _L(e31), s10 = Math.floor(a10 / (r10 + n10)), o10 = (a10 + n10 - s10 * (r10 + n10)) / 2, l10 = e31[0], h10 = e31[1];
      l10[0] > h10[0] && (l10 = e31[1], h10 = e31[0]);
      let u10 = Math.atan((h10[1] - l10[1]) / (h10[0] - l10[0]));
      for (let e32 = 0; e32 < s10; e32++) {
        let a11 = e32 * (r10 + n10), s11 = a11 + r10, h11 = [l10[0] + a11 * Math.cos(u10) + o10 * Math.cos(u10), l10[1] + a11 * Math.sin(u10) + o10 * Math.sin(u10)], d10 = [l10[0] + s11 * Math.cos(u10) + o10 * Math.cos(u10), l10[1] + s11 * Math.sin(u10) + o10 * Math.sin(u10)];
        i10.push(...this.helper.doubleLineOps(h11[0], h11[1], d10[0], d10[1], t10));
      }
    }), i10;
  }
}, _i27 = new WeakMap(), __privateAdd(_y2, _i27, iM(_y2, "c")), _y2), _D = (_z2 = class {
  constructor(e30) {
    this.helper = e30;
  }
  fillPolygons(e30, t10) {
    let r10 = t10.hachureGap < 0 ? 4 * t10.strokeWidth : t10.hachureGap, n10 = t10.zigzagOffset < 0 ? r10 : t10.zigzagOffset, i10 = _E(e30, t10 = Object.assign({}, t10, { hachureGap: r10 + n10 }));
    return { type: "fillSketch", ops: this.zigzagLines(i10, n10, t10) };
  }
  zigzagLines(e30, t10, r10) {
    let n10 = [];
    return e30.forEach((e31) => {
      let i10 = Math.round(_L(e31) / (2 * t10)), a10 = e31[0], s10 = e31[1];
      a10[0] > s10[0] && (a10 = e31[1], s10 = e31[0]);
      let o10 = Math.atan((s10[1] - a10[1]) / (s10[0] - a10[0]));
      for (let e32 = 0; e32 < i10; e32++) {
        let i11 = 2 * e32 * t10, s11 = 2 * (e32 + 1) * t10, l10 = Math.sqrt(2 * Math.pow(t10, 2)), h10 = [a10[0] + i11 * Math.cos(o10), a10[1] + i11 * Math.sin(o10)], u10 = [a10[0] + s11 * Math.cos(o10), a10[1] + s11 * Math.sin(o10)], d10 = [h10[0] + l10 * Math.cos(o10 + Math.PI / 4), h10[1] + l10 * Math.sin(o10 + Math.PI / 4)];
        n10.push(...this.helper.doubleLineOps(h10[0], h10[1], d10[0], d10[1], r10), ...this.helper.doubleLineOps(d10[0], d10[1], u10[0], u10[1], r10));
      }
    }), n10;
  }
}, _i28 = new WeakMap(), __privateAdd(_z2, _i28, iM(_z2, "l")), _z2), _O = {}, _$ = (_A2 = class {
  constructor(e30) {
    this.seed = e30;
  }
  next() {
    return this.seed ? (2147483648 - 1 & (this.seed = Math.imul(48271, this.seed))) / 2147483648 : Math.random();
  }
}, _i29 = new WeakMap(), __privateAdd(_A2, _i29, iM(_A2, "p")), _A2), _P = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };
function _B(e30, t10) {
  return e30.type === t10;
}
function _F(e30) {
  let t10 = [], r10 = function(e31) {
    let t11 = [];
    for (; "" !== e31; ) if (e31.match(/^([ \t\r\n,]+)/)) e31 = e31.substr(RegExp.$1.length);
    else if (e31.match(/^([aAcChHlLmMqQsStTvVzZ])/)) t11[t11.length] = { type: 0, text: RegExp.$1 }, e31 = e31.substr(RegExp.$1.length);
    else {
      if (!e31.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)) return [];
      t11[t11.length] = { type: 1, text: `${parseFloat(RegExp.$1)}` }, e31 = e31.substr(RegExp.$1.length);
    }
    return t11[t11.length] = { type: 2, text: "" }, t11;
  }(e30), n10 = "BOD", i10 = 0, a10 = r10[0];
  for (; !_B(a10, 2); ) {
    let s10 = 0, o10 = [];
    if ("BOD" === n10) {
      if ("M" !== a10.text && "m" !== a10.text) return _F("M0,0" + e30);
      i10++, s10 = _P[a10.text], n10 = a10.text;
    } else _B(a10, 1) ? s10 = _P[n10] : (i10++, s10 = _P[a10.text], n10 = a10.text);
    if (!(i10 + s10 < r10.length)) throw Error("Path data ended short");
    for (let e31 = i10; e31 < i10 + s10; e31++) {
      let t11 = r10[e31];
      if (!_B(t11, 1)) throw Error("Param not a number: " + n10 + "," + t11.text);
      o10[o10.length] = +t11.text;
    }
    if ("number" != typeof _P[n10]) throw Error("Bad segment: " + n10);
    {
      let e31 = { key: n10, data: o10 };
      t10.push(e31), i10 += s10, a10 = r10[i10], "M" === n10 && (n10 = "L"), "m" === n10 && (n10 = "l");
    }
  }
  return t10;
}
function _z(e30) {
  let t10 = 0, r10 = 0, n10 = 0, i10 = 0, a10 = [];
  for (let { key: s10, data: o10 } of e30) switch (s10) {
    case "M":
      a10.push({ key: "M", data: [...o10] }), [t10, r10] = o10, [n10, i10] = o10;
      break;
    case "m":
      t10 += o10[0], r10 += o10[1], a10.push({ key: "M", data: [t10, r10] }), n10 = t10, i10 = r10;
      break;
    case "L":
      a10.push({ key: "L", data: [...o10] }), [t10, r10] = o10;
      break;
    case "l":
      t10 += o10[0], r10 += o10[1], a10.push({ key: "L", data: [t10, r10] });
      break;
    case "C":
      a10.push({ key: "C", data: [...o10] }), t10 = o10[4], r10 = o10[5];
      break;
    case "c": {
      let e31 = o10.map((e32, n11) => n11 % 2 ? e32 + r10 : e32 + t10);
      a10.push({ key: "C", data: e31 }), t10 = e31[4], r10 = e31[5];
      break;
    }
    case "Q":
      a10.push({ key: "Q", data: [...o10] }), t10 = o10[2], r10 = o10[3];
      break;
    case "q": {
      let e31 = o10.map((e32, n11) => n11 % 2 ? e32 + r10 : e32 + t10);
      a10.push({ key: "Q", data: e31 }), t10 = e31[2], r10 = e31[3];
      break;
    }
    case "A":
      a10.push({ key: "A", data: [...o10] }), t10 = o10[5], r10 = o10[6];
      break;
    case "a":
      t10 += o10[5], r10 += o10[6], a10.push({ key: "A", data: [o10[0], o10[1], o10[2], o10[3], o10[4], t10, r10] });
      break;
    case "H":
      a10.push({ key: "H", data: [...o10] }), t10 = o10[0];
      break;
    case "h":
      t10 += o10[0], a10.push({ key: "H", data: [t10] });
      break;
    case "V":
      a10.push({ key: "V", data: [...o10] }), r10 = o10[0];
      break;
    case "v":
      r10 += o10[0], a10.push({ key: "V", data: [r10] });
      break;
    case "S":
      a10.push({ key: "S", data: [...o10] }), t10 = o10[2], r10 = o10[3];
      break;
    case "s": {
      let e31 = o10.map((e32, n11) => n11 % 2 ? e32 + r10 : e32 + t10);
      a10.push({ key: "S", data: e31 }), t10 = e31[2], r10 = e31[3];
      break;
    }
    case "T":
      a10.push({ key: "T", data: [...o10] }), t10 = o10[0], r10 = o10[1];
      break;
    case "t":
      t10 += o10[0], r10 += o10[1], a10.push({ key: "T", data: [t10, r10] });
      break;
    case "Z":
    case "z":
      a10.push({ key: "Z", data: [] }), t10 = n10, r10 = i10;
  }
  return a10;
}
function _j(e30) {
  let t10 = [], r10 = "", n10 = 0, i10 = 0, a10 = 0, s10 = 0, o10 = 0, l10 = 0;
  for (let { key: h10, data: u10 } of e30) {
    switch (h10) {
      case "M":
        t10.push({ key: "M", data: [...u10] }), [n10, i10] = u10, [a10, s10] = u10;
        break;
      case "C":
        t10.push({ key: "C", data: [...u10] }), n10 = u10[4], i10 = u10[5], o10 = u10[2], l10 = u10[3];
        break;
      case "L":
        t10.push({ key: "L", data: [...u10] }), [n10, i10] = u10;
        break;
      case "H":
        n10 = u10[0], t10.push({ key: "L", data: [n10, i10] });
        break;
      case "V":
        i10 = u10[0], t10.push({ key: "L", data: [n10, i10] });
        break;
      case "S": {
        let e31 = 0, a11 = 0;
        "C" === r10 || "S" === r10 ? (e31 = n10 + (n10 - o10), a11 = i10 + (i10 - l10)) : (e31 = n10, a11 = i10), t10.push({ key: "C", data: [e31, a11, ...u10] }), o10 = u10[0], l10 = u10[1], n10 = u10[2], i10 = u10[3];
        break;
      }
      case "T": {
        let [e31, a11] = u10, s11 = 0, h11 = 0;
        "Q" === r10 || "T" === r10 ? (s11 = n10 + (n10 - o10), h11 = i10 + (i10 - l10)) : (s11 = n10, h11 = i10);
        let d10 = n10 + 2 * (s11 - n10) / 3, p10 = i10 + 2 * (h11 - i10) / 3, f10 = e31 + 2 * (s11 - e31) / 3, g10 = a11 + 2 * (h11 - a11) / 3;
        t10.push({ key: "C", data: [d10, p10, f10, g10, e31, a11] }), o10 = s11, l10 = h11, n10 = e31, i10 = a11;
        break;
      }
      case "Q": {
        let [e31, r11, a11, s11] = u10, h11 = n10 + 2 * (e31 - n10) / 3, d10 = i10 + 2 * (r11 - i10) / 3, p10 = a11 + 2 * (e31 - a11) / 3, f10 = s11 + 2 * (r11 - s11) / 3;
        t10.push({ key: "C", data: [h11, d10, p10, f10, a11, s11] }), o10 = e31, l10 = r11, n10 = a11, i10 = s11;
        break;
      }
      case "A": {
        let e31 = Math.abs(u10[0]), r11 = Math.abs(u10[1]), a11 = u10[2], s11 = u10[3], o11 = u10[4], l11 = u10[5], h11 = u10[6];
        0 === e31 || 0 === r11 ? (t10.push({ key: "C", data: [n10, i10, l11, h11, l11, h11] }), n10 = l11, i10 = h11) : (n10 !== l11 || i10 !== h11) && (_U(n10, i10, l11, h11, e31, r11, a11, s11, o11).forEach(function(e32) {
          t10.push({ key: "C", data: e32 });
        }), n10 = l11, i10 = h11);
        break;
      }
      case "Z":
        t10.push({ key: "Z", data: [] }), n10 = a10, i10 = s10;
    }
    r10 = h10;
  }
  return t10;
}
function _q(e30, t10, r10) {
  return [e30 * Math.cos(r10) - t10 * Math.sin(r10), e30 * Math.sin(r10) + t10 * Math.cos(r10)];
}
function _U(e30, t10, r10, n10, i10, a10, s10, o10, l10, h10) {
  let u10 = Math.PI * s10 / 180, d10 = [], p10 = 0, f10 = 0, g10 = 0, y10 = 0;
  if (h10) [p10, f10, g10, y10] = h10;
  else {
    [e30, t10] = _q(e30, t10, -u10), [r10, n10] = _q(r10, n10, -u10);
    let s11 = (e30 - r10) / 2, h11 = (t10 - n10) / 2, d11 = s11 * s11 / (i10 * i10) + h11 * h11 / (a10 * a10);
    d11 > 1 && (i10 *= d11 = Math.sqrt(d11), a10 *= d11);
    let v11 = i10 * i10, x11 = a10 * a10, b11 = (o10 === l10 ? -1 : 1) * Math.sqrt(Math.abs((v11 * x11 - v11 * h11 * h11 - x11 * s11 * s11) / (v11 * h11 * h11 + x11 * s11 * s11)));
    g10 = b11 * i10 * h11 / a10 + (e30 + r10) / 2, y10 = -(b11 * a10) * s11 / i10 + (t10 + n10) / 2, p10 = Math.asin(parseFloat(((t10 - y10) / a10).toFixed(9))), f10 = Math.asin(parseFloat(((n10 - y10) / a10).toFixed(9))), e30 < g10 && (p10 = Math.PI - p10), r10 < g10 && (f10 = Math.PI - f10), p10 < 0 && (p10 = 2 * Math.PI + p10), f10 < 0 && (f10 = 2 * Math.PI + f10), l10 && p10 > f10 && (p10 -= 2 * Math.PI), !l10 && f10 > p10 && (f10 -= 2 * Math.PI);
  }
  let v10 = f10 - p10;
  if (Math.abs(v10) > 120 * Math.PI / 180) {
    let e31 = f10, t11 = r10, o11 = n10;
    d10 = _U(r10 = g10 + i10 * Math.cos(f10 = l10 && f10 > p10 ? p10 + 120 * Math.PI / 180 * 1 : p10 + -(120 * Math.PI / 180 * 1)), n10 = y10 + a10 * Math.sin(f10), t11, o11, i10, a10, s10, 0, l10, [f10, e31, g10, y10]);
  }
  v10 = f10 - p10;
  let x10 = Math.cos(p10), b10 = Math.cos(f10), k10 = Math.tan(v10 / 4), w10 = 4 / 3 * i10 * k10, _10 = 4 / 3 * a10 * k10, T10 = [e30, t10], S10 = [e30 + w10 * Math.sin(p10), t10 - _10 * x10], C10 = [r10 + w10 * Math.sin(f10), n10 - _10 * b10], E10 = [r10, n10];
  if (S10[0] = 2 * T10[0] - S10[0], S10[1] = 2 * T10[1] - S10[1], h10) return [S10, C10, E10].concat(d10);
  {
    d10 = [S10, C10, E10].concat(d10);
    let e31 = [];
    for (let t11 = 0; t11 < d10.length; t11 += 3) {
      let r11 = _q(d10[t11][0], d10[t11][1], u10), n11 = _q(d10[t11 + 1][0], d10[t11 + 1][1], u10), i11 = _q(d10[t11 + 2][0], d10[t11 + 2][1], u10);
      e31.push([r11[0], r11[1], n11[0], n11[1], i11[0], i11[1]]);
    }
    return e31;
  }
}
iM(_B, "k"), iM(_F, "b"), iM(_z, "y"), iM(_j, "m"), iM(_q, "w"), iM(_U, "x");
var _W = { randOffset: iM(function(e30, t10) {
  return _3(e30, t10);
}, "randOffset"), randOffsetWithRange: iM(function(e30, t10, r10) {
  return _4(e30, t10, r10);
}, "randOffsetWithRange"), ellipse: iM(function(e30, t10, r10, n10, i10) {
  let a10 = _X(r10, n10, i10);
  return _K(e30, t10, i10, a10).opset;
}, "ellipse"), doubleLineOps: iM(function(e30, t10, r10, n10, i10) {
  return _5(e30, t10, r10, n10, i10, true);
}, "doubleLineOps") };
function _V(e30, t10, r10, n10, i10) {
  return { type: "path", ops: _5(e30, t10, r10, n10, i10) };
}
function _H(e30, t10, r10) {
  let n10 = (e30 || []).length;
  if (n10 > 2) {
    let i10 = [];
    for (let t11 = 0; t11 < n10 - 1; t11++) i10.push(..._5(e30[t11][0], e30[t11][1], e30[t11 + 1][0], e30[t11 + 1][1], r10));
    return t10 && i10.push(..._5(e30[n10 - 1][0], e30[n10 - 1][1], e30[0][0], e30[0][1], r10)), { type: "path", ops: i10 };
  }
  return 2 === n10 ? _V(e30[0][0], e30[0][1], e30[1][0], e30[1][1], r10) : { type: "path", ops: [] };
}
function _Y(e30, t10, r10, n10, i10) {
  return _H([[e30, t10], [e30 + r10, t10], [e30 + r10, t10 + n10], [e30, t10 + n10]], true, i10);
}
function _G(e30, t10) {
  if (e30.length) {
    let r10 = "number" == typeof e30[0][0] ? [e30] : e30, n10 = _7(r10[0], 1 * (1 + 0.2 * t10.roughness), t10), i10 = t10.disableMultiStroke ? [] : _7(r10[0], 1.5 * (1 + 0.22 * t10.roughness), _1(t10));
    for (let e31 = 1; e31 < r10.length; e31++) {
      let a10 = r10[e31];
      if (a10.length) {
        let e32 = _7(a10, 1 * (1 + 0.2 * t10.roughness), t10), r11 = t10.disableMultiStroke ? [] : _7(a10, 1.5 * (1 + 0.22 * t10.roughness), _1(t10));
        for (let t11 of e32) "move" !== t11.op && n10.push(t11);
        for (let e33 of r11) "move" !== e33.op && i10.push(e33);
      }
    }
    return { type: "path", ops: n10.concat(i10) };
  }
  return { type: "path", ops: [] };
}
function _X(e30, t10, r10) {
  let n10 = Math.sqrt(2 * Math.PI * Math.sqrt((Math.pow(e30 / 2, 2) + Math.pow(t10 / 2, 2)) / 2)), i10 = 2 * Math.PI / Math.ceil(Math.max(r10.curveStepCount, r10.curveStepCount / Math.sqrt(200) * n10)), a10 = Math.abs(e30 / 2), s10 = Math.abs(t10 / 2), o10 = 1 - r10.curveFitting;
  return a10 += _3(a10 * o10, r10), s10 += _3(s10 * o10, r10), { increment: i10, rx: a10, ry: s10 };
}
function _K(e30, t10, r10, n10) {
  let [i10, a10] = _9(n10.increment, e30, t10, n10.rx, n10.ry, 1, n10.increment * _4(0.1, _4(0.4, 1, r10), r10), r10), s10 = _8(i10, null, r10);
  if (!r10.disableMultiStroke && 0 !== r10.roughness) {
    let [i11] = _9(n10.increment, e30, t10, n10.rx, n10.ry, 1.5, 0, r10), a11 = _8(i11, null, r10);
    s10 = s10.concat(a11);
  }
  return { estimatedPoints: a10, opset: { type: "path", ops: s10 } };
}
function _Z(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  let h10 = Math.abs(r10 / 2), u10 = Math.abs(n10 / 2);
  h10 += _3(0.01 * h10, l10), u10 += _3(0.01 * u10, l10);
  let d10 = i10, p10 = a10;
  for (; d10 < 0; ) d10 += 2 * Math.PI, p10 += 2 * Math.PI;
  p10 - d10 > 2 * Math.PI && (d10 = 0, p10 = 2 * Math.PI);
  let f10 = Math.min(2 * Math.PI / l10.curveStepCount / 2, (p10 - d10) / 2), g10 = Te(f10, e30, t10, h10, u10, d10, p10, 1, l10);
  if (!l10.disableMultiStroke) {
    let r11 = Te(f10, e30, t10, h10, u10, d10, p10, 1.5, l10);
    g10.push(...r11);
  }
  return s10 && (o10 ? g10.push(..._5(e30, t10, e30 + h10 * Math.cos(d10), t10 + u10 * Math.sin(d10), l10), ..._5(e30, t10, e30 + h10 * Math.cos(p10), t10 + u10 * Math.sin(p10), l10)) : g10.push({ op: "lineTo", data: [e30, t10] }, { op: "lineTo", data: [e30 + h10 * Math.cos(d10), t10 + u10 * Math.sin(d10)] })), { type: "path", ops: g10 };
}
function _Q(e30, t10) {
  let r10 = _j(_z(_F(e30))), n10 = [], i10 = [0, 0], a10 = [0, 0];
  for (let { key: e31, data: s10 } of r10) switch (e31) {
    case "M":
      a10 = [s10[0], s10[1]], i10 = [s10[0], s10[1]];
      break;
    case "L":
      n10.push(..._5(a10[0], a10[1], s10[0], s10[1], t10)), a10 = [s10[0], s10[1]];
      break;
    case "C": {
      let [e32, r11, i11, o10, l10, h10] = s10;
      n10.push(...Tt(e32, r11, i11, o10, l10, h10, a10, t10)), a10 = [l10, h10];
      break;
    }
    case "Z":
      n10.push(..._5(a10[0], a10[1], i10[0], i10[1], t10)), a10 = [i10[0], i10[1]];
  }
  return { type: "path", ops: n10 };
}
function _J(e30, t10) {
  let r10 = [];
  for (let n10 of e30) if (n10.length) {
    let e31 = t10.maxRandomnessOffset || 0, i10 = n10.length;
    if (i10 > 2) {
      r10.push({ op: "move", data: [n10[0][0] + _3(e31, t10), n10[0][1] + _3(e31, t10)] });
      for (let a10 = 1; a10 < i10; a10++) r10.push({ op: "lineTo", data: [n10[a10][0] + _3(e31, t10), n10[a10][1] + _3(e31, t10)] });
    }
  }
  return { type: "fillPath", ops: r10 };
}
function _0(e30, t10) {
  return function(e31, t11) {
    let r10 = e31.fillStyle || "hachure";
    if (!_O[r10]) switch (r10) {
      case "zigzag":
        _O[r10] || (_O[r10] = new _I(t11));
        break;
      case "cross-hatch":
        _O[r10] || (_O[r10] = new _M(t11));
        break;
      case "dots":
        _O[r10] || (_O[r10] = new _N(t11));
        break;
      case "dashed":
        _O[r10] || (_O[r10] = new _R(t11));
        break;
      case "zigzag-line":
        _O[r10] || (_O[r10] = new _D(t11));
        break;
      default:
        _O[r10 = "hachure"] || (_O[r10] = new _A(t11));
    }
    return _O[r10];
  }(t10, _W).fillPolygons(e30, t10);
}
function _1(e30) {
  let t10 = Object.assign({}, e30);
  return t10.randomizer = void 0, e30.seed && (t10.seed = e30.seed + 1), t10;
}
function _2(e30) {
  return e30.randomizer || (e30.randomizer = new _$(e30.seed || 0)), e30.randomizer.next();
}
function _4(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
  return r10.roughness * n10 * (_2(r10) * (t10 - e30) + e30);
}
function _3(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
  return _4(-e30, e30, t10, r10);
}
function _5(e30, t10, r10, n10, i10) {
  let a10 = arguments.length > 5 && void 0 !== arguments[5] && arguments[5], s10 = a10 ? i10.disableMultiStrokeFill : i10.disableMultiStroke, o10 = _6(e30, t10, r10, n10, i10, true, false);
  if (s10) return o10;
  let l10 = _6(e30, t10, r10, n10, i10, true, true);
  return o10.concat(l10);
}
function _6(e30, t10, r10, n10, i10, a10, s10) {
  let o10 = Math.pow(e30 - r10, 2) + Math.pow(t10 - n10, 2), l10 = Math.sqrt(o10), h10 = 1;
  h10 = l10 < 200 ? 1 : l10 > 500 ? 0.4 : -16668e-7 * l10 + 1.233334;
  let u10 = i10.maxRandomnessOffset || 0;
  u10 * u10 * 100 > o10 && (u10 = l10 / 10);
  let d10 = u10 / 2, p10 = 0.2 + 0.2 * _2(i10), f10 = i10.bowing * i10.maxRandomnessOffset * (n10 - t10) / 200, g10 = i10.bowing * i10.maxRandomnessOffset * (e30 - r10) / 200;
  f10 = _3(f10, i10, h10), g10 = _3(g10, i10, h10);
  let y10 = [], v10 = iM(() => _3(d10, i10, h10), "M"), x10 = iM(() => _3(u10, i10, h10), "k"), b10 = i10.preserveVertices;
  return a10 && (s10 ? y10.push({ op: "move", data: [e30 + (b10 ? 0 : v10()), t10 + (b10 ? 0 : v10())] }) : y10.push({ op: "move", data: [e30 + (b10 ? 0 : _3(u10, i10, h10)), t10 + (b10 ? 0 : _3(u10, i10, h10))] })), s10 ? y10.push({ op: "bcurveTo", data: [f10 + e30 + (r10 - e30) * p10 + v10(), g10 + t10 + (n10 - t10) * p10 + v10(), f10 + e30 + 2 * (r10 - e30) * p10 + v10(), g10 + t10 + 2 * (n10 - t10) * p10 + v10(), r10 + (b10 ? 0 : v10()), n10 + (b10 ? 0 : v10())] }) : y10.push({ op: "bcurveTo", data: [f10 + e30 + (r10 - e30) * p10 + x10(), g10 + t10 + (n10 - t10) * p10 + x10(), f10 + e30 + 2 * (r10 - e30) * p10 + x10(), g10 + t10 + 2 * (n10 - t10) * p10 + x10(), r10 + (b10 ? 0 : x10()), n10 + (b10 ? 0 : x10())] }), y10;
}
function _7(e30, t10, r10) {
  if (!e30.length) return [];
  let n10 = [];
  n10.push([e30[0][0] + _3(t10, r10), e30[0][1] + _3(t10, r10)]), n10.push([e30[0][0] + _3(t10, r10), e30[0][1] + _3(t10, r10)]);
  for (let i10 = 1; i10 < e30.length; i10++) n10.push([e30[i10][0] + _3(t10, r10), e30[i10][1] + _3(t10, r10)]), i10 === e30.length - 1 && n10.push([e30[i10][0] + _3(t10, r10), e30[i10][1] + _3(t10, r10)]);
  return _8(n10, null, r10);
}
function _8(e30, t10, r10) {
  let n10 = e30.length, i10 = [];
  if (n10 > 3) {
    let a10 = [], s10 = 1 - r10.curveTightness;
    i10.push({ op: "move", data: [e30[1][0], e30[1][1]] });
    for (let t11 = 1; t11 + 2 < n10; t11++) {
      let r11 = e30[t11];
      a10[0] = [r11[0], r11[1]], a10[1] = [r11[0] + (s10 * e30[t11 + 1][0] - s10 * e30[t11 - 1][0]) / 6, r11[1] + (s10 * e30[t11 + 1][1] - s10 * e30[t11 - 1][1]) / 6], a10[2] = [e30[t11 + 1][0] + (s10 * e30[t11][0] - s10 * e30[t11 + 2][0]) / 6, e30[t11 + 1][1] + (s10 * e30[t11][1] - s10 * e30[t11 + 2][1]) / 6], a10[3] = [e30[t11 + 1][0], e30[t11 + 1][1]], i10.push({ op: "bcurveTo", data: [a10[1][0], a10[1][1], a10[2][0], a10[2][1], a10[3][0], a10[3][1]] });
    }
    if (t10 && 2 === t10.length) {
      let e31 = r10.maxRandomnessOffset;
      i10.push({ op: "lineTo", data: [t10[0] + _3(e31, r10), t10[1] + _3(e31, r10)] });
    }
  } else 3 === n10 ? (i10.push({ op: "move", data: [e30[1][0], e30[1][1]] }), i10.push({ op: "bcurveTo", data: [e30[1][0], e30[1][1], e30[2][0], e30[2][1], e30[2][0], e30[2][1]] })) : 2 === n10 && i10.push(..._6(e30[0][0], e30[0][1], e30[1][0], e30[1][1], r10, true, true));
  return i10;
}
function _9(e30, t10, r10, n10, i10, a10, s10, o10) {
  let l10 = [], h10 = [];
  if (0 === o10.roughness) {
    e30 /= 4, h10.push([t10 + n10 * Math.cos(-e30), r10 + i10 * Math.sin(-e30)]);
    for (let a11 = 0; a11 <= 2 * Math.PI; a11 += e30) {
      let e31 = [t10 + n10 * Math.cos(a11), r10 + i10 * Math.sin(a11)];
      l10.push(e31), h10.push(e31);
    }
    h10.push([t10 + 1 * n10, r10 + 0 * i10]), h10.push([t10 + n10 * Math.cos(e30), r10 + i10 * Math.sin(e30)]);
  } else {
    let u10 = _3(0.5, o10) - Math.PI / 2;
    h10.push([_3(a10, o10) + t10 + 0.9 * n10 * Math.cos(u10 - e30), _3(a10, o10) + r10 + 0.9 * i10 * Math.sin(u10 - e30)]);
    let d10 = 2 * Math.PI + u10 - 0.01;
    for (let s11 = u10; s11 < d10; s11 += e30) {
      let e31 = [_3(a10, o10) + t10 + n10 * Math.cos(s11), _3(a10, o10) + r10 + i10 * Math.sin(s11)];
      l10.push(e31), h10.push(e31);
    }
    h10.push([_3(a10, o10) + t10 + n10 * Math.cos(u10 + 2 * Math.PI + 0.5 * s10), _3(a10, o10) + r10 + i10 * Math.sin(u10 + 2 * Math.PI + 0.5 * s10)]), h10.push([_3(a10, o10) + t10 + 0.98 * n10 * Math.cos(u10 + s10), _3(a10, o10) + r10 + 0.98 * i10 * Math.sin(u10 + s10)]), h10.push([_3(a10, o10) + t10 + 0.9 * n10 * Math.cos(u10 + 0.5 * s10), _3(a10, o10) + r10 + 0.9 * i10 * Math.sin(u10 + 0.5 * s10)]);
  }
  return [h10, l10];
}
function Te(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  let h10 = a10 + _3(0.1, l10), u10 = [];
  u10.push([_3(o10, l10) + t10 + 0.9 * n10 * Math.cos(h10 - e30), _3(o10, l10) + r10 + 0.9 * i10 * Math.sin(h10 - e30)]);
  for (let a11 = h10; a11 <= s10; a11 += e30) u10.push([_3(o10, l10) + t10 + n10 * Math.cos(a11), _3(o10, l10) + r10 + i10 * Math.sin(a11)]);
  return u10.push([t10 + n10 * Math.cos(s10), r10 + i10 * Math.sin(s10)]), u10.push([t10 + n10 * Math.cos(s10), r10 + i10 * Math.sin(s10)]), _8(u10, null, l10);
}
function Tt(e30, t10, r10, n10, i10, a10, s10, o10) {
  let l10 = [], h10 = [o10.maxRandomnessOffset || 1, (o10.maxRandomnessOffset || 1) + 0.3], u10 = [0, 0], d10 = o10.disableMultiStroke ? 1 : 2, p10 = o10.preserveVertices;
  for (let f10 = 0; f10 < d10; f10++) 0 === f10 ? l10.push({ op: "move", data: [s10[0], s10[1]] }) : l10.push({ op: "move", data: [s10[0] + (p10 ? 0 : _3(h10[0], o10)), s10[1] + (p10 ? 0 : _3(h10[0], o10))] }), u10 = p10 ? [i10, a10] : [i10 + _3(h10[f10], o10), a10 + _3(h10[f10], o10)], l10.push({ op: "bcurveTo", data: [e30 + _3(h10[f10], o10), t10 + _3(h10[f10], o10), r10 + _3(h10[f10], o10), n10 + _3(h10[f10], o10), u10[0], u10[1]] });
  return l10;
}
function Tr(e30) {
  return [...e30];
}
function Tn(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = e30.length;
  if (r10 < 3) throw Error("A curve must have at least three points.");
  let n10 = [];
  if (3 === r10) n10.push(Tr(e30[0]), Tr(e30[1]), Tr(e30[2]), Tr(e30[2]));
  else {
    let r11 = [];
    r11.push(e30[0], e30[0]);
    for (let t11 = 1; t11 < e30.length; t11++) r11.push(e30[t11]), t11 === e30.length - 1 && r11.push(e30[t11]);
    let i10 = [], a10 = 1 - t10;
    n10.push(Tr(r11[0]));
    for (let e31 = 1; e31 + 2 < r11.length; e31++) {
      let t11 = r11[e31];
      i10[0] = [t11[0], t11[1]], i10[1] = [t11[0] + (a10 * r11[e31 + 1][0] - a10 * r11[e31 - 1][0]) / 6, t11[1] + (a10 * r11[e31 + 1][1] - a10 * r11[e31 - 1][1]) / 6], i10[2] = [r11[e31 + 1][0] + (a10 * r11[e31][0] - a10 * r11[e31 + 2][0]) / 6, r11[e31 + 1][1] + (a10 * r11[e31][1] - a10 * r11[e31 + 2][1]) / 6], i10[3] = [r11[e31 + 1][0], r11[e31 + 1][1]], n10.push(i10[1], i10[2], i10[3]);
    }
  }
  return n10;
}
function Ti(e30, t10) {
  return Math.pow(e30[0] - t10[0], 2) + Math.pow(e30[1] - t10[1], 2);
}
function Ta(e30, t10, r10) {
  let n10 = Ti(t10, r10);
  if (0 === n10) return Ti(e30, t10);
  let i10 = ((e30[0] - t10[0]) * (r10[0] - t10[0]) + (e30[1] - t10[1]) * (r10[1] - t10[1])) / n10;
  return Ti(e30, Ts(t10, r10, i10 = Math.max(0, Math.min(1, i10))));
}
function Ts(e30, t10, r10) {
  return [e30[0] + (t10[0] - e30[0]) * r10, e30[1] + (t10[1] - e30[1]) * r10];
}
function To(e30, t10, r10, n10) {
  let i10 = n10 || [];
  if (function(e31, t11) {
    let r11 = e31[t11 + 0], n11 = e31[t11 + 1], i11 = e31[t11 + 2], a10 = e31[t11 + 3], s10 = 3 * n11[0] - 2 * r11[0] - a10[0];
    s10 *= s10;
    let o10 = 3 * n11[1] - 2 * r11[1] - a10[1];
    o10 *= o10;
    let l10 = 3 * i11[0] - 2 * a10[0] - r11[0];
    l10 *= l10;
    let h10 = 3 * i11[1] - 2 * a10[1] - r11[1];
    return h10 *= h10, s10 < l10 && (s10 = l10), o10 < h10 && (o10 = h10), s10 + o10;
  }(e30, t10) < r10) {
    let r11 = e30[t10 + 0];
    i10.length ? Math.sqrt(Ti(i10[i10.length - 1], r11)) > 1 && i10.push(r11) : i10.push(r11), i10.push(e30[t10 + 3]);
  } else {
    let n11 = e30[t10 + 0], a10 = e30[t10 + 1], s10 = e30[t10 + 2], o10 = e30[t10 + 3], l10 = Ts(n11, a10, 0.5), h10 = Ts(a10, s10, 0.5), u10 = Ts(s10, o10, 0.5), d10 = Ts(l10, h10, 0.5), p10 = Ts(h10, u10, 0.5), f10 = Ts(d10, p10, 0.5);
    To([n11, l10, d10, f10], 0, r10, i10), To([f10, p10, u10, o10], 0, r10, i10);
  }
  return i10;
}
function Tl(e30, t10) {
  return Tc(e30, 0, e30.length, t10);
}
function Tc(e30, t10, r10, n10, i10) {
  let a10 = i10 || [], s10 = e30[t10], o10 = e30[r10 - 1], l10 = 0, h10 = 1;
  for (let n11 = t10 + 1; n11 < r10 - 1; ++n11) {
    let t11 = Ta(e30[n11], s10, o10);
    t11 > l10 && (l10 = t11, h10 = n11);
  }
  return Math.sqrt(l10) > n10 ? (Tc(e30, t10, h10 + 1, n10, a10), Tc(e30, h10, r10, n10, a10)) : (a10.length || a10.push(s10), a10.push(o10)), a10;
}
function Th(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0.15, r10 = arguments.length > 2 ? arguments[2] : void 0, n10 = [], i10 = (e30.length - 1) / 3;
  for (let r11 = 0; r11 < i10; r11++) To(e30, 3 * r11, t10, n10);
  return r10 && r10 > 0 ? Tc(n10, 0, n10.length, r10) : n10;
}
iM(_V, "v"), iM(_H, "S"), iM(_Y, "O"), iM(_G, "L"), iM(_X, "T"), iM(_K, "D"), iM(_Z, "A"), iM(_Q, "_"), iM(_J, "I"), iM(_0, "C"), iM(_1, "z"), iM(_2, "W"), iM(_4, "E"), iM(_3, "G"), iM(_5, "$"), iM(_6, "R"), iM(_7, "j"), iM(_8, "q"), iM(_9, "F"), iM(Te, "V"), iM(Tt, "Z"), iM(Tr, "Q"), iM(Tn, "H"), iM(Ti, "N"), iM(Ta, "B"), iM(Ts, "J"), iM(To, "K"), iM(Tl, "U"), iM(Tc, "X"), iM(Th, "Y");
var Tu = "none", Td = (_B2 = class {
  constructor(e30) {
    this.defaultOptions = { maxRandomnessOffset: 2, roughness: 1, bowing: 1, stroke: "#000", strokeWidth: 1, curveTightness: 0, curveFitting: 0.95, curveStepCount: 9, fillStyle: "hachure", fillWeight: -1, hachureAngle: -41, hachureGap: -1, dashOffset: -1, dashGap: -1, zigzagOffset: -1, seed: 0, disableMultiStroke: false, disableMultiStrokeFill: false, preserveVertices: false, fillShapeRoughnessGain: 0.8 }, this.config = e30 || {}, this.config.options && (this.defaultOptions = this._o(this.config.options));
  }
  static newSeed() {
    return Math.floor(2147483648 * Math.random());
  }
  _o(e30) {
    return e30 ? Object.assign({}, this.defaultOptions, e30) : this.defaultOptions;
  }
  _d(e30, t10, r10) {
    return { shape: e30, sets: t10 || [], options: r10 || this.defaultOptions };
  }
  line(e30, t10, r10, n10, i10) {
    let a10 = this._o(i10);
    return this._d("line", [_V(e30, t10, r10, n10, a10)], a10);
  }
  rectangle(e30, t10, r10, n10, i10) {
    let a10 = this._o(i10), s10 = [], o10 = _Y(e30, t10, r10, n10, a10);
    if (a10.fill) {
      let i11 = [[e30, t10], [e30 + r10, t10], [e30 + r10, t10 + n10], [e30, t10 + n10]];
      "solid" === a10.fillStyle ? s10.push(_J([i11], a10)) : s10.push(_0([i11], a10));
    }
    return a10.stroke !== Tu && s10.push(o10), this._d("rectangle", s10, a10);
  }
  ellipse(e30, t10, r10, n10, i10) {
    let a10 = this._o(i10), s10 = [], o10 = _X(r10, n10, a10), l10 = _K(e30, t10, a10, o10);
    if (a10.fill) {
      if ("solid" === a10.fillStyle) {
        let r11 = _K(e30, t10, a10, o10).opset;
        r11.type = "fillPath", s10.push(r11);
      } else s10.push(_0([l10.estimatedPoints], a10));
    }
    return a10.stroke !== Tu && s10.push(l10.opset), this._d("ellipse", s10, a10);
  }
  circle(e30, t10, r10, n10) {
    let i10 = this.ellipse(e30, t10, r10, r10, n10);
    return i10.shape = "circle", i10;
  }
  linearPath(e30, t10) {
    let r10 = this._o(t10);
    return this._d("linearPath", [_H(e30, false, r10)], r10);
  }
  arc(e30, t10, r10, n10, i10, a10) {
    let s10 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6], o10 = arguments.length > 7 ? arguments[7] : void 0, l10 = this._o(o10), h10 = [], u10 = _Z(e30, t10, r10, n10, i10, a10, s10, true, l10);
    if (s10 && l10.fill) {
      if ("solid" === l10.fillStyle) {
        let s11 = Object.assign({}, l10);
        s11.disableMultiStroke = true;
        let o11 = _Z(e30, t10, r10, n10, i10, a10, true, false, s11);
        o11.type = "fillPath", h10.push(o11);
      } else h10.push(function(e31, t11, r11, n11, i11, a11, s11) {
        let o11 = Math.abs(r11 / 2), l11 = Math.abs(n11 / 2);
        o11 += _3(0.01 * o11, s11), l11 += _3(0.01 * l11, s11);
        let h11 = i11, u11 = a11;
        for (; h11 < 0; ) h11 += 2 * Math.PI, u11 += 2 * Math.PI;
        u11 - h11 > 2 * Math.PI && (h11 = 0, u11 = 2 * Math.PI);
        let d10 = (u11 - h11) / s11.curveStepCount, p10 = [];
        for (let r12 = h11; r12 <= u11; r12 += d10) p10.push([e31 + o11 * Math.cos(r12), t11 + l11 * Math.sin(r12)]);
        return p10.push([e31 + o11 * Math.cos(u11), t11 + l11 * Math.sin(u11)]), p10.push([e31, t11]), _0([p10], s11);
      }(e30, t10, r10, n10, i10, a10, l10));
    }
    return l10.stroke !== Tu && h10.push(u10), this._d("arc", h10, l10);
  }
  curve(e30, t10) {
    let r10 = this._o(t10), n10 = [], i10 = _G(e30, r10);
    if (r10.fill && r10.fill !== Tu) {
      if ("solid" === r10.fillStyle) {
        let t11 = _G(e30, Object.assign(Object.assign({}, r10), { disableMultiStroke: true, roughness: r10.roughness ? r10.roughness + r10.fillShapeRoughnessGain : 0 }));
        n10.push({ type: "fillPath", ops: this._mergedShape(t11.ops) });
      } else {
        let t11 = [];
        if (e30.length) for (let n11 of "number" == typeof e30[0][0] ? [e30] : e30) n11.length < 3 ? t11.push(...n11) : 3 === n11.length ? t11.push(...Th(Tn([n11[0], n11[0], n11[1], n11[2]]), 10, (1 + r10.roughness) / 2)) : t11.push(...Th(Tn(n11), 10, (1 + r10.roughness) / 2));
        t11.length && n10.push(_0([t11], r10));
      }
    }
    return r10.stroke !== Tu && n10.push(i10), this._d("curve", n10, r10);
  }
  polygon(e30, t10) {
    let r10 = this._o(t10), n10 = [], i10 = _H(e30, true, r10);
    return r10.fill && ("solid" === r10.fillStyle ? n10.push(_J([e30], r10)) : n10.push(_0([e30], r10))), r10.stroke !== Tu && n10.push(i10), this._d("polygon", n10, r10);
  }
  path(e30, t10) {
    let r10 = this._o(t10), n10 = [];
    if (!e30) return this._d("path", n10, r10);
    e30 = (e30 || "").replace(/\n/g, " ").replace(/(-\s)/g, "-").replace("/(ss)/g", " ");
    let i10 = r10.fill && "transparent" !== r10.fill && r10.fill !== Tu, a10 = r10.stroke !== Tu, s10 = !!(r10.simplification && r10.simplification < 1), o10 = function(e31, t11, r11) {
      let n11 = _j(_z(_F(e31))), i11 = [], a11 = [], s11 = [0, 0], o11 = [], l11 = iM(() => {
        o11.length >= 4 && a11.push(...Th(o11, 1)), o11 = [];
      }, "i"), h10 = iM(() => {
        l11(), a11.length && (i11.push(a11), a11 = []);
      }, "c");
      for (let { key: e32, data: t12 } of n11) switch (e32) {
        case "M":
          h10(), s11 = [t12[0], t12[1]], a11.push(s11);
          break;
        case "L":
          l11(), a11.push([t12[0], t12[1]]);
          break;
        case "C":
          if (!o11.length) {
            let e33 = a11.length ? a11[a11.length - 1] : s11;
            o11.push([e33[0], e33[1]]);
          }
          o11.push([t12[0], t12[1]]), o11.push([t12[2], t12[3]]), o11.push([t12[4], t12[5]]);
          break;
        case "Z":
          l11(), a11.push([s11[0], s11[1]]);
      }
      if (h10(), !r11) return i11;
      let u10 = [];
      for (let e32 of i11) {
        let t12 = Tl(e32, r11);
        t12.length && u10.push(t12);
      }
      return u10;
    }(e30, 0, s10 ? 4 - 4 * (r10.simplification || 1) : (1 + r10.roughness) / 2), l10 = _Q(e30, r10);
    if (i10) {
      if ("solid" === r10.fillStyle) {
        if (1 === o10.length) {
          let t11 = _Q(e30, Object.assign(Object.assign({}, r10), { disableMultiStroke: true, roughness: r10.roughness ? r10.roughness + r10.fillShapeRoughnessGain : 0 }));
          n10.push({ type: "fillPath", ops: this._mergedShape(t11.ops) });
        } else n10.push(_J(o10, r10));
      } else n10.push(_0(o10, r10));
    }
    return a10 && (s10 ? o10.forEach((e31) => {
      n10.push(_H(e31, false, r10));
    }) : n10.push(l10)), this._d("path", n10, r10);
  }
  opsToPath(e30, t10) {
    let r10 = "";
    for (let n10 of e30.ops) {
      let e31 = "number" == typeof t10 && t10 >= 0 ? n10.data.map((e32) => +e32.toFixed(t10)) : n10.data;
      switch (n10.op) {
        case "move":
          r10 += `M${e31[0]} ${e31[1]} `;
          break;
        case "bcurveTo":
          r10 += `C${e31[0]} ${e31[1]}, ${e31[2]} ${e31[3]}, ${e31[4]} ${e31[5]} `;
          break;
        case "lineTo":
          r10 += `L${e31[0]} ${e31[1]} `;
      }
    }
    return r10.trim();
  }
  toPaths(e30) {
    let t10 = e30.sets || [], r10 = e30.options || this.defaultOptions, n10 = [];
    for (let e31 of t10) {
      let t11 = null;
      switch (e31.type) {
        case "path":
          t11 = { d: this.opsToPath(e31), stroke: r10.stroke, strokeWidth: r10.strokeWidth, fill: Tu };
          break;
        case "fillPath":
          t11 = { d: this.opsToPath(e31), stroke: Tu, strokeWidth: 0, fill: r10.fill || Tu };
          break;
        case "fillSketch":
          t11 = this.fillSketch(e31, r10);
      }
      t11 && n10.push(t11);
    }
    return n10;
  }
  fillSketch(e30, t10) {
    let r10 = t10.fillWeight;
    return r10 < 0 && (r10 = t10.strokeWidth / 2), { d: this.opsToPath(e30), stroke: t10.fill || Tu, strokeWidth: r10, fill: Tu };
  }
  _mergedShape(e30) {
    return e30.filter((e31, t10) => 0 === t10 || "move" !== e31.op);
  }
}, _i30 = new WeakMap(), __privateAdd(_B2, _i30, iM(_B2, "et")), _B2), Tp = (_C2 = class {
  constructor(e30, t10) {
    this.canvas = e30, this.ctx = this.canvas.getContext("2d"), this.gen = new Td(t10);
  }
  draw(e30) {
    let t10 = e30.sets || [], r10 = e30.options || this.getDefaultOptions(), n10 = this.ctx, i10 = e30.options.fixedDecimalPlaceDigits;
    for (let a10 of t10) switch (a10.type) {
      case "path":
        n10.save(), n10.strokeStyle = "none" === r10.stroke ? "transparent" : r10.stroke, n10.lineWidth = r10.strokeWidth, r10.strokeLineDash && n10.setLineDash(r10.strokeLineDash), r10.strokeLineDashOffset && (n10.lineDashOffset = r10.strokeLineDashOffset), this._drawToContext(n10, a10, i10), n10.restore();
        break;
      case "fillPath": {
        n10.save(), n10.fillStyle = r10.fill || "";
        let t11 = "curve" === e30.shape || "polygon" === e30.shape || "path" === e30.shape ? "evenodd" : "nonzero";
        this._drawToContext(n10, a10, i10, t11), n10.restore();
        break;
      }
      case "fillSketch":
        this.fillSketch(n10, a10, r10);
    }
  }
  fillSketch(e30, t10, r10) {
    let n10 = r10.fillWeight;
    n10 < 0 && (n10 = r10.strokeWidth / 2), e30.save(), r10.fillLineDash && e30.setLineDash(r10.fillLineDash), r10.fillLineDashOffset && (e30.lineDashOffset = r10.fillLineDashOffset), e30.strokeStyle = r10.fill || "", e30.lineWidth = n10, this._drawToContext(e30, t10, r10.fixedDecimalPlaceDigits), e30.restore();
  }
  _drawToContext(e30, t10, r10) {
    let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "nonzero";
    for (let n11 of (e30.beginPath(), t10.ops)) {
      let t11 = "number" == typeof r10 && r10 >= 0 ? n11.data.map((e31) => +e31.toFixed(r10)) : n11.data;
      switch (n11.op) {
        case "move":
          e30.moveTo(t11[0], t11[1]);
          break;
        case "bcurveTo":
          e30.bezierCurveTo(t11[0], t11[1], t11[2], t11[3], t11[4], t11[5]);
          break;
        case "lineTo":
          e30.lineTo(t11[0], t11[1]);
      }
    }
    "fillPath" === t10.type ? e30.fill(n10) : e30.stroke();
  }
  get generator() {
    return this.gen;
  }
  getDefaultOptions() {
    return this.gen.defaultOptions;
  }
  line(e30, t10, r10, n10, i10) {
    let a10 = this.gen.line(e30, t10, r10, n10, i10);
    return this.draw(a10), a10;
  }
  rectangle(e30, t10, r10, n10, i10) {
    let a10 = this.gen.rectangle(e30, t10, r10, n10, i10);
    return this.draw(a10), a10;
  }
  ellipse(e30, t10, r10, n10, i10) {
    let a10 = this.gen.ellipse(e30, t10, r10, n10, i10);
    return this.draw(a10), a10;
  }
  circle(e30, t10, r10, n10) {
    let i10 = this.gen.circle(e30, t10, r10, n10);
    return this.draw(i10), i10;
  }
  linearPath(e30, t10) {
    let r10 = this.gen.linearPath(e30, t10);
    return this.draw(r10), r10;
  }
  polygon(e30, t10) {
    let r10 = this.gen.polygon(e30, t10);
    return this.draw(r10), r10;
  }
  arc(e30, t10, r10, n10, i10, a10) {
    let s10 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6], o10 = arguments.length > 7 ? arguments[7] : void 0, l10 = this.gen.arc(e30, t10, r10, n10, i10, a10, s10, o10);
    return this.draw(l10), l10;
  }
  curve(e30, t10) {
    let r10 = this.gen.curve(e30, t10);
    return this.draw(r10), r10;
  }
  path(e30, t10) {
    let r10 = this.gen.path(e30, t10);
    return this.draw(r10), r10;
  }
}, _i31 = new WeakMap(), __privateAdd(_C2, _i31, iM(_C2, "st")), _C2), Tf = "http://www.w3.org/2000/svg", Tg = (_D2 = class {
  constructor(e30, t10) {
    this.svg = e30, this.gen = new Td(t10);
  }
  draw(e30) {
    let t10 = e30.sets || [], r10 = e30.options || this.getDefaultOptions(), n10 = this.svg.ownerDocument || window.document, i10 = n10.createElementNS(Tf, "g"), a10 = e30.options.fixedDecimalPlaceDigits;
    for (let s10 of t10) {
      let t11 = null;
      switch (s10.type) {
        case "path":
          (t11 = n10.createElementNS(Tf, "path")).setAttribute("d", this.opsToPath(s10, a10)), t11.setAttribute("stroke", r10.stroke), t11.setAttribute("stroke-width", r10.strokeWidth + ""), t11.setAttribute("fill", "none"), r10.strokeLineDash && t11.setAttribute("stroke-dasharray", r10.strokeLineDash.join(" ").trim()), r10.strokeLineDashOffset && t11.setAttribute("stroke-dashoffset", `${r10.strokeLineDashOffset}`);
          break;
        case "fillPath":
          (t11 = n10.createElementNS(Tf, "path")).setAttribute("d", this.opsToPath(s10, a10)), t11.setAttribute("stroke", "none"), t11.setAttribute("stroke-width", "0"), t11.setAttribute("fill", r10.fill || ""), "curve" !== e30.shape && "polygon" !== e30.shape || t11.setAttribute("fill-rule", "evenodd");
          break;
        case "fillSketch":
          t11 = this.fillSketch(n10, s10, r10);
      }
      t11 && i10.appendChild(t11);
    }
    return i10;
  }
  fillSketch(e30, t10, r10) {
    let n10 = r10.fillWeight;
    n10 < 0 && (n10 = r10.strokeWidth / 2);
    let i10 = e30.createElementNS(Tf, "path");
    return i10.setAttribute("d", this.opsToPath(t10, r10.fixedDecimalPlaceDigits)), i10.setAttribute("stroke", r10.fill || ""), i10.setAttribute("stroke-width", n10 + ""), i10.setAttribute("fill", "none"), r10.fillLineDash && i10.setAttribute("stroke-dasharray", r10.fillLineDash.join(" ").trim()), r10.fillLineDashOffset && i10.setAttribute("stroke-dashoffset", `${r10.fillLineDashOffset}`), i10;
  }
  get generator() {
    return this.gen;
  }
  getDefaultOptions() {
    return this.gen.defaultOptions;
  }
  opsToPath(e30, t10) {
    return this.gen.opsToPath(e30, t10);
  }
  line(e30, t10, r10, n10, i10) {
    let a10 = this.gen.line(e30, t10, r10, n10, i10);
    return this.draw(a10);
  }
  rectangle(e30, t10, r10, n10, i10) {
    let a10 = this.gen.rectangle(e30, t10, r10, n10, i10);
    return this.draw(a10);
  }
  ellipse(e30, t10, r10, n10, i10) {
    let a10 = this.gen.ellipse(e30, t10, r10, n10, i10);
    return this.draw(a10);
  }
  circle(e30, t10, r10, n10) {
    let i10 = this.gen.circle(e30, t10, r10, n10);
    return this.draw(i10);
  }
  linearPath(e30, t10) {
    let r10 = this.gen.linearPath(e30, t10);
    return this.draw(r10);
  }
  polygon(e30, t10) {
    let r10 = this.gen.polygon(e30, t10);
    return this.draw(r10);
  }
  arc(e30, t10, r10, n10, i10, a10) {
    let s10 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6], o10 = arguments.length > 7 ? arguments[7] : void 0, l10 = this.gen.arc(e30, t10, r10, n10, i10, a10, s10, o10);
    return this.draw(l10);
  }
  curve(e30, t10) {
    let r10 = this.gen.curve(e30, t10);
    return this.draw(r10);
  }
  path(e30, t10) {
    let r10 = this.gen.path(e30, t10);
    return this.draw(r10);
  }
}, _i32 = new WeakMap(), __privateAdd(_D2, _i32, iM(_D2, "ot")), _D2), Tm = { canvas: iM((e30, t10) => new Tp(e30, t10), "canvas"), svg: iM((e30, t10) => new Tg(e30, t10), "svg"), generator: iM((e30) => new Td(e30), "generator"), newSeed: iM(() => Td.newSeed(), "newSeed") }, Ty = iM((e30, t10) => {
  var r10, n10, i10 = e30.x, a10 = e30.y, s10 = t10.x - i10, o10 = t10.y - a10, l10 = e30.width / 2, h10 = e30.height / 2;
  return Math.abs(o10) * l10 > Math.abs(s10) * h10 ? (o10 < 0 && (h10 = -h10), r10 = 0 === o10 ? 0 : h10 * s10 / o10, n10 = h10) : (s10 < 0 && (l10 = -l10), r10 = l10, n10 = 0 === s10 ? 0 : l10 * o10 / s10), { x: i10 + r10, y: a10 + n10 };
}, "intersectRect");
function Tv(e30, t10) {
  t10 && e30.attr("style", t10);
}
async function Tx(e30) {
  let t10 = c$(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject")), r10 = t10.append("xhtml:div"), n10 = e30.label;
  e30.label && s7(e30.label) && (n10 = await s9(e30.label.replace(oe.lineBreakRegex, "\n"), aj()));
  let i10 = e30.isNode ? "nodeLabel" : "edgeLabel";
  return r10.html('<span class="' + i10 + '" ' + (e30.labelStyle ? 'style="' + e30.labelStyle + '"' : "") + ">" + n10 + "</span>"), Tv(r10, e30.labelStyle), r10.style("display", "inline-block"), r10.style("padding-right", "1px"), r10.style("white-space", "nowrap"), r10.attr("xmlns", "http://www.w3.org/1999/xhtml"), t10.node();
}
iM(Tv, "applyStyle"), iM(Tx, "addHtmlLabel");
var Tb = iM(async (e30, t10, r10, n10) => {
  let i10 = e30 || "";
  if ("object" == typeof i10 && (i10 = i10[0]), sQ(aj().flowchart.htmlLabels)) {
    i10 = i10.replace(/\\n|\n/g, "<br />"), iz.info("vertexText" + i10);
    let e31 = { isNode: n10, label: k3(i10).replace(/fa[blrs]?:fa-[\w-]+/g, (e32) => `<i class='${e32.replace(":", " ")}'></i>`), labelStyle: t10 ? t10.replace("fill:", "color:") : t10 };
    return await Tx(e31);
  }
  {
    let e31 = document.createElementNS("http://www.w3.org/2000/svg", "text");
    e31.setAttribute("style", t10.replace("color:", "fill:"));
    for (let t11 of "string" == typeof i10 ? i10.split(/\\n|\n|<br\s*\/?>/gi) : Array.isArray(i10) ? i10 : []) {
      let n11 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
      n11.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), n11.setAttribute("dy", "1em"), n11.setAttribute("x", "0"), r10 ? n11.setAttribute("class", "title-row") : n11.setAttribute("class", "row"), n11.textContent = t11.trim(), e31.appendChild(n11);
    }
    return e31;
  }
}, "createLabel"), Tk = iM((e30, t10, r10, n10, i10) => ["M", e30 + i10, t10, "H", e30 + r10 - i10, "A", i10, i10, 0, 0, 1, e30 + r10, t10 + i10, "V", t10 + n10 - i10, "A", i10, i10, 0, 0, 1, e30 + r10 - i10, t10 + n10, "H", e30 + i10, "A", i10, i10, 0, 0, 1, e30, t10 + n10 - i10, "V", t10 + i10, "A", i10, i10, 0, 0, 1, e30 + i10, t10, "Z"].join(" "), "createRoundedRectPathD"), Tw = iM((e30) => {
  let { handDrawnSeed: t10 } = aj();
  return { fill: e30, hachureAngle: 120, hachureGap: 4, fillWeight: 2, roughness: 0.7, stroke: e30, seed: t10 };
}, "solidStateFill"), T_ = iM((e30) => {
  let t10 = TT([...e30.cssCompiledStyles || [], ...e30.cssStyles || []]);
  return { stylesMap: t10, stylesArray: [...t10] };
}, "compileStyles"), TT = iM((e30) => {
  let t10 = /* @__PURE__ */ new Map();
  return e30.forEach((e31) => {
    let [r10, n10] = e31.split(":");
    t10.set(r10.trim(), null == n10 ? void 0 : n10.trim());
  }), t10;
}, "styles2Map"), TS = iM((e30) => {
  let { stylesArray: t10 } = T_(e30), r10 = [], n10 = [], i10 = [], a10 = [];
  return t10.forEach((e31) => {
    let t11 = e31[0];
    "color" === t11 || "font-size" === t11 || "font-family" === t11 || "font-weight" === t11 || "font-style" === t11 || "text-decoration" === t11 || "text-align" === t11 || "text-transform" === t11 || "line-height" === t11 || "letter-spacing" === t11 || "word-spacing" === t11 || "text-shadow" === t11 || "text-overflow" === t11 || "white-space" === t11 || "word-wrap" === t11 || "word-break" === t11 || "overflow-wrap" === t11 || "hyphens" === t11 ? r10.push(e31.join(":") + " !important") : (n10.push(e31.join(":") + " !important"), t11.includes("stroke") && i10.push(e31.join(":") + " !important"), "fill" === t11 && a10.push(e31.join(":") + " !important"));
  }), { labelStyles: r10.join(";"), nodeStyles: n10.join(";"), stylesArray: t10, borderStyles: i10, backgroundStyles: a10 };
}, "styles2String"), TC = iM((e30, t10) => {
  var r10;
  let { themeVariables: n10, handDrawnSeed: i10 } = aj(), { nodeBorder: a10, mainBkg: s10 } = n10, { stylesMap: o10 } = T_(e30);
  return Object.assign({ roughness: 0.7, fill: o10.get("fill") || s10, fillStyle: "hachure", fillWeight: 4, hachureGap: 5.2, stroke: o10.get("stroke") || a10, seed: i10, strokeWidth: (null === (r10 = o10.get("stroke-width")) || void 0 === r10 ? void 0 : r10.replace("px", "")) || 1.3, fillLineDash: [0, 0] }, t10);
}, "userNodeOverrides"), TE = iM(async (e30, t10) => {
  let r10;
  iz.info("Creating subgraph rect for ", t10.id, t10);
  let n10 = aj(), { themeVariables: i10, handDrawnSeed: a10 } = n10, { clusterBkg: s10, clusterBorder: o10 } = i10, { labelStyles: l10, nodeStyles: h10, borderStyles: u10, backgroundStyles: d10 } = TS(t10), p10 = e30.insert("g").attr("class", "cluster " + t10.cssClasses).attr("id", t10.id).attr("data-look", t10.look), f10 = sQ(n10.flowchart.htmlLabels), g10 = p10.insert("g").attr("class", "cluster-label "), y10 = await _m(g10, t10.label, { style: t10.labelStyle, useHtmlLabels: f10, isNode: true }), v10 = y10.getBBox();
  if (sQ(n10.flowchart.htmlLabels)) {
    let e31 = y10.children[0], t11 = c$(y10);
    v10 = e31.getBoundingClientRect(), t11.attr("width", v10.width), t11.attr("height", v10.height);
  }
  let x10 = t10.width <= v10.width + t10.padding ? v10.width + t10.padding : t10.width;
  t10.width <= v10.width + t10.padding ? t10.diff = (x10 - t10.width) / 2 - t10.padding : t10.diff = -t10.padding;
  let b10 = t10.height, k10 = t10.x - x10 / 2, w10 = t10.y - b10 / 2;
  if (iz.trace("Data ", t10, JSON.stringify(t10)), "handDrawn" === t10.look) {
    let e31 = Tm.svg(p10), n11 = TC(t10, { roughness: 0.7, fill: s10, stroke: o10, fillWeight: 3, seed: a10 }), i11 = e31.path(Tk(k10, w10, x10, b10, 0), n11);
    (r10 = p10.insert(() => (iz.debug("Rough node insert CXC", i11), i11), ":first-child")).select("path:nth-child(2)").attr("style", u10.join(";")), r10.select("path").attr("style", d10.join(";").replace("fill", "stroke"));
  } else (r10 = p10.insert("rect", ":first-child")).attr("style", h10).attr("rx", t10.rx).attr("ry", t10.ry).attr("x", k10).attr("y", w10).attr("width", x10).attr("height", b10);
  let { subGraphTitleTopMargin: _10 } = vO(n10);
  if (g10.attr("transform", `translate(${t10.x - v10.width / 2}, ${t10.y - t10.height / 2 + _10})`), l10) {
    let e31 = g10.select("span");
    e31 && e31.attr("style", l10);
  }
  let T10 = r10.node().getBBox();
  return t10.offsetX = 0, t10.width = T10.width, t10.height = T10.height, t10.offsetY = v10.height - t10.padding / 2, t10.intersect = function(e31) {
    return Ty(t10, e31);
  }, { cluster: p10, labelBBox: v10 };
}, "rect"), TA = iM((e30, t10) => {
  let r10 = e30.insert("g").attr("class", "note-cluster").attr("id", t10.id), n10 = r10.insert("rect", ":first-child"), i10 = 0 * t10.padding, a10 = i10 / 2;
  n10.attr("rx", t10.rx).attr("ry", t10.ry).attr("x", t10.x - t10.width / 2 - a10).attr("y", t10.y - t10.height / 2 - a10).attr("width", t10.width + i10).attr("height", t10.height + i10).attr("fill", "none");
  let s10 = n10.node().getBBox();
  return t10.width = s10.width, t10.height = s10.height, t10.intersect = function(e31) {
    return Ty(t10, e31);
  }, { cluster: r10, labelBBox: { width: 0, height: 0 } };
}, "noteGroup"), TL = iM(async (e30, t10) => {
  let r10;
  let n10 = aj(), { themeVariables: i10, handDrawnSeed: a10 } = n10, { altBackground: s10, compositeBackground: o10, compositeTitleBackground: l10, nodeBorder: h10 } = i10, u10 = e30.insert("g").attr("class", t10.cssClasses).attr("id", t10.id).attr("data-id", t10.id).attr("data-look", t10.look), d10 = u10.insert("g", ":first-child"), p10 = u10.insert("g").attr("class", "cluster-label"), f10 = u10.append("rect"), g10 = p10.node().appendChild(await Tb(t10.label, t10.labelStyle, void 0, true)), y10 = g10.getBBox();
  if (sQ(n10.flowchart.htmlLabels)) {
    let e31 = g10.children[0], t11 = c$(g10);
    y10 = e31.getBoundingClientRect(), t11.attr("width", y10.width), t11.attr("height", y10.height);
  }
  let v10 = 0 * t10.padding, x10 = (t10.width <= y10.width + t10.padding ? y10.width + t10.padding : t10.width) + v10;
  t10.width <= y10.width + t10.padding ? t10.diff = (x10 - t10.width) / 2 - t10.padding : t10.diff = -t10.padding;
  let b10 = t10.height + v10, k10 = t10.height + v10 - y10.height - 6, w10 = t10.x - x10 / 2, _10 = t10.y - b10 / 2;
  t10.width = x10;
  let T10 = t10.y - t10.height / 2 - v10 / 2 + y10.height + 2;
  if ("handDrawn" === t10.look) {
    let e31 = t10.cssClasses.includes("statediagram-cluster-alt"), n11 = Tm.svg(u10), i11 = t10.rx || t10.ry ? n11.path(Tk(w10, _10, x10, b10, 10), { roughness: 0.7, fill: l10, fillStyle: "solid", stroke: h10, seed: a10 }) : n11.rectangle(w10, _10, x10, b10, { seed: a10 });
    r10 = u10.insert(() => i11, ":first-child");
    let d11 = n11.rectangle(w10, T10, x10, k10, { fill: e31 ? s10 : o10, fillStyle: e31 ? "hachure" : "solid", stroke: h10, seed: a10 });
    r10 = u10.insert(() => i11, ":first-child"), f10 = u10.insert(() => d11);
  } else (r10 = d10.insert("rect", ":first-child")).attr("class", "outer").attr("x", w10).attr("y", _10).attr("width", x10).attr("height", b10).attr("data-look", t10.look), f10.attr("class", "inner").attr("x", w10).attr("y", T10).attr("width", x10).attr("height", k10);
  p10.attr("transform", `translate(${t10.x - y10.width / 2}, ${_10 + 1 - (sQ(n10.flowchart.htmlLabels) ? 0 : 3)})`);
  let S10 = r10.node().getBBox();
  return t10.height = S10.height, t10.offsetX = 0, t10.offsetY = y10.height - t10.padding / 2, t10.labelBBox = y10, t10.intersect = function(e31) {
    return Ty(t10, e31);
  }, { cluster: u10, labelBBox: y10 };
}, "roundedWithTitle"), TI = iM(async (e30, t10) => {
  let r10;
  iz.info("Creating subgraph rect for ", t10.id, t10);
  let n10 = aj(), { themeVariables: i10, handDrawnSeed: a10 } = n10, { clusterBkg: s10, clusterBorder: o10 } = i10, { labelStyles: l10, nodeStyles: h10, borderStyles: u10, backgroundStyles: d10 } = TS(t10), p10 = e30.insert("g").attr("class", "cluster " + t10.cssClasses).attr("id", t10.id).attr("data-look", t10.look), f10 = sQ(n10.flowchart.htmlLabels), g10 = p10.insert("g").attr("class", "cluster-label "), y10 = await _m(g10, t10.label, { style: t10.labelStyle, useHtmlLabels: f10, isNode: true, width: t10.width }), v10 = y10.getBBox();
  if (sQ(n10.flowchart.htmlLabels)) {
    let e31 = y10.children[0], t11 = c$(y10);
    v10 = e31.getBoundingClientRect(), t11.attr("width", v10.width), t11.attr("height", v10.height);
  }
  let x10 = t10.width <= v10.width + t10.padding ? v10.width + t10.padding : t10.width;
  t10.width <= v10.width + t10.padding ? t10.diff = (x10 - t10.width) / 2 - t10.padding : t10.diff = -t10.padding;
  let b10 = t10.height, k10 = t10.x - x10 / 2, w10 = t10.y - b10 / 2;
  if (iz.trace("Data ", t10, JSON.stringify(t10)), "handDrawn" === t10.look) {
    let e31 = Tm.svg(p10), n11 = TC(t10, { roughness: 0.7, fill: s10, stroke: o10, fillWeight: 4, seed: a10 }), i11 = e31.path(Tk(k10, w10, x10, b10, t10.rx), n11);
    (r10 = p10.insert(() => (iz.debug("Rough node insert CXC", i11), i11), ":first-child")).select("path:nth-child(2)").attr("style", u10.join(";")), r10.select("path").attr("style", d10.join(";").replace("fill", "stroke"));
  } else (r10 = p10.insert("rect", ":first-child")).attr("style", h10).attr("rx", t10.rx).attr("ry", t10.ry).attr("x", k10).attr("y", w10).attr("width", x10).attr("height", b10);
  let { subGraphTitleTopMargin: _10 } = vO(n10);
  if (g10.attr("transform", `translate(${t10.x - v10.width / 2}, ${t10.y - t10.height / 2 + _10})`), l10) {
    let e31 = g10.select("span");
    e31 && e31.attr("style", l10);
  }
  let T10 = r10.node().getBBox();
  return t10.offsetX = 0, t10.width = T10.width, t10.height = T10.height, t10.offsetY = v10.height - t10.padding / 2, t10.intersect = function(e31) {
    return Ty(t10, e31);
  }, { cluster: p10, labelBBox: v10 };
}, "kanbanSection"), TM = { rect: TE, squareRect: TE, roundedWithTitle: TL, noteGroup: TA, divider: iM((e30, t10) => {
  let r10;
  let { themeVariables: n10, handDrawnSeed: i10 } = aj(), { nodeBorder: a10 } = n10, s10 = e30.insert("g").attr("class", t10.cssClasses).attr("id", t10.id).attr("data-look", t10.look), o10 = s10.insert("g", ":first-child"), l10 = 0 * t10.padding, h10 = t10.width + l10;
  t10.diff = -t10.padding;
  let u10 = t10.height + l10, d10 = t10.x - h10 / 2, p10 = t10.y - u10 / 2;
  if (t10.width = h10, "handDrawn" === t10.look) {
    let e31 = Tm.svg(s10).rectangle(d10, p10, h10, u10, { fill: "lightgrey", roughness: 0.5, strokeLineDash: [5], stroke: a10, seed: i10 });
    r10 = s10.insert(() => e31, ":first-child");
  } else (r10 = o10.insert("rect", ":first-child")).attr("class", "divider").attr("x", d10).attr("y", p10).attr("width", h10).attr("height", u10).attr("data-look", t10.look);
  let f10 = r10.node().getBBox();
  return t10.height = f10.height, t10.offsetX = 0, t10.offsetY = 0, t10.intersect = function(e31) {
    return Ty(t10, e31);
  }, { cluster: s10, labelBBox: {} };
}, "divider"), kanbanSection: TI }, TN = /* @__PURE__ */ new Map(), TR = iM(async (e30, t10) => {
  let r10 = t10.shape || "rect", n10 = await TM[r10](e30, t10);
  return TN.set(t10.id, n10), n10;
}, "insertCluster"), TD = iM(() => {
  TN = /* @__PURE__ */ new Map();
}, "clear");
function TO(e30, t10, r10, n10) {
  var i10 = e30.x, a10 = e30.y, s10 = i10 - n10.x, o10 = a10 - n10.y, l10 = Math.sqrt(t10 * t10 * o10 * o10 + r10 * r10 * s10 * s10), h10 = Math.abs(t10 * r10 * s10 / l10);
  n10.x < i10 && (h10 = -h10);
  var u10 = Math.abs(t10 * r10 * o10 / l10);
  return n10.y < a10 && (u10 = -u10), { x: i10 + h10, y: a10 + u10 };
}
function T$(e30, t10, r10) {
  return TO(e30, t10, t10, r10);
}
function TP(e30, t10, r10, n10) {
  var i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10;
  if (i10 = t10.y - e30.y, s10 = e30.x - t10.x, l10 = t10.x * e30.y - e30.x * t10.y, p10 = i10 * r10.x + s10 * r10.y + l10, f10 = i10 * n10.x + s10 * n10.y + l10, !(0 !== p10 && 0 !== f10 && TB(p10, f10)) && (a10 = n10.y - r10.y, o10 = r10.x - n10.x, h10 = n10.x * r10.y - r10.x * n10.y, u10 = a10 * e30.x + o10 * e30.y + h10, d10 = a10 * t10.x + o10 * t10.y + h10, !(0 !== u10 && 0 !== d10 && TB(u10, d10)) && 0 != (g10 = i10 * o10 - a10 * s10))) return y10 = Math.abs(g10 / 2), { x: (v10 = s10 * h10 - o10 * l10) < 0 ? (v10 - y10) / g10 : (v10 + y10) / g10, y: (v10 = a10 * l10 - i10 * h10) < 0 ? (v10 - y10) / g10 : (v10 + y10) / g10 };
}
function TB(e30, t10) {
  return e30 * t10 > 0;
}
function TF(e30, t10, r10) {
  let n10 = e30.x, i10 = e30.y, a10 = [], s10 = Number.POSITIVE_INFINITY, o10 = Number.POSITIVE_INFINITY;
  "function" == typeof t10.forEach ? t10.forEach(function(e31) {
    s10 = Math.min(s10, e31.x), o10 = Math.min(o10, e31.y);
  }) : (s10 = Math.min(s10, t10.x), o10 = Math.min(o10, t10.y));
  let l10 = n10 - e30.width / 2 - s10, h10 = i10 - e30.height / 2 - o10;
  for (let n11 = 0; n11 < t10.length; n11++) {
    let i11 = t10[n11], s11 = t10[n11 < t10.length - 1 ? n11 + 1 : 0], o11 = TP(e30, r10, { x: l10 + i11.x, y: h10 + i11.y }, { x: l10 + s11.x, y: h10 + s11.y });
    o11 && a10.push(o11);
  }
  return a10.length ? (a10.length > 1 && a10.sort(function(e31, t11) {
    let n11 = e31.x - r10.x, i11 = e31.y - r10.y, a11 = Math.sqrt(n11 * n11 + i11 * i11), s11 = t11.x - r10.x, o11 = t11.y - r10.y, l11 = Math.sqrt(s11 * s11 + o11 * o11);
    return a11 < l11 ? -1 : a11 === l11 ? 0 : 1;
  }), a10[0]) : e30;
}
iM(function(e30, t10) {
  return e30.intersect(t10);
}, "intersectNode"), iM(TO, "intersectEllipse"), iM(T$, "intersectCircle"), iM(TP, "intersectLine"), iM(TB, "sameSign"), iM(TF, "intersectPolygon");
var Tz = { circle: T$, polygon: TF, rect: Ty };
function Tj(e30, t10) {
  let { labelStyles: r10 } = TS(t10);
  t10.labelStyle = r10;
  let n10 = _b(t10), i10 = n10;
  n10 || (i10 = "anchor");
  let a10 = e30.insert("g").attr("class", i10).attr("id", t10.domId || t10.id), { cssStyles: s10 } = t10, o10 = Tm.svg(a10), l10 = TC(t10, { fill: "black", stroke: "none", fillStyle: "solid" });
  "handDrawn" !== t10.look && (l10.roughness = 0);
  let h10 = o10.circle(0, 0, 2, l10), u10 = a10.insert(() => h10, ":first-child");
  return u10.attr("class", "anchor").attr("style", k6(s10)), _x(t10, u10), t10.intersect = function(e31) {
    return iz.info("Circle intersect", t10, 1, e31), Tz.circle(t10, 1, e31);
  }, a10;
}
function Tq(e30, t10, r10, n10, i10, a10, s10) {
  let o10 = Math.atan2(n10 - t10, r10 - e30), l10 = Math.sqrt(((r10 - e30) / 2 / i10) ** 2 + ((n10 - t10) / 2 / a10) ** 2);
  if (l10 > 1) throw Error("The given radii are too small to create an arc between the points.");
  let h10 = Math.sqrt(1 - l10 ** 2), u10 = (e30 + r10) / 2 + h10 * a10 * Math.sin(o10) * (s10 ? -1 : 1), d10 = (t10 + n10) / 2 - h10 * i10 * Math.cos(o10) * (s10 ? -1 : 1), p10 = Math.atan2((t10 - d10) / a10, (e30 - u10) / i10), f10 = Math.atan2((n10 - d10) / a10, (r10 - u10) / i10) - p10;
  s10 && f10 < 0 && (f10 += 2 * Math.PI), !s10 && f10 > 0 && (f10 -= 2 * Math.PI);
  let g10 = [];
  for (let e31 = 0; e31 < 20; e31++) {
    let t11 = p10 + e31 / 19 * f10, r11 = u10 + i10 * Math.cos(t11), n11 = d10 + a10 * Math.sin(t11);
    g10.push({ x: r11, y: n11 });
  }
  return g10;
}
async function TU(e30, t10) {
  let { labelStyles: r10, nodeStyles: n10 } = TS(t10);
  t10.labelStyle = r10;
  let { shapeSvg: i10, bbox: a10 } = await _y(e30, t10, _b(t10)), s10 = a10.width + t10.padding + 20, o10 = a10.height + t10.padding, l10 = o10 / 2, h10 = l10 / (2.5 + o10 / 50), { cssStyles: u10 } = t10, d10 = [{ x: s10 / 2, y: -o10 / 2 }, { x: -s10 / 2, y: -o10 / 2 }, ...Tq(-s10 / 2, -o10 / 2, -s10 / 2, o10 / 2, h10, l10, false), { x: s10 / 2, y: o10 / 2 }, ...Tq(s10 / 2, o10 / 2, s10 / 2, -o10 / 2, h10, l10, true)], p10 = Tm.svg(i10), f10 = TC(t10, {});
  "handDrawn" !== t10.look && (f10.roughness = 0, f10.fillStyle = "solid");
  let g10 = _k(d10), y10 = p10.path(g10, f10), v10 = i10.insert(() => y10, ":first-child");
  return v10.attr("class", "basic label-container"), u10 && "handDrawn" !== t10.look && v10.selectAll("path").attr("style", u10), n10 && "handDrawn" !== t10.look && v10.selectAll("path").attr("style", n10), v10.attr("transform", `translate(${h10 / 2}, 0)`), _x(t10, v10), t10.intersect = function(e31) {
    return Tz.polygon(t10, d10, e31);
  }, i10;
}
function TW(e30, t10, r10, n10) {
  return e30.insert("polygon", ":first-child").attr("points", n10.map(function(e31) {
    return e31.x + "," + e31.y;
  }).join(" ")).attr("class", "label-container").attr("transform", "translate(" + -t10 / 2 + "," + r10 / 2 + ")");
}
async function TV(e30, t10) {
  let r10;
  let { labelStyles: n10, nodeStyles: i10 } = TS(t10);
  t10.labelStyle = n10;
  let { shapeSvg: a10, bbox: s10 } = await _y(e30, t10, _b(t10)), o10 = s10.height + t10.padding, l10 = s10.width + t10.padding + 12, h10 = -o10, u10 = [{ x: 12, y: h10 }, { x: l10, y: h10 }, { x: l10, y: 0 }, { x: 0, y: 0 }, { x: 0, y: h10 + 12 }, { x: 12, y: h10 }], { cssStyles: d10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(a10), n11 = TC(t10, {}), i11 = _k(u10), s11 = e31.path(i11, n11);
    r10 = a10.insert(() => s11, ":first-child").attr("transform", `translate(${-l10 / 2}, ${o10 / 2})`), d10 && r10.attr("style", d10);
  } else r10 = TW(a10, l10, o10, u10);
  return i10 && r10.attr("style", i10), _x(t10, r10), t10.intersect = function(e31) {
    return Tz.polygon(t10, u10, e31);
  }, a10;
}
function TH(e30, t10) {
  var r10, n10;
  let { nodeStyles: i10 } = TS(t10);
  t10.label = "";
  let a10 = e30.insert("g").attr("class", _b(t10)).attr("id", null !== (r10 = t10.domId) && void 0 !== r10 ? r10 : t10.id), { cssStyles: s10 } = t10, o10 = Math.max(28, null !== (n10 = t10.width) && void 0 !== n10 ? n10 : 0), l10 = [{ x: 0, y: o10 / 2 }, { x: o10 / 2, y: 0 }, { x: 0, y: -o10 / 2 }, { x: -o10 / 2, y: 0 }], h10 = Tm.svg(a10), u10 = TC(t10, {});
  "handDrawn" !== t10.look && (u10.roughness = 0, u10.fillStyle = "solid");
  let d10 = _k(l10), p10 = h10.path(d10, u10), f10 = a10.insert(() => p10, ":first-child");
  return s10 && "handDrawn" !== t10.look && f10.selectAll("path").attr("style", s10), i10 && "handDrawn" !== t10.look && f10.selectAll("path").attr("style", i10), t10.width = 28, t10.height = 28, t10.intersect = function(e31) {
    return Tz.polygon(t10, l10, e31);
  }, a10;
}
async function TY(e30, t10) {
  let r10;
  let { labelStyles: n10, nodeStyles: i10 } = TS(t10);
  t10.labelStyle = n10;
  let { shapeSvg: a10, bbox: s10, halfPadding: o10 } = await _y(e30, t10, _b(t10)), l10 = s10.width / 2 + o10, { cssStyles: h10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(a10), n11 = TC(t10, {}), i11 = e31.circle(0, 0, 2 * l10, n11);
    (r10 = a10.insert(() => i11, ":first-child")).attr("class", "basic label-container").attr("style", k6(h10));
  } else r10 = a10.insert("circle", ":first-child").attr("class", "basic label-container").attr("style", i10).attr("r", l10).attr("cx", 0).attr("cy", 0);
  return _x(t10, r10), t10.intersect = function(e31) {
    return iz.info("Circle intersect", t10, l10, e31), Tz.circle(t10, l10, e31);
  }, a10;
}
function TG(e30) {
  let t10 = Math.cos(Math.PI / 4), r10 = Math.sin(Math.PI / 4), n10 = 2 * e30, i10 = { x: n10 / 2 * t10, y: n10 / 2 * r10 }, a10 = { x: -(n10 / 2) * t10, y: n10 / 2 * r10 }, s10 = { x: -(n10 / 2) * t10, y: -(n10 / 2) * r10 }, o10 = { x: n10 / 2 * t10, y: -(n10 / 2) * r10 };
  return `M ${a10.x},${a10.y} L ${o10.x},${o10.y}
                   M ${i10.x},${i10.y} L ${s10.x},${s10.y}`;
}
function TX(e30, t10) {
  var r10, n10;
  let { labelStyles: i10, nodeStyles: a10 } = TS(t10);
  t10.labelStyle = i10, t10.label = "";
  let s10 = e30.insert("g").attr("class", _b(t10)).attr("id", null !== (r10 = t10.domId) && void 0 !== r10 ? r10 : t10.id), o10 = Math.max(30, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), { cssStyles: l10 } = t10, h10 = Tm.svg(s10), u10 = TC(t10, {});
  "handDrawn" !== t10.look && (u10.roughness = 0, u10.fillStyle = "solid");
  let d10 = h10.circle(0, 0, 2 * o10, u10), p10 = TG(o10), f10 = h10.path(p10, u10), g10 = s10.insert(() => d10, ":first-child");
  return g10.insert(() => f10), l10 && "handDrawn" !== t10.look && g10.selectAll("path").attr("style", l10), a10 && "handDrawn" !== t10.look && g10.selectAll("path").attr("style", a10), _x(t10, g10), t10.intersect = function(e31) {
    return iz.info("crossedCircle intersect", t10, { radius: o10, point: e31 }), Tz.circle(t10, o10, e31);
  }, s10;
}
function TK(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100, i10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 180, s10 = [], o10 = i10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - o10) / (n10 - 1);
  for (let i11 = 0; i11 < n10; i11++) {
    let n11 = o10 + i11 * l10, a11 = e30 + r10 * Math.cos(n11), h10 = t10 + r10 * Math.sin(n11);
    s10.push({ x: -a11, y: -h10 });
  }
  return s10;
}
async function TZ(e30, t10) {
  var r10, n10, i10, a10, s10;
  let { labelStyles: o10, nodeStyles: l10 } = TS(t10);
  t10.labelStyle = o10;
  let { shapeSvg: h10, bbox: u10, label: d10 } = await _y(e30, t10, _b(t10)), p10 = u10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), f10 = u10.height + (null !== (n10 = t10.padding) && void 0 !== n10 ? n10 : 0), g10 = Math.max(5, 0.1 * f10), { cssStyles: y10 } = t10, v10 = [...TK(p10 / 2, -f10 / 2, g10, 30, -90, 0), { x: -p10 / 2 - g10, y: g10 }, ...TK(p10 / 2 + 2 * g10, -g10, g10, 20, -180, -270), ...TK(p10 / 2 + 2 * g10, g10, g10, 20, -90, -180), { x: -p10 / 2 - g10, y: -f10 / 2 }, ...TK(p10 / 2, f10 / 2, g10, 20, 0, 90)], x10 = [{ x: p10 / 2, y: -f10 / 2 - g10 }, { x: -p10 / 2, y: -f10 / 2 - g10 }, ...TK(p10 / 2, -f10 / 2, g10, 20, -90, 0), { x: -p10 / 2 - g10, y: -g10 }, ...TK(p10 / 2 + 0.1 * p10, -g10, g10, 20, -180, -270), ...TK(p10 / 2 + 0.1 * p10, g10, g10, 20, -90, -180), { x: -p10 / 2 - g10, y: f10 / 2 }, ...TK(p10 / 2, f10 / 2, g10, 20, 0, 90), { x: -p10 / 2, y: f10 / 2 + g10 }, { x: p10 / 2, y: f10 / 2 + g10 }], b10 = Tm.svg(h10), k10 = TC(t10, { fill: "none" });
  "handDrawn" !== t10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let w10 = _k(v10).replace("Z", ""), _10 = b10.path(w10, k10), T10 = _k(x10), S10 = b10.path(T10, { ...k10 }), C10 = h10.insert("g", ":first-child");
  return C10.insert(() => S10, ":first-child").attr("stroke-opacity", 0), C10.insert(() => _10, ":first-child"), C10.attr("class", "text"), y10 && "handDrawn" !== t10.look && C10.selectAll("path").attr("style", y10), l10 && "handDrawn" !== t10.look && C10.selectAll("path").attr("style", l10), C10.attr("transform", `translate(${g10}, 0)`), d10.attr("transform", `translate(${-p10 / 2 + g10 - (u10.x - (null !== (i10 = u10.left) && void 0 !== i10 ? i10 : 0))},${-f10 / 2 + (null !== (a10 = t10.padding) && void 0 !== a10 ? a10 : 0) / 2 - (u10.y - (null !== (s10 = u10.top) && void 0 !== s10 ? s10 : 0))})`), _x(t10, C10), t10.intersect = function(e31) {
    return Tz.polygon(t10, x10, e31);
  }, h10;
}
function TQ(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100, i10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 180, s10 = [], o10 = i10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - o10) / (n10 - 1);
  for (let i11 = 0; i11 < n10; i11++) {
    let n11 = o10 + i11 * l10, a11 = e30 + r10 * Math.cos(n11), h10 = t10 + r10 * Math.sin(n11);
    s10.push({ x: a11, y: h10 });
  }
  return s10;
}
async function TJ(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  let { labelStyles: l10, nodeStyles: h10 } = TS(t10);
  t10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await _y(e30, t10, _b(t10)), f10 = d10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), g10 = d10.height + (null !== (n10 = t10.padding) && void 0 !== n10 ? n10 : 0), y10 = Math.max(5, 0.1 * g10), { cssStyles: v10 } = t10, x10 = [...TQ(f10 / 2, -g10 / 2, y10, 20, -90, 0), { x: f10 / 2 + y10, y: -y10 }, ...TQ(f10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...TQ(f10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: f10 / 2 + y10, y: g10 / 2 }, ...TQ(f10 / 2, g10 / 2, y10, 20, 0, 90)], b10 = [{ x: -f10 / 2, y: -g10 / 2 - y10 }, { x: f10 / 2, y: -g10 / 2 - y10 }, ...TQ(f10 / 2, -g10 / 2, y10, 20, -90, 0), { x: f10 / 2 + y10, y: -y10 }, ...TQ(f10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...TQ(f10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: f10 / 2 + y10, y: g10 / 2 }, ...TQ(f10 / 2, g10 / 2, y10, 20, 0, 90), { x: f10 / 2, y: g10 / 2 + y10 }, { x: -f10 / 2, y: g10 / 2 + y10 }], k10 = Tm.svg(u10), w10 = TC(t10, { fill: "none" });
  "handDrawn" !== t10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let _10 = _k(x10).replace("Z", ""), T10 = k10.path(_10, w10), S10 = _k(b10), C10 = k10.path(S10, { ...w10 }), E10 = u10.insert("g", ":first-child");
  return E10.insert(() => C10, ":first-child").attr("stroke-opacity", 0), E10.insert(() => T10, ":first-child"), E10.attr("class", "text"), v10 && "handDrawn" !== t10.look && E10.selectAll("path").attr("style", v10), h10 && "handDrawn" !== t10.look && E10.selectAll("path").attr("style", h10), E10.attr("transform", `translate(${-y10}, 0)`), p10.attr("transform", `translate(${-f10 / 2 + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) / 2 - (d10.x - (null !== (a10 = d10.left) && void 0 !== a10 ? a10 : 0))},${-g10 / 2 + (null !== (s10 = t10.padding) && void 0 !== s10 ? s10 : 0) / 2 - (d10.y - (null !== (o10 = d10.top) && void 0 !== o10 ? o10 : 0))})`), _x(t10, E10), t10.intersect = function(e31) {
    return Tz.polygon(t10, b10, e31);
  }, u10;
}
function T0(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100, i10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 180, s10 = [], o10 = i10 * Math.PI / 180, l10 = (a10 * Math.PI / 180 - o10) / (n10 - 1);
  for (let i11 = 0; i11 < n10; i11++) {
    let n11 = o10 + i11 * l10, a11 = e30 + r10 * Math.cos(n11), h10 = t10 + r10 * Math.sin(n11);
    s10.push({ x: -a11, y: -h10 });
  }
  return s10;
}
async function T1(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  let { labelStyles: l10, nodeStyles: h10 } = TS(t10);
  t10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await _y(e30, t10, _b(t10)), f10 = d10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), g10 = d10.height + (null !== (n10 = t10.padding) && void 0 !== n10 ? n10 : 0), y10 = Math.max(5, 0.1 * g10), { cssStyles: v10 } = t10, x10 = [...T0(f10 / 2, -g10 / 2, y10, 30, -90, 0), { x: -f10 / 2 - y10, y: y10 }, ...T0(f10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...T0(f10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: -f10 / 2 - y10, y: -g10 / 2 }, ...T0(f10 / 2, g10 / 2, y10, 20, 0, 90)], b10 = [...T0(-f10 / 2 + y10 + y10 / 2, -g10 / 2, y10, 20, -90, -180), { x: f10 / 2 - y10 / 2, y: y10 }, ...T0(-f10 / 2 - y10 / 2, -y10, y10, 20, 0, 90), ...T0(-f10 / 2 - y10 / 2, y10, y10, 20, -90, 0), { x: f10 / 2 - y10 / 2, y: -y10 }, ...T0(-f10 / 2 + y10 + y10 / 2, g10 / 2, y10, 30, -180, -270)], k10 = [{ x: f10 / 2, y: -g10 / 2 - y10 }, { x: -f10 / 2, y: -g10 / 2 - y10 }, ...T0(f10 / 2, -g10 / 2, y10, 20, -90, 0), { x: -f10 / 2 - y10, y: -y10 }, ...T0(f10 / 2 + 2 * y10, -y10, y10, 20, -180, -270), ...T0(f10 / 2 + 2 * y10, y10, y10, 20, -90, -180), { x: -f10 / 2 - y10, y: g10 / 2 }, ...T0(f10 / 2, g10 / 2, y10, 20, 0, 90), { x: -f10 / 2, y: g10 / 2 + y10 }, { x: f10 / 2 - y10 - y10 / 2, y: g10 / 2 + y10 }, ...T0(-f10 / 2 + y10 + y10 / 2, -g10 / 2, y10, 20, -90, -180), { x: f10 / 2 - y10 / 2, y: y10 }, ...T0(-f10 / 2 - y10 / 2, -y10, y10, 20, 0, 90), ...T0(-f10 / 2 - y10 / 2, y10, y10, 20, -90, 0), { x: f10 / 2 - y10 / 2, y: -y10 }, ...T0(-f10 / 2 + y10 + y10 / 2, g10 / 2, y10, 30, -180, -270)], w10 = Tm.svg(u10), _10 = TC(t10, { fill: "none" });
  "handDrawn" !== t10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = _k(x10).replace("Z", ""), S10 = w10.path(T10, _10), C10 = _k(b10).replace("Z", ""), E10 = w10.path(C10, _10), A10 = _k(k10), L10 = w10.path(A10, { ..._10 }), I10 = u10.insert("g", ":first-child");
  return I10.insert(() => L10, ":first-child").attr("stroke-opacity", 0), I10.insert(() => S10, ":first-child"), I10.insert(() => E10, ":first-child"), I10.attr("class", "text"), v10 && "handDrawn" !== t10.look && I10.selectAll("path").attr("style", v10), h10 && "handDrawn" !== t10.look && I10.selectAll("path").attr("style", h10), I10.attr("transform", `translate(${y10 - y10 / 4}, 0)`), p10.attr("transform", `translate(${-f10 / 2 + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) / 2 - (d10.x - (null !== (a10 = d10.left) && void 0 !== a10 ? a10 : 0))},${-g10 / 2 + (null !== (s10 = t10.padding) && void 0 !== s10 ? s10 : 0) / 2 - (d10.y - (null !== (o10 = d10.top) && void 0 !== o10 ? o10 : 0))})`), _x(t10, I10), t10.intersect = function(e31) {
    return Tz.polygon(t10, k10, e31);
  }, u10;
}
async function T2(e30, t10) {
  var r10, n10, i10, a10;
  let { labelStyles: s10, nodeStyles: o10 } = TS(t10);
  t10.labelStyle = s10;
  let { shapeSvg: l10, bbox: h10 } = await _y(e30, t10, _b(t10)), u10 = Math.max(80, (h10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2) * 1.25, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), d10 = Math.max(20, h10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), p10 = d10 / 2, { cssStyles: f10 } = t10, g10 = Tm.svg(l10), y10 = TC(t10, {});
  "handDrawn" !== t10.look && (y10.roughness = 0, y10.fillStyle = "solid");
  let v10 = u10 - p10, x10 = d10 / 4, b10 = [{ x: v10, y: 0 }, { x: x10, y: 0 }, { x: 0, y: d10 / 2 }, { x: x10, y: d10 }, { x: v10, y: d10 }, ...__(-v10, -d10 / 2, p10, 50, 270, 90)], k10 = _k(b10), w10 = g10.path(k10, y10), _10 = l10.insert(() => w10, ":first-child");
  return _10.attr("class", "basic label-container"), f10 && "handDrawn" !== t10.look && _10.selectChildren("path").attr("style", f10), o10 && "handDrawn" !== t10.look && _10.selectChildren("path").attr("style", o10), _10.attr("transform", `translate(${-u10 / 2}, ${-d10 / 2})`), _x(t10, _10), t10.intersect = function(e31) {
    return Tz.polygon(t10, b10, e31);
  }, l10;
}
iM(Tj, "anchor"), iM(Tq, "generateArcPoints"), iM(TU, "bowTieRect"), iM(TW, "insertPolygonShape"), iM(TV, "card"), iM(TH, "choice"), iM(TY, "circle"), iM(TG, "createLine"), iM(TX, "crossedCircle"), iM(TK, "generateCirclePoints"), iM(TZ, "curlyBraceLeft"), iM(TQ, "generateCirclePoints"), iM(TJ, "curlyBraceRight"), iM(T0, "generateCirclePoints"), iM(T1, "curlyBraces"), iM(T2, "curvedTrapezoid");
var T4 = iM((e30, t10, r10, n10, i10, a10) => `M${e30},${t10 + a10} a${i10},${a10} 0,0,0 ${r10},0 a${i10},${a10} 0,0,0 ${-r10},0 l0,${n10} a${i10},${a10} 0,0,0 ${r10},0 l0,${-n10}`, "createCylinderPathD"), T3 = iM((e30, t10, r10, n10, i10, a10) => `M${e30},${t10 + a10} M${e30 + r10},${t10 + a10} a${i10},${a10} 0,0,0 ${-r10},0 l0,${n10} a${i10},${a10} 0,0,0 ${r10},0 l0,${-n10}`, "createOuterCylinderPathD"), T5 = iM((e30, t10, r10, n10, i10, a10) => `M${e30 - r10 / 2},${-n10 / 2} a${i10},${a10} 0,0,0 ${r10},0`, "createInnerCylinderPathD");
async function T6(e30, t10) {
  var r10, n10, i10, a10, s10;
  let o10;
  let { labelStyles: l10, nodeStyles: h10 } = TS(t10);
  t10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await _y(e30, t10, _b(t10)), f10 = Math.max(d10.width + t10.padding, null !== (r10 = t10.width) && void 0 !== r10 ? r10 : 0), g10 = f10 / 2, y10 = g10 / (2.5 + f10 / 50), v10 = Math.max(d10.height + y10 + t10.padding, null !== (n10 = t10.height) && void 0 !== n10 ? n10 : 0), { cssStyles: x10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(u10), r11 = T3(0, 0, f10, v10, g10, y10), n11 = T5(0, y10, f10, v10, g10, y10), i11 = e31.path(r11, TC(t10, {})), a11 = e31.path(n11, TC(t10, { fill: "none" }));
    o10 = u10.insert(() => a11, ":first-child"), (o10 = u10.insert(() => i11, ":first-child")).attr("class", "basic label-container"), x10 && o10.attr("style", x10);
  } else {
    let e31 = T4(0, 0, f10, v10, g10, y10);
    o10 = u10.insert("path", ":first-child").attr("d", e31).attr("class", "basic label-container").attr("style", k6(x10)).attr("style", h10);
  }
  return o10.attr("label-offset-y", y10), o10.attr("transform", `translate(${-f10 / 2}, ${-(v10 / 2 + y10)})`), _x(t10, o10), p10.attr("transform", `translate(${-(d10.width / 2) - (d10.x - (null !== (i10 = d10.left) && void 0 !== i10 ? i10 : 0))}, ${-(d10.height / 2) + (null !== (a10 = t10.padding) && void 0 !== a10 ? a10 : 0) / 1.5 - (d10.y - (null !== (s10 = d10.top) && void 0 !== s10 ? s10 : 0))})`), t10.intersect = function(e31) {
    var r11, n11, i11, a11, s11, o11;
    let l11 = Tz.rect(t10, e31), h11 = l11.x - (null !== (r11 = t10.x) && void 0 !== r11 ? r11 : 0);
    if (0 != g10 && (Math.abs(h11) < (null !== (n11 = t10.width) && void 0 !== n11 ? n11 : 0) / 2 || Math.abs(h11) == (null !== (i11 = t10.width) && void 0 !== i11 ? i11 : 0) / 2 && Math.abs(l11.y - (null !== (a11 = t10.y) && void 0 !== a11 ? a11 : 0)) > (null !== (s11 = t10.height) && void 0 !== s11 ? s11 : 0) / 2 - y10)) {
      let r12 = y10 * y10 * (1 - h11 * h11 / (g10 * g10));
      r12 > 0 && (r12 = Math.sqrt(r12)), r12 = y10 - r12, e31.y - (null !== (o11 = t10.y) && void 0 !== o11 ? o11 : 0) > 0 && (r12 = -r12), l11.y += r12;
    }
    return l11;
  }, u10;
}
async function T7(e30, t10) {
  var r10, n10, i10, a10;
  let { labelStyles: s10, nodeStyles: o10 } = TS(t10);
  t10.labelStyle = s10;
  let { shapeSvg: l10, bbox: h10, label: u10 } = await _y(e30, t10, _b(t10)), d10 = h10.width + t10.padding, p10 = h10.height + t10.padding, f10 = 0.2 * p10, g10 = -d10 / 2, y10 = -p10 / 2 - f10 / 2, { cssStyles: v10 } = t10, x10 = Tm.svg(l10), b10 = TC(t10, {});
  "handDrawn" !== t10.look && (b10.roughness = 0, b10.fillStyle = "solid");
  let k10 = x10.polygon([{ x: g10, y: y10 + f10 }, { x: -g10, y: y10 + f10 }, { x: -g10, y: -y10 }, { x: g10, y: -y10 }, { x: g10, y: y10 }, { x: -g10, y: y10 }, { x: -g10, y: y10 + f10 }].map((e31) => [e31.x, e31.y]), b10), w10 = l10.insert(() => k10, ":first-child");
  return w10.attr("class", "basic label-container"), v10 && "handDrawn" !== t10.look && w10.selectAll("path").attr("style", v10), o10 && "handDrawn" !== t10.look && w10.selectAll("path").attr("style", o10), u10.attr("transform", `translate(${g10 + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) / 2 - (h10.x - (null !== (n10 = h10.left) && void 0 !== n10 ? n10 : 0))}, ${y10 + f10 + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) / 2 - (h10.y - (null !== (a10 = h10.top) && void 0 !== a10 ? a10 : 0))})`), _x(t10, w10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, l10;
}
async function T8(e30, t10) {
  let r10;
  let { labelStyles: n10, nodeStyles: i10 } = TS(t10);
  t10.labelStyle = n10;
  let { shapeSvg: a10, bbox: s10, halfPadding: o10 } = await _y(e30, t10, _b(t10)), l10 = s10.width / 2 + o10 + 5, h10 = s10.width / 2 + o10, { cssStyles: u10 } = t10;
  if ("handDrawn" === t10.look) {
    var d10, p10;
    let e31 = Tm.svg(a10), n11 = TC(t10, { roughness: 0.2, strokeWidth: 2.5 }), i11 = TC(t10, { roughness: 0.2, strokeWidth: 1.5 }), s11 = e31.circle(0, 0, 2 * l10, n11), o11 = e31.circle(0, 0, 2 * h10, i11);
    (r10 = a10.insert("g", ":first-child")).attr("class", k6(t10.cssClasses)).attr("style", k6(u10)), null === (d10 = r10.node()) || void 0 === d10 || d10.appendChild(s11), null === (p10 = r10.node()) || void 0 === p10 || p10.appendChild(o11);
  } else {
    let e31 = (r10 = a10.insert("g", ":first-child")).insert("circle", ":first-child"), t11 = r10.insert("circle");
    r10.attr("class", "basic label-container").attr("style", i10), e31.attr("class", "outer-circle").attr("style", i10).attr("r", l10).attr("cx", 0).attr("cy", 0), t11.attr("class", "inner-circle").attr("style", i10).attr("r", h10).attr("cx", 0).attr("cy", 0);
  }
  return _x(t10, r10), t10.intersect = function(e31) {
    return iz.info("DoubleCircle intersect", t10, l10, e31), Tz.circle(t10, l10, e31);
  }, a10;
}
function T9(e30, t10, r10) {
  var n10;
  let { config: { themeVariables: i10 } } = r10, { labelStyles: a10, nodeStyles: s10 } = TS(t10);
  t10.label = "", t10.labelStyle = a10;
  let o10 = e30.insert("g").attr("class", _b(t10)).attr("id", null !== (n10 = t10.domId) && void 0 !== n10 ? n10 : t10.id), { cssStyles: l10 } = t10, h10 = Tm.svg(o10), { nodeBorder: u10 } = i10, d10 = TC(t10, { fillStyle: "solid" });
  "handDrawn" !== t10.look && (d10.roughness = 0);
  let p10 = h10.circle(0, 0, 14, d10), f10 = o10.insert(() => p10, ":first-child");
  return f10.selectAll("path").attr("style", `fill: ${u10} !important;`), l10 && l10.length > 0 && "handDrawn" !== t10.look && f10.selectAll("path").attr("style", l10), s10 && "handDrawn" !== t10.look && f10.selectAll("path").attr("style", s10), _x(t10, f10), t10.intersect = function(e31) {
    return iz.info("filledCircle intersect", t10, { radius: 7, point: e31 }), Tz.circle(t10, 7, e31);
  }, o10;
}
async function Se(e30, t10) {
  var r10, n10, i10, a10;
  let { labelStyles: s10, nodeStyles: o10 } = TS(t10);
  t10.labelStyle = s10;
  let { shapeSvg: l10, bbox: h10, label: u10 } = await _y(e30, t10, _b(t10)), d10 = h10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), p10 = d10 + h10.height, f10 = d10 + h10.height, g10 = [{ x: 0, y: -p10 }, { x: f10, y: -p10 }, { x: f10 / 2, y: 0 }], { cssStyles: y10 } = t10, v10 = Tm.svg(l10), x10 = TC(t10, {});
  "handDrawn" !== t10.look && (x10.roughness = 0, x10.fillStyle = "solid");
  let b10 = _k(g10), k10 = v10.path(b10, x10), w10 = l10.insert(() => k10, ":first-child").attr("transform", `translate(${-p10 / 2}, ${p10 / 2})`);
  return y10 && "handDrawn" !== t10.look && w10.selectChildren("path").attr("style", y10), o10 && "handDrawn" !== t10.look && w10.selectChildren("path").attr("style", o10), t10.width = d10, t10.height = p10, _x(t10, w10), u10.attr("transform", `translate(${-h10.width / 2 - (h10.x - (null !== (n10 = h10.left) && void 0 !== n10 ? n10 : 0))}, ${-p10 / 2 + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) / 2 + (h10.y - (null !== (a10 = h10.top) && void 0 !== a10 ? a10 : 0))})`), t10.intersect = function(e31) {
    return iz.info("Triangle intersect", t10, g10, e31), Tz.polygon(t10, g10, e31);
  }, l10;
}
function St(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10;
  let { dir: h10, config: { state: u10, themeVariables: d10 } } = r10, { nodeStyles: p10 } = TS(t10);
  t10.label = "";
  let f10 = e30.insert("g").attr("class", _b(t10)).attr("id", null !== (n10 = t10.domId) && void 0 !== n10 ? n10 : t10.id), { cssStyles: g10 } = t10, y10 = Math.max(70, null !== (i10 = null == t10 ? void 0 : t10.width) && void 0 !== i10 ? i10 : 0), v10 = Math.max(10, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0);
  "LR" === h10 && (y10 = Math.max(10, null !== (s10 = null == t10 ? void 0 : t10.width) && void 0 !== s10 ? s10 : 0), v10 = Math.max(70, null !== (o10 = null == t10 ? void 0 : t10.height) && void 0 !== o10 ? o10 : 0));
  let x10 = -1 * y10 / 2, b10 = -1 * v10 / 2, k10 = Tm.svg(f10), w10 = TC(t10, { stroke: d10.lineColor, fill: d10.lineColor });
  "handDrawn" !== t10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let _10 = k10.rectangle(x10, b10, y10, v10, w10), T10 = f10.insert(() => _10, ":first-child");
  g10 && "handDrawn" !== t10.look && T10.selectAll("path").attr("style", g10), p10 && "handDrawn" !== t10.look && T10.selectAll("path").attr("style", p10), _x(t10, T10);
  let S10 = null !== (l10 = null == u10 ? void 0 : u10.padding) && void 0 !== l10 ? l10 : 0;
  return t10.width && t10.height && (t10.width += S10 / 2 || 0, t10.height += S10 / 2 || 0), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, f10;
}
async function Sr(e30, t10) {
  var r10, n10, i10, a10;
  let { labelStyles: s10, nodeStyles: o10 } = TS(t10);
  t10.labelStyle = s10;
  let { shapeSvg: l10, bbox: h10 } = await _y(e30, t10, _b(t10)), u10 = Math.max(80, h10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), d10 = Math.max(50, h10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), p10 = d10 / 2, { cssStyles: f10 } = t10, g10 = Tm.svg(l10), y10 = TC(t10, {});
  "handDrawn" !== t10.look && (y10.roughness = 0, y10.fillStyle = "solid");
  let v10 = [{ x: -u10 / 2, y: -d10 / 2 }, { x: u10 / 2 - p10, y: -d10 / 2 }, ...__(-u10 / 2 + p10, 0, p10, 50, 90, 270), { x: u10 / 2 - p10, y: d10 / 2 }, { x: -u10 / 2, y: d10 / 2 }], x10 = _k(v10), b10 = g10.path(x10, y10), k10 = l10.insert(() => b10, ":first-child");
  return k10.attr("class", "basic label-container"), f10 && "handDrawn" !== t10.look && k10.selectChildren("path").attr("style", f10), o10 && "handDrawn" !== t10.look && k10.selectChildren("path").attr("style", o10), _x(t10, k10), t10.intersect = function(e31) {
    return iz.info("Pill intersect", t10, { radius: p10, point: e31 }), Tz.polygon(t10, v10, e31);
  }, l10;
}
iM(T6, "cylinder"), iM(T7, "dividedRectangle"), iM(T8, "doublecircle"), iM(T9, "filledCircle"), iM(Se, "flippedTriangle"), iM(St, "forkJoin"), iM(Sr, "halfRoundedRectangle");
var Sn = iM((e30, t10, r10, n10, i10) => `M${e30 + i10},${t10} L${e30 + r10 - i10},${t10} L${e30 + r10},${t10 - n10 / 2} L${e30 + r10 - i10},${t10 - n10} L${e30 + i10},${t10 - n10} L${e30},${t10 - n10 / 2} Z`, "createHexagonPathD");
async function Si(e30, t10) {
  let r10;
  let { labelStyles: n10, nodeStyles: i10 } = TS(t10);
  t10.labelStyle = n10;
  let { shapeSvg: a10, bbox: s10 } = await _y(e30, t10, _b(t10)), o10 = s10.height + t10.padding, l10 = o10 / 4, h10 = s10.width + 2 * l10 + t10.padding, u10 = [{ x: l10, y: 0 }, { x: h10 - l10, y: 0 }, { x: h10, y: -o10 / 2 }, { x: h10 - l10, y: -o10 }, { x: l10, y: -o10 }, { x: 0, y: -o10 / 2 }], { cssStyles: d10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(a10), n11 = TC(t10, {}), i11 = Sn(0, 0, h10, o10, l10), s11 = e31.path(i11, n11);
    r10 = a10.insert(() => s11, ":first-child").attr("transform", `translate(${-h10 / 2}, ${o10 / 2})`), d10 && r10.attr("style", d10);
  } else r10 = TW(a10, h10, o10, u10);
  return i10 && r10.attr("style", i10), t10.width = h10, t10.height = o10, _x(t10, r10), t10.intersect = function(e31) {
    return Tz.polygon(t10, u10, e31);
  }, a10;
}
async function Sa(e30, t10) {
  var r10, n10;
  let { labelStyles: i10, nodeStyles: a10 } = TS(t10);
  t10.label = "", t10.labelStyle = i10;
  let { shapeSvg: s10 } = await _y(e30, t10, _b(t10)), o10 = Math.max(30, null !== (r10 = null == t10 ? void 0 : t10.width) && void 0 !== r10 ? r10 : 0), l10 = Math.max(30, null !== (n10 = null == t10 ? void 0 : t10.height) && void 0 !== n10 ? n10 : 0), { cssStyles: h10 } = t10, u10 = Tm.svg(s10), d10 = TC(t10, {});
  "handDrawn" !== t10.look && (d10.roughness = 0, d10.fillStyle = "solid");
  let p10 = [{ x: 0, y: 0 }, { x: o10, y: 0 }, { x: 0, y: l10 }, { x: o10, y: l10 }], f10 = _k(p10), g10 = u10.path(f10, d10), y10 = s10.insert(() => g10, ":first-child");
  return y10.attr("class", "basic label-container"), h10 && "handDrawn" !== t10.look && y10.selectChildren("path").attr("style", h10), a10 && "handDrawn" !== t10.look && y10.selectChildren("path").attr("style", a10), y10.attr("transform", `translate(${-o10 / 2}, ${-l10 / 2})`), _x(t10, y10), t10.intersect = function(e31) {
    return iz.info("Pill intersect", t10, { points: p10 }), Tz.polygon(t10, p10, e31);
  }, s10;
}
async function Ss(e30, t10, r10) {
  var n10, i10, a10, s10;
  let { config: { themeVariables: o10, flowchart: l10 } } = r10, { labelStyles: h10 } = TS(t10);
  t10.labelStyle = h10;
  let u10 = Math.max(null !== (n10 = t10.assetHeight) && void 0 !== n10 ? n10 : 48, null !== (i10 = t10.assetWidth) && void 0 !== i10 ? i10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  t10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: f10, label: g10 } = await _y(e30, t10, "icon-shape default"), y10 = "t" === t10.pos, { nodeBorder: v10 } = o10, { stylesMap: x10 } = T_(t10), b10 = -u10 / 2, k10 = -u10 / 2, w10 = t10.label ? 8 : 0, _10 = Tm.svg(p10), T10 = TC(t10, { stroke: "none", fill: "none" });
  "handDrawn" !== t10.look && (T10.roughness = 0, T10.fillStyle = "solid");
  let S10 = _10.rectangle(b10, k10, u10, u10, T10), C10 = Math.max(u10, f10.width), E10 = u10 + f10.height + w10, A10 = _10.rectangle(-C10 / 2, -E10 / 2, C10, E10, { ...T10, fill: "transparent", stroke: "none" }), L10 = p10.insert(() => S10, ":first-child"), I10 = p10.insert(() => A10);
  if (t10.icon) {
    let e31 = p10.append("g");
    e31.html(`<g>${await xo(t10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
    let r11 = e31.node().getBBox(), n11 = r11.width, i11 = r11.height, s11 = r11.x, o11 = r11.y;
    e31.attr("transform", `translate(${-n11 / 2 - s11},${y10 ? f10.height / 2 + w10 / 2 - i11 / 2 - o11 : -f10.height / 2 - w10 / 2 - i11 / 2 - o11})`), e31.attr("style", `color: ${null !== (a10 = x10.get("stroke")) && void 0 !== a10 ? a10 : v10};`);
  }
  return g10.attr("transform", `translate(${-f10.width / 2 - (f10.x - (null !== (s10 = f10.left) && void 0 !== s10 ? s10 : 0))},${y10 ? -E10 / 2 : E10 / 2 - f10.height})`), L10.attr("transform", `translate(0,${y10 ? f10.height / 2 + w10 / 2 : -f10.height / 2 - w10 / 2})`), _x(t10, I10), t10.intersect = function(e31) {
    var r11, n11, i11;
    if (iz.info("iconSquare intersect", t10, e31), !t10.label) return Tz.rect(t10, e31);
    let a11 = null !== (r11 = t10.x) && void 0 !== r11 ? r11 : 0, s11 = null !== (n11 = t10.y) && void 0 !== n11 ? n11 : 0, o11 = null !== (i11 = t10.height) && void 0 !== i11 ? i11 : 0, l11 = [];
    return l11 = y10 ? [{ x: a11 - f10.width / 2, y: s11 - o11 / 2 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 + f10.height + w10 }, { x: a11 + u10 / 2, y: s11 - o11 / 2 + f10.height + w10 }, { x: a11 + u10 / 2, y: s11 + o11 / 2 }, { x: a11 - u10 / 2, y: s11 + o11 / 2 }, { x: a11 - u10 / 2, y: s11 - o11 / 2 + f10.height + w10 }, { x: a11 - f10.width / 2, y: s11 - o11 / 2 + f10.height + w10 }] : [{ x: a11 - u10 / 2, y: s11 - o11 / 2 }, { x: a11 + u10 / 2, y: s11 - o11 / 2 }, { x: a11 + u10 / 2, y: s11 - o11 / 2 + u10 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 + u10 }, { x: a11 + f10.width / 2 / 2, y: s11 + o11 / 2 }, { x: a11 - f10.width / 2, y: s11 + o11 / 2 }, { x: a11 - f10.width / 2, y: s11 - o11 / 2 + u10 }, { x: a11 - u10 / 2, y: s11 - o11 / 2 + u10 }], Tz.polygon(t10, l11, e31);
  }, p10;
}
async function So(e30, t10, r10) {
  var n10, i10, a10, s10;
  let { config: { themeVariables: o10, flowchart: l10 } } = r10, { labelStyles: h10 } = TS(t10);
  t10.labelStyle = h10;
  let u10 = Math.max(null !== (n10 = t10.assetHeight) && void 0 !== n10 ? n10 : 48, null !== (i10 = t10.assetWidth) && void 0 !== i10 ? i10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  t10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: f10, label: g10 } = await _y(e30, t10, "icon-shape default"), y10 = t10.label ? 8 : 0, v10 = "t" === t10.pos, { nodeBorder: x10, mainBkg: b10 } = o10, { stylesMap: k10 } = T_(t10), w10 = Tm.svg(p10), _10 = TC(t10, {});
  "handDrawn" !== t10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = k10.get("fill");
  _10.stroke = null != T10 ? T10 : b10;
  let S10 = p10.append("g");
  t10.icon && S10.html(`<g>${await xo(t10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
  let C10 = S10.node().getBBox(), E10 = C10.width, A10 = C10.height, L10 = C10.x, I10 = C10.y, M10 = Math.max(E10, A10) * Math.SQRT2 + 40, N10 = w10.circle(0, 0, M10, _10), R10 = Math.max(M10, f10.width), D10 = M10 + f10.height + y10, O10 = w10.rectangle(-R10 / 2, -D10 / 2, R10, D10, { ..._10, fill: "transparent", stroke: "none" }), $10 = p10.insert(() => N10, ":first-child"), P10 = p10.insert(() => O10);
  return S10.attr("transform", `translate(${-E10 / 2 - L10},${v10 ? f10.height / 2 + y10 / 2 - A10 / 2 - I10 : -f10.height / 2 - y10 / 2 - A10 / 2 - I10})`), S10.attr("style", `color: ${null !== (a10 = k10.get("stroke")) && void 0 !== a10 ? a10 : x10};`), g10.attr("transform", `translate(${-f10.width / 2 - (f10.x - (null !== (s10 = f10.left) && void 0 !== s10 ? s10 : 0))},${v10 ? -D10 / 2 : D10 / 2 - f10.height})`), $10.attr("transform", `translate(0,${v10 ? f10.height / 2 + y10 / 2 : -f10.height / 2 - y10 / 2})`), _x(t10, P10), t10.intersect = function(e31) {
    return iz.info("iconSquare intersect", t10, e31), Tz.rect(t10, e31);
  }, p10;
}
async function Sl(e30, t10, r10) {
  var n10, i10, a10, s10;
  let { config: { themeVariables: o10, flowchart: l10 } } = r10, { labelStyles: h10 } = TS(t10);
  t10.labelStyle = h10;
  let u10 = Math.max(null !== (n10 = t10.assetHeight) && void 0 !== n10 ? n10 : 48, null !== (i10 = t10.assetWidth) && void 0 !== i10 ? i10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  t10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: f10, halfPadding: g10, label: y10 } = await _y(e30, t10, "icon-shape default"), v10 = "t" === t10.pos, x10 = u10 + 2 * g10, b10 = u10 + 2 * g10, { nodeBorder: k10, mainBkg: w10 } = o10, { stylesMap: _10 } = T_(t10), T10 = t10.label ? 8 : 0, S10 = Tm.svg(p10), C10 = TC(t10, {});
  "handDrawn" !== t10.look && (C10.roughness = 0, C10.fillStyle = "solid");
  let E10 = _10.get("fill");
  C10.stroke = null != E10 ? E10 : w10;
  let A10 = S10.path(Tk(-b10 / 2, -x10 / 2, b10, x10, 5), C10), L10 = Math.max(b10, f10.width), I10 = x10 + f10.height + T10, M10 = S10.rectangle(-L10 / 2, -I10 / 2, L10, I10, { ...C10, fill: "transparent", stroke: "none" }), N10 = p10.insert(() => A10, ":first-child").attr("class", "icon-shape2"), R10 = p10.insert(() => M10);
  if (t10.icon) {
    let e31 = p10.append("g");
    e31.html(`<g>${await xo(t10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
    let r11 = e31.node().getBBox(), n11 = r11.width, i11 = r11.height, s11 = r11.x, o11 = r11.y;
    e31.attr("transform", `translate(${-n11 / 2 - s11},${v10 ? f10.height / 2 + T10 / 2 - i11 / 2 - o11 : -f10.height / 2 - T10 / 2 - i11 / 2 - o11})`), e31.attr("style", `color: ${null !== (a10 = _10.get("stroke")) && void 0 !== a10 ? a10 : k10};`);
  }
  return y10.attr("transform", `translate(${-f10.width / 2 - (f10.x - (null !== (s10 = f10.left) && void 0 !== s10 ? s10 : 0))},${v10 ? -I10 / 2 : I10 / 2 - f10.height})`), N10.attr("transform", `translate(0,${v10 ? f10.height / 2 + T10 / 2 : -f10.height / 2 - T10 / 2})`), _x(t10, R10), t10.intersect = function(e31) {
    var r11, n11, i11;
    if (iz.info("iconSquare intersect", t10, e31), !t10.label) return Tz.rect(t10, e31);
    let a11 = null !== (r11 = t10.x) && void 0 !== r11 ? r11 : 0, s11 = null !== (n11 = t10.y) && void 0 !== n11 ? n11 : 0, o11 = null !== (i11 = t10.height) && void 0 !== i11 ? i11 : 0, l11 = [];
    return l11 = v10 ? [{ x: a11 - f10.width / 2, y: s11 - o11 / 2 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 + f10.height + T10 }, { x: a11 + b10 / 2, y: s11 - o11 / 2 + f10.height + T10 }, { x: a11 + b10 / 2, y: s11 + o11 / 2 }, { x: a11 - b10 / 2, y: s11 + o11 / 2 }, { x: a11 - b10 / 2, y: s11 - o11 / 2 + f10.height + T10 }, { x: a11 - f10.width / 2, y: s11 - o11 / 2 + f10.height + T10 }] : [{ x: a11 - b10 / 2, y: s11 - o11 / 2 }, { x: a11 + b10 / 2, y: s11 - o11 / 2 }, { x: a11 + b10 / 2, y: s11 - o11 / 2 + x10 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 + x10 }, { x: a11 + f10.width / 2 / 2, y: s11 + o11 / 2 }, { x: a11 - f10.width / 2, y: s11 + o11 / 2 }, { x: a11 - f10.width / 2, y: s11 - o11 / 2 + x10 }, { x: a11 - b10 / 2, y: s11 - o11 / 2 + x10 }], Tz.polygon(t10, l11, e31);
  }, p10;
}
async function Sc(e30, t10, r10) {
  var n10, i10, a10, s10;
  let { config: { themeVariables: o10, flowchart: l10 } } = r10, { labelStyles: h10 } = TS(t10);
  t10.labelStyle = h10;
  let u10 = Math.max(null !== (n10 = t10.assetHeight) && void 0 !== n10 ? n10 : 48, null !== (i10 = t10.assetWidth) && void 0 !== i10 ? i10 : 48), d10 = null == l10 ? void 0 : l10.wrappingWidth;
  t10.width = Math.max(u10, null != d10 ? d10 : 0);
  let { shapeSvg: p10, bbox: f10, halfPadding: g10, label: y10 } = await _y(e30, t10, "icon-shape default"), v10 = "t" === t10.pos, x10 = u10 + 2 * g10, b10 = u10 + 2 * g10, { nodeBorder: k10, mainBkg: w10 } = o10, { stylesMap: _10 } = T_(t10), T10 = t10.label ? 8 : 0, S10 = Tm.svg(p10), C10 = TC(t10, {});
  "handDrawn" !== t10.look && (C10.roughness = 0, C10.fillStyle = "solid");
  let E10 = _10.get("fill");
  C10.stroke = null != E10 ? E10 : w10;
  let A10 = S10.path(Tk(-b10 / 2, -x10 / 2, b10, x10, 0.1), C10), L10 = Math.max(b10, f10.width), I10 = x10 + f10.height + T10, M10 = S10.rectangle(-L10 / 2, -I10 / 2, L10, I10, { ...C10, fill: "transparent", stroke: "none" }), N10 = p10.insert(() => A10, ":first-child"), R10 = p10.insert(() => M10);
  if (t10.icon) {
    let e31 = p10.append("g");
    e31.html(`<g>${await xo(t10.icon, { height: u10, width: u10, fallbackPrefix: "" })}</g>`);
    let r11 = e31.node().getBBox(), n11 = r11.width, i11 = r11.height, s11 = r11.x, o11 = r11.y;
    e31.attr("transform", `translate(${-n11 / 2 - s11},${v10 ? f10.height / 2 + T10 / 2 - i11 / 2 - o11 : -f10.height / 2 - T10 / 2 - i11 / 2 - o11})`), e31.attr("style", `color: ${null !== (a10 = _10.get("stroke")) && void 0 !== a10 ? a10 : k10};`);
  }
  return y10.attr("transform", `translate(${-f10.width / 2 - (f10.x - (null !== (s10 = f10.left) && void 0 !== s10 ? s10 : 0))},${v10 ? -I10 / 2 : I10 / 2 - f10.height})`), N10.attr("transform", `translate(0,${v10 ? f10.height / 2 + T10 / 2 : -f10.height / 2 - T10 / 2})`), _x(t10, R10), t10.intersect = function(e31) {
    var r11, n11, i11;
    if (iz.info("iconSquare intersect", t10, e31), !t10.label) return Tz.rect(t10, e31);
    let a11 = null !== (r11 = t10.x) && void 0 !== r11 ? r11 : 0, s11 = null !== (n11 = t10.y) && void 0 !== n11 ? n11 : 0, o11 = null !== (i11 = t10.height) && void 0 !== i11 ? i11 : 0, l11 = [];
    return l11 = v10 ? [{ x: a11 - f10.width / 2, y: s11 - o11 / 2 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 + f10.height + T10 }, { x: a11 + b10 / 2, y: s11 - o11 / 2 + f10.height + T10 }, { x: a11 + b10 / 2, y: s11 + o11 / 2 }, { x: a11 - b10 / 2, y: s11 + o11 / 2 }, { x: a11 - b10 / 2, y: s11 - o11 / 2 + f10.height + T10 }, { x: a11 - f10.width / 2, y: s11 - o11 / 2 + f10.height + T10 }] : [{ x: a11 - b10 / 2, y: s11 - o11 / 2 }, { x: a11 + b10 / 2, y: s11 - o11 / 2 }, { x: a11 + b10 / 2, y: s11 - o11 / 2 + x10 }, { x: a11 + f10.width / 2, y: s11 - o11 / 2 + x10 }, { x: a11 + f10.width / 2 / 2, y: s11 + o11 / 2 }, { x: a11 - f10.width / 2, y: s11 + o11 / 2 }, { x: a11 - f10.width / 2, y: s11 - o11 / 2 + x10 }, { x: a11 - b10 / 2, y: s11 - o11 / 2 + x10 }], Tz.polygon(t10, l11, e31);
  }, p10;
}
async function Sh(e30, t10, r10) {
  var n10, i10, a10, s10;
  let { config: { flowchart: o10 } } = r10, l10 = new Image();
  l10.src = null !== (n10 = null == t10 ? void 0 : t10.img) && void 0 !== n10 ? n10 : "", await l10.decode();
  let h10 = Number(l10.naturalWidth.toString().replace("px", "")), u10 = Number(l10.naturalHeight.toString().replace("px", ""));
  t10.imageAspectRatio = h10 / u10;
  let { labelStyles: d10 } = TS(t10);
  t10.labelStyle = d10;
  let p10 = null == o10 ? void 0 : o10.wrappingWidth;
  t10.defaultWidth = null == o10 ? void 0 : o10.wrappingWidth;
  let f10 = Math.max(t10.label && null != p10 ? p10 : 0, null !== (i10 = null == t10 ? void 0 : t10.assetWidth) && void 0 !== i10 ? i10 : h10), g10 = "on" === t10.constraint && (null == t10 ? void 0 : t10.assetHeight) ? t10.assetHeight * t10.imageAspectRatio : f10, y10 = "on" === t10.constraint ? g10 / t10.imageAspectRatio : null !== (a10 = null == t10 ? void 0 : t10.assetHeight) && void 0 !== a10 ? a10 : u10;
  t10.width = Math.max(g10, null != p10 ? p10 : 0);
  let { shapeSvg: v10, bbox: x10, label: b10 } = await _y(e30, t10, "image-shape default"), k10 = "t" === t10.pos, w10 = -g10 / 2, _10 = t10.label ? 8 : 0, T10 = Tm.svg(v10), S10 = TC(t10, {});
  "handDrawn" !== t10.look && (S10.roughness = 0, S10.fillStyle = "solid");
  let C10 = T10.rectangle(w10, -y10 / 2, g10, y10, S10), E10 = Math.max(g10, x10.width), A10 = y10 + x10.height + _10, L10 = T10.rectangle(-E10 / 2, -A10 / 2, E10, A10, { ...S10, fill: "none", stroke: "none" }), I10 = v10.insert(() => C10, ":first-child"), M10 = v10.insert(() => L10);
  if (t10.img) {
    let e31 = v10.append("image");
    e31.attr("href", t10.img), e31.attr("width", g10), e31.attr("height", y10), e31.attr("preserveAspectRatio", "none"), e31.attr("transform", `translate(${-g10 / 2},${k10 ? A10 / 2 - y10 : -A10 / 2})`);
  }
  return b10.attr("transform", `translate(${-x10.width / 2 - (x10.x - (null !== (s10 = x10.left) && void 0 !== s10 ? s10 : 0))},${k10 ? -y10 / 2 - x10.height / 2 - _10 / 2 : y10 / 2 - x10.height / 2 + _10 / 2})`), I10.attr("transform", `translate(0,${k10 ? x10.height / 2 + _10 / 2 : -x10.height / 2 - _10 / 2})`), _x(t10, M10), t10.intersect = function(e31) {
    var r11, n11, i11;
    if (iz.info("iconSquare intersect", t10, e31), !t10.label) return Tz.rect(t10, e31);
    let a11 = null !== (r11 = t10.x) && void 0 !== r11 ? r11 : 0, s11 = null !== (n11 = t10.y) && void 0 !== n11 ? n11 : 0, o11 = null !== (i11 = t10.height) && void 0 !== i11 ? i11 : 0, l11 = [];
    return l11 = k10 ? [{ x: a11 - x10.width / 2, y: s11 - o11 / 2 }, { x: a11 + x10.width / 2, y: s11 - o11 / 2 }, { x: a11 + x10.width / 2, y: s11 - o11 / 2 + x10.height + _10 }, { x: a11 + g10 / 2, y: s11 - o11 / 2 + x10.height + _10 }, { x: a11 + g10 / 2, y: s11 + o11 / 2 }, { x: a11 - g10 / 2, y: s11 + o11 / 2 }, { x: a11 - g10 / 2, y: s11 - o11 / 2 + x10.height + _10 }, { x: a11 - x10.width / 2, y: s11 - o11 / 2 + x10.height + _10 }] : [{ x: a11 - g10 / 2, y: s11 - o11 / 2 }, { x: a11 + g10 / 2, y: s11 - o11 / 2 }, { x: a11 + g10 / 2, y: s11 - o11 / 2 + y10 }, { x: a11 + x10.width / 2, y: s11 - o11 / 2 + y10 }, { x: a11 + x10.width / 2 / 2, y: s11 + o11 / 2 }, { x: a11 - x10.width / 2, y: s11 + o11 / 2 }, { x: a11 - x10.width / 2, y: s11 - o11 / 2 + y10 }, { x: a11 - g10 / 2, y: s11 - o11 / 2 + y10 }], Tz.polygon(t10, l11, e31);
  }, v10;
}
async function Su(e30, t10) {
  var r10, n10, i10, a10;
  let s10;
  let { labelStyles: o10, nodeStyles: l10 } = TS(t10);
  t10.labelStyle = o10;
  let { shapeSvg: h10, bbox: u10 } = await _y(e30, t10, _b(t10)), d10 = Math.max(u10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), p10 = Math.max(u10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), f10 = [{ x: 0, y: 0 }, { x: d10, y: 0 }, { x: d10 + 3 * p10 / 6, y: -p10 }, { x: -3 * p10 / 6, y: -p10 }], { cssStyles: g10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(h10), r11 = TC(t10, {}), n11 = _k(f10), i11 = e31.path(n11, r11);
    s10 = h10.insert(() => i11, ":first-child").attr("transform", `translate(${-d10 / 2}, ${p10 / 2})`), g10 && s10.attr("style", g10);
  } else s10 = TW(h10, d10, p10, f10);
  return l10 && s10.attr("style", l10), t10.width = d10, t10.height = p10, _x(t10, s10), t10.intersect = function(e31) {
    return Tz.polygon(t10, f10, e31);
  }, h10;
}
async function Sd(e30, t10, r10) {
  let n10;
  let { labelStyles: i10, nodeStyles: a10 } = TS(t10);
  t10.labelStyle = i10;
  let { shapeSvg: s10, bbox: o10 } = await _y(e30, t10, _b(t10)), l10 = Math.max(o10.width + 2 * r10.labelPaddingX, (null == t10 ? void 0 : t10.width) || 0), h10 = Math.max(o10.height + 2 * r10.labelPaddingY, (null == t10 ? void 0 : t10.height) || 0), u10 = -l10 / 2, d10 = -h10 / 2, { rx: p10, ry: f10 } = t10, { cssStyles: g10 } = t10;
  if ((null == r10 ? void 0 : r10.rx) && r10.ry && (p10 = r10.rx, f10 = r10.ry), "handDrawn" === t10.look) {
    let e31 = Tm.svg(s10), r11 = TC(t10, {}), i11 = p10 || f10 ? e31.path(Tk(u10, d10, l10, h10, p10 || 0), r11) : e31.rectangle(u10, d10, l10, h10, r11);
    (n10 = s10.insert(() => i11, ":first-child")).attr("class", "basic label-container").attr("style", k6(g10));
  } else (n10 = s10.insert("rect", ":first-child")).attr("class", "basic label-container").attr("style", a10).attr("rx", k6(p10)).attr("ry", k6(f10)).attr("x", u10).attr("y", d10).attr("width", l10).attr("height", h10);
  return _x(t10, n10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, s10;
}
async function Sp(e30, t10) {
  var r10, n10;
  let { shapeSvg: i10, bbox: a10, label: s10 } = await _y(e30, t10, "label"), o10 = i10.insert("rect", ":first-child");
  return o10.attr("width", 0.1).attr("height", 0.1), i10.attr("class", "label edgeLabel"), s10.attr("transform", `translate(${-(a10.width / 2) - (a10.x - (null !== (r10 = a10.left) && void 0 !== r10 ? r10 : 0))}, ${-(a10.height / 2) - (a10.y - (null !== (n10 = a10.top) && void 0 !== n10 ? n10 : 0))})`), _x(t10, o10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, i10;
}
async function Sf(e30, t10) {
  var r10, n10, i10, a10;
  let s10;
  let { labelStyles: o10, nodeStyles: l10 } = TS(t10);
  t10.labelStyle = o10;
  let { shapeSvg: h10, bbox: u10 } = await _y(e30, t10, _b(t10)), d10 = Math.max(u10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), p10 = Math.max(u10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0), null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), f10 = [{ x: 0, y: 0 }, { x: d10 + 3 * p10 / 6, y: 0 }, { x: d10, y: -p10 }, { x: -(3 * p10) / 6, y: -p10 }], { cssStyles: g10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(h10), r11 = TC(t10, {}), n11 = _k(f10), i11 = e31.path(n11, r11);
    s10 = h10.insert(() => i11, ":first-child").attr("transform", `translate(${-d10 / 2}, ${p10 / 2})`), g10 && s10.attr("style", g10);
  } else s10 = TW(h10, d10, p10, f10);
  return l10 && s10.attr("style", l10), t10.width = d10, t10.height = p10, _x(t10, s10), t10.intersect = function(e31) {
    return Tz.polygon(t10, f10, e31);
  }, h10;
}
async function Sg(e30, t10) {
  var r10, n10, i10, a10;
  let s10;
  let { labelStyles: o10, nodeStyles: l10 } = TS(t10);
  t10.labelStyle = o10;
  let { shapeSvg: h10, bbox: u10 } = await _y(e30, t10, _b(t10)), d10 = Math.max(u10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), p10 = Math.max(u10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0), null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), f10 = [{ x: -3 * p10 / 6, y: 0 }, { x: d10, y: 0 }, { x: d10 + 3 * p10 / 6, y: -p10 }, { x: 0, y: -p10 }], { cssStyles: g10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(h10), r11 = TC(t10, {}), n11 = _k(f10), i11 = e31.path(n11, r11);
    s10 = h10.insert(() => i11, ":first-child").attr("transform", `translate(${-d10 / 2}, ${p10 / 2})`), g10 && s10.attr("style", g10);
  } else s10 = TW(h10, d10, p10, f10);
  return l10 && s10.attr("style", l10), t10.width = d10, t10.height = p10, _x(t10, s10), t10.intersect = function(e31) {
    return Tz.polygon(t10, f10, e31);
  }, h10;
}
function Sm(e30, t10) {
  var r10, n10, i10;
  let { labelStyles: a10, nodeStyles: s10 } = TS(t10);
  t10.label = "", t10.labelStyle = a10;
  let o10 = e30.insert("g").attr("class", _b(t10)).attr("id", null !== (r10 = t10.domId) && void 0 !== r10 ? r10 : t10.id), { cssStyles: l10 } = t10, h10 = Math.max(35, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), u10 = Math.max(35, null !== (i10 = null == t10 ? void 0 : t10.height) && void 0 !== i10 ? i10 : 0), d10 = [{ x: h10, y: 0 }, { x: 0, y: u10 + 3.5 }, { x: h10 - 14, y: u10 + 3.5 }, { x: 0, y: 2 * u10 }, { x: h10, y: u10 - 3.5 }, { x: 14, y: u10 - 3.5 }], p10 = Tm.svg(o10), f10 = TC(t10, {});
  "handDrawn" !== t10.look && (f10.roughness = 0, f10.fillStyle = "solid");
  let g10 = _k(d10), y10 = p10.path(g10, f10), v10 = o10.insert(() => y10, ":first-child");
  return l10 && "handDrawn" !== t10.look && v10.selectAll("path").attr("style", l10), s10 && "handDrawn" !== t10.look && v10.selectAll("path").attr("style", s10), v10.attr("transform", `translate(-${h10 / 2},${-u10})`), _x(t10, v10), t10.intersect = function(e31) {
    return iz.info("lightningBolt intersect", t10, e31), Tz.polygon(t10, d10, e31);
  }, o10;
}
iM(Si, "hexagon"), iM(Sa, "hourglass"), iM(Ss, "icon"), iM(So, "iconCircle"), iM(Sl, "iconRounded"), iM(Sc, "iconSquare"), iM(Sh, "imageSquare"), iM(Su, "inv_trapezoid"), iM(Sd, "drawRect"), iM(Sp, "labelRect"), iM(Sf, "lean_left"), iM(Sg, "lean_right"), iM(Sm, "lightningBolt");
var Sy = iM((e30, t10, r10, n10, i10, a10, s10) => `M${e30},${t10 + a10} a${i10},${a10} 0,0,0 ${r10},0 a${i10},${a10} 0,0,0 ${-r10},0 l0,${n10} a${i10},${a10} 0,0,0 ${r10},0 l0,${-n10} M${e30},${t10 + a10 + s10} a${i10},${a10} 0,0,0 ${r10},0`, "createCylinderPathD"), Sv = iM((e30, t10, r10, n10, i10, a10, s10) => `M${e30},${t10 + a10} M${e30 + r10},${t10 + a10} a${i10},${a10} 0,0,0 ${-r10},0 l0,${n10} a${i10},${a10} 0,0,0 ${r10},0 l0,${-n10} M${e30},${t10 + a10 + s10} a${i10},${a10} 0,0,0 ${r10},0`, "createOuterCylinderPathD"), Sx = iM((e30, t10, r10, n10, i10, a10) => `M${e30 - r10 / 2},${-n10 / 2} a${i10},${a10} 0,0,0 ${r10},0`, "createInnerCylinderPathD");
async function Sb(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  let l10;
  let { labelStyles: h10, nodeStyles: u10 } = TS(t10);
  t10.labelStyle = h10;
  let { shapeSvg: d10, bbox: p10, label: f10 } = await _y(e30, t10, _b(t10)), g10 = Math.max(p10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), null !== (n10 = t10.width) && void 0 !== n10 ? n10 : 0), y10 = g10 / 2, v10 = y10 / (2.5 + g10 / 50), x10 = Math.max(p10.height + v10 + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0), null !== (a10 = t10.height) && void 0 !== a10 ? a10 : 0), b10 = 0.1 * x10, { cssStyles: k10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(d10), r11 = Sv(0, 0, g10, x10, y10, v10, b10), n11 = Sx(0, v10, g10, x10, y10, v10), i11 = TC(t10, {}), a11 = e31.path(r11, i11), s11 = e31.path(n11, i11);
    d10.insert(() => s11, ":first-child").attr("class", "line"), (l10 = d10.insert(() => a11, ":first-child")).attr("class", "basic label-container"), k10 && l10.attr("style", k10);
  } else {
    let e31 = Sy(0, 0, g10, x10, y10, v10, b10);
    l10 = d10.insert("path", ":first-child").attr("d", e31).attr("class", "basic label-container").attr("style", k6(k10)).attr("style", u10);
  }
  return l10.attr("label-offset-y", v10), l10.attr("transform", `translate(${-g10 / 2}, ${-(x10 / 2 + v10)})`), _x(t10, l10), f10.attr("transform", `translate(${-(p10.width / 2) - (p10.x - (null !== (s10 = p10.left) && void 0 !== s10 ? s10 : 0))}, ${-(p10.height / 2) + v10 - (p10.y - (null !== (o10 = p10.top) && void 0 !== o10 ? o10 : 0))})`), t10.intersect = function(e31) {
    var r11, n11, i11, a11, s11, o11;
    let l11 = Tz.rect(t10, e31), h11 = l11.x - (null !== (r11 = t10.x) && void 0 !== r11 ? r11 : 0);
    if (0 != y10 && (Math.abs(h11) < (null !== (n11 = t10.width) && void 0 !== n11 ? n11 : 0) / 2 || Math.abs(h11) == (null !== (i11 = t10.width) && void 0 !== i11 ? i11 : 0) / 2 && Math.abs(l11.y - (null !== (a11 = t10.y) && void 0 !== a11 ? a11 : 0)) > (null !== (s11 = t10.height) && void 0 !== s11 ? s11 : 0) / 2 - v10)) {
      let r12 = v10 * v10 * (1 - h11 * h11 / (y10 * y10));
      r12 > 0 && (r12 = Math.sqrt(r12)), r12 = v10 - r12, e31.y - (null !== (o11 = t10.y) && void 0 !== o11 ? o11 : 0) > 0 && (r12 = -r12), l11.y += r12;
    }
    return l11;
  }, d10;
}
async function Sk(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = TS(t10);
  t10.labelStyle = u10;
  let { shapeSvg: p10, bbox: f10, label: g10 } = await _y(e30, t10, _b(t10)), y10 = Math.max(f10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), v10 = Math.max(f10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), x10 = v10 / 4, b10 = v10 + x10, { cssStyles: k10 } = t10, w10 = Tm.svg(p10), _10 = TC(t10, {});
  "handDrawn" !== t10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = [{ x: -y10 / 2 - y10 / 2 * 0.1, y: -b10 / 2 }, { x: -y10 / 2 - y10 / 2 * 0.1, y: b10 / 2 }, ..._w(-y10 / 2 - y10 / 2 * 0.1, b10 / 2, y10 / 2 + y10 / 2 * 0.1, b10 / 2, x10, 0.8), { x: y10 / 2 + y10 / 2 * 0.1, y: -b10 / 2 }, { x: -y10 / 2 - y10 / 2 * 0.1, y: -b10 / 2 }, { x: -y10 / 2, y: -b10 / 2 }, { x: -y10 / 2, y: b10 / 2 * 1.1 }, { x: -y10 / 2, y: -b10 / 2 }], S10 = w10.polygon(T10.map((e31) => [e31.x, e31.y]), _10), C10 = p10.insert(() => S10, ":first-child");
  return C10.attr("class", "basic label-container"), k10 && "handDrawn" !== t10.look && C10.selectAll("path").attr("style", k10), d10 && "handDrawn" !== t10.look && C10.selectAll("path").attr("style", d10), C10.attr("transform", `translate(0,${-x10 / 2})`), g10.attr("transform", `translate(${-y10 / 2 + (null !== (s10 = t10.padding) && void 0 !== s10 ? s10 : 0) + y10 / 2 * 0.1 / 2 - (f10.x - (null !== (o10 = f10.left) && void 0 !== o10 ? o10 : 0))},${-v10 / 2 + (null !== (l10 = t10.padding) && void 0 !== l10 ? l10 : 0) - x10 / 2 - (f10.y - (null !== (h10 = f10.top) && void 0 !== h10 ? h10 : 0))})`), _x(t10, C10), t10.intersect = function(e31) {
    return Tz.polygon(t10, T10, e31);
  }, p10;
}
async function Sw(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  let { labelStyles: l10, nodeStyles: h10 } = TS(t10);
  t10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await _y(e30, t10, _b(t10)), f10 = Math.max(d10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), g10 = Math.max(d10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), y10 = -f10 / 2, v10 = -g10 / 2, { cssStyles: x10 } = t10, b10 = Tm.svg(u10), k10 = TC(t10, {}), w10 = [{ x: y10 - 5, y: v10 + 5 }, { x: y10 - 5, y: v10 + g10 + 5 }, { x: y10 + f10 - 5, y: v10 + g10 + 5 }, { x: y10 + f10 - 5, y: v10 + g10 }, { x: y10 + f10, y: v10 + g10 }, { x: y10 + f10, y: v10 + g10 - 5 }, { x: y10 + f10 + 5, y: v10 + g10 - 5 }, { x: y10 + f10 + 5, y: v10 - 5 }, { x: y10 + 5, y: v10 - 5 }, { x: y10 + 5, y: v10 }, { x: y10, y: v10 }, { x: y10, y: v10 + 5 }];
  "handDrawn" !== t10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let _10 = _k(w10), T10 = b10.path(_10, k10), S10 = _k([{ x: y10, y: v10 + 5 }, { x: y10 + f10 - 5, y: v10 + 5 }, { x: y10 + f10 - 5, y: v10 + g10 }, { x: y10 + f10, y: v10 + g10 }, { x: y10 + f10, y: v10 }, { x: y10, y: v10 }]), C10 = b10.path(S10, { ...k10, fill: "none" }), E10 = u10.insert(() => C10, ":first-child");
  return E10.insert(() => T10, ":first-child"), E10.attr("class", "basic label-container"), x10 && "handDrawn" !== t10.look && E10.selectAll("path").attr("style", x10), h10 && "handDrawn" !== t10.look && E10.selectAll("path").attr("style", h10), p10.attr("transform", `translate(${-(d10.width / 2) - 5 - (d10.x - (null !== (s10 = d10.left) && void 0 !== s10 ? s10 : 0))}, ${-(d10.height / 2) + 5 - (d10.y - (null !== (o10 = d10.top) && void 0 !== o10 ? o10 : 0))})`), _x(t10, E10), t10.intersect = function(e31) {
    return Tz.polygon(t10, w10, e31);
  }, u10;
}
async function S_(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  let { labelStyles: l10, nodeStyles: h10 } = TS(t10);
  t10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await _y(e30, t10, _b(t10)), f10 = Math.max(d10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), g10 = Math.max(d10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), y10 = g10 / 4, v10 = g10 + y10, x10 = -f10 / 2, b10 = -v10 / 2, { cssStyles: k10 } = t10, w10 = _w(x10 - 5, b10 + v10 + 5, x10 + f10 - 5, b10 + v10 + 5, y10, 0.8), _10 = null == w10 ? void 0 : w10[w10.length - 1], T10 = [{ x: x10 - 5, y: b10 + 5 }, { x: x10 - 5, y: b10 + v10 + 5 }, ...w10, { x: x10 + f10 - 5, y: _10.y - 5 }, { x: x10 + f10, y: _10.y - 5 }, { x: x10 + f10, y: _10.y - 10 }, { x: x10 + f10 + 5, y: _10.y - 10 }, { x: x10 + f10 + 5, y: b10 - 5 }, { x: x10 + 5, y: b10 - 5 }, { x: x10 + 5, y: b10 }, { x: x10, y: b10 }, { x: x10, y: b10 + 5 }], S10 = [{ x: x10, y: b10 + 5 }, { x: x10 + f10 - 5, y: b10 + 5 }, { x: x10 + f10 - 5, y: _10.y - 5 }, { x: x10 + f10, y: _10.y - 5 }, { x: x10 + f10, y: b10 }, { x: x10, y: b10 }], C10 = Tm.svg(u10), E10 = TC(t10, {});
  "handDrawn" !== t10.look && (E10.roughness = 0, E10.fillStyle = "solid");
  let A10 = _k(T10), L10 = C10.path(A10, E10), I10 = _k(S10), M10 = C10.path(I10, E10), N10 = u10.insert(() => L10, ":first-child");
  return N10.insert(() => M10), N10.attr("class", "basic label-container"), k10 && "handDrawn" !== t10.look && N10.selectAll("path").attr("style", k10), h10 && "handDrawn" !== t10.look && N10.selectAll("path").attr("style", h10), N10.attr("transform", `translate(0,${-y10 / 2})`), p10.attr("transform", `translate(${-(d10.width / 2) - 5 - (d10.x - (null !== (s10 = d10.left) && void 0 !== s10 ? s10 : 0))}, ${-(d10.height / 2) + 5 - y10 / 2 - (d10.y - (null !== (o10 = d10.top) && void 0 !== o10 ? o10 : 0))})`), _x(t10, N10), t10.intersect = function(e31) {
    return Tz.polygon(t10, T10, e31);
  }, u10;
}
async function ST(e30, t10, r10) {
  var n10, i10, a10, s10, o10;
  let { config: { themeVariables: l10 } } = r10, { labelStyles: h10, nodeStyles: u10 } = TS(t10);
  t10.labelStyle = h10, t10.useHtmlLabels || (null === (n10 = aj().flowchart) || void 0 === n10 ? void 0 : n10.htmlLabels) !== false || (t10.centerLabel = true);
  let { shapeSvg: d10, bbox: p10 } = await _y(e30, t10, _b(t10)), f10 = Math.max(p10.width + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.width) && void 0 !== a10 ? a10 : 0), g10 = Math.max(p10.height + (null !== (s10 = t10.padding) && void 0 !== s10 ? s10 : 0) * 2, null !== (o10 = null == t10 ? void 0 : t10.height) && void 0 !== o10 ? o10 : 0), { cssStyles: y10 } = t10, v10 = Tm.svg(d10), x10 = TC(t10, { fill: l10.noteBkgColor, stroke: l10.noteBorderColor });
  "handDrawn" !== t10.look && (x10.roughness = 0, x10.fillStyle = "solid");
  let b10 = v10.rectangle(-f10 / 2, -g10 / 2, f10, g10, x10), k10 = d10.insert(() => b10, ":first-child");
  return k10.attr("class", "basic label-container"), y10 && "handDrawn" !== t10.look && k10.selectAll("path").attr("style", y10), u10 && "handDrawn" !== t10.look && k10.selectAll("path").attr("style", u10), _x(t10, k10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, d10;
}
iM(Sb, "linedCylinder"), iM(Sk, "linedWaveEdgedRect"), iM(Sw, "multiRect"), iM(S_, "multiWaveEdgedRectangle"), iM(ST, "note");
var SS = iM((e30, t10, r10) => `M${e30 + r10 / 2},${t10} L${e30 + r10},${t10 - r10 / 2} L${e30 + r10 / 2},${t10 - r10} L${e30},${t10 - r10 / 2} Z`, "createDecisionBoxPathD");
async function SC(e30, t10) {
  let r10;
  let { labelStyles: n10, nodeStyles: i10 } = TS(t10);
  t10.labelStyle = n10;
  let { shapeSvg: a10, bbox: s10 } = await _y(e30, t10, _b(t10)), o10 = s10.width + t10.padding + (s10.height + t10.padding), l10 = [{ x: o10 / 2, y: 0 }, { x: o10, y: -o10 / 2 }, { x: o10 / 2, y: -o10 }, { x: 0, y: -o10 / 2 }], { cssStyles: h10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(a10), n11 = TC(t10, {}), i11 = SS(0, 0, o10), s11 = e31.path(i11, n11);
    r10 = a10.insert(() => s11, ":first-child").attr("transform", `translate(${-o10 / 2}, ${o10 / 2})`), h10 && r10.attr("style", h10);
  } else r10 = TW(a10, o10, o10, l10);
  return i10 && r10.attr("style", i10), _x(t10, r10), t10.intersect = function(e31) {
    return iz.debug("APA12 Intersect called SPLIT\npoint:", e31, "\nnode:\n", t10, "\nres:", Tz.polygon(t10, l10, e31)), Tz.polygon(t10, l10, e31);
  }, a10;
}
async function SE(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  let { labelStyles: l10, nodeStyles: h10 } = TS(t10);
  t10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await _y(e30, t10, _b(t10)), f10 = Math.max(d10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0), null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), g10 = Math.max(d10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0), null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), y10 = -f10 / 2, v10 = -g10 / 2, x10 = v10 / 2, b10 = [{ x: y10 + x10, y: v10 }, { x: y10, y: 0 }, { x: y10 + x10, y: -v10 }, { x: -y10, y: -v10 }, { x: -y10, y: v10 }], { cssStyles: k10 } = t10, w10 = Tm.svg(u10), _10 = TC(t10, {});
  "handDrawn" !== t10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = _k(b10), S10 = w10.path(T10, _10), C10 = u10.insert(() => S10, ":first-child");
  return C10.attr("class", "basic label-container"), k10 && "handDrawn" !== t10.look && C10.selectAll("path").attr("style", k10), h10 && "handDrawn" !== t10.look && C10.selectAll("path").attr("style", h10), C10.attr("transform", `translate(${-x10 / 2},0)`), p10.attr("transform", `translate(${-x10 / 2 - d10.width / 2 - (d10.x - (null !== (s10 = d10.left) && void 0 !== s10 ? s10 : 0))}, ${-(d10.height / 2) - (d10.y - (null !== (o10 = d10.top) && void 0 !== o10 ? o10 : 0))})`), _x(t10, C10), t10.intersect = function(e31) {
    return Tz.polygon(t10, b10, e31);
  }, u10;
}
async function SA(e30, t10) {
  var r10, n10;
  let i10, a10, s10;
  let { labelStyles: o10, nodeStyles: l10 } = TS(t10);
  t10.labelStyle = o10, i10 = t10.cssClasses ? "node " + t10.cssClasses : "node default";
  let h10 = e30.insert("g").attr("class", i10).attr("id", t10.domId || t10.id), u10 = h10.insert("g"), d10 = h10.insert("g").attr("class", "label").attr("style", l10), p10 = t10.description, f10 = t10.label, g10 = d10.node().appendChild(await Tb(f10, t10.labelStyle, true, true)), y10 = { width: 0, height: 0 };
  if (sQ(null === (n10 = aj()) || void 0 === n10 ? void 0 : null === (r10 = n10.flowchart) || void 0 === r10 ? void 0 : r10.htmlLabels)) {
    let e31 = g10.children[0], t11 = c$(g10);
    y10 = e31.getBoundingClientRect(), t11.attr("width", y10.width), t11.attr("height", y10.height);
  }
  iz.info("Text 2", p10);
  let v10 = p10 || [], x10 = g10.getBBox(), b10 = d10.node().appendChild(await Tb(v10.join ? v10.join("<br/>") : v10, t10.labelStyle, true, true)), k10 = b10.children[0], w10 = c$(b10);
  y10 = k10.getBoundingClientRect(), w10.attr("width", y10.width), w10.attr("height", y10.height);
  let _10 = (t10.padding || 0) / 2;
  c$(b10).attr("transform", "translate( " + (y10.width > x10.width ? 0 : (x10.width - y10.width) / 2) + ", " + (x10.height + _10 + 5) + ")"), c$(g10).attr("transform", "translate( " + (y10.width < x10.width ? 0 : -(x10.width - y10.width) / 2) + ", 0)"), y10 = d10.node().getBBox(), d10.attr("transform", "translate(" + -y10.width / 2 + ", " + (-y10.height / 2 - _10 + 3) + ")");
  let T10 = y10.width + (t10.padding || 0), S10 = y10.height + (t10.padding || 0), C10 = -y10.width / 2 - _10, E10 = -y10.height / 2 - _10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(h10), r11 = TC(t10, {}), n11 = e31.path(Tk(C10, E10, T10, S10, t10.rx || 0), r11), i11 = e31.line(-y10.width / 2 - _10, -y10.height / 2 - _10 + x10.height + _10, y10.width / 2 + _10, -y10.height / 2 - _10 + x10.height + _10, r11);
    s10 = h10.insert(() => (iz.debug("Rough node insert CXC", n11), i11), ":first-child"), a10 = h10.insert(() => (iz.debug("Rough node insert CXC", n11), n11), ":first-child");
  } else a10 = u10.insert("rect", ":first-child"), s10 = u10.insert("line"), a10.attr("class", "outer title-state").attr("style", l10).attr("x", -y10.width / 2 - _10).attr("y", -y10.height / 2 - _10).attr("width", y10.width + (t10.padding || 0)).attr("height", y10.height + (t10.padding || 0)), s10.attr("class", "divider").attr("x1", -y10.width / 2 - _10).attr("x2", y10.width / 2 + _10).attr("y1", -y10.height / 2 - _10 + x10.height + _10).attr("y2", -y10.height / 2 - _10 + x10.height + _10);
  return _x(t10, a10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, h10;
}
async function SL(e30, t10) {
  let r10 = { rx: 5, ry: 5, classes: "", labelPaddingX: 1 * ((null == t10 ? void 0 : t10.padding) || 0), labelPaddingY: 1 * ((null == t10 ? void 0 : t10.padding) || 0) };
  return Sd(e30, t10, r10);
}
async function SI(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10, u10;
  let { labelStyles: d10, nodeStyles: p10 } = TS(t10);
  t10.labelStyle = d10;
  let { shapeSvg: f10, bbox: g10, label: y10 } = await _y(e30, t10, _b(t10)), v10 = null !== (r10 = null == t10 ? void 0 : t10.padding) && void 0 !== r10 ? r10 : 0, x10 = Math.max(g10.width + (null !== (n10 = t10.padding) && void 0 !== n10 ? n10 : 0) * 2, null !== (i10 = null == t10 ? void 0 : t10.width) && void 0 !== i10 ? i10 : 0), b10 = Math.max(g10.height + (null !== (a10 = t10.padding) && void 0 !== a10 ? a10 : 0) * 2, null !== (s10 = null == t10 ? void 0 : t10.height) && void 0 !== s10 ? s10 : 0), k10 = -g10.width / 2 - v10, w10 = -g10.height / 2 - v10, { cssStyles: _10 } = t10, T10 = Tm.svg(f10), S10 = TC(t10, {});
  "handDrawn" !== t10.look && (S10.roughness = 0, S10.fillStyle = "solid");
  let C10 = T10.polygon([{ x: k10, y: w10 }, { x: k10 + x10 + 8, y: w10 }, { x: k10 + x10 + 8, y: w10 + b10 }, { x: k10 - 8, y: w10 + b10 }, { x: k10 - 8, y: w10 }, { x: k10, y: w10 }, { x: k10, y: w10 + b10 }].map((e31) => [e31.x, e31.y]), S10), E10 = f10.insert(() => C10, ":first-child");
  return E10.attr("class", "basic label-container").attr("style", k6(_10)), p10 && "handDrawn" !== t10.look && E10.selectAll("path").attr("style", p10), _10 && "handDrawn" !== t10.look && E10.selectAll("path").attr("style", p10), y10.attr("transform", `translate(${-x10 / 2 + 4 + (null !== (o10 = t10.padding) && void 0 !== o10 ? o10 : 0) - (g10.x - (null !== (l10 = g10.left) && void 0 !== l10 ? l10 : 0))},${-b10 / 2 + (null !== (h10 = t10.padding) && void 0 !== h10 ? h10 : 0) - (g10.y - (null !== (u10 = g10.top) && void 0 !== u10 ? u10 : 0))})`), _x(t10, E10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, f10;
}
async function SM(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = TS(t10);
  t10.labelStyle = u10;
  let { shapeSvg: p10, bbox: f10, label: g10 } = await _y(e30, t10, _b(t10)), y10 = Math.max(f10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), v10 = Math.max(f10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), x10 = -y10 / 2, b10 = -v10 / 2, { cssStyles: k10 } = t10, w10 = Tm.svg(p10), _10 = TC(t10, {});
  "handDrawn" !== t10.look && (_10.roughness = 0, _10.fillStyle = "solid");
  let T10 = [{ x: x10, y: b10 }, { x: x10, y: b10 + v10 }, { x: x10 + y10, y: b10 + v10 }, { x: x10 + y10, y: b10 - v10 / 2 }], S10 = _k(T10), C10 = w10.path(S10, _10), E10 = p10.insert(() => C10, ":first-child");
  return E10.attr("class", "basic label-container"), k10 && "handDrawn" !== t10.look && E10.selectChildren("path").attr("style", k10), d10 && "handDrawn" !== t10.look && E10.selectChildren("path").attr("style", d10), E10.attr("transform", `translate(0, ${v10 / 4})`), g10.attr("transform", `translate(${-y10 / 2 + (null !== (s10 = t10.padding) && void 0 !== s10 ? s10 : 0) - (f10.x - (null !== (o10 = f10.left) && void 0 !== o10 ? o10 : 0))}, ${-v10 / 4 + (null !== (l10 = t10.padding) && void 0 !== l10 ? l10 : 0) - (f10.y - (null !== (h10 = f10.top) && void 0 !== h10 ? h10 : 0))})`), _x(t10, E10), t10.intersect = function(e31) {
    return Tz.polygon(t10, T10, e31);
  }, p10;
}
async function SN(e30, t10) {
  let r10 = { rx: 0, ry: 0, classes: "", labelPaddingX: 2 * ((null == t10 ? void 0 : t10.padding) || 0), labelPaddingY: 1 * ((null == t10 ? void 0 : t10.padding) || 0) };
  return Sd(e30, t10, r10);
}
async function SR(e30, t10) {
  let r10;
  let { labelStyles: n10, nodeStyles: i10 } = TS(t10);
  t10.labelStyle = n10;
  let { shapeSvg: a10, bbox: s10 } = await _y(e30, t10, _b(t10)), o10 = s10.height + t10.padding, l10 = s10.width + o10 / 4 + t10.padding, { cssStyles: h10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(a10), n11 = TC(t10, {}), i11 = Tk(-l10 / 2, -o10 / 2, l10, o10, o10 / 2), s11 = e31.path(i11, n11);
    (r10 = a10.insert(() => s11, ":first-child")).attr("class", "basic label-container").attr("style", k6(h10));
  } else (r10 = a10.insert("rect", ":first-child")).attr("class", "basic label-container").attr("style", i10).attr("rx", o10 / 2).attr("ry", o10 / 2).attr("x", -l10 / 2).attr("y", -o10 / 2).attr("width", l10).attr("height", o10);
  return _x(t10, r10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, a10;
}
async function SD(e30, t10) {
  return Sd(e30, t10, { rx: 5, ry: 5, classes: "flowchart-node" });
}
function SO(e30, t10, r10) {
  let { config: { themeVariables: n10 } } = r10, { labelStyles: i10, nodeStyles: a10 } = TS(t10);
  t10.labelStyle = i10;
  let { cssStyles: s10 } = t10, { lineColor: o10, stateBorder: l10, nodeBorder: h10 } = n10, u10 = e30.insert("g").attr("class", "node default").attr("id", t10.domId || t10.id), d10 = Tm.svg(u10), p10 = TC(t10, {});
  "handDrawn" !== t10.look && (p10.roughness = 0, p10.fillStyle = "solid");
  let f10 = d10.circle(0, 0, 14, { ...p10, stroke: o10, strokeWidth: 2 }), g10 = null != l10 ? l10 : h10, y10 = d10.circle(0, 0, 5, { ...p10, fill: g10, stroke: g10, strokeWidth: 2, fillStyle: "solid" }), v10 = u10.insert(() => f10, ":first-child");
  return v10.insert(() => y10), s10 && v10.selectAll("path").attr("style", s10), a10 && v10.selectAll("path").attr("style", a10), _x(t10, v10), t10.intersect = function(e31) {
    return Tz.circle(t10, 7, e31);
  }, u10;
}
function S$(e30, t10, r10) {
  let n10, { config: { themeVariables: i10 } } = r10, { lineColor: a10 } = i10, s10 = e30.insert("g").attr("class", "node default").attr("id", t10.domId || t10.id);
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(s10).circle(0, 0, 14, Tw(a10));
    (n10 = s10.insert(() => e31)).attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
  } else (n10 = s10.insert("circle", ":first-child")).attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
  return _x(t10, n10), t10.intersect = function(e31) {
    return Tz.circle(t10, 7, e31);
  }, s10;
}
async function SP(e30, t10) {
  let { labelStyles: r10, nodeStyles: n10 } = TS(t10);
  t10.labelStyle = r10;
  let { shapeSvg: i10, bbox: a10 } = await _y(e30, t10, _b(t10)), s10 = ((null == t10 ? void 0 : t10.padding) || 0) / 2, o10 = a10.width + t10.padding, l10 = a10.height + t10.padding, h10 = -a10.width / 2 - s10, u10 = -a10.height / 2 - s10, d10 = [{ x: 0, y: 0 }, { x: o10, y: 0 }, { x: o10, y: -l10 }, { x: 0, y: -l10 }, { x: 0, y: 0 }, { x: -8, y: 0 }, { x: o10 + 8, y: 0 }, { x: o10 + 8, y: -l10 }, { x: -8, y: -l10 }, { x: -8, y: 0 }];
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(i10), r11 = TC(t10, {}), n11 = e31.rectangle(h10 - 8, u10, o10 + 16, l10, r11), a11 = e31.line(h10, u10, h10, u10 + l10, r11), s11 = e31.line(h10 + o10, u10, h10 + o10, u10 + l10, r11);
    i10.insert(() => a11, ":first-child"), i10.insert(() => s11, ":first-child");
    let d11 = i10.insert(() => n11, ":first-child"), { cssStyles: p10 } = t10;
    d11.attr("class", "basic label-container").attr("style", k6(p10)), _x(t10, d11);
  } else {
    let e31 = TW(i10, o10, l10, d10);
    n10 && e31.attr("style", n10), _x(t10, e31);
  }
  return t10.intersect = function(e31) {
    return Tz.polygon(t10, d10, e31);
  }, i10;
}
async function SB(e30, t10) {
  var r10, n10, i10, a10;
  let { labelStyles: s10, nodeStyles: o10 } = TS(t10);
  t10.labelStyle = s10;
  let { shapeSvg: l10, bbox: h10 } = await _y(e30, t10, _b(t10)), u10 = Math.max(h10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), d10 = Math.max(h10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), p10 = -u10 / 2, f10 = -d10 / 2, g10 = 0.2 * d10, { cssStyles: y10 } = t10, v10 = Tm.svg(l10), x10 = TC(t10, {}), b10 = [{ x: p10 - g10 / 2, y: f10 }, { x: p10 + u10 + g10 / 2, y: f10 }, { x: p10 + u10 + g10 / 2, y: f10 + d10 }, { x: p10 - g10 / 2, y: f10 + d10 }];
  "handDrawn" !== t10.look && (x10.roughness = 0, x10.fillStyle = "solid");
  let k10 = _k(b10), w10 = v10.path(k10, x10), _10 = _k([{ x: p10 + u10 - g10 / 2, y: f10 + d10 }, { x: p10 + u10 + g10 / 2, y: f10 + d10 }, { x: p10 + u10 + g10 / 2, y: f10 + d10 - 0.2 * d10 }]), T10 = v10.path(_10, { ...x10, fillStyle: "solid" }), S10 = l10.insert(() => T10, ":first-child");
  return S10.insert(() => w10, ":first-child"), S10.attr("class", "basic label-container"), y10 && "handDrawn" !== t10.look && S10.selectAll("path").attr("style", y10), o10 && "handDrawn" !== t10.look && S10.selectAll("path").attr("style", o10), _x(t10, S10), t10.intersect = function(e31) {
    return Tz.polygon(t10, b10, e31);
  }, l10;
}
async function SF(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = TS(t10);
  t10.labelStyle = u10;
  let { shapeSvg: p10, bbox: f10, label: g10 } = await _y(e30, t10, _b(t10)), y10 = Math.max(f10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), v10 = Math.max(f10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), x10 = v10 / 4, b10 = 0.2 * y10, k10 = 0.2 * v10, w10 = v10 + x10, { cssStyles: _10 } = t10, T10 = Tm.svg(p10), S10 = TC(t10, {});
  "handDrawn" !== t10.look && (S10.roughness = 0, S10.fillStyle = "solid");
  let C10 = [{ x: -y10 / 2 - y10 / 2 * 0.1, y: w10 / 2 }, ..._w(-y10 / 2 - y10 / 2 * 0.1, w10 / 2, y10 / 2 + y10 / 2 * 0.1, w10 / 2, x10, 0.8), { x: y10 / 2 + y10 / 2 * 0.1, y: -w10 / 2 }, { x: -y10 / 2 - y10 / 2 * 0.1, y: -w10 / 2 }], E10 = -y10 / 2 + y10 / 2 * 0.1, A10 = -w10 / 2 - 0.4 * k10, L10 = [{ x: E10 + y10 - b10, y: (A10 + v10) * 1.4 }, { x: E10 + y10, y: A10 + v10 - k10 }, { x: E10 + y10, y: (A10 + v10) * 0.9 }, ..._w(E10 + y10, (A10 + v10) * 1.3, E10 + y10 - b10, (A10 + v10) * 1.5, -(0.03 * v10), 0.5)], I10 = _k(C10), M10 = T10.path(I10, S10), N10 = _k(L10), R10 = T10.path(N10, { ...S10, fillStyle: "solid" }), D10 = p10.insert(() => R10, ":first-child");
  return D10.insert(() => M10, ":first-child"), D10.attr("class", "basic label-container"), _10 && "handDrawn" !== t10.look && D10.selectAll("path").attr("style", _10), d10 && "handDrawn" !== t10.look && D10.selectAll("path").attr("style", d10), D10.attr("transform", `translate(0,${-x10 / 2})`), g10.attr("transform", `translate(${-y10 / 2 + (null !== (s10 = t10.padding) && void 0 !== s10 ? s10 : 0) - (f10.x - (null !== (o10 = f10.left) && void 0 !== o10 ? o10 : 0))},${-v10 / 2 + (null !== (l10 = t10.padding) && void 0 !== l10 ? l10 : 0) - x10 / 2 - (f10.y - (null !== (h10 = f10.top) && void 0 !== h10 ? h10 : 0))})`), _x(t10, D10), t10.intersect = function(e31) {
    return Tz.polygon(t10, C10, e31);
  }, p10;
}
async function Sz(e30, t10) {
  let { labelStyles: r10, nodeStyles: n10 } = TS(t10);
  t10.labelStyle = r10;
  let { shapeSvg: i10, bbox: a10 } = await _y(e30, t10, _b(t10)), s10 = Math.max(a10.width + t10.padding, (null == t10 ? void 0 : t10.width) || 0), o10 = Math.max(a10.height + t10.padding, (null == t10 ? void 0 : t10.height) || 0), l10 = i10.insert("rect", ":first-child");
  return l10.attr("class", "text").attr("style", n10).attr("rx", 0).attr("ry", 0).attr("x", -s10 / 2).attr("y", -o10 / 2).attr("width", s10).attr("height", o10), _x(t10, l10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, i10;
}
iM(SC, "question"), iM(SE, "rect_left_inv_arrow"), iM(SA, "rectWithTitle"), iM(SL, "roundedRect"), iM(SI, "shadedProcess"), iM(SM, "slopedRect"), iM(SN, "squareRect"), iM(SR, "stadium"), iM(SD, "state"), iM(SO, "stateEnd"), iM(S$, "stateStart"), iM(SP, "subroutine"), iM(SB, "taggedRect"), iM(SF, "taggedWaveEdgedRectangle"), iM(Sz, "text");
var Sj = iM((e30, t10, r10, n10, i10, a10) => `M${e30},${t10}
    a${i10},${a10} 0,0,1 0,${-n10}
    l${r10},0
    a${i10},${a10} 0,0,1 0,${n10}
    M${r10},${-n10}
    a${i10},${a10} 0,0,0 0,${n10}
    l${-r10},0`, "createCylinderPathD"), Sq = iM((e30, t10, r10, n10, i10, a10) => `M${e30},${t10} M${e30 + r10},${t10} a${i10},${a10} 0,0,0 0,${-n10} l${-r10},0 a${i10},${a10} 0,0,0 0,${n10} l${r10},0`, "createOuterCylinderPathD"), SU = iM((e30, t10, r10, n10, i10, a10) => `M${e30 + r10 / 2},${-n10 / 2} a${i10},${a10} 0,0,0 0,${n10}`, "createInnerCylinderPathD");
async function SW(e30, t10) {
  var r10, n10;
  let i10;
  let { labelStyles: a10, nodeStyles: s10 } = TS(t10);
  t10.labelStyle = a10;
  let { shapeSvg: o10, bbox: l10, label: h10, halfPadding: u10 } = await _y(e30, t10, _b(t10)), d10 = "neo" === t10.look ? 2 * u10 : u10, p10 = l10.height + d10, f10 = p10 / 2, g10 = f10 / (2.5 + p10 / 50), y10 = l10.width + g10 + d10, { cssStyles: v10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(o10), r11 = Sq(0, 0, y10, p10, g10, f10), n11 = SU(0, 0, y10, p10, g10, f10), a11 = e31.path(r11, TC(t10, {})), s11 = e31.path(n11, TC(t10, { fill: "none" }));
    i10 = o10.insert(() => s11, ":first-child"), (i10 = o10.insert(() => a11, ":first-child")).attr("class", "basic label-container"), v10 && i10.attr("style", v10);
  } else {
    let e31 = Sj(0, 0, y10, p10, g10, f10);
    (i10 = o10.insert("path", ":first-child").attr("d", e31).attr("class", "basic label-container").attr("style", k6(v10)).attr("style", s10)).attr("class", "basic label-container"), v10 && i10.selectAll("path").attr("style", v10), s10 && i10.selectAll("path").attr("style", s10);
  }
  return i10.attr("label-offset-x", g10), i10.attr("transform", `translate(${-y10 / 2}, ${p10 / 2} )`), h10.attr("transform", `translate(${-(l10.width / 2) - g10 - (l10.x - (null !== (r10 = l10.left) && void 0 !== r10 ? r10 : 0))}, ${-(l10.height / 2) - (l10.y - (null !== (n10 = l10.top) && void 0 !== n10 ? n10 : 0))})`), _x(t10, i10), t10.intersect = function(e31) {
    var r11, n11, i11, a11, s11, o11;
    let l11 = Tz.rect(t10, e31), h11 = l11.y - (null !== (r11 = t10.y) && void 0 !== r11 ? r11 : 0);
    if (0 != f10 && (Math.abs(h11) < (null !== (n11 = t10.height) && void 0 !== n11 ? n11 : 0) / 2 || Math.abs(h11) == (null !== (i11 = t10.height) && void 0 !== i11 ? i11 : 0) / 2 && Math.abs(l11.x - (null !== (a11 = t10.x) && void 0 !== a11 ? a11 : 0)) > (null !== (s11 = t10.width) && void 0 !== s11 ? s11 : 0) / 2 - g10)) {
      let r12 = g10 * g10 * (1 - h11 * h11 / (f10 * f10));
      0 != r12 && (r12 = Math.sqrt(Math.abs(r12))), r12 = g10 - r12, e31.x - (null !== (o11 = t10.x) && void 0 !== o11 ? o11 : 0) > 0 && (r12 = -r12), l11.x += r12;
    }
    return l11;
  }, o10;
}
async function SV(e30, t10) {
  let r10;
  let { labelStyles: n10, nodeStyles: i10 } = TS(t10);
  t10.labelStyle = n10;
  let { shapeSvg: a10, bbox: s10 } = await _y(e30, t10, _b(t10)), o10 = s10.width + t10.padding, l10 = s10.height + t10.padding, h10 = [{ x: -3 * l10 / 6, y: 0 }, { x: o10 + 3 * l10 / 6, y: 0 }, { x: o10, y: -l10 }, { x: 0, y: -l10 }], { cssStyles: u10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(a10), n11 = TC(t10, {}), i11 = _k(h10), s11 = e31.path(i11, n11);
    r10 = a10.insert(() => s11, ":first-child").attr("transform", `translate(${-o10 / 2}, ${l10 / 2})`), u10 && r10.attr("style", u10);
  } else r10 = TW(a10, o10, l10, h10);
  return i10 && r10.attr("style", i10), t10.width = o10, t10.height = l10, _x(t10, r10), t10.intersect = function(e31) {
    return Tz.polygon(t10, h10, e31);
  }, a10;
}
async function SH(e30, t10) {
  var r10, n10, i10, a10;
  let { labelStyles: s10, nodeStyles: o10 } = TS(t10);
  t10.labelStyle = s10;
  let { shapeSvg: l10, bbox: h10 } = await _y(e30, t10, _b(t10)), u10 = Math.max(60, h10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), d10 = Math.max(20, h10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), { cssStyles: p10 } = t10, f10 = Tm.svg(l10), g10 = TC(t10, {});
  "handDrawn" !== t10.look && (g10.roughness = 0, g10.fillStyle = "solid");
  let y10 = [{ x: -u10 / 2 * 0.8, y: -d10 / 2 }, { x: u10 / 2 * 0.8, y: -d10 / 2 }, { x: u10 / 2, y: -d10 / 2 * 0.6 }, { x: u10 / 2, y: d10 / 2 }, { x: -u10 / 2, y: d10 / 2 }, { x: -u10 / 2, y: -d10 / 2 * 0.6 }], v10 = _k(y10), x10 = f10.path(v10, g10), b10 = l10.insert(() => x10, ":first-child");
  return b10.attr("class", "basic label-container"), p10 && "handDrawn" !== t10.look && b10.selectChildren("path").attr("style", p10), o10 && "handDrawn" !== t10.look && b10.selectChildren("path").attr("style", o10), _x(t10, b10), t10.intersect = function(e31) {
    return Tz.polygon(t10, y10, e31);
  }, l10;
}
async function SY(e30, t10) {
  var r10, n10, i10, a10, s10;
  let { labelStyles: o10, nodeStyles: l10 } = TS(t10);
  t10.labelStyle = o10;
  let { shapeSvg: h10, bbox: u10, label: d10 } = await _y(e30, t10, _b(t10)), p10 = sQ(null === (r10 = aj().flowchart) || void 0 === r10 ? void 0 : r10.htmlLabels), f10 = u10.width + (null !== (n10 = t10.padding) && void 0 !== n10 ? n10 : 0), g10 = f10 + u10.height, y10 = f10 + u10.height, v10 = [{ x: 0, y: 0 }, { x: y10, y: 0 }, { x: y10 / 2, y: -g10 }], { cssStyles: x10 } = t10, b10 = Tm.svg(h10), k10 = TC(t10, {});
  "handDrawn" !== t10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let w10 = _k(v10), _10 = b10.path(w10, k10), T10 = h10.insert(() => _10, ":first-child").attr("transform", `translate(${-g10 / 2}, ${g10 / 2})`);
  return x10 && "handDrawn" !== t10.look && T10.selectChildren("path").attr("style", x10), l10 && "handDrawn" !== t10.look && T10.selectChildren("path").attr("style", l10), t10.width = f10, t10.height = g10, _x(t10, T10), d10.attr("transform", `translate(${-u10.width / 2 - (u10.x - (null !== (i10 = u10.left) && void 0 !== i10 ? i10 : 0))}, ${g10 / 2 - (u10.height + (null !== (a10 = t10.padding) && void 0 !== a10 ? a10 : 0) / (p10 ? 2 : 1) - (u10.y - (null !== (s10 = u10.top) && void 0 !== s10 ? s10 : 0)))})`), t10.intersect = function(e31) {
    return iz.info("Triangle intersect", t10, v10, e31), Tz.polygon(t10, v10, e31);
  }, h10;
}
async function SG(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10;
  let { labelStyles: u10, nodeStyles: d10 } = TS(t10);
  t10.labelStyle = u10;
  let { shapeSvg: p10, bbox: f10, label: g10 } = await _y(e30, t10, _b(t10)), y10 = Math.max(f10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), v10 = Math.max(f10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), x10 = v10 / 8, b10 = v10 + x10, { cssStyles: k10 } = t10, w10 = 70 - y10, _10 = w10 > 0 ? w10 / 2 : 0, T10 = Tm.svg(p10), S10 = TC(t10, {});
  "handDrawn" !== t10.look && (S10.roughness = 0, S10.fillStyle = "solid");
  let C10 = [{ x: -y10 / 2 - _10, y: b10 / 2 }, ..._w(-y10 / 2 - _10, b10 / 2, y10 / 2 + _10, b10 / 2, x10, 0.8), { x: y10 / 2 + _10, y: -b10 / 2 }, { x: -y10 / 2 - _10, y: -b10 / 2 }], E10 = _k(C10), A10 = T10.path(E10, S10), L10 = p10.insert(() => A10, ":first-child");
  return L10.attr("class", "basic label-container"), k10 && "handDrawn" !== t10.look && L10.selectAll("path").attr("style", k10), d10 && "handDrawn" !== t10.look && L10.selectAll("path").attr("style", d10), L10.attr("transform", `translate(0,${-x10 / 2})`), g10.attr("transform", `translate(${-y10 / 2 + (null !== (s10 = t10.padding) && void 0 !== s10 ? s10 : 0) - (f10.x - (null !== (o10 = f10.left) && void 0 !== o10 ? o10 : 0))},${-v10 / 2 + (null !== (l10 = t10.padding) && void 0 !== l10 ? l10 : 0) - x10 - (f10.y - (null !== (h10 = f10.top) && void 0 !== h10 ? h10 : 0))})`), _x(t10, L10), t10.intersect = function(e31) {
    return Tz.polygon(t10, C10, e31);
  }, p10;
}
async function SX(e30, t10) {
  var r10, n10, i10, a10;
  let { labelStyles: s10, nodeStyles: o10 } = TS(t10);
  t10.labelStyle = s10;
  let { shapeSvg: l10, bbox: h10 } = await _y(e30, t10, _b(t10)), u10 = Math.max(h10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), d10 = Math.max(h10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), p10 = u10 / d10, f10 = u10, g10 = d10;
  f10 > g10 * p10 ? g10 = f10 / p10 : f10 = g10 * p10, f10 = Math.max(f10, 100);
  let y10 = Math.min(0.2 * (g10 = Math.max(g10, 50)), g10 / 4), v10 = g10 + 2 * y10, { cssStyles: x10 } = t10, b10 = Tm.svg(l10), k10 = TC(t10, {});
  "handDrawn" !== t10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let w10 = [{ x: -f10 / 2, y: v10 / 2 }, ..._w(-f10 / 2, v10 / 2, f10 / 2, v10 / 2, y10, 1), { x: f10 / 2, y: -v10 / 2 }, ..._w(f10 / 2, -v10 / 2, -f10 / 2, -v10 / 2, y10, -1)], _10 = _k(w10), T10 = b10.path(_10, k10), S10 = l10.insert(() => T10, ":first-child");
  return S10.attr("class", "basic label-container"), x10 && "handDrawn" !== t10.look && S10.selectAll("path").attr("style", x10), o10 && "handDrawn" !== t10.look && S10.selectAll("path").attr("style", o10), _x(t10, S10), t10.intersect = function(e31) {
    return Tz.polygon(t10, w10, e31);
  }, l10;
}
async function SK(e30, t10) {
  var r10, n10, i10, a10, s10, o10;
  let { labelStyles: l10, nodeStyles: h10 } = TS(t10);
  t10.labelStyle = l10;
  let { shapeSvg: u10, bbox: d10, label: p10 } = await _y(e30, t10, _b(t10)), f10 = Math.max(d10.width + (null !== (r10 = t10.padding) && void 0 !== r10 ? r10 : 0) * 2, null !== (n10 = null == t10 ? void 0 : t10.width) && void 0 !== n10 ? n10 : 0), g10 = Math.max(d10.height + (null !== (i10 = t10.padding) && void 0 !== i10 ? i10 : 0) * 2, null !== (a10 = null == t10 ? void 0 : t10.height) && void 0 !== a10 ? a10 : 0), y10 = -f10 / 2, v10 = -g10 / 2, { cssStyles: x10 } = t10, b10 = Tm.svg(u10), k10 = TC(t10, {}), w10 = [{ x: y10 - 5, y: v10 - 5 }, { x: y10 - 5, y: v10 + g10 }, { x: y10 + f10, y: v10 + g10 }, { x: y10 + f10, y: v10 - 5 }], _10 = `M${y10 - 5},${v10 - 5} L${y10 + f10},${v10 - 5} L${y10 + f10},${v10 + g10} L${y10 - 5},${v10 + g10} L${y10 - 5},${v10 - 5}
                M${y10 - 5},${v10} L${y10 + f10},${v10}
                M${y10},${v10 - 5} L${y10},${v10 + g10}`;
  "handDrawn" !== t10.look && (k10.roughness = 0, k10.fillStyle = "solid");
  let T10 = b10.path(_10, k10), S10 = u10.insert(() => T10, ":first-child");
  return S10.attr("transform", "translate(2.5, 2.5)"), S10.attr("class", "basic label-container"), x10 && "handDrawn" !== t10.look && S10.selectAll("path").attr("style", x10), h10 && "handDrawn" !== t10.look && S10.selectAll("path").attr("style", h10), p10.attr("transform", `translate(${-(d10.width / 2) + 2.5 - (d10.x - (null !== (s10 = d10.left) && void 0 !== s10 ? s10 : 0))}, ${-(d10.height / 2) + 2.5 - (d10.y - (null !== (o10 = d10.top) && void 0 !== o10 ? o10 : 0))})`), _x(t10, S10), t10.intersect = function(e31) {
    return Tz.polygon(t10, w10, e31);
  }, u10;
}
async function SZ(e30, t10, r10, n10) {
  let i10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null !== (t7 = r10.class.padding) && void 0 !== t7 ? t7 : 12, a10 = n10 ? 0 : 3, s10 = e30.insert("g").attr("class", _b(t10)).attr("id", t10.domId || t10.id), o10 = null, l10 = null, h10 = null, u10 = null, d10 = 0, p10 = 0, f10 = 0;
  if (o10 = s10.insert("g").attr("class", "annotation-group text"), t10.annotations.length > 0) {
    let e31 = t10.annotations[0];
    await SQ(o10, { text: `«${e31}»` }, 0), d10 = o10.node().getBBox().height;
  }
  l10 = s10.insert("g").attr("class", "label-group text"), await SQ(l10, t10, 0, ["font-weight: bolder"]);
  let g10 = l10.node().getBBox();
  p10 = g10.height, h10 = s10.insert("g").attr("class", "members-group text");
  let y10 = 0;
  for (let e31 of t10.members) {
    let t11 = await SQ(h10, e31, y10, [e31.parseClassifier()]);
    y10 += t11 + a10;
  }
  (f10 = h10.node().getBBox().height) <= 0 && (f10 = i10 / 2), u10 = s10.insert("g").attr("class", "methods-group text");
  let v10 = 0;
  for (let e31 of t10.methods) {
    let t11 = await SQ(u10, e31, v10, [e31.parseClassifier()]);
    v10 += t11 + a10;
  }
  let x10 = s10.node().getBBox();
  if (null !== o10) {
    let e31 = o10.node().getBBox();
    o10.attr("transform", `translate(${-e31.width / 2})`);
  }
  return l10.attr("transform", `translate(${-g10.width / 2}, ${d10})`), x10 = s10.node().getBBox(), h10.attr("transform", `translate(0, ${d10 + p10 + 2 * i10})`), x10 = s10.node().getBBox(), u10.attr("transform", `translate(0, ${d10 + p10 + (f10 ? f10 + 4 * i10 : 2 * i10)})`), x10 = s10.node().getBBox(), { shapeSvg: s10, bbox: x10 };
}
async function SQ(e30, t10, r10) {
  var n10;
  let i10, a10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [], s10 = e30.insert("g").attr("class", "label").attr("style", a10.join("; ")), o10 = aj(), l10 = "useHtmlLabels" in t10 ? t10.useHtmlLabels : null === (n10 = sQ(o10.htmlLabels)) || void 0 === n10 || n10, h10 = "";
  h10 = "text" in t10 ? t10.text : t10.label, !l10 && h10.startsWith("\\") && (h10 = h10.substring(1)), s7(h10) && (l10 = true);
  let u10 = await _m(s10, ob(k3(h10)), { width: kG(h10, o10) + 50, classes: "markdown-node-label", useHtmlLabels: l10 }, o10), d10 = 1;
  if (l10) {
    let e31 = u10.children[0], t11 = c$(u10);
    d10 = e31.innerHTML.split("<br>").length, e31.innerHTML.includes("</math>") && (d10 += e31.innerHTML.split("<mrow>").length - 1);
    let r11 = e31.getElementsByTagName("img");
    if (r11) {
      let e32 = "" === h10.replace(/<img[^>]*>/g, "").trim();
      await Promise.all([...r11].map((t12) => new Promise((r12) => {
        function n11() {
          if (t12.style.display = "flex", t12.style.flexDirection = "column", e32) {
            var n12, i11;
            let e33 = 5 * parseInt(null !== (i11 = null === (n12 = o10.fontSize) || void 0 === n12 ? void 0 : n12.toString()) && void 0 !== i11 ? i11 : window.getComputedStyle(document.body).fontSize, 10) + "px";
            t12.style.minWidth = e33, t12.style.maxWidth = e33;
          } else t12.style.width = "100%";
          r12(t12);
        }
        iM(n11, "setupImage"), setTimeout(() => {
          t12.complete && n11();
        }), t12.addEventListener("error", n11), t12.addEventListener("load", n11);
      })));
    }
    i10 = e31.getBoundingClientRect(), t11.attr("width", i10.width), t11.attr("height", i10.height);
  } else {
    a10.includes("font-weight: bolder") && c$(u10).selectAll("tspan").attr("font-weight", ""), d10 = u10.children.length;
    let e31 = u10.children[0];
    ("" === u10.textContent || u10.textContent.includes("&gt")) && (e31.textContent = h10[0] + h10.substring(1).replaceAll("&gt;", ">").replaceAll("&lt;", "<").trim(), " " === h10[1] && (e31.textContent = e31.textContent[0] + " " + e31.textContent.substring(1))), "undefined" === e31.textContent && (e31.textContent = ""), i10 = u10.getBBox();
  }
  return s10.attr("transform", "translate(0," + (-i10.height / (2 * d10) + r10) + ")"), i10.height;
}
async function SJ(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10;
  let u10 = aj(), d10 = null !== (i10 = u10.class.padding) && void 0 !== i10 ? i10 : 12, p10 = null === (s10 = null !== (a10 = t10.useHtmlLabels) && void 0 !== a10 ? a10 : sQ(u10.htmlLabels)) || void 0 === s10 || s10;
  t10.annotations = null !== (o10 = t10.annotations) && void 0 !== o10 ? o10 : [], t10.members = null !== (l10 = t10.members) && void 0 !== l10 ? l10 : [], t10.methods = null !== (h10 = t10.methods) && void 0 !== h10 ? h10 : [];
  let { shapeSvg: f10, bbox: g10 } = await SZ(e30, t10, u10, p10, d10), { labelStyles: y10, nodeStyles: v10 } = TS(t10);
  t10.labelStyle = y10, t10.cssStyles = t10.styles || "";
  let x10 = (null === (r10 = t10.styles) || void 0 === r10 ? void 0 : r10.join(";")) || v10 || "";
  t10.cssStyles || (t10.cssStyles = x10.replaceAll("!important", "").split(";"));
  let b10 = 0 === t10.members.length && 0 === t10.methods.length && !(null === (n10 = u10.class) || void 0 === n10 ? void 0 : n10.hideEmptyMembersBox), k10 = Tm.svg(f10), w10 = TC(t10, {});
  "handDrawn" !== t10.look && (w10.roughness = 0, w10.fillStyle = "solid");
  let _10 = g10.width, T10 = g10.height;
  0 === t10.members.length && 0 === t10.methods.length ? T10 += d10 : t10.members.length > 0 && 0 === t10.methods.length && (T10 += 2 * d10);
  let S10 = -_10 / 2, C10 = -T10 / 2, E10 = k10.rectangle(S10 - d10, C10 - d10 - (b10 ? d10 : 0 === t10.members.length && 0 === t10.methods.length ? -d10 / 2 : 0), _10 + 2 * d10, T10 + 2 * d10 + (b10 ? 2 * d10 : 0 === t10.members.length && 0 === t10.methods.length ? -d10 : 0), w10), A10 = f10.insert(() => E10, ":first-child");
  A10.attr("class", "basic label-container");
  let L10 = A10.node().getBBox();
  f10.selectAll(".text").each((e31, r11, n11) => {
    let i11 = c$(n11[r11]), a11 = i11.attr("transform"), s11 = 0;
    if (a11) {
      let e32 = RegExp(/translate\(([^,]+),([^)]+)\)/).exec(a11);
      e32 && (s11 = parseFloat(e32[2]));
    }
    let o11 = s11 + C10 + d10 - (b10 ? d10 : 0 === t10.members.length && 0 === t10.methods.length ? -d10 / 2 : 0);
    p10 || (o11 -= 4);
    let l11 = S10;
    if (i11.attr("class").includes("label-group") || i11.attr("class").includes("annotation-group")) {
      var h11;
      l11 = -(null === (h11 = i11.node()) || void 0 === h11 ? void 0 : h11.getBBox().width) / 2 || 0, f10.selectAll("text").each(function(e32, t11, r12) {
        "middle" === window.getComputedStyle(r12[t11]).textAnchor && (l11 = 0);
      });
    }
    i11.attr("transform", `translate(${l11}, ${o11})`);
  });
  let I10 = f10.select(".annotation-group").node().getBBox().height - (b10 ? d10 / 2 : 0) || 0, M10 = f10.select(".label-group").node().getBBox().height - (b10 ? d10 / 2 : 0) || 0, N10 = f10.select(".members-group").node().getBBox().height - (b10 ? d10 / 2 : 0) || 0;
  if (t10.members.length > 0 || t10.methods.length > 0 || b10) {
    let e31 = k10.line(L10.x, I10 + M10 + C10 + d10, L10.x + L10.width, I10 + M10 + C10 + d10, w10);
    f10.insert(() => e31).attr("class", "divider").attr("style", x10);
  }
  if (b10 || t10.members.length > 0 || t10.methods.length > 0) {
    let e31 = k10.line(L10.x, I10 + M10 + N10 + C10 + 2 * d10 + d10, L10.x + L10.width, I10 + M10 + N10 + C10 + d10 + 2 * d10, w10);
    f10.insert(() => e31).attr("class", "divider").attr("style", x10);
  }
  if ("handDrawn" !== t10.look && f10.selectAll("path").attr("style", x10), A10.select(":nth-child(2)").attr("style", x10), f10.selectAll(".divider").select("path").attr("style", x10), t10.labelStyle ? f10.selectAll("span").attr("style", t10.labelStyle) : f10.selectAll("span").attr("style", x10), !p10) {
    let e31 = RegExp(/color\s*:\s*([^;]*)/), t11 = e31.exec(x10);
    if (t11) {
      let e32 = t11[0].replace("color", "fill");
      f10.selectAll("tspan").attr("style", e32);
    } else if (y10) {
      let t12 = e31.exec(y10);
      if (t12) {
        let e32 = t12[0].replace("color", "fill");
        f10.selectAll("tspan").attr("style", e32);
      }
    }
  }
  return _x(t10, A10), t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, f10;
}
iM(SW, "tiltedCylinder"), iM(SV, "trapezoid"), iM(SH, "trapezoidalPentagon"), iM(SY, "triangle"), iM(SG, "waveEdgedRectangle"), iM(SX, "waveRectangle"), iM(SK, "windowPane"), iM(SZ, "textHelper"), iM(SQ, "addText"), iM(SJ, "classBox");
var S0 = iM((e30) => {
  switch (e30) {
    case "Very High":
      return "red";
    case "High":
      return "orange";
    case "Medium":
      return null;
    case "Low":
      return "blue";
    case "Very Low":
      return "lightblue";
  }
}, "colorFromPriority");
async function S1(e30, t10, r10) {
  var n10, i10, a10;
  let s10, o10, l10, h10, { config: u10 } = r10, { labelStyles: d10, nodeStyles: p10 } = TS(t10);
  t10.labelStyle = d10 || "";
  let f10 = t10.width;
  t10.width = (null !== (i10 = t10.width) && void 0 !== i10 ? i10 : 200) - 10;
  let { shapeSvg: g10, bbox: y10, label: v10 } = await _y(e30, t10, _b(t10)), x10 = t10.padding || 10, b10 = "";
  "ticket" in t10 && t10.ticket && (null == u10 ? void 0 : null === (n10 = u10.kanban) || void 0 === n10 ? void 0 : n10.ticketBaseUrl) && (b10 = null == u10 ? void 0 : null === (a10 = u10.kanban) || void 0 === a10 ? void 0 : a10.ticketBaseUrl.replace("#TICKET#", t10.ticket), s10 = g10.insert("svg:a", ":first-child").attr("class", "kanban-ticket-link").attr("xlink:href", b10).attr("target", "_blank"));
  let k10 = { useHtmlLabels: t10.useHtmlLabels, labelStyle: t10.labelStyle || "", width: t10.width, img: t10.img, padding: t10.padding || 8, centerLabel: false };
  s10 ? { label: o10, bbox: l10 } = await _v(s10, "ticket" in t10 && t10.ticket || "", k10) : { label: o10, bbox: l10 } = await _v(g10, "ticket" in t10 && t10.ticket || "", k10);
  let { label: w10, bbox: _10 } = await _v(g10, "assigned" in t10 && t10.assigned || "", k10);
  t10.width = f10;
  let T10 = (null == t10 ? void 0 : t10.width) || 0, S10 = Math.max(l10.height, _10.height) / 2, C10 = Math.max(y10.height + 20, (null == t10 ? void 0 : t10.height) || 0) + S10, E10 = -T10 / 2, A10 = -C10 / 2;
  v10.attr("transform", "translate(" + (x10 - T10 / 2) + ", " + (-S10 - y10.height / 2) + ")"), o10.attr("transform", "translate(" + (x10 - T10 / 2) + ", " + (-S10 + y10.height / 2) + ")"), w10.attr("transform", "translate(" + (x10 + T10 / 2 - _10.width - 20) + ", " + (-S10 + y10.height / 2) + ")");
  let { rx: L10, ry: I10 } = t10, { cssStyles: M10 } = t10;
  if ("handDrawn" === t10.look) {
    let e31 = Tm.svg(g10), r11 = TC(t10, {}), n11 = L10 || I10 ? e31.path(Tk(E10, A10, T10, C10, L10 || 0), r11) : e31.rectangle(E10, A10, T10, C10, r11);
    (h10 = g10.insert(() => n11, ":first-child")).attr("class", "basic label-container").attr("style", M10 || null);
  } else {
    (h10 = g10.insert("rect", ":first-child")).attr("class", "basic label-container __APA__").attr("style", p10).attr("rx", null != L10 ? L10 : 5).attr("ry", null != I10 ? I10 : 5).attr("x", E10).attr("y", A10).attr("width", T10).attr("height", C10);
    let e31 = "priority" in t10 && t10.priority;
    if (e31) {
      let t11 = g10.append("line"), r11 = E10 + 2, n11 = A10 + Math.floor((null != L10 ? L10 : 0) / 2), i11 = A10 + C10 - Math.floor((null != L10 ? L10 : 0) / 2);
      t11.attr("x1", r11).attr("y1", n11).attr("x2", r11).attr("y2", i11).attr("stroke-width", "4").attr("stroke", S0(e31));
    }
  }
  return _x(t10, h10), t10.height = C10, t10.intersect = function(e31) {
    return Tz.rect(t10, e31);
  }, g10;
}
iM(S1, "kanbanItem");
var S2 = [{ semanticName: "Process", name: "Rectangle", shortName: "rect", description: "Standard process shape", aliases: ["proc", "process", "rectangle"], internalAliases: ["squareRect"], handler: SN }, { semanticName: "Event", name: "Rounded Rectangle", shortName: "rounded", description: "Represents an event", aliases: ["event"], internalAliases: ["roundedRect"], handler: SL }, { semanticName: "Terminal Point", name: "Stadium", shortName: "stadium", description: "Terminal point", aliases: ["terminal", "pill"], handler: SR }, { semanticName: "Subprocess", name: "Framed Rectangle", shortName: "fr-rect", description: "Subprocess", aliases: ["subprocess", "subproc", "framed-rectangle", "subroutine"], handler: SP }, { semanticName: "Database", name: "Cylinder", shortName: "cyl", description: "Database storage", aliases: ["db", "database", "cylinder"], handler: T6 }, { semanticName: "Start", name: "Circle", shortName: "circle", description: "Starting point", aliases: ["circ"], handler: TY }, { semanticName: "Decision", name: "Diamond", shortName: "diam", description: "Decision-making step", aliases: ["decision", "diamond", "question"], handler: SC }, { semanticName: "Prepare Conditional", name: "Hexagon", shortName: "hex", description: "Preparation or condition step", aliases: ["hexagon", "prepare"], handler: Si }, { semanticName: "Data Input/Output", name: "Lean Right", shortName: "lean-r", description: "Represents input or output", aliases: ["lean-right", "in-out"], internalAliases: ["lean_right"], handler: Sg }, { semanticName: "Data Input/Output", name: "Lean Left", shortName: "lean-l", description: "Represents output or input", aliases: ["lean-left", "out-in"], internalAliases: ["lean_left"], handler: Sf }, { semanticName: "Priority Action", name: "Trapezoid Base Bottom", shortName: "trap-b", description: "Priority action", aliases: ["priority", "trapezoid-bottom", "trapezoid"], handler: SV }, { semanticName: "Manual Operation", name: "Trapezoid Base Top", shortName: "trap-t", description: "Represents a manual task", aliases: ["manual", "trapezoid-top", "inv-trapezoid"], internalAliases: ["inv_trapezoid"], handler: Su }, { semanticName: "Stop", name: "Double Circle", shortName: "dbl-circ", description: "Represents a stop point", aliases: ["double-circle"], internalAliases: ["doublecircle"], handler: T8 }, { semanticName: "Text Block", name: "Text Block", shortName: "text", description: "Text block", handler: Sz }, { semanticName: "Card", name: "Notched Rectangle", shortName: "notch-rect", description: "Represents a card", aliases: ["card", "notched-rectangle"], handler: TV }, { semanticName: "Lined/Shaded Process", name: "Lined Rectangle", shortName: "lin-rect", description: "Lined process shape", aliases: ["lined-rectangle", "lined-process", "lin-proc", "shaded-process"], handler: SI }, { semanticName: "Start", name: "Small Circle", shortName: "sm-circ", description: "Small starting point", aliases: ["start", "small-circle"], internalAliases: ["stateStart"], handler: S$ }, { semanticName: "Stop", name: "Framed Circle", shortName: "fr-circ", description: "Stop point", aliases: ["stop", "framed-circle"], internalAliases: ["stateEnd"], handler: SO }, { semanticName: "Fork/Join", name: "Filled Rectangle", shortName: "fork", description: "Fork or join in process flow", aliases: ["join"], internalAliases: ["forkJoin"], handler: St }, { semanticName: "Collate", name: "Hourglass", shortName: "hourglass", description: "Represents a collate operation", aliases: ["hourglass", "collate"], handler: Sa }, { semanticName: "Comment", name: "Curly Brace", shortName: "brace", description: "Adds a comment", aliases: ["comment", "brace-l"], handler: TZ }, { semanticName: "Comment Right", name: "Curly Brace", shortName: "brace-r", description: "Adds a comment", handler: TJ }, { semanticName: "Comment with braces on both sides", name: "Curly Braces", shortName: "braces", description: "Adds a comment", handler: T1 }, { semanticName: "Com Link", name: "Lightning Bolt", shortName: "bolt", description: "Communication link", aliases: ["com-link", "lightning-bolt"], handler: Sm }, { semanticName: "Document", name: "Document", shortName: "doc", description: "Represents a document", aliases: ["doc", "document"], handler: SG }, { semanticName: "Delay", name: "Half-Rounded Rectangle", shortName: "delay", description: "Represents a delay", aliases: ["half-rounded-rectangle"], handler: Sr }, { semanticName: "Direct Access Storage", name: "Horizontal Cylinder", shortName: "h-cyl", description: "Direct access storage", aliases: ["das", "horizontal-cylinder"], handler: SW }, { semanticName: "Disk Storage", name: "Lined Cylinder", shortName: "lin-cyl", description: "Disk storage", aliases: ["disk", "lined-cylinder"], handler: Sb }, { semanticName: "Display", name: "Curved Trapezoid", shortName: "curv-trap", description: "Represents a display", aliases: ["curved-trapezoid", "display"], handler: T2 }, { semanticName: "Divided Process", name: "Divided Rectangle", shortName: "div-rect", description: "Divided process shape", aliases: ["div-proc", "divided-rectangle", "divided-process"], handler: T7 }, { semanticName: "Extract", name: "Triangle", shortName: "tri", description: "Extraction process", aliases: ["extract", "triangle"], handler: SY }, { semanticName: "Internal Storage", name: "Window Pane", shortName: "win-pane", description: "Internal storage", aliases: ["internal-storage", "window-pane"], handler: SK }, { semanticName: "Junction", name: "Filled Circle", shortName: "f-circ", description: "Junction point", aliases: ["junction", "filled-circle"], handler: T9 }, { semanticName: "Loop Limit", name: "Trapezoidal Pentagon", shortName: "notch-pent", description: "Loop limit step", aliases: ["loop-limit", "notched-pentagon"], handler: SH }, { semanticName: "Manual File", name: "Flipped Triangle", shortName: "flip-tri", description: "Manual file operation", aliases: ["manual-file", "flipped-triangle"], handler: Se }, { semanticName: "Manual Input", name: "Sloped Rectangle", shortName: "sl-rect", description: "Manual input step", aliases: ["manual-input", "sloped-rectangle"], handler: SM }, { semanticName: "Multi-Document", name: "Stacked Document", shortName: "docs", description: "Multiple documents", aliases: ["documents", "st-doc", "stacked-document"], handler: S_ }, { semanticName: "Multi-Process", name: "Stacked Rectangle", shortName: "st-rect", description: "Multiple processes", aliases: ["procs", "processes", "stacked-rectangle"], handler: Sw }, { semanticName: "Stored Data", name: "Bow Tie Rectangle", shortName: "bow-rect", description: "Stored data", aliases: ["stored-data", "bow-tie-rectangle"], handler: TU }, { semanticName: "Summary", name: "Crossed Circle", shortName: "cross-circ", description: "Summary", aliases: ["summary", "crossed-circle"], handler: TX }, { semanticName: "Tagged Document", name: "Tagged Document", shortName: "tag-doc", description: "Tagged document", aliases: ["tag-doc", "tagged-document"], handler: SF }, { semanticName: "Tagged Process", name: "Tagged Rectangle", shortName: "tag-rect", description: "Tagged process", aliases: ["tagged-rectangle", "tag-proc", "tagged-process"], handler: SB }, { semanticName: "Paper Tape", name: "Flag", shortName: "flag", description: "Paper tape", aliases: ["paper-tape"], handler: SX }, { semanticName: "Odd", name: "Odd", shortName: "odd", description: "Odd shape", internalAliases: ["rect_left_inv_arrow"], handler: SE }, { semanticName: "Lined Document", name: "Lined Document", shortName: "lin-doc", description: "Lined document", aliases: ["lined-document"], handler: Sk }], S4 = iM(() => Object.fromEntries([...Object.entries({ state: SD, choice: TH, note: ST, rectWithTitle: SA, labelRect: Sp, iconSquare: Sc, iconCircle: So, icon: Ss, iconRounded: Sl, imageSquare: Sh, anchor: Tj, kanbanItem: S1, classBox: SJ }), ...S2.flatMap((e30) => [e30.shortName, ..."aliases" in e30 ? e30.aliases : [], ..."internalAliases" in e30 ? e30.internalAliases : []].map((t10) => [t10, e30.handler]))]), "generateShapeMap")();
function S3(e30) {
  return e30 in S4;
}
iM(S3, "isValidShape");
var S5 = /* @__PURE__ */ new Map();
async function S6(e30, t10, r10) {
  let n10, i10;
  "rect" === t10.shape && (t10.rx && t10.ry ? t10.shape = "roundedRect" : t10.shape = "squareRect");
  let a10 = t10.shape ? S4[t10.shape] : void 0;
  if (!a10) throw Error(`No such shape: ${t10.shape}. Please check your syntax.`);
  if (t10.link) {
    let s10;
    "sandbox" === r10.config.securityLevel ? s10 = "_top" : t10.linkTarget && (s10 = t10.linkTarget || "_blank"), n10 = e30.insert("svg:a").attr("xlink:href", t10.link).attr("target", null != s10 ? s10 : null), i10 = await a10(n10, t10, r10);
  } else n10 = i10 = await a10(e30, t10, r10);
  return t10.tooltip && i10.attr("title", t10.tooltip), S5.set(t10.id, n10), t10.haveCallback && n10.attr("class", n10.attr("class") + " clickable"), n10;
}
iM(S6, "insertNode");
var S7 = iM((e30, t10) => {
  S5.set(t10.id, e30);
}, "setNodeElem"), S8 = iM(() => {
  S5.clear();
}, "clear"), S9 = iM((e30) => {
  let t10 = S5.get(e30.id);
  iz.trace("Transforming node", e30.diff, e30, "translate(" + (e30.x - e30.width / 2 - 5) + ", " + e30.width / 2 + ")");
  let r10 = e30.diff || 0;
  return e30.clusterNode ? t10.attr("transform", "translate(" + (e30.x + r10 - e30.width / 2) + ", " + (e30.y - e30.height / 2 - 8) + ")") : t10.attr("transform", "translate(" + e30.x + ", " + e30.y + ")"), r10;
}, "positionNode"), Ce = { aggregation: 18, extension: 18, composition: 18, dependency: 6, lollipop: 13.5, arrow_point: 4 };
function Ct(e30, t10) {
  if (void 0 === e30 || void 0 === t10) return { angle: 0, deltaX: 0, deltaY: 0 };
  e30 = Cr(e30), t10 = Cr(t10);
  let [r10, n10] = [e30.x, e30.y], [i10, a10] = [t10.x, t10.y], s10 = i10 - r10, o10 = a10 - n10;
  return { angle: Math.atan(o10 / s10), deltaX: s10, deltaY: o10 };
}
iM(Ct, "calculateDeltaAndAngle");
var Cr = iM((e30) => Array.isArray(e30) ? { x: e30[0], y: e30[1] } : e30, "pointTransformer"), Cn = iM((e30) => ({ x: iM(function(t10, r10, n10) {
  let i10 = 0, a10 = Cr(n10[0]).x < Cr(n10[n10.length - 1]).x ? "left" : "right";
  if (0 === r10 && Object.hasOwn(Ce, e30.arrowTypeStart)) {
    let { angle: t11, deltaX: r11 } = Ct(n10[0], n10[1]);
    i10 = Ce[e30.arrowTypeStart] * Math.cos(t11) * (r11 >= 0 ? 1 : -1);
  } else if (r10 === n10.length - 1 && Object.hasOwn(Ce, e30.arrowTypeEnd)) {
    let { angle: t11, deltaX: r11 } = Ct(n10[n10.length - 1], n10[n10.length - 2]);
    i10 = Ce[e30.arrowTypeEnd] * Math.cos(t11) * (r11 >= 0 ? 1 : -1);
  }
  let s10 = Math.abs(Cr(t10).x - Cr(n10[n10.length - 1]).x), o10 = Math.abs(Cr(t10).y - Cr(n10[n10.length - 1]).y), l10 = Math.abs(Cr(t10).x - Cr(n10[0]).x), h10 = Math.abs(Cr(t10).y - Cr(n10[0]).y), u10 = Ce[e30.arrowTypeStart], d10 = Ce[e30.arrowTypeEnd];
  if (s10 < d10 && s10 > 0 && o10 < d10) {
    let e31 = d10 + 1 - s10;
    e31 *= "right" === a10 ? -1 : 1, i10 -= e31;
  }
  if (l10 < u10 && l10 > 0 && h10 < u10) {
    let e31 = u10 + 1 - l10;
    e31 *= "right" === a10 ? -1 : 1, i10 += e31;
  }
  return Cr(t10).x + i10;
}, "x"), y: iM(function(t10, r10, n10) {
  let i10 = 0, a10 = Cr(n10[0]).y < Cr(n10[n10.length - 1]).y ? "down" : "up";
  if (0 === r10 && Object.hasOwn(Ce, e30.arrowTypeStart)) {
    let { angle: t11, deltaY: r11 } = Ct(n10[0], n10[1]);
    i10 = Ce[e30.arrowTypeStart] * Math.abs(Math.sin(t11)) * (r11 >= 0 ? 1 : -1);
  } else if (r10 === n10.length - 1 && Object.hasOwn(Ce, e30.arrowTypeEnd)) {
    let { angle: t11, deltaY: r11 } = Ct(n10[n10.length - 1], n10[n10.length - 2]);
    i10 = Ce[e30.arrowTypeEnd] * Math.abs(Math.sin(t11)) * (r11 >= 0 ? 1 : -1);
  }
  let s10 = Math.abs(Cr(t10).y - Cr(n10[n10.length - 1]).y), o10 = Math.abs(Cr(t10).x - Cr(n10[n10.length - 1]).x), l10 = Math.abs(Cr(t10).y - Cr(n10[0]).y), h10 = Math.abs(Cr(t10).x - Cr(n10[0]).x), u10 = Ce[e30.arrowTypeStart], d10 = Ce[e30.arrowTypeEnd];
  if (s10 < d10 && s10 > 0 && o10 < d10) {
    let e31 = d10 + 1 - s10;
    e31 *= "up" === a10 ? -1 : 1, i10 -= e31;
  }
  if (l10 < u10 && l10 > 0 && h10 < u10) {
    let e31 = u10 + 1 - l10;
    e31 *= "up" === a10 ? -1 : 1, i10 += e31;
  }
  return Cr(t10).y + i10;
}, "y") }), "getLineFunctionsWithOffset"), Ci = iM((e30, t10, r10, n10, i10) => {
  t10.arrowTypeStart && Cs(e30, "start", t10.arrowTypeStart, r10, n10, i10), t10.arrowTypeEnd && Cs(e30, "end", t10.arrowTypeEnd, r10, n10, i10);
}, "addEdgeMarkers"), Ca = { arrow_cross: "cross", arrow_point: "point", arrow_barb: "barb", arrow_circle: "circle", aggregation: "aggregation", extension: "extension", composition: "composition", dependency: "dependency", lollipop: "lollipop" }, Cs = iM((e30, t10, r10, n10, i10, a10) => {
  let s10 = Ca[r10];
  if (!s10) {
    iz.warn(`Unknown arrow type: ${r10}`);
    return;
  }
  e30.attr(`marker-${t10}`, `url(${n10}#${i10}_${a10}-${s10}${"start" === t10 ? "Start" : "End"})`);
}, "addEdgeMarker"), Co = /* @__PURE__ */ new Map(), Cl = /* @__PURE__ */ new Map(), Cc = iM(() => {
  Co.clear(), Cl.clear();
}, "clear"), Ch = iM((e30) => e30 ? e30.reduce((e31, t10) => e31 + ";" + t10, "") : "", "getLabelStyles"), Cu = iM(async (e30, t10) => {
  let r10, n10 = sQ(aj().flowchart.htmlLabels), i10 = await _m(e30, t10.label, { style: Ch(t10.labelStyle), useHtmlLabels: n10, addSvgBackground: true, isNode: false });
  iz.info("abc82", t10, t10.labelType);
  let a10 = e30.insert("g").attr("class", "edgeLabel"), s10 = a10.insert("g").attr("class", "label");
  s10.node().appendChild(i10);
  let o10 = i10.getBBox();
  if (n10) {
    let e31 = i10.children[0], t11 = c$(i10);
    o10 = e31.getBoundingClientRect(), t11.attr("width", o10.width), t11.attr("height", o10.height);
  }
  if (s10.attr("transform", "translate(" + -o10.width / 2 + ", " + -o10.height / 2 + ")"), Co.set(t10.id, a10), t10.width = o10.width, t10.height = o10.height, t10.startLabelLeft) {
    let n11 = await Tb(t10.startLabelLeft, Ch(t10.labelStyle)), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), Cl.get(t10.id) || Cl.set(t10.id, {}), Cl.get(t10.id).startLeft = i11, Cd(r10, t10.startLabelLeft);
  }
  if (t10.startLabelRight) {
    let n11 = await Tb(t10.startLabelRight, Ch(t10.labelStyle)), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = i11.node().appendChild(n11), a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), Cl.get(t10.id) || Cl.set(t10.id, {}), Cl.get(t10.id).startRight = i11, Cd(r10, t10.startLabelRight);
  }
  if (t10.endLabelLeft) {
    let n11 = await Tb(t10.endLabelLeft, Ch(t10.labelStyle)), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), i11.node().appendChild(n11), Cl.get(t10.id) || Cl.set(t10.id, {}), Cl.get(t10.id).endLeft = i11, Cd(r10, t10.endLabelLeft);
  }
  if (t10.endLabelRight) {
    let n11 = await Tb(t10.endLabelRight, Ch(t10.labelStyle)), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), i11.node().appendChild(n11), Cl.get(t10.id) || Cl.set(t10.id, {}), Cl.get(t10.id).endRight = i11, Cd(r10, t10.endLabelRight);
  }
  return i10;
}, "insertEdgeLabel");
function Cd(e30, t10) {
  aj().flowchart.htmlLabels && e30 && (e30.style.width = 9 * t10.length + "px", e30.style.height = "12px");
}
iM(Cd, "setTerminalWidth");
var Cp = iM((e30, t10) => {
  iz.debug("Moving label abc88 ", e30.id, e30.label, Co.get(e30.id), t10);
  let r10 = t10.updatedPath ? t10.updatedPath : t10.originalPath, { subGraphTitleTotalMargin: n10 } = vO(aj());
  if (e30.label) {
    let i10 = Co.get(e30.id), a10 = e30.x, s10 = e30.y;
    if (r10) {
      let n11 = k2.calcLabelPosition(r10);
      iz.debug("Moving label " + e30.label + " from (", a10, ",", s10, ") to (", n11.x, ",", n11.y, ") abc88"), t10.updatedPath && (a10 = n11.x, s10 = n11.y);
    }
    i10.attr("transform", `translate(${a10}, ${s10 + n10 / 2})`);
  }
  if (e30.startLabelLeft) {
    let t11 = Cl.get(e30.id).startLeft, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeStart ? 10 : 0, "start_left", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
  if (e30.startLabelRight) {
    let t11 = Cl.get(e30.id).startRight, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeStart ? 10 : 0, "start_right", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
  if (e30.endLabelLeft) {
    let t11 = Cl.get(e30.id).endLeft, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeEnd ? 10 : 0, "end_left", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
  if (e30.endLabelRight) {
    let t11 = Cl.get(e30.id).endRight, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeEnd ? 10 : 0, "end_right", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
}, "positionEdgeLabel"), Cf = iM((e30, t10) => {
  let r10 = e30.x, n10 = e30.y, i10 = Math.abs(t10.x - r10), a10 = Math.abs(t10.y - n10), s10 = e30.width / 2, o10 = e30.height / 2;
  return i10 >= s10 || a10 >= o10;
}, "outsideNode"), Cg = iM((e30, t10, r10) => {
  iz.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t10)}
  insidePoint : ${JSON.stringify(r10)}
  node        : x:${e30.x} y:${e30.y} w:${e30.width} h:${e30.height}`);
  let n10 = e30.x, i10 = e30.y, a10 = Math.abs(n10 - r10.x), s10 = e30.width / 2, o10 = r10.x < t10.x ? s10 - a10 : s10 + a10, l10 = e30.height / 2, h10 = Math.abs(t10.y - r10.y), u10 = Math.abs(t10.x - r10.x);
  if (Math.abs(i10 - t10.y) * s10 > Math.abs(n10 - t10.x) * l10) {
    let e31 = r10.y < t10.y ? t10.y - l10 - i10 : i10 - l10 - t10.y;
    o10 = u10 * e31 / h10;
    let n11 = { x: r10.x < t10.x ? r10.x + o10 : r10.x - u10 + o10, y: r10.y < t10.y ? r10.y + h10 - e31 : r10.y - h10 + e31 };
    return 0 === o10 && (n11.x = t10.x, n11.y = t10.y), 0 === u10 && (n11.x = t10.x), 0 === h10 && (n11.y = t10.y), iz.debug(`abc89 top/bottom calc, Q ${h10}, q ${e31}, R ${u10}, r ${o10}`, n11), n11;
  }
  {
    let e31 = h10 * (o10 = r10.x < t10.x ? t10.x - s10 - n10 : n10 - s10 - t10.x) / u10, i11 = r10.x < t10.x ? r10.x + u10 - o10 : r10.x - u10 + o10, a11 = r10.y < t10.y ? r10.y + e31 : r10.y - e31;
    return iz.debug(`sides calc abc89, Q ${h10}, q ${e31}, R ${u10}, r ${o10}`, { _x: i11, _y: a11 }), 0 === o10 && (i11 = t10.x, a11 = t10.y), 0 === u10 && (i11 = t10.x), 0 === h10 && (a11 = t10.y), { x: i11, y: a11 };
  }
}, "intersection"), Cm = iM((e30, t10) => {
  iz.warn("abc88 cutPathAtIntersect", e30, t10);
  let r10 = [], n10 = e30[0], i10 = false;
  return e30.forEach((e31) => {
    if (iz.info("abc88 checking point", e31, t10), Cf(t10, e31) || i10) iz.warn("abc88 outside", e31, n10), n10 = e31, i10 || r10.push(e31);
    else {
      let a10 = Cg(t10, n10, e31);
      iz.debug("abc88 inside", e31, n10, a10), iz.debug("abc88 intersection", a10, t10);
      let s10 = false;
      r10.forEach((e32) => {
        s10 = s10 || e32.x === a10.x && e32.y === a10.y;
      }), r10.some((e32) => e32.x === a10.x && e32.y === a10.y) ? iz.warn("abc88 no intersect", a10, r10) : r10.push(a10), i10 = true;
    }
  }), iz.debug("returning points", r10), r10;
}, "cutPathAtIntersect");
function Cy(e30) {
  let t10 = [], r10 = [];
  for (let n10 = 1; n10 < e30.length - 1; n10++) {
    let i10 = e30[n10 - 1], a10 = e30[n10], s10 = e30[n10 + 1];
    i10.x === a10.x && a10.y === s10.y && Math.abs(a10.x - s10.x) > 5 && Math.abs(a10.y - i10.y) > 5 ? (t10.push(a10), r10.push(n10)) : i10.y === a10.y && a10.x === s10.x && Math.abs(a10.x - i10.x) > 5 && Math.abs(a10.y - s10.y) > 5 && (t10.push(a10), r10.push(n10));
  }
  return { cornerPoints: t10, cornerPointPositions: r10 };
}
iM(Cy, "extractCornerPoints");
var Cv = iM(function(e30, t10, r10) {
  let n10 = t10.x - e30.x, i10 = t10.y - e30.y, a10 = r10 / Math.sqrt(n10 * n10 + i10 * i10);
  return { x: t10.x - a10 * n10, y: t10.y - a10 * i10 };
}, "findAdjacentPoint"), Cx = iM(function(e30) {
  let { cornerPointPositions: t10 } = Cy(e30), r10 = [];
  for (let n10 = 0; n10 < e30.length; n10++) if (t10.includes(n10)) {
    let t11 = e30[n10 - 1], i10 = e30[n10 + 1], a10 = e30[n10], s10 = Cv(t11, a10, 5), o10 = Cv(i10, a10, 5), l10 = o10.x - s10.x, h10 = o10.y - s10.y;
    r10.push(s10);
    let u10 = 2 * Math.sqrt(2), d10 = { x: a10.x, y: a10.y };
    Math.abs(i10.x - t11.x) > 10 && Math.abs(i10.y - t11.y) >= 10 ? (iz.debug("Corner point fixing", Math.abs(i10.x - t11.x), Math.abs(i10.y - t11.y)), d10 = a10.x === s10.x ? { x: l10 < 0 ? s10.x - 5 + u10 : s10.x + 5 - u10, y: h10 < 0 ? s10.y - u10 : s10.y + u10 } : { x: l10 < 0 ? s10.x - u10 : s10.x + u10, y: h10 < 0 ? s10.y - 5 + u10 : s10.y + 5 - u10 }) : iz.debug("Corner point skipping fixing", Math.abs(i10.x - t11.x), Math.abs(i10.y - t11.y)), r10.push(d10, o10);
  } else r10.push(e30[n10]);
  return r10;
}, "fixCorners"), Cb = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  let o10, l10;
  let { handDrawnSeed: h10 } = aj(), u10 = t10.points, d10 = false;
  a10.intersect && i10.intersect && ((u10 = u10.slice(1, t10.points.length - 1)).unshift(i10.intersect(u10[0])), iz.debug("Last point APA12", t10.start, "-->", t10.end, u10[u10.length - 1], a10, a10.intersect(u10[u10.length - 1])), u10.push(a10.intersect(u10[u10.length - 1]))), t10.toCluster && (iz.info("to cluster abc88", r10.get(t10.toCluster)), u10 = Cm(t10.points, r10.get(t10.toCluster).node), d10 = true), t10.fromCluster && (iz.debug("from cluster abc88", r10.get(t10.fromCluster), JSON.stringify(u10, null, 2)), u10 = Cm(u10.reverse(), r10.get(t10.fromCluster).node).reverse(), d10 = true);
  let p10 = u10.filter((e31) => !Number.isNaN(e31.y));
  p10 = Cx(p10);
  let f10 = fr;
  t10.curve && (f10 = t10.curve);
  let { x: g10, y: y10 } = Cn(t10), v10 = p4().x(g10).y(y10).curve(f10);
  switch (t10.thickness) {
    case "normal":
    default:
      o10 = "edge-thickness-normal";
      break;
    case "thick":
      o10 = "edge-thickness-thick";
      break;
    case "invisible":
      o10 = "edge-thickness-invisible";
  }
  switch (t10.pattern) {
    case "solid":
    default:
      o10 += " edge-pattern-solid";
      break;
    case "dotted":
      o10 += " edge-pattern-dotted";
      break;
    case "dashed":
      o10 += " edge-pattern-dashed";
  }
  let x10 = v10(p10), b10 = Array.isArray(t10.style) ? t10.style : [t10.style];
  if ("handDrawn" === t10.look) {
    let r11 = Tm.svg(e30);
    Object.assign([], p10);
    let n11 = r11.path(x10, { roughness: 0.3, seed: h10 });
    o10 += " transition";
    let i11 = (l10 = c$(n11).select("path").attr("id", t10.id).attr("class", " " + o10 + (t10.classes ? " " + t10.classes : "")).attr("style", b10 ? b10.reduce((e31, t11) => e31 + ";" + t11, "") : "")).attr("d");
    l10.attr("d", i11), e30.node().appendChild(l10.node());
  } else l10 = e30.append("path").attr("d", x10).attr("id", t10.id).attr("class", " " + o10 + (t10.classes ? " " + t10.classes : "")).attr("style", b10 ? b10.reduce((e31, t11) => e31 + ";" + t11, "") : "");
  let k10 = "";
  (aj().flowchart.arrowMarkerAbsolute || aj().state.arrowMarkerAbsolute) && (k10 = (k10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(").replace(/\)/g, "\\)")), iz.info("arrowTypeStart", t10.arrowTypeStart), iz.info("arrowTypeEnd", t10.arrowTypeEnd), Ci(l10, t10, k10, s10, n10);
  let w10 = {};
  return d10 && (w10.updatedPath = u10), w10.originalPath = t10.points, w10;
}, "insertEdge"), Ck = iM((e30, t10, r10, n10) => {
  t10.forEach((t11) => {
    Cw[t11](e30, r10, n10);
  });
}, "insertMarkers"), Cw = { extension: iM((e30, t10, r10) => {
  iz.trace("Making markers for ", r10), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-extensionStart").attr("class", "marker extension " + t10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-extensionEnd").attr("class", "marker extension " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
}, "extension"), composition: iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-compositionStart").attr("class", "marker composition " + t10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-compositionEnd").attr("class", "marker composition " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "composition"), aggregation: iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-aggregationStart").attr("class", "marker aggregation " + t10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-aggregationEnd").attr("class", "marker aggregation " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "aggregation"), dependency: iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-dependencyStart").attr("class", "marker dependency " + t10).attr("refX", 6).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-dependencyEnd").attr("class", "marker dependency " + t10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "dependency"), lollipop: iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-lollipopStart").attr("class", "marker lollipop " + t10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-lollipopEnd").attr("class", "marker lollipop " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);
}, "lollipop"), point: iM((e30, t10, r10) => {
  e30.append("marker").attr("id", r10 + "_" + t10 + "-pointEnd").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", 5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 8).attr("markerHeight", 8).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), e30.append("marker").attr("id", r10 + "_" + t10 + "-pointStart").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", 4.5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 8).attr("markerHeight", 8).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "point"), circle: iM((e30, t10, r10) => {
  e30.append("marker").attr("id", r10 + "_" + t10 + "-circleEnd").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), e30.append("marker").attr("id", r10 + "_" + t10 + "-circleStart").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "circle"), cross: iM((e30, t10, r10) => {
  e30.append("marker").attr("id", r10 + "_" + t10 + "-crossEnd").attr("class", "marker cross " + t10).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0"), e30.append("marker").attr("id", r10 + "_" + t10 + "-crossStart").attr("class", "marker cross " + t10).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
}, "cross"), barb: iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "userSpaceOnUse").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
}, "barb") }, C_ = { common: oe, getConfig: aj, insertCluster: TR, insertEdge: Cb, insertEdgeLabel: Cu, insertMarkers: Ck, insertNode: S6, interpolateToCurve: kL, labelHelper: _y, log: iz, positionEdgeLabel: Cp }, CT = {}, CS = iM((e30) => {
  for (let t10 of e30) CT[t10.name] = t10;
}, "registerLayoutLoaders");
iM(() => {
  CS([{ name: "dagre", loader: iM(async () => await w(() => Promise.resolve().then(() => zp), true ? void 0 : void 0), "loader") }]);
}, "registerDefaultLayoutLoaders")();
var CC = iM(async (e30, t10) => {
  if (!(e30.layoutAlgorithm in CT)) throw Error(`Unknown layout algorithm: ${e30.layoutAlgorithm}`);
  let r10 = CT[e30.layoutAlgorithm];
  return (await r10.loader()).render(e30, t10, C_, { algorithm: r10.algorithm });
}, "render"), CE = iM(function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", { fallback: t10 = "dagre" } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  if (e30 in CT) return e30;
  if (t10 in CT) return iz.warn(`Layout algorithm ${e30} is not registered. Using ${t10} as fallback.`), t10;
  throw Error(`Both layout algorithms ${e30} and ${t10} are not registered.`);
}, "getRegisteredLayoutAlgorithm"), CA = bS(Object.keys, Object), CL = Object.prototype.hasOwnProperty;
function CI(e30) {
  if (!bA(e30)) return CA(e30);
  var t10 = [];
  for (var r10 in Object(e30)) CL.call(e30, r10) && "constructor" != r10 && t10.push(r10);
  return t10;
}
iM(CI, "baseKeys");
var CM = xP(xd, "DataView"), CN = xP(xd, "Promise"), CR = xP(xd, "Set"), CD = xP(xd, "WeakMap"), CO = "[object Map]", C$ = "[object Promise]", CP = "[object Set]", CB = "[object WeakMap]", CF = "[object DataView]", Cz = xL(CM), Cj = xL(x2), Cq = xL(CN), CU = xL(CR), CW = xL(CD), CV = xw;
(CM && CV(new CM(new ArrayBuffer(1))) != CF || x2 && CV(new x2()) != CO || CN && CV(CN.resolve()) != C$ || CR && CV(new CR()) != CP || CD && CV(new CD()) != CB) && (CV = iM(function(e30) {
  var t10 = xw(e30), r10 = "[object Object]" == t10 ? e30.constructor : void 0, n10 = r10 ? xL(r10) : "";
  if (n10) switch (n10) {
    case Cz:
      return CF;
    case Cj:
      return CO;
    case Cq:
      return C$;
    case CU:
      return CP;
    case CW:
      return CB;
  }
  return t10;
}, "getTag"));
var CH = CV, CY = Object.prototype.hasOwnProperty;
function CG(e30) {
  if (null == e30) return true;
  if (bB(e30) && (b$(e30) || "string" == typeof e30 || "function" == typeof e30.splice || bW(e30) || b3(e30) || bO(e30))) return !e30.length;
  var t10 = CH(e30);
  if ("[object Map]" == t10 || "[object Set]" == t10) return !e30.size;
  if (bA(e30)) return !CI(e30).length;
  for (var r10 in e30) if (CY.call(e30, r10)) return false;
  return true;
}
iM(CG, "isEmpty");
var CX = { id: "c4", detector: iM((e30) => /^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e30), "detector"), loader: iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => jN);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: "c4", diagram: e30 };
}, "loader") }, CK = "flowchart", CZ = iM((e30, t10) => {
  var r10, n10;
  return (null == t10 ? void 0 : null === (r10 = t10.flowchart) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-wrapper" && (null == t10 ? void 0 : null === (n10 = t10.flowchart) || void 0 === n10 ? void 0 : n10.defaultRenderer) !== "elk" && /^\s*graph/.test(e30);
}, "detector"), CQ = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => qD);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: CK, diagram: e30 };
}, "loader"), CJ = { id: CK, detector: CZ, loader: CQ }, C0 = "flowchart-v2", C1 = iM((e30, t10) => {
  var r10, n10, i10;
  return (null == t10 ? void 0 : null === (r10 = t10.flowchart) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-d3" && ((null == t10 ? void 0 : null === (n10 = t10.flowchart) || void 0 === n10 ? void 0 : n10.defaultRenderer) === "elk" && (t10.layout = "elk"), !!/^\s*graph/.test(e30) && (null == t10 ? void 0 : null === (i10 = t10.flowchart) || void 0 === i10 ? void 0 : i10.defaultRenderer) === "dagre-wrapper" || /^\s*flowchart/.test(e30));
}, "detector"), C2 = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => qD);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: C0, diagram: e30 };
}, "loader"), C4 = { id: C0, detector: C1, loader: C2 }, C3 = { id: "er", detector: iM((e30) => /^\s*erDiagram/.test(e30), "detector"), loader: iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => Uc);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: "er", diagram: e30 };
}, "loader") }, C5 = "gitGraph", C6 = iM((e30) => /^\s*gitGraph/.test(e30), "detector"), C7 = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => etm);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: C5, diagram: e30 };
}, "loader"), C8 = { id: C5, detector: C6, loader: C7 }, C9 = "gantt", Ee = iM((e30) => /^\s*gantt/.test(e30), "detector"), Et = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => erO);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: C9, diagram: e30 };
}, "loader"), Er = { id: C9, detector: Ee, loader: Et }, En = "info", Ei = iM((e30) => /^\s*info/.test(e30), "detector"), Ea = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => er$);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: En, diagram: e30 };
}, "loader"), Es = { id: En, detector: Ei, loader: Ea }, Eo = { id: "pie", detector: iM((e30) => /^\s*pie/.test(e30), "detector"), loader: iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => erY);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: "pie", diagram: e30 };
}, "loader") }, El = "quadrantChart", Ec = iM((e30) => /^\s*quadrantChart/.test(e30), "detector"), Eh = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => enl);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: El, diagram: e30 };
}, "loader"), Eu = { id: El, detector: Ec, loader: Eh }, Ed = "xychart", Ep = iM((e30) => /^\s*xychart-beta/.test(e30), "detector"), Ef = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => enQ);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: Ed, diagram: e30 };
}, "loader"), Eg = { id: Ed, detector: Ep, loader: Ef }, Em = "requirement", Ey = iM((e30) => /^\s*requirement(Diagram)?/.test(e30), "detector"), Ev = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => eiS);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: Em, diagram: e30 };
}, "loader"), Ex = { id: Em, detector: Ey, loader: Ev }, Eb = "sequence", Ek = iM((e30) => /^\s*sequenceDiagram/.test(e30), "detector"), Ew = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => ea1);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: Eb, diagram: e30 };
}, "loader"), E_ = { id: Eb, detector: Ek, loader: Ew }, ET = "class", ES = iM((e30, t10) => {
  var r10;
  return (null == t10 ? void 0 : null === (r10 = t10.class) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-wrapper" && /^\s*classDiagram/.test(e30);
}, "detector"), EC = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => esH);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: ET, diagram: e30 };
}, "loader"), EE = { id: ET, detector: ES, loader: EC }, EA = "classDiagram", EL = iM((e30, t10) => {
  var r10;
  return !!/^\s*classDiagram/.test(e30) && (null == t10 ? void 0 : null === (r10 = t10.class) || void 0 === r10 ? void 0 : r10.defaultRenderer) === "dagre-wrapper" || /^\s*classDiagram-v2/.test(e30);
}, "detector"), EI = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => esY);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: EA, diagram: e30 };
}, "loader"), EM = { id: EA, detector: EL, loader: EI }, EN = "state", ER = iM((e30, t10) => {
  var r10;
  return (null == t10 ? void 0 : null === (r10 = t10.state) || void 0 === r10 ? void 0 : r10.defaultRenderer) !== "dagre-wrapper" && /^\s*stateDiagram/.test(e30);
}, "detector"), ED = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => elS);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: EN, diagram: e30 };
}, "loader"), EO = { id: EN, detector: ER, loader: ED }, E$ = "stateDiagram", EP = iM((e30, t10) => {
  var r10;
  return !!(/^\s*stateDiagram-v2/.test(e30) || /^\s*stateDiagram/.test(e30) && (null == t10 ? void 0 : null === (r10 = t10.state) || void 0 === r10 ? void 0 : r10.defaultRenderer) === "dagre-wrapper");
}, "detector"), EB = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => elC);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: E$, diagram: e30 };
}, "loader"), EF = { id: E$, detector: EP, loader: EB }, Ez = "journey", Ej = iM((e30) => /^\s*journey/.test(e30), "detector"), Eq = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => el9);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: Ez, diagram: e30 };
}, "loader"), EU = { id: Ez, detector: Ej, loader: Eq }, EW = { draw: iM((e30, t10, r10) => {
  iz.debug("rendering svg for syntax error\n");
  let n10 = mg(t10), i10 = n10.append("g");
  n10.attr("viewBox", "0 0 2412 512"), on(n10, 100, 512, true), i10.append("path").attr("class", "error-icon").attr("d", "m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"), i10.append("path").attr("class", "error-icon").attr("d", "m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"), i10.append("path").attr("class", "error-icon").attr("d", "m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"), i10.append("path").attr("class", "error-icon").attr("d", "m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"), i10.append("path").attr("class", "error-icon").attr("d", "m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"), i10.append("path").attr("class", "error-icon").attr("d", "m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"), i10.append("text").attr("class", "error-text").attr("x", 1440).attr("y", 250).attr("font-size", "150px").style("text-anchor", "middle").text("Syntax error in text"), i10.append("text").attr("class", "error-text").attr("x", 1250).attr("y", 400).attr("font-size", "100px").style("text-anchor", "middle").text(`mermaid version ${r10}`);
}, "draw") }, EV = { db: {}, renderer: EW, parser: { parse: iM(() => {
}, "parse") } }, EH = "flowchart-elk", EY = iM(function(e30) {
  var t10;
  let r10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  return !!(/^\s*flowchart-elk/.test(e30) || /^\s*flowchart|graph/.test(e30) && (null == r10 ? void 0 : null === (t10 = r10.flowchart) || void 0 === t10 ? void 0 : t10.defaultRenderer) === "elk") && (r10.layout = "elk", true);
}, "detector"), EG = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => qD);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: EH, diagram: e30 };
}, "loader"), EX = { id: EH, detector: EY, loader: EG }, EK = "timeline", EZ = iM((e30) => /^\s*timeline/.test(e30), "detector"), EQ = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => ecA);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: EK, diagram: e30 };
}, "loader"), EJ = { id: EK, detector: EZ, loader: EQ }, E0 = "mindmap", E1 = iM((e30) => /^\s*mindmap/.test(e30), "detector"), E2 = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => exK);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: E0, diagram: e30 };
}, "loader"), E4 = { id: E0, detector: E1, loader: E2 }, E3 = "kanban", E5 = iM((e30) => /^\s*kanban/.test(e30), "detector"), E6 = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => ebs);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: E3, diagram: e30 };
}, "loader"), E7 = { id: E3, detector: E5, loader: E6 }, E8 = "sankey", E9 = iM((e30) => /^\s*sankey-beta/.test(e30), "detector"), Ae = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => eb7);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: E8, diagram: e30 };
}, "loader"), At = { id: E8, detector: E9, loader: Ae }, Ar = "packet", An = iM((e30) => /^\s*packet-beta/.test(e30), "detector"), Ai = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => ekh);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: Ar, diagram: e30 };
}, "loader"), Aa = { id: Ar, detector: An, loader: Ai }, As = "block", Ao = iM((e30) => /^\s*block-beta/.test(e30), "detector"), Al = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => ew4);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: As, diagram: e30 };
}, "loader"), Ac = { id: As, detector: Ao, loader: Al }, Ah = "architecture", Au = iM((e30) => /^\s*architecture/.test(e30), "detector"), Ad = iM(async () => {
  let { diagram: e30 } = await w(async () => {
    let { diagram: e31 } = await Promise.resolve().then(() => e_H);
    return { diagram: e31 };
  }, true ? void 0 : void 0);
  return { id: Ah, diagram: e30 };
}, "loader"), Ap = { id: Ah, detector: Au, loader: Ad }, Af = false, Ag = iM(() => {
  Af || (Af = true, o_("error", EV, (e30) => "error" === e30.toLowerCase().trim()), o_("---", { db: { clear: iM(() => {
  }, "clear") }, styles: {}, renderer: { draw: iM(() => {
  }, "draw") }, parser: { parse: iM(() => {
    throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks");
  }, "parse") }, init: iM(() => null, "init") }, (e30) => e30.toLowerCase().trimStart().startsWith("---")), iX(CX, E7, EM, EE, C3, Er, Es, Eo, Ex, E_, EX, C4, CJ, E4, EJ, C8, EF, EO, EU, Eu, At, Aa, Eg, Ac, Ap));
}, "addDiagrams"), Am = iM(async () => {
  iz.debug("Loading registered diagrams");
  let e30 = (await Promise.allSettled(Object.entries(iY).map(async (e31) => {
    let [t10, { detector: r10, loader: n10 }] = e31;
    if (n10) try {
      oT(t10);
    } catch {
      try {
        let { diagram: e32, id: t11 } = await n10();
        o_(t11, e32, r10);
      } catch (e32) {
        throw iz.error(`Failed to load external diagram with key ${t10}. Removing from detectors.`), delete iY[t10], e32;
      }
    }
  }))).filter((e31) => "rejected" === e31.status);
  if (e30.length > 0) {
    for (let t10 of (iz.error(`Failed to load ${e30.length} external diagrams`), e30)) iz.error(t10);
    throw Error(`Failed to load ${e30.length} external diagrams`);
  }
}, "loadRegisteredDiagrams"), Ay = "comm", Av = "rule", Ax = "decl", Ab = Math.abs, Ak = String.fromCharCode;
function Aw(e30) {
  return e30.trim();
}
function A_(e30, t10, r10) {
  return e30.replace(t10, r10);
}
function AT(e30, t10, r10) {
  return e30.indexOf(t10, r10);
}
function AS(e30, t10) {
  return 0 | e30.charCodeAt(t10);
}
function AC(e30, t10, r10) {
  return e30.slice(t10, r10);
}
function AE(e30) {
  return e30.length;
}
function AA(e30) {
  return e30.length;
}
function AL(e30, t10) {
  return t10.push(e30), e30;
}
iM(Aw, "trim"), iM(A_, "replace"), iM(AT, "indexof"), iM(AS, "charat"), iM(AC, "substr"), iM(AE, "strlen"), iM(AA, "sizeof"), iM(AL, "append");
var AI = 1, AM = 1, AN = 0, AR = 0, AD = 0, AO = "";
function A$(e30, t10, r10, n10, i10, a10, s10, o10) {
  return { value: e30, root: t10, parent: r10, type: n10, props: i10, children: a10, line: AI, column: AM, length: s10, return: "", siblings: o10 };
}
function AP() {
  return AD;
}
function AB() {
  return AD = AR > 0 ? AS(AO, --AR) : 0, AM--, 10 === AD && (AM = 1, AI--), AD;
}
function AF() {
  return AD = AR < AN ? AS(AO, AR++) : 0, AM++, 10 === AD && (AM = 1, AI++), AD;
}
function Az() {
  return AS(AO, AR);
}
function Aj() {
  return AR;
}
function Aq(e30, t10) {
  return AC(AO, e30, t10);
}
function AU(e30) {
  switch (e30) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function AW(e30) {
  return AI = AM = 1, AN = AE(AO = e30), AR = 0, [];
}
function AV(e30) {
  return AO = "", e30;
}
function AH(e30) {
  return Aw(Aq(AR - 1, AX(91 === e30 ? e30 + 2 : 40 === e30 ? e30 + 1 : e30)));
}
function AY(e30) {
  for (; AD = Az(); ) if (AD < 33) AF();
  else break;
  return AU(e30) > 2 || AU(AD) > 3 ? "" : " ";
}
function AG(e30, t10) {
  for (; --t10 && AF() && !(AD < 48) && !(AD > 102) && (!(AD > 57) || !(AD < 65)) && (!(AD > 70) || !(AD < 97)); ) ;
  return Aq(e30, Aj() + (t10 < 6 && 32 == Az() && 32 == AF()));
}
function AX(e30) {
  for (; AF(); ) switch (AD) {
    case e30:
      return AR;
    case 34:
    case 39:
      34 !== e30 && 39 !== e30 && AX(AD);
      break;
    case 40:
      41 === e30 && AX(e30);
      break;
    case 92:
      AF();
  }
  return AR;
}
function AK(e30, t10) {
  for (; AF(); ) if (e30 + AD === 57) break;
  else if (e30 + AD === 84 && 47 === Az()) break;
  return "/*" + Aq(t10, AR - 1) + "*" + Ak(47 === e30 ? e30 : AF());
}
function AZ(e30) {
  for (; !AU(Az()); ) AF();
  return Aq(e30, AR);
}
function AQ(e30) {
  return AV(AJ("", null, null, null, [""], e30 = AW(e30), 0, [0], e30));
}
function AJ(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  for (var h10 = 0, u10 = 0, d10 = s10, p10 = 0, f10 = 0, g10 = 0, y10 = 1, v10 = 1, x10 = 1, b10 = 0, k10 = "", w10 = i10, _10 = a10, T10 = n10, S10 = k10; v10; ) switch (g10 = b10, b10 = AF()) {
    case 40:
      if (108 != g10 && 58 == AS(S10, d10 - 1)) {
        -1 != AT(S10 += A_(AH(b10), "&", "&\f"), "&\f", Ab(h10 ? o10[h10 - 1] : 0)) && (x10 = -1);
        break;
      }
    case 34:
    case 39:
    case 91:
      S10 += AH(b10);
      break;
    case 9:
    case 10:
    case 13:
    case 32:
      S10 += AY(g10);
      break;
    case 92:
      S10 += AG(Aj() - 1, 7);
      continue;
    case 47:
      switch (Az()) {
        case 42:
        case 47:
          AL(A1(AK(AF(), Aj()), t10, r10, l10), l10), (5 == AU(g10 || 1) || 5 == AU(Az() || 1)) && AE(S10) && " " !== AC(S10, -1, void 0) && (S10 += " ");
          break;
        default:
          S10 += "/";
      }
      break;
    case 123 * y10:
      o10[h10++] = AE(S10) * x10;
    case 125 * y10:
    case 59:
    case 0:
      switch (b10) {
        case 0:
        case 125:
          v10 = 0;
        case 59 + u10:
          -1 == x10 && (S10 = A_(S10, /\f/g, "")), f10 > 0 && (AE(S10) - d10 || 0 === y10 && 47 === g10) && AL(f10 > 32 ? A2(S10 + ";", n10, r10, d10 - 1, l10) : A2(A_(S10, " ", "") + ";", n10, r10, d10 - 2, l10), l10);
          break;
        case 59:
          S10 += ";";
        default:
          if (AL(T10 = A0(S10, t10, r10, h10, u10, i10, o10, k10, w10 = [], _10 = [], d10, a10), a10), 123 === b10) {
            if (0 === u10) AJ(S10, t10, T10, T10, w10, a10, d10, o10, _10);
            else switch (99 === p10 && 110 === AS(S10, 3) ? 100 : p10) {
              case 100:
              case 108:
              case 109:
              case 115:
                AJ(e30, T10, T10, n10 && AL(A0(e30, T10, T10, 0, 0, i10, o10, k10, i10, w10 = [], d10, _10), _10), i10, _10, d10, o10, n10 ? w10 : _10);
                break;
              default:
                AJ(S10, T10, T10, T10, [""], _10, 0, o10, _10);
            }
          }
      }
      h10 = u10 = f10 = 0, y10 = x10 = 1, k10 = S10 = "", d10 = s10;
      break;
    case 58:
      d10 = 1 + AE(S10), f10 = g10;
    default:
      if (y10 < 1) {
        if (123 == b10) --y10;
        else if (125 == b10 && 0 == y10++ && 125 == AB()) continue;
      }
      switch (S10 += Ak(b10), b10 * y10) {
        case 38:
          x10 = u10 > 0 ? 1 : (S10 += "\f", -1);
          break;
        case 44:
          o10[h10++] = (AE(S10) - 1) * x10, x10 = 1;
          break;
        case 64:
          45 === Az() && (S10 += AH(AF())), p10 = Az(), u10 = d10 = AE(k10 = S10 += AZ(Aj())), b10++;
          break;
        case 45:
          45 === g10 && 2 == AE(S10) && (y10 = 0);
      }
  }
  return a10;
}
function A0(e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10, d10) {
  for (var p10 = i10 - 1, f10 = 0 === i10 ? a10 : [""], g10 = AA(f10), y10 = 0, v10 = 0, x10 = 0; y10 < n10; ++y10) for (var b10 = 0, k10 = AC(e30, p10 + 1, p10 = Ab(v10 = s10[y10])), w10 = e30; b10 < g10; ++b10) (w10 = Aw(v10 > 0 ? f10[b10] + " " + k10 : A_(k10, /&\f/g, f10[b10]))) && (l10[x10++] = w10);
  return A$(e30, t10, r10, 0 === i10 ? Av : o10, l10, h10, u10, d10);
}
function A1(e30, t10, r10, n10) {
  return A$(e30, t10, r10, Ay, Ak(AP()), AC(e30, 2, -2), 0, n10);
}
function A2(e30, t10, r10, n10, i10) {
  return A$(e30, t10, r10, Ax, AC(e30, 0, n10), AC(e30, n10 + 1, -1), n10, i10);
}
function A4(e30, t10) {
  for (var r10 = "", n10 = 0; n10 < e30.length; n10++) r10 += t10(e30[n10], n10, e30, t10) || "";
  return r10;
}
function A3(e30, t10, r10, n10) {
  switch (e30.type) {
    case "@layer":
      if (e30.children.length) break;
    case "@import":
    case Ax:
      return e30.return = e30.return || e30.value;
    case Ay:
      return "";
    case "@keyframes":
      return e30.return = e30.value + "{" + A4(e30.children, n10) + "}";
    case Av:
      if (!AE(e30.value = e30.props.join(","))) return "";
  }
  return AE(r10 = A4(e30.children, n10)) ? e30.return = e30.value + "{" + r10 + "}" : "";
}
function A5(e30, t10) {
  e30.attr("role", "graphics-document document"), "" !== t10 && e30.attr("aria-roledescription", t10);
}
function A6(e30, t10, r10, n10) {
  if (void 0 !== e30.insert) {
    if (r10) {
      let t11 = `chart-desc-${n10}`;
      e30.attr("aria-describedby", t11), e30.insert("desc", ":first-child").attr("id", t11).text(r10);
    }
    if (t10) {
      let r11 = `chart-title-${n10}`;
      e30.attr("aria-labelledby", r11), e30.insert("title", ":first-child").attr("id", r11).text(t10);
    }
  }
}
iM(A$, "node"), iM(AP, "char"), iM(AB, "prev"), iM(AF, "next"), iM(Az, "peek"), iM(Aj, "caret"), iM(Aq, "slice"), iM(AU, "token"), iM(AW, "alloc"), iM(AV, "dealloc"), iM(AH, "delimit"), iM(AY, "whitespace"), iM(AG, "escaping"), iM(AX, "delimiter"), iM(AK, "commenter"), iM(AZ, "identifier"), iM(AQ, "compile"), iM(AJ, "parse"), iM(A0, "ruleset"), iM(A1, "comment"), iM(A2, "declaration"), iM(A4, "serialize"), iM(A3, "stringify"), iM(A5, "setA11yDiagramInfo"), iM(A6, "addSVGa11yTitleDescription");
var A7 = (_E2 = class {
  constructor(e30, t10, r10, n10, i10) {
    this.type = e30, this.text = t10, this.db = r10, this.parser = n10, this.renderer = i10;
  }
  static async fromText(t10) {
    var r10, n10;
    let i10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a10 = aj(), s10 = iG(t10, a10);
    t10 = k4(t10) + "\n";
    try {
      oT(s10);
    } catch {
      let e30 = iZ(s10);
      if (!e30) throw new iH(`Diagram ${s10} not found.`);
      let { id: t11, diagram: r11 } = await e30();
      o_(t11, r11);
    }
    let { db: o10, parser: l10, renderer: h10, init: u10 } = oT(s10);
    return l10.parser && (l10.parser.yy = o10), null === (r10 = o10.clear) || void 0 === r10 || r10.call(o10), null == u10 || u10(a10), i10.title && (null === (n10 = o10.setDiagramTitle) || void 0 === n10 || n10.call(o10, i10.title)), await l10.parse(t10), new _E2(s10, t10, o10, l10, h10);
  }
  async render(e30, t10) {
    await this.renderer.draw(this.text, e30, t10, this);
  }
  getParser() {
    return this.parser;
  }
  getType() {
    return this.type;
  }
}, _i33 = new WeakMap(), __privateAdd(_E2, _i33, iM(_E2, "Diagram")), _E2), A8 = [], A9 = iM(() => {
  A8.forEach((e30) => {
    e30();
  }), A8 = [];
}, "attachFunctions"), Le = iM((e30) => e30.replace(/^\s*%%(?!{)[^\n]+\n?/gm, "").trimStart(), "cleanupComments");
function Lt(e30) {
  var t10;
  let r10 = e30.match(iU);
  if (!r10) return { text: e30, metadata: {} };
  let n10 = null !== (t10 = ve(r10[1], { schema: m2 })) && void 0 !== t10 ? t10 : {};
  n10 = "object" != typeof n10 || Array.isArray(n10) ? {} : n10;
  let i10 = {};
  return n10.displayMode && (i10.displayMode = n10.displayMode.toString()), n10.title && (i10.title = n10.title.toString()), n10.config && (i10.config = n10.config), { text: e30.slice(r10[0].length), metadata: i10 };
}
iM(Lt, "extractFrontMatter");
var Lr = iM((e30) => e30.replace(/\r\n?/g, "\n").replace(/<(\w+)([^>]*)>/g, (e31, t10, r10) => "<" + t10 + r10.replace(/="([^"]*)"/g, "='$1'") + ">"), "cleanupText"), Ln = iM((e30) => {
  let { text: t10, metadata: r10 } = Lt(e30), { displayMode: n10, title: i10, config: a10 = {} } = r10;
  return n10 && (a10.gantt || (a10.gantt = {}), a10.gantt.displayMode = n10), { title: i10, config: a10, text: t10 };
}, "processFrontmatter"), Li = iM((e30) => {
  var t10;
  let r10 = null !== (t10 = k2.detectInit(e30)) && void 0 !== t10 ? t10 : {}, n10 = k2.detectDirective(e30, "wrap");
  return Array.isArray(n10) ? r10.wrap = n10.some((e31) => {
    let { type: t11 } = e31;
    return "wrap" === t11;
  }) : (null == n10 ? void 0 : n10.type) === "wrap" && (r10.wrap = true), { text: kA(e30), directive: r10 };
}, "processDirectives");
function La(e30) {
  let t10 = Ln(Lr(e30)), r10 = Li(t10.text), n10 = k1(t10.config, r10.directive);
  return { code: e30 = Le(r10.text), title: t10.title, config: n10 };
}
function Ls(e30) {
  return btoa(Array.from(new TextEncoder().encode(e30), (e31) => String.fromCodePoint(e31)).join(""));
}
iM(La, "preprocessDiagram"), iM(Ls, "toBase64");
var Lo = ["foreignobject"], Ll = ["dominant-baseline"];
function Lc(e30) {
  var t10;
  let r10 = La(e30);
  return aW(), aU(null !== (t10 = r10.config) && void 0 !== t10 ? t10 : {}), r10;
}
async function Lh(e30, t10) {
  Ag();
  try {
    let { code: t11, config: r10 } = Lc(e30);
    return { diagramType: (await Lk(t11)).type, config: r10 };
  } catch (e31) {
    if (null == t10 ? void 0 : t10.suppressErrors) return false;
    throw e31;
  }
}
iM(Lc, "processAndSetConfigs"), iM(Lh, "parse");
var Lu = iM(function(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
  return `
.${e30} ${t10} { ${r10.join(" !important; ")} !important; }`;
}, "cssImportantStyles"), Ld = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : /* @__PURE__ */ new Map(), r10 = "";
  if (void 0 !== e30.themeCSS && (r10 += `
${e30.themeCSS}`), void 0 !== e30.fontFamily && (r10 += `
:root { --mermaid-font-family: ${e30.fontFamily}}`), void 0 !== e30.altFontFamily && (r10 += `
:root { --mermaid-alt-font-family: ${e30.altFontFamily}}`), t10 instanceof Map) {
    var n10, i10;
    let a10 = (null !== (i10 = e30.htmlLabels) && void 0 !== i10 ? i10 : null === (n10 = e30.flowchart) || void 0 === n10 ? void 0 : n10.htmlLabels) ? ["> *", "span"] : ["rect", "polygon", "ellipse", "circle", "path"];
    t10.forEach((e31) => {
      CG(e31.styles) || a10.forEach((t11) => {
        r10 += Lu(e31.id, t11, e31.styles);
      }), CG(e31.textStyles) || (r10 += Lu(e31.id, "tspan", ((null == e31 ? void 0 : e31.textStyles) || []).map((e32) => e32.replace("color", "fill"))));
    });
  }
  return r10;
}, "createCssStyles"), Lp = iM((e30, t10, r10, n10) => {
  let i10 = os(t10, Ld(e30, r10), e30.themeVariables);
  return A4(AQ(`${n10}{${i10}}`), A3);
}, "createUserStyles"), Lf = iM(function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t10 = arguments.length > 1 ? arguments[1] : void 0, r10 = arguments.length > 2 ? arguments[2] : void 0, n10 = e30;
  return r10 || t10 || (n10 = n10.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g, 'marker-end="url(#')), n10 = (n10 = k3(n10)).replace(/<br>/g, "<br/>");
}, "cleanUpSvgCode"), Lg = iM(function() {
  var e30, t10;
  let r10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n10 = arguments.length > 1 ? arguments[1] : void 0, i10 = (null == n10 ? void 0 : null === (t10 = n10.viewBox) || void 0 === t10 ? void 0 : null === (e30 = t10.baseVal) || void 0 === e30 ? void 0 : e30.height) ? n10.viewBox.baseVal.height + "px" : "100%", a10 = Ls(`<body style="margin:0">${r10}</body>`);
  return `<iframe style="width:100%;height:${i10};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${a10}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`;
}, "putIntoIFrame"), Lm = iM((e30, t10, r10, n10, i10) => {
  let a10 = e30.append("div");
  a10.attr("id", r10), n10 && a10.attr("style", n10);
  let s10 = a10.append("svg").attr("id", t10).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg");
  return i10 && s10.attr("xmlns:xlink", i10), s10.append("g"), e30;
}, "appendDivSvgG");
function Ly(e30, t10) {
  return e30.append("iframe").attr("id", t10).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
}
iM(Ly, "sandboxedIframe");
var Lv = iM((e30, t10, r10, n10) => {
  var i10, a10, s10;
  null === (i10 = e30.getElementById(t10)) || void 0 === i10 || i10.remove(), null === (a10 = e30.getElementById(r10)) || void 0 === a10 || a10.remove(), null === (s10 = e30.getElementById(n10)) || void 0 === s10 || s10.remove();
}, "removeExistingElements"), Lx = iM(async function(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10, h10;
  let u10, d10;
  Ag();
  let p10 = Lc(t10);
  t10 = p10.code;
  let f10 = aj();
  iz.debug(f10), t10.length > (null !== (h10 = null == f10 ? void 0 : f10.maxTextSize) && void 0 !== h10 ? h10 : 5e4) && (t10 = "graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");
  let g10 = "#" + e30, y10 = "i" + e30, v10 = "#" + y10, x10 = "d" + e30, b10 = "#" + x10, k10 = iM(() => {
    let e31 = c$(_10 ? v10 : b10).node();
    e31 && "remove" in e31 && e31.remove();
  }, "removeTempElements"), w10 = c$("body"), _10 = "sandbox" === f10.securityLevel, T10 = "loose" === f10.securityLevel, S10 = f10.fontFamily;
  if (void 0 !== r10) {
    if (r10 && (r10.innerHTML = ""), _10) {
      let e31 = Ly(c$(r10), y10);
      (w10 = c$(e31.nodes()[0].contentDocument.body)).node().style.margin = 0;
    } else w10 = c$(r10);
    Lm(w10, e30, x10, `font-family: ${S10}`, "http://www.w3.org/1999/xlink");
  } else {
    if (Lv(document, e30, x10, y10), _10) {
      let e31 = Ly(c$("body"), y10);
      (w10 = c$(e31.nodes()[0].contentDocument.body)).node().style.margin = 0;
    } else w10 = c$("body");
    Lm(w10, e30, x10);
  }
  try {
    u10 = await A7.fromText(t10, { title: p10.title });
  } catch (e31) {
    if (f10.suppressErrorRendering) throw k10(), e31;
    u10 = await A7.fromText("error"), d10 = e31;
  }
  let C10 = w10.select(b10).node(), E10 = u10.type, A10 = C10.firstChild, L10 = A10.firstChild, I10 = Lp(f10, E10, null === (n10 = (i10 = u10.renderer).getClasses) || void 0 === n10 ? void 0 : n10.call(i10, t10, u10), g10), M10 = document.createElement("style");
  M10.innerHTML = I10, A10.insertBefore(M10, L10);
  try {
    await u10.renderer.draw(t10, e30, iT, u10);
  } catch (r11) {
    throw f10.suppressErrorRendering ? k10() : EW.draw(t10, e30, iT), r11;
  }
  Lw(E10, w10.select(`${b10} svg`), null === (a10 = (s10 = u10.db).getAccTitle) || void 0 === a10 ? void 0 : a10.call(s10), null === (o10 = (l10 = u10.db).getAccDescription) || void 0 === o10 ? void 0 : o10.call(l10)), w10.select(`[id="${e30}"]`).selectAll("foreignobject > *").attr("xmlns", "http://www.w3.org/1999/xhtml");
  let N10 = w10.select(b10).node().innerHTML;
  if (iz.debug("config.arrowMarkerAbsolute", f10.arrowMarkerAbsolute), N10 = Lf(N10, _10, sQ(f10.arrowMarkerAbsolute)), _10 ? N10 = Lg(N10, w10.select(b10 + " svg").node()) : T10 || (N10 = sB.sanitize(N10, { ADD_TAGS: Lo, ADD_ATTR: Ll, HTML_INTEGRATION_POINTS: { foreignobject: true } })), A9(), d10) throw d10;
  return k10(), { diagramType: E10, svg: N10, bindFunctions: u10.db.bindFunctions };
}, "render");
function Lb() {
  var e30;
  let t10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r10 = iQ({}, t10);
  (null == r10 ? void 0 : r10.fontFamily) && !(null === (e30 = r10.themeVariables) || void 0 === e30 ? void 0 : e30.fontFamily) && (r10.themeVariables || (r10.themeVariables = {}), r10.themeVariables.fontFamily = r10.fontFamily), aP(r10), (null == r10 ? void 0 : r10.theme) && r10.theme in aT ? r10.themeVariables = aT[r10.theme].getThemeVariables(r10.themeVariables) : r10 && (r10.themeVariables = aT.default.getThemeVariables(r10.themeVariables)), ij(("object" == typeof r10 ? a$(r10) : aF()).logLevel), Ag();
}
iM(Lb, "initialize");
var Lk = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, { code: r10 } = La(e30);
  return A7.fromText(r10, t10);
}, "getDiagramFromText");
function Lw(e30, t10, r10, n10) {
  A5(t10, e30), A6(t10, r10, n10, t10.attr("id"));
}
iM(Lw, "addA11yInfo");
var L_ = Object.freeze({ render: Lx, parse: Lh, getDiagramFromText: Lk, initialize: Lb, getConfig: aj, setConfig: az, getSiteConfig: aF, updateSiteConfig: aB, reset: iM(() => {
  aW();
}, "reset"), globalReset: iM(() => {
  aW(aM);
}, "globalReset"), defaultConfig: aM });
ij(aj().logLevel), aW(aj());
var LT = iM((e30, t10, r10) => {
  iz.warn(e30), kQ(e30) ? (r10 && r10(e30.str, e30.hash), t10.push({ ...e30, message: e30.str, error: e30 })) : (r10 && r10(e30), e30 instanceof Error && t10.push({ str: e30.message, message: e30.message, hash: e30.name, error: e30 }));
}, "handleError"), LS = iM(async function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { querySelector: ".mermaid" };
  try {
    await LC(e30);
  } catch (t10) {
    if (kQ(t10) && iz.error(t10.str), LP.parseError && LP.parseError(t10), !e30.suppressErrors) throw iz.error("Use the suppressErrors option to suppress these errors"), t10;
  }
}, "run"), LC = iM(async function() {
  let e30, t10, { postRenderCallback: r10, querySelector: n10, nodes: i10 } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { querySelector: ".mermaid" }, a10 = L_.getConfig();
  if (iz.debug(`${r10 ? "" : "No "}Callback function found`), i10) e30 = i10;
  else if (n10) e30 = document.querySelectorAll(n10);
  else throw Error("Nodes and querySelector are both undefined");
  iz.debug(`Found ${e30.length} diagrams`), (null == a10 ? void 0 : a10.startOnLoad) !== void 0 && (iz.debug("Start On Load: " + (null == a10 ? void 0 : a10.startOnLoad)), L_.updateSiteConfig({ startOnLoad: null == a10 ? void 0 : a10.startOnLoad }));
  let s10 = new k2.InitIDGenerator(a10.deterministicIds, a10.deterministicIDSeed), o10 = [];
  for (let n11 of Array.from(e30)) {
    if (iz.info("Rendering diagram: " + n11.id), n11.getAttribute("data-processed")) continue;
    n11.setAttribute("data-processed", "true");
    let e31 = `mermaid-${s10.next()}`;
    t10 = n11.innerHTML, t10 = k7(k2.entityDecode(t10)).trim().replace(/<br\s*\/?>/gi, "<br/>");
    let i11 = k2.detectInit(t10);
    i11 && iz.debug("Detected early reinit: ", i11);
    try {
      let { svg: i12, bindFunctions: a11 } = await L$(e31, t10, n11);
      n11.innerHTML = i12, r10 && await r10(e31), a11 && a11(n11);
    } catch (e32) {
      LT(e32, o10, LP.parseError);
    }
  }
  if (o10.length > 0) throw o10[0];
}, "runThrowsErrors"), LE = iM(function(e30) {
  L_.initialize(e30);
}, "initialize"), LA = iM(async function(e30, t10, r10) {
  iz.warn("mermaid.init is deprecated. Please use run instead."), e30 && LE(e30);
  let n10 = { postRenderCallback: r10, querySelector: ".mermaid" };
  "string" == typeof t10 ? n10.querySelector = t10 : t10 && (t10 instanceof HTMLElement ? n10.nodes = [t10] : n10.nodes = t10), await LS(n10);
}, "init"), LL = iM(async function(e30) {
  let { lazyLoad: t10 = true } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
  Ag(), iX(...e30), false === t10 && await Am();
}, "registerExternalDiagrams"), LI = iM(function() {
  if (LP.startOnLoad) {
    let { startOnLoad: e30 } = L_.getConfig();
    e30 && LP.run().catch((e31) => iz.error("Mermaid failed to initialize", e31));
  }
}, "contentLoaded");
"undefined" != typeof document && window.addEventListener("load", LI, false);
var LM = iM(function(e30) {
  LP.parseError = e30;
}, "setParseErrorHandler"), LN = [], LR = false, LD = iM(async () => {
  if (!LR) {
    for (LR = true; LN.length > 0; ) {
      let e30 = LN.shift();
      if (e30) try {
        await e30();
      } catch (e31) {
        iz.error("Error executing queue", e31);
      }
    }
    LR = false;
  }
}, "executeQueue"), LO = iM(async (e30, t10) => new Promise((r10, n10) => {
  let i10 = iM(() => new Promise((i11, a10) => {
    L_.parse(e30, t10).then((e31) => {
      i11(e31), r10(e31);
    }, (e31) => {
      var t11;
      iz.error("Error parsing", e31), null === (t11 = LP.parseError) || void 0 === t11 || t11.call(LP, e31), a10(e31), n10(e31);
    });
  }), "performCall");
  LN.push(i10), LD().catch(n10);
}), "parse"), L$ = iM((e30, t10, r10) => new Promise((n10, i10) => {
  let a10 = iM(() => new Promise((a11, s10) => {
    L_.render(e30, t10, r10).then((e31) => {
      a11(e31), n10(e31);
    }, (e31) => {
      var t11;
      iz.error("Error parsing", e31), null === (t11 = LP.parseError) || void 0 === t11 || t11.call(LP, e31), s10(e31), i10(e31);
    });
  }), "performCall");
  LN.push(a10), LD().catch(i10);
}), "render"), LP = { startOnLoad: true, mermaidAPI: L_, parse: LO, render: L$, init: LA, run: LS, registerExternalDiagrams: LL, registerLayoutLoaders: CS, initialize: LE, parseError: void 0, contentLoaded: LI, setParseErrorHandler: LM, detectType: iG, registerIconPacks: xa };
let LB = er("pre", (e30, t10) => {
  let {} = e30, { slots: r10 } = t10;
  return (e31) => {
    var t11;
    let n10 = null === (t11 = r10.default) || void 0 === t11 ? void 0 : t11.call(r10), i10 = null == n10 ? void 0 : n10[0];
    return i10 && "language-mermaid" === i10.props.className ? u(LF, { code: i10.children }) : u(e31, { children: n10 });
  };
}, { displayName: "PreWithMermaid" })({}), LF = i((e30, t10) => {
  let {} = t10, n10 = a(null);
  return LP.initialize({}), r(n10, P((e31) => e31 ? G(LP.run({ nodes: [e31] })) : z), l()), () => u(Lz, { ref: n10, class: "mermaid", children: e30.code });
}, { displayName: "Mermaid", props: ["code"] }), Lz = er("div", { displayName: "MermaidContainer" })({ "& > svg": { minWidth: "80%" } }), Lj = i({ operationId: T() }, (e30, n10) => {
  let {} = n10, i10 = eE.use(), a10 = r(e30.operationId$, P((e31) => i10.operation$(e31))), o10 = r(a10, X((e31) => !!e31)), l10 = t.seed(false), d10 = r(o10, h((e31) => e31.description ? u(es, { text: e31.description, components: { pre: LB } }) : null)), p10 = r(l10, h((e31) => u(el, { isOpen: e31, onClose: () => {
    l10.next(false);
  }, children: u(f10, { children: u(en, { sx: { px: 24, py: 12, width: "100%" }, children: u(ez, { children: d10 }) }) }) }))), f10 = er("div", { displayName: "DialogContainer" })({ display: "flex", containerStyle: "sys.surface", width: "90vw", roundedBottom: "sm", px: 16, py: 36, top: 0, position: "absolute", overflow: "auto" }), y10 = r(o10, h((e31) => e31.description ? s(em, { onClick: () => {
    l10.next(true);
  }, children: [u(eo, { path: eg }), p10] }) : null)), v10 = r(o10, h((e31) => {
    var t10;
    return u(ts, { operation: e31, children: u(g, { children: Object.entries(null !== (t10 = e31.responses) && void 0 !== t10 ? t10 : {}).map((e32) => {
      let [t11, r10] = e32;
      return u(eK, { code: t11, response: r10 }, t11);
    }) }) }, e31.operationId);
  })), x10 = r(o10, h((e31) => {
    var t10;
    return s(LW, { sx: { containerStyle: null !== (t10 = { get: "sys.primary-container", post: "sys.success-container", put: "sys.warning-container", delete: "sys.error-container" }[e31.method]) && void 0 !== t10 ? t10 : "sys.secondary-container" }, children: [u("div", { "data-operation-method": true, children: e31.method }), s("div", { "data-operation-desc": true, children: [u("div", { "data-operation-path": true, children: e31.path }), s("div", { "data-operation-summary": true, children: [e31.summary, " ", e31.operationId != e31.summary ? e31.operationId : ""] })] }), u(en, { sx: { flex: 1 } }), y10] });
  }));
  return r(a10, h((e31) => e31 ? "SycDatabaseEr" == e31.operationId ? s(Lq, { children: [x10, u(LU, { children: u(th, { op: e31 }) })] }, e31.operationId) : s(Lq, { children: [x10, u(LU, { children: u(en, { sx: { flex: 1, overflow: "auto" }, children: v10 }) })] }, e31.operationId) : null));
}, { displayName: "OperationView" }), Lq = er("div", { displayName: "OperationContainer" })({ height: "100%", display: "flex", flexDirection: "column", alignItems: "stretch" }), LU = er("div", { displayName: "OperationMain" })({ flex: 1, overflow: "hidden", display: "flex", flexDirection: "column", alignItems: "stretch" }), LW = er("summary", { displayName: "OperationHeading" })({ display: "flex", alignItems: "center", width: "100%", px: 16, py: 8, gap: 16, $data_operation_method: { textTransform: "uppercase", fontSize: 24, fontFamily: "code" }, $data_operation_path: { fontFamily: "code" }, $data_operation_summary: { opacity: 0.8, textStyle: "sys.body-small" } });
var LV = (_F2 = class {
  constructor(e30, t10, r10) {
    this.lexer = void 0, this.start = void 0, this.end = void 0, this.lexer = e30, this.start = t10, this.end = r10;
  }
  static range(t10, r10) {
    return r10 ? t10 && t10.loc && r10.loc && t10.loc.lexer === r10.loc.lexer ? new _F2(t10.loc.lexer, t10.loc.start, r10.loc.end) : null : t10 && t10.loc;
  }
}, _i34 = new WeakMap(), __privateAdd(_F2, _i34, iM(_F2, "SourceLocation")), _F2), LH = (_G2 = class {
  constructor(e30, t10) {
    this.text = void 0, this.loc = void 0, this.noexpand = void 0, this.treatAsRelax = void 0, this.text = e30, this.loc = t10;
  }
  range(t10, r10) {
    return new _G2(r10, LV.range(this, t10));
  }
}, _i35 = new WeakMap(), __privateAdd(_G2, _i35, iM(_G2, "Token")), _G2), LY = (_H2 = class {
  constructor(t10, r10) {
    this.name = void 0, this.position = void 0, this.length = void 0, this.rawMessage = void 0;
    var n10 = "KaTeX parse error: " + t10, i10 = r10 && r10.loc;
    if (i10 && i10.start <= i10.end) {
      var a10, s10, o10 = i10.lexer.input;
      a10 = i10.start, s10 = i10.end, a10 === o10.length ? n10 += " at end of input: " : n10 += " at position " + (a10 + 1) + ": ";
      var l10 = o10.slice(a10, s10).replace(/[^]/g, "$&̲");
      n10 += (a10 > 15 ? "…" + o10.slice(a10 - 15, a10) : o10.slice(0, a10)) + l10 + (s10 + 15 < o10.length ? o10.slice(s10, s10 + 15) + "…" : o10.slice(s10));
    }
    var h10 = Error(n10);
    return h10.name = "ParseError", h10.__proto__ = _H2.prototype, h10.position = a10, null != a10 && null != s10 && (h10.length = s10 - a10), h10.rawMessage = t10, h10;
  }
}, _i36 = new WeakMap(), __privateAdd(_H2, _i36, iM(_H2, "ParseError")), _H2);
LY.prototype.__proto__ = Error.prototype;
var LG = iM(function(e30, t10) {
  return -1 !== e30.indexOf(t10);
}, "contains"), LX = iM(function(e30, t10) {
  return void 0 === e30 ? t10 : e30;
}, "deflt"), LK = /([A-Z])/g, LZ = iM(function(e30) {
  return e30.replace(LK, "-$1").toLowerCase();
}, "hyphenate"), LQ = { "&": "&amp;", ">": "&gt;", "<": "&lt;", '"': "&quot;", "'": "&#x27;" }, LJ = /[&><"']/g;
function L0(e30) {
  return String(e30).replace(LJ, (e31) => LQ[e31]);
}
iM(L0, "escape");
var L1 = iM(function e18(t10) {
  return "ordgroup" === t10.type || "color" === t10.type ? 1 === t10.body.length ? e18(t10.body[0]) : t10 : "font" === t10.type ? e18(t10.body) : t10;
}, "getBaseElem"), L2 = iM(function(e30) {
  var t10 = L1(e30);
  return "mathord" === t10.type || "textord" === t10.type || "atom" === t10.type;
}, "isCharacterBox"), L4 = iM(function(e30) {
  if (!e30) throw Error("Expected non-null, but got " + String(e30));
  return e30;
}, "assert"), L3 = { contains: LG, deflt: LX, escape: L0, hyphenate: LZ, getBaseElem: L1, isCharacterBox: L2, protocolFromUrl: iM(function(e30) {
  var t10 = /^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e30);
  return t10 ? ":" === t10[2] && /^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t10[1]) ? t10[1].toLowerCase() : null : "_relative";
}, "protocolFromUrl") }, L5 = { displayMode: { type: "boolean", description: "Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.", cli: "-d, --display-mode" }, output: { type: { enum: ["htmlAndMathml", "html", "mathml"] }, description: "Determines the markup language of the output.", cli: "-F, --format <type>" }, leqno: { type: "boolean", description: "Render display math in leqno style (left-justified tags)." }, fleqn: { type: "boolean", description: "Render display math flush left." }, throwOnError: { type: "boolean", default: true, cli: "-t, --no-throw-on-error", cliDescription: "Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error." }, errorColor: { type: "string", default: "#cc0000", cli: "-c, --error-color <color>", cliDescription: "A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.", cliProcessor: iM((e30) => "#" + e30, "cliProcessor") }, macros: { type: "object", cli: "-m, --macro <def>", cliDescription: "Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).", cliDefault: [], cliProcessor: iM((e30, t10) => (t10.push(e30), t10), "cliProcessor") }, minRuleThickness: { type: "number", description: "Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.", processor: iM((e30) => Math.max(0, e30), "processor"), cli: "--min-rule-thickness <size>", cliProcessor: parseFloat }, colorIsTextColor: { type: "boolean", description: "Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.", cli: "-b, --color-is-text-color" }, strict: { type: [{ enum: ["warn", "ignore", "error"] }, "boolean", "function"], description: "Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.", cli: "-S, --strict", cliDefault: false }, trust: { type: ["boolean", "function"], description: "Trust the input, enabling all HTML features such as \\url.", cli: "-T, --trust" }, maxSize: { type: "number", default: 1 / 0, description: "If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large", processor: iM((e30) => Math.max(0, e30), "processor"), cli: "-s, --max-size <n>", cliProcessor: parseInt }, maxExpand: { type: "number", default: 1e3, description: "Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.", processor: iM((e30) => Math.max(0, e30), "processor"), cli: "-e, --max-expand <n>", cliProcessor: iM((e30) => "Infinity" === e30 ? 1 / 0 : parseInt(e30), "cliProcessor") }, globalGroup: { type: "boolean", cli: false } };
function L6(e30) {
  if (e30.default) return e30.default;
  var t10 = e30.type, r10 = Array.isArray(t10) ? t10[0] : t10;
  if ("string" != typeof r10) return r10.enum[0];
  switch (r10) {
    case "boolean":
      return false;
    case "string":
      return "";
    case "number":
      return 0;
    case "object":
      return {};
  }
}
iM(L6, "getDefaultValue");
var L7 = (_I2 = class {
  constructor(e30) {
    for (var t10 in this.displayMode = void 0, this.output = void 0, this.leqno = void 0, this.fleqn = void 0, this.throwOnError = void 0, this.errorColor = void 0, this.macros = void 0, this.minRuleThickness = void 0, this.colorIsTextColor = void 0, this.strict = void 0, this.trust = void 0, this.maxSize = void 0, this.maxExpand = void 0, this.globalGroup = void 0, e30 = e30 || {}, L5) if (L5.hasOwnProperty(t10)) {
      var r10 = L5[t10];
      this[t10] = void 0 !== e30[t10] ? r10.processor ? r10.processor(e30[t10]) : e30[t10] : L6(r10);
    }
  }
  reportNonstrict(e30, t10, r10) {
    var n10 = this.strict;
    if ("function" == typeof n10 && (n10 = n10(e30, t10, r10)), n10 && "ignore" !== n10) {
      if (true === n10 || "error" === n10) throw new LY("LaTeX-incompatible input and strict mode is set to 'error': " + t10 + " [" + e30 + "]", r10);
      "warn" === n10 ? "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to 'warn': " + t10 + " [" + e30 + "]") : "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to " + ("unrecognized '" + n10 + "': " + t10) + " [" + e30 + "]");
    }
  }
  useStrictBehavior(e30, t10, r10) {
    var n10 = this.strict;
    if ("function" == typeof n10) try {
      n10 = n10(e30, t10, r10);
    } catch (e31) {
      n10 = "error";
    }
    return !!n10 && "ignore" !== n10 && (true === n10 || "error" === n10 || ("warn" === n10 ? "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to 'warn': " + t10 + " [" + e30 + "]") : "undefined" != typeof console && console.warn("LaTeX-incompatible input and strict mode is set to " + ("unrecognized '" + n10 + "': " + t10) + " [" + e30 + "]"), false));
  }
  isTrusted(e30) {
    if (e30.url && !e30.protocol) {
      var t10 = L3.protocolFromUrl(e30.url);
      if (null == t10) return false;
      e30.protocol = t10;
    }
    return !!("function" == typeof this.trust ? this.trust(e30) : this.trust);
  }
}, _i37 = new WeakMap(), __privateAdd(_I2, _i37, iM(_I2, "Settings")), _I2), L8 = (_J2 = class {
  constructor(e30, t10, r10) {
    this.id = void 0, this.size = void 0, this.cramped = void 0, this.id = e30, this.size = t10, this.cramped = r10;
  }
  sup() {
    return L9[Ie[this.id]];
  }
  sub() {
    return L9[It[this.id]];
  }
  fracNum() {
    return L9[Ir[this.id]];
  }
  fracDen() {
    return L9[In[this.id]];
  }
  cramp() {
    return L9[Ii[this.id]];
  }
  text() {
    return L9[Ia[this.id]];
  }
  isTight() {
    return this.size >= 2;
  }
}, _i38 = new WeakMap(), __privateAdd(_J2, _i38, iM(_J2, "Style")), _J2), L9 = [new L8(0, 0, false), new L8(1, 0, true), new L8(2, 1, false), new L8(3, 1, true), new L8(4, 2, false), new L8(5, 2, true), new L8(6, 3, false), new L8(7, 3, true)], Ie = [4, 5, 4, 5, 6, 7, 6, 7], It = [5, 5, 5, 5, 7, 7, 7, 7], Ir = [2, 3, 4, 5, 6, 7, 6, 7], In = [3, 3, 5, 5, 7, 7, 7, 7], Ii = [1, 1, 3, 3, 5, 5, 7, 7], Ia = [0, 1, 2, 3, 2, 3, 2, 3], Is = { DISPLAY: L9[0], TEXT: L9[2], SCRIPT: L9[4], SCRIPTSCRIPT: L9[6] }, Io = [{ name: "latin", blocks: [[256, 591], [768, 879]] }, { name: "cyrillic", blocks: [[1024, 1279]] }, { name: "armenian", blocks: [[1328, 1423]] }, { name: "brahmic", blocks: [[2304, 4255]] }, { name: "georgian", blocks: [[4256, 4351]] }, { name: "cjk", blocks: [[12288, 12543], [19968, 40879], [65280, 65376]] }, { name: "hangul", blocks: [[44032, 55215]] }];
function Il(e30) {
  for (var t10 = 0; t10 < Io.length; t10++) for (var r10 = Io[t10], n10 = 0; n10 < r10.blocks.length; n10++) {
    var i10 = r10.blocks[n10];
    if (e30 >= i10[0] && e30 <= i10[1]) return r10.name;
  }
  return null;
}
iM(Il, "scriptFromCodepoint");
var Ic = [];
function Ih(e30) {
  for (var t10 = 0; t10 < Ic.length; t10 += 2) if (e30 >= Ic[t10] && e30 <= Ic[t10 + 1]) return true;
  return false;
}
Io.forEach((e30) => e30.blocks.forEach((e31) => Ic.push(...e31))), iM(Ih, "supportedCodepoint");
var Iu = iM(function(e30, t10) {
  return "M95," + (622 + e30 + t10) + "\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl" + e30 / 2.075 + " -" + e30 + "\nc5.3,-9.3,12,-14,20,-14\nH400000v" + (40 + e30) + "H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM" + (834 + e30) + " " + t10 + "h400000v" + (40 + e30) + "h-400000z";
}, "sqrtMain"), Id = iM(function(e30, t10) {
  return "M263," + (601 + e30 + t10) + "c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl" + e30 / 2.084 + " -" + e30 + "\nc4.7,-7.3,11,-11,19,-11\nH40000v" + (40 + e30) + "H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM" + (1001 + e30) + " " + t10 + "h400000v" + (40 + e30) + "h-400000z";
}, "sqrtSize1"), Ip = iM(function(e30, t10) {
  return "M983 " + (10 + e30 + t10) + "\nl" + e30 / 3.13 + " -" + e30 + "\nc4,-6.7,10,-10,18,-10 H400000v" + (40 + e30) + "\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM" + (1001 + e30) + " " + t10 + "h400000v" + (40 + e30) + "h-400000z";
}, "sqrtSize2"), If = iM(function(e30, t10) {
  return "M424," + (2398 + e30 + t10) + "\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl" + e30 / 4.223 + " -" + e30 + "c4,-6.7,10,-10,18,-10 H400000\nv" + (40 + e30) + "H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M" + (1001 + e30) + " " + t10 + "\nh400000v" + (40 + e30) + "h-400000z";
}, "sqrtSize3"), Ig = iM(function(e30, t10) {
  return "M473," + (2713 + e30 + t10) + "\nc339.3,-1799.3,509.3,-2700,510,-2702 l" + e30 / 5.298 + " -" + e30 + "\nc3.3,-7.3,9.3,-11,18,-11 H400000v" + (40 + e30) + "H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM" + (1001 + e30) + " " + t10 + "h400000v" + (40 + e30) + "H1017.7z";
}, "sqrtSize4"), Im = iM(function(e30) {
  return "M400000 " + e30 + " H0 L" + e30 / 2 + " 0 l65 45 L145 " + (e30 - 80) + " H400000z";
}, "phasePath"), Iy = iM(function(e30, t10, r10) {
  return "M702 " + (e30 + t10) + "H400000" + (40 + e30) + "\nH742v" + (r10 - 54 - t10 - e30) + "l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 " + t10 + "H400000v" + (40 + e30) + "H742z";
}, "sqrtTall"), Iv = iM(function(e30, t10, r10) {
  t10 *= 1e3;
  var n10 = "";
  switch (e30) {
    case "sqrtMain":
      n10 = Iu(t10, 80);
      break;
    case "sqrtSize1":
      n10 = Id(t10, 80);
      break;
    case "sqrtSize2":
      n10 = Ip(t10, 80);
      break;
    case "sqrtSize3":
      n10 = If(t10, 80);
      break;
    case "sqrtSize4":
      n10 = Ig(t10, 80);
      break;
    case "sqrtTall":
      n10 = Iy(t10, 80, r10);
  }
  return n10;
}, "sqrtPath"), Ix = iM(function(e30, t10) {
  switch (e30) {
    case "⎜":
      return "M291 0 H417 V" + t10 + " H291z M291 0 H417 V" + t10 + " H291z";
    case "∣":
      return "M145 0 H188 V" + t10 + " H145z M145 0 H188 V" + t10 + " H145z";
    case "∥":
      return "M145 0 H188 V" + t10 + " H145z M145 0 H188 V" + t10 + " H145z" + ("M367 0 H410 V" + t10) + " H367z M367 0 H410 V" + t10 + " H367z";
    case "⎟":
      return "M457 0 H583 V" + t10 + " H457z M457 0 H583 V" + t10 + " H457z";
    case "⎢":
      return "M319 0 H403 V" + t10 + " H319z M319 0 H403 V" + t10 + " H319z";
    case "⎥":
      return "M263 0 H347 V" + t10 + " H263z M263 0 H347 V" + t10 + " H263z";
    case "⎪":
      return "M384 0 H504 V" + t10 + " H384z M384 0 H504 V" + t10 + " H384z";
    case "⏐":
      return "M312 0 H355 V" + t10 + " H312z M312 0 H355 V" + t10 + " H312z";
    case "‖":
      return "M257 0 H300 V" + t10 + " H257z M257 0 H300 V" + t10 + " H257z" + ("M478 0 H521 V" + t10) + " H478z M478 0 H521 V" + t10 + " H478z";
    default:
      return "";
  }
}, "innerPath"), Ib = { doubleleftarrow: "M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z", doublerightarrow: "M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z", leftarrow: "M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z", leftbrace: "M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z", leftbraceunder: "M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z", leftgroup: "M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z", leftgroupunder: "M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z", leftharpoon: "M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z", leftharpoonplus: "M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z", leftharpoondown: "M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z", leftharpoondownplus: "M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z", lefthook: "M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z", leftlinesegment: "M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z", leftmapsto: "M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z", leftToFrom: "M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z", longequal: "M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z", midbrace: "M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z", midbraceunder: "M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z", oiintSize1: "M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z", oiintSize2: "M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z", oiiintSize1: "M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z", oiiintSize2: "M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z", rightarrow: "M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z", rightbrace: "M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z", rightbraceunder: "M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z", rightgroup: "M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z", rightgroupunder: "M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z", rightharpoon: "M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z", rightharpoonplus: "M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z", rightharpoondown: "M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z", rightharpoondownplus: "M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z", righthook: "M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z", rightlinesegment: "M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z", rightToFrom: "M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z", twoheadleftarrow: "M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z", twoheadrightarrow: "M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z", tilde1: "M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z", tilde2: "M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z", tilde3: "M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z", tilde4: "M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z", vec: "M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z", widehat1: "M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z", widehat2: "M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z", widehat3: "M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z", widehat4: "M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z", widecheck1: "M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z", widecheck2: "M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z", widecheck3: "M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z", widecheck4: "M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z", baraboveleftarrow: "M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z", rightarrowabovebar: "M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z", baraboveshortleftharpoon: "M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z", rightharpoonaboveshortbar: "M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z", shortbaraboveleftharpoon: "M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z", shortrightharpoonabovebar: "M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z" }, Ik = iM(function(e30, t10) {
  switch (e30) {
    case "lbrack":
      return "M403 1759 V84 H666 V0 H319 V1759 v" + t10 + " v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v" + t10 + " v1759 h84z";
    case "rbrack":
      return "M347 1759 V0 H0 V84 H263 V1759 v" + t10 + " v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v" + t10 + " v1759 h84z";
    case "vert":
      return "M145 15 v585 v" + t10 + " v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v" + -t10 + " v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v" + t10 + " v585 h43z";
    case "doublevert":
      return "M145 15 v585 v" + t10 + " v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v" + -t10 + " v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v" + t10 + " v585 h43z\nM367 15 v585 v" + t10 + " v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v" + -t10 + " v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v" + t10 + " v585 h43z";
    case "lfloor":
      return "M319 602 V0 H403 V602 v" + t10 + " v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v" + t10 + " v1715 H319z";
    case "rfloor":
      return "M319 602 V0 H403 V602 v" + t10 + " v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v" + t10 + " v1715 H319z";
    case "lceil":
      return "M403 1759 V84 H666 V0 H319 V1759 v" + t10 + " v602 h84z\nM403 1759 V0 H319 V1759 v" + t10 + " v602 h84z";
    case "rceil":
      return "M347 1759 V0 H0 V84 H263 V1759 v" + t10 + " v602 h84z\nM347 1759 V0 h-84 V1759 v" + t10 + " v602 h84z";
    case "lparen":
      return "M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0," + (t10 + 84) + "c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-" + (t10 + 92) + "c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";
    case "rparen":
      return "M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0," + (t10 + 9) + "\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-" + (t10 + 144) + "c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";
    default:
      throw Error("Unknown stretchy delimiter.");
  }
}, "tallDelim"), Iw = (_K2 = class {
  constructor(e30) {
    this.children = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, this.children = e30, this.classes = [], this.height = 0, this.depth = 0, this.maxFontSize = 0, this.style = {};
  }
  hasClass(e30) {
    return L3.contains(this.classes, e30);
  }
  toNode() {
    for (var e30 = document.createDocumentFragment(), t10 = 0; t10 < this.children.length; t10++) e30.appendChild(this.children[t10].toNode());
    return e30;
  }
  toMarkup() {
    for (var e30 = "", t10 = 0; t10 < this.children.length; t10++) e30 += this.children[t10].toMarkup();
    return e30;
  }
  toText() {
    var e30 = iM((e31) => e31.toText(), "toText");
    return this.children.map(e30).join("");
  }
}, _i39 = new WeakMap(), __privateAdd(_K2, _i39, iM(_K2, "DocumentFragment")), _K2), I_ = { "AMS-Regular": { 32: [0, 0, 0, 0, 0.25], 65: [0, 0.68889, 0, 0, 0.72222], 66: [0, 0.68889, 0, 0, 0.66667], 67: [0, 0.68889, 0, 0, 0.72222], 68: [0, 0.68889, 0, 0, 0.72222], 69: [0, 0.68889, 0, 0, 0.66667], 70: [0, 0.68889, 0, 0, 0.61111], 71: [0, 0.68889, 0, 0, 0.77778], 72: [0, 0.68889, 0, 0, 0.77778], 73: [0, 0.68889, 0, 0, 0.38889], 74: [0.16667, 0.68889, 0, 0, 0.5], 75: [0, 0.68889, 0, 0, 0.77778], 76: [0, 0.68889, 0, 0, 0.66667], 77: [0, 0.68889, 0, 0, 0.94445], 78: [0, 0.68889, 0, 0, 0.72222], 79: [0.16667, 0.68889, 0, 0, 0.77778], 80: [0, 0.68889, 0, 0, 0.61111], 81: [0.16667, 0.68889, 0, 0, 0.77778], 82: [0, 0.68889, 0, 0, 0.72222], 83: [0, 0.68889, 0, 0, 0.55556], 84: [0, 0.68889, 0, 0, 0.66667], 85: [0, 0.68889, 0, 0, 0.72222], 86: [0, 0.68889, 0, 0, 0.72222], 87: [0, 0.68889, 0, 0, 1], 88: [0, 0.68889, 0, 0, 0.72222], 89: [0, 0.68889, 0, 0, 0.72222], 90: [0, 0.68889, 0, 0, 0.66667], 107: [0, 0.68889, 0, 0, 0.55556], 160: [0, 0, 0, 0, 0.25], 165: [0, 0.675, 0.025, 0, 0.75], 174: [0.15559, 0.69224, 0, 0, 0.94666], 240: [0, 0.68889, 0, 0, 0.55556], 295: [0, 0.68889, 0, 0, 0.54028], 710: [0, 0.825, 0, 0, 2.33334], 732: [0, 0.9, 0, 0, 2.33334], 770: [0, 0.825, 0, 0, 2.33334], 771: [0, 0.9, 0, 0, 2.33334], 989: [0.08167, 0.58167, 0, 0, 0.77778], 1008: [0, 0.43056, 0.04028, 0, 0.66667], 8245: [0, 0.54986, 0, 0, 0.275], 8463: [0, 0.68889, 0, 0, 0.54028], 8487: [0, 0.68889, 0, 0, 0.72222], 8498: [0, 0.68889, 0, 0, 0.55556], 8502: [0, 0.68889, 0, 0, 0.66667], 8503: [0, 0.68889, 0, 0, 0.44445], 8504: [0, 0.68889, 0, 0, 0.66667], 8513: [0, 0.68889, 0, 0, 0.63889], 8592: [-0.03598, 0.46402, 0, 0, 0.5], 8594: [-0.03598, 0.46402, 0, 0, 0.5], 8602: [-0.13313, 0.36687, 0, 0, 1], 8603: [-0.13313, 0.36687, 0, 0, 1], 8606: [0.01354, 0.52239, 0, 0, 1], 8608: [0.01354, 0.52239, 0, 0, 1], 8610: [0.01354, 0.52239, 0, 0, 1.11111], 8611: [0.01354, 0.52239, 0, 0, 1.11111], 8619: [0, 0.54986, 0, 0, 1], 8620: [0, 0.54986, 0, 0, 1], 8621: [-0.13313, 0.37788, 0, 0, 1.38889], 8622: [-0.13313, 0.36687, 0, 0, 1], 8624: [0, 0.69224, 0, 0, 0.5], 8625: [0, 0.69224, 0, 0, 0.5], 8630: [0, 0.43056, 0, 0, 1], 8631: [0, 0.43056, 0, 0, 1], 8634: [0.08198, 0.58198, 0, 0, 0.77778], 8635: [0.08198, 0.58198, 0, 0, 0.77778], 8638: [0.19444, 0.69224, 0, 0, 0.41667], 8639: [0.19444, 0.69224, 0, 0, 0.41667], 8642: [0.19444, 0.69224, 0, 0, 0.41667], 8643: [0.19444, 0.69224, 0, 0, 0.41667], 8644: [0.1808, 0.675, 0, 0, 1], 8646: [0.1808, 0.675, 0, 0, 1], 8647: [0.1808, 0.675, 0, 0, 1], 8648: [0.19444, 0.69224, 0, 0, 0.83334], 8649: [0.1808, 0.675, 0, 0, 1], 8650: [0.19444, 0.69224, 0, 0, 0.83334], 8651: [0.01354, 0.52239, 0, 0, 1], 8652: [0.01354, 0.52239, 0, 0, 1], 8653: [-0.13313, 0.36687, 0, 0, 1], 8654: [-0.13313, 0.36687, 0, 0, 1], 8655: [-0.13313, 0.36687, 0, 0, 1], 8666: [0.13667, 0.63667, 0, 0, 1], 8667: [0.13667, 0.63667, 0, 0, 1], 8669: [-0.13313, 0.37788, 0, 0, 1], 8672: [-0.064, 0.437, 0, 0, 1.334], 8674: [-0.064, 0.437, 0, 0, 1.334], 8705: [0, 0.825, 0, 0, 0.5], 8708: [0, 0.68889, 0, 0, 0.55556], 8709: [0.08167, 0.58167, 0, 0, 0.77778], 8717: [0, 0.43056, 0, 0, 0.42917], 8722: [-0.03598, 0.46402, 0, 0, 0.5], 8724: [0.08198, 0.69224, 0, 0, 0.77778], 8726: [0.08167, 0.58167, 0, 0, 0.77778], 8733: [0, 0.69224, 0, 0, 0.77778], 8736: [0, 0.69224, 0, 0, 0.72222], 8737: [0, 0.69224, 0, 0, 0.72222], 8738: [0.03517, 0.52239, 0, 0, 0.72222], 8739: [0.08167, 0.58167, 0, 0, 0.22222], 8740: [0.25142, 0.74111, 0, 0, 0.27778], 8741: [0.08167, 0.58167, 0, 0, 0.38889], 8742: [0.25142, 0.74111, 0, 0, 0.5], 8756: [0, 0.69224, 0, 0, 0.66667], 8757: [0, 0.69224, 0, 0, 0.66667], 8764: [-0.13313, 0.36687, 0, 0, 0.77778], 8765: [-0.13313, 0.37788, 0, 0, 0.77778], 8769: [-0.13313, 0.36687, 0, 0, 0.77778], 8770: [-0.03625, 0.46375, 0, 0, 0.77778], 8774: [0.30274, 0.79383, 0, 0, 0.77778], 8776: [-0.01688, 0.48312, 0, 0, 0.77778], 8778: [0.08167, 0.58167, 0, 0, 0.77778], 8782: [0.06062, 0.54986, 0, 0, 0.77778], 8783: [0.06062, 0.54986, 0, 0, 0.77778], 8785: [0.08198, 0.58198, 0, 0, 0.77778], 8786: [0.08198, 0.58198, 0, 0, 0.77778], 8787: [0.08198, 0.58198, 0, 0, 0.77778], 8790: [0, 0.69224, 0, 0, 0.77778], 8791: [0.22958, 0.72958, 0, 0, 0.77778], 8796: [0.08198, 0.91667, 0, 0, 0.77778], 8806: [0.25583, 0.75583, 0, 0, 0.77778], 8807: [0.25583, 0.75583, 0, 0, 0.77778], 8808: [0.25142, 0.75726, 0, 0, 0.77778], 8809: [0.25142, 0.75726, 0, 0, 0.77778], 8812: [0.25583, 0.75583, 0, 0, 0.5], 8814: [0.20576, 0.70576, 0, 0, 0.77778], 8815: [0.20576, 0.70576, 0, 0, 0.77778], 8816: [0.30274, 0.79383, 0, 0, 0.77778], 8817: [0.30274, 0.79383, 0, 0, 0.77778], 8818: [0.22958, 0.72958, 0, 0, 0.77778], 8819: [0.22958, 0.72958, 0, 0, 0.77778], 8822: [0.1808, 0.675, 0, 0, 0.77778], 8823: [0.1808, 0.675, 0, 0, 0.77778], 8828: [0.13667, 0.63667, 0, 0, 0.77778], 8829: [0.13667, 0.63667, 0, 0, 0.77778], 8830: [0.22958, 0.72958, 0, 0, 0.77778], 8831: [0.22958, 0.72958, 0, 0, 0.77778], 8832: [0.20576, 0.70576, 0, 0, 0.77778], 8833: [0.20576, 0.70576, 0, 0, 0.77778], 8840: [0.30274, 0.79383, 0, 0, 0.77778], 8841: [0.30274, 0.79383, 0, 0, 0.77778], 8842: [0.13597, 0.63597, 0, 0, 0.77778], 8843: [0.13597, 0.63597, 0, 0, 0.77778], 8847: [0.03517, 0.54986, 0, 0, 0.77778], 8848: [0.03517, 0.54986, 0, 0, 0.77778], 8858: [0.08198, 0.58198, 0, 0, 0.77778], 8859: [0.08198, 0.58198, 0, 0, 0.77778], 8861: [0.08198, 0.58198, 0, 0, 0.77778], 8862: [0, 0.675, 0, 0, 0.77778], 8863: [0, 0.675, 0, 0, 0.77778], 8864: [0, 0.675, 0, 0, 0.77778], 8865: [0, 0.675, 0, 0, 0.77778], 8872: [0, 0.69224, 0, 0, 0.61111], 8873: [0, 0.69224, 0, 0, 0.72222], 8874: [0, 0.69224, 0, 0, 0.88889], 8876: [0, 0.68889, 0, 0, 0.61111], 8877: [0, 0.68889, 0, 0, 0.61111], 8878: [0, 0.68889, 0, 0, 0.72222], 8879: [0, 0.68889, 0, 0, 0.72222], 8882: [0.03517, 0.54986, 0, 0, 0.77778], 8883: [0.03517, 0.54986, 0, 0, 0.77778], 8884: [0.13667, 0.63667, 0, 0, 0.77778], 8885: [0.13667, 0.63667, 0, 0, 0.77778], 8888: [0, 0.54986, 0, 0, 1.11111], 8890: [0.19444, 0.43056, 0, 0, 0.55556], 8891: [0.19444, 0.69224, 0, 0, 0.61111], 8892: [0.19444, 0.69224, 0, 0, 0.61111], 8901: [0, 0.54986, 0, 0, 0.27778], 8903: [0.08167, 0.58167, 0, 0, 0.77778], 8905: [0.08167, 0.58167, 0, 0, 0.77778], 8906: [0.08167, 0.58167, 0, 0, 0.77778], 8907: [0, 0.69224, 0, 0, 0.77778], 8908: [0, 0.69224, 0, 0, 0.77778], 8909: [-0.03598, 0.46402, 0, 0, 0.77778], 8910: [0, 0.54986, 0, 0, 0.76042], 8911: [0, 0.54986, 0, 0, 0.76042], 8912: [0.03517, 0.54986, 0, 0, 0.77778], 8913: [0.03517, 0.54986, 0, 0, 0.77778], 8914: [0, 0.54986, 0, 0, 0.66667], 8915: [0, 0.54986, 0, 0, 0.66667], 8916: [0, 0.69224, 0, 0, 0.66667], 8918: [0.0391, 0.5391, 0, 0, 0.77778], 8919: [0.0391, 0.5391, 0, 0, 0.77778], 8920: [0.03517, 0.54986, 0, 0, 1.33334], 8921: [0.03517, 0.54986, 0, 0, 1.33334], 8922: [0.38569, 0.88569, 0, 0, 0.77778], 8923: [0.38569, 0.88569, 0, 0, 0.77778], 8926: [0.13667, 0.63667, 0, 0, 0.77778], 8927: [0.13667, 0.63667, 0, 0, 0.77778], 8928: [0.30274, 0.79383, 0, 0, 0.77778], 8929: [0.30274, 0.79383, 0, 0, 0.77778], 8934: [0.23222, 0.74111, 0, 0, 0.77778], 8935: [0.23222, 0.74111, 0, 0, 0.77778], 8936: [0.23222, 0.74111, 0, 0, 0.77778], 8937: [0.23222, 0.74111, 0, 0, 0.77778], 8938: [0.20576, 0.70576, 0, 0, 0.77778], 8939: [0.20576, 0.70576, 0, 0, 0.77778], 8940: [0.30274, 0.79383, 0, 0, 0.77778], 8941: [0.30274, 0.79383, 0, 0, 0.77778], 8994: [0.19444, 0.69224, 0, 0, 0.77778], 8995: [0.19444, 0.69224, 0, 0, 0.77778], 9416: [0.15559, 0.69224, 0, 0, 0.90222], 9484: [0, 0.69224, 0, 0, 0.5], 9488: [0, 0.69224, 0, 0, 0.5], 9492: [0, 0.37788, 0, 0, 0.5], 9496: [0, 0.37788, 0, 0, 0.5], 9585: [0.19444, 0.68889, 0, 0, 0.88889], 9586: [0.19444, 0.74111, 0, 0, 0.88889], 9632: [0, 0.675, 0, 0, 0.77778], 9633: [0, 0.675, 0, 0, 0.77778], 9650: [0, 0.54986, 0, 0, 0.72222], 9651: [0, 0.54986, 0, 0, 0.72222], 9654: [0.03517, 0.54986, 0, 0, 0.77778], 9660: [0, 0.54986, 0, 0, 0.72222], 9661: [0, 0.54986, 0, 0, 0.72222], 9664: [0.03517, 0.54986, 0, 0, 0.77778], 9674: [0.11111, 0.69224, 0, 0, 0.66667], 9733: [0.19444, 0.69224, 0, 0, 0.94445], 10003: [0, 0.69224, 0, 0, 0.83334], 10016: [0, 0.69224, 0, 0, 0.83334], 10731: [0.11111, 0.69224, 0, 0, 0.66667], 10846: [0.19444, 0.75583, 0, 0, 0.61111], 10877: [0.13667, 0.63667, 0, 0, 0.77778], 10878: [0.13667, 0.63667, 0, 0, 0.77778], 10885: [0.25583, 0.75583, 0, 0, 0.77778], 10886: [0.25583, 0.75583, 0, 0, 0.77778], 10887: [0.13597, 0.63597, 0, 0, 0.77778], 10888: [0.13597, 0.63597, 0, 0, 0.77778], 10889: [0.26167, 0.75726, 0, 0, 0.77778], 10890: [0.26167, 0.75726, 0, 0, 0.77778], 10891: [0.48256, 0.98256, 0, 0, 0.77778], 10892: [0.48256, 0.98256, 0, 0, 0.77778], 10901: [0.13667, 0.63667, 0, 0, 0.77778], 10902: [0.13667, 0.63667, 0, 0, 0.77778], 10933: [0.25142, 0.75726, 0, 0, 0.77778], 10934: [0.25142, 0.75726, 0, 0, 0.77778], 10935: [0.26167, 0.75726, 0, 0, 0.77778], 10936: [0.26167, 0.75726, 0, 0, 0.77778], 10937: [0.26167, 0.75726, 0, 0, 0.77778], 10938: [0.26167, 0.75726, 0, 0, 0.77778], 10949: [0.25583, 0.75583, 0, 0, 0.77778], 10950: [0.25583, 0.75583, 0, 0, 0.77778], 10955: [0.28481, 0.79383, 0, 0, 0.77778], 10956: [0.28481, 0.79383, 0, 0, 0.77778], 57350: [0.08167, 0.58167, 0, 0, 0.22222], 57351: [0.08167, 0.58167, 0, 0, 0.38889], 57352: [0.08167, 0.58167, 0, 0, 0.77778], 57353: [0, 0.43056, 0.04028, 0, 0.66667], 57356: [0.25142, 0.75726, 0, 0, 0.77778], 57357: [0.25142, 0.75726, 0, 0, 0.77778], 57358: [0.41951, 0.91951, 0, 0, 0.77778], 57359: [0.30274, 0.79383, 0, 0, 0.77778], 57360: [0.30274, 0.79383, 0, 0, 0.77778], 57361: [0.41951, 0.91951, 0, 0, 0.77778], 57366: [0.25142, 0.75726, 0, 0, 0.77778], 57367: [0.25142, 0.75726, 0, 0, 0.77778], 57368: [0.25142, 0.75726, 0, 0, 0.77778], 57369: [0.25142, 0.75726, 0, 0, 0.77778], 57370: [0.13597, 0.63597, 0, 0, 0.77778], 57371: [0.13597, 0.63597, 0, 0, 0.77778] }, "Caligraphic-Regular": { 32: [0, 0, 0, 0, 0.25], 65: [0, 0.68333, 0, 0.19445, 0.79847], 66: [0, 0.68333, 0.03041, 0.13889, 0.65681], 67: [0, 0.68333, 0.05834, 0.13889, 0.52653], 68: [0, 0.68333, 0.02778, 0.08334, 0.77139], 69: [0, 0.68333, 0.08944, 0.11111, 0.52778], 70: [0, 0.68333, 0.09931, 0.11111, 0.71875], 71: [0.09722, 0.68333, 0.0593, 0.11111, 0.59487], 72: [0, 0.68333, 965e-5, 0.11111, 0.84452], 73: [0, 0.68333, 0.07382, 0, 0.54452], 74: [0.09722, 0.68333, 0.18472, 0.16667, 0.67778], 75: [0, 0.68333, 0.01445, 0.05556, 0.76195], 76: [0, 0.68333, 0, 0.13889, 0.68972], 77: [0, 0.68333, 0, 0.13889, 1.2009], 78: [0, 0.68333, 0.14736, 0.08334, 0.82049], 79: [0, 0.68333, 0.02778, 0.11111, 0.79611], 80: [0, 0.68333, 0.08222, 0.08334, 0.69556], 81: [0.09722, 0.68333, 0, 0.11111, 0.81667], 82: [0, 0.68333, 0, 0.08334, 0.8475], 83: [0, 0.68333, 0.075, 0.13889, 0.60556], 84: [0, 0.68333, 0.25417, 0, 0.54464], 85: [0, 0.68333, 0.09931, 0.08334, 0.62583], 86: [0, 0.68333, 0.08222, 0, 0.61278], 87: [0, 0.68333, 0.08222, 0.08334, 0.98778], 88: [0, 0.68333, 0.14643, 0.13889, 0.7133], 89: [0.09722, 0.68333, 0.08222, 0.08334, 0.66834], 90: [0, 0.68333, 0.07944, 0.13889, 0.72473], 160: [0, 0, 0, 0, 0.25] }, "Fraktur-Regular": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69141, 0, 0, 0.29574], 34: [0, 0.69141, 0, 0, 0.21471], 38: [0, 0.69141, 0, 0, 0.73786], 39: [0, 0.69141, 0, 0, 0.21201], 40: [0.24982, 0.74947, 0, 0, 0.38865], 41: [0.24982, 0.74947, 0, 0, 0.38865], 42: [0, 0.62119, 0, 0, 0.27764], 43: [0.08319, 0.58283, 0, 0, 0.75623], 44: [0, 0.10803, 0, 0, 0.27764], 45: [0.08319, 0.58283, 0, 0, 0.75623], 46: [0, 0.10803, 0, 0, 0.27764], 47: [0.24982, 0.74947, 0, 0, 0.50181], 48: [0, 0.47534, 0, 0, 0.50181], 49: [0, 0.47534, 0, 0, 0.50181], 50: [0, 0.47534, 0, 0, 0.50181], 51: [0.18906, 0.47534, 0, 0, 0.50181], 52: [0.18906, 0.47534, 0, 0, 0.50181], 53: [0.18906, 0.47534, 0, 0, 0.50181], 54: [0, 0.69141, 0, 0, 0.50181], 55: [0.18906, 0.47534, 0, 0, 0.50181], 56: [0, 0.69141, 0, 0, 0.50181], 57: [0.18906, 0.47534, 0, 0, 0.50181], 58: [0, 0.47534, 0, 0, 0.21606], 59: [0.12604, 0.47534, 0, 0, 0.21606], 61: [-0.13099, 0.36866, 0, 0, 0.75623], 63: [0, 0.69141, 0, 0, 0.36245], 65: [0, 0.69141, 0, 0, 0.7176], 66: [0, 0.69141, 0, 0, 0.88397], 67: [0, 0.69141, 0, 0, 0.61254], 68: [0, 0.69141, 0, 0, 0.83158], 69: [0, 0.69141, 0, 0, 0.66278], 70: [0.12604, 0.69141, 0, 0, 0.61119], 71: [0, 0.69141, 0, 0, 0.78539], 72: [0.06302, 0.69141, 0, 0, 0.7203], 73: [0, 0.69141, 0, 0, 0.55448], 74: [0.12604, 0.69141, 0, 0, 0.55231], 75: [0, 0.69141, 0, 0, 0.66845], 76: [0, 0.69141, 0, 0, 0.66602], 77: [0, 0.69141, 0, 0, 1.04953], 78: [0, 0.69141, 0, 0, 0.83212], 79: [0, 0.69141, 0, 0, 0.82699], 80: [0.18906, 0.69141, 0, 0, 0.82753], 81: [0.03781, 0.69141, 0, 0, 0.82699], 82: [0, 0.69141, 0, 0, 0.82807], 83: [0, 0.69141, 0, 0, 0.82861], 84: [0, 0.69141, 0, 0, 0.66899], 85: [0, 0.69141, 0, 0, 0.64576], 86: [0, 0.69141, 0, 0, 0.83131], 87: [0, 0.69141, 0, 0, 1.04602], 88: [0, 0.69141, 0, 0, 0.71922], 89: [0.18906, 0.69141, 0, 0, 0.83293], 90: [0.12604, 0.69141, 0, 0, 0.60201], 91: [0.24982, 0.74947, 0, 0, 0.27764], 93: [0.24982, 0.74947, 0, 0, 0.27764], 94: [0, 0.69141, 0, 0, 0.49965], 97: [0, 0.47534, 0, 0, 0.50046], 98: [0, 0.69141, 0, 0, 0.51315], 99: [0, 0.47534, 0, 0, 0.38946], 100: [0, 0.62119, 0, 0, 0.49857], 101: [0, 0.47534, 0, 0, 0.40053], 102: [0.18906, 0.69141, 0, 0, 0.32626], 103: [0.18906, 0.47534, 0, 0, 0.5037], 104: [0.18906, 0.69141, 0, 0, 0.52126], 105: [0, 0.69141, 0, 0, 0.27899], 106: [0, 0.69141, 0, 0, 0.28088], 107: [0, 0.69141, 0, 0, 0.38946], 108: [0, 0.69141, 0, 0, 0.27953], 109: [0, 0.47534, 0, 0, 0.76676], 110: [0, 0.47534, 0, 0, 0.52666], 111: [0, 0.47534, 0, 0, 0.48885], 112: [0.18906, 0.52396, 0, 0, 0.50046], 113: [0.18906, 0.47534, 0, 0, 0.48912], 114: [0, 0.47534, 0, 0, 0.38919], 115: [0, 0.47534, 0, 0, 0.44266], 116: [0, 0.62119, 0, 0, 0.33301], 117: [0, 0.47534, 0, 0, 0.5172], 118: [0, 0.52396, 0, 0, 0.5118], 119: [0, 0.52396, 0, 0, 0.77351], 120: [0.18906, 0.47534, 0, 0, 0.38865], 121: [0.18906, 0.47534, 0, 0, 0.49884], 122: [0.18906, 0.47534, 0, 0, 0.39054], 160: [0, 0, 0, 0, 0.25], 8216: [0, 0.69141, 0, 0, 0.21471], 8217: [0, 0.69141, 0, 0, 0.21471], 58112: [0, 0.62119, 0, 0, 0.49749], 58113: [0, 0.62119, 0, 0, 0.4983], 58114: [0.18906, 0.69141, 0, 0, 0.33328], 58115: [0.18906, 0.69141, 0, 0, 0.32923], 58116: [0.18906, 0.47534, 0, 0, 0.50343], 58117: [0, 0.69141, 0, 0, 0.33301], 58118: [0, 0.62119, 0, 0, 0.33409], 58119: [0, 0.47534, 0, 0, 0.50073] }, "Main-Bold": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.35], 34: [0, 0.69444, 0, 0, 0.60278], 35: [0.19444, 0.69444, 0, 0, 0.95833], 36: [0.05556, 0.75, 0, 0, 0.575], 37: [0.05556, 0.75, 0, 0, 0.95833], 38: [0, 0.69444, 0, 0, 0.89444], 39: [0, 0.69444, 0, 0, 0.31944], 40: [0.25, 0.75, 0, 0, 0.44722], 41: [0.25, 0.75, 0, 0, 0.44722], 42: [0, 0.75, 0, 0, 0.575], 43: [0.13333, 0.63333, 0, 0, 0.89444], 44: [0.19444, 0.15556, 0, 0, 0.31944], 45: [0, 0.44444, 0, 0, 0.38333], 46: [0, 0.15556, 0, 0, 0.31944], 47: [0.25, 0.75, 0, 0, 0.575], 48: [0, 0.64444, 0, 0, 0.575], 49: [0, 0.64444, 0, 0, 0.575], 50: [0, 0.64444, 0, 0, 0.575], 51: [0, 0.64444, 0, 0, 0.575], 52: [0, 0.64444, 0, 0, 0.575], 53: [0, 0.64444, 0, 0, 0.575], 54: [0, 0.64444, 0, 0, 0.575], 55: [0, 0.64444, 0, 0, 0.575], 56: [0, 0.64444, 0, 0, 0.575], 57: [0, 0.64444, 0, 0, 0.575], 58: [0, 0.44444, 0, 0, 0.31944], 59: [0.19444, 0.44444, 0, 0, 0.31944], 60: [0.08556, 0.58556, 0, 0, 0.89444], 61: [-0.10889, 0.39111, 0, 0, 0.89444], 62: [0.08556, 0.58556, 0, 0, 0.89444], 63: [0, 0.69444, 0, 0, 0.54305], 64: [0, 0.69444, 0, 0, 0.89444], 65: [0, 0.68611, 0, 0, 0.86944], 66: [0, 0.68611, 0, 0, 0.81805], 67: [0, 0.68611, 0, 0, 0.83055], 68: [0, 0.68611, 0, 0, 0.88194], 69: [0, 0.68611, 0, 0, 0.75555], 70: [0, 0.68611, 0, 0, 0.72361], 71: [0, 0.68611, 0, 0, 0.90416], 72: [0, 0.68611, 0, 0, 0.9], 73: [0, 0.68611, 0, 0, 0.43611], 74: [0, 0.68611, 0, 0, 0.59444], 75: [0, 0.68611, 0, 0, 0.90138], 76: [0, 0.68611, 0, 0, 0.69166], 77: [0, 0.68611, 0, 0, 1.09166], 78: [0, 0.68611, 0, 0, 0.9], 79: [0, 0.68611, 0, 0, 0.86388], 80: [0, 0.68611, 0, 0, 0.78611], 81: [0.19444, 0.68611, 0, 0, 0.86388], 82: [0, 0.68611, 0, 0, 0.8625], 83: [0, 0.68611, 0, 0, 0.63889], 84: [0, 0.68611, 0, 0, 0.8], 85: [0, 0.68611, 0, 0, 0.88472], 86: [0, 0.68611, 0.01597, 0, 0.86944], 87: [0, 0.68611, 0.01597, 0, 1.18888], 88: [0, 0.68611, 0, 0, 0.86944], 89: [0, 0.68611, 0.02875, 0, 0.86944], 90: [0, 0.68611, 0, 0, 0.70277], 91: [0.25, 0.75, 0, 0, 0.31944], 92: [0.25, 0.75, 0, 0, 0.575], 93: [0.25, 0.75, 0, 0, 0.31944], 94: [0, 0.69444, 0, 0, 0.575], 95: [0.31, 0.13444, 0.03194, 0, 0.575], 97: [0, 0.44444, 0, 0, 0.55902], 98: [0, 0.69444, 0, 0, 0.63889], 99: [0, 0.44444, 0, 0, 0.51111], 100: [0, 0.69444, 0, 0, 0.63889], 101: [0, 0.44444, 0, 0, 0.52708], 102: [0, 0.69444, 0.10903, 0, 0.35139], 103: [0.19444, 0.44444, 0.01597, 0, 0.575], 104: [0, 0.69444, 0, 0, 0.63889], 105: [0, 0.69444, 0, 0, 0.31944], 106: [0.19444, 0.69444, 0, 0, 0.35139], 107: [0, 0.69444, 0, 0, 0.60694], 108: [0, 0.69444, 0, 0, 0.31944], 109: [0, 0.44444, 0, 0, 0.95833], 110: [0, 0.44444, 0, 0, 0.63889], 111: [0, 0.44444, 0, 0, 0.575], 112: [0.19444, 0.44444, 0, 0, 0.63889], 113: [0.19444, 0.44444, 0, 0, 0.60694], 114: [0, 0.44444, 0, 0, 0.47361], 115: [0, 0.44444, 0, 0, 0.45361], 116: [0, 0.63492, 0, 0, 0.44722], 117: [0, 0.44444, 0, 0, 0.63889], 118: [0, 0.44444, 0.01597, 0, 0.60694], 119: [0, 0.44444, 0.01597, 0, 0.83055], 120: [0, 0.44444, 0, 0, 0.60694], 121: [0.19444, 0.44444, 0.01597, 0, 0.60694], 122: [0, 0.44444, 0, 0, 0.51111], 123: [0.25, 0.75, 0, 0, 0.575], 124: [0.25, 0.75, 0, 0, 0.31944], 125: [0.25, 0.75, 0, 0, 0.575], 126: [0.35, 0.34444, 0, 0, 0.575], 160: [0, 0, 0, 0, 0.25], 163: [0, 0.69444, 0, 0, 0.86853], 168: [0, 0.69444, 0, 0, 0.575], 172: [0, 0.44444, 0, 0, 0.76666], 176: [0, 0.69444, 0, 0, 0.86944], 177: [0.13333, 0.63333, 0, 0, 0.89444], 184: [0.17014, 0, 0, 0, 0.51111], 198: [0, 0.68611, 0, 0, 1.04166], 215: [0.13333, 0.63333, 0, 0, 0.89444], 216: [0.04861, 0.73472, 0, 0, 0.89444], 223: [0, 0.69444, 0, 0, 0.59722], 230: [0, 0.44444, 0, 0, 0.83055], 247: [0.13333, 0.63333, 0, 0, 0.89444], 248: [0.09722, 0.54167, 0, 0, 0.575], 305: [0, 0.44444, 0, 0, 0.31944], 338: [0, 0.68611, 0, 0, 1.16944], 339: [0, 0.44444, 0, 0, 0.89444], 567: [0.19444, 0.44444, 0, 0, 0.35139], 710: [0, 0.69444, 0, 0, 0.575], 711: [0, 0.63194, 0, 0, 0.575], 713: [0, 0.59611, 0, 0, 0.575], 714: [0, 0.69444, 0, 0, 0.575], 715: [0, 0.69444, 0, 0, 0.575], 728: [0, 0.69444, 0, 0, 0.575], 729: [0, 0.69444, 0, 0, 0.31944], 730: [0, 0.69444, 0, 0, 0.86944], 732: [0, 0.69444, 0, 0, 0.575], 733: [0, 0.69444, 0, 0, 0.575], 915: [0, 0.68611, 0, 0, 0.69166], 916: [0, 0.68611, 0, 0, 0.95833], 920: [0, 0.68611, 0, 0, 0.89444], 923: [0, 0.68611, 0, 0, 0.80555], 926: [0, 0.68611, 0, 0, 0.76666], 928: [0, 0.68611, 0, 0, 0.9], 931: [0, 0.68611, 0, 0, 0.83055], 933: [0, 0.68611, 0, 0, 0.89444], 934: [0, 0.68611, 0, 0, 0.83055], 936: [0, 0.68611, 0, 0, 0.89444], 937: [0, 0.68611, 0, 0, 0.83055], 8211: [0, 0.44444, 0.03194, 0, 0.575], 8212: [0, 0.44444, 0.03194, 0, 1.14999], 8216: [0, 0.69444, 0, 0, 0.31944], 8217: [0, 0.69444, 0, 0, 0.31944], 8220: [0, 0.69444, 0, 0, 0.60278], 8221: [0, 0.69444, 0, 0, 0.60278], 8224: [0.19444, 0.69444, 0, 0, 0.51111], 8225: [0.19444, 0.69444, 0, 0, 0.51111], 8242: [0, 0.55556, 0, 0, 0.34444], 8407: [0, 0.72444, 0.15486, 0, 0.575], 8463: [0, 0.69444, 0, 0, 0.66759], 8465: [0, 0.69444, 0, 0, 0.83055], 8467: [0, 0.69444, 0, 0, 0.47361], 8472: [0.19444, 0.44444, 0, 0, 0.74027], 8476: [0, 0.69444, 0, 0, 0.83055], 8501: [0, 0.69444, 0, 0, 0.70277], 8592: [-0.10889, 0.39111, 0, 0, 1.14999], 8593: [0.19444, 0.69444, 0, 0, 0.575], 8594: [-0.10889, 0.39111, 0, 0, 1.14999], 8595: [0.19444, 0.69444, 0, 0, 0.575], 8596: [-0.10889, 0.39111, 0, 0, 1.14999], 8597: [0.25, 0.75, 0, 0, 0.575], 8598: [0.19444, 0.69444, 0, 0, 1.14999], 8599: [0.19444, 0.69444, 0, 0, 1.14999], 8600: [0.19444, 0.69444, 0, 0, 1.14999], 8601: [0.19444, 0.69444, 0, 0, 1.14999], 8636: [-0.10889, 0.39111, 0, 0, 1.14999], 8637: [-0.10889, 0.39111, 0, 0, 1.14999], 8640: [-0.10889, 0.39111, 0, 0, 1.14999], 8641: [-0.10889, 0.39111, 0, 0, 1.14999], 8656: [-0.10889, 0.39111, 0, 0, 1.14999], 8657: [0.19444, 0.69444, 0, 0, 0.70277], 8658: [-0.10889, 0.39111, 0, 0, 1.14999], 8659: [0.19444, 0.69444, 0, 0, 0.70277], 8660: [-0.10889, 0.39111, 0, 0, 1.14999], 8661: [0.25, 0.75, 0, 0, 0.70277], 8704: [0, 0.69444, 0, 0, 0.63889], 8706: [0, 0.69444, 0.06389, 0, 0.62847], 8707: [0, 0.69444, 0, 0, 0.63889], 8709: [0.05556, 0.75, 0, 0, 0.575], 8711: [0, 0.68611, 0, 0, 0.95833], 8712: [0.08556, 0.58556, 0, 0, 0.76666], 8715: [0.08556, 0.58556, 0, 0, 0.76666], 8722: [0.13333, 0.63333, 0, 0, 0.89444], 8723: [0.13333, 0.63333, 0, 0, 0.89444], 8725: [0.25, 0.75, 0, 0, 0.575], 8726: [0.25, 0.75, 0, 0, 0.575], 8727: [-0.02778, 0.47222, 0, 0, 0.575], 8728: [-0.02639, 0.47361, 0, 0, 0.575], 8729: [-0.02639, 0.47361, 0, 0, 0.575], 8730: [0.18, 0.82, 0, 0, 0.95833], 8733: [0, 0.44444, 0, 0, 0.89444], 8734: [0, 0.44444, 0, 0, 1.14999], 8736: [0, 0.69224, 0, 0, 0.72222], 8739: [0.25, 0.75, 0, 0, 0.31944], 8741: [0.25, 0.75, 0, 0, 0.575], 8743: [0, 0.55556, 0, 0, 0.76666], 8744: [0, 0.55556, 0, 0, 0.76666], 8745: [0, 0.55556, 0, 0, 0.76666], 8746: [0, 0.55556, 0, 0, 0.76666], 8747: [0.19444, 0.69444, 0.12778, 0, 0.56875], 8764: [-0.10889, 0.39111, 0, 0, 0.89444], 8768: [0.19444, 0.69444, 0, 0, 0.31944], 8771: [222e-5, 0.50222, 0, 0, 0.89444], 8773: [0.027, 0.638, 0, 0, 0.894], 8776: [0.02444, 0.52444, 0, 0, 0.89444], 8781: [222e-5, 0.50222, 0, 0, 0.89444], 8801: [222e-5, 0.50222, 0, 0, 0.89444], 8804: [0.19667, 0.69667, 0, 0, 0.89444], 8805: [0.19667, 0.69667, 0, 0, 0.89444], 8810: [0.08556, 0.58556, 0, 0, 1.14999], 8811: [0.08556, 0.58556, 0, 0, 1.14999], 8826: [0.08556, 0.58556, 0, 0, 0.89444], 8827: [0.08556, 0.58556, 0, 0, 0.89444], 8834: [0.08556, 0.58556, 0, 0, 0.89444], 8835: [0.08556, 0.58556, 0, 0, 0.89444], 8838: [0.19667, 0.69667, 0, 0, 0.89444], 8839: [0.19667, 0.69667, 0, 0, 0.89444], 8846: [0, 0.55556, 0, 0, 0.76666], 8849: [0.19667, 0.69667, 0, 0, 0.89444], 8850: [0.19667, 0.69667, 0, 0, 0.89444], 8851: [0, 0.55556, 0, 0, 0.76666], 8852: [0, 0.55556, 0, 0, 0.76666], 8853: [0.13333, 0.63333, 0, 0, 0.89444], 8854: [0.13333, 0.63333, 0, 0, 0.89444], 8855: [0.13333, 0.63333, 0, 0, 0.89444], 8856: [0.13333, 0.63333, 0, 0, 0.89444], 8857: [0.13333, 0.63333, 0, 0, 0.89444], 8866: [0, 0.69444, 0, 0, 0.70277], 8867: [0, 0.69444, 0, 0, 0.70277], 8868: [0, 0.69444, 0, 0, 0.89444], 8869: [0, 0.69444, 0, 0, 0.89444], 8900: [-0.02639, 0.47361, 0, 0, 0.575], 8901: [-0.02639, 0.47361, 0, 0, 0.31944], 8902: [-0.02778, 0.47222, 0, 0, 0.575], 8968: [0.25, 0.75, 0, 0, 0.51111], 8969: [0.25, 0.75, 0, 0, 0.51111], 8970: [0.25, 0.75, 0, 0, 0.51111], 8971: [0.25, 0.75, 0, 0, 0.51111], 8994: [-0.13889, 0.36111, 0, 0, 1.14999], 8995: [-0.13889, 0.36111, 0, 0, 1.14999], 9651: [0.19444, 0.69444, 0, 0, 1.02222], 9657: [-0.02778, 0.47222, 0, 0, 0.575], 9661: [0.19444, 0.69444, 0, 0, 1.02222], 9667: [-0.02778, 0.47222, 0, 0, 0.575], 9711: [0.19444, 0.69444, 0, 0, 1.14999], 9824: [0.12963, 0.69444, 0, 0, 0.89444], 9825: [0.12963, 0.69444, 0, 0, 0.89444], 9826: [0.12963, 0.69444, 0, 0, 0.89444], 9827: [0.12963, 0.69444, 0, 0, 0.89444], 9837: [0, 0.75, 0, 0, 0.44722], 9838: [0.19444, 0.69444, 0, 0, 0.44722], 9839: [0.19444, 0.69444, 0, 0, 0.44722], 10216: [0.25, 0.75, 0, 0, 0.44722], 10217: [0.25, 0.75, 0, 0, 0.44722], 10815: [0, 0.68611, 0, 0, 0.9], 10927: [0.19667, 0.69667, 0, 0, 0.89444], 10928: [0.19667, 0.69667, 0, 0, 0.89444], 57376: [0.19444, 0.69444, 0, 0, 0] }, "Main-BoldItalic": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0.11417, 0, 0.38611], 34: [0, 0.69444, 0.07939, 0, 0.62055], 35: [0.19444, 0.69444, 0.06833, 0, 0.94444], 37: [0.05556, 0.75, 0.12861, 0, 0.94444], 38: [0, 0.69444, 0.08528, 0, 0.88555], 39: [0, 0.69444, 0.12945, 0, 0.35555], 40: [0.25, 0.75, 0.15806, 0, 0.47333], 41: [0.25, 0.75, 0.03306, 0, 0.47333], 42: [0, 0.75, 0.14333, 0, 0.59111], 43: [0.10333, 0.60333, 0.03306, 0, 0.88555], 44: [0.19444, 0.14722, 0, 0, 0.35555], 45: [0, 0.44444, 0.02611, 0, 0.41444], 46: [0, 0.14722, 0, 0, 0.35555], 47: [0.25, 0.75, 0.15806, 0, 0.59111], 48: [0, 0.64444, 0.13167, 0, 0.59111], 49: [0, 0.64444, 0.13167, 0, 0.59111], 50: [0, 0.64444, 0.13167, 0, 0.59111], 51: [0, 0.64444, 0.13167, 0, 0.59111], 52: [0.19444, 0.64444, 0.13167, 0, 0.59111], 53: [0, 0.64444, 0.13167, 0, 0.59111], 54: [0, 0.64444, 0.13167, 0, 0.59111], 55: [0.19444, 0.64444, 0.13167, 0, 0.59111], 56: [0, 0.64444, 0.13167, 0, 0.59111], 57: [0, 0.64444, 0.13167, 0, 0.59111], 58: [0, 0.44444, 0.06695, 0, 0.35555], 59: [0.19444, 0.44444, 0.06695, 0, 0.35555], 61: [-0.10889, 0.39111, 0.06833, 0, 0.88555], 63: [0, 0.69444, 0.11472, 0, 0.59111], 64: [0, 0.69444, 0.09208, 0, 0.88555], 65: [0, 0.68611, 0, 0, 0.86555], 66: [0, 0.68611, 0.0992, 0, 0.81666], 67: [0, 0.68611, 0.14208, 0, 0.82666], 68: [0, 0.68611, 0.09062, 0, 0.87555], 69: [0, 0.68611, 0.11431, 0, 0.75666], 70: [0, 0.68611, 0.12903, 0, 0.72722], 71: [0, 0.68611, 0.07347, 0, 0.89527], 72: [0, 0.68611, 0.17208, 0, 0.8961], 73: [0, 0.68611, 0.15681, 0, 0.47166], 74: [0, 0.68611, 0.145, 0, 0.61055], 75: [0, 0.68611, 0.14208, 0, 0.89499], 76: [0, 0.68611, 0, 0, 0.69777], 77: [0, 0.68611, 0.17208, 0, 1.07277], 78: [0, 0.68611, 0.17208, 0, 0.8961], 79: [0, 0.68611, 0.09062, 0, 0.85499], 80: [0, 0.68611, 0.0992, 0, 0.78721], 81: [0.19444, 0.68611, 0.09062, 0, 0.85499], 82: [0, 0.68611, 0.02559, 0, 0.85944], 83: [0, 0.68611, 0.11264, 0, 0.64999], 84: [0, 0.68611, 0.12903, 0, 0.7961], 85: [0, 0.68611, 0.17208, 0, 0.88083], 86: [0, 0.68611, 0.18625, 0, 0.86555], 87: [0, 0.68611, 0.18625, 0, 1.15999], 88: [0, 0.68611, 0.15681, 0, 0.86555], 89: [0, 0.68611, 0.19803, 0, 0.86555], 90: [0, 0.68611, 0.14208, 0, 0.70888], 91: [0.25, 0.75, 0.1875, 0, 0.35611], 93: [0.25, 0.75, 0.09972, 0, 0.35611], 94: [0, 0.69444, 0.06709, 0, 0.59111], 95: [0.31, 0.13444, 0.09811, 0, 0.59111], 97: [0, 0.44444, 0.09426, 0, 0.59111], 98: [0, 0.69444, 0.07861, 0, 0.53222], 99: [0, 0.44444, 0.05222, 0, 0.53222], 100: [0, 0.69444, 0.10861, 0, 0.59111], 101: [0, 0.44444, 0.085, 0, 0.53222], 102: [0.19444, 0.69444, 0.21778, 0, 0.4], 103: [0.19444, 0.44444, 0.105, 0, 0.53222], 104: [0, 0.69444, 0.09426, 0, 0.59111], 105: [0, 0.69326, 0.11387, 0, 0.35555], 106: [0.19444, 0.69326, 0.1672, 0, 0.35555], 107: [0, 0.69444, 0.11111, 0, 0.53222], 108: [0, 0.69444, 0.10861, 0, 0.29666], 109: [0, 0.44444, 0.09426, 0, 0.94444], 110: [0, 0.44444, 0.09426, 0, 0.64999], 111: [0, 0.44444, 0.07861, 0, 0.59111], 112: [0.19444, 0.44444, 0.07861, 0, 0.59111], 113: [0.19444, 0.44444, 0.105, 0, 0.53222], 114: [0, 0.44444, 0.11111, 0, 0.50167], 115: [0, 0.44444, 0.08167, 0, 0.48694], 116: [0, 0.63492, 0.09639, 0, 0.385], 117: [0, 0.44444, 0.09426, 0, 0.62055], 118: [0, 0.44444, 0.11111, 0, 0.53222], 119: [0, 0.44444, 0.11111, 0, 0.76777], 120: [0, 0.44444, 0.12583, 0, 0.56055], 121: [0.19444, 0.44444, 0.105, 0, 0.56166], 122: [0, 0.44444, 0.13889, 0, 0.49055], 126: [0.35, 0.34444, 0.11472, 0, 0.59111], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.69444, 0.11473, 0, 0.59111], 176: [0, 0.69444, 0, 0, 0.94888], 184: [0.17014, 0, 0, 0, 0.53222], 198: [0, 0.68611, 0.11431, 0, 1.02277], 216: [0.04861, 0.73472, 0.09062, 0, 0.88555], 223: [0.19444, 0.69444, 0.09736, 0, 0.665], 230: [0, 0.44444, 0.085, 0, 0.82666], 248: [0.09722, 0.54167, 0.09458, 0, 0.59111], 305: [0, 0.44444, 0.09426, 0, 0.35555], 338: [0, 0.68611, 0.11431, 0, 1.14054], 339: [0, 0.44444, 0.085, 0, 0.82666], 567: [0.19444, 0.44444, 0.04611, 0, 0.385], 710: [0, 0.69444, 0.06709, 0, 0.59111], 711: [0, 0.63194, 0.08271, 0, 0.59111], 713: [0, 0.59444, 0.10444, 0, 0.59111], 714: [0, 0.69444, 0.08528, 0, 0.59111], 715: [0, 0.69444, 0, 0, 0.59111], 728: [0, 0.69444, 0.10333, 0, 0.59111], 729: [0, 0.69444, 0.12945, 0, 0.35555], 730: [0, 0.69444, 0, 0, 0.94888], 732: [0, 0.69444, 0.11472, 0, 0.59111], 733: [0, 0.69444, 0.11472, 0, 0.59111], 915: [0, 0.68611, 0.12903, 0, 0.69777], 916: [0, 0.68611, 0, 0, 0.94444], 920: [0, 0.68611, 0.09062, 0, 0.88555], 923: [0, 0.68611, 0, 0, 0.80666], 926: [0, 0.68611, 0.15092, 0, 0.76777], 928: [0, 0.68611, 0.17208, 0, 0.8961], 931: [0, 0.68611, 0.11431, 0, 0.82666], 933: [0, 0.68611, 0.10778, 0, 0.88555], 934: [0, 0.68611, 0.05632, 0, 0.82666], 936: [0, 0.68611, 0.10778, 0, 0.88555], 937: [0, 0.68611, 0.0992, 0, 0.82666], 8211: [0, 0.44444, 0.09811, 0, 0.59111], 8212: [0, 0.44444, 0.09811, 0, 1.18221], 8216: [0, 0.69444, 0.12945, 0, 0.35555], 8217: [0, 0.69444, 0.12945, 0, 0.35555], 8220: [0, 0.69444, 0.16772, 0, 0.62055], 8221: [0, 0.69444, 0.07939, 0, 0.62055] }, "Main-Italic": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0.12417, 0, 0.30667], 34: [0, 0.69444, 0.06961, 0, 0.51444], 35: [0.19444, 0.69444, 0.06616, 0, 0.81777], 37: [0.05556, 0.75, 0.13639, 0, 0.81777], 38: [0, 0.69444, 0.09694, 0, 0.76666], 39: [0, 0.69444, 0.12417, 0, 0.30667], 40: [0.25, 0.75, 0.16194, 0, 0.40889], 41: [0.25, 0.75, 0.03694, 0, 0.40889], 42: [0, 0.75, 0.14917, 0, 0.51111], 43: [0.05667, 0.56167, 0.03694, 0, 0.76666], 44: [0.19444, 0.10556, 0, 0, 0.30667], 45: [0, 0.43056, 0.02826, 0, 0.35778], 46: [0, 0.10556, 0, 0, 0.30667], 47: [0.25, 0.75, 0.16194, 0, 0.51111], 48: [0, 0.64444, 0.13556, 0, 0.51111], 49: [0, 0.64444, 0.13556, 0, 0.51111], 50: [0, 0.64444, 0.13556, 0, 0.51111], 51: [0, 0.64444, 0.13556, 0, 0.51111], 52: [0.19444, 0.64444, 0.13556, 0, 0.51111], 53: [0, 0.64444, 0.13556, 0, 0.51111], 54: [0, 0.64444, 0.13556, 0, 0.51111], 55: [0.19444, 0.64444, 0.13556, 0, 0.51111], 56: [0, 0.64444, 0.13556, 0, 0.51111], 57: [0, 0.64444, 0.13556, 0, 0.51111], 58: [0, 0.43056, 0.0582, 0, 0.30667], 59: [0.19444, 0.43056, 0.0582, 0, 0.30667], 61: [-0.13313, 0.36687, 0.06616, 0, 0.76666], 63: [0, 0.69444, 0.1225, 0, 0.51111], 64: [0, 0.69444, 0.09597, 0, 0.76666], 65: [0, 0.68333, 0, 0, 0.74333], 66: [0, 0.68333, 0.10257, 0, 0.70389], 67: [0, 0.68333, 0.14528, 0, 0.71555], 68: [0, 0.68333, 0.09403, 0, 0.755], 69: [0, 0.68333, 0.12028, 0, 0.67833], 70: [0, 0.68333, 0.13305, 0, 0.65277], 71: [0, 0.68333, 0.08722, 0, 0.77361], 72: [0, 0.68333, 0.16389, 0, 0.74333], 73: [0, 0.68333, 0.15806, 0, 0.38555], 74: [0, 0.68333, 0.14028, 0, 0.525], 75: [0, 0.68333, 0.14528, 0, 0.76888], 76: [0, 0.68333, 0, 0, 0.62722], 77: [0, 0.68333, 0.16389, 0, 0.89666], 78: [0, 0.68333, 0.16389, 0, 0.74333], 79: [0, 0.68333, 0.09403, 0, 0.76666], 80: [0, 0.68333, 0.10257, 0, 0.67833], 81: [0.19444, 0.68333, 0.09403, 0, 0.76666], 82: [0, 0.68333, 0.03868, 0, 0.72944], 83: [0, 0.68333, 0.11972, 0, 0.56222], 84: [0, 0.68333, 0.13305, 0, 0.71555], 85: [0, 0.68333, 0.16389, 0, 0.74333], 86: [0, 0.68333, 0.18361, 0, 0.74333], 87: [0, 0.68333, 0.18361, 0, 0.99888], 88: [0, 0.68333, 0.15806, 0, 0.74333], 89: [0, 0.68333, 0.19383, 0, 0.74333], 90: [0, 0.68333, 0.14528, 0, 0.61333], 91: [0.25, 0.75, 0.1875, 0, 0.30667], 93: [0.25, 0.75, 0.10528, 0, 0.30667], 94: [0, 0.69444, 0.06646, 0, 0.51111], 95: [0.31, 0.12056, 0.09208, 0, 0.51111], 97: [0, 0.43056, 0.07671, 0, 0.51111], 98: [0, 0.69444, 0.06312, 0, 0.46], 99: [0, 0.43056, 0.05653, 0, 0.46], 100: [0, 0.69444, 0.10333, 0, 0.51111], 101: [0, 0.43056, 0.07514, 0, 0.46], 102: [0.19444, 0.69444, 0.21194, 0, 0.30667], 103: [0.19444, 0.43056, 0.08847, 0, 0.46], 104: [0, 0.69444, 0.07671, 0, 0.51111], 105: [0, 0.65536, 0.1019, 0, 0.30667], 106: [0.19444, 0.65536, 0.14467, 0, 0.30667], 107: [0, 0.69444, 0.10764, 0, 0.46], 108: [0, 0.69444, 0.10333, 0, 0.25555], 109: [0, 0.43056, 0.07671, 0, 0.81777], 110: [0, 0.43056, 0.07671, 0, 0.56222], 111: [0, 0.43056, 0.06312, 0, 0.51111], 112: [0.19444, 0.43056, 0.06312, 0, 0.51111], 113: [0.19444, 0.43056, 0.08847, 0, 0.46], 114: [0, 0.43056, 0.10764, 0, 0.42166], 115: [0, 0.43056, 0.08208, 0, 0.40889], 116: [0, 0.61508, 0.09486, 0, 0.33222], 117: [0, 0.43056, 0.07671, 0, 0.53666], 118: [0, 0.43056, 0.10764, 0, 0.46], 119: [0, 0.43056, 0.10764, 0, 0.66444], 120: [0, 0.43056, 0.12042, 0, 0.46389], 121: [0.19444, 0.43056, 0.08847, 0, 0.48555], 122: [0, 0.43056, 0.12292, 0, 0.40889], 126: [0.35, 0.31786, 0.11585, 0, 0.51111], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.66786, 0.10474, 0, 0.51111], 176: [0, 0.69444, 0, 0, 0.83129], 184: [0.17014, 0, 0, 0, 0.46], 198: [0, 0.68333, 0.12028, 0, 0.88277], 216: [0.04861, 0.73194, 0.09403, 0, 0.76666], 223: [0.19444, 0.69444, 0.10514, 0, 0.53666], 230: [0, 0.43056, 0.07514, 0, 0.71555], 248: [0.09722, 0.52778, 0.09194, 0, 0.51111], 338: [0, 0.68333, 0.12028, 0, 0.98499], 339: [0, 0.43056, 0.07514, 0, 0.71555], 710: [0, 0.69444, 0.06646, 0, 0.51111], 711: [0, 0.62847, 0.08295, 0, 0.51111], 713: [0, 0.56167, 0.10333, 0, 0.51111], 714: [0, 0.69444, 0.09694, 0, 0.51111], 715: [0, 0.69444, 0, 0, 0.51111], 728: [0, 0.69444, 0.10806, 0, 0.51111], 729: [0, 0.66786, 0.11752, 0, 0.30667], 730: [0, 0.69444, 0, 0, 0.83129], 732: [0, 0.66786, 0.11585, 0, 0.51111], 733: [0, 0.69444, 0.1225, 0, 0.51111], 915: [0, 0.68333, 0.13305, 0, 0.62722], 916: [0, 0.68333, 0, 0, 0.81777], 920: [0, 0.68333, 0.09403, 0, 0.76666], 923: [0, 0.68333, 0, 0, 0.69222], 926: [0, 0.68333, 0.15294, 0, 0.66444], 928: [0, 0.68333, 0.16389, 0, 0.74333], 931: [0, 0.68333, 0.12028, 0, 0.71555], 933: [0, 0.68333, 0.11111, 0, 0.76666], 934: [0, 0.68333, 0.05986, 0, 0.71555], 936: [0, 0.68333, 0.11111, 0, 0.76666], 937: [0, 0.68333, 0.10257, 0, 0.71555], 8211: [0, 0.43056, 0.09208, 0, 0.51111], 8212: [0, 0.43056, 0.09208, 0, 1.02222], 8216: [0, 0.69444, 0.12417, 0, 0.30667], 8217: [0, 0.69444, 0.12417, 0, 0.30667], 8220: [0, 0.69444, 0.1685, 0, 0.51444], 8221: [0, 0.69444, 0.06961, 0, 0.51444], 8463: [0, 0.68889, 0, 0, 0.54028] }, "Main-Regular": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.27778], 34: [0, 0.69444, 0, 0, 0.5], 35: [0.19444, 0.69444, 0, 0, 0.83334], 36: [0.05556, 0.75, 0, 0, 0.5], 37: [0.05556, 0.75, 0, 0, 0.83334], 38: [0, 0.69444, 0, 0, 0.77778], 39: [0, 0.69444, 0, 0, 0.27778], 40: [0.25, 0.75, 0, 0, 0.38889], 41: [0.25, 0.75, 0, 0, 0.38889], 42: [0, 0.75, 0, 0, 0.5], 43: [0.08333, 0.58333, 0, 0, 0.77778], 44: [0.19444, 0.10556, 0, 0, 0.27778], 45: [0, 0.43056, 0, 0, 0.33333], 46: [0, 0.10556, 0, 0, 0.27778], 47: [0.25, 0.75, 0, 0, 0.5], 48: [0, 0.64444, 0, 0, 0.5], 49: [0, 0.64444, 0, 0, 0.5], 50: [0, 0.64444, 0, 0, 0.5], 51: [0, 0.64444, 0, 0, 0.5], 52: [0, 0.64444, 0, 0, 0.5], 53: [0, 0.64444, 0, 0, 0.5], 54: [0, 0.64444, 0, 0, 0.5], 55: [0, 0.64444, 0, 0, 0.5], 56: [0, 0.64444, 0, 0, 0.5], 57: [0, 0.64444, 0, 0, 0.5], 58: [0, 0.43056, 0, 0, 0.27778], 59: [0.19444, 0.43056, 0, 0, 0.27778], 60: [0.0391, 0.5391, 0, 0, 0.77778], 61: [-0.13313, 0.36687, 0, 0, 0.77778], 62: [0.0391, 0.5391, 0, 0, 0.77778], 63: [0, 0.69444, 0, 0, 0.47222], 64: [0, 0.69444, 0, 0, 0.77778], 65: [0, 0.68333, 0, 0, 0.75], 66: [0, 0.68333, 0, 0, 0.70834], 67: [0, 0.68333, 0, 0, 0.72222], 68: [0, 0.68333, 0, 0, 0.76389], 69: [0, 0.68333, 0, 0, 0.68056], 70: [0, 0.68333, 0, 0, 0.65278], 71: [0, 0.68333, 0, 0, 0.78472], 72: [0, 0.68333, 0, 0, 0.75], 73: [0, 0.68333, 0, 0, 0.36111], 74: [0, 0.68333, 0, 0, 0.51389], 75: [0, 0.68333, 0, 0, 0.77778], 76: [0, 0.68333, 0, 0, 0.625], 77: [0, 0.68333, 0, 0, 0.91667], 78: [0, 0.68333, 0, 0, 0.75], 79: [0, 0.68333, 0, 0, 0.77778], 80: [0, 0.68333, 0, 0, 0.68056], 81: [0.19444, 0.68333, 0, 0, 0.77778], 82: [0, 0.68333, 0, 0, 0.73611], 83: [0, 0.68333, 0, 0, 0.55556], 84: [0, 0.68333, 0, 0, 0.72222], 85: [0, 0.68333, 0, 0, 0.75], 86: [0, 0.68333, 0.01389, 0, 0.75], 87: [0, 0.68333, 0.01389, 0, 1.02778], 88: [0, 0.68333, 0, 0, 0.75], 89: [0, 0.68333, 0.025, 0, 0.75], 90: [0, 0.68333, 0, 0, 0.61111], 91: [0.25, 0.75, 0, 0, 0.27778], 92: [0.25, 0.75, 0, 0, 0.5], 93: [0.25, 0.75, 0, 0, 0.27778], 94: [0, 0.69444, 0, 0, 0.5], 95: [0.31, 0.12056, 0.02778, 0, 0.5], 97: [0, 0.43056, 0, 0, 0.5], 98: [0, 0.69444, 0, 0, 0.55556], 99: [0, 0.43056, 0, 0, 0.44445], 100: [0, 0.69444, 0, 0, 0.55556], 101: [0, 0.43056, 0, 0, 0.44445], 102: [0, 0.69444, 0.07778, 0, 0.30556], 103: [0.19444, 0.43056, 0.01389, 0, 0.5], 104: [0, 0.69444, 0, 0, 0.55556], 105: [0, 0.66786, 0, 0, 0.27778], 106: [0.19444, 0.66786, 0, 0, 0.30556], 107: [0, 0.69444, 0, 0, 0.52778], 108: [0, 0.69444, 0, 0, 0.27778], 109: [0, 0.43056, 0, 0, 0.83334], 110: [0, 0.43056, 0, 0, 0.55556], 111: [0, 0.43056, 0, 0, 0.5], 112: [0.19444, 0.43056, 0, 0, 0.55556], 113: [0.19444, 0.43056, 0, 0, 0.52778], 114: [0, 0.43056, 0, 0, 0.39167], 115: [0, 0.43056, 0, 0, 0.39445], 116: [0, 0.61508, 0, 0, 0.38889], 117: [0, 0.43056, 0, 0, 0.55556], 118: [0, 0.43056, 0.01389, 0, 0.52778], 119: [0, 0.43056, 0.01389, 0, 0.72222], 120: [0, 0.43056, 0, 0, 0.52778], 121: [0.19444, 0.43056, 0.01389, 0, 0.52778], 122: [0, 0.43056, 0, 0, 0.44445], 123: [0.25, 0.75, 0, 0, 0.5], 124: [0.25, 0.75, 0, 0, 0.27778], 125: [0.25, 0.75, 0, 0, 0.5], 126: [0.35, 0.31786, 0, 0, 0.5], 160: [0, 0, 0, 0, 0.25], 163: [0, 0.69444, 0, 0, 0.76909], 167: [0.19444, 0.69444, 0, 0, 0.44445], 168: [0, 0.66786, 0, 0, 0.5], 172: [0, 0.43056, 0, 0, 0.66667], 176: [0, 0.69444, 0, 0, 0.75], 177: [0.08333, 0.58333, 0, 0, 0.77778], 182: [0.19444, 0.69444, 0, 0, 0.61111], 184: [0.17014, 0, 0, 0, 0.44445], 198: [0, 0.68333, 0, 0, 0.90278], 215: [0.08333, 0.58333, 0, 0, 0.77778], 216: [0.04861, 0.73194, 0, 0, 0.77778], 223: [0, 0.69444, 0, 0, 0.5], 230: [0, 0.43056, 0, 0, 0.72222], 247: [0.08333, 0.58333, 0, 0, 0.77778], 248: [0.09722, 0.52778, 0, 0, 0.5], 305: [0, 0.43056, 0, 0, 0.27778], 338: [0, 0.68333, 0, 0, 1.01389], 339: [0, 0.43056, 0, 0, 0.77778], 567: [0.19444, 0.43056, 0, 0, 0.30556], 710: [0, 0.69444, 0, 0, 0.5], 711: [0, 0.62847, 0, 0, 0.5], 713: [0, 0.56778, 0, 0, 0.5], 714: [0, 0.69444, 0, 0, 0.5], 715: [0, 0.69444, 0, 0, 0.5], 728: [0, 0.69444, 0, 0, 0.5], 729: [0, 0.66786, 0, 0, 0.27778], 730: [0, 0.69444, 0, 0, 0.75], 732: [0, 0.66786, 0, 0, 0.5], 733: [0, 0.69444, 0, 0, 0.5], 915: [0, 0.68333, 0, 0, 0.625], 916: [0, 0.68333, 0, 0, 0.83334], 920: [0, 0.68333, 0, 0, 0.77778], 923: [0, 0.68333, 0, 0, 0.69445], 926: [0, 0.68333, 0, 0, 0.66667], 928: [0, 0.68333, 0, 0, 0.75], 931: [0, 0.68333, 0, 0, 0.72222], 933: [0, 0.68333, 0, 0, 0.77778], 934: [0, 0.68333, 0, 0, 0.72222], 936: [0, 0.68333, 0, 0, 0.77778], 937: [0, 0.68333, 0, 0, 0.72222], 8211: [0, 0.43056, 0.02778, 0, 0.5], 8212: [0, 0.43056, 0.02778, 0, 1], 8216: [0, 0.69444, 0, 0, 0.27778], 8217: [0, 0.69444, 0, 0, 0.27778], 8220: [0, 0.69444, 0, 0, 0.5], 8221: [0, 0.69444, 0, 0, 0.5], 8224: [0.19444, 0.69444, 0, 0, 0.44445], 8225: [0.19444, 0.69444, 0, 0, 0.44445], 8230: [0, 0.123, 0, 0, 1.172], 8242: [0, 0.55556, 0, 0, 0.275], 8407: [0, 0.71444, 0.15382, 0, 0.5], 8463: [0, 0.68889, 0, 0, 0.54028], 8465: [0, 0.69444, 0, 0, 0.72222], 8467: [0, 0.69444, 0, 0.11111, 0.41667], 8472: [0.19444, 0.43056, 0, 0.11111, 0.63646], 8476: [0, 0.69444, 0, 0, 0.72222], 8501: [0, 0.69444, 0, 0, 0.61111], 8592: [-0.13313, 0.36687, 0, 0, 1], 8593: [0.19444, 0.69444, 0, 0, 0.5], 8594: [-0.13313, 0.36687, 0, 0, 1], 8595: [0.19444, 0.69444, 0, 0, 0.5], 8596: [-0.13313, 0.36687, 0, 0, 1], 8597: [0.25, 0.75, 0, 0, 0.5], 8598: [0.19444, 0.69444, 0, 0, 1], 8599: [0.19444, 0.69444, 0, 0, 1], 8600: [0.19444, 0.69444, 0, 0, 1], 8601: [0.19444, 0.69444, 0, 0, 1], 8614: [0.011, 0.511, 0, 0, 1], 8617: [0.011, 0.511, 0, 0, 1.126], 8618: [0.011, 0.511, 0, 0, 1.126], 8636: [-0.13313, 0.36687, 0, 0, 1], 8637: [-0.13313, 0.36687, 0, 0, 1], 8640: [-0.13313, 0.36687, 0, 0, 1], 8641: [-0.13313, 0.36687, 0, 0, 1], 8652: [0.011, 0.671, 0, 0, 1], 8656: [-0.13313, 0.36687, 0, 0, 1], 8657: [0.19444, 0.69444, 0, 0, 0.61111], 8658: [-0.13313, 0.36687, 0, 0, 1], 8659: [0.19444, 0.69444, 0, 0, 0.61111], 8660: [-0.13313, 0.36687, 0, 0, 1], 8661: [0.25, 0.75, 0, 0, 0.61111], 8704: [0, 0.69444, 0, 0, 0.55556], 8706: [0, 0.69444, 0.05556, 0.08334, 0.5309], 8707: [0, 0.69444, 0, 0, 0.55556], 8709: [0.05556, 0.75, 0, 0, 0.5], 8711: [0, 0.68333, 0, 0, 0.83334], 8712: [0.0391, 0.5391, 0, 0, 0.66667], 8715: [0.0391, 0.5391, 0, 0, 0.66667], 8722: [0.08333, 0.58333, 0, 0, 0.77778], 8723: [0.08333, 0.58333, 0, 0, 0.77778], 8725: [0.25, 0.75, 0, 0, 0.5], 8726: [0.25, 0.75, 0, 0, 0.5], 8727: [-0.03472, 0.46528, 0, 0, 0.5], 8728: [-0.05555, 0.44445, 0, 0, 0.5], 8729: [-0.05555, 0.44445, 0, 0, 0.5], 8730: [0.2, 0.8, 0, 0, 0.83334], 8733: [0, 0.43056, 0, 0, 0.77778], 8734: [0, 0.43056, 0, 0, 1], 8736: [0, 0.69224, 0, 0, 0.72222], 8739: [0.25, 0.75, 0, 0, 0.27778], 8741: [0.25, 0.75, 0, 0, 0.5], 8743: [0, 0.55556, 0, 0, 0.66667], 8744: [0, 0.55556, 0, 0, 0.66667], 8745: [0, 0.55556, 0, 0, 0.66667], 8746: [0, 0.55556, 0, 0, 0.66667], 8747: [0.19444, 0.69444, 0.11111, 0, 0.41667], 8764: [-0.13313, 0.36687, 0, 0, 0.77778], 8768: [0.19444, 0.69444, 0, 0, 0.27778], 8771: [-0.03625, 0.46375, 0, 0, 0.77778], 8773: [-0.022, 0.589, 0, 0, 0.778], 8776: [-0.01688, 0.48312, 0, 0, 0.77778], 8781: [-0.03625, 0.46375, 0, 0, 0.77778], 8784: [-0.133, 0.673, 0, 0, 0.778], 8801: [-0.03625, 0.46375, 0, 0, 0.77778], 8804: [0.13597, 0.63597, 0, 0, 0.77778], 8805: [0.13597, 0.63597, 0, 0, 0.77778], 8810: [0.0391, 0.5391, 0, 0, 1], 8811: [0.0391, 0.5391, 0, 0, 1], 8826: [0.0391, 0.5391, 0, 0, 0.77778], 8827: [0.0391, 0.5391, 0, 0, 0.77778], 8834: [0.0391, 0.5391, 0, 0, 0.77778], 8835: [0.0391, 0.5391, 0, 0, 0.77778], 8838: [0.13597, 0.63597, 0, 0, 0.77778], 8839: [0.13597, 0.63597, 0, 0, 0.77778], 8846: [0, 0.55556, 0, 0, 0.66667], 8849: [0.13597, 0.63597, 0, 0, 0.77778], 8850: [0.13597, 0.63597, 0, 0, 0.77778], 8851: [0, 0.55556, 0, 0, 0.66667], 8852: [0, 0.55556, 0, 0, 0.66667], 8853: [0.08333, 0.58333, 0, 0, 0.77778], 8854: [0.08333, 0.58333, 0, 0, 0.77778], 8855: [0.08333, 0.58333, 0, 0, 0.77778], 8856: [0.08333, 0.58333, 0, 0, 0.77778], 8857: [0.08333, 0.58333, 0, 0, 0.77778], 8866: [0, 0.69444, 0, 0, 0.61111], 8867: [0, 0.69444, 0, 0, 0.61111], 8868: [0, 0.69444, 0, 0, 0.77778], 8869: [0, 0.69444, 0, 0, 0.77778], 8872: [0.249, 0.75, 0, 0, 0.867], 8900: [-0.05555, 0.44445, 0, 0, 0.5], 8901: [-0.05555, 0.44445, 0, 0, 0.27778], 8902: [-0.03472, 0.46528, 0, 0, 0.5], 8904: [5e-3, 0.505, 0, 0, 0.9], 8942: [0.03, 0.903, 0, 0, 0.278], 8943: [-0.19, 0.313, 0, 0, 1.172], 8945: [-0.1, 0.823, 0, 0, 1.282], 8968: [0.25, 0.75, 0, 0, 0.44445], 8969: [0.25, 0.75, 0, 0, 0.44445], 8970: [0.25, 0.75, 0, 0, 0.44445], 8971: [0.25, 0.75, 0, 0, 0.44445], 8994: [-0.14236, 0.35764, 0, 0, 1], 8995: [-0.14236, 0.35764, 0, 0, 1], 9136: [0.244, 0.744, 0, 0, 0.412], 9137: [0.244, 0.745, 0, 0, 0.412], 9651: [0.19444, 0.69444, 0, 0, 0.88889], 9657: [-0.03472, 0.46528, 0, 0, 0.5], 9661: [0.19444, 0.69444, 0, 0, 0.88889], 9667: [-0.03472, 0.46528, 0, 0, 0.5], 9711: [0.19444, 0.69444, 0, 0, 1], 9824: [0.12963, 0.69444, 0, 0, 0.77778], 9825: [0.12963, 0.69444, 0, 0, 0.77778], 9826: [0.12963, 0.69444, 0, 0, 0.77778], 9827: [0.12963, 0.69444, 0, 0, 0.77778], 9837: [0, 0.75, 0, 0, 0.38889], 9838: [0.19444, 0.69444, 0, 0, 0.38889], 9839: [0.19444, 0.69444, 0, 0, 0.38889], 10216: [0.25, 0.75, 0, 0, 0.38889], 10217: [0.25, 0.75, 0, 0, 0.38889], 10222: [0.244, 0.744, 0, 0, 0.412], 10223: [0.244, 0.745, 0, 0, 0.412], 10229: [0.011, 0.511, 0, 0, 1.609], 10230: [0.011, 0.511, 0, 0, 1.638], 10231: [0.011, 0.511, 0, 0, 1.859], 10232: [0.024, 0.525, 0, 0, 1.609], 10233: [0.024, 0.525, 0, 0, 1.638], 10234: [0.024, 0.525, 0, 0, 1.858], 10236: [0.011, 0.511, 0, 0, 1.638], 10815: [0, 0.68333, 0, 0, 0.75], 10927: [0.13597, 0.63597, 0, 0, 0.77778], 10928: [0.13597, 0.63597, 0, 0, 0.77778], 57376: [0.19444, 0.69444, 0, 0, 0] }, "Math-BoldItalic": { 32: [0, 0, 0, 0, 0.25], 48: [0, 0.44444, 0, 0, 0.575], 49: [0, 0.44444, 0, 0, 0.575], 50: [0, 0.44444, 0, 0, 0.575], 51: [0.19444, 0.44444, 0, 0, 0.575], 52: [0.19444, 0.44444, 0, 0, 0.575], 53: [0.19444, 0.44444, 0, 0, 0.575], 54: [0, 0.64444, 0, 0, 0.575], 55: [0.19444, 0.44444, 0, 0, 0.575], 56: [0, 0.64444, 0, 0, 0.575], 57: [0.19444, 0.44444, 0, 0, 0.575], 65: [0, 0.68611, 0, 0, 0.86944], 66: [0, 0.68611, 0.04835, 0, 0.8664], 67: [0, 0.68611, 0.06979, 0, 0.81694], 68: [0, 0.68611, 0.03194, 0, 0.93812], 69: [0, 0.68611, 0.05451, 0, 0.81007], 70: [0, 0.68611, 0.15972, 0, 0.68889], 71: [0, 0.68611, 0, 0, 0.88673], 72: [0, 0.68611, 0.08229, 0, 0.98229], 73: [0, 0.68611, 0.07778, 0, 0.51111], 74: [0, 0.68611, 0.10069, 0, 0.63125], 75: [0, 0.68611, 0.06979, 0, 0.97118], 76: [0, 0.68611, 0, 0, 0.75555], 77: [0, 0.68611, 0.11424, 0, 1.14201], 78: [0, 0.68611, 0.11424, 0, 0.95034], 79: [0, 0.68611, 0.03194, 0, 0.83666], 80: [0, 0.68611, 0.15972, 0, 0.72309], 81: [0.19444, 0.68611, 0, 0, 0.86861], 82: [0, 0.68611, 421e-5, 0, 0.87235], 83: [0, 0.68611, 0.05382, 0, 0.69271], 84: [0, 0.68611, 0.15972, 0, 0.63663], 85: [0, 0.68611, 0.11424, 0, 0.80027], 86: [0, 0.68611, 0.25555, 0, 0.67778], 87: [0, 0.68611, 0.15972, 0, 1.09305], 88: [0, 0.68611, 0.07778, 0, 0.94722], 89: [0, 0.68611, 0.25555, 0, 0.67458], 90: [0, 0.68611, 0.06979, 0, 0.77257], 97: [0, 0.44444, 0, 0, 0.63287], 98: [0, 0.69444, 0, 0, 0.52083], 99: [0, 0.44444, 0, 0, 0.51342], 100: [0, 0.69444, 0, 0, 0.60972], 101: [0, 0.44444, 0, 0, 0.55361], 102: [0.19444, 0.69444, 0.11042, 0, 0.56806], 103: [0.19444, 0.44444, 0.03704, 0, 0.5449], 104: [0, 0.69444, 0, 0, 0.66759], 105: [0, 0.69326, 0, 0, 0.4048], 106: [0.19444, 0.69326, 0.0622, 0, 0.47083], 107: [0, 0.69444, 0.01852, 0, 0.6037], 108: [0, 0.69444, 88e-4, 0, 0.34815], 109: [0, 0.44444, 0, 0, 1.0324], 110: [0, 0.44444, 0, 0, 0.71296], 111: [0, 0.44444, 0, 0, 0.58472], 112: [0.19444, 0.44444, 0, 0, 0.60092], 113: [0.19444, 0.44444, 0.03704, 0, 0.54213], 114: [0, 0.44444, 0.03194, 0, 0.5287], 115: [0, 0.44444, 0, 0, 0.53125], 116: [0, 0.63492, 0, 0, 0.41528], 117: [0, 0.44444, 0, 0, 0.68102], 118: [0, 0.44444, 0.03704, 0, 0.56666], 119: [0, 0.44444, 0.02778, 0, 0.83148], 120: [0, 0.44444, 0, 0, 0.65903], 121: [0.19444, 0.44444, 0.03704, 0, 0.59028], 122: [0, 0.44444, 0.04213, 0, 0.55509], 160: [0, 0, 0, 0, 0.25], 915: [0, 0.68611, 0.15972, 0, 0.65694], 916: [0, 0.68611, 0, 0, 0.95833], 920: [0, 0.68611, 0.03194, 0, 0.86722], 923: [0, 0.68611, 0, 0, 0.80555], 926: [0, 0.68611, 0.07458, 0, 0.84125], 928: [0, 0.68611, 0.08229, 0, 0.98229], 931: [0, 0.68611, 0.05451, 0, 0.88507], 933: [0, 0.68611, 0.15972, 0, 0.67083], 934: [0, 0.68611, 0, 0, 0.76666], 936: [0, 0.68611, 0.11653, 0, 0.71402], 937: [0, 0.68611, 0.04835, 0, 0.8789], 945: [0, 0.44444, 0, 0, 0.76064], 946: [0.19444, 0.69444, 0.03403, 0, 0.65972], 947: [0.19444, 0.44444, 0.06389, 0, 0.59003], 948: [0, 0.69444, 0.03819, 0, 0.52222], 949: [0, 0.44444, 0, 0, 0.52882], 950: [0.19444, 0.69444, 0.06215, 0, 0.50833], 951: [0.19444, 0.44444, 0.03704, 0, 0.6], 952: [0, 0.69444, 0.03194, 0, 0.5618], 953: [0, 0.44444, 0, 0, 0.41204], 954: [0, 0.44444, 0, 0, 0.66759], 955: [0, 0.69444, 0, 0, 0.67083], 956: [0.19444, 0.44444, 0, 0, 0.70787], 957: [0, 0.44444, 0.06898, 0, 0.57685], 958: [0.19444, 0.69444, 0.03021, 0, 0.50833], 959: [0, 0.44444, 0, 0, 0.58472], 960: [0, 0.44444, 0.03704, 0, 0.68241], 961: [0.19444, 0.44444, 0, 0, 0.6118], 962: [0.09722, 0.44444, 0.07917, 0, 0.42361], 963: [0, 0.44444, 0.03704, 0, 0.68588], 964: [0, 0.44444, 0.13472, 0, 0.52083], 965: [0, 0.44444, 0.03704, 0, 0.63055], 966: [0.19444, 0.44444, 0, 0, 0.74722], 967: [0.19444, 0.44444, 0, 0, 0.71805], 968: [0.19444, 0.69444, 0.03704, 0, 0.75833], 969: [0, 0.44444, 0.03704, 0, 0.71782], 977: [0, 0.69444, 0, 0, 0.69155], 981: [0.19444, 0.69444, 0, 0, 0.7125], 982: [0, 0.44444, 0.03194, 0, 0.975], 1009: [0.19444, 0.44444, 0, 0, 0.6118], 1013: [0, 0.44444, 0, 0, 0.48333], 57649: [0, 0.44444, 0, 0, 0.39352], 57911: [0.19444, 0.44444, 0, 0, 0.43889] }, "Math-Italic": { 32: [0, 0, 0, 0, 0.25], 48: [0, 0.43056, 0, 0, 0.5], 49: [0, 0.43056, 0, 0, 0.5], 50: [0, 0.43056, 0, 0, 0.5], 51: [0.19444, 0.43056, 0, 0, 0.5], 52: [0.19444, 0.43056, 0, 0, 0.5], 53: [0.19444, 0.43056, 0, 0, 0.5], 54: [0, 0.64444, 0, 0, 0.5], 55: [0.19444, 0.43056, 0, 0, 0.5], 56: [0, 0.64444, 0, 0, 0.5], 57: [0.19444, 0.43056, 0, 0, 0.5], 65: [0, 0.68333, 0, 0.13889, 0.75], 66: [0, 0.68333, 0.05017, 0.08334, 0.75851], 67: [0, 0.68333, 0.07153, 0.08334, 0.71472], 68: [0, 0.68333, 0.02778, 0.05556, 0.82792], 69: [0, 0.68333, 0.05764, 0.08334, 0.7382], 70: [0, 0.68333, 0.13889, 0.08334, 0.64306], 71: [0, 0.68333, 0, 0.08334, 0.78625], 72: [0, 0.68333, 0.08125, 0.05556, 0.83125], 73: [0, 0.68333, 0.07847, 0.11111, 0.43958], 74: [0, 0.68333, 0.09618, 0.16667, 0.55451], 75: [0, 0.68333, 0.07153, 0.05556, 0.84931], 76: [0, 0.68333, 0, 0.02778, 0.68056], 77: [0, 0.68333, 0.10903, 0.08334, 0.97014], 78: [0, 0.68333, 0.10903, 0.08334, 0.80347], 79: [0, 0.68333, 0.02778, 0.08334, 0.76278], 80: [0, 0.68333, 0.13889, 0.08334, 0.64201], 81: [0.19444, 0.68333, 0, 0.08334, 0.79056], 82: [0, 0.68333, 773e-5, 0.08334, 0.75929], 83: [0, 0.68333, 0.05764, 0.08334, 0.6132], 84: [0, 0.68333, 0.13889, 0.08334, 0.58438], 85: [0, 0.68333, 0.10903, 0.02778, 0.68278], 86: [0, 0.68333, 0.22222, 0, 0.58333], 87: [0, 0.68333, 0.13889, 0, 0.94445], 88: [0, 0.68333, 0.07847, 0.08334, 0.82847], 89: [0, 0.68333, 0.22222, 0, 0.58056], 90: [0, 0.68333, 0.07153, 0.08334, 0.68264], 97: [0, 0.43056, 0, 0, 0.52859], 98: [0, 0.69444, 0, 0, 0.42917], 99: [0, 0.43056, 0, 0.05556, 0.43276], 100: [0, 0.69444, 0, 0.16667, 0.52049], 101: [0, 0.43056, 0, 0.05556, 0.46563], 102: [0.19444, 0.69444, 0.10764, 0.16667, 0.48959], 103: [0.19444, 0.43056, 0.03588, 0.02778, 0.47697], 104: [0, 0.69444, 0, 0, 0.57616], 105: [0, 0.65952, 0, 0, 0.34451], 106: [0.19444, 0.65952, 0.05724, 0, 0.41181], 107: [0, 0.69444, 0.03148, 0, 0.5206], 108: [0, 0.69444, 0.01968, 0.08334, 0.29838], 109: [0, 0.43056, 0, 0, 0.87801], 110: [0, 0.43056, 0, 0, 0.60023], 111: [0, 0.43056, 0, 0.05556, 0.48472], 112: [0.19444, 0.43056, 0, 0.08334, 0.50313], 113: [0.19444, 0.43056, 0.03588, 0.08334, 0.44641], 114: [0, 0.43056, 0.02778, 0.05556, 0.45116], 115: [0, 0.43056, 0, 0.05556, 0.46875], 116: [0, 0.61508, 0, 0.08334, 0.36111], 117: [0, 0.43056, 0, 0.02778, 0.57246], 118: [0, 0.43056, 0.03588, 0.02778, 0.48472], 119: [0, 0.43056, 0.02691, 0.08334, 0.71592], 120: [0, 0.43056, 0, 0.02778, 0.57153], 121: [0.19444, 0.43056, 0.03588, 0.05556, 0.49028], 122: [0, 0.43056, 0.04398, 0.05556, 0.46505], 160: [0, 0, 0, 0, 0.25], 915: [0, 0.68333, 0.13889, 0.08334, 0.61528], 916: [0, 0.68333, 0, 0.16667, 0.83334], 920: [0, 0.68333, 0.02778, 0.08334, 0.76278], 923: [0, 0.68333, 0, 0.16667, 0.69445], 926: [0, 0.68333, 0.07569, 0.08334, 0.74236], 928: [0, 0.68333, 0.08125, 0.05556, 0.83125], 931: [0, 0.68333, 0.05764, 0.08334, 0.77986], 933: [0, 0.68333, 0.13889, 0.05556, 0.58333], 934: [0, 0.68333, 0, 0.08334, 0.66667], 936: [0, 0.68333, 0.11, 0.05556, 0.61222], 937: [0, 0.68333, 0.05017, 0.08334, 0.7724], 945: [0, 0.43056, 37e-4, 0.02778, 0.6397], 946: [0.19444, 0.69444, 0.05278, 0.08334, 0.56563], 947: [0.19444, 0.43056, 0.05556, 0, 0.51773], 948: [0, 0.69444, 0.03785, 0.05556, 0.44444], 949: [0, 0.43056, 0, 0.08334, 0.46632], 950: [0.19444, 0.69444, 0.07378, 0.08334, 0.4375], 951: [0.19444, 0.43056, 0.03588, 0.05556, 0.49653], 952: [0, 0.69444, 0.02778, 0.08334, 0.46944], 953: [0, 0.43056, 0, 0.05556, 0.35394], 954: [0, 0.43056, 0, 0, 0.57616], 955: [0, 0.69444, 0, 0, 0.58334], 956: [0.19444, 0.43056, 0, 0.02778, 0.60255], 957: [0, 0.43056, 0.06366, 0.02778, 0.49398], 958: [0.19444, 0.69444, 0.04601, 0.11111, 0.4375], 959: [0, 0.43056, 0, 0.05556, 0.48472], 960: [0, 0.43056, 0.03588, 0, 0.57003], 961: [0.19444, 0.43056, 0, 0.08334, 0.51702], 962: [0.09722, 0.43056, 0.07986, 0.08334, 0.36285], 963: [0, 0.43056, 0.03588, 0, 0.57141], 964: [0, 0.43056, 0.1132, 0.02778, 0.43715], 965: [0, 0.43056, 0.03588, 0.02778, 0.54028], 966: [0.19444, 0.43056, 0, 0.08334, 0.65417], 967: [0.19444, 0.43056, 0, 0.05556, 0.62569], 968: [0.19444, 0.69444, 0.03588, 0.11111, 0.65139], 969: [0, 0.43056, 0.03588, 0, 0.62245], 977: [0, 0.69444, 0, 0.08334, 0.59144], 981: [0.19444, 0.69444, 0, 0.08334, 0.59583], 982: [0, 0.43056, 0.02778, 0, 0.82813], 1009: [0.19444, 0.43056, 0, 0.08334, 0.51702], 1013: [0, 0.43056, 0, 0.05556, 0.4059], 57649: [0, 0.43056, 0, 0.02778, 0.32246], 57911: [0.19444, 0.43056, 0, 0.08334, 0.38403] }, "SansSerif-Bold": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.36667], 34: [0, 0.69444, 0, 0, 0.55834], 35: [0.19444, 0.69444, 0, 0, 0.91667], 36: [0.05556, 0.75, 0, 0, 0.55], 37: [0.05556, 0.75, 0, 0, 1.02912], 38: [0, 0.69444, 0, 0, 0.83056], 39: [0, 0.69444, 0, 0, 0.30556], 40: [0.25, 0.75, 0, 0, 0.42778], 41: [0.25, 0.75, 0, 0, 0.42778], 42: [0, 0.75, 0, 0, 0.55], 43: [0.11667, 0.61667, 0, 0, 0.85556], 44: [0.10556, 0.13056, 0, 0, 0.30556], 45: [0, 0.45833, 0, 0, 0.36667], 46: [0, 0.13056, 0, 0, 0.30556], 47: [0.25, 0.75, 0, 0, 0.55], 48: [0, 0.69444, 0, 0, 0.55], 49: [0, 0.69444, 0, 0, 0.55], 50: [0, 0.69444, 0, 0, 0.55], 51: [0, 0.69444, 0, 0, 0.55], 52: [0, 0.69444, 0, 0, 0.55], 53: [0, 0.69444, 0, 0, 0.55], 54: [0, 0.69444, 0, 0, 0.55], 55: [0, 0.69444, 0, 0, 0.55], 56: [0, 0.69444, 0, 0, 0.55], 57: [0, 0.69444, 0, 0, 0.55], 58: [0, 0.45833, 0, 0, 0.30556], 59: [0.10556, 0.45833, 0, 0, 0.30556], 61: [-0.09375, 0.40625, 0, 0, 0.85556], 63: [0, 0.69444, 0, 0, 0.51945], 64: [0, 0.69444, 0, 0, 0.73334], 65: [0, 0.69444, 0, 0, 0.73334], 66: [0, 0.69444, 0, 0, 0.73334], 67: [0, 0.69444, 0, 0, 0.70278], 68: [0, 0.69444, 0, 0, 0.79445], 69: [0, 0.69444, 0, 0, 0.64167], 70: [0, 0.69444, 0, 0, 0.61111], 71: [0, 0.69444, 0, 0, 0.73334], 72: [0, 0.69444, 0, 0, 0.79445], 73: [0, 0.69444, 0, 0, 0.33056], 74: [0, 0.69444, 0, 0, 0.51945], 75: [0, 0.69444, 0, 0, 0.76389], 76: [0, 0.69444, 0, 0, 0.58056], 77: [0, 0.69444, 0, 0, 0.97778], 78: [0, 0.69444, 0, 0, 0.79445], 79: [0, 0.69444, 0, 0, 0.79445], 80: [0, 0.69444, 0, 0, 0.70278], 81: [0.10556, 0.69444, 0, 0, 0.79445], 82: [0, 0.69444, 0, 0, 0.70278], 83: [0, 0.69444, 0, 0, 0.61111], 84: [0, 0.69444, 0, 0, 0.73334], 85: [0, 0.69444, 0, 0, 0.76389], 86: [0, 0.69444, 0.01528, 0, 0.73334], 87: [0, 0.69444, 0.01528, 0, 1.03889], 88: [0, 0.69444, 0, 0, 0.73334], 89: [0, 0.69444, 0.0275, 0, 0.73334], 90: [0, 0.69444, 0, 0, 0.67223], 91: [0.25, 0.75, 0, 0, 0.34306], 93: [0.25, 0.75, 0, 0, 0.34306], 94: [0, 0.69444, 0, 0, 0.55], 95: [0.35, 0.10833, 0.03056, 0, 0.55], 97: [0, 0.45833, 0, 0, 0.525], 98: [0, 0.69444, 0, 0, 0.56111], 99: [0, 0.45833, 0, 0, 0.48889], 100: [0, 0.69444, 0, 0, 0.56111], 101: [0, 0.45833, 0, 0, 0.51111], 102: [0, 0.69444, 0.07639, 0, 0.33611], 103: [0.19444, 0.45833, 0.01528, 0, 0.55], 104: [0, 0.69444, 0, 0, 0.56111], 105: [0, 0.69444, 0, 0, 0.25556], 106: [0.19444, 0.69444, 0, 0, 0.28611], 107: [0, 0.69444, 0, 0, 0.53056], 108: [0, 0.69444, 0, 0, 0.25556], 109: [0, 0.45833, 0, 0, 0.86667], 110: [0, 0.45833, 0, 0, 0.56111], 111: [0, 0.45833, 0, 0, 0.55], 112: [0.19444, 0.45833, 0, 0, 0.56111], 113: [0.19444, 0.45833, 0, 0, 0.56111], 114: [0, 0.45833, 0.01528, 0, 0.37222], 115: [0, 0.45833, 0, 0, 0.42167], 116: [0, 0.58929, 0, 0, 0.40417], 117: [0, 0.45833, 0, 0, 0.56111], 118: [0, 0.45833, 0.01528, 0, 0.5], 119: [0, 0.45833, 0.01528, 0, 0.74445], 120: [0, 0.45833, 0, 0, 0.5], 121: [0.19444, 0.45833, 0.01528, 0, 0.5], 122: [0, 0.45833, 0, 0, 0.47639], 126: [0.35, 0.34444, 0, 0, 0.55], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.69444, 0, 0, 0.55], 176: [0, 0.69444, 0, 0, 0.73334], 180: [0, 0.69444, 0, 0, 0.55], 184: [0.17014, 0, 0, 0, 0.48889], 305: [0, 0.45833, 0, 0, 0.25556], 567: [0.19444, 0.45833, 0, 0, 0.28611], 710: [0, 0.69444, 0, 0, 0.55], 711: [0, 0.63542, 0, 0, 0.55], 713: [0, 0.63778, 0, 0, 0.55], 728: [0, 0.69444, 0, 0, 0.55], 729: [0, 0.69444, 0, 0, 0.30556], 730: [0, 0.69444, 0, 0, 0.73334], 732: [0, 0.69444, 0, 0, 0.55], 733: [0, 0.69444, 0, 0, 0.55], 915: [0, 0.69444, 0, 0, 0.58056], 916: [0, 0.69444, 0, 0, 0.91667], 920: [0, 0.69444, 0, 0, 0.85556], 923: [0, 0.69444, 0, 0, 0.67223], 926: [0, 0.69444, 0, 0, 0.73334], 928: [0, 0.69444, 0, 0, 0.79445], 931: [0, 0.69444, 0, 0, 0.79445], 933: [0, 0.69444, 0, 0, 0.85556], 934: [0, 0.69444, 0, 0, 0.79445], 936: [0, 0.69444, 0, 0, 0.85556], 937: [0, 0.69444, 0, 0, 0.79445], 8211: [0, 0.45833, 0.03056, 0, 0.55], 8212: [0, 0.45833, 0.03056, 0, 1.10001], 8216: [0, 0.69444, 0, 0, 0.30556], 8217: [0, 0.69444, 0, 0, 0.30556], 8220: [0, 0.69444, 0, 0, 0.55834], 8221: [0, 0.69444, 0, 0, 0.55834] }, "SansSerif-Italic": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0.05733, 0, 0.31945], 34: [0, 0.69444, 316e-5, 0, 0.5], 35: [0.19444, 0.69444, 0.05087, 0, 0.83334], 36: [0.05556, 0.75, 0.11156, 0, 0.5], 37: [0.05556, 0.75, 0.03126, 0, 0.83334], 38: [0, 0.69444, 0.03058, 0, 0.75834], 39: [0, 0.69444, 0.07816, 0, 0.27778], 40: [0.25, 0.75, 0.13164, 0, 0.38889], 41: [0.25, 0.75, 0.02536, 0, 0.38889], 42: [0, 0.75, 0.11775, 0, 0.5], 43: [0.08333, 0.58333, 0.02536, 0, 0.77778], 44: [0.125, 0.08333, 0, 0, 0.27778], 45: [0, 0.44444, 0.01946, 0, 0.33333], 46: [0, 0.08333, 0, 0, 0.27778], 47: [0.25, 0.75, 0.13164, 0, 0.5], 48: [0, 0.65556, 0.11156, 0, 0.5], 49: [0, 0.65556, 0.11156, 0, 0.5], 50: [0, 0.65556, 0.11156, 0, 0.5], 51: [0, 0.65556, 0.11156, 0, 0.5], 52: [0, 0.65556, 0.11156, 0, 0.5], 53: [0, 0.65556, 0.11156, 0, 0.5], 54: [0, 0.65556, 0.11156, 0, 0.5], 55: [0, 0.65556, 0.11156, 0, 0.5], 56: [0, 0.65556, 0.11156, 0, 0.5], 57: [0, 0.65556, 0.11156, 0, 0.5], 58: [0, 0.44444, 0.02502, 0, 0.27778], 59: [0.125, 0.44444, 0.02502, 0, 0.27778], 61: [-0.13, 0.37, 0.05087, 0, 0.77778], 63: [0, 0.69444, 0.11809, 0, 0.47222], 64: [0, 0.69444, 0.07555, 0, 0.66667], 65: [0, 0.69444, 0, 0, 0.66667], 66: [0, 0.69444, 0.08293, 0, 0.66667], 67: [0, 0.69444, 0.11983, 0, 0.63889], 68: [0, 0.69444, 0.07555, 0, 0.72223], 69: [0, 0.69444, 0.11983, 0, 0.59722], 70: [0, 0.69444, 0.13372, 0, 0.56945], 71: [0, 0.69444, 0.11983, 0, 0.66667], 72: [0, 0.69444, 0.08094, 0, 0.70834], 73: [0, 0.69444, 0.13372, 0, 0.27778], 74: [0, 0.69444, 0.08094, 0, 0.47222], 75: [0, 0.69444, 0.11983, 0, 0.69445], 76: [0, 0.69444, 0, 0, 0.54167], 77: [0, 0.69444, 0.08094, 0, 0.875], 78: [0, 0.69444, 0.08094, 0, 0.70834], 79: [0, 0.69444, 0.07555, 0, 0.73611], 80: [0, 0.69444, 0.08293, 0, 0.63889], 81: [0.125, 0.69444, 0.07555, 0, 0.73611], 82: [0, 0.69444, 0.08293, 0, 0.64584], 83: [0, 0.69444, 0.09205, 0, 0.55556], 84: [0, 0.69444, 0.13372, 0, 0.68056], 85: [0, 0.69444, 0.08094, 0, 0.6875], 86: [0, 0.69444, 0.1615, 0, 0.66667], 87: [0, 0.69444, 0.1615, 0, 0.94445], 88: [0, 0.69444, 0.13372, 0, 0.66667], 89: [0, 0.69444, 0.17261, 0, 0.66667], 90: [0, 0.69444, 0.11983, 0, 0.61111], 91: [0.25, 0.75, 0.15942, 0, 0.28889], 93: [0.25, 0.75, 0.08719, 0, 0.28889], 94: [0, 0.69444, 0.0799, 0, 0.5], 95: [0.35, 0.09444, 0.08616, 0, 0.5], 97: [0, 0.44444, 981e-5, 0, 0.48056], 98: [0, 0.69444, 0.03057, 0, 0.51667], 99: [0, 0.44444, 0.08336, 0, 0.44445], 100: [0, 0.69444, 0.09483, 0, 0.51667], 101: [0, 0.44444, 0.06778, 0, 0.44445], 102: [0, 0.69444, 0.21705, 0, 0.30556], 103: [0.19444, 0.44444, 0.10836, 0, 0.5], 104: [0, 0.69444, 0.01778, 0, 0.51667], 105: [0, 0.67937, 0.09718, 0, 0.23889], 106: [0.19444, 0.67937, 0.09162, 0, 0.26667], 107: [0, 0.69444, 0.08336, 0, 0.48889], 108: [0, 0.69444, 0.09483, 0, 0.23889], 109: [0, 0.44444, 0.01778, 0, 0.79445], 110: [0, 0.44444, 0.01778, 0, 0.51667], 111: [0, 0.44444, 0.06613, 0, 0.5], 112: [0.19444, 0.44444, 0.0389, 0, 0.51667], 113: [0.19444, 0.44444, 0.04169, 0, 0.51667], 114: [0, 0.44444, 0.10836, 0, 0.34167], 115: [0, 0.44444, 0.0778, 0, 0.38333], 116: [0, 0.57143, 0.07225, 0, 0.36111], 117: [0, 0.44444, 0.04169, 0, 0.51667], 118: [0, 0.44444, 0.10836, 0, 0.46111], 119: [0, 0.44444, 0.10836, 0, 0.68334], 120: [0, 0.44444, 0.09169, 0, 0.46111], 121: [0.19444, 0.44444, 0.10836, 0, 0.46111], 122: [0, 0.44444, 0.08752, 0, 0.43472], 126: [0.35, 0.32659, 0.08826, 0, 0.5], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.67937, 0.06385, 0, 0.5], 176: [0, 0.69444, 0, 0, 0.73752], 184: [0.17014, 0, 0, 0, 0.44445], 305: [0, 0.44444, 0.04169, 0, 0.23889], 567: [0.19444, 0.44444, 0.04169, 0, 0.26667], 710: [0, 0.69444, 0.0799, 0, 0.5], 711: [0, 0.63194, 0.08432, 0, 0.5], 713: [0, 0.60889, 0.08776, 0, 0.5], 714: [0, 0.69444, 0.09205, 0, 0.5], 715: [0, 0.69444, 0, 0, 0.5], 728: [0, 0.69444, 0.09483, 0, 0.5], 729: [0, 0.67937, 0.07774, 0, 0.27778], 730: [0, 0.69444, 0, 0, 0.73752], 732: [0, 0.67659, 0.08826, 0, 0.5], 733: [0, 0.69444, 0.09205, 0, 0.5], 915: [0, 0.69444, 0.13372, 0, 0.54167], 916: [0, 0.69444, 0, 0, 0.83334], 920: [0, 0.69444, 0.07555, 0, 0.77778], 923: [0, 0.69444, 0, 0, 0.61111], 926: [0, 0.69444, 0.12816, 0, 0.66667], 928: [0, 0.69444, 0.08094, 0, 0.70834], 931: [0, 0.69444, 0.11983, 0, 0.72222], 933: [0, 0.69444, 0.09031, 0, 0.77778], 934: [0, 0.69444, 0.04603, 0, 0.72222], 936: [0, 0.69444, 0.09031, 0, 0.77778], 937: [0, 0.69444, 0.08293, 0, 0.72222], 8211: [0, 0.44444, 0.08616, 0, 0.5], 8212: [0, 0.44444, 0.08616, 0, 1], 8216: [0, 0.69444, 0.07816, 0, 0.27778], 8217: [0, 0.69444, 0.07816, 0, 0.27778], 8220: [0, 0.69444, 0.14205, 0, 0.5], 8221: [0, 0.69444, 316e-5, 0, 0.5] }, "SansSerif-Regular": { 32: [0, 0, 0, 0, 0.25], 33: [0, 0.69444, 0, 0, 0.31945], 34: [0, 0.69444, 0, 0, 0.5], 35: [0.19444, 0.69444, 0, 0, 0.83334], 36: [0.05556, 0.75, 0, 0, 0.5], 37: [0.05556, 0.75, 0, 0, 0.83334], 38: [0, 0.69444, 0, 0, 0.75834], 39: [0, 0.69444, 0, 0, 0.27778], 40: [0.25, 0.75, 0, 0, 0.38889], 41: [0.25, 0.75, 0, 0, 0.38889], 42: [0, 0.75, 0, 0, 0.5], 43: [0.08333, 0.58333, 0, 0, 0.77778], 44: [0.125, 0.08333, 0, 0, 0.27778], 45: [0, 0.44444, 0, 0, 0.33333], 46: [0, 0.08333, 0, 0, 0.27778], 47: [0.25, 0.75, 0, 0, 0.5], 48: [0, 0.65556, 0, 0, 0.5], 49: [0, 0.65556, 0, 0, 0.5], 50: [0, 0.65556, 0, 0, 0.5], 51: [0, 0.65556, 0, 0, 0.5], 52: [0, 0.65556, 0, 0, 0.5], 53: [0, 0.65556, 0, 0, 0.5], 54: [0, 0.65556, 0, 0, 0.5], 55: [0, 0.65556, 0, 0, 0.5], 56: [0, 0.65556, 0, 0, 0.5], 57: [0, 0.65556, 0, 0, 0.5], 58: [0, 0.44444, 0, 0, 0.27778], 59: [0.125, 0.44444, 0, 0, 0.27778], 61: [-0.13, 0.37, 0, 0, 0.77778], 63: [0, 0.69444, 0, 0, 0.47222], 64: [0, 0.69444, 0, 0, 0.66667], 65: [0, 0.69444, 0, 0, 0.66667], 66: [0, 0.69444, 0, 0, 0.66667], 67: [0, 0.69444, 0, 0, 0.63889], 68: [0, 0.69444, 0, 0, 0.72223], 69: [0, 0.69444, 0, 0, 0.59722], 70: [0, 0.69444, 0, 0, 0.56945], 71: [0, 0.69444, 0, 0, 0.66667], 72: [0, 0.69444, 0, 0, 0.70834], 73: [0, 0.69444, 0, 0, 0.27778], 74: [0, 0.69444, 0, 0, 0.47222], 75: [0, 0.69444, 0, 0, 0.69445], 76: [0, 0.69444, 0, 0, 0.54167], 77: [0, 0.69444, 0, 0, 0.875], 78: [0, 0.69444, 0, 0, 0.70834], 79: [0, 0.69444, 0, 0, 0.73611], 80: [0, 0.69444, 0, 0, 0.63889], 81: [0.125, 0.69444, 0, 0, 0.73611], 82: [0, 0.69444, 0, 0, 0.64584], 83: [0, 0.69444, 0, 0, 0.55556], 84: [0, 0.69444, 0, 0, 0.68056], 85: [0, 0.69444, 0, 0, 0.6875], 86: [0, 0.69444, 0.01389, 0, 0.66667], 87: [0, 0.69444, 0.01389, 0, 0.94445], 88: [0, 0.69444, 0, 0, 0.66667], 89: [0, 0.69444, 0.025, 0, 0.66667], 90: [0, 0.69444, 0, 0, 0.61111], 91: [0.25, 0.75, 0, 0, 0.28889], 93: [0.25, 0.75, 0, 0, 0.28889], 94: [0, 0.69444, 0, 0, 0.5], 95: [0.35, 0.09444, 0.02778, 0, 0.5], 97: [0, 0.44444, 0, 0, 0.48056], 98: [0, 0.69444, 0, 0, 0.51667], 99: [0, 0.44444, 0, 0, 0.44445], 100: [0, 0.69444, 0, 0, 0.51667], 101: [0, 0.44444, 0, 0, 0.44445], 102: [0, 0.69444, 0.06944, 0, 0.30556], 103: [0.19444, 0.44444, 0.01389, 0, 0.5], 104: [0, 0.69444, 0, 0, 0.51667], 105: [0, 0.67937, 0, 0, 0.23889], 106: [0.19444, 0.67937, 0, 0, 0.26667], 107: [0, 0.69444, 0, 0, 0.48889], 108: [0, 0.69444, 0, 0, 0.23889], 109: [0, 0.44444, 0, 0, 0.79445], 110: [0, 0.44444, 0, 0, 0.51667], 111: [0, 0.44444, 0, 0, 0.5], 112: [0.19444, 0.44444, 0, 0, 0.51667], 113: [0.19444, 0.44444, 0, 0, 0.51667], 114: [0, 0.44444, 0.01389, 0, 0.34167], 115: [0, 0.44444, 0, 0, 0.38333], 116: [0, 0.57143, 0, 0, 0.36111], 117: [0, 0.44444, 0, 0, 0.51667], 118: [0, 0.44444, 0.01389, 0, 0.46111], 119: [0, 0.44444, 0.01389, 0, 0.68334], 120: [0, 0.44444, 0, 0, 0.46111], 121: [0.19444, 0.44444, 0.01389, 0, 0.46111], 122: [0, 0.44444, 0, 0, 0.43472], 126: [0.35, 0.32659, 0, 0, 0.5], 160: [0, 0, 0, 0, 0.25], 168: [0, 0.67937, 0, 0, 0.5], 176: [0, 0.69444, 0, 0, 0.66667], 184: [0.17014, 0, 0, 0, 0.44445], 305: [0, 0.44444, 0, 0, 0.23889], 567: [0.19444, 0.44444, 0, 0, 0.26667], 710: [0, 0.69444, 0, 0, 0.5], 711: [0, 0.63194, 0, 0, 0.5], 713: [0, 0.60889, 0, 0, 0.5], 714: [0, 0.69444, 0, 0, 0.5], 715: [0, 0.69444, 0, 0, 0.5], 728: [0, 0.69444, 0, 0, 0.5], 729: [0, 0.67937, 0, 0, 0.27778], 730: [0, 0.69444, 0, 0, 0.66667], 732: [0, 0.67659, 0, 0, 0.5], 733: [0, 0.69444, 0, 0, 0.5], 915: [0, 0.69444, 0, 0, 0.54167], 916: [0, 0.69444, 0, 0, 0.83334], 920: [0, 0.69444, 0, 0, 0.77778], 923: [0, 0.69444, 0, 0, 0.61111], 926: [0, 0.69444, 0, 0, 0.66667], 928: [0, 0.69444, 0, 0, 0.70834], 931: [0, 0.69444, 0, 0, 0.72222], 933: [0, 0.69444, 0, 0, 0.77778], 934: [0, 0.69444, 0, 0, 0.72222], 936: [0, 0.69444, 0, 0, 0.77778], 937: [0, 0.69444, 0, 0, 0.72222], 8211: [0, 0.44444, 0.02778, 0, 0.5], 8212: [0, 0.44444, 0.02778, 0, 1], 8216: [0, 0.69444, 0, 0, 0.27778], 8217: [0, 0.69444, 0, 0, 0.27778], 8220: [0, 0.69444, 0, 0, 0.5], 8221: [0, 0.69444, 0, 0, 0.5] }, "Script-Regular": { 32: [0, 0, 0, 0, 0.25], 65: [0, 0.7, 0.22925, 0, 0.80253], 66: [0, 0.7, 0.04087, 0, 0.90757], 67: [0, 0.7, 0.1689, 0, 0.66619], 68: [0, 0.7, 0.09371, 0, 0.77443], 69: [0, 0.7, 0.18583, 0, 0.56162], 70: [0, 0.7, 0.13634, 0, 0.89544], 71: [0, 0.7, 0.17322, 0, 0.60961], 72: [0, 0.7, 0.29694, 0, 0.96919], 73: [0, 0.7, 0.19189, 0, 0.80907], 74: [0.27778, 0.7, 0.19189, 0, 1.05159], 75: [0, 0.7, 0.31259, 0, 0.91364], 76: [0, 0.7, 0.19189, 0, 0.87373], 77: [0, 0.7, 0.15981, 0, 1.08031], 78: [0, 0.7, 0.3525, 0, 0.9015], 79: [0, 0.7, 0.08078, 0, 0.73787], 80: [0, 0.7, 0.08078, 0, 1.01262], 81: [0, 0.7, 0.03305, 0, 0.88282], 82: [0, 0.7, 0.06259, 0, 0.85], 83: [0, 0.7, 0.19189, 0, 0.86767], 84: [0, 0.7, 0.29087, 0, 0.74697], 85: [0, 0.7, 0.25815, 0, 0.79996], 86: [0, 0.7, 0.27523, 0, 0.62204], 87: [0, 0.7, 0.27523, 0, 0.80532], 88: [0, 0.7, 0.26006, 0, 0.94445], 89: [0, 0.7, 0.2939, 0, 0.70961], 90: [0, 0.7, 0.24037, 0, 0.8212], 160: [0, 0, 0, 0, 0.25] }, "Size1-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [0.35001, 0.85, 0, 0, 0.45834], 41: [0.35001, 0.85, 0, 0, 0.45834], 47: [0.35001, 0.85, 0, 0, 0.57778], 91: [0.35001, 0.85, 0, 0, 0.41667], 92: [0.35001, 0.85, 0, 0, 0.57778], 93: [0.35001, 0.85, 0, 0, 0.41667], 123: [0.35001, 0.85, 0, 0, 0.58334], 125: [0.35001, 0.85, 0, 0, 0.58334], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.72222, 0, 0, 0.55556], 732: [0, 0.72222, 0, 0, 0.55556], 770: [0, 0.72222, 0, 0, 0.55556], 771: [0, 0.72222, 0, 0, 0.55556], 8214: [-99e-5, 0.601, 0, 0, 0.77778], 8593: [1e-5, 0.6, 0, 0, 0.66667], 8595: [1e-5, 0.6, 0, 0, 0.66667], 8657: [1e-5, 0.6, 0, 0, 0.77778], 8659: [1e-5, 0.6, 0, 0, 0.77778], 8719: [0.25001, 0.75, 0, 0, 0.94445], 8720: [0.25001, 0.75, 0, 0, 0.94445], 8721: [0.25001, 0.75, 0, 0, 1.05556], 8730: [0.35001, 0.85, 0, 0, 1], 8739: [-599e-5, 0.606, 0, 0, 0.33333], 8741: [-599e-5, 0.606, 0, 0, 0.55556], 8747: [0.30612, 0.805, 0.19445, 0, 0.47222], 8748: [0.306, 0.805, 0.19445, 0, 0.47222], 8749: [0.306, 0.805, 0.19445, 0, 0.47222], 8750: [0.30612, 0.805, 0.19445, 0, 0.47222], 8896: [0.25001, 0.75, 0, 0, 0.83334], 8897: [0.25001, 0.75, 0, 0, 0.83334], 8898: [0.25001, 0.75, 0, 0, 0.83334], 8899: [0.25001, 0.75, 0, 0, 0.83334], 8968: [0.35001, 0.85, 0, 0, 0.47222], 8969: [0.35001, 0.85, 0, 0, 0.47222], 8970: [0.35001, 0.85, 0, 0, 0.47222], 8971: [0.35001, 0.85, 0, 0, 0.47222], 9168: [-99e-5, 0.601, 0, 0, 0.66667], 10216: [0.35001, 0.85, 0, 0, 0.47222], 10217: [0.35001, 0.85, 0, 0, 0.47222], 10752: [0.25001, 0.75, 0, 0, 1.11111], 10753: [0.25001, 0.75, 0, 0, 1.11111], 10754: [0.25001, 0.75, 0, 0, 1.11111], 10756: [0.25001, 0.75, 0, 0, 0.83334], 10758: [0.25001, 0.75, 0, 0, 0.83334] }, "Size2-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [0.65002, 1.15, 0, 0, 0.59722], 41: [0.65002, 1.15, 0, 0, 0.59722], 47: [0.65002, 1.15, 0, 0, 0.81111], 91: [0.65002, 1.15, 0, 0, 0.47222], 92: [0.65002, 1.15, 0, 0, 0.81111], 93: [0.65002, 1.15, 0, 0, 0.47222], 123: [0.65002, 1.15, 0, 0, 0.66667], 125: [0.65002, 1.15, 0, 0, 0.66667], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.75, 0, 0, 1], 732: [0, 0.75, 0, 0, 1], 770: [0, 0.75, 0, 0, 1], 771: [0, 0.75, 0, 0, 1], 8719: [0.55001, 1.05, 0, 0, 1.27778], 8720: [0.55001, 1.05, 0, 0, 1.27778], 8721: [0.55001, 1.05, 0, 0, 1.44445], 8730: [0.65002, 1.15, 0, 0, 1], 8747: [0.86225, 1.36, 0.44445, 0, 0.55556], 8748: [0.862, 1.36, 0.44445, 0, 0.55556], 8749: [0.862, 1.36, 0.44445, 0, 0.55556], 8750: [0.86225, 1.36, 0.44445, 0, 0.55556], 8896: [0.55001, 1.05, 0, 0, 1.11111], 8897: [0.55001, 1.05, 0, 0, 1.11111], 8898: [0.55001, 1.05, 0, 0, 1.11111], 8899: [0.55001, 1.05, 0, 0, 1.11111], 8968: [0.65002, 1.15, 0, 0, 0.52778], 8969: [0.65002, 1.15, 0, 0, 0.52778], 8970: [0.65002, 1.15, 0, 0, 0.52778], 8971: [0.65002, 1.15, 0, 0, 0.52778], 10216: [0.65002, 1.15, 0, 0, 0.61111], 10217: [0.65002, 1.15, 0, 0, 0.61111], 10752: [0.55001, 1.05, 0, 0, 1.51112], 10753: [0.55001, 1.05, 0, 0, 1.51112], 10754: [0.55001, 1.05, 0, 0, 1.51112], 10756: [0.55001, 1.05, 0, 0, 1.11111], 10758: [0.55001, 1.05, 0, 0, 1.11111] }, "Size3-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [0.95003, 1.45, 0, 0, 0.73611], 41: [0.95003, 1.45, 0, 0, 0.73611], 47: [0.95003, 1.45, 0, 0, 1.04445], 91: [0.95003, 1.45, 0, 0, 0.52778], 92: [0.95003, 1.45, 0, 0, 1.04445], 93: [0.95003, 1.45, 0, 0, 0.52778], 123: [0.95003, 1.45, 0, 0, 0.75], 125: [0.95003, 1.45, 0, 0, 0.75], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.75, 0, 0, 1.44445], 732: [0, 0.75, 0, 0, 1.44445], 770: [0, 0.75, 0, 0, 1.44445], 771: [0, 0.75, 0, 0, 1.44445], 8730: [0.95003, 1.45, 0, 0, 1], 8968: [0.95003, 1.45, 0, 0, 0.58334], 8969: [0.95003, 1.45, 0, 0, 0.58334], 8970: [0.95003, 1.45, 0, 0, 0.58334], 8971: [0.95003, 1.45, 0, 0, 0.58334], 10216: [0.95003, 1.45, 0, 0, 0.75], 10217: [0.95003, 1.45, 0, 0, 0.75] }, "Size4-Regular": { 32: [0, 0, 0, 0, 0.25], 40: [1.25003, 1.75, 0, 0, 0.79167], 41: [1.25003, 1.75, 0, 0, 0.79167], 47: [1.25003, 1.75, 0, 0, 1.27778], 91: [1.25003, 1.75, 0, 0, 0.58334], 92: [1.25003, 1.75, 0, 0, 1.27778], 93: [1.25003, 1.75, 0, 0, 0.58334], 123: [1.25003, 1.75, 0, 0, 0.80556], 125: [1.25003, 1.75, 0, 0, 0.80556], 160: [0, 0, 0, 0, 0.25], 710: [0, 0.825, 0, 0, 1.8889], 732: [0, 0.825, 0, 0, 1.8889], 770: [0, 0.825, 0, 0, 1.8889], 771: [0, 0.825, 0, 0, 1.8889], 8730: [1.25003, 1.75, 0, 0, 1], 8968: [1.25003, 1.75, 0, 0, 0.63889], 8969: [1.25003, 1.75, 0, 0, 0.63889], 8970: [1.25003, 1.75, 0, 0, 0.63889], 8971: [1.25003, 1.75, 0, 0, 0.63889], 9115: [0.64502, 1.155, 0, 0, 0.875], 9116: [1e-5, 0.6, 0, 0, 0.875], 9117: [0.64502, 1.155, 0, 0, 0.875], 9118: [0.64502, 1.155, 0, 0, 0.875], 9119: [1e-5, 0.6, 0, 0, 0.875], 9120: [0.64502, 1.155, 0, 0, 0.875], 9121: [0.64502, 1.155, 0, 0, 0.66667], 9122: [-99e-5, 0.601, 0, 0, 0.66667], 9123: [0.64502, 1.155, 0, 0, 0.66667], 9124: [0.64502, 1.155, 0, 0, 0.66667], 9125: [-99e-5, 0.601, 0, 0, 0.66667], 9126: [0.64502, 1.155, 0, 0, 0.66667], 9127: [1e-5, 0.9, 0, 0, 0.88889], 9128: [0.65002, 1.15, 0, 0, 0.88889], 9129: [0.90001, 0, 0, 0, 0.88889], 9130: [0, 0.3, 0, 0, 0.88889], 9131: [1e-5, 0.9, 0, 0, 0.88889], 9132: [0.65002, 1.15, 0, 0, 0.88889], 9133: [0.90001, 0, 0, 0, 0.88889], 9143: [0.88502, 0.915, 0, 0, 1.05556], 10216: [1.25003, 1.75, 0, 0, 0.80556], 10217: [1.25003, 1.75, 0, 0, 0.80556], 57344: [-499e-5, 0.605, 0, 0, 1.05556], 57345: [-499e-5, 0.605, 0, 0, 1.05556], 57680: [0, 0.12, 0, 0, 0.45], 57681: [0, 0.12, 0, 0, 0.45], 57682: [0, 0.12, 0, 0, 0.45], 57683: [0, 0.12, 0, 0, 0.45] }, "Typewriter-Regular": { 32: [0, 0, 0, 0, 0.525], 33: [0, 0.61111, 0, 0, 0.525], 34: [0, 0.61111, 0, 0, 0.525], 35: [0, 0.61111, 0, 0, 0.525], 36: [0.08333, 0.69444, 0, 0, 0.525], 37: [0.08333, 0.69444, 0, 0, 0.525], 38: [0, 0.61111, 0, 0, 0.525], 39: [0, 0.61111, 0, 0, 0.525], 40: [0.08333, 0.69444, 0, 0, 0.525], 41: [0.08333, 0.69444, 0, 0, 0.525], 42: [0, 0.52083, 0, 0, 0.525], 43: [-0.08056, 0.53055, 0, 0, 0.525], 44: [0.13889, 0.125, 0, 0, 0.525], 45: [-0.08056, 0.53055, 0, 0, 0.525], 46: [0, 0.125, 0, 0, 0.525], 47: [0.08333, 0.69444, 0, 0, 0.525], 48: [0, 0.61111, 0, 0, 0.525], 49: [0, 0.61111, 0, 0, 0.525], 50: [0, 0.61111, 0, 0, 0.525], 51: [0, 0.61111, 0, 0, 0.525], 52: [0, 0.61111, 0, 0, 0.525], 53: [0, 0.61111, 0, 0, 0.525], 54: [0, 0.61111, 0, 0, 0.525], 55: [0, 0.61111, 0, 0, 0.525], 56: [0, 0.61111, 0, 0, 0.525], 57: [0, 0.61111, 0, 0, 0.525], 58: [0, 0.43056, 0, 0, 0.525], 59: [0.13889, 0.43056, 0, 0, 0.525], 60: [-0.05556, 0.55556, 0, 0, 0.525], 61: [-0.19549, 0.41562, 0, 0, 0.525], 62: [-0.05556, 0.55556, 0, 0, 0.525], 63: [0, 0.61111, 0, 0, 0.525], 64: [0, 0.61111, 0, 0, 0.525], 65: [0, 0.61111, 0, 0, 0.525], 66: [0, 0.61111, 0, 0, 0.525], 67: [0, 0.61111, 0, 0, 0.525], 68: [0, 0.61111, 0, 0, 0.525], 69: [0, 0.61111, 0, 0, 0.525], 70: [0, 0.61111, 0, 0, 0.525], 71: [0, 0.61111, 0, 0, 0.525], 72: [0, 0.61111, 0, 0, 0.525], 73: [0, 0.61111, 0, 0, 0.525], 74: [0, 0.61111, 0, 0, 0.525], 75: [0, 0.61111, 0, 0, 0.525], 76: [0, 0.61111, 0, 0, 0.525], 77: [0, 0.61111, 0, 0, 0.525], 78: [0, 0.61111, 0, 0, 0.525], 79: [0, 0.61111, 0, 0, 0.525], 80: [0, 0.61111, 0, 0, 0.525], 81: [0.13889, 0.61111, 0, 0, 0.525], 82: [0, 0.61111, 0, 0, 0.525], 83: [0, 0.61111, 0, 0, 0.525], 84: [0, 0.61111, 0, 0, 0.525], 85: [0, 0.61111, 0, 0, 0.525], 86: [0, 0.61111, 0, 0, 0.525], 87: [0, 0.61111, 0, 0, 0.525], 88: [0, 0.61111, 0, 0, 0.525], 89: [0, 0.61111, 0, 0, 0.525], 90: [0, 0.61111, 0, 0, 0.525], 91: [0.08333, 0.69444, 0, 0, 0.525], 92: [0.08333, 0.69444, 0, 0, 0.525], 93: [0.08333, 0.69444, 0, 0, 0.525], 94: [0, 0.61111, 0, 0, 0.525], 95: [0.09514, 0, 0, 0, 0.525], 96: [0, 0.61111, 0, 0, 0.525], 97: [0, 0.43056, 0, 0, 0.525], 98: [0, 0.61111, 0, 0, 0.525], 99: [0, 0.43056, 0, 0, 0.525], 100: [0, 0.61111, 0, 0, 0.525], 101: [0, 0.43056, 0, 0, 0.525], 102: [0, 0.61111, 0, 0, 0.525], 103: [0.22222, 0.43056, 0, 0, 0.525], 104: [0, 0.61111, 0, 0, 0.525], 105: [0, 0.61111, 0, 0, 0.525], 106: [0.22222, 0.61111, 0, 0, 0.525], 107: [0, 0.61111, 0, 0, 0.525], 108: [0, 0.61111, 0, 0, 0.525], 109: [0, 0.43056, 0, 0, 0.525], 110: [0, 0.43056, 0, 0, 0.525], 111: [0, 0.43056, 0, 0, 0.525], 112: [0.22222, 0.43056, 0, 0, 0.525], 113: [0.22222, 0.43056, 0, 0, 0.525], 114: [0, 0.43056, 0, 0, 0.525], 115: [0, 0.43056, 0, 0, 0.525], 116: [0, 0.55358, 0, 0, 0.525], 117: [0, 0.43056, 0, 0, 0.525], 118: [0, 0.43056, 0, 0, 0.525], 119: [0, 0.43056, 0, 0, 0.525], 120: [0, 0.43056, 0, 0, 0.525], 121: [0.22222, 0.43056, 0, 0, 0.525], 122: [0, 0.43056, 0, 0, 0.525], 123: [0.08333, 0.69444, 0, 0, 0.525], 124: [0.08333, 0.69444, 0, 0, 0.525], 125: [0.08333, 0.69444, 0, 0, 0.525], 126: [0, 0.61111, 0, 0, 0.525], 127: [0, 0.61111, 0, 0, 0.525], 160: [0, 0, 0, 0, 0.525], 176: [0, 0.61111, 0, 0, 0.525], 184: [0.19445, 0, 0, 0, 0.525], 305: [0, 0.43056, 0, 0, 0.525], 567: [0.22222, 0.43056, 0, 0, 0.525], 711: [0, 0.56597, 0, 0, 0.525], 713: [0, 0.56555, 0, 0, 0.525], 714: [0, 0.61111, 0, 0, 0.525], 715: [0, 0.61111, 0, 0, 0.525], 728: [0, 0.61111, 0, 0, 0.525], 730: [0, 0.61111, 0, 0, 0.525], 770: [0, 0.61111, 0, 0, 0.525], 771: [0, 0.61111, 0, 0, 0.525], 776: [0, 0.61111, 0, 0, 0.525], 915: [0, 0.61111, 0, 0, 0.525], 916: [0, 0.61111, 0, 0, 0.525], 920: [0, 0.61111, 0, 0, 0.525], 923: [0, 0.61111, 0, 0, 0.525], 926: [0, 0.61111, 0, 0, 0.525], 928: [0, 0.61111, 0, 0, 0.525], 931: [0, 0.61111, 0, 0, 0.525], 933: [0, 0.61111, 0, 0, 0.525], 934: [0, 0.61111, 0, 0, 0.525], 936: [0, 0.61111, 0, 0, 0.525], 937: [0, 0.61111, 0, 0, 0.525], 8216: [0, 0.61111, 0, 0, 0.525], 8217: [0, 0.61111, 0, 0, 0.525], 8242: [0, 0.61111, 0, 0, 0.525], 9251: [0.11111, 0.21944, 0, 0, 0.525] } }, IT = { slant: [0.25, 0.25, 0.25], space: [0, 0, 0], stretch: [0, 0, 0], shrink: [0, 0, 0], xHeight: [0.431, 0.431, 0.431], quad: [1, 1.171, 1.472], extraSpace: [0, 0, 0], num1: [0.677, 0.732, 0.925], num2: [0.394, 0.384, 0.387], num3: [0.444, 0.471, 0.504], denom1: [0.686, 0.752, 1.025], denom2: [0.345, 0.344, 0.532], sup1: [0.413, 0.503, 0.504], sup2: [0.363, 0.431, 0.404], sup3: [0.289, 0.286, 0.294], sub1: [0.15, 0.143, 0.2], sub2: [0.247, 0.286, 0.4], supDrop: [0.386, 0.353, 0.494], subDrop: [0.05, 0.071, 0.1], delim1: [2.39, 1.7, 1.98], delim2: [1.01, 1.157, 1.42], axisHeight: [0.25, 0.25, 0.25], defaultRuleThickness: [0.04, 0.049, 0.049], bigOpSpacing1: [0.111, 0.111, 0.111], bigOpSpacing2: [0.166, 0.166, 0.166], bigOpSpacing3: [0.2, 0.2, 0.2], bigOpSpacing4: [0.6, 0.611, 0.611], bigOpSpacing5: [0.1, 0.143, 0.143], sqrtRuleThickness: [0.04, 0.04, 0.04], ptPerEm: [10, 10, 10], doubleRuleSep: [0.2, 0.2, 0.2], arrayRuleWidth: [0.04, 0.04, 0.04], fboxsep: [0.3, 0.3, 0.3], fboxrule: [0.04, 0.04, 0.04] }, IS = { Å: "A", Ð: "D", Þ: "o", å: "a", ð: "d", þ: "o", А: "A", Б: "B", В: "B", Г: "F", Д: "A", Е: "E", Ж: "K", З: "3", И: "N", Й: "N", К: "K", Л: "N", М: "M", Н: "H", О: "O", П: "N", Р: "P", С: "C", Т: "T", У: "y", Ф: "O", Х: "X", Ц: "U", Ч: "h", Ш: "W", Щ: "W", Ъ: "B", Ы: "X", Ь: "B", Э: "3", Ю: "X", Я: "R", а: "a", б: "b", в: "a", г: "r", д: "y", е: "e", ж: "m", з: "e", и: "n", й: "n", к: "n", л: "n", м: "m", н: "n", о: "o", п: "n", р: "p", с: "c", т: "o", у: "y", ф: "b", х: "x", ц: "n", ч: "n", ш: "w", щ: "w", ъ: "a", ы: "m", ь: "a", э: "e", ю: "m", я: "r" };
function IC(e30, t10) {
  I_[e30] = t10;
}
function IE(e30, t10, r10) {
  if (!I_[t10]) throw Error("Font metrics not found for font: " + t10 + ".");
  var n10 = e30.charCodeAt(0), i10 = I_[t10][n10];
  if (!i10 && e30[0] in IS && (n10 = IS[e30[0]].charCodeAt(0), i10 = I_[t10][n10]), !i10 && "text" === r10 && Ih(n10) && (i10 = I_[t10][77]), i10) return { depth: i10[0], height: i10[1], italic: i10[2], skew: i10[3], width: i10[4] };
}
iM(IC, "setFontMetrics"), iM(IE, "getCharacterMetrics");
var IA = {};
function IL(e30) {
  var t10;
  if (!IA[t10 = e30 >= 5 ? 0 : e30 >= 3 ? 1 : 2]) {
    var r10 = IA[t10] = { cssEmPerMu: IT.quad[t10] / 18 };
    for (var n10 in IT) IT.hasOwnProperty(n10) && (r10[n10] = IT[n10][t10]);
  }
  return IA[t10];
}
iM(IL, "getGlobalMetrics");
var II = [[1, 1, 1], [2, 1, 1], [3, 1, 1], [4, 2, 1], [5, 2, 1], [6, 3, 1], [7, 4, 2], [8, 6, 3], [9, 7, 6], [10, 8, 7], [11, 10, 9]], IM = [0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.2, 1.44, 1.728, 2.074, 2.488], IN = iM(function(e30, t10) {
  return t10.size < 2 ? e30 : II[e30 - 1][t10.size - 1];
}, "sizeAtStyle"), IR = (_L2 = class {
  constructor(t10) {
    this.style = void 0, this.color = void 0, this.size = void 0, this.textSize = void 0, this.phantom = void 0, this.font = void 0, this.fontFamily = void 0, this.fontWeight = void 0, this.fontShape = void 0, this.sizeMultiplier = void 0, this.maxSize = void 0, this.minRuleThickness = void 0, this._fontMetrics = void 0, this.style = t10.style, this.color = t10.color, this.size = t10.size || _L2.BASESIZE, this.textSize = t10.textSize || this.size, this.phantom = !!t10.phantom, this.font = t10.font || "", this.fontFamily = t10.fontFamily || "", this.fontWeight = t10.fontWeight || "", this.fontShape = t10.fontShape || "", this.sizeMultiplier = IM[this.size - 1], this.maxSize = t10.maxSize, this.minRuleThickness = t10.minRuleThickness, this._fontMetrics = void 0;
  }
  extend(t10) {
    var r10 = { style: this.style, size: this.size, textSize: this.textSize, color: this.color, phantom: this.phantom, font: this.font, fontFamily: this.fontFamily, fontWeight: this.fontWeight, fontShape: this.fontShape, maxSize: this.maxSize, minRuleThickness: this.minRuleThickness };
    for (var n10 in t10) t10.hasOwnProperty(n10) && (r10[n10] = t10[n10]);
    return new _L2(r10);
  }
  havingStyle(e30) {
    return this.style === e30 ? this : this.extend({ style: e30, size: IN(this.textSize, e30) });
  }
  havingCrampedStyle() {
    return this.havingStyle(this.style.cramp());
  }
  havingSize(e30) {
    return this.size === e30 && this.textSize === e30 ? this : this.extend({ style: this.style.text(), size: e30, textSize: e30, sizeMultiplier: IM[e30 - 1] });
  }
  havingBaseStyle(t10) {
    t10 = t10 || this.style.text();
    var r10 = IN(_L2.BASESIZE, t10);
    return this.size === r10 && this.textSize === _L2.BASESIZE && this.style === t10 ? this : this.extend({ style: t10, size: r10 });
  }
  havingBaseSizing() {
    var e30;
    switch (this.style.id) {
      case 4:
      case 5:
        e30 = 3;
        break;
      case 6:
      case 7:
        e30 = 1;
        break;
      default:
        e30 = 6;
    }
    return this.extend({ style: this.style.text(), size: e30 });
  }
  withColor(e30) {
    return this.extend({ color: e30 });
  }
  withPhantom() {
    return this.extend({ phantom: true });
  }
  withFont(e30) {
    return this.extend({ font: e30 });
  }
  withTextFontFamily(e30) {
    return this.extend({ fontFamily: e30, font: "" });
  }
  withTextFontWeight(e30) {
    return this.extend({ fontWeight: e30, font: "" });
  }
  withTextFontShape(e30) {
    return this.extend({ fontShape: e30, font: "" });
  }
  sizingClasses(e30) {
    return e30.size !== this.size ? ["sizing", "reset-size" + e30.size, "size" + this.size] : [];
  }
  baseSizingClasses() {
    return this.size !== _L2.BASESIZE ? ["sizing", "reset-size" + this.size, "size" + _L2.BASESIZE] : [];
  }
  fontMetrics() {
    return this._fontMetrics || (this._fontMetrics = IL(this.size)), this._fontMetrics;
  }
  getColor() {
    return this.phantom ? "transparent" : this.color;
  }
}, _i40 = new WeakMap(), __privateAdd(_L2, _i40, iM(_L2, "Options")), _L2);
IR.BASESIZE = 6;
var ID = { pt: 1, mm: 7227 / 2540, cm: 7227 / 254, in: 72.27, bp: 1.00375, pc: 12, dd: 1238 / 1157, cc: 14856 / 1157, nd: 685 / 642, nc: 1370 / 107, sp: 1 / 65536, px: 1.00375 }, IO = { ex: true, em: true, mu: true }, I$ = iM(function(e30) {
  return "string" != typeof e30 && (e30 = e30.unit), e30 in ID || e30 in IO || "ex" === e30;
}, "validUnit"), IP = iM(function(e30, t10) {
  var r10, n10;
  if (e30.unit in ID) r10 = ID[e30.unit] / t10.fontMetrics().ptPerEm / t10.sizeMultiplier;
  else if ("mu" === e30.unit) r10 = t10.fontMetrics().cssEmPerMu;
  else {
    if (n10 = t10.style.isTight() ? t10.havingStyle(t10.style.text()) : t10, "ex" === e30.unit) r10 = n10.fontMetrics().xHeight;
    else if ("em" === e30.unit) r10 = n10.fontMetrics().quad;
    else throw new LY("Invalid unit: '" + e30.unit + "'");
    n10 !== t10 && (r10 *= n10.sizeMultiplier / t10.sizeMultiplier);
  }
  return Math.min(e30.number * r10, t10.maxSize);
}, "calculateSize"), IB = iM(function(e30) {
  return +e30.toFixed(4) + "em";
}, "makeEm"), IF = iM(function(e30) {
  return e30.filter((e31) => e31).join(" ");
}, "createClass"), Iz = iM(function(e30, t10, r10) {
  if (this.classes = e30 || [], this.attributes = {}, this.height = 0, this.depth = 0, this.maxFontSize = 0, this.style = r10 || {}, t10) {
    t10.style.isTight() && this.classes.push("mtight");
    var n10 = t10.getColor();
    n10 && (this.style.color = n10);
  }
}, "initNode"), Ij = iM(function(e30) {
  var t10 = document.createElement(e30);
  for (var r10 in t10.className = IF(this.classes), this.style) this.style.hasOwnProperty(r10) && (t10.style[r10] = this.style[r10]);
  for (var n10 in this.attributes) this.attributes.hasOwnProperty(n10) && t10.setAttribute(n10, this.attributes[n10]);
  for (var i10 = 0; i10 < this.children.length; i10++) t10.appendChild(this.children[i10].toNode());
  return t10;
}, "toNode"), Iq = iM(function(e30) {
  var t10 = "<" + e30;
  this.classes.length && (t10 += ' class="' + L3.escape(IF(this.classes)) + '"');
  var r10 = "";
  for (var n10 in this.style) this.style.hasOwnProperty(n10) && (r10 += L3.hyphenate(n10) + ":" + this.style[n10] + ";");
  for (var i10 in r10 && (t10 += ' style="' + L3.escape(r10) + '"'), this.attributes) this.attributes.hasOwnProperty(i10) && (t10 += " " + i10 + '="' + L3.escape(this.attributes[i10]) + '"');
  t10 += ">";
  for (var a10 = 0; a10 < this.children.length; a10++) t10 += this.children[a10].toMarkup();
  return t10 + ("</" + e30) + ">";
}, "toMarkup"), IU = (_M2 = class {
  constructor(e30, t10, r10, n10) {
    this.children = void 0, this.attributes = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.width = void 0, this.maxFontSize = void 0, this.style = void 0, Iz.call(this, e30, r10, n10), this.children = t10 || [];
  }
  setAttribute(e30, t10) {
    this.attributes[e30] = t10;
  }
  hasClass(e30) {
    return L3.contains(this.classes, e30);
  }
  toNode() {
    return Ij.call(this, "span");
  }
  toMarkup() {
    return Iq.call(this, "span");
  }
}, _i41 = new WeakMap(), __privateAdd(_M2, _i41, iM(_M2, "Span")), _M2), IW = (_N2 = class {
  constructor(e30, t10, r10, n10) {
    this.children = void 0, this.attributes = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, Iz.call(this, t10, n10), this.children = r10 || [], this.setAttribute("href", e30);
  }
  setAttribute(e30, t10) {
    this.attributes[e30] = t10;
  }
  hasClass(e30) {
    return L3.contains(this.classes, e30);
  }
  toNode() {
    return Ij.call(this, "a");
  }
  toMarkup() {
    return Iq.call(this, "a");
  }
}, _i42 = new WeakMap(), __privateAdd(_N2, _i42, iM(_N2, "Anchor")), _N2), IV = (_O2 = class {
  constructor(e30, t10, r10) {
    this.src = void 0, this.alt = void 0, this.classes = void 0, this.height = void 0, this.depth = void 0, this.maxFontSize = void 0, this.style = void 0, this.alt = t10, this.src = e30, this.classes = ["mord"], this.style = r10;
  }
  hasClass(e30) {
    return L3.contains(this.classes, e30);
  }
  toNode() {
    var e30 = document.createElement("img");
    for (var t10 in e30.src = this.src, e30.alt = this.alt, e30.className = "mord", this.style) this.style.hasOwnProperty(t10) && (e30.style[t10] = this.style[t10]);
    return e30;
  }
  toMarkup() {
    var e30 = '<img src="' + L3.escape(this.src) + '" alt="' + L3.escape(this.alt) + '"', t10 = "";
    for (var r10 in this.style) this.style.hasOwnProperty(r10) && (t10 += L3.hyphenate(r10) + ":" + this.style[r10] + ";");
    return t10 && (e30 += ' style="' + L3.escape(t10) + '"'), e30 += "'/>";
  }
}, _i43 = new WeakMap(), __privateAdd(_O2, _i43, iM(_O2, "Img")), _O2), IH = { î: "ı̂", ï: "ı̈", í: "ı́", ì: "ı̀" }, IY = (_P2 = class {
  constructor(e30, t10, r10, n10, i10, a10, s10, o10) {
    this.text = void 0, this.height = void 0, this.depth = void 0, this.italic = void 0, this.skew = void 0, this.width = void 0, this.maxFontSize = void 0, this.classes = void 0, this.style = void 0, this.text = e30, this.height = t10 || 0, this.depth = r10 || 0, this.italic = n10 || 0, this.skew = i10 || 0, this.width = a10 || 0, this.classes = s10 || [], this.style = o10 || {}, this.maxFontSize = 0;
    var l10 = Il(this.text.charCodeAt(0));
    l10 && this.classes.push(l10 + "_fallback"), /[îïíì]/.test(this.text) && (this.text = IH[this.text]);
  }
  hasClass(e30) {
    return L3.contains(this.classes, e30);
  }
  toNode() {
    var e30 = document.createTextNode(this.text), t10 = null;
    for (var r10 in this.italic > 0 && ((t10 = document.createElement("span")).style.marginRight = IB(this.italic)), this.classes.length > 0 && ((t10 = t10 || document.createElement("span")).className = IF(this.classes)), this.style) this.style.hasOwnProperty(r10) && ((t10 = t10 || document.createElement("span")).style[r10] = this.style[r10]);
    return t10 ? (t10.appendChild(e30), t10) : e30;
  }
  toMarkup() {
    var e30 = false, t10 = "<span";
    this.classes.length && (e30 = true, t10 += ' class="', t10 += L3.escape(IF(this.classes)), t10 += '"');
    var r10 = "";
    for (var n10 in this.italic > 0 && (r10 += "margin-right:" + this.italic + "em;"), this.style) this.style.hasOwnProperty(n10) && (r10 += L3.hyphenate(n10) + ":" + this.style[n10] + ";");
    r10 && (e30 = true, t10 += ' style="' + L3.escape(r10) + '"');
    var i10 = L3.escape(this.text);
    return e30 ? (t10 += ">", t10 += i10, t10 += "</span>") : i10;
  }
}, _i44 = new WeakMap(), __privateAdd(_P2, _i44, iM(_P2, "SymbolNode")), _P2), IG = (_Q2 = class {
  constructor(e30, t10) {
    this.children = void 0, this.attributes = void 0, this.children = e30 || [], this.attributes = t10 || {};
  }
  toNode() {
    var e30 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    for (var t10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, t10) && e30.setAttribute(t10, this.attributes[t10]);
    for (var r10 = 0; r10 < this.children.length; r10++) e30.appendChild(this.children[r10].toNode());
    return e30;
  }
  toMarkup() {
    var e30 = '<svg xmlns="http://www.w3.org/2000/svg"';
    for (var t10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, t10) && (e30 += " " + t10 + '="' + L3.escape(this.attributes[t10]) + '"');
    e30 += ">";
    for (var r10 = 0; r10 < this.children.length; r10++) e30 += this.children[r10].toMarkup();
    return e30 + "</svg>";
  }
}, _i45 = new WeakMap(), __privateAdd(_Q2, _i45, iM(_Q2, "SvgNode")), _Q2), IX = (_R2 = class {
  constructor(e30, t10) {
    this.pathName = void 0, this.alternate = void 0, this.pathName = e30, this.alternate = t10;
  }
  toNode() {
    var e30 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    return this.alternate ? e30.setAttribute("d", this.alternate) : e30.setAttribute("d", Ib[this.pathName]), e30;
  }
  toMarkup() {
    return this.alternate ? '<path d="' + L3.escape(this.alternate) + '"/>' : '<path d="' + L3.escape(Ib[this.pathName]) + '"/>';
  }
}, _i46 = new WeakMap(), __privateAdd(_R2, _i46, iM(_R2, "PathNode")), _R2), IK = (_S2 = class {
  constructor(e30) {
    this.attributes = void 0, this.attributes = e30 || {};
  }
  toNode() {
    var e30 = document.createElementNS("http://www.w3.org/2000/svg", "line");
    for (var t10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, t10) && e30.setAttribute(t10, this.attributes[t10]);
    return e30;
  }
  toMarkup() {
    var e30 = "<line";
    for (var t10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, t10) && (e30 += " " + t10 + '="' + L3.escape(this.attributes[t10]) + '"');
    return e30 + "/>";
  }
}, _i47 = new WeakMap(), __privateAdd(_S2, _i47, iM(_S2, "LineNode")), _S2);
function IZ(e30) {
  if (e30 instanceof IY) return e30;
  throw Error("Expected symbolNode but got " + String(e30) + ".");
}
function IQ(e30) {
  if (e30 instanceof IU) return e30;
  throw Error("Expected span<HtmlDomNode> but got " + String(e30) + ".");
}
iM(IZ, "assertSymbolDomNode"), iM(IQ, "assertSpan");
var IJ = { bin: 1, close: 1, inner: 1, open: 1, punct: 1, rel: 1 }, I0 = { "accent-token": 1, mathord: 1, "op-token": 1, spacing: 1, textord: 1 }, I1 = { math: {}, text: {} };
function I2(e30, t10, r10, n10, i10, a10) {
  I1[e30][i10] = { font: t10, group: r10, replace: n10 }, a10 && n10 && (I1[e30][n10] = I1[e30][i10]);
}
iM(I2, "defineSymbol");
var I4 = "math", I3 = "text", I5 = "main", I6 = "accent-token", I7 = "close", I8 = "inner", I9 = "mathord", Me = "op-token", Mt = "open", Mr = "punct", Mn = "spacing", Mi = "textord";
I2(I4, I5, "rel", "≡", "\\equiv", true), I2(I4, I5, "rel", "≺", "\\prec", true), I2(I4, I5, "rel", "≻", "\\succ", true), I2(I4, I5, "rel", "∼", "\\sim", true), I2(I4, I5, "rel", "⊥", "\\perp"), I2(I4, I5, "rel", "⪯", "\\preceq", true), I2(I4, I5, "rel", "⪰", "\\succeq", true), I2(I4, I5, "rel", "≃", "\\simeq", true), I2(I4, I5, "rel", "∣", "\\mid", true), I2(I4, I5, "rel", "≪", "\\ll", true), I2(I4, I5, "rel", "≫", "\\gg", true), I2(I4, I5, "rel", "≍", "\\asymp", true), I2(I4, I5, "rel", "∥", "\\parallel"), I2(I4, I5, "rel", "⋈", "\\bowtie", true), I2(I4, I5, "rel", "⌣", "\\smile", true), I2(I4, I5, "rel", "⊑", "\\sqsubseteq", true), I2(I4, I5, "rel", "⊒", "\\sqsupseteq", true), I2(I4, I5, "rel", "≐", "\\doteq", true), I2(I4, I5, "rel", "⌢", "\\frown", true), I2(I4, I5, "rel", "∋", "\\ni", true), I2(I4, I5, "rel", "∝", "\\propto", true), I2(I4, I5, "rel", "⊢", "\\vdash", true), I2(I4, I5, "rel", "⊣", "\\dashv", true), I2(I4, I5, "rel", "∋", "\\owns"), I2(I4, I5, Mr, ".", "\\ldotp"), I2(I4, I5, Mr, "⋅", "\\cdotp"), I2(I4, I5, Mi, "#", "\\#"), I2(I3, I5, Mi, "#", "\\#"), I2(I4, I5, Mi, "&", "\\&"), I2(I3, I5, Mi, "&", "\\&"), I2(I4, I5, Mi, "ℵ", "\\aleph", true), I2(I4, I5, Mi, "∀", "\\forall", true), I2(I4, I5, Mi, "ℏ", "\\hbar", true), I2(I4, I5, Mi, "∃", "\\exists", true), I2(I4, I5, Mi, "∇", "\\nabla", true), I2(I4, I5, Mi, "♭", "\\flat", true), I2(I4, I5, Mi, "ℓ", "\\ell", true), I2(I4, I5, Mi, "♮", "\\natural", true), I2(I4, I5, Mi, "♣", "\\clubsuit", true), I2(I4, I5, Mi, "℘", "\\wp", true), I2(I4, I5, Mi, "♯", "\\sharp", true), I2(I4, I5, Mi, "♢", "\\diamondsuit", true), I2(I4, I5, Mi, "ℜ", "\\Re", true), I2(I4, I5, Mi, "♡", "\\heartsuit", true), I2(I4, I5, Mi, "ℑ", "\\Im", true), I2(I4, I5, Mi, "♠", "\\spadesuit", true), I2(I4, I5, Mi, "§", "\\S", true), I2(I3, I5, Mi, "§", "\\S"), I2(I4, I5, Mi, "¶", "\\P", true), I2(I3, I5, Mi, "¶", "\\P"), I2(I4, I5, Mi, "†", "\\dag"), I2(I3, I5, Mi, "†", "\\dag"), I2(I3, I5, Mi, "†", "\\textdagger"), I2(I4, I5, Mi, "‡", "\\ddag"), I2(I3, I5, Mi, "‡", "\\ddag"), I2(I3, I5, Mi, "‡", "\\textdaggerdbl"), I2(I4, I5, I7, "⎱", "\\rmoustache", true), I2(I4, I5, Mt, "⎰", "\\lmoustache", true), I2(I4, I5, I7, "⟯", "\\rgroup", true), I2(I4, I5, Mt, "⟮", "\\lgroup", true), I2(I4, I5, "bin", "∓", "\\mp", true), I2(I4, I5, "bin", "⊖", "\\ominus", true), I2(I4, I5, "bin", "⊎", "\\uplus", true), I2(I4, I5, "bin", "⊓", "\\sqcap", true), I2(I4, I5, "bin", "∗", "\\ast"), I2(I4, I5, "bin", "⊔", "\\sqcup", true), I2(I4, I5, "bin", "◯", "\\bigcirc", true), I2(I4, I5, "bin", "∙", "\\bullet", true), I2(I4, I5, "bin", "‡", "\\ddagger"), I2(I4, I5, "bin", "≀", "\\wr", true), I2(I4, I5, "bin", "⨿", "\\amalg"), I2(I4, I5, "bin", "&", "\\And"), I2(I4, I5, "rel", "⟵", "\\longleftarrow", true), I2(I4, I5, "rel", "⇐", "\\Leftarrow", true), I2(I4, I5, "rel", "⟸", "\\Longleftarrow", true), I2(I4, I5, "rel", "⟶", "\\longrightarrow", true), I2(I4, I5, "rel", "⇒", "\\Rightarrow", true), I2(I4, I5, "rel", "⟹", "\\Longrightarrow", true), I2(I4, I5, "rel", "↔", "\\leftrightarrow", true), I2(I4, I5, "rel", "⟷", "\\longleftrightarrow", true), I2(I4, I5, "rel", "⇔", "\\Leftrightarrow", true), I2(I4, I5, "rel", "⟺", "\\Longleftrightarrow", true), I2(I4, I5, "rel", "↦", "\\mapsto", true), I2(I4, I5, "rel", "⟼", "\\longmapsto", true), I2(I4, I5, "rel", "↗", "\\nearrow", true), I2(I4, I5, "rel", "↩", "\\hookleftarrow", true), I2(I4, I5, "rel", "↪", "\\hookrightarrow", true), I2(I4, I5, "rel", "↘", "\\searrow", true), I2(I4, I5, "rel", "↼", "\\leftharpoonup", true), I2(I4, I5, "rel", "⇀", "\\rightharpoonup", true), I2(I4, I5, "rel", "↙", "\\swarrow", true), I2(I4, I5, "rel", "↽", "\\leftharpoondown", true), I2(I4, I5, "rel", "⇁", "\\rightharpoondown", true), I2(I4, I5, "rel", "↖", "\\nwarrow", true), I2(I4, I5, "rel", "⇌", "\\rightleftharpoons", true), I2(I4, "ams", "rel", "≮", "\\nless", true), I2(I4, "ams", "rel", "", "\\@nleqslant"), I2(I4, "ams", "rel", "", "\\@nleqq"), I2(I4, "ams", "rel", "⪇", "\\lneq", true), I2(I4, "ams", "rel", "≨", "\\lneqq", true), I2(I4, "ams", "rel", "", "\\@lvertneqq"), I2(I4, "ams", "rel", "⋦", "\\lnsim", true), I2(I4, "ams", "rel", "⪉", "\\lnapprox", true), I2(I4, "ams", "rel", "⊀", "\\nprec", true), I2(I4, "ams", "rel", "⋠", "\\npreceq", true), I2(I4, "ams", "rel", "⋨", "\\precnsim", true), I2(I4, "ams", "rel", "⪹", "\\precnapprox", true), I2(I4, "ams", "rel", "≁", "\\nsim", true), I2(I4, "ams", "rel", "", "\\@nshortmid"), I2(I4, "ams", "rel", "∤", "\\nmid", true), I2(I4, "ams", "rel", "⊬", "\\nvdash", true), I2(I4, "ams", "rel", "⊭", "\\nvDash", true), I2(I4, "ams", "rel", "⋪", "\\ntriangleleft"), I2(I4, "ams", "rel", "⋬", "\\ntrianglelefteq", true), I2(I4, "ams", "rel", "⊊", "\\subsetneq", true), I2(I4, "ams", "rel", "", "\\@varsubsetneq"), I2(I4, "ams", "rel", "⫋", "\\subsetneqq", true), I2(I4, "ams", "rel", "", "\\@varsubsetneqq"), I2(I4, "ams", "rel", "≯", "\\ngtr", true), I2(I4, "ams", "rel", "", "\\@ngeqslant"), I2(I4, "ams", "rel", "", "\\@ngeqq"), I2(I4, "ams", "rel", "⪈", "\\gneq", true), I2(I4, "ams", "rel", "≩", "\\gneqq", true), I2(I4, "ams", "rel", "", "\\@gvertneqq"), I2(I4, "ams", "rel", "⋧", "\\gnsim", true), I2(I4, "ams", "rel", "⪊", "\\gnapprox", true), I2(I4, "ams", "rel", "⊁", "\\nsucc", true), I2(I4, "ams", "rel", "⋡", "\\nsucceq", true), I2(I4, "ams", "rel", "⋩", "\\succnsim", true), I2(I4, "ams", "rel", "⪺", "\\succnapprox", true), I2(I4, "ams", "rel", "≆", "\\ncong", true), I2(I4, "ams", "rel", "", "\\@nshortparallel"), I2(I4, "ams", "rel", "∦", "\\nparallel", true), I2(I4, "ams", "rel", "⊯", "\\nVDash", true), I2(I4, "ams", "rel", "⋫", "\\ntriangleright"), I2(I4, "ams", "rel", "⋭", "\\ntrianglerighteq", true), I2(I4, "ams", "rel", "", "\\@nsupseteqq"), I2(I4, "ams", "rel", "⊋", "\\supsetneq", true), I2(I4, "ams", "rel", "", "\\@varsupsetneq"), I2(I4, "ams", "rel", "⫌", "\\supsetneqq", true), I2(I4, "ams", "rel", "", "\\@varsupsetneqq"), I2(I4, "ams", "rel", "⊮", "\\nVdash", true), I2(I4, "ams", "rel", "⪵", "\\precneqq", true), I2(I4, "ams", "rel", "⪶", "\\succneqq", true), I2(I4, "ams", "rel", "", "\\@nsubseteqq"), I2(I4, "ams", "bin", "⊴", "\\unlhd"), I2(I4, "ams", "bin", "⊵", "\\unrhd"), I2(I4, "ams", "rel", "↚", "\\nleftarrow", true), I2(I4, "ams", "rel", "↛", "\\nrightarrow", true), I2(I4, "ams", "rel", "⇍", "\\nLeftarrow", true), I2(I4, "ams", "rel", "⇏", "\\nRightarrow", true), I2(I4, "ams", "rel", "↮", "\\nleftrightarrow", true), I2(I4, "ams", "rel", "⇎", "\\nLeftrightarrow", true), I2(I4, "ams", "rel", "△", "\\vartriangle"), I2(I4, "ams", Mi, "ℏ", "\\hslash"), I2(I4, "ams", Mi, "▽", "\\triangledown"), I2(I4, "ams", Mi, "◊", "\\lozenge"), I2(I4, "ams", Mi, "Ⓢ", "\\circledS"), I2(I4, "ams", Mi, "®", "\\circledR"), I2(I3, "ams", Mi, "®", "\\circledR"), I2(I4, "ams", Mi, "∡", "\\measuredangle", true), I2(I4, "ams", Mi, "∄", "\\nexists"), I2(I4, "ams", Mi, "℧", "\\mho"), I2(I4, "ams", Mi, "Ⅎ", "\\Finv", true), I2(I4, "ams", Mi, "⅁", "\\Game", true), I2(I4, "ams", Mi, "‵", "\\backprime"), I2(I4, "ams", Mi, "▲", "\\blacktriangle"), I2(I4, "ams", Mi, "▼", "\\blacktriangledown"), I2(I4, "ams", Mi, "■", "\\blacksquare"), I2(I4, "ams", Mi, "⧫", "\\blacklozenge"), I2(I4, "ams", Mi, "★", "\\bigstar"), I2(I4, "ams", Mi, "∢", "\\sphericalangle", true), I2(I4, "ams", Mi, "∁", "\\complement", true), I2(I4, "ams", Mi, "ð", "\\eth", true), I2(I3, I5, Mi, "ð", "ð"), I2(I4, "ams", Mi, "╱", "\\diagup"), I2(I4, "ams", Mi, "╲", "\\diagdown"), I2(I4, "ams", Mi, "□", "\\square"), I2(I4, "ams", Mi, "□", "\\Box"), I2(I4, "ams", Mi, "◊", "\\Diamond"), I2(I4, "ams", Mi, "¥", "\\yen", true), I2(I3, "ams", Mi, "¥", "\\yen", true), I2(I4, "ams", Mi, "✓", "\\checkmark", true), I2(I3, "ams", Mi, "✓", "\\checkmark"), I2(I4, "ams", Mi, "ℶ", "\\beth", true), I2(I4, "ams", Mi, "ℸ", "\\daleth", true), I2(I4, "ams", Mi, "ℷ", "\\gimel", true), I2(I4, "ams", Mi, "ϝ", "\\digamma", true), I2(I4, "ams", Mi, "ϰ", "\\varkappa"), I2(I4, "ams", Mt, "┌", "\\@ulcorner", true), I2(I4, "ams", I7, "┐", "\\@urcorner", true), I2(I4, "ams", Mt, "└", "\\@llcorner", true), I2(I4, "ams", I7, "┘", "\\@lrcorner", true), I2(I4, "ams", "rel", "≦", "\\leqq", true), I2(I4, "ams", "rel", "⩽", "\\leqslant", true), I2(I4, "ams", "rel", "⪕", "\\eqslantless", true), I2(I4, "ams", "rel", "≲", "\\lesssim", true), I2(I4, "ams", "rel", "⪅", "\\lessapprox", true), I2(I4, "ams", "rel", "≊", "\\approxeq", true), I2(I4, "ams", "bin", "⋖", "\\lessdot"), I2(I4, "ams", "rel", "⋘", "\\lll", true), I2(I4, "ams", "rel", "≶", "\\lessgtr", true), I2(I4, "ams", "rel", "⋚", "\\lesseqgtr", true), I2(I4, "ams", "rel", "⪋", "\\lesseqqgtr", true), I2(I4, "ams", "rel", "≑", "\\doteqdot"), I2(I4, "ams", "rel", "≓", "\\risingdotseq", true), I2(I4, "ams", "rel", "≒", "\\fallingdotseq", true), I2(I4, "ams", "rel", "∽", "\\backsim", true), I2(I4, "ams", "rel", "⋍", "\\backsimeq", true), I2(I4, "ams", "rel", "⫅", "\\subseteqq", true), I2(I4, "ams", "rel", "⋐", "\\Subset", true), I2(I4, "ams", "rel", "⊏", "\\sqsubset", true), I2(I4, "ams", "rel", "≼", "\\preccurlyeq", true), I2(I4, "ams", "rel", "⋞", "\\curlyeqprec", true), I2(I4, "ams", "rel", "≾", "\\precsim", true), I2(I4, "ams", "rel", "⪷", "\\precapprox", true), I2(I4, "ams", "rel", "⊲", "\\vartriangleleft"), I2(I4, "ams", "rel", "⊴", "\\trianglelefteq"), I2(I4, "ams", "rel", "⊨", "\\vDash", true), I2(I4, "ams", "rel", "⊪", "\\Vvdash", true), I2(I4, "ams", "rel", "⌣", "\\smallsmile"), I2(I4, "ams", "rel", "⌢", "\\smallfrown"), I2(I4, "ams", "rel", "≏", "\\bumpeq", true), I2(I4, "ams", "rel", "≎", "\\Bumpeq", true), I2(I4, "ams", "rel", "≧", "\\geqq", true), I2(I4, "ams", "rel", "⩾", "\\geqslant", true), I2(I4, "ams", "rel", "⪖", "\\eqslantgtr", true), I2(I4, "ams", "rel", "≳", "\\gtrsim", true), I2(I4, "ams", "rel", "⪆", "\\gtrapprox", true), I2(I4, "ams", "bin", "⋗", "\\gtrdot"), I2(I4, "ams", "rel", "⋙", "\\ggg", true), I2(I4, "ams", "rel", "≷", "\\gtrless", true), I2(I4, "ams", "rel", "⋛", "\\gtreqless", true), I2(I4, "ams", "rel", "⪌", "\\gtreqqless", true), I2(I4, "ams", "rel", "≖", "\\eqcirc", true), I2(I4, "ams", "rel", "≗", "\\circeq", true), I2(I4, "ams", "rel", "≜", "\\triangleq", true), I2(I4, "ams", "rel", "∼", "\\thicksim"), I2(I4, "ams", "rel", "≈", "\\thickapprox"), I2(I4, "ams", "rel", "⫆", "\\supseteqq", true), I2(I4, "ams", "rel", "⋑", "\\Supset", true), I2(I4, "ams", "rel", "⊐", "\\sqsupset", true), I2(I4, "ams", "rel", "≽", "\\succcurlyeq", true), I2(I4, "ams", "rel", "⋟", "\\curlyeqsucc", true), I2(I4, "ams", "rel", "≿", "\\succsim", true), I2(I4, "ams", "rel", "⪸", "\\succapprox", true), I2(I4, "ams", "rel", "⊳", "\\vartriangleright"), I2(I4, "ams", "rel", "⊵", "\\trianglerighteq"), I2(I4, "ams", "rel", "⊩", "\\Vdash", true), I2(I4, "ams", "rel", "∣", "\\shortmid"), I2(I4, "ams", "rel", "∥", "\\shortparallel"), I2(I4, "ams", "rel", "≬", "\\between", true), I2(I4, "ams", "rel", "⋔", "\\pitchfork", true), I2(I4, "ams", "rel", "∝", "\\varpropto"), I2(I4, "ams", "rel", "◀", "\\blacktriangleleft"), I2(I4, "ams", "rel", "∴", "\\therefore", true), I2(I4, "ams", "rel", "∍", "\\backepsilon"), I2(I4, "ams", "rel", "▶", "\\blacktriangleright"), I2(I4, "ams", "rel", "∵", "\\because", true), I2(I4, "ams", "rel", "⋘", "\\llless"), I2(I4, "ams", "rel", "⋙", "\\gggtr"), I2(I4, "ams", "bin", "⊲", "\\lhd"), I2(I4, "ams", "bin", "⊳", "\\rhd"), I2(I4, "ams", "rel", "≂", "\\eqsim", true), I2(I4, I5, "rel", "⋈", "\\Join"), I2(I4, "ams", "rel", "≑", "\\Doteq", true), I2(I4, "ams", "bin", "∔", "\\dotplus", true), I2(I4, "ams", "bin", "∖", "\\smallsetminus"), I2(I4, "ams", "bin", "⋒", "\\Cap", true), I2(I4, "ams", "bin", "⋓", "\\Cup", true), I2(I4, "ams", "bin", "⩞", "\\doublebarwedge", true), I2(I4, "ams", "bin", "⊟", "\\boxminus", true), I2(I4, "ams", "bin", "⊞", "\\boxplus", true), I2(I4, "ams", "bin", "⋇", "\\divideontimes", true), I2(I4, "ams", "bin", "⋉", "\\ltimes", true), I2(I4, "ams", "bin", "⋊", "\\rtimes", true), I2(I4, "ams", "bin", "⋋", "\\leftthreetimes", true), I2(I4, "ams", "bin", "⋌", "\\rightthreetimes", true), I2(I4, "ams", "bin", "⋏", "\\curlywedge", true), I2(I4, "ams", "bin", "⋎", "\\curlyvee", true), I2(I4, "ams", "bin", "⊝", "\\circleddash", true), I2(I4, "ams", "bin", "⊛", "\\circledast", true), I2(I4, "ams", "bin", "⋅", "\\centerdot"), I2(I4, "ams", "bin", "⊺", "\\intercal", true), I2(I4, "ams", "bin", "⋒", "\\doublecap"), I2(I4, "ams", "bin", "⋓", "\\doublecup"), I2(I4, "ams", "bin", "⊠", "\\boxtimes", true), I2(I4, "ams", "rel", "⇢", "\\dashrightarrow", true), I2(I4, "ams", "rel", "⇠", "\\dashleftarrow", true), I2(I4, "ams", "rel", "⇇", "\\leftleftarrows", true), I2(I4, "ams", "rel", "⇆", "\\leftrightarrows", true), I2(I4, "ams", "rel", "⇚", "\\Lleftarrow", true), I2(I4, "ams", "rel", "↞", "\\twoheadleftarrow", true), I2(I4, "ams", "rel", "↢", "\\leftarrowtail", true), I2(I4, "ams", "rel", "↫", "\\looparrowleft", true), I2(I4, "ams", "rel", "⇋", "\\leftrightharpoons", true), I2(I4, "ams", "rel", "↶", "\\curvearrowleft", true), I2(I4, "ams", "rel", "↺", "\\circlearrowleft", true), I2(I4, "ams", "rel", "↰", "\\Lsh", true), I2(I4, "ams", "rel", "⇈", "\\upuparrows", true), I2(I4, "ams", "rel", "↿", "\\upharpoonleft", true), I2(I4, "ams", "rel", "⇃", "\\downharpoonleft", true), I2(I4, I5, "rel", "⊶", "\\origof", true), I2(I4, I5, "rel", "⊷", "\\imageof", true), I2(I4, "ams", "rel", "⊸", "\\multimap", true), I2(I4, "ams", "rel", "↭", "\\leftrightsquigarrow", true), I2(I4, "ams", "rel", "⇉", "\\rightrightarrows", true), I2(I4, "ams", "rel", "⇄", "\\rightleftarrows", true), I2(I4, "ams", "rel", "↠", "\\twoheadrightarrow", true), I2(I4, "ams", "rel", "↣", "\\rightarrowtail", true), I2(I4, "ams", "rel", "↬", "\\looparrowright", true), I2(I4, "ams", "rel", "↷", "\\curvearrowright", true), I2(I4, "ams", "rel", "↻", "\\circlearrowright", true), I2(I4, "ams", "rel", "↱", "\\Rsh", true), I2(I4, "ams", "rel", "⇊", "\\downdownarrows", true), I2(I4, "ams", "rel", "↾", "\\upharpoonright", true), I2(I4, "ams", "rel", "⇂", "\\downharpoonright", true), I2(I4, "ams", "rel", "⇝", "\\rightsquigarrow", true), I2(I4, "ams", "rel", "⇝", "\\leadsto"), I2(I4, "ams", "rel", "⇛", "\\Rrightarrow", true), I2(I4, "ams", "rel", "↾", "\\restriction"), I2(I4, I5, Mi, "‘", "`"), I2(I4, I5, Mi, "$", "\\$"), I2(I3, I5, Mi, "$", "\\$"), I2(I3, I5, Mi, "$", "\\textdollar"), I2(I4, I5, Mi, "%", "\\%"), I2(I3, I5, Mi, "%", "\\%"), I2(I4, I5, Mi, "_", "\\_"), I2(I3, I5, Mi, "_", "\\_"), I2(I3, I5, Mi, "_", "\\textunderscore"), I2(I4, I5, Mi, "∠", "\\angle", true), I2(I4, I5, Mi, "∞", "\\infty", true), I2(I4, I5, Mi, "′", "\\prime"), I2(I4, I5, Mi, "△", "\\triangle"), I2(I4, I5, Mi, "Γ", "\\Gamma", true), I2(I4, I5, Mi, "Δ", "\\Delta", true), I2(I4, I5, Mi, "Θ", "\\Theta", true), I2(I4, I5, Mi, "Λ", "\\Lambda", true), I2(I4, I5, Mi, "Ξ", "\\Xi", true), I2(I4, I5, Mi, "Π", "\\Pi", true), I2(I4, I5, Mi, "Σ", "\\Sigma", true), I2(I4, I5, Mi, "Υ", "\\Upsilon", true), I2(I4, I5, Mi, "Φ", "\\Phi", true), I2(I4, I5, Mi, "Ψ", "\\Psi", true), I2(I4, I5, Mi, "Ω", "\\Omega", true), I2(I4, I5, Mi, "A", "Α"), I2(I4, I5, Mi, "B", "Β"), I2(I4, I5, Mi, "E", "Ε"), I2(I4, I5, Mi, "Z", "Ζ"), I2(I4, I5, Mi, "H", "Η"), I2(I4, I5, Mi, "I", "Ι"), I2(I4, I5, Mi, "K", "Κ"), I2(I4, I5, Mi, "M", "Μ"), I2(I4, I5, Mi, "N", "Ν"), I2(I4, I5, Mi, "O", "Ο"), I2(I4, I5, Mi, "P", "Ρ"), I2(I4, I5, Mi, "T", "Τ"), I2(I4, I5, Mi, "X", "Χ"), I2(I4, I5, Mi, "¬", "\\neg", true), I2(I4, I5, Mi, "¬", "\\lnot"), I2(I4, I5, Mi, "⊤", "\\top"), I2(I4, I5, Mi, "⊥", "\\bot"), I2(I4, I5, Mi, "∅", "\\emptyset"), I2(I4, "ams", Mi, "∅", "\\varnothing"), I2(I4, I5, I9, "α", "\\alpha", true), I2(I4, I5, I9, "β", "\\beta", true), I2(I4, I5, I9, "γ", "\\gamma", true), I2(I4, I5, I9, "δ", "\\delta", true), I2(I4, I5, I9, "ϵ", "\\epsilon", true), I2(I4, I5, I9, "ζ", "\\zeta", true), I2(I4, I5, I9, "η", "\\eta", true), I2(I4, I5, I9, "θ", "\\theta", true), I2(I4, I5, I9, "ι", "\\iota", true), I2(I4, I5, I9, "κ", "\\kappa", true), I2(I4, I5, I9, "λ", "\\lambda", true), I2(I4, I5, I9, "μ", "\\mu", true), I2(I4, I5, I9, "ν", "\\nu", true), I2(I4, I5, I9, "ξ", "\\xi", true), I2(I4, I5, I9, "ο", "\\omicron", true), I2(I4, I5, I9, "π", "\\pi", true), I2(I4, I5, I9, "ρ", "\\rho", true), I2(I4, I5, I9, "σ", "\\sigma", true), I2(I4, I5, I9, "τ", "\\tau", true), I2(I4, I5, I9, "υ", "\\upsilon", true), I2(I4, I5, I9, "ϕ", "\\phi", true), I2(I4, I5, I9, "χ", "\\chi", true), I2(I4, I5, I9, "ψ", "\\psi", true), I2(I4, I5, I9, "ω", "\\omega", true), I2(I4, I5, I9, "ε", "\\varepsilon", true), I2(I4, I5, I9, "ϑ", "\\vartheta", true), I2(I4, I5, I9, "ϖ", "\\varpi", true), I2(I4, I5, I9, "ϱ", "\\varrho", true), I2(I4, I5, I9, "ς", "\\varsigma", true), I2(I4, I5, I9, "φ", "\\varphi", true), I2(I4, I5, "bin", "∗", "*", true), I2(I4, I5, "bin", "+", "+"), I2(I4, I5, "bin", "−", "-", true), I2(I4, I5, "bin", "⋅", "\\cdot", true), I2(I4, I5, "bin", "∘", "\\circ", true), I2(I4, I5, "bin", "÷", "\\div", true), I2(I4, I5, "bin", "±", "\\pm", true), I2(I4, I5, "bin", "×", "\\times", true), I2(I4, I5, "bin", "∩", "\\cap", true), I2(I4, I5, "bin", "∪", "\\cup", true), I2(I4, I5, "bin", "∖", "\\setminus", true), I2(I4, I5, "bin", "∧", "\\land"), I2(I4, I5, "bin", "∨", "\\lor"), I2(I4, I5, "bin", "∧", "\\wedge", true), I2(I4, I5, "bin", "∨", "\\vee", true), I2(I4, I5, Mi, "√", "\\surd"), I2(I4, I5, Mt, "⟨", "\\langle", true), I2(I4, I5, Mt, "∣", "\\lvert"), I2(I4, I5, Mt, "∥", "\\lVert"), I2(I4, I5, I7, "?", "?"), I2(I4, I5, I7, "!", "!"), I2(I4, I5, I7, "⟩", "\\rangle", true), I2(I4, I5, I7, "∣", "\\rvert"), I2(I4, I5, I7, "∥", "\\rVert"), I2(I4, I5, "rel", "=", "="), I2(I4, I5, "rel", ":", ":"), I2(I4, I5, "rel", "≈", "\\approx", true), I2(I4, I5, "rel", "≅", "\\cong", true), I2(I4, I5, "rel", "≥", "\\ge"), I2(I4, I5, "rel", "≥", "\\geq", true), I2(I4, I5, "rel", "←", "\\gets"), I2(I4, I5, "rel", ">", "\\gt", true), I2(I4, I5, "rel", "∈", "\\in", true), I2(I4, I5, "rel", "", "\\@not"), I2(I4, I5, "rel", "⊂", "\\subset", true), I2(I4, I5, "rel", "⊃", "\\supset", true), I2(I4, I5, "rel", "⊆", "\\subseteq", true), I2(I4, I5, "rel", "⊇", "\\supseteq", true), I2(I4, "ams", "rel", "⊈", "\\nsubseteq", true), I2(I4, "ams", "rel", "⊉", "\\nsupseteq", true), I2(I4, I5, "rel", "⊨", "\\models"), I2(I4, I5, "rel", "←", "\\leftarrow", true), I2(I4, I5, "rel", "≤", "\\le"), I2(I4, I5, "rel", "≤", "\\leq", true), I2(I4, I5, "rel", "<", "\\lt", true), I2(I4, I5, "rel", "→", "\\rightarrow", true), I2(I4, I5, "rel", "→", "\\to"), I2(I4, "ams", "rel", "≱", "\\ngeq", true), I2(I4, "ams", "rel", "≰", "\\nleq", true), I2(I4, I5, Mn, " ", "\\ "), I2(I4, I5, Mn, " ", "\\space"), I2(I4, I5, Mn, " ", "\\nobreakspace"), I2(I3, I5, Mn, " ", "\\ "), I2(I3, I5, Mn, " ", " "), I2(I3, I5, Mn, " ", "\\space"), I2(I3, I5, Mn, " ", "\\nobreakspace"), I2(I4, I5, Mn, null, "\\nobreak"), I2(I4, I5, Mn, null, "\\allowbreak"), I2(I4, I5, Mr, ",", ","), I2(I4, I5, Mr, ";", ";"), I2(I4, "ams", "bin", "⊼", "\\barwedge", true), I2(I4, "ams", "bin", "⊻", "\\veebar", true), I2(I4, I5, "bin", "⊙", "\\odot", true), I2(I4, I5, "bin", "⊕", "\\oplus", true), I2(I4, I5, "bin", "⊗", "\\otimes", true), I2(I4, I5, Mi, "∂", "\\partial", true), I2(I4, I5, "bin", "⊘", "\\oslash", true), I2(I4, "ams", "bin", "⊚", "\\circledcirc", true), I2(I4, "ams", "bin", "⊡", "\\boxdot", true), I2(I4, I5, "bin", "△", "\\bigtriangleup"), I2(I4, I5, "bin", "▽", "\\bigtriangledown"), I2(I4, I5, "bin", "†", "\\dagger"), I2(I4, I5, "bin", "⋄", "\\diamond"), I2(I4, I5, "bin", "⋆", "\\star"), I2(I4, I5, "bin", "◃", "\\triangleleft"), I2(I4, I5, "bin", "▹", "\\triangleright"), I2(I4, I5, Mt, "{", "\\{"), I2(I3, I5, Mi, "{", "\\{"), I2(I3, I5, Mi, "{", "\\textbraceleft"), I2(I4, I5, I7, "}", "\\}"), I2(I3, I5, Mi, "}", "\\}"), I2(I3, I5, Mi, "}", "\\textbraceright"), I2(I4, I5, Mt, "{", "\\lbrace"), I2(I4, I5, I7, "}", "\\rbrace"), I2(I4, I5, Mt, "[", "\\lbrack", true), I2(I3, I5, Mi, "[", "\\lbrack", true), I2(I4, I5, I7, "]", "\\rbrack", true), I2(I3, I5, Mi, "]", "\\rbrack", true), I2(I4, I5, Mt, "(", "\\lparen", true), I2(I4, I5, I7, ")", "\\rparen", true), I2(I3, I5, Mi, "<", "\\textless", true), I2(I3, I5, Mi, ">", "\\textgreater", true), I2(I4, I5, Mt, "⌊", "\\lfloor", true), I2(I4, I5, I7, "⌋", "\\rfloor", true), I2(I4, I5, Mt, "⌈", "\\lceil", true), I2(I4, I5, I7, "⌉", "\\rceil", true), I2(I4, I5, Mi, "\\", "\\backslash"), I2(I4, I5, Mi, "∣", "|"), I2(I4, I5, Mi, "∣", "\\vert"), I2(I3, I5, Mi, "|", "\\textbar", true), I2(I4, I5, Mi, "∥", "\\|"), I2(I4, I5, Mi, "∥", "\\Vert"), I2(I3, I5, Mi, "∥", "\\textbardbl"), I2(I3, I5, Mi, "~", "\\textasciitilde"), I2(I3, I5, Mi, "\\", "\\textbackslash"), I2(I3, I5, Mi, "^", "\\textasciicircum"), I2(I4, I5, "rel", "↑", "\\uparrow", true), I2(I4, I5, "rel", "⇑", "\\Uparrow", true), I2(I4, I5, "rel", "↓", "\\downarrow", true), I2(I4, I5, "rel", "⇓", "\\Downarrow", true), I2(I4, I5, "rel", "↕", "\\updownarrow", true), I2(I4, I5, "rel", "⇕", "\\Updownarrow", true), I2(I4, I5, Me, "∐", "\\coprod"), I2(I4, I5, Me, "⋁", "\\bigvee"), I2(I4, I5, Me, "⋀", "\\bigwedge"), I2(I4, I5, Me, "⨄", "\\biguplus"), I2(I4, I5, Me, "⋂", "\\bigcap"), I2(I4, I5, Me, "⋃", "\\bigcup"), I2(I4, I5, Me, "∫", "\\int"), I2(I4, I5, Me, "∫", "\\intop"), I2(I4, I5, Me, "∬", "\\iint"), I2(I4, I5, Me, "∭", "\\iiint"), I2(I4, I5, Me, "∏", "\\prod"), I2(I4, I5, Me, "∑", "\\sum"), I2(I4, I5, Me, "⨂", "\\bigotimes"), I2(I4, I5, Me, "⨁", "\\bigoplus"), I2(I4, I5, Me, "⨀", "\\bigodot"), I2(I4, I5, Me, "∮", "\\oint"), I2(I4, I5, Me, "∯", "\\oiint"), I2(I4, I5, Me, "∰", "\\oiiint"), I2(I4, I5, Me, "⨆", "\\bigsqcup"), I2(I4, I5, Me, "∫", "\\smallint"), I2(I3, I5, I8, "…", "\\textellipsis"), I2(I4, I5, I8, "…", "\\mathellipsis"), I2(I3, I5, I8, "…", "\\ldots", true), I2(I4, I5, I8, "…", "\\ldots", true), I2(I4, I5, I8, "⋯", "\\@cdots", true), I2(I4, I5, I8, "⋱", "\\ddots", true), I2(I4, I5, Mi, "⋮", "\\varvdots"), I2(I4, I5, I6, "ˊ", "\\acute"), I2(I4, I5, I6, "ˋ", "\\grave"), I2(I4, I5, I6, "¨", "\\ddot"), I2(I4, I5, I6, "~", "\\tilde"), I2(I4, I5, I6, "ˉ", "\\bar"), I2(I4, I5, I6, "˘", "\\breve"), I2(I4, I5, I6, "ˇ", "\\check"), I2(I4, I5, I6, "^", "\\hat"), I2(I4, I5, I6, "⃗", "\\vec"), I2(I4, I5, I6, "˙", "\\dot"), I2(I4, I5, I6, "˚", "\\mathring"), I2(I4, I5, I9, "", "\\@imath"), I2(I4, I5, I9, "", "\\@jmath"), I2(I4, I5, Mi, "ı", "ı"), I2(I4, I5, Mi, "ȷ", "ȷ"), I2(I3, I5, Mi, "ı", "\\i", true), I2(I3, I5, Mi, "ȷ", "\\j", true), I2(I3, I5, Mi, "ß", "\\ss", true), I2(I3, I5, Mi, "æ", "\\ae", true), I2(I3, I5, Mi, "œ", "\\oe", true), I2(I3, I5, Mi, "ø", "\\o", true), I2(I3, I5, Mi, "Æ", "\\AE", true), I2(I3, I5, Mi, "Œ", "\\OE", true), I2(I3, I5, Mi, "Ø", "\\O", true), I2(I3, I5, I6, "ˊ", "\\'"), I2(I3, I5, I6, "ˋ", "\\`"), I2(I3, I5, I6, "ˆ", "\\^"), I2(I3, I5, I6, "˜", "\\~"), I2(I3, I5, I6, "ˉ", "\\="), I2(I3, I5, I6, "˘", "\\u"), I2(I3, I5, I6, "˙", "\\."), I2(I3, I5, I6, "¸", "\\c"), I2(I3, I5, I6, "˚", "\\r"), I2(I3, I5, I6, "ˇ", "\\v"), I2(I3, I5, I6, "¨", '\\"'), I2(I3, I5, I6, "˝", "\\H"), I2(I3, I5, I6, "◯", "\\textcircled");
var Ma = { "--": true, "---": true, "``": true, "''": true };
I2(I3, I5, Mi, "–", "--", true), I2(I3, I5, Mi, "–", "\\textendash"), I2(I3, I5, Mi, "—", "---", true), I2(I3, I5, Mi, "—", "\\textemdash"), I2(I3, I5, Mi, "‘", "`", true), I2(I3, I5, Mi, "‘", "\\textquoteleft"), I2(I3, I5, Mi, "’", "'", true), I2(I3, I5, Mi, "’", "\\textquoteright"), I2(I3, I5, Mi, "“", "``", true), I2(I3, I5, Mi, "“", "\\textquotedblleft"), I2(I3, I5, Mi, "”", "''", true), I2(I3, I5, Mi, "”", "\\textquotedblright"), I2(I4, I5, Mi, "°", "\\degree", true), I2(I3, I5, Mi, "°", "\\degree"), I2(I3, I5, Mi, "°", "\\textdegree", true), I2(I4, I5, Mi, "£", "\\pounds"), I2(I4, I5, Mi, "£", "\\mathsterling", true), I2(I3, I5, Mi, "£", "\\pounds"), I2(I3, I5, Mi, "£", "\\textsterling", true), I2(I4, "ams", Mi, "✠", "\\maltese"), I2(I3, "ams", Mi, "✠", "\\maltese");
var Ms = '0123456789/@."';
for (t9 = 0; t9 < Ms.length; t9++) I2(I4, I5, Mi, t8 = Ms.charAt(t9), t8);
var Mo = '0123456789!@*()-=+";:?/.,';
for (rt = 0; rt < Mo.length; rt++) I2(I3, I5, Mi, re = Mo.charAt(rt), re);
var Ml = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
for (rn = 0; rn < Ml.length; rn++) I2(I4, I5, I9, rr = Ml.charAt(rn), rr), I2(I3, I5, Mi, rr, rr);
I2(I4, "ams", Mi, "C", "ℂ"), I2(I3, "ams", Mi, "C", "ℂ"), I2(I4, "ams", Mi, "H", "ℍ"), I2(I3, "ams", Mi, "H", "ℍ"), I2(I4, "ams", Mi, "N", "ℕ"), I2(I3, "ams", Mi, "N", "ℕ"), I2(I4, "ams", Mi, "P", "ℙ"), I2(I3, "ams", Mi, "P", "ℙ"), I2(I4, "ams", Mi, "Q", "ℚ"), I2(I3, "ams", Mi, "Q", "ℚ"), I2(I4, "ams", Mi, "R", "ℝ"), I2(I3, "ams", Mi, "R", "ℝ"), I2(I4, "ams", Mi, "Z", "ℤ"), I2(I3, "ams", Mi, "Z", "ℤ"), I2(I4, I5, I9, "h", "ℎ"), I2(I3, I5, I9, "h", "ℎ");
var Mc = "";
for (ra = 0; ra < Ml.length; ra++) I2(I4, I5, I9, ri = Ml.charAt(ra), Mc = String.fromCharCode(55349, 56320 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56372 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56424 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56580 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56684 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56736 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56788 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56840 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56944 + ra)), I2(I3, I5, Mi, ri, Mc), ra < 26 && (I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56632 + ra)), I2(I3, I5, Mi, ri, Mc), I2(I4, I5, I9, ri, Mc = String.fromCharCode(55349, 56476 + ra)), I2(I3, I5, Mi, ri, Mc));
for (I2(I4, I5, I9, "k", Mc = String.fromCharCode(55349, 56668)), I2(I3, I5, Mi, "k", Mc), ro = 0; ro < 10; ro++) I2(I4, I5, I9, rs = ro.toString(), Mc = String.fromCharCode(55349, 57294 + ro)), I2(I3, I5, Mi, rs, Mc), I2(I4, I5, I9, rs, Mc = String.fromCharCode(55349, 57314 + ro)), I2(I3, I5, Mi, rs, Mc), I2(I4, I5, I9, rs, Mc = String.fromCharCode(55349, 57324 + ro)), I2(I3, I5, Mi, rs, Mc), I2(I4, I5, I9, rs, Mc = String.fromCharCode(55349, 57334 + ro)), I2(I3, I5, Mi, rs, Mc);
var Mh = "ÐÞþ";
for (rc = 0; rc < Mh.length; rc++) I2(I4, I5, I9, rl = Mh.charAt(rc), rl), I2(I3, I5, Mi, rl, rl);
var Mu = [["mathbf", "textbf", "Main-Bold"], ["mathbf", "textbf", "Main-Bold"], ["mathnormal", "textit", "Math-Italic"], ["mathnormal", "textit", "Math-Italic"], ["boldsymbol", "boldsymbol", "Main-BoldItalic"], ["boldsymbol", "boldsymbol", "Main-BoldItalic"], ["mathscr", "textscr", "Script-Regular"], ["", "", ""], ["", "", ""], ["", "", ""], ["mathfrak", "textfrak", "Fraktur-Regular"], ["mathfrak", "textfrak", "Fraktur-Regular"], ["mathbb", "textbb", "AMS-Regular"], ["mathbb", "textbb", "AMS-Regular"], ["mathboldfrak", "textboldfrak", "Fraktur-Regular"], ["mathboldfrak", "textboldfrak", "Fraktur-Regular"], ["mathsf", "textsf", "SansSerif-Regular"], ["mathsf", "textsf", "SansSerif-Regular"], ["mathboldsf", "textboldsf", "SansSerif-Bold"], ["mathboldsf", "textboldsf", "SansSerif-Bold"], ["mathitsf", "textitsf", "SansSerif-Italic"], ["mathitsf", "textitsf", "SansSerif-Italic"], ["", "", ""], ["", "", ""], ["mathtt", "texttt", "Typewriter-Regular"], ["mathtt", "texttt", "Typewriter-Regular"]], Md = [["mathbf", "textbf", "Main-Bold"], ["", "", ""], ["mathsf", "textsf", "SansSerif-Regular"], ["mathboldsf", "textboldsf", "SansSerif-Bold"], ["mathtt", "texttt", "Typewriter-Regular"]], Mp = iM(function(e30, t10) {
  var r10 = (e30.charCodeAt(0) - 55296) * 1024 + (e30.charCodeAt(1) - 56320) + 65536, n10 = "math" === t10 ? 0 : 1;
  if (119808 <= r10 && r10 < 120484) {
    var i10 = Math.floor((r10 - 119808) / 26);
    return [Mu[i10][2], Mu[i10][n10]];
  }
  if (120782 <= r10 && r10 <= 120831) {
    var a10 = Math.floor((r10 - 120782) / 10);
    return [Md[a10][2], Md[a10][n10]];
  }
  if (120485 === r10 || 120486 === r10) return [Mu[0][2], Mu[0][n10]];
  if (120486 < r10 && r10 < 120782) return ["", ""];
  throw new LY("Unsupported character: " + e30);
}, "wideCharacterFont"), Mf = iM(function(e30, t10, r10) {
  return I1[r10][e30] && I1[r10][e30].replace && (e30 = I1[r10][e30].replace), { value: e30, metrics: IE(e30, t10, r10) };
}, "lookupSymbol"), Mg = iM(function(e30, t10, r10, n10, i10) {
  var a10, s10 = Mf(e30, t10, r10), o10 = s10.metrics;
  if (e30 = s10.value, o10) {
    var l10 = o10.italic;
    ("text" === r10 || n10 && "mathit" === n10.font) && (l10 = 0), a10 = new IY(e30, o10.height, o10.depth, l10, o10.skew, o10.width, i10);
  } else "undefined" != typeof console && console.warn("No character metrics " + ("for '" + e30 + "' in style '" + t10) + "' and mode '" + r10 + "'"), a10 = new IY(e30, 0, 0, 0, 0, 0, i10);
  if (n10) {
    a10.maxFontSize = n10.sizeMultiplier, n10.style.isTight() && a10.classes.push("mtight");
    var h10 = n10.getColor();
    h10 && (a10.style.color = h10);
  }
  return a10;
}, "makeSymbol"), Mm = iM(function(e30, t10, r10, n10) {
  return (void 0 === n10 && (n10 = []), "boldsymbol" === r10.font && Mf(e30, "Main-Bold", t10).metrics) ? Mg(e30, "Main-Bold", t10, r10, n10.concat(["mathbf"])) : "\\" === e30 || "main" === I1[t10][e30].font ? Mg(e30, "Main-Regular", t10, r10, n10) : Mg(e30, "AMS-Regular", t10, r10, n10.concat(["amsrm"]));
}, "mathsym"), My = iM(function(e30, t10, r10, n10, i10) {
  return "textord" !== i10 && Mf(e30, "Math-BoldItalic", t10).metrics ? { fontName: "Math-BoldItalic", fontClass: "boldsymbol" } : { fontName: "Main-Bold", fontClass: "mathbf" };
}, "boldsymbol"), Mv = iM(function(e30, t10, r10) {
  var n10 = e30.mode, i10 = e30.text, a10 = ["mord"], s10 = "math" === n10 || "text" === n10 && t10.font, o10 = s10 ? t10.font : t10.fontFamily, l10 = "", h10 = "";
  if (55349 === i10.charCodeAt(0) && ([l10, h10] = Mp(i10, n10)), l10.length > 0) return Mg(i10, l10, n10, t10, a10.concat(h10));
  if (o10) {
    if ("boldsymbol" === o10) {
      var u10, d10, p10 = My(i10, n10, t10, a10, r10);
      u10 = p10.fontName, d10 = [p10.fontClass];
    } else s10 ? (u10 = MN[o10].fontName, d10 = [o10]) : (u10 = MM(o10, t10.fontWeight, t10.fontShape), d10 = [o10, t10.fontWeight, t10.fontShape]);
    if (Mf(i10, u10, n10).metrics) return Mg(i10, u10, n10, t10, a10.concat(d10));
    if (Ma.hasOwnProperty(i10) && "Typewriter" === u10.slice(0, 10)) {
      for (var f10 = [], g10 = 0; g10 < i10.length; g10++) f10.push(Mg(i10[g10], u10, n10, t10, a10.concat(d10)));
      return MC(f10);
    }
  }
  if ("mathord" === r10) return Mg(i10, "Math-Italic", n10, t10, a10.concat(["mathnormal"]));
  if ("textord" === r10) {
    var y10 = I1[n10][i10] && I1[n10][i10].font;
    if ("ams" === y10) return Mg(i10, MM("amsrm", t10.fontWeight, t10.fontShape), n10, t10, a10.concat("amsrm", t10.fontWeight, t10.fontShape));
    if ("main" === y10 || !y10) return Mg(i10, MM("textrm", t10.fontWeight, t10.fontShape), n10, t10, a10.concat(t10.fontWeight, t10.fontShape));
    var v10 = MM(y10, t10.fontWeight, t10.fontShape);
    return Mg(i10, v10, n10, t10, a10.concat(v10, t10.fontWeight, t10.fontShape));
  }
  throw Error("unexpected type: " + r10 + " in makeOrd");
}, "makeOrd"), Mx = iM((e30, t10) => {
  if (IF(e30.classes) !== IF(t10.classes) || e30.skew !== t10.skew || e30.maxFontSize !== t10.maxFontSize) return false;
  if (1 === e30.classes.length) {
    var r10 = e30.classes[0];
    if ("mbin" === r10 || "mord" === r10) return false;
  }
  for (var n10 in e30.style) if (e30.style.hasOwnProperty(n10) && e30.style[n10] !== t10.style[n10]) return false;
  for (var i10 in t10.style) if (t10.style.hasOwnProperty(i10) && e30.style[i10] !== t10.style[i10]) return false;
  return true;
}, "canCombine"), Mb = iM((e30) => {
  for (var t10 = 0; t10 < e30.length - 1; t10++) {
    var r10 = e30[t10], n10 = e30[t10 + 1];
    r10 instanceof IY && n10 instanceof IY && Mx(r10, n10) && (r10.text += n10.text, r10.height = Math.max(r10.height, n10.height), r10.depth = Math.max(r10.depth, n10.depth), r10.italic = n10.italic, e30.splice(t10 + 1, 1), t10--);
  }
  return e30;
}, "tryCombineChars"), Mk = iM(function(e30) {
  for (var t10 = 0, r10 = 0, n10 = 0, i10 = 0; i10 < e30.children.length; i10++) {
    var a10 = e30.children[i10];
    a10.height > t10 && (t10 = a10.height), a10.depth > r10 && (r10 = a10.depth), a10.maxFontSize > n10 && (n10 = a10.maxFontSize);
  }
  e30.height = t10, e30.depth = r10, e30.maxFontSize = n10;
}, "sizeElementFromChildren"), Mw = iM(function(e30, t10, r10, n10) {
  var i10 = new IU(e30, t10, r10, n10);
  return Mk(i10), i10;
}, "makeSpan"), M_ = iM((e30, t10, r10, n10) => new IU(e30, t10, r10, n10), "makeSvgSpan"), MT = iM(function(e30, t10, r10) {
  var n10 = Mw([e30], [], t10);
  return n10.height = Math.max(r10 || t10.fontMetrics().defaultRuleThickness, t10.minRuleThickness), n10.style.borderBottomWidth = IB(n10.height), n10.maxFontSize = 1, n10;
}, "makeLineSpan"), MS = iM(function(e30, t10, r10, n10) {
  var i10 = new IW(e30, t10, r10, n10);
  return Mk(i10), i10;
}, "makeAnchor"), MC = iM(function(e30) {
  var t10 = new Iw(e30);
  return Mk(t10), t10;
}, "makeFragment"), ME = iM(function(e30, t10) {
  return e30 instanceof Iw ? Mw([], [e30], t10) : e30;
}, "wrapFragment"), MA = iM(function(e30) {
  if ("individualShift" === e30.positionType) {
    for (var t10, r10 = e30.children, n10 = [r10[0]], i10 = -r10[0].shift - r10[0].elem.depth, a10 = i10, s10 = 1; s10 < r10.length; s10++) {
      var o10 = -r10[s10].shift - a10 - r10[s10].elem.depth, l10 = o10 - (r10[s10 - 1].elem.height + r10[s10 - 1].elem.depth);
      a10 += o10, n10.push({ type: "kern", size: l10 }), n10.push(r10[s10]);
    }
    return { children: n10, depth: i10 };
  }
  if ("top" === e30.positionType) {
    for (var h10 = e30.positionData, u10 = 0; u10 < e30.children.length; u10++) {
      var d10 = e30.children[u10];
      h10 -= "kern" === d10.type ? d10.size : d10.elem.height + d10.elem.depth;
    }
    t10 = h10;
  } else if ("bottom" === e30.positionType) t10 = -e30.positionData;
  else {
    var p10 = e30.children[0];
    if ("elem" !== p10.type) throw Error('First child must have type "elem".');
    if ("shift" === e30.positionType) t10 = -p10.elem.depth - e30.positionData;
    else if ("firstBaseline" === e30.positionType) t10 = -p10.elem.depth;
    else throw Error("Invalid positionType " + e30.positionType + ".");
  }
  return { children: e30.children, depth: t10 };
}, "getVListChildrenAndDepth"), ML = iM(function(e30, t10) {
  for (var r10, { children: n10, depth: i10 } = MA(e30), a10 = 0, s10 = 0; s10 < n10.length; s10++) {
    var o10 = n10[s10];
    if ("elem" === o10.type) {
      var l10 = o10.elem;
      a10 = Math.max(a10, l10.maxFontSize, l10.height);
    }
  }
  a10 += 2;
  var h10 = Mw(["pstrut"], []);
  h10.style.height = IB(a10);
  for (var u10 = [], d10 = i10, p10 = i10, f10 = i10, g10 = 0; g10 < n10.length; g10++) {
    var y10 = n10[g10];
    if ("kern" === y10.type) f10 += y10.size;
    else {
      var v10 = y10.elem, x10 = Mw(y10.wrapperClasses || [], [h10, v10], void 0, y10.wrapperStyle || {});
      x10.style.top = IB(-a10 - f10 - v10.depth), y10.marginLeft && (x10.style.marginLeft = y10.marginLeft), y10.marginRight && (x10.style.marginRight = y10.marginRight), u10.push(x10), f10 += v10.height + v10.depth;
    }
    d10 = Math.min(d10, f10), p10 = Math.max(p10, f10);
  }
  var b10 = Mw(["vlist"], u10);
  if (b10.style.height = IB(p10), d10 < 0) {
    var k10 = Mw([], []), w10 = Mw(["vlist"], [k10]);
    w10.style.height = IB(-d10);
    var _10 = Mw(["vlist-s"], [new IY("​")]);
    r10 = [Mw(["vlist-r"], [b10, _10]), Mw(["vlist-r"], [w10])];
  } else r10 = [Mw(["vlist-r"], [b10])];
  var T10 = Mw(["vlist-t"], r10);
  return 2 === r10.length && T10.classes.push("vlist-t2"), T10.height = p10, T10.depth = -d10, T10;
}, "makeVList"), MI = iM((e30, t10) => {
  var r10 = Mw(["mspace"], [], t10), n10 = IP(e30, t10);
  return r10.style.marginRight = IB(n10), r10;
}, "makeGlue"), MM = iM(function(e30, t10, r10) {
  var n10 = "";
  switch (e30) {
    case "amsrm":
      n10 = "AMS";
      break;
    case "textrm":
      n10 = "Main";
      break;
    case "textsf":
      n10 = "SansSerif";
      break;
    case "texttt":
      n10 = "Typewriter";
      break;
    default:
      n10 = e30;
  }
  return n10 + "-" + ("textbf" === t10 && "textit" === r10 ? "BoldItalic" : "textbf" === t10 ? "Bold" : "textit" === t10 ? "Italic" : "Regular");
}, "retrieveTextFontName"), MN = { mathbf: { variant: "bold", fontName: "Main-Bold" }, mathrm: { variant: "normal", fontName: "Main-Regular" }, textit: { variant: "italic", fontName: "Main-Italic" }, mathit: { variant: "italic", fontName: "Main-Italic" }, mathnormal: { variant: "italic", fontName: "Math-Italic" }, mathbb: { variant: "double-struck", fontName: "AMS-Regular" }, mathcal: { variant: "script", fontName: "Caligraphic-Regular" }, mathfrak: { variant: "fraktur", fontName: "Fraktur-Regular" }, mathscr: { variant: "script", fontName: "Script-Regular" }, mathsf: { variant: "sans-serif", fontName: "SansSerif-Regular" }, mathtt: { variant: "monospace", fontName: "Typewriter-Regular" } }, MR = { vec: ["vec", 0.471, 0.714], oiintSize1: ["oiintSize1", 0.957, 0.499], oiintSize2: ["oiintSize2", 1.472, 0.659], oiiintSize1: ["oiiintSize1", 1.304, 0.499], oiiintSize2: ["oiiintSize2", 1.98, 0.659] }, MD = iM(function(e30, t10) {
  var [r10, n10, i10] = MR[e30], a10 = M_(["overlay"], [new IG([new IX(r10)], { width: IB(n10), height: IB(i10), style: "width:" + IB(n10), viewBox: "0 0 " + 1e3 * n10 + " " + 1e3 * i10, preserveAspectRatio: "xMinYMin" })], t10);
  return a10.height = i10, a10.style.height = IB(i10), a10.style.width = IB(n10), a10;
}, "staticSvg"), MO = { fontMap: MN, makeSymbol: Mg, mathsym: Mm, makeSpan: Mw, makeSvgSpan: M_, makeLineSpan: MT, makeAnchor: MS, makeFragment: MC, wrapFragment: ME, makeVList: ML, makeOrd: Mv, makeGlue: MI, staticSvg: MD, svgData: MR, tryCombineChars: Mb }, M$ = { number: 3, unit: "mu" }, MP = { number: 4, unit: "mu" }, MB = { number: 5, unit: "mu" }, MF = { mord: { mop: M$, mbin: MP, mrel: MB, minner: M$ }, mop: { mord: M$, mop: M$, mrel: MB, minner: M$ }, mbin: { mord: MP, mop: MP, mopen: MP, minner: MP }, mrel: { mord: MB, mop: MB, mopen: MB, minner: MB }, mopen: {}, mclose: { mop: M$, mbin: MP, mrel: MB, minner: M$ }, mpunct: { mord: M$, mop: M$, mrel: MB, mopen: M$, mclose: M$, mpunct: M$, minner: M$ }, minner: { mord: M$, mop: M$, mbin: MP, mrel: MB, mopen: M$, mpunct: M$, minner: M$ } }, Mz = { mord: { mop: M$ }, mop: { mord: M$, mop: M$ }, mbin: {}, mrel: {}, mopen: {}, mclose: { mop: M$ }, mpunct: {}, minner: { mop: M$ } }, Mj = {}, Mq = {}, MU = {};
function MW(e30) {
  for (var { type: t10, names: r10, props: n10, handler: i10, htmlBuilder: a10, mathmlBuilder: s10 } = e30, o10 = { type: t10, numArgs: n10.numArgs, argTypes: n10.argTypes, allowedInArgument: !!n10.allowedInArgument, allowedInText: !!n10.allowedInText, allowedInMath: void 0 === n10.allowedInMath || n10.allowedInMath, numOptionalArgs: n10.numOptionalArgs || 0, infix: !!n10.infix, primitive: !!n10.primitive, handler: i10 }, l10 = 0; l10 < r10.length; ++l10) Mj[r10[l10]] = o10;
  t10 && (a10 && (Mq[t10] = a10), s10 && (MU[t10] = s10));
}
function MV(e30) {
  var { type: t10, htmlBuilder: r10, mathmlBuilder: n10 } = e30;
  MW({ type: t10, names: [], props: { numArgs: 0 }, handler() {
    throw Error("Should never be called.");
  }, htmlBuilder: r10, mathmlBuilder: n10 });
}
iM(MW, "defineFunction"), iM(MV, "defineFunctionBuilders");
var MH = iM(function(e30) {
  return "ordgroup" === e30.type && 1 === e30.body.length ? e30.body[0] : e30;
}, "normalizeArgument"), MY = iM(function(e30) {
  return "ordgroup" === e30.type ? e30.body : [e30];
}, "ordargument"), MG = MO.makeSpan, MX = ["leftmost", "mbin", "mopen", "mrel", "mop", "mpunct"], MK = ["rightmost", "mrel", "mclose", "mpunct"], MZ = { display: Is.DISPLAY, text: Is.TEXT, script: Is.SCRIPT, scriptscript: Is.SCRIPTSCRIPT }, MQ = { mord: "mord", mop: "mop", mbin: "mbin", mrel: "mrel", mopen: "mopen", mclose: "mclose", mpunct: "mpunct", minner: "minner" }, MJ = iM(function(e30, t10, r10, n10) {
  void 0 === n10 && (n10 = [null, null]);
  for (var i10 = [], a10 = 0; a10 < e30.length; a10++) {
    var s10 = M5(e30[a10], t10);
    if (s10 instanceof Iw) {
      var o10 = s10.children;
      i10.push(...o10);
    } else i10.push(s10);
  }
  if (MO.tryCombineChars(i10), !r10) return i10;
  var l10 = t10;
  if (1 === e30.length) {
    var h10 = e30[0];
    "sizing" === h10.type ? l10 = t10.havingSize(h10.size) : "styling" === h10.type && (l10 = t10.havingStyle(MZ[h10.style]));
  }
  var u10 = MG([n10[0] || "leftmost"], [], t10), d10 = MG([n10[1] || "rightmost"], [], t10), p10 = "root" === r10;
  return M0(i10, (e31, t11) => {
    var r11 = t11.classes[0], n11 = e31.classes[0];
    "mbin" === r11 && L3.contains(MK, n11) ? t11.classes[0] = "mord" : "mbin" === n11 && L3.contains(MX, r11) && (e31.classes[0] = "mord");
  }, { node: u10 }, d10, p10), M0(i10, (e31, t11) => {
    var r11 = M4(t11), n11 = M4(e31), i11 = r11 && n11 ? e31.hasClass("mtight") ? Mz[r11][n11] : MF[r11][n11] : null;
    if (i11) return MO.makeGlue(i11, l10);
  }, { node: u10 }, d10, p10), i10;
}, "buildExpression"), M0 = iM(function e19(t10, r10, n10, i10, a10) {
  i10 && t10.push(i10);
  for (var s10 = 0; s10 < t10.length; s10++) {
    let i11;
    var o10 = t10[s10], l10 = M1(o10);
    if (l10) {
      e19(l10.children, r10, n10, null, a10);
      continue;
    }
    var h10 = !o10.hasClass("mspace");
    if (h10) {
      var u10 = r10(o10, n10.node);
      u10 && (n10.insertAfter ? n10.insertAfter(u10) : (t10.unshift(u10), s10++));
    }
    h10 ? n10.node = o10 : a10 && o10.hasClass("newline") && (n10.node = MG(["leftmost"])), n10.insertAfter = (i11 = s10, (e30) => {
      t10.splice(i11 + 1, 0, e30), s10++;
    });
  }
  i10 && t10.pop();
}, "traverseNonSpaceNodes"), M1 = iM(function(e30) {
  return e30 instanceof Iw || e30 instanceof IW || e30 instanceof IU && e30.hasClass("enclosing") ? e30 : null;
}, "checkPartialGroup"), M2 = iM(function e20(t10, r10) {
  var n10 = M1(t10);
  if (n10) {
    var i10 = n10.children;
    if (i10.length) {
      if ("right" === r10) return e20(i10[i10.length - 1], "right");
      if ("left" === r10) return e20(i10[0], "left");
    }
  }
  return t10;
}, "getOutermostNode"), M4 = iM(function(e30, t10) {
  return e30 ? (t10 && (e30 = M2(e30, t10)), MQ[e30.classes[0]] || null) : null;
}, "getTypeOfDomTree"), M3 = iM(function(e30, t10) {
  var r10 = ["nulldelimiter"].concat(e30.baseSizingClasses());
  return MG(t10.concat(r10));
}, "makeNullDelimiter"), M5 = iM(function(e30, t10, r10) {
  if (!e30) return MG();
  if (Mq[e30.type]) {
    var n10 = Mq[e30.type](e30, t10);
    if (r10 && t10.size !== r10.size) {
      n10 = MG(t10.sizingClasses(r10), [n10], t10);
      var i10 = t10.sizeMultiplier / r10.sizeMultiplier;
      n10.height *= i10, n10.depth *= i10;
    }
    return n10;
  }
  throw new LY("Got group of unknown type: '" + e30.type + "'");
}, "buildGroup");
function M6(e30, t10) {
  var r10 = MG(["base"], e30, t10), n10 = MG(["strut"]);
  return n10.style.height = IB(r10.height + r10.depth), r10.depth && (n10.style.verticalAlign = IB(-r10.depth)), r10.children.unshift(n10), r10;
}
function M7(e30, t10) {
  var r10, n10, i10 = null;
  1 === e30.length && "tag" === e30[0].type && (i10 = e30[0].tag, e30 = e30[0].body);
  var a10 = MJ(e30, t10, "root");
  2 === a10.length && a10[1].hasClass("tag") && (r10 = a10.pop());
  for (var s10 = [], o10 = [], l10 = 0; l10 < a10.length; l10++) if (o10.push(a10[l10]), a10[l10].hasClass("mbin") || a10[l10].hasClass("mrel") || a10[l10].hasClass("allowbreak")) {
    for (var h10 = false; l10 < a10.length - 1 && a10[l10 + 1].hasClass("mspace") && !a10[l10 + 1].hasClass("newline"); ) l10++, o10.push(a10[l10]), a10[l10].hasClass("nobreak") && (h10 = true);
    h10 || (s10.push(M6(o10, t10)), o10 = []);
  } else a10[l10].hasClass("newline") && (o10.pop(), o10.length > 0 && (s10.push(M6(o10, t10)), o10 = []), s10.push(a10[l10]));
  o10.length > 0 && s10.push(M6(o10, t10)), i10 ? ((n10 = M6(MJ(i10, t10, true))).classes = ["tag"], s10.push(n10)) : r10 && s10.push(r10);
  var u10 = MG(["katex-html"], s10);
  if (u10.setAttribute("aria-hidden", "true"), n10) {
    var d10 = n10.children[0];
    d10.style.height = IB(u10.height + u10.depth), u10.depth && (d10.style.verticalAlign = IB(-u10.depth));
  }
  return u10;
}
function M8(e30) {
  return new Iw(e30);
}
iM(M6, "buildHTMLUnbreakable"), iM(M7, "buildHTML"), iM(M8, "newDocumentFragment");
var M9 = (_T2 = class {
  constructor(e30, t10, r10) {
    this.type = void 0, this.attributes = void 0, this.children = void 0, this.classes = void 0, this.type = e30, this.attributes = {}, this.children = t10 || [], this.classes = r10 || [];
  }
  setAttribute(e30, t10) {
    this.attributes[e30] = t10;
  }
  getAttribute(e30) {
    return this.attributes[e30];
  }
  toNode() {
    var e30 = document.createElementNS("http://www.w3.org/1998/Math/MathML", this.type);
    for (var t10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, t10) && e30.setAttribute(t10, this.attributes[t10]);
    this.classes.length > 0 && (e30.className = IF(this.classes));
    for (var r10 = 0; r10 < this.children.length; r10++) e30.appendChild(this.children[r10].toNode());
    return e30;
  }
  toMarkup() {
    var e30 = "<" + this.type;
    for (var t10 in this.attributes) Object.prototype.hasOwnProperty.call(this.attributes, t10) && (e30 += " " + t10 + '="', e30 += L3.escape(this.attributes[t10]), e30 += '"');
    this.classes.length > 0 && (e30 += ' class ="' + L3.escape(IF(this.classes)) + '"'), e30 += ">";
    for (var r10 = 0; r10 < this.children.length; r10++) e30 += this.children[r10].toMarkup();
    return e30 + ("</" + this.type) + ">";
  }
  toText() {
    return this.children.map((e30) => e30.toText()).join("");
  }
}, _i48 = new WeakMap(), __privateAdd(_T2, _i48, iM(_T2, "MathNode")), _T2), Ne = (_U2 = class {
  constructor(e30) {
    this.text = void 0, this.text = e30;
  }
  toNode() {
    return document.createTextNode(this.text);
  }
  toMarkup() {
    return L3.escape(this.toText());
  }
  toText() {
    return this.text;
  }
}, _i49 = new WeakMap(), __privateAdd(_U2, _i49, iM(_U2, "TextNode")), _U2), Nt = { MathNode: M9, TextNode: Ne, SpaceNode: (_V2 = class {
  constructor(e30) {
    this.width = void 0, this.character = void 0, this.width = e30, e30 >= 0.05555 && e30 <= 0.05556 ? this.character = " " : e30 >= 0.1666 && e30 <= 0.1667 ? this.character = " " : e30 >= 0.2222 && e30 <= 0.2223 ? this.character = " " : e30 >= 0.2777 && e30 <= 0.2778 ? this.character = "  " : e30 >= -0.05556 && e30 <= -0.05555 ? this.character = " ⁣" : e30 >= -0.1667 && e30 <= -0.1666 ? this.character = " ⁣" : e30 >= -0.2223 && e30 <= -0.2222 ? this.character = " ⁣" : e30 >= -0.2778 && e30 <= -0.2777 ? this.character = " ⁣" : this.character = null;
  }
  toNode() {
    if (this.character) return document.createTextNode(this.character);
    var e30 = document.createElementNS("http://www.w3.org/1998/Math/MathML", "mspace");
    return e30.setAttribute("width", IB(this.width)), e30;
  }
  toMarkup() {
    return this.character ? "<mtext>" + this.character + "</mtext>" : '<mspace width="' + IB(this.width) + '"/>';
  }
  toText() {
    return this.character ? this.character : " ";
  }
}, _i50 = new WeakMap(), __privateAdd(_V2, _i50, iM(_V2, "SpaceNode")), _V2), newDocumentFragment: M8 }, Nr = iM(function(e30, t10, r10) {
  return I1[t10][e30] && I1[t10][e30].replace && 55349 !== e30.charCodeAt(0) && !(Ma.hasOwnProperty(e30) && r10 && (r10.fontFamily && "tt" === r10.fontFamily.slice(4, 6) || r10.font && "tt" === r10.font.slice(4, 6))) && (e30 = I1[t10][e30].replace), new Nt.TextNode(e30);
}, "makeText"), Nn = iM(function(e30) {
  return 1 === e30.length ? e30[0] : new Nt.MathNode("mrow", e30);
}, "makeRow"), Ni = iM(function(e30, t10) {
  if ("texttt" === t10.fontFamily) return "monospace";
  if ("textsf" === t10.fontFamily) return "textit" === t10.fontShape && "textbf" === t10.fontWeight ? "sans-serif-bold-italic" : "textit" === t10.fontShape ? "sans-serif-italic" : "textbf" === t10.fontWeight ? "bold-sans-serif" : "sans-serif";
  if ("textit" === t10.fontShape && "textbf" === t10.fontWeight) return "bold-italic";
  if ("textit" === t10.fontShape) return "italic";
  if ("textbf" === t10.fontWeight) return "bold";
  var r10 = t10.font;
  if (!r10 || "mathnormal" === r10) return null;
  var n10 = e30.mode;
  if ("mathit" === r10) return "italic";
  if ("boldsymbol" === r10) return "textord" === e30.type ? "bold" : "bold-italic";
  if ("mathbf" === r10) return "bold";
  if ("mathbb" === r10) return "double-struck";
  if ("mathfrak" === r10) return "fraktur";
  if ("mathscr" === r10 || "mathcal" === r10) return "script";
  if ("mathsf" === r10) return "sans-serif";
  else if ("mathtt" === r10) return "monospace";
  var i10 = e30.text;
  return L3.contains(["\\imath", "\\jmath"], i10) ? null : (I1[n10][i10] && I1[n10][i10].replace && (i10 = I1[n10][i10].replace), IE(i10, MO.fontMap[r10].fontName, n10)) ? MO.fontMap[r10].variant : null;
}, "getVariant"), Na = iM(function(e30, t10, r10) {
  if (1 === e30.length) {
    var n10, i10 = No(e30[0], t10);
    return r10 && i10 instanceof M9 && "mo" === i10.type && (i10.setAttribute("lspace", "0em"), i10.setAttribute("rspace", "0em")), [i10];
  }
  for (var a10 = [], s10 = 0; s10 < e30.length; s10++) {
    var o10 = No(e30[s10], t10);
    if (o10 instanceof M9 && n10 instanceof M9) {
      if ("mtext" === o10.type && "mtext" === n10.type && o10.getAttribute("mathvariant") === n10.getAttribute("mathvariant") || "mn" === o10.type && "mn" === n10.type) {
        n10.children.push(...o10.children);
        continue;
      }
      if ("mi" === o10.type && 1 === o10.children.length && "mn" === n10.type) {
        var l10 = o10.children[0];
        if (l10 instanceof Ne && "." === l10.text) {
          n10.children.push(...o10.children);
          continue;
        }
      } else if ("mi" === n10.type && 1 === n10.children.length) {
        var h10 = n10.children[0];
        if (h10 instanceof Ne && "̸" === h10.text && ("mo" === o10.type || "mi" === o10.type || "mn" === o10.type)) {
          var u10 = o10.children[0];
          u10 instanceof Ne && u10.text.length > 0 && (u10.text = u10.text.slice(0, 1) + "̸" + u10.text.slice(1), a10.pop());
        }
      }
    }
    a10.push(o10), n10 = o10;
  }
  return a10;
}, "buildExpression"), Ns = iM(function(e30, t10, r10) {
  return Nn(Na(e30, t10, r10));
}, "buildExpressionRow"), No = iM(function(e30, t10) {
  if (!e30) return new Nt.MathNode("mrow");
  if (MU[e30.type]) return MU[e30.type](e30, t10);
  throw new LY("Got group of unknown type: '" + e30.type + "'");
}, "buildGroup");
function Nl(e30, t10, r10, n10, i10) {
  var a10, s10 = Na(e30, r10);
  a10 = 1 === s10.length && s10[0] instanceof M9 && L3.contains(["mrow", "mtable"], s10[0].type) ? s10[0] : new Nt.MathNode("mrow", s10);
  var o10 = new Nt.MathNode("annotation", [new Nt.TextNode(t10)]);
  o10.setAttribute("encoding", "application/x-tex");
  var l10 = new Nt.MathNode("semantics", [a10, o10]), h10 = new Nt.MathNode("math", [l10]);
  return h10.setAttribute("xmlns", "http://www.w3.org/1998/Math/MathML"), n10 && h10.setAttribute("display", "block"), MO.makeSpan([i10 ? "katex" : "katex-mathml"], [h10]);
}
iM(Nl, "buildMathML");
var Nc = iM(function(e30) {
  return new IR({ style: e30.displayMode ? Is.DISPLAY : Is.TEXT, maxSize: e30.maxSize, minRuleThickness: e30.minRuleThickness });
}, "optionsFromSettings"), Nh = iM(function(e30, t10) {
  if (t10.displayMode) {
    var r10 = ["katex-display"];
    t10.leqno && r10.push("leqno"), t10.fleqn && r10.push("fleqn"), e30 = MO.makeSpan(r10, [e30]);
  }
  return e30;
}, "displayWrap"), Nu = iM(function(e30, t10, r10) {
  var n10, i10 = Nc(r10);
  if ("mathml" === r10.output) return Nl(e30, t10, i10, r10.displayMode, true);
  if ("html" === r10.output) {
    var a10 = M7(e30, i10);
    n10 = MO.makeSpan(["katex"], [a10]);
  } else {
    var s10 = Nl(e30, t10, i10, r10.displayMode, false), o10 = M7(e30, i10);
    n10 = MO.makeSpan(["katex"], [s10, o10]);
  }
  return Nh(n10, r10);
}, "buildTree"), Nd = iM(function(e30, t10, r10) {
  var n10 = M7(e30, Nc(r10));
  return Nh(MO.makeSpan(["katex"], [n10]), r10);
}, "buildHTMLTree"), Np = { widehat: "^", widecheck: "ˇ", widetilde: "~", utilde: "~", overleftarrow: "←", underleftarrow: "←", xleftarrow: "←", overrightarrow: "→", underrightarrow: "→", xrightarrow: "→", underbrace: "⏟", overbrace: "⏞", overgroup: "⏠", undergroup: "⏡", overleftrightarrow: "↔", underleftrightarrow: "↔", xleftrightarrow: "↔", Overrightarrow: "⇒", xRightarrow: "⇒", overleftharpoon: "↼", xleftharpoonup: "↼", overrightharpoon: "⇀", xrightharpoonup: "⇀", xLeftarrow: "⇐", xLeftrightarrow: "⇔", xhookleftarrow: "↩", xhookrightarrow: "↪", xmapsto: "↦", xrightharpoondown: "⇁", xleftharpoondown: "↽", xrightleftharpoons: "⇌", xleftrightharpoons: "⇋", xtwoheadleftarrow: "↞", xtwoheadrightarrow: "↠", xlongequal: "=", xtofrom: "⇄", xrightleftarrows: "⇄", xrightequilibrium: "⇌", xleftequilibrium: "⇋", "\\cdrightarrow": "→", "\\cdleftarrow": "←", "\\cdlongequal": "=" }, Nf = iM(function(e30) {
  var t10 = new Nt.MathNode("mo", [new Nt.TextNode(Np[e30.replace(/^\\/, "")])]);
  return t10.setAttribute("stretchy", "true"), t10;
}, "mathMLnode"), Ng = { overrightarrow: [["rightarrow"], 0.888, 522, "xMaxYMin"], overleftarrow: [["leftarrow"], 0.888, 522, "xMinYMin"], underrightarrow: [["rightarrow"], 0.888, 522, "xMaxYMin"], underleftarrow: [["leftarrow"], 0.888, 522, "xMinYMin"], xrightarrow: [["rightarrow"], 1.469, 522, "xMaxYMin"], "\\cdrightarrow": [["rightarrow"], 3, 522, "xMaxYMin"], xleftarrow: [["leftarrow"], 1.469, 522, "xMinYMin"], "\\cdleftarrow": [["leftarrow"], 3, 522, "xMinYMin"], Overrightarrow: [["doublerightarrow"], 0.888, 560, "xMaxYMin"], xRightarrow: [["doublerightarrow"], 1.526, 560, "xMaxYMin"], xLeftarrow: [["doubleleftarrow"], 1.526, 560, "xMinYMin"], overleftharpoon: [["leftharpoon"], 0.888, 522, "xMinYMin"], xleftharpoonup: [["leftharpoon"], 0.888, 522, "xMinYMin"], xleftharpoondown: [["leftharpoondown"], 0.888, 522, "xMinYMin"], overrightharpoon: [["rightharpoon"], 0.888, 522, "xMaxYMin"], xrightharpoonup: [["rightharpoon"], 0.888, 522, "xMaxYMin"], xrightharpoondown: [["rightharpoondown"], 0.888, 522, "xMaxYMin"], xlongequal: [["longequal"], 0.888, 334, "xMinYMin"], "\\cdlongequal": [["longequal"], 3, 334, "xMinYMin"], xtwoheadleftarrow: [["twoheadleftarrow"], 0.888, 334, "xMinYMin"], xtwoheadrightarrow: [["twoheadrightarrow"], 0.888, 334, "xMaxYMin"], overleftrightarrow: [["leftarrow", "rightarrow"], 0.888, 522], overbrace: [["leftbrace", "midbrace", "rightbrace"], 1.6, 548], underbrace: [["leftbraceunder", "midbraceunder", "rightbraceunder"], 1.6, 548], underleftrightarrow: [["leftarrow", "rightarrow"], 0.888, 522], xleftrightarrow: [["leftarrow", "rightarrow"], 1.75, 522], xLeftrightarrow: [["doubleleftarrow", "doublerightarrow"], 1.75, 560], xrightleftharpoons: [["leftharpoondownplus", "rightharpoonplus"], 1.75, 716], xleftrightharpoons: [["leftharpoonplus", "rightharpoondownplus"], 1.75, 716], xhookleftarrow: [["leftarrow", "righthook"], 1.08, 522], xhookrightarrow: [["lefthook", "rightarrow"], 1.08, 522], overlinesegment: [["leftlinesegment", "rightlinesegment"], 0.888, 522], underlinesegment: [["leftlinesegment", "rightlinesegment"], 0.888, 522], overgroup: [["leftgroup", "rightgroup"], 0.888, 342], undergroup: [["leftgroupunder", "rightgroupunder"], 0.888, 342], xmapsto: [["leftmapsto", "rightarrow"], 1.5, 522], xtofrom: [["leftToFrom", "rightToFrom"], 1.75, 528], xrightleftarrows: [["baraboveleftarrow", "rightarrowabovebar"], 1.75, 901], xrightequilibrium: [["baraboveshortleftharpoon", "rightharpoonaboveshortbar"], 1.75, 716], xleftequilibrium: [["shortbaraboveleftharpoon", "shortrightharpoonabovebar"], 1.75, 716] }, Nm = iM(function(e30) {
  return "ordgroup" === e30.type ? e30.body.length : 1;
}, "groupLength"), Ny = iM(function(e30, t10) {
  function r10() {
    var r11 = 4e5, n11 = e30.label.slice(1);
    if (L3.contains(["widehat", "widecheck", "widetilde", "utilde"], n11)) {
      var i11, a11, s10, o10 = Nm(e30.base);
      if (o10 > 5) "widehat" === n11 || "widecheck" === n11 ? (i11 = 420, r11 = 2364, s10 = 0.42, a11 = n11 + "4") : (i11 = 312, r11 = 2340, s10 = 0.34, a11 = "tilde4");
      else {
        var l10 = [1, 1, 2, 2, 3, 3][o10];
        "widehat" === n11 || "widecheck" === n11 ? (r11 = [0, 1062, 2364, 2364, 2364][l10], i11 = [0, 239, 300, 360, 420][l10], s10 = [0, 0.24, 0.3, 0.3, 0.36, 0.42][l10], a11 = n11 + l10) : (r11 = [0, 600, 1033, 2339, 2340][l10], i11 = [0, 260, 286, 306, 312][l10], s10 = [0, 0.26, 0.286, 0.3, 0.306, 0.34][l10], a11 = "tilde" + l10);
      }
      var h10 = new IG([new IX(a11)], { width: "100%", height: IB(s10), viewBox: "0 0 " + r11 + " " + i11, preserveAspectRatio: "none" });
      return { span: MO.makeSvgSpan([], [h10], t10), minWidth: 0, height: s10 };
    }
    var u10, d10, p10 = [], f10 = Ng[n11], [g10, y10, v10] = f10, x10 = v10 / 1e3, b10 = g10.length;
    if (1 === b10) u10 = ["hide-tail"], d10 = [f10[3]];
    else if (2 === b10) u10 = ["halfarrow-left", "halfarrow-right"], d10 = ["xMinYMin", "xMaxYMin"];
    else if (3 === b10) u10 = ["brace-left", "brace-center", "brace-right"], d10 = ["xMinYMin", "xMidYMin", "xMaxYMin"];
    else throw Error("Correct katexImagesData or update code here to support\n                    " + b10 + " children.");
    for (var k10 = 0; k10 < b10; k10++) {
      var w10 = new IG([new IX(g10[k10])], { width: "400em", height: IB(x10), viewBox: "0 0 " + r11 + " " + v10, preserveAspectRatio: d10[k10] + " slice" }), _10 = MO.makeSvgSpan([u10[k10]], [w10], t10);
      if (1 === b10) return { span: _10, minWidth: y10, height: x10 };
      _10.style.height = IB(x10), p10.push(_10);
    }
    return { span: MO.makeSpan(["stretchy"], p10, t10), minWidth: y10, height: x10 };
  }
  iM(r10, "buildSvgSpan_");
  var { span: n10, minWidth: i10, height: a10 } = r10();
  return n10.height = a10, n10.style.height = IB(a10), i10 > 0 && (n10.style.minWidth = IB(i10)), n10;
}, "svgSpan"), Nv = { encloseSpan: iM(function(e30, t10, r10, n10, i10) {
  var a10, s10 = e30.height + e30.depth + r10 + n10;
  if (/fbox|color|angl/.test(t10)) {
    if (a10 = MO.makeSpan(["stretchy", t10], [], i10), "fbox" === t10) {
      var o10 = i10.color && i10.getColor();
      o10 && (a10.style.borderColor = o10);
    }
  } else {
    var l10 = [];
    /^[bx]cancel$/.test(t10) && l10.push(new IK({ x1: "0", y1: "0", x2: "100%", y2: "100%", "stroke-width": "0.046em" })), /^x?cancel$/.test(t10) && l10.push(new IK({ x1: "0", y1: "100%", x2: "100%", y2: "0", "stroke-width": "0.046em" }));
    var h10 = new IG(l10, { width: "100%", height: IB(s10) });
    a10 = MO.makeSvgSpan([], [h10], i10);
  }
  return a10.height = s10, a10.style.height = IB(s10), a10;
}, "encloseSpan"), mathMLnode: Nf, svgSpan: Ny };
function Nx(e30, t10) {
  if (!e30 || e30.type !== t10) throw Error("Expected node of type " + t10 + ", but got " + (e30 ? "node of type " + e30.type : String(e30)));
  return e30;
}
function Nb(e30) {
  var t10 = Nk(e30);
  if (!t10) throw Error("Expected node of symbol group type, but got " + (e30 ? "node of type " + e30.type : String(e30)));
  return t10;
}
function Nk(e30) {
  return e30 && ("atom" === e30.type || I0.hasOwnProperty(e30.type)) ? e30 : null;
}
iM(Nx, "assertNodeType"), iM(Nb, "assertSymbolNodeType"), iM(Nk, "checkSymbolNodeType");
var Nw = iM((e30, t10) => {
  e30 && "supsub" === e30.type ? (o10 = (l10 = Nx(e30.base, "accent")).base, e30.base = o10, h10 = IQ(M5(e30, t10)), e30.base = l10) : o10 = (l10 = Nx(e30, "accent")).base;
  var r10 = M5(o10, t10.havingCrampedStyle()), n10 = l10.isShifty && L3.isCharacterBox(o10), i10 = 0;
  n10 && (i10 = IZ(M5(L3.getBaseElem(o10), t10.havingCrampedStyle())).skew);
  var a10 = "\\c" === l10.label, s10 = a10 ? r10.height + r10.depth : Math.min(r10.height, t10.fontMetrics().xHeight);
  if (l10.isStretchy) u10 = Nv.svgSpan(l10, t10), u10 = MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }, { type: "elem", elem: u10, wrapperClasses: ["svg-align"], wrapperStyle: i10 > 0 ? { width: "calc(100% - " + IB(2 * i10) + ")", marginLeft: IB(2 * i10) } : void 0 }] }, t10);
  else {
    "\\vec" === l10.label ? (d10 = MO.staticSvg("vec", t10), p10 = MO.svgData.vec[1]) : ((d10 = IZ(d10 = MO.makeOrd({ mode: l10.mode, text: l10.label }, t10, "textord"))).italic = 0, p10 = d10.width, a10 && (s10 += d10.depth)), u10 = MO.makeSpan(["accent-body"], [d10]);
    var o10, l10, h10, u10, d10, p10, f10 = "\\textcircled" === l10.label;
    f10 && (u10.classes.push("accent-full"), s10 = r10.height);
    var g10 = i10;
    f10 || (g10 -= p10 / 2), u10.style.left = IB(g10), "\\textcircled" === l10.label && (u10.style.top = ".2em"), u10 = MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }, { type: "kern", size: -s10 }, { type: "elem", elem: u10 }] }, t10);
  }
  var y10 = MO.makeSpan(["mord", "accent"], [u10], t10);
  return h10 ? (h10.children[0] = y10, h10.height = Math.max(y10.height, h10.height), h10.classes[0] = "mord", h10) : y10;
}, "htmlBuilder$a"), N_ = iM((e30, t10) => {
  var r10 = e30.isStretchy ? Nv.mathMLnode(e30.label) : new Nt.MathNode("mo", [Nr(e30.label, e30.mode)]), n10 = new Nt.MathNode("mover", [No(e30.base, t10), r10]);
  return n10.setAttribute("accent", "true"), n10;
}, "mathmlBuilder$9"), NT = new RegExp(["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot", "\\mathring"].map((e30) => "\\" + e30).join("|"));
MW({ type: "accent", names: ["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot", "\\mathring", "\\widecheck", "\\widehat", "\\widetilde", "\\overrightarrow", "\\overleftarrow", "\\Overrightarrow", "\\overleftrightarrow", "\\overgroup", "\\overlinesegment", "\\overleftharpoon", "\\overrightharpoon"], props: { numArgs: 1 }, handler: iM((e30, t10) => {
  var r10 = MH(t10[0]), n10 = !NT.test(e30.funcName), i10 = !n10 || "\\widehat" === e30.funcName || "\\widetilde" === e30.funcName || "\\widecheck" === e30.funcName;
  return { type: "accent", mode: e30.parser.mode, label: e30.funcName, isStretchy: n10, isShifty: i10, base: r10 };
}, "handler"), htmlBuilder: Nw, mathmlBuilder: N_ }), MW({ type: "accent", names: ["\\'", "\\`", "\\^", "\\~", "\\=", "\\u", "\\.", '\\"', "\\c", "\\r", "\\H", "\\v", "\\textcircled"], props: { numArgs: 1, allowedInText: true, allowedInMath: true, argTypes: ["primitive"] }, handler: iM((e30, t10) => {
  var r10 = t10[0], n10 = e30.parser.mode;
  return "math" === n10 && (e30.parser.settings.reportNonstrict("mathVsTextAccents", "LaTeX's accent " + e30.funcName + " works only in text mode"), n10 = "text"), { type: "accent", mode: n10, label: e30.funcName, isStretchy: false, isShifty: true, base: r10 };
}, "handler"), htmlBuilder: Nw, mathmlBuilder: N_ }), MW({ type: "accentUnder", names: ["\\underleftarrow", "\\underrightarrow", "\\underleftrightarrow", "\\undergroup", "\\underlinesegment", "\\utilde"], props: { numArgs: 1 }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0];
  return { type: "accentUnder", mode: r10.mode, label: n10, base: i10 };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = M5(e30.base, t10), n10 = Nv.svgSpan(e30, t10), i10 = "\\utilde" === e30.label ? 0.12 : 0, a10 = MO.makeVList({ positionType: "top", positionData: r10.height, children: [{ type: "elem", elem: n10, wrapperClasses: ["svg-align"] }, { type: "kern", size: i10 }, { type: "elem", elem: r10 }] }, t10);
  return MO.makeSpan(["mord", "accentunder"], [a10], t10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = Nv.mathMLnode(e30.label), n10 = new Nt.MathNode("munder", [No(e30.base, t10), r10]);
  return n10.setAttribute("accentunder", "true"), n10;
}, "mathmlBuilder") });
var NS = iM((e30) => {
  var t10 = new Nt.MathNode("mpadded", e30 ? [e30] : []);
  return t10.setAttribute("width", "+0.6em"), t10.setAttribute("lspace", "0.3em"), t10;
}, "paddedNode");
MW({ type: "xArrow", names: ["\\xleftarrow", "\\xrightarrow", "\\xLeftarrow", "\\xRightarrow", "\\xleftrightarrow", "\\xLeftrightarrow", "\\xhookleftarrow", "\\xhookrightarrow", "\\xmapsto", "\\xrightharpoondown", "\\xrightharpoonup", "\\xleftharpoondown", "\\xleftharpoonup", "\\xrightleftharpoons", "\\xleftrightharpoons", "\\xlongequal", "\\xtwoheadrightarrow", "\\xtwoheadleftarrow", "\\xtofrom", "\\xrightleftarrows", "\\xrightequilibrium", "\\xleftequilibrium", "\\\\cdrightarrow", "\\\\cdleftarrow", "\\\\cdlongequal"], props: { numArgs: 1, numOptionalArgs: 1 }, handler(e30, t10, r10) {
  var { parser: n10, funcName: i10 } = e30;
  return { type: "xArrow", mode: n10.mode, label: i10, body: t10[0], below: r10[0] };
}, htmlBuilder(e30, t10) {
  var r10, n10, i10 = t10.style, a10 = t10.havingStyle(i10.sup()), s10 = MO.wrapFragment(M5(e30.body, a10, t10), t10), o10 = "\\x" === e30.label.slice(0, 2) ? "x" : "cd";
  s10.classes.push(o10 + "-arrow-pad"), e30.below && (a10 = t10.havingStyle(i10.sub()), (r10 = MO.wrapFragment(M5(e30.below, a10, t10), t10)).classes.push(o10 + "-arrow-pad"));
  var l10 = Nv.svgSpan(e30, t10), h10 = -t10.fontMetrics().axisHeight + 0.5 * l10.height, u10 = -t10.fontMetrics().axisHeight - 0.5 * l10.height - 0.111;
  if ((s10.depth > 0.25 || "\\xleftequilibrium" === e30.label) && (u10 -= s10.depth), r10) {
    var d10 = -t10.fontMetrics().axisHeight + r10.height + 0.5 * l10.height + 0.111;
    n10 = MO.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: s10, shift: u10 }, { type: "elem", elem: l10, shift: h10 }, { type: "elem", elem: r10, shift: d10 }] }, t10);
  } else n10 = MO.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: s10, shift: u10 }, { type: "elem", elem: l10, shift: h10 }] }, t10);
  return n10.children[0].children[0].children[1].classes.push("svg-align"), MO.makeSpan(["mrel", "x-arrow"], [n10], t10);
}, mathmlBuilder(e30, t10) {
  var r10, n10 = Nv.mathMLnode(e30.label);
  if (n10.setAttribute("minsize", "x" === e30.label.charAt(0) ? "1.75em" : "3.0em"), e30.body) {
    var i10 = NS(No(e30.body, t10));
    if (e30.below) {
      var a10 = NS(No(e30.below, t10));
      r10 = new Nt.MathNode("munderover", [n10, a10, i10]);
    } else r10 = new Nt.MathNode("mover", [n10, i10]);
  } else if (e30.below) {
    var s10 = NS(No(e30.below, t10));
    r10 = new Nt.MathNode("munder", [n10, s10]);
  } else r10 = NS(), r10 = new Nt.MathNode("mover", [n10, r10]);
  return r10;
} });
var NC = MO.makeSpan;
function NE(e30, t10) {
  var r10 = MJ(e30.body, t10, true);
  return NC([e30.mclass], r10, t10);
}
function NA(e30, t10) {
  var r10, n10 = Na(e30.body, t10);
  return "minner" === e30.mclass ? r10 = new Nt.MathNode("mpadded", n10) : "mord" === e30.mclass ? e30.isCharacterBox ? (r10 = n10[0]).type = "mi" : r10 = new Nt.MathNode("mi", n10) : (e30.isCharacterBox ? (r10 = n10[0]).type = "mo" : r10 = new Nt.MathNode("mo", n10), "mbin" === e30.mclass ? (r10.attributes.lspace = "0.22em", r10.attributes.rspace = "0.22em") : "mpunct" === e30.mclass ? (r10.attributes.lspace = "0em", r10.attributes.rspace = "0.17em") : "mopen" === e30.mclass || "mclose" === e30.mclass ? (r10.attributes.lspace = "0em", r10.attributes.rspace = "0em") : "minner" === e30.mclass && (r10.attributes.lspace = "0.0556em", r10.attributes.width = "+0.1111em")), r10;
}
iM(NE, "htmlBuilder$9"), iM(NA, "mathmlBuilder$8"), MW({ type: "mclass", names: ["\\mathord", "\\mathbin", "\\mathrel", "\\mathopen", "\\mathclose", "\\mathpunct", "\\mathinner"], props: { numArgs: 1, primitive: true }, handler(e30, t10) {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0];
  return { type: "mclass", mode: r10.mode, mclass: "m" + n10.slice(5), body: MY(i10), isCharacterBox: L3.isCharacterBox(i10) };
}, htmlBuilder: NE, mathmlBuilder: NA });
var NL = iM((e30) => {
  var t10 = "ordgroup" === e30.type && e30.body.length ? e30.body[0] : e30;
  return "atom" === t10.type && ("bin" === t10.family || "rel" === t10.family) ? "m" + t10.family : "mord";
}, "binrelClass");
MW({ type: "mclass", names: ["\\@binrel"], props: { numArgs: 2 }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "mclass", mode: r10.mode, mclass: NL(t10[0]), body: MY(t10[1]), isCharacterBox: L3.isCharacterBox(t10[1]) };
} }), MW({ type: "mclass", names: ["\\stackrel", "\\overset", "\\underset"], props: { numArgs: 2 }, handler(e30, t10) {
  var r10, { parser: n10, funcName: i10 } = e30, a10 = t10[1], s10 = t10[0];
  r10 = "\\stackrel" !== i10 ? NL(a10) : "mrel";
  var o10 = { type: "op", mode: a10.mode, limits: true, alwaysHandleSupSub: true, parentIsSupSub: false, symbol: false, suppressBaseShift: "\\stackrel" !== i10, body: MY(a10) }, l10 = { type: "supsub", mode: s10.mode, base: o10, sup: "\\underset" === i10 ? null : s10, sub: "\\underset" === i10 ? s10 : null };
  return { type: "mclass", mode: n10.mode, mclass: r10, body: [l10], isCharacterBox: L3.isCharacterBox(l10) };
}, htmlBuilder: NE, mathmlBuilder: NA }), MW({ type: "pmb", names: ["\\pmb"], props: { numArgs: 1, allowedInText: true }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "pmb", mode: r10.mode, mclass: NL(t10[0]), body: MY(t10[0]) };
}, htmlBuilder(e30, t10) {
  var r10 = MJ(e30.body, t10, true), n10 = MO.makeSpan([e30.mclass], r10, t10);
  return n10.style.textShadow = "0.02em 0.01em 0.04px", n10;
}, mathmlBuilder(e30, t10) {
  var r10 = Na(e30.body, t10), n10 = new Nt.MathNode("mstyle", r10);
  return n10.setAttribute("style", "text-shadow: 0.02em 0.01em 0.04px"), n10;
} });
var NI = { ">": "\\\\cdrightarrow", "<": "\\\\cdleftarrow", "=": "\\\\cdlongequal", A: "\\uparrow", V: "\\downarrow", "|": "\\Vert", ".": "no arrow" }, NM = iM(() => ({ type: "styling", body: [], mode: "math", style: "display" }), "newCell"), NN = iM((e30) => "textord" === e30.type && "@" === e30.text, "isStartOfArrow"), NR = iM((e30, t10) => ("mathord" === e30.type || "atom" === e30.type) && e30.text === t10, "isLabelEnd");
function ND(e30, t10, r10) {
  var n10 = NI[e30];
  switch (n10) {
    case "\\\\cdrightarrow":
    case "\\\\cdleftarrow":
      return r10.callFunction(n10, [t10[0]], [t10[1]]);
    case "\\uparrow":
    case "\\downarrow":
      var i10 = r10.callFunction("\\\\cdleft", [t10[0]], []), a10 = r10.callFunction("\\Big", [{ type: "atom", text: n10, mode: "math", family: "rel" }], []), s10 = r10.callFunction("\\\\cdright", [t10[1]], []);
      return r10.callFunction("\\\\cdparent", [{ type: "ordgroup", mode: "math", body: [i10, a10, s10] }], []);
    case "\\\\cdlongequal":
      return r10.callFunction("\\\\cdlongequal", [], []);
    case "\\Vert":
      return r10.callFunction("\\Big", [{ type: "textord", text: "\\Vert", mode: "math" }], []);
    default:
      return { type: "textord", text: " ", mode: "math" };
  }
}
function NO(e30) {
  var t10 = [];
  for (e30.gullet.beginGroup(), e30.gullet.macros.set("\\cr", "\\\\\\relax"), e30.gullet.beginGroup(); ; ) {
    t10.push(e30.parseExpression(false, "\\\\")), e30.gullet.endGroup(), e30.gullet.beginGroup();
    var r10 = e30.fetch().text;
    if ("&" === r10 || "\\\\" === r10) e30.consume();
    else if ("\\end" === r10) {
      0 === t10[t10.length - 1].length && t10.pop();
      break;
    } else throw new LY("Expected \\\\ or \\cr or \\end", e30.nextToken);
  }
  for (var n10 = [], i10 = [n10], a10 = 0; a10 < t10.length; a10++) {
    for (var s10 = t10[a10], o10 = NM(), l10 = 0; l10 < s10.length; l10++) if (NN(s10[l10])) {
      n10.push(o10);
      var h10 = Nb(s10[l10 += 1]).text, u10 = [, ,];
      if (u10[0] = { type: "ordgroup", mode: "math", body: [] }, u10[1] = { type: "ordgroup", mode: "math", body: [] }, "=|.".indexOf(h10) > -1) ;
      else if ("<>AV".indexOf(h10) > -1) for (var d10 = 0; d10 < 2; d10++) {
        for (var p10 = true, f10 = l10 + 1; f10 < s10.length; f10++) {
          if (NR(s10[f10], h10)) {
            p10 = false, l10 = f10;
            break;
          }
          if (NN(s10[f10])) throw new LY("Missing a " + h10 + " character to complete a CD arrow.", s10[f10]);
          u10[d10].body.push(s10[f10]);
        }
        if (p10) throw new LY("Missing a " + h10 + " character to complete a CD arrow.", s10[l10]);
      }
      else throw new LY('Expected one of "<>AV=|." after @', s10[l10]);
      var g10 = { type: "styling", body: [ND(h10, u10, e30)], mode: "math", style: "display" };
      n10.push(g10), o10 = NM();
    } else o10.body.push(s10[l10]);
    a10 % 2 == 0 ? n10.push(o10) : n10.shift(), n10 = [], i10.push(n10);
  }
  e30.gullet.endGroup(), e30.gullet.endGroup();
  var y10 = Array(i10[0].length).fill({ type: "align", align: "c", pregap: 0.25, postgap: 0.25 });
  return { type: "array", mode: "math", body: i10, arraystretch: 1, addJot: true, rowGaps: [null], cols: y10, colSeparationType: "CD", hLinesBeforeRow: Array(i10.length + 1).fill([]) };
}
iM(ND, "cdArrow"), iM(NO, "parseCD"), MW({ type: "cdlabel", names: ["\\\\cdleft", "\\\\cdright"], props: { numArgs: 1 }, handler(e30, t10) {
  var { parser: r10, funcName: n10 } = e30;
  return { type: "cdlabel", mode: r10.mode, side: n10.slice(4), label: t10[0] };
}, htmlBuilder(e30, t10) {
  var r10 = t10.havingStyle(t10.style.sup()), n10 = MO.wrapFragment(M5(e30.label, r10, t10), t10);
  return n10.classes.push("cd-label-" + e30.side), n10.style.bottom = IB(0.8 - n10.depth), n10.height = 0, n10.depth = 0, n10;
}, mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mrow", [No(e30.label, t10)]);
  return (r10 = new Nt.MathNode("mpadded", [r10])).setAttribute("width", "0"), "left" === e30.side && r10.setAttribute("lspace", "-1width"), r10.setAttribute("voffset", "0.7em"), (r10 = new Nt.MathNode("mstyle", [r10])).setAttribute("displaystyle", "false"), r10.setAttribute("scriptlevel", "1"), r10;
} }), MW({ type: "cdlabelparent", names: ["\\\\cdparent"], props: { numArgs: 1 }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "cdlabelparent", mode: r10.mode, fragment: t10[0] };
}, htmlBuilder(e30, t10) {
  var r10 = MO.wrapFragment(M5(e30.fragment, t10), t10);
  return r10.classes.push("cd-vert-arrow"), r10;
}, mathmlBuilder: (e30, t10) => new Nt.MathNode("mrow", [No(e30.fragment, t10)]) }), MW({ type: "textord", names: ["\\@char"], props: { numArgs: 1, allowedInText: true }, handler(e30, t10) {
  for (var r10, { parser: n10 } = e30, i10 = Nx(t10[0], "ordgroup").body, a10 = "", s10 = 0; s10 < i10.length; s10++) a10 += Nx(i10[s10], "textord").text;
  var o10 = parseInt(a10);
  if (isNaN(o10)) throw new LY("\\@char has non-numeric argument " + a10);
  if (o10 < 0 || o10 >= 1114111) throw new LY("\\@char with invalid code point " + a10);
  return o10 <= 65535 ? r10 = String.fromCharCode(o10) : (o10 -= 65536, r10 = String.fromCharCode((o10 >> 10) + 55296, (1023 & o10) + 56320)), { type: "textord", mode: n10.mode, text: r10 };
} });
var N$ = iM((e30, t10) => {
  var r10 = MJ(e30.body, t10.withColor(e30.color), false);
  return MO.makeFragment(r10);
}, "htmlBuilder$8"), NP = iM((e30, t10) => {
  var r10 = Na(e30.body, t10.withColor(e30.color)), n10 = new Nt.MathNode("mstyle", r10);
  return n10.setAttribute("mathcolor", e30.color), n10;
}, "mathmlBuilder$7");
MW({ type: "color", names: ["\\textcolor"], props: { numArgs: 2, allowedInText: true, argTypes: ["color", "original"] }, handler(e30, t10) {
  var { parser: r10 } = e30, n10 = Nx(t10[0], "color-token").color, i10 = t10[1];
  return { type: "color", mode: r10.mode, color: n10, body: MY(i10) };
}, htmlBuilder: N$, mathmlBuilder: NP }), MW({ type: "color", names: ["\\color"], props: { numArgs: 1, allowedInText: true, argTypes: ["color"] }, handler(e30, t10) {
  var { parser: r10, breakOnTokenText: n10 } = e30, i10 = Nx(t10[0], "color-token").color;
  r10.gullet.macros.set("\\current@color", i10);
  var a10 = r10.parseExpression(true, n10);
  return { type: "color", mode: r10.mode, color: i10, body: a10 };
}, htmlBuilder: N$, mathmlBuilder: NP }), MW({ type: "cr", names: ["\\\\"], props: { numArgs: 0, numOptionalArgs: 0, allowedInText: true }, handler(e30, t10, r10) {
  var { parser: n10 } = e30, i10 = "[" === n10.gullet.future().text ? n10.parseSizeGroup(true) : null, a10 = !n10.settings.displayMode || !n10.settings.useStrictBehavior("newLineInDisplayMode", "In LaTeX, \\\\ or \\newline does nothing in display mode");
  return { type: "cr", mode: n10.mode, newLine: a10, size: i10 && Nx(i10, "size").value };
}, htmlBuilder(e30, t10) {
  var r10 = MO.makeSpan(["mspace"], [], t10);
  return e30.newLine && (r10.classes.push("newline"), e30.size && (r10.style.marginTop = IB(IP(e30.size, t10)))), r10;
}, mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mspace");
  return e30.newLine && (r10.setAttribute("linebreak", "newline"), e30.size && r10.setAttribute("height", IB(IP(e30.size, t10)))), r10;
} });
var NB = { "\\global": "\\global", "\\long": "\\\\globallong", "\\\\globallong": "\\\\globallong", "\\def": "\\gdef", "\\gdef": "\\gdef", "\\edef": "\\xdef", "\\xdef": "\\xdef", "\\let": "\\\\globallet", "\\futurelet": "\\\\globalfuture" }, NF = iM((e30) => {
  var t10 = e30.text;
  if (/^(?:[\\{}$&#^_]|EOF)$/.test(t10)) throw new LY("Expected a control sequence", e30);
  return t10;
}, "checkControlSequence"), Nz = iM((e30) => {
  var t10 = e30.gullet.popToken();
  return "=" === t10.text && " " === (t10 = e30.gullet.popToken()).text && (t10 = e30.gullet.popToken()), t10;
}, "getRHS"), Nj = iM((e30, t10, r10, n10) => {
  var i10 = e30.gullet.macros.get(r10.text);
  null == i10 && (r10.noexpand = true, i10 = { tokens: [r10], numArgs: 0, unexpandable: !e30.gullet.isExpandable(r10.text) }), e30.gullet.macros.set(t10, i10, n10);
}, "letCommand");
MW({ type: "internal", names: ["\\global", "\\long", "\\\\globallong"], props: { numArgs: 0, allowedInText: true }, handler(e30) {
  var { parser: t10, funcName: r10 } = e30;
  t10.consumeSpaces();
  var n10 = t10.fetch();
  if (NB[n10.text]) return ("\\global" === r10 || "\\\\globallong" === r10) && (n10.text = NB[n10.text]), Nx(t10.parseFunction(), "internal");
  throw new LY("Invalid token after macro prefix", n10);
} }), MW({ type: "internal", names: ["\\def", "\\gdef", "\\edef", "\\xdef"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(e30) {
  var t10, { parser: r10, funcName: n10 } = e30, i10 = r10.gullet.popToken(), a10 = i10.text;
  if (/^(?:[\\{}$&#^_]|EOF)$/.test(a10)) throw new LY("Expected a control sequence", i10);
  for (var s10 = 0, o10 = [[]]; "{" !== r10.gullet.future().text; ) if ("#" === (i10 = r10.gullet.popToken()).text) {
    if ("{" === r10.gullet.future().text) {
      t10 = r10.gullet.future(), o10[s10].push("{");
      break;
    }
    if (i10 = r10.gullet.popToken(), !/^[1-9]$/.test(i10.text)) throw new LY('Invalid argument number "' + i10.text + '"');
    if (parseInt(i10.text) !== s10 + 1) throw new LY('Argument number "' + i10.text + '" out of order');
    s10++, o10.push([]);
  } else if ("EOF" === i10.text) throw new LY("Expected a macro definition");
  else o10[s10].push(i10.text);
  var { tokens: l10 } = r10.gullet.consumeArg();
  return t10 && l10.unshift(t10), ("\\edef" === n10 || "\\xdef" === n10) && (l10 = r10.gullet.expandTokens(l10)).reverse(), r10.gullet.macros.set(a10, { tokens: l10, numArgs: s10, delimiters: o10 }, n10 === NB[n10]), { type: "internal", mode: r10.mode };
} }), MW({ type: "internal", names: ["\\let", "\\\\globallet"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(e30) {
  var { parser: t10, funcName: r10 } = e30, n10 = NF(t10.gullet.popToken());
  t10.gullet.consumeSpaces();
  var i10 = Nz(t10);
  return Nj(t10, n10, i10, "\\\\globallet" === r10), { type: "internal", mode: t10.mode };
} }), MW({ type: "internal", names: ["\\futurelet", "\\\\globalfuture"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(e30) {
  var { parser: t10, funcName: r10 } = e30, n10 = NF(t10.gullet.popToken()), i10 = t10.gullet.popToken(), a10 = t10.gullet.popToken();
  return Nj(t10, n10, a10, "\\\\globalfuture" === r10), t10.gullet.pushToken(a10), t10.gullet.pushToken(i10), { type: "internal", mode: t10.mode };
} });
var Nq = iM(function(e30, t10, r10) {
  var n10 = IE(I1.math[e30] && I1.math[e30].replace || e30, t10, r10);
  if (!n10) throw Error("Unsupported symbol " + e30 + " and font size " + t10 + ".");
  return n10;
}, "getMetrics"), NU = iM(function(e30, t10, r10, n10) {
  var i10 = r10.havingBaseStyle(t10), a10 = MO.makeSpan(n10.concat(i10.sizingClasses(r10)), [e30], r10), s10 = i10.sizeMultiplier / r10.sizeMultiplier;
  return a10.height *= s10, a10.depth *= s10, a10.maxFontSize = i10.sizeMultiplier, a10;
}, "styleWrap"), NW = iM(function(e30, t10, r10) {
  var n10 = t10.havingBaseStyle(r10), i10 = (1 - t10.sizeMultiplier / n10.sizeMultiplier) * t10.fontMetrics().axisHeight;
  e30.classes.push("delimcenter"), e30.style.top = IB(i10), e30.height -= i10, e30.depth += i10;
}, "centerSpan"), NV = iM(function(e30, t10, r10, n10, i10, a10) {
  var s10 = NU(MO.makeSymbol(e30, "Main-Regular", i10, n10), t10, n10, a10);
  return r10 && NW(s10, n10, t10), s10;
}, "makeSmallDelim"), NH = iM(function(e30, t10, r10, n10) {
  return MO.makeSymbol(e30, "Size" + t10 + "-Regular", r10, n10);
}, "mathrmSize"), NY = iM(function(e30, t10, r10, n10, i10, a10) {
  var s10 = NH(e30, t10, i10, n10), o10 = NU(MO.makeSpan(["delimsizing", "size" + t10], [s10], n10), Is.TEXT, n10, a10);
  return r10 && NW(o10, n10, Is.TEXT), o10;
}, "makeLargeDelim"), NG = iM(function(e30, t10, r10) {
  var n10;
  return n10 = "Size1-Regular" === t10 ? "delim-size1" : "delim-size4", { type: "elem", elem: MO.makeSpan(["delimsizinginner", n10], [MO.makeSpan([], [MO.makeSymbol(e30, t10, r10)])]) };
}, "makeGlyphSpan"), NX = iM(function(e30, t10, r10) {
  var n10 = I_["Size4-Regular"][e30.charCodeAt(0)] ? I_["Size4-Regular"][e30.charCodeAt(0)][4] : I_["Size1-Regular"][e30.charCodeAt(0)][4], i10 = new IG([new IX("inner", Ix(e30, Math.round(1e3 * t10)))], { width: IB(n10), height: IB(t10), style: "width:" + IB(n10), viewBox: "0 0 " + 1e3 * n10 + " " + Math.round(1e3 * t10), preserveAspectRatio: "xMinYMin" }), a10 = MO.makeSvgSpan([], [i10], r10);
  return a10.height = t10, a10.style.height = IB(t10), a10.style.width = IB(n10), { type: "elem", elem: a10 };
}, "makeInner"), NK = { type: "kern", size: -8e-3 }, NZ = ["|", "\\lvert", "\\rvert", "\\vert"], NQ = ["\\|", "\\lVert", "\\rVert", "\\Vert"], NJ = iM(function(e30, t10, r10, n10, i10, a10) {
  var s10, o10, l10, h10, u10 = "", d10 = 0;
  s10 = l10 = h10 = e30, o10 = null;
  var p10 = "Size1-Regular";
  "\\uparrow" === e30 ? l10 = h10 = "⏐" : "\\Uparrow" === e30 ? l10 = h10 = "‖" : "\\downarrow" === e30 ? s10 = l10 = "⏐" : "\\Downarrow" === e30 ? s10 = l10 = "‖" : "\\updownarrow" === e30 ? (s10 = "\\uparrow", l10 = "⏐", h10 = "\\downarrow") : "\\Updownarrow" === e30 ? (s10 = "\\Uparrow", l10 = "‖", h10 = "\\Downarrow") : L3.contains(NZ, e30) ? (l10 = "∣", u10 = "vert", d10 = 333) : L3.contains(NQ, e30) ? (l10 = "∥", u10 = "doublevert", d10 = 556) : "[" === e30 || "\\lbrack" === e30 ? (s10 = "⎡", l10 = "⎢", h10 = "⎣", p10 = "Size4-Regular", u10 = "lbrack", d10 = 667) : "]" === e30 || "\\rbrack" === e30 ? (s10 = "⎤", l10 = "⎥", h10 = "⎦", p10 = "Size4-Regular", u10 = "rbrack", d10 = 667) : "\\lfloor" === e30 || "⌊" === e30 ? (l10 = s10 = "⎢", h10 = "⎣", p10 = "Size4-Regular", u10 = "lfloor", d10 = 667) : "\\lceil" === e30 || "⌈" === e30 ? (s10 = "⎡", l10 = h10 = "⎢", p10 = "Size4-Regular", u10 = "lceil", d10 = 667) : "\\rfloor" === e30 || "⌋" === e30 ? (l10 = s10 = "⎥", h10 = "⎦", p10 = "Size4-Regular", u10 = "rfloor", d10 = 667) : "\\rceil" === e30 || "⌉" === e30 ? (s10 = "⎤", l10 = h10 = "⎥", p10 = "Size4-Regular", u10 = "rceil", d10 = 667) : "(" === e30 || "\\lparen" === e30 ? (s10 = "⎛", l10 = "⎜", h10 = "⎝", p10 = "Size4-Regular", u10 = "lparen", d10 = 875) : ")" === e30 || "\\rparen" === e30 ? (s10 = "⎞", l10 = "⎟", h10 = "⎠", p10 = "Size4-Regular", u10 = "rparen", d10 = 875) : "\\{" === e30 || "\\lbrace" === e30 ? (s10 = "⎧", o10 = "⎨", h10 = "⎩", l10 = "⎪", p10 = "Size4-Regular") : "\\}" === e30 || "\\rbrace" === e30 ? (s10 = "⎫", o10 = "⎬", h10 = "⎭", l10 = "⎪", p10 = "Size4-Regular") : "\\lgroup" === e30 || "⟮" === e30 ? (s10 = "⎧", h10 = "⎩", l10 = "⎪", p10 = "Size4-Regular") : "\\rgroup" === e30 || "⟯" === e30 ? (s10 = "⎫", h10 = "⎭", l10 = "⎪", p10 = "Size4-Regular") : "\\lmoustache" === e30 || "⎰" === e30 ? (s10 = "⎧", h10 = "⎭", l10 = "⎪", p10 = "Size4-Regular") : ("\\rmoustache" === e30 || "⎱" === e30) && (s10 = "⎫", h10 = "⎩", l10 = "⎪", p10 = "Size4-Regular");
  var f10 = Nq(s10, p10, i10), g10 = f10.height + f10.depth, y10 = Nq(l10, p10, i10), v10 = y10.height + y10.depth, x10 = Nq(h10, p10, i10), b10 = x10.height + x10.depth, k10 = 0, w10 = 1;
  if (null !== o10) {
    var _10 = Nq(o10, p10, i10);
    k10 = _10.height + _10.depth, w10 = 2;
  }
  var T10 = g10 + b10 + k10, S10 = Math.max(0, Math.ceil((t10 - T10) / (w10 * v10))), C10 = T10 + S10 * w10 * v10, E10 = n10.fontMetrics().axisHeight;
  r10 && (E10 *= n10.sizeMultiplier);
  var A10 = C10 / 2 - E10, L10 = [];
  if (u10.length > 0) {
    var I10 = Math.round(1e3 * C10), M10 = Ik(u10, Math.round(1e3 * (C10 - g10 - b10))), N10 = new IX(u10, M10), R10 = (d10 / 1e3).toFixed(3) + "em", D10 = (I10 / 1e3).toFixed(3) + "em", O10 = new IG([N10], { width: R10, height: D10, viewBox: "0 0 " + d10 + " " + I10 }), $10 = MO.makeSvgSpan([], [O10], n10);
    $10.height = I10 / 1e3, $10.style.width = R10, $10.style.height = D10, L10.push({ type: "elem", elem: $10 });
  } else {
    if (L10.push(NG(h10, p10, i10)), L10.push(NK), null === o10) L10.push(NX(l10, C10 - g10 - b10 + 0.016, n10));
    else {
      var P10 = (C10 - g10 - b10 - k10) / 2 + 0.016;
      L10.push(NX(l10, P10, n10)), L10.push(NK), L10.push(NG(o10, p10, i10)), L10.push(NK), L10.push(NX(l10, P10, n10));
    }
    L10.push(NK), L10.push(NG(s10, p10, i10));
  }
  var B10 = n10.havingBaseStyle(Is.TEXT), F10 = MO.makeVList({ positionType: "bottom", positionData: A10, children: L10 }, B10);
  return NU(MO.makeSpan(["delimsizing", "mult"], [F10], B10), Is.TEXT, n10, a10);
}, "makeStackedDelim"), N0 = iM(function(e30, t10, r10, n10, i10) {
  var a10 = Iv(e30, n10, r10), s10 = new IG([new IX(e30, a10)], { width: "400em", height: IB(t10), viewBox: "0 0 400000 " + r10, preserveAspectRatio: "xMinYMin slice" });
  return MO.makeSvgSpan(["hide-tail"], [s10], i10);
}, "sqrtSvg"), N1 = iM(function(e30, t10) {
  var r10, n10, i10 = t10.havingBaseSizing(), a10 = Rt("\\surd", e30 * i10.sizeMultiplier, N9, i10), s10 = i10.sizeMultiplier, o10 = Math.max(0, t10.minRuleThickness - t10.fontMetrics().sqrtRuleThickness), l10 = 0, h10 = 0, u10 = 0;
  return "small" === a10.type ? (u10 = 1e3 + 1e3 * o10 + 80, e30 < 1 ? s10 = 1 : e30 < 1.4 && (s10 = 0.7), l10 = (1 + o10 + 0.08) / s10, h10 = (1 + o10) / s10, (r10 = N0("sqrtMain", l10, u10, o10, t10)).style.minWidth = "0.853em", n10 = 0.833 / s10) : "large" === a10.type ? (u10 = 1080 * N5[a10.size], h10 = (N5[a10.size] + o10) / s10, l10 = (N5[a10.size] + o10 + 0.08) / s10, (r10 = N0("sqrtSize" + a10.size, l10, u10, o10, t10)).style.minWidth = "1.02em", n10 = 1 / s10) : (l10 = e30 + o10 + 0.08, h10 = e30 + o10, (r10 = N0("sqrtTall", l10, u10 = Math.floor(1e3 * e30 + o10) + 80, o10, t10)).style.minWidth = "0.742em", n10 = 1.056), r10.height = h10, r10.style.height = IB(l10), { span: r10, advanceWidth: n10, ruleWidth: (t10.fontMetrics().sqrtRuleThickness + o10) * s10 };
}, "makeSqrtImage"), N2 = ["(", "\\lparen", ")", "\\rparen", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "⌊", "⌋", "\\lceil", "\\rceil", "⌈", "⌉", "\\surd"], N4 = ["\\uparrow", "\\downarrow", "\\updownarrow", "\\Uparrow", "\\Downarrow", "\\Updownarrow", "|", "\\|", "\\vert", "\\Vert", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "⟮", "⟯", "\\lmoustache", "\\rmoustache", "⎰", "⎱"], N3 = ["<", ">", "\\langle", "\\rangle", "/", "\\backslash", "\\lt", "\\gt"], N5 = [0, 1.2, 1.8, 2.4, 3], N6 = iM(function(e30, t10, r10, n10, i10) {
  if ("<" === e30 || "\\lt" === e30 || "⟨" === e30 ? e30 = "\\langle" : (">" === e30 || "\\gt" === e30 || "⟩" === e30) && (e30 = "\\rangle"), L3.contains(N2, e30) || L3.contains(N3, e30)) return NY(e30, t10, false, r10, n10, i10);
  if (L3.contains(N4, e30)) return NJ(e30, N5[t10], false, r10, n10, i10);
  throw new LY("Illegal delimiter: '" + e30 + "'");
}, "makeSizedDelim"), N7 = [{ type: "small", style: Is.SCRIPTSCRIPT }, { type: "small", style: Is.SCRIPT }, { type: "small", style: Is.TEXT }, { type: "large", size: 1 }, { type: "large", size: 2 }, { type: "large", size: 3 }, { type: "large", size: 4 }], N8 = [{ type: "small", style: Is.SCRIPTSCRIPT }, { type: "small", style: Is.SCRIPT }, { type: "small", style: Is.TEXT }, { type: "stack" }], N9 = [{ type: "small", style: Is.SCRIPTSCRIPT }, { type: "small", style: Is.SCRIPT }, { type: "small", style: Is.TEXT }, { type: "large", size: 1 }, { type: "large", size: 2 }, { type: "large", size: 3 }, { type: "large", size: 4 }, { type: "stack" }], Re = iM(function(e30) {
  if ("small" === e30.type) return "Main-Regular";
  if ("large" === e30.type) return "Size" + e30.size + "-Regular";
  if ("stack" === e30.type) return "Size4-Regular";
  throw Error("Add support for delim type '" + e30.type + "' here.");
}, "delimTypeToFont"), Rt = iM(function(e30, t10, r10, n10) {
  for (var i10 = Math.min(2, 3 - n10.style.size), a10 = i10; a10 < r10.length && "stack" !== r10[a10].type; a10++) {
    var s10 = Nq(e30, Re(r10[a10]), "math"), o10 = s10.height + s10.depth;
    if ("small" === r10[a10].type && (o10 *= n10.havingBaseStyle(r10[a10].style).sizeMultiplier), o10 > t10) return r10[a10];
  }
  return r10[r10.length - 1];
}, "traverseSequence"), Rr = iM(function(e30, t10, r10, n10, i10, a10) {
  "<" === e30 || "\\lt" === e30 || "⟨" === e30 ? e30 = "\\langle" : (">" === e30 || "\\gt" === e30 || "⟩" === e30) && (e30 = "\\rangle"), s10 = L3.contains(N3, e30) ? N7 : L3.contains(N2, e30) ? N9 : N8;
  var s10, o10 = Rt(e30, t10, s10, n10);
  return "small" === o10.type ? NV(e30, o10.style, r10, n10, i10, a10) : "large" === o10.type ? NY(e30, o10.size, r10, n10, i10, a10) : NJ(e30, t10, r10, n10, i10, a10);
}, "makeCustomSizedDelim"), Rn = iM(function(e30, t10, r10, n10, i10, a10) {
  var s10 = n10.fontMetrics().axisHeight * n10.sizeMultiplier, o10 = 5 / n10.fontMetrics().ptPerEm, l10 = Math.max(t10 - s10, r10 + s10);
  return Rr(e30, Math.max(l10 / 500 * 901, 2 * l10 - o10), true, n10, i10, a10);
}, "makeLeftRightDelim"), Ri = { sqrtImage: N1, sizedDelim: N6, sizeToMaxHeight: N5, customSizedDelim: Rr, leftRightDelim: Rn }, Ra = { "\\bigl": { mclass: "mopen", size: 1 }, "\\Bigl": { mclass: "mopen", size: 2 }, "\\biggl": { mclass: "mopen", size: 3 }, "\\Biggl": { mclass: "mopen", size: 4 }, "\\bigr": { mclass: "mclose", size: 1 }, "\\Bigr": { mclass: "mclose", size: 2 }, "\\biggr": { mclass: "mclose", size: 3 }, "\\Biggr": { mclass: "mclose", size: 4 }, "\\bigm": { mclass: "mrel", size: 1 }, "\\Bigm": { mclass: "mrel", size: 2 }, "\\biggm": { mclass: "mrel", size: 3 }, "\\Biggm": { mclass: "mrel", size: 4 }, "\\big": { mclass: "mord", size: 1 }, "\\Big": { mclass: "mord", size: 2 }, "\\bigg": { mclass: "mord", size: 3 }, "\\Bigg": { mclass: "mord", size: 4 } }, Rs = ["(", "\\lparen", ")", "\\rparen", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "⌊", "⌋", "\\lceil", "\\rceil", "⌈", "⌉", "<", ">", "\\langle", "⟨", "\\rangle", "⟩", "\\lt", "\\gt", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "⟮", "⟯", "\\lmoustache", "\\rmoustache", "⎰", "⎱", "/", "\\backslash", "|", "\\vert", "\\|", "\\Vert", "\\uparrow", "\\Uparrow", "\\downarrow", "\\Downarrow", "\\updownarrow", "\\Updownarrow", "."];
function Ro(e30, t10) {
  var r10 = Nk(e30);
  if (r10 && L3.contains(Rs, r10.text)) return r10;
  if (r10) throw new LY("Invalid delimiter '" + r10.text + "' after '" + t10.funcName + "'", e30);
  throw new LY("Invalid delimiter type '" + e30.type + "'", e30);
}
function Rl(e30) {
  if (!e30.body) throw Error("Bug: The leftright ParseNode wasn't fully parsed.");
}
iM(Ro, "checkDelimiter"), MW({ type: "delimsizing", names: ["\\bigl", "\\Bigl", "\\biggl", "\\Biggl", "\\bigr", "\\Bigr", "\\biggr", "\\Biggr", "\\bigm", "\\Bigm", "\\biggm", "\\Biggm", "\\big", "\\Big", "\\bigg", "\\Bigg"], props: { numArgs: 1, argTypes: ["primitive"] }, handler: iM((e30, t10) => {
  var r10 = Ro(t10[0], e30);
  return { type: "delimsizing", mode: e30.parser.mode, size: Ra[e30.funcName].size, mclass: Ra[e30.funcName].mclass, delim: r10.text };
}, "handler"), htmlBuilder: iM((e30, t10) => "." === e30.delim ? MO.makeSpan([e30.mclass]) : Ri.sizedDelim(e30.delim, e30.size, t10, e30.mode, [e30.mclass]), "htmlBuilder"), mathmlBuilder: iM((e30) => {
  var t10 = [];
  "." !== e30.delim && t10.push(Nr(e30.delim, e30.mode));
  var r10 = new Nt.MathNode("mo", t10);
  "mopen" === e30.mclass || "mclose" === e30.mclass ? r10.setAttribute("fence", "true") : r10.setAttribute("fence", "false"), r10.setAttribute("stretchy", "true");
  var n10 = IB(Ri.sizeToMaxHeight[e30.size]);
  return r10.setAttribute("minsize", n10), r10.setAttribute("maxsize", n10), r10;
}, "mathmlBuilder") }), iM(Rl, "assertParsed"), MW({ type: "leftright-right", names: ["\\right"], props: { numArgs: 1, primitive: true }, handler: iM((e30, t10) => {
  var r10 = e30.parser.gullet.macros.get("\\current@color");
  if (r10 && "string" != typeof r10) throw new LY("\\current@color set to non-string in \\right");
  return { type: "leftright-right", mode: e30.parser.mode, delim: Ro(t10[0], e30).text, color: r10 };
}, "handler") }), MW({ type: "leftright", names: ["\\left"], props: { numArgs: 1, primitive: true }, handler: iM((e30, t10) => {
  var r10 = Ro(t10[0], e30), n10 = e30.parser;
  ++n10.leftrightDepth;
  var i10 = n10.parseExpression(false);
  --n10.leftrightDepth, n10.expect("\\right", false);
  var a10 = Nx(n10.parseFunction(), "leftright-right");
  return { type: "leftright", mode: n10.mode, body: i10, left: r10.text, right: a10.delim, rightColor: a10.color };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  Rl(e30);
  for (var r10, n10, i10 = MJ(e30.body, t10, true, ["mopen", "mclose"]), a10 = 0, s10 = 0, o10 = false, l10 = 0; l10 < i10.length; l10++) i10[l10].isMiddle ? o10 = true : (a10 = Math.max(i10[l10].height, a10), s10 = Math.max(i10[l10].depth, s10));
  if (a10 *= t10.sizeMultiplier, s10 *= t10.sizeMultiplier, r10 = "." === e30.left ? M3(t10, ["mopen"]) : Ri.leftRightDelim(e30.left, a10, s10, t10, e30.mode, ["mopen"]), i10.unshift(r10), o10) for (var h10 = 1; h10 < i10.length; h10++) {
    var u10 = i10[h10].isMiddle;
    u10 && (i10[h10] = Ri.leftRightDelim(u10.delim, a10, s10, u10.options, e30.mode, []));
  }
  if ("." === e30.right) n10 = M3(t10, ["mclose"]);
  else {
    var d10 = e30.rightColor ? t10.withColor(e30.rightColor) : t10;
    n10 = Ri.leftRightDelim(e30.right, a10, s10, d10, e30.mode, ["mclose"]);
  }
  return i10.push(n10), MO.makeSpan(["minner"], i10, t10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  Rl(e30);
  var r10 = Na(e30.body, t10);
  if ("." !== e30.left) {
    var n10 = new Nt.MathNode("mo", [Nr(e30.left, e30.mode)]);
    n10.setAttribute("fence", "true"), r10.unshift(n10);
  }
  if ("." !== e30.right) {
    var i10 = new Nt.MathNode("mo", [Nr(e30.right, e30.mode)]);
    i10.setAttribute("fence", "true"), e30.rightColor && i10.setAttribute("mathcolor", e30.rightColor), r10.push(i10);
  }
  return Nn(r10);
}, "mathmlBuilder") }), MW({ type: "middle", names: ["\\middle"], props: { numArgs: 1, primitive: true }, handler: iM((e30, t10) => {
  var r10 = Ro(t10[0], e30);
  if (!e30.parser.leftrightDepth) throw new LY("\\middle without preceding \\left", r10);
  return { type: "middle", mode: e30.parser.mode, delim: r10.text };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10;
  if ("." === e30.delim) r10 = M3(t10, []);
  else {
    r10 = Ri.sizedDelim(e30.delim, 1, t10, e30.mode, []);
    var n10 = { delim: e30.delim, options: t10 };
    r10.isMiddle = n10;
  }
  return r10;
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = "\\vert" === e30.delim || "|" === e30.delim ? Nr("|", "text") : Nr(e30.delim, e30.mode), n10 = new Nt.MathNode("mo", [r10]);
  return n10.setAttribute("fence", "true"), n10.setAttribute("lspace", "0.05em"), n10.setAttribute("rspace", "0.05em"), n10;
}, "mathmlBuilder") });
var Rc = iM((e30, t10) => {
  var r10, n10, i10 = MO.wrapFragment(M5(e30.body, t10), t10), a10 = e30.label.slice(1), s10 = t10.sizeMultiplier, o10 = 0, l10 = L3.isCharacterBox(e30.body);
  if ("sout" === a10) (r10 = MO.makeSpan(["stretchy", "sout"])).height = t10.fontMetrics().defaultRuleThickness / s10, o10 = -0.5 * t10.fontMetrics().xHeight;
  else if ("phase" === a10) {
    var h10 = IP({ number: 0.6, unit: "pt" }, t10), u10 = IP({ number: 0.35, unit: "ex" }, t10);
    s10 /= t10.havingBaseSizing().sizeMultiplier;
    var d10 = i10.height + i10.depth + h10 + u10;
    i10.style.paddingLeft = IB(d10 / 2 + h10);
    var p10 = Math.floor(1e3 * d10 * s10), f10 = new IG([new IX("phase", Im(p10))], { width: "400em", height: IB(p10 / 1e3), viewBox: "0 0 400000 " + p10, preserveAspectRatio: "xMinYMin slice" });
    (r10 = MO.makeSvgSpan(["hide-tail"], [f10], t10)).style.height = IB(d10), o10 = i10.depth + h10 + u10;
  } else {
    /cancel/.test(a10) ? l10 || i10.classes.push("cancel-pad") : "angl" === a10 ? i10.classes.push("anglpad") : i10.classes.push("boxpad");
    var g10 = 0, y10 = 0, v10 = 0;
    /box/.test(a10) ? (v10 = Math.max(t10.fontMetrics().fboxrule, t10.minRuleThickness), y10 = g10 = t10.fontMetrics().fboxsep + ("colorbox" === a10 ? 0 : v10)) : "angl" === a10 ? (g10 = 4 * (v10 = Math.max(t10.fontMetrics().defaultRuleThickness, t10.minRuleThickness)), y10 = Math.max(0, 0.25 - i10.depth)) : y10 = g10 = l10 ? 0.2 : 0, r10 = Nv.encloseSpan(i10, a10, g10, y10, t10), /fbox|boxed|fcolorbox/.test(a10) ? (r10.style.borderStyle = "solid", r10.style.borderWidth = IB(v10)) : "angl" === a10 && 0.049 !== v10 && (r10.style.borderTopWidth = IB(v10), r10.style.borderRightWidth = IB(v10)), o10 = i10.depth + y10, e30.backgroundColor && (r10.style.backgroundColor = e30.backgroundColor, e30.borderColor && (r10.style.borderColor = e30.borderColor));
  }
  if (e30.backgroundColor) n10 = MO.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: r10, shift: o10 }, { type: "elem", elem: i10, shift: 0 }] }, t10);
  else {
    var x10 = /cancel|phase/.test(a10) ? ["svg-align"] : [];
    n10 = MO.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: i10, shift: 0 }, { type: "elem", elem: r10, shift: o10, wrapperClasses: x10 }] }, t10);
  }
  return (/cancel/.test(a10) && (n10.height = i10.height, n10.depth = i10.depth), /cancel/.test(a10) && !l10) ? MO.makeSpan(["mord", "cancel-lap"], [n10], t10) : MO.makeSpan(["mord"], [n10], t10);
}, "htmlBuilder$7"), Rh = iM((e30, t10) => {
  var r10 = 0, n10 = new Nt.MathNode(e30.label.indexOf("colorbox") > -1 ? "mpadded" : "menclose", [No(e30.body, t10)]);
  switch (e30.label) {
    case "\\cancel":
      n10.setAttribute("notation", "updiagonalstrike");
      break;
    case "\\bcancel":
      n10.setAttribute("notation", "downdiagonalstrike");
      break;
    case "\\phase":
      n10.setAttribute("notation", "phasorangle");
      break;
    case "\\sout":
      n10.setAttribute("notation", "horizontalstrike");
      break;
    case "\\fbox":
      n10.setAttribute("notation", "box");
      break;
    case "\\angl":
      n10.setAttribute("notation", "actuarial");
      break;
    case "\\fcolorbox":
    case "\\colorbox":
      if (r10 = t10.fontMetrics().fboxsep * t10.fontMetrics().ptPerEm, n10.setAttribute("width", "+" + 2 * r10 + "pt"), n10.setAttribute("height", "+" + 2 * r10 + "pt"), n10.setAttribute("lspace", r10 + "pt"), n10.setAttribute("voffset", r10 + "pt"), "\\fcolorbox" === e30.label) {
        var i10 = Math.max(t10.fontMetrics().fboxrule, t10.minRuleThickness);
        n10.setAttribute("style", "border: " + i10 + "em solid " + String(e30.borderColor));
      }
      break;
    case "\\xcancel":
      n10.setAttribute("notation", "updiagonalstrike downdiagonalstrike");
  }
  return e30.backgroundColor && n10.setAttribute("mathbackground", e30.backgroundColor), n10;
}, "mathmlBuilder$6");
MW({ type: "enclose", names: ["\\colorbox"], props: { numArgs: 2, allowedInText: true, argTypes: ["color", "text"] }, handler(e30, t10, r10) {
  var { parser: n10, funcName: i10 } = e30, a10 = Nx(t10[0], "color-token").color, s10 = t10[1];
  return { type: "enclose", mode: n10.mode, label: i10, backgroundColor: a10, body: s10 };
}, htmlBuilder: Rc, mathmlBuilder: Rh }), MW({ type: "enclose", names: ["\\fcolorbox"], props: { numArgs: 3, allowedInText: true, argTypes: ["color", "color", "text"] }, handler(e30, t10, r10) {
  var { parser: n10, funcName: i10 } = e30, a10 = Nx(t10[0], "color-token").color, s10 = Nx(t10[1], "color-token").color, o10 = t10[2];
  return { type: "enclose", mode: n10.mode, label: i10, backgroundColor: s10, borderColor: a10, body: o10 };
}, htmlBuilder: Rc, mathmlBuilder: Rh }), MW({ type: "enclose", names: ["\\fbox"], props: { numArgs: 1, argTypes: ["hbox"], allowedInText: true }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "enclose", mode: r10.mode, label: "\\fbox", body: t10[0] };
} }), MW({ type: "enclose", names: ["\\cancel", "\\bcancel", "\\xcancel", "\\sout", "\\phase"], props: { numArgs: 1 }, handler(e30, t10) {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0];
  return { type: "enclose", mode: r10.mode, label: n10, body: i10 };
}, htmlBuilder: Rc, mathmlBuilder: Rh }), MW({ type: "enclose", names: ["\\angl"], props: { numArgs: 1, argTypes: ["hbox"], allowedInText: false }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "enclose", mode: r10.mode, label: "\\angl", body: t10[0] };
} });
var Ru = {};
function Rd(e30) {
  for (var { type: t10, names: r10, props: n10, handler: i10, htmlBuilder: a10, mathmlBuilder: s10 } = e30, o10 = { type: t10, numArgs: n10.numArgs || 0, allowedInText: false, numOptionalArgs: 0, handler: i10 }, l10 = 0; l10 < r10.length; ++l10) Ru[r10[l10]] = o10;
  a10 && (Mq[t10] = a10), s10 && (MU[t10] = s10);
}
iM(Rd, "defineEnvironment");
var Rp = {};
function Rf(e30, t10) {
  Rp[e30] = t10;
}
function Rg(e30) {
  var t10 = [];
  e30.consumeSpaces();
  var r10 = e30.fetch().text;
  for ("\\relax" === r10 && (e30.consume(), e30.consumeSpaces(), r10 = e30.fetch().text); "\\hline" === r10 || "\\hdashline" === r10; ) e30.consume(), t10.push("\\hdashline" === r10), e30.consumeSpaces(), r10 = e30.fetch().text;
  return t10;
}
iM(Rf, "defineMacro"), iM(Rg, "getHLines");
var Rm = iM((e30) => {
  if (!e30.parser.settings.displayMode) throw new LY("{" + e30.envName + "} can be used only in display mode.");
}, "validateAmsEnvironmentContext");
function Ry(e30) {
  if (-1 === e30.indexOf("ed")) return -1 === e30.indexOf("*");
}
function Rv(e30, t10, r10) {
  var { hskipBeforeAndAfter: n10, addJot: i10, cols: a10, arraystretch: s10, colSeparationType: o10, autoTag: l10, singleRow: h10, emptySingleRow: u10, maxNumCols: d10, leqno: p10 } = t10;
  if (e30.gullet.beginGroup(), h10 || e30.gullet.macros.set("\\cr", "\\\\\\relax"), !s10) {
    var f10 = e30.gullet.expandMacroAsText("\\arraystretch");
    if (null == f10) s10 = 1;
    else if (!(s10 = parseFloat(f10)) || s10 < 0) throw new LY("Invalid \\arraystretch: " + f10);
  }
  e30.gullet.beginGroup();
  var g10 = [], y10 = [g10], v10 = [], x10 = [], b10 = null != l10 ? [] : void 0;
  function k10() {
    l10 && e30.gullet.macros.set("\\@eqnsw", "1", true);
  }
  function w10() {
    b10 && (e30.gullet.macros.get("\\df@tag") ? (b10.push(e30.subparse([new LH("\\df@tag")])), e30.gullet.macros.set("\\df@tag", void 0, true)) : b10.push(!!l10 && "1" === e30.gullet.macros.get("\\@eqnsw")));
  }
  for (iM(k10, "beginRow"), iM(w10, "endRow"), k10(), x10.push(Rg(e30)); ; ) {
    var _10 = e30.parseExpression(false, h10 ? "\\end" : "\\\\");
    e30.gullet.endGroup(), e30.gullet.beginGroup(), _10 = { type: "ordgroup", mode: e30.mode, body: _10 }, r10 && (_10 = { type: "styling", mode: e30.mode, style: r10, body: [_10] }), g10.push(_10);
    var T10 = e30.fetch().text;
    if ("&" === T10) {
      if (d10 && g10.length === d10) {
        if (h10 || o10) throw new LY("Too many tab characters: &", e30.nextToken);
        e30.settings.reportNonstrict("textEnv", "Too few columns specified in the {array} column argument.");
      }
      e30.consume();
    } else if ("\\end" === T10) {
      w10(), 1 === g10.length && "styling" === _10.type && 0 === _10.body[0].body.length && (y10.length > 1 || !u10) && y10.pop(), x10.length < y10.length + 1 && x10.push([]);
      break;
    } else if ("\\\\" === T10) {
      e30.consume();
      var S10 = void 0;
      " " !== e30.gullet.future().text && (S10 = e30.parseSizeGroup(true)), v10.push(S10 ? S10.value : null), w10(), x10.push(Rg(e30)), g10 = [], y10.push(g10), k10();
    } else throw new LY("Expected & or \\\\ or \\cr or \\end", e30.nextToken);
  }
  return e30.gullet.endGroup(), e30.gullet.endGroup(), { type: "array", mode: e30.mode, addJot: i10, arraystretch: s10, body: y10, cols: a10, rowGaps: v10, hskipBeforeAndAfter: n10, hLinesBeforeRow: x10, colSeparationType: o10, tags: b10, leqno: p10 };
}
function Rx(e30) {
  return "d" === e30.slice(0, 1) ? "display" : "text";
}
iM(Ry, "getAutoTag"), iM(Rv, "parseArray"), iM(Rx, "dCellStyle");
var Rb = iM(function(e30, t10) {
  var r10, n10, i10, a10, s10 = e30.body.length, o10 = e30.hLinesBeforeRow, l10 = 0, h10 = Array(s10), u10 = [], d10 = Math.max(t10.fontMetrics().arrayRuleWidth, t10.minRuleThickness), p10 = 1 / t10.fontMetrics().ptPerEm, f10 = 5 * p10;
  e30.colSeparationType && "small" === e30.colSeparationType && (f10 = 0.2778 * (t10.havingStyle(Is.SCRIPT).sizeMultiplier / t10.sizeMultiplier));
  var g10 = "CD" === e30.colSeparationType ? IP({ number: 3, unit: "ex" }, t10) : 12 * p10, y10 = 3 * p10, v10 = e30.arraystretch * g10, x10 = 0.7 * v10, b10 = 0.3 * v10, k10 = 0;
  function w10(e31) {
    for (var t11 = 0; t11 < e31.length; ++t11) t11 > 0 && (k10 += 0.25), u10.push({ pos: k10, isDashed: e31[t11] });
  }
  for (iM(w10, "setHLinePos"), w10(o10[0]), r10 = 0; r10 < e30.body.length; ++r10) {
    var _10 = e30.body[r10], T10 = x10, S10 = b10;
    l10 < _10.length && (l10 = _10.length);
    var C10 = Array(_10.length);
    for (n10 = 0; n10 < _10.length; ++n10) {
      var E10 = M5(_10[n10], t10);
      S10 < E10.depth && (S10 = E10.depth), T10 < E10.height && (T10 = E10.height), C10[n10] = E10;
    }
    var A10 = e30.rowGaps[r10], L10 = 0;
    A10 && (L10 = IP(A10, t10)) > 0 && (S10 < (L10 += b10) && (S10 = L10), L10 = 0), e30.addJot && (S10 += y10), C10.height = T10, C10.depth = S10, k10 += T10, C10.pos = k10, k10 += S10 + L10, h10[r10] = C10, w10(o10[r10 + 1]);
  }
  var I10 = k10 / 2 + t10.fontMetrics().axisHeight, M10 = e30.cols || [], N10 = [], R10 = [];
  if (e30.tags && e30.tags.some((e31) => e31)) for (r10 = 0; r10 < s10; ++r10) {
    var D10 = h10[r10], O10 = D10.pos - I10, $10 = e30.tags[r10], P10 = void 0;
    (P10 = true === $10 ? MO.makeSpan(["eqn-num"], [], t10) : false === $10 ? MO.makeSpan([], [], t10) : MO.makeSpan([], MJ($10, t10, true), t10)).depth = D10.depth, P10.height = D10.height, R10.push({ type: "elem", elem: P10, shift: O10 });
  }
  for (n10 = 0, a10 = 0; n10 < l10 || a10 < M10.length; ++n10, ++a10) {
    for (var B10 = M10[a10] || {}, F10 = true; "separator" === B10.type; ) {
      if (F10 || ((i10 = MO.makeSpan(["arraycolsep"], [])).style.width = IB(t10.fontMetrics().doubleRuleSep), N10.push(i10)), "|" === B10.separator || ":" === B10.separator) {
        var z10 = "|" === B10.separator ? "solid" : "dashed", j10 = MO.makeSpan(["vertical-separator"], [], t10);
        j10.style.height = IB(k10), j10.style.borderRightWidth = IB(d10), j10.style.borderRightStyle = z10, j10.style.margin = "0 " + IB(-d10 / 2);
        var q10 = k10 - I10;
        q10 && (j10.style.verticalAlign = IB(-q10)), N10.push(j10);
      } else throw new LY("Invalid separator type: " + B10.separator);
      B10 = M10[++a10] || {}, F10 = false;
    }
    if (!(n10 >= l10)) {
      var U10 = void 0;
      (n10 > 0 || e30.hskipBeforeAndAfter) && 0 !== (U10 = L3.deflt(B10.pregap, f10)) && ((i10 = MO.makeSpan(["arraycolsep"], [])).style.width = IB(U10), N10.push(i10));
      var W10 = [];
      for (r10 = 0; r10 < s10; ++r10) {
        var V10 = h10[r10], H10 = V10[n10];
        if (H10) {
          var Y10 = V10.pos - I10;
          H10.depth = V10.depth, H10.height = V10.height, W10.push({ type: "elem", elem: H10, shift: Y10 });
        }
      }
      W10 = MO.makeVList({ positionType: "individualShift", children: W10 }, t10), W10 = MO.makeSpan(["col-align-" + (B10.align || "c")], [W10]), N10.push(W10), (n10 < l10 - 1 || e30.hskipBeforeAndAfter) && 0 !== (U10 = L3.deflt(B10.postgap, f10)) && ((i10 = MO.makeSpan(["arraycolsep"], [])).style.width = IB(U10), N10.push(i10));
    }
  }
  if (h10 = MO.makeSpan(["mtable"], N10), u10.length > 0) {
    for (var G10 = MO.makeLineSpan("hline", t10, d10), X10 = MO.makeLineSpan("hdashline", t10, d10), K10 = [{ type: "elem", elem: h10, shift: 0 }]; u10.length > 0; ) {
      var Z10 = u10.pop(), Q10 = Z10.pos - I10;
      Z10.isDashed ? K10.push({ type: "elem", elem: X10, shift: Q10 }) : K10.push({ type: "elem", elem: G10, shift: Q10 });
    }
    h10 = MO.makeVList({ positionType: "individualShift", children: K10 }, t10);
  }
  if (0 === R10.length) return MO.makeSpan(["mord"], [h10], t10);
  var J10 = MO.makeVList({ positionType: "individualShift", children: R10 }, t10);
  return J10 = MO.makeSpan(["tag"], [J10], t10), MO.makeFragment([h10, J10]);
}, "htmlBuilder"), Rk = { c: "center ", l: "left ", r: "right " }, Rw = iM(function(e30, t10) {
  for (var r10 = [], n10 = new Nt.MathNode("mtd", [], ["mtr-glue"]), i10 = new Nt.MathNode("mtd", [], ["mml-eqn-num"]), a10 = 0; a10 < e30.body.length; a10++) {
    for (var s10 = e30.body[a10], o10 = [], l10 = 0; l10 < s10.length; l10++) o10.push(new Nt.MathNode("mtd", [No(s10[l10], t10)]));
    e30.tags && e30.tags[a10] && (o10.unshift(n10), o10.push(n10), e30.leqno ? o10.unshift(i10) : o10.push(i10)), r10.push(new Nt.MathNode("mtr", o10));
  }
  var h10 = new Nt.MathNode("mtable", r10), u10 = 0.5 === e30.arraystretch ? 0.1 : 0.16 + e30.arraystretch - 1 + (e30.addJot ? 0.09 : 0);
  h10.setAttribute("rowspacing", IB(u10));
  var d10 = "", p10 = "";
  if (e30.cols && e30.cols.length > 0) {
    var f10 = e30.cols, g10 = "", y10 = false, v10 = 0, x10 = f10.length;
    "separator" === f10[0].type && (d10 += "top ", v10 = 1), "separator" === f10[f10.length - 1].type && (d10 += "bottom ", x10 -= 1);
    for (var b10 = v10; b10 < x10; b10++) "align" === f10[b10].type ? (p10 += Rk[f10[b10].align], y10 && (g10 += "none "), y10 = true) : "separator" === f10[b10].type && y10 && (g10 += "|" === f10[b10].separator ? "solid " : "dashed ", y10 = false);
    h10.setAttribute("columnalign", p10.trim()), /[sd]/.test(g10) && h10.setAttribute("columnlines", g10.trim());
  }
  if ("align" === e30.colSeparationType) {
    for (var k10 = e30.cols || [], w10 = "", _10 = 1; _10 < k10.length; _10++) w10 += _10 % 2 ? "0em " : "1em ";
    h10.setAttribute("columnspacing", w10.trim());
  } else "alignat" === e30.colSeparationType || "gather" === e30.colSeparationType ? h10.setAttribute("columnspacing", "0em") : "small" === e30.colSeparationType ? h10.setAttribute("columnspacing", "0.2778em") : "CD" === e30.colSeparationType ? h10.setAttribute("columnspacing", "0.5em") : h10.setAttribute("columnspacing", "1em");
  var T10 = "", S10 = e30.hLinesBeforeRow;
  d10 += (S10[0].length > 0 ? "left " : "") + (S10[S10.length - 1].length > 0 ? "right " : "");
  for (var C10 = 1; C10 < S10.length - 1; C10++) T10 += 0 === S10[C10].length ? "none " : S10[C10][0] ? "dashed " : "solid ";
  return /[sd]/.test(T10) && h10.setAttribute("rowlines", T10.trim()), "" !== d10 && (h10 = new Nt.MathNode("menclose", [h10])).setAttribute("notation", d10.trim()), e30.arraystretch && e30.arraystretch < 1 && (h10 = new Nt.MathNode("mstyle", [h10])).setAttribute("scriptlevel", "1"), h10;
}, "mathmlBuilder"), R_ = iM(function(e30, t10) {
  -1 === e30.envName.indexOf("ed") && Rm(e30);
  var r10, n10 = [], i10 = e30.envName.indexOf("at") > -1 ? "alignat" : "align", a10 = "split" === e30.envName, s10 = Rv(e30.parser, { cols: n10, addJot: true, autoTag: a10 ? void 0 : Ry(e30.envName), emptySingleRow: true, colSeparationType: i10, maxNumCols: a10 ? 2 : void 0, leqno: e30.parser.settings.leqno }, "display"), o10 = 0, l10 = { type: "ordgroup", mode: e30.mode, body: [] };
  if (t10[0] && "ordgroup" === t10[0].type) {
    for (var h10 = "", u10 = 0; u10 < t10[0].body.length; u10++) h10 += Nx(t10[0].body[u10], "textord").text;
    o10 = 2 * (r10 = Number(h10));
  }
  var d10 = !o10;
  s10.body.forEach(function(e31) {
    for (var t11 = 1; t11 < e31.length; t11 += 2) {
      var n11 = Nx(e31[t11], "styling");
      Nx(n11.body[0], "ordgroup").body.unshift(l10);
    }
    if (d10) o10 < e31.length && (o10 = e31.length);
    else {
      var i11 = e31.length / 2;
      if (r10 < i11) throw new LY("Too many math in a row: expected " + r10 + ", but got " + i11, e31[0]);
    }
  });
  for (var p10 = 0; p10 < o10; ++p10) {
    var f10 = "r", g10 = 0;
    p10 % 2 == 1 ? f10 = "l" : p10 > 0 && d10 && (g10 = 1), n10[p10] = { type: "align", align: f10, pregap: g10, postgap: 0 };
  }
  return s10.colSeparationType = d10 ? "align" : "alignat", s10;
}, "alignedHandler");
Rd({ type: "array", names: ["array", "darray"], props: { numArgs: 1 }, handler(e30, t10) {
  var r10 = (Nk(t10[0]) ? [t10[0]] : Nx(t10[0], "ordgroup").body).map(function(e31) {
    var t11 = Nb(e31).text;
    if (-1 !== "lcr".indexOf(t11)) return { type: "align", align: t11 };
    if ("|" === t11) return { type: "separator", separator: "|" };
    if (":" === t11) return { type: "separator", separator: ":" };
    throw new LY("Unknown column alignment: " + t11, e31);
  }), n10 = { cols: r10, hskipBeforeAndAfter: true, maxNumCols: r10.length };
  return Rv(e30.parser, n10, Rx(e30.envName));
}, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["matrix", "pmatrix", "bmatrix", "Bmatrix", "vmatrix", "Vmatrix", "matrix*", "pmatrix*", "bmatrix*", "Bmatrix*", "vmatrix*", "Vmatrix*"], props: { numArgs: 0 }, handler(e30) {
  var t10 = { matrix: null, pmatrix: ["(", ")"], bmatrix: ["[", "]"], Bmatrix: ["\\{", "\\}"], vmatrix: ["|", "|"], Vmatrix: ["\\Vert", "\\Vert"] }[e30.envName.replace("*", "")], r10 = "c", n10 = { hskipBeforeAndAfter: false, cols: [{ type: "align", align: r10 }] };
  if ("*" === e30.envName.charAt(e30.envName.length - 1)) {
    var i10 = e30.parser;
    if (i10.consumeSpaces(), "[" === i10.fetch().text) {
      if (i10.consume(), i10.consumeSpaces(), r10 = i10.fetch().text, -1 === "lcr".indexOf(r10)) throw new LY("Expected l or c or r", i10.nextToken);
      i10.consume(), i10.consumeSpaces(), i10.expect("]"), i10.consume(), n10.cols = [{ type: "align", align: r10 }];
    }
  }
  var a10 = Rv(e30.parser, n10, Rx(e30.envName)), s10 = Math.max(0, ...a10.body.map((e31) => e31.length));
  return a10.cols = Array(s10).fill({ type: "align", align: r10 }), t10 ? { type: "leftright", mode: e30.mode, body: [a10], left: t10[0], right: t10[1], rightColor: void 0 } : a10;
}, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["smallmatrix"], props: { numArgs: 0 }, handler(e30) {
  var t10 = Rv(e30.parser, { arraystretch: 0.5 }, "script");
  return t10.colSeparationType = "small", t10;
}, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["subarray"], props: { numArgs: 1 }, handler(e30, t10) {
  var r10 = (Nk(t10[0]) ? [t10[0]] : Nx(t10[0], "ordgroup").body).map(function(e31) {
    var t11 = Nb(e31).text;
    if (-1 !== "lc".indexOf(t11)) return { type: "align", align: t11 };
    throw new LY("Unknown column alignment: " + t11, e31);
  });
  if (r10.length > 1) throw new LY("{subarray} can contain only one column");
  var n10 = { cols: r10, hskipBeforeAndAfter: false, arraystretch: 0.5 };
  if ((n10 = Rv(e30.parser, n10, "script")).body.length > 0 && n10.body[0].length > 1) throw new LY("{subarray} can contain only one column");
  return n10;
}, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["cases", "dcases", "rcases", "drcases"], props: { numArgs: 0 }, handler(e30) {
  var t10 = Rv(e30.parser, { arraystretch: 1.2, cols: [{ type: "align", align: "l", pregap: 0, postgap: 1 }, { type: "align", align: "l", pregap: 0, postgap: 0 }] }, Rx(e30.envName));
  return { type: "leftright", mode: e30.mode, body: [t10], left: e30.envName.indexOf("r") > -1 ? "." : "\\{", right: e30.envName.indexOf("r") > -1 ? "\\}" : ".", rightColor: void 0 };
}, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["align", "align*", "aligned", "split"], props: { numArgs: 0 }, handler: R_, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["gathered", "gather", "gather*"], props: { numArgs: 0 }, handler(e30) {
  L3.contains(["gather", "gather*"], e30.envName) && Rm(e30);
  var t10 = { cols: [{ type: "align", align: "c" }], addJot: true, colSeparationType: "gather", autoTag: Ry(e30.envName), emptySingleRow: true, leqno: e30.parser.settings.leqno };
  return Rv(e30.parser, t10, "display");
}, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["alignat", "alignat*", "alignedat"], props: { numArgs: 1 }, handler: R_, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["equation", "equation*"], props: { numArgs: 0 }, handler(e30) {
  Rm(e30);
  var t10 = { autoTag: Ry(e30.envName), emptySingleRow: true, singleRow: true, maxNumCols: 1, leqno: e30.parser.settings.leqno };
  return Rv(e30.parser, t10, "display");
}, htmlBuilder: Rb, mathmlBuilder: Rw }), Rd({ type: "array", names: ["CD"], props: { numArgs: 0 }, handler: (e30) => (Rm(e30), NO(e30.parser)), htmlBuilder: Rb, mathmlBuilder: Rw }), Rf("\\nonumber", "\\gdef\\@eqnsw{0}"), Rf("\\notag", "\\nonumber"), MW({ type: "text", names: ["\\hline", "\\hdashline"], props: { numArgs: 0, allowedInText: true, allowedInMath: true }, handler(e30, t10) {
  throw new LY(e30.funcName + " valid only within array environment");
} }), MW({ type: "environment", names: ["\\begin", "\\end"], props: { numArgs: 1, argTypes: ["text"] }, handler(e30, t10) {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0];
  if ("ordgroup" !== i10.type) throw new LY("Invalid environment name", i10);
  for (var a10 = "", s10 = 0; s10 < i10.body.length; ++s10) a10 += Nx(i10.body[s10], "textord").text;
  if ("\\begin" === n10) {
    if (!Ru.hasOwnProperty(a10)) throw new LY("No such environment: " + a10, i10);
    var o10 = Ru[a10], { args: l10, optArgs: h10 } = r10.parseArguments("\\begin{" + a10 + "}", o10), u10 = { mode: r10.mode, envName: a10, parser: r10 }, d10 = o10.handler(u10, l10, h10);
    r10.expect("\\end", false);
    var p10 = r10.nextToken, f10 = Nx(r10.parseFunction(), "environment");
    if (f10.name !== a10) throw new LY("Mismatch: \\begin{" + a10 + "} matched by \\end{" + f10.name + "}", p10);
    return d10;
  }
  return { type: "environment", mode: r10.mode, name: a10, nameGroup: i10 };
} });
var RT = iM((e30, t10) => {
  var r10 = e30.font, n10 = t10.withFont(r10);
  return M5(e30.body, n10);
}, "htmlBuilder$5"), RS = iM((e30, t10) => {
  var r10 = e30.font, n10 = t10.withFont(r10);
  return No(e30.body, n10);
}, "mathmlBuilder$4"), RC = { "\\Bbb": "\\mathbb", "\\bold": "\\mathbf", "\\frak": "\\mathfrak", "\\bm": "\\boldsymbol" };
MW({ type: "font", names: ["\\mathrm", "\\mathit", "\\mathbf", "\\mathnormal", "\\mathbb", "\\mathcal", "\\mathfrak", "\\mathscr", "\\mathsf", "\\mathtt", "\\Bbb", "\\bold", "\\frak"], props: { numArgs: 1, allowedInArgument: true }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10 } = e30, i10 = MH(t10[0]), a10 = n10;
  return a10 in RC && (a10 = RC[a10]), { type: "font", mode: r10.mode, font: a10.slice(1), body: i10 };
}, "handler"), htmlBuilder: RT, mathmlBuilder: RS }), MW({ type: "mclass", names: ["\\boldsymbol", "\\bm"], props: { numArgs: 1 }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30, n10 = t10[0], i10 = L3.isCharacterBox(n10);
  return { type: "mclass", mode: r10.mode, mclass: NL(n10), body: [{ type: "font", mode: r10.mode, font: "boldsymbol", body: n10 }], isCharacterBox: i10 };
}, "handler") }), MW({ type: "font", names: ["\\rm", "\\sf", "\\tt", "\\bf", "\\it", "\\cal"], props: { numArgs: 0, allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10, breakOnTokenText: i10 } = e30, { mode: a10 } = r10, s10 = r10.parseExpression(true, i10);
  return { type: "font", mode: a10, font: "math" + n10.slice(1), body: { type: "ordgroup", mode: r10.mode, body: s10 } };
}, "handler"), htmlBuilder: RT, mathmlBuilder: RS });
var RE = iM((e30, t10) => {
  var r10 = t10;
  return "display" === e30 ? r10 = r10.id >= Is.SCRIPT.id ? r10.text() : Is.DISPLAY : "text" === e30 && r10.size === Is.DISPLAY.size ? r10 = Is.TEXT : "script" === e30 ? r10 = Is.SCRIPT : "scriptscript" === e30 && (r10 = Is.SCRIPTSCRIPT), r10;
}, "adjustStyle"), RA = iM((e30, t10) => {
  var r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10 = RE(e30.size, t10.style), g10 = f10.fracNum(), y10 = f10.fracDen();
  r10 = t10.havingStyle(g10);
  var v10 = M5(e30.numer, r10, t10);
  if (e30.continued) {
    var x10 = 8.5 / t10.fontMetrics().ptPerEm, b10 = 3.5 / t10.fontMetrics().ptPerEm;
    v10.height = v10.height < x10 ? x10 : v10.height, v10.depth = v10.depth < b10 ? b10 : v10.depth;
  }
  r10 = t10.havingStyle(y10);
  var k10 = M5(e30.denom, r10, t10);
  if (e30.hasBarLine ? (e30.barSize ? (i10 = IP(e30.barSize, t10), n10 = MO.makeLineSpan("frac-line", t10, i10)) : n10 = MO.makeLineSpan("frac-line", t10), i10 = n10.height, a10 = n10.height) : (n10 = null, i10 = 0, a10 = t10.fontMetrics().defaultRuleThickness), f10.size === Is.DISPLAY.size || "display" === e30.size ? (s10 = t10.fontMetrics().num1, o10 = i10 > 0 ? 3 * a10 : 7 * a10, l10 = t10.fontMetrics().denom1) : (i10 > 0 ? (s10 = t10.fontMetrics().num2, o10 = a10) : (s10 = t10.fontMetrics().num3, o10 = 3 * a10), l10 = t10.fontMetrics().denom2), n10) {
    var w10 = t10.fontMetrics().axisHeight;
    s10 - v10.depth - (w10 + 0.5 * i10) < o10 && (s10 += o10 - (s10 - v10.depth - (w10 + 0.5 * i10))), w10 - 0.5 * i10 - (k10.height - l10) < o10 && (l10 += o10 - (w10 - 0.5 * i10 - (k10.height - l10)));
    var _10 = -(w10 - 0.5 * i10);
    h10 = MO.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: k10, shift: l10 }, { type: "elem", elem: n10, shift: _10 }, { type: "elem", elem: v10, shift: -s10 }] }, t10);
  } else {
    var T10 = s10 - v10.depth - (k10.height - l10);
    T10 < o10 && (s10 += 0.5 * (o10 - T10), l10 += 0.5 * (o10 - T10)), h10 = MO.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: k10, shift: l10 }, { type: "elem", elem: v10, shift: -s10 }] }, t10);
  }
  return r10 = t10.havingStyle(f10), h10.height *= r10.sizeMultiplier / t10.sizeMultiplier, h10.depth *= r10.sizeMultiplier / t10.sizeMultiplier, u10 = f10.size === Is.DISPLAY.size ? t10.fontMetrics().delim1 : f10.size === Is.SCRIPTSCRIPT.size ? t10.havingStyle(Is.SCRIPT).fontMetrics().delim2 : t10.fontMetrics().delim2, d10 = null == e30.leftDelim ? M3(t10, ["mopen"]) : Ri.customSizedDelim(e30.leftDelim, u10, true, t10.havingStyle(f10), e30.mode, ["mopen"]), p10 = e30.continued ? MO.makeSpan([]) : null == e30.rightDelim ? M3(t10, ["mclose"]) : Ri.customSizedDelim(e30.rightDelim, u10, true, t10.havingStyle(f10), e30.mode, ["mclose"]), MO.makeSpan(["mord"].concat(r10.sizingClasses(t10)), [d10, MO.makeSpan(["mfrac"], [h10]), p10], t10);
}, "htmlBuilder$4"), RL = iM((e30, t10) => {
  var r10 = new Nt.MathNode("mfrac", [No(e30.numer, t10), No(e30.denom, t10)]);
  if (e30.hasBarLine) {
    if (e30.barSize) {
      var n10 = IP(e30.barSize, t10);
      r10.setAttribute("linethickness", IB(n10));
    }
  } else r10.setAttribute("linethickness", "0px");
  var i10 = RE(e30.size, t10.style);
  if (i10.size !== t10.style.size) {
    r10 = new Nt.MathNode("mstyle", [r10]);
    var a10 = i10.size === Is.DISPLAY.size ? "true" : "false";
    r10.setAttribute("displaystyle", a10), r10.setAttribute("scriptlevel", "0");
  }
  if (null != e30.leftDelim || null != e30.rightDelim) {
    var s10 = [];
    if (null != e30.leftDelim) {
      var o10 = new Nt.MathNode("mo", [new Nt.TextNode(e30.leftDelim.replace("\\", ""))]);
      o10.setAttribute("fence", "true"), s10.push(o10);
    }
    if (s10.push(r10), null != e30.rightDelim) {
      var l10 = new Nt.MathNode("mo", [new Nt.TextNode(e30.rightDelim.replace("\\", ""))]);
      l10.setAttribute("fence", "true"), s10.push(l10);
    }
    return Nn(s10);
  }
  return r10;
}, "mathmlBuilder$3");
MW({ type: "genfrac", names: ["\\dfrac", "\\frac", "\\tfrac", "\\dbinom", "\\binom", "\\tbinom", "\\\\atopfrac", "\\\\bracefrac", "\\\\brackfrac"], props: { numArgs: 2, allowedInArgument: true }, handler: iM((e30, t10) => {
  var r10, { parser: n10, funcName: i10 } = e30, a10 = t10[0], s10 = t10[1], o10 = null, l10 = null, h10 = "auto";
  switch (i10) {
    case "\\dfrac":
    case "\\frac":
    case "\\tfrac":
      r10 = true;
      break;
    case "\\\\atopfrac":
      r10 = false;
      break;
    case "\\dbinom":
    case "\\binom":
    case "\\tbinom":
      r10 = false, o10 = "(", l10 = ")";
      break;
    case "\\\\bracefrac":
      r10 = false, o10 = "\\{", l10 = "\\}";
      break;
    case "\\\\brackfrac":
      r10 = false, o10 = "[", l10 = "]";
      break;
    default:
      throw Error("Unrecognized genfrac command");
  }
  switch (i10) {
    case "\\dfrac":
    case "\\dbinom":
      h10 = "display";
      break;
    case "\\tfrac":
    case "\\tbinom":
      h10 = "text";
  }
  return { type: "genfrac", mode: n10.mode, continued: false, numer: a10, denom: s10, hasBarLine: r10, leftDelim: o10, rightDelim: l10, size: h10, barSize: null };
}, "handler"), htmlBuilder: RA, mathmlBuilder: RL }), MW({ type: "genfrac", names: ["\\cfrac"], props: { numArgs: 2 }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0], a10 = t10[1];
  return { type: "genfrac", mode: r10.mode, continued: true, numer: i10, denom: a10, hasBarLine: true, leftDelim: null, rightDelim: null, size: "display", barSize: null };
}, "handler") }), MW({ type: "infix", names: ["\\over", "\\choose", "\\atop", "\\brace", "\\brack"], props: { numArgs: 0, infix: true }, handler(e30) {
  var t10, { parser: r10, funcName: n10, token: i10 } = e30;
  switch (n10) {
    case "\\over":
      t10 = "\\frac";
      break;
    case "\\choose":
      t10 = "\\binom";
      break;
    case "\\atop":
      t10 = "\\\\atopfrac";
      break;
    case "\\brace":
      t10 = "\\\\bracefrac";
      break;
    case "\\brack":
      t10 = "\\\\brackfrac";
      break;
    default:
      throw Error("Unrecognized infix genfrac command");
  }
  return { type: "infix", mode: r10.mode, replaceWith: t10, token: i10 };
} });
var RI = ["display", "text", "script", "scriptscript"], RM = iM(function(e30) {
  var t10 = null;
  return e30.length > 0 && (t10 = "." === (t10 = e30) ? null : t10), t10;
}, "delimFromValue");
MW({ type: "genfrac", names: ["\\genfrac"], props: { numArgs: 6, allowedInArgument: true, argTypes: ["math", "math", "size", "text", "math", "math"] }, handler(e30, t10) {
  var r10, { parser: n10 } = e30, i10 = t10[4], a10 = t10[5], s10 = MH(t10[0]), o10 = "atom" === s10.type && "open" === s10.family ? RM(s10.text) : null, l10 = MH(t10[1]), h10 = "atom" === l10.type && "close" === l10.family ? RM(l10.text) : null, u10 = Nx(t10[2], "size"), d10 = null;
  r10 = !!u10.isBlank || (d10 = u10.value).number > 0;
  var p10 = "auto", f10 = t10[3];
  return "ordgroup" === f10.type ? f10.body.length > 0 && (p10 = RI[Number(Nx(f10.body[0], "textord").text)]) : p10 = RI[Number((f10 = Nx(f10, "textord")).text)], { type: "genfrac", mode: n10.mode, numer: i10, denom: a10, continued: false, hasBarLine: r10, barSize: d10, leftDelim: o10, rightDelim: h10, size: p10 };
}, htmlBuilder: RA, mathmlBuilder: RL }), MW({ type: "infix", names: ["\\above"], props: { numArgs: 1, argTypes: ["size"], infix: true }, handler(e30, t10) {
  var { parser: r10, funcName: n10, token: i10 } = e30;
  return { type: "infix", mode: r10.mode, replaceWith: "\\\\abovefrac", size: Nx(t10[0], "size").value, token: i10 };
} }), MW({ type: "genfrac", names: ["\\\\abovefrac"], props: { numArgs: 3, argTypes: ["math", "size", "math"] }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0], a10 = L4(Nx(t10[1], "infix").size), s10 = t10[2], o10 = a10.number > 0;
  return { type: "genfrac", mode: r10.mode, numer: i10, denom: s10, continued: false, hasBarLine: o10, barSize: a10, leftDelim: null, rightDelim: null, size: "auto" };
}, "handler"), htmlBuilder: RA, mathmlBuilder: RL });
var RN = iM((e30, t10) => {
  var r10, n10, i10, a10 = t10.style;
  "supsub" === e30.type ? (r10 = e30.sup ? M5(e30.sup, t10.havingStyle(a10.sup()), t10) : M5(e30.sub, t10.havingStyle(a10.sub()), t10), n10 = Nx(e30.base, "horizBrace")) : n10 = Nx(e30, "horizBrace");
  var s10 = M5(n10.base, t10.havingBaseStyle(Is.DISPLAY)), o10 = Nv.svgSpan(n10, t10);
  if (n10.isOver ? (i10 = MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: s10 }, { type: "kern", size: 0.1 }, { type: "elem", elem: o10 }] }, t10)).children[0].children[0].children[1].classes.push("svg-align") : (i10 = MO.makeVList({ positionType: "bottom", positionData: s10.depth + 0.1 + o10.height, children: [{ type: "elem", elem: o10 }, { type: "kern", size: 0.1 }, { type: "elem", elem: s10 }] }, t10)).children[0].children[0].children[0].classes.push("svg-align"), r10) {
    var l10 = MO.makeSpan(["mord", n10.isOver ? "mover" : "munder"], [i10], t10);
    i10 = n10.isOver ? MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: l10 }, { type: "kern", size: 0.2 }, { type: "elem", elem: r10 }] }, t10) : MO.makeVList({ positionType: "bottom", positionData: l10.depth + 0.2 + r10.height + r10.depth, children: [{ type: "elem", elem: r10 }, { type: "kern", size: 0.2 }, { type: "elem", elem: l10 }] }, t10);
  }
  return MO.makeSpan(["mord", n10.isOver ? "mover" : "munder"], [i10], t10);
}, "htmlBuilder$3");
MW({ type: "horizBrace", names: ["\\overbrace", "\\underbrace"], props: { numArgs: 1 }, handler(e30, t10) {
  var { parser: r10, funcName: n10 } = e30;
  return { type: "horizBrace", mode: r10.mode, label: n10, isOver: /^\\over/.test(n10), base: t10[0] };
}, htmlBuilder: RN, mathmlBuilder: iM((e30, t10) => {
  var r10 = Nv.mathMLnode(e30.label);
  return new Nt.MathNode(e30.isOver ? "mover" : "munder", [No(e30.base, t10), r10]);
}, "mathmlBuilder$2") }), MW({ type: "href", names: ["\\href"], props: { numArgs: 2, argTypes: ["url", "original"], allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30, n10 = t10[1], i10 = Nx(t10[0], "url").url;
  return r10.settings.isTrusted({ command: "\\href", url: i10 }) ? { type: "href", mode: r10.mode, href: i10, body: MY(n10) } : r10.formatUnsupportedCmd("\\href");
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MJ(e30.body, t10, false);
  return MO.makeAnchor(e30.href, [], r10, t10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = Ns(e30.body, t10);
  return r10 instanceof M9 || (r10 = new M9("mrow", [r10])), r10.setAttribute("href", e30.href), r10;
}, "mathmlBuilder") }), MW({ type: "href", names: ["\\url"], props: { numArgs: 1, argTypes: ["url"], allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30, n10 = Nx(t10[0], "url").url;
  if (!r10.settings.isTrusted({ command: "\\url", url: n10 })) return r10.formatUnsupportedCmd("\\url");
  for (var i10 = [], a10 = 0; a10 < n10.length; a10++) {
    var s10 = n10[a10];
    "~" === s10 && (s10 = "\\textasciitilde"), i10.push({ type: "textord", mode: "text", text: s10 });
  }
  var o10 = { type: "text", mode: r10.mode, font: "\\texttt", body: i10 };
  return { type: "href", mode: r10.mode, href: n10, body: MY(o10) };
}, "handler") }), MW({ type: "hbox", names: ["\\hbox"], props: { numArgs: 1, argTypes: ["text"], allowedInText: true, primitive: true }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "hbox", mode: r10.mode, body: MY(t10[0]) };
}, htmlBuilder(e30, t10) {
  var r10 = MJ(e30.body, t10, false);
  return MO.makeFragment(r10);
}, mathmlBuilder: (e30, t10) => new Nt.MathNode("mrow", Na(e30.body, t10)) }), MW({ type: "html", names: ["\\htmlClass", "\\htmlId", "\\htmlStyle", "\\htmlData"], props: { numArgs: 2, argTypes: ["raw", "original"], allowedInText: true }, handler: iM((e30, t10) => {
  var r10, { parser: n10, funcName: i10, token: a10 } = e30, s10 = Nx(t10[0], "raw").string, o10 = t10[1];
  n10.settings.strict && n10.settings.reportNonstrict("htmlExtension", "HTML extension is disabled on strict mode");
  var l10 = {};
  switch (i10) {
    case "\\htmlClass":
      l10.class = s10, r10 = { command: "\\htmlClass", class: s10 };
      break;
    case "\\htmlId":
      l10.id = s10, r10 = { command: "\\htmlId", id: s10 };
      break;
    case "\\htmlStyle":
      l10.style = s10, r10 = { command: "\\htmlStyle", style: s10 };
      break;
    case "\\htmlData":
      for (var h10 = s10.split(","), u10 = 0; u10 < h10.length; u10++) {
        var d10 = h10[u10].split("=");
        if (2 !== d10.length) throw new LY("Error parsing key-value for \\htmlData");
        l10["data-" + d10[0].trim()] = d10[1].trim();
      }
      r10 = { command: "\\htmlData", attributes: l10 };
      break;
    default:
      throw Error("Unrecognized html command");
  }
  return n10.settings.isTrusted(r10) ? { type: "html", mode: n10.mode, attributes: l10, body: MY(o10) } : n10.formatUnsupportedCmd(i10);
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MJ(e30.body, t10, false), n10 = ["enclosing"];
  e30.attributes.class && n10.push(...e30.attributes.class.trim().split(/\s+/));
  var i10 = MO.makeSpan(n10, r10, t10);
  for (var a10 in e30.attributes) "class" !== a10 && e30.attributes.hasOwnProperty(a10) && i10.setAttribute(a10, e30.attributes[a10]);
  return i10;
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => Ns(e30.body, t10), "mathmlBuilder") }), MW({ type: "htmlmathml", names: ["\\html@mathml"], props: { numArgs: 2, allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30;
  return { type: "htmlmathml", mode: r10.mode, html: MY(t10[0]), mathml: MY(t10[1]) };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MJ(e30.html, t10, false);
  return MO.makeFragment(r10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => Ns(e30.mathml, t10), "mathmlBuilder") });
var RR = iM(function(e30) {
  if (/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e30)) return { number: +e30, unit: "bp" };
  var t10 = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e30);
  if (!t10) throw new LY("Invalid size: '" + e30 + "' in \\includegraphics");
  var r10 = { number: +(t10[1] + t10[2]), unit: t10[3] };
  if (!I$(r10)) throw new LY("Invalid unit: '" + r10.unit + "' in \\includegraphics.");
  return r10;
}, "sizeData");
MW({ type: "includegraphics", names: ["\\includegraphics"], props: { numArgs: 1, numOptionalArgs: 1, argTypes: ["raw", "url"], allowedInText: false }, handler: iM((e30, t10, r10) => {
  var { parser: n10 } = e30, i10 = { number: 0, unit: "em" }, a10 = { number: 0.9, unit: "em" }, s10 = { number: 0, unit: "em" }, o10 = "";
  if (r10[0]) for (var l10 = Nx(r10[0], "raw").string.split(","), h10 = 0; h10 < l10.length; h10++) {
    var u10 = l10[h10].split("=");
    if (2 === u10.length) {
      var d10 = u10[1].trim();
      switch (u10[0].trim()) {
        case "alt":
          o10 = d10;
          break;
        case "width":
          i10 = RR(d10);
          break;
        case "height":
          a10 = RR(d10);
          break;
        case "totalheight":
          s10 = RR(d10);
          break;
        default:
          throw new LY("Invalid key: '" + u10[0] + "' in \\includegraphics.");
      }
    }
  }
  var p10 = Nx(t10[0], "url").url;
  return ("" === o10 && (o10 = (o10 = (o10 = p10).replace(/^.*[\\/]/, "")).substring(0, o10.lastIndexOf("."))), n10.settings.isTrusted({ command: "\\includegraphics", url: p10 })) ? { type: "includegraphics", mode: n10.mode, alt: o10, width: i10, height: a10, totalheight: s10, src: p10 } : n10.formatUnsupportedCmd("\\includegraphics");
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = IP(e30.height, t10), n10 = 0;
  e30.totalheight.number > 0 && (n10 = IP(e30.totalheight, t10) - r10);
  var i10 = 0;
  e30.width.number > 0 && (i10 = IP(e30.width, t10));
  var a10 = { height: IB(r10 + n10) };
  i10 > 0 && (a10.width = IB(i10)), n10 > 0 && (a10.verticalAlign = IB(-n10));
  var s10 = new IV(e30.src, e30.alt, a10);
  return s10.height = r10, s10.depth = n10, s10;
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = new Nt.MathNode("mglyph", []);
  r10.setAttribute("alt", e30.alt);
  var n10 = IP(e30.height, t10), i10 = 0;
  if (e30.totalheight.number > 0 && (i10 = IP(e30.totalheight, t10) - n10, r10.setAttribute("valign", IB(-i10))), r10.setAttribute("height", IB(n10 + i10)), e30.width.number > 0) {
    var a10 = IP(e30.width, t10);
    r10.setAttribute("width", IB(a10));
  }
  return r10.setAttribute("src", e30.src), r10;
}, "mathmlBuilder") }), MW({ type: "kern", names: ["\\kern", "\\mkern", "\\hskip", "\\mskip"], props: { numArgs: 1, argTypes: ["size"], primitive: true, allowedInText: true }, handler(e30, t10) {
  var { parser: r10, funcName: n10 } = e30, i10 = Nx(t10[0], "size");
  if (r10.settings.strict) {
    var a10 = "m" === n10[1], s10 = "mu" === i10.value.unit;
    a10 ? (s10 || r10.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + n10 + " supports only mu units, not " + i10.value.unit + " units"), "math" !== r10.mode && r10.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + n10 + " works only in math mode")) : s10 && r10.settings.reportNonstrict("mathVsTextUnits", "LaTeX's " + n10 + " doesn't support mu units");
  }
  return { type: "kern", mode: r10.mode, dimension: i10.value };
}, htmlBuilder: (e30, t10) => MO.makeGlue(e30.dimension, t10), mathmlBuilder(e30, t10) {
  var r10 = IP(e30.dimension, t10);
  return new Nt.SpaceNode(r10);
} }), MW({ type: "lap", names: ["\\mathllap", "\\mathrlap", "\\mathclap"], props: { numArgs: 1, allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0];
  return { type: "lap", mode: r10.mode, alignment: n10.slice(5), body: i10 };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  "clap" === e30.alignment ? (r10 = MO.makeSpan([], [M5(e30.body, t10)]), r10 = MO.makeSpan(["inner"], [r10], t10)) : r10 = MO.makeSpan(["inner"], [M5(e30.body, t10)]);
  var r10, n10 = MO.makeSpan(["fix"], []), i10 = MO.makeSpan([e30.alignment], [r10, n10], t10), a10 = MO.makeSpan(["strut"]);
  return a10.style.height = IB(i10.height + i10.depth), i10.depth && (a10.style.verticalAlign = IB(-i10.depth)), i10.children.unshift(a10), i10 = MO.makeSpan(["thinbox"], [i10], t10), MO.makeSpan(["mord", "vbox"], [i10], t10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = new Nt.MathNode("mpadded", [No(e30.body, t10)]);
  if ("rlap" !== e30.alignment) {
    var n10 = "llap" === e30.alignment ? "-1" : "-0.5";
    r10.setAttribute("lspace", n10 + "width");
  }
  return r10.setAttribute("width", "0px"), r10;
}, "mathmlBuilder") }), MW({ type: "styling", names: ["\\(", "$"], props: { numArgs: 0, allowedInText: true, allowedInMath: false }, handler(e30, t10) {
  var { funcName: r10, parser: n10 } = e30, i10 = n10.mode;
  n10.switchMode("math");
  var a10 = "\\(" === r10 ? "\\)" : "$", s10 = n10.parseExpression(false, a10);
  return n10.expect(a10), n10.switchMode(i10), { type: "styling", mode: n10.mode, style: "text", body: s10 };
} }), MW({ type: "text", names: ["\\)", "\\]"], props: { numArgs: 0, allowedInText: true, allowedInMath: false }, handler(e30, t10) {
  throw new LY("Mismatched " + e30.funcName);
} });
var RD = iM((e30, t10) => {
  switch (t10.style.size) {
    case Is.DISPLAY.size:
      return e30.display;
    case Is.TEXT.size:
      return e30.text;
    case Is.SCRIPT.size:
      return e30.script;
    case Is.SCRIPTSCRIPT.size:
      return e30.scriptscript;
    default:
      return e30.text;
  }
}, "chooseMathStyle");
MW({ type: "mathchoice", names: ["\\mathchoice"], props: { numArgs: 4, primitive: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30;
  return { type: "mathchoice", mode: r10.mode, display: MY(t10[0]), text: MY(t10[1]), script: MY(t10[2]), scriptscript: MY(t10[3]) };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MJ(RD(e30, t10), t10, false);
  return MO.makeFragment(r10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => Ns(RD(e30, t10), t10), "mathmlBuilder") });
var RO = iM((e30, t10, r10, n10, i10, a10, s10) => {
  e30 = MO.makeSpan([], [e30]);
  var o10, l10, h10, u10 = r10 && L3.isCharacterBox(r10);
  if (t10) {
    var d10 = M5(t10, n10.havingStyle(i10.sup()), n10);
    l10 = { elem: d10, kern: Math.max(n10.fontMetrics().bigOpSpacing1, n10.fontMetrics().bigOpSpacing3 - d10.depth) };
  }
  if (r10) {
    var p10 = M5(r10, n10.havingStyle(i10.sub()), n10);
    o10 = { elem: p10, kern: Math.max(n10.fontMetrics().bigOpSpacing2, n10.fontMetrics().bigOpSpacing4 - p10.height) };
  }
  if (l10 && o10) {
    var f10 = n10.fontMetrics().bigOpSpacing5 + o10.elem.height + o10.elem.depth + o10.kern + e30.depth + s10;
    h10 = MO.makeVList({ positionType: "bottom", positionData: f10, children: [{ type: "kern", size: n10.fontMetrics().bigOpSpacing5 }, { type: "elem", elem: o10.elem, marginLeft: IB(-a10) }, { type: "kern", size: o10.kern }, { type: "elem", elem: e30 }, { type: "kern", size: l10.kern }, { type: "elem", elem: l10.elem, marginLeft: IB(a10) }, { type: "kern", size: n10.fontMetrics().bigOpSpacing5 }] }, n10);
  } else if (o10) {
    var g10 = e30.height - s10;
    h10 = MO.makeVList({ positionType: "top", positionData: g10, children: [{ type: "kern", size: n10.fontMetrics().bigOpSpacing5 }, { type: "elem", elem: o10.elem, marginLeft: IB(-a10) }, { type: "kern", size: o10.kern }, { type: "elem", elem: e30 }] }, n10);
  } else {
    if (!l10) return e30;
    var y10 = e30.depth + s10;
    h10 = MO.makeVList({ positionType: "bottom", positionData: y10, children: [{ type: "elem", elem: e30 }, { type: "kern", size: l10.kern }, { type: "elem", elem: l10.elem, marginLeft: IB(a10) }, { type: "kern", size: n10.fontMetrics().bigOpSpacing5 }] }, n10);
  }
  var v10 = [h10];
  if (o10 && 0 !== a10 && !u10) {
    var x10 = MO.makeSpan(["mspace"], [], n10);
    x10.style.marginRight = IB(a10), v10.unshift(x10);
  }
  return MO.makeSpan(["mop", "op-limits"], v10, n10);
}, "assembleSupSub"), R$ = ["\\smallint"], RP = iM((e30, t10) => {
  var r10, n10, i10, a10, s10 = false;
  "supsub" === e30.type ? (r10 = e30.sup, n10 = e30.sub, i10 = Nx(e30.base, "op"), s10 = true) : i10 = Nx(e30, "op");
  var o10 = t10.style, l10 = false;
  if (o10.size === Is.DISPLAY.size && i10.symbol && !L3.contains(R$, i10.name) && (l10 = true), i10.symbol) {
    var h10 = l10 ? "Size2-Regular" : "Size1-Regular", u10 = "";
    if (("\\oiint" === i10.name || "\\oiiint" === i10.name) && (u10 = i10.name.slice(1), i10.name = "oiint" === u10 ? "\\iint" : "\\iiint"), a10 = MO.makeSymbol(i10.name, h10, "math", t10, ["mop", "op-symbol", l10 ? "large-op" : "small-op"]), u10.length > 0) {
      var d10 = a10.italic, p10 = MO.staticSvg(u10 + "Size" + (l10 ? "2" : "1"), t10);
      a10 = MO.makeVList({ positionType: "individualShift", children: [{ type: "elem", elem: a10, shift: 0 }, { type: "elem", elem: p10, shift: l10 ? 0.08 : 0 }] }, t10), i10.name = "\\" + u10, a10.classes.unshift("mop"), a10.italic = d10;
    }
  } else if (i10.body) {
    var f10 = MJ(i10.body, t10, true);
    1 === f10.length && f10[0] instanceof IY ? (a10 = f10[0]).classes[0] = "mop" : a10 = MO.makeSpan(["mop"], f10, t10);
  } else {
    for (var g10 = [], y10 = 1; y10 < i10.name.length; y10++) g10.push(MO.mathsym(i10.name[y10], i10.mode, t10));
    a10 = MO.makeSpan(["mop"], g10, t10);
  }
  var v10 = 0, x10 = 0;
  return ((a10 instanceof IY || "\\oiint" === i10.name || "\\oiiint" === i10.name) && !i10.suppressBaseShift && (v10 = (a10.height - a10.depth) / 2 - t10.fontMetrics().axisHeight, x10 = a10.italic), s10) ? RO(a10, r10, n10, t10, o10, x10, v10) : (v10 && (a10.style.position = "relative", a10.style.top = IB(v10)), a10);
}, "htmlBuilder$2"), RB = iM((e30, t10) => {
  var r10;
  if (e30.symbol) r10 = new M9("mo", [Nr(e30.name, e30.mode)]), L3.contains(R$, e30.name) && r10.setAttribute("largeop", "false");
  else if (e30.body) r10 = new M9("mo", Na(e30.body, t10));
  else {
    r10 = new M9("mi", [new Ne(e30.name.slice(1))]);
    var n10 = new M9("mo", [Nr("⁡", "text")]);
    r10 = e30.parentIsSupSub ? new M9("mrow", [r10, n10]) : M8([r10, n10]);
  }
  return r10;
}, "mathmlBuilder$1"), RF = { "∏": "\\prod", "∐": "\\coprod", "∑": "\\sum", "⋀": "\\bigwedge", "⋁": "\\bigvee", "⋂": "\\bigcap", "⋃": "\\bigcup", "⨀": "\\bigodot", "⨁": "\\bigoplus", "⨂": "\\bigotimes", "⨄": "\\biguplus", "⨆": "\\bigsqcup" };
MW({ type: "op", names: ["\\coprod", "\\bigvee", "\\bigwedge", "\\biguplus", "\\bigcap", "\\bigcup", "\\intop", "\\prod", "\\sum", "\\bigotimes", "\\bigoplus", "\\bigodot", "\\bigsqcup", "\\smallint", "∏", "∐", "∑", "⋀", "⋁", "⋂", "⋃", "⨀", "⨁", "⨂", "⨄", "⨆"], props: { numArgs: 0 }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10 } = e30, i10 = n10;
  return 1 === i10.length && (i10 = RF[i10]), { type: "op", mode: r10.mode, limits: true, parentIsSupSub: false, symbol: true, name: i10 };
}, "handler"), htmlBuilder: RP, mathmlBuilder: RB }), MW({ type: "op", names: ["\\mathop"], props: { numArgs: 1, primitive: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30, n10 = t10[0];
  return { type: "op", mode: r10.mode, limits: false, parentIsSupSub: false, symbol: false, body: MY(n10) };
}, "handler"), htmlBuilder: RP, mathmlBuilder: RB });
var Rz = { "∫": "\\int", "∬": "\\iint", "∭": "\\iiint", "∮": "\\oint", "∯": "\\oiint", "∰": "\\oiiint" };
MW({ type: "op", names: ["\\arcsin", "\\arccos", "\\arctan", "\\arctg", "\\arcctg", "\\arg", "\\ch", "\\cos", "\\cosec", "\\cosh", "\\cot", "\\cotg", "\\coth", "\\csc", "\\ctg", "\\cth", "\\deg", "\\dim", "\\exp", "\\hom", "\\ker", "\\lg", "\\ln", "\\log", "\\sec", "\\sin", "\\sinh", "\\sh", "\\tan", "\\tanh", "\\tg", "\\th"], props: { numArgs: 0 }, handler(e30) {
  var { parser: t10, funcName: r10 } = e30;
  return { type: "op", mode: t10.mode, limits: false, parentIsSupSub: false, symbol: false, name: r10 };
}, htmlBuilder: RP, mathmlBuilder: RB }), MW({ type: "op", names: ["\\det", "\\gcd", "\\inf", "\\lim", "\\max", "\\min", "\\Pr", "\\sup"], props: { numArgs: 0 }, handler(e30) {
  var { parser: t10, funcName: r10 } = e30;
  return { type: "op", mode: t10.mode, limits: true, parentIsSupSub: false, symbol: false, name: r10 };
}, htmlBuilder: RP, mathmlBuilder: RB }), MW({ type: "op", names: ["\\int", "\\iint", "\\iiint", "\\oint", "\\oiint", "\\oiiint", "∫", "∬", "∭", "∮", "∯", "∰"], props: { numArgs: 0 }, handler(e30) {
  var { parser: t10, funcName: r10 } = e30, n10 = r10;
  return 1 === n10.length && (n10 = Rz[n10]), { type: "op", mode: t10.mode, limits: false, parentIsSupSub: false, symbol: true, name: n10 };
}, htmlBuilder: RP, mathmlBuilder: RB });
var Rj = iM((e30, t10) => {
  var r10, n10, i10, a10, s10 = false;
  if ("supsub" === e30.type ? (r10 = e30.sup, n10 = e30.sub, i10 = Nx(e30.base, "operatorname"), s10 = true) : i10 = Nx(e30, "operatorname"), i10.body.length > 0) {
    for (var o10 = MJ(i10.body.map((e31) => {
      var t11 = e31.text;
      return "string" == typeof t11 ? { type: "textord", mode: e31.mode, text: t11 } : e31;
    }), t10.withFont("mathrm"), true), l10 = 0; l10 < o10.length; l10++) {
      var h10 = o10[l10];
      h10 instanceof IY && (h10.text = h10.text.replace(/\u2212/, "-").replace(/\u2217/, "*"));
    }
    a10 = MO.makeSpan(["mop"], o10, t10);
  } else a10 = MO.makeSpan(["mop"], [], t10);
  return s10 ? RO(a10, r10, n10, t10, t10.style, 0, 0) : a10;
}, "htmlBuilder$1"), Rq = iM((e30, t10) => {
  for (var r10 = Na(e30.body, t10.withFont("mathrm")), n10 = true, i10 = 0; i10 < r10.length; i10++) {
    var a10 = r10[i10];
    if (a10 instanceof Nt.SpaceNode) ;
    else if (a10 instanceof Nt.MathNode) switch (a10.type) {
      case "mi":
      case "mn":
      case "ms":
      case "mspace":
      case "mtext":
        break;
      case "mo":
        var s10 = a10.children[0];
        1 === a10.children.length && s10 instanceof Nt.TextNode ? s10.text = s10.text.replace(/\u2212/, "-").replace(/\u2217/, "*") : n10 = false;
        break;
      default:
        n10 = false;
    }
    else n10 = false;
  }
  if (n10) {
    var o10 = r10.map((e31) => e31.toText()).join("");
    r10 = [new Nt.TextNode(o10)];
  }
  var l10 = new Nt.MathNode("mi", r10);
  l10.setAttribute("mathvariant", "normal");
  var h10 = new Nt.MathNode("mo", [Nr("⁡", "text")]);
  return e30.parentIsSupSub ? new Nt.MathNode("mrow", [l10, h10]) : Nt.newDocumentFragment([l10, h10]);
}, "mathmlBuilder");
function RU(e30, t10, r10) {
  for (var n10 = MJ(e30, t10, false), i10 = t10.sizeMultiplier / r10.sizeMultiplier, a10 = 0; a10 < n10.length; a10++) {
    var s10 = n10[a10].classes.indexOf("sizing");
    s10 < 0 ? Array.prototype.push.apply(n10[a10].classes, t10.sizingClasses(r10)) : n10[a10].classes[s10 + 1] === "reset-size" + t10.size && (n10[a10].classes[s10 + 1] = "reset-size" + r10.size), n10[a10].height *= i10, n10[a10].depth *= i10;
  }
  return MO.makeFragment(n10);
}
MW({ type: "operatorname", names: ["\\operatorname@", "\\operatornamewithlimits"], props: { numArgs: 1 }, handler: iM((e30, t10) => {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0];
  return { type: "operatorname", mode: r10.mode, body: MY(i10), alwaysHandleSupSub: "\\operatornamewithlimits" === n10, limits: false, parentIsSupSub: false };
}, "handler"), htmlBuilder: Rj, mathmlBuilder: Rq }), Rf("\\operatorname", "\\@ifstar\\operatornamewithlimits\\operatorname@"), MV({ type: "ordgroup", htmlBuilder: (e30, t10) => e30.semisimple ? MO.makeFragment(MJ(e30.body, t10, false)) : MO.makeSpan(["mord"], MJ(e30.body, t10, true), t10), mathmlBuilder: (e30, t10) => Ns(e30.body, t10, true) }), MW({ type: "overline", names: ["\\overline"], props: { numArgs: 1 }, handler(e30, t10) {
  var { parser: r10 } = e30, n10 = t10[0];
  return { type: "overline", mode: r10.mode, body: n10 };
}, htmlBuilder(e30, t10) {
  var r10 = M5(e30.body, t10.havingCrampedStyle()), n10 = MO.makeLineSpan("overline-line", t10), i10 = t10.fontMetrics().defaultRuleThickness, a10 = MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }, { type: "kern", size: 3 * i10 }, { type: "elem", elem: n10 }, { type: "kern", size: i10 }] }, t10);
  return MO.makeSpan(["mord", "overline"], [a10], t10);
}, mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mo", [new Nt.TextNode("‾")]);
  r10.setAttribute("stretchy", "true");
  var n10 = new Nt.MathNode("mover", [No(e30.body, t10), r10]);
  return n10.setAttribute("accent", "true"), n10;
} }), MW({ type: "phantom", names: ["\\phantom"], props: { numArgs: 1, allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30, n10 = t10[0];
  return { type: "phantom", mode: r10.mode, body: MY(n10) };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MJ(e30.body, t10.withPhantom(), false);
  return MO.makeFragment(r10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = Na(e30.body, t10);
  return new Nt.MathNode("mphantom", r10);
}, "mathmlBuilder") }), MW({ type: "hphantom", names: ["\\hphantom"], props: { numArgs: 1, allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30, n10 = t10[0];
  return { type: "hphantom", mode: r10.mode, body: n10 };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MO.makeSpan([], [M5(e30.body, t10.withPhantom())]);
  if (r10.height = 0, r10.depth = 0, r10.children) for (var n10 = 0; n10 < r10.children.length; n10++) r10.children[n10].height = 0, r10.children[n10].depth = 0;
  return r10 = MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }] }, t10), MO.makeSpan(["mord"], [r10], t10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = Na(MY(e30.body), t10), n10 = new Nt.MathNode("mphantom", r10), i10 = new Nt.MathNode("mpadded", [n10]);
  return i10.setAttribute("height", "0px"), i10.setAttribute("depth", "0px"), i10;
}, "mathmlBuilder") }), MW({ type: "vphantom", names: ["\\vphantom"], props: { numArgs: 1, allowedInText: true }, handler: iM((e30, t10) => {
  var { parser: r10 } = e30, n10 = t10[0];
  return { type: "vphantom", mode: r10.mode, body: n10 };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MO.makeSpan(["inner"], [M5(e30.body, t10.withPhantom())]), n10 = MO.makeSpan(["fix"], []);
  return MO.makeSpan(["mord", "rlap"], [r10, n10], t10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = Na(MY(e30.body), t10), n10 = new Nt.MathNode("mphantom", r10), i10 = new Nt.MathNode("mpadded", [n10]);
  return i10.setAttribute("width", "0px"), i10;
}, "mathmlBuilder") }), MW({ type: "raisebox", names: ["\\raisebox"], props: { numArgs: 2, argTypes: ["size", "hbox"], allowedInText: true }, handler(e30, t10) {
  var { parser: r10 } = e30, n10 = Nx(t10[0], "size").value, i10 = t10[1];
  return { type: "raisebox", mode: r10.mode, dy: n10, body: i10 };
}, htmlBuilder(e30, t10) {
  var r10 = M5(e30.body, t10), n10 = IP(e30.dy, t10);
  return MO.makeVList({ positionType: "shift", positionData: -n10, children: [{ type: "elem", elem: r10 }] }, t10);
}, mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mpadded", [No(e30.body, t10)]), n10 = e30.dy.number + e30.dy.unit;
  return r10.setAttribute("voffset", n10), r10;
} }), MW({ type: "internal", names: ["\\relax"], props: { numArgs: 0, allowedInText: true }, handler(e30) {
  var { parser: t10 } = e30;
  return { type: "internal", mode: t10.mode };
} }), MW({ type: "rule", names: ["\\rule"], props: { numArgs: 2, numOptionalArgs: 1, argTypes: ["size", "size", "size"] }, handler(e30, t10, r10) {
  var { parser: n10 } = e30, i10 = r10[0], a10 = Nx(t10[0], "size"), s10 = Nx(t10[1], "size");
  return { type: "rule", mode: n10.mode, shift: i10 && Nx(i10, "size").value, width: a10.value, height: s10.value };
}, htmlBuilder(e30, t10) {
  var r10 = MO.makeSpan(["mord", "rule"], [], t10), n10 = IP(e30.width, t10), i10 = IP(e30.height, t10), a10 = e30.shift ? IP(e30.shift, t10) : 0;
  return r10.style.borderRightWidth = IB(n10), r10.style.borderTopWidth = IB(i10), r10.style.bottom = IB(a10), r10.width = n10, r10.height = i10 + a10, r10.depth = -a10, r10.maxFontSize = 1.125 * i10 * t10.sizeMultiplier, r10;
}, mathmlBuilder(e30, t10) {
  var r10 = IP(e30.width, t10), n10 = IP(e30.height, t10), i10 = e30.shift ? IP(e30.shift, t10) : 0, a10 = t10.color && t10.getColor() || "black", s10 = new Nt.MathNode("mspace");
  s10.setAttribute("mathbackground", a10), s10.setAttribute("width", IB(r10)), s10.setAttribute("height", IB(n10));
  var o10 = new Nt.MathNode("mpadded", [s10]);
  return i10 >= 0 ? o10.setAttribute("height", IB(i10)) : (o10.setAttribute("height", IB(i10)), o10.setAttribute("depth", IB(-i10))), o10.setAttribute("voffset", IB(i10)), o10;
} }), iM(RU, "sizingGroup");
var RW = ["\\tiny", "\\sixptsize", "\\scriptsize", "\\footnotesize", "\\small", "\\normalsize", "\\large", "\\Large", "\\LARGE", "\\huge", "\\Huge"], RV = iM((e30, t10) => {
  var r10 = t10.havingSize(e30.size);
  return RU(e30.body, r10, t10);
}, "htmlBuilder");
MW({ type: "sizing", names: RW, props: { numArgs: 0, allowedInText: true }, handler: iM((e30, t10) => {
  var { breakOnTokenText: r10, funcName: n10, parser: i10 } = e30, a10 = i10.parseExpression(false, r10);
  return { type: "sizing", mode: i10.mode, size: RW.indexOf(n10) + 1, body: a10 };
}, "handler"), htmlBuilder: RV, mathmlBuilder: iM((e30, t10) => {
  var r10 = t10.havingSize(e30.size), n10 = Na(e30.body, r10), i10 = new Nt.MathNode("mstyle", n10);
  return i10.setAttribute("mathsize", IB(r10.sizeMultiplier)), i10;
}, "mathmlBuilder") }), MW({ type: "smash", names: ["\\smash"], props: { numArgs: 1, numOptionalArgs: 1, allowedInText: true }, handler: iM((e30, t10, r10) => {
  var { parser: n10 } = e30, i10 = false, a10 = false, s10 = r10[0] && Nx(r10[0], "ordgroup");
  if (s10) for (var o10 = "", l10 = 0; l10 < s10.body.length; ++l10) if ("t" === (o10 = s10.body[l10].text)) i10 = true;
  else if ("b" === o10) a10 = true;
  else {
    i10 = false, a10 = false;
    break;
  }
  else i10 = true, a10 = true;
  var h10 = t10[0];
  return { type: "smash", mode: n10.mode, body: h10, smashHeight: i10, smashDepth: a10 };
}, "handler"), htmlBuilder: iM((e30, t10) => {
  var r10 = MO.makeSpan([], [M5(e30.body, t10)]);
  if (!e30.smashHeight && !e30.smashDepth) return r10;
  if (e30.smashHeight && (r10.height = 0, r10.children)) for (var n10 = 0; n10 < r10.children.length; n10++) r10.children[n10].height = 0;
  if (e30.smashDepth && (r10.depth = 0, r10.children)) for (var i10 = 0; i10 < r10.children.length; i10++) r10.children[i10].depth = 0;
  var a10 = MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10 }] }, t10);
  return MO.makeSpan(["mord"], [a10], t10);
}, "htmlBuilder"), mathmlBuilder: iM((e30, t10) => {
  var r10 = new Nt.MathNode("mpadded", [No(e30.body, t10)]);
  return e30.smashHeight && r10.setAttribute("height", "0px"), e30.smashDepth && r10.setAttribute("depth", "0px"), r10;
}, "mathmlBuilder") }), MW({ type: "sqrt", names: ["\\sqrt"], props: { numArgs: 1, numOptionalArgs: 1 }, handler(e30, t10, r10) {
  var { parser: n10 } = e30, i10 = r10[0], a10 = t10[0];
  return { type: "sqrt", mode: n10.mode, body: a10, index: i10 };
}, htmlBuilder(e30, t10) {
  var r10 = M5(e30.body, t10.havingCrampedStyle());
  0 === r10.height && (r10.height = t10.fontMetrics().xHeight), r10 = MO.wrapFragment(r10, t10);
  var n10 = t10.fontMetrics().defaultRuleThickness, i10 = n10;
  t10.style.id < Is.TEXT.id && (i10 = t10.fontMetrics().xHeight);
  var a10 = n10 + i10 / 4, s10 = r10.height + r10.depth + a10 + n10, { span: o10, ruleWidth: l10, advanceWidth: h10 } = Ri.sqrtImage(s10, t10), u10 = o10.height - l10;
  u10 > r10.height + r10.depth + a10 && (a10 = (a10 + u10 - r10.height - r10.depth) / 2);
  var d10 = o10.height - r10.height - a10 - l10;
  r10.style.paddingLeft = IB(h10);
  var p10 = MO.makeVList({ positionType: "firstBaseline", children: [{ type: "elem", elem: r10, wrapperClasses: ["svg-align"] }, { type: "kern", size: -(r10.height + d10) }, { type: "elem", elem: o10 }, { type: "kern", size: l10 }] }, t10);
  if (!e30.index) return MO.makeSpan(["mord", "sqrt"], [p10], t10);
  var f10 = t10.havingStyle(Is.SCRIPTSCRIPT), g10 = M5(e30.index, f10, t10), y10 = 0.6 * (p10.height - p10.depth), v10 = MO.makeVList({ positionType: "shift", positionData: -y10, children: [{ type: "elem", elem: g10 }] }, t10), x10 = MO.makeSpan(["root"], [v10]);
  return MO.makeSpan(["mord", "sqrt"], [x10, p10], t10);
}, mathmlBuilder(e30, t10) {
  var { body: r10, index: n10 } = e30;
  return n10 ? new Nt.MathNode("mroot", [No(r10, t10), No(n10, t10)]) : new Nt.MathNode("msqrt", [No(r10, t10)]);
} });
var RH = { display: Is.DISPLAY, text: Is.TEXT, script: Is.SCRIPT, scriptscript: Is.SCRIPTSCRIPT };
MW({ type: "styling", names: ["\\displaystyle", "\\textstyle", "\\scriptstyle", "\\scriptscriptstyle"], props: { numArgs: 0, allowedInText: true, primitive: true }, handler(e30, t10) {
  var { breakOnTokenText: r10, funcName: n10, parser: i10 } = e30, a10 = i10.parseExpression(true, r10), s10 = n10.slice(1, n10.length - 5);
  return { type: "styling", mode: i10.mode, style: s10, body: a10 };
}, htmlBuilder(e30, t10) {
  var r10 = RH[e30.style], n10 = t10.havingStyle(r10).withFont("");
  return RU(e30.body, n10, t10);
}, mathmlBuilder(e30, t10) {
  var r10 = RH[e30.style], n10 = t10.havingStyle(r10), i10 = Na(e30.body, n10), a10 = new Nt.MathNode("mstyle", i10), s10 = { display: ["0", "true"], text: ["0", "false"], script: ["1", "false"], scriptscript: ["2", "false"] }[e30.style];
  return a10.setAttribute("scriptlevel", s10[0]), a10.setAttribute("displaystyle", s10[1]), a10;
} });
var RY = iM(function(e30, t10) {
  var r10 = e30.base;
  return r10 ? "op" === r10.type ? r10.limits && (t10.style.size === Is.DISPLAY.size || r10.alwaysHandleSupSub) ? RP : null : "operatorname" === r10.type ? r10.alwaysHandleSupSub && (t10.style.size === Is.DISPLAY.size || r10.limits) ? Rj : null : "accent" === r10.type ? L3.isCharacterBox(r10.base) ? Nw : null : "horizBrace" === r10.type ? !e30.sub === r10.isOver ? RN : null : null : null;
}, "htmlBuilderDelegate");
MV({ type: "supsub", htmlBuilder(e30, t10) {
  var r10, n10, i10, a10, s10 = RY(e30, t10);
  if (s10) return s10(e30, t10);
  var { base: o10, sup: l10, sub: h10 } = e30, u10 = M5(o10, t10), d10 = t10.fontMetrics(), p10 = 0, f10 = 0, g10 = o10 && L3.isCharacterBox(o10);
  if (l10) {
    var y10 = t10.havingStyle(t10.style.sup());
    r10 = M5(l10, y10, t10), g10 || (p10 = u10.height - y10.fontMetrics().supDrop * y10.sizeMultiplier / t10.sizeMultiplier);
  }
  if (h10) {
    var v10 = t10.havingStyle(t10.style.sub());
    n10 = M5(h10, v10, t10), g10 || (f10 = u10.depth + v10.fontMetrics().subDrop * v10.sizeMultiplier / t10.sizeMultiplier);
  }
  i10 = t10.style === Is.DISPLAY ? d10.sup1 : t10.style.cramped ? d10.sup3 : d10.sup2;
  var x10 = t10.sizeMultiplier, b10 = IB(0.5 / d10.ptPerEm / x10), k10 = null;
  if (n10) {
    var w10 = e30.base && "op" === e30.base.type && e30.base.name && ("\\oiint" === e30.base.name || "\\oiiint" === e30.base.name);
    (u10 instanceof IY || w10) && (k10 = IB(-u10.italic));
  }
  if (r10 && n10) {
    p10 = Math.max(p10, i10, r10.depth + 0.25 * d10.xHeight), f10 = Math.max(f10, d10.sub2);
    var _10 = 4 * d10.defaultRuleThickness;
    if (p10 - r10.depth - (n10.height - f10) < _10) {
      f10 = _10 - (p10 - r10.depth) + n10.height;
      var T10 = 0.8 * d10.xHeight - (p10 - r10.depth);
      T10 > 0 && (p10 += T10, f10 -= T10);
    }
    var S10 = [{ type: "elem", elem: n10, shift: f10, marginRight: b10, marginLeft: k10 }, { type: "elem", elem: r10, shift: -p10, marginRight: b10 }];
    a10 = MO.makeVList({ positionType: "individualShift", children: S10 }, t10);
  } else if (n10) {
    f10 = Math.max(f10, d10.sub1, n10.height - 0.8 * d10.xHeight);
    var C10 = [{ type: "elem", elem: n10, marginLeft: k10, marginRight: b10 }];
    a10 = MO.makeVList({ positionType: "shift", positionData: f10, children: C10 }, t10);
  } else if (r10) p10 = Math.max(p10, i10, r10.depth + 0.25 * d10.xHeight), a10 = MO.makeVList({ positionType: "shift", positionData: -p10, children: [{ type: "elem", elem: r10, marginRight: b10 }] }, t10);
  else throw Error("supsub must have either sup or sub.");
  var E10 = M4(u10, "right") || "mord";
  return MO.makeSpan([E10], [u10, MO.makeSpan(["msupsub"], [a10])], t10);
}, mathmlBuilder(e30, t10) {
  var r10, n10, i10 = false;
  e30.base && "horizBrace" === e30.base.type && !!e30.sup === e30.base.isOver && (i10 = true, r10 = e30.base.isOver), e30.base && ("op" === e30.base.type || "operatorname" === e30.base.type) && (e30.base.parentIsSupSub = true);
  var a10 = [No(e30.base, t10)];
  if (e30.sub && a10.push(No(e30.sub, t10)), e30.sup && a10.push(No(e30.sup, t10)), i10) n10 = r10 ? "mover" : "munder";
  else if (e30.sub) {
    if (e30.sup) {
      var s10 = e30.base;
      n10 = s10 && "op" === s10.type && s10.limits && t10.style === Is.DISPLAY ? "munderover" : s10 && "operatorname" === s10.type && s10.alwaysHandleSupSub && (t10.style === Is.DISPLAY || s10.limits) ? "munderover" : "msubsup";
    } else {
      var o10 = e30.base;
      n10 = o10 && "op" === o10.type && o10.limits && (t10.style === Is.DISPLAY || o10.alwaysHandleSupSub) ? "munder" : o10 && "operatorname" === o10.type && o10.alwaysHandleSupSub && (o10.limits || t10.style === Is.DISPLAY) ? "munder" : "msub";
    }
  } else {
    var l10 = e30.base;
    n10 = l10 && "op" === l10.type && l10.limits && (t10.style === Is.DISPLAY || l10.alwaysHandleSupSub) ? "mover" : l10 && "operatorname" === l10.type && l10.alwaysHandleSupSub && (l10.limits || t10.style === Is.DISPLAY) ? "mover" : "msup";
  }
  return new Nt.MathNode(n10, a10);
} }), MV({ type: "atom", htmlBuilder: (e30, t10) => MO.mathsym(e30.text, e30.mode, t10, ["m" + e30.family]), mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mo", [Nr(e30.text, e30.mode)]);
  if ("bin" === e30.family) {
    var n10 = Ni(e30, t10);
    "bold-italic" === n10 && r10.setAttribute("mathvariant", n10);
  } else "punct" === e30.family ? r10.setAttribute("separator", "true") : ("open" === e30.family || "close" === e30.family) && r10.setAttribute("stretchy", "false");
  return r10;
} });
var RG = { mi: "italic", mn: "normal", mtext: "normal" };
MV({ type: "mathord", htmlBuilder: (e30, t10) => MO.makeOrd(e30, t10, "mathord"), mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mi", [Nr(e30.text, e30.mode, t10)]), n10 = Ni(e30, t10) || "italic";
  return n10 !== RG[r10.type] && r10.setAttribute("mathvariant", n10), r10;
} }), MV({ type: "textord", htmlBuilder: (e30, t10) => MO.makeOrd(e30, t10, "textord"), mathmlBuilder(e30, t10) {
  var r10, n10 = Nr(e30.text, e30.mode, t10), i10 = Ni(e30, t10) || "normal";
  return i10 !== RG[(r10 = "text" === e30.mode ? new Nt.MathNode("mtext", [n10]) : /[0-9]/.test(e30.text) ? new Nt.MathNode("mn", [n10]) : "\\prime" === e30.text ? new Nt.MathNode("mo", [n10]) : new Nt.MathNode("mi", [n10])).type] && r10.setAttribute("mathvariant", i10), r10;
} });
var RX = { "\\nobreak": "nobreak", "\\allowbreak": "allowbreak" }, RK = { " ": {}, "\\ ": {}, "~": { className: "nobreak" }, "\\space": {}, "\\nobreakspace": { className: "nobreak" } };
MV({ type: "spacing", htmlBuilder(e30, t10) {
  if (RK.hasOwnProperty(e30.text)) {
    var r10 = RK[e30.text].className || "";
    if ("text" !== e30.mode) return MO.makeSpan(["mspace", r10], [MO.mathsym(e30.text, e30.mode, t10)], t10);
    var n10 = MO.makeOrd(e30, t10, "textord");
    return n10.classes.push(r10), n10;
  }
  if (RX.hasOwnProperty(e30.text)) return MO.makeSpan(["mspace", RX[e30.text]], [], t10);
  throw new LY('Unknown type of space "' + e30.text + '"');
}, mathmlBuilder(e30, t10) {
  var r10;
  if (RK.hasOwnProperty(e30.text)) r10 = new Nt.MathNode("mtext", [new Nt.TextNode(" ")]);
  else if (RX.hasOwnProperty(e30.text)) return new Nt.MathNode("mspace");
  else throw new LY('Unknown type of space "' + e30.text + '"');
  return r10;
} });
var RZ = iM(() => {
  var e30 = new Nt.MathNode("mtd", []);
  return e30.setAttribute("width", "50%"), e30;
}, "pad");
MV({ type: "tag", mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mtable", [new Nt.MathNode("mtr", [RZ(), new Nt.MathNode("mtd", [Ns(e30.body, t10)]), RZ(), new Nt.MathNode("mtd", [Ns(e30.tag, t10)])])]);
  return r10.setAttribute("width", "100%"), r10;
} });
var RQ = { "\\text": void 0, "\\textrm": "textrm", "\\textsf": "textsf", "\\texttt": "texttt", "\\textnormal": "textrm" }, RJ = { "\\textbf": "textbf", "\\textmd": "textmd" }, R0 = { "\\textit": "textit", "\\textup": "textup" }, R1 = iM((e30, t10) => {
  var r10 = e30.font;
  return r10 ? RQ[r10] ? t10.withTextFontFamily(RQ[r10]) : RJ[r10] ? t10.withTextFontWeight(RJ[r10]) : "\\emph" === r10 ? "textit" === t10.fontShape ? t10.withTextFontShape("textup") : t10.withTextFontShape("textit") : t10.withTextFontShape(R0[r10]) : t10;
}, "optionsWithFont");
MW({ type: "text", names: ["\\text", "\\textrm", "\\textsf", "\\texttt", "\\textnormal", "\\textbf", "\\textmd", "\\textit", "\\textup", "\\emph"], props: { numArgs: 1, argTypes: ["text"], allowedInArgument: true, allowedInText: true }, handler(e30, t10) {
  var { parser: r10, funcName: n10 } = e30, i10 = t10[0];
  return { type: "text", mode: r10.mode, body: MY(i10), font: n10 };
}, htmlBuilder(e30, t10) {
  var r10 = R1(e30, t10), n10 = MJ(e30.body, r10, true);
  return MO.makeSpan(["mord", "text"], n10, r10);
}, mathmlBuilder(e30, t10) {
  var r10 = R1(e30, t10);
  return Ns(e30.body, r10);
} }), MW({ type: "underline", names: ["\\underline"], props: { numArgs: 1, allowedInText: true }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "underline", mode: r10.mode, body: t10[0] };
}, htmlBuilder(e30, t10) {
  var r10 = M5(e30.body, t10), n10 = MO.makeLineSpan("underline-line", t10), i10 = t10.fontMetrics().defaultRuleThickness, a10 = MO.makeVList({ positionType: "top", positionData: r10.height, children: [{ type: "kern", size: i10 }, { type: "elem", elem: n10 }, { type: "kern", size: 3 * i10 }, { type: "elem", elem: r10 }] }, t10);
  return MO.makeSpan(["mord", "underline"], [a10], t10);
}, mathmlBuilder(e30, t10) {
  var r10 = new Nt.MathNode("mo", [new Nt.TextNode("‾")]);
  r10.setAttribute("stretchy", "true");
  var n10 = new Nt.MathNode("munder", [No(e30.body, t10), r10]);
  return n10.setAttribute("accentunder", "true"), n10;
} }), MW({ type: "vcenter", names: ["\\vcenter"], props: { numArgs: 1, argTypes: ["original"], allowedInText: false }, handler(e30, t10) {
  var { parser: r10 } = e30;
  return { type: "vcenter", mode: r10.mode, body: t10[0] };
}, htmlBuilder(e30, t10) {
  var r10 = M5(e30.body, t10), n10 = t10.fontMetrics().axisHeight, i10 = 0.5 * (r10.height - n10 - (r10.depth + n10));
  return MO.makeVList({ positionType: "shift", positionData: i10, children: [{ type: "elem", elem: r10 }] }, t10);
}, mathmlBuilder: (e30, t10) => new Nt.MathNode("mpadded", [No(e30.body, t10)], ["vcenter"]) }), MW({ type: "verb", names: ["\\verb"], props: { numArgs: 0, allowedInText: true }, handler(e30, t10, r10) {
  throw new LY("\\verb ended by end of line instead of matching delimiter");
}, htmlBuilder(e30, t10) {
  for (var r10 = R2(e30), n10 = [], i10 = t10.havingStyle(t10.style.text()), a10 = 0; a10 < r10.length; a10++) {
    var s10 = r10[a10];
    "~" === s10 && (s10 = "\\textasciitilde"), n10.push(MO.makeSymbol(s10, "Typewriter-Regular", e30.mode, i10, ["mord", "texttt"]));
  }
  return MO.makeSpan(["mord", "text"].concat(i10.sizingClasses(t10)), MO.tryCombineChars(n10), i10);
}, mathmlBuilder(e30, t10) {
  var r10 = new Nt.TextNode(R2(e30)), n10 = new Nt.MathNode("mtext", [r10]);
  return n10.setAttribute("mathvariant", "monospace"), n10;
} });
var R2 = iM((e30) => e30.body.replace(/ /g, e30.star ? "␣" : " "), "makeVerb"), R4 = "[ \r\n	]", R3 = "[̀-ͯ]", R5 = RegExp(R3 + "+$"), R6 = "(" + R4 + "+)|\\\\(\n|[ \r	]+\n?)[ \r	]*|([!-\\[\\]-‧‪-퟿豈-￿]" + R3 + "*|[\uD800-\uDBFF][\uDC00-\uDFFF]" + R3 + "*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)" + R4 + "*|\\\\[^\uD800-\uDFFF])", R7 = (_W2 = class {
  constructor(e30, t10) {
    this.input = void 0, this.settings = void 0, this.tokenRegex = void 0, this.catcodes = void 0, this.input = e30, this.settings = t10, this.tokenRegex = RegExp(R6, "g"), this.catcodes = { "%": 14, "~": 13 };
  }
  setCatcode(e30, t10) {
    this.catcodes[e30] = t10;
  }
  lex() {
    var e30 = this.input, t10 = this.tokenRegex.lastIndex;
    if (t10 === e30.length) return new LH("EOF", new LV(this, t10, t10));
    var r10 = this.tokenRegex.exec(e30);
    if (null === r10 || r10.index !== t10) throw new LY("Unexpected character: '" + e30[t10] + "'", new LH(e30[t10], new LV(this, t10, t10 + 1)));
    var n10 = r10[6] || r10[3] || (r10[2] ? "\\ " : " ");
    if (14 === this.catcodes[n10]) {
      var i10 = e30.indexOf("\n", this.tokenRegex.lastIndex);
      return -1 === i10 ? (this.tokenRegex.lastIndex = e30.length, this.settings.reportNonstrict("commentAtEnd", "% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")) : this.tokenRegex.lastIndex = i10 + 1, this.lex();
    }
    return new LH(n10, new LV(this, t10, this.tokenRegex.lastIndex));
  }
}, _i51 = new WeakMap(), __privateAdd(_W2, _i51, iM(_W2, "Lexer")), _W2), R8 = (_X2 = class {
  constructor(e30, t10) {
    void 0 === e30 && (e30 = {}), void 0 === t10 && (t10 = {}), this.current = void 0, this.builtins = void 0, this.undefStack = void 0, this.current = t10, this.builtins = e30, this.undefStack = [];
  }
  beginGroup() {
    this.undefStack.push({});
  }
  endGroup() {
    if (0 === this.undefStack.length) throw new LY("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");
    var e30 = this.undefStack.pop();
    for (var t10 in e30) e30.hasOwnProperty(t10) && (null == e30[t10] ? delete this.current[t10] : this.current[t10] = e30[t10]);
  }
  endGroups() {
    for (; this.undefStack.length > 0; ) this.endGroup();
  }
  has(e30) {
    return this.current.hasOwnProperty(e30) || this.builtins.hasOwnProperty(e30);
  }
  get(e30) {
    return this.current.hasOwnProperty(e30) ? this.current[e30] : this.builtins[e30];
  }
  set(e30, t10, r10) {
    if (void 0 === r10 && (r10 = false), r10) {
      for (var n10 = 0; n10 < this.undefStack.length; n10++) delete this.undefStack[n10][e30];
      this.undefStack.length > 0 && (this.undefStack[this.undefStack.length - 1][e30] = t10);
    } else {
      var i10 = this.undefStack[this.undefStack.length - 1];
      i10 && !i10.hasOwnProperty(e30) && (i10[e30] = this.current[e30]);
    }
    null == t10 ? delete this.current[e30] : this.current[e30] = t10;
  }
}, _i52 = new WeakMap(), __privateAdd(_X2, _i52, iM(_X2, "Namespace")), _X2);
Rf("\\noexpand", function(e30) {
  var t10 = e30.popToken();
  return e30.isExpandable(t10.text) && (t10.noexpand = true, t10.treatAsRelax = true), { tokens: [t10], numArgs: 0 };
}), Rf("\\expandafter", function(e30) {
  var t10 = e30.popToken();
  return e30.expandOnce(true), { tokens: [t10], numArgs: 0 };
}), Rf("\\@firstoftwo", function(e30) {
  return { tokens: e30.consumeArgs(2)[0], numArgs: 0 };
}), Rf("\\@secondoftwo", function(e30) {
  return { tokens: e30.consumeArgs(2)[1], numArgs: 0 };
}), Rf("\\@ifnextchar", function(e30) {
  var t10 = e30.consumeArgs(3);
  e30.consumeSpaces();
  var r10 = e30.future();
  return 1 === t10[0].length && t10[0][0].text === r10.text ? { tokens: t10[1], numArgs: 0 } : { tokens: t10[2], numArgs: 0 };
}), Rf("\\@ifstar", "\\@ifnextchar *{\\@firstoftwo{#1}}"), Rf("\\TextOrMath", function(e30) {
  var t10 = e30.consumeArgs(2);
  return "text" === e30.mode ? { tokens: t10[0], numArgs: 0 } : { tokens: t10[1], numArgs: 0 };
});
var R9 = { 0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, a: 10, A: 10, b: 11, B: 11, c: 12, C: 12, d: 13, D: 13, e: 14, E: 14, f: 15, F: 15 };
Rf("\\char", function(e30) {
  var t10, r10, n10 = e30.popToken(), i10 = "";
  if ("'" === n10.text) t10 = 8, n10 = e30.popToken();
  else if ('"' === n10.text) t10 = 16, n10 = e30.popToken();
  else if ("`" === n10.text) {
    if ("\\" === (n10 = e30.popToken()).text[0]) i10 = n10.text.charCodeAt(1);
    else if ("EOF" === n10.text) throw new LY("\\char` missing argument");
    else i10 = n10.text.charCodeAt(0);
  } else t10 = 10;
  if (t10) {
    if (null == (i10 = R9[n10.text]) || i10 >= t10) throw new LY("Invalid base-" + t10 + " digit " + n10.text);
    for (; null != (r10 = R9[e30.future().text]) && r10 < t10; ) i10 *= t10, i10 += r10, e30.popToken();
  }
  return "\\@char{" + i10 + "}";
});
var De = iM((e30, t10, r10) => {
  var n10 = e30.consumeArg().tokens;
  if (1 !== n10.length) throw new LY("\\newcommand's first argument must be a macro name");
  var i10 = n10[0].text, a10 = e30.isDefined(i10);
  if (a10 && !t10) throw new LY("\\newcommand{" + i10 + "} attempting to redefine " + i10 + "; use \\renewcommand");
  if (!a10 && !r10) throw new LY("\\renewcommand{" + i10 + "} when command " + i10 + " does not yet exist; use \\newcommand");
  var s10 = 0;
  if (1 === (n10 = e30.consumeArg().tokens).length && "[" === n10[0].text) {
    for (var o10 = "", l10 = e30.expandNextToken(); "]" !== l10.text && "EOF" !== l10.text; ) o10 += l10.text, l10 = e30.expandNextToken();
    if (!o10.match(/^\s*[0-9]+\s*$/)) throw new LY("Invalid number of arguments: " + o10);
    s10 = parseInt(o10), n10 = e30.consumeArg().tokens;
  }
  return e30.macros.set(i10, { tokens: n10, numArgs: s10 }), "";
}, "newcommand");
Rf("\\newcommand", (e30) => De(e30, false, true)), Rf("\\renewcommand", (e30) => De(e30, true, false)), Rf("\\providecommand", (e30) => De(e30, true, true)), Rf("\\message", (e30) => (console.log(e30.consumeArgs(1)[0].reverse().map((e31) => e31.text).join("")), "")), Rf("\\errmessage", (e30) => (console.error(e30.consumeArgs(1)[0].reverse().map((e31) => e31.text).join("")), "")), Rf("\\show", (e30) => {
  var t10 = e30.popToken(), r10 = t10.text;
  return console.log(t10, e30.macros.get(r10), Mj[r10], I1.math[r10], I1.text[r10]), "";
}), Rf("\\bgroup", "{"), Rf("\\egroup", "}"), Rf("~", "\\nobreakspace"), Rf("\\lq", "`"), Rf("\\rq", "'"), Rf("\\aa", "\\r a"), Rf("\\AA", "\\r A"), Rf("\\textcopyright", "\\html@mathml{\\textcircled{c}}{\\char`©}"), Rf("\\copyright", "\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"), Rf("\\textregistered", "\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"), Rf("ℬ", "\\mathscr{B}"), Rf("ℰ", "\\mathscr{E}"), Rf("ℱ", "\\mathscr{F}"), Rf("ℋ", "\\mathscr{H}"), Rf("ℐ", "\\mathscr{I}"), Rf("ℒ", "\\mathscr{L}"), Rf("ℳ", "\\mathscr{M}"), Rf("ℛ", "\\mathscr{R}"), Rf("ℭ", "\\mathfrak{C}"), Rf("ℌ", "\\mathfrak{H}"), Rf("ℨ", "\\mathfrak{Z}"), Rf("\\Bbbk", "\\Bbb{k}"), Rf("·", "\\cdotp"), Rf("\\llap", "\\mathllap{\\textrm{#1}}"), Rf("\\rlap", "\\mathrlap{\\textrm{#1}}"), Rf("\\clap", "\\mathclap{\\textrm{#1}}"), Rf("\\mathstrut", "\\vphantom{(}"), Rf("\\underbar", "\\underline{\\text{#1}}"), Rf("\\not", '\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'), Rf("\\neq", "\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"), Rf("\\ne", "\\neq"), Rf("≠", "\\neq"), Rf("\\notin", "\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"), Rf("∉", "\\notin"), Rf("≘", "\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"), Rf("≙", "\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"), Rf("≚", "\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"), Rf("≛", "\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"), Rf("≝", "\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"), Rf("≞", "\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"), Rf("≟", "\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"), Rf("⟂", "\\perp"), Rf("‼", "\\mathclose{!\\mkern-0.8mu!}"), Rf("∌", "\\notni"), Rf("⌜", "\\ulcorner"), Rf("⌝", "\\urcorner"), Rf("⌞", "\\llcorner"), Rf("⌟", "\\lrcorner"), Rf("©", "\\copyright"), Rf("®", "\\textregistered"), Rf("️", "\\textregistered"), Rf("\\ulcorner", '\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'), Rf("\\urcorner", '\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'), Rf("\\llcorner", '\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'), Rf("\\lrcorner", '\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'), Rf("\\vdots", "\\mathord{\\varvdots\\rule{0pt}{15pt}}"), Rf("⋮", "\\vdots"), Rf("\\varGamma", "\\mathit{\\Gamma}"), Rf("\\varDelta", "\\mathit{\\Delta}"), Rf("\\varTheta", "\\mathit{\\Theta}"), Rf("\\varLambda", "\\mathit{\\Lambda}"), Rf("\\varXi", "\\mathit{\\Xi}"), Rf("\\varPi", "\\mathit{\\Pi}"), Rf("\\varSigma", "\\mathit{\\Sigma}"), Rf("\\varUpsilon", "\\mathit{\\Upsilon}"), Rf("\\varPhi", "\\mathit{\\Phi}"), Rf("\\varPsi", "\\mathit{\\Psi}"), Rf("\\varOmega", "\\mathit{\\Omega}"), Rf("\\substack", "\\begin{subarray}{c}#1\\end{subarray}"), Rf("\\colon", "\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"), Rf("\\boxed", "\\fbox{$\\displaystyle{#1}$}"), Rf("\\iff", "\\DOTSB\\;\\Longleftrightarrow\\;"), Rf("\\implies", "\\DOTSB\\;\\Longrightarrow\\;"), Rf("\\impliedby", "\\DOTSB\\;\\Longleftarrow\\;");
var Dt = { ",": "\\dotsc", "\\not": "\\dotsb", "+": "\\dotsb", "=": "\\dotsb", "<": "\\dotsb", ">": "\\dotsb", "-": "\\dotsb", "*": "\\dotsb", ":": "\\dotsb", "\\DOTSB": "\\dotsb", "\\coprod": "\\dotsb", "\\bigvee": "\\dotsb", "\\bigwedge": "\\dotsb", "\\biguplus": "\\dotsb", "\\bigcap": "\\dotsb", "\\bigcup": "\\dotsb", "\\prod": "\\dotsb", "\\sum": "\\dotsb", "\\bigotimes": "\\dotsb", "\\bigoplus": "\\dotsb", "\\bigodot": "\\dotsb", "\\bigsqcup": "\\dotsb", "\\And": "\\dotsb", "\\longrightarrow": "\\dotsb", "\\Longrightarrow": "\\dotsb", "\\longleftarrow": "\\dotsb", "\\Longleftarrow": "\\dotsb", "\\longleftrightarrow": "\\dotsb", "\\Longleftrightarrow": "\\dotsb", "\\mapsto": "\\dotsb", "\\longmapsto": "\\dotsb", "\\hookrightarrow": "\\dotsb", "\\doteq": "\\dotsb", "\\mathbin": "\\dotsb", "\\mathrel": "\\dotsb", "\\relbar": "\\dotsb", "\\Relbar": "\\dotsb", "\\xrightarrow": "\\dotsb", "\\xleftarrow": "\\dotsb", "\\DOTSI": "\\dotsi", "\\int": "\\dotsi", "\\oint": "\\dotsi", "\\iint": "\\dotsi", "\\iiint": "\\dotsi", "\\iiiint": "\\dotsi", "\\idotsint": "\\dotsi", "\\DOTSX": "\\dotsx" };
Rf("\\dots", function(e30) {
  var t10 = "\\dotso", r10 = e30.expandAfterFuture().text;
  return r10 in Dt ? t10 = Dt[r10] : "\\not" === r10.slice(0, 4) ? t10 = "\\dotsb" : r10 in I1.math && L3.contains(["bin", "rel"], I1.math[r10].group) && (t10 = "\\dotsb"), t10;
});
var Dr = { ")": true, "]": true, "\\rbrack": true, "\\}": true, "\\rbrace": true, "\\rangle": true, "\\rceil": true, "\\rfloor": true, "\\rgroup": true, "\\rmoustache": true, "\\right": true, "\\bigr": true, "\\biggr": true, "\\Bigr": true, "\\Biggr": true, $: true, ";": true, ".": true, ",": true };
Rf("\\dotso", function(e30) {
  return e30.future().text in Dr ? "\\ldots\\," : "\\ldots";
}), Rf("\\dotsc", function(e30) {
  var t10 = e30.future().text;
  return t10 in Dr && "," !== t10 ? "\\ldots\\," : "\\ldots";
}), Rf("\\cdots", function(e30) {
  return e30.future().text in Dr ? "\\@cdots\\," : "\\@cdots";
}), Rf("\\dotsb", "\\cdots"), Rf("\\dotsm", "\\cdots"), Rf("\\dotsi", "\\!\\cdots"), Rf("\\dotsx", "\\ldots\\,"), Rf("\\DOTSI", "\\relax"), Rf("\\DOTSB", "\\relax"), Rf("\\DOTSX", "\\relax"), Rf("\\tmspace", "\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"), Rf("\\,", "\\tmspace+{3mu}{.1667em}"), Rf("\\thinspace", "\\,"), Rf("\\>", "\\mskip{4mu}"), Rf("\\:", "\\tmspace+{4mu}{.2222em}"), Rf("\\medspace", "\\:"), Rf("\\;", "\\tmspace+{5mu}{.2777em}"), Rf("\\thickspace", "\\;"), Rf("\\!", "\\tmspace-{3mu}{.1667em}"), Rf("\\negthinspace", "\\!"), Rf("\\negmedspace", "\\tmspace-{4mu}{.2222em}"), Rf("\\negthickspace", "\\tmspace-{5mu}{.277em}"), Rf("\\enspace", "\\kern.5em "), Rf("\\enskip", "\\hskip.5em\\relax"), Rf("\\quad", "\\hskip1em\\relax"), Rf("\\qquad", "\\hskip2em\\relax"), Rf("\\tag", "\\@ifstar\\tag@literal\\tag@paren"), Rf("\\tag@paren", "\\tag@literal{({#1})}"), Rf("\\tag@literal", (e30) => {
  if (e30.macros.get("\\df@tag")) throw new LY("Multiple \\tag");
  return "\\gdef\\df@tag{\\text{#1}}";
}), Rf("\\bmod", "\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"), Rf("\\pod", "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"), Rf("\\pmod", "\\pod{{\\rm mod}\\mkern6mu#1}"), Rf("\\mod", "\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"), Rf("\\newline", "\\\\\\relax"), Rf("\\TeX", "\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");
var Dn = IB(I_["Main-Regular"][84][1] - 0.7 * I_["Main-Regular"][65][1]);
Rf("\\LaTeX", "\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{" + Dn + "}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"), Rf("\\KaTeX", "\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{" + Dn + "}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"), Rf("\\hspace", "\\@ifstar\\@hspacer\\@hspace"), Rf("\\@hspace", "\\hskip #1\\relax"), Rf("\\@hspacer", "\\rule{0pt}{0pt}\\hskip #1\\relax"), Rf("\\ordinarycolon", ":"), Rf("\\vcentcolon", "\\mathrel{\\mathop\\ordinarycolon}"), Rf("\\dblcolon", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'), Rf("\\coloneqq", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'), Rf("\\Coloneqq", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'), Rf("\\coloneq", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'), Rf("\\Coloneq", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'), Rf("\\eqqcolon", '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'), Rf("\\Eqqcolon", '\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'), Rf("\\eqcolon", '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'), Rf("\\Eqcolon", '\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'), Rf("\\colonapprox", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'), Rf("\\Colonapprox", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'), Rf("\\colonsim", '\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'), Rf("\\Colonsim", '\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'), Rf("∷", "\\dblcolon"), Rf("∹", "\\eqcolon"), Rf("≔", "\\coloneqq"), Rf("≕", "\\eqqcolon"), Rf("⩴", "\\Coloneqq"), Rf("\\ratio", "\\vcentcolon"), Rf("\\coloncolon", "\\dblcolon"), Rf("\\colonequals", "\\coloneqq"), Rf("\\coloncolonequals", "\\Coloneqq"), Rf("\\equalscolon", "\\eqqcolon"), Rf("\\equalscoloncolon", "\\Eqqcolon"), Rf("\\colonminus", "\\coloneq"), Rf("\\coloncolonminus", "\\Coloneq"), Rf("\\minuscolon", "\\eqcolon"), Rf("\\minuscoloncolon", "\\Eqcolon"), Rf("\\coloncolonapprox", "\\Colonapprox"), Rf("\\coloncolonsim", "\\Colonsim"), Rf("\\simcolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"), Rf("\\simcoloncolon", "\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"), Rf("\\approxcolon", "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"), Rf("\\approxcoloncolon", "\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"), Rf("\\notni", "\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"), Rf("\\limsup", "\\DOTSB\\operatorname*{lim\\,sup}"), Rf("\\liminf", "\\DOTSB\\operatorname*{lim\\,inf}"), Rf("\\injlim", "\\DOTSB\\operatorname*{inj\\,lim}"), Rf("\\projlim", "\\DOTSB\\operatorname*{proj\\,lim}"), Rf("\\varlimsup", "\\DOTSB\\operatorname*{\\overline{lim}}"), Rf("\\varliminf", "\\DOTSB\\operatorname*{\\underline{lim}}"), Rf("\\varinjlim", "\\DOTSB\\operatorname*{\\underrightarrow{lim}}"), Rf("\\varprojlim", "\\DOTSB\\operatorname*{\\underleftarrow{lim}}"), Rf("\\gvertneqq", "\\html@mathml{\\@gvertneqq}{≩}"), Rf("\\lvertneqq", "\\html@mathml{\\@lvertneqq}{≨}"), Rf("\\ngeqq", "\\html@mathml{\\@ngeqq}{≱}"), Rf("\\ngeqslant", "\\html@mathml{\\@ngeqslant}{≱}"), Rf("\\nleqq", "\\html@mathml{\\@nleqq}{≰}"), Rf("\\nleqslant", "\\html@mathml{\\@nleqslant}{≰}"), Rf("\\nshortmid", "\\html@mathml{\\@nshortmid}{∤}"), Rf("\\nshortparallel", "\\html@mathml{\\@nshortparallel}{∦}"), Rf("\\nsubseteqq", "\\html@mathml{\\@nsubseteqq}{⊈}"), Rf("\\nsupseteqq", "\\html@mathml{\\@nsupseteqq}{⊉}"), Rf("\\varsubsetneq", "\\html@mathml{\\@varsubsetneq}{⊊}"), Rf("\\varsubsetneqq", "\\html@mathml{\\@varsubsetneqq}{⫋}"), Rf("\\varsupsetneq", "\\html@mathml{\\@varsupsetneq}{⊋}"), Rf("\\varsupsetneqq", "\\html@mathml{\\@varsupsetneqq}{⫌}"), Rf("\\imath", "\\html@mathml{\\@imath}{ı}"), Rf("\\jmath", "\\html@mathml{\\@jmath}{ȷ}"), Rf("\\llbracket", "\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"), Rf("\\rrbracket", "\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"), Rf("⟦", "\\llbracket"), Rf("⟧", "\\rrbracket"), Rf("\\lBrace", "\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"), Rf("\\rBrace", "\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"), Rf("⦃", "\\lBrace"), Rf("⦄", "\\rBrace"), Rf("\\minuso", "\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"), Rf("⦵", "\\minuso"), Rf("\\darr", "\\downarrow"), Rf("\\dArr", "\\Downarrow"), Rf("\\Darr", "\\Downarrow"), Rf("\\lang", "\\langle"), Rf("\\rang", "\\rangle"), Rf("\\uarr", "\\uparrow"), Rf("\\uArr", "\\Uparrow"), Rf("\\Uarr", "\\Uparrow"), Rf("\\N", "\\mathbb{N}"), Rf("\\R", "\\mathbb{R}"), Rf("\\Z", "\\mathbb{Z}"), Rf("\\alef", "\\aleph"), Rf("\\alefsym", "\\aleph"), Rf("\\Alpha", "\\mathrm{A}"), Rf("\\Beta", "\\mathrm{B}"), Rf("\\bull", "\\bullet"), Rf("\\Chi", "\\mathrm{X}"), Rf("\\clubs", "\\clubsuit"), Rf("\\cnums", "\\mathbb{C}"), Rf("\\Complex", "\\mathbb{C}"), Rf("\\Dagger", "\\ddagger"), Rf("\\diamonds", "\\diamondsuit"), Rf("\\empty", "\\emptyset"), Rf("\\Epsilon", "\\mathrm{E}"), Rf("\\Eta", "\\mathrm{H}"), Rf("\\exist", "\\exists"), Rf("\\harr", "\\leftrightarrow"), Rf("\\hArr", "\\Leftrightarrow"), Rf("\\Harr", "\\Leftrightarrow"), Rf("\\hearts", "\\heartsuit"), Rf("\\image", "\\Im"), Rf("\\infin", "\\infty"), Rf("\\Iota", "\\mathrm{I}"), Rf("\\isin", "\\in"), Rf("\\Kappa", "\\mathrm{K}"), Rf("\\larr", "\\leftarrow"), Rf("\\lArr", "\\Leftarrow"), Rf("\\Larr", "\\Leftarrow"), Rf("\\lrarr", "\\leftrightarrow"), Rf("\\lrArr", "\\Leftrightarrow"), Rf("\\Lrarr", "\\Leftrightarrow"), Rf("\\Mu", "\\mathrm{M}"), Rf("\\natnums", "\\mathbb{N}"), Rf("\\Nu", "\\mathrm{N}"), Rf("\\Omicron", "\\mathrm{O}"), Rf("\\plusmn", "\\pm"), Rf("\\rarr", "\\rightarrow"), Rf("\\rArr", "\\Rightarrow"), Rf("\\Rarr", "\\Rightarrow"), Rf("\\real", "\\Re"), Rf("\\reals", "\\mathbb{R}"), Rf("\\Reals", "\\mathbb{R}"), Rf("\\Rho", "\\mathrm{P}"), Rf("\\sdot", "\\cdot"), Rf("\\sect", "\\S"), Rf("\\spades", "\\spadesuit"), Rf("\\sub", "\\subset"), Rf("\\sube", "\\subseteq"), Rf("\\supe", "\\supseteq"), Rf("\\Tau", "\\mathrm{T}"), Rf("\\thetasym", "\\vartheta"), Rf("\\weierp", "\\wp"), Rf("\\Zeta", "\\mathrm{Z}"), Rf("\\argmin", "\\DOTSB\\operatorname*{arg\\,min}"), Rf("\\argmax", "\\DOTSB\\operatorname*{arg\\,max}"), Rf("\\plim", "\\DOTSB\\mathop{\\operatorname{plim}}\\limits"), Rf("\\bra", "\\mathinner{\\langle{#1}|}"), Rf("\\ket", "\\mathinner{|{#1}\\rangle}"), Rf("\\braket", "\\mathinner{\\langle{#1}\\rangle}"), Rf("\\Bra", "\\left\\langle#1\\right|"), Rf("\\Ket", "\\left|#1\\right\\rangle");
var Di = iM((e30) => (t10) => {
  var r10 = t10.consumeArg().tokens, n10 = t10.consumeArg().tokens, i10 = t10.consumeArg().tokens, a10 = t10.consumeArg().tokens, s10 = t10.macros.get("|"), o10 = t10.macros.get("\\|");
  t10.macros.beginGroup();
  var l10 = iM((t11) => (r11) => {
    e30 && (r11.macros.set("|", s10), i10.length && r11.macros.set("\\|", o10));
    var a11 = t11;
    return !t11 && i10.length && "|" === r11.future().text && (r11.popToken(), a11 = true), { tokens: a11 ? i10 : n10, numArgs: 0 };
  }, "midMacro");
  t10.macros.set("|", l10(false)), i10.length && t10.macros.set("\\|", l10(true));
  var h10 = t10.consumeArg().tokens, u10 = t10.expandTokens([...a10, ...h10, ...r10]);
  return t10.macros.endGroup(), { tokens: u10.reverse(), numArgs: 0 };
}, "braketHelper");
Rf("\\bra@ket", Di(false)), Rf("\\bra@set", Di(true)), Rf("\\Braket", "\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"), Rf("\\Set", "\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"), Rf("\\set", "\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"), Rf("\\angln", "{\\angl n}"), Rf("\\blue", "\\textcolor{##6495ed}{#1}"), Rf("\\orange", "\\textcolor{##ffa500}{#1}"), Rf("\\pink", "\\textcolor{##ff00af}{#1}"), Rf("\\red", "\\textcolor{##df0030}{#1}"), Rf("\\green", "\\textcolor{##28ae7b}{#1}"), Rf("\\gray", "\\textcolor{gray}{#1}"), Rf("\\purple", "\\textcolor{##9d38bd}{#1}"), Rf("\\blueA", "\\textcolor{##ccfaff}{#1}"), Rf("\\blueB", "\\textcolor{##80f6ff}{#1}"), Rf("\\blueC", "\\textcolor{##63d9ea}{#1}"), Rf("\\blueD", "\\textcolor{##11accd}{#1}"), Rf("\\blueE", "\\textcolor{##0c7f99}{#1}"), Rf("\\tealA", "\\textcolor{##94fff5}{#1}"), Rf("\\tealB", "\\textcolor{##26edd5}{#1}"), Rf("\\tealC", "\\textcolor{##01d1c1}{#1}"), Rf("\\tealD", "\\textcolor{##01a995}{#1}"), Rf("\\tealE", "\\textcolor{##208170}{#1}"), Rf("\\greenA", "\\textcolor{##b6ffb0}{#1}"), Rf("\\greenB", "\\textcolor{##8af281}{#1}"), Rf("\\greenC", "\\textcolor{##74cf70}{#1}"), Rf("\\greenD", "\\textcolor{##1fab54}{#1}"), Rf("\\greenE", "\\textcolor{##0d923f}{#1}"), Rf("\\goldA", "\\textcolor{##ffd0a9}{#1}"), Rf("\\goldB", "\\textcolor{##ffbb71}{#1}"), Rf("\\goldC", "\\textcolor{##ff9c39}{#1}"), Rf("\\goldD", "\\textcolor{##e07d10}{#1}"), Rf("\\goldE", "\\textcolor{##a75a05}{#1}"), Rf("\\redA", "\\textcolor{##fca9a9}{#1}"), Rf("\\redB", "\\textcolor{##ff8482}{#1}"), Rf("\\redC", "\\textcolor{##f9685d}{#1}"), Rf("\\redD", "\\textcolor{##e84d39}{#1}"), Rf("\\redE", "\\textcolor{##bc2612}{#1}"), Rf("\\maroonA", "\\textcolor{##ffbde0}{#1}"), Rf("\\maroonB", "\\textcolor{##ff92c6}{#1}"), Rf("\\maroonC", "\\textcolor{##ed5fa6}{#1}"), Rf("\\maroonD", "\\textcolor{##ca337c}{#1}"), Rf("\\maroonE", "\\textcolor{##9e034e}{#1}"), Rf("\\purpleA", "\\textcolor{##ddd7ff}{#1}"), Rf("\\purpleB", "\\textcolor{##c6b9fc}{#1}"), Rf("\\purpleC", "\\textcolor{##aa87ff}{#1}"), Rf("\\purpleD", "\\textcolor{##7854ab}{#1}"), Rf("\\purpleE", "\\textcolor{##543b78}{#1}"), Rf("\\mintA", "\\textcolor{##f5f9e8}{#1}"), Rf("\\mintB", "\\textcolor{##edf2df}{#1}"), Rf("\\mintC", "\\textcolor{##e0e5cc}{#1}"), Rf("\\grayA", "\\textcolor{##f6f7f7}{#1}"), Rf("\\grayB", "\\textcolor{##f0f1f2}{#1}"), Rf("\\grayC", "\\textcolor{##e3e5e6}{#1}"), Rf("\\grayD", "\\textcolor{##d6d8da}{#1}"), Rf("\\grayE", "\\textcolor{##babec2}{#1}"), Rf("\\grayF", "\\textcolor{##888d93}{#1}"), Rf("\\grayG", "\\textcolor{##626569}{#1}"), Rf("\\grayH", "\\textcolor{##3b3e40}{#1}"), Rf("\\grayI", "\\textcolor{##21242c}{#1}"), Rf("\\kaBlue", "\\textcolor{##314453}{#1}"), Rf("\\kaGreen", "\\textcolor{##71B307}{#1}");
var Da = { "^": true, _: true, "\\limits": true, "\\nolimits": true }, Ds = (_Y2 = class {
  constructor(e30, t10, r10) {
    this.settings = void 0, this.expansionCount = void 0, this.lexer = void 0, this.macros = void 0, this.stack = void 0, this.mode = void 0, this.settings = t10, this.expansionCount = 0, this.feed(e30), this.macros = new R8(Rp, t10.macros), this.mode = r10, this.stack = [];
  }
  feed(e30) {
    this.lexer = new R7(e30, this.settings);
  }
  switchMode(e30) {
    this.mode = e30;
  }
  beginGroup() {
    this.macros.beginGroup();
  }
  endGroup() {
    this.macros.endGroup();
  }
  endGroups() {
    this.macros.endGroups();
  }
  future() {
    return 0 === this.stack.length && this.pushToken(this.lexer.lex()), this.stack[this.stack.length - 1];
  }
  popToken() {
    return this.future(), this.stack.pop();
  }
  pushToken(e30) {
    this.stack.push(e30);
  }
  pushTokens(e30) {
    this.stack.push(...e30);
  }
  scanArgument(e30) {
    var t10, r10, n10;
    if (e30) {
      if (this.consumeSpaces(), "[" !== this.future().text) return null;
      t10 = this.popToken(), { tokens: n10, end: r10 } = this.consumeArg(["]"]);
    } else ({ tokens: n10, start: t10, end: r10 } = this.consumeArg());
    return this.pushToken(new LH("EOF", r10.loc)), this.pushTokens(n10), t10.range(r10, "");
  }
  consumeSpaces() {
    for (; ; ) if (" " === this.future().text) this.stack.pop();
    else break;
  }
  consumeArg(e30) {
    var t10, r10 = [], n10 = e30 && e30.length > 0;
    n10 || this.consumeSpaces();
    var i10 = this.future(), a10 = 0, s10 = 0;
    do {
      if (t10 = this.popToken(), r10.push(t10), "{" === t10.text) ++a10;
      else if ("}" === t10.text) {
        if (-1 == --a10) throw new LY("Extra }", t10);
      } else if ("EOF" === t10.text) throw new LY("Unexpected end of input in a macro argument, expected '" + (e30 && n10 ? e30[s10] : "}") + "'", t10);
      if (e30 && n10) {
        if ((0 === a10 || 1 === a10 && "{" === e30[s10]) && t10.text === e30[s10]) {
          if (++s10 === e30.length) {
            r10.splice(-s10, s10);
            break;
          }
        } else s10 = 0;
      }
    } while (0 !== a10 || n10);
    return "{" === i10.text && "}" === r10[r10.length - 1].text && (r10.pop(), r10.shift()), r10.reverse(), { tokens: r10, start: i10, end: t10 };
  }
  consumeArgs(e30, t10) {
    if (t10) {
      if (t10.length !== e30 + 1) throw new LY("The length of delimiters doesn't match the number of args!");
      for (var r10 = t10[0], n10 = 0; n10 < r10.length; n10++) {
        var i10 = this.popToken();
        if (r10[n10] !== i10.text) throw new LY("Use of the macro doesn't match its definition", i10);
      }
    }
    for (var a10 = [], s10 = 0; s10 < e30; s10++) a10.push(this.consumeArg(t10 && t10[s10 + 1]).tokens);
    return a10;
  }
  countExpansion(e30) {
    if (this.expansionCount += e30, this.expansionCount > this.settings.maxExpand) throw new LY("Too many expansions: infinite loop or need to increase maxExpand setting");
  }
  expandOnce(e30) {
    var t10 = this.popToken(), r10 = t10.text, n10 = t10.noexpand ? null : this._getExpansion(r10);
    if (null == n10 || e30 && n10.unexpandable) {
      if (e30 && null == n10 && "\\" === r10[0] && !this.isDefined(r10)) throw new LY("Undefined control sequence: " + r10);
      return this.pushToken(t10), false;
    }
    this.countExpansion(1);
    var i10 = n10.tokens, a10 = this.consumeArgs(n10.numArgs, n10.delimiters);
    if (n10.numArgs) {
      i10 = i10.slice();
      for (var s10 = i10.length - 1; s10 >= 0; --s10) {
        var o10 = i10[s10];
        if ("#" === o10.text) {
          if (0 === s10) throw new LY("Incomplete placeholder at end of macro body", o10);
          if ("#" === (o10 = i10[--s10]).text) i10.splice(s10 + 1, 1);
          else if (/^[1-9]$/.test(o10.text)) i10.splice(s10, 2, ...a10[+o10.text - 1]);
          else throw new LY("Not a valid argument number", o10);
        }
      }
    }
    return this.pushTokens(i10), i10.length;
  }
  expandAfterFuture() {
    return this.expandOnce(), this.future();
  }
  expandNextToken() {
    for (; ; ) if (false === this.expandOnce()) {
      var e30 = this.stack.pop();
      return e30.treatAsRelax && (e30.text = "\\relax"), e30;
    }
    throw Error();
  }
  expandMacro(e30) {
    return this.macros.has(e30) ? this.expandTokens([new LH(e30)]) : void 0;
  }
  expandTokens(e30) {
    var t10 = [], r10 = this.stack.length;
    for (this.pushTokens(e30); this.stack.length > r10; ) if (false === this.expandOnce(true)) {
      var n10 = this.stack.pop();
      n10.treatAsRelax && (n10.noexpand = false, n10.treatAsRelax = false), t10.push(n10);
    }
    return this.countExpansion(t10.length), t10;
  }
  expandMacroAsText(e30) {
    var t10 = this.expandMacro(e30);
    return t10 ? t10.map((e31) => e31.text).join("") : t10;
  }
  _getExpansion(e30) {
    var t10 = this.macros.get(e30);
    if (null == t10) return t10;
    if (1 === e30.length) {
      var r10 = this.lexer.catcodes[e30];
      if (null != r10 && 13 !== r10) return;
    }
    var n10 = "function" == typeof t10 ? t10(this) : t10;
    if ("string" == typeof n10) {
      var i10 = 0;
      if (-1 !== n10.indexOf("#")) for (var a10 = n10.replace(/##/g, ""); -1 !== a10.indexOf("#" + (i10 + 1)); ) ++i10;
      for (var s10 = new R7(n10, this.settings), o10 = [], l10 = s10.lex(); "EOF" !== l10.text; ) o10.push(l10), l10 = s10.lex();
      return o10.reverse(), { tokens: o10, numArgs: i10 };
    }
    return n10;
  }
  isDefined(e30) {
    return this.macros.has(e30) || Mj.hasOwnProperty(e30) || I1.math.hasOwnProperty(e30) || I1.text.hasOwnProperty(e30) || Da.hasOwnProperty(e30);
  }
  isExpandable(e30) {
    var t10 = this.macros.get(e30);
    return null != t10 ? "string" == typeof t10 || "function" == typeof t10 || !t10.unexpandable : Mj.hasOwnProperty(e30) && !Mj[e30].primitive;
  }
}, _i53 = new WeakMap(), __privateAdd(_Y2, _i53, iM(_Y2, "MacroExpander")), _Y2), Do = /^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/, Dl = Object.freeze({ "₊": "+", "₋": "-", "₌": "=", "₍": "(", "₎": ")", "₀": "0", "₁": "1", "₂": "2", "₃": "3", "₄": "4", "₅": "5", "₆": "6", "₇": "7", "₈": "8", "₉": "9", "ₐ": "a", "ₑ": "e", "ₕ": "h", "ᵢ": "i", "ⱼ": "j", "ₖ": "k", "ₗ": "l", "ₘ": "m", "ₙ": "n", "ₒ": "o", "ₚ": "p", "ᵣ": "r", "ₛ": "s", "ₜ": "t", "ᵤ": "u", "ᵥ": "v", "ₓ": "x", "ᵦ": "β", "ᵧ": "γ", "ᵨ": "ρ", "ᵩ": "ϕ", "ᵪ": "χ", "⁺": "+", "⁻": "-", "⁼": "=", "⁽": "(", "⁾": ")", "⁰": "0", "¹": "1", "²": "2", "³": "3", "⁴": "4", "⁵": "5", "⁶": "6", "⁷": "7", "⁸": "8", "⁹": "9", "ᴬ": "A", "ᴮ": "B", "ᴰ": "D", "ᴱ": "E", "ᴳ": "G", "ᴴ": "H", "ᴵ": "I", "ᴶ": "J", "ᴷ": "K", "ᴸ": "L", "ᴹ": "M", "ᴺ": "N", "ᴼ": "O", "ᴾ": "P", "ᴿ": "R", "ᵀ": "T", "ᵁ": "U", "ⱽ": "V", "ᵂ": "W", "ᵃ": "a", "ᵇ": "b", "ᶜ": "c", "ᵈ": "d", "ᵉ": "e", "ᶠ": "f", "ᵍ": "g", ʰ: "h", "ⁱ": "i", ʲ: "j", "ᵏ": "k", ˡ: "l", "ᵐ": "m", ⁿ: "n", "ᵒ": "o", "ᵖ": "p", ʳ: "r", ˢ: "s", "ᵗ": "t", "ᵘ": "u", "ᵛ": "v", ʷ: "w", ˣ: "x", ʸ: "y", "ᶻ": "z", "ᵝ": "β", "ᵞ": "γ", "ᵟ": "δ", "ᵠ": "ϕ", "ᵡ": "χ", "ᶿ": "θ" }), Dc = { "́": { text: "\\'", math: "\\acute" }, "̀": { text: "\\`", math: "\\grave" }, "̈": { text: '\\"', math: "\\ddot" }, "̃": { text: "\\~", math: "\\tilde" }, "̄": { text: "\\=", math: "\\bar" }, "̆": { text: "\\u", math: "\\breve" }, "̌": { text: "\\v", math: "\\check" }, "̂": { text: "\\^", math: "\\hat" }, "̇": { text: "\\.", math: "\\dot" }, "̊": { text: "\\r", math: "\\mathring" }, "̋": { text: "\\H" }, "̧": { text: "\\c" } }, Dh = { á: "á", à: "à", ä: "ä", ǟ: "ǟ", ã: "ã", ā: "ā", ă: "ă", ắ: "ắ", ằ: "ằ", ẵ: "ẵ", ǎ: "ǎ", â: "â", ấ: "ấ", ầ: "ầ", ẫ: "ẫ", ȧ: "ȧ", ǡ: "ǡ", å: "å", ǻ: "ǻ", ḃ: "ḃ", ć: "ć", ḉ: "ḉ", č: "č", ĉ: "ĉ", ċ: "ċ", ç: "ç", ď: "ď", ḋ: "ḋ", ḑ: "ḑ", é: "é", è: "è", ë: "ë", ẽ: "ẽ", ē: "ē", ḗ: "ḗ", ḕ: "ḕ", ĕ: "ĕ", ḝ: "ḝ", ě: "ě", ê: "ê", ế: "ế", ề: "ề", ễ: "ễ", ė: "ė", ȩ: "ȩ", ḟ: "ḟ", ǵ: "ǵ", ḡ: "ḡ", ğ: "ğ", ǧ: "ǧ", ĝ: "ĝ", ġ: "ġ", ģ: "ģ", ḧ: "ḧ", ȟ: "ȟ", ĥ: "ĥ", ḣ: "ḣ", ḩ: "ḩ", í: "í", ì: "ì", ï: "ï", ḯ: "ḯ", ĩ: "ĩ", ī: "ī", ĭ: "ĭ", ǐ: "ǐ", î: "î", ǰ: "ǰ", ĵ: "ĵ", ḱ: "ḱ", ǩ: "ǩ", ķ: "ķ", ĺ: "ĺ", ľ: "ľ", ļ: "ļ", ḿ: "ḿ", ṁ: "ṁ", ń: "ń", ǹ: "ǹ", ñ: "ñ", ň: "ň", ṅ: "ṅ", ņ: "ņ", ó: "ó", ò: "ò", ö: "ö", ȫ: "ȫ", õ: "õ", ṍ: "ṍ", ṏ: "ṏ", ȭ: "ȭ", ō: "ō", ṓ: "ṓ", ṑ: "ṑ", ŏ: "ŏ", ǒ: "ǒ", ô: "ô", ố: "ố", ồ: "ồ", ỗ: "ỗ", ȯ: "ȯ", ȱ: "ȱ", ő: "ő", ṕ: "ṕ", ṗ: "ṗ", ŕ: "ŕ", ř: "ř", ṙ: "ṙ", ŗ: "ŗ", ś: "ś", ṥ: "ṥ", š: "š", ṧ: "ṧ", ŝ: "ŝ", ṡ: "ṡ", ş: "ş", ẗ: "ẗ", ť: "ť", ṫ: "ṫ", ţ: "ţ", ú: "ú", ù: "ù", ü: "ü", ǘ: "ǘ", ǜ: "ǜ", ǖ: "ǖ", ǚ: "ǚ", ũ: "ũ", ṹ: "ṹ", ū: "ū", ṻ: "ṻ", ŭ: "ŭ", ǔ: "ǔ", û: "û", ů: "ů", ű: "ű", ṽ: "ṽ", ẃ: "ẃ", ẁ: "ẁ", ẅ: "ẅ", ŵ: "ŵ", ẇ: "ẇ", ẘ: "ẘ", ẍ: "ẍ", ẋ: "ẋ", ý: "ý", ỳ: "ỳ", ÿ: "ÿ", ỹ: "ỹ", ȳ: "ȳ", ŷ: "ŷ", ẏ: "ẏ", ẙ: "ẙ", ź: "ź", ž: "ž", ẑ: "ẑ", ż: "ż", Á: "Á", À: "À", Ä: "Ä", Ǟ: "Ǟ", Ã: "Ã", Ā: "Ā", Ă: "Ă", Ắ: "Ắ", Ằ: "Ằ", Ẵ: "Ẵ", Ǎ: "Ǎ", Â: "Â", Ấ: "Ấ", Ầ: "Ầ", Ẫ: "Ẫ", Ȧ: "Ȧ", Ǡ: "Ǡ", Å: "Å", Ǻ: "Ǻ", Ḃ: "Ḃ", Ć: "Ć", Ḉ: "Ḉ", Č: "Č", Ĉ: "Ĉ", Ċ: "Ċ", Ç: "Ç", Ď: "Ď", Ḋ: "Ḋ", Ḑ: "Ḑ", É: "É", È: "È", Ë: "Ë", Ẽ: "Ẽ", Ē: "Ē", Ḗ: "Ḗ", Ḕ: "Ḕ", Ĕ: "Ĕ", Ḝ: "Ḝ", Ě: "Ě", Ê: "Ê", Ế: "Ế", Ề: "Ề", Ễ: "Ễ", Ė: "Ė", Ȩ: "Ȩ", Ḟ: "Ḟ", Ǵ: "Ǵ", Ḡ: "Ḡ", Ğ: "Ğ", Ǧ: "Ǧ", Ĝ: "Ĝ", Ġ: "Ġ", Ģ: "Ģ", Ḧ: "Ḧ", Ȟ: "Ȟ", Ĥ: "Ĥ", Ḣ: "Ḣ", Ḩ: "Ḩ", Í: "Í", Ì: "Ì", Ï: "Ï", Ḯ: "Ḯ", Ĩ: "Ĩ", Ī: "Ī", Ĭ: "Ĭ", Ǐ: "Ǐ", Î: "Î", İ: "İ", Ĵ: "Ĵ", Ḱ: "Ḱ", Ǩ: "Ǩ", Ķ: "Ķ", Ĺ: "Ĺ", Ľ: "Ľ", Ļ: "Ļ", Ḿ: "Ḿ", Ṁ: "Ṁ", Ń: "Ń", Ǹ: "Ǹ", Ñ: "Ñ", Ň: "Ň", Ṅ: "Ṅ", Ņ: "Ņ", Ó: "Ó", Ò: "Ò", Ö: "Ö", Ȫ: "Ȫ", Õ: "Õ", Ṍ: "Ṍ", Ṏ: "Ṏ", Ȭ: "Ȭ", Ō: "Ō", Ṓ: "Ṓ", Ṑ: "Ṑ", Ŏ: "Ŏ", Ǒ: "Ǒ", Ô: "Ô", Ố: "Ố", Ồ: "Ồ", Ỗ: "Ỗ", Ȯ: "Ȯ", Ȱ: "Ȱ", Ő: "Ő", Ṕ: "Ṕ", Ṗ: "Ṗ", Ŕ: "Ŕ", Ř: "Ř", Ṙ: "Ṙ", Ŗ: "Ŗ", Ś: "Ś", Ṥ: "Ṥ", Š: "Š", Ṧ: "Ṧ", Ŝ: "Ŝ", Ṡ: "Ṡ", Ş: "Ş", Ť: "Ť", Ṫ: "Ṫ", Ţ: "Ţ", Ú: "Ú", Ù: "Ù", Ü: "Ü", Ǘ: "Ǘ", Ǜ: "Ǜ", Ǖ: "Ǖ", Ǚ: "Ǚ", Ũ: "Ũ", Ṹ: "Ṹ", Ū: "Ū", Ṻ: "Ṻ", Ŭ: "Ŭ", Ǔ: "Ǔ", Û: "Û", Ů: "Ů", Ű: "Ű", Ṽ: "Ṽ", Ẃ: "Ẃ", Ẁ: "Ẁ", Ẅ: "Ẅ", Ŵ: "Ŵ", Ẇ: "Ẇ", Ẍ: "Ẍ", Ẋ: "Ẋ", Ý: "Ý", Ỳ: "Ỳ", Ÿ: "Ÿ", Ỹ: "Ỹ", Ȳ: "Ȳ", Ŷ: "Ŷ", Ẏ: "Ẏ", Ź: "Ź", Ž: "Ž", Ẑ: "Ẑ", Ż: "Ż", ά: "ά", ὰ: "ὰ", ᾱ: "ᾱ", ᾰ: "ᾰ", έ: "έ", ὲ: "ὲ", ή: "ή", ὴ: "ὴ", ί: "ί", ὶ: "ὶ", ϊ: "ϊ", ΐ: "ΐ", ῒ: "ῒ", ῑ: "ῑ", ῐ: "ῐ", ό: "ό", ὸ: "ὸ", ύ: "ύ", ὺ: "ὺ", ϋ: "ϋ", ΰ: "ΰ", ῢ: "ῢ", ῡ: "ῡ", ῠ: "ῠ", ώ: "ώ", ὼ: "ὼ", Ύ: "Ύ", Ὺ: "Ὺ", Ϋ: "Ϋ", Ῡ: "Ῡ", Ῠ: "Ῠ", Ώ: "Ώ", Ὼ: "Ὼ" }, Du = (_Z2 = class {
  constructor(e30, t10) {
    this.mode = void 0, this.gullet = void 0, this.settings = void 0, this.leftrightDepth = void 0, this.nextToken = void 0, this.mode = "math", this.gullet = new Ds(e30, t10, this.mode), this.settings = t10, this.leftrightDepth = 0;
  }
  expect(e30, t10) {
    if (void 0 === t10 && (t10 = true), this.fetch().text !== e30) throw new LY("Expected '" + e30 + "', got '" + this.fetch().text + "'", this.fetch());
    t10 && this.consume();
  }
  consume() {
    this.nextToken = null;
  }
  fetch() {
    return null == this.nextToken && (this.nextToken = this.gullet.expandNextToken()), this.nextToken;
  }
  switchMode(e30) {
    this.mode = e30, this.gullet.switchMode(e30);
  }
  parse() {
    this.settings.globalGroup || this.gullet.beginGroup(), this.settings.colorIsTextColor && this.gullet.macros.set("\\color", "\\textcolor");
    try {
      var e30 = this.parseExpression(false);
      return this.expect("EOF"), this.settings.globalGroup || this.gullet.endGroup(), e30;
    } finally {
      this.gullet.endGroups();
    }
  }
  subparse(e30) {
    var t10 = this.nextToken;
    this.consume(), this.gullet.pushToken(new LH("}")), this.gullet.pushTokens(e30);
    var r10 = this.parseExpression(false);
    return this.expect("}"), this.nextToken = t10, r10;
  }
  parseExpression(t10, r10) {
    for (var n10 = []; ; ) {
      "math" === this.mode && this.consumeSpaces();
      var i10 = this.fetch();
      if (-1 !== _Z2.endOfExpression.indexOf(i10.text) || r10 && i10.text === r10 || t10 && Mj[i10.text] && Mj[i10.text].infix) break;
      var a10 = this.parseAtom(r10);
      if (a10) {
        if ("internal" === a10.type) continue;
      } else break;
      n10.push(a10);
    }
    return "text" === this.mode && this.formLigatures(n10), this.handleInfixNodes(n10);
  }
  handleInfixNodes(e30) {
    for (var t10 = -1, r10 = 0; r10 < e30.length; r10++) if ("infix" === e30[r10].type) {
      if (-1 !== t10) throw new LY("only one infix operator per group", e30[r10].token);
      t10 = r10, n10 = e30[r10].replaceWith;
    }
    if (-1 === t10 || !n10) return e30;
    var n10, i10, a10, s10 = e30.slice(0, t10), o10 = e30.slice(t10 + 1);
    return i10 = 1 === s10.length && "ordgroup" === s10[0].type ? s10[0] : { type: "ordgroup", mode: this.mode, body: s10 }, a10 = 1 === o10.length && "ordgroup" === o10[0].type ? o10[0] : { type: "ordgroup", mode: this.mode, body: o10 }, ["\\\\abovefrac" === n10 ? this.callFunction(n10, [i10, e30[t10], a10], []) : this.callFunction(n10, [i10, a10], [])];
  }
  handleSupSubscript(e30) {
    var t10 = this.fetch(), r10 = t10.text;
    this.consume(), this.consumeSpaces();
    var n10 = this.parseGroup(e30);
    if (!n10) throw new LY("Expected group after '" + r10 + "'", t10);
    return n10;
  }
  formatUnsupportedCmd(e30) {
    for (var t10 = [], r10 = 0; r10 < e30.length; r10++) t10.push({ type: "textord", mode: "text", text: e30[r10] });
    var n10 = { type: "text", mode: this.mode, body: t10 };
    return { type: "color", mode: this.mode, color: this.settings.errorColor, body: [n10] };
  }
  parseAtom(e30) {
    var t10, r10, n10 = this.parseGroup("atom", e30);
    if ("text" === this.mode) return n10;
    for (; ; ) {
      this.consumeSpaces();
      var i10 = this.fetch();
      if ("\\limits" === i10.text || "\\nolimits" === i10.text) {
        if (n10 && "op" === n10.type) {
          var a10 = "\\limits" === i10.text;
          n10.limits = a10, n10.alwaysHandleSupSub = true;
        } else if (n10 && "operatorname" === n10.type) n10.alwaysHandleSupSub && (n10.limits = "\\limits" === i10.text);
        else throw new LY("Limit controls must follow a math operator", i10);
        this.consume();
      } else if ("^" === i10.text) {
        if (t10) throw new LY("Double superscript", i10);
        t10 = this.handleSupSubscript("superscript");
      } else if ("_" === i10.text) {
        if (r10) throw new LY("Double subscript", i10);
        r10 = this.handleSupSubscript("subscript");
      } else if ("'" === i10.text) {
        if (t10) throw new LY("Double superscript", i10);
        var s10 = { type: "textord", mode: this.mode, text: "\\prime" }, o10 = [s10];
        for (this.consume(); "'" === this.fetch().text; ) o10.push(s10), this.consume();
        "^" === this.fetch().text && o10.push(this.handleSupSubscript("superscript")), t10 = { type: "ordgroup", mode: this.mode, body: o10 };
      } else if (Dl[i10.text]) {
        var l10 = Do.test(i10.text), h10 = [];
        for (h10.push(new LH(Dl[i10.text])), this.consume(); ; ) {
          var u10 = this.fetch().text;
          if (!Dl[u10] || Do.test(u10) !== l10) break;
          h10.unshift(new LH(Dl[u10])), this.consume();
        }
        var d10 = this.subparse(h10);
        l10 ? r10 = { type: "ordgroup", mode: "math", body: d10 } : t10 = { type: "ordgroup", mode: "math", body: d10 };
      } else break;
    }
    return t10 || r10 ? { type: "supsub", mode: this.mode, base: n10, sup: t10, sub: r10 } : n10;
  }
  parseFunction(e30, t10) {
    var r10 = this.fetch(), n10 = r10.text, i10 = Mj[n10];
    if (!i10) return null;
    if (this.consume(), t10 && "atom" !== t10 && !i10.allowedInArgument) throw new LY("Got function '" + n10 + "' with no arguments" + (t10 ? " as " + t10 : ""), r10);
    if ("text" !== this.mode || i10.allowedInText) {
      if ("math" === this.mode && false === i10.allowedInMath) throw new LY("Can't use function '" + n10 + "' in math mode", r10);
    } else throw new LY("Can't use function '" + n10 + "' in text mode", r10);
    var { args: a10, optArgs: s10 } = this.parseArguments(n10, i10);
    return this.callFunction(n10, a10, s10, r10, e30);
  }
  callFunction(e30, t10, r10, n10, i10) {
    var a10 = Mj[e30];
    if (a10 && a10.handler) return a10.handler({ funcName: e30, parser: this, token: n10, breakOnTokenText: i10 }, t10, r10);
    throw new LY("No function handler for " + e30);
  }
  parseArguments(e30, t10) {
    var r10 = t10.numArgs + t10.numOptionalArgs;
    if (0 === r10) return { args: [], optArgs: [] };
    for (var n10 = [], i10 = [], a10 = 0; a10 < r10; a10++) {
      var s10 = t10.argTypes && t10.argTypes[a10], o10 = a10 < t10.numOptionalArgs;
      (t10.primitive && null == s10 || "sqrt" === t10.type && 1 === a10 && null == i10[0]) && (s10 = "primitive");
      var l10 = this.parseGroupOfType("argument to '" + e30 + "'", s10, o10);
      if (o10) i10.push(l10);
      else if (null != l10) n10.push(l10);
      else throw new LY("Null argument, please report this as a bug");
    }
    return { args: n10, optArgs: i10 };
  }
  parseGroupOfType(e30, t10, r10) {
    switch (t10) {
      case "color":
        return this.parseColorGroup(r10);
      case "size":
        return this.parseSizeGroup(r10);
      case "url":
        return this.parseUrlGroup(r10);
      case "math":
      case "text":
        return this.parseArgumentGroup(r10, t10);
      case "hbox":
        var n10 = this.parseArgumentGroup(r10, "text");
        return null != n10 ? { type: "styling", mode: n10.mode, body: [n10], style: "text" } : null;
      case "raw":
        var i10 = this.parseStringGroup("raw", r10);
        return null != i10 ? { type: "raw", mode: "text", string: i10.text } : null;
      case "primitive":
        if (r10) throw new LY("A primitive argument cannot be optional");
        var a10 = this.parseGroup(e30);
        if (null == a10) throw new LY("Expected group as " + e30, this.fetch());
        return a10;
      case "original":
      case null:
      case void 0:
        return this.parseArgumentGroup(r10);
      default:
        throw new LY("Unknown group type as " + e30, this.fetch());
    }
  }
  consumeSpaces() {
    for (; " " === this.fetch().text; ) this.consume();
  }
  parseStringGroup(e30, t10) {
    var r10, n10 = this.gullet.scanArgument(t10);
    if (null == n10) return null;
    for (var i10 = ""; "EOF" !== (r10 = this.fetch()).text; ) i10 += r10.text, this.consume();
    return this.consume(), n10.text = i10, n10;
  }
  parseRegexGroup(e30, t10) {
    for (var r10, n10 = this.fetch(), i10 = n10, a10 = ""; "EOF" !== (r10 = this.fetch()).text && e30.test(a10 + r10.text); ) a10 += (i10 = r10).text, this.consume();
    if ("" === a10) throw new LY("Invalid " + t10 + ": '" + n10.text + "'", n10);
    return n10.range(i10, a10);
  }
  parseColorGroup(e30) {
    var t10 = this.parseStringGroup("color", e30);
    if (null == t10) return null;
    var r10 = /^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t10.text);
    if (!r10) throw new LY("Invalid color: '" + t10.text + "'", t10);
    var n10 = r10[0];
    return /^[0-9a-f]{6}$/i.test(n10) && (n10 = "#" + n10), { type: "color-token", mode: this.mode, color: n10 };
  }
  parseSizeGroup(e30) {
    var t10, r10 = false;
    if (this.gullet.consumeSpaces(), !(t10 = e30 || "{" === this.gullet.future().text ? this.parseStringGroup("size", e30) : this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/, "size"))) return null;
    e30 || 0 !== t10.text.length || (t10.text = "0pt", r10 = true);
    var n10 = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t10.text);
    if (!n10) throw new LY("Invalid size: '" + t10.text + "'", t10);
    var i10 = { number: +(n10[1] + n10[2]), unit: n10[3] };
    if (!I$(i10)) throw new LY("Invalid unit: '" + i10.unit + "'", t10);
    return { type: "size", mode: this.mode, value: i10, isBlank: r10 };
  }
  parseUrlGroup(e30) {
    this.gullet.lexer.setCatcode("%", 13), this.gullet.lexer.setCatcode("~", 12);
    var t10 = this.parseStringGroup("url", e30);
    if (this.gullet.lexer.setCatcode("%", 14), this.gullet.lexer.setCatcode("~", 13), null == t10) return null;
    var r10 = t10.text.replace(/\\([#$%&~_^{}])/g, "$1");
    return { type: "url", mode: this.mode, url: r10 };
  }
  parseArgumentGroup(e30, t10) {
    var r10 = this.gullet.scanArgument(e30);
    if (null == r10) return null;
    var n10 = this.mode;
    t10 && this.switchMode(t10), this.gullet.beginGroup();
    var i10 = this.parseExpression(false, "EOF");
    this.expect("EOF"), this.gullet.endGroup();
    var a10 = { type: "ordgroup", mode: this.mode, loc: r10.loc, body: i10 };
    return t10 && this.switchMode(n10), a10;
  }
  parseGroup(e30, t10) {
    var r10, n10 = this.fetch(), i10 = n10.text;
    if ("{" === i10 || "\\begingroup" === i10) {
      this.consume();
      var a10 = "{" === i10 ? "}" : "\\endgroup";
      this.gullet.beginGroup();
      var s10 = this.parseExpression(false, a10), o10 = this.fetch();
      this.expect(a10), this.gullet.endGroup(), r10 = { type: "ordgroup", mode: this.mode, loc: LV.range(n10, o10), body: s10, semisimple: "\\begingroup" === i10 || void 0 };
    } else if (null == (r10 = this.parseFunction(t10, e30) || this.parseSymbol()) && "\\" === i10[0] && !Da.hasOwnProperty(i10)) {
      if (this.settings.throwOnError) throw new LY("Undefined control sequence: " + i10, n10);
      r10 = this.formatUnsupportedCmd(i10), this.consume();
    }
    return r10;
  }
  formLigatures(e30) {
    for (var t10 = e30.length - 1, r10 = 0; r10 < t10; ++r10) {
      var n10 = e30[r10], i10 = n10.text;
      "-" === i10 && "-" === e30[r10 + 1].text && (r10 + 1 < t10 && "-" === e30[r10 + 2].text ? (e30.splice(r10, 3, { type: "textord", mode: "text", loc: LV.range(n10, e30[r10 + 2]), text: "---" }), t10 -= 2) : (e30.splice(r10, 2, { type: "textord", mode: "text", loc: LV.range(n10, e30[r10 + 1]), text: "--" }), t10 -= 1)), ("'" === i10 || "`" === i10) && e30[r10 + 1].text === i10 && (e30.splice(r10, 2, { type: "textord", mode: "text", loc: LV.range(n10, e30[r10 + 1]), text: i10 + i10 }), t10 -= 1);
    }
  }
  parseSymbol() {
    var e30 = this.fetch(), t10 = e30.text;
    if (/^\\verb[^a-zA-Z]/.test(t10)) {
      this.consume();
      var r10 = t10.slice(5), n10 = "*" === r10.charAt(0);
      if (n10 && (r10 = r10.slice(1)), r10.length < 2 || r10.charAt(0) !== r10.slice(-1)) throw new LY("\\verb assertion failed --\n                    please report what input caused this bug");
      return { type: "verb", mode: "text", body: r10 = r10.slice(1, -1), star: n10 };
    }
    Dh.hasOwnProperty(t10[0]) && !I1[this.mode][t10[0]] && (this.settings.strict && "math" === this.mode && this.settings.reportNonstrict("unicodeTextInMathMode", 'Accented Unicode text character "' + t10[0] + '" used in math mode', e30), t10 = Dh[t10[0]] + t10.slice(1));
    var i10 = R5.exec(t10);
    if (i10 && ("i" === (t10 = t10.substring(0, i10.index)) ? t10 = "ı" : "j" === t10 && (t10 = "ȷ")), I1[this.mode][t10]) {
      this.settings.strict && "math" === this.mode && Mh.indexOf(t10) >= 0 && this.settings.reportNonstrict("unicodeTextInMathMode", 'Latin-1/Unicode text character "' + t10[0] + '" used in math mode', e30);
      var a10, s10 = I1[this.mode][t10].group, o10 = LV.range(e30);
      a10 = IJ.hasOwnProperty(s10) ? { type: "atom", mode: this.mode, family: s10, loc: o10, text: t10 } : { type: s10, mode: this.mode, loc: o10, text: t10 };
    } else {
      if (!(t10.charCodeAt(0) >= 128)) return null;
      this.settings.strict && (Ih(t10.charCodeAt(0)) ? "math" === this.mode && this.settings.reportNonstrict("unicodeTextInMathMode", 'Unicode text character "' + t10[0] + '" used in math mode', e30) : this.settings.reportNonstrict("unknownSymbol", 'Unrecognized Unicode character "' + t10[0] + '" (' + t10.charCodeAt(0) + ")", e30)), a10 = { type: "textord", mode: "text", loc: LV.range(e30), text: t10 };
    }
    if (this.consume(), i10) for (var l10 = 0; l10 < i10[0].length; l10++) {
      var h10 = i10[0][l10];
      if (!Dc[h10]) throw new LY("Unknown accent ' " + h10 + "'", e30);
      var u10 = Dc[h10][this.mode] || Dc[h10].text;
      if (!u10) throw new LY("Accent " + h10 + " unsupported in " + this.mode + " mode", e30);
      a10 = { type: "accent", mode: this.mode, loc: LV.range(e30), label: u10, isStretchy: false, isShifty: true, base: a10 };
    }
    return a10;
  }
}, _i54 = new WeakMap(), __privateAdd(_Z2, _i54, iM(_Z2, "Parser")), _Z2);
Du.endOfExpression = ["}", "\\endgroup", "\\end", "\\right", "&"];
var Dd = iM(function(e30, t10) {
  if (!("string" == typeof e30 || e30 instanceof String)) throw TypeError("KaTeX can only parse string typed expression");
  var r10 = new Du(e30, t10);
  delete r10.gullet.macros.current["\\df@tag"];
  var n10 = r10.parse();
  if (delete r10.gullet.macros.current["\\current@color"], delete r10.gullet.macros.current["\\color"], r10.gullet.macros.get("\\df@tag")) {
    if (!t10.displayMode) throw new LY("\\tag works only in display equations");
    n10 = [{ type: "tag", mode: "text", body: n10, tag: r10.subparse([new LH("\\df@tag")]) }];
  }
  return n10;
}, "parseTree"), Dp = iM(function(e30, t10, r10) {
  t10.textContent = "";
  var n10 = Dy(e30, r10).toNode();
  t10.appendChild(n10);
}, "render");
"undefined" != typeof document && "CSS1Compat" !== document.compatMode && ("undefined" != typeof console && console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."), Dp = iM(function() {
  throw new LY("KaTeX doesn't work in quirks mode.");
}, "render"));
var Df = iM(function(e30, t10) {
  return Dy(e30, t10).toMarkup();
}, "renderToString"), Dg = iM(function(e30, t10) {
  return Dd(e30, new L7(t10));
}, "generateParseTree"), Dm = iM(function(e30, t10, r10) {
  if (r10.throwOnError || !(e30 instanceof LY)) throw e30;
  var n10 = MO.makeSpan(["katex-error"], [new IY(t10)]);
  return n10.setAttribute("title", e30.toString()), n10.setAttribute("style", "color:" + r10.errorColor), n10;
}, "renderError"), Dy = iM(function(e30, t10) {
  var r10 = new L7(t10);
  try {
    var n10 = Dd(e30, r10);
    return Nu(n10, e30, r10);
  } catch (t11) {
    return Dm(t11, e30, r10);
  }
}, "renderToDomTree");
let Dv = Object.freeze(Object.defineProperty({ __proto__: null, default: { version: "0.16.11", render: Dp, renderToString: Df, ParseError: LY, SETTINGS_SCHEMA: L5, __parse: Dg, __renderToDomTree: Dy, __renderToHTMLTree: iM(function(e30, t10) {
  var r10 = new L7(t10);
  try {
    var n10 = Dd(e30, r10);
    return Nd(n10, e30, r10);
  } catch (t11) {
    return Dm(t11, e30, r10);
  }
}, "renderToHTMLTree"), __setFontMetrics: IC, __defineSymbol: I2, __defineFunction: MW, __defineMacro: Rf, __domTree: { Span: IU, Anchor: IW, SymbolNode: IY, SvgNode: IG, PathNode: IX, LineNode: IK } } }, Symbol.toStringTag, { value: "Module" }));
function Dx(e30) {
  return bB(e30) ? kn(e30) : CI(e30);
}
function Db(e30, t10) {
  for (var r10 = -1, n10 = null == e30 ? 0 : e30.length; ++r10 < n10 && false !== t10(e30[r10], r10, e30); ) ;
  return e30;
}
function Dk(e30, t10) {
  return e30 && b8(t10, Dx(t10), e30);
}
function Dw(e30, t10) {
  return e30 && b8(t10, ko(t10), e30);
}
function D_(e30, t10) {
  for (var r10 = -1, n10 = null == e30 ? 0 : e30.length, i10 = 0, a10 = []; ++r10 < n10; ) {
    var s10 = e30[r10];
    t10(s10, r10, e30) && (a10[i10++] = s10);
  }
  return a10;
}
function DT() {
  return [];
}
iM(Dx, "keys"), iM(Db, "arrayEach"), iM(Dk, "baseAssign"), iM(Dw, "baseAssignIn"), iM(D_, "arrayFilter"), iM(DT, "stubArray");
var DS = Object.prototype.propertyIsEnumerable, DC = Object.getOwnPropertySymbols, DE = DC ? function(e30) {
  return null == e30 ? [] : D_(DC(e30 = Object(e30)), function(t10) {
    return DS.call(e30, t10);
  });
} : DT;
function DA(e30, t10) {
  return b8(e30, DE(e30), t10);
}
function DL(e30, t10) {
  for (var r10 = -1, n10 = t10.length, i10 = e30.length; ++r10 < n10; ) e30[i10 + r10] = t10[r10];
  return e30;
}
iM(DA, "copySymbols"), iM(DL, "arrayPush");
var DI = Object.getOwnPropertySymbols ? function(e30) {
  for (var t10 = []; e30; ) DL(t10, DE(e30)), e30 = bC(e30);
  return t10;
} : DT;
function DM(e30, t10) {
  return b8(e30, DI(e30), t10);
}
function DN(e30, t10, r10) {
  var n10 = t10(e30);
  return b$(e30) ? n10 : DL(n10, r10(e30));
}
function DR(e30) {
  return DN(e30, Dx, DE);
}
function DD(e30) {
  return DN(e30, ko, DI);
}
iM(DM, "copySymbolsIn"), iM(DN, "baseGetAllKeys"), iM(DR, "getAllKeys"), iM(DD, "getAllKeysIn");
var DO = Object.prototype.hasOwnProperty;
function D$(e30) {
  var t10 = e30.length, r10 = new e30.constructor(t10);
  return t10 && "string" == typeof e30[0] && DO.call(e30, "index") && (r10.index = e30.index, r10.input = e30.input), r10;
}
function DP(e30, t10) {
  var r10 = t10 ? bb(e30.buffer) : e30.buffer;
  return new e30.constructor(r10, e30.byteOffset, e30.byteLength);
}
iM(D$, "initCloneArray"), iM(DP, "cloneDataView");
var DB = /\w*$/;
function DF(e30) {
  var t10 = new e30.constructor(e30.source, DB.exec(e30));
  return t10.lastIndex = e30.lastIndex, t10;
}
iM(DF, "cloneRegExp");
var Dz = xp ? xp.prototype : void 0, Dj = Dz ? Dz.valueOf : void 0;
function Dq(e30) {
  return Dj ? Object(Dj.call(e30)) : {};
}
function DU(e30, t10, r10) {
  var n10 = e30.constructor;
  switch (t10) {
    case "[object ArrayBuffer]":
      return bb(e30);
    case "[object Boolean]":
    case "[object Date]":
      return new n10(+e30);
    case "[object DataView]":
      return DP(e30, r10);
    case "[object Float32Array]":
    case "[object Float64Array]":
    case "[object Int8Array]":
    case "[object Int16Array]":
    case "[object Int32Array]":
    case "[object Uint8Array]":
    case "[object Uint8ClampedArray]":
    case "[object Uint16Array]":
    case "[object Uint32Array]":
      return bk(e30, r10);
    case "[object Map]":
    case "[object Set]":
      return new n10();
    case "[object Number]":
    case "[object String]":
      return new n10(e30);
    case "[object RegExp]":
      return DF(e30);
    case "[object Symbol]":
      return Dq(e30);
  }
}
function DW(e30) {
  return bI(e30) && "[object Map]" == CH(e30);
}
iM(Dq, "cloneSymbol"), iM(DU, "initCloneByTag"), iM(DW, "baseIsMap");
var DV = b2 && b2.isMap, DH = DV ? bQ(DV) : DW;
function DY(e30) {
  return bI(e30) && "[object Set]" == CH(e30);
}
iM(DY, "baseIsSet");
var DG = b2 && b2.isSet, DX = DG ? bQ(DG) : DY, DK = "[object Arguments]", DZ = "[object Function]", DQ = "[object Object]", DJ = {};
function D0(e30, t10, r10, n10, i10, a10) {
  var s10, o10 = 1 & t10, l10 = 2 & t10, h10 = 4 & t10;
  if (r10 && (s10 = i10 ? r10(e30, n10, i10, a10) : r10(e30)), void 0 !== s10) return s10;
  if (!x_(e30)) return e30;
  var u10 = b$(e30);
  if (u10) {
    if (s10 = D$(e30), !o10) return bw(e30, s10);
  } else {
    var d10 = CH(e30), p10 = d10 == DZ || "[object GeneratorFunction]" == d10;
    if (bW(e30)) return bv(e30, o10);
    if (d10 == DQ || d10 == DK || p10 && !i10) {
      if (s10 = l10 || p10 ? {} : bL(e30), !o10) return l10 ? DM(e30, Dw(s10, e30)) : DA(e30, Dk(s10, e30));
    } else {
      if (!DJ[d10]) return i10 ? e30 : {};
      s10 = DU(e30, d10, o10);
    }
  }
  a10 || (a10 = new bl());
  var f10 = a10.get(e30);
  if (f10) return f10;
  a10.set(e30, s10), DX(e30) ? e30.forEach(function(n11) {
    s10.add(D0(n11, t10, r10, n11, e30, a10));
  }) : DH(e30) && e30.forEach(function(n11, i11) {
    s10.set(i11, D0(n11, t10, r10, i11, e30, a10));
  });
  var g10 = h10 ? l10 ? DD : DR : l10 ? ko : Dx, y10 = u10 ? void 0 : g10(e30);
  return Db(y10 || e30, function(n11, i11) {
    y10 && (n11 = e30[i11 = n11]), b7(s10, i11, D0(n11, t10, r10, i11, e30, a10));
  }), s10;
}
function D1(e30) {
  return D0(e30, 4);
}
DJ[DK] = DJ["[object Array]"] = DJ["[object ArrayBuffer]"] = DJ["[object DataView]"] = DJ["[object Boolean]"] = DJ["[object Date]"] = DJ["[object Float32Array]"] = DJ["[object Float64Array]"] = DJ["[object Int8Array]"] = DJ["[object Int16Array]"] = DJ["[object Int32Array]"] = DJ["[object Map]"] = DJ["[object Number]"] = DJ[DQ] = DJ["[object RegExp]"] = DJ["[object Set]"] = DJ["[object String]"] = DJ["[object Symbol]"] = DJ["[object Uint8Array]"] = DJ["[object Uint8ClampedArray]"] = DJ["[object Uint16Array]"] = DJ["[object Uint32Array]"] = true, DJ["[object Error]"] = DJ[DZ] = DJ["[object WeakMap]"] = false, iM(D0, "baseClone"), iM(D1, "clone");
var D2 = Object.prototype, D4 = D2.hasOwnProperty, D3 = kx(function(e30, t10) {
  e30 = Object(e30);
  var r10 = -1, n10 = t10.length, i10 = n10 > 2 ? t10[2] : void 0;
  for (i10 && kb(t10[0], t10[1], i10) && (n10 = 1); ++r10 < n10; ) for (var a10 = t10[r10], s10 = ko(a10), o10 = -1, l10 = s10.length; ++o10 < l10; ) {
    var h10 = s10[o10], u10 = e30[h10];
    (void 0 === u10 || xG(u10, D2[h10]) && !D4.call(e30, h10)) && (e30[h10] = a10[h10]);
  }
  return e30;
});
function D5(e30) {
  var t10 = null == e30 ? 0 : e30.length;
  return t10 ? e30[t10 - 1] : void 0;
}
function D6(e30, t10) {
  return e30 && bp(e30, t10, Dx);
}
function D7(e30, t10) {
  return function(r10, n10) {
    if (null == r10) return r10;
    if (!bB(r10)) return e30(r10, n10);
    for (var i10 = r10.length, a10 = t10 ? i10 : -1, s10 = Object(r10); (t10 ? a10-- : ++a10 < i10) && false !== n10(s10[a10], a10, s10); ) ;
    return r10;
  };
}
iM(D5, "last"), iM(D6, "baseForOwn"), iM(D7, "createBaseEach");
var D8 = D7(D6);
function D9(e30) {
  return "function" == typeof e30 ? e30 : ku;
}
function Oe(e30, t10) {
  return (b$(e30) ? Db : D8)(e30, D9(t10));
}
function Ot(e30, t10) {
  var r10 = [];
  return D8(e30, function(e31, n10, i10) {
    t10(e31, n10, i10) && r10.push(e31);
  }), r10;
}
function Or(e30) {
  return this.__data__.set(e30, "__lodash_hash_undefined__"), this;
}
function On(e30) {
  return this.__data__.has(e30);
}
function Oi(e30) {
  var t10 = -1, r10 = null == e30 ? 0 : e30.length;
  for (this.__data__ = new be(); ++t10 < r10; ) this.add(e30[t10]);
}
function Oa(e30, t10) {
  for (var r10 = -1, n10 = null == e30 ? 0 : e30.length; ++r10 < n10; ) if (t10(e30[r10], r10, e30)) return true;
  return false;
}
function Os(e30, t10) {
  return e30.has(t10);
}
function Oo(e30, t10, r10, n10, i10, a10) {
  var s10 = 1 & r10, o10 = e30.length, l10 = t10.length;
  if (o10 != l10 && !(s10 && l10 > o10)) return false;
  var h10 = a10.get(e30), u10 = a10.get(t10);
  if (h10 && u10) return h10 == t10 && u10 == e30;
  var d10 = -1, p10 = true, f10 = 2 & r10 ? new Oi() : void 0;
  for (a10.set(e30, t10), a10.set(t10, e30); ++d10 < o10; ) {
    var g10 = e30[d10], y10 = t10[d10];
    if (n10) var v10 = s10 ? n10(y10, g10, d10, t10, e30, a10) : n10(g10, y10, d10, e30, t10, a10);
    if (void 0 !== v10) {
      if (v10) continue;
      p10 = false;
      break;
    }
    if (f10) {
      if (!Oa(t10, function(e31, t11) {
        if (!Os(f10, t11) && (g10 === e31 || i10(g10, e31, r10, n10, a10))) return f10.push(t11);
      })) {
        p10 = false;
        break;
      }
    } else if (!(g10 === y10 || i10(g10, y10, r10, n10, a10))) {
      p10 = false;
      break;
    }
  }
  return a10.delete(e30), a10.delete(t10), p10;
}
function Ol(e30) {
  var t10 = -1, r10 = Array(e30.size);
  return e30.forEach(function(e31, n10) {
    r10[++t10] = [n10, e31];
  }), r10;
}
function Oc(e30) {
  var t10 = -1, r10 = Array(e30.size);
  return e30.forEach(function(e31) {
    r10[++t10] = e31;
  }), r10;
}
iM(D9, "castFunction"), iM(Oe, "forEach"), iM(Ot, "baseFilter"), iM(Or, "setCacheAdd"), iM(On, "setCacheHas"), iM(Oi, "SetCache"), Oi.prototype.add = Oi.prototype.push = Or, Oi.prototype.has = On, iM(Oa, "arraySome"), iM(Os, "cacheHas"), iM(Oo, "equalArrays"), iM(Ol, "mapToArray"), iM(Oc, "setToArray");
var Oh = xp ? xp.prototype : void 0, Ou = Oh ? Oh.valueOf : void 0;
function Od(e30, t10, r10, n10, i10, a10, s10) {
  switch (r10) {
    case "[object DataView]":
      if (e30.byteLength != t10.byteLength || e30.byteOffset != t10.byteOffset) break;
      e30 = e30.buffer, t10 = t10.buffer;
    case "[object ArrayBuffer]":
      if (e30.byteLength != t10.byteLength || !a10(new bx(e30), new bx(t10))) break;
      return true;
    case "[object Boolean]":
    case "[object Date]":
    case "[object Number]":
      return xG(+e30, +t10);
    case "[object Error]":
      return e30.name == t10.name && e30.message == t10.message;
    case "[object RegExp]":
    case "[object String]":
      return e30 == t10 + "";
    case "[object Map]":
      var o10 = Ol;
    case "[object Set]":
      var l10 = 1 & n10;
      if (o10 || (o10 = Oc), e30.size != t10.size && !l10) break;
      var h10 = s10.get(e30);
      if (h10) return h10 == t10;
      n10 |= 2, s10.set(e30, t10);
      var u10 = Oo(o10(e30), o10(t10), n10, i10, a10, s10);
      return s10.delete(e30), u10;
    case "[object Symbol]":
      if (Ou) return Ou.call(e30) == Ou.call(t10);
  }
  return false;
}
iM(Od, "equalByTag");
var Op = Object.prototype.hasOwnProperty;
function Of(e30, t10, r10, n10, i10, a10) {
  var s10 = 1 & r10, o10 = DR(e30), l10 = o10.length;
  if (l10 != DR(t10).length && !s10) return false;
  for (var h10 = l10; h10--; ) {
    var u10 = o10[h10];
    if (!(s10 ? u10 in t10 : Op.call(t10, u10))) return false;
  }
  var d10 = a10.get(e30), p10 = a10.get(t10);
  if (d10 && p10) return d10 == t10 && p10 == e30;
  var f10 = true;
  a10.set(e30, t10), a10.set(t10, e30);
  for (var g10 = s10; ++h10 < l10; ) {
    var y10 = e30[u10 = o10[h10]], v10 = t10[u10];
    if (n10) var x10 = s10 ? n10(v10, y10, u10, t10, e30, a10) : n10(y10, v10, u10, e30, t10, a10);
    if (!(void 0 === x10 ? y10 === v10 || i10(y10, v10, r10, n10, a10) : x10)) {
      f10 = false;
      break;
    }
    g10 || (g10 = "constructor" == u10);
  }
  if (f10 && !g10) {
    var b10 = e30.constructor, k10 = t10.constructor;
    b10 != k10 && "constructor" in e30 && "constructor" in t10 && !("function" == typeof b10 && b10 instanceof b10 && "function" == typeof k10 && k10 instanceof k10) && (f10 = false);
  }
  return a10.delete(e30), a10.delete(t10), f10;
}
iM(Of, "equalObjects");
var Og = "[object Arguments]", Om = "[object Array]", Oy = "[object Object]", Ov = Object.prototype.hasOwnProperty;
function Ox(e30, t10, r10, n10, i10, a10) {
  var s10 = b$(e30), o10 = b$(t10), l10 = s10 ? Om : CH(e30), h10 = o10 ? Om : CH(t10);
  l10 = l10 == Og ? Oy : l10, h10 = h10 == Og ? Oy : h10;
  var u10 = l10 == Oy, d10 = h10 == Oy, p10 = l10 == h10;
  if (p10 && bW(e30)) {
    if (!bW(t10)) return false;
    s10 = true, u10 = false;
  }
  if (p10 && !u10) return a10 || (a10 = new bl()), s10 || b3(e30) ? Oo(e30, t10, r10, n10, i10, a10) : Od(e30, t10, l10, r10, n10, i10, a10);
  if (!(1 & r10)) {
    var f10 = u10 && Ov.call(e30, "__wrapped__"), g10 = d10 && Ov.call(t10, "__wrapped__");
    if (f10 || g10) {
      var y10 = f10 ? e30.value() : e30, v10 = g10 ? t10.value() : t10;
      return a10 || (a10 = new bl()), i10(y10, v10, r10, n10, a10);
    }
  }
  return !!p10 && (a10 || (a10 = new bl()), Of(e30, t10, r10, n10, i10, a10));
}
function Ob(e30, t10, r10, n10, i10) {
  return e30 === t10 || (null != e30 && null != t10 && (bI(e30) || bI(t10)) ? Ox(e30, t10, r10, n10, Ob, i10) : e30 != e30 && t10 != t10);
}
function Ok(e30, t10, r10, n10) {
  var i10 = r10.length, a10 = i10, s10 = !n10;
  if (null == e30) return !a10;
  for (e30 = Object(e30); i10--; ) {
    var o10 = r10[i10];
    if (s10 && o10[2] ? o10[1] !== e30[o10[0]] : !(o10[0] in e30)) return false;
  }
  for (; ++i10 < a10; ) {
    var l10 = (o10 = r10[i10])[0], h10 = e30[l10], u10 = o10[1];
    if (s10 && o10[2]) {
      if (void 0 === h10 && !(l10 in e30)) return false;
    } else {
      var d10 = new bl();
      if (n10) var p10 = n10(h10, u10, l10, e30, t10, d10);
      if (!(void 0 === p10 ? Ob(u10, h10, 3, n10, d10) : p10)) return false;
    }
  }
  return true;
}
function Ow(e30) {
  return e30 == e30 && !x_(e30);
}
function O_(e30) {
  for (var t10 = Dx(e30), r10 = t10.length; r10--; ) {
    var n10 = t10[r10], i10 = e30[n10];
    t10[r10] = [n10, i10, Ow(i10)];
  }
  return t10;
}
function OT(e30, t10) {
  return function(r10) {
    return null != r10 && r10[e30] === t10 && (void 0 !== t10 || e30 in Object(r10));
  };
}
function OS(e30) {
  var t10 = O_(e30);
  return 1 == t10.length && t10[0][2] ? OT(t10[0][0], t10[0][1]) : function(r10) {
    return r10 === e30 || Ok(r10, e30, t10);
  };
}
function OC(e30) {
  return "symbol" == typeof e30 || bI(e30) && "[object Symbol]" == xw(e30);
}
iM(Ox, "baseIsEqualDeep"), iM(Ob, "baseIsEqual"), iM(Ok, "baseIsMatch"), iM(Ow, "isStrictComparable"), iM(O_, "getMatchData"), iM(OT, "matchesStrictComparable"), iM(OS, "baseMatches"), iM(OC, "isSymbol");
var OE = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, OA = /^\w*$/;
function OL(e30, t10) {
  if (b$(e30)) return false;
  var r10 = typeof e30;
  return !!("number" == r10 || "symbol" == r10 || "boolean" == r10 || null == e30 || OC(e30)) || OA.test(e30) || !OE.test(e30) || null != t10 && e30 in Object(t10);
}
function OI(e30) {
  var t10 = bt(e30, function(e31) {
    return 500 === r10.size && r10.clear(), e31;
  }), r10 = t10.cache;
  return t10;
}
iM(OL, "isKey"), iM(OI, "memoizeCapped");
var OM = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, ON = /\\(\\)?/g, OR = OI(function(e30) {
  var t10 = [];
  return 46 === e30.charCodeAt(0) && t10.push(""), e30.replace(OM, function(e31, r10, n10, i10) {
    t10.push(n10 ? i10.replace(ON, "$1") : r10 || e31);
  }), t10;
});
function OD(e30, t10) {
  for (var r10 = -1, n10 = null == e30 ? 0 : e30.length, i10 = Array(n10); ++r10 < n10; ) i10[r10] = t10(e30[r10], r10, e30);
  return i10;
}
iM(OD, "arrayMap");
var OO = xp ? xp.prototype : void 0, O$ = OO ? OO.toString : void 0;
function OP(e30) {
  if ("string" == typeof e30) return e30;
  if (b$(e30)) return OD(e30, OP) + "";
  if (OC(e30)) return O$ ? O$.call(e30) : "";
  var t10 = e30 + "";
  return "0" == t10 && 1 / e30 == -1 / 0 ? "-0" : t10;
}
function OB(e30) {
  return null == e30 ? "" : OP(e30);
}
function OF(e30, t10) {
  return b$(e30) ? e30 : OL(e30, t10) ? [e30] : OR(OB(e30));
}
function Oz(e30) {
  if ("string" == typeof e30 || OC(e30)) return e30;
  var t10 = e30 + "";
  return "0" == t10 && 1 / e30 == -1 / 0 ? "-0" : t10;
}
function Oj(e30, t10) {
  t10 = OF(t10, e30);
  for (var r10 = 0, n10 = t10.length; null != e30 && r10 < n10; ) e30 = e30[Oz(t10[r10++])];
  return r10 && r10 == n10 ? e30 : void 0;
}
function Oq(e30, t10, r10) {
  var n10 = null == e30 ? void 0 : Oj(e30, t10);
  return void 0 === n10 ? r10 : n10;
}
function OU(e30, t10) {
  return null != e30 && t10 in Object(e30);
}
function OW(e30, t10, r10) {
  t10 = OF(t10, e30);
  for (var n10 = -1, i10 = t10.length, a10 = false; ++n10 < i10; ) {
    var s10 = Oz(t10[n10]);
    if (!(a10 = null != e30 && r10(e30, s10))) break;
    e30 = e30[s10];
  }
  return a10 || ++n10 != i10 ? a10 : !!(i10 = null == e30 ? 0 : e30.length) && bP(i10) && kt(s10, i10) && (b$(e30) || bO(e30));
}
function OV(e30, t10) {
  return null != e30 && OW(e30, t10, OU);
}
function OH(e30, t10) {
  return OL(e30) && Ow(t10) ? OT(Oz(e30), t10) : function(r10) {
    var n10 = Oq(r10, e30);
    return void 0 === n10 && n10 === t10 ? OV(r10, e30) : Ob(t10, n10, 3);
  };
}
function OY(e30) {
  return function(t10) {
    return null == t10 ? void 0 : t10[e30];
  };
}
function OG(e30) {
  return function(t10) {
    return Oj(t10, e30);
  };
}
function OX(e30) {
  return OL(e30) ? OY(Oz(e30)) : OG(e30);
}
function OK(e30) {
  return "function" == typeof e30 ? e30 : null == e30 ? ku : "object" == typeof e30 ? b$(e30) ? OH(e30[0], e30[1]) : OS(e30) : OX(e30);
}
function OZ(e30, t10) {
  return (b$(e30) ? D_ : Ot)(e30, OK(t10));
}
function OQ(e30, t10) {
  var r10 = -1, n10 = bB(e30) ? Array(e30.length) : [];
  return D8(e30, function(e31, i10, a10) {
    n10[++r10] = t10(e31, i10, a10);
  }), n10;
}
function OJ(e30, t10) {
  return (b$(e30) ? OD : OQ)(e30, OK(t10));
}
function O0(e30, t10) {
  return OD(t10, function(t11) {
    return e30[t11];
  });
}
function O1(e30) {
  return null == e30 ? [] : O0(e30, Dx(e30));
}
function O2(e30) {
  return void 0 === e30;
}
function O4(e30, t10) {
  var r10 = {};
  return t10 = OK(t10), D6(e30, function(e31, n10, i10) {
    bh(r10, n10, t10(e31, n10, i10));
  }), r10;
}
function O3(e30, t10, r10) {
  for (var n10 = -1, i10 = e30.length; ++n10 < i10; ) {
    var a10 = e30[n10], s10 = t10(a10);
    if (null != s10 && (void 0 === o10 ? s10 == s10 && !OC(s10) : r10(s10, o10))) var o10 = s10, l10 = a10;
  }
  return l10;
}
function O5(e30, t10) {
  return e30 > t10;
}
function O6(e30) {
  return e30 && e30.length ? O3(e30, ku, O5) : void 0;
}
function O7(e30, t10, r10, n10) {
  if (!x_(e30)) return e30;
  t10 = OF(t10, e30);
  for (var i10 = -1, a10 = t10.length, s10 = a10 - 1, o10 = e30; null != o10 && ++i10 < a10; ) {
    var l10 = Oz(t10[i10]), h10 = r10;
    if ("__proto__" === l10 || "constructor" === l10 || "prototype" === l10) break;
    if (i10 != s10) {
      var u10 = o10[l10];
      void 0 === (h10 = n10 ? n10(u10, l10, o10) : void 0) && (h10 = x_(u10) ? u10 : kt(t10[i10 + 1]) ? [] : {});
    }
    b7(o10, l10, h10), o10 = o10[l10];
  }
  return e30;
}
function O8(e30, t10, r10) {
  for (var n10 = -1, i10 = t10.length, a10 = {}; ++n10 < i10; ) {
    var s10 = t10[n10], o10 = Oj(e30, s10);
    r10(o10, s10) && O7(a10, OF(s10, e30), o10);
  }
  return a10;
}
function O9(e30, t10) {
  return O8(e30, t10, function(t11, r10) {
    return OV(e30, r10);
  });
}
iM(OP, "baseToString"), iM(OB, "toString"), iM(OF, "castPath"), iM(Oz, "toKey"), iM(Oj, "baseGet"), iM(Oq, "get"), iM(OU, "baseHasIn"), iM(OW, "hasPath"), iM(OV, "hasIn"), iM(OH, "baseMatchesProperty"), iM(OY, "baseProperty"), iM(OG, "basePropertyDeep"), iM(OX, "property"), iM(OK, "baseIteratee"), iM(OZ, "filter"), iM(OQ, "baseMap"), iM(OJ, "map"), iM(O0, "baseValues"), iM(O1, "values"), iM(O2, "isUndefined"), iM(O4, "mapValues"), iM(O3, "baseExtremum"), iM(O5, "baseGt"), iM(O6, "max"), iM(O7, "baseSet"), iM(O8, "basePickBy"), iM(O9, "basePick");
var $e = xp ? xp.isConcatSpreadable : void 0;
function $t(e30) {
  return b$(e30) || bO(e30) || !!($e && e30 && e30[$e]);
}
function $r(e30, t10, r10, n10, i10) {
  var a10 = -1, s10 = e30.length;
  for (r10 || (r10 = $t), i10 || (i10 = []); ++a10 < s10; ) {
    var o10 = e30[a10];
    t10 > 0 && r10(o10) ? t10 > 1 ? $r(o10, t10 - 1, r10, n10, i10) : DL(i10, o10) : n10 || (i10[i10.length] = o10);
  }
  return i10;
}
function $n(e30) {
  return (null == e30 ? 0 : e30.length) ? $r(e30, 1) : [];
}
function $i(e30) {
  return kv(kf(e30, void 0, $n), e30 + "");
}
iM($t, "isFlattenable"), iM($r, "baseFlatten"), iM($n, "flatten"), iM($i, "flatRest");
var $a = $i(function(e30, t10) {
  return null == e30 ? {} : O9(e30, t10);
});
function $s(e30, t10, r10, n10) {
  var i10 = -1, a10 = null == e30 ? 0 : e30.length;
  for (n10 && a10 && (r10 = e30[++i10]); ++i10 < a10; ) r10 = t10(r10, e30[i10], i10, e30);
  return r10;
}
function $o(e30, t10, r10, n10, i10) {
  return i10(e30, function(e31, i11, a10) {
    r10 = n10 ? (n10 = false, e31) : t10(r10, e31, i11, a10);
  }), r10;
}
function $l(e30, t10, r10) {
  var n10 = b$(e30) ? $s : $o, i10 = arguments.length < 3;
  return n10(e30, OK(t10), r10, i10, D8);
}
function $c(e30, t10, r10, n10) {
  for (var i10 = e30.length, a10 = r10 + (n10 ? 1 : -1); n10 ? a10-- : ++a10 < i10; ) if (t10(e30[a10], a10, e30)) return a10;
  return -1;
}
function $h(e30) {
  return e30 != e30;
}
function $u(e30, t10, r10) {
  for (var n10 = r10 - 1, i10 = e30.length; ++n10 < i10; ) if (e30[n10] === t10) return n10;
  return -1;
}
function $d(e30, t10, r10) {
  return t10 == t10 ? $u(e30, t10, r10) : $c(e30, $h, r10);
}
function $p(e30, t10) {
  return !!(null == e30 ? 0 : e30.length) && $d(e30, t10, 0) > -1;
}
function $f(e30, t10, r10) {
  for (var n10 = -1, i10 = null == e30 ? 0 : e30.length; ++n10 < i10; ) if (r10(t10, e30[n10])) return true;
  return false;
}
function $g() {
}
iM($s, "arrayReduce"), iM($o, "baseReduce"), iM($l, "reduce"), iM($c, "baseFindIndex"), iM($h, "baseIsNaN"), iM($u, "strictIndexOf"), iM($d, "baseIndexOf"), iM($p, "arrayIncludes"), iM($f, "arrayIncludesWith"), iM($g, "noop");
var $m = CR && 1 / Oc(new CR([, -0]))[1] == 1 / 0 ? function(e30) {
  return new CR(e30);
} : $g;
function $y(e30, t10, r10) {
  var n10 = -1, i10 = $p, a10 = e30.length, s10 = true, o10 = [], l10 = o10;
  if (r10) s10 = false, i10 = $f;
  else if (a10 >= 200) {
    var h10 = t10 ? null : $m(e30);
    if (h10) return Oc(h10);
    s10 = false, i10 = Os, l10 = new Oi();
  } else l10 = t10 ? [] : o10;
  t: for (; ++n10 < a10; ) {
    var u10 = e30[n10], d10 = t10 ? t10(u10) : u10;
    if (u10 = r10 || 0 !== u10 ? u10 : 0, s10 && d10 == d10) {
      for (var p10 = l10.length; p10--; ) if (l10[p10] === d10) continue t;
      t10 && l10.push(d10), o10.push(u10);
    } else i10(l10, d10, r10) || (l10 !== o10 && l10.push(d10), o10.push(u10));
  }
  return o10;
}
iM($y, "baseUniq");
var $v = kx(function(e30) {
  return $y($r(e30, 1, bF, true));
}), $x = /\s/;
function $b(e30) {
  for (var t10 = e30.length; t10-- && $x.test(e30.charAt(t10)); ) ;
  return t10;
}
iM($b, "trimmedEndIndex");
var $k = /^\s+/;
function $w(e30) {
  return e30 ? e30.slice(0, $b(e30) + 1).replace($k, "") : e30;
}
iM($w, "baseTrim");
var $_ = 0 / 0, $T = /^[-+]0x[0-9a-f]+$/i, $S = /^0b[01]+$/i, $C = /^0o[0-7]+$/i, $E = parseInt;
function $A(e30) {
  if ("number" == typeof e30) return e30;
  if (OC(e30)) return $_;
  if (x_(e30)) {
    var t10 = "function" == typeof e30.valueOf ? e30.valueOf() : e30;
    e30 = x_(t10) ? t10 + "" : t10;
  }
  if ("string" != typeof e30) return 0 === e30 ? e30 : +e30;
  e30 = $w(e30);
  var r10 = $S.test(e30);
  return r10 || $C.test(e30) ? $E(e30.slice(2), r10 ? 2 : 8) : $T.test(e30) ? $_ : +e30;
}
iM($A, "toNumber");
var $L = 1 / 0;
function $I(e30) {
  return e30 ? (e30 = $A(e30)) === $L || e30 === -1 / 0 ? (e30 < 0 ? -1 : 1) * 17976931348623157e292 : e30 == e30 ? e30 : 0 : 0 === e30 ? e30 : 0;
}
function $M(e30) {
  var t10 = $I(e30), r10 = t10 % 1;
  return t10 == t10 ? r10 ? t10 - r10 : t10 : 0;
}
iM($I, "toFinite"), iM($M, "toInteger");
var $N = Object.prototype.hasOwnProperty, $R = kk(function(e30, t10) {
  if (bA(t10) || bB(t10)) {
    b8(t10, Dx(t10), e30);
    return;
  }
  for (var r10 in t10) $N.call(t10, r10) && b7(e30, r10, t10[r10]);
});
function $D(e30, t10, r10) {
  var n10 = -1, i10 = e30.length;
  t10 < 0 && (t10 = -t10 > i10 ? 0 : i10 + t10), (r10 = r10 > i10 ? i10 : r10) < 0 && (r10 += i10), i10 = t10 > r10 ? 0 : r10 - t10 >>> 0, t10 >>>= 0;
  for (var a10 = Array(i10); ++n10 < i10; ) a10[n10] = e30[n10 + t10];
  return a10;
}
iM($D, "baseSlice");
var $O = RegExp("[\\u200d\uD800-\uDFFF\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
function $$(e30) {
  return $O.test(e30);
}
function $P(e30) {
  return D0(e30, 5);
}
function $B(e30) {
  for (var t10 = -1, r10 = null == e30 ? 0 : e30.length, n10 = 0, i10 = []; ++t10 < r10; ) {
    var a10 = e30[t10];
    a10 && (i10[n10++] = a10);
  }
  return i10;
}
function $F(e30, t10, r10, n10) {
  for (var i10 = -1, a10 = null == e30 ? 0 : e30.length; ++i10 < a10; ) {
    var s10 = e30[i10];
    t10(n10, s10, r10(s10), e30);
  }
  return n10;
}
function $z(e30, t10, r10, n10) {
  return D8(e30, function(e31, i10, a10) {
    t10(n10, e31, r10(e31), a10);
  }), n10;
}
function $j(e30, t10) {
  return function(r10, n10) {
    var i10 = b$(r10) ? $F : $z, a10 = t10 ? t10() : {};
    return i10(r10, e30, OK(n10), a10);
  };
}
iM($$, "hasUnicode"), iM($P, "cloneDeep"), iM($B, "compact"), iM($F, "arrayAggregator"), iM($z, "baseAggregator"), iM($j, "createAggregator");
var $q = iM(function() {
  return xd.Date.now();
}, "now");
function $U(e30, t10, r10, n10) {
  var i10 = -1, a10 = $p, s10 = true, o10 = e30.length, l10 = [], h10 = t10.length;
  if (!o10) return l10;
  r10 && (t10 = OD(t10, bQ(r10))), n10 ? (a10 = $f, s10 = false) : t10.length >= 200 && (a10 = Os, s10 = false, t10 = new Oi(t10));
  t: for (; ++i10 < o10; ) {
    var u10 = e30[i10], d10 = null == r10 ? u10 : r10(u10);
    if (u10 = n10 || 0 !== u10 ? u10 : 0, s10 && d10 == d10) {
      for (var p10 = h10; p10--; ) if (t10[p10] === d10) continue t;
      l10.push(u10);
    } else a10(t10, d10, n10) || l10.push(u10);
  }
  return l10;
}
iM($U, "baseDifference");
var $W = kx(function(e30, t10) {
  return bF(e30) ? $U(e30, $r(t10, 1, bF, true)) : [];
});
function $V(e30, t10, r10) {
  var n10 = null == e30 ? 0 : e30.length;
  return n10 ? $D(e30, (t10 = r10 || void 0 === t10 ? 1 : $M(t10)) < 0 ? 0 : t10, n10) : [];
}
function $H(e30, t10, r10) {
  var n10 = null == e30 ? 0 : e30.length;
  return n10 ? $D(e30, 0, (t10 = n10 - (t10 = r10 || void 0 === t10 ? 1 : $M(t10))) < 0 ? 0 : t10) : [];
}
function $Y(e30, t10) {
  for (var r10 = -1, n10 = null == e30 ? 0 : e30.length; ++r10 < n10; ) if (!t10(e30[r10], r10, e30)) return false;
  return true;
}
function $G(e30, t10) {
  var r10 = true;
  return D8(e30, function(e31, n10, i10) {
    return r10 = !!t10(e31, n10, i10);
  }), r10;
}
function $X(e30, t10, r10) {
  var n10 = b$(e30) ? $Y : $G;
  return r10 && kb(e30, t10, r10) && (t10 = void 0), n10(e30, OK(t10));
}
function $K(e30) {
  return function(t10, r10, n10) {
    var i10 = Object(t10);
    if (!bB(t10)) {
      var a10 = OK(r10);
      t10 = Dx(t10), r10 = iM(function(e31) {
        return a10(i10[e31], e31, i10);
      }, "predicate");
    }
    var s10 = e30(t10, r10, n10);
    return s10 > -1 ? i10[a10 ? t10[s10] : s10] : void 0;
  };
}
iM($V, "drop"), iM($H, "dropRight"), iM($Y, "arrayEvery"), iM($G, "baseEvery"), iM($X, "every"), iM($K, "createFind");
var $Z = Math.max;
function $Q(e30, t10, r10) {
  var n10 = null == e30 ? 0 : e30.length;
  if (!n10) return -1;
  var i10 = null == r10 ? 0 : $M(r10);
  return i10 < 0 && (i10 = $Z(n10 + i10, 0)), $c(e30, OK(t10), i10);
}
iM($Q, "findIndex");
var $J = $K($Q);
function $0(e30) {
  return e30 && e30.length ? e30[0] : void 0;
}
function $1(e30, t10) {
  return $r(OJ(e30, t10), 1);
}
function $2(e30, t10) {
  return null == e30 ? e30 : bp(e30, D9(t10), ko);
}
function $4(e30, t10) {
  return e30 && D6(e30, D9(t10));
}
iM($0, "head"), iM($1, "flatMap"), iM($2, "forIn"), iM($4, "forOwn");
var $3 = Object.prototype.hasOwnProperty, $5 = $j(function(e30, t10, r10) {
  $3.call(e30, r10) ? e30[r10].push(t10) : bh(e30, r10, [t10]);
}), $6 = Object.prototype.hasOwnProperty;
function $7(e30, t10) {
  return null != e30 && $6.call(e30, t10);
}
function $8(e30, t10) {
  return null != e30 && OW(e30, t10, $7);
}
function $9(e30) {
  return "string" == typeof e30 || !b$(e30) && bI(e30) && "[object String]" == xw(e30);
}
iM($7, "baseHas"), iM($8, "has"), iM($9, "isString");
var Pe = Math.max;
function Pt(e30, t10, r10, n10) {
  e30 = bB(e30) ? e30 : O1(e30), r10 = r10 && !n10 ? $M(r10) : 0;
  var i10 = e30.length;
  return r10 < 0 && (r10 = Pe(i10 + r10, 0)), $9(e30) ? r10 <= i10 && e30.indexOf(t10, r10) > -1 : !!i10 && $d(e30, t10, r10) > -1;
}
iM(Pt, "includes");
var Pr = Math.max;
function Pn(e30, t10, r10) {
  var n10 = null == e30 ? 0 : e30.length;
  if (!n10) return -1;
  var i10 = null == r10 ? 0 : $M(r10);
  return i10 < 0 && (i10 = Pr(n10 + i10, 0)), $d(e30, t10, i10);
}
function Pi(e30) {
  return bI(e30) && "[object RegExp]" == xw(e30);
}
iM(Pn, "indexOf"), iM(Pi, "baseIsRegExp");
var Pa = b2 && b2.isRegExp, Ps = Pa ? bQ(Pa) : Pi;
function Po(e30, t10) {
  return e30 < t10;
}
function Pl(e30) {
  return e30 && e30.length ? O3(e30, ku, Po) : void 0;
}
function Pc(e30, t10) {
  return e30 && e30.length ? O3(e30, OK(t10), Po) : void 0;
}
function Ph(e30) {
  if ("function" != typeof e30) throw TypeError("Expected a function");
  return function() {
    var t10 = arguments;
    switch (t10.length) {
      case 0:
        return !e30.call(this);
      case 1:
        return !e30.call(this, t10[0]);
      case 2:
        return !e30.call(this, t10[0], t10[1]);
      case 3:
        return !e30.call(this, t10[0], t10[1], t10[2]);
    }
    return !e30.apply(this, t10);
  };
}
function Pu(e30, t10) {
  if (null == e30) return {};
  var r10 = OD(DD(e30), function(e31) {
    return [e31];
  });
  return t10 = OK(t10), O8(e30, r10, function(e31, r11) {
    return t10(e31, r11[0]);
  });
}
function Pd(e30, t10) {
  var r10 = e30.length;
  for (e30.sort(t10); r10--; ) e30[r10] = e30[r10].value;
  return e30;
}
function Pp(e30, t10) {
  if (e30 !== t10) {
    var r10 = void 0 !== e30, n10 = null === e30, i10 = e30 == e30, a10 = OC(e30), s10 = void 0 !== t10, o10 = null === t10, l10 = t10 == t10, h10 = OC(t10);
    if (!o10 && !h10 && !a10 && e30 > t10 || a10 && s10 && l10 && !o10 && !h10 || n10 && s10 && l10 || !r10 && l10 || !i10) return 1;
    if (!n10 && !a10 && !h10 && e30 < t10 || h10 && r10 && i10 && !n10 && !a10 || o10 && r10 && i10 || !s10 && i10 || !l10) return -1;
  }
  return 0;
}
function Pf(e30, t10, r10) {
  for (var n10 = -1, i10 = e30.criteria, a10 = t10.criteria, s10 = i10.length, o10 = r10.length; ++n10 < s10; ) {
    var l10 = Pp(i10[n10], a10[n10]);
    if (l10) {
      if (n10 >= o10) return l10;
      return l10 * ("desc" == r10[n10] ? -1 : 1);
    }
  }
  return e30.index - t10.index;
}
function Pg(e30, t10, r10) {
  t10 = t10.length ? OD(t10, function(e31) {
    return b$(e31) ? function(t11) {
      return Oj(t11, 1 === e31.length ? e31[0] : e31);
    } : e31;
  }) : [ku];
  var n10 = -1;
  return t10 = OD(t10, bQ(OK)), Pd(OQ(e30, function(e31, r11, i10) {
    return { criteria: OD(t10, function(t11) {
      return t11(e31);
    }), index: ++n10, value: e31 };
  }), function(e31, t11) {
    return Pf(e31, t11, r10);
  });
}
iM(Po, "baseLt"), iM(Pl, "min"), iM(Pc, "minBy"), iM(Ph, "negate"), iM(Pu, "pickBy"), iM(Pd, "baseSortBy"), iM(Pp, "compareAscending"), iM(Pf, "compareMultiple"), iM(Pg, "baseOrderBy");
var Pm = OY("length"), Py = "\uD800-\uDFFF", Pv = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Px = "\uD83C[\uDFFB-\uDFFF]", Pb = "[^" + Py + "]", Pk = "(?:\uD83C[\uDDE6-\uDDFF]){2}", Pw = "[\uD800-\uDBFF][\uDC00-\uDFFF]", P_ = "(?:" + Pv + "|" + Px + ")?", PT = "[\\ufe0e\\ufe0f]?", PS = "(?:\\u200d(?:" + [Pb, Pk, Pw].join("|") + ")" + PT + P_ + ")*", PC = RegExp(Px + "(?=" + Px + ")|(?:" + [Pb + Pv + "?", Pv, Pk, Pw, "[" + Py + "]"].join("|") + ")" + (PT + P_ + PS), "g");
function PE(e30) {
  for (var t10 = PC.lastIndex = 0; PC.test(e30); ) ++t10;
  return t10;
}
function PA(e30) {
  return $$(e30) ? PE(e30) : Pm(e30);
}
iM(PE, "unicodeSize"), iM(PA, "stringSize");
var PL = Math.ceil, PI = Math.max;
function PM(e30, t10, r10, n10) {
  for (var i10 = -1, a10 = PI(PL((t10 - e30) / (r10 || 1)), 0), s10 = Array(a10); a10--; ) s10[n10 ? a10 : ++i10] = e30, e30 += r10;
  return s10;
}
function PN(e30) {
  return function(t10, r10, n10) {
    return n10 && "number" != typeof n10 && kb(t10, r10, n10) && (r10 = n10 = void 0), t10 = $I(t10), void 0 === r10 ? (r10 = t10, t10 = 0) : r10 = $I(r10), n10 = void 0 === n10 ? t10 < r10 ? 1 : -1 : $I(n10), PM(t10, r10, n10, e30);
  };
}
iM(PM, "baseRange"), iM(PN, "createRange");
var PR = PN();
function PD(e30, t10) {
  return (b$(e30) ? D_ : Ot)(e30, Ph(OK(t10)));
}
function PO(e30) {
  if (null == e30) return 0;
  if (bB(e30)) return $9(e30) ? PA(e30) : e30.length;
  var t10 = CH(e30);
  return "[object Map]" == t10 || "[object Set]" == t10 ? e30.size : CI(e30).length;
}
function P$(e30, t10) {
  var r10;
  return D8(e30, function(e31, n10, i10) {
    return !(r10 = t10(e31, n10, i10));
  }), !!r10;
}
function PP(e30, t10, r10) {
  var n10 = b$(e30) ? Oa : P$;
  return r10 && kb(e30, t10, r10) && (t10 = void 0), n10(e30, OK(t10));
}
iM(PD, "reject"), iM(PO, "size"), iM(P$, "baseSome"), iM(PP, "some");
var PB = kx(function(e30, t10) {
  if (null == e30) return [];
  var r10 = t10.length;
  return r10 > 1 && kb(e30, t10[0], t10[1]) ? t10 = [] : r10 > 2 && kb(t10[0], t10[1], t10[2]) && (t10 = [t10[0]]), Pg(e30, $r(t10, 1), []);
});
function PF(e30) {
  return e30 && e30.length ? $y(e30) : [];
}
function Pz(e30, t10) {
  return e30 && e30.length ? $y(e30, OK(t10)) : [];
}
iM(PF, "uniq"), iM(Pz, "uniqBy");
var Pj = 0;
function Pq(e30) {
  var t10 = ++Pj;
  return OB(e30) + t10;
}
function PU(e30, t10, r10) {
  for (var n10 = -1, i10 = e30.length, a10 = t10.length, s10 = {}; ++n10 < i10; ) {
    var o10 = n10 < a10 ? t10[n10] : void 0;
    r10(s10, e30[n10], o10);
  }
  return s10;
}
function PW(e30, t10) {
  return PU(e30 || [], t10 || [], b7);
}
iM(Pq, "uniqueId"), iM(PU, "baseZipObject"), iM(PW, "zipObject");
var PV = (__2 = class {
  constructor(e30 = {}) {
    this._isDirected = !Object.prototype.hasOwnProperty.call(e30, "directed") || e30.directed, this._isMultigraph = !!Object.prototype.hasOwnProperty.call(e30, "multigraph") && e30.multigraph, this._isCompound = !!Object.prototype.hasOwnProperty.call(e30, "compound") && e30.compound, this._label = void 0, this._defaultNodeLabelFn = br(void 0), this._defaultEdgeLabelFn = br(void 0), this._nodes = {}, this._isCompound && (this._parent = {}, this._children = {}, this._children["\0"] = {}), this._in = {}, this._preds = {}, this._out = {}, this._sucs = {}, this._edgeObjs = {}, this._edgeLabels = {};
  }
  isDirected() {
    return this._isDirected;
  }
  isMultigraph() {
    return this._isMultigraph;
  }
  isCompound() {
    return this._isCompound;
  }
  setGraph(e30) {
    return this._label = e30, this;
  }
  graph() {
    return this._label;
  }
  setDefaultNodeLabel(e30) {
    return xT(e30) || (e30 = br(e30)), this._defaultNodeLabelFn = e30, this;
  }
  nodeCount() {
    return this._nodeCount;
  }
  nodes() {
    return Dx(this._nodes);
  }
  sources() {
    var e30 = this;
    return OZ(this.nodes(), function(t10) {
      return CG(e30._in[t10]);
    });
  }
  sinks() {
    var e30 = this;
    return OZ(this.nodes(), function(t10) {
      return CG(e30._out[t10]);
    });
  }
  setNodes(e30, t10) {
    var r10 = arguments, n10 = this;
    return Oe(e30, function(e31) {
      r10.length > 1 ? n10.setNode(e31, t10) : n10.setNode(e31);
    }), this;
  }
  setNode(e30, t10) {
    return Object.prototype.hasOwnProperty.call(this._nodes, e30) ? arguments.length > 1 && (this._nodes[e30] = t10) : (this._nodes[e30] = arguments.length > 1 ? t10 : this._defaultNodeLabelFn(e30), this._isCompound && (this._parent[e30] = "\0", this._children[e30] = {}, this._children["\0"][e30] = true), this._in[e30] = {}, this._preds[e30] = {}, this._out[e30] = {}, this._sucs[e30] = {}, ++this._nodeCount), this;
  }
  node(e30) {
    return this._nodes[e30];
  }
  hasNode(e30) {
    return Object.prototype.hasOwnProperty.call(this._nodes, e30);
  }
  removeNode(e30) {
    if (Object.prototype.hasOwnProperty.call(this._nodes, e30)) {
      var t10 = iM((e31) => this.removeEdge(this._edgeObjs[e31]), "removeEdge");
      delete this._nodes[e30], this._isCompound && (this._removeFromParentsChildList(e30), delete this._parent[e30], Oe(this.children(e30), (e31) => {
        this.setParent(e31);
      }), delete this._children[e30]), Oe(Dx(this._in[e30]), t10), delete this._in[e30], delete this._preds[e30], Oe(Dx(this._out[e30]), t10), delete this._out[e30], delete this._sucs[e30], --this._nodeCount;
    }
    return this;
  }
  setParent(e30, t10) {
    if (!this._isCompound) throw Error("Cannot set parent in a non-compound graph");
    if (O2(t10)) t10 = "\0";
    else {
      t10 += "";
      for (var r10 = t10; !O2(r10); r10 = this.parent(r10)) if (r10 === e30) throw Error("Setting " + t10 + " as parent of " + e30 + " would create a cycle");
      this.setNode(t10);
    }
    return this.setNode(e30), this._removeFromParentsChildList(e30), this._parent[e30] = t10, this._children[t10][e30] = true, this;
  }
  _removeFromParentsChildList(e30) {
    delete this._children[this._parent[e30]][e30];
  }
  parent(e30) {
    if (this._isCompound) {
      var t10 = this._parent[e30];
      if ("\0" !== t10) return t10;
    }
  }
  children(e30) {
    if (O2(e30) && (e30 = "\0"), this._isCompound) {
      var t10 = this._children[e30];
      if (t10) return Dx(t10);
    } else if ("\0" === e30) return this.nodes();
    else if (this.hasNode(e30)) return [];
  }
  predecessors(e30) {
    var t10 = this._preds[e30];
    if (t10) return Dx(t10);
  }
  successors(e30) {
    var t10 = this._sucs[e30];
    if (t10) return Dx(t10);
  }
  neighbors(e30) {
    var t10 = this.predecessors(e30);
    if (t10) return $v(t10, this.successors(e30));
  }
  isLeaf(e30) {
    return 0 === (this.isDirected() ? this.successors(e30) : this.neighbors(e30)).length;
  }
  filterNodes(e30) {
    var t10 = new this.constructor({ directed: this._isDirected, multigraph: this._isMultigraph, compound: this._isCompound });
    t10.setGraph(this.graph());
    var r10 = this;
    Oe(this._nodes, function(r11, n11) {
      e30(n11) && t10.setNode(n11, r11);
    }), Oe(this._edgeObjs, function(e31) {
      t10.hasNode(e31.v) && t10.hasNode(e31.w) && t10.setEdge(e31, r10.edge(e31));
    });
    var n10 = {};
    function i10(e31) {
      var a10 = r10.parent(e31);
      return void 0 === a10 || t10.hasNode(a10) ? (n10[e31] = a10, a10) : a10 in n10 ? n10[a10] : i10(a10);
    }
    return iM(i10, "findParent"), this._isCompound && Oe(t10.nodes(), function(e31) {
      t10.setParent(e31, i10(e31));
    }), t10;
  }
  setDefaultEdgeLabel(e30) {
    return xT(e30) || (e30 = br(e30)), this._defaultEdgeLabelFn = e30, this;
  }
  edgeCount() {
    return this._edgeCount;
  }
  edges() {
    return O1(this._edgeObjs);
  }
  setPath(e30, t10) {
    var r10 = this, n10 = arguments;
    return $l(e30, function(e31, i10) {
      return n10.length > 1 ? r10.setEdge(e31, i10, t10) : r10.setEdge(e31, i10), i10;
    }), this;
  }
  setEdge() {
    var e30, t10, r10, n10, i10 = false, a10 = arguments[0];
    "object" == typeof a10 && null !== a10 && "v" in a10 ? (e30 = a10.v, t10 = a10.w, r10 = a10.name, 2 == arguments.length && (n10 = arguments[1], i10 = true)) : (e30 = a10, t10 = arguments[1], r10 = arguments[3], arguments.length > 2 && (n10 = arguments[2], i10 = true)), e30 = "" + e30, t10 = "" + t10, O2(r10) || (r10 = "" + r10);
    var s10 = PG(this._isDirected, e30, t10, r10);
    if (Object.prototype.hasOwnProperty.call(this._edgeLabels, s10)) return i10 && (this._edgeLabels[s10] = n10), this;
    if (!O2(r10) && !this._isMultigraph) throw Error("Cannot set a named edge when isMultigraph = false");
    this.setNode(e30), this.setNode(t10), this._edgeLabels[s10] = i10 ? n10 : this._defaultEdgeLabelFn(e30, t10, r10);
    var o10 = PX(this._isDirected, e30, t10, r10);
    return e30 = o10.v, t10 = o10.w, Object.freeze(o10), this._edgeObjs[s10] = o10, PH(this._preds[t10], e30), PH(this._sucs[e30], t10), this._in[t10][s10] = o10, this._out[e30][s10] = o10, this._edgeCount++, this;
  }
  edge(e30, t10, r10) {
    var n10 = 1 == arguments.length ? PK(this._isDirected, arguments[0]) : PG(this._isDirected, e30, t10, r10);
    return this._edgeLabels[n10];
  }
  hasEdge(e30, t10, r10) {
    var n10 = 1 == arguments.length ? PK(this._isDirected, arguments[0]) : PG(this._isDirected, e30, t10, r10);
    return Object.prototype.hasOwnProperty.call(this._edgeLabels, n10);
  }
  removeEdge(e30, t10, r10) {
    var n10 = 1 == arguments.length ? PK(this._isDirected, arguments[0]) : PG(this._isDirected, e30, t10, r10), i10 = this._edgeObjs[n10];
    return i10 && (e30 = i10.v, t10 = i10.w, delete this._edgeLabels[n10], delete this._edgeObjs[n10], PY(this._preds[t10], e30), PY(this._sucs[e30], t10), delete this._in[t10][n10], delete this._out[e30][n10], this._edgeCount--), this;
  }
  inEdges(e30, t10) {
    var r10 = this._in[e30];
    if (r10) {
      var n10 = O1(r10);
      return t10 ? OZ(n10, function(e31) {
        return e31.v === t10;
      }) : n10;
    }
  }
  outEdges(e30, t10) {
    var r10 = this._out[e30];
    if (r10) {
      var n10 = O1(r10);
      return t10 ? OZ(n10, function(e31) {
        return e31.w === t10;
      }) : n10;
    }
  }
  nodeEdges(e30, t10) {
    var r10 = this.inEdges(e30, t10);
    if (r10) return r10.concat(this.outEdges(e30, t10));
  }
}, _i55 = new WeakMap(), __privateAdd(__2, _i55, iM(__2, "Graph")), __2);
function PH(e30, t10) {
  e30[t10] ? e30[t10]++ : e30[t10] = 1;
}
function PY(e30, t10) {
  --e30[t10] || delete e30[t10];
}
function PG(e30, t10, r10, n10) {
  var i10 = "" + t10, a10 = "" + r10;
  if (!e30 && i10 > a10) {
    var s10 = i10;
    i10 = a10, a10 = s10;
  }
  return i10 + "" + a10 + "" + (O2(n10) ? "\0" : n10);
}
function PX(e30, t10, r10, n10) {
  var i10 = "" + t10, a10 = "" + r10;
  if (!e30 && i10 > a10) {
    var s10 = i10;
    i10 = a10, a10 = s10;
  }
  var o10 = { v: i10, w: a10 };
  return n10 && (o10.name = n10), o10;
}
function PK(e30, t10) {
  return PG(e30, t10.v, t10.w, t10.name);
}
function PZ(e30, t10, r10, n10) {
  var i10;
  do
    i10 = Pq(n10);
  while (e30.hasNode(i10));
  return r10.dummy = t10, e30.setNode(i10, r10), i10;
}
function PQ(e30) {
  var t10 = new PV().setGraph(e30.graph());
  return Oe(e30.nodes(), function(r10) {
    t10.setNode(r10, e30.node(r10));
  }), Oe(e30.edges(), function(r10) {
    var n10 = t10.edge(r10.v, r10.w) || { weight: 0, minlen: 1 }, i10 = e30.edge(r10);
    t10.setEdge(r10.v, r10.w, { weight: n10.weight + i10.weight, minlen: Math.max(n10.minlen, i10.minlen) });
  }), t10;
}
function PJ(e30) {
  var t10 = new PV({ multigraph: e30.isMultigraph() }).setGraph(e30.graph());
  return Oe(e30.nodes(), function(r10) {
    e30.children(r10).length || t10.setNode(r10, e30.node(r10));
  }), Oe(e30.edges(), function(r10) {
    t10.setEdge(r10, e30.edge(r10));
  }), t10;
}
function P0(e30, t10) {
  var r10, n10, i10 = e30.x, a10 = e30.y, s10 = t10.x - i10, o10 = t10.y - a10, l10 = e30.width / 2, h10 = e30.height / 2;
  if (!s10 && !o10) throw Error("Not possible to find intersection inside of the rectangle");
  return Math.abs(o10) * l10 > Math.abs(s10) * h10 ? (o10 < 0 && (h10 = -h10), r10 = h10 * s10 / o10, n10 = h10) : (s10 < 0 && (l10 = -l10), r10 = l10, n10 = l10 * o10 / s10), { x: i10 + r10, y: a10 + n10 };
}
function P1(e30) {
  var t10 = OJ(PR(P5(e30) + 1), function() {
    return [];
  });
  return Oe(e30.nodes(), function(r10) {
    var n10 = e30.node(r10), i10 = n10.rank;
    O2(i10) || (t10[i10][n10.order] = r10);
  }), t10;
}
function P2(e30) {
  var t10 = Pl(OJ(e30.nodes(), function(t11) {
    return e30.node(t11).rank;
  }));
  Oe(e30.nodes(), function(r10) {
    var n10 = e30.node(r10);
    $8(n10, "rank") && (n10.rank -= t10);
  });
}
function P4(e30) {
  var t10 = Pl(OJ(e30.nodes(), function(t11) {
    return e30.node(t11).rank;
  })), r10 = [];
  Oe(e30.nodes(), function(n11) {
    var i11 = e30.node(n11).rank - t10;
    r10[i11] || (r10[i11] = []), r10[i11].push(n11);
  });
  var n10 = 0, i10 = e30.graph().nodeRankFactor;
  Oe(r10, function(t11, r11) {
    O2(t11) && r11 % i10 != 0 ? --n10 : n10 && Oe(t11, function(t12) {
      e30.node(t12).rank += n10;
    });
  });
}
function P3(e30, t10, r10, n10) {
  var i10 = { width: 0, height: 0 };
  return arguments.length >= 4 && (i10.rank = r10, i10.order = n10), PZ(e30, "border", i10, t10);
}
function P5(e30) {
  return O6(OJ(e30.nodes(), function(t10) {
    var r10 = e30.node(t10).rank;
    if (!O2(r10)) return r10;
  }));
}
function P6(e30, t10) {
  var r10 = { lhs: [], rhs: [] };
  return Oe(e30, function(e31) {
    t10(e31) ? r10.lhs.push(e31) : r10.rhs.push(e31);
  }), r10;
}
function P7(e30, t10) {
  var r10 = $q();
  try {
    return t10();
  } finally {
    console.log(e30 + " time: " + ($q() - r10) + "ms");
  }
}
function P8(e30, t10) {
  return t10();
}
function P9(e30) {
  function t10(r10) {
    var n10 = e30.children(r10), i10 = e30.node(r10);
    if (n10.length && Oe(n10, t10), Object.prototype.hasOwnProperty.call(i10, "minRank")) {
      i10.borderLeft = [], i10.borderRight = [];
      for (var a10 = i10.minRank, s10 = i10.maxRank + 1; a10 < s10; ++a10) Be(e30, "borderLeft", "_bl", r10, i10, a10), Be(e30, "borderRight", "_br", r10, i10, a10);
    }
  }
  iM(t10, "dfs"), Oe(e30.children(), t10);
}
function Be(e30, t10, r10, n10, i10, a10) {
  var s10 = i10[t10][a10 - 1], o10 = PZ(e30, "border", { width: 0, height: 0, rank: a10, borderType: t10 }, r10);
  i10[t10][a10] = o10, e30.setParent(o10, n10), s10 && e30.setEdge(s10, o10, { weight: 1 });
}
function Bt(e30) {
  var t10 = e30.graph().rankdir.toLowerCase();
  ("lr" === t10 || "rl" === t10) && Bn(e30);
}
function Br(e30) {
  var t10 = e30.graph().rankdir.toLowerCase();
  ("bt" === t10 || "rl" === t10) && Ba(e30), ("lr" === t10 || "rl" === t10) && (Bo(e30), Bn(e30));
}
function Bn(e30) {
  Oe(e30.nodes(), function(t10) {
    Bi(e30.node(t10));
  }), Oe(e30.edges(), function(t10) {
    Bi(e30.edge(t10));
  });
}
function Bi(e30) {
  var t10 = e30.width;
  e30.width = e30.height, e30.height = t10;
}
function Ba(e30) {
  Oe(e30.nodes(), function(t10) {
    Bs(e30.node(t10));
  }), Oe(e30.edges(), function(t10) {
    var r10 = e30.edge(t10);
    Oe(r10.points, Bs), Object.prototype.hasOwnProperty.call(r10, "y") && Bs(r10);
  });
}
function Bs(e30) {
  e30.y = -e30.y;
}
function Bo(e30) {
  Oe(e30.nodes(), function(t10) {
    Bl(e30.node(t10));
  }), Oe(e30.edges(), function(t10) {
    var r10 = e30.edge(t10);
    Oe(r10.points, Bl), Object.prototype.hasOwnProperty.call(r10, "x") && Bl(r10);
  });
}
function Bl(e30) {
  var t10 = e30.x;
  e30.x = e30.y, e30.y = t10;
}
PV.prototype._nodeCount = 0, PV.prototype._edgeCount = 0, iM(PH, "incrementOrInitEntry"), iM(PY, "decrementOrRemoveEntry"), iM(PG, "edgeArgsToId"), iM(PX, "edgeArgsToObj"), iM(PK, "edgeObjToId"), iM(PZ, "addDummyNode"), iM(PQ, "simplify"), iM(PJ, "asNonCompoundGraph"), iM(P0, "intersectRect"), iM(P1, "buildLayerMatrix"), iM(P2, "normalizeRanks"), iM(P4, "removeEmptyRanks"), iM(P3, "addBorderNode"), iM(P5, "maxRank"), iM(P6, "partition"), iM(P7, "time"), iM(P8, "notime"), iM(P9, "addBorderSegments"), iM(Be, "addBorderNode"), iM(Bt, "adjust"), iM(Br, "undo"), iM(Bn, "swapWidthHeight"), iM(Bi, "swapWidthHeightOne"), iM(Ba, "reverseY"), iM(Bs, "reverseYOne"), iM(Bo, "swapXY"), iM(Bl, "swapXYOne");
var Bc = (_$2 = class {
  constructor() {
    var e30 = {};
    e30._next = e30._prev = e30, this._sentinel = e30;
  }
  dequeue() {
    var e30 = this._sentinel, t10 = e30._prev;
    if (t10 !== e30) return Bh(t10), t10;
  }
  enqueue(e30) {
    var t10 = this._sentinel;
    e30._prev && e30._next && Bh(e30), e30._next = t10._next, t10._next._prev = e30, t10._next = e30, e30._prev = t10;
  }
  toString() {
    for (var e30 = [], t10 = this._sentinel, r10 = t10._prev; r10 !== t10; ) e30.push(JSON.stringify(r10, Bu)), r10 = r10._prev;
    return "[" + e30.join(", ") + "]";
  }
}, _i56 = new WeakMap(), __privateAdd(_$2, _i56, iM(_$2, "List")), _$2);
function Bh(e30) {
  e30._prev._next = e30._next, e30._next._prev = e30._prev, delete e30._next, delete e30._prev;
}
function Bu(e30, t10) {
  if ("_next" !== e30 && "_prev" !== e30) return t10;
}
iM(Bh, "unlink"), iM(Bu, "filterOutLinks");
var Bd = br(1);
function Bp(e30, t10) {
  if (1 >= e30.nodeCount()) return [];
  var r10 = Bm(e30, t10 || Bd);
  return $n(OJ(Bf(r10.graph, r10.buckets, r10.zeroIdx), function(t11) {
    return e30.outEdges(t11.v, t11.w);
  }));
}
function Bf(e30, t10, r10) {
  for (var n10, i10 = [], a10 = t10[t10.length - 1], s10 = t10[0]; e30.nodeCount(); ) {
    for (; n10 = s10.dequeue(); ) Bg(e30, t10, r10, n10);
    for (; n10 = a10.dequeue(); ) Bg(e30, t10, r10, n10);
    if (e30.nodeCount()) {
      for (var o10 = t10.length - 2; o10 > 0; --o10) if (n10 = t10[o10].dequeue()) {
        i10 = i10.concat(Bg(e30, t10, r10, n10, true));
        break;
      }
    }
  }
  return i10;
}
function Bg(e30, t10, r10, n10, i10) {
  var a10 = i10 ? [] : void 0;
  return Oe(e30.inEdges(n10.v), function(n11) {
    var s10 = e30.edge(n11), o10 = e30.node(n11.v);
    i10 && a10.push({ v: n11.v, w: n11.w }), o10.out -= s10, By(t10, r10, o10);
  }), Oe(e30.outEdges(n10.v), function(n11) {
    var i11 = e30.edge(n11), a11 = n11.w, s10 = e30.node(a11);
    s10.in -= i11, By(t10, r10, s10);
  }), e30.removeNode(n10.v), a10;
}
function Bm(e30, t10) {
  var r10 = new PV(), n10 = 0, i10 = 0;
  Oe(e30.nodes(), function(e31) {
    r10.setNode(e31, { v: e31, in: 0, out: 0 });
  }), Oe(e30.edges(), function(e31) {
    var a11 = r10.edge(e31.v, e31.w) || 0, s11 = t10(e31);
    r10.setEdge(e31.v, e31.w, a11 + s11), i10 = Math.max(i10, r10.node(e31.v).out += s11), n10 = Math.max(n10, r10.node(e31.w).in += s11);
  });
  var a10 = PR(i10 + n10 + 3).map(function() {
    return new Bc();
  }), s10 = n10 + 1;
  return Oe(r10.nodes(), function(e31) {
    By(a10, s10, r10.node(e31));
  }), { graph: r10, buckets: a10, zeroIdx: s10 };
}
function By(e30, t10, r10) {
  r10.out ? r10.in ? e30[r10.out - r10.in + t10].enqueue(r10) : e30[e30.length - 1].enqueue(r10) : e30[0].enqueue(r10);
}
function Bv(e30) {
  function t10(e31) {
    return function(t11) {
      return e31.edge(t11).weight;
    };
  }
  Oe("greedy" === e30.graph().acyclicer ? Bp(e30, t10(e30)) : Bx(e30), function(t11) {
    var r10 = e30.edge(t11);
    e30.removeEdge(t11), r10.forwardName = t11.name, r10.reversed = true, e30.setEdge(t11.w, t11.v, r10, Pq("rev"));
  }), iM(t10, "weightFn");
}
function Bx(e30) {
  var t10 = [], r10 = {}, n10 = {};
  function i10(a10) {
    Object.prototype.hasOwnProperty.call(n10, a10) || (n10[a10] = true, r10[a10] = true, Oe(e30.outEdges(a10), function(e31) {
      Object.prototype.hasOwnProperty.call(r10, e31.w) ? t10.push(e31) : i10(e31.w);
    }), delete r10[a10]);
  }
  return iM(i10, "dfs"), Oe(e30.nodes(), i10), t10;
}
function Bb(e30) {
  Oe(e30.edges(), function(t10) {
    var r10 = e30.edge(t10);
    if (r10.reversed) {
      e30.removeEdge(t10);
      var n10 = r10.forwardName;
      delete r10.reversed, delete r10.forwardName, e30.setEdge(t10.w, t10.v, r10, n10);
    }
  });
}
function Bk(e30) {
  e30.graph().dummyChains = [], Oe(e30.edges(), function(t10) {
    Bw(e30, t10);
  });
}
function Bw(e30, t10) {
  var r10, n10, i10 = t10.v, a10 = e30.node(i10).rank, s10 = t10.w, o10 = e30.node(s10).rank, l10 = t10.name, h10 = e30.edge(t10), u10 = h10.labelRank;
  if (o10 !== a10 + 1) {
    e30.removeEdge(t10);
    var d10 = void 0;
    for (n10 = 0, ++a10; a10 < o10; ++n10, ++a10) h10.points = [], r10 = PZ(e30, "edge", d10 = { width: 0, height: 0, edgeLabel: h10, edgeObj: t10, rank: a10 }, "_d"), a10 === u10 && (d10.width = h10.width, d10.height = h10.height, d10.dummy = "edge-label", d10.labelpos = h10.labelpos), e30.setEdge(i10, r10, { weight: h10.weight }, l10), 0 === n10 && e30.graph().dummyChains.push(r10), i10 = r10;
    e30.setEdge(i10, s10, { weight: h10.weight }, l10);
  }
}
function B_(e30) {
  Oe(e30.graph().dummyChains, function(t10) {
    var r10, n10 = e30.node(t10), i10 = n10.edgeLabel;
    for (e30.setEdge(n10.edgeObj, i10); n10.dummy; ) r10 = e30.successors(t10)[0], e30.removeNode(t10), i10.points.push({ x: n10.x, y: n10.y }), "edge-label" === n10.dummy && (i10.x = n10.x, i10.y = n10.y, i10.width = n10.width, i10.height = n10.height), t10 = r10, n10 = e30.node(t10);
  });
}
function BT(e30) {
  var t10 = {};
  function r10(n10) {
    var i10 = e30.node(n10);
    if (Object.prototype.hasOwnProperty.call(t10, n10)) return i10.rank;
    t10[n10] = true;
    var a10 = Pl(OJ(e30.outEdges(n10), function(t11) {
      return r10(t11.w) - e30.edge(t11).minlen;
    }));
    return (a10 === Number.POSITIVE_INFINITY || null == a10) && (a10 = 0), i10.rank = a10;
  }
  iM(r10, "dfs"), Oe(e30.sources(), r10);
}
function BS(e30, t10) {
  return e30.node(t10.w).rank - e30.node(t10.v).rank - e30.edge(t10).minlen;
}
function BC(e30) {
  var t10, r10, n10 = new PV({ directed: false }), i10 = e30.nodes()[0], a10 = e30.nodeCount();
  for (n10.setNode(i10, {}); BE(n10, e30) < a10; ) t10 = BA(n10, e30), r10 = n10.hasNode(t10.v) ? BS(e30, t10) : -BS(e30, t10), BL(n10, e30, r10);
  return n10;
}
function BE(e30, t10) {
  function r10(n10) {
    Oe(t10.nodeEdges(n10), function(i10) {
      var a10 = i10.v, s10 = n10 === a10 ? i10.w : a10;
      e30.hasNode(s10) || BS(t10, i10) || (e30.setNode(s10, {}), e30.setEdge(n10, s10, {}), r10(s10));
    });
  }
  return iM(r10, "dfs"), Oe(e30.nodes(), r10), e30.nodeCount();
}
function BA(e30, t10) {
  return Pc(t10.edges(), function(r10) {
    if (e30.hasNode(r10.v) !== e30.hasNode(r10.w)) return BS(t10, r10);
  });
}
function BL(e30, t10, r10) {
  Oe(e30.nodes(), function(e31) {
    t10.node(e31).rank += r10;
  });
}
function BI(e30) {
  var t10 = {}, r10 = {}, n10 = [];
  function i10(a10) {
    if (Object.prototype.hasOwnProperty.call(r10, a10)) throw new BM();
    Object.prototype.hasOwnProperty.call(t10, a10) || (r10[a10] = true, t10[a10] = true, Oe(e30.predecessors(a10), i10), delete r10[a10], n10.push(a10));
  }
  if (iM(i10, "visit"), Oe(e30.sinks(), i10), PO(t10) !== e30.nodeCount()) throw new BM();
  return n10;
}
function BM() {
}
function BN(e30, t10, r10) {
  b$(t10) || (t10 = [t10]);
  var n10 = (e30.isDirected() ? e30.successors : e30.neighbors).bind(e30), i10 = [], a10 = {};
  return Oe(t10, function(t11) {
    if (!e30.hasNode(t11)) throw Error("Graph does not have node: " + t11);
    BR(e30, t11, "post" === r10, a10, n10, i10);
  }), i10;
}
function BR(e30, t10, r10, n10, i10, a10) {
  !Object.prototype.hasOwnProperty.call(n10, t10) && (n10[t10] = true, r10 || a10.push(t10), Oe(i10(t10), function(t11) {
    BR(e30, t11, r10, n10, i10, a10);
  }), r10 && a10.push(t10));
}
function BD(e30, t10) {
  return BN(e30, t10, "post");
}
function BO(e30, t10) {
  return BN(e30, t10, "pre");
}
function B$(e30) {
  BT(e30 = PQ(e30));
  var t10, r10, n10 = BC(e30);
  for (Bz(n10), BP(n10, e30); t10 = Bq(n10); ) r10 = BU(n10, e30, t10), BW(n10, e30, t10, r10);
}
function BP(e30, t10) {
  var r10 = BD(e30, e30.nodes());
  Oe(r10 = r10.slice(0, r10.length - 1), function(r11) {
    BB(e30, t10, r11);
  });
}
function BB(e30, t10, r10) {
  var n10 = e30.node(r10).parent;
  e30.edge(r10, n10).cutvalue = BF(e30, t10, r10);
}
function BF(e30, t10, r10) {
  var n10 = e30.node(r10).parent, i10 = true, a10 = t10.edge(r10, n10), s10 = 0;
  return a10 || (i10 = false, a10 = t10.edge(n10, r10)), s10 = a10.weight, Oe(t10.nodeEdges(r10), function(a11) {
    var o10 = a11.v === r10, l10 = o10 ? a11.w : a11.v;
    if (l10 !== n10) {
      var h10 = o10 === i10, u10 = t10.edge(a11).weight;
      if (s10 += h10 ? u10 : -u10, BH(e30, r10, l10)) {
        var d10 = e30.edge(r10, l10).cutvalue;
        s10 += h10 ? -d10 : d10;
      }
    }
  }), s10;
}
function Bz(e30, t10) {
  arguments.length < 2 && (t10 = e30.nodes()[0]), Bj(e30, {}, 1, t10);
}
function Bj(e30, t10, r10, n10, i10) {
  var a10 = r10, s10 = e30.node(n10);
  return t10[n10] = true, Oe(e30.neighbors(n10), function(i11) {
    Object.prototype.hasOwnProperty.call(t10, i11) || (r10 = Bj(e30, t10, r10, i11, n10));
  }), s10.low = a10, s10.lim = r10++, i10 ? s10.parent = i10 : delete s10.parent, r10;
}
function Bq(e30) {
  return $J(e30.edges(), function(t10) {
    return e30.edge(t10).cutvalue < 0;
  });
}
function BU(e30, t10, r10) {
  var n10 = r10.v, i10 = r10.w;
  t10.hasEdge(n10, i10) || (n10 = r10.w, i10 = r10.v);
  var a10 = e30.node(n10), s10 = e30.node(i10), o10 = a10, l10 = false;
  return a10.lim > s10.lim && (o10 = s10, l10 = true), Pc(OZ(t10.edges(), function(t11) {
    return l10 === BY(e30, e30.node(t11.v), o10) && l10 !== BY(e30, e30.node(t11.w), o10);
  }), function(e31) {
    return BS(t10, e31);
  });
}
function BW(e30, t10, r10, n10) {
  var i10 = r10.v, a10 = r10.w;
  e30.removeEdge(i10, a10), e30.setEdge(n10.v, n10.w, {}), Bz(e30), BP(e30, t10), BV(e30, t10);
}
function BV(e30, t10) {
  var r10 = $J(e30.nodes(), function(e31) {
    return !t10.node(e31).parent;
  }), n10 = BO(e30, r10);
  Oe(n10 = n10.slice(1), function(r11) {
    var n11 = e30.node(r11).parent, i10 = t10.edge(r11, n11), a10 = false;
    i10 || (i10 = t10.edge(n11, r11), a10 = true), t10.node(r11).rank = t10.node(n11).rank + (a10 ? i10.minlen : -i10.minlen);
  });
}
function BH(e30, t10, r10) {
  return e30.hasEdge(t10, r10);
}
function BY(e30, t10, r10) {
  return r10.low <= t10.lim && t10.lim <= r10.lim;
}
function BG(e30) {
  switch (e30.graph().ranker) {
    case "network-simplex":
    default:
      BZ(e30);
      break;
    case "tight-tree":
      BK(e30);
      break;
    case "longest-path":
      BX(e30);
  }
}
iM(Bp, "greedyFAS"), iM(Bf, "doGreedyFAS"), iM(Bg, "removeNode"), iM(Bm, "buildState"), iM(By, "assignBucket"), iM(Bv, "run"), iM(Bx, "dfsFAS"), iM(Bb, "undo"), iM(Bk, "run"), iM(Bw, "normalizeEdge"), iM(B_, "undo"), iM(BT, "longestPath"), iM(BS, "slack"), iM(BC, "feasibleTree"), iM(BE, "tightTree"), iM(BA, "findMinSlackEdge"), iM(BL, "shiftRanks"), BI.CycleException = BM, iM(BI, "topsort"), iM(BM, "CycleException"), BM.prototype = Error(), iM(BN, "dfs"), iM(BR, "doDfs"), iM(BD, "postorder"), iM(BO, "preorder"), B$.initLowLimValues = Bz, B$.initCutValues = BP, B$.calcCutValue = BF, B$.leaveEdge = Bq, B$.enterEdge = BU, B$.exchangeEdges = BW, iM(B$, "networkSimplex"), iM(BP, "initCutValues"), iM(BB, "assignCutValue"), iM(BF, "calcCutValue"), iM(Bz, "initLowLimValues"), iM(Bj, "dfsAssignLowLim"), iM(Bq, "leaveEdge"), iM(BU, "enterEdge"), iM(BW, "exchangeEdges"), iM(BV, "updateRanks"), iM(BH, "isTreeEdge"), iM(BY, "isDescendant"), iM(BG, "rank");
var BX = BT;
function BK(e30) {
  BT(e30), BC(e30);
}
function BZ(e30) {
  B$(e30);
}
function BQ(e30) {
  var t10 = PZ(e30, "root", {}, "_root"), r10 = B0(e30), n10 = O6(O1(r10)) - 1, i10 = 2 * n10 + 1;
  e30.graph().nestingRoot = t10, Oe(e30.edges(), function(t11) {
    e30.edge(t11).minlen *= i10;
  });
  var a10 = B1(e30) + 1;
  Oe(e30.children(), function(s10) {
    BJ(e30, t10, i10, a10, n10, r10, s10);
  }), e30.graph().nodeRankFactor = i10;
}
function BJ(e30, t10, r10, n10, i10, a10, s10) {
  var o10 = e30.children(s10);
  if (!o10.length) {
    s10 !== t10 && e30.setEdge(t10, s10, { weight: 0, minlen: r10 });
    return;
  }
  var l10 = P3(e30, "_bt"), h10 = P3(e30, "_bb"), u10 = e30.node(s10);
  e30.setParent(l10, s10), u10.borderTop = l10, e30.setParent(h10, s10), u10.borderBottom = h10, Oe(o10, function(o11) {
    BJ(e30, t10, r10, n10, i10, a10, o11);
    var u11 = e30.node(o11), d10 = u11.borderTop ? u11.borderTop : o11, p10 = u11.borderBottom ? u11.borderBottom : o11, f10 = u11.borderTop ? n10 : 2 * n10, g10 = d10 !== p10 ? 1 : i10 - a10[s10] + 1;
    e30.setEdge(l10, d10, { weight: f10, minlen: g10, nestingEdge: true }), e30.setEdge(p10, h10, { weight: f10, minlen: g10, nestingEdge: true });
  }), e30.parent(s10) || e30.setEdge(t10, l10, { weight: 0, minlen: i10 + a10[s10] });
}
function B0(e30) {
  var t10 = {};
  function r10(n10, i10) {
    var a10 = e30.children(n10);
    a10 && a10.length && Oe(a10, function(e31) {
      r10(e31, i10 + 1);
    }), t10[n10] = i10;
  }
  return iM(r10, "dfs"), Oe(e30.children(), function(e31) {
    r10(e31, 1);
  }), t10;
}
function B1(e30) {
  return $l(e30.edges(), function(t10, r10) {
    return t10 + e30.edge(r10).weight;
  }, 0);
}
function B2(e30) {
  var t10 = e30.graph();
  e30.removeNode(t10.nestingRoot), delete t10.nestingRoot, Oe(e30.edges(), function(t11) {
    e30.edge(t11).nestingEdge && e30.removeEdge(t11);
  });
}
function B4(e30, t10, r10) {
  var n10, i10 = {};
  Oe(r10, function(r11) {
    for (var a10, s10, o10 = e30.parent(r11); o10; ) {
      if ((a10 = e30.parent(o10)) ? (s10 = i10[a10], i10[a10] = o10) : (s10 = n10, n10 = o10), s10 && s10 !== o10) {
        t10.setEdge(s10, o10);
        return;
      }
      o10 = a10;
    }
  });
}
function B3(e30, t10, r10) {
  var n10 = B5(e30), i10 = new PV({ compound: true }).setGraph({ root: n10 }).setDefaultNodeLabel(function(t11) {
    return e30.node(t11);
  });
  return Oe(e30.nodes(), function(a10) {
    var s10 = e30.node(a10), o10 = e30.parent(a10);
    (s10.rank === t10 || s10.minRank <= t10 && t10 <= s10.maxRank) && (i10.setNode(a10), i10.setParent(a10, o10 || n10), Oe(e30[r10](a10), function(t11) {
      var r11 = t11.v === a10 ? t11.w : t11.v, n11 = i10.edge(r11, a10), s11 = O2(n11) ? 0 : n11.weight;
      i10.setEdge(r11, a10, { weight: e30.edge(t11).weight + s11 });
    }), Object.prototype.hasOwnProperty.call(s10, "minRank") && i10.setNode(a10, { borderLeft: s10.borderLeft[t10], borderRight: s10.borderRight[t10] }));
  }), i10;
}
function B5(e30) {
  for (var t10; e30.hasNode(t10 = Pq("_root")); ) ;
  return t10;
}
function B6(e30, t10) {
  for (var r10 = 0, n10 = 1; n10 < t10.length; ++n10) r10 += B7(e30, t10[n10 - 1], t10[n10]);
  return r10;
}
function B7(e30, t10, r10) {
  for (var n10 = PW(r10, OJ(r10, function(e31, t11) {
    return t11;
  })), i10 = $n(OJ(t10, function(t11) {
    return PB(OJ(e30.outEdges(t11), function(t12) {
      return { pos: n10[t12.w], weight: e30.edge(t12).weight };
    }), "pos");
  })), a10 = 1; a10 < r10.length; ) a10 <<= 1;
  var s10 = 2 * a10 - 1;
  a10 -= 1;
  var o10 = OJ(Array(s10), function() {
    return 0;
  }), l10 = 0;
  return Oe(i10.forEach(function(e31) {
    var t11 = e31.pos + a10;
    o10[t11] += e31.weight;
    for (var r11 = 0; t11 > 0; ) t11 % 2 && (r11 += o10[t11 + 1]), t11 = t11 - 1 >> 1, o10[t11] += e31.weight;
    l10 += e31.weight * r11;
  })), l10;
}
function B8(e30) {
  var t10 = {}, r10 = OZ(e30.nodes(), function(t11) {
    return !e30.children(t11).length;
  }), n10 = O6(OJ(r10, function(t11) {
    return e30.node(t11).rank;
  })), i10 = OJ(PR(n10 + 1), function() {
    return [];
  });
  function a10(r11) {
    $8(t10, r11) || (t10[r11] = true, i10[e30.node(r11).rank].push(r11), Oe(e30.successors(r11), a10));
  }
  return iM(a10, "dfs"), Oe(PB(r10, function(t11) {
    return e30.node(t11).rank;
  }), a10), i10;
}
function B9(e30, t10) {
  return OJ(t10, function(t11) {
    var r10 = e30.inEdges(t11);
    if (!r10.length) return { v: t11 };
    var n10 = $l(r10, function(t12, r11) {
      var n11 = e30.edge(r11), i10 = e30.node(r11.v);
      return { sum: t12.sum + n11.weight * i10.order, weight: t12.weight + n11.weight };
    }, { sum: 0, weight: 0 });
    return { v: t11, barycenter: n10.sum / n10.weight, weight: n10.weight };
  });
}
function Fe(e30, t10) {
  var r10 = {};
  return Oe(e30, function(e31, t11) {
    var n10 = r10[e31.v] = { indegree: 0, in: [], out: [], vs: [e31.v], i: t11 };
    O2(e31.barycenter) || (n10.barycenter = e31.barycenter, n10.weight = e31.weight);
  }), Oe(t10.edges(), function(e31) {
    var t11 = r10[e31.v], n10 = r10[e31.w];
    O2(t11) || O2(n10) || (n10.indegree++, t11.out.push(r10[e31.w]));
  }), Ft(OZ(r10, function(e31) {
    return !e31.indegree;
  }));
}
function Ft(e30) {
  var t10 = [];
  function r10(e31) {
    return function(t11) {
      !t11.merged && (O2(t11.barycenter) || O2(e31.barycenter) || t11.barycenter >= e31.barycenter) && Fr(e31, t11);
    };
  }
  function n10(t11) {
    return function(r11) {
      r11.in.push(t11), 0 == --r11.indegree && e30.push(r11);
    };
  }
  for (iM(r10, "handleIn"), iM(n10, "handleOut"); e30.length; ) {
    var i10 = e30.pop();
    t10.push(i10), Oe(i10.in.reverse(), r10(i10)), Oe(i10.out, n10(i10));
  }
  return OJ(OZ(t10, function(e31) {
    return !e31.merged;
  }), function(e31) {
    return $a(e31, ["vs", "i", "barycenter", "weight"]);
  });
}
function Fr(e30, t10) {
  var r10 = 0, n10 = 0;
  e30.weight && (r10 += e30.barycenter * e30.weight, n10 += e30.weight), t10.weight && (r10 += t10.barycenter * t10.weight, n10 += t10.weight), e30.vs = t10.vs.concat(e30.vs), e30.barycenter = r10 / n10, e30.weight = n10, e30.i = Math.min(t10.i, e30.i), t10.merged = true;
}
function Fn(e30, t10) {
  var r10 = P6(e30, function(e31) {
    return Object.prototype.hasOwnProperty.call(e31, "barycenter");
  }), n10 = r10.lhs, i10 = PB(r10.rhs, function(e31) {
    return -e31.i;
  }), a10 = [], s10 = 0, o10 = 0, l10 = 0;
  n10.sort(Fa(!!t10)), l10 = Fi(a10, i10, l10), Oe(n10, function(e31) {
    l10 += e31.vs.length, a10.push(e31.vs), s10 += e31.barycenter * e31.weight, o10 += e31.weight, l10 = Fi(a10, i10, l10);
  });
  var h10 = { vs: $n(a10) };
  return o10 && (h10.barycenter = s10 / o10, h10.weight = o10), h10;
}
function Fi(e30, t10, r10) {
  for (var n10; t10.length && (n10 = D5(t10)).i <= r10; ) t10.pop(), e30.push(n10.vs), r10++;
  return r10;
}
function Fa(e30) {
  return function(t10, r10) {
    return t10.barycenter < r10.barycenter ? -1 : t10.barycenter > r10.barycenter ? 1 : e30 ? r10.i - t10.i : t10.i - r10.i;
  };
}
function Fs(e30, t10, r10, n10) {
  var i10 = e30.children(t10), a10 = e30.node(t10), s10 = a10 ? a10.borderLeft : void 0, o10 = a10 ? a10.borderRight : void 0, l10 = {};
  s10 && (i10 = OZ(i10, function(e31) {
    return e31 !== s10 && e31 !== o10;
  }));
  var h10 = B9(e30, i10);
  Oe(h10, function(t11) {
    if (e30.children(t11.v).length) {
      var i11 = Fs(e30, t11.v, r10, n10);
      l10[t11.v] = i11, Object.prototype.hasOwnProperty.call(i11, "barycenter") && Fl(t11, i11);
    }
  });
  var u10 = Fe(h10, r10);
  Fo(u10, l10);
  var d10 = Fn(u10, n10);
  if (s10 && (d10.vs = $n([s10, d10.vs, o10]), e30.predecessors(s10).length)) {
    var p10 = e30.node(e30.predecessors(s10)[0]), f10 = e30.node(e30.predecessors(o10)[0]);
    Object.prototype.hasOwnProperty.call(d10, "barycenter") || (d10.barycenter = 0, d10.weight = 0), d10.barycenter = (d10.barycenter * d10.weight + p10.order + f10.order) / (d10.weight + 2), d10.weight += 2;
  }
  return d10;
}
function Fo(e30, t10) {
  Oe(e30, function(e31) {
    e31.vs = $n(e31.vs.map(function(e32) {
      return t10[e32] ? t10[e32].vs : e32;
    }));
  });
}
function Fl(e30, t10) {
  O2(e30.barycenter) ? (e30.barycenter = t10.barycenter, e30.weight = t10.weight) : (e30.barycenter = (e30.barycenter * e30.weight + t10.barycenter * t10.weight) / (e30.weight + t10.weight), e30.weight += t10.weight);
}
function Fc(e30) {
  var t10 = P5(e30), r10 = Fh(e30, PR(1, t10 + 1), "inEdges"), n10 = Fh(e30, PR(t10 - 1, -1, -1), "outEdges"), i10 = B8(e30);
  Fd(e30, i10);
  for (var a10, s10 = Number.POSITIVE_INFINITY, o10 = 0, l10 = 0; l10 < 4; ++o10, ++l10) {
    Fu(o10 % 2 ? r10 : n10, o10 % 4 >= 2), i10 = P1(e30);
    var h10 = B6(e30, i10);
    h10 < s10 && (l10 = 0, a10 = $P(i10), s10 = h10);
  }
  Fd(e30, a10);
}
function Fh(e30, t10, r10) {
  return OJ(t10, function(t11) {
    return B3(e30, t11, r10);
  });
}
function Fu(e30, t10) {
  var r10 = new PV();
  Oe(e30, function(e31) {
    var n10 = e31.graph().root, i10 = Fs(e31, n10, r10, t10);
    Oe(i10.vs, function(t11, r11) {
      e31.node(t11).order = r11;
    }), B4(e31, r10, i10.vs);
  });
}
function Fd(e30, t10) {
  Oe(t10, function(t11) {
    Oe(t11, function(t12, r10) {
      e30.node(t12).order = r10;
    });
  });
}
function Fp(e30) {
  var t10 = Fg(e30);
  Oe(e30.graph().dummyChains, function(r10) {
    for (var n10 = e30.node(r10), i10 = n10.edgeObj, a10 = Ff(e30, t10, i10.v, i10.w), s10 = a10.path, o10 = a10.lca, l10 = 0, h10 = s10[0], u10 = true; r10 !== i10.w; ) {
      if (n10 = e30.node(r10), u10) {
        for (; (h10 = s10[l10]) !== o10 && e30.node(h10).maxRank < n10.rank; ) l10++;
        h10 === o10 && (u10 = false);
      }
      if (!u10) {
        for (; l10 < s10.length - 1 && e30.node(h10 = s10[l10 + 1]).minRank <= n10.rank; ) l10++;
        h10 = s10[l10];
      }
      e30.setParent(r10, h10), r10 = e30.successors(r10)[0];
    }
  });
}
function Ff(e30, t10, r10, n10) {
  var i10, a10, s10 = [], o10 = [], l10 = Math.min(t10[r10].low, t10[n10].low), h10 = Math.max(t10[r10].lim, t10[n10].lim);
  i10 = r10;
  do
    s10.push(i10 = e30.parent(i10));
  while (i10 && (t10[i10].low > l10 || h10 > t10[i10].lim));
  for (a10 = i10, i10 = n10; (i10 = e30.parent(i10)) !== a10; ) o10.push(i10);
  return { path: s10.concat(o10.reverse()), lca: a10 };
}
function Fg(e30) {
  var t10 = {}, r10 = 0;
  function n10(i10) {
    var a10 = r10;
    Oe(e30.children(i10), n10), t10[i10] = { low: a10, lim: r10++ };
  }
  return iM(n10, "dfs"), Oe(e30.children(), n10), t10;
}
function Fm(e30, t10) {
  var r10 = {};
  function n10(t11, n11) {
    var i10 = 0, a10 = 0, s10 = t11.length, o10 = D5(n11);
    return Oe(n11, function(t12, l10) {
      var h10 = Fv(e30, t12), u10 = h10 ? e30.node(h10).order : s10;
      (h10 || t12 === o10) && (Oe(n11.slice(a10, l10 + 1), function(t13) {
        Oe(e30.predecessors(t13), function(n12) {
          var a11 = e30.node(n12), s11 = a11.order;
          (s11 < i10 || u10 < s11) && !(a11.dummy && e30.node(t13).dummy) && Fx(r10, n12, t13);
        });
      }), a10 = l10 + 1, i10 = u10);
    }), n11;
  }
  return iM(n10, "visitLayer"), $l(t10, n10), r10;
}
function Fy(e30, t10) {
  var r10 = {};
  function n10(t11, n11, i11, a10, s10) {
    var o10;
    Oe(PR(n11, i11), function(n12) {
      o10 = t11[n12], e30.node(o10).dummy && Oe(e30.predecessors(o10), function(t12) {
        var n13 = e30.node(t12);
        n13.dummy && (n13.order < a10 || n13.order > s10) && Fx(r10, t12, o10);
      });
    });
  }
  function i10(t11, r11) {
    var i11, a10 = -1, s10 = 0;
    return Oe(r11, function(o10, l10) {
      if ("border" === e30.node(o10).dummy) {
        var h10 = e30.predecessors(o10);
        h10.length && (i11 = e30.node(h10[0]).order, n10(r11, s10, l10, a10, i11), s10 = l10, a10 = i11);
      }
      n10(r11, s10, r11.length, i11, t11.length);
    }), r11;
  }
  return iM(n10, "scan"), iM(i10, "visitLayer"), $l(t10, i10), r10;
}
function Fv(e30, t10) {
  if (e30.node(t10).dummy) return $J(e30.predecessors(t10), function(t11) {
    return e30.node(t11).dummy;
  });
}
function Fx(e30, t10, r10) {
  if (t10 > r10) {
    var n10 = t10;
    t10 = r10, r10 = n10;
  }
  var i10 = e30[t10];
  i10 || (e30[t10] = i10 = {}), i10[r10] = true;
}
function Fb(e30, t10, r10) {
  if (t10 > r10) {
    var n10 = t10;
    t10 = r10, r10 = n10;
  }
  return !!e30[t10] && Object.prototype.hasOwnProperty.call(e30[t10], r10);
}
function Fk(e30, t10, r10, n10) {
  var i10 = {}, a10 = {}, s10 = {};
  return Oe(t10, function(e31) {
    Oe(e31, function(e32, t11) {
      i10[e32] = e32, a10[e32] = e32, s10[e32] = t11;
    });
  }), Oe(t10, function(e31) {
    var t11 = -1;
    Oe(e31, function(e32) {
      var o10 = n10(e32);
      if (o10.length) for (var l10 = ((o10 = PB(o10, function(e33) {
        return s10[e33];
      })).length - 1) / 2, h10 = Math.floor(l10), u10 = Math.ceil(l10); h10 <= u10; ++h10) {
        var d10 = o10[h10];
        a10[e32] === e32 && t11 < s10[d10] && !Fb(r10, e32, d10) && (a10[d10] = e32, a10[e32] = i10[e32] = i10[d10], t11 = s10[d10]);
      }
    });
  }), { root: i10, align: a10 };
}
function Fw(e30, t10, r10, n10, i10) {
  var a10 = {}, s10 = F_(e30, t10, r10, i10), o10 = i10 ? "borderLeft" : "borderRight";
  function l10(e31, t11) {
    for (var r11 = s10.nodes(), n11 = r11.pop(), i11 = {}; n11; ) i11[n11] ? e31(n11) : (i11[n11] = true, r11.push(n11), r11 = r11.concat(t11(n11))), n11 = r11.pop();
  }
  function h10(e31) {
    a10[e31] = s10.inEdges(e31).reduce(function(e32, t11) {
      return Math.max(e32, a10[t11.v] + s10.edge(t11));
    }, 0);
  }
  function u10(t11) {
    var r11 = s10.outEdges(t11).reduce(function(e31, t12) {
      return Math.min(e31, a10[t12.w] - s10.edge(t12));
    }, Number.POSITIVE_INFINITY), n11 = e30.node(t11);
    r11 !== Number.POSITIVE_INFINITY && n11.borderType !== o10 && (a10[t11] = Math.max(a10[t11], r11));
  }
  return iM(l10, "iterate"), iM(h10, "pass1"), iM(u10, "pass2"), l10(h10, s10.predecessors.bind(s10)), l10(u10, s10.successors.bind(s10)), Oe(n10, function(e31) {
    a10[e31] = a10[r10[e31]];
  }), a10;
}
function F_(e30, t10, r10, n10) {
  var i10 = new PV(), a10 = e30.graph(), s10 = FA(a10.nodesep, a10.edgesep, n10);
  return Oe(t10, function(t11) {
    var n11;
    Oe(t11, function(t12) {
      var a11 = r10[t12];
      if (i10.setNode(a11), n11) {
        var o10 = r10[n11], l10 = i10.edge(o10, a11);
        i10.setEdge(o10, a11, Math.max(s10(e30, t12, n11), l10 || 0));
      }
      n11 = t12;
    });
  }), i10;
}
function FT(e30, t10) {
  return Pc(O1(t10), function(t11) {
    var r10 = Number.NEGATIVE_INFINITY, n10 = Number.POSITIVE_INFINITY;
    return $2(t11, function(t12, i10) {
      var a10 = FL(e30, i10) / 2;
      r10 = Math.max(t12 + a10, r10), n10 = Math.min(t12 - a10, n10);
    }), r10 - n10;
  });
}
function FS(e30, t10) {
  var r10 = O1(t10), n10 = Pl(r10), i10 = O6(r10);
  Oe(["u", "d"], function(r11) {
    Oe(["l", "r"], function(a10) {
      var s10, o10 = r11 + a10, l10 = e30[o10];
      if (l10 !== t10) {
        var h10 = O1(l10);
        (s10 = "l" === a10 ? n10 - Pl(h10) : i10 - O6(h10)) && (e30[o10] = O4(l10, function(e31) {
          return e31 + s10;
        }));
      }
    });
  });
}
function FC(e30, t10) {
  return O4(e30.ul, function(r10, n10) {
    if (t10) return e30[t10.toLowerCase()][n10];
    var i10 = PB(OJ(e30, n10));
    return (i10[1] + i10[2]) / 2;
  });
}
function FE(e30) {
  var t10, r10 = P1(e30), n10 = kw(Fm(e30, r10), Fy(e30, r10)), i10 = {};
  Oe(["u", "d"], function(a11) {
    t10 = "u" === a11 ? r10 : O1(r10).reverse(), Oe(["l", "r"], function(r11) {
      "r" === r11 && (t10 = OJ(t10, function(e31) {
        return O1(e31).reverse();
      }));
      var s10 = ("u" === a11 ? e30.predecessors : e30.successors).bind(e30), o10 = Fk(e30, t10, n10, s10), l10 = Fw(e30, t10, o10.root, o10.align, "r" === r11);
      "r" === r11 && (l10 = O4(l10, function(e31) {
        return -e31;
      })), i10[a11 + r11] = l10;
    });
  });
  var a10 = FT(e30, i10);
  return FS(i10, a10), FC(i10, e30.graph().align);
}
function FA(e30, t10, r10) {
  return function(n10, i10, a10) {
    var s10, o10, l10 = n10.node(i10), h10 = n10.node(a10);
    if (s10 = 0 + l10.width / 2, Object.prototype.hasOwnProperty.call(l10, "labelpos")) switch (l10.labelpos.toLowerCase()) {
      case "l":
        o10 = -l10.width / 2;
        break;
      case "r":
        o10 = l10.width / 2;
    }
    if (o10 && (s10 += r10 ? o10 : -o10), o10 = 0, s10 += (l10.dummy ? t10 : e30) / 2, s10 += (h10.dummy ? t10 : e30) / 2, s10 += h10.width / 2, Object.prototype.hasOwnProperty.call(h10, "labelpos")) switch (h10.labelpos.toLowerCase()) {
      case "l":
        o10 = h10.width / 2;
        break;
      case "r":
        o10 = -h10.width / 2;
    }
    return o10 && (s10 += r10 ? o10 : -o10), o10 = 0, s10;
  };
}
function FL(e30, t10) {
  return e30.node(t10).width;
}
function FI(e30) {
  FM(e30 = PJ(e30)), $4(FE(e30), function(t10, r10) {
    e30.node(r10).x = t10;
  });
}
function FM(e30) {
  var t10 = P1(e30), r10 = e30.graph().ranksep, n10 = 0;
  Oe(t10, function(t11) {
    var i10 = O6(OJ(t11, function(t12) {
      return e30.node(t12).height;
    }));
    Oe(t11, function(t12) {
      e30.node(t12).y = n10 + i10 / 2;
    }), n10 += i10 + r10;
  });
}
function FN(e30, t10) {
  var r10 = t10 && t10.debugTiming ? P7 : P8;
  r10("layout", () => {
    var t11 = r10("  buildLayoutGraph", () => FU(e30));
    r10("  runLayout", () => FR(t11, r10)), r10("  updateInputGraph", () => FD(e30, t11));
  });
}
function FR(e30, t10) {
  t10("    makeSpaceForEdgeLabels", () => FW(e30)), t10("    removeSelfEdges", () => FJ(e30)), t10("    acyclic", () => Bv(e30)), t10("    nestingGraph.run", () => BQ(e30)), t10("    rank", () => BG(PJ(e30))), t10("    injectEdgeLabelProxies", () => FV(e30)), t10("    removeEmptyRanks", () => P4(e30)), t10("    nestingGraph.cleanup", () => B2(e30)), t10("    normalizeRanks", () => P2(e30)), t10("    assignRankMinMax", () => FH(e30)), t10("    removeEdgeLabelProxies", () => FY(e30)), t10("    normalize.run", () => Bk(e30)), t10("    parentDummyChains", () => Fp(e30)), t10("    addBorderSegments", () => P9(e30)), t10("    order", () => Fc(e30)), t10("    insertSelfEdges", () => F0(e30)), t10("    adjustCoordinateSystem", () => Bt(e30)), t10("    position", () => FI(e30)), t10("    positionSelfEdges", () => F1(e30)), t10("    removeBorderNodes", () => FQ(e30)), t10("    normalize.undo", () => B_(e30)), t10("    fixupEdgeLabelCoords", () => FK(e30)), t10("    undoCoordinateSystem", () => Br(e30)), t10("    translateGraph", () => FG(e30)), t10("    assignNodeIntersects", () => FX(e30)), t10("    reversePoints", () => FZ(e30)), t10("    acyclic.undo", () => Bb(e30));
}
function FD(e30, t10) {
  Oe(e30.nodes(), function(r10) {
    var n10 = e30.node(r10), i10 = t10.node(r10);
    n10 && (n10.x = i10.x, n10.y = i10.y, t10.children(r10).length && (n10.width = i10.width, n10.height = i10.height));
  }), Oe(e30.edges(), function(r10) {
    var n10 = e30.edge(r10), i10 = t10.edge(r10);
    n10.points = i10.points, Object.prototype.hasOwnProperty.call(i10, "x") && (n10.x = i10.x, n10.y = i10.y);
  }), e30.graph().width = t10.graph().width, e30.graph().height = t10.graph().height;
}
iM(BK, "tightTreeRanker"), iM(BZ, "networkSimplexRanker"), iM(BQ, "run"), iM(BJ, "dfs"), iM(B0, "treeDepths"), iM(B1, "sumWeights"), iM(B2, "cleanup"), iM(B4, "addSubgraphConstraints"), iM(B3, "buildLayerGraph"), iM(B5, "createRootNode"), iM(B6, "crossCount"), iM(B7, "twoLayerCrossCount"), iM(B8, "initOrder"), iM(B9, "barycenter"), iM(Fe, "resolveConflicts"), iM(Ft, "doResolveConflicts"), iM(Fr, "mergeEntries"), iM(Fn, "sort"), iM(Fi, "consumeUnsortable"), iM(Fa, "compareWithBias"), iM(Fs, "sortSubgraph"), iM(Fo, "expandSubgraphs"), iM(Fl, "mergeBarycenters"), iM(Fc, "order"), iM(Fh, "buildLayerGraphs"), iM(Fu, "sweepLayerGraphs"), iM(Fd, "assignOrder"), iM(Fp, "parentDummyChains"), iM(Ff, "findPath"), iM(Fg, "postorder"), iM(Fm, "findType1Conflicts"), iM(Fy, "findType2Conflicts"), iM(Fv, "findOtherInnerSegmentNode"), iM(Fx, "addConflict"), iM(Fb, "hasConflict"), iM(Fk, "verticalAlignment"), iM(Fw, "horizontalCompaction"), iM(F_, "buildBlockGraph"), iM(FT, "findSmallestWidthAlignment"), iM(FS, "alignCoordinates"), iM(FC, "balance"), iM(FE, "positionX"), iM(FA, "sep"), iM(FL, "width"), iM(FI, "position"), iM(FM, "positionY"), iM(FN, "layout"), iM(FR, "runLayout"), iM(FD, "updateInputGraph");
var FO = ["nodesep", "edgesep", "ranksep", "marginx", "marginy"], F$ = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: "tb" }, FP = ["acyclicer", "ranker", "rankdir", "align"], FB = ["width", "height"], FF = { width: 0, height: 0 }, Fz = ["minlen", "weight", "width", "height", "labeloffset"], Fj = { minlen: 1, weight: 1, width: 0, height: 0, labeloffset: 10, labelpos: "r" }, Fq = ["labelpos"];
function FU(e30) {
  var t10 = new PV({ multigraph: true, compound: true }), r10 = F4(e30.graph());
  return t10.setGraph(kw({}, F$, F2(r10, FO), $a(r10, FP))), Oe(e30.nodes(), function(r11) {
    var n10 = F4(e30.node(r11));
    t10.setNode(r11, D3(F2(n10, FB), FF)), t10.setParent(r11, e30.parent(r11));
  }), Oe(e30.edges(), function(r11) {
    var n10 = F4(e30.edge(r11));
    t10.setEdge(r11, kw({}, Fj, F2(n10, Fz), $a(n10, Fq)));
  }), t10;
}
function FW(e30) {
  var t10 = e30.graph();
  t10.ranksep /= 2, Oe(e30.edges(), function(r10) {
    var n10 = e30.edge(r10);
    n10.minlen *= 2, "c" !== n10.labelpos.toLowerCase() && ("TB" === t10.rankdir || "BT" === t10.rankdir ? n10.width += n10.labeloffset : n10.height += n10.labeloffset);
  });
}
function FV(e30) {
  Oe(e30.edges(), function(t10) {
    var r10 = e30.edge(t10);
    if (r10.width && r10.height) {
      var n10 = e30.node(t10.v), i10 = { rank: (e30.node(t10.w).rank - n10.rank) / 2 + n10.rank, e: t10 };
      PZ(e30, "edge-proxy", i10, "_ep");
    }
  });
}
function FH(e30) {
  var t10 = 0;
  Oe(e30.nodes(), function(r10) {
    var n10 = e30.node(r10);
    n10.borderTop && (n10.minRank = e30.node(n10.borderTop).rank, n10.maxRank = e30.node(n10.borderBottom).rank, t10 = O6(t10, n10.maxRank));
  }), e30.graph().maxRank = t10;
}
function FY(e30) {
  Oe(e30.nodes(), function(t10) {
    var r10 = e30.node(t10);
    "edge-proxy" === r10.dummy && (e30.edge(r10.e).labelRank = r10.rank, e30.removeNode(t10));
  });
}
function FG(e30) {
  var t10 = Number.POSITIVE_INFINITY, r10 = 0, n10 = Number.POSITIVE_INFINITY, i10 = 0, a10 = e30.graph(), s10 = a10.marginx || 0, o10 = a10.marginy || 0;
  function l10(e31) {
    var a11 = e31.x, s11 = e31.y, o11 = e31.width, l11 = e31.height;
    t10 = Math.min(t10, a11 - o11 / 2), r10 = Math.max(r10, a11 + o11 / 2), n10 = Math.min(n10, s11 - l11 / 2), i10 = Math.max(i10, s11 + l11 / 2);
  }
  iM(l10, "getExtremes"), Oe(e30.nodes(), function(t11) {
    l10(e30.node(t11));
  }), Oe(e30.edges(), function(t11) {
    var r11 = e30.edge(t11);
    Object.prototype.hasOwnProperty.call(r11, "x") && l10(r11);
  }), t10 -= s10, n10 -= o10, Oe(e30.nodes(), function(r11) {
    var i11 = e30.node(r11);
    i11.x -= t10, i11.y -= n10;
  }), Oe(e30.edges(), function(r11) {
    var i11 = e30.edge(r11);
    Oe(i11.points, function(e31) {
      e31.x -= t10, e31.y -= n10;
    }), Object.prototype.hasOwnProperty.call(i11, "x") && (i11.x -= t10), Object.prototype.hasOwnProperty.call(i11, "y") && (i11.y -= n10);
  }), a10.width = r10 - t10 + s10, a10.height = i10 - n10 + o10;
}
function FX(e30) {
  Oe(e30.edges(), function(t10) {
    var r10, n10, i10 = e30.edge(t10), a10 = e30.node(t10.v), s10 = e30.node(t10.w);
    i10.points ? (r10 = i10.points[0], n10 = i10.points[i10.points.length - 1]) : (i10.points = [], r10 = s10, n10 = a10), i10.points.unshift(P0(a10, r10)), i10.points.push(P0(s10, n10));
  });
}
function FK(e30) {
  Oe(e30.edges(), function(t10) {
    var r10 = e30.edge(t10);
    if (Object.prototype.hasOwnProperty.call(r10, "x")) switch (("l" === r10.labelpos || "r" === r10.labelpos) && (r10.width -= r10.labeloffset), r10.labelpos) {
      case "l":
        r10.x -= r10.width / 2 + r10.labeloffset;
        break;
      case "r":
        r10.x += r10.width / 2 + r10.labeloffset;
    }
  });
}
function FZ(e30) {
  Oe(e30.edges(), function(t10) {
    var r10 = e30.edge(t10);
    r10.reversed && r10.points.reverse();
  });
}
function FQ(e30) {
  Oe(e30.nodes(), function(t10) {
    if (e30.children(t10).length) {
      var r10 = e30.node(t10), n10 = e30.node(r10.borderTop), i10 = e30.node(r10.borderBottom), a10 = e30.node(D5(r10.borderLeft)), s10 = e30.node(D5(r10.borderRight));
      r10.width = Math.abs(s10.x - a10.x), r10.height = Math.abs(i10.y - n10.y), r10.x = a10.x + r10.width / 2, r10.y = n10.y + r10.height / 2;
    }
  }), Oe(e30.nodes(), function(t10) {
    "border" === e30.node(t10).dummy && e30.removeNode(t10);
  });
}
function FJ(e30) {
  Oe(e30.edges(), function(t10) {
    if (t10.v === t10.w) {
      var r10 = e30.node(t10.v);
      r10.selfEdges || (r10.selfEdges = []), r10.selfEdges.push({ e: t10, label: e30.edge(t10) }), e30.removeEdge(t10);
    }
  });
}
function F0(e30) {
  Oe(P1(e30), function(t10) {
    var r10 = 0;
    Oe(t10, function(t11, n10) {
      var i10 = e30.node(t11);
      i10.order = n10 + r10, Oe(i10.selfEdges, function(t12) {
        PZ(e30, "selfedge", { width: t12.label.width, height: t12.label.height, rank: i10.rank, order: n10 + ++r10, e: t12.e, label: t12.label }, "_se");
      }), delete i10.selfEdges;
    });
  });
}
function F1(e30) {
  Oe(e30.nodes(), function(t10) {
    var r10 = e30.node(t10);
    if ("selfedge" === r10.dummy) {
      var n10 = e30.node(r10.e.v), i10 = n10.x + n10.width / 2, a10 = n10.y, s10 = r10.x - i10, o10 = n10.height / 2;
      e30.setEdge(r10.e, r10.label), e30.removeNode(t10), r10.label.points = [{ x: i10 + 2 * s10 / 3, y: a10 - o10 }, { x: i10 + 5 * s10 / 6, y: a10 - o10 }, { x: i10 + s10, y: a10 }, { x: i10 + 5 * s10 / 6, y: a10 + o10 }, { x: i10 + 2 * s10 / 3, y: a10 + o10 }], r10.label.x = r10.x, r10.label.y = r10.y;
    }
  });
}
function F2(e30, t10) {
  return O4($a(e30, t10), Number);
}
function F4(e30) {
  var t10 = {};
  return Oe(e30, function(e31, r10) {
    t10[r10.toLowerCase()] = e31;
  }), t10;
}
function F3(e30) {
  var t10 = { options: { directed: e30.isDirected(), multigraph: e30.isMultigraph(), compound: e30.isCompound() }, nodes: F5(e30), edges: F6(e30) };
  return O2(e30.graph()) || (t10.value = D1(e30.graph())), t10;
}
function F5(e30) {
  return OJ(e30.nodes(), function(t10) {
    var r10 = e30.node(t10), n10 = e30.parent(t10), i10 = { v: t10 };
    return O2(r10) || (i10.value = r10), O2(n10) || (i10.parent = n10), i10;
  });
}
function F6(e30) {
  return OJ(e30.edges(), function(t10) {
    var r10 = e30.edge(t10), n10 = { v: t10.v, w: t10.w };
    return O2(t10.name) || (n10.name = t10.name), O2(r10) || (n10.value = r10), n10;
  });
}
iM(FU, "buildLayoutGraph"), iM(FW, "makeSpaceForEdgeLabels"), iM(FV, "injectEdgeLabelProxies"), iM(FH, "assignRankMinMax"), iM(FY, "removeEdgeLabelProxies"), iM(FG, "translateGraph"), iM(FX, "assignNodeIntersects"), iM(FK, "fixupEdgeLabelCoords"), iM(FZ, "reversePointsForReversedEdges"), iM(FQ, "removeBorderNodes"), iM(FJ, "removeSelfEdges"), iM(F0, "insertSelfEdges"), iM(F1, "positionSelfEdges"), iM(F2, "selectNumberAttrs"), iM(F4, "canonicalize"), iM(F3, "write"), iM(F5, "writeNodes"), iM(F6, "writeEdges");
var F7 = /* @__PURE__ */ new Map(), F8 = /* @__PURE__ */ new Map(), F9 = /* @__PURE__ */ new Map(), ze = iM(() => {
  F8.clear(), F9.clear(), F7.clear();
}, "clear"), zt = iM((e30, t10) => {
  let r10 = F8.get(t10) || [];
  return iz.trace("In isDescendant", t10, " ", e30, " = ", r10.includes(e30)), r10.includes(e30);
}, "isDescendant"), zr = iM((e30, t10) => {
  let r10 = F8.get(t10) || [];
  return iz.info("Descendants of ", t10, " is ", r10), iz.info("Edge is ", e30), e30.v !== t10 && e30.w !== t10 && (r10 ? r10.includes(e30.v) || zt(e30.v, t10) || zt(e30.w, t10) || r10.includes(e30.w) : (iz.debug("Tilt, ", t10, ",not in descendants"), false));
}, "edgeInCluster"), zn = iM((e30, t10, r10, n10) => {
  iz.warn("Copying children of ", e30, "root", n10, "data", t10.node(e30), n10);
  let i10 = t10.children(e30) || [];
  e30 !== n10 && i10.push(e30), iz.warn("Copying (nodes) clusterId", e30, "nodes", i10), i10.forEach((i11) => {
    if (t10.children(i11).length > 0) zn(i11, t10, r10, n10);
    else {
      let a10 = t10.node(i11);
      iz.info("cp ", i11, " to ", n10, " with parent ", e30), r10.setNode(i11, a10), n10 !== t10.parent(i11) && (iz.warn("Setting parent", i11, t10.parent(i11)), r10.setParent(i11, t10.parent(i11))), e30 !== n10 && i11 !== e30 ? (iz.debug("Setting parent", i11, e30), r10.setParent(i11, e30)) : (iz.info("In copy ", e30, "root", n10, "data", t10.node(e30), n10), iz.debug("Not Setting parent for node=", i11, "cluster!==rootId", e30 !== n10, "node!==clusterId", i11 !== e30));
      let s10 = t10.edges(i11);
      iz.debug("Copying Edges", s10), s10.forEach((i12) => {
        iz.info("Edge", i12);
        let a11 = t10.edge(i12.v, i12.w, i12.name);
        iz.info("Edge data", a11, n10);
        try {
          zr(i12, n10) ? (iz.info("Copying as ", i12.v, i12.w, a11, i12.name), r10.setEdge(i12.v, i12.w, a11, i12.name), iz.info("newGraph edges ", r10.edges(), r10.edge(r10.edges()[0]))) : iz.info("Skipping copy of edge ", i12.v, "-->", i12.w, " rootId: ", n10, " clusterId:", e30);
        } catch (e31) {
          iz.error(e31);
        }
      });
    }
    iz.debug("Removing node", i11), t10.removeNode(i11);
  });
}, "copy"), zi = iM((e30, t10) => {
  let r10 = t10.children(e30), n10 = [...r10];
  for (let i10 of r10) F9.set(i10, e30), n10 = [...n10, ...zi(i10, t10)];
  return n10;
}, "extractDescendants"), za = iM((e30, t10, r10) => {
  let n10 = e30.edges().filter((e31) => e31.v === t10 || e31.w === t10), i10 = e30.edges().filter((e31) => e31.v === r10 || e31.w === r10), a10 = n10.map((e31) => ({ v: e31.v === t10 ? r10 : e31.v, w: e31.w === t10 ? t10 : e31.w })), s10 = i10.map((e31) => ({ v: e31.v, w: e31.w }));
  return a10.filter((e31) => s10.some((t11) => e31.v === t11.v && e31.w === t11.w));
}, "findCommonEdges"), zs = iM((e30, t10, r10) => {
  let n10;
  let i10 = t10.children(e30);
  if (iz.trace("Searching children of id ", e30, i10), i10.length < 1) return e30;
  for (let e31 of i10) {
    let i11 = zs(e31, t10, r10), a10 = za(t10, r10, i11);
    if (i11) {
      if (!(a10.length > 0)) return i11;
      n10 = i11;
    }
  }
  return n10;
}, "findNonClusterChild"), zo = iM((e30) => F7.has(e30) && F7.get(e30).externalConnections && F7.has(e30) ? F7.get(e30).id : e30, "getAnchorId"), zl = iM((e30, t10) => {
  if (!e30 || t10 > 10) {
    iz.debug("Opting out, no graph ");
    return;
  }
  for (let t11 of (iz.debug("Opting in, graph "), e30.nodes().forEach(function(t12) {
    e30.children(t12).length > 0 && (iz.warn("Cluster identified", t12, " Replacement id in edges: ", zs(t12, e30, t12)), F8.set(t12, zi(t12, e30)), F7.set(t12, { id: zs(t12, e30, t12), clusterData: e30.node(t12) }));
  }), e30.nodes().forEach(function(t12) {
    let r10 = e30.children(t12), n10 = e30.edges();
    r10.length > 0 ? (iz.debug("Cluster identified", t12, F8), n10.forEach((e31) => {
      zt(e31.v, t12) ^ zt(e31.w, t12) && (iz.warn("Edge: ", e31, " leaves cluster ", t12), iz.warn("Descendants of XXX ", t12, ": ", F8.get(t12)), F7.get(t12).externalConnections = true);
    })) : iz.debug("Not a cluster ", t12, F8);
  }), F7.keys())) {
    let r10 = F7.get(t11).id, n10 = e30.parent(r10);
    n10 !== t11 && F7.has(n10) && !F7.get(n10).externalConnections && (F7.get(t11).id = n10);
  }
  e30.edges().forEach(function(t11) {
    let r10 = e30.edge(t11);
    iz.warn("Edge " + t11.v + " -> " + t11.w + ": " + JSON.stringify(t11)), iz.warn("Edge " + t11.v + " -> " + t11.w + ": " + JSON.stringify(e30.edge(t11)));
    let n10 = t11.v, i10 = t11.w;
    if (iz.warn("Fix XXX", F7, "ids:", t11.v, t11.w, "Translating: ", F7.get(t11.v), " --- ", F7.get(t11.w)), F7.get(t11.v) || F7.get(t11.w)) {
      if (iz.warn("Fixing and trying - removing XXX", t11.v, t11.w, t11.name), n10 = zo(t11.v), i10 = zo(t11.w), e30.removeEdge(t11.v, t11.w, t11.name), n10 !== t11.v) {
        let i11 = e30.parent(n10);
        F7.get(i11).externalConnections = true, r10.fromCluster = t11.v;
      }
      if (i10 !== t11.w) {
        let n11 = e30.parent(i10);
        F7.get(n11).externalConnections = true, r10.toCluster = t11.w;
      }
      iz.warn("Fix Replacing with XXX", n10, i10, t11.name), e30.setEdge(n10, i10, r10, t11.name);
    }
  }), iz.warn("Adjusted Graph", F3(e30)), zc(e30, 0), iz.trace(F7);
}, "adjustClustersAndEdges"), zc = iM((e30, t10) => {
  if (iz.warn("extractor - ", t10, F3(e30), e30.children("D")), t10 > 10) {
    iz.error("Bailing out");
    return;
  }
  let r10 = e30.nodes(), n10 = false;
  for (let t11 of r10) {
    let r11 = e30.children(t11);
    n10 = n10 || r11.length > 0;
  }
  if (!n10) {
    iz.debug("Done, no node has children", e30.nodes());
    return;
  }
  for (let n11 of (iz.debug("Nodes = ", r10, t10), r10)) if (iz.debug("Extracting node", n11, F7, F7.has(n11) && !F7.get(n11).externalConnections, !e30.parent(n11), e30.node(n11), e30.children("D"), " Depth ", t10), F7.has(n11)) {
    if (!F7.get(n11).externalConnections && e30.children(n11) && e30.children(n11).length > 0) {
      var i10, a10;
      iz.warn("Cluster without external connections, without a parent and with children", n11, t10);
      let r11 = "TB" === e30.graph().rankdir ? "LR" : "TB";
      (null === (a10 = F7.get(n11)) || void 0 === a10 ? void 0 : null === (i10 = a10.clusterData) || void 0 === i10 ? void 0 : i10.dir) && (r11 = F7.get(n11).clusterData.dir, iz.warn("Fixing dir", F7.get(n11).clusterData.dir, r11));
      let s10 = new PV({ multigraph: true, compound: true }).setGraph({ rankdir: r11, nodesep: 50, ranksep: 50, marginx: 8, marginy: 8 }).setDefaultEdgeLabel(function() {
        return {};
      });
      iz.warn("Old graph before copy", F3(e30)), zn(n11, e30, s10, n11), e30.setNode(n11, { clusterNode: true, id: n11, clusterData: F7.get(n11).clusterData, label: F7.get(n11).label, graph: s10 }), iz.warn("New graph after copy node: (", n11, ")", F3(s10)), iz.debug("Old graph after copy", F3(e30));
    } else iz.warn("Cluster ** ", n11, " **not meeting the criteria !externalConnections:", !F7.get(n11).externalConnections, " no parent: ", !e30.parent(n11), " children ", e30.children(n11) && e30.children(n11).length > 0, e30.children("D"), t10), iz.debug(F7);
  } else iz.debug("Not a cluster", n11, t10);
  for (let n11 of (r10 = e30.nodes(), iz.warn("New list of nodes", r10), r10)) {
    let r11 = e30.node(n11);
    iz.warn(" Now next level", n11, r11), (null == r11 ? void 0 : r11.clusterNode) && zc(r11.graph, t10 + 1);
  }
}, "extractor"), zh = iM((e30, t10) => {
  if (0 === t10.length) return [];
  let r10 = Object.assign([], t10);
  return t10.forEach((t11) => {
    let n10 = e30.children(t11), i10 = zh(e30, n10);
    r10 = [...r10, ...i10];
  }), r10;
}, "sorter"), zu = iM((e30) => zh(e30, e30.children()), "sortNodesByHierarchy"), zd = iM(async (e30, t10, r10, n10, i10, a10) => {
  iz.warn("Graph in recursive render:XAX", F3(t10), i10);
  let s10 = t10.graph().rankdir;
  iz.trace("Dir in recursive render - dir:", s10);
  let o10 = e30.insert("g").attr("class", "root");
  t10.nodes() ? iz.info("Recursive render XXX", t10.nodes()) : iz.info("No nodes found for", t10), t10.edges().length > 0 && iz.info("Recursive edges", t10.edge(t10.edges()[0]));
  let l10 = o10.insert("g").attr("class", "clusters"), h10 = o10.insert("g").attr("class", "edgePaths"), u10 = o10.insert("g").attr("class", "edgeLabels"), d10 = o10.insert("g").attr("class", "nodes");
  await Promise.all(t10.nodes().map(async function(e31) {
    let o11 = t10.node(e31);
    if (void 0 !== i10) {
      let r11 = JSON.parse(JSON.stringify(i10.clusterData));
      iz.trace("Setting data for parent cluster XXX\n Node.id = ", e31, "\n data=", r11.height, "\nParent cluster", i10.height), t10.setNode(i10.id, r11), t10.parent(e31) || (iz.trace("Setting parent", e31, i10.id), t10.setParent(e31, i10.id, r11));
    }
    if (iz.info("(Insert) Node XXX" + e31 + ": " + JSON.stringify(t10.node(e31))), null == o11 ? void 0 : o11.clusterNode) {
      iz.info("Cluster identified XBX", e31, o11.width, t10.node(e31));
      let { ranksep: i11, nodesep: s11 } = t10.graph();
      o11.graph.setGraph({ ...o11.graph.graph(), ranksep: i11 + 25, nodesep: s11 });
      let l11 = await zd(d10, o11.graph, r10, n10, t10.node(e31), a10), h11 = l11.elem;
      _x(o11, h11), o11.diff = l11.diff || 0, iz.info("New compound node after recursive render XAX", e31, "width", o11.width, "height", o11.height), S7(h11, o11);
    } else t10.children(e31).length > 0 ? (iz.trace("Cluster - the non recursive path XBX", e31, o11.id, o11, o11.width, "Graph:", t10), iz.trace(zs(o11.id, t10)), F7.set(o11.id, { id: zs(o11.id, t10), node: o11 })) : (iz.trace("Node - the non recursive path XAX", e31, d10, t10.node(e31), s10), await S6(d10, t10.node(e31), { config: a10, dir: s10 }));
  }));
  let p10 = iM(async () => {
    let e31 = t10.edges().map(async function(e32) {
      let r11 = t10.edge(e32.v, e32.w, e32.name);
      iz.info("Edge " + e32.v + " -> " + e32.w + ": " + JSON.stringify(e32)), iz.info("Edge " + e32.v + " -> " + e32.w + ": ", e32, " ", JSON.stringify(t10.edge(e32))), iz.info("Fix", F7, "ids:", e32.v, e32.w, "Translating: ", F7.get(e32.v), F7.get(e32.w)), await Cu(u10, r11);
    });
    await Promise.all(e31);
  }, "processEdges");
  await p10(), iz.info("Graph before layout:", JSON.stringify(F3(t10))), iz.info("############################################# XXX"), iz.info("###                Layout                 ### XXX"), iz.info("############################################# XXX"), FN(t10), iz.info("Graph after layout:", JSON.stringify(F3(t10)));
  let f10 = 0, { subGraphTitleTotalMargin: g10 } = vO(a10);
  return await Promise.all(zu(t10).map(async function(e31) {
    let r11 = t10.node(e31);
    if (iz.info("Position XBX => " + e31 + ": (" + r11.x, "," + r11.y, ") width: ", r11.width, " height: ", r11.height), null == r11 ? void 0 : r11.clusterNode) r11.y += g10, iz.info("A tainted cluster node XBX1", e31, r11.id, r11.width, r11.height, r11.x, r11.y, t10.parent(e31)), F7.get(r11.id).node = r11, S9(r11);
    else if (t10.children(e31).length > 0) {
      var n11;
      iz.info("A pure cluster node XBX1", e31, r11.id, r11.x, r11.y, r11.width, r11.height, t10.parent(e31)), r11.height += g10, t10.node(r11.parentId);
      let i11 = (null == r11 ? void 0 : r11.padding) / 2 || 0, a11 = (null == r11 ? void 0 : null === (n11 = r11.labelBBox) || void 0 === n11 ? void 0 : n11.height) || 0;
      iz.debug("OffsetY", a11 - i11 || 0, "labelHeight", a11, "halfPadding", i11), await TR(l10, r11), F7.get(r11.id).node = r11;
    } else {
      let e32 = t10.node(r11.parentId);
      r11.y += g10 / 2, iz.info("A regular node XBX1 - using the padding", r11.id, "parent", r11.parentId, r11.width, r11.height, r11.x, r11.y, "offsetY", r11.offsetY, "parent", e32, null == e32 ? void 0 : e32.offsetY, r11), S9(r11);
    }
  })), t10.edges().forEach(function(e31) {
    let i11 = t10.edge(e31);
    iz.info("Edge " + e31.v + " -> " + e31.w + ": " + JSON.stringify(i11), i11), i11.points.forEach((e32) => e32.y += g10 / 2);
    let a11 = Cb(h10, i11, F7, r10, t10.node(e31.v), t10.node(e31.w), n10);
    Cp(i11, a11);
  }), t10.nodes().forEach(function(e31) {
    let r11 = t10.node(e31);
    iz.info(e31, r11.type, r11.diff), r11.isGroup && (f10 = r11.diff);
  }), iz.warn("Returning from recursive render XAX", o10, f10), { elem: o10, diff: f10 };
}, "recursiveRender");
let zp = Object.freeze(Object.defineProperty({ __proto__: null, render: iM(async (e30, t10) => {
  var r10, n10, i10, a10, s10, o10;
  let l10 = new PV({ multigraph: true, compound: true }).setGraph({ rankdir: e30.direction, nodesep: (null === (r10 = e30.config) || void 0 === r10 ? void 0 : r10.nodeSpacing) || (null === (i10 = e30.config) || void 0 === i10 ? void 0 : null === (n10 = i10.flowchart) || void 0 === n10 ? void 0 : n10.nodeSpacing) || e30.nodeSpacing, ranksep: (null === (a10 = e30.config) || void 0 === a10 ? void 0 : a10.rankSpacing) || (null === (o10 = e30.config) || void 0 === o10 ? void 0 : null === (s10 = o10.flowchart) || void 0 === s10 ? void 0 : s10.rankSpacing) || e30.rankSpacing, marginx: 8, marginy: 8 }).setDefaultEdgeLabel(function() {
    return {};
  }), h10 = t10.select("g");
  Ck(h10, e30.markers, e30.type, e30.diagramId), S8(), Cc(), TD(), ze(), e30.nodes.forEach((e31) => {
    l10.setNode(e31.id, { ...e31 }), e31.parentId && l10.setParent(e31.id, e31.parentId);
  }), iz.debug("Edges:", e30.edges), e30.edges.forEach((e31) => {
    if (e31.start === e31.end) {
      let t11 = e31.start, r11 = t11 + "---" + t11 + "---1", n11 = t11 + "---" + t11 + "---2", i11 = l10.node(t11);
      l10.setNode(r11, { domId: r11, id: r11, parentId: i11.parentId, labelStyle: "", label: "", padding: 0, shape: "labelRect", style: "", width: 10, height: 10 }), l10.setParent(r11, i11.parentId), l10.setNode(n11, { domId: n11, id: n11, parentId: i11.parentId, labelStyle: "", padding: 0, shape: "labelRect", label: "", style: "", width: 10, height: 10 }), l10.setParent(n11, i11.parentId);
      let a11 = structuredClone(e31), s11 = structuredClone(e31), o11 = structuredClone(e31);
      a11.label = "", a11.arrowTypeEnd = "none", a11.id = t11 + "-cyclic-special-1", s11.arrowTypeEnd = "none", s11.id = t11 + "-cyclic-special-mid", o11.label = "", i11.isGroup && (a11.fromCluster = t11, o11.toCluster = t11), o11.id = t11 + "-cyclic-special-2", l10.setEdge(t11, r11, a11, t11 + "-cyclic-special-0"), l10.setEdge(r11, n11, s11, t11 + "-cyclic-special-1"), l10.setEdge(n11, t11, o11, t11 + "-cyc<lic-special-2");
    } else l10.setEdge(e31.start, e31.end, { ...e31 }, e31.id);
  }), iz.warn("Graph at first:", JSON.stringify(F3(l10))), zl(l10), iz.warn("Graph after XAX:", JSON.stringify(F3(l10)));
  let u10 = aj();
  await zd(h10, l10, e30.type, e30.diagramId, void 0, u10);
}, "render") }, Symbol.toStringTag, { value: "Module" }));
var zf = i$(xc()), zg = iM((e30, t10) => {
  let r10 = e30.append("rect");
  if (r10.attr("x", t10.x), r10.attr("y", t10.y), r10.attr("fill", t10.fill), r10.attr("stroke", t10.stroke), r10.attr("width", t10.width), r10.attr("height", t10.height), t10.name && r10.attr("name", t10.name), t10.rx && r10.attr("rx", t10.rx), t10.ry && r10.attr("ry", t10.ry), void 0 !== t10.attrs) for (let e31 in t10.attrs) r10.attr(e31, t10.attrs[e31]);
  return t10.class && r10.attr("class", t10.class), r10;
}, "drawRect"), zm = iM((e30, t10) => {
  zg(e30, { x: t10.startx, y: t10.starty, width: t10.stopx - t10.startx, height: t10.stopy - t10.starty, fill: t10.fill, stroke: t10.stroke, class: "rect" }).lower();
}, "drawBackgroundRect"), zy = iM((e30, t10) => {
  let r10 = t10.text.replace(sF, " "), n10 = e30.append("text");
  n10.attr("x", t10.x), n10.attr("y", t10.y), n10.attr("class", "legend"), n10.style("text-anchor", t10.anchor), t10.class && n10.attr("class", t10.class);
  let i10 = n10.append("tspan");
  return i10.attr("x", t10.x + 2 * t10.textMargin), i10.text(r10), n10;
}, "drawText"), zv = iM((e30, t10, r10, n10) => {
  let i10 = e30.append("image");
  i10.attr("x", t10), i10.attr("y", r10);
  let a10 = (0, zf.sanitizeUrl)(n10);
  i10.attr("xlink:href", a10);
}, "drawImage"), zx = iM((e30, t10, r10, n10) => {
  let i10 = e30.append("use");
  i10.attr("x", t10), i10.attr("y", r10);
  let a10 = (0, zf.sanitizeUrl)(n10);
  i10.attr("xlink:href", `#${a10}`);
}, "drawEmbeddedImage"), zb = iM(() => ({ x: 0, y: 0, width: 100, height: 100, fill: "#EDF2AE", stroke: "#666", anchor: "start", rx: 0, ry: 0 }), "getNoteRect"), zk = iM(() => ({ x: 0, y: 0, width: 100, height: 100, "text-anchor": "start", style: "#666", textMargin: 0, rx: 0, ry: 0, tspan: true }), "getTextObj"), zw = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 24], r10 = [1, 25], n10 = [1, 26], i10 = [1, 27], a10 = [1, 28], s10 = [1, 63], o10 = [1, 64], l10 = [1, 65], h10 = [1, 66], u10 = [1, 67], d10 = [1, 68], p10 = [1, 69], f10 = [1, 29], g10 = [1, 30], y10 = [1, 31], v10 = [1, 32], x10 = [1, 33], b10 = [1, 34], k10 = [1, 35], w10 = [1, 36], _10 = [1, 37], T10 = [1, 38], S10 = [1, 39], C10 = [1, 40], E10 = [1, 41], A10 = [1, 42], L10 = [1, 43], I10 = [1, 44], M10 = [1, 45], N10 = [1, 46], R10 = [1, 47], D10 = [1, 48], O10 = [1, 50], $10 = [1, 51], P10 = [1, 52], B10 = [1, 53], F10 = [1, 54], z10 = [1, 55], j10 = [1, 56], q10 = [1, 57], U10 = [1, 58], W10 = [1, 59], V10 = [1, 60], H10 = [14, 42], Y10 = [14, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], G10 = [12, 14, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], X10 = [1, 82], K10 = [1, 83], Z10 = [1, 84], Q10 = [1, 85], J10 = [12, 14, 42], ee10 = [12, 14, 33, 42], et10 = [12, 14, 33, 42, 76, 77, 79, 80], er10 = [12, 33], en10 = [34, 36, 37, 38, 39, 40, 41, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], ei10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mermaidDoc: 4, direction: 5, direction_tb: 6, direction_bt: 7, direction_rl: 8, direction_lr: 9, graphConfig: 10, C4_CONTEXT: 11, NEWLINE: 12, statements: 13, EOF: 14, C4_CONTAINER: 15, C4_COMPONENT: 16, C4_DYNAMIC: 17, C4_DEPLOYMENT: 18, otherStatements: 19, diagramStatements: 20, otherStatement: 21, title: 22, accDescription: 23, acc_title: 24, acc_title_value: 25, acc_descr: 26, acc_descr_value: 27, acc_descr_multiline_value: 28, boundaryStatement: 29, boundaryStartStatement: 30, boundaryStopStatement: 31, boundaryStart: 32, LBRACE: 33, ENTERPRISE_BOUNDARY: 34, attributes: 35, SYSTEM_BOUNDARY: 36, BOUNDARY: 37, CONTAINER_BOUNDARY: 38, NODE: 39, NODE_L: 40, NODE_R: 41, RBRACE: 42, diagramStatement: 43, PERSON: 44, PERSON_EXT: 45, SYSTEM: 46, SYSTEM_DB: 47, SYSTEM_QUEUE: 48, SYSTEM_EXT: 49, SYSTEM_EXT_DB: 50, SYSTEM_EXT_QUEUE: 51, CONTAINER: 52, CONTAINER_DB: 53, CONTAINER_QUEUE: 54, CONTAINER_EXT: 55, CONTAINER_EXT_DB: 56, CONTAINER_EXT_QUEUE: 57, COMPONENT: 58, COMPONENT_DB: 59, COMPONENT_QUEUE: 60, COMPONENT_EXT: 61, COMPONENT_EXT_DB: 62, COMPONENT_EXT_QUEUE: 63, REL: 64, BIREL: 65, REL_U: 66, REL_D: 67, REL_L: 68, REL_R: 69, REL_B: 70, REL_INDEX: 71, UPDATE_EL_STYLE: 72, UPDATE_REL_STYLE: 73, UPDATE_LAYOUT_CONFIG: 74, attribute: 75, STR: 76, STR_KEY: 77, STR_VALUE: 78, ATTRIBUTE: 79, ATTRIBUTE_EMPTY: 80, $accept: 0, $end: 1 }, terminals_: { 2: "error", 6: "direction_tb", 7: "direction_bt", 8: "direction_rl", 9: "direction_lr", 11: "C4_CONTEXT", 12: "NEWLINE", 14: "EOF", 15: "C4_CONTAINER", 16: "C4_COMPONENT", 17: "C4_DYNAMIC", 18: "C4_DEPLOYMENT", 22: "title", 23: "accDescription", 24: "acc_title", 25: "acc_title_value", 26: "acc_descr", 27: "acc_descr_value", 28: "acc_descr_multiline_value", 33: "LBRACE", 34: "ENTERPRISE_BOUNDARY", 36: "SYSTEM_BOUNDARY", 37: "BOUNDARY", 38: "CONTAINER_BOUNDARY", 39: "NODE", 40: "NODE_L", 41: "NODE_R", 42: "RBRACE", 44: "PERSON", 45: "PERSON_EXT", 46: "SYSTEM", 47: "SYSTEM_DB", 48: "SYSTEM_QUEUE", 49: "SYSTEM_EXT", 50: "SYSTEM_EXT_DB", 51: "SYSTEM_EXT_QUEUE", 52: "CONTAINER", 53: "CONTAINER_DB", 54: "CONTAINER_QUEUE", 55: "CONTAINER_EXT", 56: "CONTAINER_EXT_DB", 57: "CONTAINER_EXT_QUEUE", 58: "COMPONENT", 59: "COMPONENT_DB", 60: "COMPONENT_QUEUE", 61: "COMPONENT_EXT", 62: "COMPONENT_EXT_DB", 63: "COMPONENT_EXT_QUEUE", 64: "REL", 65: "BIREL", 66: "REL_U", 67: "REL_D", 68: "REL_L", 69: "REL_R", 70: "REL_B", 71: "REL_INDEX", 72: "UPDATE_EL_STYLE", 73: "UPDATE_REL_STYLE", 74: "UPDATE_LAYOUT_CONFIG", 76: "STR", 77: "STR_KEY", 78: "STR_VALUE", 79: "ATTRIBUTE", 80: "ATTRIBUTE_EMPTY" }, productions_: [0, [3, 1], [3, 1], [5, 1], [5, 1], [5, 1], [5, 1], [4, 1], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [13, 1], [13, 1], [13, 2], [19, 1], [19, 2], [19, 3], [21, 1], [21, 1], [21, 2], [21, 2], [21, 1], [29, 3], [30, 3], [30, 3], [30, 4], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [31, 1], [20, 1], [20, 2], [20, 3], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 1], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [35, 1], [35, 2], [75, 1], [75, 2], [75, 1], [75, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 3:
        n11.setDirection("TB");
        break;
      case 4:
        n11.setDirection("BT");
        break;
      case 5:
        n11.setDirection("RL");
        break;
      case 6:
        n11.setDirection("LR");
        break;
      case 8:
      case 9:
      case 10:
      case 11:
      case 12:
        n11.setC4Type(a11[o11 - 3]);
        break;
      case 19:
        n11.setTitle(a11[o11].substring(6)), this.$ = a11[o11].substring(6);
        break;
      case 20:
        n11.setAccDescription(a11[o11].substring(15)), this.$ = a11[o11].substring(15);
        break;
      case 21:
        this.$ = a11[o11].trim(), n11.setTitle(this.$);
        break;
      case 22:
      case 23:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 28:
        a11[o11].splice(2, 0, "ENTERPRISE"), n11.addPersonOrSystemBoundary(...a11[o11]), this.$ = a11[o11];
        break;
      case 29:
        a11[o11].splice(2, 0, "SYSTEM"), n11.addPersonOrSystemBoundary(...a11[o11]), this.$ = a11[o11];
        break;
      case 30:
        n11.addPersonOrSystemBoundary(...a11[o11]), this.$ = a11[o11];
        break;
      case 31:
        a11[o11].splice(2, 0, "CONTAINER"), n11.addContainerBoundary(...a11[o11]), this.$ = a11[o11];
        break;
      case 32:
        n11.addDeploymentNode("node", ...a11[o11]), this.$ = a11[o11];
        break;
      case 33:
        n11.addDeploymentNode("nodeL", ...a11[o11]), this.$ = a11[o11];
        break;
      case 34:
        n11.addDeploymentNode("nodeR", ...a11[o11]), this.$ = a11[o11];
        break;
      case 35:
        n11.popBoundaryParseStack();
        break;
      case 39:
        n11.addPersonOrSystem("person", ...a11[o11]), this.$ = a11[o11];
        break;
      case 40:
        n11.addPersonOrSystem("external_person", ...a11[o11]), this.$ = a11[o11];
        break;
      case 41:
        n11.addPersonOrSystem("system", ...a11[o11]), this.$ = a11[o11];
        break;
      case 42:
        n11.addPersonOrSystem("system_db", ...a11[o11]), this.$ = a11[o11];
        break;
      case 43:
        n11.addPersonOrSystem("system_queue", ...a11[o11]), this.$ = a11[o11];
        break;
      case 44:
        n11.addPersonOrSystem("external_system", ...a11[o11]), this.$ = a11[o11];
        break;
      case 45:
        n11.addPersonOrSystem("external_system_db", ...a11[o11]), this.$ = a11[o11];
        break;
      case 46:
        n11.addPersonOrSystem("external_system_queue", ...a11[o11]), this.$ = a11[o11];
        break;
      case 47:
        n11.addContainer("container", ...a11[o11]), this.$ = a11[o11];
        break;
      case 48:
        n11.addContainer("container_db", ...a11[o11]), this.$ = a11[o11];
        break;
      case 49:
        n11.addContainer("container_queue", ...a11[o11]), this.$ = a11[o11];
        break;
      case 50:
        n11.addContainer("external_container", ...a11[o11]), this.$ = a11[o11];
        break;
      case 51:
        n11.addContainer("external_container_db", ...a11[o11]), this.$ = a11[o11];
        break;
      case 52:
        n11.addContainer("external_container_queue", ...a11[o11]), this.$ = a11[o11];
        break;
      case 53:
        n11.addComponent("component", ...a11[o11]), this.$ = a11[o11];
        break;
      case 54:
        n11.addComponent("component_db", ...a11[o11]), this.$ = a11[o11];
        break;
      case 55:
        n11.addComponent("component_queue", ...a11[o11]), this.$ = a11[o11];
        break;
      case 56:
        n11.addComponent("external_component", ...a11[o11]), this.$ = a11[o11];
        break;
      case 57:
        n11.addComponent("external_component_db", ...a11[o11]), this.$ = a11[o11];
        break;
      case 58:
        n11.addComponent("external_component_queue", ...a11[o11]), this.$ = a11[o11];
        break;
      case 60:
        n11.addRel("rel", ...a11[o11]), this.$ = a11[o11];
        break;
      case 61:
        n11.addRel("birel", ...a11[o11]), this.$ = a11[o11];
        break;
      case 62:
        n11.addRel("rel_u", ...a11[o11]), this.$ = a11[o11];
        break;
      case 63:
        n11.addRel("rel_d", ...a11[o11]), this.$ = a11[o11];
        break;
      case 64:
        n11.addRel("rel_l", ...a11[o11]), this.$ = a11[o11];
        break;
      case 65:
        n11.addRel("rel_r", ...a11[o11]), this.$ = a11[o11];
        break;
      case 66:
        n11.addRel("rel_b", ...a11[o11]), this.$ = a11[o11];
        break;
      case 67:
        a11[o11].splice(0, 1), n11.addRel("rel", ...a11[o11]), this.$ = a11[o11];
        break;
      case 68:
        n11.updateElStyle("update_el_style", ...a11[o11]), this.$ = a11[o11];
        break;
      case 69:
        n11.updateRelStyle("update_rel_style", ...a11[o11]), this.$ = a11[o11];
        break;
      case 70:
        n11.updateLayoutConfig("update_layout_config", ...a11[o11]), this.$ = a11[o11];
        break;
      case 71:
        this.$ = [a11[o11]];
        break;
      case 72:
        a11[o11].unshift(a11[o11 - 1]), this.$ = a11[o11];
        break;
      case 73:
      case 75:
        this.$ = a11[o11].trim();
        break;
      case 74:
        let l11 = {};
        l11[a11[o11 - 1].trim()] = a11[o11].trim(), this.$ = l11;
        break;
      case 76:
        this.$ = "";
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 7: [1, 6], 8: [1, 7], 9: [1, 8], 10: 4, 11: [1, 9], 15: [1, 10], 16: [1, 11], 17: [1, 12], 18: [1, 13] }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 7] }, { 1: [2, 3] }, { 1: [2, 4] }, { 1: [2, 5] }, { 1: [2, 6] }, { 12: [1, 14] }, { 12: [1, 15] }, { 12: [1, 16] }, { 12: [1, 17] }, { 12: [1, 18] }, { 13: 19, 19: 20, 20: 21, 21: 22, 22: t10, 23: r10, 24: n10, 26: i10, 28: a10, 29: 49, 30: 61, 32: 62, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }, { 13: 70, 19: 20, 20: 21, 21: 22, 22: t10, 23: r10, 24: n10, 26: i10, 28: a10, 29: 49, 30: 61, 32: 62, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }, { 13: 71, 19: 20, 20: 21, 21: 22, 22: t10, 23: r10, 24: n10, 26: i10, 28: a10, 29: 49, 30: 61, 32: 62, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }, { 13: 72, 19: 20, 20: 21, 21: 22, 22: t10, 23: r10, 24: n10, 26: i10, 28: a10, 29: 49, 30: 61, 32: 62, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }, { 13: 73, 19: 20, 20: 21, 21: 22, 22: t10, 23: r10, 24: n10, 26: i10, 28: a10, 29: 49, 30: 61, 32: 62, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }, { 14: [1, 74] }, e30(H10, [2, 13], { 43: 23, 29: 49, 30: 61, 32: 62, 20: 75, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }), e30(H10, [2, 14]), e30(Y10, [2, 16], { 12: [1, 76] }), e30(H10, [2, 36], { 12: [1, 77] }), e30(G10, [2, 19]), e30(G10, [2, 20]), { 25: [1, 78] }, { 27: [1, 79] }, e30(G10, [2, 23]), { 35: 80, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 86, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 87, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 88, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 89, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 90, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 91, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 92, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 93, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 94, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 95, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 96, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 97, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 98, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 99, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 100, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 101, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 102, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 103, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 104, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, e30(J10, [2, 59]), { 35: 105, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 106, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 107, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 108, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 109, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 110, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 111, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 112, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 113, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 114, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 115, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 20: 116, 29: 49, 30: 61, 32: 62, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 43: 23, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }, { 12: [1, 118], 33: [1, 117] }, { 35: 119, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 120, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 121, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 122, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 123, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 124, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 35: 125, 75: 81, 76: X10, 77: K10, 79: Z10, 80: Q10 }, { 14: [1, 126] }, { 14: [1, 127] }, { 14: [1, 128] }, { 14: [1, 129] }, { 1: [2, 8] }, e30(H10, [2, 15]), e30(Y10, [2, 17], { 21: 22, 19: 130, 22: t10, 23: r10, 24: n10, 26: i10, 28: a10 }), e30(H10, [2, 37], { 19: 20, 20: 21, 21: 22, 43: 23, 29: 49, 30: 61, 32: 62, 13: 131, 22: t10, 23: r10, 24: n10, 26: i10, 28: a10, 34: s10, 36: o10, 37: l10, 38: h10, 39: u10, 40: d10, 41: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10, 51: w10, 52: _10, 53: T10, 54: S10, 55: C10, 56: E10, 57: A10, 58: L10, 59: I10, 60: M10, 61: N10, 62: R10, 63: D10, 64: O10, 65: $10, 66: P10, 67: B10, 68: F10, 69: z10, 70: j10, 71: q10, 72: U10, 73: W10, 74: V10 }), e30(G10, [2, 21]), e30(G10, [2, 22]), e30(J10, [2, 39]), e30(ee10, [2, 71], { 75: 81, 35: 132, 76: X10, 77: K10, 79: Z10, 80: Q10 }), e30(et10, [2, 73]), { 78: [1, 133] }, e30(et10, [2, 75]), e30(et10, [2, 76]), e30(J10, [2, 40]), e30(J10, [2, 41]), e30(J10, [2, 42]), e30(J10, [2, 43]), e30(J10, [2, 44]), e30(J10, [2, 45]), e30(J10, [2, 46]), e30(J10, [2, 47]), e30(J10, [2, 48]), e30(J10, [2, 49]), e30(J10, [2, 50]), e30(J10, [2, 51]), e30(J10, [2, 52]), e30(J10, [2, 53]), e30(J10, [2, 54]), e30(J10, [2, 55]), e30(J10, [2, 56]), e30(J10, [2, 57]), e30(J10, [2, 58]), e30(J10, [2, 60]), e30(J10, [2, 61]), e30(J10, [2, 62]), e30(J10, [2, 63]), e30(J10, [2, 64]), e30(J10, [2, 65]), e30(J10, [2, 66]), e30(J10, [2, 67]), e30(J10, [2, 68]), e30(J10, [2, 69]), e30(J10, [2, 70]), { 31: 134, 42: [1, 135] }, { 12: [1, 136] }, { 33: [1, 137] }, e30(er10, [2, 28]), e30(er10, [2, 29]), e30(er10, [2, 30]), e30(er10, [2, 31]), e30(er10, [2, 32]), e30(er10, [2, 33]), e30(er10, [2, 34]), { 1: [2, 9] }, { 1: [2, 10] }, { 1: [2, 11] }, { 1: [2, 12] }, e30(Y10, [2, 18]), e30(H10, [2, 38]), e30(ee10, [2, 72]), e30(et10, [2, 74]), e30(J10, [2, 24]), e30(J10, [2, 35]), e30(en10, [2, 25]), e30(en10, [2, 26], { 12: [1, 138] }), e30(en10, [2, 27])], defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 7], 5: [2, 3], 6: [2, 4], 7: [2, 5], 8: [2, 6], 74: [2, 8], 126: [2, 9], 127: [2, 10], 128: [2, 11], 129: [2, 12] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, ea10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return 6;
      case 1:
        return 7;
      case 2:
        return 8;
      case 3:
        return 9;
      case 4:
        return 22;
      case 5:
        return 23;
      case 6:
        return this.begin("acc_title"), 24;
      case 7:
        return this.popState(), "acc_title_value";
      case 8:
        return this.begin("acc_descr"), 26;
      case 9:
        return this.popState(), "acc_descr_value";
      case 10:
        this.begin("acc_descr_multiline");
        break;
      case 11:
      case 73:
        this.popState();
        break;
      case 12:
        return "acc_descr_multiline_value";
      case 13:
      case 16:
      case 70:
        break;
      case 14:
        c;
        break;
      case 15:
        return 12;
      case 17:
        return 11;
      case 18:
        return 15;
      case 19:
        return 16;
      case 20:
        return 17;
      case 21:
        return 18;
      case 22:
        return this.begin("person_ext"), 45;
      case 23:
        return this.begin("person"), 44;
      case 24:
        return this.begin("system_ext_queue"), 51;
      case 25:
        return this.begin("system_ext_db"), 50;
      case 26:
        return this.begin("system_ext"), 49;
      case 27:
        return this.begin("system_queue"), 48;
      case 28:
        return this.begin("system_db"), 47;
      case 29:
        return this.begin("system"), 46;
      case 30:
        return this.begin("boundary"), 37;
      case 31:
        return this.begin("enterprise_boundary"), 34;
      case 32:
        return this.begin("system_boundary"), 36;
      case 33:
        return this.begin("container_ext_queue"), 57;
      case 34:
        return this.begin("container_ext_db"), 56;
      case 35:
        return this.begin("container_ext"), 55;
      case 36:
        return this.begin("container_queue"), 54;
      case 37:
        return this.begin("container_db"), 53;
      case 38:
        return this.begin("container"), 52;
      case 39:
        return this.begin("container_boundary"), 38;
      case 40:
        return this.begin("component_ext_queue"), 63;
      case 41:
        return this.begin("component_ext_db"), 62;
      case 42:
        return this.begin("component_ext"), 61;
      case 43:
        return this.begin("component_queue"), 60;
      case 44:
        return this.begin("component_db"), 59;
      case 45:
        return this.begin("component"), 58;
      case 46:
      case 47:
        return this.begin("node"), 39;
      case 48:
        return this.begin("node_l"), 40;
      case 49:
        return this.begin("node_r"), 41;
      case 50:
        return this.begin("rel"), 64;
      case 51:
        return this.begin("birel"), 65;
      case 52:
      case 53:
        return this.begin("rel_u"), 66;
      case 54:
      case 55:
        return this.begin("rel_d"), 67;
      case 56:
      case 57:
        return this.begin("rel_l"), 68;
      case 58:
      case 59:
        return this.begin("rel_r"), 69;
      case 60:
        return this.begin("rel_b"), 70;
      case 61:
        return this.begin("rel_index"), 71;
      case 62:
        return this.begin("update_el_style"), 72;
      case 63:
        return this.begin("update_rel_style"), 73;
      case 64:
        return this.begin("update_layout_config"), 74;
      case 65:
        return "EOF_IN_STRUCT";
      case 66:
        return this.begin("attribute"), "ATTRIBUTE_EMPTY";
      case 67:
        this.begin("attribute");
        break;
      case 68:
      case 79:
        this.popState(), this.popState();
        break;
      case 69:
      case 71:
        return 80;
      case 72:
        this.begin("string");
        break;
      case 74:
      case 80:
        return "STR";
      case 75:
        this.begin("string_kv");
        break;
      case 76:
        return this.begin("string_kv_key"), "STR_KEY";
      case 77:
        this.popState(), this.begin("string_kv_value");
        break;
      case 78:
        return "STR_VALUE";
      case 81:
        return "LBRACE";
      case 82:
        return "RBRACE";
      case 83:
        return "SPACE";
      case 84:
        return "EOL";
      case 85:
        return 14;
    }
  }, "anonymous"), rules: [/^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:title\s[^#\n;]+)/, /^(?:accDescription\s[^#\n;]+)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:C4Context\b)/, /^(?:C4Container\b)/, /^(?:C4Component\b)/, /^(?:C4Dynamic\b)/, /^(?:C4Deployment\b)/, /^(?:Person_Ext\b)/, /^(?:Person\b)/, /^(?:SystemQueue_Ext\b)/, /^(?:SystemDb_Ext\b)/, /^(?:System_Ext\b)/, /^(?:SystemQueue\b)/, /^(?:SystemDb\b)/, /^(?:System\b)/, /^(?:Boundary\b)/, /^(?:Enterprise_Boundary\b)/, /^(?:System_Boundary\b)/, /^(?:ContainerQueue_Ext\b)/, /^(?:ContainerDb_Ext\b)/, /^(?:Container_Ext\b)/, /^(?:ContainerQueue\b)/, /^(?:ContainerDb\b)/, /^(?:Container\b)/, /^(?:Container_Boundary\b)/, /^(?:ComponentQueue_Ext\b)/, /^(?:ComponentDb_Ext\b)/, /^(?:Component_Ext\b)/, /^(?:ComponentQueue\b)/, /^(?:ComponentDb\b)/, /^(?:Component\b)/, /^(?:Deployment_Node\b)/, /^(?:Node\b)/, /^(?:Node_L\b)/, /^(?:Node_R\b)/, /^(?:Rel\b)/, /^(?:BiRel\b)/, /^(?:Rel_Up\b)/, /^(?:Rel_U\b)/, /^(?:Rel_Down\b)/, /^(?:Rel_D\b)/, /^(?:Rel_Left\b)/, /^(?:Rel_L\b)/, /^(?:Rel_Right\b)/, /^(?:Rel_R\b)/, /^(?:Rel_Back\b)/, /^(?:RelIndex\b)/, /^(?:UpdateElementStyle\b)/, /^(?:UpdateRelStyle\b)/, /^(?:UpdateLayoutConfig\b)/, /^(?:$)/, /^(?:[(][ ]*[,])/, /^(?:[(])/, /^(?:[)])/, /^(?:,,)/, /^(?:,)/, /^(?:[ ]*["]["])/, /^(?:[ ]*["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:[ ]*[\$])/, /^(?:[^=]*)/, /^(?:[=][ ]*["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:[^,]+)/, /^(?:\{)/, /^(?:\})/, /^(?:[\s]+)/, /^(?:[\n\r]+)/, /^(?:$)/], conditions: { acc_descr_multiline: { rules: [11, 12], inclusive: false }, acc_descr: { rules: [9], inclusive: false }, acc_title: { rules: [7], inclusive: false }, string_kv_value: { rules: [78, 79], inclusive: false }, string_kv_key: { rules: [77], inclusive: false }, string_kv: { rules: [76], inclusive: false }, string: { rules: [73, 74], inclusive: false }, attribute: { rules: [68, 69, 70, 71, 72, 75, 80], inclusive: false }, update_layout_config: { rules: [65, 66, 67, 68], inclusive: false }, update_rel_style: { rules: [65, 66, 67, 68], inclusive: false }, update_el_style: { rules: [65, 66, 67, 68], inclusive: false }, rel_b: { rules: [65, 66, 67, 68], inclusive: false }, rel_r: { rules: [65, 66, 67, 68], inclusive: false }, rel_l: { rules: [65, 66, 67, 68], inclusive: false }, rel_d: { rules: [65, 66, 67, 68], inclusive: false }, rel_u: { rules: [65, 66, 67, 68], inclusive: false }, rel_bi: { rules: [], inclusive: false }, rel: { rules: [65, 66, 67, 68], inclusive: false }, node_r: { rules: [65, 66, 67, 68], inclusive: false }, node_l: { rules: [65, 66, 67, 68], inclusive: false }, node: { rules: [65, 66, 67, 68], inclusive: false }, index: { rules: [], inclusive: false }, rel_index: { rules: [65, 66, 67, 68], inclusive: false }, component_ext_queue: { rules: [], inclusive: false }, component_ext_db: { rules: [65, 66, 67, 68], inclusive: false }, component_ext: { rules: [65, 66, 67, 68], inclusive: false }, component_queue: { rules: [65, 66, 67, 68], inclusive: false }, component_db: { rules: [65, 66, 67, 68], inclusive: false }, component: { rules: [65, 66, 67, 68], inclusive: false }, container_boundary: { rules: [65, 66, 67, 68], inclusive: false }, container_ext_queue: { rules: [65, 66, 67, 68], inclusive: false }, container_ext_db: { rules: [65, 66, 67, 68], inclusive: false }, container_ext: { rules: [65, 66, 67, 68], inclusive: false }, container_queue: { rules: [65, 66, 67, 68], inclusive: false }, container_db: { rules: [65, 66, 67, 68], inclusive: false }, container: { rules: [65, 66, 67, 68], inclusive: false }, birel: { rules: [65, 66, 67, 68], inclusive: false }, system_boundary: { rules: [65, 66, 67, 68], inclusive: false }, enterprise_boundary: { rules: [65, 66, 67, 68], inclusive: false }, boundary: { rules: [65, 66, 67, 68], inclusive: false }, system_ext_queue: { rules: [65, 66, 67, 68], inclusive: false }, system_ext_db: { rules: [65, 66, 67, 68], inclusive: false }, system_ext: { rules: [65, 66, 67, 68], inclusive: false }, system_queue: { rules: [65, 66, 67, 68], inclusive: false }, system_db: { rules: [65, 66, 67, 68], inclusive: false }, system: { rules: [65, 66, 67, 68], inclusive: false }, person_ext: { rules: [65, 66, 67, 68], inclusive: false }, person: { rules: [65, 66, 67, 68], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 81, 82, 83, 84, 85], inclusive: true } } };
  function es10() {
    this.yy = {};
  }
  return ei10.lexer = ea10, iM(es10, "Parser"), es10.prototype = ei10, ei10.Parser = es10, new es10();
}();
zw.parser = zw;
var z_ = [], zT = [""], zS = "global", zC = "", zE = [{ alias: "global", label: { text: "global" }, type: { text: "global" }, tags: null, link: null, parentBoundary: "" }], zA = [], zL = "", zI = false, zM = 4, zN = 2, zR = iM(function() {
  return rh;
}, "getC4Type"), zD = iM(function(e30) {
  rh = sV(e30, aj());
}, "setC4Type"), zO = iM(function(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  if (null == e30 || null == t10 || null == r10 || null == n10) return;
  let h10 = {}, u10 = zA.find((e31) => e31.from === t10 && e31.to === r10);
  if (u10 ? h10 = u10 : zA.push(h10), h10.type = e30, h10.from = t10, h10.to = r10, h10.label = { text: n10 }, null == i10) h10.techn = { text: "" };
  else if ("object" == typeof i10) {
    let [e31, t11] = Object.entries(i10)[0];
    h10[e31] = { text: t11 };
  } else h10.techn = { text: i10 };
  if (null == a10) h10.descr = { text: "" };
  else if ("object" == typeof a10) {
    let [e31, t11] = Object.entries(a10)[0];
    h10[e31] = { text: t11 };
  } else h10.descr = { text: a10 };
  if ("object" == typeof s10) {
    let [e31, t11] = Object.entries(s10)[0];
    h10[e31] = t11;
  } else h10.sprite = s10;
  if ("object" == typeof o10) {
    let [e31, t11] = Object.entries(o10)[0];
    h10[e31] = t11;
  } else h10.tags = o10;
  if ("object" == typeof l10) {
    let [e31, t11] = Object.entries(l10)[0];
    h10[e31] = t11;
  } else h10.link = l10;
  h10.wrap = z4();
}, "addRel"), z$ = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  if (null === t10 || null === r10) return;
  let o10 = {}, l10 = z_.find((e31) => e31.alias === t10);
  if (l10 && t10 === l10.alias ? o10 = l10 : (o10.alias = t10, z_.push(o10)), null == r10 ? o10.label = { text: "" } : o10.label = { text: r10 }, null == n10) o10.descr = { text: "" };
  else if ("object" == typeof n10) {
    let [e31, t11] = Object.entries(n10)[0];
    o10[e31] = { text: t11 };
  } else o10.descr = { text: n10 };
  if ("object" == typeof i10) {
    let [e31, t11] = Object.entries(i10)[0];
    o10[e31] = t11;
  } else o10.sprite = i10;
  if ("object" == typeof a10) {
    let [e31, t11] = Object.entries(a10)[0];
    o10[e31] = t11;
  } else o10.tags = a10;
  if ("object" == typeof s10) {
    let [e31, t11] = Object.entries(s10)[0];
    o10[e31] = t11;
  } else o10.link = s10;
  o10.typeC4Shape = { text: e30 }, o10.parentBoundary = zS, o10.wrap = z4();
}, "addPersonOrSystem"), zP = iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
  if (null === t10 || null === r10) return;
  let l10 = {}, h10 = z_.find((e31) => e31.alias === t10);
  if (h10 && t10 === h10.alias ? l10 = h10 : (l10.alias = t10, z_.push(l10)), null == r10 ? l10.label = { text: "" } : l10.label = { text: r10 }, null == n10) l10.techn = { text: "" };
  else if ("object" == typeof n10) {
    let [e31, t11] = Object.entries(n10)[0];
    l10[e31] = { text: t11 };
  } else l10.techn = { text: n10 };
  if (null == i10) l10.descr = { text: "" };
  else if ("object" == typeof i10) {
    let [e31, t11] = Object.entries(i10)[0];
    l10[e31] = { text: t11 };
  } else l10.descr = { text: i10 };
  if ("object" == typeof a10) {
    let [e31, t11] = Object.entries(a10)[0];
    l10[e31] = t11;
  } else l10.sprite = a10;
  if ("object" == typeof s10) {
    let [e31, t11] = Object.entries(s10)[0];
    l10[e31] = t11;
  } else l10.tags = s10;
  if ("object" == typeof o10) {
    let [e31, t11] = Object.entries(o10)[0];
    l10[e31] = t11;
  } else l10.link = o10;
  l10.wrap = z4(), l10.typeC4Shape = { text: e30 }, l10.parentBoundary = zS;
}, "addContainer"), zB = iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
  if (null === t10 || null === r10) return;
  let l10 = {}, h10 = z_.find((e31) => e31.alias === t10);
  if (h10 && t10 === h10.alias ? l10 = h10 : (l10.alias = t10, z_.push(l10)), null == r10 ? l10.label = { text: "" } : l10.label = { text: r10 }, null == n10) l10.techn = { text: "" };
  else if ("object" == typeof n10) {
    let [e31, t11] = Object.entries(n10)[0];
    l10[e31] = { text: t11 };
  } else l10.techn = { text: n10 };
  if (null == i10) l10.descr = { text: "" };
  else if ("object" == typeof i10) {
    let [e31, t11] = Object.entries(i10)[0];
    l10[e31] = { text: t11 };
  } else l10.descr = { text: i10 };
  if ("object" == typeof a10) {
    let [e31, t11] = Object.entries(a10)[0];
    l10[e31] = t11;
  } else l10.sprite = a10;
  if ("object" == typeof s10) {
    let [e31, t11] = Object.entries(s10)[0];
    l10[e31] = t11;
  } else l10.tags = s10;
  if ("object" == typeof o10) {
    let [e31, t11] = Object.entries(o10)[0];
    l10[e31] = t11;
  } else l10.link = o10;
  l10.wrap = z4(), l10.typeC4Shape = { text: e30 }, l10.parentBoundary = zS;
}, "addComponent"), zF = iM(function(e30, t10, r10, n10, i10) {
  if (null === e30 || null === t10) return;
  let a10 = {}, s10 = zE.find((t11) => t11.alias === e30);
  if (s10 && e30 === s10.alias ? a10 = s10 : (a10.alias = e30, zE.push(a10)), null == t10 ? a10.label = { text: "" } : a10.label = { text: t10 }, null == r10) a10.type = { text: "system" };
  else if ("object" == typeof r10) {
    let [e31, t11] = Object.entries(r10)[0];
    a10[e31] = { text: t11 };
  } else a10.type = { text: r10 };
  if ("object" == typeof n10) {
    let [e31, t11] = Object.entries(n10)[0];
    a10[e31] = t11;
  } else a10.tags = n10;
  if ("object" == typeof i10) {
    let [e31, t11] = Object.entries(i10)[0];
    a10[e31] = t11;
  } else a10.link = i10;
  a10.parentBoundary = zS, a10.wrap = z4(), zC = zS, zS = e30, zT.push(zC);
}, "addPersonOrSystemBoundary"), zz = iM(function(e30, t10, r10, n10, i10) {
  if (null === e30 || null === t10) return;
  let a10 = {}, s10 = zE.find((t11) => t11.alias === e30);
  if (s10 && e30 === s10.alias ? a10 = s10 : (a10.alias = e30, zE.push(a10)), null == t10 ? a10.label = { text: "" } : a10.label = { text: t10 }, null == r10) a10.type = { text: "container" };
  else if ("object" == typeof r10) {
    let [e31, t11] = Object.entries(r10)[0];
    a10[e31] = { text: t11 };
  } else a10.type = { text: r10 };
  if ("object" == typeof n10) {
    let [e31, t11] = Object.entries(n10)[0];
    a10[e31] = t11;
  } else a10.tags = n10;
  if ("object" == typeof i10) {
    let [e31, t11] = Object.entries(i10)[0];
    a10[e31] = t11;
  } else a10.link = i10;
  a10.parentBoundary = zS, a10.wrap = z4(), zC = zS, zS = e30, zT.push(zC);
}, "addContainerBoundary"), zj = iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
  if (null === t10 || null === r10) return;
  let l10 = {}, h10 = zE.find((e31) => e31.alias === t10);
  if (h10 && t10 === h10.alias ? l10 = h10 : (l10.alias = t10, zE.push(l10)), null == r10 ? l10.label = { text: "" } : l10.label = { text: r10 }, null == n10) l10.type = { text: "node" };
  else if ("object" == typeof n10) {
    let [e31, t11] = Object.entries(n10)[0];
    l10[e31] = { text: t11 };
  } else l10.type = { text: n10 };
  if (null == i10) l10.descr = { text: "" };
  else if ("object" == typeof i10) {
    let [e31, t11] = Object.entries(i10)[0];
    l10[e31] = { text: t11 };
  } else l10.descr = { text: i10 };
  if ("object" == typeof s10) {
    let [e31, t11] = Object.entries(s10)[0];
    l10[e31] = t11;
  } else l10.tags = s10;
  if ("object" == typeof o10) {
    let [e31, t11] = Object.entries(o10)[0];
    l10[e31] = t11;
  } else l10.link = o10;
  l10.nodeType = e30, l10.parentBoundary = zS, l10.wrap = z4(), zC = zS, zS = t10, zT.push(zC);
}, "addDeploymentNode"), zq = iM(function() {
  zS = zC, zT.pop(), zC = zT.pop(), zT.push(zC);
}, "popBoundaryParseStack"), zU = iM(function(e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10) {
  let d10 = z_.find((e31) => e31.alias === t10);
  if (void 0 !== d10 || void 0 !== (d10 = zE.find((e31) => e31.alias === t10))) {
    if (null != r10) {
      if ("object" == typeof r10) {
        let [e31, t11] = Object.entries(r10)[0];
        d10[e31] = t11;
      } else d10.bgColor = r10;
    }
    if (null != n10) {
      if ("object" == typeof n10) {
        let [e31, t11] = Object.entries(n10)[0];
        d10[e31] = t11;
      } else d10.fontColor = n10;
    }
    if (null != i10) {
      if ("object" == typeof i10) {
        let [e31, t11] = Object.entries(i10)[0];
        d10[e31] = t11;
      } else d10.borderColor = i10;
    }
    if (null != a10) {
      if ("object" == typeof a10) {
        let [e31, t11] = Object.entries(a10)[0];
        d10[e31] = t11;
      } else d10.shadowing = a10;
    }
    if (null != s10) {
      if ("object" == typeof s10) {
        let [e31, t11] = Object.entries(s10)[0];
        d10[e31] = t11;
      } else d10.shape = s10;
    }
    if (null != o10) {
      if ("object" == typeof o10) {
        let [e31, t11] = Object.entries(o10)[0];
        d10[e31] = t11;
      } else d10.sprite = o10;
    }
    if (null != l10) {
      if ("object" == typeof l10) {
        let [e31, t11] = Object.entries(l10)[0];
        d10[e31] = t11;
      } else d10.techn = l10;
    }
    if (null != h10) {
      if ("object" == typeof h10) {
        let [e31, t11] = Object.entries(h10)[0];
        d10[e31] = t11;
      } else d10.legendText = h10;
    }
    if (null != u10) {
      if ("object" == typeof u10) {
        let [e31, t11] = Object.entries(u10)[0];
        d10[e31] = t11;
      } else d10.legendSprite = u10;
    }
  }
}, "updateElStyle"), zW = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  let o10 = zA.find((e31) => e31.from === t10 && e31.to === r10);
  if (void 0 !== o10) {
    if (null != n10) {
      if ("object" == typeof n10) {
        let [e31, t11] = Object.entries(n10)[0];
        o10[e31] = t11;
      } else o10.textColor = n10;
    }
    if (null != i10) {
      if ("object" == typeof i10) {
        let [e31, t11] = Object.entries(i10)[0];
        o10[e31] = t11;
      } else o10.lineColor = i10;
    }
    if (null != a10) {
      if ("object" == typeof a10) {
        let [e31, t11] = Object.entries(a10)[0];
        o10[e31] = parseInt(t11);
      } else o10.offsetX = parseInt(a10);
    }
    if (null != s10) {
      if ("object" == typeof s10) {
        let [e31, t11] = Object.entries(s10)[0];
        o10[e31] = parseInt(t11);
      } else o10.offsetY = parseInt(s10);
    }
  }
}, "updateRelStyle"), zV = iM(function(e30, t10, r10) {
  let n10 = zM, i10 = zN;
  n10 = "object" == typeof t10 ? parseInt(Object.values(t10)[0]) : parseInt(t10), i10 = "object" == typeof r10 ? parseInt(Object.values(r10)[0]) : parseInt(r10), n10 >= 1 && (zM = n10), i10 >= 1 && (zN = i10);
}, "updateLayoutConfig"), zH = iM(function() {
  return zM;
}, "getC4ShapeInRow"), zY = iM(function() {
  return zN;
}, "getC4BoundaryInRow"), zG = iM(function() {
  return zS;
}, "getCurrentBoundaryParse"), zX = iM(function() {
  return zC;
}, "getParentBoundaryParse"), zK = iM(function(e30) {
  return null == e30 ? z_ : z_.filter((t10) => t10.parentBoundary === e30);
}, "getC4ShapeArray"), zZ = iM(function(e30) {
  return z_.find((t10) => t10.alias === e30);
}, "getC4Shape"), zQ = iM(function(e30) {
  return Object.keys(zK(e30));
}, "getC4ShapeKeys"), zJ = iM(function(e30) {
  return null == e30 ? zE : zE.filter((t10) => t10.parentBoundary === e30);
}, "getBoundaries"), z0 = iM(function() {
  return zA;
}, "getRels"), z1 = iM(function() {
  return zL;
}, "getTitle"), z2 = iM(function(e30) {
  zI = e30;
}, "setWrap"), z4 = iM(function() {
  return zI;
}, "autoWrap"), z3 = iM(function() {
  z_ = [], zE = [{ alias: "global", label: { text: "global" }, type: { text: "global" }, tags: null, link: null, parentBoundary: "" }], zC = "", zS = "global", zT = [""], zA = [], zT = [""], zL = "", zI = false, zM = 4, zN = 2;
}, "clear"), z5 = iM(function(e30) {
  zL = sV(e30, aj());
}, "setTitle"), z6 = { addPersonOrSystem: z$, addPersonOrSystemBoundary: zF, addContainer: zP, addContainerBoundary: zz, addComponent: zB, addDeploymentNode: zj, popBoundaryParseStack: zq, addRel: zO, updateElStyle: zU, updateRelStyle: zW, updateLayoutConfig: zV, autoWrap: z4, setWrap: z2, getC4ShapeArray: zK, getC4Shape: zZ, getC4ShapeKeys: zQ, getBoundaries: zJ, getBoundarys: zJ, getCurrentBoundaryParse: zG, getParentBoundaryParse: zX, getRels: z0, getTitle: z1, getC4Type: zR, getC4ShapeInRow: zH, getC4BoundaryInRow: zY, setAccTitle: of, getAccTitle: og, getAccDescription: oy, setAccDescription: om, getConfig: iM(() => aj().c4, "getConfig"), clear: z3, LINETYPE: { SOLID: 0, DOTTED: 1, NOTE: 2, SOLID_CROSS: 3, DOTTED_CROSS: 4, SOLID_OPEN: 5, DOTTED_OPEN: 6, LOOP_START: 10, LOOP_END: 11, ALT_START: 12, ALT_ELSE: 13, ALT_END: 14, OPT_START: 15, OPT_END: 16, ACTIVE_START: 17, ACTIVE_END: 18, PAR_START: 19, PAR_AND: 20, PAR_END: 21, RECT_START: 22, RECT_END: 23, SOLID_POINT: 24, DOTTED_POINT: 25 }, ARROWTYPE: { FILLED: 0, OPEN: 1 }, PLACEMENT: { LEFTOF: 0, RIGHTOF: 1, OVER: 2 }, setTitle: z5, setC4Type: zD }, z7 = i$(xc()), z8 = iM(function(e30, t10) {
  return zg(e30, t10);
}, "drawRect"), z9 = iM(function(e30, t10, r10, n10, i10, a10) {
  let s10 = e30.append("image");
  s10.attr("width", t10), s10.attr("height", r10), s10.attr("x", n10), s10.attr("y", i10);
  let o10 = a10.startsWith("data:image/png;base64") ? a10 : (0, z7.sanitizeUrl)(a10);
  s10.attr("xlink:href", o10);
}, "drawImage"), je = iM((e30, t10, r10) => {
  let n10 = e30.append("g"), i10 = 0;
  for (let e31 of t10) {
    let t11 = e31.textColor ? e31.textColor : "#444444", a10 = e31.lineColor ? e31.lineColor : "#444444", s10 = e31.offsetX ? parseInt(e31.offsetX) : 0, o10 = e31.offsetY ? parseInt(e31.offsetY) : 0;
    if (0 === i10) {
      let t12 = n10.append("line");
      t12.attr("x1", e31.startPoint.x), t12.attr("y1", e31.startPoint.y), t12.attr("x2", e31.endPoint.x), t12.attr("y2", e31.endPoint.y), t12.attr("stroke-width", "1"), t12.attr("stroke", a10), t12.style("fill", "none"), "rel_b" !== e31.type && t12.attr("marker-end", "url(#arrowhead)"), ("birel" === e31.type || "rel_b" === e31.type) && t12.attr("marker-start", "url(#arrowend)"), i10 = -1;
    } else {
      let t12 = n10.append("path");
      t12.attr("fill", "none").attr("stroke-width", "1").attr("stroke", a10).attr("d", "Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx", e31.startPoint.x).replaceAll("starty", e31.startPoint.y).replaceAll("controlx", e31.startPoint.x + (e31.endPoint.x - e31.startPoint.x) / 2 - (e31.endPoint.x - e31.startPoint.x) / 4).replaceAll("controly", e31.startPoint.y + (e31.endPoint.y - e31.startPoint.y) / 2).replaceAll("stopx", e31.endPoint.x).replaceAll("stopy", e31.endPoint.y)), "rel_b" !== e31.type && t12.attr("marker-end", "url(#arrowhead)"), ("birel" === e31.type || "rel_b" === e31.type) && t12.attr("marker-start", "url(#arrowend)");
    }
    let l10 = r10.messageFont();
    ju(r10)(e31.label.text, n10, Math.min(e31.startPoint.x, e31.endPoint.x) + Math.abs(e31.endPoint.x - e31.startPoint.x) / 2 + s10, Math.min(e31.startPoint.y, e31.endPoint.y) + Math.abs(e31.endPoint.y - e31.startPoint.y) / 2 + o10, e31.label.width, e31.label.height, { fill: t11 }, l10), e31.techn && "" !== e31.techn.text && (l10 = r10.messageFont(), ju(r10)("[" + e31.techn.text + "]", n10, Math.min(e31.startPoint.x, e31.endPoint.x) + Math.abs(e31.endPoint.x - e31.startPoint.x) / 2 + s10, Math.min(e31.startPoint.y, e31.endPoint.y) + Math.abs(e31.endPoint.y - e31.startPoint.y) / 2 + r10.messageFontSize + 5 + o10, Math.max(e31.label.width, e31.techn.width), e31.techn.height, { fill: t11, "font-style": "italic" }, l10));
  }
}, "drawRels"), jt = iM(function(e30, t10, r10) {
  let n10 = e30.append("g"), i10 = t10.bgColor ? t10.bgColor : "none", a10 = t10.borderColor ? t10.borderColor : "#444444", s10 = t10.fontColor ? t10.fontColor : "black", o10 = { "stroke-width": 1, "stroke-dasharray": "7.0,7.0" };
  t10.nodeType && (o10 = { "stroke-width": 1 }), z8(n10, { x: t10.x, y: t10.y, fill: i10, stroke: a10, width: t10.width, height: t10.height, rx: 2.5, ry: 2.5, attrs: o10 });
  let l10 = r10.boundaryFont();
  l10.fontWeight = "bold", l10.fontSize = l10.fontSize + 2, l10.fontColor = s10, ju(r10)(t10.label.text, n10, t10.x, t10.y + t10.label.Y, t10.width, t10.height, { fill: "#444444" }, l10), t10.type && "" !== t10.type.text && ((l10 = r10.boundaryFont()).fontColor = s10, ju(r10)(t10.type.text, n10, t10.x, t10.y + t10.type.Y, t10.width, t10.height, { fill: "#444444" }, l10)), t10.descr && "" !== t10.descr.text && ((l10 = r10.boundaryFont()).fontSize = l10.fontSize - 2, l10.fontColor = s10, ju(r10)(t10.descr.text, n10, t10.x, t10.y + t10.descr.Y, t10.width, t10.height, { fill: "#444444" }, l10));
}, "drawBoundary"), jr = iM(function(e30, t10, r10) {
  var n10;
  let i10 = t10.bgColor ? t10.bgColor : r10[t10.typeC4Shape.text + "_bg_color"], a10 = t10.borderColor ? t10.borderColor : r10[t10.typeC4Shape.text + "_border_color"], s10 = t10.fontColor ? t10.fontColor : "#FFFFFF", o10 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
  switch (t10.typeC4Shape.text) {
    case "person":
      o10 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
      break;
    case "external_person":
      o10 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";
  }
  let l10 = e30.append("g");
  l10.attr("class", "person-man");
  let h10 = zb();
  switch (t10.typeC4Shape.text) {
    case "person":
    case "external_person":
    case "system":
    case "external_system":
    case "container":
    case "external_container":
    case "component":
    case "external_component":
      h10.x = t10.x, h10.y = t10.y, h10.fill = i10, h10.width = t10.width, h10.height = t10.height, h10.stroke = a10, h10.rx = 2.5, h10.ry = 2.5, h10.attrs = { "stroke-width": 0.5 }, z8(l10, h10);
      break;
    case "system_db":
    case "external_system_db":
    case "container_db":
    case "external_container_db":
    case "component_db":
    case "external_component_db":
      l10.append("path").attr("fill", i10).attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx", t10.x).replaceAll("starty", t10.y).replaceAll("half", t10.width / 2).replaceAll("height", t10.height)), l10.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx", t10.x).replaceAll("starty", t10.y).replaceAll("half", t10.width / 2));
      break;
    case "system_queue":
    case "external_system_queue":
    case "container_queue":
    case "external_container_queue":
    case "component_queue":
    case "external_component_queue":
      l10.append("path").attr("fill", i10).attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx", t10.x).replaceAll("starty", t10.y).replaceAll("width", t10.width).replaceAll("half", t10.height / 2)), l10.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", a10).attr("d", "Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx", t10.x + t10.width).replaceAll("starty", t10.y).replaceAll("half", t10.height / 2));
  }
  let u10 = jh(r10, t10.typeC4Shape.text);
  switch (l10.append("text").attr("fill", s10).attr("font-family", u10.fontFamily).attr("font-size", u10.fontSize - 2).attr("font-style", "italic").attr("lengthAdjust", "spacing").attr("textLength", t10.typeC4Shape.width).attr("x", t10.x + t10.width / 2 - t10.typeC4Shape.width / 2).attr("y", t10.y + t10.typeC4Shape.Y).text("<<" + t10.typeC4Shape.text + ">>"), t10.typeC4Shape.text) {
    case "person":
    case "external_person":
      z9(l10, 48, 48, t10.x + t10.width / 2 - 24, t10.y + t10.image.Y, o10);
  }
  let d10 = r10[t10.typeC4Shape.text + "Font"]();
  return d10.fontWeight = "bold", d10.fontSize = d10.fontSize + 2, d10.fontColor = s10, ju(r10)(t10.label.text, l10, t10.x, t10.y + t10.label.Y, t10.width, t10.height, { fill: s10 }, d10), (d10 = r10[t10.typeC4Shape.text + "Font"]()).fontColor = s10, t10.techn && (null === (n10 = t10.techn) || void 0 === n10 ? void 0 : n10.text) !== "" ? ju(r10)(t10.techn.text, l10, t10.x, t10.y + t10.techn.Y, t10.width, t10.height, { fill: s10, "font-style": "italic" }, d10) : t10.type && "" !== t10.type.text && ju(r10)(t10.type.text, l10, t10.x, t10.y + t10.type.Y, t10.width, t10.height, { fill: s10, "font-style": "italic" }, d10), t10.descr && "" !== t10.descr.text && ((d10 = r10.personFont()).fontColor = s10, ju(r10)(t10.descr.text, l10, t10.x, t10.y + t10.descr.Y, t10.width, t10.height, { fill: s10 }, d10)), t10.height;
}, "drawC4Shape"), jn = iM(function(e30) {
  e30.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr("d", "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z");
}, "insertDatabaseIcon"), ji = iM(function(e30) {
  e30.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z");
}, "insertComputerIcon"), ja = iM(function(e30) {
  e30.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z");
}, "insertClockIcon"), js = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z");
}, "insertArrowHead"), jo = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "arrowend").attr("refX", 1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 10 0 L 0 5 L 10 10 z");
}, "insertArrowEnd"), jl = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "filled-head").attr("refX", 18).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "insertArrowFilledHead"), jc = iM(function(e30) {
  let t10 = e30.append("defs").append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 16).attr("refY", 4);
  t10.append("path").attr("fill", "black").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 9,2 V 6 L16,4 Z"), t10.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 0,1 L 6,7 M 6,1 L 0,7");
}, "insertArrowCrossHead"), jh = iM((e30, t10) => ({ fontFamily: e30[t10 + "FontFamily"], fontSize: e30[t10 + "FontSize"], fontWeight: e30[t10 + "FontWeight"] }), "getC4ShapeFont"), ju = function() {
  function e30(e31, t11, r11, i10, a10, s10, o10) {
    n10(t11.append("text").attr("x", r11 + a10 / 2).attr("y", i10 + s10 / 2 + 5).style("text-anchor", "middle").text(e31), o10);
  }
  function t10(e31, t11, r11, i10, a10, s10, o10, l10) {
    let { fontSize: h10, fontFamily: u10, fontWeight: d10 } = l10, p10 = e31.split(oe.lineBreakRegex);
    for (let e32 = 0; e32 < p10.length; e32++) {
      let s11 = e32 * h10 - h10 * (p10.length - 1) / 2, l11 = t11.append("text").attr("x", r11 + a10 / 2).attr("y", i10).style("text-anchor", "middle").attr("dominant-baseline", "middle").style("font-size", h10).style("font-weight", d10).style("font-family", u10);
      l11.append("tspan").attr("dy", s11).text(p10[e32]).attr("alignment-baseline", "mathematical"), n10(l11, o10);
    }
  }
  function r10(e31, r11, i10, a10, s10, o10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", i10).attr("y", a10).attr("width", s10).attr("height", o10).append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(e31), t10(e31, u10, i10, a10, s10, o10, l10, h10), n10(d10, l10);
  }
  function n10(e31, t11) {
    for (let r11 in t11) t11.hasOwnProperty(r11) && e31.attr(r11, t11[r11]);
  }
  return iM(e30, "byText"), iM(t10, "byTspan"), iM(r10, "byFo"), iM(n10, "_setTextAttrs"), function(n11) {
    return "fo" === n11.textPlacement ? r10 : "old" === n11.textPlacement ? e30 : t10;
  };
}(), jd = { drawBoundary: jt, drawC4Shape: jr, drawRels: je, insertArrowHead: js, insertArrowEnd: jo, insertArrowFilledHead: jl, insertArrowCrossHead: jc, insertDatabaseIcon: jn, insertComputerIcon: ji, insertClockIcon: ja }, jp = 0, jf = 0, jg = 4, jm = 2;
zw.yy = z6;
var jy = {}, jv = (_aa = class {
  constructor(e30) {
    this.name = "", this.data = {}, this.data.startx = void 0, this.data.stopx = void 0, this.data.starty = void 0, this.data.stopy = void 0, this.data.widthLimit = void 0, this.nextData = {}, this.nextData.startx = void 0, this.nextData.stopx = void 0, this.nextData.starty = void 0, this.nextData.stopy = void 0, this.nextData.cnt = 0, jx(e30.db.getConfig());
  }
  setData(e30, t10, r10, n10) {
    this.nextData.startx = this.data.startx = e30, this.nextData.stopx = this.data.stopx = t10, this.nextData.starty = this.data.starty = r10, this.nextData.stopy = this.data.stopy = n10;
  }
  updateVal(e30, t10, r10, n10) {
    void 0 === e30[t10] ? e30[t10] = r10 : e30[t10] = n10(r10, e30[t10]);
  }
  insert(e30) {
    this.nextData.cnt = this.nextData.cnt + 1;
    let t10 = this.nextData.startx === this.nextData.stopx ? this.nextData.stopx + e30.margin : this.nextData.stopx + 2 * e30.margin, r10 = t10 + e30.width, n10 = this.nextData.starty + 2 * e30.margin, i10 = n10 + e30.height;
    (t10 >= this.data.widthLimit || r10 >= this.data.widthLimit || this.nextData.cnt > jg) && (t10 = this.nextData.startx + e30.margin + jy.nextLinePaddingX, n10 = this.nextData.stopy + 2 * e30.margin, this.nextData.stopx = r10 = t10 + e30.width, this.nextData.starty = this.nextData.stopy, this.nextData.stopy = i10 = n10 + e30.height, this.nextData.cnt = 1), e30.x = t10, e30.y = n10, this.updateVal(this.data, "startx", t10, Math.min), this.updateVal(this.data, "starty", n10, Math.min), this.updateVal(this.data, "stopx", r10, Math.max), this.updateVal(this.data, "stopy", i10, Math.max), this.updateVal(this.nextData, "startx", t10, Math.min), this.updateVal(this.nextData, "starty", n10, Math.min), this.updateVal(this.nextData, "stopx", r10, Math.max), this.updateVal(this.nextData, "stopy", i10, Math.max);
  }
  init(e30) {
    this.name = "", this.data = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0, widthLimit: void 0 }, this.nextData = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0, cnt: 0 }, jx(e30.db.getConfig());
  }
  bumpLastMargin(e30) {
    this.data.stopx += e30, this.data.stopy += e30;
  }
}, _i57 = new WeakMap(), __privateAdd(_aa, _i57, iM(_aa, "Bounds")), _aa), jx = iM(function(e30) {
  iQ(jy, e30), e30.fontFamily && (jy.personFontFamily = jy.systemFontFamily = jy.messageFontFamily = e30.fontFamily), e30.fontSize && (jy.personFontSize = jy.systemFontSize = jy.messageFontSize = e30.fontSize), e30.fontWeight && (jy.personFontWeight = jy.systemFontWeight = jy.messageFontWeight = e30.fontWeight);
}, "setConf"), jb = iM((e30, t10) => ({ fontFamily: e30[t10 + "FontFamily"], fontSize: e30[t10 + "FontSize"], fontWeight: e30[t10 + "FontWeight"] }), "c4ShapeFont"), jk = iM((e30) => ({ fontFamily: e30.boundaryFontFamily, fontSize: e30.boundaryFontSize, fontWeight: e30.boundaryFontWeight }), "boundaryFont"), jw = iM((e30) => ({ fontFamily: e30.messageFontFamily, fontSize: e30.messageFontSize, fontWeight: e30.messageFontWeight }), "messageFont");
function j_(e30, t10, r10, n10, i10) {
  if (!t10[e30].width) {
    if (r10) t10[e30].text = kV(t10[e30].text, i10, n10), t10[e30].textLines = t10[e30].text.split(oe.lineBreakRegex).length, t10[e30].width = i10, t10[e30].height = kY(t10[e30].text, n10);
    else {
      let r11 = t10[e30].text.split(oe.lineBreakRegex);
      t10[e30].textLines = r11.length;
      let i11 = 0;
      for (let a10 of (t10[e30].height = 0, t10[e30].width = 0, r11)) t10[e30].width = Math.max(kG(a10, n10), t10[e30].width), i11 = kY(a10, n10), t10[e30].height = t10[e30].height + i11;
    }
  }
}
iM(j_, "calcC4ShapeTextWH");
var jT = iM(function(e30, t10, r10) {
  t10.x = r10.data.startx, t10.y = r10.data.starty, t10.width = r10.data.stopx - r10.data.startx, t10.height = r10.data.stopy - r10.data.starty, t10.label.y = jy.c4ShapeMargin - 35;
  let n10 = t10.wrap && jy.wrap, i10 = jk(jy);
  i10.fontSize = i10.fontSize + 2, i10.fontWeight = "bold";
  let a10 = kG(t10.label.text, i10);
  j_("label", t10, n10, i10, a10), jd.drawBoundary(e30, t10, jy);
}, "drawBoundary"), jS = iM(function(e30, t10, r10, n10) {
  let i10 = 0;
  for (let a10 of n10) {
    i10 = 0;
    let n11 = r10[a10], s10 = jb(jy, n11.typeC4Shape.text);
    switch (s10.fontSize = s10.fontSize - 2, n11.typeC4Shape.width = kG("«" + n11.typeC4Shape.text + "»", s10), n11.typeC4Shape.height = s10.fontSize + 2, n11.typeC4Shape.Y = jy.c4ShapePadding, i10 = n11.typeC4Shape.Y + n11.typeC4Shape.height - 4, n11.image = { width: 0, height: 0, Y: 0 }, n11.typeC4Shape.text) {
      case "person":
      case "external_person":
        n11.image.width = 48, n11.image.height = 48, n11.image.Y = i10, i10 = n11.image.Y + n11.image.height;
    }
    n11.sprite && (n11.image.width = 48, n11.image.height = 48, n11.image.Y = i10, i10 = n11.image.Y + n11.image.height);
    let o10 = n11.wrap && jy.wrap, l10 = jy.width - 2 * jy.c4ShapePadding, h10 = jb(jy, n11.typeC4Shape.text);
    if (h10.fontSize = h10.fontSize + 2, h10.fontWeight = "bold", j_("label", n11, o10, h10, l10), n11.label.Y = i10 + 8, i10 = n11.label.Y + n11.label.height, n11.type && "" !== n11.type.text) {
      n11.type.text = "[" + n11.type.text + "]";
      let e31 = jb(jy, n11.typeC4Shape.text);
      j_("type", n11, o10, e31, l10), n11.type.Y = i10 + 5, i10 = n11.type.Y + n11.type.height;
    } else if (n11.techn && "" !== n11.techn.text) {
      n11.techn.text = "[" + n11.techn.text + "]";
      let e31 = jb(jy, n11.techn.text);
      j_("techn", n11, o10, e31, l10), n11.techn.Y = i10 + 5, i10 = n11.techn.Y + n11.techn.height;
    }
    let u10 = i10, d10 = n11.label.width;
    if (n11.descr && "" !== n11.descr.text) {
      let e31 = jb(jy, n11.typeC4Shape.text);
      j_("descr", n11, o10, e31, l10), n11.descr.Y = i10 + 20, i10 = n11.descr.Y + n11.descr.height, d10 = Math.max(n11.label.width, n11.descr.width), u10 = i10 - 5 * n11.descr.textLines;
    }
    d10 += jy.c4ShapePadding, n11.width = Math.max(n11.width || jy.width, d10, jy.width), n11.height = Math.max(n11.height || jy.height, u10, jy.height), n11.margin = n11.margin || jy.c4ShapeMargin, e30.insert(n11), jd.drawC4Shape(t10, n11, jy);
  }
  e30.bumpLastMargin(jy.c4ShapeMargin);
}, "drawC4ShapeArray"), jC = (_ba = class {
  constructor(e30, t10) {
    this.x = e30, this.y = t10;
  }
}, _i58 = new WeakMap(), __privateAdd(_ba, _i58, iM(_ba, "Point")), _ba), jE = iM(function(e30, t10) {
  let r10 = e30.x, n10 = e30.y, i10 = t10.x, a10 = t10.y, s10 = r10 + e30.width / 2, o10 = n10 + e30.height / 2, l10 = Math.abs(r10 - i10), h10 = Math.abs(n10 - a10), u10 = h10 / l10, d10 = e30.height / e30.width, p10 = null;
  return n10 == a10 && r10 < i10 ? p10 = new jC(r10 + e30.width, o10) : n10 == a10 && r10 > i10 ? p10 = new jC(r10, o10) : r10 == i10 && n10 < a10 ? p10 = new jC(s10, n10 + e30.height) : r10 == i10 && n10 > a10 && (p10 = new jC(s10, n10)), r10 > i10 && n10 < a10 ? p10 = d10 >= u10 ? new jC(r10, o10 + u10 * e30.width / 2) : new jC(s10 - l10 / h10 * e30.height / 2, n10 + e30.height) : r10 < i10 && n10 < a10 ? p10 = d10 >= u10 ? new jC(r10 + e30.width, o10 + u10 * e30.width / 2) : new jC(s10 + l10 / h10 * e30.height / 2, n10 + e30.height) : r10 < i10 && n10 > a10 ? p10 = d10 >= u10 ? new jC(r10 + e30.width, o10 - u10 * e30.width / 2) : new jC(s10 + e30.height / 2 * l10 / h10, n10) : r10 > i10 && n10 > a10 && (p10 = d10 >= u10 ? new jC(r10, o10 - e30.width / 2 * u10) : new jC(s10 - e30.height / 2 * l10 / h10, n10)), p10;
}, "getIntersectPoint"), jA = iM(function(e30, t10) {
  let r10 = { x: 0, y: 0 };
  r10.x = t10.x + t10.width / 2, r10.y = t10.y + t10.height / 2;
  let n10 = jE(e30, r10);
  return r10.x = e30.x + e30.width / 2, r10.y = e30.y + e30.height / 2, { startPoint: n10, endPoint: jE(t10, r10) };
}, "getIntersectPoints"), jL = iM(function(e30, t10, r10, n10) {
  let i10 = 0;
  for (let e31 of t10) {
    i10 += 1;
    let t11 = e31.wrap && jy.wrap, a10 = jw(jy);
    "C4Dynamic" === n10.db.getC4Type() && (e31.label.text = i10 + ": " + e31.label.text);
    let s10 = kG(e31.label.text, a10);
    j_("label", e31, t11, a10, s10), e31.techn && "" !== e31.techn.text && (s10 = kG(e31.techn.text, a10), j_("techn", e31, t11, a10, s10)), e31.descr && "" !== e31.descr.text && (s10 = kG(e31.descr.text, a10), j_("descr", e31, t11, a10, s10));
    let o10 = jA(r10(e31.from), r10(e31.to));
    e31.startPoint = o10.startPoint, e31.endPoint = o10.endPoint;
  }
  jd.drawRels(e30, t10, jy);
}, "drawRels");
function jI(e30, t10, r10, n10, i10) {
  let a10 = new jv(i10);
  for (let [s10, o10] of (a10.data.widthLimit = r10.data.widthLimit / Math.min(jm, n10.length), n10.entries())) {
    let n11 = 0;
    o10.image = { width: 0, height: 0, Y: 0 }, o10.sprite && (o10.image.width = 48, o10.image.height = 48, o10.image.Y = n11, n11 = o10.image.Y + o10.image.height);
    let l10 = o10.wrap && jy.wrap, h10 = jk(jy);
    if (h10.fontSize = h10.fontSize + 2, h10.fontWeight = "bold", j_("label", o10, l10, h10, a10.data.widthLimit), o10.label.Y = n11 + 8, n11 = o10.label.Y + o10.label.height, o10.type && "" !== o10.type.text && (o10.type.text = "[" + o10.type.text + "]", j_("type", o10, l10, jk(jy), a10.data.widthLimit), o10.type.Y = n11 + 5, n11 = o10.type.Y + o10.type.height), o10.descr && "" !== o10.descr.text) {
      let e31 = jk(jy);
      e31.fontSize = e31.fontSize - 2, j_("descr", o10, l10, e31, a10.data.widthLimit), o10.descr.Y = n11 + 20, n11 = o10.descr.Y + o10.descr.height;
    }
    if (0 == s10 || s10 % jm == 0) {
      let e31 = r10.data.startx + jy.diagramMarginX, t11 = r10.data.stopy + jy.diagramMarginY + n11;
      a10.setData(e31, e31, t11, t11);
    } else {
      let e31 = a10.data.stopx !== a10.data.startx ? a10.data.stopx + jy.diagramMarginX : a10.data.startx, t11 = a10.data.starty;
      a10.setData(e31, e31, t11, t11);
    }
    a10.name = o10.alias;
    let u10 = i10.db.getC4ShapeArray(o10.alias), d10 = i10.db.getC4ShapeKeys(o10.alias);
    d10.length > 0 && jS(a10, e30, u10, d10), t10 = o10.alias;
    let p10 = i10.db.getBoundarys(t10);
    p10.length > 0 && jI(e30, t10, a10, p10, i10), "global" !== o10.alias && jT(e30, o10, a10), r10.data.stopy = Math.max(a10.data.stopy + jy.c4ShapeMargin, r10.data.stopy), r10.data.stopx = Math.max(a10.data.stopx + jy.c4ShapeMargin, r10.data.stopx), jp = Math.max(jp, r10.data.stopx), jf = Math.max(jf, r10.data.stopy);
  }
}
iM(jI, "drawInsideBoundary");
var jM = { drawPersonOrSystemArray: jS, drawBoundary: jT, setConf: jx, draw: iM(function(e30, t10, r10, n10) {
  let i10;
  jy = aj().c4;
  let a10 = aj().securityLevel;
  "sandbox" === a10 && (i10 = c$("#i" + t10));
  let s10 = "sandbox" === a10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body"), o10 = n10.db;
  n10.db.setWrap(jy.wrap), jg = o10.getC4ShapeInRow(), jm = o10.getC4BoundaryInRow(), iz.debug(`C:${JSON.stringify(jy, null, 2)}`);
  let l10 = "sandbox" === a10 ? s10.select(`[id="${t10}"]`) : c$(`[id="${t10}"]`);
  jd.insertComputerIcon(l10), jd.insertDatabaseIcon(l10), jd.insertClockIcon(l10);
  let h10 = new jv(n10);
  h10.setData(jy.diagramMarginX, jy.diagramMarginX, jy.diagramMarginY, jy.diagramMarginY), h10.data.widthLimit = screen.availWidth, jp = jy.diagramMarginX, jf = jy.diagramMarginY;
  let u10 = n10.db.getTitle();
  jI(l10, "", h10, n10.db.getBoundarys(""), n10), jd.insertArrowHead(l10), jd.insertArrowEnd(l10), jd.insertArrowCrossHead(l10), jd.insertArrowFilledHead(l10), jL(l10, n10.db.getRels(), n10.db.getC4Shape, n10), h10.data.stopx = jp, h10.data.stopy = jf;
  let d10 = h10.data, p10 = d10.stopy - d10.starty + 2 * jy.diagramMarginY, f10 = d10.stopx - d10.startx + 2 * jy.diagramMarginX;
  u10 && l10.append("text").text(u10).attr("x", (d10.stopx - d10.startx) / 2 - 4 * jy.diagramMarginX).attr("y", d10.starty + jy.diagramMarginY), on(l10, p10, f10, jy.useMaxWidth);
  let g10 = u10 ? 60 : 0;
  l10.attr("viewBox", d10.startx - jy.diagramMarginX + " -" + (jy.diagramMarginY + g10) + " " + f10 + " " + (p10 + g10)), iz.debug("models:", d10);
}, "draw") };
let jN = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: zw, db: z6, renderer: jM, styles: iM((e30) => `.person {
    stroke: ${e30.personBorder};
    fill: ${e30.personBkg};
  }
`, "getStyles"), init: iM((e30) => {
  let { c4: t10, wrap: r10 } = e30;
  jM.setConf(t10), z6.setWrap(r10);
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var jR = iM((e30, t10) => {
  let r10;
  return "sandbox" === t10 && (r10 = c$("#i" + e30)), ("sandbox" === t10 ? c$(r10.nodes()[0].contentDocument.body) : c$("body")).select(`[id="${e30}"]`);
}, "getDiagramElement"), jD = iM((e30, t10, r10, n10) => {
  e30.attr("class", r10);
  let { width: i10, height: a10, x: s10, y: o10 } = jO(e30, t10);
  on(e30, a10, i10, n10);
  let l10 = j$(s10, o10, i10, a10, t10);
  e30.attr("viewBox", l10), iz.debug(`viewBox configured: ${l10} with padding: ${t10}`);
}, "setupViewPortForSVG"), jO = iM((e30, t10) => {
  var r10;
  let n10 = (null === (r10 = e30.node()) || void 0 === r10 ? void 0 : r10.getBBox()) || { width: 0, height: 0, x: 0, y: 0 };
  return { width: n10.width + 2 * t10, height: n10.height + 2 * t10, x: n10.x, y: n10.y };
}, "calculateDimensionsWithPadding"), j$ = iM((e30, t10, r10, n10, i10) => `${e30 - i10} ${t10 - i10} ${r10} ${n10}`, "createViewBox"), jP = 0, jB = aj(), jF = /* @__PURE__ */ new Map(), jz = [], jj = /* @__PURE__ */ new Map(), jq = [], jU = /* @__PURE__ */ new Map(), jW = /* @__PURE__ */ new Map(), jV = 0, jH = true, jY = [], jG = iM((e30) => oe.sanitizeText(e30, jB), "sanitizeText"), jX = iM(function(e30) {
  for (let t10 of jF.values()) if (t10.id === e30) return t10.domId;
  return e30;
}, "lookUpDomId"), jK = iM(function(e30, t10, r10, n10, i10, a10) {
  let s10, o10 = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : {}, l10 = arguments.length > 7 ? arguments[7] : void 0;
  if (!e30 || 0 === e30.trim().length) return;
  let h10 = jF.get(e30);
  if (void 0 === h10 && (h10 = { id: e30, labelType: "text", domId: "flowchart-" + e30 + "-" + jP, styles: [], classes: [] }, jF.set(e30, h10)), jP++, void 0 !== t10 ? (jB = aj(), s10 = jG(t10.text.trim()), h10.labelType = t10.type, s10.startsWith('"') && s10.endsWith('"') && (s10 = s10.substring(1, s10.length - 1)), h10.text = s10) : void 0 === h10.text && (h10.text = e30), void 0 !== r10 && (h10.type = r10), null != n10 && n10.forEach(function(e31) {
    h10.styles.push(e31);
  }), null != i10 && i10.forEach(function(e31) {
    h10.classes.push(e31);
  }), void 0 !== a10 && (h10.dir = a10), void 0 === h10.props ? h10.props = o10 : void 0 !== o10 && Object.assign(h10.props, o10), void 0 !== l10) {
    var u10, d10;
    let t11 = ve(l10.includes("\n") ? l10 + "\n" : "{\n" + l10 + "\n}", { schema: m2 });
    if (t11.shape) {
      if (t11.shape !== t11.shape.toLowerCase() || t11.shape.includes("_")) throw Error(`No such shape: ${t11.shape}. Shape names should be lowercase.`);
      if (!S3(t11.shape)) throw Error(`No such shape: ${t11.shape}.`);
      h10.type = null == t11 ? void 0 : t11.shape;
    }
    (null == t11 ? void 0 : t11.label) && (h10.text = null == t11 ? void 0 : t11.label), (null == t11 ? void 0 : t11.icon) && (h10.icon = null == t11 ? void 0 : t11.icon, (null === (u10 = t11.label) || void 0 === u10 ? void 0 : u10.trim()) || h10.text !== e30 || (h10.text = "")), (null == t11 ? void 0 : t11.form) && (h10.form = null == t11 ? void 0 : t11.form), (null == t11 ? void 0 : t11.pos) && (h10.pos = null == t11 ? void 0 : t11.pos), (null == t11 ? void 0 : t11.img) && (h10.img = null == t11 ? void 0 : t11.img, (null === (d10 = t11.label) || void 0 === d10 ? void 0 : d10.trim()) || h10.text !== e30 || (h10.text = "")), (null == t11 ? void 0 : t11.constraint) && (h10.constraint = t11.constraint), t11.w && (h10.assetWidth = Number(t11.w)), t11.h && (h10.assetHeight = Number(t11.h));
  }
}, "addVertex"), jZ = iM(function(e30, t10, r10) {
  var n10;
  let i10 = { start: e30, end: t10, type: void 0, text: "", labelType: "text" };
  iz.info("abc78 Got edge...", i10);
  let a10 = r10.text;
  if (void 0 !== a10 && (i10.text = jG(a10.text.trim()), i10.text.startsWith('"') && i10.text.endsWith('"') && (i10.text = i10.text.substring(1, i10.text.length - 1)), i10.labelType = a10.type), void 0 !== r10 && (i10.type = r10.type, i10.stroke = r10.stroke, i10.length = r10.length > 10 ? 10 : r10.length), jz.length < (null !== (n10 = jB.maxEdges) && void 0 !== n10 ? n10 : 500)) iz.info("Pushing edge..."), jz.push(i10);
  else throw Error(`Edge limit exceeded. ${jz.length} edges found, but the limit is ${jB.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`);
}, "addSingleLink"), jQ = iM(function(e30, t10, r10) {
  for (let n10 of (iz.info("addLink", e30, t10, r10), e30)) for (let e31 of t10) jZ(n10, e31, r10);
}, "addLink"), jJ = iM(function(e30, t10) {
  e30.forEach(function(e31) {
    "default" === e31 ? jz.defaultInterpolate = t10 : jz[e31].interpolate = t10;
  });
}, "updateLinkInterpolate"), j0 = iM(function(e30, t10) {
  e30.forEach(function(e31) {
    if ("number" == typeof e31 && e31 >= jz.length) throw Error(`The index ${e31} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${jz.length - 1}. (Help: Ensure that the index is within the range of existing edges.)`);
    if ("default" === e31) jz.defaultStyle = t10;
    else {
      var r10, n10, i10, a10, s10, o10, l10;
      jz[e31].style = t10, !((null !== (s10 = null === (n10 = jz[e31]) || void 0 === n10 ? void 0 : null === (r10 = n10.style) || void 0 === r10 ? void 0 : r10.length) && void 0 !== s10 ? s10 : 0) > 0) || (null === (a10 = jz[e31]) || void 0 === a10 ? void 0 : null === (i10 = a10.style) || void 0 === i10 ? void 0 : i10.some((e32) => null == e32 ? void 0 : e32.startsWith("fill"))) || null === (l10 = jz[e31]) || void 0 === l10 || null === (o10 = l10.style) || void 0 === o10 || o10.push("fill:none");
    }
  });
}, "updateLink"), j1 = iM(function(e30, t10) {
  e30.split(",").forEach(function(e31) {
    let r10 = jj.get(e31);
    void 0 === r10 && (r10 = { id: e31, styles: [], textStyles: [] }, jj.set(e31, r10)), null != t10 && t10.forEach(function(e32) {
      if (/color/.exec(e32)) {
        let t11 = e32.replace("fill", "bgFill");
        r10.textStyles.push(t11);
      }
      r10.styles.push(e32);
    });
  });
}, "addClass"), j2 = iM(function(e30) {
  ru = e30, /.*</.exec(ru) && (ru = "RL"), /.*\^/.exec(ru) && (ru = "BT"), /.*>/.exec(ru) && (ru = "LR"), /.*v/.exec(ru) && (ru = "TB"), "TD" === ru && (ru = "TB");
}, "setDirection"), j4 = iM(function(e30, t10) {
  for (let r10 of e30.split(",")) {
    let e31 = jF.get(r10);
    e31 && e31.classes.push(t10);
    let n10 = jU.get(r10);
    n10 && n10.classes.push(t10);
  }
}, "setClass"), j3 = iM(function(e30, t10) {
  if (void 0 !== t10) for (let r10 of (t10 = jG(t10), e30.split(","))) jW.set("gen-1" === rd ? jX(r10) : r10, t10);
}, "setTooltip"), j5 = iM(function(e30, t10, r10) {
  let n10 = jX(e30);
  if ("loose" !== aj().securityLevel || void 0 === t10) return;
  let i10 = [];
  if ("string" == typeof r10) {
    i10 = r10.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
    for (let e31 = 0; e31 < i10.length; e31++) {
      let t11 = i10[e31].trim();
      t11.startsWith('"') && t11.endsWith('"') && (t11 = t11.substr(1, t11.length - 2)), i10[e31] = t11;
    }
  }
  0 === i10.length && i10.push(e30);
  let a10 = jF.get(e30);
  a10 && (a10.haveCallback = true, jY.push(function() {
    let e31 = document.querySelector(`[id="${n10}"]`);
    null !== e31 && e31.addEventListener("click", function() {
      k2.runFunc(t10, ...i10);
    }, false);
  }));
}, "setClickFun"), j6 = iM(function(e30, t10, r10) {
  e30.split(",").forEach(function(e31) {
    let n10 = jF.get(e31);
    void 0 !== n10 && (n10.link = k2.formatUrl(t10, jB), n10.linkTarget = r10);
  }), j4(e30, "clickable");
}, "setLink"), j7 = iM(function(e30) {
  return jW.get(e30);
}, "getTooltip"), j8 = iM(function(e30, t10, r10) {
  e30.split(",").forEach(function(e31) {
    j5(e31, t10, r10);
  }), j4(e30, "clickable");
}, "setClickEvent"), j9 = iM(function(e30) {
  jY.forEach(function(t10) {
    t10(e30);
  });
}, "bindFunctions"), qe = iM(function() {
  return ru.trim();
}, "getDirection"), qt = iM(function() {
  return jF;
}, "getVertices"), qr = iM(function() {
  return jz;
}, "getEdges"), qn = iM(function() {
  return jj;
}, "getClasses"), qi = iM(function(e30) {
  let t10 = c$(".mermaidTooltip");
  null === (t10._groups || t10)[0][0] && (t10 = c$("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0)), c$(e30).select("svg").selectAll("g.node").on("mouseover", function() {
    let e31 = c$(this);
    if (null === e31.attr("title")) return;
    let r10 = null === this || void 0 === this ? void 0 : this.getBoundingClientRect();
    t10.transition().duration(200).style("opacity", ".9"), t10.text(e31.attr("title")).style("left", window.scrollX + r10.left + (r10.right - r10.left) / 2 + "px").style("top", window.scrollY + r10.bottom + "px"), t10.html(t10.html().replace(/&lt;br\/&gt;/g, "<br/>")), e31.classed("hover", true);
  }).on("mouseout", function() {
    t10.transition().duration(500).style("opacity", 0), c$(this).classed("hover", false);
  });
}, "setupToolTips");
jY.push(qi);
var qa = iM(function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "gen-1";
  jF = /* @__PURE__ */ new Map(), jj = /* @__PURE__ */ new Map(), jz = [], jY = [qi], jq = [], jU = /* @__PURE__ */ new Map(), jV = 0, jW = /* @__PURE__ */ new Map(), jH = true, rd = e30, jB = aj(), op();
}, "clear"), qs = iM((e30) => {
  rd = e30 || "gen-2";
}, "setGen"), qo = iM(function() {
  return "fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;";
}, "defaultStyle"), ql = iM(function(e30, t10, r10) {
  let n10 = e30.text.trim(), i10 = r10.text;
  function a10(e31) {
    let t11;
    let r11 = { boolean: {}, number: {}, string: {} }, n11 = [];
    return { nodeList: e31.filter(function(e32) {
      let i11 = typeof e32;
      return e32.stmt && "dir" === e32.stmt ? (t11 = e32.value, false) : "" !== e32.trim() && (i11 in r11 ? !r11[i11].hasOwnProperty(e32) && (r11[i11][e32] = true) : !n11.includes(e32) && n11.push(e32));
    }), dir: t11 };
  }
  e30 === r10 && /\s/.exec(r10.text) && (n10 = void 0), iM(a10, "uniq");
  let { nodeList: s10, dir: o10 } = a10(t10.flat());
  if ("gen-1" === rd) for (let e31 = 0; e31 < s10.length; e31++) s10[e31] = jX(s10[e31]);
  n10 = null != n10 ? n10 : "subGraph" + jV, i10 = jG(i10 = i10 || ""), jV += 1;
  let l10 = { id: n10, nodes: s10, title: i10.trim(), classes: [], dir: o10, labelType: r10.type };
  return iz.info("Adding", l10.id, l10.nodes, l10.dir), l10.nodes = qw(l10, jq).nodes, jq.push(l10), jU.set(n10, l10), n10;
}, "addSubGraph"), qc = iM(function(e30) {
  for (let [t10, r10] of jq.entries()) if (r10.id === e30) return t10;
  return -1;
}, "getPosForId"), qh = -1, qu = [], qd = iM(function(e30, t10) {
  let r10 = jq[t10].nodes;
  if ((qh += 1) > 2e3) return { result: false, count: 0 };
  if (qu[qh] = t10, jq[t10].id === e30) return { result: true, count: 0 };
  let n10 = 0, i10 = 1;
  for (; n10 < r10.length; ) {
    let t11 = qc(r10[n10]);
    if (t11 >= 0) {
      let r11 = qd(e30, t11);
      if (r11.result) return { result: true, count: i10 + r11.count };
      i10 += r11.count;
    }
    n10 += 1;
  }
  return { result: false, count: i10 };
}, "indexNodes2"), qp = iM(function(e30) {
  return qu[e30];
}, "getDepthFirstPos"), qf = iM(function() {
  qh = -1, jq.length > 0 && qd("none", jq.length - 1);
}, "indexNodes"), qg = iM(function() {
  return jq;
}, "getSubGraphs"), qm = iM(() => !!jH && (jH = false, true), "firstGraph"), qy = iM((e30) => {
  let t10 = e30.trim(), r10 = "arrow_open";
  switch (t10[0]) {
    case "<":
      r10 = "arrow_point", t10 = t10.slice(1);
      break;
    case "x":
      r10 = "arrow_cross", t10 = t10.slice(1);
      break;
    case "o":
      r10 = "arrow_circle", t10 = t10.slice(1);
  }
  let n10 = "normal";
  return t10.includes("=") && (n10 = "thick"), t10.includes(".") && (n10 = "dotted"), { type: r10, stroke: n10 };
}, "destructStartLink"), qv = iM((e30, t10) => {
  let r10 = t10.length, n10 = 0;
  for (let i10 = 0; i10 < r10; ++i10) t10[i10] === e30 && ++n10;
  return n10;
}, "countChar"), qx = iM((e30) => {
  let t10 = e30.trim(), r10 = t10.slice(0, -1), n10 = "arrow_open";
  switch (t10.slice(-1)) {
    case "x":
      n10 = "arrow_cross", t10.startsWith("x") && (n10 = "double_" + n10, r10 = r10.slice(1));
      break;
    case ">":
      n10 = "arrow_point", t10.startsWith("<") && (n10 = "double_" + n10, r10 = r10.slice(1));
      break;
    case "o":
      n10 = "arrow_circle", t10.startsWith("o") && (n10 = "double_" + n10, r10 = r10.slice(1));
  }
  let i10 = "normal", a10 = r10.length - 1;
  r10.startsWith("=") && (i10 = "thick"), r10.startsWith("~") && (i10 = "invisible");
  let s10 = qv(".", r10);
  return s10 && (i10 = "dotted", a10 = s10), { type: n10, stroke: i10, length: a10 };
}, "destructEndLink"), qb = iM((e30, t10) => {
  let r10;
  let n10 = qx(e30);
  if (t10) {
    if ((r10 = qy(t10)).stroke !== n10.stroke) return { type: "INVALID", stroke: "INVALID" };
    if ("arrow_open" === r10.type) r10.type = n10.type;
    else {
      if (r10.type !== n10.type) return { type: "INVALID", stroke: "INVALID" };
      r10.type = "double_" + r10.type;
    }
    return "double_arrow" === r10.type && (r10.type = "double_arrow_point"), r10.length = n10.length, r10;
  }
  return n10;
}, "destructLink"), qk = iM((e30, t10) => {
  for (let r10 of e30) if (r10.nodes.includes(t10)) return true;
  return false;
}, "exists"), qw = iM((e30, t10) => {
  let r10 = [];
  return e30.nodes.forEach((n10, i10) => {
    qk(t10, n10) || r10.push(e30.nodes[i10]);
  }), { nodes: r10 };
}, "makeUniq"), q_ = iM((e30) => {
  if (e30.img) return "imageSquare";
  if (e30.icon) return "circle" === e30.form ? "iconCircle" : "square" === e30.form ? "iconSquare" : "rounded" === e30.form ? "iconRounded" : "icon";
  switch (e30.type) {
    case "square":
    case void 0:
      return "squareRect";
    case "round":
      return "roundedRect";
    case "ellipse":
      return "ellipse";
    default:
      return e30.type;
  }
}, "getTypeFromVertex"), qT = iM((e30, t10) => e30.find((e31) => e31.id === t10), "findNode"), qS = iM((e30) => {
  let t10 = "none", r10 = "arrow_point";
  switch (e30) {
    case "arrow_point":
    case "arrow_circle":
    case "arrow_cross":
      r10 = e30;
      break;
    case "double_arrow_point":
    case "double_arrow_circle":
    case "double_arrow_cross":
      r10 = t10 = e30.replace("double_", "");
  }
  return { arrowTypeStart: t10, arrowTypeEnd: r10 };
}, "destructEdgeType"), qC = iM((e30, t10, r10, n10, i10, a10) => {
  var s10, o10;
  let l10 = r10.get(e30.id), h10 = null !== (s10 = n10.get(e30.id)) && void 0 !== s10 && s10, u10 = qT(t10, e30.id);
  if (u10) u10.cssStyles = e30.styles, u10.cssCompiledStyles = qE(e30.classes), u10.cssClasses = e30.classes.join(" ");
  else {
    let r11 = { id: e30.id, label: e30.text, labelStyle: "", parentId: l10, padding: (null === (o10 = i10.flowchart) || void 0 === o10 ? void 0 : o10.padding) || 8, cssStyles: e30.styles, cssCompiledStyles: qE(["default", "node", ...e30.classes]), cssClasses: "default " + e30.classes.join(" "), dir: e30.dir, domId: e30.domId, look: a10, link: e30.link, linkTarget: e30.linkTarget, tooltip: j7(e30.id), icon: e30.icon, pos: e30.pos, img: e30.img, assetWidth: e30.assetWidth, assetHeight: e30.assetHeight, constraint: e30.constraint };
    h10 ? t10.push({ ...r11, isGroup: true, shape: "rect" }) : t10.push({ ...r11, isGroup: false, shape: q_(e30) });
  }
}, "addNodeFromVertex");
function qE(e30) {
  let t10 = [];
  for (let i10 of e30) {
    var r10, n10;
    let e31 = jj.get(i10);
    (null == e31 ? void 0 : e31.styles) && (t10 = [...t10, ...null !== (r10 = e31.styles) && void 0 !== r10 ? r10 : []].map((e32) => e32.trim())), (null == e31 ? void 0 : e31.textStyles) && (t10 = [...t10, ...null !== (n10 = e31.textStyles) && void 0 !== n10 ? n10 : []].map((e32) => e32.trim()));
  }
  return t10;
}
iM(qE, "getCompiledStyles");
var qA = iM(() => {
  let e30 = aj(), t10 = [], r10 = [], n10 = qg(), i10 = /* @__PURE__ */ new Map(), a10 = /* @__PURE__ */ new Map();
  for (let e31 = n10.length - 1; e31 >= 0; e31--) {
    let t11 = n10[e31];
    for (let e32 of (t11.nodes.length > 0 && a10.set(t11.id, true), t11.nodes)) i10.set(e32, t11.id);
  }
  for (let r11 = n10.length - 1; r11 >= 0; r11--) {
    let a11 = n10[r11];
    t10.push({ id: a11.id, label: a11.title, labelStyle: "", parentId: i10.get(a11.id), padding: 8, cssCompiledStyles: qE(a11.classes), cssClasses: a11.classes.join(" "), shape: "rect", dir: a11.dir, isGroup: true, look: e30.look });
  }
  qt().forEach((r11) => {
    qC(r11, t10, i10, a10, e30, e30.look || "classic");
  });
  let s10 = qr();
  return s10.forEach((t11, n11) => {
    var i11, a11;
    let { arrowTypeStart: o10, arrowTypeEnd: l10 } = qS(t11.type), h10 = [...null !== (i11 = s10.defaultStyle) && void 0 !== i11 ? i11 : []];
    t11.style && h10.push(...t11.style);
    let u10 = { id: k5(t11.start, t11.end, { counter: n11, prefix: "L" }), start: t11.start, end: t11.end, type: null !== (a11 = t11.type) && void 0 !== a11 ? a11 : "normal", label: t11.text, labelpos: "c", thickness: t11.stroke, minlen: t11.length, classes: (null == t11 ? void 0 : t11.stroke) === "invisible" ? "" : "edge-thickness-normal edge-pattern-solid flowchart-link", arrowTypeStart: (null == t11 ? void 0 : t11.stroke) === "invisible" ? "none" : o10, arrowTypeEnd: (null == t11 ? void 0 : t11.stroke) === "invisible" ? "none" : l10, arrowheadStyle: "fill: #333", labelStyle: h10, style: h10, pattern: t11.stroke, look: e30.look };
    r10.push(u10);
  }), { nodes: t10, edges: r10, other: {}, config: e30 };
}, "getData"), qL = { defaultConfig: iM(() => aM.flowchart, "defaultConfig"), setAccTitle: of, getAccTitle: og, getAccDescription: oy, getData: qA, setAccDescription: om, addVertex: jK, lookUpDomId: jX, addLink: jQ, updateLinkInterpolate: jJ, updateLink: j0, addClass: j1, setDirection: j2, setClass: j4, setTooltip: j3, getTooltip: j7, setClickEvent: j8, setLink: j6, bindFunctions: j9, getDirection: qe, getVertices: qt, getEdges: qr, getClasses: qn, clear: qa, setGen: qs, defaultStyle: qo, addSubGraph: ql, getDepthFirstPos: qp, indexNodes: qf, getSubGraphs: qg, destructLink: qb, lex: { firstGraph: qm }, exists: qk, makeUniq: qw, setDiagramTitle: ov, getDiagramTitle: ox }, qI = iM(function(e30, t10) {
  return t10.db.getClasses();
}, "getClasses"), qM = iM(async function(e30, t10, r10, n10) {
  var i10, a10;
  let s10;
  iz.info("REF0:"), iz.info("Drawing state diagram (v2)", t10);
  let { securityLevel: o10, flowchart: l10, layout: h10 } = aj();
  "sandbox" === o10 && (s10 = c$("#i" + t10));
  let u10 = "sandbox" === o10 ? s10.nodes()[0].contentDocument : document;
  iz.debug("Before getData: ");
  let d10 = n10.db.getData();
  iz.debug("Data: ", d10);
  let p10 = jR(t10, o10), f10 = qe();
  d10.type = n10.type, d10.layoutAlgorithm = CE(h10), "dagre" === d10.layoutAlgorithm && "elk" === h10 && iz.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."), d10.direction = f10, d10.nodeSpacing = (null == l10 ? void 0 : l10.nodeSpacing) || 50, d10.rankSpacing = (null == l10 ? void 0 : l10.rankSpacing) || 50, d10.markers = ["point", "circle", "cross"], d10.diagramId = t10, iz.debug("REF1:", d10), await CC(d10, p10);
  let g10 = null !== (a10 = null === (i10 = d10.config.flowchart) || void 0 === i10 ? void 0 : i10.diagramPadding) && void 0 !== a10 ? a10 : 8;
  for (let e31 of (k2.insertTitle(p10, "flowchartTitleText", (null == l10 ? void 0 : l10.titleTopMargin) || 0, n10.db.getDiagramTitle()), jD(p10, g10, "flowchart", (null == l10 ? void 0 : l10.useMaxWidth) || false), d10.nodes)) {
    let r11 = c$(`#${t10} [id="${e31.id}"]`);
    if (!r11 || !e31.link) continue;
    let n11 = u10.createElementNS("http://www.w3.org/2000/svg", "a");
    n11.setAttributeNS("http://www.w3.org/2000/svg", "class", e31.cssClasses), n11.setAttributeNS("http://www.w3.org/2000/svg", "rel", "noopener"), "sandbox" === o10 ? n11.setAttributeNS("http://www.w3.org/2000/svg", "target", "_top") : e31.linkTarget && n11.setAttributeNS("http://www.w3.org/2000/svg", "target", e31.linkTarget);
    let i11 = r11.insert(function() {
      return n11;
    }, ":first-child"), a11 = r11.select(".label-container");
    a11 && i11.append(function() {
      return a11.node();
    });
    let s11 = r11.select(".label");
    s11 && i11.append(function() {
      return s11.node();
    });
  }
}, "draw"), qN = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 4], r10 = [1, 3], n10 = [1, 5], i10 = [1, 8, 9, 10, 11, 27, 34, 36, 38, 44, 60, 83, 84, 85, 86, 87, 88, 101, 104, 105, 108, 110, 113, 114, 115, 120, 121, 122, 123], a10 = [2, 2], s10 = [1, 13], o10 = [1, 14], l10 = [1, 15], h10 = [1, 16], u10 = [1, 23], d10 = [1, 25], p10 = [1, 26], f10 = [1, 27], g10 = [1, 49], y10 = [1, 48], v10 = [1, 29], x10 = [1, 30], b10 = [1, 31], k10 = [1, 32], w10 = [1, 33], _10 = [1, 44], T10 = [1, 46], S10 = [1, 42], C10 = [1, 47], E10 = [1, 43], A10 = [1, 50], L10 = [1, 45], I10 = [1, 51], M10 = [1, 52], N10 = [1, 34], R10 = [1, 35], D10 = [1, 36], O10 = [1, 37], $10 = [1, 57], P10 = [1, 8, 9, 10, 11, 27, 32, 34, 36, 38, 44, 60, 83, 84, 85, 86, 87, 88, 101, 104, 105, 108, 110, 113, 114, 115, 120, 121, 122, 123], B10 = [1, 61], F10 = [1, 60], z10 = [1, 62], j10 = [8, 9, 11, 75, 77], q10 = [1, 77], U10 = [1, 90], W10 = [1, 95], V10 = [1, 94], H10 = [1, 91], Y10 = [1, 87], G10 = [1, 93], X10 = [1, 89], K10 = [1, 96], Z10 = [1, 92], Q10 = [1, 97], J10 = [1, 88], ee10 = [8, 9, 10, 11, 40, 75, 77], et10 = [8, 9, 10, 11, 40, 46, 75, 77], er10 = [8, 9, 10, 11, 29, 40, 44, 46, 48, 50, 52, 54, 56, 58, 60, 63, 65, 67, 68, 70, 75, 77, 88, 101, 104, 105, 108, 110, 113, 114, 115], en10 = [8, 9, 11, 44, 60, 75, 77, 88, 101, 104, 105, 108, 110, 113, 114, 115], ei10 = [44, 60, 88, 101, 104, 105, 108, 110, 113, 114, 115], ea10 = [1, 123], es10 = [1, 122], eo10 = [1, 130], el10 = [1, 144], ec10 = [1, 145], eh10 = [1, 146], eu10 = [1, 147], ed10 = [1, 132], ep10 = [1, 134], ef10 = [1, 138], eg10 = [1, 139], em10 = [1, 140], ey10 = [1, 141], ev10 = [1, 142], ex10 = [1, 143], eb10 = [1, 148], ek10 = [1, 149], ew10 = [1, 128], e_2 = [1, 129], eT2 = [1, 136], eS2 = [1, 131], eC2 = [1, 135], eE2 = [1, 133], eA2 = [8, 9, 10, 11, 27, 32, 34, 36, 38, 44, 60, 83, 84, 85, 86, 87, 88, 101, 104, 105, 108, 110, 113, 114, 115, 120, 121, 122, 123], eL2 = [1, 151], eI2 = [1, 153], eM2 = [8, 9, 11], eN2 = [8, 9, 10, 11, 14, 44, 60, 88, 104, 105, 108, 110, 113, 114, 115], eR2 = [1, 173], eD2 = [1, 169], eO2 = [1, 170], e$2 = [1, 174], eP2 = [1, 171], eB2 = [1, 172], eF2 = [77, 115, 118], ez2 = [8, 9, 10, 11, 12, 14, 27, 29, 32, 44, 60, 75, 83, 84, 85, 86, 87, 88, 89, 104, 108, 110, 113, 114, 115], ej2 = [10, 105], eq2 = [31, 49, 51, 53, 55, 57, 62, 64, 66, 67, 69, 71, 115, 116, 117], eU2 = [1, 242], eW2 = [1, 240], eV2 = [1, 244], eH2 = [1, 238], eY2 = [1, 239], eG2 = [1, 241], eX2 = [1, 243], eK2 = [1, 245], eZ2 = [1, 263], eQ2 = [8, 9, 11, 105], eJ2 = [8, 9, 10, 11, 60, 83, 104, 105, 108, 109, 110, 111], e02 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, graphConfig: 4, document: 5, line: 6, statement: 7, SEMI: 8, NEWLINE: 9, SPACE: 10, EOF: 11, GRAPH: 12, NODIR: 13, DIR: 14, FirstStmtSeparator: 15, ending: 16, endToken: 17, spaceList: 18, spaceListNewline: 19, vertexStatement: 20, separator: 21, styleStatement: 22, linkStyleStatement: 23, classDefStatement: 24, classStatement: 25, clickStatement: 26, subgraph: 27, textNoTags: 28, SQS: 29, text: 30, SQE: 31, end: 32, direction: 33, acc_title: 34, acc_title_value: 35, acc_descr: 36, acc_descr_value: 37, acc_descr_multiline_value: 38, shapeData: 39, SHAPE_DATA: 40, link: 41, node: 42, styledVertex: 43, AMP: 44, vertex: 45, STYLE_SEPARATOR: 46, idString: 47, DOUBLECIRCLESTART: 48, DOUBLECIRCLEEND: 49, PS: 50, PE: 51, "(-": 52, "-)": 53, STADIUMSTART: 54, STADIUMEND: 55, SUBROUTINESTART: 56, SUBROUTINEEND: 57, VERTEX_WITH_PROPS_START: 58, "NODE_STRING[field]": 59, COLON: 60, "NODE_STRING[value]": 61, PIPE: 62, CYLINDERSTART: 63, CYLINDEREND: 64, DIAMOND_START: 65, DIAMOND_STOP: 66, TAGEND: 67, TRAPSTART: 68, TRAPEND: 69, INVTRAPSTART: 70, INVTRAPEND: 71, linkStatement: 72, arrowText: 73, TESTSTR: 74, START_LINK: 75, edgeText: 76, LINK: 77, edgeTextToken: 78, STR: 79, MD_STR: 80, textToken: 81, keywords: 82, STYLE: 83, LINKSTYLE: 84, CLASSDEF: 85, CLASS: 86, CLICK: 87, DOWN: 88, UP: 89, textNoTagsToken: 90, stylesOpt: 91, "idString[vertex]": 92, "idString[class]": 93, CALLBACKNAME: 94, CALLBACKARGS: 95, HREF: 96, LINK_TARGET: 97, "STR[link]": 98, "STR[tooltip]": 99, alphaNum: 100, DEFAULT: 101, numList: 102, INTERPOLATE: 103, NUM: 104, COMMA: 105, style: 106, styleComponent: 107, NODE_STRING: 108, UNIT: 109, BRKT: 110, PCT: 111, idStringToken: 112, MINUS: 113, MULT: 114, UNICODE_TEXT: 115, TEXT: 116, TAGSTART: 117, EDGE_TEXT: 118, alphaNumToken: 119, direction_tb: 120, direction_bt: 121, direction_rl: 122, direction_lr: 123, $accept: 0, $end: 1 }, terminals_: { 2: "error", 8: "SEMI", 9: "NEWLINE", 10: "SPACE", 11: "EOF", 12: "GRAPH", 13: "NODIR", 14: "DIR", 27: "subgraph", 29: "SQS", 31: "SQE", 32: "end", 34: "acc_title", 35: "acc_title_value", 36: "acc_descr", 37: "acc_descr_value", 38: "acc_descr_multiline_value", 40: "SHAPE_DATA", 44: "AMP", 46: "STYLE_SEPARATOR", 48: "DOUBLECIRCLESTART", 49: "DOUBLECIRCLEEND", 50: "PS", 51: "PE", 52: "(-", 53: "-)", 54: "STADIUMSTART", 55: "STADIUMEND", 56: "SUBROUTINESTART", 57: "SUBROUTINEEND", 58: "VERTEX_WITH_PROPS_START", 59: "NODE_STRING[field]", 60: "COLON", 61: "NODE_STRING[value]", 62: "PIPE", 63: "CYLINDERSTART", 64: "CYLINDEREND", 65: "DIAMOND_START", 66: "DIAMOND_STOP", 67: "TAGEND", 68: "TRAPSTART", 69: "TRAPEND", 70: "INVTRAPSTART", 71: "INVTRAPEND", 74: "TESTSTR", 75: "START_LINK", 77: "LINK", 79: "STR", 80: "MD_STR", 83: "STYLE", 84: "LINKSTYLE", 85: "CLASSDEF", 86: "CLASS", 87: "CLICK", 88: "DOWN", 89: "UP", 92: "idString[vertex]", 93: "idString[class]", 94: "CALLBACKNAME", 95: "CALLBACKARGS", 96: "HREF", 97: "LINK_TARGET", 98: "STR[link]", 99: "STR[tooltip]", 101: "DEFAULT", 103: "INTERPOLATE", 104: "NUM", 105: "COMMA", 108: "NODE_STRING", 109: "UNIT", 110: "BRKT", 111: "PCT", 113: "MINUS", 114: "MULT", 115: "UNICODE_TEXT", 116: "TEXT", 117: "TAGSTART", 118: "EDGE_TEXT", 120: "direction_tb", 121: "direction_bt", 122: "direction_rl", 123: "direction_lr" }, productions_: [0, [3, 2], [5, 0], [5, 2], [6, 1], [6, 1], [6, 1], [6, 1], [6, 1], [4, 2], [4, 2], [4, 2], [4, 3], [16, 2], [16, 1], [17, 1], [17, 1], [17, 1], [15, 1], [15, 1], [15, 2], [19, 2], [19, 2], [19, 1], [19, 1], [18, 2], [18, 1], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 9], [7, 6], [7, 4], [7, 1], [7, 2], [7, 2], [7, 1], [21, 1], [21, 1], [21, 1], [39, 2], [39, 1], [20, 4], [20, 3], [20, 4], [20, 2], [20, 2], [20, 1], [42, 1], [42, 6], [42, 5], [43, 1], [43, 3], [45, 4], [45, 4], [45, 6], [45, 4], [45, 4], [45, 4], [45, 8], [45, 4], [45, 4], [45, 4], [45, 6], [45, 4], [45, 4], [45, 4], [45, 4], [45, 4], [45, 1], [41, 2], [41, 3], [41, 3], [41, 1], [41, 3], [76, 1], [76, 2], [76, 1], [76, 1], [72, 1], [73, 3], [30, 1], [30, 2], [30, 1], [30, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [82, 1], [28, 1], [28, 2], [28, 1], [28, 1], [24, 5], [25, 5], [26, 2], [26, 4], [26, 3], [26, 5], [26, 3], [26, 5], [26, 5], [26, 7], [26, 2], [26, 4], [26, 2], [26, 4], [26, 4], [26, 6], [22, 5], [23, 5], [23, 5], [23, 9], [23, 9], [23, 7], [23, 7], [102, 1], [102, 3], [91, 1], [91, 3], [106, 1], [106, 2], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [107, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [112, 1], [81, 1], [81, 1], [81, 1], [81, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [90, 1], [78, 1], [78, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [119, 1], [47, 1], [47, 2], [100, 1], [100, 2], [33, 1], [33, 1], [33, 1], [33, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 2:
      case 28:
      case 29:
      case 30:
      case 31:
      case 32:
        this.$ = [];
        break;
      case 3:
        (!Array.isArray(a11[o11]) || a11[o11].length > 0) && a11[o11 - 1].push(a11[o11]), this.$ = a11[o11 - 1];
        break;
      case 4:
      case 181:
      case 44:
      case 54:
      case 76:
      case 179:
        this.$ = a11[o11];
        break;
      case 11:
        n11.setDirection("TB"), this.$ = "TB";
        break;
      case 12:
        n11.setDirection(a11[o11 - 1]), this.$ = a11[o11 - 1];
        break;
      case 27:
        this.$ = a11[o11 - 1].nodes;
        break;
      case 33:
        this.$ = n11.addSubGraph(a11[o11 - 6], a11[o11 - 1], a11[o11 - 4]);
        break;
      case 34:
        this.$ = n11.addSubGraph(a11[o11 - 3], a11[o11 - 1], a11[o11 - 3]);
        break;
      case 35:
        this.$ = n11.addSubGraph(void 0, a11[o11 - 1], void 0);
        break;
      case 37:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 38:
      case 39:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 43:
      case 131:
        this.$ = a11[o11 - 1] + a11[o11];
        break;
      case 45:
        n11.addVertex(a11[o11 - 1][0], void 0, void 0, void 0, void 0, void 0, void 0, a11[o11]), n11.addLink(a11[o11 - 3].stmt, a11[o11 - 1], a11[o11 - 2]), this.$ = { stmt: a11[o11 - 1], nodes: a11[o11 - 1].concat(a11[o11 - 3].nodes) };
        break;
      case 46:
        n11.addLink(a11[o11 - 2].stmt, a11[o11], a11[o11 - 1]), this.$ = { stmt: a11[o11], nodes: a11[o11].concat(a11[o11 - 2].nodes) };
        break;
      case 47:
        n11.addLink(a11[o11 - 3].stmt, a11[o11 - 1], a11[o11 - 2]), this.$ = { stmt: a11[o11 - 1], nodes: a11[o11 - 1].concat(a11[o11 - 3].nodes) };
        break;
      case 48:
        this.$ = { stmt: a11[o11 - 1], nodes: a11[o11 - 1] };
        break;
      case 49:
        n11.addVertex(a11[o11 - 1][0], void 0, void 0, void 0, void 0, void 0, void 0, a11[o11]), this.$ = { stmt: a11[o11 - 1], nodes: a11[o11 - 1], shapeData: a11[o11] };
        break;
      case 50:
        this.$ = { stmt: a11[o11], nodes: a11[o11] };
        break;
      case 51:
      case 126:
      case 128:
        this.$ = [a11[o11]];
        break;
      case 52:
        n11.addVertex(a11[o11 - 5][0], void 0, void 0, void 0, void 0, void 0, void 0, a11[o11 - 4]), this.$ = a11[o11 - 5].concat(a11[o11]);
        break;
      case 53:
        this.$ = a11[o11 - 4].concat(a11[o11]);
        break;
      case 55:
        this.$ = a11[o11 - 2], n11.setClass(a11[o11 - 2], a11[o11]);
        break;
      case 56:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "square");
        break;
      case 57:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "doublecircle");
        break;
      case 58:
        this.$ = a11[o11 - 5], n11.addVertex(a11[o11 - 5], a11[o11 - 2], "circle");
        break;
      case 59:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "ellipse");
        break;
      case 60:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "stadium");
        break;
      case 61:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "subroutine");
        break;
      case 62:
        this.$ = a11[o11 - 7], n11.addVertex(a11[o11 - 7], a11[o11 - 1], "rect", void 0, void 0, void 0, Object.fromEntries([[a11[o11 - 5], a11[o11 - 3]]]));
        break;
      case 63:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "cylinder");
        break;
      case 64:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "round");
        break;
      case 65:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "diamond");
        break;
      case 66:
        this.$ = a11[o11 - 5], n11.addVertex(a11[o11 - 5], a11[o11 - 2], "hexagon");
        break;
      case 67:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "odd");
        break;
      case 68:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "trapezoid");
        break;
      case 69:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "inv_trapezoid");
        break;
      case 70:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "lean_right");
        break;
      case 71:
        this.$ = a11[o11 - 3], n11.addVertex(a11[o11 - 3], a11[o11 - 1], "lean_left");
        break;
      case 72:
        this.$ = a11[o11], n11.addVertex(a11[o11]);
        break;
      case 73:
        a11[o11 - 1].text = a11[o11], this.$ = a11[o11 - 1];
        break;
      case 74:
      case 75:
        a11[o11 - 2].text = a11[o11 - 1], this.$ = a11[o11 - 2];
        break;
      case 77:
        var l11 = n11.destructLink(a11[o11], a11[o11 - 2]);
        this.$ = { type: l11.type, stroke: l11.stroke, length: l11.length, text: a11[o11 - 1] };
        break;
      case 78:
      case 84:
      case 99:
      case 101:
        this.$ = { text: a11[o11], type: "text" };
        break;
      case 79:
      case 85:
      case 100:
        this.$ = { text: a11[o11 - 1].text + "" + a11[o11], type: a11[o11 - 1].type };
        break;
      case 80:
      case 86:
        this.$ = { text: a11[o11], type: "string" };
        break;
      case 81:
      case 87:
      case 102:
        this.$ = { text: a11[o11], type: "markdown" };
        break;
      case 82:
        var l11 = n11.destructLink(a11[o11]);
        this.$ = { type: l11.type, stroke: l11.stroke, length: l11.length };
        break;
      case 83:
        this.$ = a11[o11 - 1];
        break;
      case 103:
        this.$ = a11[o11 - 4], n11.addClass(a11[o11 - 2], a11[o11]);
        break;
      case 104:
        this.$ = a11[o11 - 4], n11.setClass(a11[o11 - 2], a11[o11]);
        break;
      case 105:
      case 113:
        this.$ = a11[o11 - 1], n11.setClickEvent(a11[o11 - 1], a11[o11]);
        break;
      case 106:
      case 114:
        this.$ = a11[o11 - 3], n11.setClickEvent(a11[o11 - 3], a11[o11 - 2]), n11.setTooltip(a11[o11 - 3], a11[o11]);
        break;
      case 107:
        this.$ = a11[o11 - 2], n11.setClickEvent(a11[o11 - 2], a11[o11 - 1], a11[o11]);
        break;
      case 108:
        this.$ = a11[o11 - 4], n11.setClickEvent(a11[o11 - 4], a11[o11 - 3], a11[o11 - 2]), n11.setTooltip(a11[o11 - 4], a11[o11]);
        break;
      case 109:
        this.$ = a11[o11 - 2], n11.setLink(a11[o11 - 2], a11[o11]);
        break;
      case 110:
        this.$ = a11[o11 - 4], n11.setLink(a11[o11 - 4], a11[o11 - 2]), n11.setTooltip(a11[o11 - 4], a11[o11]);
        break;
      case 111:
        this.$ = a11[o11 - 4], n11.setLink(a11[o11 - 4], a11[o11 - 2], a11[o11]);
        break;
      case 112:
        this.$ = a11[o11 - 6], n11.setLink(a11[o11 - 6], a11[o11 - 4], a11[o11]), n11.setTooltip(a11[o11 - 6], a11[o11 - 2]);
        break;
      case 115:
        this.$ = a11[o11 - 1], n11.setLink(a11[o11 - 1], a11[o11]);
        break;
      case 116:
        this.$ = a11[o11 - 3], n11.setLink(a11[o11 - 3], a11[o11 - 2]), n11.setTooltip(a11[o11 - 3], a11[o11]);
        break;
      case 117:
        this.$ = a11[o11 - 3], n11.setLink(a11[o11 - 3], a11[o11 - 2], a11[o11]);
        break;
      case 118:
        this.$ = a11[o11 - 5], n11.setLink(a11[o11 - 5], a11[o11 - 4], a11[o11]), n11.setTooltip(a11[o11 - 5], a11[o11 - 2]);
        break;
      case 119:
        this.$ = a11[o11 - 4], n11.addVertex(a11[o11 - 2], void 0, void 0, a11[o11]);
        break;
      case 120:
        this.$ = a11[o11 - 4], n11.updateLink([a11[o11 - 2]], a11[o11]);
        break;
      case 121:
        this.$ = a11[o11 - 4], n11.updateLink(a11[o11 - 2], a11[o11]);
        break;
      case 122:
        this.$ = a11[o11 - 8], n11.updateLinkInterpolate([a11[o11 - 6]], a11[o11 - 2]), n11.updateLink([a11[o11 - 6]], a11[o11]);
        break;
      case 123:
        this.$ = a11[o11 - 8], n11.updateLinkInterpolate(a11[o11 - 6], a11[o11 - 2]), n11.updateLink(a11[o11 - 6], a11[o11]);
        break;
      case 124:
        this.$ = a11[o11 - 6], n11.updateLinkInterpolate([a11[o11 - 4]], a11[o11]);
        break;
      case 125:
        this.$ = a11[o11 - 6], n11.updateLinkInterpolate(a11[o11 - 4], a11[o11]);
        break;
      case 127:
      case 129:
        a11[o11 - 2].push(a11[o11]), this.$ = a11[o11 - 2];
        break;
      case 180:
      case 182:
        this.$ = a11[o11 - 1] + "" + a11[o11];
        break;
      case 183:
        this.$ = { stmt: "dir", value: "TB" };
        break;
      case 184:
        this.$ = { stmt: "dir", value: "BT" };
        break;
      case 185:
        this.$ = { stmt: "dir", value: "RL" };
        break;
      case 186:
        this.$ = { stmt: "dir", value: "LR" };
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 9: t10, 10: r10, 12: n10 }, { 1: [3] }, e30(i10, a10, { 5: 6 }), { 4: 7, 9: t10, 10: r10, 12: n10 }, { 4: 8, 9: t10, 10: r10, 12: n10 }, { 13: [1, 9], 14: [1, 10] }, { 1: [2, 1], 6: 11, 7: 12, 8: s10, 9: o10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 33: 24, 34: d10, 36: p10, 38: f10, 42: 28, 43: 38, 44: g10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: k10, 87: w10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10, 120: N10, 121: R10, 122: D10, 123: O10 }, e30(i10, [2, 9]), e30(i10, [2, 10]), e30(i10, [2, 11]), { 8: [1, 54], 9: [1, 55], 10: $10, 15: 53, 18: 56 }, e30(P10, [2, 3]), e30(P10, [2, 4]), e30(P10, [2, 5]), e30(P10, [2, 6]), e30(P10, [2, 7]), e30(P10, [2, 8]), { 8: B10, 9: F10, 11: z10, 21: 58, 41: 59, 72: 63, 75: [1, 64], 77: [1, 65] }, { 8: B10, 9: F10, 11: z10, 21: 66 }, { 8: B10, 9: F10, 11: z10, 21: 67 }, { 8: B10, 9: F10, 11: z10, 21: 68 }, { 8: B10, 9: F10, 11: z10, 21: 69 }, { 8: B10, 9: F10, 11: z10, 21: 70 }, { 8: B10, 9: F10, 10: [1, 71], 11: z10, 21: 72 }, e30(P10, [2, 36]), { 35: [1, 73] }, { 37: [1, 74] }, e30(P10, [2, 39]), e30(j10, [2, 50], { 18: 75, 39: 76, 10: $10, 40: q10 }), { 10: [1, 78] }, { 10: [1, 79] }, { 10: [1, 80] }, { 10: [1, 81] }, { 14: U10, 44: W10, 60: V10, 79: [1, 85], 88: H10, 94: [1, 82], 96: [1, 83], 100: 84, 104: Y10, 105: G10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10, 119: 86 }, e30(P10, [2, 183]), e30(P10, [2, 184]), e30(P10, [2, 185]), e30(P10, [2, 186]), e30(ee10, [2, 51]), e30(ee10, [2, 54], { 46: [1, 98] }), e30(et10, [2, 72], { 112: 111, 29: [1, 99], 44: g10, 48: [1, 100], 50: [1, 101], 52: [1, 102], 54: [1, 103], 56: [1, 104], 58: [1, 105], 60: y10, 63: [1, 106], 65: [1, 107], 67: [1, 108], 68: [1, 109], 70: [1, 110], 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 113: L10, 114: I10, 115: M10 }), e30(er10, [2, 179]), e30(er10, [2, 140]), e30(er10, [2, 141]), e30(er10, [2, 142]), e30(er10, [2, 143]), e30(er10, [2, 144]), e30(er10, [2, 145]), e30(er10, [2, 146]), e30(er10, [2, 147]), e30(er10, [2, 148]), e30(er10, [2, 149]), e30(er10, [2, 150]), e30(i10, [2, 12]), e30(i10, [2, 18]), e30(i10, [2, 19]), { 9: [1, 112] }, e30(en10, [2, 26], { 18: 113, 10: $10 }), e30(P10, [2, 27]), { 42: 114, 43: 38, 44: g10, 45: 39, 47: 40, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, e30(P10, [2, 40]), e30(P10, [2, 41]), e30(P10, [2, 42]), e30(ei10, [2, 76], { 73: 115, 62: [1, 117], 74: [1, 116] }), { 76: 118, 78: 119, 79: [1, 120], 80: [1, 121], 115: ea10, 118: es10 }, e30([44, 60, 62, 74, 88, 101, 104, 105, 108, 110, 113, 114, 115], [2, 82]), e30(P10, [2, 28]), e30(P10, [2, 29]), e30(P10, [2, 30]), e30(P10, [2, 31]), e30(P10, [2, 32]), { 10: eo10, 12: el10, 14: ec10, 27: eh10, 28: 124, 32: eu10, 44: ed10, 60: ep10, 75: ef10, 79: [1, 126], 80: [1, 127], 82: 137, 83: eg10, 84: em10, 85: ey10, 86: ev10, 87: ex10, 88: eb10, 89: ek10, 90: 125, 104: ew10, 108: e_2, 110: eT2, 113: eS2, 114: eC2, 115: eE2 }, e30(eA2, a10, { 5: 150 }), e30(P10, [2, 37]), e30(P10, [2, 38]), e30(j10, [2, 48], { 44: eL2 }), e30(j10, [2, 49], { 18: 152, 10: $10, 40: eI2 }), e30(ee10, [2, 44]), { 44: g10, 47: 154, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, { 101: [1, 155], 102: 156, 104: [1, 157] }, { 44: g10, 47: 158, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, { 44: g10, 47: 159, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, e30(eM2, [2, 105], { 10: [1, 160], 95: [1, 161] }), { 79: [1, 162] }, e30(eM2, [2, 113], { 119: 164, 10: [1, 163], 14: U10, 44: W10, 60: V10, 88: H10, 104: Y10, 105: G10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10 }), e30(eM2, [2, 115], { 10: [1, 165] }), e30(eN2, [2, 181]), e30(eN2, [2, 168]), e30(eN2, [2, 169]), e30(eN2, [2, 170]), e30(eN2, [2, 171]), e30(eN2, [2, 172]), e30(eN2, [2, 173]), e30(eN2, [2, 174]), e30(eN2, [2, 175]), e30(eN2, [2, 176]), e30(eN2, [2, 177]), e30(eN2, [2, 178]), { 44: g10, 47: 166, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, { 30: 167, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 175, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 177, 50: [1, 176], 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 178, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 179, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 180, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 108: [1, 181] }, { 30: 182, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 183, 65: [1, 184], 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 185, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 186, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 30: 187, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, e30(er10, [2, 180]), e30(i10, [2, 20]), e30(en10, [2, 25]), e30(j10, [2, 46], { 39: 188, 18: 189, 10: $10, 40: q10 }), e30(ei10, [2, 73], { 10: [1, 190] }), { 10: [1, 191] }, { 30: 192, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 77: [1, 193], 78: 194, 115: ea10, 118: es10 }, e30(eF2, [2, 78]), e30(eF2, [2, 80]), e30(eF2, [2, 81]), e30(eF2, [2, 166]), e30(eF2, [2, 167]), { 8: B10, 9: F10, 10: eo10, 11: z10, 12: el10, 14: ec10, 21: 196, 27: eh10, 29: [1, 195], 32: eu10, 44: ed10, 60: ep10, 75: ef10, 82: 137, 83: eg10, 84: em10, 85: ey10, 86: ev10, 87: ex10, 88: eb10, 89: ek10, 90: 197, 104: ew10, 108: e_2, 110: eT2, 113: eS2, 114: eC2, 115: eE2 }, e30(ez2, [2, 99]), e30(ez2, [2, 101]), e30(ez2, [2, 102]), e30(ez2, [2, 155]), e30(ez2, [2, 156]), e30(ez2, [2, 157]), e30(ez2, [2, 158]), e30(ez2, [2, 159]), e30(ez2, [2, 160]), e30(ez2, [2, 161]), e30(ez2, [2, 162]), e30(ez2, [2, 163]), e30(ez2, [2, 164]), e30(ez2, [2, 165]), e30(ez2, [2, 88]), e30(ez2, [2, 89]), e30(ez2, [2, 90]), e30(ez2, [2, 91]), e30(ez2, [2, 92]), e30(ez2, [2, 93]), e30(ez2, [2, 94]), e30(ez2, [2, 95]), e30(ez2, [2, 96]), e30(ez2, [2, 97]), e30(ez2, [2, 98]), { 6: 11, 7: 12, 8: s10, 9: o10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 32: [1, 198], 33: 24, 34: d10, 36: p10, 38: f10, 42: 28, 43: 38, 44: g10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: k10, 87: w10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10, 120: N10, 121: R10, 122: D10, 123: O10 }, { 10: $10, 18: 199 }, { 44: [1, 200] }, e30(ee10, [2, 43]), { 10: [1, 201], 44: g10, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 111, 113: L10, 114: I10, 115: M10 }, { 10: [1, 202] }, { 10: [1, 203], 105: [1, 204] }, e30(ej2, [2, 126]), { 10: [1, 205], 44: g10, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 111, 113: L10, 114: I10, 115: M10 }, { 10: [1, 206], 44: g10, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 111, 113: L10, 114: I10, 115: M10 }, { 79: [1, 207] }, e30(eM2, [2, 107], { 10: [1, 208] }), e30(eM2, [2, 109], { 10: [1, 209] }), { 79: [1, 210] }, e30(eN2, [2, 182]), { 79: [1, 211], 97: [1, 212] }, e30(ee10, [2, 55], { 112: 111, 44: g10, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 113: L10, 114: I10, 115: M10 }), { 31: [1, 213], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, e30(eq2, [2, 84]), e30(eq2, [2, 86]), e30(eq2, [2, 87]), e30(eq2, [2, 151]), e30(eq2, [2, 152]), e30(eq2, [2, 153]), e30(eq2, [2, 154]), { 49: [1, 215], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 30: 216, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 51: [1, 217], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 53: [1, 218], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 55: [1, 219], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 57: [1, 220], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 60: [1, 221] }, { 64: [1, 222], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 66: [1, 223], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 30: 224, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, { 31: [1, 225], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 67: eR2, 69: [1, 226], 71: [1, 227], 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 67: eR2, 69: [1, 229], 71: [1, 228], 81: 214, 115: e$2, 116: eP2, 117: eB2 }, e30(j10, [2, 45], { 18: 152, 10: $10, 40: eI2 }), e30(j10, [2, 47], { 44: eL2 }), e30(ei10, [2, 75]), e30(ei10, [2, 74]), { 62: [1, 230], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, e30(ei10, [2, 77]), e30(eF2, [2, 79]), { 30: 231, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, e30(eA2, a10, { 5: 232 }), e30(ez2, [2, 100]), e30(P10, [2, 35]), { 43: 233, 44: g10, 45: 39, 47: 40, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, { 10: $10, 18: 234 }, { 10: eU2, 60: eW2, 83: eV2, 91: 235, 104: eH2, 106: 236, 107: 237, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }, { 10: eU2, 60: eW2, 83: eV2, 91: 246, 103: [1, 247], 104: eH2, 106: 236, 107: 237, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }, { 10: eU2, 60: eW2, 83: eV2, 91: 248, 103: [1, 249], 104: eH2, 106: 236, 107: 237, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }, { 104: [1, 250] }, { 10: eU2, 60: eW2, 83: eV2, 91: 251, 104: eH2, 106: 236, 107: 237, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }, { 44: g10, 47: 252, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, e30(eM2, [2, 106]), { 79: [1, 253] }, { 79: [1, 254], 97: [1, 255] }, e30(eM2, [2, 114]), e30(eM2, [2, 116], { 10: [1, 256] }), e30(eM2, [2, 117]), e30(et10, [2, 56]), e30(eq2, [2, 85]), e30(et10, [2, 57]), { 51: [1, 257], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, e30(et10, [2, 64]), e30(et10, [2, 59]), e30(et10, [2, 60]), e30(et10, [2, 61]), { 108: [1, 258] }, e30(et10, [2, 63]), e30(et10, [2, 65]), { 66: [1, 259], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, e30(et10, [2, 67]), e30(et10, [2, 68]), e30(et10, [2, 70]), e30(et10, [2, 69]), e30(et10, [2, 71]), e30([10, 44, 60, 88, 101, 104, 105, 108, 110, 113, 114, 115], [2, 83]), { 31: [1, 260], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 6: 11, 7: 12, 8: s10, 9: o10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 32: [1, 261], 33: 24, 34: d10, 36: p10, 38: f10, 42: 28, 43: 38, 44: g10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: k10, 87: w10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10, 120: N10, 121: R10, 122: D10, 123: O10 }, e30(ee10, [2, 53]), { 43: 262, 44: g10, 45: 39, 47: 40, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10 }, e30(eM2, [2, 119], { 105: eZ2 }), e30(eQ2, [2, 128], { 107: 264, 10: eU2, 60: eW2, 83: eV2, 104: eH2, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }), e30(eJ2, [2, 130]), e30(eJ2, [2, 132]), e30(eJ2, [2, 133]), e30(eJ2, [2, 134]), e30(eJ2, [2, 135]), e30(eJ2, [2, 136]), e30(eJ2, [2, 137]), e30(eJ2, [2, 138]), e30(eJ2, [2, 139]), e30(eM2, [2, 120], { 105: eZ2 }), { 10: [1, 265] }, e30(eM2, [2, 121], { 105: eZ2 }), { 10: [1, 266] }, e30(ej2, [2, 127]), e30(eM2, [2, 103], { 105: eZ2 }), e30(eM2, [2, 104], { 112: 111, 44: g10, 60: y10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 113: L10, 114: I10, 115: M10 }), e30(eM2, [2, 108]), e30(eM2, [2, 110], { 10: [1, 267] }), e30(eM2, [2, 111]), { 97: [1, 268] }, { 51: [1, 269] }, { 62: [1, 270] }, { 66: [1, 271] }, { 8: B10, 9: F10, 11: z10, 21: 272 }, e30(P10, [2, 34]), e30(ee10, [2, 52]), { 10: eU2, 60: eW2, 83: eV2, 104: eH2, 106: 273, 107: 237, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }, e30(eJ2, [2, 131]), { 14: U10, 44: W10, 60: V10, 88: H10, 100: 274, 104: Y10, 105: G10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10, 119: 86 }, { 14: U10, 44: W10, 60: V10, 88: H10, 100: 275, 104: Y10, 105: G10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10, 119: 86 }, { 97: [1, 276] }, e30(eM2, [2, 118]), e30(et10, [2, 58]), { 30: 277, 67: eR2, 79: eD2, 80: eO2, 81: 168, 115: e$2, 116: eP2, 117: eB2 }, e30(et10, [2, 66]), e30(eA2, a10, { 5: 278 }), e30(eQ2, [2, 129], { 107: 264, 10: eU2, 60: eW2, 83: eV2, 104: eH2, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }), e30(eM2, [2, 124], { 119: 164, 10: [1, 279], 14: U10, 44: W10, 60: V10, 88: H10, 104: Y10, 105: G10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10 }), e30(eM2, [2, 125], { 119: 164, 10: [1, 280], 14: U10, 44: W10, 60: V10, 88: H10, 104: Y10, 105: G10, 108: X10, 110: K10, 113: Z10, 114: Q10, 115: J10 }), e30(eM2, [2, 112]), { 31: [1, 281], 67: eR2, 81: 214, 115: e$2, 116: eP2, 117: eB2 }, { 6: 11, 7: 12, 8: s10, 9: o10, 10: l10, 11: h10, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: u10, 32: [1, 282], 33: 24, 34: d10, 36: p10, 38: f10, 42: 28, 43: 38, 44: g10, 45: 39, 47: 40, 60: y10, 83: v10, 84: x10, 85: b10, 86: k10, 87: w10, 88: _10, 101: T10, 104: S10, 105: C10, 108: E10, 110: A10, 112: 41, 113: L10, 114: I10, 115: M10, 120: N10, 121: R10, 122: D10, 123: O10 }, { 10: eU2, 60: eW2, 83: eV2, 91: 283, 104: eH2, 106: 236, 107: 237, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }, { 10: eU2, 60: eW2, 83: eV2, 91: 284, 104: eH2, 106: 236, 107: 237, 108: eY2, 109: eG2, 110: eX2, 111: eK2 }, e30(et10, [2, 62]), e30(P10, [2, 33]), e30(eM2, [2, 122], { 105: eZ2 }), e30(eM2, [2, 123], { 105: eZ2 })], defaultActions: {}, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, e110 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return this.begin("acc_title"), 34;
      case 1:
        return this.popState(), "acc_title_value";
      case 2:
        return this.begin("acc_descr"), 36;
      case 3:
        return this.popState(), "acc_descr_value";
      case 4:
        this.begin("acc_descr_multiline");
        break;
      case 5:
      case 12:
      case 14:
      case 17:
      case 20:
      case 23:
      case 33:
        this.popState();
        break;
      case 6:
        return "acc_descr_multiline_value";
      case 7:
        return this.pushState("shapeData"), t11.yytext = "", 40;
      case 8:
        return this.pushState("shapeDataStr"), 40;
      case 9:
        return this.popState(), 40;
      case 10:
        return t11.yytext = t11.yytext.replace(/\n\s*/g, "<br/>"), 40;
      case 11:
        return 40;
      case 13:
        this.begin("callbackname");
        break;
      case 15:
        this.popState(), this.begin("callbackargs");
        break;
      case 16:
        return 94;
      case 18:
        return 95;
      case 19:
        return "MD_STR";
      case 21:
        this.begin("md_string");
        break;
      case 22:
        return "STR";
      case 24:
        this.pushState("string");
        break;
      case 25:
        return 83;
      case 26:
        return 101;
      case 27:
        return 84;
      case 28:
        return 103;
      case 29:
        return 85;
      case 30:
        return 86;
      case 31:
        return 96;
      case 32:
        this.begin("click");
        break;
      case 34:
        return 87;
      case 35:
      case 36:
      case 37:
        return e31.lex.firstGraph() && this.begin("dir"), 12;
      case 38:
        return 27;
      case 39:
        return 32;
      case 40:
      case 41:
      case 42:
      case 43:
        return 97;
      case 44:
        return this.popState(), 13;
      case 45:
      case 46:
      case 47:
      case 48:
      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
        return this.popState(), 14;
      case 55:
        return 120;
      case 56:
        return 121;
      case 57:
        return 122;
      case 58:
        return 123;
      case 59:
        return 104;
      case 60:
      case 101:
        return 110;
      case 61:
        return 46;
      case 62:
        return 60;
      case 63:
      case 102:
        return 44;
      case 64:
        return 8;
      case 65:
        return 105;
      case 66:
      case 100:
        return 114;
      case 67:
      case 70:
      case 73:
        return this.popState(), 77;
      case 68:
        return this.pushState("edgeText"), 75;
      case 69:
      case 72:
      case 75:
        return 118;
      case 71:
        return this.pushState("thickEdgeText"), 75;
      case 74:
        return this.pushState("dottedEdgeText"), 75;
      case 76:
        return 77;
      case 77:
        return this.popState(), 53;
      case 78:
      case 114:
        return "TEXT";
      case 79:
        return this.pushState("ellipseText"), 52;
      case 80:
        return this.popState(), 55;
      case 81:
        return this.pushState("text"), 54;
      case 82:
        return this.popState(), 57;
      case 83:
        return this.pushState("text"), 56;
      case 84:
        return 58;
      case 85:
        return this.pushState("text"), 67;
      case 86:
        return this.popState(), 64;
      case 87:
        return this.pushState("text"), 63;
      case 88:
        return this.popState(), 49;
      case 89:
        return this.pushState("text"), 48;
      case 90:
        return this.popState(), 69;
      case 91:
        return this.popState(), 71;
      case 92:
        return 116;
      case 93:
        return this.pushState("trapText"), 68;
      case 94:
        return this.pushState("trapText"), 70;
      case 95:
        return 117;
      case 96:
        return 67;
      case 97:
        return 89;
      case 98:
        return "SEP";
      case 99:
        return 88;
      case 103:
        return 108;
      case 104:
        return 113;
      case 105:
        return 115;
      case 106:
        return this.popState(), 62;
      case 107:
        return this.pushState("text"), 62;
      case 108:
        return this.popState(), 51;
      case 109:
        return this.pushState("text"), 50;
      case 110:
        return this.popState(), 31;
      case 111:
        return this.pushState("text"), 29;
      case 112:
        return this.popState(), 66;
      case 113:
        return this.pushState("text"), 65;
      case 115:
        return "QUOTE";
      case 116:
        return 9;
      case 117:
        return 10;
      case 118:
        return 11;
    }
  }, "anonymous"), rules: [/^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:@\{)/, /^(?:["])/, /^(?:["])/, /^(?:[^\"]+)/, /^(?:[^}^"]+)/, /^(?:\})/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["][`])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:["])/, /^(?:style\b)/, /^(?:default\b)/, /^(?:linkStyle\b)/, /^(?:interpolate\b)/, /^(?:classDef\b)/, /^(?:class\b)/, /^(?:href[\s])/, /^(?:click[\s]+)/, /^(?:[\s\n])/, /^(?:[^\s\n]*)/, /^(?:flowchart-elk\b)/, /^(?:graph\b)/, /^(?:flowchart\b)/, /^(?:subgraph\b)/, /^(?:end\b\s*)/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:(\r?\n)*\s*\n)/, /^(?:\s*LR\b)/, /^(?:\s*RL\b)/, /^(?:\s*TB\b)/, /^(?:\s*BT\b)/, /^(?:\s*TD\b)/, /^(?:\s*BR\b)/, /^(?:\s*<)/, /^(?:\s*>)/, /^(?:\s*\^)/, /^(?:\s*v\b)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:[0-9]+)/, /^(?:#)/, /^(?::::)/, /^(?::)/, /^(?:&)/, /^(?:;)/, /^(?:,)/, /^(?:\*)/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?--\s*)/, /^(?:[^-]|-(?!-)+)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?==\s*)/, /^(?:[^=]|=(?!))/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?:\s*[xo<]?-\.\s*)/, /^(?:[^\.]|\.(?!))/, /^(?:\s*~~[\~]+\s*)/, /^(?:[-/\)][\)])/, /^(?:[^\(\)\[\]\{\}]|!\)+)/, /^(?:\(-)/, /^(?:\]\))/, /^(?:\(\[)/, /^(?:\]\])/, /^(?:\[\[)/, /^(?:\[\|)/, /^(?:>)/, /^(?:\)\])/, /^(?:\[\()/, /^(?:\)\)\))/, /^(?:\(\(\()/, /^(?:[\\(?=\])][\]])/, /^(?:\/(?=\])\])/, /^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/, /^(?:\[\/)/, /^(?:\[\\)/, /^(?:<)/, /^(?:>)/, /^(?:\^)/, /^(?:\\\|)/, /^(?:v\b)/, /^(?:\*)/, /^(?:#)/, /^(?:&)/, /^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/, /^(?:-)/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\|)/, /^(?:\|)/, /^(?:\))/, /^(?:\()/, /^(?:\])/, /^(?:\[)/, /^(?:(\}))/, /^(?:\{)/, /^(?:[^\[\]\(\)\{\}\|\"]+)/, /^(?:")/, /^(?:(\r?\n)+)/, /^(?:\s)/, /^(?:$)/], conditions: { shapeDataEndBracket: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, shapeDataStr: { rules: [9, 10, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, shapeData: { rules: [8, 11, 12, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, callbackargs: { rules: [17, 18, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, callbackname: { rules: [14, 15, 16, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, href: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, click: { rules: [21, 24, 33, 34, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, dottedEdgeText: { rules: [21, 24, 73, 75, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, thickEdgeText: { rules: [21, 24, 70, 72, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, edgeText: { rules: [21, 24, 67, 69, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, trapText: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 90, 91, 92, 93, 94, 107, 109, 111, 113], inclusive: false }, ellipseText: { rules: [21, 24, 76, 77, 78, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, text: { rules: [21, 24, 76, 79, 80, 81, 82, 83, 86, 87, 88, 89, 93, 94, 106, 107, 108, 109, 110, 111, 112, 113, 114], inclusive: false }, vertex: { rules: [21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, dir: { rules: [21, 24, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, acc_descr_multiline: { rules: [5, 6, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, acc_descr: { rules: [3, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, acc_title: { rules: [1, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, md_string: { rules: [19, 20, 21, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, string: { rules: [21, 22, 23, 24, 76, 79, 81, 83, 87, 89, 93, 94, 107, 109, 111, 113], inclusive: false }, INITIAL: { rules: [0, 2, 4, 7, 13, 21, 24, 25, 26, 27, 28, 29, 30, 31, 32, 35, 36, 37, 38, 39, 40, 41, 42, 43, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 70, 71, 73, 74, 76, 79, 81, 83, 84, 85, 87, 89, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 107, 109, 111, 113, 115, 116, 117, 118], inclusive: true } } };
  function e210() {
    this.yy = {};
  }
  return e02.lexer = e110, iM(e210, "Parser"), e210.prototype = e02, e02.Parser = e210, new e210();
}();
qN.parser = qN;
var qR = iM((e30, t10) => at(ar(e30, "r"), ar(e30, "g"), ar(e30, "b"), t10), "fade");
let qD = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: qN, db: qL, renderer: { getClasses: qI, draw: qM }, styles: iM((e30) => `.label {
    font-family: ${e30.fontFamily};
    color: ${e30.nodeTextColor || e30.textColor};
  }
  .cluster-label text {
    fill: ${e30.titleColor};
  }
  .cluster-label span {
    color: ${e30.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e30.nodeTextColor || e30.textColor};
    color: ${e30.nodeTextColor || e30.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e30.mainBkg};
    stroke: ${e30.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e30.lineColor} !important;
    stroke-width: 0;
    stroke: ${e30.lineColor};
  }

  .arrowheadPath {
    fill: ${e30.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e30.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e30.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e30.edgeLabelBackground};
    p {
      background-color: ${e30.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e30.edgeLabelBackground};
      fill: ${e30.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${qR(e30.edgeLabelBackground, 0.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e30.clusterBkg};
    stroke: ${e30.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e30.titleColor};
  }

  .cluster span {
    color: ${e30.titleColor};
  }
  /* .cluster div {
    color: ${e30.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e30.fontFamily};
    font-size: 12px;
    background: ${e30.tertiaryColor};
    border: 1px solid ${e30.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e30.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e30.edgeLabelBackground};
    p {
      background-color: ${e30.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e30.edgeLabelBackground};
      fill: ${e30.edgeLabelBackground};
    }
    text-align: center;
  }
`, "getStyles"), init: iM((e30) => {
  e30.flowchart || (e30.flowchart = {}), e30.layout && az({ layout: e30.layout }), e30.flowchart.arrowMarkerAbsolute = e30.arrowMarkerAbsolute, az({ flowchart: { arrowMarkerAbsolute: e30.arrowMarkerAbsolute } }), qL.clear(), qL.setGen("gen-2");
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var qO = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [6, 8, 10, 20, 22, 24, 26, 27, 28], r10 = [1, 10], n10 = [1, 11], i10 = [1, 12], a10 = [1, 13], s10 = [1, 14], o10 = [1, 15], l10 = [1, 21], h10 = [1, 22], u10 = [1, 23], d10 = [1, 24], p10 = [1, 25], f10 = [6, 8, 10, 13, 15, 18, 19, 20, 22, 24, 26, 27, 28, 41, 42, 43, 44, 45], g10 = [1, 34], y10 = [27, 28, 46, 47], v10 = [41, 42, 43, 44, 45], x10 = [17, 34], b10 = [1, 54], k10 = [1, 53], w10 = [17, 34, 36, 38], _10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, ER_DIAGRAM: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NEWLINE: 10, entityName: 11, relSpec: 12, ":": 13, role: 14, BLOCK_START: 15, attributes: 16, BLOCK_STOP: 17, SQS: 18, SQE: 19, title: 20, title_value: 21, acc_title: 22, acc_title_value: 23, acc_descr: 24, acc_descr_value: 25, acc_descr_multiline_value: 26, ALPHANUM: 27, ENTITY_NAME: 28, attribute: 29, attributeType: 30, attributeName: 31, attributeKeyTypeList: 32, attributeComment: 33, ATTRIBUTE_WORD: 34, attributeKeyType: 35, COMMA: 36, ATTRIBUTE_KEY: 37, COMMENT: 38, cardinality: 39, relType: 40, ZERO_OR_ONE: 41, ZERO_OR_MORE: 42, ONE_OR_MORE: 43, ONLY_ONE: 44, MD_PARENT: 45, NON_IDENTIFYING: 46, IDENTIFYING: 47, WORD: 48, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "ER_DIAGRAM", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 13: ":", 15: "BLOCK_START", 17: "BLOCK_STOP", 18: "SQS", 19: "SQE", 20: "title", 21: "title_value", 22: "acc_title", 23: "acc_title_value", 24: "acc_descr", 25: "acc_descr_value", 26: "acc_descr_multiline_value", 27: "ALPHANUM", 28: "ENTITY_NAME", 34: "ATTRIBUTE_WORD", 36: "COMMA", 37: "ATTRIBUTE_KEY", 38: "COMMENT", 41: "ZERO_OR_ONE", 42: "ZERO_OR_MORE", 43: "ONE_OR_MORE", 44: "ONLY_ONE", 45: "MD_PARENT", 46: "NON_IDENTIFYING", 47: "IDENTIFYING", 48: "WORD" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 5], [9, 4], [9, 3], [9, 1], [9, 7], [9, 6], [9, 4], [9, 2], [9, 2], [9, 2], [9, 1], [11, 1], [11, 1], [16, 1], [16, 2], [29, 2], [29, 3], [29, 3], [29, 4], [30, 1], [31, 1], [32, 1], [32, 3], [35, 1], [33, 1], [12, 3], [39, 1], [39, 1], [39, 1], [39, 1], [39, 1], [40, 1], [40, 1], [14, 1], [14, 1], [14, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 1:
        break;
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[o11 - 1].push(a11[o11]), this.$ = a11[o11 - 1];
        break;
      case 4:
      case 5:
      case 19:
      case 43:
      case 27:
      case 28:
      case 31:
        this.$ = a11[o11];
        break;
      case 8:
        n11.addEntity(a11[o11 - 4]), n11.addEntity(a11[o11 - 2]), n11.addRelationship(a11[o11 - 4], a11[o11], a11[o11 - 2], a11[o11 - 3]);
        break;
      case 9:
        n11.addEntity(a11[o11 - 3]), n11.addAttributes(a11[o11 - 3], a11[o11 - 1]);
        break;
      case 10:
        n11.addEntity(a11[o11 - 2]);
        break;
      case 11:
        n11.addEntity(a11[o11]);
        break;
      case 12:
        n11.addEntity(a11[o11 - 6], a11[o11 - 4]), n11.addAttributes(a11[o11 - 6], a11[o11 - 1]);
        break;
      case 13:
        n11.addEntity(a11[o11 - 5], a11[o11 - 3]);
        break;
      case 14:
        n11.addEntity(a11[o11 - 3], a11[o11 - 1]);
        break;
      case 15:
      case 16:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 17:
      case 18:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 20:
      case 41:
      case 42:
      case 32:
        this.$ = a11[o11].replace(/"/g, "");
        break;
      case 21:
      case 29:
        this.$ = [a11[o11]];
        break;
      case 22:
        a11[o11].push(a11[o11 - 1]), this.$ = a11[o11];
        break;
      case 23:
        this.$ = { attributeType: a11[o11 - 1], attributeName: a11[o11] };
        break;
      case 24:
        this.$ = { attributeType: a11[o11 - 2], attributeName: a11[o11 - 1], attributeKeyTypeList: a11[o11] };
        break;
      case 25:
        this.$ = { attributeType: a11[o11 - 2], attributeName: a11[o11 - 1], attributeComment: a11[o11] };
        break;
      case 26:
        this.$ = { attributeType: a11[o11 - 3], attributeName: a11[o11 - 2], attributeKeyTypeList: a11[o11 - 1], attributeComment: a11[o11] };
        break;
      case 30:
        a11[o11 - 2].push(a11[o11]), this.$ = a11[o11 - 2];
        break;
      case 33:
        this.$ = { cardA: a11[o11], relType: a11[o11 - 1], cardB: a11[o11 - 2] };
        break;
      case 34:
        this.$ = n11.Cardinality.ZERO_OR_ONE;
        break;
      case 35:
        this.$ = n11.Cardinality.ZERO_OR_MORE;
        break;
      case 36:
        this.$ = n11.Cardinality.ONE_OR_MORE;
        break;
      case 37:
        this.$ = n11.Cardinality.ONLY_ONE;
        break;
      case 38:
        this.$ = n11.Cardinality.MD_PARENT;
        break;
      case 39:
        this.$ = n11.Identification.NON_IDENTIFYING;
        break;
      case 40:
        this.$ = n11.Identification.IDENTIFYING;
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, e30(t10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: 9, 20: r10, 22: n10, 24: i10, 26: a10, 27: s10, 28: o10 }, e30(t10, [2, 7], { 1: [2, 1] }), e30(t10, [2, 3]), { 9: 16, 11: 9, 20: r10, 22: n10, 24: i10, 26: a10, 27: s10, 28: o10 }, e30(t10, [2, 5]), e30(t10, [2, 6]), e30(t10, [2, 11], { 12: 17, 39: 20, 15: [1, 18], 18: [1, 19], 41: l10, 42: h10, 43: u10, 44: d10, 45: p10 }), { 21: [1, 26] }, { 23: [1, 27] }, { 25: [1, 28] }, e30(t10, [2, 18]), e30(f10, [2, 19]), e30(f10, [2, 20]), e30(t10, [2, 4]), { 11: 29, 27: s10, 28: o10 }, { 16: 30, 17: [1, 31], 29: 32, 30: 33, 34: g10 }, { 11: 35, 27: s10, 28: o10 }, { 40: 36, 46: [1, 37], 47: [1, 38] }, e30(y10, [2, 34]), e30(y10, [2, 35]), e30(y10, [2, 36]), e30(y10, [2, 37]), e30(y10, [2, 38]), e30(t10, [2, 15]), e30(t10, [2, 16]), e30(t10, [2, 17]), { 13: [1, 39] }, { 17: [1, 40] }, e30(t10, [2, 10]), { 16: 41, 17: [2, 21], 29: 32, 30: 33, 34: g10 }, { 31: 42, 34: [1, 43] }, { 34: [2, 27] }, { 19: [1, 44] }, { 39: 45, 41: l10, 42: h10, 43: u10, 44: d10, 45: p10 }, e30(v10, [2, 39]), e30(v10, [2, 40]), { 14: 46, 27: [1, 49], 28: [1, 48], 48: [1, 47] }, e30(t10, [2, 9]), { 17: [2, 22] }, e30(x10, [2, 23], { 32: 50, 33: 51, 35: 52, 37: b10, 38: k10 }), e30([17, 34, 37, 38], [2, 28]), e30(t10, [2, 14], { 15: [1, 55] }), e30([27, 28], [2, 33]), e30(t10, [2, 8]), e30(t10, [2, 41]), e30(t10, [2, 42]), e30(t10, [2, 43]), e30(x10, [2, 24], { 33: 56, 36: [1, 57], 38: k10 }), e30(x10, [2, 25]), e30(w10, [2, 29]), e30(x10, [2, 32]), e30(w10, [2, 31]), { 16: 58, 17: [1, 59], 29: 32, 30: 33, 34: g10 }, e30(x10, [2, 26]), { 35: 60, 37: b10 }, { 17: [1, 61] }, e30(t10, [2, 13]), e30(w10, [2, 30]), e30(t10, [2, 12])], defaultActions: { 34: [2, 27], 41: [2, 22] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C10, E10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A10 = "";
        for (_11 in C10 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C10.push("'" + this.terminals_[_11] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C10 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E10.$ = i11[i11.length - T11], E10._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E10._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E10, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E10.$), a11.push(E10._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, T10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return this.begin("acc_title"), 22;
      case 1:
        return this.popState(), "acc_title_value";
      case 2:
        return this.begin("acc_descr"), 24;
      case 3:
        return this.popState(), "acc_descr_value";
      case 4:
        this.begin("acc_descr_multiline");
        break;
      case 5:
        this.popState();
        break;
      case 6:
        return "acc_descr_multiline_value";
      case 7:
        return 10;
      case 8:
      case 15:
      case 20:
        break;
      case 9:
        return 8;
      case 10:
        return 28;
      case 11:
        return 48;
      case 12:
        return 4;
      case 13:
        return this.begin("block"), 15;
      case 14:
        return 36;
      case 16:
        return 37;
      case 17:
      case 18:
        return 34;
      case 19:
        return 38;
      case 21:
        return this.popState(), 17;
      case 22:
      case 54:
        return t11.yytext[0];
      case 23:
        return 18;
      case 24:
        return 19;
      case 25:
      case 29:
      case 30:
      case 43:
        return 41;
      case 26:
      case 27:
      case 28:
      case 36:
      case 38:
      case 45:
        return 43;
      case 31:
      case 32:
      case 33:
      case 34:
      case 35:
      case 37:
      case 44:
        return 42;
      case 39:
      case 40:
      case 41:
      case 42:
        return 44;
      case 46:
        return 45;
      case 47:
      case 50:
      case 51:
      case 52:
        return 46;
      case 48:
      case 49:
        return 47;
      case 53:
        return 27;
      case 55:
        return 6;
    }
  }, "anonymous"), rules: [/^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:[\s]+)/i, /^(?:"[^"%\r\n\v\b\\]+")/i, /^(?:"[^"]*")/i, /^(?:erDiagram\b)/i, /^(?:\{)/i, /^(?:,)/i, /^(?:\s+)/i, /^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i, /^(?:(.*?)[~](.*?)*[~])/i, /^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i, /^(?:"[^"]*")/i, /^(?:[\n]+)/i, /^(?:\})/i, /^(?:.)/i, /^(?:\[)/i, /^(?:\])/i, /^(?:one or zero\b)/i, /^(?:one or more\b)/i, /^(?:one or many\b)/i, /^(?:1\+)/i, /^(?:\|o\b)/i, /^(?:zero or one\b)/i, /^(?:zero or more\b)/i, /^(?:zero or many\b)/i, /^(?:0\+)/i, /^(?:\}o\b)/i, /^(?:many\(0\))/i, /^(?:many\(1\))/i, /^(?:many\b)/i, /^(?:\}\|)/i, /^(?:one\b)/i, /^(?:only one\b)/i, /^(?:1\b)/i, /^(?:\|\|)/i, /^(?:o\|)/i, /^(?:o\{)/i, /^(?:\|\{)/i, /^(?:\s*u\b)/i, /^(?:\.\.)/i, /^(?:--)/i, /^(?:to\b)/i, /^(?:optionally to\b)/i, /^(?:\.-)/i, /^(?:-\.)/i, /^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i, /^(?:.)/i, /^(?:$)/i], conditions: { acc_descr_multiline: { rules: [5, 6], inclusive: false }, acc_descr: { rules: [3], inclusive: false }, acc_title: { rules: [1], inclusive: false }, block: { rules: [14, 15, 16, 17, 18, 19, 20, 21, 22], inclusive: false }, INITIAL: { rules: [0, 2, 4, 7, 8, 9, 10, 11, 12, 13, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55], inclusive: true } } };
  function S10() {
    this.yy = {};
  }
  return _10.lexer = T10, iM(S10, "Parser"), S10.prototype = _10, _10.Parser = S10, new S10();
}();
qO.parser = qO;
var q$ = /* @__PURE__ */ new Map(), qP = [], qB = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;
  return q$.has(e30) ? !q$.get(e30).alias && t10 && (q$.get(e30).alias = t10, iz.info(`Add alias '${t10}' to entity '${e30}'`)) : (q$.set(e30, { attributes: [], alias: t10 }), iz.info("Added new entity :", e30)), q$.get(e30);
}, "addEntity"), qF = iM(() => q$, "getEntities"), qz = iM(function(e30, t10) {
  let r10, n10 = qB(e30);
  for (r10 = t10.length - 1; r10 >= 0; r10--) n10.attributes.push(t10[r10]), iz.debug("Added attribute ", t10[r10].attributeName);
}, "addAttributes"), qj = iM(function(e30, t10, r10, n10) {
  let i10 = { entityA: e30, roleA: t10, entityB: r10, relSpec: n10 };
  qP.push(i10), iz.debug("Added new relationship :", i10);
}, "addRelationship"), qq = iM(() => qP, "getRelationships"), qU = iM(function() {
  q$ = /* @__PURE__ */ new Map(), qP = [], op();
}, "clear"), qW = { Cardinality: { ZERO_OR_ONE: "ZERO_OR_ONE", ZERO_OR_MORE: "ZERO_OR_MORE", ONE_OR_MORE: "ONE_OR_MORE", ONLY_ONE: "ONLY_ONE", MD_PARENT: "MD_PARENT" }, Identification: { NON_IDENTIFYING: "NON_IDENTIFYING", IDENTIFYING: "IDENTIFYING" }, getConfig: iM(() => aj().er, "getConfig"), addEntity: qB, addAttributes: qz, getEntities: qF, addRelationship: qj, getRelationships: qq, clear: qU, setAccTitle: of, getAccTitle: og, setAccDescription: om, getAccDescription: oy, setDiagramTitle: ov, getDiagramTitle: ox }, qV = { ONLY_ONE_START: "ONLY_ONE_START", ONLY_ONE_END: "ONLY_ONE_END", ZERO_OR_ONE_START: "ZERO_OR_ONE_START", ZERO_OR_ONE_END: "ZERO_OR_ONE_END", ONE_OR_MORE_START: "ONE_OR_MORE_START", ONE_OR_MORE_END: "ONE_OR_MORE_END", ZERO_OR_MORE_START: "ZERO_OR_MORE_START", ZERO_OR_MORE_END: "ZERO_OR_MORE_END", MD_PARENT_END: "MD_PARENT_END", MD_PARENT_START: "MD_PARENT_START" }, qH = iM(function(e30, t10) {
  let r10;
  e30.append("defs").append("marker").attr("id", qV.MD_PARENT_START).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", qV.MD_PARENT_END).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", qV.ONLY_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M9,0 L9,18 M15,0 L15,18"), e30.append("defs").append("marker").attr("id", qV.ONLY_ONE_END).attr("refX", 18).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M3,0 L3,18 M9,0 L9,18"), (r10 = e30.append("defs").append("marker").attr("id", qV.ZERO_OR_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto")).append("circle").attr("stroke", t10.stroke).attr("fill", "white").attr("cx", 21).attr("cy", 9).attr("r", 6), r10.append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M9,0 L9,18"), (r10 = e30.append("defs").append("marker").attr("id", qV.ZERO_OR_ONE_END).attr("refX", 30).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto")).append("circle").attr("stroke", t10.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 9).attr("r", 6), r10.append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M21,0 L21,18"), e30.append("defs").append("marker").attr("id", qV.ONE_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"), e30.append("defs").append("marker").attr("id", qV.ONE_OR_MORE_END).attr("refX", 27).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"), (r10 = e30.append("defs").append("marker").attr("id", qV.ZERO_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto")).append("circle").attr("stroke", t10.stroke).attr("fill", "white").attr("cx", 48).attr("cy", 18).attr("r", 6), r10.append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M0,18 Q18,0 36,18 Q18,36 0,18"), (r10 = e30.append("defs").append("marker").attr("id", qV.ZERO_OR_MORE_END).attr("refX", 39).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto")).append("circle").attr("stroke", t10.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 18).attr("r", 6), r10.append("path").attr("stroke", t10.stroke).attr("fill", "none").attr("d", "M21,18 Q39,0 57,18 Q39,36 21,18");
}, "insertMarkers"), qY = { ERMarkers: qV, insertMarkers: qH }, qG = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
function qX(e30) {
  return "string" == typeof e30 && qG.test(e30);
}
iM(qX, "validate");
var qK = [];
for (let e30 = 0; e30 < 256; ++e30) qK.push((e30 + 256).toString(16).slice(1));
function qZ(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
  return qK[e30[t10 + 0]] + qK[e30[t10 + 1]] + qK[e30[t10 + 2]] + qK[e30[t10 + 3]] + "-" + qK[e30[t10 + 4]] + qK[e30[t10 + 5]] + "-" + qK[e30[t10 + 6]] + qK[e30[t10 + 7]] + "-" + qK[e30[t10 + 8]] + qK[e30[t10 + 9]] + "-" + qK[e30[t10 + 10]] + qK[e30[t10 + 11]] + qK[e30[t10 + 12]] + qK[e30[t10 + 13]] + qK[e30[t10 + 14]] + qK[e30[t10 + 15]];
}
function qQ(e30) {
  let t10;
  if (!qX(e30)) throw TypeError("Invalid UUID");
  let r10 = new Uint8Array(16);
  return r10[0] = (t10 = parseInt(e30.slice(0, 8), 16)) >>> 24, r10[1] = t10 >>> 16 & 255, r10[2] = t10 >>> 8 & 255, r10[3] = 255 & t10, r10[4] = (t10 = parseInt(e30.slice(9, 13), 16)) >>> 8, r10[5] = 255 & t10, r10[6] = (t10 = parseInt(e30.slice(14, 18), 16)) >>> 8, r10[7] = 255 & t10, r10[8] = (t10 = parseInt(e30.slice(19, 23), 16)) >>> 8, r10[9] = 255 & t10, r10[10] = (t10 = parseInt(e30.slice(24, 36), 16)) / 1099511627776 & 255, r10[11] = t10 / 4294967296 & 255, r10[12] = t10 >>> 24 & 255, r10[13] = t10 >>> 16 & 255, r10[14] = t10 >>> 8 & 255, r10[15] = 255 & t10, r10;
}
function qJ(e30) {
  e30 = unescape(encodeURIComponent(e30));
  let t10 = [];
  for (let r10 = 0; r10 < e30.length; ++r10) t10.push(e30.charCodeAt(r10));
  return t10;
}
function q0(e30, t10, r10) {
  function n10(e31, n11, i10, a10) {
    var s10;
    if ("string" == typeof e31 && (e31 = qJ(e31)), "string" == typeof n11 && (n11 = qQ(n11)), (null === (s10 = n11) || void 0 === s10 ? void 0 : s10.length) !== 16) throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
    let o10 = new Uint8Array(16 + e31.length);
    if (o10.set(n11), o10.set(e31, n11.length), (o10 = r10(o10))[6] = 15 & o10[6] | t10, o10[8] = 63 & o10[8] | 128, i10) {
      a10 = a10 || 0;
      for (let e32 = 0; e32 < 16; ++e32) i10[a10 + e32] = o10[e32];
      return i10;
    }
    return qZ(o10);
  }
  iM(n10, "generateUUID");
  try {
    n10.name = e30;
  } catch (e31) {
  }
  return n10.DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8", n10.URL = "6ba7b811-9dad-11d1-80b4-00c04fd430c8", n10;
}
function q1(e30, t10, r10, n10) {
  switch (e30) {
    case 0:
      return t10 & r10 ^ ~t10 & n10;
    case 1:
    case 3:
      return t10 ^ r10 ^ n10;
    case 2:
      return t10 & r10 ^ t10 & n10 ^ r10 & n10;
  }
}
function q2(e30, t10) {
  return e30 << t10 | e30 >>> 32 - t10;
}
function q4(e30) {
  let t10 = [1518500249, 1859775393, 2400959708, 3395469782], r10 = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
  if ("string" == typeof e30) {
    let t11 = unescape(encodeURIComponent(e30));
    e30 = [];
    for (let r11 = 0; r11 < t11.length; ++r11) e30.push(t11.charCodeAt(r11));
  } else Array.isArray(e30) || (e30 = Array.prototype.slice.call(e30));
  e30.push(128);
  let n10 = Math.ceil((e30.length / 4 + 2) / 16), i10 = Array(n10);
  for (let t11 = 0; t11 < n10; ++t11) {
    let r11 = new Uint32Array(16);
    for (let n11 = 0; n11 < 16; ++n11) r11[n11] = e30[64 * t11 + 4 * n11] << 24 | e30[64 * t11 + 4 * n11 + 1] << 16 | e30[64 * t11 + 4 * n11 + 2] << 8 | e30[64 * t11 + 4 * n11 + 3];
    i10[t11] = r11;
  }
  i10[n10 - 1][14] = (e30.length - 1) * 8 / 4294967296, i10[n10 - 1][14] = Math.floor(i10[n10 - 1][14]), i10[n10 - 1][15] = (e30.length - 1) * 8 & 4294967295;
  for (let e31 = 0; e31 < n10; ++e31) {
    let n11 = new Uint32Array(80);
    for (let t11 = 0; t11 < 16; ++t11) n11[t11] = i10[e31][t11];
    for (let e32 = 16; e32 < 80; ++e32) n11[e32] = q2(n11[e32 - 3] ^ n11[e32 - 8] ^ n11[e32 - 14] ^ n11[e32 - 16], 1);
    let a10 = r10[0], s10 = r10[1], o10 = r10[2], l10 = r10[3], h10 = r10[4];
    for (let e32 = 0; e32 < 80; ++e32) {
      let r11 = Math.floor(e32 / 20), i11 = q2(a10, 5) + q1(r11, s10, o10, l10) + h10 + t10[r11] + n11[e32] >>> 0;
      h10 = l10, l10 = o10, o10 = q2(s10, 30) >>> 0, s10 = a10, a10 = i11;
    }
    r10[0] = r10[0] + a10 >>> 0, r10[1] = r10[1] + s10 >>> 0, r10[2] = r10[2] + o10 >>> 0, r10[3] = r10[3] + l10 >>> 0, r10[4] = r10[4] + h10 >>> 0;
  }
  return [r10[0] >> 24 & 255, r10[0] >> 16 & 255, r10[0] >> 8 & 255, 255 & r10[0], r10[1] >> 24 & 255, r10[1] >> 16 & 255, r10[1] >> 8 & 255, 255 & r10[1], r10[2] >> 24 & 255, r10[2] >> 16 & 255, r10[2] >> 8 & 255, 255 & r10[2], r10[3] >> 24 & 255, r10[3] >> 16 & 255, r10[3] >> 8 & 255, 255 & r10[3], r10[4] >> 24 & 255, r10[4] >> 16 & 255, r10[4] >> 8 & 255, 255 & r10[4]];
}
iM(qZ, "unsafeStringify"), iM(qQ, "parse"), iM(qJ, "stringToBytes"), iM(q0, "v35"), iM(q1, "f"), iM(q2, "ROTL"), iM(q4, "sha1");
var q3 = q0("v5", 80, q4), q5 = /[^\dA-Za-z](\W)*/g, q6 = {}, q7 = /* @__PURE__ */ new Map(), q8 = iM(function(e30) {
  for (let t10 of Object.keys(e30)) q6[t10] = e30[t10];
}, "setConf"), q9 = iM((e30, t10, r10) => {
  let n10 = q6.entityPadding / 3, i10 = q6.entityPadding / 3, a10 = 0.85 * q6.fontSize, s10 = t10.node().getBBox(), o10 = [], l10 = false, h10 = false, u10 = 0, d10 = 0, p10 = 0, f10 = 0, g10 = s10.height + 2 * n10, y10 = 1;
  r10.forEach((e31) => {
    void 0 !== e31.attributeKeyTypeList && e31.attributeKeyTypeList.length > 0 && (l10 = true), void 0 !== e31.attributeComment && (h10 = true);
  }), r10.forEach((r11) => {
    let i11 = `${t10.node().id}-attr-${y10}`, s11 = 0, v11 = s1(r11.attributeType), x11 = e30.append("text").classed("er entityLabel", true).attr("id", `${i11}-type`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", aj().fontFamily).style("font-size", a10 + "px").text(v11), b11 = e30.append("text").classed("er entityLabel", true).attr("id", `${i11}-name`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", aj().fontFamily).style("font-size", a10 + "px").text(r11.attributeName), k10 = {};
    k10.tn = x11, k10.nn = b11;
    let w10 = x11.node().getBBox(), _10 = b11.node().getBBox();
    if (u10 = Math.max(u10, w10.width), d10 = Math.max(d10, _10.width), s11 = Math.max(w10.height, _10.height), l10) {
      let t11 = void 0 !== r11.attributeKeyTypeList ? r11.attributeKeyTypeList.join(",") : "", n11 = e30.append("text").classed("er entityLabel", true).attr("id", `${i11}-key`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", aj().fontFamily).style("font-size", a10 + "px").text(t11);
      k10.kn = n11;
      let o11 = n11.node().getBBox();
      p10 = Math.max(p10, o11.width), s11 = Math.max(s11, o11.height);
    }
    if (h10) {
      let t11 = e30.append("text").classed("er entityLabel", true).attr("id", `${i11}-comment`).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "left").style("font-family", aj().fontFamily).style("font-size", a10 + "px").text(r11.attributeComment || "");
      k10.cn = t11;
      let n11 = t11.node().getBBox();
      f10 = Math.max(f10, n11.width), s11 = Math.max(s11, n11.height);
    }
    k10.height = s11, o10.push(k10), g10 += s11 + 2 * n10, y10 += 1;
  });
  let v10 = 4;
  l10 && (v10 += 2), h10 && (v10 += 2);
  let x10 = u10 + d10 + p10 + f10, b10 = { width: Math.max(q6.minEntityWidth, Math.max(s10.width + 2 * q6.entityPadding, x10 + i10 * v10)), height: r10.length > 0 ? g10 : Math.max(q6.minEntityHeight, s10.height + 2 * q6.entityPadding) };
  if (r10.length > 0) {
    let r11 = Math.max(0, (b10.width - x10 - i10 * v10) / (v10 / 2));
    t10.attr("transform", "translate(" + b10.width / 2 + "," + (n10 + s10.height / 2) + ")");
    let a11 = s10.height + 2 * n10, g11 = "attributeBoxOdd";
    o10.forEach((t11) => {
      let s11 = a11 + n10 + t11.height / 2;
      t11.tn.attr("transform", "translate(" + i10 + "," + s11 + ")");
      let o11 = e30.insert("rect", "#" + t11.tn.node().id).classed(`er ${g11}`, true).attr("x", 0).attr("y", a11).attr("width", u10 + 2 * i10 + r11).attr("height", t11.height + 2 * n10), y11 = parseFloat(o11.attr("x")) + parseFloat(o11.attr("width"));
      t11.nn.attr("transform", "translate(" + (y11 + i10) + "," + s11 + ")");
      let v11 = e30.insert("rect", "#" + t11.nn.node().id).classed(`er ${g11}`, true).attr("x", y11).attr("y", a11).attr("width", d10 + 2 * i10 + r11).attr("height", t11.height + 2 * n10), x11 = parseFloat(v11.attr("x")) + parseFloat(v11.attr("width"));
      if (l10) {
        t11.kn.attr("transform", "translate(" + (x11 + i10) + "," + s11 + ")");
        let o12 = e30.insert("rect", "#" + t11.kn.node().id).classed(`er ${g11}`, true).attr("x", x11).attr("y", a11).attr("width", p10 + 2 * i10 + r11).attr("height", t11.height + 2 * n10);
        x11 = parseFloat(o12.attr("x")) + parseFloat(o12.attr("width"));
      }
      h10 && (t11.cn.attr("transform", "translate(" + (x11 + i10) + "," + s11 + ")"), e30.insert("rect", "#" + t11.cn.node().id).classed(`er ${g11}`, "true").attr("x", x11).attr("y", a11).attr("width", f10 + 2 * i10 + r11).attr("height", t11.height + 2 * n10)), a11 += t11.height + 2 * n10, g11 = "attributeBoxOdd" === g11 ? "attributeBoxEven" : "attributeBoxOdd";
    });
  } else b10.height = Math.max(q6.minEntityHeight, g10), t10.attr("transform", "translate(" + b10.width / 2 + "," + b10.height / 2 + ")");
  return b10;
}, "drawAttributes"), Ue = iM(function(e30, t10, r10) {
  let n10;
  return [...t10.keys()].forEach(function(i10) {
    var a10;
    let s10 = Uo(i10, "entity");
    q7.set(i10, s10);
    let o10 = e30.append("g").attr("id", s10);
    n10 = void 0 === n10 ? s10 : n10;
    let l10 = "text-" + s10, h10 = o10.append("text").classed("er entityLabel", true).attr("id", l10).attr("x", 0).attr("y", 0).style("dominant-baseline", "middle").style("text-anchor", "middle").style("font-family", aj().fontFamily).style("font-size", q6.fontSize + "px").text(null !== (a10 = t10.get(i10).alias) && void 0 !== a10 ? a10 : i10), { width: u10, height: d10 } = q9(o10, h10, t10.get(i10).attributes), p10 = o10.insert("rect", "#" + l10).classed("er entityBox", true).attr("x", 0).attr("y", 0).attr("width", u10).attr("height", d10).node().getBBox();
    r10.setNode(s10, { width: p10.width, height: p10.height, shape: "rect", id: s10 });
  }), n10;
}, "drawEntities"), Ut = iM(function(e30, t10) {
  t10.nodes().forEach(function(r10) {
    void 0 !== r10 && void 0 !== t10.node(r10) && e30.select("#" + r10).attr("transform", "translate(" + (t10.node(r10).x - t10.node(r10).width / 2) + "," + (t10.node(r10).y - t10.node(r10).height / 2) + " )");
  });
}, "adjustEntities"), Ur = iM(function(e30) {
  return (e30.entityA + e30.roleA + e30.entityB).replace(/\s/g, "");
}, "getEdgeName"), Un = iM(function(e30, t10) {
  return e30.forEach(function(e31) {
    t10.setEdge(q7.get(e31.entityA), q7.get(e31.entityB), { relationship: e31 }, Ur(e31));
  }), e30;
}, "addRelationships"), Ui = 0, Ua = iM(function(e30, t10, r10, n10, i10) {
  Ui++;
  let a10 = r10.edge(q7.get(t10.entityA), q7.get(t10.entityB), Ur(t10)), s10 = p4().x(function(e31) {
    return e31.x;
  }).y(function(e31) {
    return e31.y;
  }).curve(fr), o10 = e30.insert("path", "#" + n10).classed("er relationshipLine", true).attr("d", s10(a10.points)).style("stroke", q6.stroke).style("fill", "none");
  t10.relSpec.relType === i10.db.Identification.NON_IDENTIFYING && o10.attr("stroke-dasharray", "8,8");
  let l10 = "";
  switch (q6.arrowMarkerAbsolute && (l10 = (l10 = (l10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), t10.relSpec.cardA) {
    case i10.db.Cardinality.ZERO_OR_ONE:
      o10.attr("marker-end", "url(" + l10 + "#" + qY.ERMarkers.ZERO_OR_ONE_END + ")");
      break;
    case i10.db.Cardinality.ZERO_OR_MORE:
      o10.attr("marker-end", "url(" + l10 + "#" + qY.ERMarkers.ZERO_OR_MORE_END + ")");
      break;
    case i10.db.Cardinality.ONE_OR_MORE:
      o10.attr("marker-end", "url(" + l10 + "#" + qY.ERMarkers.ONE_OR_MORE_END + ")");
      break;
    case i10.db.Cardinality.ONLY_ONE:
      o10.attr("marker-end", "url(" + l10 + "#" + qY.ERMarkers.ONLY_ONE_END + ")");
      break;
    case i10.db.Cardinality.MD_PARENT:
      o10.attr("marker-end", "url(" + l10 + "#" + qY.ERMarkers.MD_PARENT_END + ")");
  }
  switch (t10.relSpec.cardB) {
    case i10.db.Cardinality.ZERO_OR_ONE:
      o10.attr("marker-start", "url(" + l10 + "#" + qY.ERMarkers.ZERO_OR_ONE_START + ")");
      break;
    case i10.db.Cardinality.ZERO_OR_MORE:
      o10.attr("marker-start", "url(" + l10 + "#" + qY.ERMarkers.ZERO_OR_MORE_START + ")");
      break;
    case i10.db.Cardinality.ONE_OR_MORE:
      o10.attr("marker-start", "url(" + l10 + "#" + qY.ERMarkers.ONE_OR_MORE_START + ")");
      break;
    case i10.db.Cardinality.ONLY_ONE:
      o10.attr("marker-start", "url(" + l10 + "#" + qY.ERMarkers.ONLY_ONE_START + ")");
      break;
    case i10.db.Cardinality.MD_PARENT:
      o10.attr("marker-start", "url(" + l10 + "#" + qY.ERMarkers.MD_PARENT_START + ")");
  }
  let h10 = o10.node().getTotalLength(), u10 = o10.node().getPointAtLength(0.5 * h10), d10 = "rel" + Ui, p10 = t10.roleA.split(/<br ?\/>/g), f10 = e30.append("text").classed("er relationshipLabel", true).attr("id", d10).attr("x", u10.x).attr("y", u10.y).style("text-anchor", "middle").style("dominant-baseline", "middle").style("font-family", aj().fontFamily).style("font-size", q6.fontSize + "px");
  if (1 == p10.length) f10.text(t10.roleA);
  else {
    let e31 = -(0.5 * (p10.length - 1));
    p10.forEach((t11, r11) => {
      f10.append("tspan").attr("x", u10.x).attr("dy", `${0 === r11 ? e31 : 1}em`).text(t11);
    });
  }
  let g10 = f10.node().getBBox();
  e30.insert("rect", "#" + d10).classed("er relationshipLabelBox", true).attr("x", u10.x - g10.width / 2).attr("y", u10.y - g10.height / 2).attr("width", g10.width).attr("height", g10.height);
}, "drawRelationshipFromLayout"), Us = iM(function(e30, t10, r10, n10) {
  let i10, a10;
  q6 = aj().er, iz.info("Drawing ER diagram");
  let s10 = aj().securityLevel;
  "sandbox" === s10 && (i10 = c$("#i" + t10));
  let o10 = ("sandbox" === s10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body")).select(`[id='${t10}']`);
  qY.insertMarkers(o10, q6), a10 = new PV({ multigraph: true, directed: true, compound: false }).setGraph({ rankdir: q6.layoutDirection, marginx: 20, marginy: 20, nodesep: 100, edgesep: 100, ranksep: 100 }).setDefaultEdgeLabel(function() {
    return {};
  });
  let l10 = Ue(o10, n10.db.getEntities(), a10), h10 = Un(n10.db.getRelationships(), a10);
  FN(a10), Ut(o10, a10), h10.forEach(function(e31) {
    Ua(o10, e31, a10, l10, n10);
  });
  let u10 = q6.diagramPadding;
  k2.insertTitle(o10, "entityTitleText", q6.titleTopMargin, n10.db.getDiagramTitle());
  let d10 = o10.node().getBBox(), p10 = d10.width + 2 * u10, f10 = d10.height + 2 * u10;
  on(o10, f10, p10, q6.useMaxWidth), o10.attr("viewBox", `${d10.x - u10} ${d10.y - u10} ${p10} ${f10}`);
}, "draw");
function Uo() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r10 = e30.replace(q5, "");
  return `${Ul(t10)}${Ul(r10)}${q3(e30, "28e9f9db-3c8d-5aa5-9faf-44286ae5937c")}`;
}
function Ul() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
  return e30.length > 0 ? `${e30}-` : "";
}
iM(Uo, "generateId"), iM(Ul, "strWithHyphen");
let Uc = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: qO, db: qW, renderer: { setConf: q8, draw: Us }, styles: iM((e30) => `
  .entityBox {
    fill: ${e30.mainBkg};
    stroke: ${e30.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e30.attributeBackgroundColorOdd};
    stroke: ${e30.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e30.attributeBackgroundColorEven};
    stroke: ${e30.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e30.tertiaryColor};
    opacity: 0.7;
    background-color: ${e30.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e30.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e30.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e30.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e30.lineColor} !important;
    stroke-width: 1;
  }
  
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
var Uh = (_ca = class {
  constructor(e30) {
    this.init = e30, this.records = this.init();
  }
  reset() {
    this.records = this.init();
  }
}, _i59 = new WeakMap(), __privateAdd(_ca, _i59, iM(_ca, "ImperativeState")), _ca);
function Uu(e30, t10) {
  var r10, n10, i10;
  e30.accDescr && (null === (r10 = t10.setAccDescription) || void 0 === r10 || r10.call(t10, e30.accDescr)), e30.accTitle && (null === (n10 = t10.setAccTitle) || void 0 === n10 || n10.call(t10, e30.accTitle)), e30.title && (null === (i10 = t10.setDiagramTitle) || void 0 === i10 || i10.call(t10, e30.title));
}
iM(Uu, "populateCommonDb");
var Ud = iN({ "../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/ral.js"(e30) {
  var t10;
  function r10() {
    if (void 0 === t10) throw Error("No runtime abstraction layer installed");
    return t10;
  }
  Object.defineProperty(e30, "__esModule", { value: true }), iM(r10, "RAL"), function(e31) {
    function r11(e32) {
      if (void 0 === e32) throw Error("No runtime abstraction layer provided");
      t10 = e32;
    }
    iM(r11, "install"), e31.install = r11;
  }(r10), e30.default = r10;
} }), Up = iN({ "../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/is.js"(e30) {
  function t10(e31) {
    return true === e31 || false === e31;
  }
  function r10(e31) {
    return "string" == typeof e31 || e31 instanceof String;
  }
  function n10(e31) {
    return "number" == typeof e31 || e31 instanceof Number;
  }
  function i10(e31) {
    return e31 instanceof Error;
  }
  function a10(e31) {
    return "function" == typeof e31;
  }
  function s10(e31) {
    return Array.isArray(e31);
  }
  function o10(e31) {
    return s10(e31) && e31.every((e32) => r10(e32));
  }
  Object.defineProperty(e30, "__esModule", { value: true }), e30.stringArray = e30.array = e30.func = e30.error = e30.number = e30.string = e30.boolean = void 0, iM(t10, "boolean"), e30.boolean = t10, iM(r10, "string"), e30.string = r10, iM(n10, "number"), e30.number = n10, iM(i10, "error"), e30.error = i10, iM(a10, "func"), e30.func = a10, iM(s10, "array"), e30.array = s10, iM(o10, "stringArray"), e30.stringArray = o10;
} }), Uf = iN({ "../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/events.js"(e30) {
  var _a3, _i209, _b3, _i210;
  Object.defineProperty(e30, "__esModule", { value: true }), e30.Emitter = e30.Event = void 0;
  var t10, r10 = Ud();
  !function(e31) {
    let t11 = { dispose() {
    } };
    e31.None = function() {
      return t11;
    };
  }(t10 || (e30.Event = t10 = {}));
  var n10 = (_a3 = class {
    add(e31) {
      let t11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r11 = arguments.length > 2 ? arguments[2] : void 0;
      this._callbacks || (this._callbacks = [], this._contexts = []), this._callbacks.push(e31), this._contexts.push(t11), Array.isArray(r11) && r11.push({ dispose: iM(() => this.remove(e31, t11), "dispose") });
    }
    remove(e31) {
      let t11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
      if (!this._callbacks) return;
      let r11 = false;
      for (let n11 = 0, i11 = this._callbacks.length; n11 < i11; n11++) if (this._callbacks[n11] === e31) {
        if (this._contexts[n11] === t11) {
          this._callbacks.splice(n11, 1), this._contexts.splice(n11, 1);
          return;
        }
        r11 = true;
      }
      if (r11) throw Error("When adding a listener with a context, you should remove it with the same context");
    }
    invoke() {
      for (var e31 = arguments.length, t11 = Array(e31), n11 = 0; n11 < e31; n11++) t11[n11] = arguments[n11];
      if (!this._callbacks) return [];
      let i11 = [], a10 = this._callbacks.slice(0), s10 = this._contexts.slice(0);
      for (let e32 = 0, n12 = a10.length; e32 < n12; e32++) try {
        i11.push(a10[e32].apply(s10[e32], t11));
      } catch (e33) {
        (0, r10.default)().console.error(e33);
      }
      return i11;
    }
    isEmpty() {
      return !this._callbacks || 0 === this._callbacks.length;
    }
    dispose() {
      this._callbacks = void 0, this._contexts = void 0;
    }
  }, _i209 = new WeakMap(), __privateAdd(_a3, _i209, iM(_a3, "CallbackList")), _a3), i10 = (_b3 = class {
    constructor(e31) {
      this._options = e31;
    }
    get event() {
      return this._event || (this._event = (t11, r11, i11) => {
        this._callbacks || (this._callbacks = new n10()), this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty() && this._options.onFirstListenerAdd(this), this._callbacks.add(t11, r11);
        let a10 = { dispose: iM(() => {
          this._callbacks && (this._callbacks.remove(t11, r11), a10.dispose = _b3._noop, this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty() && this._options.onLastListenerRemove(this));
        }, "dispose") };
        return Array.isArray(i11) && i11.push(a10), a10;
      }), this._event;
    }
    fire(e31) {
      this._callbacks && this._callbacks.invoke.call(this._callbacks, e31);
    }
    dispose() {
      this._callbacks && (this._callbacks.dispose(), this._callbacks = void 0);
    }
  }, _i210 = new WeakMap(), __privateAdd(_b3, _i210, iM(_b3, "Emitter")), _b3);
  e30.Emitter = i10, i10._noop = function() {
  };
} }), Ug = iN({ "../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/cancellation.js"(e30) {
  var _a3, _i209, _b3, _i210;
  Object.defineProperty(e30, "__esModule", { value: true }), e30.CancellationTokenSource = e30.CancellationToken = void 0;
  var t10, r10 = Ud(), n10 = Up(), i10 = Uf();
  !function(e31) {
    function t11(t12) {
      return t12 && (t12 === e31.None || t12 === e31.Cancelled || n10.boolean(t12.isCancellationRequested) && !!t12.onCancellationRequested);
    }
    e31.None = Object.freeze({ isCancellationRequested: false, onCancellationRequested: i10.Event.None }), e31.Cancelled = Object.freeze({ isCancellationRequested: true, onCancellationRequested: i10.Event.None }), iM(t11, "is"), e31.is = t11;
  }(t10 || (e30.CancellationToken = t10 = {}));
  var a10 = Object.freeze(function(e31, t11) {
    let n11 = (0, r10.default)().timer.setTimeout(e31.bind(t11), 0);
    return { dispose() {
      n11.dispose();
    } };
  }), s10 = (_a3 = class {
    constructor() {
      this._isCancelled = false;
    }
    cancel() {
      !this._isCancelled && (this._isCancelled = true, this._emitter && (this._emitter.fire(void 0), this.dispose()));
    }
    get isCancellationRequested() {
      return this._isCancelled;
    }
    get onCancellationRequested() {
      return this._isCancelled ? a10 : (this._emitter || (this._emitter = new i10.Emitter()), this._emitter.event);
    }
    dispose() {
      this._emitter && (this._emitter.dispose(), this._emitter = void 0);
    }
  }, _i209 = new WeakMap(), __privateAdd(_a3, _i209, iM(_a3, "MutableToken")), _a3), o10 = (_b3 = class {
    get token() {
      return this._token || (this._token = new s10()), this._token;
    }
    cancel() {
      this._token ? this._token.cancel() : this._token = t10.Cancelled;
    }
    dispose() {
      this._token ? this._token instanceof s10 && this._token.dispose() : this._token = t10.None;
    }
  }, _i210 = new WeakMap(), __privateAdd(_b3, _i210, iM(_b3, "CancellationTokenSource")), _b3);
  e30.CancellationTokenSource = o10;
} }), Um = {};
iR(Um, { AbstractAstReflection: () => Uw, AbstractCstNode: () => Zo, AbstractLangiumParser: () => Zg, AbstractParserErrorMessageProvider: () => Zy, AbstractThreadedAsyncParser: () => Jn, AstUtils: () => VC, BiMap: () => Qa, Cancellation: () => ZW, CompositeCstNodeImpl: () => Zc, ContextCache: () => Qd, CstNodeBuilder: () => Zs, CstUtils: () => Uy, DONE_RESULT: () => UI, DatatypeSymbol: () => Zd, DefaultAstNodeDescriptionProvider: () => QS, DefaultAstNodeLocator: () => QE, DefaultAsyncParser: () => Jr, DefaultCommentProvider: () => Je, DefaultConfigurationProvider: () => QA, DefaultDocumentBuilder: () => QL, DefaultDocumentValidator: () => Qw, DefaultHydrator: () => Js, DefaultIndexManager: () => QI, DefaultJsonSerializer: () => Qv, DefaultLangiumDocumentFactory: () => Z8, DefaultLangiumDocuments: () => Z9, DefaultLexer: () => QN, DefaultLinker: () => Qe, DefaultNameProvider: () => Qr, DefaultReferenceDescriptionProvider: () => QC, DefaultReferences: () => Qn, DefaultScopeComputation: () => Qs, DefaultScopeProvider: () => Qg, DefaultServiceRegistry: () => Qx, DefaultTokenBuilder: () => Zq, DefaultValueConverter: () => ZU, DefaultWorkspaceLock: () => Ja, DefaultWorkspaceManager: () => QM, Deferred: () => ZJ, Disposable: () => nq, DisposableCache: () => Qh, DocumentCache: () => Qp, DocumentState: () => nF, DocumentValidator: () => nj, EMPTY_SCOPE: () => Qc, EMPTY_STREAM: () => UL, EmptyFileSystem: () => Jv, EmptyFileSystemProvider: () => Jy, ErrorWithLocation: () => U0, GrammarAST: () => U2, GrammarUtils: () => UJ, JSDocDocumentationProvider: () => Q9, LangiumCompletionParser: () => Zx, LangiumParser: () => Zm, LangiumParserErrorMessageProvider: () => Zv, LeafCstNodeImpl: () => Zl, MapScope: () => Ql, Module: () => nU, MultiMap: () => Qi, OperationCancelled: () => ZK, ParserWorker: () => Ji, Reduction: () => rp, RegExpUtils: () => Vj, RootCstNodeImpl: () => Zu, SimpleCache: () => Qu, StreamImpl: () => UC, StreamScope: () => Qo, TextDocument: () => n$, TreeStreamImpl: () => UN, URI: () => Z6, UriUtils: () => nB, ValidationCategory: () => nz, ValidationRegistry: () => Qk, ValueConverter: () => nO, WorkspaceCache: () => Qf, assertUnreachable: () => U1, createCompletionParser: () => ZF, createDefaultCoreModule: () => Jo, createDefaultSharedCoreModule: () => Jl, createGrammarConfig: () => HF, createLangiumParser: () => Zz, delayNextTick: () => ZV, diagnosticData: () => Qb, eagerLoad: () => Ju, getDiagnosticRange: () => Q_, inject: () => Jc, interruptAndCheck: () => ZQ, isAstNode: () => Uv, isAstNodeDescription: () => Ub, isAstNodeWithComment: () => Qm, isCompositeCstNode: () => U_, isIMultiModeLexerDefinition: () => QD, isJSDoc: () => QP, isLeafCstNode: () => UT, isLinkingError: () => Uk, isNamed: () => Qt, isOperationCancelled: () => ZZ, isReference: () => Ux, isRootCstNode: () => US, isTokenTypeArray: () => QR, isTokenTypeDictionary: () => QO, loadGrammarFromJson: () => Jw, parseJSDoc: () => Q$, prepareLangiumParser: () => Zj, setInterruptionPeriod: () => ZX, startCancelableOperation: () => ZG, stream: () => UM, toDiagnosticSeverity: () => QT });
var Uy = {};
function Uv(e30) {
  return "object" == typeof e30 && null !== e30 && "string" == typeof e30.$type;
}
function Ux(e30) {
  return "object" == typeof e30 && null !== e30 && "string" == typeof e30.$refText;
}
function Ub(e30) {
  return "object" == typeof e30 && null !== e30 && "string" == typeof e30.name && "string" == typeof e30.type && "string" == typeof e30.path;
}
function Uk(e30) {
  return "object" == typeof e30 && null !== e30 && Uv(e30.container) && Ux(e30.reference) && "string" == typeof e30.message;
}
iR(Uy, { DefaultNameRegexp: () => Uz, RangeComparison: () => rf, compareRange: () => UB, findCommentNode: () => Uq, findDeclarationNodeAtOffset: () => Uj, findLeafNodeAtOffset: () => UW, findLeafNodeBeforeOffset: () => UV, flattenCst: () => UD, getInteriorNodes: () => UK, getNextNode: () => UG, getPreviousNode: () => UY, getStartlineNode: () => UX, inRange: () => UF, isChildNode: () => UO, isCommentNode: () => UU, streamCst: () => UR, toDocumentSegment: () => UP, tokenToRange: () => U$ }), iM(Uv, "isAstNode"), iM(Ux, "isReference"), iM(Ub, "isAstNodeDescription"), iM(Uk, "isLinkingError");
var Uw = (_da = class {
  constructor() {
    this.subtypes = {}, this.allSubtypes = {};
  }
  isInstance(e30, t10) {
    return Uv(e30) && this.isSubtype(e30.$type, t10);
  }
  isSubtype(e30, t10) {
    if (e30 === t10) return true;
    let r10 = this.subtypes[e30];
    r10 || (r10 = this.subtypes[e30] = {});
    let n10 = r10[t10];
    if (void 0 !== n10) return n10;
    {
      let n11 = this.computeIsSubtype(e30, t10);
      return r10[t10] = n11, n11;
    }
  }
  getAllSubTypes(e30) {
    let t10 = this.allSubtypes[e30];
    if (t10) return t10;
    {
      let t11 = this.getAllTypes(), r10 = [];
      for (let n10 of t11) this.isSubtype(n10, e30) && r10.push(n10);
      return this.allSubtypes[e30] = r10, r10;
    }
  }
}, _i60 = new WeakMap(), __privateAdd(_da, _i60, iM(_da, "AbstractAstReflection")), _da);
function U_(e30) {
  return "object" == typeof e30 && null !== e30 && Array.isArray(e30.content);
}
function UT(e30) {
  return "object" == typeof e30 && null !== e30 && "object" == typeof e30.tokenType;
}
function US(e30) {
  return U_(e30) && "string" == typeof e30.fullText;
}
iM(U_, "isCompositeCstNode"), iM(UT, "isLeafCstNode"), iM(US, "isRootCstNode");
var UC = (_ea = class {
  constructor(e30, t10) {
    this.startFn = e30, this.nextFn = t10;
  }
  iterator() {
    let e30 = { state: this.startFn(), next: iM(() => this.nextFn(e30.state), "next"), [Symbol.iterator]: () => e30 };
    return e30;
  }
  [Symbol.iterator]() {
    return this.iterator();
  }
  isEmpty() {
    return !!this.iterator().next().done;
  }
  count() {
    let e30 = this.iterator(), t10 = 0, r10 = e30.next();
    for (; !r10.done; ) t10++, r10 = e30.next();
    return t10;
  }
  toArray() {
    let e30;
    let t10 = [], r10 = this.iterator();
    do
      void 0 !== (e30 = r10.next()).value && t10.push(e30.value);
    while (!e30.done);
    return t10;
  }
  toSet() {
    return new Set(this);
  }
  toMap(e30, t10) {
    return new Map(this.map((r10) => [e30 ? e30(r10) : r10, t10 ? t10(r10) : r10]));
  }
  toString() {
    return this.join();
  }
  concat(t10) {
    let r10 = t10[Symbol.iterator]();
    return new _ea(() => ({ first: this.startFn(), firstDone: false }), (e30) => {
      let t11;
      if (!e30.firstDone) {
        do
          if (!(t11 = this.nextFn(e30.first)).done) return t11;
        while (!t11.done);
        e30.firstDone = true;
      }
      do
        if (!(t11 = r10.next()).done) return t11;
      while (!t11.done);
      return UI;
    });
  }
  join() {
    let e30, t10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ",", r10 = this.iterator(), n10 = "", i10 = false;
    do
      (e30 = r10.next()).done || (i10 && (n10 += t10), n10 += UE(e30.value)), i10 = true;
    while (!e30.done);
    return n10;
  }
  indexOf(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = this.iterator(), n10 = 0, i10 = r10.next();
    for (; !i10.done; ) {
      if (n10 >= t10 && i10.value === e30) return n10;
      i10 = r10.next(), n10++;
    }
    return -1;
  }
  every(e30) {
    let t10 = this.iterator(), r10 = t10.next();
    for (; !r10.done; ) {
      if (!e30(r10.value)) return false;
      r10 = t10.next();
    }
    return true;
  }
  some(e30) {
    let t10 = this.iterator(), r10 = t10.next();
    for (; !r10.done; ) {
      if (e30(r10.value)) return true;
      r10 = t10.next();
    }
    return false;
  }
  forEach(e30) {
    let t10 = this.iterator(), r10 = 0, n10 = t10.next();
    for (; !n10.done; ) e30(n10.value, r10), n10 = t10.next(), r10++;
  }
  map(t10) {
    return new _ea(this.startFn, (e30) => {
      let { done: r10, value: n10 } = this.nextFn(e30);
      return r10 ? UI : { done: false, value: t10(n10) };
    });
  }
  filter(t10) {
    return new _ea(this.startFn, (e30) => {
      let r10;
      do
        if (!(r10 = this.nextFn(e30)).done && t10(r10.value)) return r10;
      while (!r10.done);
      return UI;
    });
  }
  nonNullable() {
    return this.filter((e30) => null != e30);
  }
  reduce(e30, t10) {
    let r10 = this.iterator(), n10 = t10, i10 = r10.next();
    for (; !i10.done; ) n10 = void 0 === n10 ? i10.value : e30(n10, i10.value), i10 = r10.next();
    return n10;
  }
  reduceRight(e30, t10) {
    return this.recursiveReduce(this.iterator(), e30, t10);
  }
  recursiveReduce(e30, t10, r10) {
    let n10 = e30.next();
    if (n10.done) return r10;
    let i10 = this.recursiveReduce(e30, t10, r10);
    return void 0 === i10 ? n10.value : t10(i10, n10.value);
  }
  find(e30) {
    let t10 = this.iterator(), r10 = t10.next();
    for (; !r10.done; ) {
      if (e30(r10.value)) return r10.value;
      r10 = t10.next();
    }
  }
  findIndex(e30) {
    let t10 = this.iterator(), r10 = 0, n10 = t10.next();
    for (; !n10.done; ) {
      if (e30(n10.value)) return r10;
      n10 = t10.next(), r10++;
    }
    return -1;
  }
  includes(e30) {
    let t10 = this.iterator(), r10 = t10.next();
    for (; !r10.done; ) {
      if (r10.value === e30) return true;
      r10 = t10.next();
    }
    return false;
  }
  flatMap(t10) {
    return new _ea(() => ({ this: this.startFn() }), (e30) => {
      do {
        if (e30.iterator) {
          let t11 = e30.iterator.next();
          if (!t11.done) return t11;
          e30.iterator = void 0;
        }
        let { done: r10, value: n10 } = this.nextFn(e30.this);
        if (!r10) {
          let r11 = t10(n10);
          if (!UA(r11)) return { done: false, value: r11 };
          e30.iterator = r11[Symbol.iterator]();
        }
      } while (e30.iterator);
      return UI;
    });
  }
  flat(t10) {
    if (void 0 === t10 && (t10 = 1), t10 <= 0) return this;
    let r10 = t10 > 1 ? this.flat(t10 - 1) : this;
    return new _ea(() => ({ this: r10.startFn() }), (e30) => {
      do {
        if (e30.iterator) {
          let t12 = e30.iterator.next();
          if (!t12.done) return t12;
          e30.iterator = void 0;
        }
        let { done: t11, value: n10 } = r10.nextFn(e30.this);
        if (!t11) {
          if (!UA(n10)) return { done: false, value: n10 };
          e30.iterator = n10[Symbol.iterator]();
        }
      } while (e30.iterator);
      return UI;
    });
  }
  head() {
    let e30 = this.iterator().next();
    if (!e30.done) return e30.value;
  }
  tail() {
    let t10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
    return new _ea(() => {
      let e30 = this.startFn();
      for (let r10 = 0; r10 < t10 && !this.nextFn(e30).done; r10++) ;
      return e30;
    }, this.nextFn);
  }
  limit(t10) {
    return new _ea(() => ({ size: 0, state: this.startFn() }), (e30) => (e30.size++, e30.size > t10) ? UI : this.nextFn(e30.state));
  }
  distinct(e30) {
    let t10 = /* @__PURE__ */ new Set();
    return this.filter((r10) => {
      let n10 = e30 ? e30(r10) : r10;
      return !t10.has(n10) && (t10.add(n10), true);
    });
  }
  exclude(e30, t10) {
    let r10 = /* @__PURE__ */ new Set();
    for (let n10 of e30) {
      let e31 = t10 ? t10(n10) : n10;
      r10.add(e31);
    }
    return this.filter((e31) => {
      let n10 = t10 ? t10(e31) : e31;
      return !r10.has(n10);
    });
  }
}, _i61 = new WeakMap(), __privateAdd(_ea, _i61, iM(_ea, "StreamImpl")), _ea);
function UE(e30) {
  return "string" == typeof e30 ? e30 : void 0 === e30 ? "undefined" : "function" == typeof e30.toString ? e30.toString() : Object.prototype.toString.call(e30);
}
function UA(e30) {
  return !!e30 && "function" == typeof e30[Symbol.iterator];
}
iM(UE, "toString"), iM(UA, "isIterable");
var UL = new UC(() => void 0, () => UI), UI = Object.freeze({ done: true, value: void 0 });
function UM() {
  for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
  if (1 === t10.length) {
    let e31 = t10[0];
    if (e31 instanceof UC) return e31;
    if (UA(e31)) return new UC(() => e31[Symbol.iterator](), (e32) => e32.next());
    if ("number" == typeof e31.length) return new UC(() => ({ index: 0 }), (t11) => t11.index < e31.length ? { done: false, value: e31[t11.index++] } : UI);
  }
  return t10.length > 1 ? new UC(() => ({ collIndex: 0, arrIndex: 0 }), (e31) => {
    do {
      if (e31.iterator) {
        let t11 = e31.iterator.next();
        if (!t11.done) return t11;
        e31.iterator = void 0;
      }
      if (e31.array) {
        if (e31.arrIndex < e31.array.length) return { done: false, value: e31.array[e31.arrIndex++] };
        e31.array = void 0, e31.arrIndex = 0;
      }
      if (e31.collIndex < t10.length) {
        let r11 = t10[e31.collIndex++];
        UA(r11) ? e31.iterator = r11[Symbol.iterator]() : r11 && "number" == typeof r11.length && (e31.array = r11);
      }
    } while (e31.iterator || e31.array || e31.collIndex < t10.length);
    return UI;
  }) : UL;
}
iM(UM, "stream");
var UN = (_fa = class extends UC {
  constructor(e30, t10, r10) {
    super(() => ({ iterators: (null == r10 ? void 0 : r10.includeRoot) ? [[e30][Symbol.iterator]()] : [t10(e30)[Symbol.iterator]()], pruned: false }), (e31) => {
      for (e31.pruned && (e31.iterators.pop(), e31.pruned = false); e31.iterators.length > 0; ) {
        let r11 = e31.iterators[e31.iterators.length - 1].next();
        if (!r11.done) return e31.iterators.push(t10(r11.value)[Symbol.iterator]()), r11;
        e31.iterators.pop();
      }
      return UI;
    });
  }
  iterator() {
    let e30 = { state: this.startFn(), next: iM(() => this.nextFn(e30.state), "next"), prune: iM(() => {
      e30.state.pruned = true;
    }, "prune"), [Symbol.iterator]: () => e30 };
    return e30;
  }
}, _i62 = new WeakMap(), __privateAdd(_fa, _i62, iM(_fa, "TreeStreamImpl")), _fa);
function UR(e30) {
  return new UN(e30, (e31) => U_(e31) ? e31.content : [], { includeRoot: true });
}
function UD(e30) {
  return UR(e30).filter(UT);
}
function UO(e30, t10) {
  for (; e30.container; ) if ((e30 = e30.container) === t10) return true;
  return false;
}
function U$(e30) {
  return { start: { character: e30.startColumn - 1, line: e30.startLine - 1 }, end: { character: e30.endColumn, line: e30.endLine - 1 } };
}
function UP(e30) {
  if (!e30) return;
  let { offset: t10, end: r10, range: n10 } = e30;
  return { range: n10, offset: t10, end: r10, length: r10 - t10 };
}
function UB(e30, t10) {
  if (e30.end.line < t10.start.line || e30.end.line === t10.start.line && e30.end.character < e30.start.character) return rf.Before;
  if (e30.start.line > t10.end.line || e30.start.line === t10.end.line && e30.start.character > t10.end.character) return rf.After;
  let r10 = e30.start.line > t10.start.line || e30.start.line === t10.start.line && e30.start.character >= t10.start.character, n10 = e30.end.line < t10.end.line || e30.end.line === t10.end.line && e30.end.character <= t10.end.character;
  return r10 && n10 ? rf.Inside : r10 ? rf.OverlapBack : rf.OverlapFront;
}
function UF(e30, t10) {
  return UB(e30, t10) > rf.After;
}
!function(e30) {
  function t10(e31) {
    return e31.reduce((e32, t11) => e32 + t11, 0);
  }
  function r10(e31) {
    return e31.reduce((e32, t11) => e32 * t11, 0);
  }
  function n10(e31) {
    return e31.reduce((e32, t11) => Math.min(e32, t11));
  }
  function i10(e31) {
    return e31.reduce((e32, t11) => Math.max(e32, t11));
  }
  iM(t10, "sum"), e30.sum = t10, iM(r10, "product"), e30.product = r10, iM(n10, "min"), e30.min = n10, iM(i10, "max"), e30.max = i10;
}(rp || (rp = {})), iM(UR, "streamCst"), iM(UD, "flattenCst"), iM(UO, "isChildNode"), iM(U$, "tokenToRange"), iM(UP, "toDocumentSegment"), (tA = rf || (rf = {}))[tA.Before = 0] = "Before", tA[tA.After = 1] = "After", tA[tA.OverlapFront = 2] = "OverlapFront", tA[tA.OverlapBack = 3] = "OverlapBack", tA[tA.Inside = 4] = "Inside", iM(UB, "compareRange"), iM(UF, "inRange");
var Uz = /^[\w\p{L}]$/u;
function Uj(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Uz;
  if (e30) {
    if (t10 > 0) {
      let n10 = t10 - e30.offset, i10 = e30.text.charAt(n10);
      !r10.test(i10) && t10--;
    }
    return UW(e30, t10);
  }
}
function Uq(e30, t10) {
  if (e30) {
    let r10 = UY(e30, true);
    if (r10 && UU(r10, t10)) return r10;
    if (US(e30)) {
      let r11 = e30.content.findIndex((e31) => !e31.hidden);
      for (let n10 = r11 - 1; n10 >= 0; n10--) {
        let r12 = e30.content[n10];
        if (UU(r12, t10)) return r12;
      }
    }
  }
}
function UU(e30, t10) {
  return UT(e30) && t10.includes(e30.tokenType.name);
}
function UW(e30, t10) {
  if (UT(e30)) return e30;
  if (U_(e30)) {
    let r10 = UH(e30, t10, false);
    if (r10) return UW(r10, t10);
  }
}
function UV(e30, t10) {
  if (UT(e30)) return e30;
  if (U_(e30)) {
    let r10 = UH(e30, t10, true);
    if (r10) return UV(r10, t10);
  }
}
function UH(e30, t10, r10) {
  let n10, i10 = 0, a10 = e30.content.length - 1;
  for (; i10 <= a10; ) {
    let s10 = Math.floor((i10 + a10) / 2), o10 = e30.content[s10];
    if (o10.offset <= t10 && o10.end > t10) return o10;
    o10.end <= t10 ? (n10 = r10 ? o10 : void 0, i10 = s10 + 1) : a10 = s10 - 1;
  }
  return n10;
}
function UY(e30) {
  let t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  for (; e30.container; ) {
    let r10 = e30.container, n10 = r10.content.indexOf(e30);
    for (; n10 > 0; ) {
      n10--;
      let e31 = r10.content[n10];
      if (t10 || !e31.hidden) return e31;
    }
    e30 = r10;
  }
}
function UG(e30) {
  let t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  for (; e30.container; ) {
    let r10 = e30.container, n10 = r10.content.indexOf(e30), i10 = r10.content.length - 1;
    for (; n10 < i10; ) {
      n10++;
      let e31 = r10.content[n10];
      if (t10 || !e31.hidden) return e31;
    }
    e30 = r10;
  }
}
function UX(e30) {
  let t10;
  if (0 === e30.range.start.character) return e30;
  let r10 = e30.range.start.line, n10 = e30;
  for (; e30.container; ) {
    let i10 = e30.container, a10 = null != t10 ? t10 : i10.content.indexOf(e30);
    if (0 === a10 ? (e30 = i10, t10 = void 0) : (t10 = a10 - 1, e30 = i10.content[t10]), e30.range.start.line !== r10) break;
    n10 = e30;
  }
  return n10;
}
function UK(e30, t10) {
  let r10 = UZ(e30, t10);
  return r10 ? r10.parent.content.slice(r10.a + 1, r10.b) : [];
}
function UZ(e30, t10) {
  let r10;
  let n10 = UQ(e30), i10 = UQ(t10);
  for (let e31 = 0; e31 < n10.length && e31 < i10.length; e31++) {
    let t11 = n10[e31], a10 = i10[e31];
    if (t11.parent === a10.parent) r10 = { parent: t11.parent, a: t11.index, b: a10.index };
    else break;
  }
  return r10;
}
function UQ(e30) {
  let t10 = [];
  for (; e30.container; ) {
    let r10 = e30.container, n10 = r10.content.indexOf(e30);
    t10.push({ parent: r10, index: n10 }), e30 = r10;
  }
  return t10.reverse();
}
iM(Uj, "findDeclarationNodeAtOffset"), iM(Uq, "findCommentNode"), iM(UU, "isCommentNode"), iM(UW, "findLeafNodeAtOffset"), iM(UV, "findLeafNodeBeforeOffset"), iM(UH, "binarySearch"), iM(UY, "getPreviousNode"), iM(UG, "getNextNode"), iM(UX, "getStartlineNode"), iM(UK, "getInteriorNodes"), iM(UZ, "getCommonParent"), iM(UQ, "getParentChain");
var UJ = {};
iR(UJ, { findAssignment: () => Hf, findNameAssignment: () => Hg, findNodeForKeyword: () => Hd, findNodeForProperty: () => Hc, findNodesForKeyword: () => Hu, findNodesForKeywordInternal: () => Hp, findNodesForProperty: () => Hl, getActionAtElement: () => Hy, getActionType: () => HE, getAllReachableRules: () => Hi, getCrossReferenceTerminal: () => Hs, getEntryRule: () => Hr, getExplicitRuleType: () => HS, getHiddenRules: () => Hn, getRuleType: () => HA, getTypeName: () => HC, isArrayCardinality: () => Hx, isArrayOperator: () => Hb, isCommentTerminal: () => Ho, isDataType: () => H_, isDataTypeRule: () => Hk, isOptionalCardinality: () => Hv, terminalRegex: () => HL });
var U0 = (_ga = class extends Error {
  constructor(e30, t10) {
    super(e30 ? `${t10} at ${e30.range.start.line}:${e30.range.start.character}` : t10);
  }
}, _i63 = new WeakMap(), __privateAdd(_ga, _i63, iM(_ga, "ErrorWithLocation")), _ga);
function U1(e30) {
  throw Error("Error! The input value was not handled.");
}
iM(U1, "assertUnreachable");
var U2 = {};
iR(U2, { AbstractElement: () => Ws, AbstractRule: () => U3, AbstractType: () => U6, Action: () => W0, Alternatives: () => W2, ArrayLiteral: () => Wl, ArrayType: () => Wh, Assignment: () => W3, BooleanLiteral: () => Wd, CharacterRange: () => W6, Condition: () => U8, Conjunction: () => Wf, CrossReference: () => W8, Disjunction: () => Wm, EndOfFile: () => Ve, Grammar: () => Wv, GrammarImport: () => Wb, Group: () => Vr, InferredType: () => Ww, Interface: () => WT, Keyword: () => Vi, LangiumGrammarAstReflection: () => VT, LangiumGrammarTerminals: () => U4, NamedArgument: () => WC, NegatedToken: () => Vs, Negation: () => WA, NumberLiteral: () => WI, Parameter: () => WN, ParameterReference: () => WD, ParserRule: () => W$, ReferenceType: () => WB, RegexToken: () => Vl, ReturnType: () => Wz, RuleCall: () => Vh, SimpleType: () => Wq, StringLiteral: () => WW, TerminalAlternatives: () => Vd, TerminalGroup: () => Vf, TerminalRule: () => WH, TerminalRuleCall: () => Vm, Type: () => WG, TypeAttribute: () => WK, TypeDefinition: () => Wr, UnionType: () => WQ, UnorderedGroup: () => Vv, UntilToken: () => Vb, ValueLiteral: () => Wi, Wildcard: () => Vw, isAbstractElement: () => Wo, isAbstractRule: () => U5, isAbstractType: () => U7, isAction: () => W1, isAlternatives: () => W4, isArrayLiteral: () => Wc, isArrayType: () => Wu, isAssignment: () => W5, isBooleanLiteral: () => Wp, isCharacterRange: () => W7, isCondition: () => U9, isConjunction: () => Wg, isCrossReference: () => W9, isDisjunction: () => Wy, isEndOfFile: () => Vt, isFeatureName: () => We, isGrammar: () => Wx, isGrammarImport: () => Wk, isGroup: () => Vn, isInferredType: () => W_, isInterface: () => WS, isKeyword: () => Va, isNamedArgument: () => WE, isNegatedToken: () => Vo, isNegation: () => WL, isNumberLiteral: () => WM, isParameter: () => WR, isParameterReference: () => WO, isParserRule: () => WP, isPrimitiveType: () => Wt, isReferenceType: () => WF, isRegexToken: () => Vc, isReturnType: () => Wj, isRuleCall: () => Vu, isSimpleType: () => WU, isStringLiteral: () => WV, isTerminalAlternatives: () => Vp, isTerminalGroup: () => Vg, isTerminalRule: () => WY, isTerminalRuleCall: () => Vy, isType: () => WX, isTypeAttribute: () => WZ, isTypeDefinition: () => Wn, isUnionType: () => WJ, isUnorderedGroup: () => Vx, isUntilToken: () => Vk, isValueLiteral: () => Wa, isWildcard: () => V_, reflection: () => VS });
var U4 = { ID: /\^?[_a-zA-Z][\w_]*/, STRING: /"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/, NUMBER: /NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/, RegexLiteral: /\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/, WS: /\s+/, ML_COMMENT: /\/\*[\s\S]*?\*\//, SL_COMMENT: /\/\/[^\n\r]*/ }, U3 = "AbstractRule";
function U5(e30) {
  return VS.isInstance(e30, U3);
}
iM(U5, "isAbstractRule");
var U6 = "AbstractType";
function U7(e30) {
  return VS.isInstance(e30, U6);
}
iM(U7, "isAbstractType");
var U8 = "Condition";
function U9(e30) {
  return VS.isInstance(e30, U8);
}
function We(e30) {
  return Wt(e30) || "current" === e30 || "entry" === e30 || "extends" === e30 || "false" === e30 || "fragment" === e30 || "grammar" === e30 || "hidden" === e30 || "import" === e30 || "interface" === e30 || "returns" === e30 || "terminal" === e30 || "true" === e30 || "type" === e30 || "infer" === e30 || "infers" === e30 || "with" === e30 || "string" == typeof e30 && /\^?[_a-zA-Z][\w_]*/.test(e30);
}
function Wt(e30) {
  return "string" === e30 || "number" === e30 || "boolean" === e30 || "Date" === e30 || "bigint" === e30;
}
iM(U9, "isCondition"), iM(We, "isFeatureName"), iM(Wt, "isPrimitiveType");
var Wr = "TypeDefinition";
function Wn(e30) {
  return VS.isInstance(e30, Wr);
}
iM(Wn, "isTypeDefinition");
var Wi = "ValueLiteral";
function Wa(e30) {
  return VS.isInstance(e30, Wi);
}
iM(Wa, "isValueLiteral");
var Ws = "AbstractElement";
function Wo(e30) {
  return VS.isInstance(e30, Ws);
}
iM(Wo, "isAbstractElement");
var Wl = "ArrayLiteral";
function Wc(e30) {
  return VS.isInstance(e30, Wl);
}
iM(Wc, "isArrayLiteral");
var Wh = "ArrayType";
function Wu(e30) {
  return VS.isInstance(e30, Wh);
}
iM(Wu, "isArrayType");
var Wd = "BooleanLiteral";
function Wp(e30) {
  return VS.isInstance(e30, Wd);
}
iM(Wp, "isBooleanLiteral");
var Wf = "Conjunction";
function Wg(e30) {
  return VS.isInstance(e30, Wf);
}
iM(Wg, "isConjunction");
var Wm = "Disjunction";
function Wy(e30) {
  return VS.isInstance(e30, Wm);
}
iM(Wy, "isDisjunction");
var Wv = "Grammar";
function Wx(e30) {
  return VS.isInstance(e30, Wv);
}
iM(Wx, "isGrammar");
var Wb = "GrammarImport";
function Wk(e30) {
  return VS.isInstance(e30, Wb);
}
iM(Wk, "isGrammarImport");
var Ww = "InferredType";
function W_(e30) {
  return VS.isInstance(e30, Ww);
}
iM(W_, "isInferredType");
var WT = "Interface";
function WS(e30) {
  return VS.isInstance(e30, WT);
}
iM(WS, "isInterface");
var WC = "NamedArgument";
function WE(e30) {
  return VS.isInstance(e30, WC);
}
iM(WE, "isNamedArgument");
var WA = "Negation";
function WL(e30) {
  return VS.isInstance(e30, WA);
}
iM(WL, "isNegation");
var WI = "NumberLiteral";
function WM(e30) {
  return VS.isInstance(e30, WI);
}
iM(WM, "isNumberLiteral");
var WN = "Parameter";
function WR(e30) {
  return VS.isInstance(e30, WN);
}
iM(WR, "isParameter");
var WD = "ParameterReference";
function WO(e30) {
  return VS.isInstance(e30, WD);
}
iM(WO, "isParameterReference");
var W$ = "ParserRule";
function WP(e30) {
  return VS.isInstance(e30, W$);
}
iM(WP, "isParserRule");
var WB = "ReferenceType";
function WF(e30) {
  return VS.isInstance(e30, WB);
}
iM(WF, "isReferenceType");
var Wz = "ReturnType";
function Wj(e30) {
  return VS.isInstance(e30, Wz);
}
iM(Wj, "isReturnType");
var Wq = "SimpleType";
function WU(e30) {
  return VS.isInstance(e30, Wq);
}
iM(WU, "isSimpleType");
var WW = "StringLiteral";
function WV(e30) {
  return VS.isInstance(e30, WW);
}
iM(WV, "isStringLiteral");
var WH = "TerminalRule";
function WY(e30) {
  return VS.isInstance(e30, WH);
}
iM(WY, "isTerminalRule");
var WG = "Type";
function WX(e30) {
  return VS.isInstance(e30, WG);
}
iM(WX, "isType");
var WK = "TypeAttribute";
function WZ(e30) {
  return VS.isInstance(e30, WK);
}
iM(WZ, "isTypeAttribute");
var WQ = "UnionType";
function WJ(e30) {
  return VS.isInstance(e30, WQ);
}
iM(WJ, "isUnionType");
var W0 = "Action";
function W1(e30) {
  return VS.isInstance(e30, W0);
}
iM(W1, "isAction");
var W2 = "Alternatives";
function W4(e30) {
  return VS.isInstance(e30, W2);
}
iM(W4, "isAlternatives");
var W3 = "Assignment";
function W5(e30) {
  return VS.isInstance(e30, W3);
}
iM(W5, "isAssignment");
var W6 = "CharacterRange";
function W7(e30) {
  return VS.isInstance(e30, W6);
}
iM(W7, "isCharacterRange");
var W8 = "CrossReference";
function W9(e30) {
  return VS.isInstance(e30, W8);
}
iM(W9, "isCrossReference");
var Ve = "EndOfFile";
function Vt(e30) {
  return VS.isInstance(e30, Ve);
}
iM(Vt, "isEndOfFile");
var Vr = "Group";
function Vn(e30) {
  return VS.isInstance(e30, Vr);
}
iM(Vn, "isGroup");
var Vi = "Keyword";
function Va(e30) {
  return VS.isInstance(e30, Vi);
}
iM(Va, "isKeyword");
var Vs = "NegatedToken";
function Vo(e30) {
  return VS.isInstance(e30, Vs);
}
iM(Vo, "isNegatedToken");
var Vl = "RegexToken";
function Vc(e30) {
  return VS.isInstance(e30, Vl);
}
iM(Vc, "isRegexToken");
var Vh = "RuleCall";
function Vu(e30) {
  return VS.isInstance(e30, Vh);
}
iM(Vu, "isRuleCall");
var Vd = "TerminalAlternatives";
function Vp(e30) {
  return VS.isInstance(e30, Vd);
}
iM(Vp, "isTerminalAlternatives");
var Vf = "TerminalGroup";
function Vg(e30) {
  return VS.isInstance(e30, Vf);
}
iM(Vg, "isTerminalGroup");
var Vm = "TerminalRuleCall";
function Vy(e30) {
  return VS.isInstance(e30, Vm);
}
iM(Vy, "isTerminalRuleCall");
var Vv = "UnorderedGroup";
function Vx(e30) {
  return VS.isInstance(e30, Vv);
}
iM(Vx, "isUnorderedGroup");
var Vb = "UntilToken";
function Vk(e30) {
  return VS.isInstance(e30, Vb);
}
iM(Vk, "isUntilToken");
var Vw = "Wildcard";
function V_(e30) {
  return VS.isInstance(e30, Vw);
}
iM(V_, "isWildcard");
var VT = (_ha = class extends Uw {
  getAllTypes() {
    return ["AbstractElement", "AbstractRule", "AbstractType", "Action", "Alternatives", "ArrayLiteral", "ArrayType", "Assignment", "BooleanLiteral", "CharacterRange", "Condition", "Conjunction", "CrossReference", "Disjunction", "EndOfFile", "Grammar", "GrammarImport", "Group", "InferredType", "Interface", "Keyword", "NamedArgument", "NegatedToken", "Negation", "NumberLiteral", "Parameter", "ParameterReference", "ParserRule", "ReferenceType", "RegexToken", "ReturnType", "RuleCall", "SimpleType", "StringLiteral", "TerminalAlternatives", "TerminalGroup", "TerminalRule", "TerminalRuleCall", "Type", "TypeAttribute", "TypeDefinition", "UnionType", "UnorderedGroup", "UntilToken", "ValueLiteral", "Wildcard"];
  }
  computeIsSubtype(e30, t10) {
    switch (e30) {
      case W0:
      case W2:
      case W3:
      case W6:
      case W8:
      case Ve:
      case Vr:
      case Vi:
      case Vs:
      case Vl:
      case Vh:
      case Vd:
      case Vf:
      case Vm:
      case Vv:
      case Vb:
      case Vw:
        return this.isSubtype(Ws, t10);
      case Wl:
      case WI:
      case WW:
        return this.isSubtype(Wi, t10);
      case Wh:
      case WB:
      case Wq:
      case WQ:
        return this.isSubtype(Wr, t10);
      case Wd:
        return this.isSubtype(U8, t10) || this.isSubtype(Wi, t10);
      case Wf:
      case Wm:
      case WA:
      case WD:
        return this.isSubtype(U8, t10);
      case Ww:
      case WT:
      case WG:
        return this.isSubtype(U6, t10);
      case W$:
        return this.isSubtype(U3, t10) || this.isSubtype(U6, t10);
      case WH:
        return this.isSubtype(U3, t10);
      default:
        return false;
    }
  }
  getReferenceType(e30) {
    let t10 = `${e30.container.$type}:${e30.property}`;
    switch (t10) {
      case "Action:type":
      case "CrossReference:type":
      case "Interface:superTypes":
      case "ParserRule:returnType":
      case "SimpleType:typeRef":
        return U6;
      case "Grammar:hiddenTokens":
      case "ParserRule:hiddenTokens":
      case "RuleCall:rule":
        return U3;
      case "Grammar:usedGrammars":
        return Wv;
      case "NamedArgument:parameter":
      case "ParameterReference:parameter":
        return WN;
      case "TerminalRuleCall:rule":
        return WH;
      default:
        throw Error(`${t10} is not a valid reference id.`);
    }
  }
  getTypeMetaData(e30) {
    switch (e30) {
      case "AbstractElement":
        return { name: "AbstractElement", properties: [{ name: "cardinality" }, { name: "lookahead" }] };
      case "ArrayLiteral":
        return { name: "ArrayLiteral", properties: [{ name: "elements", defaultValue: [] }] };
      case "ArrayType":
        return { name: "ArrayType", properties: [{ name: "elementType" }] };
      case "BooleanLiteral":
        return { name: "BooleanLiteral", properties: [{ name: "true", defaultValue: false }] };
      case "Conjunction":
        return { name: "Conjunction", properties: [{ name: "left" }, { name: "right" }] };
      case "Disjunction":
        return { name: "Disjunction", properties: [{ name: "left" }, { name: "right" }] };
      case "Grammar":
        return { name: "Grammar", properties: [{ name: "definesHiddenTokens", defaultValue: false }, { name: "hiddenTokens", defaultValue: [] }, { name: "imports", defaultValue: [] }, { name: "interfaces", defaultValue: [] }, { name: "isDeclared", defaultValue: false }, { name: "name" }, { name: "rules", defaultValue: [] }, { name: "types", defaultValue: [] }, { name: "usedGrammars", defaultValue: [] }] };
      case "GrammarImport":
        return { name: "GrammarImport", properties: [{ name: "path" }] };
      case "InferredType":
        return { name: "InferredType", properties: [{ name: "name" }] };
      case "Interface":
        return { name: "Interface", properties: [{ name: "attributes", defaultValue: [] }, { name: "name" }, { name: "superTypes", defaultValue: [] }] };
      case "NamedArgument":
        return { name: "NamedArgument", properties: [{ name: "calledByName", defaultValue: false }, { name: "parameter" }, { name: "value" }] };
      case "Negation":
        return { name: "Negation", properties: [{ name: "value" }] };
      case "NumberLiteral":
        return { name: "NumberLiteral", properties: [{ name: "value" }] };
      case "Parameter":
        return { name: "Parameter", properties: [{ name: "name" }] };
      case "ParameterReference":
        return { name: "ParameterReference", properties: [{ name: "parameter" }] };
      case "ParserRule":
        return { name: "ParserRule", properties: [{ name: "dataType" }, { name: "definesHiddenTokens", defaultValue: false }, { name: "definition" }, { name: "entry", defaultValue: false }, { name: "fragment", defaultValue: false }, { name: "hiddenTokens", defaultValue: [] }, { name: "inferredType" }, { name: "name" }, { name: "parameters", defaultValue: [] }, { name: "returnType" }, { name: "wildcard", defaultValue: false }] };
      case "ReferenceType":
        return { name: "ReferenceType", properties: [{ name: "referenceType" }] };
      case "ReturnType":
        return { name: "ReturnType", properties: [{ name: "name" }] };
      case "SimpleType":
        return { name: "SimpleType", properties: [{ name: "primitiveType" }, { name: "stringType" }, { name: "typeRef" }] };
      case "StringLiteral":
        return { name: "StringLiteral", properties: [{ name: "value" }] };
      case "TerminalRule":
        return { name: "TerminalRule", properties: [{ name: "definition" }, { name: "fragment", defaultValue: false }, { name: "hidden", defaultValue: false }, { name: "name" }, { name: "type" }] };
      case "Type":
        return { name: "Type", properties: [{ name: "name" }, { name: "type" }] };
      case "TypeAttribute":
        return { name: "TypeAttribute", properties: [{ name: "defaultValue" }, { name: "isOptional", defaultValue: false }, { name: "name" }, { name: "type" }] };
      case "UnionType":
        return { name: "UnionType", properties: [{ name: "types", defaultValue: [] }] };
      case "Action":
        return { name: "Action", properties: [{ name: "cardinality" }, { name: "feature" }, { name: "inferredType" }, { name: "lookahead" }, { name: "operator" }, { name: "type" }] };
      case "Alternatives":
        return { name: "Alternatives", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "Assignment":
        return { name: "Assignment", properties: [{ name: "cardinality" }, { name: "feature" }, { name: "lookahead" }, { name: "operator" }, { name: "terminal" }] };
      case "CharacterRange":
        return { name: "CharacterRange", properties: [{ name: "cardinality" }, { name: "left" }, { name: "lookahead" }, { name: "right" }] };
      case "CrossReference":
        return { name: "CrossReference", properties: [{ name: "cardinality" }, { name: "deprecatedSyntax", defaultValue: false }, { name: "lookahead" }, { name: "terminal" }, { name: "type" }] };
      case "EndOfFile":
        return { name: "EndOfFile", properties: [{ name: "cardinality" }, { name: "lookahead" }] };
      case "Group":
        return { name: "Group", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "guardCondition" }, { name: "lookahead" }] };
      case "Keyword":
        return { name: "Keyword", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "value" }] };
      case "NegatedToken":
        return { name: "NegatedToken", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "terminal" }] };
      case "RegexToken":
        return { name: "RegexToken", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "regex" }] };
      case "RuleCall":
        return { name: "RuleCall", properties: [{ name: "arguments", defaultValue: [] }, { name: "cardinality" }, { name: "lookahead" }, { name: "rule" }] };
      case "TerminalAlternatives":
        return { name: "TerminalAlternatives", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "TerminalGroup":
        return { name: "TerminalGroup", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "TerminalRuleCall":
        return { name: "TerminalRuleCall", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "rule" }] };
      case "UnorderedGroup":
        return { name: "UnorderedGroup", properties: [{ name: "cardinality" }, { name: "elements", defaultValue: [] }, { name: "lookahead" }] };
      case "UntilToken":
        return { name: "UntilToken", properties: [{ name: "cardinality" }, { name: "lookahead" }, { name: "terminal" }] };
      case "Wildcard":
        return { name: "Wildcard", properties: [{ name: "cardinality" }, { name: "lookahead" }] };
      default:
        return { name: e30, properties: [] };
    }
  }
}, _i64 = new WeakMap(), __privateAdd(_ha, _i64, iM(_ha, "LangiumGrammarAstReflection")), _ha), VS = new VT(), VC = {};
function VE(e30) {
  for (let [t10, r10] of Object.entries(e30)) !t10.startsWith("$") && (Array.isArray(r10) ? r10.forEach((r11, n10) => {
    Uv(r11) && (r11.$container = e30, r11.$containerProperty = t10, r11.$containerIndex = n10);
  }) : Uv(r10) && (r10.$container = e30, r10.$containerProperty = t10));
}
function VA(e30, t10) {
  let r10 = e30;
  for (; r10; ) {
    if (t10(r10)) return r10;
    r10 = r10.$container;
  }
}
function VL(e30, t10) {
  let r10 = e30;
  for (; r10; ) {
    if (t10(r10)) return true;
    r10 = r10.$container;
  }
  return false;
}
function VI(e30) {
  let t10 = VM(e30).$document;
  if (!t10) throw Error("AST node has no document.");
  return t10;
}
function VM(e30) {
  for (; e30.$container; ) e30 = e30.$container;
  return e30;
}
function VN(e30, t10) {
  if (!e30) throw Error("Node must be an AstNode.");
  let r10 = null == t10 ? void 0 : t10.range;
  return new UC(() => ({ keys: Object.keys(e30), keyIndex: 0, arrayIndex: 0 }), (t11) => {
    for (; t11.keyIndex < t11.keys.length; ) {
      let n10 = t11.keys[t11.keyIndex];
      if (!n10.startsWith("$")) {
        let i10 = e30[n10];
        if (Uv(i10)) {
          if (t11.keyIndex++, VO(i10, r10)) return { done: false, value: i10 };
        } else if (Array.isArray(i10)) {
          for (; t11.arrayIndex < i10.length; ) {
            let e31 = i10[t11.arrayIndex++];
            if (Uv(e31) && VO(e31, r10)) return { done: false, value: e31 };
          }
          t11.arrayIndex = 0;
        }
      }
      t11.keyIndex++;
    }
    return UI;
  });
}
function VR(e30, t10) {
  if (!e30) throw Error("Root node must be an AstNode.");
  return new UN(e30, (e31) => VN(e31, t10));
}
function VD(e30, t10) {
  if (e30) {
    if ((null == t10 ? void 0 : t10.range) && !VO(e30, t10.range)) return new UN(e30, () => []);
  } else throw Error("Root node must be an AstNode.");
  return new UN(e30, (e31) => VN(e31, t10), { includeRoot: true });
}
function VO(e30, t10) {
  var r10;
  if (!t10) return true;
  let n10 = null === (r10 = e30.$cstNode) || void 0 === r10 ? void 0 : r10.range;
  return !!n10 && UF(n10, t10);
}
function V$(e30) {
  return new UC(() => ({ keys: Object.keys(e30), keyIndex: 0, arrayIndex: 0 }), (t10) => {
    for (; t10.keyIndex < t10.keys.length; ) {
      let r10 = t10.keys[t10.keyIndex];
      if (!r10.startsWith("$")) {
        let n10 = e30[r10];
        if (Ux(n10)) return t10.keyIndex++, { done: false, value: { reference: n10, container: e30, property: r10 } };
        if (Array.isArray(n10)) {
          for (; t10.arrayIndex < n10.length; ) {
            let i10 = t10.arrayIndex++, a10 = n10[i10];
            if (Ux(a10)) return { done: false, value: { reference: a10, container: e30, property: r10, index: i10 } };
          }
          t10.arrayIndex = 0;
        }
      }
      t10.keyIndex++;
    }
    return UI;
  });
}
function VP(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : VI(e30).parseResult.value, r10 = [];
  return VD(t10).forEach((t11) => {
    V$(t11).forEach((t12) => {
      t12.reference.ref === e30 && r10.push(t12.reference);
    });
  }), UM(r10);
}
function VB(e30, t10) {
  for (let r10 of e30.getTypeMetaData(t10.$type).properties) void 0 !== r10.defaultValue && void 0 === t10[r10.name] && (t10[r10.name] = VF(r10.defaultValue));
}
function VF(e30) {
  return Array.isArray(e30) ? [...e30.map(VF)] : e30;
}
function Vz(e30, t10) {
  let r10 = { $type: e30.$type };
  for (let [n10, i10] of Object.entries(e30)) if (!n10.startsWith("$")) {
    if (Uv(i10)) r10[n10] = Vz(i10, t10);
    else if (Ux(i10)) r10[n10] = t10(r10, n10, i10.$refNode, i10.$refText);
    else if (Array.isArray(i10)) {
      let e31 = [];
      for (let a10 of i10) Uv(a10) ? e31.push(Vz(a10, t10)) : Ux(a10) ? e31.push(t10(r10, n10, a10.$refNode, a10.$refText)) : e31.push(a10);
      r10[n10] = e31;
    } else r10[n10] = i10;
  }
  return VE(r10), r10;
}
iR(VC, { assignMandatoryProperties: () => VB, copyAstNode: () => Vz, findLocalReferences: () => VP, findRootNode: () => VM, getContainerOfType: () => VA, getDocument: () => VI, hasContainerOfType: () => VL, linkContentToContainer: () => VE, streamAllContents: () => VR, streamAst: () => VD, streamContents: () => VN, streamReferences: () => V$ }), iM(VE, "linkContentToContainer"), iM(VA, "getContainerOfType"), iM(VL, "hasContainerOfType"), iM(VI, "getDocument"), iM(VM, "findRootNode"), iM(VN, "streamContents"), iM(VR, "streamAllContents"), iM(VD, "streamAst"), iM(VO, "isAstNodeInRange"), iM(V$, "streamReferences"), iM(VP, "findLocalReferences"), iM(VB, "assignMandatoryProperties"), iM(VF, "copyDefaultValue"), iM(Vz, "copyAstNode");
var Vj = {};
function Vq(e30) {
  return e30.charCodeAt(0);
}
function VU(e30, t10) {
  Array.isArray(e30) ? e30.forEach(function(e31) {
    t10.push(e31);
  }) : t10.push(e30);
}
function VW(e30, t10) {
  if (true === e30[t10]) throw "duplicate flag " + t10;
  e30[t10], e30[t10] = true;
}
function VV(e30) {
  if (void 0 === e30) throw Error("Internal Error - Should never get here!");
  return true;
}
function VH() {
  throw Error("Internal Error - Should never get here!");
}
function VY(e30) {
  return "Character" === e30.type;
}
iR(Vj, { NEWLINE_REGEXP: () => V2, escapeRegExp: () => V8, getCaseInsensitivePattern: () => V9, getTerminalParts: () => V5, isMultilineComment: () => V6, isWhitespace: () => V7, partialMatches: () => He, partialRegExp: () => Ht }), iM(Vq, "cc"), iM(VU, "insertToSet"), iM(VW, "addFlag"), iM(VV, "ASSERT_EXISTS"), iM(VH, "ASSERT_NEVER_REACH_HERE"), iM(VY, "isCharacter");
var VG = [];
for (let e30 = Vq("0"); e30 <= Vq("9"); e30++) VG.push(e30);
var VX = [Vq("_")].concat(VG);
for (let e30 = Vq("a"); e30 <= Vq("z"); e30++) VX.push(e30);
for (let e30 = Vq("A"); e30 <= Vq("Z"); e30++) VX.push(e30);
var VK = [Vq(" "), Vq("\f"), Vq("\n"), Vq("\r"), Vq("	"), Vq("\v"), Vq("	"), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq(" "), Vq("\u2028"), Vq("\u2029"), Vq(" "), Vq(" "), Vq("　"), Vq("\uFEFF")], VZ = /[0-9a-fA-F]/, VQ = /[0-9]/, VJ = /[1-9]/, V0 = (_ia = class {
  constructor() {
    this.idx = 0, this.input = "", this.groupIdx = 0;
  }
  saveState() {
    return { idx: this.idx, input: this.input, groupIdx: this.groupIdx };
  }
  restoreState(e30) {
    this.idx = e30.idx, this.input = e30.input, this.groupIdx = e30.groupIdx;
  }
  pattern(e30) {
    this.idx = 0, this.input = e30, this.groupIdx = 0, this.consumeChar("/");
    let t10 = this.disjunction();
    this.consumeChar("/");
    let r10 = { type: "Flags", loc: { begin: this.idx, end: e30.length }, global: false, ignoreCase: false, multiLine: false, unicode: false, sticky: false };
    for (; this.isRegExpFlag(); ) switch (this.popChar()) {
      case "g":
        VW(r10, "global");
        break;
      case "i":
        VW(r10, "ignoreCase");
        break;
      case "m":
        VW(r10, "multiLine");
        break;
      case "u":
        VW(r10, "unicode");
        break;
      case "y":
        VW(r10, "sticky");
    }
    if (this.idx !== this.input.length) throw Error("Redundant input: " + this.input.substring(this.idx));
    return { type: "Pattern", flags: r10, value: t10, loc: this.loc(0) };
  }
  disjunction() {
    let e30 = [], t10 = this.idx;
    for (e30.push(this.alternative()); "|" === this.peekChar(); ) this.consumeChar("|"), e30.push(this.alternative());
    return { type: "Disjunction", value: e30, loc: this.loc(t10) };
  }
  alternative() {
    let e30 = [], t10 = this.idx;
    for (; this.isTerm(); ) e30.push(this.term());
    return { type: "Alternative", value: e30, loc: this.loc(t10) };
  }
  term() {
    return this.isAssertion() ? this.assertion() : this.atom();
  }
  assertion() {
    let e30 = this.idx;
    switch (this.popChar()) {
      case "^":
        return { type: "StartAnchor", loc: this.loc(e30) };
      case "$":
        return { type: "EndAnchor", loc: this.loc(e30) };
      case "\\":
        switch (this.popChar()) {
          case "b":
            return { type: "WordBoundary", loc: this.loc(e30) };
          case "B":
            return { type: "NonWordBoundary", loc: this.loc(e30) };
        }
        throw Error("Invalid Assertion Escape");
      case "(":
        let t10;
        switch (this.consumeChar("?"), this.popChar()) {
          case "=":
            t10 = "Lookahead";
            break;
          case "!":
            t10 = "NegativeLookahead";
        }
        VV(t10);
        let r10 = this.disjunction();
        return this.consumeChar(")"), { type: t10, value: r10, loc: this.loc(e30) };
    }
    return VH();
  }
  quantifier() {
    let e30, t10 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], r10 = this.idx;
    switch (this.popChar()) {
      case "*":
        e30 = { atLeast: 0, atMost: 1 / 0 };
        break;
      case "+":
        e30 = { atLeast: 1, atMost: 1 / 0 };
        break;
      case "?":
        e30 = { atLeast: 0, atMost: 1 };
        break;
      case "{":
        let n10 = this.integerIncludingZero();
        switch (this.popChar()) {
          case "}":
            e30 = { atLeast: n10, atMost: n10 };
            break;
          case ",":
            e30 = this.isDigit() ? { atLeast: n10, atMost: this.integerIncludingZero() } : { atLeast: n10, atMost: 1 / 0 }, this.consumeChar("}");
        }
        if (true === t10 && void 0 === e30) return;
        VV(e30);
    }
    if ((true !== t10 || void 0 !== e30) && VV(e30)) return "?" === this.peekChar(0) ? (this.consumeChar("?"), e30.greedy = false) : e30.greedy = true, e30.type = "Quantifier", e30.loc = this.loc(r10), e30;
  }
  atom() {
    let e30;
    let t10 = this.idx;
    switch (this.peekChar()) {
      case ".":
        e30 = this.dotAll();
        break;
      case "\\":
        e30 = this.atomEscape();
        break;
      case "[":
        e30 = this.characterClass();
        break;
      case "(":
        e30 = this.group();
    }
    if (void 0 === e30 && this.isPatternCharacter() && (e30 = this.patternCharacter()), VV(e30)) return e30.loc = this.loc(t10), this.isQuantifier() && (e30.quantifier = this.quantifier()), e30;
  }
  dotAll() {
    return this.consumeChar("."), { type: "Set", complement: true, value: [Vq("\n"), Vq("\r"), Vq("\u2028"), Vq("\u2029")] };
  }
  atomEscape() {
    switch (this.consumeChar("\\"), this.peekChar()) {
      case "1":
      case "2":
      case "3":
      case "4":
      case "5":
      case "6":
      case "7":
      case "8":
      case "9":
        return this.decimalEscapeAtom();
      case "d":
      case "D":
      case "s":
      case "S":
      case "w":
      case "W":
        return this.characterClassEscape();
      case "f":
      case "n":
      case "r":
      case "t":
      case "v":
        return this.controlEscapeAtom();
      case "c":
        return this.controlLetterEscapeAtom();
      case "0":
        return this.nulCharacterAtom();
      case "x":
        return this.hexEscapeSequenceAtom();
      case "u":
        return this.regExpUnicodeEscapeSequenceAtom();
      default:
        return this.identityEscapeAtom();
    }
  }
  decimalEscapeAtom() {
    return { type: "GroupBackReference", value: this.positiveInteger() };
  }
  characterClassEscape() {
    let e30;
    let t10 = false;
    switch (this.popChar()) {
      case "d":
        e30 = VG;
        break;
      case "D":
        e30 = VG, t10 = true;
        break;
      case "s":
        e30 = VK;
        break;
      case "S":
        e30 = VK, t10 = true;
        break;
      case "w":
        e30 = VX;
        break;
      case "W":
        e30 = VX, t10 = true;
    }
    if (VV(e30)) return { type: "Set", value: e30, complement: t10 };
  }
  controlEscapeAtom() {
    let e30;
    switch (this.popChar()) {
      case "f":
        e30 = Vq("\f");
        break;
      case "n":
        e30 = Vq("\n");
        break;
      case "r":
        e30 = Vq("\r");
        break;
      case "t":
        e30 = Vq("	");
        break;
      case "v":
        e30 = Vq("\v");
    }
    if (VV(e30)) return { type: "Character", value: e30 };
  }
  controlLetterEscapeAtom() {
    this.consumeChar("c");
    let e30 = this.popChar();
    if (false === /[a-zA-Z]/.test(e30)) throw Error("Invalid ");
    return { type: "Character", value: e30.toUpperCase().charCodeAt(0) - 64 };
  }
  nulCharacterAtom() {
    return this.consumeChar("0"), { type: "Character", value: Vq("\0") };
  }
  hexEscapeSequenceAtom() {
    return this.consumeChar("x"), this.parseHexDigits(2);
  }
  regExpUnicodeEscapeSequenceAtom() {
    return this.consumeChar("u"), this.parseHexDigits(4);
  }
  identityEscapeAtom() {
    return { type: "Character", value: Vq(this.popChar()) };
  }
  classPatternCharacterAtom() {
    switch (this.peekChar()) {
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
      case "\\":
      case "]":
        throw Error("TBD");
      default:
        return { type: "Character", value: Vq(this.popChar()) };
    }
  }
  characterClass() {
    let e30 = [], t10 = false;
    for (this.consumeChar("["), "^" === this.peekChar(0) && (this.consumeChar("^"), t10 = true); this.isClassAtom(); ) {
      let t11 = this.classAtom();
      if (t11.type, VY(t11) && this.isRangeDash()) {
        this.consumeChar("-");
        let r10 = this.classAtom();
        if (r10.type, VY(r10)) {
          if (r10.value < t11.value) throw Error("Range out of order in character class");
          e30.push({ from: t11.value, to: r10.value });
        } else VU(t11.value, e30), e30.push(Vq("-")), VU(r10.value, e30);
      } else VU(t11.value, e30);
    }
    return this.consumeChar("]"), { type: "Set", complement: t10, value: e30 };
  }
  classAtom() {
    switch (this.peekChar()) {
      case "]":
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
        throw Error("TBD");
      case "\\":
        return this.classEscape();
      default:
        return this.classPatternCharacterAtom();
    }
  }
  classEscape() {
    switch (this.consumeChar("\\"), this.peekChar()) {
      case "b":
        return this.consumeChar("b"), { type: "Character", value: Vq("\b") };
      case "d":
      case "D":
      case "s":
      case "S":
      case "w":
      case "W":
        return this.characterClassEscape();
      case "f":
      case "n":
      case "r":
      case "t":
      case "v":
        return this.controlEscapeAtom();
      case "c":
        return this.controlLetterEscapeAtom();
      case "0":
        return this.nulCharacterAtom();
      case "x":
        return this.hexEscapeSequenceAtom();
      case "u":
        return this.regExpUnicodeEscapeSequenceAtom();
      default:
        return this.identityEscapeAtom();
    }
  }
  group() {
    let e30 = true;
    (this.consumeChar("("), "?" === this.peekChar(0)) ? (this.consumeChar("?"), this.consumeChar(":"), e30 = false) : this.groupIdx++;
    let t10 = this.disjunction();
    this.consumeChar(")");
    let r10 = { type: "Group", capturing: e30, value: t10 };
    return e30 && (r10.idx = this.groupIdx), r10;
  }
  positiveInteger() {
    let e30 = this.popChar();
    if (false === VJ.test(e30)) throw Error("Expecting a positive integer");
    for (; VQ.test(this.peekChar(0)); ) e30 += this.popChar();
    return parseInt(e30, 10);
  }
  integerIncludingZero() {
    let e30 = this.popChar();
    if (false === VQ.test(e30)) throw Error("Expecting an integer");
    for (; VQ.test(this.peekChar(0)); ) e30 += this.popChar();
    return parseInt(e30, 10);
  }
  patternCharacter() {
    let e30 = this.popChar();
    switch (e30) {
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
      case "^":
      case "$":
      case "\\":
      case ".":
      case "*":
      case "+":
      case "?":
      case "(":
      case ")":
      case "[":
      case "|":
        throw Error("TBD");
      default:
        return { type: "Character", value: Vq(e30) };
    }
  }
  isRegExpFlag() {
    switch (this.peekChar(0)) {
      case "g":
      case "i":
      case "m":
      case "u":
      case "y":
        return true;
      default:
        return false;
    }
  }
  isRangeDash() {
    return "-" === this.peekChar() && this.isClassAtom(1);
  }
  isDigit() {
    return VQ.test(this.peekChar(0));
  }
  isClassAtom() {
    let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
    switch (this.peekChar(e30)) {
      case "]":
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
        return false;
      default:
        return true;
    }
  }
  isTerm() {
    return this.isAtom() || this.isAssertion();
  }
  isAtom() {
    if (this.isPatternCharacter()) return true;
    switch (this.peekChar(0)) {
      case ".":
      case "\\":
      case "[":
      case "(":
        return true;
      default:
        return false;
    }
  }
  isAssertion() {
    switch (this.peekChar(0)) {
      case "^":
      case "$":
        return true;
      case "\\":
        switch (this.peekChar(1)) {
          case "b":
          case "B":
            return true;
          default:
            return false;
        }
      case "(":
        return "?" === this.peekChar(1) && ("=" === this.peekChar(2) || "!" === this.peekChar(2));
      default:
        return false;
    }
  }
  isQuantifier() {
    let e30 = this.saveState();
    try {
      return void 0 !== this.quantifier(true);
    } catch (e31) {
      return false;
    } finally {
      this.restoreState(e30);
    }
  }
  isPatternCharacter() {
    switch (this.peekChar()) {
      case "^":
      case "$":
      case "\\":
      case ".":
      case "*":
      case "+":
      case "?":
      case "(":
      case ")":
      case "[":
      case "|":
      case "/":
      case "\n":
      case "\r":
      case "\u2028":
      case "\u2029":
        return false;
      default:
        return true;
    }
  }
  parseHexDigits(e30) {
    let t10 = "";
    for (let r10 = 0; r10 < e30; r10++) {
      let e31 = this.popChar();
      if (false === VZ.test(e31)) throw Error("Expecting a HexDecimal digits");
      t10 += e31;
    }
    return { type: "Character", value: parseInt(t10, 16) };
  }
  peekChar() {
    let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
    return this.input[this.idx + e30];
  }
  popChar() {
    let e30 = this.peekChar(0);
    return this.consumeChar(void 0), e30;
  }
  consumeChar(e30) {
    if (void 0 !== e30 && this.input[this.idx] !== e30) throw Error("Expected: '" + e30 + "' but found: '" + this.input[this.idx] + "' at offset: " + this.idx);
    if (this.idx >= this.input.length) throw Error("Unexpected end of input");
    this.idx++;
  }
  loc(e30) {
    return { begin: e30, end: this.idx };
  }
}, _i65 = new WeakMap(), __privateAdd(_ia, _i65, iM(_ia, "RegExpParser")), _ia), V1 = (_ja = class {
  visitChildren(e30) {
    for (let t10 in e30) {
      let r10 = e30[t10];
      e30.hasOwnProperty(t10) && (void 0 !== r10.type ? this.visit(r10) : Array.isArray(r10) && r10.forEach((e31) => {
        this.visit(e31);
      }, this));
    }
  }
  visit(e30) {
    switch (e30.type) {
      case "Pattern":
        this.visitPattern(e30);
        break;
      case "Flags":
        this.visitFlags(e30);
        break;
      case "Disjunction":
        this.visitDisjunction(e30);
        break;
      case "Alternative":
        this.visitAlternative(e30);
        break;
      case "StartAnchor":
        this.visitStartAnchor(e30);
        break;
      case "EndAnchor":
        this.visitEndAnchor(e30);
        break;
      case "WordBoundary":
        this.visitWordBoundary(e30);
        break;
      case "NonWordBoundary":
        this.visitNonWordBoundary(e30);
        break;
      case "Lookahead":
        this.visitLookahead(e30);
        break;
      case "NegativeLookahead":
        this.visitNegativeLookahead(e30);
        break;
      case "Character":
        this.visitCharacter(e30);
        break;
      case "Set":
        this.visitSet(e30);
        break;
      case "Group":
        this.visitGroup(e30);
        break;
      case "GroupBackReference":
        this.visitGroupBackReference(e30);
        break;
      case "Quantifier":
        this.visitQuantifier(e30);
    }
    this.visitChildren(e30);
  }
  visitPattern(e30) {
  }
  visitFlags(e30) {
  }
  visitDisjunction(e30) {
  }
  visitAlternative(e30) {
  }
  visitStartAnchor(e30) {
  }
  visitEndAnchor(e30) {
  }
  visitWordBoundary(e30) {
  }
  visitNonWordBoundary(e30) {
  }
  visitLookahead(e30) {
  }
  visitNegativeLookahead(e30) {
  }
  visitCharacter(e30) {
  }
  visitSet(e30) {
  }
  visitGroup(e30) {
  }
  visitGroupBackReference(e30) {
  }
  visitQuantifier(e30) {
  }
}, _i66 = new WeakMap(), __privateAdd(_ja, _i66, iM(_ja, "BaseRegExpVisitor")), _ja), V2 = /\r?\n/gm, V4 = new V0(), V3 = new (_ka = class extends V1 {
  constructor() {
    super(...arguments), this.isStarting = true, this.endRegexpStack = [], this.multiline = false;
  }
  get endRegex() {
    return this.endRegexpStack.join("");
  }
  reset(e30) {
    this.multiline = false, this.regex = e30, this.startRegexp = "", this.isStarting = true, this.endRegexpStack = [];
  }
  visitGroup(e30) {
    e30.quantifier && (this.isStarting = false, this.endRegexpStack = []);
  }
  visitCharacter(e30) {
    let t10 = String.fromCharCode(e30.value);
    if (this.multiline || "\n" !== t10 || (this.multiline = true), e30.quantifier) this.isStarting = false, this.endRegexpStack = [];
    else {
      let e31 = V8(t10);
      this.endRegexpStack.push(e31), this.isStarting && (this.startRegexp += e31);
    }
  }
  visitSet(e30) {
    if (!this.multiline) {
      let t10 = new RegExp(this.regex.substring(e30.loc.begin, e30.loc.end));
      this.multiline = !!"\n".match(t10);
    }
    if (e30.quantifier) this.isStarting = false, this.endRegexpStack = [];
    else {
      let t10 = this.regex.substring(e30.loc.begin, e30.loc.end);
      this.endRegexpStack.push(t10), this.isStarting && (this.startRegexp += t10);
    }
  }
  visitChildren(e30) {
    "Group" === e30.type && e30.quantifier || super.visitChildren(e30);
  }
}, _i67 = new WeakMap(), __privateAdd(_ka, _i67, iM(_ka, "TerminalRegExpVisitor")), _ka)();
function V5(e30) {
  try {
    "string" != typeof e30 && (e30 = e30.source), e30 = `/${e30}/`;
    let t10 = V4.pattern(e30), r10 = [];
    for (let n10 of t10.value.value) V3.reset(e30), V3.visit(n10), r10.push({ start: V3.startRegexp, end: V3.endRegex });
    return r10;
  } catch (e31) {
    return [];
  }
}
function V6(e30) {
  try {
    return "string" == typeof e30 && (e30 = new RegExp(e30)), e30 = e30.toString(), V3.reset(e30), V3.visit(V4.pattern(e30)), V3.multiline;
  } catch (e31) {
    return false;
  }
}
function V7(e30) {
  return ("string" == typeof e30 ? new RegExp(e30) : e30).test(" ");
}
function V8(e30) {
  return e30.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function V9(e30) {
  return Array.prototype.map.call(e30, (e31) => /\w/.test(e31) ? `[${e31.toLowerCase()}${e31.toUpperCase()}]` : V8(e31)).join("");
}
function He(e30, t10) {
  let r10 = Ht(e30), n10 = t10.match(r10);
  return !!n10 && n10[0].length > 0;
}
function Ht(e30) {
  "string" == typeof e30 && (e30 = new RegExp(e30));
  let t10 = e30, r10 = e30.source, n10 = 0;
  function i10() {
    let e31 = "", a10;
    function s10(t11) {
      e31 += r10.substr(n10, t11), n10 += t11;
    }
    function o10(t11) {
      e31 += "(?:" + r10.substr(n10, t11) + "|$)", n10 += t11;
    }
    for (iM(s10, "appendRaw"), iM(o10, "appendOptional"); n10 < r10.length; ) switch (r10[n10]) {
      case "\\":
        switch (r10[n10 + 1]) {
          case "c":
            o10(3);
            break;
          case "x":
            o10(4);
            break;
          case "u":
            o10(t10.unicode ? "{" === r10[n10 + 2] ? r10.indexOf("}", n10) - n10 + 1 : 6 : 2);
            break;
          case "p":
          case "P":
            o10(t10.unicode ? r10.indexOf("}", n10) - n10 + 1 : 2);
            break;
          case "k":
            o10(r10.indexOf(">", n10) - n10 + 1);
            break;
          default:
            o10(2);
        }
        break;
      case "[":
        (a10 = /\[(?:\\.|.)*?\]/g).lastIndex = n10, o10((a10 = a10.exec(r10) || [])[0].length);
        break;
      case "|":
      case "^":
      case "$":
      case "*":
      case "+":
      case "?":
        s10(1);
        break;
      case "{":
        (a10 = /\{\d+,?\d*\}/g).lastIndex = n10, (a10 = a10.exec(r10)) ? s10(a10[0].length) : o10(1);
        break;
      case "(":
        if ("?" === r10[n10 + 1]) switch (r10[n10 + 2]) {
          case ":":
            e31 += "(?:", n10 += 3, e31 += i10() + "|$)";
            break;
          case "=":
            e31 += "(?=", n10 += 3, e31 += i10() + ")";
            break;
          case "!":
            a10 = n10, n10 += 3, i10(), e31 += r10.substr(a10, n10 - a10);
            break;
          case "<":
            switch (r10[n10 + 3]) {
              case "=":
              case "!":
                a10 = n10, n10 += 4, i10(), e31 += r10.substr(a10, n10 - a10);
                break;
              default:
                s10(r10.indexOf(">", n10) - n10 + 1), e31 += i10() + "|$)";
            }
        }
        else s10(1), e31 += i10() + "|$)";
        break;
      case ")":
        return ++n10, e31;
      default:
        o10(1);
    }
    return e31;
  }
  return iM(i10, "process"), new RegExp(i10(), e30.flags);
}
function Hr(e30) {
  return e30.rules.find((e31) => WP(e31) && e31.entry);
}
function Hn(e30) {
  return e30.rules.filter((e31) => WY(e31) && e31.hidden);
}
function Hi(e30, t10) {
  let r10 = /* @__PURE__ */ new Set(), n10 = Hr(e30);
  if (!n10) return new Set(e30.rules);
  for (let i11 of [n10].concat(Hn(e30))) Ha(i11, r10, t10);
  let i10 = /* @__PURE__ */ new Set();
  for (let t11 of e30.rules) (r10.has(t11.name) || WY(t11) && t11.hidden) && i10.add(t11);
  return i10;
}
function Ha(e30, t10, r10) {
  t10.add(e30.name), VR(e30).forEach((e31) => {
    if (Vu(e31) || r10 && Vy(e31)) {
      let n10 = e31.rule.ref;
      n10 && !t10.has(n10.name) && Ha(n10, t10, r10);
    }
  });
}
function Hs(e30) {
  if (e30.terminal) return e30.terminal;
  if (e30.type.ref) {
    let t10 = Hg(e30.type.ref);
    return null == t10 ? void 0 : t10.terminal;
  }
}
function Ho(e30) {
  return e30.hidden && !HL(e30).test(" ");
}
function Hl(e30, t10) {
  return e30 && t10 ? Hh(e30, t10, e30.astNode, true) : [];
}
function Hc(e30, t10, r10) {
  if (!e30 || !t10) return;
  let n10 = Hh(e30, t10, e30.astNode, true);
  if (0 !== n10.length) return r10 = void 0 !== r10 ? Math.max(0, Math.min(r10, n10.length - 1)) : 0, n10[r10];
}
function Hh(e30, t10, r10, n10) {
  if (!n10) {
    let r11 = VA(e30.grammarSource, W5);
    if (r11 && r11.feature === t10) return [e30];
  }
  return U_(e30) && e30.astNode === r10 ? e30.content.flatMap((e31) => Hh(e31, t10, r10, false)) : [];
}
function Hu(e30, t10) {
  return e30 ? Hp(e30, t10, null == e30 ? void 0 : e30.astNode) : [];
}
function Hd(e30, t10, r10) {
  if (!e30) return;
  let n10 = Hp(e30, t10, null == e30 ? void 0 : e30.astNode);
  if (0 !== n10.length) return r10 = void 0 !== r10 ? Math.max(0, Math.min(r10, n10.length - 1)) : 0, n10[r10];
}
function Hp(e30, t10, r10) {
  let n10;
  if (e30.astNode !== r10) return [];
  if (Va(e30.grammarSource) && e30.grammarSource.value === t10) return [e30];
  let i10 = UR(e30).iterator(), a10 = [];
  do
    if (!(n10 = i10.next()).done) {
      let e31 = n10.value;
      e31.astNode === r10 ? Va(e31.grammarSource) && e31.grammarSource.value === t10 && a10.push(e31) : i10.prune();
    }
  while (!n10.done);
  return a10;
}
function Hf(e30) {
  var t10;
  let r10 = e30.astNode;
  for (; r10 === (null === (t10 = e30.container) || void 0 === t10 ? void 0 : t10.astNode); ) {
    let t11 = VA(e30.grammarSource, W5);
    if (t11) return t11;
    e30 = e30.container;
  }
}
function Hg(e30) {
  let t10 = e30;
  return W_(t10) && (W1(t10.$container) ? t10 = t10.$container.$container : WP(t10.$container) ? t10 = t10.$container : U1(t10.$container)), Hm(e30, t10, /* @__PURE__ */ new Map());
}
function Hm(e30, t10, r10) {
  var n10;
  function i10(t11, n11) {
    let i11;
    return VA(t11, W5) || (i11 = Hm(n11, n11, r10)), r10.set(e30, i11), i11;
  }
  if (iM(i10, "go"), r10.has(e30)) return r10.get(e30);
  for (let a10 of (r10.set(e30, void 0), VR(t10))) {
    if (W5(a10) && "name" === a10.feature.toLowerCase()) return r10.set(e30, a10), a10;
    if (Vu(a10) && WP(a10.rule.ref)) return i10(a10, a10.rule.ref);
    if (WU(a10) && (null === (n10 = a10.typeRef) || void 0 === n10 ? void 0 : n10.ref)) return i10(a10, a10.typeRef.ref);
  }
}
function Hy(e30) {
  let t10 = e30.$container;
  if (Vn(t10)) {
    let r10 = t10.elements, n10 = r10.indexOf(e30);
    for (let e31 = n10 - 1; e31 >= 0; e31--) {
      let t11 = r10[e31];
      if (W1(t11)) return t11;
      {
        let t12 = VR(r10[e31]).find(W1);
        if (t12) return t12;
      }
    }
  }
  return Wo(t10) ? Hy(t10) : void 0;
}
function Hv(e30, t10) {
  return "?" === e30 || "*" === e30 || Vn(t10) && !!t10.guardCondition;
}
function Hx(e30) {
  return "*" === e30 || "+" === e30;
}
function Hb(e30) {
  return "+=" === e30;
}
function Hk(e30) {
  return Hw(e30, /* @__PURE__ */ new Set());
}
function Hw(e30, t10) {
  if (t10.has(e30)) return true;
  for (let r10 of (t10.add(e30), VR(e30))) if (Vu(r10)) {
    if (!r10.rule.ref || WP(r10.rule.ref) && !Hw(r10.rule.ref, t10)) return false;
  } else if (W5(r10)) return false;
  else if (W1(r10)) return false;
  return !!e30.definition;
}
function H_(e30) {
  return HT(e30.type, /* @__PURE__ */ new Set());
}
function HT(e30, t10) {
  if (t10.has(e30)) return true;
  if (t10.add(e30), Wu(e30) || WF(e30)) return false;
  if (WJ(e30)) return e30.types.every((e31) => HT(e31, t10));
  if (!WU(e30)) return false;
  if (void 0 !== e30.primitiveType || void 0 !== e30.stringType) return true;
  {
    if (void 0 === e30.typeRef) return false;
    let r10 = e30.typeRef.ref;
    return !!WX(r10) && HT(r10.type, t10);
  }
}
function HS(e30) {
  if (e30.inferredType) return e30.inferredType.name;
  if (e30.dataType) return e30.dataType;
  if (e30.returnType) {
    let t10 = e30.returnType.ref;
    if (t10 && (WP(t10) || WS(t10) || WX(t10))) return t10.name;
  }
}
function HC(e30) {
  var t10;
  if (WP(e30)) return Hk(e30) ? e30.name : null !== (t10 = HS(e30)) && void 0 !== t10 ? t10 : e30.name;
  if (WS(e30) || WX(e30) || Wj(e30)) return e30.name;
  if (W1(e30)) {
    let t11 = HE(e30);
    if (t11) return t11;
  } else if (W_(e30)) return e30.name;
  throw Error("Cannot get name of Unknown Type");
}
function HE(e30) {
  var t10;
  return e30.inferredType ? e30.inferredType.name : (null === (t10 = e30.type) || void 0 === t10 ? void 0 : t10.ref) ? HC(e30.type.ref) : void 0;
}
function HA(e30) {
  var t10, r10, n10;
  return WY(e30) ? null !== (r10 = null === (t10 = e30.type) || void 0 === t10 ? void 0 : t10.name) && void 0 !== r10 ? r10 : "string" : Hk(e30) ? e30.name : null !== (n10 = HS(e30)) && void 0 !== n10 ? n10 : e30.name;
}
function HL(e30) {
  let t10 = { s: false, i: false, u: false };
  return new RegExp(HM(e30.definition, t10), Object.entries(t10).filter((e31) => {
    let [, t11] = e31;
    return t11;
  }).map((e31) => {
    let [t11] = e31;
    return t11;
  }).join(""));
}
iM(V5, "getTerminalParts"), iM(V6, "isMultilineComment"), iM(V7, "isWhitespace"), iM(V8, "escapeRegExp"), iM(V9, "getCaseInsensitivePattern"), iM(He, "partialMatches"), iM(Ht, "partialRegExp"), iM(Hr, "getEntryRule"), iM(Hn, "getHiddenRules"), iM(Hi, "getAllReachableRules"), iM(Ha, "ruleDfs"), iM(Hs, "getCrossReferenceTerminal"), iM(Ho, "isCommentTerminal"), iM(Hl, "findNodesForProperty"), iM(Hc, "findNodeForProperty"), iM(Hh, "findNodesForPropertyInternal"), iM(Hu, "findNodesForKeyword"), iM(Hd, "findNodeForKeyword"), iM(Hp, "findNodesForKeywordInternal"), iM(Hf, "findAssignment"), iM(Hg, "findNameAssignment"), iM(Hm, "findNameAssignmentInternal"), iM(Hy, "getActionAtElement"), iM(Hv, "isOptionalCardinality"), iM(Hx, "isArrayCardinality"), iM(Hb, "isArrayOperator"), iM(Hk, "isDataTypeRule"), iM(Hw, "isDataTypeRuleInternal"), iM(H_, "isDataType"), iM(HT, "isDataTypeInternal"), iM(HS, "getExplicitRuleType"), iM(HC, "getTypeName"), iM(HE, "getActionType"), iM(HA, "getRuleType"), iM(HL, "terminalRegex");
var HI = /[\s\S]/.source;
function HM(e30, t10) {
  if (Vp(e30)) return HN(e30);
  if (Vg(e30)) return HR(e30);
  if (W7(e30)) return H$(e30);
  if (Vy(e30)) {
    let t11 = e30.rule.ref;
    if (!t11) throw Error("Missing rule reference.");
    return HB(HM(t11.definition), { cardinality: e30.cardinality, lookahead: e30.lookahead });
  }
  if (Vo(e30)) return HO(e30);
  if (Vk(e30)) return HD(e30);
  if (Vc(e30)) {
    let r10 = e30.regex.lastIndexOf("/"), n10 = e30.regex.substring(1, r10), i10 = e30.regex.substring(r10 + 1);
    return t10 && (t10.i = i10.includes("i"), t10.s = i10.includes("s"), t10.u = i10.includes("u")), HB(n10, { cardinality: e30.cardinality, lookahead: e30.lookahead, wrap: false });
  } else if (V_(e30)) return HB(HI, { cardinality: e30.cardinality, lookahead: e30.lookahead });
  else throw Error(`Invalid terminal element: ${null == e30 ? void 0 : e30.$type}`);
}
function HN(e30) {
  return HB(e30.elements.map((e31) => HM(e31)).join("|"), { cardinality: e30.cardinality, lookahead: e30.lookahead });
}
function HR(e30) {
  return HB(e30.elements.map((e31) => HM(e31)).join(""), { cardinality: e30.cardinality, lookahead: e30.lookahead });
}
function HD(e30) {
  return HB(`${HI}*?${HM(e30.terminal)}`, { cardinality: e30.cardinality, lookahead: e30.lookahead });
}
function HO(e30) {
  return HB(`(?!${HM(e30.terminal)})${HI}*?`, { cardinality: e30.cardinality, lookahead: e30.lookahead });
}
function H$(e30) {
  return e30.right ? HB(`[${HP(e30.left)}-${HP(e30.right)}]`, { cardinality: e30.cardinality, lookahead: e30.lookahead, wrap: false }) : HB(HP(e30.left), { cardinality: e30.cardinality, lookahead: e30.lookahead, wrap: false });
}
function HP(e30) {
  return V8(e30.value);
}
function HB(e30, t10) {
  var r10;
  return ((false !== t10.wrap || t10.lookahead) && (e30 = `(${null !== (r10 = t10.lookahead) && void 0 !== r10 ? r10 : ""}${e30})`), t10.cardinality) ? `${e30}${t10.cardinality}` : e30;
}
function HF(e30) {
  let t10 = [];
  for (let r10 of e30.Grammar.rules) WY(r10) && Ho(r10) && V6(HL(r10)) && t10.push(r10.name);
  return { multilineCommentRules: t10, nameRegexp: Uz };
}
function Hz(e30) {
  console && console.error && console.error(`Error: ${e30}`);
}
function Hj(e30) {
  console && console.warn && console.warn(`Warning: ${e30}`);
}
function Hq(e30) {
  let t10 = (/* @__PURE__ */ new Date()).getTime(), r10 = e30();
  return { time: (/* @__PURE__ */ new Date()).getTime() - t10, value: r10 };
}
function HU(e30) {
  function t10() {
  }
  iM(t10, "FakeConstructor"), t10.prototype = e30;
  let r10 = new t10();
  function n10() {
    return typeof r10.bar;
  }
  return iM(n10, "fakeAccess"), n10(), n10(), e30;
}
function HW(e30) {
  return HV(e30) ? e30.LABEL : e30.name;
}
function HV(e30) {
  return $9(e30.LABEL) && "" !== e30.LABEL;
}
iM(HM, "abstractElementToRegex"), iM(HN, "terminalAlternativesToRegex"), iM(HR, "terminalGroupToRegex"), iM(HD, "untilTokenToRegex"), iM(HO, "negateTokenToRegex"), iM(H$, "characterRangeToRegex"), iM(HP, "keywordToRegex"), iM(HB, "withCardinality"), iM(HF, "createGrammarConfig"), iM(Hz, "PRINT_ERROR"), iM(Hj, "PRINT_WARNING"), iM(Hq, "timer"), iM(HU, "toFastProperties"), iM(HW, "tokenLabel"), iM(HV, "hasTokenLabel");
var HH = (_la = class {
  get definition() {
    return this._definition;
  }
  set definition(e30) {
    this._definition = e30;
  }
  constructor(e30) {
    this._definition = e30;
  }
  accept(e30) {
    e30.visit(this), Oe(this.definition, (t10) => {
      t10.accept(e30);
    });
  }
}, _i68 = new WeakMap(), __privateAdd(_la, _i68, iM(_la, "AbstractProduction")), _la), HY = (_ma = class extends HH {
  constructor(e30) {
    super([]), this.idx = 1, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
  set definition(e30) {
  }
  get definition() {
    return void 0 !== this.referencedRule ? this.referencedRule.definition : [];
  }
  accept(e30) {
    e30.visit(this);
  }
}, _i69 = new WeakMap(), __privateAdd(_ma, _i69, iM(_ma, "NonTerminal")), _ma), HG = (_na = class extends HH {
  constructor(e30) {
    super(e30.definition), this.orgText = "", $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i70 = new WeakMap(), __privateAdd(_na, _i70, iM(_na, "Rule")), _na), HX = (_oa = class extends HH {
  constructor(e30) {
    super(e30.definition), this.ignoreAmbiguities = false, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i71 = new WeakMap(), __privateAdd(_oa, _i71, iM(_oa, "Alternative")), _oa), HK = (_pa = class extends HH {
  constructor(e30) {
    super(e30.definition), this.idx = 1, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i72 = new WeakMap(), __privateAdd(_pa, _i72, iM(_pa, "Option")), _pa), HZ = (_qa = class extends HH {
  constructor(e30) {
    super(e30.definition), this.idx = 1, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i73 = new WeakMap(), __privateAdd(_qa, _i73, iM(_qa, "RepetitionMandatory")), _qa), HQ = (_ra = class extends HH {
  constructor(e30) {
    super(e30.definition), this.idx = 1, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i74 = new WeakMap(), __privateAdd(_ra, _i74, iM(_ra, "RepetitionMandatoryWithSeparator")), _ra), HJ = (_sa = class extends HH {
  constructor(e30) {
    super(e30.definition), this.idx = 1, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i75 = new WeakMap(), __privateAdd(_sa, _i75, iM(_sa, "Repetition")), _sa), H0 = (_ta = class extends HH {
  constructor(e30) {
    super(e30.definition), this.idx = 1, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i76 = new WeakMap(), __privateAdd(_ta, _i76, iM(_ta, "RepetitionWithSeparator")), _ta), H1 = (_ua = class extends HH {
  get definition() {
    return this._definition;
  }
  set definition(e30) {
    this._definition = e30;
  }
  constructor(e30) {
    super(e30.definition), this.idx = 1, this.ignoreAmbiguities = false, this.hasPredicates = false, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
}, _i77 = new WeakMap(), __privateAdd(_ua, _i77, iM(_ua, "Alternation")), _ua), H2 = (_va = class {
  constructor(e30) {
    this.idx = 1, $R(this, Pu(e30, (e31) => void 0 !== e31));
  }
  accept(e30) {
    e30.visit(this);
  }
}, _i78 = new WeakMap(), __privateAdd(_va, _i78, iM(_va, "Terminal")), _va);
function H4(e30) {
  return OJ(e30, H3);
}
function H3(e30) {
  function t10(e31) {
    return OJ(e31, H3);
  }
  if (iM(t10, "convertDefinition"), e30 instanceof HY) {
    let t11 = { type: "NonTerminal", name: e30.nonTerminalName, idx: e30.idx };
    return $9(e30.label) && (t11.label = e30.label), t11;
  }
  if (e30 instanceof HX) return { type: "Alternative", definition: t10(e30.definition) };
  if (e30 instanceof HK) return { type: "Option", idx: e30.idx, definition: t10(e30.definition) };
  if (e30 instanceof HZ) return { type: "RepetitionMandatory", idx: e30.idx, definition: t10(e30.definition) };
  if (e30 instanceof HQ) return { type: "RepetitionMandatoryWithSeparator", idx: e30.idx, separator: H3(new H2({ terminalType: e30.separator })), definition: t10(e30.definition) };
  if (e30 instanceof H0) return { type: "RepetitionWithSeparator", idx: e30.idx, separator: H3(new H2({ terminalType: e30.separator })), definition: t10(e30.definition) };
  if (e30 instanceof HJ) return { type: "Repetition", idx: e30.idx, definition: t10(e30.definition) };
  else if (e30 instanceof H1) return { type: "Alternation", idx: e30.idx, definition: t10(e30.definition) };
  else if (e30 instanceof H2) {
    let t11 = { type: "Terminal", name: e30.terminalType.name, label: HW(e30.terminalType), idx: e30.idx };
    $9(e30.label) && (t11.terminalLabel = e30.label);
    let r10 = e30.terminalType.PATTERN;
    return e30.terminalType.PATTERN && (t11.pattern = Ps(r10) ? r10.source : r10), t11;
  } else if (e30 instanceof HG) return { type: "Rule", name: e30.name, orgText: e30.orgText, definition: t10(e30.definition) };
  else throw Error("non exhaustive match");
}
iM(H4, "serializeGrammar"), iM(H3, "serializeProduction");
var H5 = (_wa = class {
  visit(e30) {
    switch (e30.constructor) {
      case HY:
        return this.visitNonTerminal(e30);
      case HX:
        return this.visitAlternative(e30);
      case HK:
        return this.visitOption(e30);
      case HZ:
        return this.visitRepetitionMandatory(e30);
      case HQ:
        return this.visitRepetitionMandatoryWithSeparator(e30);
      case H0:
        return this.visitRepetitionWithSeparator(e30);
      case HJ:
        return this.visitRepetition(e30);
      case H1:
        return this.visitAlternation(e30);
      case H2:
        return this.visitTerminal(e30);
      case HG:
        return this.visitRule(e30);
      default:
        throw Error("non exhaustive match");
    }
  }
  visitNonTerminal(e30) {
  }
  visitAlternative(e30) {
  }
  visitOption(e30) {
  }
  visitRepetition(e30) {
  }
  visitRepetitionMandatory(e30) {
  }
  visitRepetitionMandatoryWithSeparator(e30) {
  }
  visitRepetitionWithSeparator(e30) {
  }
  visitAlternation(e30) {
  }
  visitTerminal(e30) {
  }
  visitRule(e30) {
  }
}, _i79 = new WeakMap(), __privateAdd(_wa, _i79, iM(_wa, "GAstVisitor")), _wa);
function H6(e30) {
  return e30 instanceof HX || e30 instanceof HK || e30 instanceof HJ || e30 instanceof HZ || e30 instanceof HQ || e30 instanceof H0 || e30 instanceof H2 || e30 instanceof HG;
}
function H7(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
  return e30 instanceof HK || e30 instanceof HJ || e30 instanceof H0 || (e30 instanceof H1 ? PP(e30.definition, (e31) => H7(e31, t10)) : !(e30 instanceof HY && Pt(t10, e30)) && e30 instanceof HH && (e30 instanceof HY && t10.push(e30), $X(e30.definition, (e31) => H7(e31, t10))));
}
function H8(e30) {
  return e30 instanceof H1;
}
function H9(e30) {
  if (e30 instanceof HY) return "SUBRULE";
  if (e30 instanceof HK) return "OPTION";
  if (e30 instanceof H1) return "OR";
  if (e30 instanceof HZ) return "AT_LEAST_ONE";
  if (e30 instanceof HQ) return "AT_LEAST_ONE_SEP";
  if (e30 instanceof H0) return "MANY_SEP";
  if (e30 instanceof HJ) return "MANY";
  else if (e30 instanceof H2) return "CONSUME";
  else throw Error("non exhaustive match");
}
iM(H6, "isSequenceProd"), iM(H7, "isOptionalProd"), iM(H8, "isBranchingProd"), iM(H9, "getProductionDslName");
var Ye = (_xa = class {
  walk(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
    Oe(e30.definition, (r10, n10) => {
      let i10 = $V(e30.definition, n10 + 1);
      if (r10 instanceof HY) this.walkProdRef(r10, i10, t10);
      else if (r10 instanceof H2) this.walkTerminal(r10, i10, t10);
      else if (r10 instanceof HX) this.walkFlat(r10, i10, t10);
      else if (r10 instanceof HK) this.walkOption(r10, i10, t10);
      else if (r10 instanceof HZ) this.walkAtLeastOne(r10, i10, t10);
      else if (r10 instanceof HQ) this.walkAtLeastOneSep(r10, i10, t10);
      else if (r10 instanceof H0) this.walkManySep(r10, i10, t10);
      else if (r10 instanceof HJ) this.walkMany(r10, i10, t10);
      else if (r10 instanceof H1) this.walkOr(r10, i10, t10);
      else throw Error("non exhaustive match");
    });
  }
  walkTerminal(e30, t10, r10) {
  }
  walkProdRef(e30, t10, r10) {
  }
  walkFlat(e30, t10, r10) {
    let n10 = t10.concat(r10);
    this.walk(e30, n10);
  }
  walkOption(e30, t10, r10) {
    let n10 = t10.concat(r10);
    this.walk(e30, n10);
  }
  walkAtLeastOne(e30, t10, r10) {
    let n10 = [new HK({ definition: e30.definition })].concat(t10, r10);
    this.walk(e30, n10);
  }
  walkAtLeastOneSep(e30, t10, r10) {
    let n10 = Yt(e30, t10, r10);
    this.walk(e30, n10);
  }
  walkMany(e30, t10, r10) {
    let n10 = [new HK({ definition: e30.definition })].concat(t10, r10);
    this.walk(e30, n10);
  }
  walkManySep(e30, t10, r10) {
    let n10 = Yt(e30, t10, r10);
    this.walk(e30, n10);
  }
  walkOr(e30, t10, r10) {
    let n10 = t10.concat(r10);
    Oe(e30.definition, (e31) => {
      let t11 = new HX({ definition: [e31] });
      this.walk(t11, n10);
    });
  }
}, _i80 = new WeakMap(), __privateAdd(_xa, _i80, iM(_xa, "RestWalker")), _xa);
function Yt(e30, t10, r10) {
  return [new HK({ definition: [new H2({ terminalType: e30.separator })].concat(e30.definition) })].concat(t10, r10);
}
function Yr(e30) {
  if (e30 instanceof HY) return Yr(e30.referencedRule);
  if (e30 instanceof H2) return Ya(e30);
  if (H6(e30)) return Yn(e30);
  if (H8(e30)) return Yi(e30);
  throw Error("non exhaustive match");
}
function Yn(e30) {
  let t10, r10 = [], n10 = e30.definition, i10 = 0, a10 = n10.length > i10, s10 = true;
  for (; a10 && s10; ) s10 = H7(t10 = n10[i10]), r10 = r10.concat(Yr(t10)), i10 += 1, a10 = n10.length > i10;
  return PF(r10);
}
function Yi(e30) {
  return PF($n(OJ(e30.definition, (e31) => Yr(e31))));
}
function Ya(e30) {
  return [e30.terminalType];
}
iM(Yt, "restForRepetitionWithSeparator"), iM(Yr, "first"), iM(Yn, "firstForSequence"), iM(Yi, "firstForBranching"), iM(Ya, "firstForTerminal");
var Ys = "_~IN~_", Yo = (_ya = class extends Ye {
  constructor(e30) {
    super(), this.topProd = e30, this.follows = {};
  }
  startWalking() {
    return this.walk(this.topProd), this.follows;
  }
  walkTerminal(e30, t10, r10) {
  }
  walkProdRef(e30, t10, r10) {
    let n10 = Yc(e30.referencedRule, e30.idx) + this.topProd.name, i10 = Yr(new HX({ definition: t10.concat(r10) }));
    this.follows[n10] = i10;
  }
}, _i81 = new WeakMap(), __privateAdd(_ya, _i81, iM(_ya, "ResyncFollowsWalker")), _ya);
function Yl(e30) {
  let t10 = {};
  return Oe(e30, (e31) => {
    $R(t10, new Yo(e31).startWalking());
  }), t10;
}
function Yc(e30, t10) {
  return e30.name + t10 + Ys;
}
iM(Yl, "computeAllProdsFollows"), iM(Yc, "buildBetweenProdsFollowPrefix");
var Yh = {}, Yu = new V0();
function Yd(e30) {
  let t10 = e30.toString();
  if (Yh.hasOwnProperty(t10)) return Yh[t10];
  {
    let e31 = Yu.pattern(t10);
    return Yh[t10] = e31, e31;
  }
}
function Yp() {
  Yh = {};
}
iM(Yd, "getRegExpAst"), iM(Yp, "clearRegExpParserCache");
var Yf = "Complement Sets are not supported for first char optimization", Yg = 'Unable to use "first char" lexer optimizations:\n';
function Ym(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
  try {
    let t11 = Yd(e30);
    return Yy(t11.value, {}, t11.flags.ignoreCase);
  } catch (r10) {
    if (r10.message === Yf) t10 && Hj(`${Yg}	Unable to optimize: < ${e30.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);
    else {
      let r11 = "";
      t10 && (r11 = "\n	This will disable the lexer's first char optimizations.\n	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."), Hz(`${Yg}
	Failed parsing: < ${e30.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues` + r11);
    }
  }
  return [];
}
function Yy(e30, t10, r10) {
  switch (e30.type) {
    case "Disjunction":
      for (let n11 = 0; n11 < e30.value.length; n11++) Yy(e30.value[n11], t10, r10);
      break;
    case "Alternative":
      let n10 = e30.value;
      for (let e31 = 0; e31 < n10.length; e31++) {
        let i10 = n10[e31];
        switch (i10.type) {
          case "EndAnchor":
          case "GroupBackReference":
          case "Lookahead":
          case "NegativeLookahead":
          case "StartAnchor":
          case "WordBoundary":
          case "NonWordBoundary":
            continue;
        }
        switch (i10.type) {
          case "Character":
            Yv(i10.value, t10, r10);
            break;
          case "Set":
            if (true === i10.complement) throw Error(Yf);
            Oe(i10.value, (e32) => {
              if ("number" == typeof e32) Yv(e32, t10, r10);
              else if (true === r10) for (let n11 = e32.from; n11 <= e32.to; n11++) Yv(n11, t10, r10);
              else {
                for (let n11 = e32.from; n11 <= e32.to && n11 < Y4; n11++) Yv(n11, t10, r10);
                if (e32.to >= Y4) {
                  let r11 = e32.from >= Y4 ? e32.from : Y4, n11 = e32.to, i11 = Y5(r11), a11 = Y5(n11);
                  for (let e33 = i11; e33 <= a11; e33++) t10[e33] = e33;
                }
              }
            });
            break;
          case "Group":
            Yy(i10.value, t10, r10);
            break;
          default:
            throw Error("Non Exhaustive Match");
        }
        let a10 = void 0 !== i10.quantifier && 0 === i10.quantifier.atLeast;
        if ("Group" === i10.type && false === Yk(i10) || "Group" !== i10.type && false === a10) break;
      }
      break;
    default:
      throw Error("non exhaustive match!");
  }
  return O1(t10);
}
function Yv(e30, t10, r10) {
  let n10 = Y5(e30);
  t10[n10] = n10, true === r10 && Yx(e30, t10);
}
function Yx(e30, t10) {
  let r10 = String.fromCharCode(e30), n10 = r10.toUpperCase();
  if (n10 !== r10) {
    let e31 = Y5(n10.charCodeAt(0));
    t10[e31] = e31;
  } else {
    let e31 = r10.toLowerCase();
    if (e31 !== r10) {
      let r11 = Y5(e31.charCodeAt(0));
      t10[r11] = r11;
    }
  }
}
function Yb(e30, t10) {
  return $J(e30.value, (e31) => "number" == typeof e31 ? Pt(t10, e31) : void 0 !== $J(t10, (t11) => e31.from <= t11 && t11 <= e31.to));
}
function Yk(e30) {
  let t10 = e30.quantifier;
  return !!t10 && 0 === t10.atLeast || !!e30.value && (b$(e30.value) ? $X(e30.value, Yk) : Yk(e30.value));
}
iM(Ym, "getOptimizedStartCodesIndices"), iM(Yy, "firstCharOptimizedIndices"), iM(Yv, "addOptimizedIdxToResult"), iM(Yx, "handleIgnoreCase"), iM(Yb, "findCode"), iM(Yk, "isWholeOptional");
var Yw = (_za = class extends V1 {
  constructor(e30) {
    super(), this.targetCharCodes = e30, this.found = false;
  }
  visitChildren(e30) {
    if (true !== this.found) {
      switch (e30.type) {
        case "Lookahead":
          this.visitLookahead(e30);
          return;
        case "NegativeLookahead":
          this.visitNegativeLookahead(e30);
          return;
      }
      super.visitChildren(e30);
    }
  }
  visitCharacter(e30) {
    Pt(this.targetCharCodes, e30.value) && (this.found = true);
  }
  visitSet(e30) {
    e30.complement ? void 0 === Yb(e30, this.targetCharCodes) && (this.found = true) : void 0 !== Yb(e30, this.targetCharCodes) && (this.found = true);
  }
}, _i82 = new WeakMap(), __privateAdd(_za, _i82, iM(_za, "CharCodeFinder")), _za);
function Y_(e30, t10) {
  if (!(t10 instanceof RegExp)) return void 0 !== $J(t10, (t11) => Pt(e30, t11.charCodeAt(0)));
  {
    let r10 = Yd(t10), n10 = new Yw(e30);
    return n10.visit(r10), n10.found;
  }
}
iM(Y_, "canMatchCharCode");
var YT = "PATTERN", YS = "defaultMode", YC = "modes", YE = "boolean" == typeof RegExp("(?:)").sticky;
function YA(e30, t10) {
  let r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10;
  let g10 = (t10 = D3(t10, { useSticky: YE, debug: false, safeMode: false, positionTracking: "full", lineTerminatorCharacters: ["\r", "\n"], tracer: iM((e31, t11) => t11(), "tracer") })).tracer;
  g10("initCharCodeToOptimizedIndexMap", () => {
    Y6();
  }), g10("Reject Lexer.NA", () => {
    r10 = PD(e30, (e31) => e31[YT] === Gp.NA);
  });
  let y10 = false;
  g10("Transform Patterns", () => {
    y10 = false, n10 = OJ(r10, (e31) => {
      let r11 = e31[YT];
      if (Ps(r11)) {
        let e32 = r11.source;
        return 1 !== e32.length || "^" === e32 || "$" === e32 || "." === e32 || r11.ignoreCase ? 2 !== e32.length || "\\" !== e32[0] || Pt(["d", "D", "s", "S", "t", "r", "n", "t", "0", "c", "b", "B", "f", "v", "w", "W"], e32[1]) ? t10.useSticky ? YH(r11) : YV(r11) : e32[1] : e32;
      }
      if (xT(r11)) return y10 = true, { exec: r11 };
      if ("object" == typeof r11) return y10 = true, r11;
      if ("string" == typeof r11) {
        if (1 === r11.length) return r11;
        {
          let e32 = new RegExp(r11.replace(/[\\^$.*+?()[\]{}|]/g, "\\$&"));
          return t10.useSticky ? YH(e32) : YV(e32);
        }
      }
      throw Error("non exhaustive match");
    });
  }), g10("misc mapping", () => {
    i10 = OJ(r10, (e31) => e31.tokenTypeIdx), a10 = OJ(r10, (e31) => {
      let t11 = e31.GROUP;
      if (t11 !== Gp.SKIPPED) {
        if ($9(t11)) return t11;
        if (O2(t11)) return false;
        throw Error("non exhaustive match");
      }
    }), s10 = OJ(r10, (e31) => {
      let t11 = e31.LONGER_ALT;
      if (t11) return b$(t11) ? OJ(t11, (e32) => Pn(r10, e32)) : [Pn(r10, t11)];
    }), o10 = OJ(r10, (e31) => e31.PUSH_MODE), l10 = OJ(r10, (e31) => $8(e31, "POP_MODE"));
  }), g10("Line Terminator Handling", () => {
    let e31 = Y1(t10.lineTerminatorCharacters);
    h10 = OJ(r10, (e32) => false), "onlyOffset" !== t10.positionTracking && (h10 = OJ(r10, (t11) => $8(t11, "LINE_BREAKS") ? !!t11.LINE_BREAKS : false === YJ(t11, e31) && Y_(e31, t11.PATTERN)));
  }), g10("Misc Mapping #2", () => {
    u10 = OJ(r10, YK), d10 = OJ(n10, YZ), p10 = $l(r10, (e31, t11) => {
      let r11 = t11.GROUP;
      return $9(r11) && r11 !== Gp.SKIPPED && (e31[r11] = []), e31;
    }, {}), f10 = OJ(n10, (e31, t11) => ({ pattern: n10[t11], longerAlt: s10[t11], canLineTerminator: h10[t11], isCustom: u10[t11], short: d10[t11], group: a10[t11], push: o10[t11], pop: l10[t11], tokenTypeIdx: i10[t11], tokenType: r10[t11] }));
  });
  let v10 = true, x10 = [];
  return t10.safeMode || g10("First Char Optimization", () => {
    x10 = $l(r10, (e31, r11, n11) => {
      if ("string" == typeof r11.PATTERN) Y2(e31, Y5(r11.PATTERN.charCodeAt(0)), f10[n11]);
      else if (b$(r11.START_CHARS_HINT)) {
        let t11;
        Oe(r11.START_CHARS_HINT, (r12) => {
          let i11 = Y5("string" == typeof r12 ? r12.charCodeAt(0) : r12);
          t11 !== i11 && (t11 = i11, Y2(e31, i11, f10[n11]));
        });
      } else if (Ps(r11.PATTERN)) {
        if (r11.PATTERN.unicode) v10 = false, t10.ensureOptimizations && Hz(`${Yg}	Unable to analyze < ${r11.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);
        else {
          let i11 = Ym(r11.PATTERN, t10.ensureOptimizations);
          CG(i11) && (v10 = false), Oe(i11, (t11) => {
            Y2(e31, t11, f10[n11]);
          });
        }
      } else t10.ensureOptimizations && Hz(`${Yg}	TokenType: <${r11.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`), v10 = false;
      return e31;
    }, []);
  }), { emptyGroups: p10, patternIdxToConfig: f10, charCodeToPatternIdxToConfig: x10, hasCustom: y10, canBeOptimized: v10 };
}
function YL(e30, t10) {
  let r10 = [], n10 = YM(e30);
  r10 = r10.concat(n10.errors);
  let i10 = YN(n10.valid), a10 = i10.valid;
  return (r10 = (r10 = (r10 = (r10 = r10.concat(i10.errors)).concat(YI(a10))).concat(Yz(a10))).concat(Yj(a10, t10))).concat(Yq(a10));
}
function YI(e30) {
  let t10 = [], r10 = OZ(e30, (e31) => Ps(e31[YT]));
  return (t10 = (t10 = (t10 = (t10 = t10.concat(YD(r10))).concat(YP(r10))).concat(YB(r10))).concat(YF(r10))).concat(YO(r10));
}
function YM(e30) {
  let t10 = OZ(e30, (e31) => !$8(e31, YT));
  return { errors: OJ(t10, (e31) => ({ message: "Token Type: ->" + e31.name + "<- missing static 'PATTERN' property", type: rg.MISSING_PATTERN, tokenTypes: [e31] })), valid: $W(e30, t10) };
}
function YN(e30) {
  let t10 = OZ(e30, (e31) => {
    let t11 = e31[YT];
    return !Ps(t11) && !xT(t11) && !$8(t11, "exec") && !$9(t11);
  });
  return { errors: OJ(t10, (e31) => ({ message: "Token Type: ->" + e31.name + "<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.", type: rg.INVALID_PATTERN, tokenTypes: [e31] })), valid: $W(e30, t10) };
}
iM(YA, "analyzeTokenTypes"), iM(YL, "validatePatterns"), iM(YI, "validateRegExpPattern"), iM(YM, "findMissingPatterns"), iM(YN, "findInvalidPatterns");
var YR = /[^\\][$]/;
function YD(e30) {
  var _i209;
  const _t4 = class _t4 extends V1 {
    constructor() {
      super(...arguments), this.found = false;
    }
    visitEndAnchor(e31) {
      this.found = true;
    }
  };
  _i209 = new WeakMap();
  __privateAdd(_t4, _i209, iM(_t4, "EndAnchorFinder"));
  let t10 = _t4;
  return OJ(OZ(e30, (e31) => {
    let r10 = e31.PATTERN;
    try {
      let e32 = Yd(r10), n10 = new t10();
      return n10.visit(e32), n10.found;
    } catch (e32) {
      return YR.test(r10.source);
    }
  }), (e31) => ({ message: "Unexpected RegExp Anchor Error:\n	Token Type: ->" + e31.name + "<- static 'PATTERN' cannot contain end of input anchor '$'\n	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.", type: rg.EOI_ANCHOR_FOUND, tokenTypes: [e31] }));
}
function YO(e30) {
  return OJ(OZ(e30, (e31) => e31.PATTERN.test("")), (e31) => ({ message: "Token Type: ->" + e31.name + "<- static 'PATTERN' must not match an empty string", type: rg.EMPTY_MATCH_PATTERN, tokenTypes: [e31] }));
}
iM(YD, "findEndOfInputAnchor"), iM(YO, "findEmptyMatchRegExps");
var Y$ = /[^\\[][\^]|^\^/;
function YP(e30) {
  var _i209;
  const _t4 = class _t4 extends V1 {
    constructor() {
      super(...arguments), this.found = false;
    }
    visitStartAnchor(e31) {
      this.found = true;
    }
  };
  _i209 = new WeakMap();
  __privateAdd(_t4, _i209, iM(_t4, "StartAnchorFinder"));
  let t10 = _t4;
  return OJ(OZ(e30, (e31) => {
    let r10 = e31.PATTERN;
    try {
      let e32 = Yd(r10), n10 = new t10();
      return n10.visit(e32), n10.found;
    } catch (e32) {
      return Y$.test(r10.source);
    }
  }), (e31) => ({ message: "Unexpected RegExp Anchor Error:\n	Token Type: ->" + e31.name + "<- static 'PATTERN' cannot contain start of input anchor '^'\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.", type: rg.SOI_ANCHOR_FOUND, tokenTypes: [e31] }));
}
function YB(e30) {
  return OJ(OZ(e30, (e31) => {
    let t10 = e31[YT];
    return t10 instanceof RegExp && (t10.multiline || t10.global);
  }), (e31) => ({ message: "Token Type: ->" + e31.name + "<- static 'PATTERN' may NOT contain global('g') or multiline('m')", type: rg.UNSUPPORTED_FLAGS_FOUND, tokenTypes: [e31] }));
}
function YF(e30) {
  let t10 = [], r10 = OJ(e30, (r11) => $l(e30, (e31, n10) => (r11.PATTERN.source !== n10.PATTERN.source || Pt(t10, n10) || n10.PATTERN === Gp.NA || (t10.push(n10), e31.push(n10)), e31), []));
  return OJ(OZ(r10 = $B(r10), (e31) => e31.length > 1), (e31) => {
    let t11 = OJ(e31, (e32) => e32.name), r11 = $0(e31).PATTERN;
    return { message: `The same RegExp pattern ->${r11}<-has been used in all of the following Token Types: ${t11.join(", ")} <-`, type: rg.DUPLICATE_PATTERNS_FOUND, tokenTypes: e31 };
  });
}
function Yz(e30) {
  return OJ(OZ(e30, (e31) => {
    if (!$8(e31, "GROUP")) return false;
    let t10 = e31.GROUP;
    return t10 !== Gp.SKIPPED && t10 !== Gp.NA && !$9(t10);
  }), (e31) => ({ message: "Token Type: ->" + e31.name + "<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String", type: rg.INVALID_GROUP_TYPE_FOUND, tokenTypes: [e31] }));
}
function Yj(e30, t10) {
  return OJ(OZ(e30, (e31) => void 0 !== e31.PUSH_MODE && !Pt(t10, e31.PUSH_MODE)), (e31) => ({ message: `Token Type: ->${e31.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e31.PUSH_MODE}<-which does not exist`, type: rg.PUSH_MODE_DOES_NOT_EXIST, tokenTypes: [e31] }));
}
function Yq(e30) {
  let t10 = [], r10 = $l(e30, (e31, t11, r11) => {
    let n10 = t11.PATTERN;
    return n10 === Gp.NA || ($9(n10) ? e31.push({ str: n10, idx: r11, tokenType: t11 }) : Ps(n10) && YW(n10) && e31.push({ str: n10.source, idx: r11, tokenType: t11 })), e31;
  }, []);
  return Oe(e30, (e31, n10) => {
    Oe(r10, (r11) => {
      let { str: i10, idx: a10, tokenType: s10 } = r11;
      if (n10 < a10 && YU(i10, e31.PATTERN)) {
        let r12 = `Token: ->${s10.name}<- can never be matched.
Because it appears AFTER the Token Type ->${e31.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;
        t10.push({ message: r12, type: rg.UNREACHABLE_PATTERN, tokenTypes: [e31, s10] });
      }
    });
  }), t10;
}
function YU(e30, t10) {
  if (Ps(t10)) {
    let r10 = t10.exec(e30);
    return null !== r10 && 0 === r10.index;
  }
  if (xT(t10)) return t10(e30, 0, [], {});
  if ($8(t10, "exec")) return t10.exec(e30, 0, [], {});
  if ("string" == typeof t10) return t10 === e30;
  throw Error("non exhaustive match");
}
function YW(e30) {
  return void 0 === $J([".", "\\", "[", "]", "|", "^", "$", "(", ")", "?", "*", "+", "{"], (t10) => -1 !== e30.source.indexOf(t10));
}
function YV(e30) {
  let t10 = e30.ignoreCase ? "i" : "";
  return RegExp(`^(?:${e30.source})`, t10);
}
function YH(e30) {
  let t10 = e30.ignoreCase ? "iy" : "y";
  return RegExp(`${e30.source}`, t10);
}
function YY(e30, t10, r10) {
  let n10 = [];
  return $8(e30, YS) || n10.push({ message: "A MultiMode Lexer cannot be initialized without a <" + YS + "> property in its definition\n", type: rg.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE }), $8(e30, YC) || n10.push({ message: "A MultiMode Lexer cannot be initialized without a <" + YC + "> property in its definition\n", type: rg.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY }), $8(e30, YC) && $8(e30, YS) && !$8(e30.modes, e30.defaultMode) && n10.push({ message: `A MultiMode Lexer cannot be initialized with a ${YS}: <${e30.defaultMode}>which does not exist
`, type: rg.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST }), $8(e30, YC) && Oe(e30.modes, (e31, t11) => {
    Oe(e31, (r11, i10) => {
      O2(r11) ? n10.push({ message: `A Lexer cannot be initialized using an undefined Token Type. Mode:<${t11}> at index: <${i10}>
`, type: rg.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED }) : $8(r11, "LONGER_ALT") && Oe(b$(r11.LONGER_ALT) ? r11.LONGER_ALT : [r11.LONGER_ALT], (i11) => {
        O2(i11) || Pt(e31, i11) || n10.push({ message: `A MultiMode Lexer cannot be initialized with a longer_alt <${i11.name}> on token <${r11.name}> outside of mode <${t11}>
`, type: rg.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE });
      });
    });
  }), n10;
}
function YG(e30, t10, r10) {
  let n10 = [], i10 = false, a10 = PD($B($n(O1(e30.modes))), (e31) => e31[YT] === Gp.NA), s10 = Y1(r10);
  return t10 && Oe(a10, (e31) => {
    let t11 = YJ(e31, s10);
    if (false !== t11) {
      let r11 = { message: Y0(e31, t11), type: t11.issue, tokenType: e31 };
      n10.push(r11);
    } else $8(e31, "LINE_BREAKS") ? true === e31.LINE_BREAKS && (i10 = true) : Y_(s10, e31.PATTERN) && (i10 = true);
  }), t10 && !i10 && n10.push({ message: "Warning: No LINE_BREAKS Found.\n	This Lexer has been defined to track line and column information,\n	But none of the Token Types can be identified as matching a line terminator.\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n	for details.", type: rg.NO_LINE_BREAKS_FLAGS }), n10;
}
function YX(e30) {
  let t10 = {};
  return Oe(Dx(e30), (r10) => {
    if (b$(e30[r10])) t10[r10] = [];
    else throw Error("non exhaustive match");
  }), t10;
}
function YK(e30) {
  let t10 = e30.PATTERN;
  if (Ps(t10)) return false;
  if (xT(t10) || $8(t10, "exec")) return true;
  if ($9(t10)) return false;
  throw Error("non exhaustive match");
}
function YZ(e30) {
  return !!$9(e30) && 1 === e30.length && e30.charCodeAt(0);
}
iM(YP, "findStartOfInputAnchor"), iM(YB, "findUnsupportedFlags"), iM(YF, "findDuplicatePatterns"), iM(Yz, "findInvalidGroupType"), iM(Yj, "findModesThatDoNotExist"), iM(Yq, "findUnreachablePatterns"), iM(YU, "testTokenType"), iM(YW, "noMetaChar"), iM(YV, "addStartOfInput"), iM(YH, "addStickyFlag"), iM(YY, "performRuntimeChecks"), iM(YG, "performWarningRuntimeChecks"), iM(YX, "cloneEmptyGroups"), iM(YK, "isCustomPattern"), iM(YZ, "isShortPattern");
var YQ = { test: iM(function(e30) {
  let t10 = e30.length;
  for (let r10 = this.lastIndex; r10 < t10; r10++) {
    let t11 = e30.charCodeAt(r10);
    if (10 === t11) return this.lastIndex = r10 + 1, true;
    if (13 === t11) return 10 === e30.charCodeAt(r10 + 1) ? this.lastIndex = r10 + 2 : this.lastIndex = r10 + 1, true;
  }
  return false;
}, "test"), lastIndex: 0 };
function YJ(e30, t10) {
  if ($8(e30, "LINE_BREAKS")) return false;
  if (Ps(e30.PATTERN)) {
    try {
      Y_(t10, e30.PATTERN);
    } catch (e31) {
      return { issue: rg.IDENTIFY_TERMINATOR, errMsg: e31.message };
    }
    return false;
  }
  if ($9(e30.PATTERN)) return false;
  if (YK(e30)) return { issue: rg.CUSTOM_LINE_BREAK };
  throw Error("non exhaustive match");
}
function Y0(e30, t10) {
  if (t10.issue === rg.IDENTIFY_TERMINATOR) return `Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e30.name}> Token Type
	 Root cause: ${t10.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;
  if (t10.issue === rg.CUSTOM_LINE_BREAK) return `Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e30.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;
  throw Error("non exhaustive match");
}
function Y1(e30) {
  return OJ(e30, (e31) => $9(e31) ? e31.charCodeAt(0) : e31);
}
function Y2(e30, t10, r10) {
  void 0 === e30[t10] ? e30[t10] = [r10] : e30[t10].push(r10);
}
iM(YJ, "checkLineBreaksIssues"), iM(Y0, "buildLineBreakIssueMessage"), iM(Y1, "getCharCodes"), iM(Y2, "addToMapOfArrays");
var Y4 = 256, Y3 = [];
function Y5(e30) {
  return e30 < Y4 ? e30 : Y3[e30];
}
function Y6() {
  if (CG(Y3)) {
    Y3 = Array(65536);
    for (let e30 = 0; e30 < 65536; e30++) Y3[e30] = e30 > 255 ? 255 + ~~(e30 / 255) : e30;
  }
}
function Y7(e30, t10) {
  let r10 = e30.tokenTypeIdx;
  return r10 === t10.tokenTypeIdx || true === t10.isParent && true === t10.categoryMatchesMap[r10];
}
function Y8(e30, t10) {
  return e30.tokenTypeIdx === t10.tokenTypeIdx;
}
iM(Y5, "charCodeToOptimizedIndex"), iM(Y6, "initCharCodeToOptimizedIndexMap"), iM(Y7, "tokenStructuredMatcher"), iM(Y8, "tokenStructuredMatcherNoCategories");
var Y9 = 1, Ge = {};
function Gt(e30) {
  let t10 = Gr(e30);
  Gn(t10), Ga(t10), Gi(t10), Oe(t10, (e31) => {
    e31.isParent = e31.categoryMatches.length > 0;
  });
}
function Gr(e30) {
  let t10 = D1(e30), r10 = e30, n10 = true;
  for (; n10; ) {
    let e31 = $W(r10 = $B($n(OJ(r10, (e32) => e32.CATEGORIES))), t10);
    t10 = t10.concat(e31), CG(e31) ? n10 = false : r10 = e31;
  }
  return t10;
}
function Gn(e30) {
  Oe(e30, (e31) => {
    Go(e31) || (Ge[Y9] = e31, e31.tokenTypeIdx = Y9++), Gl(e31) && !b$(e31.CATEGORIES) && (e31.CATEGORIES = [e31.CATEGORIES]), Gl(e31) || (e31.CATEGORIES = []), Gc(e31) || (e31.categoryMatches = []), Gh(e31) || (e31.categoryMatchesMap = {});
  });
}
function Gi(e30) {
  Oe(e30, (e31) => {
    e31.categoryMatches = [], Oe(e31.categoryMatchesMap, (t10, r10) => {
      e31.categoryMatches.push(Ge[r10].tokenTypeIdx);
    });
  });
}
function Ga(e30) {
  Oe(e30, (e31) => {
    Gs([], e31);
  });
}
function Gs(e30, t10) {
  Oe(e30, (e31) => {
    t10.categoryMatchesMap[e31.tokenTypeIdx] = true;
  }), Oe(t10.CATEGORIES, (r10) => {
    let n10 = e30.concat(t10);
    Pt(n10, r10) || Gs(n10, r10);
  });
}
function Go(e30) {
  return $8(e30, "tokenTypeIdx");
}
function Gl(e30) {
  return $8(e30, "CATEGORIES");
}
function Gc(e30) {
  return $8(e30, "categoryMatches");
}
function Gh(e30) {
  return $8(e30, "categoryMatchesMap");
}
function Gu(e30) {
  return $8(e30, "tokenTypeIdx");
}
iM(Gt, "augmentTokenTypes"), iM(Gr, "expandCategories"), iM(Gn, "assignTokenDefaultProps"), iM(Gi, "assignCategoriesTokensProp"), iM(Ga, "assignCategoriesMapProp"), iM(Gs, "singleAssignCategoriesToksMap"), iM(Go, "hasShortKeyProperty"), iM(Gl, "hasCategoriesProperty"), iM(Gc, "hasExtendingTokensTypesProperty"), iM(Gh, "hasExtendingTokensTypesMapProperty"), iM(Gu, "isTokenType"), (tL = rg || (rg = {}))[tL.MISSING_PATTERN = 0] = "MISSING_PATTERN", tL[tL.INVALID_PATTERN = 1] = "INVALID_PATTERN", tL[tL.EOI_ANCHOR_FOUND = 2] = "EOI_ANCHOR_FOUND", tL[tL.UNSUPPORTED_FLAGS_FOUND = 3] = "UNSUPPORTED_FLAGS_FOUND", tL[tL.DUPLICATE_PATTERNS_FOUND = 4] = "DUPLICATE_PATTERNS_FOUND", tL[tL.INVALID_GROUP_TYPE_FOUND = 5] = "INVALID_GROUP_TYPE_FOUND", tL[tL.PUSH_MODE_DOES_NOT_EXIST = 6] = "PUSH_MODE_DOES_NOT_EXIST", tL[tL.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE = 7] = "MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE", tL[tL.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY = 8] = "MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY", tL[tL.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST = 9] = "MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST", tL[tL.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED = 10] = "LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED", tL[tL.SOI_ANCHOR_FOUND = 11] = "SOI_ANCHOR_FOUND", tL[tL.EMPTY_MATCH_PATTERN = 12] = "EMPTY_MATCH_PATTERN", tL[tL.NO_LINE_BREAKS_FLAGS = 13] = "NO_LINE_BREAKS_FLAGS", tL[tL.UNREACHABLE_PATTERN = 14] = "UNREACHABLE_PATTERN", tL[tL.IDENTIFY_TERMINATOR = 15] = "IDENTIFY_TERMINATOR", tL[tL.CUSTOM_LINE_BREAK = 16] = "CUSTOM_LINE_BREAK", tL[tL.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE = 17] = "MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";
var Gd = { deferDefinitionErrorsHandling: false, positionTracking: "full", lineTerminatorsPattern: /\n|\r\n?/g, lineTerminatorCharacters: ["\n", "\r"], ensureOptimizations: false, safeMode: false, errorMessageProvider: { buildUnableToPopLexerModeMessage: (e30) => `Unable to pop Lexer Mode after encountering Token ->${e30.image}<- The Mode Stack is empty`, buildUnexpectedCharactersMessage: (e30, t10, r10, n10, i10) => `unexpected character: ->${e30.charAt(t10)}<- at offset: ${t10}, skipped ${r10} characters.` }, traceInitPerf: false, skipValidations: false, recoveryEnabled: true };
Object.freeze(Gd);
var Gp = (_Aa = class {
  constructor(e30, t10 = Gd) {
    if (this.lexerDefinition = e30, this.lexerDefinitionErrors = [], this.lexerDefinitionWarning = [], this.patternIdxToConfig = {}, this.charCodeToPatternIdxToConfig = {}, this.modes = [], this.emptyGroups = {}, this.trackStartLines = true, this.trackEndLines = true, this.hasCustom = false, this.canModeBeOptimized = {}, this.TRACE_INIT = (e31, t11) => {
      if (true !== this.traceInitPerf) return t11();
      {
        this.traceInitIndent++;
        let r11 = Array(this.traceInitIndent + 1).join("	");
        this.traceInitIndent < this.traceInitMaxIdent && console.log(`${r11}--> <${e31}>`);
        let { time: n10, value: i10 } = Hq(t11), a10 = n10 > 10 ? console.warn : console.log;
        return this.traceInitIndent < this.traceInitMaxIdent && a10(`${r11}<-- <${e31}> time: ${n10}ms`), this.traceInitIndent--, i10;
      }
    }, "boolean" == typeof t10) throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");
    this.config = $R({}, Gd, t10);
    let r10 = this.config.traceInitPerf;
    true === r10 ? (this.traceInitMaxIdent = 1 / 0, this.traceInitPerf = true) : "number" == typeof r10 && (this.traceInitMaxIdent = r10, this.traceInitPerf = true), this.traceInitIndent = -1, this.TRACE_INIT("Lexer Constructor", () => {
      let r11;
      let n10 = true;
      this.TRACE_INIT("Lexer Config handling", () => {
        if (this.config.lineTerminatorsPattern === Gd.lineTerminatorsPattern) this.config.lineTerminatorsPattern = YQ;
        else if (this.config.lineTerminatorCharacters === Gd.lineTerminatorCharacters) throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");
        if (t10.safeMode && t10.ensureOptimizations) throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');
        this.trackStartLines = /full|onlyStart/i.test(this.config.positionTracking), this.trackEndLines = /full/i.test(this.config.positionTracking), b$(e30) ? r11 = { modes: { defaultMode: D1(e30) }, defaultMode: YS } : (n10 = false, r11 = D1(e30));
      }), false === this.config.skipValidations && (this.TRACE_INIT("performRuntimeChecks", () => {
        this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat(YY(r11, this.trackStartLines, this.config.lineTerminatorCharacters));
      }), this.TRACE_INIT("performWarningRuntimeChecks", () => {
        this.lexerDefinitionWarning = this.lexerDefinitionWarning.concat(YG(r11, this.trackStartLines, this.config.lineTerminatorCharacters));
      })), r11.modes = r11.modes ? r11.modes : {}, Oe(r11.modes, (e31, t11) => {
        r11.modes[t11] = PD(e31, (e32) => O2(e32));
      });
      let i10 = Dx(r11.modes);
      if (Oe(r11.modes, (e31, r12) => {
        this.TRACE_INIT(`Mode: <${r12}> processing`, () => {
          if (this.modes.push(r12), false === this.config.skipValidations && this.TRACE_INIT("validatePatterns", () => {
            this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat(YL(e31, i10));
          }), CG(this.lexerDefinitionErrors)) {
            let n11;
            Gt(e31), this.TRACE_INIT("analyzeTokenTypes", () => {
              n11 = YA(e31, { lineTerminatorCharacters: this.config.lineTerminatorCharacters, positionTracking: t10.positionTracking, ensureOptimizations: t10.ensureOptimizations, safeMode: t10.safeMode, tracer: this.TRACE_INIT });
            }), this.patternIdxToConfig[r12] = n11.patternIdxToConfig, this.charCodeToPatternIdxToConfig[r12] = n11.charCodeToPatternIdxToConfig, this.emptyGroups = $R({}, this.emptyGroups, n11.emptyGroups), this.hasCustom = n11.hasCustom || this.hasCustom, this.canModeBeOptimized[r12] = n11.canBeOptimized;
          }
        });
      }), this.defaultMode = r11.defaultMode, !CG(this.lexerDefinitionErrors) && !this.config.deferDefinitionErrorsHandling) throw Error("Errors detected in definition of Lexer:\n" + OJ(this.lexerDefinitionErrors, (e31) => e31.message).join("-----------------------\n"));
      Oe(this.lexerDefinitionWarning, (e31) => {
        Hj(e31.message);
      }), this.TRACE_INIT("Choosing sub-methods implementations", () => {
        if (YE ? (this.chopInput = ku, this.match = this.matchWithTest) : (this.updateLastIndex = $g, this.match = this.matchWithExec), n10 && (this.handleModes = $g), false === this.trackStartLines && (this.computeNewColumn = ku), false === this.trackEndLines && (this.updateTokenEndLineColumnLocation = $g), /full/i.test(this.config.positionTracking)) this.createTokenInstance = this.createFullToken;
        else if (/onlyStart/i.test(this.config.positionTracking)) this.createTokenInstance = this.createStartOnlyToken;
        else if (/onlyOffset/i.test(this.config.positionTracking)) this.createTokenInstance = this.createOffsetOnlyToken;
        else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);
        this.hasCustom ? (this.addToken = this.addTokenUsingPush, this.handlePayload = this.handlePayloadWithCustom) : (this.addToken = this.addTokenUsingMemberAccess, this.handlePayload = this.handlePayloadNoCustom);
      }), this.TRACE_INIT("Failed Optimization Warnings", () => {
        let e31 = $l(this.canModeBeOptimized, (e32, t11, r12) => (false === t11 && e32.push(r12), e32), []);
        if (t10.ensureOptimizations && !CG(e31)) throw Error(`Lexer Modes: < ${e31.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`);
      }), this.TRACE_INIT("clearRegExpParserCache", () => {
        Yp();
      }), this.TRACE_INIT("toFastProperties", () => {
        HU(this);
      });
    });
  }
  tokenize(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.defaultMode;
    if (!CG(this.lexerDefinitionErrors)) throw Error("Unable to Tokenize because Errors detected in definition of Lexer:\n" + OJ(this.lexerDefinitionErrors, (e31) => e31.message).join("-----------------------\n"));
    return this.tokenizeInternal(e30, t10);
  }
  tokenizeInternal(e30, t10) {
    let r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10, x10, b10;
    let k10 = e30, w10 = k10.length, _10 = 0, T10 = 0, S10 = Array(this.hasCustom ? 0 : Math.floor(e30.length / 10)), C10 = [], E10 = this.trackStartLines ? 1 : void 0, A10 = this.trackStartLines ? 1 : void 0, L10 = YX(this.emptyGroups), I10 = this.trackStartLines, M10 = this.config.lineTerminatorsPattern, N10 = 0, R10 = [], D10 = [], O10 = [], $10 = [];
    function P10() {
      return R10;
    }
    function B10(e31) {
      let t11 = D10[Y5(e31)];
      return void 0 === t11 ? $10 : t11;
    }
    Object.freeze($10), iM(P10, "getPossiblePatternsSlow"), iM(B10, "getPossiblePatternsOptimized");
    let F10 = iM((e31) => {
      if (1 === O10.length && void 0 === e31.tokenType.PUSH_MODE) {
        let t11 = this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e31);
        C10.push({ offset: e31.startOffset, line: e31.startLine, column: e31.startColumn, length: e31.image.length, message: t11 });
      } else {
        O10.pop();
        let e32 = D5(O10);
        R10 = this.patternIdxToConfig[e32], D10 = this.charCodeToPatternIdxToConfig[e32], N10 = R10.length;
        let t11 = this.canModeBeOptimized[e32] && false === this.config.safeMode;
        x10 = D10 && t11 ? B10 : P10;
      }
    }, "pop_mode");
    function z10(e31) {
      O10.push(e31), D10 = this.charCodeToPatternIdxToConfig[e31], N10 = (R10 = this.patternIdxToConfig[e31]).length, N10 = R10.length;
      let t11 = this.canModeBeOptimized[e31] && false === this.config.safeMode;
      x10 = D10 && t11 ? B10 : P10;
    }
    iM(z10, "push_mode"), z10.call(this, t10);
    let j10 = this.config.recoveryEnabled;
    for (; _10 < w10; ) {
      o10 = null;
      let t11 = k10.charCodeAt(_10), D11 = x10(t11), O11 = D11.length;
      for (r10 = 0; r10 < O11; r10++) {
        let n11 = (b10 = D11[r10]).pattern;
        l10 = null;
        let u11 = b10.short;
        if (false !== u11 ? t11 === u11 && (o10 = n11) : true === b10.isCustom ? null !== (v10 = n11.exec(k10, _10, S10, L10)) ? (o10 = v10[0], void 0 !== v10.payload && (l10 = v10.payload)) : o10 = null : (this.updateLastIndex(n11, _10), o10 = this.match(n11, e30, _10)), null !== o10) {
          if (void 0 !== (s10 = b10.longerAlt)) {
            let t12 = s10.length;
            for (i10 = 0; i10 < t12; i10++) {
              let t13 = R10[s10[i10]], r11 = t13.pattern;
              if (h10 = null, true === t13.isCustom ? null !== (v10 = r11.exec(k10, _10, S10, L10)) ? (a10 = v10[0], void 0 !== v10.payload && (h10 = v10.payload)) : a10 = null : (this.updateLastIndex(r11, _10), a10 = this.match(r11, e30, _10)), a10 && a10.length > o10.length) {
                o10 = a10, l10 = h10, b10 = t13;
                break;
              }
            }
          }
          break;
        }
      }
      if (null !== o10) {
        if (u10 = o10.length, void 0 !== (d10 = b10.group) && (p10 = b10.tokenTypeIdx, f10 = this.createTokenInstance(o10, _10, p10, b10.tokenType, E10, A10, u10), this.handlePayload(f10, l10), false === d10 ? T10 = this.addToken(S10, T10, f10) : L10[d10].push(f10)), e30 = this.chopInput(e30, u10), _10 += u10, A10 = this.computeNewColumn(A10, u10), true === I10 && true === b10.canLineTerminator) {
          let e31, t12, r11 = 0;
          M10.lastIndex = 0;
          do
            true === (e31 = M10.test(o10)) && (t12 = M10.lastIndex - 1, r11++);
          while (true === e31);
          0 !== r11 && (E10 += r11, A10 = u10 - t12, this.updateTokenEndLineColumnLocation(f10, d10, t12, r11, E10, A10, u10));
        }
        this.handleModes(b10, F10, z10, f10);
      } else {
        let t12 = _10, r11 = E10, i11 = A10, a11 = false === j10;
        for (; false === a11 && _10 < w10; ) for (e30 = this.chopInput(e30, 1), _10++, n10 = 0; n10 < N10; n10++) {
          let t13 = R10[n10], r12 = t13.pattern, i12 = t13.short;
          if (false !== i12 ? k10.charCodeAt(_10) === i12 && (a11 = true) : true === t13.isCustom ? a11 = null !== r12.exec(k10, _10, S10, L10) : (this.updateLastIndex(r12, _10), a11 = null !== r12.exec(e30)), true === a11) break;
        }
        if (g10 = _10 - t12, A10 = this.computeNewColumn(A10, g10), y10 = this.config.errorMessageProvider.buildUnexpectedCharactersMessage(k10, t12, g10, r11, i11), C10.push({ offset: t12, line: r11, column: i11, length: g10, message: y10 }), false === j10) break;
      }
    }
    return this.hasCustom || (S10.length = T10), { tokens: S10, groups: L10, errors: C10 };
  }
  handleModes(e30, t10, r10, n10) {
    if (true === e30.pop) {
      let i10 = e30.push;
      t10(n10), void 0 !== i10 && r10.call(this, i10);
    } else void 0 !== e30.push && r10.call(this, e30.push);
  }
  chopInput(e30, t10) {
    return e30.substring(t10);
  }
  updateLastIndex(e30, t10) {
    e30.lastIndex = t10;
  }
  updateTokenEndLineColumnLocation(e30, t10, r10, n10, i10, a10, s10) {
    let o10, l10;
    void 0 === t10 || (l10 = (o10 = r10 === s10 - 1) ? -1 : 0, 1 === n10 && true === o10 || (e30.endLine = i10 + l10, e30.endColumn = a10 - 1 + -l10));
  }
  computeNewColumn(e30, t10) {
    return e30 + t10;
  }
  createOffsetOnlyToken(e30, t10, r10, n10) {
    return { image: e30, startOffset: t10, tokenTypeIdx: r10, tokenType: n10 };
  }
  createStartOnlyToken(e30, t10, r10, n10, i10, a10) {
    return { image: e30, startOffset: t10, startLine: i10, startColumn: a10, tokenTypeIdx: r10, tokenType: n10 };
  }
  createFullToken(e30, t10, r10, n10, i10, a10, s10) {
    return { image: e30, startOffset: t10, endOffset: t10 + s10 - 1, startLine: i10, endLine: i10, startColumn: a10, endColumn: a10 + s10 - 1, tokenTypeIdx: r10, tokenType: n10 };
  }
  addTokenUsingPush(e30, t10, r10) {
    return e30.push(r10), t10;
  }
  addTokenUsingMemberAccess(e30, t10, r10) {
    return e30[t10] = r10, ++t10;
  }
  handlePayloadNoCustom(e30, t10) {
  }
  handlePayloadWithCustom(e30, t10) {
    null !== t10 && (e30.payload = t10);
  }
  matchWithTest(e30, t10, r10) {
    return true === e30.test(t10) ? t10.substring(r10, e30.lastIndex) : null;
  }
  matchWithExec(e30, t10) {
    let r10 = e30.exec(t10);
    return null !== r10 ? r10[0] : null;
  }
}, _i83 = new WeakMap(), __privateAdd(_Aa, _i83, iM(_Aa, "Lexer")), _Aa);
function Gf(e30) {
  return Gg(e30) ? e30.LABEL : e30.name;
}
function Gg(e30) {
  return $9(e30.LABEL) && "" !== e30.LABEL;
}
Gp.SKIPPED = "This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.", Gp.NA = /NOT_APPLICABLE/, iM(Gf, "tokenLabel"), iM(Gg, "hasTokenLabel");
var Gm = "categories", Gy = "label", Gv = "group", Gx = "push_mode", Gb = "pop_mode", Gk = "longer_alt", Gw = "line_breaks", G_ = "start_chars_hint";
function GT(e30) {
  return GS(e30);
}
function GS(e30) {
  let t10 = e30.pattern, r10 = {};
  if (r10.name = e30.name, O2(t10) || (r10.PATTERN = t10), $8(e30, "parent")) throw "The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";
  return $8(e30, Gm) && (r10.CATEGORIES = e30[Gm]), Gt([r10]), $8(e30, Gy) && (r10.LABEL = e30[Gy]), $8(e30, Gv) && (r10.GROUP = e30[Gv]), $8(e30, Gb) && (r10.POP_MODE = e30[Gb]), $8(e30, Gx) && (r10.PUSH_MODE = e30[Gx]), $8(e30, Gk) && (r10.LONGER_ALT = e30[Gk]), $8(e30, Gw) && (r10.LINE_BREAKS = e30[Gw]), $8(e30, G_) && (r10.START_CHARS_HINT = e30[G_]), r10;
}
iM(GT, "createToken"), iM(GS, "createTokenInternal");
var GC = GT({ name: "EOF", pattern: Gp.NA });
function GE(e30, t10, r10, n10, i10, a10, s10, o10) {
  return { image: t10, startOffset: r10, endOffset: n10, startLine: i10, endLine: a10, startColumn: s10, endColumn: o10, tokenTypeIdx: e30.tokenTypeIdx, tokenType: e30 };
}
function GA(e30, t10) {
  return Y7(e30, t10);
}
Gt([GC]), iM(GE, "createTokenInstance"), iM(GA, "tokenMatcher");
var GL = { buildMismatchTokenMessage(e30) {
  let { expected: t10, actual: r10, previous: n10, ruleName: i10 } = e30, a10 = Gg(t10) ? `--> ${Gf(t10)} <--` : `token of type --> ${t10.name} <--`;
  return `Expecting ${a10} but found --> '${r10.image}' <--`;
}, buildNotAllInputParsedMessage(e30) {
  let { firstRedundant: t10, ruleName: r10 } = e30;
  return "Redundant input, expecting EOF but found: " + t10.image;
}, buildNoViableAltMessage(e30) {
  let { expectedPathsPerAlt: t10, actual: r10, previous: n10, customUserDescription: i10, ruleName: a10 } = e30, s10 = "Expecting: ", o10 = "\nbut found: '" + $0(r10).image + "'";
  if (i10) return s10 + i10 + o10;
  {
    let e31 = OJ($l(t10, (e32, t11) => e32.concat(t11), []), (e32) => `[${OJ(e32, (e33) => Gf(e33)).join(", ")}]`), r11 = OJ(e31, (e32, t11) => `  ${t11 + 1}. ${e32}`);
    return s10 + `one of these possible Token sequences:
${r11.join("\n")}` + o10;
  }
}, buildEarlyExitMessage(e30) {
  let { expectedIterationPaths: t10, actual: r10, customUserDescription: n10, ruleName: i10 } = e30, a10 = "Expecting: ", s10 = "\nbut found: '" + $0(r10).image + "'";
  if (n10) return a10 + n10 + s10;
  {
    let e31 = OJ(t10, (e32) => `[${OJ(e32, (e33) => Gf(e33)).join(",")}]`);
    return a10 + `expecting at least one iteration which starts with one of these possible Token sequences::
  <${e31.join(" ,")}>` + s10;
  }
} };
Object.freeze(GL);
var GI = { buildRuleNotFoundError: (e30, t10) => "Invalid grammar, reference to a rule which is not defined: ->" + t10.nonTerminalName + "<-\ninside top level rule: ->" + e30.name + "<-" }, GM = { buildDuplicateFoundError(e30, t10) {
  function r10(e31) {
    return e31 instanceof H2 ? e31.terminalType.name : e31 instanceof HY ? e31.nonTerminalName : "";
  }
  iM(r10, "getExtraProductionArgument");
  let n10 = e30.name, i10 = $0(t10), a10 = i10.idx, s10 = H9(i10), o10 = r10(i10), l10 = `->${s10}${a10 > 0 ? a10 : ""}<- ${o10 ? `with argument: ->${o10}<-` : ""}
                  appears more than once (${t10.length} times) in the top level rule: ->${n10}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;
  return (l10 = l10.replace(/[ \t]+/g, " ")).replace(/\s\s+/g, "\n");
}, buildNamespaceConflictError: (e30) => `Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e30.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`, buildAlternationPrefixAmbiguityError(e30) {
  let t10 = OJ(e30.prefixPath, (e31) => Gf(e31)).join(", "), r10 = 0 === e30.alternation.idx ? "" : e30.alternation.idx;
  return `Ambiguous alternatives: <${e30.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r10}> inside <${e30.topLevelRule.name}> Rule,
<${t10}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;
}, buildAlternationAmbiguityError(e30) {
  let t10 = OJ(e30.prefixPath, (e31) => Gf(e31)).join(", "), r10 = 0 === e30.alternation.idx ? "" : e30.alternation.idx;
  return `Ambiguous Alternatives Detected: <${e30.ambiguityIndices.join(" ,")}> in <OR${r10}> inside <${e30.topLevelRule.name}> Rule,
<${t10}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`;
}, buildEmptyRepetitionError(e30) {
  let t10 = H9(e30.repetition);
  return 0 !== e30.repetition.idx && (t10 += e30.repetition.idx), `The repetition <${t10}> within Rule <${e30.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`;
}, buildTokenNameError: (e30) => "deprecated", buildEmptyAlternationError: (e30) => `Ambiguous empty alternative: <${e30.emptyChoiceIdx + 1}> in <OR${e30.alternation.idx}> inside <${e30.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`, buildTooManyAlternativesError: (e30) => `An Alternation cannot have more than 256 alternatives:
<OR${e30.alternation.idx}> inside <${e30.topLevelRule.name}> Rule.
 has ${e30.alternation.definition.length + 1} alternatives.`, buildLeftRecursionError(e30) {
  let t10 = e30.topLevelRule.name, r10 = OJ(e30.leftRecursionPath, (e31) => e31.name), n10 = `${t10} --> ${r10.concat([t10]).join(" --> ")}`;
  return `Left Recursion found in grammar.
rule: <${t10}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n10}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;
}, buildInvalidRuleNameError: (e30) => "deprecated", buildDuplicateRuleNameError(e30) {
  let t10;
  return t10 = e30.topLevelRule instanceof HG ? e30.topLevelRule.name : e30.topLevelRule, `Duplicate definition, rule: ->${t10}<- is already defined in the grammar: ->${e30.grammarName}<-`;
} };
function GN(e30, t10) {
  let r10 = new GR(e30, t10);
  return r10.resolveRefs(), r10.errors;
}
iM(GN, "resolveGrammar");
var GR = (_Ba = class extends H5 {
  constructor(e30, t10) {
    super(), this.nameToTopRule = e30, this.errMsgProvider = t10, this.errors = [];
  }
  resolveRefs() {
    Oe(O1(this.nameToTopRule), (e30) => {
      this.currTopLevel = e30, e30.accept(this);
    });
  }
  visitNonTerminal(e30) {
    let t10 = this.nameToTopRule[e30.nonTerminalName];
    if (t10) e30.referencedRule = t10;
    else {
      let t11 = this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel, e30);
      this.errors.push({ message: t11, type: rv.UNRESOLVED_SUBRULE_REF, ruleName: this.currTopLevel.name, unresolvedRefName: e30.nonTerminalName });
    }
  }
}, _i84 = new WeakMap(), __privateAdd(_Ba, _i84, iM(_Ba, "GastRefResolverVisitor")), _Ba), GD = (_Ca = class extends Ye {
  constructor(e30, t10) {
    super(), this.topProd = e30, this.path = t10, this.possibleTokTypes = [], this.nextProductionName = "", this.nextProductionOccurrence = 0, this.found = false, this.isAtEndOfPath = false;
  }
  startWalking() {
    if (this.found = false, this.path.ruleStack[0] !== this.topProd.name) throw Error("The path does not start with the walker's top Rule!");
    return this.ruleStack = D1(this.path.ruleStack).reverse(), this.occurrenceStack = D1(this.path.occurrenceStack).reverse(), this.ruleStack.pop(), this.occurrenceStack.pop(), this.updateExpectedNext(), this.walk(this.topProd), this.possibleTokTypes;
  }
  walk(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
    this.found || super.walk(e30, t10);
  }
  walkProdRef(e30, t10, r10) {
    if (e30.referencedRule.name === this.nextProductionName && e30.idx === this.nextProductionOccurrence) {
      let n10 = t10.concat(r10);
      this.updateExpectedNext(), this.walk(e30.referencedRule, n10);
    }
  }
  updateExpectedNext() {
    CG(this.ruleStack) ? (this.nextProductionName = "", this.nextProductionOccurrence = 0, this.isAtEndOfPath = true) : (this.nextProductionName = this.ruleStack.pop(), this.nextProductionOccurrence = this.occurrenceStack.pop());
  }
}, _i85 = new WeakMap(), __privateAdd(_Ca, _i85, iM(_Ca, "AbstractNextPossibleTokensWalker")), _Ca), GO = (_Da = class extends GD {
  constructor(e30, t10) {
    super(e30, t10), this.path = t10, this.nextTerminalName = "", this.nextTerminalOccurrence = 0, this.nextTerminalName = this.path.lastTok.name, this.nextTerminalOccurrence = this.path.lastTokOccurrence;
  }
  walkTerminal(e30, t10, r10) {
    if (this.isAtEndOfPath && e30.terminalType.name === this.nextTerminalName && e30.idx === this.nextTerminalOccurrence && !this.found) {
      let e31 = new HX({ definition: t10.concat(r10) });
      this.possibleTokTypes = Yr(e31), this.found = true;
    }
  }
}, _i86 = new WeakMap(), __privateAdd(_Da, _i86, iM(_Da, "NextAfterTokenWalker")), _Da), G$ = (_Ea = class extends Ye {
  constructor(e30, t10) {
    super(), this.topRule = e30, this.occurrence = t10, this.result = { token: void 0, occurrence: void 0, isEndOfRule: void 0 };
  }
  startWalking() {
    return this.walk(this.topRule), this.result;
  }
}, _i87 = new WeakMap(), __privateAdd(_Ea, _i87, iM(_Ea, "AbstractNextTerminalAfterProductionWalker")), _Ea), GP = (_Fa = class extends G$ {
  walkMany(e30, t10, r10) {
    if (e30.idx === this.occurrence) {
      let e31 = $0(t10.concat(r10));
      this.result.isEndOfRule = void 0 === e31, e31 instanceof H2 && (this.result.token = e31.terminalType, this.result.occurrence = e31.idx);
    } else super.walkMany(e30, t10, r10);
  }
}, _i88 = new WeakMap(), __privateAdd(_Fa, _i88, iM(_Fa, "NextTerminalAfterManyWalker")), _Fa), GB = (_Ga = class extends G$ {
  walkManySep(e30, t10, r10) {
    if (e30.idx === this.occurrence) {
      let e31 = $0(t10.concat(r10));
      this.result.isEndOfRule = void 0 === e31, e31 instanceof H2 && (this.result.token = e31.terminalType, this.result.occurrence = e31.idx);
    } else super.walkManySep(e30, t10, r10);
  }
}, _i89 = new WeakMap(), __privateAdd(_Ga, _i89, iM(_Ga, "NextTerminalAfterManySepWalker")), _Ga), GF = (_Ha = class extends G$ {
  walkAtLeastOne(e30, t10, r10) {
    if (e30.idx === this.occurrence) {
      let e31 = $0(t10.concat(r10));
      this.result.isEndOfRule = void 0 === e31, e31 instanceof H2 && (this.result.token = e31.terminalType, this.result.occurrence = e31.idx);
    } else super.walkAtLeastOne(e30, t10, r10);
  }
}, _i90 = new WeakMap(), __privateAdd(_Ha, _i90, iM(_Ha, "NextTerminalAfterAtLeastOneWalker")), _Ha), Gz = (_Ia = class extends G$ {
  walkAtLeastOneSep(e30, t10, r10) {
    if (e30.idx === this.occurrence) {
      let e31 = $0(t10.concat(r10));
      this.result.isEndOfRule = void 0 === e31, e31 instanceof H2 && (this.result.token = e31.terminalType, this.result.occurrence = e31.idx);
    } else super.walkAtLeastOneSep(e30, t10, r10);
  }
}, _i91 = new WeakMap(), __privateAdd(_Ia, _i91, iM(_Ia, "NextTerminalAfterAtLeastOneSepWalker")), _Ia);
function Gj(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
  r10 = D1(r10);
  let n10 = [], i10 = 0;
  function a10(t11) {
    return t11.concat($V(e30, i10 + 1));
  }
  function s10(e31) {
    let i11 = Gj(a10(e31), t10, r10);
    return n10.concat(i11);
  }
  for (iM(a10, "remainingPathWith"), iM(s10, "getAlternativesForProd"); r10.length < t10 && i10 < e30.length; ) {
    let t11 = e30[i10];
    if (t11 instanceof HX || t11 instanceof HY) return s10(t11.definition);
    if (t11 instanceof HK) n10 = s10(t11.definition);
    else if (t11 instanceof HZ) return s10(t11.definition.concat([new HJ({ definition: t11.definition })]));
    else if (t11 instanceof HQ) return s10([new HX({ definition: t11.definition }), new HJ({ definition: [new H2({ terminalType: t11.separator })].concat(t11.definition) })]);
    else if (t11 instanceof H0) n10 = s10(t11.definition.concat([new HJ({ definition: [new H2({ terminalType: t11.separator })].concat(t11.definition) })]));
    else if (t11 instanceof HJ) n10 = s10(t11.definition.concat([new HJ({ definition: t11.definition })]));
    else if (t11 instanceof H1) return Oe(t11.definition, (e31) => {
      false === CG(e31.definition) && (n10 = s10(e31.definition));
    }), n10;
    else if (t11 instanceof H2) r10.push(t11.terminalType);
    else throw Error("non exhaustive match");
    i10++;
  }
  return n10.push({ partialPath: r10, suffixDef: $V(e30, i10) }), n10;
}
function Gq(e30, t10, r10, n10) {
  let i10 = "EXIT_NONE_TERMINAL", a10 = [i10], s10 = "EXIT_ALTERNATIVE", o10 = false, l10 = t10.length, h10 = l10 - n10 - 1, u10 = [], d10 = [];
  for (d10.push({ idx: -1, def: e30, ruleStack: [], occurrenceStack: [] }); !CG(d10); ) {
    let e31 = d10.pop();
    if (e31 === s10) {
      o10 && D5(d10).idx <= h10 && d10.pop();
      continue;
    }
    let n11 = e31.def, p10 = e31.idx, f10 = e31.ruleStack, g10 = e31.occurrenceStack;
    if (CG(n11)) continue;
    let y10 = n11[0];
    if (y10 === i10) {
      let e32 = { idx: p10, def: $V(n11), ruleStack: $H(f10), occurrenceStack: $H(g10) };
      d10.push(e32);
    } else if (y10 instanceof H2) {
      if (p10 < l10 - 1) {
        let e32 = p10 + 1;
        if (r10(t10[e32], y10.terminalType)) {
          let t11 = { idx: e32, def: $V(n11), ruleStack: f10, occurrenceStack: g10 };
          d10.push(t11);
        }
      } else if (p10 === l10 - 1) u10.push({ nextTokenType: y10.terminalType, nextTokenOccurrence: y10.idx, ruleStack: f10, occurrenceStack: g10 }), o10 = true;
      else throw Error("non exhaustive match");
    } else if (y10 instanceof HY) {
      let e32 = D1(f10);
      e32.push(y10.nonTerminalName);
      let t11 = D1(g10);
      t11.push(y10.idx);
      let r11 = { idx: p10, def: y10.definition.concat(a10, $V(n11)), ruleStack: e32, occurrenceStack: t11 };
      d10.push(r11);
    } else if (y10 instanceof HK) {
      let e32 = { idx: p10, def: $V(n11), ruleStack: f10, occurrenceStack: g10 };
      d10.push(e32), d10.push(s10);
      let t11 = { idx: p10, def: y10.definition.concat($V(n11)), ruleStack: f10, occurrenceStack: g10 };
      d10.push(t11);
    } else if (y10 instanceof HZ) {
      let e32 = new HJ({ definition: y10.definition, idx: y10.idx }), t11 = { idx: p10, def: y10.definition.concat([e32], $V(n11)), ruleStack: f10, occurrenceStack: g10 };
      d10.push(t11);
    } else if (y10 instanceof HQ) {
      let e32 = new HJ({ definition: [new H2({ terminalType: y10.separator })].concat(y10.definition), idx: y10.idx }), t11 = { idx: p10, def: y10.definition.concat([e32], $V(n11)), ruleStack: f10, occurrenceStack: g10 };
      d10.push(t11);
    } else if (y10 instanceof H0) {
      let e32 = { idx: p10, def: $V(n11), ruleStack: f10, occurrenceStack: g10 };
      d10.push(e32), d10.push(s10);
      let t11 = new HJ({ definition: [new H2({ terminalType: y10.separator })].concat(y10.definition), idx: y10.idx }), r11 = { idx: p10, def: y10.definition.concat([t11], $V(n11)), ruleStack: f10, occurrenceStack: g10 };
      d10.push(r11);
    } else if (y10 instanceof HJ) {
      let e32 = { idx: p10, def: $V(n11), ruleStack: f10, occurrenceStack: g10 };
      d10.push(e32), d10.push(s10);
      let t11 = new HJ({ definition: y10.definition, idx: y10.idx }), r11 = { idx: p10, def: y10.definition.concat([t11], $V(n11)), ruleStack: f10, occurrenceStack: g10 };
      d10.push(r11);
    } else if (y10 instanceof H1) for (let e32 = y10.definition.length - 1; e32 >= 0; e32--) {
      let t11 = { idx: p10, def: y10.definition[e32].definition.concat($V(n11)), ruleStack: f10, occurrenceStack: g10 };
      d10.push(t11), d10.push(s10);
    }
    else if (y10 instanceof HX) d10.push({ idx: p10, def: y10.definition.concat($V(n11)), ruleStack: f10, occurrenceStack: g10 });
    else if (y10 instanceof HG) d10.push(GU(y10, p10, f10, g10));
    else throw Error("non exhaustive match");
  }
  return u10;
}
function GU(e30, t10, r10, n10) {
  let i10 = D1(r10);
  i10.push(e30.name);
  let a10 = D1(n10);
  return a10.push(1), { idx: t10, def: e30.definition, ruleStack: i10, occurrenceStack: a10 };
}
function GW(e30) {
  if (e30 instanceof HK || "Option" === e30) return rm.OPTION;
  if (e30 instanceof HJ || "Repetition" === e30) return rm.REPETITION;
  if (e30 instanceof HZ || "RepetitionMandatory" === e30) return rm.REPETITION_MANDATORY;
  if (e30 instanceof HQ || "RepetitionMandatoryWithSeparator" === e30) return rm.REPETITION_MANDATORY_WITH_SEPARATOR;
  if (e30 instanceof H0 || "RepetitionWithSeparator" === e30) return rm.REPETITION_WITH_SEPARATOR;
  if (e30 instanceof H1 || "Alternation" === e30) return rm.ALTERNATION;
  throw Error("non exhaustive match");
}
function GV(e30) {
  let { occurrence: t10, rule: r10, prodType: n10, maxLookahead: i10 } = e30, a10 = GW(n10);
  return a10 === rm.ALTERNATION ? G2(t10, r10, i10) : G4(t10, r10, a10, i10);
}
function GH(e30, t10, r10, n10, i10, a10) {
  let s10 = G2(e30, t10, r10), o10 = G6(s10) ? Y8 : Y7;
  return a10(s10, n10, o10, i10);
}
function GY(e30, t10, r10, n10, i10, a10) {
  let s10 = G4(e30, t10, i10, r10), o10 = G6(s10) ? Y8 : Y7;
  return a10(s10[0], o10, n10);
}
function GG(e30, t10, r10, n10) {
  let i10 = e30.length, a10 = $X(e30, (e31) => $X(e31, (e32) => 1 === e32.length));
  if (t10) return function(t11) {
    let n11 = OJ(t11, (e31) => e31.GATE);
    for (let t12 = 0; t12 < i10; t12++) {
      let i11 = e30[t12], a11 = i11.length, s10 = n11[t12];
      if (void 0 === s10 || false !== s10.call(this)) r: for (let e31 = 0; e31 < a11; e31++) {
        let n12 = i11[e31], a12 = n12.length;
        for (let e32 = 0; e32 < a12; e32++) if (false === r10(this.LA(e32 + 1), n12[e32])) continue r;
        return t12;
      }
    }
  };
  if (!a10 || n10) return function() {
    for (let t11 = 0; t11 < i10; t11++) {
      let n11 = e30[t11], i11 = n11.length;
      r: for (let e31 = 0; e31 < i11; e31++) {
        let i12 = n11[e31], a11 = i12.length;
        for (let e32 = 0; e32 < a11; e32++) if (false === r10(this.LA(e32 + 1), i12[e32])) continue r;
        return t11;
      }
    }
  };
  {
    let t11 = $l(OJ(e30, (e31) => $n(e31)), (e31, t12, r11) => (Oe(t12, (t13) => {
      $8(e31, t13.tokenTypeIdx) || (e31[t13.tokenTypeIdx] = r11), Oe(t13.categoryMatches, (t14) => {
        $8(e31, t14) || (e31[t14] = r11);
      });
    }), e31), {});
    return function() {
      return t11[this.LA(1).tokenTypeIdx];
    };
  }
}
function GX(e30, t10, r10) {
  let n10 = $X(e30, (e31) => 1 === e31.length), i10 = e30.length;
  if (!n10 || r10) return function() {
    r: for (let r11 = 0; r11 < i10; r11++) {
      let n11 = e30[r11], i11 = n11.length;
      for (let e31 = 0; e31 < i11; e31++) if (false === t10(this.LA(e31 + 1), n11[e31])) continue r;
      return true;
    }
    return false;
  };
  {
    let t11 = $n(e30);
    if (1 === t11.length && CG(t11[0].categoryMatches)) {
      let e31 = t11[0].tokenTypeIdx;
      return function() {
        return this.LA(1).tokenTypeIdx === e31;
      };
    }
    {
      let e31 = $l(t11, (e32, t12, r11) => (e32[t12.tokenTypeIdx] = true, Oe(t12.categoryMatches, (t13) => {
        e32[t13] = true;
      }), e32), []);
      return function() {
        return true === e31[this.LA(1).tokenTypeIdx];
      };
    }
  }
}
iM(Gj, "possiblePathsFrom"), iM(Gq, "nextPossibleTokensAfter"), iM(GU, "expandTopLevelRule"), (tI = rm || (rm = {}))[tI.OPTION = 0] = "OPTION", tI[tI.REPETITION = 1] = "REPETITION", tI[tI.REPETITION_MANDATORY = 2] = "REPETITION_MANDATORY", tI[tI.REPETITION_MANDATORY_WITH_SEPARATOR = 3] = "REPETITION_MANDATORY_WITH_SEPARATOR", tI[tI.REPETITION_WITH_SEPARATOR = 4] = "REPETITION_WITH_SEPARATOR", tI[tI.ALTERNATION = 5] = "ALTERNATION", iM(GW, "getProdType"), iM(GV, "getLookaheadPaths"), iM(GH, "buildLookaheadFuncForOr"), iM(GY, "buildLookaheadFuncForOptionalProd"), iM(GG, "buildAlternativesLookAheadFunc"), iM(GX, "buildSingleAlternativeLookaheadFunction");
var GK = (_Ja = class extends Ye {
  constructor(e30, t10, r10) {
    super(), this.topProd = e30, this.targetOccurrence = t10, this.targetProdType = r10;
  }
  startWalking() {
    return this.walk(this.topProd), this.restDef;
  }
  checkIsTarget(e30, t10, r10, n10) {
    return e30.idx === this.targetOccurrence && this.targetProdType === t10 && (this.restDef = r10.concat(n10), true);
  }
  walkOption(e30, t10, r10) {
    this.checkIsTarget(e30, rm.OPTION, t10, r10) || super.walkOption(e30, t10, r10);
  }
  walkAtLeastOne(e30, t10, r10) {
    this.checkIsTarget(e30, rm.REPETITION_MANDATORY, t10, r10) || super.walkOption(e30, t10, r10);
  }
  walkAtLeastOneSep(e30, t10, r10) {
    this.checkIsTarget(e30, rm.REPETITION_MANDATORY_WITH_SEPARATOR, t10, r10) || super.walkOption(e30, t10, r10);
  }
  walkMany(e30, t10, r10) {
    this.checkIsTarget(e30, rm.REPETITION, t10, r10) || super.walkOption(e30, t10, r10);
  }
  walkManySep(e30, t10, r10) {
    this.checkIsTarget(e30, rm.REPETITION_WITH_SEPARATOR, t10, r10) || super.walkOption(e30, t10, r10);
  }
}, _i92 = new WeakMap(), __privateAdd(_Ja, _i92, iM(_Ja, "RestDefinitionFinderWalker")), _Ja), GZ = (_Ka = class extends H5 {
  constructor(e30, t10, r10) {
    super(), this.targetOccurrence = e30, this.targetProdType = t10, this.targetRef = r10, this.result = [];
  }
  checkIsTarget(e30, t10) {
    e30.idx === this.targetOccurrence && this.targetProdType === t10 && (void 0 === this.targetRef || e30 === this.targetRef) && (this.result = e30.definition);
  }
  visitOption(e30) {
    this.checkIsTarget(e30, rm.OPTION);
  }
  visitRepetition(e30) {
    this.checkIsTarget(e30, rm.REPETITION);
  }
  visitRepetitionMandatory(e30) {
    this.checkIsTarget(e30, rm.REPETITION_MANDATORY);
  }
  visitRepetitionMandatoryWithSeparator(e30) {
    this.checkIsTarget(e30, rm.REPETITION_MANDATORY_WITH_SEPARATOR);
  }
  visitRepetitionWithSeparator(e30) {
    this.checkIsTarget(e30, rm.REPETITION_WITH_SEPARATOR);
  }
  visitAlternation(e30) {
    this.checkIsTarget(e30, rm.ALTERNATION);
  }
}, _i93 = new WeakMap(), __privateAdd(_Ka, _i93, iM(_Ka, "InsideDefinitionFinderVisitor")), _Ka);
function GQ(e30) {
  let t10 = Array(e30);
  for (let r10 = 0; r10 < e30; r10++) t10[r10] = [];
  return t10;
}
function GJ(e30) {
  let t10 = [""];
  for (let r10 = 0; r10 < e30.length; r10++) {
    let n10 = e30[r10], i10 = [];
    for (let e31 = 0; e31 < t10.length; e31++) {
      let r11 = t10[e31];
      i10.push(r11 + "_" + n10.tokenTypeIdx);
      for (let e32 = 0; e32 < n10.categoryMatches.length; e32++) {
        let t11 = "_" + n10.categoryMatches[e32];
        i10.push(r11 + t11);
      }
    }
    t10 = i10;
  }
  return t10;
}
function G0(e30, t10, r10) {
  for (let n10 = 0; n10 < e30.length; n10++) {
    if (n10 === r10) continue;
    let i10 = e30[n10];
    for (let e31 = 0; e31 < t10.length; e31++) if (true === i10[t10[e31]]) return false;
  }
  return true;
}
function G1(e30, t10) {
  let r10 = OJ(e30, (e31) => Gj([e31], 1)), n10 = GQ(r10.length), i10 = OJ(r10, (e31) => {
    let t11 = {};
    return Oe(e31, (e32) => {
      Oe(GJ(e32.partialPath), (e33) => {
        t11[e33] = true;
      });
    }), t11;
  }), a10 = r10;
  for (let e31 = 1; e31 <= t10; e31++) {
    let r11 = a10;
    a10 = GQ(r11.length);
    for (let s10 = 0; s10 < r11.length; s10++) {
      let o10 = r11[s10];
      for (let r12 = 0; r12 < o10.length; r12++) {
        let l10 = o10[r12].partialPath, h10 = o10[r12].suffixDef, u10 = GJ(l10);
        if (G0(i10, u10, s10) || CG(h10) || l10.length === t10) {
          let e32 = n10[s10];
          if (false === G3(e32, l10)) {
            e32.push(l10);
            for (let e33 = 0; e33 < u10.length; e33++) {
              let t11 = u10[e33];
              i10[s10][t11] = true;
            }
          }
        } else {
          let t11 = Gj(h10, e31 + 1, l10);
          a10[s10] = a10[s10].concat(t11), Oe(t11, (e32) => {
            Oe(GJ(e32.partialPath), (e33) => {
              i10[s10][e33] = true;
            });
          });
        }
      }
    }
  }
  return n10;
}
function G2(e30, t10, r10, n10) {
  let i10 = new GZ(e30, rm.ALTERNATION, n10);
  return t10.accept(i10), G1(i10.result, r10);
}
function G4(e30, t10, r10, n10) {
  let i10 = new GZ(e30, r10);
  t10.accept(i10);
  let a10 = i10.result, s10 = new GK(t10, e30, r10).startWalking();
  return G1([new HX({ definition: a10 }), new HX({ definition: s10 })], n10);
}
function G3(e30, t10) {
  n: for (let r10 = 0; r10 < e30.length; r10++) {
    let n10 = e30[r10];
    if (n10.length === t10.length) {
      for (let e31 = 0; e31 < n10.length; e31++) {
        let r11 = t10[e31], i10 = n10[e31];
        if (false == (r11 === i10 || void 0 !== i10.categoryMatchesMap[r11.tokenTypeIdx])) continue n;
      }
      return true;
    }
  }
  return false;
}
function G5(e30, t10) {
  return e30.length < t10.length && $X(e30, (e31, r10) => {
    let n10 = t10[r10];
    return e31 === n10 || n10.categoryMatchesMap[e31.tokenTypeIdx];
  });
}
function G6(e30) {
  return $X(e30, (e31) => $X(e31, (e32) => $X(e32, (e33) => CG(e33.categoryMatches))));
}
function G7(e30) {
  return OJ(e30.lookaheadStrategy.validate({ rules: e30.rules, tokenTypes: e30.tokenTypes, grammarName: e30.grammarName }), (e31) => Object.assign({ type: rv.CUSTOM_LOOKAHEAD_VALIDATION }, e31));
}
function G8(e30, t10, r10, n10) {
  let i10 = $1(e30, (e31) => G9(e31, r10)), a10 = Xg(e30, t10, r10), s10 = $1(e30, (e31) => Xu(e31, r10)), o10 = $1(e30, (t11) => Xn(t11, e30, n10, r10));
  return i10.concat(a10, s10, o10);
}
function G9(e30, t10) {
  let r10 = new Xr();
  return e30.accept(r10), OJ(O1(Pu($5(r10.allProductions, Xe), (e31) => e31.length > 1)), (r11) => {
    let n10 = $0(r11), i10 = t10.buildDuplicateFoundError(e30, r11), a10 = H9(n10), s10 = { message: i10, type: rv.DUPLICATE_PRODUCTIONS, ruleName: e30.name, dslName: a10, occurrence: n10.idx }, o10 = Xt(n10);
    return o10 && (s10.parameter = o10), s10;
  });
}
function Xe(e30) {
  return `${H9(e30)}_#_${e30.idx}_#_${Xt(e30)}`;
}
function Xt(e30) {
  return e30 instanceof H2 ? e30.terminalType.name : e30 instanceof HY ? e30.nonTerminalName : "";
}
iM(GQ, "initializeArrayOfArrays"), iM(GJ, "pathToHashKeys"), iM(G0, "isUniquePrefixHash"), iM(G1, "lookAheadSequenceFromAlternatives"), iM(G2, "getLookaheadPathsForOr"), iM(G4, "getLookaheadPathsForOptionalProd"), iM(G3, "containsPath"), iM(G5, "isStrictPrefixOfPath"), iM(G6, "areTokenCategoriesNotUsed"), iM(G7, "validateLookahead"), iM(G8, "validateGrammar"), iM(G9, "validateDuplicateProductions"), iM(Xe, "identifyProductionForDuplicates"), iM(Xt, "getExtraProductionArgument");
var Xr = (_La = class extends H5 {
  constructor() {
    super(...arguments), this.allProductions = [];
  }
  visitNonTerminal(e30) {
    this.allProductions.push(e30);
  }
  visitOption(e30) {
    this.allProductions.push(e30);
  }
  visitRepetitionWithSeparator(e30) {
    this.allProductions.push(e30);
  }
  visitRepetitionMandatory(e30) {
    this.allProductions.push(e30);
  }
  visitRepetitionMandatoryWithSeparator(e30) {
    this.allProductions.push(e30);
  }
  visitRepetition(e30) {
    this.allProductions.push(e30);
  }
  visitAlternation(e30) {
    this.allProductions.push(e30);
  }
  visitTerminal(e30) {
    this.allProductions.push(e30);
  }
}, _i94 = new WeakMap(), __privateAdd(_La, _i94, iM(_La, "OccurrenceValidationCollector")), _La);
function Xn(e30, t10, r10, n10) {
  let i10 = [];
  if ($l(t10, (t11, r11) => r11.name === e30.name ? t11 + 1 : t11, 0) > 1) {
    let t11 = n10.buildDuplicateRuleNameError({ topLevelRule: e30, grammarName: r10 });
    i10.push({ message: t11, type: rv.DUPLICATE_RULE_NAME, ruleName: e30.name });
  }
  return i10;
}
function Xi(e30, t10, r10) {
  let n10 = [];
  return Pt(t10, e30) || n10.push({ message: `Invalid rule override, rule: ->${e30}<- cannot be overridden in the grammar: ->${r10}<-as it is not defined in any of the super grammars `, type: rv.INVALID_RULE_OVERRIDE, ruleName: e30 }), n10;
}
function Xa(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [], i10 = [], a10 = Xs(t10.definition);
  if (CG(a10)) return [];
  {
    let t11 = e30.name;
    Pt(a10, e30) && i10.push({ message: r10.buildLeftRecursionError({ topLevelRule: e30, leftRecursionPath: n10 }), type: rv.LEFT_RECURSION, ruleName: t11 });
    let s10 = $1($W(a10, n10.concat([e30])), (t12) => {
      let i11 = D1(n10);
      return i11.push(t12), Xa(e30, t12, r10, i11);
    });
    return i10.concat(s10);
  }
}
function Xs(e30) {
  let t10 = [];
  if (CG(e30)) return t10;
  let r10 = $0(e30);
  if (r10 instanceof HY) t10.push(r10.referencedRule);
  else if (r10 instanceof HX || r10 instanceof HK || r10 instanceof HZ || r10 instanceof HQ || r10 instanceof H0 || r10 instanceof HJ) t10 = t10.concat(Xs(r10.definition));
  else if (r10 instanceof H1) t10 = $n(OJ(r10.definition, (e31) => Xs(e31.definition)));
  else if (r10 instanceof H2) ;
  else throw Error("non exhaustive match");
  let n10 = H7(r10), i10 = e30.length > 1;
  if (!n10 || !i10) return t10;
  {
    let r11 = $V(e30);
    return t10.concat(Xs(r11));
  }
}
iM(Xn, "validateRuleDoesNotAlreadyExist"), iM(Xi, "validateRuleIsOverridden"), iM(Xa, "validateNoLeftRecursion"), iM(Xs, "getFirstNoneTerminal");
var Xo = (_Ma = class extends H5 {
  constructor() {
    super(...arguments), this.alternations = [];
  }
  visitAlternation(e30) {
    this.alternations.push(e30);
  }
}, _i95 = new WeakMap(), __privateAdd(_Ma, _i95, iM(_Ma, "OrCollector")), _Ma);
function Xl(e30, t10) {
  let r10 = new Xo();
  return e30.accept(r10), $1(r10.alternations, (r11) => $1($H(r11.definition), (n10, i10) => CG(Gq([n10], [], Y7, 1)) ? [{ message: t10.buildEmptyAlternationError({ topLevelRule: e30, alternation: r11, emptyChoiceIdx: i10 }), type: rv.NONE_LAST_EMPTY_ALT, ruleName: e30.name, occurrence: r11.idx, alternative: i10 + 1 }] : []));
}
function Xc(e30, t10, r10) {
  let n10 = new Xo();
  e30.accept(n10);
  let i10 = n10.alternations;
  return $1(i10 = PD(i10, (e31) => true === e31.ignoreAmbiguities), (n11) => {
    let i11 = G2(n11.idx, e30, n11.maxLookahead || t10, n11), a10 = Xp(i11, n11, e30, r10), s10 = Xf(i11, n11, e30, r10);
    return a10.concat(s10);
  });
}
iM(Xl, "validateEmptyOrAlternative"), iM(Xc, "validateAmbiguousAlternationAlternatives");
var Xh = (_Na = class extends H5 {
  constructor() {
    super(...arguments), this.allProductions = [];
  }
  visitRepetitionWithSeparator(e30) {
    this.allProductions.push(e30);
  }
  visitRepetitionMandatory(e30) {
    this.allProductions.push(e30);
  }
  visitRepetitionMandatoryWithSeparator(e30) {
    this.allProductions.push(e30);
  }
  visitRepetition(e30) {
    this.allProductions.push(e30);
  }
}, _i96 = new WeakMap(), __privateAdd(_Na, _i96, iM(_Na, "RepetitionCollector")), _Na);
function Xu(e30, t10) {
  let r10 = new Xo();
  return e30.accept(r10), $1(r10.alternations, (r11) => r11.definition.length > 255 ? [{ message: t10.buildTooManyAlternativesError({ topLevelRule: e30, alternation: r11 }), type: rv.TOO_MANY_ALTS, ruleName: e30.name, occurrence: r11.idx }] : []);
}
function Xd(e30, t10, r10) {
  let n10 = [];
  return Oe(e30, (e31) => {
    let i10 = new Xh();
    e31.accept(i10), Oe(i10.allProductions, (i11) => {
      let a10 = GW(i11), s10 = i11.maxLookahead || t10;
      if (CG($n(G4(i11.idx, e31, a10, s10)[0]))) {
        let t11 = r10.buildEmptyRepetitionError({ topLevelRule: e31, repetition: i11 });
        n10.push({ message: t11, type: rv.NO_NON_EMPTY_LOOKAHEAD, ruleName: e31.name });
      }
    });
  }), n10;
}
function Xp(e30, t10, r10, n10) {
  let i10 = [];
  return OJ($l(e30, (r11, n11, a10) => (true === t10.definition[a10].ignoreAmbiguities || Oe(n11, (n12) => {
    let s10 = [a10];
    Oe(e30, (e31, r12) => {
      a10 !== r12 && G3(e31, n12) && true !== t10.definition[r12].ignoreAmbiguities && s10.push(r12);
    }), s10.length > 1 && !G3(i10, n12) && (i10.push(n12), r11.push({ alts: s10, path: n12 }));
  }), r11), []), (e31) => {
    let i11 = OJ(e31.alts, (e32) => e32 + 1);
    return { message: n10.buildAlternationAmbiguityError({ topLevelRule: r10, alternation: t10, ambiguityIndices: i11, prefixPath: e31.path }), type: rv.AMBIGUOUS_ALTS, ruleName: r10.name, occurrence: t10.idx, alternatives: e31.alts };
  });
}
function Xf(e30, t10, r10, n10) {
  let i10 = $l(e30, (e31, t11, r11) => {
    let n11 = OJ(t11, (e32) => ({ idx: r11, path: e32 }));
    return e31.concat(n11);
  }, []);
  return $B($1(i10, (e31) => {
    if (true === t10.definition[e31.idx].ignoreAmbiguities) return [];
    let a10 = e31.idx, s10 = e31.path;
    return OJ(OZ(i10, (e32) => true !== t10.definition[e32.idx].ignoreAmbiguities && e32.idx < a10 && G5(e32.path, s10)), (e32) => {
      let i11 = [e32.idx + 1, a10 + 1], s11 = 0 === t10.idx ? "" : t10.idx;
      return { message: n10.buildAlternationPrefixAmbiguityError({ topLevelRule: r10, alternation: t10, ambiguityIndices: i11, prefixPath: e32.path }), type: rv.AMBIGUOUS_PREFIX_ALTS, ruleName: r10.name, occurrence: s11, alternatives: i11 };
    });
  }));
}
function Xg(e30, t10, r10) {
  let n10 = [], i10 = OJ(t10, (e31) => e31.name);
  return Oe(e30, (e31) => {
    let t11 = e31.name;
    if (Pt(i10, t11)) {
      let i11 = r10.buildNamespaceConflictError(e31);
      n10.push({ message: i11, type: rv.CONFLICT_TOKENS_RULES_NAMESPACE, ruleName: t11 });
    }
  }), n10;
}
function Xm(e30) {
  let t10 = D3(e30, { errMsgProvider: GI }), r10 = {};
  return Oe(e30.rules, (e31) => {
    r10[e31.name] = e31;
  }), GN(r10, t10.errMsgProvider);
}
function Xy(e30) {
  return G8((e30 = D3(e30, { errMsgProvider: GM })).rules, e30.tokenTypes, e30.errMsgProvider, e30.grammarName);
}
iM(Xu, "validateTooManyAlts"), iM(Xd, "validateSomeNonEmptyLookaheadPath"), iM(Xp, "checkAlternativesAmbiguities"), iM(Xf, "checkPrefixAlternativesAmbiguities"), iM(Xg, "checkTerminalAndNoneTerminalsNameSpace"), iM(Xm, "resolveGrammar"), iM(Xy, "validateGrammar");
var Xv = "MismatchedTokenException", Xx = "NoViableAltException", Xb = "EarlyExitException", Xk = "NotAllInputParsedException", Xw = [Xv, Xx, Xb, Xk];
function X_(e30) {
  return Pt(Xw, e30.name);
}
Object.freeze(Xw), iM(X_, "isRecognitionException");
var XT = (_Oa = class extends Error {
  constructor(e30, t10) {
    super(e30), this.token = t10, this.resyncedTokens = [], Object.setPrototypeOf(this, new.target.prototype), Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
  }
}, _i97 = new WeakMap(), __privateAdd(_Oa, _i97, iM(_Oa, "RecognitionException")), _Oa), XS = (_Pa = class extends XT {
  constructor(e30, t10, r10) {
    super(e30, t10), this.previousToken = r10, this.name = Xv;
  }
}, _i98 = new WeakMap(), __privateAdd(_Pa, _i98, iM(_Pa, "MismatchedTokenException")), _Pa), XC = (_Qa = class extends XT {
  constructor(e30, t10, r10) {
    super(e30, t10), this.previousToken = r10, this.name = Xx;
  }
}, _i99 = new WeakMap(), __privateAdd(_Qa, _i99, iM(_Qa, "NoViableAltException")), _Qa), XE = (_Ra = class extends XT {
  constructor(e30, t10) {
    super(e30, t10), this.name = Xk;
  }
}, _i100 = new WeakMap(), __privateAdd(_Ra, _i100, iM(_Ra, "NotAllInputParsedException")), _Ra), XA = (_Sa = class extends XT {
  constructor(e30, t10, r10) {
    super(e30, t10), this.previousToken = r10, this.name = Xb;
  }
}, _i101 = new WeakMap(), __privateAdd(_Sa, _i101, iM(_Sa, "EarlyExitException")), _Sa), XL = {}, XI = "InRuleRecoveryException", XM = (_Ta = class extends Error {
  constructor(e30) {
    super(e30), this.name = XI;
  }
}, _i102 = new WeakMap(), __privateAdd(_Ta, _i102, iM(_Ta, "InRuleRecoveryException")), _Ta), XN = (_Ua = class {
  initRecoverable(e30) {
    this.firstAfterRepMap = {}, this.resyncFollows = {}, this.recoveryEnabled = $8(e30, "recoveryEnabled") ? e30.recoveryEnabled : Kn.recoveryEnabled, this.recoveryEnabled && (this.attemptInRepetitionRecovery = XR);
  }
  getTokenToInsert(e30) {
    let t10 = GE(e30, "", NaN, NaN, NaN, NaN, NaN, NaN);
    return t10.isInsertedInRecovery = true, t10;
  }
  canTokenTypeBeInsertedInRecovery(e30) {
    return true;
  }
  canTokenTypeBeDeletedInRecovery(e30) {
    return true;
  }
  tryInRepetitionRecovery(e30, t10, r10, n10) {
    let i10 = this.findReSyncTokenType(), a10 = this.exportLexerState(), s10 = [], o10 = false, l10 = this.LA(1), h10 = this.LA(1), u10 = iM(() => {
      let e31 = this.LA(0), t11 = new XS(this.errorMessageProvider.buildMismatchTokenMessage({ expected: n10, actual: l10, previous: e31, ruleName: this.getCurrRuleFullName() }), l10, this.LA(0));
      t11.resyncedTokens = $H(s10), this.SAVE_ERROR(t11);
    }, "generateErrorMessage");
    for (; !o10; ) {
      if (this.tokenMatcher(h10, n10)) {
        u10();
        return;
      }
      if (r10.call(this)) {
        u10(), e30.apply(this, t10);
        return;
      }
      this.tokenMatcher(h10, i10) ? o10 = true : (h10 = this.SKIP_TOKEN(), this.addToResyncTokens(h10, s10));
    }
    this.importLexerState(a10);
  }
  shouldInRepetitionRecoveryBeTried(e30, t10, r10) {
    return !(false === r10 || this.tokenMatcher(this.LA(1), e30) || this.isBackTracking() || this.canPerformInRuleRecovery(e30, this.getFollowsForInRuleRecovery(e30, t10)));
  }
  getFollowsForInRuleRecovery(e30, t10) {
    let r10 = this.getCurrentGrammarPath(e30, t10);
    return this.getNextPossibleTokenTypes(r10);
  }
  tryInRuleRecovery(e30, t10) {
    if (this.canRecoverWithSingleTokenInsertion(e30, t10)) return this.getTokenToInsert(e30);
    if (this.canRecoverWithSingleTokenDeletion(e30)) {
      let e31 = this.SKIP_TOKEN();
      return this.consumeToken(), e31;
    }
    throw new XM("sad sad panda");
  }
  canPerformInRuleRecovery(e30, t10) {
    return this.canRecoverWithSingleTokenInsertion(e30, t10) || this.canRecoverWithSingleTokenDeletion(e30);
  }
  canRecoverWithSingleTokenInsertion(e30, t10) {
    if (!this.canTokenTypeBeInsertedInRecovery(e30) || CG(t10)) return false;
    let r10 = this.LA(1);
    return void 0 !== $J(t10, (e31) => this.tokenMatcher(r10, e31));
  }
  canRecoverWithSingleTokenDeletion(e30) {
    return !!this.canTokenTypeBeDeletedInRecovery(e30) && this.tokenMatcher(this.LA(2), e30);
  }
  isInCurrentRuleReSyncSet(e30) {
    let t10 = this.getCurrFollowKey();
    return Pt(this.getFollowSetFromFollowKey(t10), e30);
  }
  findReSyncTokenType() {
    let e30 = this.flattenFollowSet(), t10 = this.LA(1), r10 = 2;
    for (; ; ) {
      let n10 = $J(e30, (e31) => GA(t10, e31));
      if (void 0 !== n10) return n10;
      t10 = this.LA(r10), r10++;
    }
  }
  getCurrFollowKey() {
    if (1 === this.RULE_STACK.length) return XL;
    let e30 = this.getLastExplicitRuleShortName(), t10 = this.getLastExplicitRuleOccurrenceIndex(), r10 = this.getPreviousExplicitRuleShortName();
    return { ruleName: this.shortRuleNameToFullName(e30), idxInCallingRule: t10, inRule: this.shortRuleNameToFullName(r10) };
  }
  buildFullFollowKeyStack() {
    let e30 = this.RULE_STACK, t10 = this.RULE_OCCURRENCE_STACK;
    return OJ(e30, (r10, n10) => 0 === n10 ? XL : { ruleName: this.shortRuleNameToFullName(r10), idxInCallingRule: t10[n10], inRule: this.shortRuleNameToFullName(e30[n10 - 1]) });
  }
  flattenFollowSet() {
    return $n(OJ(this.buildFullFollowKeyStack(), (e30) => this.getFollowSetFromFollowKey(e30)));
  }
  getFollowSetFromFollowKey(e30) {
    if (e30 === XL) return [GC];
    let t10 = e30.ruleName + e30.idxInCallingRule + Ys + e30.inRule;
    return this.resyncFollows[t10];
  }
  addToResyncTokens(e30, t10) {
    return this.tokenMatcher(e30, GC) || t10.push(e30), t10;
  }
  reSyncTo(e30) {
    let t10 = [], r10 = this.LA(1);
    for (; false === this.tokenMatcher(r10, e30); ) r10 = this.SKIP_TOKEN(), this.addToResyncTokens(r10, t10);
    return $H(t10);
  }
  attemptInRepetitionRecovery(e30, t10, r10, n10, i10, a10, s10) {
  }
  getCurrentGrammarPath(e30, t10) {
    return { ruleStack: this.getHumanReadableRuleStack(), occurrenceStack: D1(this.RULE_OCCURRENCE_STACK), lastTok: e30, lastTokOccurrence: t10 };
  }
  getHumanReadableRuleStack() {
    return OJ(this.RULE_STACK, (e30) => this.shortRuleNameToFullName(e30));
  }
}, _i103 = new WeakMap(), __privateAdd(_Ua, _i103, iM(_Ua, "Recoverable")), _Ua);
function XR(e30, t10, r10, n10, i10, a10, s10) {
  let o10 = this.getKeyForAutomaticLookahead(n10, i10), l10 = this.firstAfterRepMap[o10];
  if (void 0 === l10) {
    let e31 = this.getCurrRuleFullName();
    l10 = new a10(this.getGAstProductions()[e31], i10).startWalking(), this.firstAfterRepMap[o10] = l10;
  }
  let h10 = l10.token, u10 = l10.occurrence, d10 = l10.isEndOfRule;
  1 === this.RULE_STACK.length && d10 && void 0 === h10 && (h10 = GC, u10 = 1), void 0 !== h10 && void 0 !== u10 && this.shouldInRepetitionRecoveryBeTried(h10, u10, s10) && this.tryInRepetitionRecovery(e30, t10, r10, h10);
}
function XD(e30, t10, r10) {
  return r10 | t10 | e30;
}
iM(XR, "attemptInRepetitionRecovery"), iM(XD, "getKeyForAutomaticLookahead");
var XO = (_Va = class {
  constructor(e30) {
    var t10;
    this.maxLookahead = null !== (t10 = null == e30 ? void 0 : e30.maxLookahead) && void 0 !== t10 ? t10 : Kn.maxLookahead;
  }
  validate(e30) {
    let t10 = this.validateNoLeftRecursion(e30.rules);
    return CG(t10) ? [...t10, ...this.validateEmptyOrAlternatives(e30.rules), ...this.validateAmbiguousAlternationAlternatives(e30.rules, this.maxLookahead), ...this.validateSomeNonEmptyLookaheadPath(e30.rules, this.maxLookahead)] : t10;
  }
  validateNoLeftRecursion(e30) {
    return $1(e30, (e31) => Xa(e31, e31, GM));
  }
  validateEmptyOrAlternatives(e30) {
    return $1(e30, (e31) => Xl(e31, GM));
  }
  validateAmbiguousAlternationAlternatives(e30, t10) {
    return $1(e30, (e31) => Xc(e31, t10, GM));
  }
  validateSomeNonEmptyLookaheadPath(e30, t10) {
    return Xd(e30, t10, GM);
  }
  buildLookaheadForAlternation(e30) {
    return GH(e30.prodOccurrence, e30.rule, e30.maxLookahead, e30.hasPredicates, e30.dynamicTokensEnabled, GG);
  }
  buildLookaheadForOptional(e30) {
    return GY(e30.prodOccurrence, e30.rule, e30.maxLookahead, e30.dynamicTokensEnabled, GW(e30.prodType), GX);
  }
}, _i104 = new WeakMap(), __privateAdd(_Va, _i104, iM(_Va, "LLkLookaheadStrategy")), _Va), X$ = (_Wa = class {
  initLooksAhead(e30) {
    this.dynamicTokensEnabled = $8(e30, "dynamicTokensEnabled") ? e30.dynamicTokensEnabled : Kn.dynamicTokensEnabled, this.maxLookahead = $8(e30, "maxLookahead") ? e30.maxLookahead : Kn.maxLookahead, this.lookaheadStrategy = $8(e30, "lookaheadStrategy") ? e30.lookaheadStrategy : new XO({ maxLookahead: this.maxLookahead }), this.lookAheadFuncsCache = /* @__PURE__ */ new Map();
  }
  preComputeLookaheadFunctions(e30) {
    Oe(e30, (e31) => {
      this.TRACE_INIT(`${e31.name} Rule Lookahead`, () => {
        let { alternation: t10, repetition: r10, option: n10, repetitionMandatory: i10, repetitionMandatoryWithSeparator: a10, repetitionWithSeparator: s10 } = XB(e31);
        Oe(t10, (t11) => {
          let r11 = 0 === t11.idx ? "" : t11.idx;
          this.TRACE_INIT(`${H9(t11)}${r11}`, () => {
            let r12 = this.lookaheadStrategy.buildLookaheadForAlternation({ prodOccurrence: t11.idx, rule: e31, maxLookahead: t11.maxLookahead || this.maxLookahead, hasPredicates: t11.hasPredicates, dynamicTokensEnabled: this.dynamicTokensEnabled }), n11 = XD(this.fullRuleNameToShort[e31.name], 256, t11.idx);
            this.setLaFuncCache(n11, r12);
          });
        }), Oe(r10, (t11) => {
          this.computeLookaheadFunc(e31, t11.idx, 768, "Repetition", t11.maxLookahead, H9(t11));
        }), Oe(n10, (t11) => {
          this.computeLookaheadFunc(e31, t11.idx, 512, "Option", t11.maxLookahead, H9(t11));
        }), Oe(i10, (t11) => {
          this.computeLookaheadFunc(e31, t11.idx, 1024, "RepetitionMandatory", t11.maxLookahead, H9(t11));
        }), Oe(a10, (t11) => {
          this.computeLookaheadFunc(e31, t11.idx, 1536, "RepetitionMandatoryWithSeparator", t11.maxLookahead, H9(t11));
        }), Oe(s10, (t11) => {
          this.computeLookaheadFunc(e31, t11.idx, 1280, "RepetitionWithSeparator", t11.maxLookahead, H9(t11));
        });
      });
    });
  }
  computeLookaheadFunc(e30, t10, r10, n10, i10, a10) {
    this.TRACE_INIT(`${a10}${0 === t10 ? "" : t10}`, () => {
      let a11 = this.lookaheadStrategy.buildLookaheadForOptional({ prodOccurrence: t10, rule: e30, maxLookahead: i10 || this.maxLookahead, dynamicTokensEnabled: this.dynamicTokensEnabled, prodType: n10 }), s10 = XD(this.fullRuleNameToShort[e30.name], r10, t10);
      this.setLaFuncCache(s10, a11);
    });
  }
  getKeyForAutomaticLookahead(e30, t10) {
    return XD(this.getLastExplicitRuleShortName(), e30, t10);
  }
  getLaFuncFromCache(e30) {
    return this.lookAheadFuncsCache.get(e30);
  }
  setLaFuncCache(e30, t10) {
    this.lookAheadFuncsCache.set(e30, t10);
  }
}, _i105 = new WeakMap(), __privateAdd(_Wa, _i105, iM(_Wa, "LooksAhead")), _Wa), XP = new (_Xa = class extends H5 {
  constructor() {
    super(...arguments), this.dslMethods = { option: [], alternation: [], repetition: [], repetitionWithSeparator: [], repetitionMandatory: [], repetitionMandatoryWithSeparator: [] };
  }
  reset() {
    this.dslMethods = { option: [], alternation: [], repetition: [], repetitionWithSeparator: [], repetitionMandatory: [], repetitionMandatoryWithSeparator: [] };
  }
  visitOption(e30) {
    this.dslMethods.option.push(e30);
  }
  visitRepetitionWithSeparator(e30) {
    this.dslMethods.repetitionWithSeparator.push(e30);
  }
  visitRepetitionMandatory(e30) {
    this.dslMethods.repetitionMandatory.push(e30);
  }
  visitRepetitionMandatoryWithSeparator(e30) {
    this.dslMethods.repetitionMandatoryWithSeparator.push(e30);
  }
  visitRepetition(e30) {
    this.dslMethods.repetition.push(e30);
  }
  visitAlternation(e30) {
    this.dslMethods.alternation.push(e30);
  }
}, _i106 = new WeakMap(), __privateAdd(_Xa, _i106, iM(_Xa, "DslMethodsCollectorVisitor")), _Xa)();
function XB(e30) {
  XP.reset(), e30.accept(XP);
  let t10 = XP.dslMethods;
  return XP.reset(), t10;
}
function XF(e30, t10) {
  true === isNaN(e30.startOffset) ? (e30.startOffset = t10.startOffset, e30.endOffset = t10.endOffset) : e30.endOffset < t10.endOffset == true && (e30.endOffset = t10.endOffset);
}
function Xz(e30, t10) {
  true === isNaN(e30.startOffset) ? (e30.startOffset = t10.startOffset, e30.startColumn = t10.startColumn, e30.startLine = t10.startLine, e30.endOffset = t10.endOffset, e30.endColumn = t10.endColumn, e30.endLine = t10.endLine) : e30.endOffset < t10.endOffset == true && (e30.endOffset = t10.endOffset, e30.endColumn = t10.endColumn, e30.endLine = t10.endLine);
}
function Xj(e30, t10, r10) {
  void 0 === e30.children[r10] ? e30.children[r10] = [t10] : e30.children[r10].push(t10);
}
function Xq(e30, t10, r10) {
  void 0 === e30.children[t10] ? e30.children[t10] = [r10] : e30.children[t10].push(r10);
}
function XU(e30, t10) {
  Object.defineProperty(e30, "name", { enumerable: false, configurable: true, writable: false, value: t10 });
}
function XW(e30, t10) {
  let r10 = Dx(e30), n10 = r10.length;
  for (let i10 = 0; i10 < n10; i10++) {
    let n11 = e30[r10[i10]], a10 = n11.length;
    for (let e31 = 0; e31 < a10; e31++) {
      let r11 = n11[e31];
      void 0 === r11.tokenTypeIdx && this[r11.name](r11.children, t10);
    }
  }
}
function XV(e30, t10) {
  let r10 = iM(function() {
  }, "derivedConstructor");
  XU(r10, e30 + "BaseSemantics");
  let n10 = { visit: iM(function(e31, t11) {
    if (b$(e31) && (e31 = e31[0]), !O2(e31)) return this[e31.name](e31.children, t11);
  }, "visit"), validateVisitor: iM(function() {
    let e31 = XY(this, t10);
    if (!CG(e31)) {
      let t11 = OJ(e31, (e32) => e32.msg);
      throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${t11.join("\n\n").replace(/\n/g, "\n	")}`);
    }
  }, "validateVisitor") };
  return r10.prototype = n10, r10.prototype.constructor = r10, r10._RULE_NAMES = t10, r10;
}
function XH(e30, t10, r10) {
  let n10 = iM(function() {
  }, "derivedConstructor");
  XU(n10, e30 + "BaseSemanticsWithDefaults");
  let i10 = Object.create(r10.prototype);
  return Oe(t10, (e31) => {
    i10[e31] = XW;
  }), n10.prototype = i10, n10.prototype.constructor = n10, n10;
}
function XY(e30, t10) {
  return XG(e30, t10);
}
function XG(e30, t10) {
  return $B(OJ(OZ(t10, (t11) => false === xT(e30[t11])), (t11) => ({ msg: `Missing visitor method: <${t11}> on ${e30.constructor.name} CST Visitor.`, type: ry.MISSING_METHOD, methodName: t11 })));
}
iM(XB, "collectMethods"), iM(XF, "setNodeLocationOnlyOffset"), iM(Xz, "setNodeLocationFull"), iM(Xj, "addTerminalToCst"), iM(Xq, "addNoneTerminalToCst"), iM(XU, "defineNameProp"), iM(XW, "defaultVisit"), iM(XV, "createBaseSemanticVisitorConstructor"), iM(XH, "createBaseVisitorConstructorWithDefaults"), (tM = ry || (ry = {}))[tM.REDUNDANT_METHOD = 0] = "REDUNDANT_METHOD", tM[tM.MISSING_METHOD = 1] = "MISSING_METHOD", iM(XY, "validateVisitor"), iM(XG, "validateMissingCstMethods");
var XX = (_Ya = class {
  initTreeBuilder(e30) {
    if (this.CST_STACK = [], this.outputCst = e30.outputCst, this.nodeLocationTracking = $8(e30, "nodeLocationTracking") ? e30.nodeLocationTracking : Kn.nodeLocationTracking, this.outputCst) {
      if (/full/i.test(this.nodeLocationTracking)) this.recoveryEnabled ? (this.setNodeLocationFromToken = Xz, this.setNodeLocationFromNode = Xz, this.cstPostRule = $g, this.setInitialNodeLocation = this.setInitialNodeLocationFullRecovery) : (this.setNodeLocationFromToken = $g, this.setNodeLocationFromNode = $g, this.cstPostRule = this.cstPostRuleFull, this.setInitialNodeLocation = this.setInitialNodeLocationFullRegular);
      else if (/onlyOffset/i.test(this.nodeLocationTracking)) this.recoveryEnabled ? (this.setNodeLocationFromToken = XF, this.setNodeLocationFromNode = XF, this.cstPostRule = $g, this.setInitialNodeLocation = this.setInitialNodeLocationOnlyOffsetRecovery) : (this.setNodeLocationFromToken = $g, this.setNodeLocationFromNode = $g, this.cstPostRule = this.cstPostRuleOnlyOffset, this.setInitialNodeLocation = this.setInitialNodeLocationOnlyOffsetRegular);
      else if (/none/i.test(this.nodeLocationTracking)) this.setNodeLocationFromToken = $g, this.setNodeLocationFromNode = $g, this.cstPostRule = $g, this.setInitialNodeLocation = $g;
      else throw Error(`Invalid <nodeLocationTracking> config option: "${e30.nodeLocationTracking}"`);
    } else this.cstInvocationStateUpdate = $g, this.cstFinallyStateUpdate = $g, this.cstPostTerminal = $g, this.cstPostNonTerminal = $g, this.cstPostRule = $g;
  }
  setInitialNodeLocationOnlyOffsetRecovery(e30) {
    e30.location = { startOffset: NaN, endOffset: NaN };
  }
  setInitialNodeLocationOnlyOffsetRegular(e30) {
    e30.location = { startOffset: this.LA(1).startOffset, endOffset: NaN };
  }
  setInitialNodeLocationFullRecovery(e30) {
    e30.location = { startOffset: NaN, startLine: NaN, startColumn: NaN, endOffset: NaN, endLine: NaN, endColumn: NaN };
  }
  setInitialNodeLocationFullRegular(e30) {
    let t10 = this.LA(1);
    e30.location = { startOffset: t10.startOffset, startLine: t10.startLine, startColumn: t10.startColumn, endOffset: NaN, endLine: NaN, endColumn: NaN };
  }
  cstInvocationStateUpdate(e30) {
    let t10 = { name: e30, children: /* @__PURE__ */ Object.create(null) };
    this.setInitialNodeLocation(t10), this.CST_STACK.push(t10);
  }
  cstFinallyStateUpdate() {
    this.CST_STACK.pop();
  }
  cstPostRuleFull(e30) {
    let t10 = this.LA(0), r10 = e30.location;
    r10.startOffset <= t10.startOffset == true ? (r10.endOffset = t10.endOffset, r10.endLine = t10.endLine, r10.endColumn = t10.endColumn) : (r10.startOffset = NaN, r10.startLine = NaN, r10.startColumn = NaN);
  }
  cstPostRuleOnlyOffset(e30) {
    let t10 = this.LA(0), r10 = e30.location;
    r10.startOffset <= t10.startOffset == true ? r10.endOffset = t10.endOffset : r10.startOffset = NaN;
  }
  cstPostTerminal(e30, t10) {
    let r10 = this.CST_STACK[this.CST_STACK.length - 1];
    Xj(r10, t10, e30), this.setNodeLocationFromToken(r10.location, t10);
  }
  cstPostNonTerminal(e30, t10) {
    let r10 = this.CST_STACK[this.CST_STACK.length - 1];
    Xq(r10, t10, e30), this.setNodeLocationFromNode(r10.location, e30.location);
  }
  getBaseCstVisitorConstructor() {
    if (O2(this.baseCstVisitorConstructor)) {
      let e30 = XV(this.className, Dx(this.gastProductionsCache));
      return this.baseCstVisitorConstructor = e30, e30;
    }
    return this.baseCstVisitorConstructor;
  }
  getBaseCstVisitorConstructorWithDefaults() {
    if (O2(this.baseCstVisitorWithDefaultsConstructor)) {
      let e30 = XH(this.className, Dx(this.gastProductionsCache), this.getBaseCstVisitorConstructor());
      return this.baseCstVisitorWithDefaultsConstructor = e30, e30;
    }
    return this.baseCstVisitorWithDefaultsConstructor;
  }
  getLastExplicitRuleShortName() {
    let e30 = this.RULE_STACK;
    return e30[e30.length - 1];
  }
  getPreviousExplicitRuleShortName() {
    let e30 = this.RULE_STACK;
    return e30[e30.length - 2];
  }
  getLastExplicitRuleOccurrenceIndex() {
    let e30 = this.RULE_OCCURRENCE_STACK;
    return e30[e30.length - 1];
  }
}, _i107 = new WeakMap(), __privateAdd(_Ya, _i107, iM(_Ya, "TreeBuilder")), _Ya), XK = (_Za = class {
  initLexerAdapter() {
    this.tokVector = [], this.tokVectorLength = 0, this.currIdx = -1;
  }
  set input(e30) {
    if (true !== this.selfAnalysisDone) throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");
    this.reset(), this.tokVector = e30, this.tokVectorLength = e30.length;
  }
  get input() {
    return this.tokVector;
  }
  SKIP_TOKEN() {
    return this.currIdx <= this.tokVector.length - 2 ? (this.consumeToken(), this.LA(1)) : Kr;
  }
  LA(e30) {
    let t10 = this.currIdx + e30;
    return t10 < 0 || this.tokVectorLength <= t10 ? Kr : this.tokVector[t10];
  }
  consumeToken() {
    this.currIdx++;
  }
  exportLexerState() {
    return this.currIdx;
  }
  importLexerState(e30) {
    this.currIdx = e30;
  }
  resetLexerState() {
    this.currIdx = -1;
  }
  moveToTerminatedState() {
    this.currIdx = this.tokVector.length - 1;
  }
  getLexerPosition() {
    return this.exportLexerState();
  }
}, _i108 = new WeakMap(), __privateAdd(_Za, _i108, iM(_Za, "LexerAdapter")), _Za), XZ = (__a = class {
  ACTION(e30) {
    return e30.call(this);
  }
  consume(e30, t10, r10) {
    return this.consumeInternal(t10, e30, r10);
  }
  subrule(e30, t10, r10) {
    return this.subruleInternal(t10, e30, r10);
  }
  option(e30, t10) {
    return this.optionInternal(t10, e30);
  }
  or(e30, t10) {
    return this.orInternal(t10, e30);
  }
  many(e30, t10) {
    return this.manyInternal(e30, t10);
  }
  atLeastOne(e30, t10) {
    return this.atLeastOneInternal(e30, t10);
  }
  CONSUME(e30, t10) {
    return this.consumeInternal(e30, 0, t10);
  }
  CONSUME1(e30, t10) {
    return this.consumeInternal(e30, 1, t10);
  }
  CONSUME2(e30, t10) {
    return this.consumeInternal(e30, 2, t10);
  }
  CONSUME3(e30, t10) {
    return this.consumeInternal(e30, 3, t10);
  }
  CONSUME4(e30, t10) {
    return this.consumeInternal(e30, 4, t10);
  }
  CONSUME5(e30, t10) {
    return this.consumeInternal(e30, 5, t10);
  }
  CONSUME6(e30, t10) {
    return this.consumeInternal(e30, 6, t10);
  }
  CONSUME7(e30, t10) {
    return this.consumeInternal(e30, 7, t10);
  }
  CONSUME8(e30, t10) {
    return this.consumeInternal(e30, 8, t10);
  }
  CONSUME9(e30, t10) {
    return this.consumeInternal(e30, 9, t10);
  }
  SUBRULE(e30, t10) {
    return this.subruleInternal(e30, 0, t10);
  }
  SUBRULE1(e30, t10) {
    return this.subruleInternal(e30, 1, t10);
  }
  SUBRULE2(e30, t10) {
    return this.subruleInternal(e30, 2, t10);
  }
  SUBRULE3(e30, t10) {
    return this.subruleInternal(e30, 3, t10);
  }
  SUBRULE4(e30, t10) {
    return this.subruleInternal(e30, 4, t10);
  }
  SUBRULE5(e30, t10) {
    return this.subruleInternal(e30, 5, t10);
  }
  SUBRULE6(e30, t10) {
    return this.subruleInternal(e30, 6, t10);
  }
  SUBRULE7(e30, t10) {
    return this.subruleInternal(e30, 7, t10);
  }
  SUBRULE8(e30, t10) {
    return this.subruleInternal(e30, 8, t10);
  }
  SUBRULE9(e30, t10) {
    return this.subruleInternal(e30, 9, t10);
  }
  OPTION(e30) {
    return this.optionInternal(e30, 0);
  }
  OPTION1(e30) {
    return this.optionInternal(e30, 1);
  }
  OPTION2(e30) {
    return this.optionInternal(e30, 2);
  }
  OPTION3(e30) {
    return this.optionInternal(e30, 3);
  }
  OPTION4(e30) {
    return this.optionInternal(e30, 4);
  }
  OPTION5(e30) {
    return this.optionInternal(e30, 5);
  }
  OPTION6(e30) {
    return this.optionInternal(e30, 6);
  }
  OPTION7(e30) {
    return this.optionInternal(e30, 7);
  }
  OPTION8(e30) {
    return this.optionInternal(e30, 8);
  }
  OPTION9(e30) {
    return this.optionInternal(e30, 9);
  }
  OR(e30) {
    return this.orInternal(e30, 0);
  }
  OR1(e30) {
    return this.orInternal(e30, 1);
  }
  OR2(e30) {
    return this.orInternal(e30, 2);
  }
  OR3(e30) {
    return this.orInternal(e30, 3);
  }
  OR4(e30) {
    return this.orInternal(e30, 4);
  }
  OR5(e30) {
    return this.orInternal(e30, 5);
  }
  OR6(e30) {
    return this.orInternal(e30, 6);
  }
  OR7(e30) {
    return this.orInternal(e30, 7);
  }
  OR8(e30) {
    return this.orInternal(e30, 8);
  }
  OR9(e30) {
    return this.orInternal(e30, 9);
  }
  MANY(e30) {
    this.manyInternal(0, e30);
  }
  MANY1(e30) {
    this.manyInternal(1, e30);
  }
  MANY2(e30) {
    this.manyInternal(2, e30);
  }
  MANY3(e30) {
    this.manyInternal(3, e30);
  }
  MANY4(e30) {
    this.manyInternal(4, e30);
  }
  MANY5(e30) {
    this.manyInternal(5, e30);
  }
  MANY6(e30) {
    this.manyInternal(6, e30);
  }
  MANY7(e30) {
    this.manyInternal(7, e30);
  }
  MANY8(e30) {
    this.manyInternal(8, e30);
  }
  MANY9(e30) {
    this.manyInternal(9, e30);
  }
  MANY_SEP(e30) {
    this.manySepFirstInternal(0, e30);
  }
  MANY_SEP1(e30) {
    this.manySepFirstInternal(1, e30);
  }
  MANY_SEP2(e30) {
    this.manySepFirstInternal(2, e30);
  }
  MANY_SEP3(e30) {
    this.manySepFirstInternal(3, e30);
  }
  MANY_SEP4(e30) {
    this.manySepFirstInternal(4, e30);
  }
  MANY_SEP5(e30) {
    this.manySepFirstInternal(5, e30);
  }
  MANY_SEP6(e30) {
    this.manySepFirstInternal(6, e30);
  }
  MANY_SEP7(e30) {
    this.manySepFirstInternal(7, e30);
  }
  MANY_SEP8(e30) {
    this.manySepFirstInternal(8, e30);
  }
  MANY_SEP9(e30) {
    this.manySepFirstInternal(9, e30);
  }
  AT_LEAST_ONE(e30) {
    this.atLeastOneInternal(0, e30);
  }
  AT_LEAST_ONE1(e30) {
    return this.atLeastOneInternal(1, e30);
  }
  AT_LEAST_ONE2(e30) {
    this.atLeastOneInternal(2, e30);
  }
  AT_LEAST_ONE3(e30) {
    this.atLeastOneInternal(3, e30);
  }
  AT_LEAST_ONE4(e30) {
    this.atLeastOneInternal(4, e30);
  }
  AT_LEAST_ONE5(e30) {
    this.atLeastOneInternal(5, e30);
  }
  AT_LEAST_ONE6(e30) {
    this.atLeastOneInternal(6, e30);
  }
  AT_LEAST_ONE7(e30) {
    this.atLeastOneInternal(7, e30);
  }
  AT_LEAST_ONE8(e30) {
    this.atLeastOneInternal(8, e30);
  }
  AT_LEAST_ONE9(e30) {
    this.atLeastOneInternal(9, e30);
  }
  AT_LEAST_ONE_SEP(e30) {
    this.atLeastOneSepFirstInternal(0, e30);
  }
  AT_LEAST_ONE_SEP1(e30) {
    this.atLeastOneSepFirstInternal(1, e30);
  }
  AT_LEAST_ONE_SEP2(e30) {
    this.atLeastOneSepFirstInternal(2, e30);
  }
  AT_LEAST_ONE_SEP3(e30) {
    this.atLeastOneSepFirstInternal(3, e30);
  }
  AT_LEAST_ONE_SEP4(e30) {
    this.atLeastOneSepFirstInternal(4, e30);
  }
  AT_LEAST_ONE_SEP5(e30) {
    this.atLeastOneSepFirstInternal(5, e30);
  }
  AT_LEAST_ONE_SEP6(e30) {
    this.atLeastOneSepFirstInternal(6, e30);
  }
  AT_LEAST_ONE_SEP7(e30) {
    this.atLeastOneSepFirstInternal(7, e30);
  }
  AT_LEAST_ONE_SEP8(e30) {
    this.atLeastOneSepFirstInternal(8, e30);
  }
  AT_LEAST_ONE_SEP9(e30) {
    this.atLeastOneSepFirstInternal(9, e30);
  }
  RULE(e30, t10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Ki;
    if (Pt(this.definedRulesNames, e30)) {
      let t11 = { message: GM.buildDuplicateRuleNameError({ topLevelRule: e30, grammarName: this.className }), type: rv.DUPLICATE_RULE_NAME, ruleName: e30 };
      this.definitionErrors.push(t11);
    }
    this.definedRulesNames.push(e30);
    let n10 = this.defineRule(e30, t10, r10);
    return this[e30] = n10, n10;
  }
  OVERRIDE_RULE(e30, t10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Ki, n10 = Xi(e30, this.definedRulesNames, this.className);
    this.definitionErrors = this.definitionErrors.concat(n10);
    let i10 = this.defineRule(e30, t10, r10);
    return this[e30] = i10, i10;
  }
  BACKTRACK(e30, t10) {
    return function() {
      this.isBackTrackingStack.push(1);
      let r10 = this.saveRecogState();
      try {
        return e30.apply(this, t10), true;
      } catch (e31) {
        if (X_(e31)) return false;
        throw e31;
      } finally {
        this.reloadRecogState(r10), this.isBackTrackingStack.pop();
      }
    };
  }
  getGAstProductions() {
    return this.gastProductionsCache;
  }
  getSerializedGastProductions() {
    return H4(O1(this.gastProductionsCache));
  }
}, _i109 = new WeakMap(), __privateAdd(__a, _i109, iM(__a, "RecognizerApi")), __a), XQ = (_$a = class {
  initRecognizerEngine(e30, t10) {
    if (this.className = this.constructor.name, this.shortRuleNameToFull = {}, this.fullRuleNameToShort = {}, this.ruleShortNameIdx = 256, this.tokenMatcher = Y8, this.subruleIdx = 0, this.definedRulesNames = [], this.tokensMap = {}, this.isBackTrackingStack = [], this.RULE_STACK = [], this.RULE_OCCURRENCE_STACK = [], this.gastProductionsCache = {}, $8(t10, "serializedGrammar")) throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n	For Further details.");
    if (b$(e30)) {
      if (CG(e30)) throw Error("A Token Vocabulary cannot be empty.\n	Note that the first argument for the parser constructor\n	is no longer a Token vector (since v4.0).");
      if ("number" == typeof e30[0].startOffset) throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n	For Further details.");
    }
    if (b$(e30)) this.tokensMap = $l(e30, (e31, t11) => (e31[t11.name] = t11, e31), {});
    else if ($8(e30, "modes") && $X($n(O1(e30.modes)), Gu)) {
      let t11 = PF($n(O1(e30.modes)));
      this.tokensMap = $l(t11, (e31, t12) => (e31[t12.name] = t12, e31), {});
    } else if (x_(e30)) this.tokensMap = D1(e30);
    else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");
    this.tokensMap.EOF = GC;
    let r10 = $X($8(e30, "modes") ? $n(O1(e30.modes)) : O1(e30), (e31) => CG(e31.categoryMatches));
    this.tokenMatcher = r10 ? Y8 : Y7, Gt(O1(this.tokensMap));
  }
  defineRule(e30, t10, r10) {
    if (this.selfAnalysisDone) throw Error(`Grammar rule <${e30}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);
    let n10 = $8(r10, "resyncEnabled") ? r10.resyncEnabled : Ki.resyncEnabled, i10 = $8(r10, "recoveryValueFunc") ? r10.recoveryValueFunc : Ki.recoveryValueFunc, a10 = this.ruleShortNameIdx << 12;
    return this.ruleShortNameIdx++, this.shortRuleNameToFull[a10] = e30, this.fullRuleNameToShort[e30] = a10, Object.assign(true === this.outputCst ? iM(function() {
      for (var r11 = arguments.length, s10 = Array(r11), o10 = 0; o10 < r11; o10++) s10[o10] = arguments[o10];
      try {
        this.ruleInvocationStateUpdate(a10, e30, this.subruleIdx), t10.apply(this, s10);
        let r12 = this.CST_STACK[this.CST_STACK.length - 1];
        return this.cstPostRule(r12), r12;
      } catch (e31) {
        return this.invokeRuleCatch(e31, n10, i10);
      } finally {
        this.ruleFinallyStateUpdate();
      }
    }, "invokeRuleWithTry") : iM(function() {
      for (var r11 = arguments.length, s10 = Array(r11), o10 = 0; o10 < r11; o10++) s10[o10] = arguments[o10];
      try {
        return this.ruleInvocationStateUpdate(a10, e30, this.subruleIdx), t10.apply(this, s10);
      } catch (e31) {
        return this.invokeRuleCatch(e31, n10, i10);
      } finally {
        this.ruleFinallyStateUpdate();
      }
    }, "invokeRuleWithTryCst"), { ruleName: e30, originalGrammarAction: t10 });
  }
  invokeRuleCatch(e30, t10, r10) {
    let n10 = 1 === this.RULE_STACK.length, i10 = t10 && !this.isBackTracking() && this.recoveryEnabled;
    if (X_(e30)) {
      if (i10) {
        let t11 = this.findReSyncTokenType();
        if (this.isInCurrentRuleReSyncSet(t11)) {
          if (e30.resyncedTokens = this.reSyncTo(t11), !this.outputCst) return r10(e30);
          {
            let e31 = this.CST_STACK[this.CST_STACK.length - 1];
            return e31.recoveredNode = true, e31;
          }
        }
        if (this.outputCst) {
          let t12 = this.CST_STACK[this.CST_STACK.length - 1];
          t12.recoveredNode = true, e30.partialCstResult = t12;
        }
        throw e30;
      }
      if (n10) return this.moveToTerminatedState(), r10(e30);
    }
    throw e30;
  }
  optionInternal(e30, t10) {
    let r10 = this.getKeyForAutomaticLookahead(512, t10);
    return this.optionInternalLogic(e30, t10, r10);
  }
  optionInternalLogic(e30, t10, r10) {
    let n10, i10 = this.getLaFuncFromCache(r10);
    if ("function" != typeof e30) {
      n10 = e30.DEF;
      let t11 = e30.GATE;
      if (void 0 !== t11) {
        let e31 = i10;
        i10 = iM(() => t11.call(this) && e31.call(this), "lookAheadFunc");
      }
    } else n10 = e30;
    if (true === i10.call(this)) return n10.call(this);
  }
  atLeastOneInternal(e30, t10) {
    let r10 = this.getKeyForAutomaticLookahead(1024, e30);
    return this.atLeastOneInternalLogic(e30, t10, r10);
  }
  atLeastOneInternalLogic(e30, t10, r10) {
    let n10, i10 = this.getLaFuncFromCache(r10);
    if ("function" != typeof t10) {
      n10 = t10.DEF;
      let e31 = t10.GATE;
      if (void 0 !== e31) {
        let t11 = i10;
        i10 = iM(() => e31.call(this) && t11.call(this), "lookAheadFunc");
      }
    } else n10 = t10;
    if (true === i10.call(this)) {
      let e31 = this.doSingleRepetition(n10);
      for (; true === i10.call(this) && true === e31; ) e31 = this.doSingleRepetition(n10);
    } else throw this.raiseEarlyExitException(e30, rm.REPETITION_MANDATORY, t10.ERR_MSG);
    this.attemptInRepetitionRecovery(this.atLeastOneInternal, [e30, t10], i10, 1024, e30, GF);
  }
  atLeastOneSepFirstInternal(e30, t10) {
    let r10 = this.getKeyForAutomaticLookahead(1536, e30);
    this.atLeastOneSepFirstInternalLogic(e30, t10, r10);
  }
  atLeastOneSepFirstInternalLogic(e30, t10, r10) {
    let n10 = t10.DEF, i10 = t10.SEP;
    if (true === this.getLaFuncFromCache(r10).call(this)) {
      n10.call(this);
      let t11 = iM(() => this.tokenMatcher(this.LA(1), i10), "separatorLookAheadFunc");
      for (; true === this.tokenMatcher(this.LA(1), i10); ) this.CONSUME(i10), n10.call(this);
      this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [e30, i10, t11, n10, Gz], t11, 1536, e30, Gz);
    } else throw this.raiseEarlyExitException(e30, rm.REPETITION_MANDATORY_WITH_SEPARATOR, t10.ERR_MSG);
  }
  manyInternal(e30, t10) {
    let r10 = this.getKeyForAutomaticLookahead(768, e30);
    return this.manyInternalLogic(e30, t10, r10);
  }
  manyInternalLogic(e30, t10, r10) {
    let n10, i10 = this.getLaFuncFromCache(r10);
    if ("function" != typeof t10) {
      n10 = t10.DEF;
      let e31 = t10.GATE;
      if (void 0 !== e31) {
        let t11 = i10;
        i10 = iM(() => e31.call(this) && t11.call(this), "lookaheadFunction");
      }
    } else n10 = t10;
    let a10 = true;
    for (; true === i10.call(this) && true === a10; ) a10 = this.doSingleRepetition(n10);
    this.attemptInRepetitionRecovery(this.manyInternal, [e30, t10], i10, 768, e30, GP, a10);
  }
  manySepFirstInternal(e30, t10) {
    let r10 = this.getKeyForAutomaticLookahead(1280, e30);
    this.manySepFirstInternalLogic(e30, t10, r10);
  }
  manySepFirstInternalLogic(e30, t10, r10) {
    let n10 = t10.DEF, i10 = t10.SEP;
    if (true === this.getLaFuncFromCache(r10).call(this)) {
      n10.call(this);
      let t11 = iM(() => this.tokenMatcher(this.LA(1), i10), "separatorLookAheadFunc");
      for (; true === this.tokenMatcher(this.LA(1), i10); ) this.CONSUME(i10), n10.call(this);
      this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [e30, i10, t11, n10, GB], t11, 1280, e30, GB);
    }
  }
  repetitionSepSecondInternal(e30, t10, r10, n10, i10) {
    for (; r10(); ) this.CONSUME(t10), n10.call(this);
    this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [e30, t10, r10, n10, i10], r10, 1536, e30, i10);
  }
  doSingleRepetition(e30) {
    let t10 = this.getLexerPosition();
    return e30.call(this), this.getLexerPosition() > t10;
  }
  orInternal(e30, t10) {
    let r10 = this.getKeyForAutomaticLookahead(256, t10), n10 = b$(e30) ? e30 : e30.DEF, i10 = this.getLaFuncFromCache(r10).call(this, n10);
    if (void 0 !== i10) return n10[i10].ALT.call(this);
    this.raiseNoAltException(t10, e30.ERR_MSG);
  }
  ruleFinallyStateUpdate() {
    if (this.RULE_STACK.pop(), this.RULE_OCCURRENCE_STACK.pop(), this.cstFinallyStateUpdate(), 0 === this.RULE_STACK.length && false === this.isAtEndOfInput()) {
      let e30 = this.LA(1), t10 = this.errorMessageProvider.buildNotAllInputParsedMessage({ firstRedundant: e30, ruleName: this.getCurrRuleFullName() });
      this.SAVE_ERROR(new XE(t10, e30));
    }
  }
  subruleInternal(e30, t10, r10) {
    let n10;
    try {
      let i10 = void 0 !== r10 ? r10.ARGS : void 0;
      return this.subruleIdx = t10, n10 = e30.apply(this, i10), this.cstPostNonTerminal(n10, void 0 !== r10 && void 0 !== r10.LABEL ? r10.LABEL : e30.ruleName), n10;
    } catch (t11) {
      throw this.subruleInternalError(t11, r10, e30.ruleName);
    }
  }
  subruleInternalError(e30, t10, r10) {
    throw X_(e30) && void 0 !== e30.partialCstResult && (this.cstPostNonTerminal(e30.partialCstResult, void 0 !== t10 && void 0 !== t10.LABEL ? t10.LABEL : r10), delete e30.partialCstResult), e30;
  }
  consumeInternal(e30, t10, r10) {
    let n10;
    try {
      let t11 = this.LA(1);
      true === this.tokenMatcher(t11, e30) ? (this.consumeToken(), n10 = t11) : this.consumeInternalError(e30, t11, r10);
    } catch (r11) {
      n10 = this.consumeInternalRecovery(e30, t10, r11);
    }
    return this.cstPostTerminal(void 0 !== r10 && void 0 !== r10.LABEL ? r10.LABEL : e30.name, n10), n10;
  }
  consumeInternalError(e30, t10, r10) {
    let n10;
    let i10 = this.LA(0);
    throw n10 = void 0 !== r10 && r10.ERR_MSG ? r10.ERR_MSG : this.errorMessageProvider.buildMismatchTokenMessage({ expected: e30, actual: t10, previous: i10, ruleName: this.getCurrRuleFullName() }), this.SAVE_ERROR(new XS(n10, t10, i10));
  }
  consumeInternalRecovery(e30, t10, r10) {
    if (this.recoveryEnabled && "MismatchedTokenException" === r10.name && !this.isBackTracking()) {
      let n10 = this.getFollowsForInRuleRecovery(e30, t10);
      try {
        return this.tryInRuleRecovery(e30, n10);
      } catch (e31) {
        if (e31.name === XI) throw r10;
        throw e31;
      }
    } else throw r10;
  }
  saveRecogState() {
    let e30 = this.errors, t10 = D1(this.RULE_STACK);
    return { errors: e30, lexerState: this.exportLexerState(), RULE_STACK: t10, CST_STACK: this.CST_STACK };
  }
  reloadRecogState(e30) {
    this.errors = e30.errors, this.importLexerState(e30.lexerState), this.RULE_STACK = e30.RULE_STACK;
  }
  ruleInvocationStateUpdate(e30, t10, r10) {
    this.RULE_OCCURRENCE_STACK.push(r10), this.RULE_STACK.push(e30), this.cstInvocationStateUpdate(t10);
  }
  isBackTracking() {
    return 0 !== this.isBackTrackingStack.length;
  }
  getCurrRuleFullName() {
    let e30 = this.getLastExplicitRuleShortName();
    return this.shortRuleNameToFull[e30];
  }
  shortRuleNameToFullName(e30) {
    return this.shortRuleNameToFull[e30];
  }
  isAtEndOfInput() {
    return this.tokenMatcher(this.LA(1), GC);
  }
  reset() {
    this.resetLexerState(), this.subruleIdx = 0, this.isBackTrackingStack = [], this.errors = [], this.RULE_STACK = [], this.CST_STACK = [], this.RULE_OCCURRENCE_STACK = [];
  }
}, _i110 = new WeakMap(), __privateAdd(_$a, _i110, iM(_$a, "RecognizerEngine")), _$a), XJ = (_ab = class {
  initErrorHandler(e30) {
    this._errors = [], this.errorMessageProvider = $8(e30, "errorMessageProvider") ? e30.errorMessageProvider : Kn.errorMessageProvider;
  }
  SAVE_ERROR(e30) {
    if (X_(e30)) return e30.context = { ruleStack: this.getHumanReadableRuleStack(), ruleOccurrenceStack: D1(this.RULE_OCCURRENCE_STACK) }, this._errors.push(e30), e30;
    throw Error("Trying to save an Error which is not a RecognitionException");
  }
  get errors() {
    return D1(this._errors);
  }
  set errors(e30) {
    this._errors = e30;
  }
  raiseEarlyExitException(e30, t10, r10) {
    let n10 = this.getCurrRuleFullName(), i10 = G4(e30, this.getGAstProductions()[n10], t10, this.maxLookahead)[0], a10 = [];
    for (let e31 = 1; e31 <= this.maxLookahead; e31++) a10.push(this.LA(e31));
    let s10 = this.errorMessageProvider.buildEarlyExitMessage({ expectedIterationPaths: i10, actual: a10, previous: this.LA(0), customUserDescription: r10, ruleName: n10 });
    throw this.SAVE_ERROR(new XA(s10, this.LA(1), this.LA(0)));
  }
  raiseNoAltException(e30, t10) {
    let r10 = this.getCurrRuleFullName(), n10 = G2(e30, this.getGAstProductions()[r10], this.maxLookahead), i10 = [];
    for (let e31 = 1; e31 <= this.maxLookahead; e31++) i10.push(this.LA(e31));
    let a10 = this.LA(0), s10 = this.errorMessageProvider.buildNoViableAltMessage({ expectedPathsPerAlt: n10, actual: i10, previous: a10, customUserDescription: t10, ruleName: this.getCurrRuleFullName() });
    throw this.SAVE_ERROR(new XC(s10, this.LA(1), a10));
  }
}, _i111 = new WeakMap(), __privateAdd(_ab, _i111, iM(_ab, "ErrorHandler")), _ab), X0 = (_bb = class {
  initContentAssist() {
  }
  computeContentAssist(e30, t10) {
    let r10 = this.gastProductionsCache[e30];
    if (O2(r10)) throw Error(`Rule ->${e30}<- does not exist in this grammar.`);
    return Gq([r10], t10, this.tokenMatcher, this.maxLookahead);
  }
  getNextPossibleTokenTypes(e30) {
    let t10 = $0(e30.ruleStack);
    return new GO(this.getGAstProductions()[t10], e30).startWalking();
  }
}, _i112 = new WeakMap(), __privateAdd(_bb, _i112, iM(_bb, "ContentAssist")), _bb), X1 = { description: "This Object indicates the Parser is during Recording Phase" };
Object.freeze(X1);
var X2 = GT({ name: "RECORDING_PHASE_TOKEN", pattern: Gp.NA });
Gt([X2]);
var X4 = GE(X2, "This IToken indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details", -1, -1, -1, -1, -1, -1);
Object.freeze(X4);
var X3 = { name: "This CSTNode indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details", children: {} }, X5 = (_cb = class {
  initGastRecorder(e30) {
    this.recordingProdStack = [], this.RECORDING_PHASE = false;
  }
  enableRecording() {
    this.RECORDING_PHASE = true, this.TRACE_INIT("Enable Recording", () => {
      for (let e30 = 0; e30 < 10; e30++) {
        let t10 = e30 > 0 ? e30 : "";
        this[`CONSUME${t10}`] = function(t11, r10) {
          return this.consumeInternalRecord(t11, e30, r10);
        }, this[`SUBRULE${t10}`] = function(t11, r10) {
          return this.subruleInternalRecord(t11, e30, r10);
        }, this[`OPTION${t10}`] = function(t11) {
          return this.optionInternalRecord(t11, e30);
        }, this[`OR${t10}`] = function(t11) {
          return this.orInternalRecord(t11, e30);
        }, this[`MANY${t10}`] = function(t11) {
          this.manyInternalRecord(e30, t11);
        }, this[`MANY_SEP${t10}`] = function(t11) {
          this.manySepFirstInternalRecord(e30, t11);
        }, this[`AT_LEAST_ONE${t10}`] = function(t11) {
          this.atLeastOneInternalRecord(e30, t11);
        }, this[`AT_LEAST_ONE_SEP${t10}`] = function(t11) {
          this.atLeastOneSepFirstInternalRecord(e30, t11);
        };
      }
      this.consume = function(e30, t10, r10) {
        return this.consumeInternalRecord(t10, e30, r10);
      }, this.subrule = function(e30, t10, r10) {
        return this.subruleInternalRecord(t10, e30, r10);
      }, this.option = function(e30, t10) {
        return this.optionInternalRecord(t10, e30);
      }, this.or = function(e30, t10) {
        return this.orInternalRecord(t10, e30);
      }, this.many = function(e30, t10) {
        this.manyInternalRecord(e30, t10);
      }, this.atLeastOne = function(e30, t10) {
        this.atLeastOneInternalRecord(e30, t10);
      }, this.ACTION = this.ACTION_RECORD, this.BACKTRACK = this.BACKTRACK_RECORD, this.LA = this.LA_RECORD;
    });
  }
  disableRecording() {
    this.RECORDING_PHASE = false, this.TRACE_INIT("Deleting Recording methods", () => {
      for (let e30 = 0; e30 < 10; e30++) {
        let t10 = e30 > 0 ? e30 : "";
        delete this[`CONSUME${t10}`], delete this[`SUBRULE${t10}`], delete this[`OPTION${t10}`], delete this[`OR${t10}`], delete this[`MANY${t10}`], delete this[`MANY_SEP${t10}`], delete this[`AT_LEAST_ONE${t10}`], delete this[`AT_LEAST_ONE_SEP${t10}`];
      }
      delete this.consume, delete this.subrule, delete this.option, delete this.or, delete this.many, delete this.atLeastOne, delete this.ACTION, delete this.BACKTRACK, delete this.LA;
    });
  }
  ACTION_RECORD(e30) {
  }
  BACKTRACK_RECORD(e30, t10) {
    return () => true;
  }
  LA_RECORD(e30) {
    return Kr;
  }
  topLevelRuleRecord(e30, t10) {
    try {
      let r10 = new HG({ definition: [], name: e30 });
      return r10.name = e30, this.recordingProdStack.push(r10), t10.call(this), this.recordingProdStack.pop(), r10;
    } catch (e31) {
      if (true !== e31.KNOWN_RECORDER_ERROR) try {
        e31.message = e31.message + '\n	 This error was thrown during the "grammar recording phase" For more info see:\n	https://chevrotain.io/docs/guide/internals.html#grammar-recording';
      } catch (e32) {
      }
      throw e31;
    }
  }
  optionInternalRecord(e30, t10) {
    return X6.call(this, HK, e30, t10);
  }
  atLeastOneInternalRecord(e30, t10) {
    X6.call(this, HZ, t10, e30);
  }
  atLeastOneSepFirstInternalRecord(e30, t10) {
    X6.call(this, HQ, t10, e30, true);
  }
  manyInternalRecord(e30, t10) {
    X6.call(this, HJ, t10, e30);
  }
  manySepFirstInternalRecord(e30, t10) {
    X6.call(this, H0, t10, e30, true);
  }
  orInternalRecord(e30, t10) {
    return X7.call(this, e30, t10);
  }
  subruleInternalRecord(e30, t10, r10) {
    if (X9(t10), !e30 || false === $8(e30, "ruleName")) {
      let r11 = Error(`<SUBRULE${X8(t10)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e30)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);
      throw r11.KNOWN_RECORDER_ERROR = true, r11;
    }
    let n10 = D5(this.recordingProdStack), i10 = new HY({ idx: t10, nonTerminalName: e30.ruleName, label: null == r10 ? void 0 : r10.LABEL, referencedRule: void 0 });
    return n10.definition.push(i10), this.outputCst ? X3 : X1;
  }
  consumeInternalRecord(e30, t10, r10) {
    if (X9(t10), !Go(e30)) {
      let r11 = Error(`<CONSUME${X8(t10)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e30)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);
      throw r11.KNOWN_RECORDER_ERROR = true, r11;
    }
    let n10 = D5(this.recordingProdStack), i10 = new H2({ idx: t10, terminalType: e30, label: null == r10 ? void 0 : r10.LABEL });
    return n10.definition.push(i10), X4;
  }
}, _i113 = new WeakMap(), __privateAdd(_cb, _i113, iM(_cb, "GastRecorder")), _cb);
function X6(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
  X9(r10);
  let i10 = D5(this.recordingProdStack), a10 = xT(t10) ? t10 : t10.DEF, s10 = new e30({ definition: [], idx: r10 });
  return n10 && (s10.separator = t10.SEP), $8(t10, "MAX_LOOKAHEAD") && (s10.maxLookahead = t10.MAX_LOOKAHEAD), this.recordingProdStack.push(s10), a10.call(this), i10.definition.push(s10), this.recordingProdStack.pop(), X1;
}
function X7(e30, t10) {
  X9(t10);
  let r10 = D5(this.recordingProdStack), n10 = false === b$(e30), i10 = false === n10 ? e30 : e30.DEF, a10 = new H1({ definition: [], idx: t10, ignoreAmbiguities: n10 && true === e30.IGNORE_AMBIGUITIES });
  $8(e30, "MAX_LOOKAHEAD") && (a10.maxLookahead = e30.MAX_LOOKAHEAD);
  let s10 = PP(i10, (e31) => xT(e31.GATE));
  return a10.hasPredicates = s10, r10.definition.push(a10), Oe(i10, (e31) => {
    let t11 = new HX({ definition: [] });
    a10.definition.push(t11), $8(e31, "IGNORE_AMBIGUITIES") ? t11.ignoreAmbiguities = e31.IGNORE_AMBIGUITIES : $8(e31, "GATE") && (t11.ignoreAmbiguities = true), this.recordingProdStack.push(t11), e31.ALT.call(this), this.recordingProdStack.pop();
  }), X1;
}
function X8(e30) {
  return 0 === e30 ? "" : `${e30}`;
}
function X9(e30) {
  if (e30 < 0 || e30 > 255) {
    let t10 = Error(`Invalid DSL Method idx value: <${e30}>
	Idx value must be a none negative value smaller than 256`);
    throw t10.KNOWN_RECORDER_ERROR = true, t10;
  }
}
iM(X6, "recordProd"), iM(X7, "recordOrProd"), iM(X8, "getIdxSuffix"), iM(X9, "assertMethodIdxIsValid");
var Ke = (_db = class {
  initPerformanceTracer(e30) {
    if ($8(e30, "traceInitPerf")) {
      let t10 = e30.traceInitPerf, r10 = "number" == typeof t10;
      this.traceInitMaxIdent = r10 ? t10 : 1 / 0, this.traceInitPerf = r10 ? t10 > 0 : t10;
    } else this.traceInitMaxIdent = 0, this.traceInitPerf = Kn.traceInitPerf;
    this.traceInitIndent = -1;
  }
  TRACE_INIT(e30, t10) {
    if (true !== this.traceInitPerf) return t10();
    {
      this.traceInitIndent++;
      let r10 = Array(this.traceInitIndent + 1).join("	");
      this.traceInitIndent < this.traceInitMaxIdent && console.log(`${r10}--> <${e30}>`);
      let { time: n10, value: i10 } = Hq(t10), a10 = n10 > 10 ? console.warn : console.log;
      return this.traceInitIndent < this.traceInitMaxIdent && a10(`${r10}<-- <${e30}> time: ${n10}ms`), this.traceInitIndent--, i10;
    }
  }
}, _i114 = new WeakMap(), __privateAdd(_db, _i114, iM(_db, "PerformanceTracer")), _db);
function Kt(e30, t10) {
  t10.forEach((t11) => {
    let r10 = t11.prototype;
    Object.getOwnPropertyNames(r10).forEach((n10) => {
      if ("constructor" === n10) return;
      let i10 = Object.getOwnPropertyDescriptor(r10, n10);
      i10 && (i10.get || i10.set) ? Object.defineProperty(e30.prototype, n10, i10) : e30.prototype[n10] = t11.prototype[n10];
    });
  });
}
iM(Kt, "applyMixins");
var Kr = GE(GC, "", NaN, NaN, NaN, NaN, NaN, NaN);
Object.freeze(Kr);
var Kn = Object.freeze({ recoveryEnabled: false, maxLookahead: 3, dynamicTokensEnabled: false, outputCst: true, errorMessageProvider: GL, nodeLocationTracking: "none", traceInitPerf: false, skipValidations: false }), Ki = Object.freeze({ recoveryValueFunc: iM(() => void 0, "recoveryValueFunc"), resyncEnabled: true });
function Ka() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0;
  return function() {
    return e30;
  };
}
(tN = rv || (rv = {}))[tN.INVALID_RULE_NAME = 0] = "INVALID_RULE_NAME", tN[tN.DUPLICATE_RULE_NAME = 1] = "DUPLICATE_RULE_NAME", tN[tN.INVALID_RULE_OVERRIDE = 2] = "INVALID_RULE_OVERRIDE", tN[tN.DUPLICATE_PRODUCTIONS = 3] = "DUPLICATE_PRODUCTIONS", tN[tN.UNRESOLVED_SUBRULE_REF = 4] = "UNRESOLVED_SUBRULE_REF", tN[tN.LEFT_RECURSION = 5] = "LEFT_RECURSION", tN[tN.NONE_LAST_EMPTY_ALT = 6] = "NONE_LAST_EMPTY_ALT", tN[tN.AMBIGUOUS_ALTS = 7] = "AMBIGUOUS_ALTS", tN[tN.CONFLICT_TOKENS_RULES_NAMESPACE = 8] = "CONFLICT_TOKENS_RULES_NAMESPACE", tN[tN.INVALID_TOKEN_NAME = 9] = "INVALID_TOKEN_NAME", tN[tN.NO_NON_EMPTY_LOOKAHEAD = 10] = "NO_NON_EMPTY_LOOKAHEAD", tN[tN.AMBIGUOUS_PREFIX_ALTS = 11] = "AMBIGUOUS_PREFIX_ALTS", tN[tN.TOO_MANY_ALTS = 12] = "TOO_MANY_ALTS", tN[tN.CUSTOM_LOOKAHEAD_VALIDATION = 13] = "CUSTOM_LOOKAHEAD_VALIDATION", iM(Ka, "EMPTY_ALT");
var Ks = (_eb = class {
  static performSelfAnalysis(e30) {
    throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.");
  }
  performSelfAnalysis() {
    this.TRACE_INIT("performSelfAnalysis", () => {
      let t10;
      this.selfAnalysisDone = true;
      let r10 = this.className;
      this.TRACE_INIT("toFastProps", () => {
        HU(this);
      }), this.TRACE_INIT("Grammar Recording", () => {
        try {
          this.enableRecording(), Oe(this.definedRulesNames, (e30) => {
            let t11;
            let r11 = this[e30].originalGrammarAction;
            this.TRACE_INIT(`${e30} Rule`, () => {
              t11 = this.topLevelRuleRecord(e30, r11);
            }), this.gastProductionsCache[e30] = t11;
          });
        } finally {
          this.disableRecording();
        }
      });
      let n10 = [];
      if (this.TRACE_INIT("Grammar Resolving", () => {
        n10 = Xm({ rules: O1(this.gastProductionsCache) }), this.definitionErrors = this.definitionErrors.concat(n10);
      }), this.TRACE_INIT("Grammar Validations", () => {
        if (CG(n10) && false === this.skipValidations) {
          let e30 = Xy({ rules: O1(this.gastProductionsCache), tokenTypes: O1(this.tokensMap), errMsgProvider: GM, grammarName: r10 }), t11 = G7({ lookaheadStrategy: this.lookaheadStrategy, rules: O1(this.gastProductionsCache), tokenTypes: O1(this.tokensMap), grammarName: r10 });
          this.definitionErrors = this.definitionErrors.concat(e30, t11);
        }
      }), CG(this.definitionErrors) && (this.recoveryEnabled && this.TRACE_INIT("computeAllProdsFollows", () => {
        let e30 = Yl(O1(this.gastProductionsCache));
        this.resyncFollows = e30;
      }), this.TRACE_INIT("ComputeLookaheadFunctions", () => {
        var e30, t11;
        null === (t11 = (e30 = this.lookaheadStrategy).initialize) || void 0 === t11 || t11.call(e30, { rules: O1(this.gastProductionsCache) }), this.preComputeLookaheadFunctions(O1(this.gastProductionsCache));
      })), !_eb.DEFER_DEFINITION_ERRORS_HANDLING && !CG(this.definitionErrors)) throw t10 = OJ(this.definitionErrors, (e30) => e30.message), Error(`Parser Definition Errors detected:
 ${t10.join("\n-------------------------------\n")}`);
    });
  }
  constructor(e30, t10) {
    if (this.definitionErrors = [], this.selfAnalysisDone = false, this.initErrorHandler(t10), this.initLexerAdapter(), this.initLooksAhead(t10), this.initRecognizerEngine(e30, t10), this.initRecoverable(t10), this.initTreeBuilder(t10), this.initContentAssist(), this.initGastRecorder(t10), this.initPerformanceTracer(t10), $8(t10, "ignoredIssues")) throw Error("The <ignoredIssues> IParserConfig property has been deprecated.\n	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n	For further details.");
    this.skipValidations = $8(t10, "skipValidations") ? t10.skipValidations : Kn.skipValidations;
  }
}, _i115 = new WeakMap(), __privateAdd(_eb, _i115, iM(_eb, "Parser")), _eb);
Ks.DEFER_DEFINITION_ERRORS_HANDLING = false, Kt(Ks, [XN, X$, XX, XK, XQ, XZ, XJ, X0, X5, Ke]);
var Ko = (_fb = class extends Ks {
  constructor(e30, t10 = Kn) {
    let r10 = D1(t10);
    r10.outputCst = false, super(e30, r10);
  }
}, _i116 = new WeakMap(), __privateAdd(_fb, _i116, iM(_fb, "EmbeddedActionsParser")), _fb);
function Kl(e30, t10, r10) {
  return `${e30.name}_${t10}_${r10}`;
}
iM(Kl, "buildATNKey");
var Kc = (_gb = class {
  constructor(e30) {
    this.target = e30;
  }
  isEpsilon() {
    return false;
  }
}, _i117 = new WeakMap(), __privateAdd(_gb, _i117, iM(_gb, "AbstractTransition")), _gb), Kh = (_hb = class extends Kc {
  constructor(e30, t10) {
    super(e30), this.tokenType = t10;
  }
}, _i118 = new WeakMap(), __privateAdd(_hb, _i118, iM(_hb, "AtomTransition")), _hb), Ku = (_ib = class extends Kc {
  constructor(e30) {
    super(e30);
  }
  isEpsilon() {
    return true;
  }
}, _i119 = new WeakMap(), __privateAdd(_ib, _i119, iM(_ib, "EpsilonTransition")), _ib), Kd = (_jb = class extends Kc {
  constructor(e30, t10, r10) {
    super(e30), this.rule = t10, this.followState = r10;
  }
  isEpsilon() {
    return true;
  }
}, _i120 = new WeakMap(), __privateAdd(_jb, _i120, iM(_jb, "RuleTransition")), _jb);
function Kp(e30) {
  let t10 = { decisionMap: {}, decisionStates: [], ruleToStartState: /* @__PURE__ */ new Map(), ruleToStopState: /* @__PURE__ */ new Map(), states: [] };
  Kf(t10, e30);
  let r10 = e30.length;
  for (let n10 = 0; n10 < r10; n10++) {
    let r11 = e30[n10], i10 = Kw(t10, r11, r11);
    void 0 !== i10 && KN(t10, r11, i10);
  }
  return t10;
}
function Kf(e30, t10) {
  let r10 = t10.length;
  for (let n10 = 0; n10 < r10; n10++) {
    let r11 = t10[n10], i10 = KD(e30, r11, void 0, { type: 2 }), a10 = KD(e30, r11, void 0, { type: 7 });
    i10.stop = a10, e30.ruleToStartState.set(r11, i10), e30.ruleToStopState.set(r11, a10);
  }
}
function Kg(e30, t10, r10) {
  if (r10 instanceof H2) return KI(e30, t10, r10.terminalType, r10);
  if (r10 instanceof HY) return KM(e30, t10, r10);
  if (r10 instanceof H1) return Kb(e30, t10, r10);
  if (r10 instanceof HK) return Kk(e30, t10, r10);
  if (r10 instanceof HJ) return Km(e30, t10, r10);
  if (r10 instanceof H0) return Ky(e30, t10, r10);
  if (r10 instanceof HZ) return Kv(e30, t10, r10);
  else if (r10 instanceof HQ) return Kx(e30, t10, r10);
  else return Kw(e30, t10, r10);
}
function Km(e30, t10, r10) {
  let n10 = KD(e30, t10, r10, { type: 5 });
  KC(e30, n10);
  let i10 = KE(e30, t10, n10, r10, Kw(e30, t10, r10));
  return KT(e30, t10, r10, i10);
}
function Ky(e30, t10, r10) {
  let n10 = KD(e30, t10, r10, { type: 5 });
  KC(e30, n10);
  let i10 = KE(e30, t10, n10, r10, Kw(e30, t10, r10)), a10 = KI(e30, t10, r10.separator, r10);
  return KT(e30, t10, r10, i10, a10);
}
function Kv(e30, t10, r10) {
  let n10 = KD(e30, t10, r10, { type: 4 });
  KC(e30, n10);
  let i10 = KE(e30, t10, n10, r10, Kw(e30, t10, r10));
  return K_(e30, t10, r10, i10);
}
function Kx(e30, t10, r10) {
  let n10 = KD(e30, t10, r10, { type: 4 });
  KC(e30, n10);
  let i10 = KE(e30, t10, n10, r10, Kw(e30, t10, r10)), a10 = KI(e30, t10, r10.separator, r10);
  return K_(e30, t10, r10, i10, a10);
}
function Kb(e30, t10, r10) {
  let n10 = KD(e30, t10, r10, { type: 1 });
  KC(e30, n10);
  let i10 = OJ(r10.definition, (r11) => Kg(e30, t10, r11));
  return KE(e30, t10, n10, r10, ...i10);
}
function Kk(e30, t10, r10) {
  let n10 = KD(e30, t10, r10, { type: 1 });
  KC(e30, n10);
  let i10 = KE(e30, t10, n10, r10, Kw(e30, t10, r10));
  return KS(e30, t10, r10, i10);
}
function Kw(e30, t10, r10) {
  let n10 = OZ(OJ(r10.definition, (r11) => Kg(e30, t10, r11)), (e31) => void 0 !== e31);
  return 1 === n10.length ? n10[0] : 0 === n10.length ? void 0 : KL(e30, n10);
}
function K_(e30, t10, r10, n10, i10) {
  let a10 = n10.left, s10 = n10.right, o10 = KD(e30, t10, r10, { type: 11 });
  KC(e30, o10);
  let l10 = KD(e30, t10, r10, { type: 12 });
  return a10.loopback = o10, l10.loopback = o10, e30.decisionMap[Kl(t10, i10 ? "RepetitionMandatoryWithSeparator" : "RepetitionMandatory", r10.idx)] = o10, KR(s10, o10), void 0 === i10 ? (KR(o10, a10), KR(o10, l10)) : (KR(o10, l10), KR(o10, i10.left), KR(i10.right, a10)), { left: a10, right: l10 };
}
function KT(e30, t10, r10, n10, i10) {
  let a10 = n10.left, s10 = n10.right, o10 = KD(e30, t10, r10, { type: 10 });
  KC(e30, o10);
  let l10 = KD(e30, t10, r10, { type: 12 }), h10 = KD(e30, t10, r10, { type: 9 });
  return o10.loopback = h10, l10.loopback = h10, KR(o10, a10), KR(o10, l10), KR(s10, h10), void 0 !== i10 ? (KR(h10, l10), KR(h10, i10.left), KR(i10.right, a10)) : KR(h10, o10), e30.decisionMap[Kl(t10, i10 ? "RepetitionWithSeparator" : "Repetition", r10.idx)] = o10, { left: o10, right: l10 };
}
function KS(e30, t10, r10, n10) {
  let i10 = n10.left;
  return KR(i10, n10.right), e30.decisionMap[Kl(t10, "Option", r10.idx)] = i10, n10;
}
function KC(e30, t10) {
  return e30.decisionStates.push(t10), t10.decision = e30.decisionStates.length - 1, t10.decision;
}
function KE(e30, t10, r10, n10) {
  for (var i10 = arguments.length, a10 = Array(i10 > 4 ? i10 - 4 : 0), s10 = 4; s10 < i10; s10++) a10[s10 - 4] = arguments[s10];
  let o10 = KD(e30, t10, n10, { type: 8, start: r10 });
  for (let e31 of (r10.end = o10, a10)) void 0 !== e31 ? (KR(r10, e31.left), KR(e31.right, o10)) : KR(r10, o10);
  return e30.decisionMap[Kl(t10, KA(n10), n10.idx)] = r10, { left: r10, right: o10 };
}
function KA(e30) {
  if (e30 instanceof H1) return "Alternation";
  if (e30 instanceof HK) return "Option";
  if (e30 instanceof HJ) return "Repetition";
  if (e30 instanceof H0) return "RepetitionWithSeparator";
  if (e30 instanceof HZ) return "RepetitionMandatory";
  if (e30 instanceof HQ) return "RepetitionMandatoryWithSeparator";
  throw Error("Invalid production type encountered");
}
function KL(e30, t10) {
  let r10 = t10.length;
  for (let n11 = 0; n11 < r10 - 1; n11++) {
    let r11;
    let i11 = t10[n11];
    1 === i11.left.transitions.length && (r11 = i11.left.transitions[0]);
    let a10 = r11 instanceof Kd, s10 = r11, o10 = t10[n11 + 1].left;
    1 === i11.left.type && 1 === i11.right.type && void 0 !== r11 && (a10 && s10.followState === i11.right || r11.target === i11.right) ? (a10 ? s10.followState = o10 : r11.target = o10, K$(e30, i11.right)) : KR(i11.right, o10);
  }
  let n10 = t10[0], i10 = t10[r10 - 1];
  return { left: n10.left, right: i10.right };
}
function KI(e30, t10, r10, n10) {
  let i10 = KD(e30, t10, n10, { type: 1 }), a10 = KD(e30, t10, n10, { type: 1 });
  return KO(i10, new Kh(a10, r10)), { left: i10, right: a10 };
}
function KM(e30, t10, r10) {
  let n10 = r10.referencedRule, i10 = e30.ruleToStartState.get(n10), a10 = KD(e30, t10, r10, { type: 1 }), s10 = KD(e30, t10, r10, { type: 1 });
  return KO(a10, new Kd(i10, n10, s10)), { left: a10, right: s10 };
}
function KN(e30, t10, r10) {
  let n10 = e30.ruleToStartState.get(t10);
  KR(n10, r10.left);
  let i10 = e30.ruleToStopState.get(t10);
  return KR(r10.right, i10), { left: n10, right: i10 };
}
function KR(e30, t10) {
  KO(e30, new Ku(t10));
}
function KD(e30, t10, r10, n10) {
  let i10 = Object.assign({ atn: e30, production: r10, epsilonOnlyTransitions: false, rule: t10, transitions: [], nextTokenWithinRule: [], stateNumber: e30.states.length }, n10);
  return e30.states.push(i10), i10;
}
function KO(e30, t10) {
  0 === e30.transitions.length && (e30.epsilonOnlyTransitions = t10.isEpsilon()), e30.transitions.push(t10);
}
function K$(e30, t10) {
  e30.states.splice(e30.states.indexOf(t10), 1);
}
iM(Kp, "createATN"), iM(Kf, "createRuleStartAndStopATNStates"), iM(Kg, "atom"), iM(Km, "repetition"), iM(Ky, "repetitionSep"), iM(Kv, "repetitionMandatory"), iM(Kx, "repetitionMandatorySep"), iM(Kb, "alternation"), iM(Kk, "option"), iM(Kw, "block"), iM(K_, "plus"), iM(KT, "star"), iM(KS, "optional"), iM(KC, "defineDecisionState"), iM(KE, "makeAlts"), iM(KA, "getProdType"), iM(KL, "makeBlock"), iM(KI, "tokenRef"), iM(KM, "ruleRef"), iM(KN, "buildRuleHandle"), iM(KR, "epsilon"), iM(KD, "newState"), iM(KO, "addTransition"), iM(K$, "removeState");
var KP = {}, KB = (_kb = class {
  constructor() {
    this.map = {}, this.configs = [];
  }
  get size() {
    return this.configs.length;
  }
  finalize() {
    this.map = {};
  }
  add(e30) {
    let t10 = KF(e30);
    t10 in this.map || (this.map[t10] = this.configs.length, this.configs.push(e30));
  }
  get elements() {
    return this.configs;
  }
  get alts() {
    return OJ(this.configs, (e30) => e30.alt);
  }
  get key() {
    let e30 = "";
    for (let t10 in this.map) e30 += t10 + ":";
    return e30;
  }
}, _i121 = new WeakMap(), __privateAdd(_kb, _i121, iM(_kb, "ATNConfigSet")), _kb);
function KF(e30) {
  let t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return `${t10 ? `a${e30.alt}` : ""}s${e30.state.stateNumber}:${e30.stack.map((e31) => e31.stateNumber.toString()).join("_")}`;
}
function Kz(e30, t10) {
  let r10 = {};
  return (n10) => {
    let i10 = n10.toString(), a10 = r10[i10];
    return void 0 !== a10 || (a10 = { atnStartState: e30, decision: t10, states: {} }, r10[i10] = a10), a10;
  };
}
iM(KF, "getATNConfigKey"), iM(Kz, "createDFACache");
var Kj = (_lb = class {
  constructor() {
    this.predicates = [];
  }
  is(e30) {
    return e30 >= this.predicates.length || this.predicates[e30];
  }
  set(e30, t10) {
    this.predicates[e30] = t10;
  }
  toString() {
    let e30 = "", t10 = this.predicates.length;
    for (let r10 = 0; r10 < t10; r10++) e30 += true === this.predicates[r10] ? "1" : "0";
    return e30;
  }
}, _i122 = new WeakMap(), __privateAdd(_lb, _i122, iM(_lb, "PredicateSet")), _lb), Kq = new Kj(), KU = (_mb = class extends XO {
  constructor(e30) {
    var t10;
    super(), this.logging = null !== (t10 = null == e30 ? void 0 : e30.logging) && void 0 !== t10 ? t10 : (e31) => console.log(e31);
  }
  initialize(e30) {
    this.atn = Kp(e30.rules), this.dfas = KV(this.atn);
  }
  validateAmbiguousAlternationAlternatives() {
    return [];
  }
  validateEmptyOrAlternatives() {
    return [];
  }
  buildLookaheadForAlternation(e30) {
    let { prodOccurrence: t10, rule: r10, hasPredicates: n10, dynamicTokensEnabled: i10 } = e30, a10 = this.dfas, s10 = this.logging, o10 = Kl(r10, "Alternation", t10), l10 = this.atn.decisionMap[o10].decision, h10 = OJ(GV({ maxLookahead: 1, occurrence: t10, prodType: "Alternation", rule: r10 }), (e31) => OJ(e31, (e32) => e32[0]));
    if (KW(h10, false) && !i10) {
      let e31 = $l(h10, (e32, t11, r11) => (Oe(t11, (t12) => {
        t12 && (e32[t12.tokenTypeIdx] = r11, Oe(t12.categoryMatches, (t13) => {
          e32[t13] = r11;
        }));
      }), e32), {});
      return n10 ? function(t11) {
        var r11;
        let n11 = e31[this.LA(1).tokenTypeIdx];
        if (void 0 !== t11 && void 0 !== n11) {
          let e32 = null === (r11 = t11[n11]) || void 0 === r11 ? void 0 : r11.GATE;
          if (void 0 !== e32 && false === e32.call(this)) return;
        }
        return n11;
      } : function() {
        return e31[this.LA(1).tokenTypeIdx];
      };
    }
    return n10 ? function(e31) {
      let t11 = new Kj(), r11 = void 0 === e31 ? 0 : e31.length;
      for (let n12 = 0; n12 < r11; n12++) {
        let r12 = null == e31 ? void 0 : e31[n12].GATE;
        t11.set(n12, void 0 === r12 || r12.call(this));
      }
      let n11 = KH.call(this, a10, l10, t11, s10);
      return "number" == typeof n11 ? n11 : void 0;
    } : function() {
      let e31 = KH.call(this, a10, l10, Kq, s10);
      return "number" == typeof e31 ? e31 : void 0;
    };
  }
  buildLookaheadForOptional(e30) {
    let { prodOccurrence: t10, rule: r10, prodType: n10, dynamicTokensEnabled: i10 } = e30, a10 = this.dfas, s10 = this.logging, o10 = Kl(r10, n10, t10), l10 = this.atn.decisionMap[o10].decision, h10 = OJ(GV({ maxLookahead: 1, occurrence: t10, prodType: n10, rule: r10 }), (e31) => OJ(e31, (e32) => e32[0]));
    if (KW(h10) && h10[0][0] && !i10) {
      let e31 = $n(h10[0]);
      if (1 === e31.length && CG(e31[0].categoryMatches)) {
        let t11 = e31[0].tokenTypeIdx;
        return function() {
          return this.LA(1).tokenTypeIdx === t11;
        };
      }
      {
        let t11 = $l(e31, (e32, t12) => (void 0 !== t12 && (e32[t12.tokenTypeIdx] = true, Oe(t12.categoryMatches, (t13) => {
          e32[t13] = true;
        })), e32), {});
        return function() {
          return true === t11[this.LA(1).tokenTypeIdx];
        };
      }
    }
    return function() {
      let e31 = KH.call(this, a10, l10, Kq, s10);
      return "object" != typeof e31 && 0 === e31;
    };
  }
}, _i123 = new WeakMap(), __privateAdd(_mb, _i123, iM(_mb, "LLStarLookaheadStrategy")), _mb);
function KW(e30) {
  let t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = /* @__PURE__ */ new Set();
  for (let n10 of e30) {
    let e31 = /* @__PURE__ */ new Set();
    for (let i10 of n10) {
      if (void 0 === i10) {
        if (!t10) return false;
        break;
      }
      for (let t11 of [i10.tokenTypeIdx].concat(i10.categoryMatches)) if (r10.has(t11)) {
        if (!e31.has(t11)) return false;
      } else r10.add(t11), e31.add(t11);
    }
  }
  return true;
}
function KV(e30) {
  let t10 = e30.decisionStates.length, r10 = Array(t10);
  for (let n10 = 0; n10 < t10; n10++) r10[n10] = Kz(e30.decisionStates[n10], n10);
  return r10;
}
function KH(e30, t10, r10, n10) {
  let i10 = e30[t10](r10), a10 = i10.start;
  if (void 0 === a10) {
    let e31 = K6(i10.atnStartState);
    a10 = K5(i10, K4(e31)), i10.start = a10;
  }
  return KY.apply(this, [i10, a10, r10, n10]);
}
function KY(e30, t10, r10, n10) {
  let i10 = t10, a10 = 1, s10 = [], o10 = this.LA(a10++);
  for (; ; ) {
    let t11 = KJ(i10, o10);
    if (void 0 === t11 && (t11 = KG.apply(this, [e30, i10, o10, a10, r10, n10])), t11 === KP) return KQ(s10, i10, o10);
    if (true === t11.isAcceptState) return t11.prediction;
    i10 = t11, s10.push(o10), o10 = this.LA(a10++);
  }
}
function KG(e30, t10, r10, n10, i10, a10) {
  let s10 = K0(t10.configs, r10, i10);
  if (0 === s10.size) return K3(e30, t10, r10, KP), KP;
  let o10 = K4(s10), l10 = K2(s10, i10);
  if (void 0 !== l10) o10.isAcceptState = true, o10.prediction = l10, o10.configs.uniqueAlt = l10;
  else if (Zt(s10)) {
    let t11 = Pl(s10.alts);
    o10.isAcceptState = true, o10.prediction = t11, o10.configs.uniqueAlt = t11, KX.apply(this, [e30, n10, s10.alts, a10]);
  }
  return K3(e30, t10, r10, o10);
}
function KX(e30, t10, r10, n10) {
  let i10 = [];
  for (let e31 = 1; e31 <= t10; e31++) i10.push(this.LA(e31).tokenType);
  let a10 = e30.atnStartState;
  n10(KK({ topLevelRule: a10.rule, ambiguityIndices: r10, production: a10.production, prefixPath: i10 }));
}
function KK(e30) {
  let t10 = OJ(e30.prefixPath, (e31) => Gf(e31)).join(", "), r10 = 0 === e30.production.idx ? "" : e30.production.idx;
  return `Ambiguous Alternatives Detected: <${e30.ambiguityIndices.join(", ")}> in <${KZ(e30.production)}${r10}> inside <${e30.topLevelRule.name}> Rule,
<${t10}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`;
}
function KZ(e30) {
  if (e30 instanceof HY) return "SUBRULE";
  if (e30 instanceof HK) return "OPTION";
  if (e30 instanceof H1) return "OR";
  if (e30 instanceof HZ) return "AT_LEAST_ONE";
  if (e30 instanceof HQ) return "AT_LEAST_ONE_SEP";
  if (e30 instanceof H0) return "MANY_SEP";
  if (e30 instanceof HJ) return "MANY";
  else if (e30 instanceof H2) return "CONSUME";
  else throw Error("non exhaustive match");
}
function KQ(e30, t10, r10) {
  return { actualToken: r10, possibleTokenTypes: Pz($1(t10.configs.elements, (e31) => e31.state.transitions).filter((e31) => e31 instanceof Kh).map((e31) => e31.tokenType), (e31) => e31.tokenTypeIdx), tokenPath: e30 };
}
function KJ(e30, t10) {
  return e30.edges[t10.tokenTypeIdx];
}
function K0(e30, t10, r10) {
  let n10;
  let i10 = new KB(), a10 = [];
  for (let n11 of e30.elements) {
    if (false === r10.is(n11.alt)) continue;
    if (7 === n11.state.type) {
      a10.push(n11);
      continue;
    }
    let e31 = n11.state.transitions.length;
    for (let r11 = 0; r11 < e31; r11++) {
      let e32 = K1(n11.state.transitions[r11], t10);
      void 0 !== e32 && i10.add({ state: e32, alt: n11.alt, stack: n11.stack });
    }
  }
  if (0 === a10.length && 1 === i10.size && (n10 = i10), void 0 === n10) for (let e31 of (n10 = new KB(), i10.elements)) K7(e31, n10);
  if (a10.length > 0 && !K9(n10)) for (let e31 of a10) n10.add(e31);
  return n10;
}
function K1(e30, t10) {
  if (e30 instanceof Kh && GA(t10, e30.tokenType)) return e30.target;
}
function K2(e30, t10) {
  let r10;
  for (let n10 of e30.elements) if (true === t10.is(n10.alt)) {
    if (void 0 === r10) r10 = n10.alt;
    else if (r10 !== n10.alt) return;
  }
  return r10;
}
function K4(e30) {
  return { configs: e30, edges: {}, isAcceptState: false, prediction: -1 };
}
function K3(e30, t10, r10, n10) {
  return n10 = K5(e30, n10), t10.edges[r10.tokenTypeIdx] = n10, n10;
}
function K5(e30, t10) {
  if (t10 === KP) return t10;
  let r10 = t10.configs.key, n10 = e30.states[r10];
  return void 0 !== n10 ? n10 : (t10.configs.finalize(), e30.states[r10] = t10, t10);
}
function K6(e30) {
  let t10 = new KB(), r10 = e30.transitions.length;
  for (let n10 = 0; n10 < r10; n10++) K7({ state: e30.transitions[n10].target, alt: n10, stack: [] }, t10);
  return t10;
}
function K7(e30, t10) {
  let r10 = e30.state;
  if (7 === r10.type) {
    if (e30.stack.length > 0) {
      let r11 = [...e30.stack];
      K7({ state: r11.pop(), alt: e30.alt, stack: r11 }, t10);
    } else t10.add(e30);
    return;
  }
  r10.epsilonOnlyTransitions || t10.add(e30);
  let n10 = r10.transitions.length;
  for (let i10 = 0; i10 < n10; i10++) {
    let n11 = K8(e30, r10.transitions[i10]);
    void 0 !== n11 && K7(n11, t10);
  }
}
function K8(e30, t10) {
  if (t10 instanceof Ku) return { state: t10.target, alt: e30.alt, stack: e30.stack };
  if (t10 instanceof Kd) {
    let r10 = [...e30.stack, t10.followState];
    return { state: t10.target, alt: e30.alt, stack: r10 };
  }
}
function K9(e30) {
  for (let t10 of e30.elements) if (7 === t10.state.type) return true;
  return false;
}
function Ze(e30) {
  for (let t10 of e30.elements) if (7 !== t10.state.type) return false;
  return true;
}
function Zt(e30) {
  if (Ze(e30)) return true;
  let t10 = Zr(e30.elements);
  return Zn(t10) && !Zi(t10);
}
function Zr(e30) {
  let t10 = /* @__PURE__ */ new Map();
  for (let r10 of e30) {
    let e31 = KF(r10, false), n10 = t10.get(e31);
    void 0 === n10 && (n10 = {}, t10.set(e31, n10)), n10[r10.alt] = true;
  }
  return t10;
}
function Zn(e30) {
  for (let t10 of Array.from(e30.values())) if (Object.keys(t10).length > 1) return true;
  return false;
}
function Zi(e30) {
  for (let t10 of Array.from(e30.values())) if (1 === Object.keys(t10).length) return true;
  return false;
}
iM(KW, "isLL1Sequence"), iM(KV, "initATNSimulator"), iM(KH, "adaptivePredict"), iM(KY, "performLookahead"), iM(KG, "computeLookaheadTarget"), iM(KX, "reportLookaheadAmbiguity"), iM(KK, "buildAmbiguityError"), iM(KZ, "getProductionDslName"), iM(KQ, "buildAdaptivePredictError"), iM(KJ, "getExistingTargetState"), iM(K0, "computeReachSet"), iM(K1, "getReachableTarget"), iM(K2, "getUniqueAlt"), iM(K4, "newDFAState"), iM(K3, "addDFAEdge"), iM(K5, "addDFAState"), iM(K6, "computeStartState"), iM(K7, "closure"), iM(K8, "getEpsilonTarget"), iM(K9, "hasConfigInRuleStopState"), iM(Ze, "allConfigsInRuleStopStates"), iM(Zt, "hasConflictTerminatingPrediction"), iM(Zr, "getConflictingAltSets"), iM(Zn, "hasConflictingAltSet"), iM(Zi, "hasStateAssociatedWithOneAlt"), function(e30) {
  function t10(e31) {
    return "string" == typeof e31;
  }
  iM(t10, "is"), e30.is = t10;
}(rx || (rx = {})), function(e30) {
  function t10(e31) {
    return "string" == typeof e31;
  }
  iM(t10, "is"), e30.is = t10;
}(rb || (rb = {})), function(e30) {
  function t10(t11) {
    return "number" == typeof t11 && e30.MIN_VALUE <= t11 && t11 <= e30.MAX_VALUE;
  }
  e30.MIN_VALUE = -2147483648, e30.MAX_VALUE = 2147483647, iM(t10, "is"), e30.is = t10;
}(rk || (rk = {})), function(e30) {
  function t10(t11) {
    return "number" == typeof t11 && e30.MIN_VALUE <= t11 && t11 <= e30.MAX_VALUE;
  }
  e30.MIN_VALUE = 0, e30.MAX_VALUE = 2147483647, iM(t10, "is"), e30.is = t10;
}(rw || (rw = {})), function(e30) {
  function t10(e31, t11) {
    return e31 === Number.MAX_VALUE && (e31 = rw.MAX_VALUE), t11 === Number.MAX_VALUE && (t11 = rw.MAX_VALUE), { line: e31, character: t11 };
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && nD.uinteger(e31.line) && nD.uinteger(e31.character);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(r_ || (r_ = {})), function(e30) {
  function t10(e31, t11, r11, n10) {
    if (nD.uinteger(e31) && nD.uinteger(t11) && nD.uinteger(r11) && nD.uinteger(n10)) return { start: r_.create(e31, t11), end: r_.create(r11, n10) };
    if (r_.is(e31) && r_.is(t11)) return { start: e31, end: t11 };
    throw Error(`Range#create called with invalid arguments[${e31}, ${t11}, ${r11}, ${n10}]`);
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && r_.is(e31.start) && r_.is(e31.end);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rT || (rT = {})), function(e30) {
  function t10(e31, t11) {
    return { uri: e31, range: t11 };
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && rT.is(e31.range) && (nD.string(e31.uri) || nD.undefined(e31.uri));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rS || (rS = {})), function(e30) {
  function t10(e31, t11, r11, n10) {
    return { targetUri: e31, targetRange: t11, targetSelectionRange: r11, originSelectionRange: n10 };
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && rT.is(e31.targetRange) && nD.string(e31.targetUri) && rT.is(e31.targetSelectionRange) && (rT.is(e31.originSelectionRange) || nD.undefined(e31.originSelectionRange));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rC || (rC = {})), function(e30) {
  function t10(e31, t11, r11, n10) {
    return { red: e31, green: t11, blue: r11, alpha: n10 };
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && nD.numberRange(e31.red, 0, 1) && nD.numberRange(e31.green, 0, 1) && nD.numberRange(e31.blue, 0, 1) && nD.numberRange(e31.alpha, 0, 1);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rE || (rE = {})), function(e30) {
  function t10(e31, t11) {
    return { range: e31, color: t11 };
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && rT.is(e31.range) && rE.is(e31.color);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rA || (rA = {})), function(e30) {
  function t10(e31, t11, r11) {
    return { label: e31, textEdit: t11, additionalTextEdits: r11 };
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && nD.string(e31.label) && (nD.undefined(e31.textEdit) || rB.is(e31)) && (nD.undefined(e31.additionalTextEdits) || nD.typedArray(e31.additionalTextEdits, rB.is));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rL || (rL = {})), (tR = rI || (rI = {})).Comment = "comment", tR.Imports = "imports", tR.Region = "region", function(e30) {
  function t10(e31, t11, r11, n10, i10, a10) {
    let s10 = { startLine: e31, endLine: t11 };
    return nD.defined(r11) && (s10.startCharacter = r11), nD.defined(n10) && (s10.endCharacter = n10), nD.defined(i10) && (s10.kind = i10), nD.defined(a10) && (s10.collapsedText = a10), s10;
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && nD.uinteger(e31.startLine) && nD.uinteger(e31.startLine) && (nD.undefined(e31.startCharacter) || nD.uinteger(e31.startCharacter)) && (nD.undefined(e31.endCharacter) || nD.uinteger(e31.endCharacter)) && (nD.undefined(e31.kind) || nD.string(e31.kind));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rM || (rM = {})), function(e30) {
  function t10(e31, t11) {
    return { location: e31, message: t11 };
  }
  function r10(e31) {
    return nD.defined(e31) && rS.is(e31.location) && nD.string(e31.message);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rN || (rN = {})), (tD = rR || (rR = {})).Error = 1, tD.Warning = 2, tD.Information = 3, tD.Hint = 4, (tO = rD || (rD = {})).Unnecessary = 1, tO.Deprecated = 2, function(e30) {
  function t10(e31) {
    return nD.objectLiteral(e31) && nD.string(e31.href);
  }
  iM(t10, "is"), e30.is = t10;
}(rO || (rO = {})), function(e30) {
  function t10(e31, t11, r11, n10, i10, a10) {
    let s10 = { range: e31, message: t11 };
    return nD.defined(r11) && (s10.severity = r11), nD.defined(n10) && (s10.code = n10), nD.defined(i10) && (s10.source = i10), nD.defined(a10) && (s10.relatedInformation = a10), s10;
  }
  function r10(e31) {
    var t11;
    return nD.defined(e31) && rT.is(e31.range) && nD.string(e31.message) && (nD.number(e31.severity) || nD.undefined(e31.severity)) && (nD.integer(e31.code) || nD.string(e31.code) || nD.undefined(e31.code)) && (nD.undefined(e31.codeDescription) || nD.string(null === (t11 = e31.codeDescription) || void 0 === t11 ? void 0 : t11.href)) && (nD.string(e31.source) || nD.undefined(e31.source)) && (nD.undefined(e31.relatedInformation) || nD.typedArray(e31.relatedInformation, rN.is));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(r$ || (r$ = {})), function(e30) {
  function t10(e31, t11) {
    for (var r11 = arguments.length, n10 = Array(r11 > 2 ? r11 - 2 : 0), i10 = 2; i10 < r11; i10++) n10[i10 - 2] = arguments[i10];
    let a10 = { title: e31, command: t11 };
    return nD.defined(n10) && n10.length > 0 && (a10.arguments = n10), a10;
  }
  function r10(e31) {
    return nD.defined(e31) && nD.string(e31.title) && nD.string(e31.command);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rP || (rP = {})), function(e30) {
  function t10(e31, t11) {
    return { range: e31, newText: t11 };
  }
  function r10(e31, t11) {
    return { range: { start: e31, end: e31 }, newText: t11 };
  }
  function n10(e31) {
    return { range: e31, newText: "" };
  }
  function i10(e31) {
    return nD.objectLiteral(e31) && nD.string(e31.newText) && rT.is(e31.range);
  }
  iM(t10, "replace"), e30.replace = t10, iM(r10, "insert"), e30.insert = r10, iM(n10, "del"), e30.del = n10, iM(i10, "is"), e30.is = i10;
}(rB || (rB = {})), function(e30) {
  function t10(e31, t11, r11) {
    let n10 = { label: e31 };
    return void 0 !== t11 && (n10.needsConfirmation = t11), void 0 !== r11 && (n10.description = r11), n10;
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && nD.string(e31.label) && (nD.boolean(e31.needsConfirmation) || void 0 === e31.needsConfirmation) && (nD.string(e31.description) || void 0 === e31.description);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rF || (rF = {})), function(e30) {
  function t10(e31) {
    return nD.string(e31);
  }
  iM(t10, "is"), e30.is = t10;
}(rz || (rz = {})), function(e30) {
  function t10(e31, t11, r11) {
    return { range: e31, newText: t11, annotationId: r11 };
  }
  function r10(e31, t11, r11) {
    return { range: { start: e31, end: e31 }, newText: t11, annotationId: r11 };
  }
  function n10(e31, t11) {
    return { range: e31, newText: "", annotationId: t11 };
  }
  function i10(e31) {
    return rB.is(e31) && (rF.is(e31.annotationId) || rz.is(e31.annotationId));
  }
  iM(t10, "replace"), e30.replace = t10, iM(r10, "insert"), e30.insert = r10, iM(n10, "del"), e30.del = n10, iM(i10, "is"), e30.is = i10;
}(rj || (rj = {})), function(e30) {
  function t10(e31, t11) {
    return { textDocument: e31, edits: t11 };
  }
  function r10(e31) {
    return nD.defined(e31) && rX.is(e31.textDocument) && Array.isArray(e31.edits);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rq || (rq = {})), function(e30) {
  function t10(e31, t11, r11) {
    let n10 = { kind: "create", uri: e31 };
    return void 0 !== t11 && (void 0 !== t11.overwrite || void 0 !== t11.ignoreIfExists) && (n10.options = t11), void 0 !== r11 && (n10.annotationId = r11), n10;
  }
  function r10(e31) {
    return e31 && "create" === e31.kind && nD.string(e31.uri) && (void 0 === e31.options || (void 0 === e31.options.overwrite || nD.boolean(e31.options.overwrite)) && (void 0 === e31.options.ignoreIfExists || nD.boolean(e31.options.ignoreIfExists))) && (void 0 === e31.annotationId || rz.is(e31.annotationId));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rU || (rU = {})), function(e30) {
  function t10(e31, t11, r11, n10) {
    let i10 = { kind: "rename", oldUri: e31, newUri: t11 };
    return void 0 !== r11 && (void 0 !== r11.overwrite || void 0 !== r11.ignoreIfExists) && (i10.options = r11), void 0 !== n10 && (i10.annotationId = n10), i10;
  }
  function r10(e31) {
    return e31 && "rename" === e31.kind && nD.string(e31.oldUri) && nD.string(e31.newUri) && (void 0 === e31.options || (void 0 === e31.options.overwrite || nD.boolean(e31.options.overwrite)) && (void 0 === e31.options.ignoreIfExists || nD.boolean(e31.options.ignoreIfExists))) && (void 0 === e31.annotationId || rz.is(e31.annotationId));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rW || (rW = {})), function(e30) {
  function t10(e31, t11, r11) {
    let n10 = { kind: "delete", uri: e31 };
    return void 0 !== t11 && (void 0 !== t11.recursive || void 0 !== t11.ignoreIfNotExists) && (n10.options = t11), void 0 !== r11 && (n10.annotationId = r11), n10;
  }
  function r10(e31) {
    return e31 && "delete" === e31.kind && nD.string(e31.uri) && (void 0 === e31.options || (void 0 === e31.options.recursive || nD.boolean(e31.options.recursive)) && (void 0 === e31.options.ignoreIfNotExists || nD.boolean(e31.options.ignoreIfNotExists))) && (void 0 === e31.annotationId || rz.is(e31.annotationId));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rV || (rV = {})), function(e30) {
  function t10(e31) {
    return e31 && (void 0 !== e31.changes || void 0 !== e31.documentChanges) && (void 0 === e31.documentChanges || e31.documentChanges.every((e32) => nD.string(e32.kind) ? rU.is(e32) || rW.is(e32) || rV.is(e32) : rq.is(e32)));
  }
  iM(t10, "is"), e30.is = t10;
}(rH || (rH = {})), function(e30) {
  function t10(e31) {
    return { uri: e31 };
  }
  function r10(e31) {
    return nD.defined(e31) && nD.string(e31.uri);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rY || (rY = {})), function(e30) {
  function t10(e31, t11) {
    return { uri: e31, version: t11 };
  }
  function r10(e31) {
    return nD.defined(e31) && nD.string(e31.uri) && nD.integer(e31.version);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rG || (rG = {})), function(e30) {
  function t10(e31, t11) {
    return { uri: e31, version: t11 };
  }
  function r10(e31) {
    return nD.defined(e31) && nD.string(e31.uri) && (null === e31.version || nD.integer(e31.version));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rX || (rX = {})), function(e30) {
  function t10(e31, t11, r11, n10) {
    return { uri: e31, languageId: t11, version: r11, text: n10 };
  }
  function r10(e31) {
    return nD.defined(e31) && nD.string(e31.uri) && nD.string(e31.languageId) && nD.integer(e31.version) && nD.string(e31.text);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(rK || (rK = {})), function(e30) {
  function t10(t11) {
    return t11 === e30.PlainText || t11 === e30.Markdown;
  }
  e30.PlainText = "plaintext", e30.Markdown = "markdown", iM(t10, "is"), e30.is = t10;
}(rZ || (rZ = {})), function(e30) {
  function t10(e31) {
    return nD.objectLiteral(e31) && rZ.is(e31.kind) && nD.string(e31.value);
  }
  iM(t10, "is"), e30.is = t10;
}(rQ || (rQ = {})), (t$ = rJ || (rJ = {})).Text = 1, t$.Method = 2, t$.Function = 3, t$.Constructor = 4, t$.Field = 5, t$.Variable = 6, t$.Class = 7, t$.Interface = 8, t$.Module = 9, t$.Property = 10, t$.Unit = 11, t$.Value = 12, t$.Enum = 13, t$.Keyword = 14, t$.Snippet = 15, t$.Color = 16, t$.File = 17, t$.Reference = 18, t$.Folder = 19, t$.EnumMember = 20, t$.Constant = 21, t$.Struct = 22, t$.Event = 23, t$.Operator = 24, t$.TypeParameter = 25, (tP = r0 || (r0 = {})).PlainText = 1, tP.Snippet = 2, (r1 || (r1 = {})).Deprecated = 1, function(e30) {
  function t10(e31, t11, r11) {
    return { newText: e31, insert: t11, replace: r11 };
  }
  function r10(e31) {
    return e31 && nD.string(e31.newText) && rT.is(e31.insert) && rT.is(e31.replace);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(r2 || (r2 = {})), (tB = r4 || (r4 = {})).asIs = 1, tB.adjustIndentation = 2, function(e30) {
  function t10(e31) {
    return e31 && (nD.string(e31.detail) || void 0 === e31.detail) && (nD.string(e31.description) || void 0 === e31.description);
  }
  iM(t10, "is"), e30.is = t10;
}(r3 || (r3 = {})), function(e30) {
  function t10(e31) {
    return { label: e31 };
  }
  iM(t10, "create"), e30.create = t10;
}(r5 || (r5 = {})), function(e30) {
  function t10(e31, t11) {
    return { items: e31 || [], isIncomplete: !!t11 };
  }
  iM(t10, "create"), e30.create = t10;
}(r6 || (r6 = {})), function(e30) {
  function t10(e31) {
    return e31.replace(/[\\`*_{}[\]()#+\-.!]/g, "\\$&");
  }
  function r10(e31) {
    return nD.string(e31) || nD.objectLiteral(e31) && nD.string(e31.language) && nD.string(e31.value);
  }
  iM(t10, "fromPlainText"), e30.fromPlainText = t10, iM(r10, "is"), e30.is = r10;
}(r7 || (r7 = {})), function(e30) {
  function t10(e31) {
    return !!e31 && nD.objectLiteral(e31) && (rQ.is(e31.contents) || r7.is(e31.contents) || nD.typedArray(e31.contents, r7.is)) && (void 0 === e31.range || rT.is(e31.range));
  }
  iM(t10, "is"), e30.is = t10;
}(r8 || (r8 = {})), function(e30) {
  function t10(e31, t11) {
    return t11 ? { label: e31, documentation: t11 } : { label: e31 };
  }
  iM(t10, "create"), e30.create = t10;
}(r9 || (r9 = {})), function(e30) {
  function t10(e31, t11) {
    for (var r10 = arguments.length, n10 = Array(r10 > 2 ? r10 - 2 : 0), i10 = 2; i10 < r10; i10++) n10[i10 - 2] = arguments[i10];
    let a10 = { label: e31 };
    return nD.defined(t11) && (a10.documentation = t11), nD.defined(n10) ? a10.parameters = n10 : a10.parameters = [], a10;
  }
  iM(t10, "create"), e30.create = t10;
}(ne || (ne = {})), (tF = nt || (nt = {})).Text = 1, tF.Read = 2, tF.Write = 3, function(e30) {
  function t10(e31, t11) {
    let r10 = { range: e31 };
    return nD.number(t11) && (r10.kind = t11), r10;
  }
  iM(t10, "create"), e30.create = t10;
}(nr || (nr = {})), (tz = nn || (nn = {})).File = 1, tz.Module = 2, tz.Namespace = 3, tz.Package = 4, tz.Class = 5, tz.Method = 6, tz.Property = 7, tz.Field = 8, tz.Constructor = 9, tz.Enum = 10, tz.Interface = 11, tz.Function = 12, tz.Variable = 13, tz.Constant = 14, tz.String = 15, tz.Number = 16, tz.Boolean = 17, tz.Array = 18, tz.Object = 19, tz.Key = 20, tz.Null = 21, tz.EnumMember = 22, tz.Struct = 23, tz.Event = 24, tz.Operator = 25, tz.TypeParameter = 26, (ni || (ni = {})).Deprecated = 1, function(e30) {
  function t10(e31, t11, r10, n10, i10) {
    let a10 = { name: e31, kind: t11, location: { uri: n10, range: r10 } };
    return i10 && (a10.containerName = i10), a10;
  }
  iM(t10, "create"), e30.create = t10;
}(na || (na = {})), function(e30) {
  function t10(e31, t11, r10, n10) {
    return void 0 !== n10 ? { name: e31, kind: t11, location: { uri: r10, range: n10 } } : { name: e31, kind: t11, location: { uri: r10 } };
  }
  iM(t10, "create"), e30.create = t10;
}(ns || (ns = {})), function(e30) {
  function t10(e31, t11, r11, n10, i10, a10) {
    let s10 = { name: e31, detail: t11, kind: r11, range: n10, selectionRange: i10 };
    return void 0 !== a10 && (s10.children = a10), s10;
  }
  function r10(e31) {
    return e31 && nD.string(e31.name) && nD.number(e31.kind) && rT.is(e31.range) && rT.is(e31.selectionRange) && (void 0 === e31.detail || nD.string(e31.detail)) && (void 0 === e31.deprecated || nD.boolean(e31.deprecated)) && (void 0 === e31.children || Array.isArray(e31.children)) && (void 0 === e31.tags || Array.isArray(e31.tags));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(no || (no = {})), (tj = nl || (nl = {})).Empty = "", tj.QuickFix = "quickfix", tj.Refactor = "refactor", tj.RefactorExtract = "refactor.extract", tj.RefactorInline = "refactor.inline", tj.RefactorRewrite = "refactor.rewrite", tj.Source = "source", tj.SourceOrganizeImports = "source.organizeImports", tj.SourceFixAll = "source.fixAll", (tq = nc || (nc = {})).Invoked = 1, tq.Automatic = 2, function(e30) {
  function t10(e31, t11, r11) {
    let n10 = { diagnostics: e31 };
    return null != t11 && (n10.only = t11), null != r11 && (n10.triggerKind = r11), n10;
  }
  function r10(e31) {
    return nD.defined(e31) && nD.typedArray(e31.diagnostics, r$.is) && (void 0 === e31.only || nD.typedArray(e31.only, nD.string)) && (void 0 === e31.triggerKind || e31.triggerKind === nc.Invoked || e31.triggerKind === nc.Automatic);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nh || (nh = {})), function(e30) {
  function t10(e31, t11, r11) {
    let n10 = { title: e31 }, i10 = true;
    return "string" == typeof t11 ? (i10 = false, n10.kind = t11) : rP.is(t11) ? n10.command = t11 : n10.edit = t11, i10 && void 0 !== r11 && (n10.kind = r11), n10;
  }
  function r10(e31) {
    return e31 && nD.string(e31.title) && (void 0 === e31.diagnostics || nD.typedArray(e31.diagnostics, r$.is)) && (void 0 === e31.kind || nD.string(e31.kind)) && (void 0 !== e31.edit || void 0 !== e31.command) && (void 0 === e31.command || rP.is(e31.command)) && (void 0 === e31.isPreferred || nD.boolean(e31.isPreferred)) && (void 0 === e31.edit || rH.is(e31.edit));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nu || (nu = {})), function(e30) {
  function t10(e31, t11) {
    let r11 = { range: e31 };
    return nD.defined(t11) && (r11.data = t11), r11;
  }
  function r10(e31) {
    return nD.defined(e31) && rT.is(e31.range) && (nD.undefined(e31.command) || rP.is(e31.command));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nd || (nd = {})), function(e30) {
  function t10(e31, t11) {
    return { tabSize: e31, insertSpaces: t11 };
  }
  function r10(e31) {
    return nD.defined(e31) && nD.uinteger(e31.tabSize) && nD.boolean(e31.insertSpaces);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(np || (np = {})), function(e30) {
  function t10(e31, t11, r11) {
    return { range: e31, target: t11, data: r11 };
  }
  function r10(e31) {
    return nD.defined(e31) && rT.is(e31.range) && (nD.undefined(e31.target) || nD.string(e31.target));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nf || (nf = {})), function(e30) {
  function t10(e31, t11) {
    return { range: e31, parent: t11 };
  }
  function r10(t11) {
    return nD.objectLiteral(t11) && rT.is(t11.range) && (void 0 === t11.parent || e30.is(t11.parent));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(ng || (ng = {})), (tU = nm || (nm = {})).namespace = "namespace", tU.type = "type", tU.class = "class", tU.enum = "enum", tU.interface = "interface", tU.struct = "struct", tU.typeParameter = "typeParameter", tU.parameter = "parameter", tU.variable = "variable", tU.property = "property", tU.enumMember = "enumMember", tU.event = "event", tU.function = "function", tU.method = "method", tU.macro = "macro", tU.keyword = "keyword", tU.modifier = "modifier", tU.comment = "comment", tU.string = "string", tU.number = "number", tU.regexp = "regexp", tU.operator = "operator", tU.decorator = "decorator", (tW = ny || (ny = {})).declaration = "declaration", tW.definition = "definition", tW.readonly = "readonly", tW.static = "static", tW.deprecated = "deprecated", tW.abstract = "abstract", tW.async = "async", tW.modification = "modification", tW.documentation = "documentation", tW.defaultLibrary = "defaultLibrary", function(e30) {
  function t10(e31) {
    return nD.objectLiteral(e31) && (void 0 === e31.resultId || "string" == typeof e31.resultId) && Array.isArray(e31.data) && (0 === e31.data.length || "number" == typeof e31.data[0]);
  }
  iM(t10, "is"), e30.is = t10;
}(nv || (nv = {})), function(e30) {
  function t10(e31, t11) {
    return { range: e31, text: t11 };
  }
  function r10(e31) {
    return null != e31 && rT.is(e31.range) && nD.string(e31.text);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nx || (nx = {})), function(e30) {
  function t10(e31, t11, r11) {
    return { range: e31, variableName: t11, caseSensitiveLookup: r11 };
  }
  function r10(e31) {
    return null != e31 && rT.is(e31.range) && nD.boolean(e31.caseSensitiveLookup) && (nD.string(e31.variableName) || void 0 === e31.variableName);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nb || (nb = {})), function(e30) {
  function t10(e31, t11) {
    return { range: e31, expression: t11 };
  }
  function r10(e31) {
    return null != e31 && rT.is(e31.range) && (nD.string(e31.expression) || void 0 === e31.expression);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nk || (nk = {})), function(e30) {
  function t10(e31, t11) {
    return { frameId: e31, stoppedLocation: t11 };
  }
  function r10(e31) {
    return nD.defined(e31) && rT.is(e31.stoppedLocation);
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nw || (nw = {})), function(e30) {
  function t10(e31) {
    return 1 === e31 || 2 === e31;
  }
  e30.Type = 1, e30.Parameter = 2, iM(t10, "is"), e30.is = t10;
}(n_ || (n_ = {})), function(e30) {
  function t10(e31) {
    return { value: e31 };
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && (void 0 === e31.tooltip || nD.string(e31.tooltip) || rQ.is(e31.tooltip)) && (void 0 === e31.location || rS.is(e31.location)) && (void 0 === e31.command || rP.is(e31.command));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nT || (nT = {})), function(e30) {
  function t10(e31, t11, r11) {
    let n10 = { position: e31, label: t11 };
    return void 0 !== r11 && (n10.kind = r11), n10;
  }
  function r10(e31) {
    return nD.objectLiteral(e31) && r_.is(e31.position) && (nD.string(e31.label) || nD.typedArray(e31.label, nT.is)) && (void 0 === e31.kind || n_.is(e31.kind)) && void 0 === e31.textEdits || nD.typedArray(e31.textEdits, rB.is) && (void 0 === e31.tooltip || nD.string(e31.tooltip) || rQ.is(e31.tooltip)) && (void 0 === e31.paddingLeft || nD.boolean(e31.paddingLeft)) && (void 0 === e31.paddingRight || nD.boolean(e31.paddingRight));
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10;
}(nS || (nS = {})), function(e30) {
  function t10(e31) {
    return { kind: "snippet", value: e31 };
  }
  iM(t10, "createSnippet"), e30.createSnippet = t10;
}(nC || (nC = {})), function(e30) {
  function t10(e31, t11, r10, n10) {
    return { insertText: e31, filterText: t11, range: r10, command: n10 };
  }
  iM(t10, "create"), e30.create = t10;
}(nE || (nE = {})), function(e30) {
  function t10(e31) {
    return { items: e31 };
  }
  iM(t10, "create"), e30.create = t10;
}(nA || (nA = {})), (tV = nL || (nL = {})).Invoked = 0, tV.Automatic = 1, function(e30) {
  function t10(e31, t11) {
    return { range: e31, text: t11 };
  }
  iM(t10, "create"), e30.create = t10;
}(nI || (nI = {})), function(e30) {
  function t10(e31, t11) {
    return { triggerKind: e31, selectedCompletionInfo: t11 };
  }
  iM(t10, "create"), e30.create = t10;
}(nM || (nM = {})), function(e30) {
  function t10(e31) {
    return nD.objectLiteral(e31) && rb.is(e31.uri) && nD.string(e31.name);
  }
  iM(t10, "is"), e30.is = t10;
}(nN || (nN = {})), function(e30) {
  function t10(e31, t11, r11, n11) {
    return new Za(e31, t11, r11, n11);
  }
  function r10(e31) {
    return !!(nD.defined(e31) && nD.string(e31.uri) && (nD.undefined(e31.languageId) || nD.string(e31.languageId)) && nD.uinteger(e31.lineCount) && nD.func(e31.getText) && nD.func(e31.positionAt) && nD.func(e31.offsetAt));
  }
  function n10(e31, t11) {
    let r11 = e31.getText(), n11 = i10(t11, (e32, t12) => {
      let r12 = e32.range.start.line - t12.range.start.line;
      return 0 === r12 ? e32.range.start.character - t12.range.start.character : r12;
    }), a10 = r11.length;
    for (let t12 = n11.length - 1; t12 >= 0; t12--) {
      let i11 = n11[t12], s10 = e31.offsetAt(i11.range.start), o10 = e31.offsetAt(i11.range.end);
      if (o10 <= a10) r11 = r11.substring(0, s10) + i11.newText + r11.substring(o10, r11.length);
      else throw Error("Overlapping edit");
      a10 = s10;
    }
    return r11;
  }
  function i10(e31, t11) {
    if (e31.length <= 1) return e31;
    let r11 = e31.length / 2 | 0, n11 = e31.slice(0, r11), a10 = e31.slice(r11);
    i10(n11, t11), i10(a10, t11);
    let s10 = 0, o10 = 0, l10 = 0;
    for (; s10 < n11.length && o10 < a10.length; ) 0 >= t11(n11[s10], a10[o10]) ? e31[l10++] = n11[s10++] : e31[l10++] = a10[o10++];
    for (; s10 < n11.length; ) e31[l10++] = n11[s10++];
    for (; o10 < a10.length; ) e31[l10++] = a10[o10++];
    return e31;
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "is"), e30.is = r10, iM(n10, "applyEdits"), e30.applyEdits = n10, iM(i10, "mergeSort");
}(nR || (nR = {}));
var Za = (_nb = class {
  constructor(e30, t10, r10, n10) {
    this._uri = e30, this._languageId = t10, this._version = r10, this._content = n10, this._lineOffsets = void 0;
  }
  get uri() {
    return this._uri;
  }
  get languageId() {
    return this._languageId;
  }
  get version() {
    return this._version;
  }
  getText(e30) {
    if (e30) {
      let t10 = this.offsetAt(e30.start), r10 = this.offsetAt(e30.end);
      return this._content.substring(t10, r10);
    }
    return this._content;
  }
  update(e30, t10) {
    this._content = e30.text, this._version = t10, this._lineOffsets = void 0;
  }
  getLineOffsets() {
    if (void 0 === this._lineOffsets) {
      let e30 = [], t10 = this._content, r10 = true;
      for (let n10 = 0; n10 < t10.length; n10++) {
        r10 && (e30.push(n10), r10 = false);
        let i10 = t10.charAt(n10);
        r10 = "\r" === i10 || "\n" === i10, "\r" === i10 && n10 + 1 < t10.length && "\n" === t10.charAt(n10 + 1) && n10++;
      }
      r10 && t10.length > 0 && e30.push(t10.length), this._lineOffsets = e30;
    }
    return this._lineOffsets;
  }
  positionAt(e30) {
    e30 = Math.max(Math.min(e30, this._content.length), 0);
    let t10 = this.getLineOffsets(), r10 = 0, n10 = t10.length;
    if (0 === n10) return r_.create(0, e30);
    for (; r10 < n10; ) {
      let i11 = Math.floor((r10 + n10) / 2);
      t10[i11] > e30 ? n10 = i11 : r10 = i11 + 1;
    }
    let i10 = r10 - 1;
    return r_.create(i10, e30 - t10[i10]);
  }
  offsetAt(e30) {
    let t10 = this.getLineOffsets();
    if (e30.line >= t10.length) return this._content.length;
    if (e30.line < 0) return 0;
    let r10 = t10[e30.line], n10 = e30.line + 1 < t10.length ? t10[e30.line + 1] : this._content.length;
    return Math.max(Math.min(r10 + e30.character, n10), r10);
  }
  get lineCount() {
    return this.getLineOffsets().length;
  }
}, _i124 = new WeakMap(), __privateAdd(_nb, _i124, iM(_nb, "FullTextDocument")), _nb);
!function(e30) {
  let t10 = Object.prototype.toString;
  function r10(e31) {
    return void 0 !== e31;
  }
  function n10(e31) {
    return void 0 === e31;
  }
  function i10(e31) {
    return true === e31 || false === e31;
  }
  function a10(e31) {
    return "[object String]" === t10.call(e31);
  }
  function s10(e31) {
    return "[object Number]" === t10.call(e31);
  }
  function o10(e31, r11, n11) {
    return "[object Number]" === t10.call(e31) && r11 <= e31 && e31 <= n11;
  }
  function l10(e31) {
    return "[object Number]" === t10.call(e31) && -2147483648 <= e31 && e31 <= 2147483647;
  }
  function h10(e31) {
    return "[object Number]" === t10.call(e31) && 0 <= e31 && e31 <= 2147483647;
  }
  function u10(e31) {
    return "[object Function]" === t10.call(e31);
  }
  function d10(e31) {
    return null !== e31 && "object" == typeof e31;
  }
  function p10(e31, t11) {
    return Array.isArray(e31) && e31.every(t11);
  }
  iM(r10, "defined"), e30.defined = r10, iM(n10, "undefined"), e30.undefined = n10, iM(i10, "boolean"), e30.boolean = i10, iM(a10, "string"), e30.string = a10, iM(s10, "number"), e30.number = s10, iM(o10, "numberRange"), e30.numberRange = o10, iM(l10, "integer"), e30.integer = l10, iM(h10, "uinteger"), e30.uinteger = h10, iM(u10, "func"), e30.func = u10, iM(d10, "objectLiteral"), e30.objectLiteral = d10, iM(p10, "typedArray"), e30.typedArray = p10;
}(nD || (nD = {}));
var Zs = (_ob = class {
  constructor() {
    this.nodeStack = [];
  }
  get current() {
    return this.nodeStack[this.nodeStack.length - 1];
  }
  buildRootNode(e30) {
    return this.rootNode = new Zu(e30), this.rootNode.root = this.rootNode, this.nodeStack = [this.rootNode], this.rootNode;
  }
  buildCompositeNode(e30) {
    let t10 = new Zc();
    return t10.grammarSource = e30, t10.root = this.rootNode, this.current.content.push(t10), this.nodeStack.push(t10), t10;
  }
  buildLeafNode(e30, t10) {
    let r10 = new Zl(e30.startOffset, e30.image.length, U$(e30), e30.tokenType, false);
    return r10.grammarSource = t10, r10.root = this.rootNode, this.current.content.push(r10), r10;
  }
  removeNode(e30) {
    let t10 = e30.container;
    if (t10) {
      let r10 = t10.content.indexOf(e30);
      r10 >= 0 && t10.content.splice(r10, 1);
    }
  }
  construct(e30) {
    let t10 = this.current;
    "string" == typeof e30.$type && (this.current.astNode = e30), e30.$cstNode = t10;
    let r10 = this.nodeStack.pop();
    (null == r10 ? void 0 : r10.content.length) === 0 && this.removeNode(r10);
  }
  addHiddenTokens(e30) {
    for (let t10 of e30) {
      let e31 = new Zl(t10.startOffset, t10.image.length, U$(t10), t10.tokenType, true);
      e31.root = this.rootNode, this.addHiddenToken(this.rootNode, e31);
    }
  }
  addHiddenToken(e30, t10) {
    let { offset: r10, end: n10 } = t10;
    for (let i10 = 0; i10 < e30.content.length; i10++) {
      let a10 = e30.content[i10], { offset: s10, end: o10 } = a10;
      if (U_(a10) && r10 > s10 && n10 < o10) {
        this.addHiddenToken(a10, t10);
        return;
      }
      if (n10 <= s10) {
        e30.content.splice(i10, 0, t10);
        return;
      }
    }
    e30.content.push(t10);
  }
}, _i125 = new WeakMap(), __privateAdd(_ob, _i125, iM(_ob, "CstNodeBuilder")), _ob), Zo = (_pb = class {
  get parent() {
    return this.container;
  }
  get feature() {
    return this.grammarSource;
  }
  get hidden() {
    return false;
  }
  get astNode() {
    var e30, t10;
    let r10 = "string" == typeof (null === (e30 = this._astNode) || void 0 === e30 ? void 0 : e30.$type) ? this._astNode : null === (t10 = this.container) || void 0 === t10 ? void 0 : t10.astNode;
    if (!r10) throw Error("This node has no associated AST element");
    return r10;
  }
  set astNode(e30) {
    this._astNode = e30;
  }
  get element() {
    return this.astNode;
  }
  get text() {
    return this.root.fullText.substring(this.offset, this.end);
  }
}, _i126 = new WeakMap(), __privateAdd(_pb, _i126, iM(_pb, "AbstractCstNode")), _pb), Zl = (_qb = class extends Zo {
  get offset() {
    return this._offset;
  }
  get length() {
    return this._length;
  }
  get end() {
    return this._offset + this._length;
  }
  get hidden() {
    return this._hidden;
  }
  get tokenType() {
    return this._tokenType;
  }
  get range() {
    return this._range;
  }
  constructor(e30, t10, r10, n10, i10 = false) {
    super(), this._hidden = i10, this._offset = e30, this._tokenType = n10, this._length = t10, this._range = r10;
  }
}, _i127 = new WeakMap(), __privateAdd(_qb, _i127, iM(_qb, "LeafCstNodeImpl")), _qb), Zc = (_rb = class extends Zo {
  constructor() {
    super(...arguments), this.content = new Zh(this);
  }
  get children() {
    return this.content;
  }
  get offset() {
    var e30, t10;
    return null !== (t10 = null === (e30 = this.firstNonHiddenNode) || void 0 === e30 ? void 0 : e30.offset) && void 0 !== t10 ? t10 : 0;
  }
  get length() {
    return this.end - this.offset;
  }
  get end() {
    var e30, t10;
    return null !== (t10 = null === (e30 = this.lastNonHiddenNode) || void 0 === e30 ? void 0 : e30.end) && void 0 !== t10 ? t10 : 0;
  }
  get range() {
    let e30 = this.firstNonHiddenNode, t10 = this.lastNonHiddenNode;
    if (!e30 || !t10) return { start: r_.create(0, 0), end: r_.create(0, 0) };
    if (void 0 === this._rangeCache) {
      let { range: r10 } = e30, { range: n10 } = t10;
      this._rangeCache = { start: r10.start, end: n10.end.line < r10.start.line ? r10.start : n10.end };
    }
    return this._rangeCache;
  }
  get firstNonHiddenNode() {
    for (let e30 of this.content) if (!e30.hidden) return e30;
    return this.content[0];
  }
  get lastNonHiddenNode() {
    for (let e30 = this.content.length - 1; e30 >= 0; e30--) {
      let t10 = this.content[e30];
      if (!t10.hidden) return t10;
    }
    return this.content[this.content.length - 1];
  }
}, _i128 = new WeakMap(), __privateAdd(_rb, _i128, iM(_rb, "CompositeCstNodeImpl")), _rb), Zh = (_sb = class extends Array {
  constructor(t10) {
    super(), this.parent = t10, Object.setPrototypeOf(this, _sb.prototype);
  }
  push() {
    for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
    return this.addParents(t10), super.push(...t10);
  }
  unshift() {
    for (var e30 = arguments.length, t10 = Array(e30), r10 = 0; r10 < e30; r10++) t10[r10] = arguments[r10];
    return this.addParents(t10), super.unshift(...t10);
  }
  splice(e30, t10) {
    for (var r10 = arguments.length, n10 = Array(r10 > 2 ? r10 - 2 : 0), i10 = 2; i10 < r10; i10++) n10[i10 - 2] = arguments[i10];
    return this.addParents(n10), super.splice(e30, t10, ...n10);
  }
  addParents(e30) {
    for (let t10 of e30) t10.container = this.parent;
  }
}, _i129 = new WeakMap(), __privateAdd(_sb, _i129, iM(_sb, "CstNodeContainer")), _sb), Zu = (_tb = class extends Zc {
  get text() {
    return this._text.substring(this.offset, this.end);
  }
  get fullText() {
    return this._text;
  }
  constructor(e30) {
    super(), this._text = "", this._text = null != e30 ? e30 : "";
  }
}, _i130 = new WeakMap(), __privateAdd(_tb, _i130, iM(_tb, "RootCstNodeImpl")), _tb), Zd = Symbol("Datatype");
function Zp(e30) {
  return e30.$type === Zd;
}
iM(Zp, "isDataTypeNode");
var Zf = iM((e30) => e30.endsWith("​") ? e30 : e30 + "​", "withRuleSuffix"), Zg = (_ub = class {
  constructor(e30) {
    this._unorderedGroups = /* @__PURE__ */ new Map(), this.lexer = e30.parser.Lexer;
    let t10 = this.lexer.definition;
    this.wrapper = new Zk(t10, Object.assign(Object.assign({}, e30.parser.ParserConfig), { errorMessageProvider: e30.parser.ParserErrorMessageProvider }));
  }
  alternatives(e30, t10) {
    this.wrapper.wrapOr(e30, t10);
  }
  optional(e30, t10) {
    this.wrapper.wrapOption(e30, t10);
  }
  many(e30, t10) {
    this.wrapper.wrapMany(e30, t10);
  }
  atLeastOne(e30, t10) {
    this.wrapper.wrapAtLeastOne(e30, t10);
  }
  isRecording() {
    return this.wrapper.IS_RECORDING;
  }
  get unorderedGroups() {
    return this._unorderedGroups;
  }
  getRuleStack() {
    return this.wrapper.RULE_STACK;
  }
  finalize() {
    this.wrapper.wrapSelfAnalysis();
  }
}, _i131 = new WeakMap(), __privateAdd(_ub, _i131, iM(_ub, "AbstractLangiumParser")), _ub), Zm = (_vb = class extends Zg {
  get current() {
    return this.stack[this.stack.length - 1];
  }
  constructor(e30) {
    super(e30), this.nodeBuilder = new Zs(), this.stack = [], this.assignmentMap = /* @__PURE__ */ new Map(), this.linker = e30.references.Linker, this.converter = e30.parser.ValueConverter, this.astReflection = e30.shared.AstReflection;
  }
  rule(e30, t10) {
    let r10 = e30.fragment ? void 0 : Hk(e30) ? Zd : HC(e30), n10 = this.wrapper.DEFINE_RULE(Zf(e30.name), this.startImplementation(r10, t10).bind(this));
    return e30.entry && (this.mainRule = n10), n10;
  }
  parse(e30) {
    this.nodeBuilder.buildRootNode(e30);
    let t10 = this.lexer.tokenize(e30);
    this.wrapper.input = t10.tokens;
    let r10 = this.mainRule.call(this.wrapper, {});
    return this.nodeBuilder.addHiddenTokens(t10.hidden), this.unorderedGroups.clear(), { value: r10, lexerErrors: t10.errors, parserErrors: this.wrapper.errors };
  }
  startImplementation(e30, t10) {
    return (r10) => {
      let n10;
      if (!this.isRecording()) {
        let t11 = { $type: e30 };
        this.stack.push(t11), e30 === Zd && (t11.value = "");
      }
      try {
        n10 = t10(r10);
      } catch (e31) {
        n10 = void 0;
      }
      return this.isRecording() || void 0 !== n10 || (n10 = this.construct()), n10;
    };
  }
  consume(e30, t10, r10) {
    let n10 = this.wrapper.wrapConsume(e30, t10);
    if (!this.isRecording() && this.isValidToken(n10)) {
      let e31 = this.nodeBuilder.buildLeafNode(n10, r10), { assignment: t11, isCrossRef: i10 } = this.getAssignment(r10), a10 = this.current;
      if (t11) {
        let a11 = Va(r10) ? n10.image : this.converter.convert(n10.image, e31);
        this.assign(t11.operator, t11.feature, a11, e31, i10);
      } else if (Zp(a10)) {
        let t12 = n10.image;
        Va(r10) || (t12 = this.converter.convert(t12, e31).toString()), a10.value += t12;
      }
    }
  }
  isValidToken(e30) {
    return !e30.isInsertedInRecovery && !isNaN(e30.startOffset) && "number" == typeof e30.endOffset && !isNaN(e30.endOffset);
  }
  subrule(e30, t10, r10, n10) {
    let i10;
    this.isRecording() || (i10 = this.nodeBuilder.buildCompositeNode(r10));
    let a10 = this.wrapper.wrapSubrule(e30, t10, n10);
    !this.isRecording() && i10 && i10.length > 0 && this.performSubruleAssignment(a10, r10, i10);
  }
  performSubruleAssignment(e30, t10, r10) {
    let { assignment: n10, isCrossRef: i10 } = this.getAssignment(t10);
    if (n10) this.assign(n10.operator, n10.feature, e30, r10, i10);
    else if (!n10) {
      let t11 = this.current;
      if (Zp(t11)) t11.value += e30.toString();
      else if ("object" == typeof e30 && e30) {
        let r11 = e30.$type, n11 = this.assignWithoutOverride(e30, t11);
        r11 && (n11.$type = r11), this.stack.pop(), this.stack.push(n11);
      }
    }
  }
  action(e30, t10) {
    if (!this.isRecording()) {
      let r10 = this.current;
      if (!r10.$cstNode && t10.feature && t10.operator) {
        let e31 = (r10 = this.construct(false)).$cstNode.feature;
        this.nodeBuilder.buildCompositeNode(e31);
      }
      this.stack.pop(), this.stack.push({ $type: e30 }), t10.feature && t10.operator && this.assign(t10.operator, t10.feature, r10, r10.$cstNode, false);
    }
  }
  construct() {
    let e30 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0];
    if (this.isRecording()) return;
    let t10 = this.current;
    return (VE(t10), this.nodeBuilder.construct(t10), e30 && this.stack.pop(), Zp(t10)) ? this.converter.convert(t10.value, t10.$cstNode) : (VB(this.astReflection, t10), t10);
  }
  getAssignment(e30) {
    if (!this.assignmentMap.has(e30)) {
      let t10 = VA(e30, W5);
      this.assignmentMap.set(e30, { assignment: t10, isCrossRef: !!t10 && W9(t10.terminal) });
    }
    return this.assignmentMap.get(e30);
  }
  assign(e30, t10, r10, n10, i10) {
    let a10;
    let s10 = this.current;
    switch (a10 = i10 && "string" == typeof r10 ? this.linker.buildReference(s10, t10, n10, r10) : r10, e30) {
      case "=":
        s10[t10] = a10;
        break;
      case "?=":
        s10[t10] = true;
        break;
      case "+=":
        Array.isArray(s10[t10]) || (s10[t10] = []), s10[t10].push(a10);
    }
  }
  assignWithoutOverride(e30, t10) {
    for (let [r10, n10] of Object.entries(t10)) {
      let t11 = e30[r10];
      void 0 === t11 ? e30[r10] = n10 : Array.isArray(t11) && Array.isArray(n10) && (n10.push(...t11), e30[r10] = n10);
    }
    return e30;
  }
  get definitionErrors() {
    return this.wrapper.definitionErrors;
  }
}, _i132 = new WeakMap(), __privateAdd(_vb, _i132, iM(_vb, "LangiumParser")), _vb), Zy = (_wb = class {
  buildMismatchTokenMessage(e30) {
    return GL.buildMismatchTokenMessage(e30);
  }
  buildNotAllInputParsedMessage(e30) {
    return GL.buildNotAllInputParsedMessage(e30);
  }
  buildNoViableAltMessage(e30) {
    return GL.buildNoViableAltMessage(e30);
  }
  buildEarlyExitMessage(e30) {
    return GL.buildEarlyExitMessage(e30);
  }
}, _i133 = new WeakMap(), __privateAdd(_wb, _i133, iM(_wb, "AbstractParserErrorMessageProvider")), _wb), Zv = (_xb = class extends Zy {
  buildMismatchTokenMessage(e30) {
    let { expected: t10, actual: r10 } = e30, n10 = t10.LABEL ? "`" + t10.LABEL + "`" : t10.name.endsWith(":KW") ? `keyword '${t10.name.substring(0, t10.name.length - 3)}'` : `token of type '${t10.name}'`;
    return `Expecting ${n10} but found \`${r10.image}\`.`;
  }
  buildNotAllInputParsedMessage(e30) {
    let { firstRedundant: t10 } = e30;
    return `Expecting end of file but found \`${t10.image}\`.`;
  }
}, _i134 = new WeakMap(), __privateAdd(_xb, _i134, iM(_xb, "LangiumParserErrorMessageProvider")), _xb), Zx = (_yb = class extends Zg {
  constructor() {
    super(...arguments), this.tokens = [], this.elementStack = [], this.lastElementStack = [], this.nextTokenIndex = 0, this.stackSize = 0;
  }
  action() {
  }
  construct() {
  }
  parse(e30) {
    this.resetState();
    let t10 = this.lexer.tokenize(e30);
    return this.tokens = t10.tokens, this.wrapper.input = [...this.tokens], this.mainRule.call(this.wrapper, {}), this.unorderedGroups.clear(), { tokens: this.tokens, elementStack: [...this.lastElementStack], tokenIndex: this.nextTokenIndex };
  }
  rule(e30, t10) {
    let r10 = this.wrapper.DEFINE_RULE(Zf(e30.name), this.startImplementation(t10).bind(this));
    return e30.entry && (this.mainRule = r10), r10;
  }
  resetState() {
    this.elementStack = [], this.lastElementStack = [], this.nextTokenIndex = 0, this.stackSize = 0;
  }
  startImplementation(e30) {
    return (t10) => {
      let r10 = this.keepStackSize();
      try {
        e30(t10);
      } finally {
        this.resetStackSize(r10);
      }
    };
  }
  removeUnexpectedElements() {
    this.elementStack.splice(this.stackSize);
  }
  keepStackSize() {
    let e30 = this.elementStack.length;
    return this.stackSize = e30, e30;
  }
  resetStackSize(e30) {
    this.removeUnexpectedElements(), this.stackSize = e30;
  }
  consume(e30, t10, r10) {
    this.wrapper.wrapConsume(e30, t10), this.isRecording() || (this.lastElementStack = [...this.elementStack, r10], this.nextTokenIndex = this.currIdx + 1);
  }
  subrule(e30, t10, r10, n10) {
    this.before(r10), this.wrapper.wrapSubrule(e30, t10, n10), this.after(r10);
  }
  before(e30) {
    this.isRecording() || this.elementStack.push(e30);
  }
  after(e30) {
    if (!this.isRecording()) {
      let t10 = this.elementStack.lastIndexOf(e30);
      t10 >= 0 && this.elementStack.splice(t10);
    }
  }
  get currIdx() {
    return this.wrapper.currIdx;
  }
}, _i135 = new WeakMap(), __privateAdd(_yb, _i135, iM(_yb, "LangiumCompletionParser")), _yb), Zb = { recoveryEnabled: true, nodeLocationTracking: "full", skipValidations: true, errorMessageProvider: new Zv() }, Zk = (_zb = class extends Ko {
  constructor(e30, t10) {
    super(e30, Object.assign(Object.assign(Object.assign({}, Zb), { lookaheadStrategy: t10 && "maxLookahead" in t10 ? new XO({ maxLookahead: t10.maxLookahead }) : new KU() }), t10));
  }
  get IS_RECORDING() {
    return this.RECORDING_PHASE;
  }
  DEFINE_RULE(e30, t10) {
    return this.RULE(e30, t10);
  }
  wrapSelfAnalysis() {
    this.performSelfAnalysis();
  }
  wrapConsume(e30, t10) {
    return this.consume(e30, t10);
  }
  wrapSubrule(e30, t10, r10) {
    return this.subrule(e30, t10, { ARGS: [r10] });
  }
  wrapOr(e30, t10) {
    this.or(e30, t10);
  }
  wrapOption(e30, t10) {
    this.option(e30, t10);
  }
  wrapMany(e30, t10) {
    this.many(e30, t10);
  }
  wrapAtLeastOne(e30, t10) {
    this.atLeastOne(e30, t10);
  }
}, _i136 = new WeakMap(), __privateAdd(_zb, _i136, iM(_zb, "ChevrotainWrapper")), _zb);
function Zw(e30, t10, r10) {
  return Z_({ parser: t10, tokens: r10, rules: /* @__PURE__ */ new Map(), ruleNames: /* @__PURE__ */ new Map() }, e30), t10;
}
function Z_(e30, t10) {
  let r10 = Hi(t10, false);
  for (let n10 of UM(t10.rules).filter(WP).filter((e31) => r10.has(e31))) {
    let t11 = Object.assign(Object.assign({}, e30), { consume: 1, optional: 1, subrule: 1, many: 1, or: 1 });
    t11.rules.set(n10.name, e30.parser.rule(n10, ZT(t11, n10.definition)));
  }
}
function ZT(e30, t10) {
  let r10, n10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
  if (Va(t10)) r10 = ZD(e30, t10);
  else if (W1(t10)) r10 = ZS(e30, t10);
  else if (W5(t10)) r10 = ZT(e30, t10.terminal);
  else if (W9(t10)) r10 = ZR(e30, t10);
  else if (Vu(t10)) r10 = ZC(e30, t10);
  else if (W4(t10)) r10 = ZL(e30, t10);
  else if (Vx(t10)) r10 = ZI(e30, t10);
  else if (Vn(t10)) r10 = ZM(e30, t10);
  else if (Vt(t10)) {
    let n11 = e30.consume++;
    r10 = iM(() => e30.parser.consume(n11, GC, t10), "method");
  } else throw new U0(t10.$cstNode, `Unexpected element type: ${t10.$type}`);
  return ZO(e30, n10 ? void 0 : ZN(t10), r10, t10.cardinality);
}
function ZS(e30, t10) {
  let r10 = HC(t10);
  return () => e30.parser.action(r10, t10);
}
function ZC(e30, t10) {
  let r10 = t10.rule.ref;
  if (WP(r10)) {
    let n10 = e30.subrule++, i10 = t10.arguments.length > 0 ? ZE(r10, t10.arguments) : () => ({});
    return (a10) => e30.parser.subrule(n10, Z$(e30, r10), t10, i10(a10));
  }
  if (WY(r10)) {
    let n10 = e30.consume++, i10 = ZB(e30, r10.name);
    return () => e30.parser.consume(n10, i10, t10);
  }
  if (r10) U1();
  else throw new U0(t10.$cstNode, `Undefined rule type: ${t10.$type}`);
}
function ZE(e30, t10) {
  let r10 = t10.map((e31) => ZA(e31.value));
  return (t11) => {
    let n10 = {};
    for (let i10 = 0; i10 < r10.length; i10++) {
      let a10 = e30.parameters[i10], s10 = r10[i10];
      n10[a10.name] = s10(t11);
    }
    return n10;
  };
}
function ZA(e30) {
  if (Wy(e30)) {
    let t10 = ZA(e30.left), r10 = ZA(e30.right);
    return (e31) => t10(e31) || r10(e31);
  }
  if (Wg(e30)) {
    let t10 = ZA(e30.left), r10 = ZA(e30.right);
    return (e31) => t10(e31) && r10(e31);
  }
  if (WL(e30)) {
    let t10 = ZA(e30.value);
    return (e31) => !t10(e31);
  }
  if (WO(e30)) {
    let t10 = e30.parameter.ref.name;
    return (e31) => void 0 !== e31 && true === e31[t10];
  }
  if (Wp(e30)) {
    let t10 = !!e30.true;
    return () => t10;
  }
  U1();
}
function ZL(e30, t10) {
  if (1 === t10.elements.length) return ZT(e30, t10.elements[0]);
  {
    let r10 = [];
    for (let n11 of t10.elements) {
      let t11 = { ALT: ZT(e30, n11, true) }, i10 = ZN(n11);
      i10 && (t11.GATE = ZA(i10)), r10.push(t11);
    }
    let n10 = e30.or++;
    return (t11) => e30.parser.alternatives(n10, r10.map((e31) => {
      let r11 = { ALT: iM(() => e31.ALT(t11), "ALT") }, n11 = e31.GATE;
      return n11 && (r11.GATE = () => n11(t11)), r11;
    }));
  }
}
function ZI(e30, t10) {
  if (1 === t10.elements.length) return ZT(e30, t10.elements[0]);
  let r10 = [];
  for (let n11 of t10.elements) {
    let t11 = { ALT: ZT(e30, n11, true) }, i11 = ZN(n11);
    i11 && (t11.GATE = ZA(i11)), r10.push(t11);
  }
  let n10 = e30.or++, i10 = iM((e31, t11) => {
    let r11 = t11.getRuleStack().join("-");
    return `uGroup_${e31}_${r11}`;
  }, "idFunc"), a10 = iM((t11) => e30.parser.alternatives(n10, r10.map((r11, a11) => {
    let s11 = { ALT: iM(() => true, "ALT") }, o10 = e30.parser;
    s11.ALT = () => {
      if (r11.ALT(t11), !o10.isRecording()) {
        let e31 = i10(n10, o10);
        o10.unorderedGroups.get(e31) || o10.unorderedGroups.set(e31, []);
        let t12 = o10.unorderedGroups.get(e31);
        void 0 === (null == t12 ? void 0 : t12[a11]) && (t12[a11] = true);
      }
    };
    let l10 = r11.GATE;
    return l10 ? s11.GATE = () => l10(t11) : s11.GATE = () => {
      let e31 = o10.unorderedGroups.get(i10(n10, o10));
      return !(null == e31 ? void 0 : e31[a11]);
    }, s11;
  })), "alternatives"), s10 = ZO(e30, ZN(t10), a10, "*");
  return (t11) => {
    s10(t11), e30.parser.isRecording() || e30.parser.unorderedGroups.delete(i10(n10, e30.parser));
  };
}
function ZM(e30, t10) {
  let r10 = t10.elements.map((t11) => ZT(e30, t11));
  return (e31) => r10.forEach((t11) => t11(e31));
}
function ZN(e30) {
  if (Vn(e30)) return e30.guardCondition;
}
function ZR(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t10.terminal;
  if (r10) {
    if (Vu(r10) && WP(r10.rule.ref)) {
      let n10 = e30.subrule++;
      return (i10) => e30.parser.subrule(n10, Z$(e30, r10.rule.ref), t10, i10);
    }
    if (Vu(r10) && WY(r10.rule.ref)) {
      let n10 = e30.consume++, i10 = ZB(e30, r10.rule.ref.name);
      return () => e30.parser.consume(n10, i10, t10);
    }
    if (Va(r10)) {
      let n10 = e30.consume++, i10 = ZB(e30, r10.value);
      return () => e30.parser.consume(n10, i10, t10);
    } else throw Error("Could not build cross reference parser");
  }
  {
    if (!t10.type.ref) throw Error("Could not resolve reference to type: " + t10.type.$refText);
    let r11 = Hg(t10.type.ref), n10 = null == r11 ? void 0 : r11.terminal;
    if (!n10) throw Error("Could not find name assignment for type: " + HC(t10.type.ref));
    return ZR(e30, t10, n10);
  }
}
function ZD(e30, t10) {
  let r10 = e30.consume++, n10 = e30.tokens[t10.value];
  if (!n10) throw Error("Could not find token for keyword: " + t10.value);
  return () => e30.parser.consume(r10, n10, t10);
}
function ZO(e30, t10, r10, n10) {
  let i10 = t10 && ZA(t10);
  if (!n10) {
    if (!i10) return r10;
    {
      let t11 = e30.or++;
      return (n11) => e30.parser.alternatives(t11, [{ ALT: iM(() => r10(n11), "ALT"), GATE: iM(() => i10(n11), "GATE") }, { ALT: Ka(), GATE: iM(() => !i10(n11), "GATE") }]);
    }
  }
  if ("*" === n10) {
    let t11 = e30.many++;
    return (n11) => e30.parser.many(t11, { DEF: iM(() => r10(n11), "DEF"), GATE: i10 ? () => i10(n11) : void 0 });
  }
  if ("+" === n10) {
    let t11 = e30.many++;
    if (!i10) return (n11) => e30.parser.atLeastOne(t11, { DEF: iM(() => r10(n11), "DEF") });
    {
      let n11 = e30.or++;
      return (a10) => e30.parser.alternatives(n11, [{ ALT: iM(() => e30.parser.atLeastOne(t11, { DEF: iM(() => r10(a10), "DEF") }), "ALT"), GATE: iM(() => i10(a10), "GATE") }, { ALT: Ka(), GATE: iM(() => !i10(a10), "GATE") }]);
    }
  }
  if ("?" === n10) {
    let t11 = e30.optional++;
    return (n11) => e30.parser.optional(t11, { DEF: iM(() => r10(n11), "DEF"), GATE: i10 ? () => i10(n11) : void 0 });
  }
  U1();
}
function Z$(e30, t10) {
  let r10 = ZP(e30, t10), n10 = e30.rules.get(r10);
  if (!n10) throw Error(`Rule "${r10}" not found."`);
  return n10;
}
function ZP(e30, t10) {
  if (WP(t10)) return t10.name;
  if (e30.ruleNames.has(t10)) return e30.ruleNames.get(t10);
  {
    let r10 = t10, n10 = r10.$container, i10 = t10.$type;
    for (; !WP(n10); ) (Vn(n10) || W4(n10) || Vx(n10)) && (i10 = n10.elements.indexOf(r10).toString() + ":" + i10), r10 = n10, n10 = n10.$container;
    return i10 = n10.name + ":" + i10, e30.ruleNames.set(t10, i10), i10;
  }
}
function ZB(e30, t10) {
  let r10 = e30.tokens[t10];
  if (!r10) throw Error(`Token "${t10}" not found."`);
  return r10;
}
function ZF(e30) {
  let t10 = e30.Grammar, r10 = e30.parser.Lexer, n10 = new Zx(e30);
  return Zw(t10, n10, r10.definition), n10.finalize(), n10;
}
function Zz(e30) {
  let t10 = Zj(e30);
  return t10.finalize(), t10;
}
function Zj(e30) {
  let t10 = e30.Grammar, r10 = e30.parser.Lexer;
  return Zw(t10, new Zm(e30), r10.definition);
}
iM(Zw, "createParser"), iM(Z_, "buildRules"), iM(ZT, "buildElement"), iM(ZS, "buildAction"), iM(ZC, "buildRuleCall"), iM(ZE, "buildRuleCallPredicate"), iM(ZA, "buildPredicate"), iM(ZL, "buildAlternatives"), iM(ZI, "buildUnorderedGroup"), iM(ZM, "buildGroup"), iM(ZN, "getGuardCondition"), iM(ZR, "buildCrossReference"), iM(ZD, "buildKeyword"), iM(ZO, "wrap"), iM(Z$, "getRule"), iM(ZP, "getRuleName"), iM(ZB, "getToken"), iM(ZF, "createCompletionParser"), iM(Zz, "createLangiumParser"), iM(Zj, "prepareLangiumParser");
var Zq = (_Ab = class {
  buildTokens(e30, t10) {
    let r10 = UM(Hi(e30, false)), n10 = this.buildTerminalTokens(r10), i10 = this.buildKeywordTokens(r10, n10, t10);
    return n10.forEach((e31) => {
      let t11 = e31.PATTERN;
      "object" == typeof t11 && t11 && "test" in t11 && V7(t11) ? i10.unshift(e31) : i10.push(e31);
    }), i10;
  }
  buildTerminalTokens(e30) {
    return e30.filter(WY).filter((e31) => !e31.fragment).map((e31) => this.buildTerminalToken(e31)).toArray();
  }
  buildTerminalToken(e30) {
    let t10 = HL(e30), r10 = this.requiresCustomPattern(t10) ? this.regexPatternFunction(t10) : t10, n10 = { name: e30.name, PATTERN: r10, LINE_BREAKS: true };
    return e30.hidden && (n10.GROUP = V7(t10) ? Gp.SKIPPED : "hidden"), n10;
  }
  requiresCustomPattern(e30) {
    return !!e30.flags.includes("u") || !!(e30.source.includes("?<=") || e30.source.includes("?<!"));
  }
  regexPatternFunction(e30) {
    let t10 = RegExp(e30, e30.flags + "y");
    return (e31, r10) => (t10.lastIndex = r10, t10.exec(e31));
  }
  buildKeywordTokens(e30, t10, r10) {
    return e30.filter(WP).flatMap((e31) => VR(e31).filter(Va)).distinct((e31) => e31.value).toArray().sort((e31, t11) => t11.value.length - e31.value.length).map((e31) => this.buildKeywordToken(e31, t10, !!(null == r10 ? void 0 : r10.caseInsensitive)));
  }
  buildKeywordToken(e30, t10, r10) {
    return { name: e30.value, PATTERN: this.buildKeywordPattern(e30, r10), LONGER_ALT: this.findLongerAlt(e30, t10) };
  }
  buildKeywordPattern(e30, t10) {
    return t10 ? new RegExp(V9(e30.value)) : e30.value;
  }
  findLongerAlt(e30, t10) {
    return t10.reduce((t11, r10) => {
      let n10 = null == r10 ? void 0 : r10.PATTERN;
      return (null == n10 ? void 0 : n10.source) && He("^" + n10.source + "$", e30.value) && t11.push(r10), t11;
    }, []);
  }
}, _i137 = new WeakMap(), __privateAdd(_Ab, _i137, iM(_Ab, "DefaultTokenBuilder")), _Ab), ZU = (_Bb = class {
  convert(e30, t10) {
    let r10 = t10.grammarSource;
    if (W9(r10) && (r10 = Hs(r10)), Vu(r10)) {
      let n10 = r10.rule.ref;
      if (!n10) throw Error("This cst node was not parsed by a rule.");
      return this.runConverter(n10, e30, t10);
    }
    return e30;
  }
  runConverter(e30, t10, r10) {
    var n10;
    switch (e30.name.toUpperCase()) {
      case "INT":
        return nO.convertInt(t10);
      case "STRING":
        return nO.convertString(t10);
      case "ID":
        return nO.convertID(t10);
    }
    switch (null === (n10 = HA(e30)) || void 0 === n10 ? void 0 : n10.toLowerCase()) {
      case "number":
        return nO.convertNumber(t10);
      case "boolean":
        return nO.convertBoolean(t10);
      case "bigint":
        return nO.convertBigint(t10);
      case "date":
        return nO.convertDate(t10);
      default:
        return t10;
    }
  }
}, _i138 = new WeakMap(), __privateAdd(_Bb, _i138, iM(_Bb, "DefaultValueConverter")), _Bb);
!function(e30) {
  function t10(e31) {
    let t11 = "";
    for (let n11 = 1; n11 < e31.length - 1; n11++) {
      let i11 = e31.charAt(n11);
      "\\" === i11 ? t11 += r10(e31.charAt(++n11)) : t11 += i11;
    }
    return t11;
  }
  function r10(e31) {
    switch (e31) {
      case "b":
        return "\b";
      case "f":
        return "\f";
      case "n":
        return "\n";
      case "r":
        return "\r";
      case "t":
        return "	";
      case "v":
        return "\v";
      case "0":
        return "\0";
      default:
        return e31;
    }
  }
  function n10(e31) {
    return "^" === e31.charAt(0) ? e31.substring(1) : e31;
  }
  function i10(e31) {
    return parseInt(e31);
  }
  function a10(e31) {
    return BigInt(e31);
  }
  function s10(e31) {
    return new Date(e31);
  }
  function o10(e31) {
    return Number(e31);
  }
  function l10(e31) {
    return "true" === e31.toLowerCase();
  }
  iM(t10, "convertString"), e30.convertString = t10, iM(r10, "convertEscapeCharacter"), iM(n10, "convertID"), e30.convertID = n10, iM(i10, "convertInt"), e30.convertInt = i10, iM(a10, "convertBigint"), e30.convertBigint = a10, iM(s10, "convertDate"), e30.convertDate = s10, iM(o10, "convertNumber"), e30.convertNumber = o10, iM(l10, "convertBoolean"), e30.convertBoolean = l10;
}(nO || (nO = {}));
var ZW = {};
function ZV() {
  return new Promise((e30) => {
    "undefined" == typeof setImmediate ? setTimeout(e30, 0) : setImmediate(e30);
  });
}
iO(ZW, i$(Ug())), iM(ZV, "delayNextTick");
var ZH = 0, ZY = 10;
function ZG() {
  return ZH = Date.now(), new ZW.CancellationTokenSource();
}
function ZX(e30) {
  ZY = e30;
}
iM(ZG, "startCancelableOperation"), iM(ZX, "setInterruptionPeriod");
var ZK = Symbol("OperationCancelled");
function ZZ(e30) {
  return e30 === ZK;
}
async function ZQ(e30) {
  if (e30 === ZW.CancellationToken.None) return;
  let t10 = Date.now();
  if (t10 - ZH >= ZY && (ZH = t10, await ZV()), e30.isCancellationRequested) throw ZK;
}
iM(ZZ, "isOperationCancelled"), iM(ZQ, "interruptAndCheck");
var ZJ = (_Cb = class {
  constructor() {
    this.promise = new Promise((e30, t10) => {
      this.resolve = (t11) => (e30(t11), this), this.reject = (e31) => (t10(e31), this);
    });
  }
}, _i139 = new WeakMap(), __privateAdd(_Cb, _i139, iM(_Cb, "Deferred")), _Cb), Z0 = (_Db = class {
  constructor(e30, t10, r10, n10) {
    this._uri = e30, this._languageId = t10, this._version = r10, this._content = n10, this._lineOffsets = void 0;
  }
  get uri() {
    return this._uri;
  }
  get languageId() {
    return this._languageId;
  }
  get version() {
    return this._version;
  }
  getText(e30) {
    if (e30) {
      let t10 = this.offsetAt(e30.start), r10 = this.offsetAt(e30.end);
      return this._content.substring(t10, r10);
    }
    return this._content;
  }
  update(t10, r10) {
    for (let r11 of t10) if (_Db.isIncremental(r11)) {
      let e30 = Z3(r11.range), t11 = this.offsetAt(e30.start), n10 = this.offsetAt(e30.end);
      this._content = this._content.substring(0, t11) + r11.text + this._content.substring(n10, this._content.length);
      let i10 = Math.max(e30.start.line, 0), a10 = Math.max(e30.end.line, 0), s10 = this._lineOffsets, o10 = Z2(r11.text, false, t11);
      if (a10 - i10 === o10.length) for (let e31 = 0, t12 = o10.length; e31 < t12; e31++) s10[e31 + i10 + 1] = o10[e31];
      else o10.length < 1e4 ? s10.splice(i10 + 1, a10 - i10, ...o10) : this._lineOffsets = s10 = s10.slice(0, i10 + 1).concat(o10, s10.slice(a10 + 1));
      let l10 = r11.text.length - (n10 - t11);
      if (0 !== l10) for (let e31 = i10 + 1 + o10.length, t12 = s10.length; e31 < t12; e31++) s10[e31] = s10[e31] + l10;
    } else if (_Db.isFull(r11)) this._content = r11.text, this._lineOffsets = void 0;
    else throw Error("Unknown change event received");
    this._version = r10;
  }
  getLineOffsets() {
    return void 0 === this._lineOffsets && (this._lineOffsets = Z2(this._content, true)), this._lineOffsets;
  }
  positionAt(e30) {
    e30 = Math.max(Math.min(e30, this._content.length), 0);
    let t10 = this.getLineOffsets(), r10 = 0, n10 = t10.length;
    if (0 === n10) return { line: 0, character: e30 };
    for (; r10 < n10; ) {
      let i11 = Math.floor((r10 + n10) / 2);
      t10[i11] > e30 ? n10 = i11 : r10 = i11 + 1;
    }
    let i10 = r10 - 1;
    return e30 = this.ensureBeforeEOL(e30, t10[i10]), { line: i10, character: e30 - t10[i10] };
  }
  offsetAt(e30) {
    let t10 = this.getLineOffsets();
    if (e30.line >= t10.length) return this._content.length;
    if (e30.line < 0) return 0;
    let r10 = t10[e30.line];
    if (e30.character <= 0) return r10;
    let n10 = e30.line + 1 < t10.length ? t10[e30.line + 1] : this._content.length, i10 = Math.min(r10 + e30.character, n10);
    return this.ensureBeforeEOL(i10, r10);
  }
  ensureBeforeEOL(e30, t10) {
    for (; e30 > t10 && Z4(this._content.charCodeAt(e30 - 1)); ) e30--;
    return e30;
  }
  get lineCount() {
    return this.getLineOffsets().length;
  }
  static isIncremental(e30) {
    return null != e30 && "string" == typeof e30.text && void 0 !== e30.range && (void 0 === e30.rangeLength || "number" == typeof e30.rangeLength);
  }
  static isFull(e30) {
    return null != e30 && "string" == typeof e30.text && void 0 === e30.range && void 0 === e30.rangeLength;
  }
}, _i140 = new WeakMap(), __privateAdd(_Db, _i140, iM(_Db, "FullTextDocument")), _Db);
function Z1(e30, t10) {
  if (e30.length <= 1) return e30;
  let r10 = e30.length / 2 | 0, n10 = e30.slice(0, r10), i10 = e30.slice(r10);
  Z1(n10, t10), Z1(i10, t10);
  let a10 = 0, s10 = 0, o10 = 0;
  for (; a10 < n10.length && s10 < i10.length; ) 0 >= t10(n10[a10], i10[s10]) ? e30[o10++] = n10[a10++] : e30[o10++] = i10[s10++];
  for (; a10 < n10.length; ) e30[o10++] = n10[a10++];
  for (; s10 < i10.length; ) e30[o10++] = i10[s10++];
  return e30;
}
function Z2(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n10 = t10 ? [r10] : [];
  for (let t11 = 0; t11 < e30.length; t11++) {
    let i10 = e30.charCodeAt(t11);
    Z4(i10) && (13 === i10 && t11 + 1 < e30.length && 10 === e30.charCodeAt(t11 + 1) && t11++, n10.push(r10 + t11 + 1));
  }
  return n10;
}
function Z4(e30) {
  return 13 === e30 || 10 === e30;
}
function Z3(e30) {
  let t10 = e30.start, r10 = e30.end;
  return t10.line > r10.line || t10.line === r10.line && t10.character > r10.character ? { start: r10, end: t10 } : e30;
}
function Z5(e30) {
  let t10 = Z3(e30.range);
  return t10 !== e30.range ? { newText: e30.newText, range: t10 } : e30;
}
!function(e30) {
  function t10(e31, t11, r11, n11) {
    return new Z0(e31, t11, r11, n11);
  }
  function r10(e31, t11, r11) {
    if (e31 instanceof Z0) return e31.update(t11, r11), e31;
    throw Error("TextDocument.update: document must be created by TextDocument.create");
  }
  function n10(e31, t11) {
    let r11 = e31.getText(), n11 = Z1(t11.map(Z5), (e32, t12) => {
      let r12 = e32.range.start.line - t12.range.start.line;
      return 0 === r12 ? e32.range.start.character - t12.range.start.character : r12;
    }), i10 = 0, a10 = [];
    for (let t12 of n11) {
      let n12 = e31.offsetAt(t12.range.start);
      if (n12 < i10) throw Error("Overlapping edit");
      n12 > i10 && a10.push(r11.substring(i10, n12)), t12.newText.length && a10.push(t12.newText), i10 = e31.offsetAt(t12.range.end);
    }
    return a10.push(r11.substr(i10)), a10.join("");
  }
  iM(t10, "create"), e30.create = t10, iM(r10, "update"), e30.update = r10, iM(n10, "applyEdits"), e30.applyEdits = n10;
}(n$ || (n$ = {})), iM(Z1, "mergeSort"), iM(Z2, "computeLineOffsets"), iM(Z4, "isEOL"), iM(Z3, "getWellformedRange"), iM(Z5, "getWellformedEdit"), (() => {
  var e30 = { 470: (e31) => {
    function t11(e32) {
      if ("string" != typeof e32) throw TypeError("Path must be a string. Received " + JSON.stringify(e32));
    }
    function r11(e32, t12) {
      for (var r12, n12 = "", i10 = 0, a10 = -1, s10 = 0, o10 = 0; o10 <= e32.length; ++o10) {
        if (o10 < e32.length) r12 = e32.charCodeAt(o10);
        else {
          if (47 === r12) break;
          r12 = 47;
        }
        if (47 === r12) {
          if (a10 === o10 - 1 || 1 === s10) ;
          else if (a10 !== o10 - 1 && 2 === s10) {
            if (n12.length < 2 || 2 !== i10 || 46 !== n12.charCodeAt(n12.length - 1) || 46 !== n12.charCodeAt(n12.length - 2)) {
              if (n12.length > 2) {
                var l10 = n12.lastIndexOf("/");
                if (l10 !== n12.length - 1) {
                  -1 === l10 ? (n12 = "", i10 = 0) : i10 = (n12 = n12.slice(0, l10)).length - 1 - n12.lastIndexOf("/"), a10 = o10, s10 = 0;
                  continue;
                }
              } else if (2 === n12.length || 1 === n12.length) {
                n12 = "", i10 = 0, a10 = o10, s10 = 0;
                continue;
              }
            }
            t12 && (n12.length > 0 ? n12 += "/.." : n12 = "..", i10 = 2);
          } else n12.length > 0 ? n12 += "/" + e32.slice(a10 + 1, o10) : n12 = e32.slice(a10 + 1, o10), i10 = o10 - a10 - 1;
          a10 = o10, s10 = 0;
        } else 46 === r12 && -1 !== s10 ? ++s10 : s10 = -1;
      }
      return n12;
    }
    iM(t11, "e"), iM(r11, "r");
    var n11 = { resolve: iM(function() {
      for (var e32, n12, i10 = "", a10 = false, s10 = arguments.length - 1; s10 >= -1 && !a10; s10--) s10 >= 0 ? e32 = arguments[s10] : (void 0 === n12 && (n12 = process.cwd()), e32 = n12), t11(e32), 0 !== e32.length && (i10 = e32 + "/" + i10, a10 = 47 === e32.charCodeAt(0));
      return i10 = r11(i10, !a10), a10 ? i10.length > 0 ? "/" + i10 : "/" : i10.length > 0 ? i10 : ".";
    }, "resolve"), normalize: iM(function(e32) {
      if (t11(e32), 0 === e32.length) return ".";
      var n12 = 47 === e32.charCodeAt(0), i10 = 47 === e32.charCodeAt(e32.length - 1);
      return 0 !== (e32 = r11(e32, !n12)).length || n12 || (e32 = "."), e32.length > 0 && i10 && (e32 += "/"), n12 ? "/" + e32 : e32;
    }, "normalize"), isAbsolute: iM(function(e32) {
      return t11(e32), e32.length > 0 && 47 === e32.charCodeAt(0);
    }, "isAbsolute"), join: iM(function() {
      if (0 == arguments.length) return ".";
      for (var e32, r12 = 0; r12 < arguments.length; ++r12) {
        var i10 = arguments[r12];
        t11(i10), i10.length > 0 && (void 0 === e32 ? e32 = i10 : e32 += "/" + i10);
      }
      return void 0 === e32 ? "." : n11.normalize(e32);
    }, "join"), relative: iM(function(e32, r12) {
      if (t11(e32), t11(r12), e32 === r12 || (e32 = n11.resolve(e32)) === (r12 = n11.resolve(r12))) return "";
      for (var i10 = 1; i10 < e32.length && 47 === e32.charCodeAt(i10); ++i10) ;
      for (var a10 = e32.length, s10 = a10 - i10, o10 = 1; o10 < r12.length && 47 === r12.charCodeAt(o10); ++o10) ;
      for (var l10 = r12.length - o10, h10 = s10 < l10 ? s10 : l10, u10 = -1, d10 = 0; d10 <= h10; ++d10) {
        if (d10 === h10) {
          if (l10 > h10) {
            if (47 === r12.charCodeAt(o10 + d10)) return r12.slice(o10 + d10 + 1);
            if (0 === d10) return r12.slice(o10 + d10);
          } else s10 > h10 && (47 === e32.charCodeAt(i10 + d10) ? u10 = d10 : 0 === d10 && (u10 = 0));
          break;
        }
        var p10 = e32.charCodeAt(i10 + d10);
        if (p10 !== r12.charCodeAt(o10 + d10)) break;
        47 === p10 && (u10 = d10);
      }
      var f10 = "";
      for (d10 = i10 + u10 + 1; d10 <= a10; ++d10) d10 !== a10 && 47 !== e32.charCodeAt(d10) || (0 === f10.length ? f10 += ".." : f10 += "/..");
      return f10.length > 0 ? f10 + r12.slice(o10 + u10) : (o10 += u10, 47 === r12.charCodeAt(o10) && ++o10, r12.slice(o10));
    }, "relative"), _makeLong: iM(function(e32) {
      return e32;
    }, "_makeLong"), dirname: iM(function(e32) {
      if (t11(e32), 0 === e32.length) return ".";
      for (var r12 = e32.charCodeAt(0), n12 = 47 === r12, i10 = -1, a10 = true, s10 = e32.length - 1; s10 >= 1; --s10) if (47 === (r12 = e32.charCodeAt(s10))) {
        if (!a10) {
          i10 = s10;
          break;
        }
      } else a10 = false;
      return -1 === i10 ? n12 ? "/" : "." : n12 && 1 === i10 ? "//" : e32.slice(0, i10);
    }, "dirname"), basename: iM(function(e32, r12) {
      if (void 0 !== r12 && "string" != typeof r12) throw TypeError('"ext" argument must be a string');
      t11(e32);
      var n12, i10 = 0, a10 = -1, s10 = true;
      if (void 0 !== r12 && r12.length > 0 && r12.length <= e32.length) {
        if (r12.length === e32.length && r12 === e32) return "";
        var o10 = r12.length - 1, l10 = -1;
        for (n12 = e32.length - 1; n12 >= 0; --n12) {
          var h10 = e32.charCodeAt(n12);
          if (47 === h10) {
            if (!s10) {
              i10 = n12 + 1;
              break;
            }
          } else -1 === l10 && (s10 = false, l10 = n12 + 1), o10 >= 0 && (h10 === r12.charCodeAt(o10) ? -1 == --o10 && (a10 = n12) : (o10 = -1, a10 = l10));
        }
        return i10 === a10 ? a10 = l10 : -1 === a10 && (a10 = e32.length), e32.slice(i10, a10);
      }
      for (n12 = e32.length - 1; n12 >= 0; --n12) if (47 === e32.charCodeAt(n12)) {
        if (!s10) {
          i10 = n12 + 1;
          break;
        }
      } else -1 === a10 && (s10 = false, a10 = n12 + 1);
      return -1 === a10 ? "" : e32.slice(i10, a10);
    }, "basename"), extname: iM(function(e32) {
      t11(e32);
      for (var r12 = -1, n12 = 0, i10 = -1, a10 = true, s10 = 0, o10 = e32.length - 1; o10 >= 0; --o10) {
        var l10 = e32.charCodeAt(o10);
        if (47 !== l10) -1 === i10 && (a10 = false, i10 = o10 + 1), 46 === l10 ? -1 === r12 ? r12 = o10 : 1 !== s10 && (s10 = 1) : -1 !== r12 && (s10 = -1);
        else if (!a10) {
          n12 = o10 + 1;
          break;
        }
      }
      return -1 === r12 || -1 === i10 || 0 === s10 || 1 === s10 && r12 === i10 - 1 && r12 === n12 + 1 ? "" : e32.slice(r12, i10);
    }, "extname"), format: iM(function(e32) {
      var t12, r12;
      if (null === e32 || "object" != typeof e32) throw TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof e32);
      return t12 = e32.dir || e32.root, r12 = e32.base || (e32.name || "") + (e32.ext || ""), t12 ? t12 === e32.root ? t12 + r12 : t12 + "/" + r12 : r12;
    }, "format"), parse: iM(function(e32) {
      t11(e32);
      var r12 = { root: "", dir: "", base: "", ext: "", name: "" };
      if (0 === e32.length) return r12;
      var n12, i10 = e32.charCodeAt(0), a10 = 47 === i10;
      a10 ? (r12.root = "/", n12 = 1) : n12 = 0;
      for (var s10 = -1, o10 = 0, l10 = -1, h10 = true, u10 = e32.length - 1, d10 = 0; u10 >= n12; --u10) if (47 !== (i10 = e32.charCodeAt(u10))) -1 === l10 && (h10 = false, l10 = u10 + 1), 46 === i10 ? -1 === s10 ? s10 = u10 : 1 !== d10 && (d10 = 1) : -1 !== s10 && (d10 = -1);
      else if (!h10) {
        o10 = u10 + 1;
        break;
      }
      return -1 === s10 || -1 === l10 || 0 === d10 || 1 === d10 && s10 === l10 - 1 && s10 === o10 + 1 ? -1 !== l10 && (r12.base = r12.name = 0 === o10 && a10 ? e32.slice(1, l10) : e32.slice(o10, l10)) : (0 === o10 && a10 ? (r12.name = e32.slice(1, s10), r12.base = e32.slice(1, l10)) : (r12.name = e32.slice(o10, s10), r12.base = e32.slice(o10, l10)), r12.ext = e32.slice(s10, l10)), o10 > 0 ? r12.dir = e32.slice(0, o10 - 1) : a10 && (r12.dir = "/"), r12;
    }, "parse"), sep: "/", delimiter: ":", win32: null, posix: null };
    n11.posix = n11, e31.exports = n11;
  } }, t10 = {};
  function r10(n11) {
    var i10 = t10[n11];
    if (void 0 !== i10) return i10.exports;
    var a10 = t10[n11] = { exports: {} };
    return e30[n11](a10, a10.exports, r10), a10.exports;
  }
  iM(r10, "r"), r10.d = (e31, t11) => {
    for (var n11 in t11) r10.o(t11, n11) && !r10.o(e31, n11) && Object.defineProperty(e31, n11, { enumerable: true, get: t11[n11] });
  }, r10.o = (e31, t11) => Object.prototype.hasOwnProperty.call(e31, t11), r10.r = (e31) => {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e31, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e31, "__esModule", { value: true });
  };
  var n10 = {};
  (() => {
    var _i209, _i210;
    let e31;
    (r10.r(n10), r10.d(n10, { URI: iM(() => l10, "URI"), Utils: iM(() => w10, "Utils") }), "object" == typeof process) ? e31 = "win32" === process.platform : "object" == typeof navigator && (e31 = navigator.userAgent.indexOf("Windows") >= 0);
    let t11 = /^\w[\w\d+.-]*$/, i10 = /^\//, a10 = /^\/\//;
    function s10(e32, r11) {
      if (!e32.scheme && r11) throw Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e32.authority}", path: "${e32.path}", query: "${e32.query}", fragment: "${e32.fragment}"}`);
      if (e32.scheme && !t11.test(e32.scheme)) throw Error("[UriError]: Scheme contains illegal characters.");
      if (e32.path) {
        if (e32.authority) {
          if (!i10.test(e32.path)) throw Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');
        } else if (a10.test(e32.path)) throw Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")');
      }
    }
    iM(s10, "s");
    let o10 = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;
    const _l16 = class _l16 {
      constructor(e32, t12, r11, n11, i11, a11 = false) {
        __publicField(this, "scheme");
        __publicField(this, "authority");
        __publicField(this, "path");
        __publicField(this, "query");
        __publicField(this, "fragment");
        "object" == typeof e32 ? (this.scheme = e32.scheme || "", this.authority = e32.authority || "", this.path = e32.path || "", this.query = e32.query || "", this.fragment = e32.fragment || "") : (this.scheme = e32 || a11 ? e32 : "file", this.authority = t12 || "", this.path = function(e33, t13) {
          switch (e33) {
            case "https":
            case "http":
            case "file":
              t13 ? "/" !== t13[0] && (t13 = "/" + t13) : t13 = "/";
          }
          return t13;
        }(this.scheme, r11 || ""), this.query = n11 || "", this.fragment = i11 || "", s10(this, a11));
      }
      static isUri(e32) {
        return e32 instanceof _l16 || !!e32 && "string" == typeof e32.authority && "string" == typeof e32.fragment && "string" == typeof e32.path && "string" == typeof e32.query && "string" == typeof e32.scheme && "string" == typeof e32.fsPath && "function" == typeof e32.with && "function" == typeof e32.toString;
      }
      get fsPath() {
        return g10(this, false);
      }
      with(e32) {
        if (!e32) return this;
        let { scheme: t12, authority: r11, path: n11, query: i11, fragment: a11 } = e32;
        return void 0 === t12 ? t12 = this.scheme : null === t12 && (t12 = ""), void 0 === r11 ? r11 = this.authority : null === r11 && (r11 = ""), void 0 === n11 ? n11 = this.path : null === n11 && (n11 = ""), void 0 === i11 ? i11 = this.query : null === i11 && (i11 = ""), void 0 === a11 ? a11 = this.fragment : null === a11 && (a11 = ""), t12 === this.scheme && r11 === this.authority && n11 === this.path && i11 === this.query && a11 === this.fragment ? this : new u10(t12, r11, n11, i11, a11);
      }
      static parse(e32) {
        let t12 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r11 = o10.exec(e32);
        return r11 ? new u10(r11[2] || "", b10(r11[4] || ""), b10(r11[5] || ""), b10(r11[7] || ""), b10(r11[9] || ""), t12) : new u10("", "", "", "", "");
      }
      static file(t12) {
        let r11 = "";
        if (e31 && (t12 = t12.replace(/\\/g, "/")), "/" === t12[0] && "/" === t12[1]) {
          let e32 = t12.indexOf("/", 2);
          -1 === e32 ? (r11 = t12.substring(2), t12 = "/") : (r11 = t12.substring(2, e32), t12 = t12.substring(e32) || "/");
        }
        return new u10("file", r11, t12, "", "");
      }
      static from(e32) {
        let t12 = new u10(e32.scheme, e32.authority, e32.path, e32.query, e32.fragment);
        return s10(t12, true), t12;
      }
      toString() {
        let e32 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return y10(this, e32);
      }
      toJSON() {
        return this;
      }
      static revive(e32) {
        if (e32) {
          if (e32 instanceof _l16) return e32;
          {
            let t12 = new u10(e32);
            return t12._formatted = e32.external, t12._fsPath = e32._sep === h10 ? e32.fsPath : null, t12;
          }
        }
        return e32;
      }
    };
    _i209 = new WeakMap();
    __privateAdd(_l16, _i209, iM(_l16, "f"));
    let l10 = _l16;
    let h10 = e31 ? 1 : void 0;
    const _u3 = class _u3 extends l10 {
      constructor() {
        super(...arguments);
        __publicField(this, "_formatted", null);
        __publicField(this, "_fsPath", null);
      }
      get fsPath() {
        return this._fsPath || (this._fsPath = g10(this, false)), this._fsPath;
      }
      toString() {
        let e32 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return e32 ? y10(this, true) : (this._formatted || (this._formatted = y10(this, false)), this._formatted);
      }
      toJSON() {
        let e32 = { $mid: 1 };
        return this._fsPath && (e32.fsPath = this._fsPath, e32._sep = h10), this._formatted && (e32.external = this._formatted), this.path && (e32.path = this.path), this.scheme && (e32.scheme = this.scheme), this.authority && (e32.authority = this.authority), this.query && (e32.query = this.query), this.fragment && (e32.fragment = this.fragment), e32;
      }
    };
    _i210 = new WeakMap();
    __privateAdd(_u3, _i210, iM(_u3, "l"));
    let u10 = _u3;
    let d10 = { 58: "%3A", 47: "%2F", 63: "%3F", 35: "%23", 91: "%5B", 93: "%5D", 64: "%40", 33: "%21", 36: "%24", 38: "%26", 39: "%27", 40: "%28", 41: "%29", 42: "%2A", 43: "%2B", 44: "%2C", 59: "%3B", 61: "%3D", 32: "%20" };
    function p10(e32, t12, r11) {
      let n11, i11 = -1;
      for (let a11 = 0; a11 < e32.length; a11++) {
        let s11 = e32.charCodeAt(a11);
        if (s11 >= 97 && s11 <= 122 || s11 >= 65 && s11 <= 90 || s11 >= 48 && s11 <= 57 || 45 === s11 || 46 === s11 || 95 === s11 || 126 === s11 || t12 && 47 === s11 || r11 && 91 === s11 || r11 && 93 === s11 || r11 && 58 === s11) -1 !== i11 && (n11 += encodeURIComponent(e32.substring(i11, a11)), i11 = -1), void 0 !== n11 && (n11 += e32.charAt(a11));
        else {
          void 0 === n11 && (n11 = e32.substr(0, a11));
          let t13 = d10[s11];
          void 0 !== t13 ? (-1 !== i11 && (n11 += encodeURIComponent(e32.substring(i11, a11)), i11 = -1), n11 += t13) : -1 === i11 && (i11 = a11);
        }
      }
      return -1 !== i11 && (n11 += encodeURIComponent(e32.substring(i11))), void 0 !== n11 ? n11 : e32;
    }
    function f10(e32) {
      let t12;
      for (let r11 = 0; r11 < e32.length; r11++) {
        let n11 = e32.charCodeAt(r11);
        35 === n11 || 63 === n11 ? (void 0 === t12 && (t12 = e32.substr(0, r11)), t12 += d10[n11]) : void 0 !== t12 && (t12 += e32[r11]);
      }
      return void 0 !== t12 ? t12 : e32;
    }
    function g10(t12, r11) {
      let n11;
      return n11 = t12.authority && t12.path.length > 1 && "file" === t12.scheme ? `//${t12.authority}${t12.path}` : 47 === t12.path.charCodeAt(0) && (t12.path.charCodeAt(1) >= 65 && 90 >= t12.path.charCodeAt(1) || t12.path.charCodeAt(1) >= 97 && 122 >= t12.path.charCodeAt(1)) && 58 === t12.path.charCodeAt(2) ? r11 ? t12.path.substr(1) : t12.path[1].toLowerCase() + t12.path.substr(2) : t12.path, e31 && (n11 = n11.replace(/\//g, "\\")), n11;
    }
    function y10(e32, t12) {
      let r11 = t12 ? f10 : p10, n11 = "", { scheme: i11, authority: a11, path: s11, query: o11, fragment: l11 } = e32;
      if (i11 && (n11 += i11, n11 += ":"), (a11 || "file" === i11) && (n11 += "/", n11 += "/"), a11) {
        let e33 = a11.indexOf("@");
        if (-1 !== e33) {
          let t13 = a11.substr(0, e33);
          a11 = a11.substr(e33 + 1), -1 === (e33 = t13.lastIndexOf(":")) ? n11 += r11(t13, false, false) : (n11 += r11(t13.substr(0, e33), false, false), n11 += ":", n11 += r11(t13.substr(e33 + 1), false, true)), n11 += "@";
        }
        -1 === (e33 = (a11 = a11.toLowerCase()).lastIndexOf(":")) ? n11 += r11(a11, false, true) : (n11 += r11(a11.substr(0, e33), false, true), n11 += a11.substr(e33));
      }
      if (s11) {
        if (s11.length >= 3 && 47 === s11.charCodeAt(0) && 58 === s11.charCodeAt(2)) {
          let e33 = s11.charCodeAt(1);
          e33 >= 65 && e33 <= 90 && (s11 = `/${String.fromCharCode(e33 + 32)}:${s11.substr(3)}`);
        } else if (s11.length >= 2 && 58 === s11.charCodeAt(1)) {
          let e33 = s11.charCodeAt(0);
          e33 >= 65 && e33 <= 90 && (s11 = `${String.fromCharCode(e33 + 32)}:${s11.substr(2)}`);
        }
        n11 += r11(s11, true, false);
      }
      return o11 && (n11 += "?", n11 += r11(o11, false, false)), l11 && (n11 += "#", n11 += t12 ? l11 : p10(l11, false, false)), n11;
    }
    function v10(e32) {
      try {
        return decodeURIComponent(e32);
      } catch {
        return e32.length > 3 ? e32.substr(0, 3) + v10(e32.substr(3)) : e32;
      }
    }
    iM(p10, "d"), iM(f10, "p"), iM(g10, "m"), iM(y10, "y"), iM(v10, "v");
    let x10 = /(%[0-9A-Za-z][0-9A-Za-z])+/g;
    function b10(e32) {
      return e32.match(x10) ? e32.replace(x10, (e33) => v10(e33)) : e32;
    }
    iM(b10, "C");
    var k10, w10, _10 = r10(470);
    let T10 = _10.posix || _10;
    (k10 = w10 || (w10 = {})).joinPath = function(e32) {
      for (var t12 = arguments.length, r11 = Array(t12 > 1 ? t12 - 1 : 0), n11 = 1; n11 < t12; n11++) r11[n11 - 1] = arguments[n11];
      return e32.with({ path: T10.join(e32.path, ...r11) });
    }, k10.resolvePath = function(e32) {
      for (var t12 = arguments.length, r11 = Array(t12 > 1 ? t12 - 1 : 0), n11 = 1; n11 < t12; n11++) r11[n11 - 1] = arguments[n11];
      let i11 = e32.path, a11 = false;
      "/" !== i11[0] && (i11 = "/" + i11, a11 = true);
      let s11 = T10.resolve(i11, ...r11);
      return a11 && "/" === s11[0] && !e32.authority && (s11 = s11.substring(1)), e32.with({ path: s11 });
    }, k10.dirname = function(e32) {
      if (0 === e32.path.length || "/" === e32.path) return e32;
      let t12 = T10.dirname(e32.path);
      return 1 === t12.length && 46 === t12.charCodeAt(0) && (t12 = ""), e32.with({ path: t12 });
    }, k10.basename = function(e32) {
      return T10.basename(e32.path);
    }, k10.extname = function(e32) {
      return T10.extname(e32.path);
    };
  })(), nP = n10;
})();
var { URI: Z6, Utils: Z7 } = nP;
!function(e30) {
  function t10(e31, t11) {
    return (null == e31 ? void 0 : e31.toString()) === (null == t11 ? void 0 : t11.toString());
  }
  function r10(e31, t11) {
    let r11 = "string" == typeof e31 ? e31 : e31.path, n10 = "string" == typeof t11 ? t11 : t11.path, i10 = r11.split("/").filter((e32) => e32.length > 0), a10 = n10.split("/").filter((e32) => e32.length > 0), s10 = 0;
    for (; s10 < i10.length && i10[s10] === a10[s10]; s10++) ;
    return "../".repeat(i10.length - s10) + a10.slice(s10).join("/");
  }
  e30.basename = Z7.basename, e30.dirname = Z7.dirname, e30.extname = Z7.extname, e30.joinPath = Z7.joinPath, e30.resolvePath = Z7.resolvePath, iM(t10, "equals"), e30.equals = t10, iM(r10, "relative"), e30.relative = r10;
}(nB || (nB = {})), (tH = nF || (nF = {}))[tH.Changed = 0] = "Changed", tH[tH.Parsed = 1] = "Parsed", tH[tH.IndexedContent = 2] = "IndexedContent", tH[tH.ComputedScopes = 3] = "ComputedScopes", tH[tH.Linked = 4] = "Linked", tH[tH.IndexedReferences = 5] = "IndexedReferences", tH[tH.Validated = 6] = "Validated";
var Z8 = (_Eb = class {
  constructor(e30) {
    this.serviceRegistry = e30.ServiceRegistry, this.textDocuments = e30.workspace.TextDocuments, this.fileSystemProvider = e30.workspace.FileSystemProvider;
  }
  async fromUri(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None, r10 = await this.fileSystemProvider.readFile(e30);
    return this.createAsync(e30, r10, t10);
  }
  fromTextDocument(e30, t10, r10) {
    return (t10 = null != t10 ? t10 : Z6.parse(e30.uri), r10) ? this.createAsync(t10, e30, r10) : this.create(t10, e30);
  }
  fromString(e30, t10, r10) {
    return r10 ? this.createAsync(t10, e30, r10) : this.create(t10, e30);
  }
  fromModel(e30, t10) {
    return this.create(t10, { $model: e30 });
  }
  create(e30, t10) {
    if ("string" == typeof t10) {
      let r10 = this.parse(e30, t10);
      return this.createLangiumDocument(r10, e30, void 0, t10);
    }
    if ("$model" in t10) {
      let r10 = { value: t10.$model, parserErrors: [], lexerErrors: [] };
      return this.createLangiumDocument(r10, e30);
    }
    {
      let r10 = this.parse(e30, t10.getText());
      return this.createLangiumDocument(r10, e30, t10);
    }
  }
  async createAsync(e30, t10, r10) {
    if ("string" == typeof t10) {
      let n10 = await this.parseAsync(e30, t10, r10);
      return this.createLangiumDocument(n10, e30, void 0, t10);
    }
    {
      let n10 = await this.parseAsync(e30, t10.getText(), r10);
      return this.createLangiumDocument(n10, e30, t10);
    }
  }
  createLangiumDocument(e30, t10, r10, n10) {
    let i10;
    if (r10) i10 = { parseResult: e30, uri: t10, state: nF.Parsed, references: [], textDocument: r10 };
    else {
      let r11 = this.createTextDocumentGetter(t10, n10);
      i10 = { parseResult: e30, uri: t10, state: nF.Parsed, references: [], get textDocument() {
        return r11();
      } };
    }
    return e30.value.$document = i10, i10;
  }
  async update(e30, t10) {
    var r10, n10;
    let i10 = null === (r10 = e30.parseResult.value.$cstNode) || void 0 === r10 ? void 0 : r10.root.fullText, a10 = null === (n10 = this.textDocuments) || void 0 === n10 ? void 0 : n10.get(e30.uri.toString()), s10 = a10 ? a10.getText() : await this.fileSystemProvider.readFile(e30.uri);
    if (a10) Object.defineProperty(e30, "textDocument", { value: a10 });
    else {
      let t11 = this.createTextDocumentGetter(e30.uri, s10);
      Object.defineProperty(e30, "textDocument", { get: t11 });
    }
    return i10 !== s10 && (e30.parseResult = await this.parseAsync(e30.uri, s10, t10), e30.parseResult.value.$document = e30), e30.state = nF.Parsed, e30;
  }
  parse(e30, t10) {
    return this.serviceRegistry.getServices(e30).parser.LangiumParser.parse(t10);
  }
  parseAsync(e30, t10, r10) {
    return this.serviceRegistry.getServices(e30).parser.AsyncParser.parse(t10, r10);
  }
  createTextDocumentGetter(e30, t10) {
    let r10;
    let n10 = this.serviceRegistry;
    return () => null != r10 ? r10 : r10 = n$.create(e30.toString(), n10.getServices(e30).LanguageMetaData.languageId, 0, null != t10 ? t10 : "");
  }
}, _i141 = new WeakMap(), __privateAdd(_Eb, _i141, iM(_Eb, "DefaultLangiumDocumentFactory")), _Eb), Z9 = (_Fb = class {
  constructor(e30) {
    this.documentMap = /* @__PURE__ */ new Map(), this.langiumDocumentFactory = e30.workspace.LangiumDocumentFactory;
  }
  get all() {
    return UM(this.documentMap.values());
  }
  addDocument(e30) {
    let t10 = e30.uri.toString();
    if (this.documentMap.has(t10)) throw Error(`A document with the URI '${t10}' is already present.`);
    this.documentMap.set(t10, e30);
  }
  getDocument(e30) {
    let t10 = e30.toString();
    return this.documentMap.get(t10);
  }
  async getOrCreateDocument(e30, t10) {
    let r10 = this.getDocument(e30);
    return r10 || (r10 = await this.langiumDocumentFactory.fromUri(e30, t10), this.addDocument(r10)), r10;
  }
  createDocument(e30, t10, r10) {
    if (r10) return this.langiumDocumentFactory.fromString(t10, e30, r10).then((e31) => (this.addDocument(e31), e31));
    {
      let r11 = this.langiumDocumentFactory.fromString(t10, e30);
      return this.addDocument(r11), r11;
    }
  }
  hasDocument(e30) {
    return this.documentMap.has(e30.toString());
  }
  invalidateDocument(e30) {
    let t10 = e30.toString(), r10 = this.documentMap.get(t10);
    return r10 && (r10.state = nF.Changed, r10.precomputedScopes = void 0, r10.references = [], r10.diagnostics = void 0), r10;
  }
  deleteDocument(e30) {
    let t10 = e30.toString(), r10 = this.documentMap.get(t10);
    return r10 && (r10.state = nF.Changed, this.documentMap.delete(t10)), r10;
  }
}, _i142 = new WeakMap(), __privateAdd(_Fb, _i142, iM(_Fb, "DefaultLangiumDocuments")), _Fb), Qe = (_Gb = class {
  constructor(e30) {
    this.reflection = e30.shared.AstReflection, this.langiumDocuments = () => e30.shared.workspace.LangiumDocuments, this.scopeProvider = e30.references.ScopeProvider, this.astNodeLocator = e30.workspace.AstNodeLocator;
  }
  async link(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None;
    for (let r10 of VD(e30.parseResult.value)) await ZQ(t10), V$(r10).forEach((t11) => this.doLink(t11, e30));
  }
  doLink(e30, t10) {
    let r10 = e30.reference;
    if (void 0 === r10._ref) try {
      let t11 = this.getCandidate(e30);
      if (Uk(t11)) r10._ref = t11;
      else if (r10._nodeDescription = t11, this.langiumDocuments().hasDocument(t11.documentUri)) {
        let n10 = this.loadAstNode(t11);
        r10._ref = null != n10 ? n10 : this.createLinkingError(e30, t11);
      }
    } catch (t11) {
      r10._ref = Object.assign(Object.assign({}, e30), { message: `An error occurred while resolving reference to '${r10.$refText}': ${t11}` });
    }
    t10.references.push(r10);
  }
  unlink(e30) {
    for (let t10 of e30.references) delete t10._ref, delete t10._nodeDescription;
    e30.references = [];
  }
  getCandidate(e30) {
    let t10 = this.scopeProvider.getScope(e30).getElement(e30.reference.$refText);
    return null != t10 ? t10 : this.createLinkingError(e30);
  }
  buildReference(e30, t10, r10, n10) {
    let i10 = this, a10 = { $refNode: r10, $refText: n10, get ref() {
      var s10;
      if (Uv(this._ref)) return this._ref;
      if (Ub(this._nodeDescription)) {
        let r11 = i10.loadAstNode(this._nodeDescription);
        this._ref = null != r11 ? r11 : i10.createLinkingError({ reference: a10, container: e30, property: t10 }, this._nodeDescription);
      } else if (void 0 === this._ref) {
        let r11 = i10.getLinkedNode({ reference: a10, container: e30, property: t10 });
        if (r11.error && VI(e30).state < nF.ComputedScopes) return;
        this._ref = null !== (s10 = r11.node) && void 0 !== s10 ? s10 : r11.error, this._nodeDescription = r11.descr;
      }
      return Uv(this._ref) ? this._ref : void 0;
    }, get $nodeDescription() {
      return this._nodeDescription;
    }, get error() {
      return Uk(this._ref) ? this._ref : void 0;
    } };
    return a10;
  }
  getLinkedNode(e30) {
    try {
      let t10 = this.getCandidate(e30);
      if (Uk(t10)) return { error: t10 };
      let r10 = this.loadAstNode(t10);
      if (r10) return { node: r10, descr: t10 };
      return { descr: t10, error: this.createLinkingError(e30, t10) };
    } catch (t10) {
      return { error: Object.assign(Object.assign({}, e30), { message: `An error occurred while resolving reference to '${e30.reference.$refText}': ${t10}` }) };
    }
  }
  loadAstNode(e30) {
    if (e30.node) return e30.node;
    let t10 = this.langiumDocuments().getDocument(e30.documentUri);
    if (t10) return this.astNodeLocator.getAstNode(t10.parseResult.value, e30.path);
  }
  createLinkingError(e30, t10) {
    let r10 = VI(e30.container);
    r10.state < nF.ComputedScopes && console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r10.uri}).`);
    let n10 = this.reflection.getReferenceType(e30);
    return Object.assign(Object.assign({}, e30), { message: `Could not resolve reference to ${n10} named '${e30.reference.$refText}'.`, targetDescription: t10 });
  }
}, _i143 = new WeakMap(), __privateAdd(_Gb, _i143, iM(_Gb, "DefaultLinker")), _Gb);
function Qt(e30) {
  return "string" == typeof e30.name;
}
iM(Qt, "isNamed");
var Qr = (_Hb = class {
  getName(e30) {
    if (Qt(e30)) return e30.name;
  }
  getNameNode(e30) {
    return Hc(e30.$cstNode, "name");
  }
}, _i144 = new WeakMap(), __privateAdd(_Hb, _i144, iM(_Hb, "DefaultNameProvider")), _Hb), Qn = (_Ib = class {
  constructor(e30) {
    this.nameProvider = e30.references.NameProvider, this.index = e30.shared.workspace.IndexManager, this.nodeLocator = e30.workspace.AstNodeLocator;
  }
  findDeclaration(e30) {
    if (e30) {
      let t10 = Hf(e30), r10 = e30.astNode;
      if (t10 && r10) {
        let n10 = r10[t10.feature];
        if (Ux(n10)) return n10.ref;
        if (Array.isArray(n10)) {
          for (let t11 of n10) if (Ux(t11) && t11.$refNode && t11.$refNode.offset <= e30.offset && t11.$refNode.end >= e30.end) return t11.ref;
        }
      }
      if (r10) {
        let t11 = this.nameProvider.getNameNode(r10);
        if (t11 && (t11 === e30 || UO(e30, t11))) return r10;
      }
    }
  }
  findDeclarationNode(e30) {
    let t10 = this.findDeclaration(e30);
    if (null == t10 ? void 0 : t10.$cstNode) {
      let e31 = this.nameProvider.getNameNode(t10);
      return null != e31 ? e31 : t10.$cstNode;
    }
  }
  findReferences(e30, t10) {
    let r10 = [];
    if (t10.includeDeclaration) {
      let t11 = this.getReferenceToSelf(e30);
      t11 && r10.push(t11);
    }
    let n10 = this.index.findAllReferences(e30, this.nodeLocator.getAstNodePath(e30));
    return t10.documentUri && (n10 = n10.filter((e31) => nB.equals(e31.sourceUri, t10.documentUri))), r10.push(...n10), UM(r10);
  }
  getReferenceToSelf(e30) {
    let t10 = this.nameProvider.getNameNode(e30);
    if (t10) {
      let r10 = VI(e30), n10 = this.nodeLocator.getAstNodePath(e30);
      return { sourceUri: r10.uri, sourcePath: n10, targetUri: r10.uri, targetPath: n10, segment: UP(t10), local: true };
    }
  }
}, _i145 = new WeakMap(), __privateAdd(_Ib, _i145, iM(_Ib, "DefaultReferences")), _Ib), Qi = (_Jb = class {
  constructor(e30) {
    if (this.map = /* @__PURE__ */ new Map(), e30) for (let [t10, r10] of e30) this.add(t10, r10);
  }
  get size() {
    return rp.sum(UM(this.map.values()).map((e30) => e30.length));
  }
  clear() {
    this.map.clear();
  }
  delete(e30, t10) {
    if (void 0 === t10) return this.map.delete(e30);
    {
      let r10 = this.map.get(e30);
      if (r10) {
        let n10 = r10.indexOf(t10);
        if (n10 >= 0) return 1 === r10.length ? this.map.delete(e30) : r10.splice(n10, 1), true;
      }
      return false;
    }
  }
  get(e30) {
    var t10;
    return null !== (t10 = this.map.get(e30)) && void 0 !== t10 ? t10 : [];
  }
  has(e30, t10) {
    if (void 0 === t10) return this.map.has(e30);
    {
      let r10 = this.map.get(e30);
      return !!r10 && r10.indexOf(t10) >= 0;
    }
  }
  add(e30, t10) {
    return this.map.has(e30) ? this.map.get(e30).push(t10) : this.map.set(e30, [t10]), this;
  }
  addAll(e30, t10) {
    return this.map.has(e30) ? this.map.get(e30).push(...t10) : this.map.set(e30, Array.from(t10)), this;
  }
  forEach(e30) {
    this.map.forEach((t10, r10) => t10.forEach((t11) => e30(t11, r10, this)));
  }
  [Symbol.iterator]() {
    return this.entries().iterator();
  }
  entries() {
    return UM(this.map.entries()).flatMap((e30) => {
      let [t10, r10] = e30;
      return r10.map((e31) => [t10, e31]);
    });
  }
  keys() {
    return UM(this.map.keys());
  }
  values() {
    return UM(this.map.values()).flat();
  }
  entriesGroupedByKey() {
    return UM(this.map.entries());
  }
}, _i146 = new WeakMap(), __privateAdd(_Jb, _i146, iM(_Jb, "MultiMap")), _Jb), Qa = (_Kb = class {
  get size() {
    return this.map.size;
  }
  constructor(e30) {
    if (this.map = /* @__PURE__ */ new Map(), this.inverse = /* @__PURE__ */ new Map(), e30) for (let [t10, r10] of e30) this.set(t10, r10);
  }
  clear() {
    this.map.clear(), this.inverse.clear();
  }
  set(e30, t10) {
    return this.map.set(e30, t10), this.inverse.set(t10, e30), this;
  }
  get(e30) {
    return this.map.get(e30);
  }
  getKey(e30) {
    return this.inverse.get(e30);
  }
  delete(e30) {
    let t10 = this.map.get(e30);
    return void 0 !== t10 && (this.map.delete(e30), this.inverse.delete(t10), true);
  }
}, _i147 = new WeakMap(), __privateAdd(_Kb, _i147, iM(_Kb, "BiMap")), _Kb), Qs = (_Lb = class {
  constructor(e30) {
    this.nameProvider = e30.references.NameProvider, this.descriptions = e30.workspace.AstNodeDescriptionProvider;
  }
  async computeExports(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None;
    return this.computeExportsForNode(e30.parseResult.value, e30, void 0, t10);
  }
  async computeExportsForNode(e30, t10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : VN, n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : ZW.CancellationToken.None, i10 = [];
    for (let a10 of (this.exportNode(e30, i10, t10), r10(e30))) await ZQ(n10), this.exportNode(a10, i10, t10);
    return i10;
  }
  exportNode(e30, t10, r10) {
    let n10 = this.nameProvider.getName(e30);
    n10 && t10.push(this.descriptions.createDescription(e30, n10, r10));
  }
  async computeLocalScopes(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None, r10 = e30.parseResult.value, n10 = new Qi();
    for (let i10 of VR(r10)) await ZQ(t10), this.processNode(i10, e30, n10);
    return n10;
  }
  processNode(e30, t10, r10) {
    let n10 = e30.$container;
    if (n10) {
      let i10 = this.nameProvider.getName(e30);
      i10 && r10.add(n10, this.descriptions.createDescription(e30, i10, t10));
    }
  }
}, _i148 = new WeakMap(), __privateAdd(_Lb, _i148, iM(_Lb, "DefaultScopeComputation")), _Lb), Qo = (_Mb = class {
  constructor(e30, t10, r10) {
    var n10;
    this.elements = e30, this.outerScope = t10, this.caseInsensitive = null !== (n10 = null == r10 ? void 0 : r10.caseInsensitive) && void 0 !== n10 && n10;
  }
  getAllElements() {
    return this.outerScope ? this.elements.concat(this.outerScope.getAllElements()) : this.elements;
  }
  getElement(e30) {
    return (this.caseInsensitive ? this.elements.find((t10) => t10.name.toLowerCase() === e30.toLowerCase()) : this.elements.find((t10) => t10.name === e30)) || (this.outerScope ? this.outerScope.getElement(e30) : void 0);
  }
}, _i149 = new WeakMap(), __privateAdd(_Mb, _i149, iM(_Mb, "StreamScope")), _Mb), Ql = (_Nb = class {
  constructor(e30, t10, r10) {
    var n10;
    for (let t11 of (this.elements = /* @__PURE__ */ new Map(), this.caseInsensitive = null !== (n10 = null == r10 ? void 0 : r10.caseInsensitive) && void 0 !== n10 && n10, e30)) {
      let e31 = this.caseInsensitive ? t11.name.toLowerCase() : t11.name;
      this.elements.set(e31, t11);
    }
    this.outerScope = t10;
  }
  getElement(e30) {
    let t10 = this.caseInsensitive ? e30.toLowerCase() : e30;
    return this.elements.get(t10) || (this.outerScope ? this.outerScope.getElement(e30) : void 0);
  }
  getAllElements() {
    let e30 = UM(this.elements.values());
    return this.outerScope && (e30 = e30.concat(this.outerScope.getAllElements())), e30;
  }
}, _i150 = new WeakMap(), __privateAdd(_Nb, _i150, iM(_Nb, "MapScope")), _Nb), Qc = { getElement() {
}, getAllElements: () => UL }, Qh = (_Ob = class {
  constructor() {
    this.toDispose = [], this.isDisposed = false;
  }
  onDispose(e30) {
    this.toDispose.push(e30);
  }
  dispose() {
    this.throwIfDisposed(), this.clear(), this.isDisposed = true, this.toDispose.forEach((e30) => e30.dispose());
  }
  throwIfDisposed() {
    if (this.isDisposed) throw Error("This cache has already been disposed");
  }
}, _i151 = new WeakMap(), __privateAdd(_Ob, _i151, iM(_Ob, "DisposableCache")), _Ob), Qu = (_Pb = class extends Qh {
  constructor() {
    super(...arguments), this.cache = /* @__PURE__ */ new Map();
  }
  has(e30) {
    return this.throwIfDisposed(), this.cache.has(e30);
  }
  set(e30, t10) {
    this.throwIfDisposed(), this.cache.set(e30, t10);
  }
  get(e30, t10) {
    if (this.throwIfDisposed(), this.cache.has(e30)) return this.cache.get(e30);
    if (t10) {
      let r10 = t10();
      return this.cache.set(e30, r10), r10;
    }
  }
  delete(e30) {
    return this.throwIfDisposed(), this.cache.delete(e30);
  }
  clear() {
    this.throwIfDisposed(), this.cache.clear();
  }
}, _i152 = new WeakMap(), __privateAdd(_Pb, _i152, iM(_Pb, "SimpleCache")), _Pb), Qd = (_Qb = class extends Qh {
  constructor(e30) {
    super(), this.cache = /* @__PURE__ */ new Map(), this.converter = null != e30 ? e30 : (e31) => e31;
  }
  has(e30, t10) {
    return this.throwIfDisposed(), this.cacheForContext(e30).has(t10);
  }
  set(e30, t10, r10) {
    this.throwIfDisposed(), this.cacheForContext(e30).set(t10, r10);
  }
  get(e30, t10, r10) {
    this.throwIfDisposed();
    let n10 = this.cacheForContext(e30);
    if (n10.has(t10)) return n10.get(t10);
    if (r10) {
      let e31 = r10();
      return n10.set(t10, e31), e31;
    }
  }
  delete(e30, t10) {
    return this.throwIfDisposed(), this.cacheForContext(e30).delete(t10);
  }
  clear(e30) {
    if (this.throwIfDisposed(), e30) {
      let t10 = this.converter(e30);
      this.cache.delete(t10);
    } else this.cache.clear();
  }
  cacheForContext(e30) {
    let t10 = this.converter(e30), r10 = this.cache.get(t10);
    return r10 || (r10 = /* @__PURE__ */ new Map(), this.cache.set(t10, r10)), r10;
  }
}, _i153 = new WeakMap(), __privateAdd(_Qb, _i153, iM(_Qb, "ContextCache")), _Qb), Qp = (_Rb = class extends Qd {
  constructor(e30) {
    super((e31) => e31.toString()), this.onDispose(e30.workspace.DocumentBuilder.onUpdate((e31, t10) => {
      for (let r10 of e31.concat(t10)) this.clear(r10);
    }));
  }
}, _i154 = new WeakMap(), __privateAdd(_Rb, _i154, iM(_Rb, "DocumentCache")), _Rb), Qf = (_Sb = class extends Qu {
  constructor(e30) {
    super(), this.onDispose(e30.workspace.DocumentBuilder.onUpdate(() => {
      this.clear();
    }));
  }
}, _i155 = new WeakMap(), __privateAdd(_Sb, _i155, iM(_Sb, "WorkspaceCache")), _Sb), Qg = (_Tb = class {
  constructor(e30) {
    this.reflection = e30.shared.AstReflection, this.nameProvider = e30.references.NameProvider, this.descriptions = e30.workspace.AstNodeDescriptionProvider, this.indexManager = e30.shared.workspace.IndexManager, this.globalScopeCache = new Qf(e30.shared);
  }
  getScope(e30) {
    let t10 = [], r10 = this.reflection.getReferenceType(e30), n10 = VI(e30.container).precomputedScopes;
    if (n10) {
      let i11 = e30.container;
      do {
        let e31 = n10.get(i11);
        e31.length > 0 && t10.push(UM(e31).filter((e32) => this.reflection.isSubtype(e32.type, r10))), i11 = i11.$container;
      } while (i11);
    }
    let i10 = this.getGlobalScope(r10, e30);
    for (let e31 = t10.length - 1; e31 >= 0; e31--) i10 = this.createScope(t10[e31], i10);
    return i10;
  }
  createScope(e30, t10, r10) {
    return new Qo(UM(e30), t10, r10);
  }
  createScopeForNodes(e30, t10, r10) {
    return new Qo(UM(e30).map((e31) => {
      let t11 = this.nameProvider.getName(e31);
      if (t11) return this.descriptions.createDescription(e31, t11);
    }).nonNullable(), t10, r10);
  }
  getGlobalScope(e30, t10) {
    return this.globalScopeCache.get(e30, () => new Ql(this.indexManager.allElements(e30)));
  }
}, _i156 = new WeakMap(), __privateAdd(_Tb, _i156, iM(_Tb, "DefaultScopeProvider")), _Tb);
function Qm(e30) {
  return "string" == typeof e30.$comment;
}
function Qy(e30) {
  return "object" == typeof e30 && !!e30 && ("$ref" in e30 || "$error" in e30);
}
iM(Qm, "isAstNodeWithComment"), iM(Qy, "isIntermediateReference");
var Qv = (_Ub = class {
  constructor(e30) {
    this.ignoreProperties = /* @__PURE__ */ new Set(["$container", "$containerProperty", "$containerIndex", "$document", "$cstNode"]), this.langiumDocuments = e30.shared.workspace.LangiumDocuments, this.astNodeLocator = e30.workspace.AstNodeLocator, this.nameProvider = e30.references.NameProvider, this.commentProvider = e30.documentation.CommentProvider;
  }
  serialize(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = null == t10 ? void 0 : t10.replacer, n10 = iM((e31, r11) => this.replacer(e31, r11, t10), "defaultReplacer"), i10 = r10 ? (e31, t11) => r10(e31, t11, n10) : n10;
    try {
      return this.currentDocument = VI(e30), JSON.stringify(e30, i10, null == t10 ? void 0 : t10.space);
    } finally {
      this.currentDocument = void 0;
    }
  }
  deserialize(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = JSON.parse(e30);
    return this.linkNode(r10, r10, t10), r10;
  }
  replacer(e30, t10, r10) {
    var n10, i10, a10, s10;
    let { refText: o10, sourceText: l10, textRegions: h10, comments: u10, uriConverter: d10 } = r10;
    if (!this.ignoreProperties.has(e30)) {
      if (Ux(t10)) {
        let e31 = t10.ref, r11 = o10 ? t10.$refText : void 0;
        if (!e31) return { $error: null !== (i10 = null === (n10 = t10.error) || void 0 === n10 ? void 0 : n10.message) && void 0 !== i10 ? i10 : "Could not resolve reference", $refText: r11 };
        {
          let n11 = VI(e31), i11 = "";
          this.currentDocument && this.currentDocument !== n11 && (i11 = d10 ? d10(n11.uri, t10) : n11.uri.toString());
          let a11 = this.astNodeLocator.getAstNodePath(e31);
          return { $ref: `${i11}#${a11}`, $refText: r11 };
        }
      }
      if (!Uv(t10)) return t10;
      {
        let r11;
        if (h10 && (r11 = this.addAstNodeRegionWithAssignmentsTo(Object.assign({}, t10)), (!e30 || t10.$document) && (null == r11 ? void 0 : r11.$textRegion) && (r11.$textRegion.documentURI = null === (a10 = this.currentDocument) || void 0 === a10 ? void 0 : a10.uri.toString())), l10 && !e30 && (null != r11 || (r11 = Object.assign({}, t10)), r11.$sourceText = null === (s10 = t10.$cstNode) || void 0 === s10 ? void 0 : s10.text), u10) {
          null != r11 || (r11 = Object.assign({}, t10));
          let e31 = this.commentProvider.getComment(t10);
          e31 && (r11.$comment = e31.replace(/\r/g, ""));
        }
        return null != r11 ? r11 : t10;
      }
    }
  }
  addAstNodeRegionWithAssignmentsTo(e30) {
    let t10 = iM((e31) => ({ offset: e31.offset, end: e31.end, length: e31.length, range: e31.range }), "createDocumentSegment");
    if (e30.$cstNode) {
      let r10 = (e30.$textRegion = t10(e30.$cstNode)).assignments = {};
      return Object.keys(e30).filter((e31) => !e31.startsWith("$")).forEach((n10) => {
        let i10 = Hl(e30.$cstNode, n10).map(t10);
        0 !== i10.length && (r10[n10] = i10);
      }), e30;
    }
  }
  linkNode(e30, t10, r10, n10, i10, a10) {
    for (let [n11, i11] of Object.entries(e30)) if (Array.isArray(i11)) for (let a11 = 0; a11 < i11.length; a11++) {
      let s10 = i11[a11];
      Qy(s10) ? i11[a11] = this.reviveReference(e30, n11, t10, s10, r10) : Uv(s10) && this.linkNode(s10, t10, r10, e30, n11, a11);
    }
    else Qy(i11) ? e30[n11] = this.reviveReference(e30, n11, t10, i11, r10) : Uv(i11) && this.linkNode(i11, t10, r10, e30, n11);
    e30.$container = n10, e30.$containerProperty = i10, e30.$containerIndex = a10;
  }
  reviveReference(e30, t10, r10, n10, i10) {
    let a10 = n10.$refText, s10 = n10.$error;
    if (n10.$ref) {
      let e31 = this.getRefNode(r10, n10.$ref, i10.uriConverter);
      if (Uv(e31)) return a10 || (a10 = this.nameProvider.getName(e31)), { $refText: null != a10 ? a10 : "", ref: e31 };
      s10 = e31;
    }
    if (s10) {
      let r11 = { $refText: null != a10 ? a10 : "" };
      return r11.error = { container: e30, property: t10, message: s10, reference: r11 }, r11;
    }
  }
  getRefNode(e30, t10, r10) {
    try {
      let n10 = t10.indexOf("#");
      if (0 === n10) {
        let r11 = this.astNodeLocator.getAstNode(e30, t10.substring(1));
        if (!r11) return "Could not resolve path: " + t10;
        return r11;
      }
      if (n10 < 0) {
        let e31 = r10 ? r10(t10) : Z6.parse(t10), n11 = this.langiumDocuments.getDocument(e31);
        if (!n11) return "Could not find document for URI: " + t10;
        return n11.parseResult.value;
      }
      let i10 = r10 ? r10(t10.substring(0, n10)) : Z6.parse(t10.substring(0, n10)), a10 = this.langiumDocuments.getDocument(i10);
      if (!a10) return "Could not find document for URI: " + t10;
      if (n10 === t10.length - 1) return a10.parseResult.value;
      let s10 = this.astNodeLocator.getAstNode(a10.parseResult.value, t10.substring(n10 + 1));
      if (!s10) return "Could not resolve URI: " + t10;
      return s10;
    } catch (e31) {
      return String(e31);
    }
  }
}, _i157 = new WeakMap(), __privateAdd(_Ub, _i157, iM(_Ub, "DefaultJsonSerializer")), _Ub), Qx = (_Vb = class {
  register(e30) {
    if (!this.singleton && !this.map) {
      this.singleton = e30;
      return;
    }
    if (!this.map && (this.map = {}, this.singleton)) {
      for (let e31 of this.singleton.LanguageMetaData.fileExtensions) this.map[e31] = this.singleton;
      this.singleton = void 0;
    }
    for (let t10 of e30.LanguageMetaData.fileExtensions) void 0 !== this.map[t10] && this.map[t10] !== e30 && console.warn(`The file extension ${t10} is used by multiple languages. It is now assigned to '${e30.LanguageMetaData.languageId}'.`), this.map[t10] = e30;
  }
  getServices(e30) {
    if (void 0 !== this.singleton) return this.singleton;
    if (void 0 === this.map) throw Error("The service registry is empty. Use `register` to register the services of a language.");
    let t10 = nB.extname(e30), r10 = this.map[t10];
    if (!r10) throw Error(`The service registry contains no services for the extension '${t10}'.`);
    return r10;
  }
  get all() {
    return void 0 !== this.singleton ? [this.singleton] : void 0 !== this.map ? Object.values(this.map) : [];
  }
}, _i158 = new WeakMap(), __privateAdd(_Vb, _i158, iM(_Vb, "DefaultServiceRegistry")), _Vb);
function Qb(e30) {
  return { code: e30 };
}
iM(Qb, "diagnosticData"), (nz || (nz = {})).all = ["fast", "slow", "built-in"];
var Qk = (_Wb = class {
  constructor(e30) {
    this.entries = new Qi(), this.reflection = e30.shared.AstReflection;
  }
  register(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "fast";
    if ("built-in" === r10) throw Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");
    for (let [n10, i10] of Object.entries(e30)) if (Array.isArray(i10)) for (let e31 of i10) {
      let i11 = { check: this.wrapValidationException(e31, t10), category: r10 };
      this.addEntry(n10, i11);
    }
    else if ("function" == typeof i10) {
      let e31 = { check: this.wrapValidationException(i10, t10), category: r10 };
      this.addEntry(n10, e31);
    }
  }
  wrapValidationException(e30, t10) {
    return async (r10, n10, i10) => {
      try {
        await e30.call(t10, r10, n10, i10);
      } catch (t11) {
        if (ZZ(t11)) throw t11;
        console.error("An error occurred during validation:", t11);
        let e31 = t11 instanceof Error ? t11.message : String(t11);
        t11 instanceof Error && t11.stack && console.error(t11.stack), n10("error", "An error occurred during validation: " + e31, { node: r10 });
      }
    };
  }
  addEntry(e30, t10) {
    if ("AstNode" === e30) {
      this.entries.add("AstNode", t10);
      return;
    }
    for (let r10 of this.reflection.getAllSubTypes(e30)) this.entries.add(r10, t10);
  }
  getChecks(e30, t10) {
    let r10 = UM(this.entries.get(e30)).concat(this.entries.get("AstNode"));
    return t10 && (r10 = r10.filter((e31) => t10.includes(e31.category))), r10.map((e31) => e31.check);
  }
}, _i159 = new WeakMap(), __privateAdd(_Wb, _i159, iM(_Wb, "ValidationRegistry")), _Wb), Qw = (_Xb = class {
  constructor(e30) {
    this.validationRegistry = e30.validation.ValidationRegistry, this.metadata = e30.LanguageMetaData;
  }
  async validateDocument(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ZW.CancellationToken.None, n10 = e30.parseResult, i10 = [];
    if (await ZQ(r10), (!t10.categories || t10.categories.includes("built-in")) && (this.processLexingErrors(n10, i10, t10), t10.stopAfterLexingErrors && i10.some((e31) => {
      var t11;
      return (null === (t11 = e31.data) || void 0 === t11 ? void 0 : t11.code) === nj.LexingError;
    }) || (this.processParsingErrors(n10, i10, t10), t10.stopAfterParsingErrors && i10.some((e31) => {
      var t11;
      return (null === (t11 = e31.data) || void 0 === t11 ? void 0 : t11.code) === nj.ParsingError;
    })) || (this.processLinkingErrors(e30, i10, t10), t10.stopAfterLinkingErrors && i10.some((e31) => {
      var t11;
      return (null === (t11 = e31.data) || void 0 === t11 ? void 0 : t11.code) === nj.LinkingError;
    })))) return i10;
    try {
      i10.push(...await this.validateAst(n10.value, t10, r10));
    } catch (e31) {
      if (ZZ(e31)) throw e31;
      console.error("An error occurred during validation:", e31);
    }
    return await ZQ(r10), i10;
  }
  processLexingErrors(e30, t10, r10) {
    for (let r11 of e30.lexerErrors) {
      let e31 = { severity: QT("error"), range: { start: { line: r11.line - 1, character: r11.column - 1 }, end: { line: r11.line - 1, character: r11.column + r11.length - 1 } }, message: r11.message, data: Qb(nj.LexingError), source: this.getSource() };
      t10.push(e31);
    }
  }
  processParsingErrors(e30, t10, r10) {
    for (let r11 of e30.parserErrors) {
      let e31;
      if (isNaN(r11.token.startOffset)) {
        if ("previousToken" in r11) {
          let t11 = r11.previousToken;
          if (isNaN(t11.startOffset)) {
            let t12 = { line: 0, character: 0 };
            e31 = { start: t12, end: t12 };
          } else {
            let r12 = { line: t11.endLine - 1, character: t11.endColumn };
            e31 = { start: r12, end: r12 };
          }
        }
      } else e31 = U$(r11.token);
      if (e31) {
        let n10 = { severity: QT("error"), range: e31, message: r11.message, data: Qb(nj.ParsingError), source: this.getSource() };
        t10.push(n10);
      }
    }
  }
  processLinkingErrors(e30, t10, r10) {
    for (let r11 of e30.references) {
      let e31 = r11.error;
      if (e31) {
        let r12 = { node: e31.container, property: e31.property, index: e31.index, data: { code: nj.LinkingError, containerType: e31.container.$type, property: e31.property, refText: e31.reference.$refText } };
        t10.push(this.toDiagnostic("error", e31.message, r12));
      }
    }
  }
  async validateAst(e30, t10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ZW.CancellationToken.None, n10 = [], i10 = iM((e31, t11, r11) => {
      n10.push(this.toDiagnostic(e31, t11, r11));
    }, "acceptor");
    return await Promise.all(VD(e30).map(async (e31) => {
      for (let n11 of (await ZQ(r10), this.validationRegistry.getChecks(e31.$type, t10.categories))) await n11(e31, i10, r10);
    })), n10;
  }
  toDiagnostic(e30, t10, r10) {
    return { message: t10, range: Q_(r10), severity: QT(e30), code: r10.code, codeDescription: r10.codeDescription, tags: r10.tags, relatedInformation: r10.relatedInformation, data: r10.data, source: this.getSource() };
  }
  getSource() {
    return this.metadata.languageId;
  }
}, _i160 = new WeakMap(), __privateAdd(_Xb, _i160, iM(_Xb, "DefaultDocumentValidator")), _Xb);
function Q_(e30) {
  let t10;
  return e30.range ? e30.range : ("string" == typeof e30.property ? t10 = Hc(e30.node.$cstNode, e30.property, e30.index) : "string" == typeof e30.keyword && (t10 = Hd(e30.node.$cstNode, e30.keyword, e30.index)), null != t10 || (t10 = e30.node.$cstNode), t10) ? t10.range : { start: { line: 0, character: 0 }, end: { line: 0, character: 0 } };
}
function QT(e30) {
  switch (e30) {
    case "error":
      return 1;
    case "warning":
      return 2;
    case "info":
      return 3;
    case "hint":
      return 4;
    default:
      throw Error("Invalid diagnostic severity: " + e30);
  }
}
iM(Q_, "getDiagnosticRange"), iM(QT, "toDiagnosticSeverity"), (tY = nj || (nj = {})).LexingError = "lexing-error", tY.ParsingError = "parsing-error", tY.LinkingError = "linking-error";
var QS = (_Yb = class {
  constructor(e30) {
    this.astNodeLocator = e30.workspace.AstNodeLocator, this.nameProvider = e30.references.NameProvider;
  }
  createDescription(e30, t10) {
    let r10, n10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : VI(e30);
    null != t10 || (t10 = this.nameProvider.getName(e30));
    let i10 = this.astNodeLocator.getAstNodePath(e30);
    if (!t10) throw Error(`Node at path ${i10} has no name.`);
    let a10 = iM(() => {
      var t11;
      return null != r10 ? r10 : r10 = UP(null !== (t11 = this.nameProvider.getNameNode(e30)) && void 0 !== t11 ? t11 : e30.$cstNode);
    }, "nameSegmentGetter");
    return { node: e30, name: t10, get nameSegment() {
      return a10();
    }, selectionSegment: UP(e30.$cstNode), type: e30.$type, documentUri: n10.uri, path: i10 };
  }
}, _i161 = new WeakMap(), __privateAdd(_Yb, _i161, iM(_Yb, "DefaultAstNodeDescriptionProvider")), _Yb), QC = (_Zb = class {
  constructor(e30) {
    this.nodeLocator = e30.workspace.AstNodeLocator;
  }
  async createDescriptions(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None, r10 = [];
    for (let n10 of VD(e30.parseResult.value)) await ZQ(t10), V$(n10).filter((e31) => !Uk(e31)).forEach((e31) => {
      let t11 = this.createDescription(e31);
      t11 && r10.push(t11);
    });
    return r10;
  }
  createDescription(e30) {
    let t10 = e30.reference.$nodeDescription, r10 = e30.reference.$refNode;
    if (!t10 || !r10) return;
    let n10 = VI(e30.container).uri;
    return { sourceUri: n10, sourcePath: this.nodeLocator.getAstNodePath(e30.container), targetUri: t10.documentUri, targetPath: t10.path, segment: UP(r10), local: nB.equals(t10.documentUri, n10) };
  }
}, _i162 = new WeakMap(), __privateAdd(_Zb, _i162, iM(_Zb, "DefaultReferenceDescriptionProvider")), _Zb), QE = (__b = class {
  constructor() {
    this.segmentSeparator = "/", this.indexSeparator = "@";
  }
  getAstNodePath(e30) {
    if (e30.$container) {
      let t10 = this.getAstNodePath(e30.$container), r10 = this.getPathSegment(e30);
      return t10 + this.segmentSeparator + r10;
    }
    return "";
  }
  getPathSegment(e30) {
    let { $containerProperty: t10, $containerIndex: r10 } = e30;
    if (!t10) throw Error("Missing '$containerProperty' in AST node.");
    return void 0 !== r10 ? t10 + this.indexSeparator + r10 : t10;
  }
  getAstNode(e30, t10) {
    return t10.split(this.segmentSeparator).reduce((e31, t11) => {
      if (!e31 || 0 === t11.length) return e31;
      let r10 = t11.indexOf(this.indexSeparator);
      if (r10 > 0) {
        let n10 = t11.substring(0, r10), i10 = parseInt(t11.substring(r10 + 1)), a10 = e31[n10];
        return null == a10 ? void 0 : a10[i10];
      }
      return e31[t11];
    }, e30);
  }
}, _i163 = new WeakMap(), __privateAdd(__b, _i163, iM(__b, "DefaultAstNodeLocator")), __b), QA = (_$b = class {
  constructor(e30) {
    this._ready = new ZJ(), this.settings = {}, this.workspaceConfig = false, this.serviceRegistry = e30.ServiceRegistry;
  }
  get ready() {
    return this._ready.promise;
  }
  initialize(e30) {
    var t10, r10;
    this.workspaceConfig = null !== (r10 = null === (t10 = e30.capabilities.workspace) || void 0 === t10 ? void 0 : t10.configuration) && void 0 !== r10 && r10;
  }
  async initialized(e30) {
    if (this.workspaceConfig) {
      if (e30.register) {
        let t10 = this.serviceRegistry.all;
        e30.register({ section: t10.map((e31) => this.toSectionName(e31.LanguageMetaData.languageId)) });
      }
      if (e30.fetchConfiguration) {
        let t10 = this.serviceRegistry.all.map((e31) => ({ section: this.toSectionName(e31.LanguageMetaData.languageId) })), r10 = await e30.fetchConfiguration(t10);
        t10.forEach((e31, t11) => {
          this.updateSectionConfiguration(e31.section, r10[t11]);
        });
      }
    }
    this._ready.resolve();
  }
  updateConfiguration(e30) {
    e30.settings && Object.keys(e30.settings).forEach((t10) => {
      this.updateSectionConfiguration(t10, e30.settings[t10]);
    });
  }
  updateSectionConfiguration(e30, t10) {
    this.settings[e30] = t10;
  }
  async getConfiguration(e30, t10) {
    await this.ready;
    let r10 = this.toSectionName(e30);
    if (this.settings[r10]) return this.settings[r10][t10];
  }
  toSectionName(e30) {
    return `${e30}`;
  }
}, _i164 = new WeakMap(), __privateAdd(_$b, _i164, iM(_$b, "DefaultConfigurationProvider")), _$b);
!function(e30) {
  function t10(e31) {
    return { dispose: iM(async () => await e31(), "dispose") };
  }
  iM(t10, "create"), e30.create = t10;
}(nq || (nq = {}));
var QL = (_ac = class {
  constructor(e30) {
    this.updateBuildOptions = { validation: { categories: ["built-in", "fast"] } }, this.updateListeners = [], this.buildPhaseListeners = new Qi(), this.buildState = /* @__PURE__ */ new Map(), this.documentBuildWaiters = /* @__PURE__ */ new Map(), this.currentState = nF.Changed, this.langiumDocuments = e30.workspace.LangiumDocuments, this.langiumDocumentFactory = e30.workspace.LangiumDocumentFactory, this.indexManager = e30.workspace.IndexManager, this.serviceRegistry = e30.ServiceRegistry;
  }
  async build(e30) {
    var t10, r10;
    let n10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ZW.CancellationToken.None;
    for (let i11 of e30) {
      let e31 = i11.uri.toString();
      if (i11.state === nF.Validated) {
        if ("boolean" == typeof n10.validation && n10.validation) i11.state = nF.IndexedReferences, i11.diagnostics = void 0, this.buildState.delete(e31);
        else if ("object" == typeof n10.validation) {
          let a10 = this.buildState.get(e31), s10 = null === (t10 = null == a10 ? void 0 : a10.result) || void 0 === t10 ? void 0 : t10.validationChecks;
          if (s10) {
            let t11 = (null !== (r10 = n10.validation.categories) && void 0 !== r10 ? r10 : nz.all).filter((e32) => !s10.includes(e32));
            t11.length > 0 && (this.buildState.set(e31, { completed: false, options: { validation: Object.assign(Object.assign({}, n10.validation), { categories: t11 }) }, result: a10.result }), i11.state = nF.IndexedReferences);
          }
        }
      } else this.buildState.delete(e31);
    }
    this.currentState = nF.Changed, await this.emitUpdate(e30.map((e31) => e31.uri), []), await this.buildDocuments(e30, n10, i10);
  }
  async update(e30, t10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ZW.CancellationToken.None;
    for (let e31 of (this.currentState = nF.Changed, t10)) this.langiumDocuments.deleteDocument(e31), this.buildState.delete(e31.toString()), this.indexManager.remove(e31);
    for (let t11 of e30) {
      if (!this.langiumDocuments.invalidateDocument(t11)) {
        let e31 = this.langiumDocumentFactory.fromModel({ $type: "INVALID" }, t11);
        e31.state = nF.Changed, this.langiumDocuments.addDocument(e31);
      }
      this.buildState.delete(t11.toString());
    }
    let n10 = UM(e30).concat(t10).map((e31) => e31.toString()).toSet();
    this.langiumDocuments.all.filter((e31) => !n10.has(e31.uri.toString()) && this.shouldRelink(e31, n10)).forEach((e31) => {
      this.serviceRegistry.getServices(e31.uri).references.Linker.unlink(e31), e31.state = Math.min(e31.state, nF.ComputedScopes), e31.diagnostics = void 0;
    }), await this.emitUpdate(e30, t10), await ZQ(r10);
    let i10 = this.langiumDocuments.all.filter((e31) => {
      var t11;
      return e31.state < nF.Linked || !(null === (t11 = this.buildState.get(e31.uri.toString())) || void 0 === t11 ? void 0 : t11.completed);
    }).toArray();
    await this.buildDocuments(i10, this.updateBuildOptions, r10);
  }
  async emitUpdate(e30, t10) {
    await Promise.all(this.updateListeners.map((r10) => r10(e30, t10)));
  }
  shouldRelink(e30, t10) {
    return !!e30.references.some((e31) => void 0 !== e31.error) || this.indexManager.isAffected(e30, t10);
  }
  onUpdate(e30) {
    return this.updateListeners.push(e30), nq.create(() => {
      let t10 = this.updateListeners.indexOf(e30);
      t10 >= 0 && this.updateListeners.splice(t10, 1);
    });
  }
  async buildDocuments(e30, t10, r10) {
    this.prepareBuild(e30, t10), await this.runCancelable(e30, nF.Parsed, r10, (e31) => this.langiumDocumentFactory.update(e31, r10)), await this.runCancelable(e30, nF.IndexedContent, r10, (e31) => this.indexManager.updateContent(e31, r10)), await this.runCancelable(e30, nF.ComputedScopes, r10, async (e31) => {
      let t11 = this.serviceRegistry.getServices(e31.uri).references.ScopeComputation;
      e31.precomputedScopes = await t11.computeLocalScopes(e31, r10);
    }), await this.runCancelable(e30, nF.Linked, r10, (e31) => this.serviceRegistry.getServices(e31.uri).references.Linker.link(e31, r10)), await this.runCancelable(e30, nF.IndexedReferences, r10, (e31) => this.indexManager.updateReferences(e31, r10));
    let n10 = e30.filter((e31) => this.shouldValidate(e31));
    for (let t11 of (await this.runCancelable(n10, nF.Validated, r10, (e31) => this.validate(e31, r10)), e30)) {
      let e31 = this.buildState.get(t11.uri.toString());
      e31 && (e31.completed = true);
    }
  }
  prepareBuild(e30, t10) {
    for (let r10 of e30) {
      let e31 = r10.uri.toString(), n10 = this.buildState.get(e31);
      (!n10 || n10.completed) && this.buildState.set(e31, { completed: false, options: t10, result: null == n10 ? void 0 : n10.result });
    }
  }
  async runCancelable(e30, t10, r10, n10) {
    let i10 = e30.filter((e31) => e31.state < t10);
    for (let e31 of i10) await ZQ(r10), await n10(e31), e31.state = t10;
    await this.notifyBuildPhase(i10, t10, r10), this.currentState = t10;
  }
  onBuildPhase(e30, t10) {
    return this.buildPhaseListeners.add(e30, t10), nq.create(() => {
      this.buildPhaseListeners.delete(e30, t10);
    });
  }
  waitUntil(e30, t10, r10) {
    let n10;
    if (t10 && "path" in t10 ? n10 = t10 : r10 = t10, null != r10 || (r10 = ZW.CancellationToken.None), n10) {
      let t11 = this.langiumDocuments.getDocument(n10);
      if (t11 && t11.state > e30) return Promise.resolve(n10);
    }
    return this.currentState >= e30 ? Promise.resolve(void 0) : r10.isCancellationRequested ? Promise.reject(ZK) : new Promise((t11, i10) => {
      let a10 = this.onBuildPhase(e30, () => {
        if (a10.dispose(), s10.dispose(), n10) {
          let e31 = this.langiumDocuments.getDocument(n10);
          t11(null == e31 ? void 0 : e31.uri);
        } else t11(void 0);
      }), s10 = r10.onCancellationRequested(() => {
        a10.dispose(), s10.dispose(), i10(ZK);
      });
    });
  }
  async notifyBuildPhase(e30, t10, r10) {
    if (0 !== e30.length) for (let n10 of this.buildPhaseListeners.get(t10)) await ZQ(r10), await n10(e30, r10);
  }
  shouldValidate(e30) {
    return !!this.getBuildOptions(e30).validation;
  }
  async validate(e30, t10) {
    var r10, n10;
    let i10 = this.serviceRegistry.getServices(e30.uri).validation.DocumentValidator, a10 = this.getBuildOptions(e30).validation, s10 = "object" == typeof a10 ? a10 : void 0, o10 = await i10.validateDocument(e30, s10, t10);
    e30.diagnostics ? e30.diagnostics.push(...o10) : e30.diagnostics = o10;
    let l10 = this.buildState.get(e30.uri.toString());
    if (l10) {
      null !== (r10 = l10.result) && void 0 !== r10 || (l10.result = {});
      let e31 = null !== (n10 = null == s10 ? void 0 : s10.categories) && void 0 !== n10 ? n10 : nz.all;
      l10.result.validationChecks ? l10.result.validationChecks.push(...e31) : l10.result.validationChecks = [...e31];
    }
  }
  getBuildOptions(e30) {
    var t10, r10;
    return null !== (r10 = null === (t10 = this.buildState.get(e30.uri.toString())) || void 0 === t10 ? void 0 : t10.options) && void 0 !== r10 ? r10 : {};
  }
}, _i165 = new WeakMap(), __privateAdd(_ac, _i165, iM(_ac, "DefaultDocumentBuilder")), _ac), QI = (_bc = class {
  constructor(e30) {
    this.symbolIndex = /* @__PURE__ */ new Map(), this.symbolByTypeIndex = new Qd(), this.referenceIndex = /* @__PURE__ */ new Map(), this.documents = e30.workspace.LangiumDocuments, this.serviceRegistry = e30.ServiceRegistry, this.astReflection = e30.AstReflection;
  }
  findAllReferences(e30, t10) {
    let r10 = VI(e30).uri, n10 = [];
    return this.referenceIndex.forEach((e31) => {
      e31.forEach((e32) => {
        nB.equals(e32.targetUri, r10) && e32.targetPath === t10 && n10.push(e32);
      });
    }), UM(n10);
  }
  allElements(e30, t10) {
    let r10 = UM(this.symbolIndex.keys());
    return t10 && (r10 = r10.filter((e31) => !t10 || t10.has(e31))), r10.map((t11) => this.getFileDescriptions(t11, e30)).flat();
  }
  getFileDescriptions(e30, t10) {
    var r10;
    return t10 ? this.symbolByTypeIndex.get(e30, t10, () => {
      var r11;
      return (null !== (r11 = this.symbolIndex.get(e30)) && void 0 !== r11 ? r11 : []).filter((e31) => this.astReflection.isSubtype(e31.type, t10));
    }) : null !== (r10 = this.symbolIndex.get(e30)) && void 0 !== r10 ? r10 : [];
  }
  remove(e30) {
    let t10 = e30.toString();
    this.symbolIndex.delete(t10), this.symbolByTypeIndex.clear(t10), this.referenceIndex.delete(t10);
  }
  async updateContent(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None, r10 = this.serviceRegistry.getServices(e30.uri), n10 = await r10.references.ScopeComputation.computeExports(e30, t10), i10 = e30.uri.toString();
    this.symbolIndex.set(i10, n10), this.symbolByTypeIndex.clear(i10);
  }
  async updateReferences(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None, r10 = this.serviceRegistry.getServices(e30.uri), n10 = await r10.workspace.ReferenceDescriptionProvider.createDescriptions(e30, t10);
    this.referenceIndex.set(e30.uri.toString(), n10);
  }
  isAffected(e30, t10) {
    let r10 = this.referenceIndex.get(e30.uri.toString());
    return !!r10 && r10.some((e31) => !e31.local && t10.has(e31.targetUri.toString()));
  }
}, _i166 = new WeakMap(), __privateAdd(_bc, _i166, iM(_bc, "DefaultIndexManager")), _bc), QM = (_cc = class {
  constructor(e30) {
    this.initialBuildOptions = {}, this._ready = new ZJ(), this.serviceRegistry = e30.ServiceRegistry, this.langiumDocuments = e30.workspace.LangiumDocuments, this.documentBuilder = e30.workspace.DocumentBuilder, this.fileSystemProvider = e30.workspace.FileSystemProvider, this.mutex = e30.workspace.WorkspaceLock;
  }
  get ready() {
    return this._ready.promise;
  }
  initialize(e30) {
    var t10;
    this.folders = null !== (t10 = e30.workspaceFolders) && void 0 !== t10 ? t10 : void 0;
  }
  initialized(e30) {
    return this.mutex.write((e31) => {
      var t10;
      return this.initializeWorkspace(null !== (t10 = this.folders) && void 0 !== t10 ? t10 : [], e31);
    });
  }
  async initializeWorkspace(e30) {
    let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ZW.CancellationToken.None, r10 = await this.performStartup(e30);
    await ZQ(t10), await this.documentBuilder.build(r10, this.initialBuildOptions, t10);
  }
  async performStartup(e30) {
    let t10 = this.serviceRegistry.all.flatMap((e31) => e31.LanguageMetaData.fileExtensions), r10 = [], n10 = iM((e31) => {
      r10.push(e31), this.langiumDocuments.hasDocument(e31.uri) || this.langiumDocuments.addDocument(e31);
    }, "collector");
    return await this.loadAdditionalDocuments(e30, n10), await Promise.all(e30.map((e31) => [e31, this.getRootFolder(e31)]).map(async (e31) => this.traverseFolder(...e31, t10, n10))), this._ready.resolve(), r10;
  }
  loadAdditionalDocuments(e30, t10) {
    return Promise.resolve();
  }
  getRootFolder(e30) {
    return Z6.parse(e30.uri);
  }
  async traverseFolder(e30, t10, r10, n10) {
    let i10 = await this.fileSystemProvider.readDirectory(t10);
    await Promise.all(i10.map(async (t11) => {
      this.includeEntry(e30, t11, r10) && (t11.isDirectory ? await this.traverseFolder(e30, t11.uri, r10, n10) : t11.isFile && n10(await this.langiumDocuments.getOrCreateDocument(t11.uri)));
    }));
  }
  includeEntry(e30, t10, r10) {
    let n10 = nB.basename(t10.uri);
    if (n10.startsWith(".")) return false;
    if (t10.isDirectory) return "node_modules" !== n10 && "out" !== n10;
    if (t10.isFile) {
      let e31 = nB.extname(t10.uri);
      return r10.includes(e31);
    }
    return false;
  }
}, _i167 = new WeakMap(), __privateAdd(_cc, _i167, iM(_cc, "DefaultWorkspaceManager")), _cc), QN = (_dc = class {
  constructor(e30) {
    let t10 = e30.parser.TokenBuilder.buildTokens(e30.Grammar, { caseInsensitive: e30.LanguageMetaData.caseInsensitive });
    this.tokenTypes = this.toTokenTypeDictionary(t10);
    let r10 = QO(t10) ? Object.values(t10) : t10;
    this.chevrotainLexer = new Gp(r10, { positionTracking: "full" });
  }
  get definition() {
    return this.tokenTypes;
  }
  tokenize(e30) {
    var t10;
    let r10 = this.chevrotainLexer.tokenize(e30);
    return { tokens: r10.tokens, errors: r10.errors, hidden: null !== (t10 = r10.groups.hidden) && void 0 !== t10 ? t10 : [] };
  }
  toTokenTypeDictionary(e30) {
    if (QO(e30)) return e30;
    let t10 = QD(e30) ? Object.values(e30.modes).flat() : e30, r10 = {};
    return t10.forEach((e31) => r10[e31.name] = e31), r10;
  }
}, _i168 = new WeakMap(), __privateAdd(_dc, _i168, iM(_dc, "DefaultLexer")), _dc);
function QR(e30) {
  return Array.isArray(e30) && (0 === e30.length || "name" in e30[0]);
}
function QD(e30) {
  return e30 && "modes" in e30 && "defaultMode" in e30;
}
function QO(e30) {
  return !QR(e30) && !QD(e30);
}
function Q$(e30, t10, r10) {
  let n10, i10;
  return "string" == typeof e30 ? (i10 = t10, n10 = r10) : (i10 = e30.range.start, n10 = t10), i10 || (i10 = r_.create(0, 0)), QY({ index: 0, tokens: Qj({ lines: QB(e30), position: i10, options: Q0(n10) }), position: i10 });
}
function QP(e30, t10) {
  let r10 = Q0(t10), n10 = QB(e30);
  if (0 === n10.length) return false;
  let i10 = n10[0], a10 = n10[n10.length - 1], s10 = r10.start, o10 = r10.end;
  return !!(null == s10 ? void 0 : s10.exec(i10)) && !!(null == o10 ? void 0 : o10.exec(a10));
}
function QB(e30) {
  return ("string" == typeof e30 ? e30 : e30.text).split(V2);
}
iM(QR, "isTokenTypeArray"), iM(QD, "isIMultiModeLexerDefinition"), iM(QO, "isTokenTypeDictionary"), iM(Q$, "parseJSDoc"), iM(QP, "isJSDoc"), iM(QB, "getLines");
var QF = /\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy, Qz = /\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;
function Qj(e30) {
  var t10, r10, n10;
  let i10 = [], a10 = e30.position.line, s10 = e30.position.character;
  for (let o10 = 0; o10 < e30.lines.length; o10++) {
    let l10 = 0 === o10, h10 = o10 === e30.lines.length - 1, u10 = e30.lines[o10], d10 = 0;
    if (l10 && e30.options.start) {
      let r11 = null === (t10 = e30.options.start) || void 0 === t10 ? void 0 : t10.exec(u10);
      r11 && (d10 = r11.index + r11[0].length);
    } else {
      let t11 = null === (r10 = e30.options.line) || void 0 === r10 ? void 0 : r10.exec(u10);
      t11 && (d10 = t11.index + t11[0].length);
    }
    if (h10) {
      let t11 = null === (n10 = e30.options.end) || void 0 === n10 ? void 0 : n10.exec(u10);
      t11 && (u10 = u10.substring(0, t11.index));
    }
    if (QV(u10 = u10.substring(0, QH(u10)), d10) >= u10.length) {
      if (i10.length > 0) {
        let e31 = r_.create(a10, s10);
        i10.push({ type: "break", content: "", range: rT.create(e31, e31) });
      }
    } else {
      QF.lastIndex = d10;
      let e31 = QF.exec(u10);
      if (e31) {
        let t11 = e31[0], r11 = e31[1], n11 = r_.create(a10, s10 + d10), o11 = r_.create(a10, s10 + d10 + t11.length);
        i10.push({ type: "tag", content: r11, range: rT.create(n11, o11) }), d10 += t11.length, d10 = QV(u10, d10);
      }
      if (d10 < u10.length) {
        let e32 = u10.substring(d10), t11 = Array.from(e32.matchAll(Qz));
        i10.push(...Qq(t11, e32, a10, s10 + d10));
      }
    }
    a10++, s10 = 0;
  }
  return i10.length > 0 && "break" === i10[i10.length - 1].type ? i10.slice(0, -1) : i10;
}
function Qq(e30, t10, r10, n10) {
  let i10 = [];
  if (0 === e30.length) {
    let e31 = r_.create(r10, n10), a10 = r_.create(r10, n10 + t10.length);
    i10.push({ type: "text", content: t10, range: rT.create(e31, a10) });
  } else {
    let a10 = 0;
    for (let s11 of e30) {
      let e31 = s11.index, o10 = t10.substring(a10, e31);
      o10.length > 0 && i10.push({ type: "text", content: t10.substring(a10, e31), range: rT.create(r_.create(r10, a10 + n10), r_.create(r10, e31 + n10)) });
      let l10 = o10.length + 1, h10 = s11[1];
      if (i10.push({ type: "inline-tag", content: h10, range: rT.create(r_.create(r10, a10 + l10 + n10), r_.create(r10, a10 + l10 + h10.length + n10)) }), l10 += h10.length, 4 === s11.length) {
        l10 += s11[2].length;
        let e32 = s11[3];
        i10.push({ type: "text", content: e32, range: rT.create(r_.create(r10, a10 + l10 + n10), r_.create(r10, a10 + l10 + e32.length + n10)) });
      } else i10.push({ type: "text", content: "", range: rT.create(r_.create(r10, a10 + l10 + n10), r_.create(r10, a10 + l10 + n10)) });
      a10 = e31 + s11[0].length;
    }
    let s10 = t10.substring(a10);
    s10.length > 0 && i10.push({ type: "text", content: s10, range: rT.create(r_.create(r10, a10 + n10), r_.create(r10, a10 + n10 + s10.length)) });
  }
  return i10;
}
iM(Qj, "tokenize"), iM(Qq, "buildInlineTokens");
var QU = /\S/, QW = /\s*$/;
function QV(e30, t10) {
  let r10 = e30.substring(t10).match(QU);
  return r10 ? t10 + r10.index : e30.length;
}
function QH(e30) {
  let t10 = e30.match(QW);
  if (t10 && "number" == typeof t10.index) return t10.index;
}
function QY(e30) {
  var t10, r10, n10, i10;
  let a10 = r_.create(e30.position.line, e30.position.character);
  if (0 === e30.tokens.length) return new Q2([], rT.create(a10, a10));
  let s10 = [];
  for (; e30.index < e30.tokens.length; ) {
    let t11 = QG(e30, s10[s10.length - 1]);
    t11 && s10.push(t11);
  }
  let o10 = null !== (r10 = null === (t10 = s10[0]) || void 0 === t10 ? void 0 : t10.range.start) && void 0 !== r10 ? r10 : a10, l10 = null !== (i10 = null === (n10 = s10[s10.length - 1]) || void 0 === n10 ? void 0 : n10.range.end) && void 0 !== i10 ? i10 : a10;
  return new Q2(s10, rT.create(o10, l10));
}
function QG(e30, t10) {
  let r10 = e30.tokens[e30.index];
  return "tag" === r10.type ? QQ(e30, false) : "text" === r10.type || "inline-tag" === r10.type ? QK(e30) : void (QX(r10, t10), e30.index++);
}
function QX(e30, t10) {
  if (t10) {
    let r10 = new Q7("", e30.range);
    "inlines" in t10 ? t10.inlines.push(r10) : t10.content.inlines.push(r10);
  }
}
function QK(e30) {
  let t10 = e30.tokens[e30.index], r10 = t10, n10 = t10, i10 = [];
  for (; t10 && "break" !== t10.type && "tag" !== t10.type; ) i10.push(QZ(e30)), n10 = t10, t10 = e30.tokens[e30.index];
  return new Q6(i10, rT.create(r10.range.start, n10.range.end));
}
function QZ(e30) {
  return "inline-tag" === e30.tokens[e30.index].type ? QQ(e30, true) : QJ(e30);
}
function QQ(e30, t10) {
  let r10 = e30.tokens[e30.index++], n10 = r10.content.substring(1), i10 = e30.tokens[e30.index];
  if ((null == i10 ? void 0 : i10.type) === "text") {
    if (t10) {
      let i11 = QJ(e30);
      return new Q4(n10, new Q6([i11], i11.range), t10, rT.create(r10.range.start, i11.range.end));
    }
    {
      let i11 = QK(e30);
      return new Q4(n10, i11, t10, rT.create(r10.range.start, i11.range.end));
    }
  }
  {
    let e31 = r10.range;
    return new Q4(n10, new Q6([], e31), t10, e31);
  }
}
function QJ(e30) {
  let t10 = e30.tokens[e30.index++];
  return new Q7(t10.content, t10.range);
}
function Q0(e30) {
  if (!e30) return Q0({ start: "/**", end: "*/", line: "*" });
  let { start: t10, end: r10, line: n10 } = e30;
  return { start: Q1(t10, true), end: Q1(r10, false), line: Q1(n10, true) };
}
function Q1(e30, t10) {
  if ("string" != typeof e30 && "object" != typeof e30) return e30;
  {
    let r10 = "string" == typeof e30 ? V8(e30) : e30.source;
    return t10 ? RegExp(`^\\s*${r10}`) : RegExp(`\\s*${r10}\\s*$`);
  }
}
iM(QV, "skipWhitespace"), iM(QH, "lastCharacter"), iM(QY, "parseJSDocComment"), iM(QG, "parseJSDocElement"), iM(QX, "appendEmptyLine"), iM(QK, "parseJSDocText"), iM(QZ, "parseJSDocInline"), iM(QQ, "parseJSDocTag"), iM(QJ, "parseJSDocLine"), iM(Q0, "normalizeOptions"), iM(Q1, "normalizeOption");
var Q2 = (_ec = class {
  constructor(e30, t10) {
    this.elements = e30, this.range = t10;
  }
  getTag(e30) {
    return this.getAllTags().find((t10) => t10.name === e30);
  }
  getTags(e30) {
    return this.getAllTags().filter((t10) => t10.name === e30);
  }
  getAllTags() {
    return this.elements.filter((e30) => "name" in e30);
  }
  toString() {
    let e30 = "";
    for (let t10 of this.elements) if (0 === e30.length) e30 = t10.toString();
    else {
      let r10 = t10.toString();
      e30 += Q8(e30) + r10;
    }
    return e30.trim();
  }
  toMarkdown(e30) {
    let t10 = "";
    for (let r10 of this.elements) if (0 === t10.length) t10 = r10.toMarkdown(e30);
    else {
      let n10 = r10.toMarkdown(e30);
      t10 += Q8(t10) + n10;
    }
    return t10.trim();
  }
}, _i169 = new WeakMap(), __privateAdd(_ec, _i169, iM(_ec, "JSDocCommentImpl")), _ec), Q4 = (_fc = class {
  constructor(e30, t10, r10, n10) {
    this.name = e30, this.content = t10, this.inline = r10, this.range = n10;
  }
  toString() {
    let e30 = `@${this.name}`, t10 = this.content.toString();
    return (1 === this.content.inlines.length ? e30 = `${e30} ${t10}` : this.content.inlines.length > 1 && (e30 = `${e30}
${t10}`), this.inline) ? `{${e30}}` : e30;
  }
  toMarkdown(e30) {
    var t10, r10;
    return null !== (r10 = null === (t10 = null == e30 ? void 0 : e30.renderTag) || void 0 === t10 ? void 0 : t10.call(e30, this)) && void 0 !== r10 ? r10 : this.toMarkdownDefault(e30);
  }
  toMarkdownDefault(e30) {
    let t10 = this.content.toMarkdown(e30);
    if (this.inline) {
      let r11 = Q3(this.name, t10, null != e30 ? e30 : {});
      if ("string" == typeof r11) return r11;
    }
    let r10 = "";
    (null == e30 ? void 0 : e30.tag) === "italic" || (null == e30 ? void 0 : e30.tag) === void 0 ? r10 = "*" : (null == e30 ? void 0 : e30.tag) === "bold" ? r10 = "**" : (null == e30 ? void 0 : e30.tag) === "bold-italic" && (r10 = "***");
    let n10 = `${r10}@${this.name}${r10}`;
    return (1 === this.content.inlines.length ? n10 = `${n10} — ${t10}` : this.content.inlines.length > 1 && (n10 = `${n10}
${t10}`), this.inline) ? `{${n10}}` : n10;
  }
}, _i170 = new WeakMap(), __privateAdd(_fc, _i170, iM(_fc, "JSDocTagImpl")), _fc);
function Q3(e30, t10, r10) {
  var n10, i10;
  if ("linkplain" === e30 || "linkcode" === e30 || "link" === e30) {
    let a10 = t10.indexOf(" "), s10 = t10;
    if (a10 > 0) {
      let e31 = QV(t10, a10);
      s10 = t10.substring(e31), t10 = t10.substring(0, a10);
    }
    return ("linkcode" === e30 || "link" === e30 && "code" === r10.link) && (s10 = `\`${s10}\``), null !== (i10 = null === (n10 = r10.renderLink) || void 0 === n10 ? void 0 : n10.call(r10, t10, s10)) && void 0 !== i10 ? i10 : Q5(t10, s10);
  }
}
function Q5(e30, t10) {
  try {
    return Z6.parse(e30, true), `[${t10}](${e30})`;
  } catch (t11) {
    return e30;
  }
}
iM(Q3, "renderInlineTag"), iM(Q5, "renderLinkDefault");
var Q6 = (_gc = class {
  constructor(e30, t10) {
    this.inlines = e30, this.range = t10;
  }
  toString() {
    let e30 = "";
    for (let t10 = 0; t10 < this.inlines.length; t10++) {
      let r10 = this.inlines[t10], n10 = this.inlines[t10 + 1];
      e30 += r10.toString(), n10 && n10.range.start.line > r10.range.start.line && (e30 += "\n");
    }
    return e30;
  }
  toMarkdown(e30) {
    let t10 = "";
    for (let r10 = 0; r10 < this.inlines.length; r10++) {
      let n10 = this.inlines[r10], i10 = this.inlines[r10 + 1];
      t10 += n10.toMarkdown(e30), i10 && i10.range.start.line > n10.range.start.line && (t10 += "\n");
    }
    return t10;
  }
}, _i171 = new WeakMap(), __privateAdd(_gc, _i171, iM(_gc, "JSDocTextImpl")), _gc), Q7 = (_hc = class {
  constructor(e30, t10) {
    this.text = e30, this.range = t10;
  }
  toString() {
    return this.text;
  }
  toMarkdown() {
    return this.text;
  }
}, _i172 = new WeakMap(), __privateAdd(_hc, _i172, iM(_hc, "JSDocLineImpl")), _hc);
function Q8(e30) {
  return e30.endsWith("\n") ? "\n" : "\n\n";
}
iM(Q8, "fillNewlines");
var Q9 = (_ic = class {
  constructor(e30) {
    this.indexManager = e30.shared.workspace.IndexManager, this.commentProvider = e30.documentation.CommentProvider;
  }
  getDocumentation(e30) {
    let t10 = this.commentProvider.getComment(e30);
    if (t10 && QP(t10)) return Q$(t10).toMarkdown({ renderLink: iM((t11, r10) => this.documentationLinkRenderer(e30, t11, r10), "renderLink"), renderTag: iM((t11) => this.documentationTagRenderer(e30, t11), "renderTag") });
  }
  documentationLinkRenderer(e30, t10, r10) {
    var n10;
    let i10 = null !== (n10 = this.findNameInPrecomputedScopes(e30, t10)) && void 0 !== n10 ? n10 : this.findNameInGlobalScope(e30, t10);
    if (i10 && i10.nameSegment) {
      let e31 = i10.nameSegment.range.start.line + 1, t11 = i10.nameSegment.range.start.character + 1, n11 = i10.documentUri.with({ fragment: `L${e31},${t11}` });
      return `[${r10}](${n11.toString()})`;
    }
  }
  documentationTagRenderer(e30, t10) {
  }
  findNameInPrecomputedScopes(e30, t10) {
    let r10 = VI(e30).precomputedScopes;
    if (!r10) return;
    let n10 = e30;
    do {
      let e31 = r10.get(n10).find((e32) => e32.name === t10);
      if (e31) return e31;
      n10 = n10.$container;
    } while (n10);
  }
  findNameInGlobalScope(e30, t10) {
    return this.indexManager.allElements().find((e31) => e31.name === t10);
  }
}, _i173 = new WeakMap(), __privateAdd(_ic, _i173, iM(_ic, "JSDocDocumentationProvider")), _ic), Je = (_jc = class {
  constructor(e30) {
    this.grammarConfig = () => e30.parser.GrammarConfig;
  }
  getComment(e30) {
    var t10;
    return Qm(e30) ? e30.$comment : null === (t10 = Uq(e30.$cstNode, this.grammarConfig().multilineCommentRules)) || void 0 === t10 ? void 0 : t10.text;
  }
}, _i174 = new WeakMap(), __privateAdd(_jc, _i174, iM(_jc, "DefaultCommentProvider")), _jc), Jt = {};
iO(Jt, i$(Uf()));
var Jr = (_kc = class {
  constructor(e30) {
    this.syncParser = e30.parser.LangiumParser;
  }
  parse(e30) {
    return Promise.resolve(this.syncParser.parse(e30));
  }
}, _i175 = new WeakMap(), __privateAdd(_kc, _i175, iM(_kc, "DefaultAsyncParser")), _kc), Jn = (_lc = class {
  constructor(e30) {
    this.threadCount = 8, this.terminationDelay = 200, this.workerPool = [], this.queue = [], this.hydrator = e30.serializer.Hydrator;
  }
  initializeWorkers() {
    for (; this.workerPool.length < this.threadCount; ) {
      let e30 = this.createWorker();
      e30.onReady(() => {
        if (this.queue.length > 0) {
          let t10 = this.queue.shift();
          t10 && (e30.lock(), t10.resolve(e30));
        }
      }), this.workerPool.push(e30);
    }
  }
  async parse(e30, t10) {
    let r10;
    let n10 = await this.acquireParserWorker(t10), i10 = new ZJ(), a10 = t10.onCancellationRequested(() => {
      r10 = setTimeout(() => {
        this.terminateWorker(n10);
      }, this.terminationDelay);
    });
    return n10.parse(e30).then((e31) => {
      let t11 = this.hydrator.hydrate(e31);
      i10.resolve(t11);
    }).catch((e31) => {
      i10.reject(e31);
    }).finally(() => {
      a10.dispose(), clearTimeout(r10);
    }), i10.promise;
  }
  terminateWorker(e30) {
    e30.terminate();
    let t10 = this.workerPool.indexOf(e30);
    t10 >= 0 && this.workerPool.splice(t10, 1);
  }
  async acquireParserWorker(e30) {
    for (let e31 of (this.initializeWorkers(), this.workerPool)) if (e31.ready) return e31.lock(), e31;
    let t10 = new ZJ();
    return e30.onCancellationRequested(() => {
      let e31 = this.queue.indexOf(t10);
      e31 >= 0 && this.queue.splice(e31, 1), t10.reject(ZK);
    }), this.queue.push(t10), t10.promise;
  }
}, _i176 = new WeakMap(), __privateAdd(_lc, _i176, iM(_lc, "AbstractThreadedAsyncParser")), _lc), Ji = (_mc = class {
  get ready() {
    return this._ready;
  }
  get onReady() {
    return this.onReadyEmitter.event;
  }
  constructor(e30, t10, r10, n10) {
    this.onReadyEmitter = new Jt.Emitter(), this.deferred = new ZJ(), this._ready = true, this._parsing = false, this.sendMessage = e30, this._terminate = n10, t10((e31) => {
      this.deferred.resolve(e31), this.unlock();
    }), r10((e31) => {
      this.deferred.reject(e31), this.unlock();
    });
  }
  terminate() {
    this.deferred.reject(ZK), this._terminate();
  }
  lock() {
    this._ready = false;
  }
  unlock() {
    this._parsing = false, this._ready = true, this.onReadyEmitter.fire();
  }
  parse(e30) {
    if (this._parsing) throw Error("Parser worker is busy");
    return this._parsing = true, this.deferred = new ZJ(), this.sendMessage(e30), this.deferred.promise;
  }
}, _i177 = new WeakMap(), __privateAdd(_mc, _i177, iM(_mc, "ParserWorker")), _mc), Ja = (_nc = class {
  constructor() {
    this.previousTokenSource = new ZW.CancellationTokenSource(), this.writeQueue = [], this.readQueue = [], this.done = true;
  }
  write(e30) {
    this.cancelWrite();
    let t10 = new ZW.CancellationTokenSource();
    return this.previousTokenSource = t10, this.enqueue(this.writeQueue, e30, t10.token);
  }
  read(e30) {
    return this.enqueue(this.readQueue, e30);
  }
  enqueue(e30, t10, r10) {
    let n10 = new ZJ(), i10 = { action: t10, deferred: n10, cancellationToken: null != r10 ? r10 : ZW.CancellationToken.None };
    return e30.push(i10), this.performNextOperation(), n10.promise;
  }
  async performNextOperation() {
    if (!this.done) return;
    let e30 = [];
    if (this.writeQueue.length > 0) e30.push(this.writeQueue.shift());
    else {
      if (!(this.readQueue.length > 0)) return;
      e30.push(...this.readQueue.splice(0, this.readQueue.length));
    }
    this.done = false, await Promise.all(e30.map(async (e31) => {
      let { action: t10, deferred: r10, cancellationToken: n10 } = e31;
      try {
        let e32 = await Promise.resolve().then(() => t10(n10));
        r10.resolve(e32);
      } catch (e32) {
        ZZ(e32) ? r10.resolve(void 0) : r10.reject(e32);
      }
    })), this.done = true, this.performNextOperation();
  }
  cancelWrite() {
    this.previousTokenSource.cancel();
  }
}, _i178 = new WeakMap(), __privateAdd(_nc, _i178, iM(_nc, "DefaultWorkspaceLock")), _nc), Js = (_oc = class {
  constructor(e30) {
    this.grammarElementIdMap = new Qa(), this.tokenTypeIdMap = new Qa(), this.grammar = e30.Grammar, this.lexer = e30.parser.Lexer, this.linker = e30.references.Linker;
  }
  dehydrate(e30) {
    return { lexerErrors: e30.lexerErrors.map((e31) => Object.assign({}, e31)), parserErrors: e30.parserErrors.map((e31) => Object.assign({}, e31)), value: this.dehydrateAstNode(e30.value, this.createDehyrationContext(e30.value)) };
  }
  createDehyrationContext(e30) {
    let t10 = /* @__PURE__ */ new Map(), r10 = /* @__PURE__ */ new Map();
    for (let r11 of VD(e30)) t10.set(r11, {});
    if (e30.$cstNode) for (let t11 of UR(e30.$cstNode)) r10.set(t11, {});
    return { astNodes: t10, cstNodes: r10 };
  }
  dehydrateAstNode(e30, t10) {
    let r10 = t10.astNodes.get(e30);
    for (let [n10, i10] of (r10.$type = e30.$type, r10.$containerIndex = e30.$containerIndex, r10.$containerProperty = e30.$containerProperty, void 0 !== e30.$cstNode && (r10.$cstNode = this.dehydrateCstNode(e30.$cstNode, t10)), Object.entries(e30))) if (!n10.startsWith("$")) {
      if (Array.isArray(i10)) {
        let e31 = [];
        for (let a10 of (r10[n10] = e31, i10)) Uv(a10) ? e31.push(this.dehydrateAstNode(a10, t10)) : Ux(a10) ? e31.push(this.dehydrateReference(a10, t10)) : e31.push(a10);
      } else Uv(i10) ? r10[n10] = this.dehydrateAstNode(i10, t10) : Ux(i10) ? r10[n10] = this.dehydrateReference(i10, t10) : void 0 !== i10 && (r10[n10] = i10);
    }
    return r10;
  }
  dehydrateReference(e30, t10) {
    let r10 = {};
    return r10.$refText = e30.$refText, e30.$refNode && (r10.$refNode = t10.cstNodes.get(e30.$refNode)), r10;
  }
  dehydrateCstNode(e30, t10) {
    let r10 = t10.cstNodes.get(e30);
    return US(e30) ? r10.fullText = e30.fullText : r10.grammarSource = this.getGrammarElementId(e30.grammarSource), r10.hidden = e30.hidden, r10.astNode = t10.astNodes.get(e30.astNode), U_(e30) ? r10.content = e30.content.map((e31) => this.dehydrateCstNode(e31, t10)) : UT(e30) && (r10.tokenType = e30.tokenType.name, r10.offset = e30.offset, r10.length = e30.length, r10.startLine = e30.range.start.line, r10.startColumn = e30.range.start.character, r10.endLine = e30.range.end.line, r10.endColumn = e30.range.end.character), r10;
  }
  hydrate(e30) {
    let t10 = e30.value, r10 = this.createHydrationContext(t10);
    return "$cstNode" in t10 && this.hydrateCstNode(t10.$cstNode, r10), { lexerErrors: e30.lexerErrors, parserErrors: e30.parserErrors, value: this.hydrateAstNode(t10, r10) };
  }
  createHydrationContext(e30) {
    let t10;
    let r10 = /* @__PURE__ */ new Map(), n10 = /* @__PURE__ */ new Map();
    for (let t11 of VD(e30)) r10.set(t11, {});
    if (e30.$cstNode) for (let r11 of UR(e30.$cstNode)) {
      let e31;
      "fullText" in r11 ? t10 = e31 = new Zu(r11.fullText) : "content" in r11 ? e31 = new Zc() : "tokenType" in r11 && (e31 = this.hydrateCstLeafNode(r11)), e31 && (n10.set(r11, e31), e31.root = t10);
    }
    return { astNodes: r10, cstNodes: n10 };
  }
  hydrateAstNode(e30, t10) {
    let r10 = t10.astNodes.get(e30);
    for (let [n10, i10] of (r10.$type = e30.$type, r10.$containerIndex = e30.$containerIndex, r10.$containerProperty = e30.$containerProperty, e30.$cstNode && (r10.$cstNode = t10.cstNodes.get(e30.$cstNode)), Object.entries(e30))) if (!n10.startsWith("$")) {
      if (Array.isArray(i10)) {
        let e31 = [];
        for (let a10 of (r10[n10] = e31, i10)) Uv(a10) ? e31.push(this.setParent(this.hydrateAstNode(a10, t10), r10)) : Ux(a10) ? e31.push(this.hydrateReference(a10, r10, n10, t10)) : e31.push(a10);
      } else Uv(i10) ? r10[n10] = this.setParent(this.hydrateAstNode(i10, t10), r10) : Ux(i10) ? r10[n10] = this.hydrateReference(i10, r10, n10, t10) : void 0 !== i10 && (r10[n10] = i10);
    }
    return r10;
  }
  setParent(e30, t10) {
    return e30.$container = t10, e30;
  }
  hydrateReference(e30, t10, r10, n10) {
    return this.linker.buildReference(t10, r10, n10.cstNodes.get(e30.$refNode), e30.$refText);
  }
  hydrateCstNode(e30, t10) {
    let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n10 = t10.cstNodes.get(e30);
    if ("number" == typeof e30.grammarSource && (n10.grammarSource = this.getGrammarElement(e30.grammarSource)), n10.astNode = t10.astNodes.get(e30.astNode), U_(n10)) for (let i10 of e30.content) {
      let e31 = this.hydrateCstNode(i10, t10, r10++);
      n10.content.push(e31);
    }
    return n10;
  }
  hydrateCstLeafNode(e30) {
    let t10 = this.getTokenType(e30.tokenType), r10 = e30.offset, n10 = e30.length, i10 = e30.startLine, a10 = e30.startColumn;
    return new Zl(r10, n10, { start: { line: i10, character: a10 }, end: { line: e30.endLine, character: e30.endColumn } }, t10, e30.hidden);
  }
  getTokenType(e30) {
    return this.lexer.definition[e30];
  }
  getGrammarElementId(e30) {
    return 0 === this.grammarElementIdMap.size && this.createGrammarElementIdMap(), this.grammarElementIdMap.get(e30);
  }
  getGrammarElement(e30) {
    0 === this.grammarElementIdMap.size && this.createGrammarElementIdMap();
    let t10 = this.grammarElementIdMap.getKey(e30);
    if (t10) return t10;
    throw Error("Invalid grammar element id: " + e30);
  }
  createGrammarElementIdMap() {
    let e30 = 0;
    for (let t10 of VD(this.grammar)) Wo(t10) && this.grammarElementIdMap.set(t10, e30++);
  }
}, _i179 = new WeakMap(), __privateAdd(_oc, _i179, iM(_oc, "DefaultHydrator")), _oc);
function Jo(e30) {
  return { documentation: { CommentProvider: iM((e31) => new Je(e31), "CommentProvider"), DocumentationProvider: iM((e31) => new Q9(e31), "DocumentationProvider") }, parser: { AsyncParser: iM((e31) => new Jr(e31), "AsyncParser"), GrammarConfig: iM((e31) => HF(e31), "GrammarConfig"), LangiumParser: iM((e31) => Zz(e31), "LangiumParser"), CompletionParser: iM((e31) => ZF(e31), "CompletionParser"), ValueConverter: iM(() => new ZU(), "ValueConverter"), TokenBuilder: iM(() => new Zq(), "TokenBuilder"), Lexer: iM((e31) => new QN(e31), "Lexer"), ParserErrorMessageProvider: iM(() => new Zv(), "ParserErrorMessageProvider") }, workspace: { AstNodeLocator: iM(() => new QE(), "AstNodeLocator"), AstNodeDescriptionProvider: iM((e31) => new QS(e31), "AstNodeDescriptionProvider"), ReferenceDescriptionProvider: iM((e31) => new QC(e31), "ReferenceDescriptionProvider") }, references: { Linker: iM((e31) => new Qe(e31), "Linker"), NameProvider: iM(() => new Qr(), "NameProvider"), ScopeProvider: iM((e31) => new Qg(e31), "ScopeProvider"), ScopeComputation: iM((e31) => new Qs(e31), "ScopeComputation"), References: iM((e31) => new Qn(e31), "References") }, serializer: { Hydrator: iM((e31) => new Js(e31), "Hydrator"), JsonSerializer: iM((e31) => new Qv(e31), "JsonSerializer") }, validation: { DocumentValidator: iM((e31) => new Qw(e31), "DocumentValidator"), ValidationRegistry: iM((e31) => new Qk(e31), "ValidationRegistry") }, shared: iM(() => e30.shared, "shared") };
}
function Jl(e30) {
  return { ServiceRegistry: iM(() => new Qx(), "ServiceRegistry"), workspace: { LangiumDocuments: iM((e31) => new Z9(e31), "LangiumDocuments"), LangiumDocumentFactory: iM((e31) => new Z8(e31), "LangiumDocumentFactory"), DocumentBuilder: iM((e31) => new QL(e31), "DocumentBuilder"), IndexManager: iM((e31) => new QI(e31), "IndexManager"), WorkspaceManager: iM((e31) => new QM(e31), "WorkspaceManager"), FileSystemProvider: iM((t10) => e30.fileSystemProvider(t10), "FileSystemProvider"), WorkspaceLock: iM(() => new Ja(), "WorkspaceLock"), ConfigurationProvider: iM((e31) => new QA(e31), "ConfigurationProvider") } };
}
function Jc(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  return Jd([e30, t10, r10, n10, i10, a10, s10, o10, l10].reduce(Jg, {}));
}
iM(Jo, "createDefaultCoreModule"), iM(Jl, "createDefaultSharedCoreModule"), (nU || (nU = {})).merge = (e30, t10) => Jg(Jg({}, e30), t10), iM(Jc, "inject");
var Jh = Symbol("isProxy");
function Ju(e30) {
  if (e30 && e30[Jh]) for (let t10 of Object.values(e30)) Ju(t10);
  return e30;
}
function Jd(e30, t10) {
  let r10 = new Proxy({}, { deleteProperty: iM(() => false, "deleteProperty"), get: iM((n10, i10) => Jf(n10, i10, e30, t10 || r10), "get"), getOwnPropertyDescriptor: iM((n10, i10) => (Jf(n10, i10, e30, t10 || r10), Object.getOwnPropertyDescriptor(n10, i10)), "getOwnPropertyDescriptor"), has: iM((t11, r11) => r11 in e30, "has"), ownKeys: iM(() => [...Reflect.ownKeys(e30), Jh], "ownKeys") });
  return r10[Jh] = true, r10;
}
iM(Ju, "eagerLoad"), iM(Jd, "_inject");
var Jp = Symbol();
function Jf(e30, t10, r10, n10) {
  if (t10 in e30) {
    if (e30[t10] instanceof Error) throw Error("Construction failure. Please make sure that your dependencies are constructable.", { cause: e30[t10] });
    if (e30[t10] === Jp) throw Error('Cycle detected. Please make "' + String(t10) + '" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');
    return e30[t10];
  }
  if (t10 in r10) {
    let i10 = r10[t10];
    e30[t10] = Jp;
    try {
      e30[t10] = "function" == typeof i10 ? i10(n10) : Jd(i10, n10);
    } catch (r11) {
      throw e30[t10] = r11 instanceof Error ? r11 : void 0, r11;
    }
    return e30[t10];
  }
}
function Jg(e30, t10) {
  if (t10) {
    for (let [r10, n10] of Object.entries(t10)) if (void 0 !== n10) {
      let t11 = e30[r10];
      null !== t11 && null !== n10 && "object" == typeof t11 && "object" == typeof n10 ? e30[r10] = Jg(t11, n10) : e30[r10] = n10;
    }
  }
  return e30;
}
iM(Jf, "_resolve"), iM(Jg, "_merge");
var Jm = {};
iR(Jm, { AstUtils: () => VC, BiMap: () => Qa, Cancellation: () => ZW, ContextCache: () => Qd, CstUtils: () => Uy, DONE_RESULT: () => UI, Deferred: () => ZJ, Disposable: () => nq, DisposableCache: () => Qh, DocumentCache: () => Qp, EMPTY_STREAM: () => UL, ErrorWithLocation: () => U0, GrammarUtils: () => UJ, MultiMap: () => Qi, OperationCancelled: () => ZK, Reduction: () => rp, RegExpUtils: () => Vj, SimpleCache: () => Qu, StreamImpl: () => UC, TreeStreamImpl: () => UN, URI: () => Z6, UriUtils: () => nB, WorkspaceCache: () => Qf, assertUnreachable: () => U1, delayNextTick: () => ZV, interruptAndCheck: () => ZQ, isOperationCancelled: () => ZZ, loadGrammarFromJson: () => Jw, setInterruptionPeriod: () => ZX, startCancelableOperation: () => ZG, stream: () => UM }), iO(Jm, Jt);
var Jy = (_pc = class {
  readFile() {
    throw Error("No file system is available.");
  }
  async readDirectory() {
    return [];
  }
}, _i180 = new WeakMap(), __privateAdd(_pc, _i180, iM(_pc, "EmptyFileSystemProvider")), _pc), Jv = { fileSystemProvider: iM(() => new Jy(), "fileSystemProvider") }, Jx = { Grammar: iM(() => void 0, "Grammar"), LanguageMetaData: iM(() => ({ caseInsensitive: false, fileExtensions: [".langium"], languageId: "langium" }), "LanguageMetaData") }, Jb = { AstReflection: iM(() => new VT(), "AstReflection") };
function Jk() {
  let e30 = Jc(Jl(Jv), Jb), t10 = Jc(Jo({ shared: e30 }), Jx);
  return e30.ServiceRegistry.register(t10), t10;
}
function Jw(e30) {
  var t10;
  let r10 = Jk(), n10 = r10.serializer.JsonSerializer.deserialize(e30);
  return r10.shared.workspace.LangiumDocumentFactory.fromModel(n10, Z6.parse(`memory://${null !== (t10 = n10.name) && void 0 !== t10 ? t10 : "grammar"}.langium`)), n10;
}
iM(Jk, "createMinimalGrammarServices"), iM(Jw, "loadGrammarFromJson"), iO(Um, Jm);
var J_ = Object.defineProperty, JT = iM((e30, t10) => J_(e30, "name", { value: t10, configurable: true }), "__name");
function JS(e30) {
  return Jj.isInstance(e30, "Architecture");
}
iM(JS, "isArchitecture"), JT(JS, "isArchitecture");
var JC = "Branch";
function JE(e30) {
  return Jj.isInstance(e30, JC);
}
iM(JE, "isBranch"), JT(JE, "isBranch");
var JA = "Commit";
function JL(e30) {
  return Jj.isInstance(e30, JA);
}
function JI(e30) {
  return Jj.isInstance(e30, "Common");
}
iM(JL, "isCommit"), JT(JL, "isCommit"), iM(JI, "isCommon"), JT(JI, "isCommon");
var JM = "GitGraph";
function JN(e30) {
  return Jj.isInstance(e30, JM);
}
function JR(e30) {
  return Jj.isInstance(e30, "Info");
}
iM(JN, "isGitGraph"), JT(JN, "isGitGraph"), iM(JR, "isInfo"), JT(JR, "isInfo");
var JD = "Merge";
function JO(e30) {
  return Jj.isInstance(e30, JD);
}
function J$(e30) {
  return Jj.isInstance(e30, "Packet");
}
function JP(e30) {
  return Jj.isInstance(e30, "PacketBlock");
}
function JB(e30) {
  return Jj.isInstance(e30, "Pie");
}
function JF(e30) {
  return Jj.isInstance(e30, "PieSection");
}
iM(JO, "isMerge"), JT(JO, "isMerge"), iM(J$, "isPacket"), JT(J$, "isPacket"), iM(JP, "isPacketBlock"), JT(JP, "isPacketBlock"), iM(JB, "isPie"), JT(JB, "isPie"), iM(JF, "isPieSection"), JT(JF, "isPieSection");
var Jz = (_qc = class extends Uw {
  getAllTypes() {
    return ["Architecture", "Branch", "Checkout", "CherryPicking", "Commit", "Common", "Direction", "Edge", "GitGraph", "Group", "Info", "Junction", "Merge", "Packet", "PacketBlock", "Pie", "PieSection", "Service", "Statement"];
  }
  computeIsSubtype(e30, t10) {
    switch (e30) {
      case JC:
      case "Checkout":
      case "CherryPicking":
      case JA:
      case JD:
        return this.isSubtype("Statement", t10);
      case "Direction":
        return this.isSubtype(JM, t10);
      default:
        return false;
    }
  }
  getReferenceType(e30) {
    let t10 = `${e30.container.$type}:${e30.property}`;
    throw Error(`${t10} is not a valid reference id.`);
  }
  getTypeMetaData(e30) {
    switch (e30) {
      case "Architecture":
        return { name: "Architecture", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "edges", defaultValue: [] }, { name: "groups", defaultValue: [] }, { name: "junctions", defaultValue: [] }, { name: "services", defaultValue: [] }, { name: "title" }] };
      case "Branch":
        return { name: "Branch", properties: [{ name: "name" }, { name: "order" }] };
      case "Checkout":
        return { name: "Checkout", properties: [{ name: "branch" }] };
      case "CherryPicking":
        return { name: "CherryPicking", properties: [{ name: "id" }, { name: "parent" }, { name: "tags", defaultValue: [] }] };
      case "Commit":
        return { name: "Commit", properties: [{ name: "id" }, { name: "message" }, { name: "tags", defaultValue: [] }, { name: "type" }] };
      case "Common":
        return { name: "Common", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "title" }] };
      case "Edge":
        return { name: "Edge", properties: [{ name: "lhsDir" }, { name: "lhsGroup", defaultValue: false }, { name: "lhsId" }, { name: "lhsInto", defaultValue: false }, { name: "rhsDir" }, { name: "rhsGroup", defaultValue: false }, { name: "rhsId" }, { name: "rhsInto", defaultValue: false }, { name: "title" }] };
      case "GitGraph":
        return { name: "GitGraph", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "statements", defaultValue: [] }, { name: "title" }] };
      case "Group":
        return { name: "Group", properties: [{ name: "icon" }, { name: "id" }, { name: "in" }, { name: "title" }] };
      case "Info":
        return { name: "Info", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "title" }] };
      case "Junction":
        return { name: "Junction", properties: [{ name: "id" }, { name: "in" }] };
      case "Merge":
        return { name: "Merge", properties: [{ name: "branch" }, { name: "id" }, { name: "tags", defaultValue: [] }, { name: "type" }] };
      case "Packet":
        return { name: "Packet", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "blocks", defaultValue: [] }, { name: "title" }] };
      case "PacketBlock":
        return { name: "PacketBlock", properties: [{ name: "end" }, { name: "label" }, { name: "start" }] };
      case "Pie":
        return { name: "Pie", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "sections", defaultValue: [] }, { name: "showData", defaultValue: false }, { name: "title" }] };
      case "PieSection":
        return { name: "PieSection", properties: [{ name: "label" }, { name: "value" }] };
      case "Service":
        return { name: "Service", properties: [{ name: "icon" }, { name: "iconText" }, { name: "id" }, { name: "in" }, { name: "title" }] };
      case "Direction":
        return { name: "Direction", properties: [{ name: "accDescr" }, { name: "accTitle" }, { name: "dir" }, { name: "statements", defaultValue: [] }, { name: "title" }] };
      default:
        return { name: e30, properties: [] };
    }
  }
}, _i181 = new WeakMap(), _l3 = new WeakMap(), __privateAdd(_qc, _i181, iM(_qc, "MermaidAstReflection")), __privateAdd(_qc, _l3, JT(_qc, "MermaidAstReflection")), _qc), Jj = new Jz(), Jq = JT(() => null != nW ? nW : nW = Jw('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'), "InfoGrammar"), JU = JT(() => null != nV ? nV : nV = Jw(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`), "PacketGrammar"), JW = JT(() => null != nH ? nH : nH = Jw('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'), "PieGrammar"), JV = JT(() => null != nY ? nY : nY = Jw('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'), "ArchitectureGrammar"), JH = JT(() => null != nG ? nG : nG = Jw(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`), "GitGraphGrammar"), JY = { languageId: "info", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, JG = { languageId: "packet", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, JX = { languageId: "pie", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, JK = { languageId: "architecture", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, JZ = { languageId: "gitGraph", fileExtensions: [".mmd", ".mermaid"], caseInsensitive: false }, JQ = { AstReflection: JT(() => new Jz(), "AstReflection") }, JJ = { Grammar: JT(() => Jq(), "Grammar"), LanguageMetaData: JT(() => JY, "LanguageMetaData"), parser: {} }, J0 = { Grammar: JT(() => JU(), "Grammar"), LanguageMetaData: JT(() => JG, "LanguageMetaData"), parser: {} }, J1 = { Grammar: JT(() => JW(), "Grammar"), LanguageMetaData: JT(() => JX, "LanguageMetaData"), parser: {} }, J2 = { Grammar: JT(() => JV(), "Grammar"), LanguageMetaData: JT(() => JK, "LanguageMetaData"), parser: {} }, J4 = { Grammar: JT(() => JH(), "Grammar"), LanguageMetaData: JT(() => JZ, "LanguageMetaData"), parser: {} }, J3 = { ACC_DESCR: /accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/, ACC_TITLE: /accTitle[\t ]*:([^\n\r]*)/, TITLE: /title([\t ][^\n\r]*|)/ }, J5 = (_rc = class extends ZU {
  runConverter(e30, t10, r10) {
    let n10 = this.runCommonConverter(e30, t10, r10);
    return (void 0 === n10 && (n10 = this.runCustomConverter(e30, t10, r10)), void 0 === n10) ? super.runConverter(e30, t10, r10) : n10;
  }
  runCommonConverter(e30, t10, r10) {
    let n10 = J3[e30.name];
    if (void 0 === n10) return;
    let i10 = n10.exec(t10);
    return null === i10 ? void 0 : void 0 !== i10[1] ? i10[1].trim().replace(/[\t ]{2,}/gm, " ") : void 0 !== i10[2] ? i10[2].replace(/^\s*/gm, "").replace(/\s+$/gm, "").replace(/[\t ]{2,}/gm, " ").replace(/[\n\r]{2,}/gm, "\n") : void 0;
  }
}, _i182 = new WeakMap(), _l4 = new WeakMap(), __privateAdd(_rc, _i182, iM(_rc, "AbstractMermaidValueConverter")), __privateAdd(_rc, _l4, JT(_rc, "AbstractMermaidValueConverter")), _rc), J6 = (_sc = class extends J5 {
  runCustomConverter(e30, t10, r10) {
  }
}, _i183 = new WeakMap(), _l5 = new WeakMap(), __privateAdd(_sc, _i183, iM(_sc, "CommonValueConverter")), __privateAdd(_sc, _l5, JT(_sc, "CommonValueConverter")), _sc), J7 = (_tc = class extends Zq {
  constructor(e30) {
    super(), this.keywords = new Set(e30);
  }
  buildKeywordTokens(e30, t10, r10) {
    let n10 = super.buildKeywordTokens(e30, t10, r10);
    return n10.forEach((e31) => {
      this.keywords.has(e31.name) && void 0 !== e31.PATTERN && (e31.PATTERN = RegExp(e31.PATTERN.toString() + "(?:(?=%%)|(?!\\S))"));
    }), n10;
  }
}, _i184 = new WeakMap(), _l6 = new WeakMap(), __privateAdd(_tc, _i184, iM(_tc, "AbstractMermaidTokenBuilder")), __privateAdd(_tc, _l6, JT(_tc, "AbstractMermaidTokenBuilder")), _tc);
iM(void 0, "CommonTokenBuilder"), JT(void 0, "CommonTokenBuilder");
var J8 = {}, J9 = { info: JT(async () => {
  let { createInfoServices: e30 } = await w(async () => {
    let { createInfoServices: e31 } = await Promise.resolve().then(() => e_Y);
    return { createInfoServices: e31 };
  }, true ? void 0 : void 0), t10 = e30().Info.parser.LangiumParser;
  J8.info = t10;
}, "info"), packet: JT(async () => {
  let { createPacketServices: e30 } = await w(async () => {
    let { createPacketServices: e31 } = await Promise.resolve().then(() => e_G);
    return { createPacketServices: e31 };
  }, true ? void 0 : void 0), t10 = e30().Packet.parser.LangiumParser;
  J8.packet = t10;
}, "packet"), pie: JT(async () => {
  let { createPieServices: e30 } = await w(async () => {
    let { createPieServices: e31 } = await Promise.resolve().then(() => e_X);
    return { createPieServices: e31 };
  }, true ? void 0 : void 0), t10 = e30().Pie.parser.LangiumParser;
  J8.pie = t10;
}, "pie"), architecture: JT(async () => {
  let { createArchitectureServices: e30 } = await w(async () => {
    let { createArchitectureServices: e31 } = await Promise.resolve().then(() => e_K);
    return { createArchitectureServices: e31 };
  }, true ? void 0 : void 0), t10 = e30().Architecture.parser.LangiumParser;
  J8.architecture = t10;
}, "architecture"), gitGraph: JT(async () => {
  let { createGitGraphServices: e30 } = await w(async () => {
    let { createGitGraphServices: e31 } = await Promise.resolve().then(() => e_Z);
    return { createGitGraphServices: e31 };
  }, true ? void 0 : void 0), t10 = e30().GitGraph.parser.LangiumParser;
  J8.gitGraph = t10;
}, "gitGraph") };
async function eee(e30, t10) {
  let r10 = J9[e30];
  if (!r10) throw Error(`Unknown diagram type: ${e30}`);
  J8[e30] || await r10();
  let n10 = J8[e30].parse(t10);
  if (n10.lexerErrors.length > 0 || n10.parserErrors.length > 0) throw new eet(n10);
  return n10.value;
}
iM(eee, "parse"), JT(eee, "parse");
var eet = (_uc = class extends Error {
  constructor(e30) {
    super(`Parsing failed: ${e30.lexerErrors.map((e31) => e31.message).join("\n")} ${e30.parserErrors.map((e31) => e31.message).join("\n")}`), this.result = e30;
  }
}, _i185 = new WeakMap(), _l7 = new WeakMap(), __privateAdd(_uc, _i185, iM(_uc, "MermaidParseError")), __privateAdd(_uc, _l7, JT(_uc, "MermaidParseError")), _uc), eer = (_vc = class extends J7 {
  constructor() {
    super(["pie", "showData"]);
  }
}, _i186 = new WeakMap(), _l8 = new WeakMap(), __privateAdd(_vc, _i186, iM(_vc, "PieTokenBuilder")), __privateAdd(_vc, _l8, JT(_vc, "PieTokenBuilder")), _vc), een = (_wc = class extends J5 {
  runCustomConverter(e30, t10, r10) {
    if ("PIE_SECTION_LABEL" === e30.name) return t10.replace(/"/g, "").trim();
  }
}, _i187 = new WeakMap(), _l9 = new WeakMap(), __privateAdd(_wc, _i187, iM(_wc, "PieValueConverter")), __privateAdd(_wc, _l9, JT(_wc, "PieValueConverter")), _wc), eei = { parser: { TokenBuilder: JT(() => new eer(), "TokenBuilder"), ValueConverter: JT(() => new een(), "ValueConverter") } };
function eea() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Jv, t10 = Jc(Jl(e30), JQ), r10 = Jc(Jo({ shared: t10 }), J1, eei);
  return t10.ServiceRegistry.register(r10), { shared: t10, Pie: r10 };
}
iM(eea, "createPieServices"), JT(eea, "createPieServices");
var ees = (_xc = class extends J7 {
  constructor() {
    super(["architecture"]);
  }
}, _i188 = new WeakMap(), _l10 = new WeakMap(), __privateAdd(_xc, _i188, iM(_xc, "ArchitectureTokenBuilder")), __privateAdd(_xc, _l10, JT(_xc, "ArchitectureTokenBuilder")), _xc), eeo = (_yc = class extends J5 {
  runCustomConverter(e30, t10, r10) {
    return "ARCH_ICON" === e30.name ? t10.replace(/[()]/g, "").trim() : "ARCH_TEXT_ICON" === e30.name ? t10.replace(/["()]/g, "") : "ARCH_TITLE" === e30.name ? t10.replace(/[[\]]/g, "").trim() : void 0;
  }
}, _i189 = new WeakMap(), _l11 = new WeakMap(), __privateAdd(_yc, _i189, iM(_yc, "ArchitectureValueConverter")), __privateAdd(_yc, _l11, JT(_yc, "ArchitectureValueConverter")), _yc), eel = { parser: { TokenBuilder: JT(() => new ees(), "TokenBuilder"), ValueConverter: JT(() => new eeo(), "ValueConverter") } };
function eec() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Jv, t10 = Jc(Jl(e30), JQ), r10 = Jc(Jo({ shared: t10 }), J2, eel);
  return t10.ServiceRegistry.register(r10), { shared: t10, Architecture: r10 };
}
iM(eec, "createArchitectureServices"), JT(eec, "createArchitectureServices");
var eeh = (_zc = class extends J7 {
  constructor() {
    super(["gitGraph"]);
  }
}, _i190 = new WeakMap(), _l12 = new WeakMap(), __privateAdd(_zc, _i190, iM(_zc, "GitGraphTokenBuilder")), __privateAdd(_zc, _l12, JT(_zc, "GitGraphTokenBuilder")), _zc), eeu = { parser: { TokenBuilder: JT(() => new eeh(), "TokenBuilder"), ValueConverter: JT(() => new J6(), "ValueConverter") } };
function eed() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Jv, t10 = Jc(Jl(e30), JQ), r10 = Jc(Jo({ shared: t10 }), J4, eeu);
  return t10.ServiceRegistry.register(r10), { shared: t10, GitGraph: r10 };
}
iM(eed, "createGitGraphServices"), JT(eed, "createGitGraphServices");
var eep = (_Ac = class extends J7 {
  constructor() {
    super(["info", "showInfo"]);
  }
}, _i191 = new WeakMap(), _l13 = new WeakMap(), __privateAdd(_Ac, _i191, iM(_Ac, "InfoTokenBuilder")), __privateAdd(_Ac, _l13, JT(_Ac, "InfoTokenBuilder")), _Ac), eef = { parser: { TokenBuilder: JT(() => new eep(), "TokenBuilder"), ValueConverter: JT(() => new J6(), "ValueConverter") } };
function eeg() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Jv, t10 = Jc(Jl(e30), JQ), r10 = Jc(Jo({ shared: t10 }), JJ, eef);
  return t10.ServiceRegistry.register(r10), { shared: t10, Info: r10 };
}
iM(eeg, "createInfoServices"), JT(eeg, "createInfoServices");
var eem = (_Bc = class extends J7 {
  constructor() {
    super(["packet-beta"]);
  }
}, _i192 = new WeakMap(), _l14 = new WeakMap(), __privateAdd(_Bc, _i192, iM(_Bc, "PacketTokenBuilder")), __privateAdd(_Bc, _l14, JT(_Bc, "PacketTokenBuilder")), _Bc), eey = { parser: { TokenBuilder: JT(() => new eem(), "TokenBuilder"), ValueConverter: JT(() => new J6(), "ValueConverter") } };
function eev() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Jv, t10 = Jc(Jl(e30), JQ), r10 = Jc(Jo({ shared: t10 }), J0, eey);
  return t10.ServiceRegistry.register(r10), { shared: t10, Packet: r10 };
}
iM(eev, "createPacketServices"), JT(eev, "createPacketServices");
var eex = { NORMAL: 0, REVERSE: 1, HIGHLIGHT: 2, MERGE: 3, CHERRY_PICK: 4 }, eeb = aC.gitGraph, eek = iM(() => k1({ ...eeb, ...aj().gitGraph }), "getConfig"), eew = new Uh(() => {
  let e30 = eek(), t10 = e30.mainBranchName, r10 = e30.mainBranchOrder;
  return { mainBranchName: t10, commits: /* @__PURE__ */ new Map(), head: null, branchConfig: /* @__PURE__ */ new Map([[t10, { name: t10, order: r10 }]]), branches: /* @__PURE__ */ new Map([[t10, null]]), currBranch: t10, direction: "LR", seq: 0, options: {} };
});
function ee_() {
  return kq({ length: 7 });
}
function eeT(e30, t10) {
  let r10 = /* @__PURE__ */ Object.create(null);
  return e30.reduce((e31, n10) => {
    let i10 = t10(n10);
    return r10[i10] || (r10[i10] = true, e31.push(n10)), e31;
  }, []);
}
iM(ee_, "getID"), iM(eeT, "uniqBy");
var eeS = iM(function(e30) {
  eew.records.direction = e30;
}, "setDirection"), eeC = iM(function(e30) {
  iz.debug("options str", e30), e30 = (e30 = null == e30 ? void 0 : e30.trim()) || "{}";
  try {
    eew.records.options = JSON.parse(e30);
  } catch (e31) {
    iz.error("error while parsing gitGraph options", e31.message);
  }
}, "setOptions"), eeE = iM(function() {
  return eew.records.options;
}, "getOptions"), eeA = iM(function(e30) {
  let t10 = e30.msg, r10 = e30.id, n10 = e30.type, i10 = e30.tags;
  iz.info("commit", t10, r10, n10, i10), iz.debug("Entering commit:", t10, r10, n10, i10);
  let a10 = eek();
  r10 = oe.sanitizeText(r10, a10), t10 = oe.sanitizeText(t10, a10), i10 = null == i10 ? void 0 : i10.map((e31) => oe.sanitizeText(e31, a10));
  let s10 = { id: r10 || eew.records.seq + "-" + ee_(), message: t10, seq: eew.records.seq++, type: null != n10 ? n10 : eex.NORMAL, tags: null != i10 ? i10 : [], parents: null == eew.records.head ? [] : [eew.records.head.id], branch: eew.records.currBranch };
  eew.records.head = s10, iz.info("main branch", a10.mainBranchName), eew.records.commits.set(s10.id, s10), eew.records.branches.set(eew.records.currBranch, s10.id), iz.debug("in pushCommit " + s10.id);
}, "commit"), eeL = iM(function(e30) {
  let t10 = e30.name, r10 = e30.order;
  if (t10 = oe.sanitizeText(t10, eek()), eew.records.branches.has(t10)) throw Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t10}")`);
  eew.records.branches.set(t10, null != eew.records.head ? eew.records.head.id : null), eew.records.branchConfig.set(t10, { name: t10, order: r10 }), eeN(t10), iz.debug("in createBranch");
}, "branch"), eeI = iM((e30) => {
  let t10 = e30.branch, r10 = e30.id, n10 = e30.type, i10 = e30.tags, a10 = eek();
  t10 = oe.sanitizeText(t10, a10), r10 && (r10 = oe.sanitizeText(r10, a10));
  let s10 = eew.records.branches.get(eew.records.currBranch), o10 = eew.records.branches.get(t10), l10 = s10 ? eew.records.commits.get(s10) : void 0, h10 = o10 ? eew.records.commits.get(o10) : void 0;
  if (l10 && h10 && l10.branch === t10) throw Error(`Cannot merge branch '${t10}' into itself.`);
  if (eew.records.currBranch === t10) {
    let e31 = Error('Incorrect usage of "merge". Cannot merge a branch to itself');
    throw e31.hash = { text: `merge ${t10}`, token: `merge ${t10}`, expected: ["branch abc"] }, e31;
  }
  if (void 0 === l10 || !l10) {
    let e31 = Error(`Incorrect usage of "merge". Current branch (${eew.records.currBranch})has no commits`);
    throw e31.hash = { text: `merge ${t10}`, token: `merge ${t10}`, expected: ["commit"] }, e31;
  }
  if (!eew.records.branches.has(t10)) {
    let e31 = Error('Incorrect usage of "merge". Branch to be merged (' + t10 + ") does not exist");
    throw e31.hash = { text: `merge ${t10}`, token: `merge ${t10}`, expected: [`branch ${t10}`] }, e31;
  }
  if (void 0 === h10 || !h10) {
    let e31 = Error('Incorrect usage of "merge". Branch to be merged (' + t10 + ") has no commits");
    throw e31.hash = { text: `merge ${t10}`, token: `merge ${t10}`, expected: ['"commit"'] }, e31;
  }
  if (l10 === h10) {
    let e31 = Error('Incorrect usage of "merge". Both branches have same head');
    throw e31.hash = { text: `merge ${t10}`, token: `merge ${t10}`, expected: ["branch abc"] }, e31;
  }
  if (r10 && eew.records.commits.has(r10)) {
    let e31 = Error('Incorrect usage of "merge". Commit with id:' + r10 + " already exists, use different custom Id");
    throw e31.hash = { text: `merge ${t10} ${r10} ${n10} ${null == i10 ? void 0 : i10.join(" ")}`, token: `merge ${t10} ${r10} ${n10} ${null == i10 ? void 0 : i10.join(" ")}`, expected: [`merge ${t10} ${r10}_UNIQUE ${n10} ${null == i10 ? void 0 : i10.join(" ")}`] }, e31;
  }
  let u10 = { id: r10 || `${eew.records.seq}-${ee_()}`, message: `merged branch ${t10} into ${eew.records.currBranch}`, seq: eew.records.seq++, parents: null == eew.records.head ? [] : [eew.records.head.id, o10 || ""], branch: eew.records.currBranch, type: eex.MERGE, customType: n10, customId: !!r10, tags: null != i10 ? i10 : [] };
  eew.records.head = u10, eew.records.commits.set(u10.id, u10), eew.records.branches.set(eew.records.currBranch, u10.id), iz.debug(eew.records.branches), iz.debug("in mergeBranch");
}, "merge"), eeM = iM(function(e30) {
  let t10 = e30.id, r10 = e30.targetId, n10 = e30.tags, i10 = e30.parent;
  iz.debug("Entering cherryPick:", t10, r10, n10);
  let a10 = eek();
  if (t10 = oe.sanitizeText(t10, a10), r10 = oe.sanitizeText(r10, a10), n10 = null == n10 ? void 0 : n10.map((e31) => oe.sanitizeText(e31, a10)), i10 = oe.sanitizeText(i10, a10), !t10 || !eew.records.commits.has(t10)) {
    let e31 = Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');
    throw e31.hash = { text: `cherryPick ${t10} ${r10}`, token: `cherryPick ${t10} ${r10}`, expected: ["cherry-pick abc"] }, e31;
  }
  let s10 = eew.records.commits.get(t10);
  if (void 0 === s10 || !s10) throw Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');
  if (i10 && !(Array.isArray(s10.parents) && s10.parents.includes(i10))) throw Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");
  let o10 = s10.branch;
  if (s10.type === eex.MERGE && !i10) throw Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");
  if (!r10 || !eew.records.commits.has(r10)) {
    if (o10 === eew.records.currBranch) {
      let e32 = Error('Incorrect usage of "cherryPick". Source commit is already on current branch');
      throw e32.hash = { text: `cherryPick ${t10} ${r10}`, token: `cherryPick ${t10} ${r10}`, expected: ["cherry-pick abc"] }, e32;
    }
    let e31 = eew.records.branches.get(eew.records.currBranch);
    if (void 0 === e31 || !e31) {
      let e32 = Error(`Incorrect usage of "cherry-pick". Current branch (${eew.records.currBranch})has no commits`);
      throw e32.hash = { text: `cherryPick ${t10} ${r10}`, token: `cherryPick ${t10} ${r10}`, expected: ["cherry-pick abc"] }, e32;
    }
    let a11 = eew.records.commits.get(e31);
    if (void 0 === a11 || !a11) {
      let e32 = Error(`Incorrect usage of "cherry-pick". Current branch (${eew.records.currBranch})has no commits`);
      throw e32.hash = { text: `cherryPick ${t10} ${r10}`, token: `cherryPick ${t10} ${r10}`, expected: ["cherry-pick abc"] }, e32;
    }
    let l10 = { id: eew.records.seq + "-" + ee_(), message: `cherry-picked ${null == s10 ? void 0 : s10.message} into ${eew.records.currBranch}`, seq: eew.records.seq++, parents: null == eew.records.head ? [] : [eew.records.head.id, s10.id], branch: eew.records.currBranch, type: eex.CHERRY_PICK, tags: n10 ? n10.filter(Boolean) : [`cherry-pick:${s10.id}${s10.type === eex.MERGE ? `|parent:${i10}` : ""}`] };
    eew.records.head = l10, eew.records.commits.set(l10.id, l10), eew.records.branches.set(eew.records.currBranch, l10.id), iz.debug(eew.records.branches), iz.debug("in cherryPick");
  }
}, "cherryPick"), eeN = iM(function(e30) {
  if (e30 = oe.sanitizeText(e30, eek()), eew.records.branches.has(e30)) {
    eew.records.currBranch = e30;
    let r10 = eew.records.branches.get(eew.records.currBranch);
    if (void 0 !== r10 && r10) {
      var t10;
      eew.records.head = null !== (t10 = eew.records.commits.get(r10)) && void 0 !== t10 ? t10 : null;
    } else eew.records.head = null;
  } else {
    let t11 = Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e30}")`);
    throw t11.hash = { text: `checkout ${e30}`, token: `checkout ${e30}`, expected: [`branch ${e30}`] }, t11;
  }
}, "checkout");
function eeR(e30, t10, r10) {
  let n10 = e30.indexOf(t10);
  -1 === n10 ? e30.push(r10) : e30.splice(n10, 1, r10);
}
function eeD(e30) {
  let t10 = e30.reduce((e31, t11) => e31.seq > t11.seq ? e31 : t11, e30[0]), r10 = "";
  e30.forEach(function(e31) {
    e31 === t10 ? r10 += "	*" : r10 += "	|";
  });
  let n10 = [r10, t10.id, t10.seq];
  for (let e31 in eew.records.branches) eew.records.branches.get(e31) === t10.id && n10.push(e31);
  if (iz.debug(n10.join(" ")), t10.parents && 2 == t10.parents.length && t10.parents[0] && t10.parents[1]) {
    let r11 = eew.records.commits.get(t10.parents[0]);
    eeR(e30, t10, r11), t10.parents[1] && e30.push(eew.records.commits.get(t10.parents[1]));
  } else if (0 == t10.parents.length) return;
  else if (t10.parents[0]) {
    let r11 = eew.records.commits.get(t10.parents[0]);
    eeR(e30, t10, r11);
  }
  eeD(e30 = eeT(e30, (e31) => e31.id));
}
iM(eeR, "upsert"), iM(eeD, "prettyPrintCommitHistory");
var eeO = iM(function() {
  iz.debug(eew.records.commits), eeD([eez()[0]]);
}, "prettyPrint"), ee$ = iM(function() {
  eew.reset(), op();
}, "clear"), eeP = iM(function() {
  return [...eew.records.branchConfig.values()].map((e30, t10) => null !== e30.order && void 0 !== e30.order ? e30 : { ...e30, order: parseFloat(`0.${t10}`) }).sort((e30, t10) => {
    var r10, n10;
    return (null !== (r10 = e30.order) && void 0 !== r10 ? r10 : 0) - (null !== (n10 = t10.order) && void 0 !== n10 ? n10 : 0);
  }).map((e30) => {
    let { name: t10 } = e30;
    return { name: t10 };
  });
}, "getBranchesAsObjArray"), eeB = iM(function() {
  return eew.records.branches;
}, "getBranches"), eeF = iM(function() {
  return eew.records.commits;
}, "getCommits"), eez = iM(function() {
  let e30 = [...eew.records.commits.values()];
  return e30.forEach(function(e31) {
    iz.debug(e31.id);
  }), e30.sort((e31, t10) => e31.seq - t10.seq), e30;
}, "getCommitsArray"), eej = { commitType: eex, getConfig: eek, setDirection: eeS, setOptions: eeC, getOptions: eeE, commit: eeA, branch: eeL, merge: eeI, cherryPick: eeM, checkout: eeN, prettyPrint: eeO, clear: ee$, getBranchesAsObjArray: eeP, getBranches: eeB, getCommits: eeF, getCommitsArray: eez, getCurrentBranch: iM(function() {
  return eew.records.currBranch;
}, "getCurrentBranch"), getDirection: iM(function() {
  return eew.records.direction;
}, "getDirection"), getHead: iM(function() {
  return eew.records.head;
}, "getHead"), setAccTitle: of, getAccTitle: og, getAccDescription: oy, setAccDescription: om, setDiagramTitle: ov, getDiagramTitle: ox }, eeq = iM((e30, t10) => {
  for (let r10 of (Uu(e30, t10), e30.dir && t10.setDirection(e30.dir), e30.statements)) eeU(r10, t10);
}, "populate"), eeU = iM((e30, t10) => {
  let r10 = { Commit: iM((e31) => t10.commit(eeW(e31)), "Commit"), Branch: iM((e31) => t10.branch(eeV(e31)), "Branch"), Merge: iM((e31) => t10.merge(eeH(e31)), "Merge"), Checkout: iM((e31) => t10.checkout(eeY(e31)), "Checkout"), CherryPicking: iM((e31) => t10.cherryPick(eeG(e31)), "CherryPicking") }[e30.$type];
  r10 ? r10(e30) : iz.error(`Unknown statement type: ${e30.$type}`);
}, "parseStatement"), eeW = iM((e30) => {
  var t10, r10;
  return { id: e30.id, msg: null !== (t10 = e30.message) && void 0 !== t10 ? t10 : "", type: void 0 !== e30.type ? eex[e30.type] : eex.NORMAL, tags: null !== (r10 = e30.tags) && void 0 !== r10 ? r10 : void 0 };
}, "parseCommit"), eeV = iM((e30) => {
  var t10;
  return { name: e30.name, order: null !== (t10 = e30.order) && void 0 !== t10 ? t10 : 0 };
}, "parseBranch"), eeH = iM((e30) => {
  var t10, r10;
  return { branch: e30.branch, id: null !== (t10 = e30.id) && void 0 !== t10 ? t10 : "", type: void 0 !== e30.type ? eex[e30.type] : void 0, tags: null !== (r10 = e30.tags) && void 0 !== r10 ? r10 : void 0 };
}, "parseMerge"), eeY = iM((e30) => e30.branch, "parseCheckout"), eeG = iM((e30) => {
  var t10;
  return { id: e30.id, targetId: "", tags: (null === (t10 = e30.tags) || void 0 === t10 ? void 0 : t10.length) === 0 ? void 0 : e30.tags, parent: e30.parent };
}, "parseCherryPicking"), eeX = { parse: iM(async (e30) => {
  let t10 = await eee("gitGraph", e30);
  iz.debug(t10), eeq(t10, eej);
}, "parse") }, eeK = aj(), eeZ = null == eeK ? void 0 : eeK.gitGraph, eeQ = /* @__PURE__ */ new Map(), eeJ = /* @__PURE__ */ new Map(), ee0 = /* @__PURE__ */ new Map(), ee1 = [], ee2 = 0, ee4 = "LR", ee3 = iM(() => {
  eeQ.clear(), eeJ.clear(), ee0.clear(), ee2 = 0, ee1 = [], ee4 = "LR";
}, "clear"), ee5 = iM((e30) => {
  let t10 = document.createElementNS("http://www.w3.org/2000/svg", "text");
  return ("string" == typeof e30 ? e30.split(/\\n|\n|<br\s*\/?>/gi) : e30).forEach((e31) => {
    let r10 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
    r10.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), r10.setAttribute("dy", "1em"), r10.setAttribute("x", "0"), r10.setAttribute("class", "row"), r10.textContent = e31.trim(), t10.appendChild(r10);
  }), t10;
}, "drawText"), ee6 = iM((e30) => {
  let t10, r10, n10;
  return "BT" === ee4 ? (r10 = iM((e31, t11) => e31 <= t11, "comparisonFunc"), n10 = 1 / 0) : (r10 = iM((e31, t11) => e31 >= t11, "comparisonFunc"), n10 = 0), e30.forEach((e31) => {
    var i10, a10;
    let s10 = "TB" === ee4 || "BT" == ee4 ? null === (i10 = eeJ.get(e31)) || void 0 === i10 ? void 0 : i10.y : null === (a10 = eeJ.get(e31)) || void 0 === a10 ? void 0 : a10.x;
    void 0 !== s10 && r10(s10, n10) && (t10 = e31, n10 = s10);
  }), t10;
}, "findClosestParent"), ee7 = iM((e30) => {
  let t10 = "", r10 = 1 / 0;
  return e30.forEach((e31) => {
    let n10 = eeJ.get(e31).y;
    n10 <= r10 && (t10 = e31, r10 = n10);
  }), t10 || void 0;
}, "findClosestParentBT"), ee8 = iM((e30, t10, r10) => {
  let n10 = r10, i10 = r10, a10 = [];
  e30.forEach((e31) => {
    let r11 = t10.get(e31);
    if (!r11) throw Error(`Commit not found for key ${e31}`);
    r11.parents.length ? i10 = Math.max(n10 = ete(r11), i10) : a10.push(r11), ett(r11, n10);
  }), n10 = i10, a10.forEach((e31) => {
    etr(e31, n10, r10);
  }), e30.forEach((e31) => {
    let r11 = t10.get(e31);
    if (null == r11 ? void 0 : r11.parents.length) {
      let e32 = ee7(r11.parents);
      (n10 = eeJ.get(e32).y - 40) <= i10 && (i10 = n10);
      let t11 = eeQ.get(r11.branch).pos, a11 = n10 - 10;
      eeJ.set(r11.id, { x: t11, y: a11 });
    }
  });
}, "setParallelBTPos"), ee9 = iM((e30) => {
  var t10;
  let r10 = ee6(e30.parents.filter((e31) => null !== e31));
  if (!r10) throw Error(`Closest parent not found for commit ${e30.id}`);
  let n10 = null === (t10 = eeJ.get(r10)) || void 0 === t10 ? void 0 : t10.y;
  if (void 0 === n10) throw Error(`Closest parent position not found for commit ${e30.id}`);
  return n10;
}, "findClosestParentPos"), ete = iM((e30) => ee9(e30) + 40, "calculateCommitPosition"), ett = iM((e30, t10) => {
  let r10 = eeQ.get(e30.branch);
  if (!r10) throw Error(`Branch not found for commit ${e30.id}`);
  let n10 = r10.pos, i10 = t10 + 10;
  return eeJ.set(e30.id, { x: n10, y: i10 }), { x: n10, y: i10 };
}, "setCommitPosition"), etr = iM((e30, t10, r10) => {
  let n10 = eeQ.get(e30.branch);
  if (!n10) throw Error(`Branch not found for commit ${e30.id}`);
  let i10 = n10.pos;
  eeJ.set(e30.id, { x: i10, y: t10 + r10 });
}, "setRootPosition"), etn = iM((e30, t10, r10, n10, i10, a10) => {
  if (a10 === eex.HIGHLIGHT) e30.append("rect").attr("x", r10.x - 10).attr("y", r10.y - 10).attr("width", 20).attr("height", 20).attr("class", `commit ${t10.id} commit-highlight${i10 % 8} ${n10}-outer`), e30.append("rect").attr("x", r10.x - 6).attr("y", r10.y - 6).attr("width", 12).attr("height", 12).attr("class", `commit ${t10.id} commit${i10 % 8} ${n10}-inner`);
  else if (a10 === eex.CHERRY_PICK) e30.append("circle").attr("cx", r10.x).attr("cy", r10.y).attr("r", 10).attr("class", `commit ${t10.id} ${n10}`), e30.append("circle").attr("cx", r10.x - 3).attr("cy", r10.y + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${t10.id} ${n10}`), e30.append("circle").attr("cx", r10.x + 3).attr("cy", r10.y + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${t10.id} ${n10}`), e30.append("line").attr("x1", r10.x + 3).attr("y1", r10.y + 1).attr("x2", r10.x).attr("y2", r10.y - 5).attr("stroke", "#fff").attr("class", `commit ${t10.id} ${n10}`), e30.append("line").attr("x1", r10.x - 3).attr("y1", r10.y + 1).attr("x2", r10.x).attr("y2", r10.y - 5).attr("stroke", "#fff").attr("class", `commit ${t10.id} ${n10}`);
  else {
    let s10 = e30.append("circle");
    if (s10.attr("cx", r10.x), s10.attr("cy", r10.y), s10.attr("r", t10.type === eex.MERGE ? 9 : 10), s10.attr("class", `commit ${t10.id} commit${i10 % 8}`), a10 === eex.MERGE) {
      let a11 = e30.append("circle");
      a11.attr("cx", r10.x), a11.attr("cy", r10.y), a11.attr("r", 6), a11.attr("class", `commit ${n10} ${t10.id} commit${i10 % 8}`);
    }
    a10 === eex.REVERSE && e30.append("path").attr("d", `M ${r10.x - 5},${r10.y - 5}L${r10.x + 5},${r10.y + 5}M${r10.x - 5},${r10.y + 5}L${r10.x + 5},${r10.y - 5}`).attr("class", `commit ${n10} ${t10.id} commit${i10 % 8}`);
  }
}, "drawCommitBullet"), eti = iM((e30, t10, r10, n10) => {
  if (t10.type !== eex.CHERRY_PICK && (t10.customId && t10.type === eex.MERGE || t10.type !== eex.MERGE) && (null == eeZ ? void 0 : eeZ.showCommitLabel)) {
    var i10;
    let a10 = e30.append("g"), s10 = a10.insert("rect").attr("class", "commit-label-bkg"), o10 = a10.append("text").attr("x", n10).attr("y", r10.y + 25).attr("class", "commit-label").text(t10.id), l10 = null === (i10 = o10.node()) || void 0 === i10 ? void 0 : i10.getBBox();
    if (l10 && (s10.attr("x", r10.posWithOffset - l10.width / 2 - 2).attr("y", r10.y + 13.5).attr("width", l10.width + 4).attr("height", l10.height + 4), "TB" === ee4 || "BT" === ee4 ? (s10.attr("x", r10.x - (l10.width + 16 + 5)).attr("y", r10.y - 12), o10.attr("x", r10.x - (l10.width + 16)).attr("y", r10.y + l10.height - 12)) : o10.attr("x", r10.posWithOffset - l10.width / 2), eeZ.rotateCommitLabel)) {
      if ("TB" === ee4 || "BT" === ee4) o10.attr("transform", "rotate(-45, " + r10.x + ", " + r10.y + ")"), s10.attr("transform", "rotate(-45, " + r10.x + ", " + r10.y + ")");
      else {
        let e31 = -7.5 - (l10.width + 10) / 25 * 9.5, t11 = 10 + l10.width / 25 * 8.5;
        a10.attr("transform", "translate(" + e31 + ", " + t11 + ") rotate(-45, " + n10 + ", " + r10.y + ")");
      }
    }
  }
}, "drawCommitLabel"), eta = iM((e30, t10, r10, n10) => {
  if (t10.tags.length > 0) {
    let a10 = 0, s10 = 0, o10 = 0, l10 = [];
    for (let n11 of t10.tags.reverse()) {
      var i10;
      let t11 = e30.insert("polygon"), h10 = e30.append("circle"), u10 = e30.append("text").attr("y", r10.y - 16 - a10).attr("class", "tag-label").text(n11), d10 = null === (i10 = u10.node()) || void 0 === i10 ? void 0 : i10.getBBox();
      if (!d10) throw Error("Tag bbox not found");
      s10 = Math.max(s10, d10.width), o10 = Math.max(o10, d10.height), u10.attr("x", r10.posWithOffset - d10.width / 2), l10.push({ tag: u10, hole: h10, rect: t11, yOffset: a10 }), a10 += 20;
    }
    for (let { tag: e31, hole: t11, rect: i11, yOffset: a11 } of l10) {
      let l11 = o10 / 2, h10 = r10.y - 19.2 - a11;
      if (i11.attr("class", "tag-label-bkg").attr("points", `
      ${n10 - s10 / 2 - 2},${h10 + 2}  
      ${n10 - s10 / 2 - 2},${h10 - 2}
      ${r10.posWithOffset - s10 / 2 - 4},${h10 - l11 - 2}
      ${r10.posWithOffset + s10 / 2 + 4},${h10 - l11 - 2}
      ${r10.posWithOffset + s10 / 2 + 4},${h10 + l11 + 2}
      ${r10.posWithOffset - s10 / 2 - 4},${h10 + l11 + 2}`), t11.attr("cy", h10).attr("cx", n10 - s10 / 2 + 2).attr("r", 1.5).attr("class", "tag-hole"), "TB" === ee4 || "BT" === ee4) {
        let o11 = n10 + a11;
        i11.attr("class", "tag-label-bkg").attr("points", `
        ${r10.x},${o11 + 2}
        ${r10.x},${o11 - 2}
        ${r10.x + 10},${o11 - l11 - 2}
        ${r10.x + 10 + s10 + 4},${o11 - l11 - 2}
        ${r10.x + 10 + s10 + 4},${o11 + l11 + 2}
        ${r10.x + 10},${o11 + l11 + 2}`).attr("transform", "translate(12,12) rotate(45, " + r10.x + "," + n10 + ")"), t11.attr("cx", r10.x + 2).attr("cy", o11).attr("transform", "translate(12,12) rotate(45, " + r10.x + "," + n10 + ")"), e31.attr("x", r10.x + 5).attr("y", o11 + 3).attr("transform", "translate(14,14) rotate(45, " + r10.x + "," + n10 + ")");
      }
    }
  }
}, "drawCommitTags"), ets = iM((e30) => {
  var t10;
  switch (null !== (t10 = e30.customType) && void 0 !== t10 ? t10 : e30.type) {
    case eex.NORMAL:
      return "commit-normal";
    case eex.REVERSE:
      return "commit-reverse";
    case eex.HIGHLIGHT:
      return "commit-highlight";
    case eex.MERGE:
      return "commit-merge";
    case eex.CHERRY_PICK:
      return "commit-cherry-pick";
    default:
      return "commit-normal";
  }
}, "getCommitClassType"), eto = iM((e30, t10, r10, n10) => {
  var i10, a10, s10;
  let o10 = { x: 0, y: 0 };
  if (e30.parents.length > 0) {
    let r11 = ee6(e30.parents);
    if (r11) {
      let s11 = null !== (i10 = n10.get(r11)) && void 0 !== i10 ? i10 : o10;
      return "TB" === t10 ? s11.y + 40 : "BT" === t10 ? (null !== (a10 = n10.get(e30.id)) && void 0 !== a10 ? a10 : o10).y - 40 : s11.x + 40;
    }
  } else {
    if ("TB" === t10) return 30;
    if ("BT" === t10) return (null !== (s10 = n10.get(e30.id)) && void 0 !== s10 ? s10 : o10).y - 40;
  }
  return 0;
}, "calculatePosition"), etl = iM((e30, t10, r10) => {
  var n10, i10;
  let a10 = "BT" === ee4 && r10 ? t10 : t10 + 10, s10 = "TB" === ee4 || "BT" === ee4 ? a10 : null === (n10 = eeQ.get(e30.branch)) || void 0 === n10 ? void 0 : n10.pos, o10 = "TB" === ee4 || "BT" === ee4 ? null === (i10 = eeQ.get(e30.branch)) || void 0 === i10 ? void 0 : i10.pos : a10;
  if (void 0 === o10 || void 0 === s10) throw Error(`Position were undefined for commit ${e30.id}`);
  return { x: o10, y: s10, posWithOffset: a10 };
}, "getCommitPosition"), etc = iM((e30, t10, r10) => {
  var n10;
  if (!eeZ) throw Error("GitGraph config not found");
  let i10 = e30.append("g").attr("class", "commit-bullets"), a10 = e30.append("g").attr("class", "commit-labels"), s10 = "TB" === ee4 || "BT" === ee4 ? 30 : 0, o10 = [...t10.keys()], l10 = null !== (n10 = null == eeZ ? void 0 : eeZ.parallelCommits) && void 0 !== n10 && n10, h10 = o10.sort(iM((e31, r11) => {
    var n11, i11;
    let a11 = null === (n11 = t10.get(e31)) || void 0 === n11 ? void 0 : n11.seq, s11 = null === (i11 = t10.get(r11)) || void 0 === i11 ? void 0 : i11.seq;
    return void 0 !== a11 && void 0 !== s11 ? a11 - s11 : 0;
  }, "sortKeys"));
  "BT" === ee4 && (l10 && ee8(h10, t10, s10), h10 = h10.reverse()), h10.forEach((e31) => {
    let n11 = t10.get(e31);
    if (!n11) throw Error(`Commit not found for key ${e31}`);
    l10 && (s10 = eto(n11, ee4, s10, eeJ));
    let o11 = etl(n11, s10, l10);
    if (r10) {
      var h11, u10, d10;
      let e32 = ets(n11), t11 = null !== (u10 = n11.customType) && void 0 !== u10 ? u10 : n11.type, r11 = null !== (d10 = null === (h11 = eeQ.get(n11.branch)) || void 0 === h11 ? void 0 : h11.index) && void 0 !== d10 ? d10 : 0;
      etn(i10, n11, o11, e32, r11, t11), eti(a10, n11, o11, s10), eta(a10, n11, o11, s10);
    }
    "TB" === ee4 || "BT" === ee4 ? eeJ.set(n11.id, { x: o11.x, y: o11.posWithOffset }) : eeJ.set(n11.id, { x: o11.posWithOffset, y: o11.y }), (s10 = "BT" === ee4 && l10 ? s10 + 40 : s10 + 40 + 10) > ee2 && (ee2 = s10);
  });
}, "drawCommits"), eth = iM((e30, t10, r10, n10, i10) => {
  let a10 = ("TB" === ee4 || "BT" === ee4 ? r10.x < n10.x : r10.y < n10.y) ? t10.branch : e30.branch, s10 = iM((e31) => e31.branch === a10, "isOnBranchToGetCurve"), o10 = iM((r11) => r11.seq > e30.seq && r11.seq < t10.seq, "isBetweenCommits");
  return [...i10.values()].some((e31) => o10(e31) && s10(e31));
}, "shouldRerouteArrow"), etu = iM(function(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n10 = e30 + Math.abs(e30 - t10) / 2;
  if (r10 > 5) return n10;
  if (ee1.every((e31) => Math.abs(e31 - n10) >= 10)) return ee1.push(n10), n10;
  let i10 = Math.abs(e30 - t10);
  return etu(e30, t10 - i10 / 5, r10 + 1);
}, "findLane"), etd = iM((e30, t10, r10, n10) => {
  var i10, a10, s10, o10, l10;
  let h10;
  let u10 = eeJ.get(t10.id), d10 = eeJ.get(r10.id);
  if (void 0 === u10 || void 0 === d10) throw Error(`Commit positions not found for commits ${t10.id} and ${r10.id}`);
  let p10 = eth(t10, r10, u10, d10, n10), f10 = "", g10 = "", y10 = 0, v10 = 0, x10 = null === (i10 = eeQ.get(r10.branch)) || void 0 === i10 ? void 0 : i10.index;
  if (r10.type === eex.MERGE && t10.id !== r10.parents[0] && (x10 = null === (a10 = eeQ.get(t10.branch)) || void 0 === a10 ? void 0 : a10.index), p10) {
    f10 = "A 10 10, 0, 0, 0,", g10 = "A 10 10, 0, 0, 1,", y10 = 10, v10 = 10;
    let e31 = u10.y < d10.y ? etu(u10.y, d10.y) : etu(d10.y, u10.y), r11 = u10.x < d10.x ? etu(u10.x, d10.x) : etu(d10.x, u10.x);
    "TB" === ee4 ? u10.x < d10.x ? h10 = `M ${u10.x} ${u10.y} L ${r11 - y10} ${u10.y} ${g10} ${r11} ${u10.y + v10} L ${r11} ${d10.y - y10} ${f10} ${r11 + v10} ${d10.y} L ${d10.x} ${d10.y}` : (x10 = null === (s10 = eeQ.get(t10.branch)) || void 0 === s10 ? void 0 : s10.index, h10 = `M ${u10.x} ${u10.y} L ${r11 + y10} ${u10.y} ${f10} ${r11} ${u10.y + v10} L ${r11} ${d10.y - y10} ${g10} ${r11 - v10} ${d10.y} L ${d10.x} ${d10.y}`) : "BT" === ee4 ? u10.x < d10.x ? h10 = `M ${u10.x} ${u10.y} L ${r11 - y10} ${u10.y} ${f10} ${r11} ${u10.y - v10} L ${r11} ${d10.y + y10} ${g10} ${r11 + v10} ${d10.y} L ${d10.x} ${d10.y}` : (x10 = null === (o10 = eeQ.get(t10.branch)) || void 0 === o10 ? void 0 : o10.index, h10 = `M ${u10.x} ${u10.y} L ${r11 + y10} ${u10.y} ${g10} ${r11} ${u10.y - v10} L ${r11} ${d10.y + y10} ${f10} ${r11 - v10} ${d10.y} L ${d10.x} ${d10.y}`) : u10.y < d10.y ? h10 = `M ${u10.x} ${u10.y} L ${u10.x} ${e31 - y10} ${f10} ${u10.x + v10} ${e31} L ${d10.x - y10} ${e31} ${g10} ${d10.x} ${e31 + v10} L ${d10.x} ${d10.y}` : (x10 = null === (l10 = eeQ.get(t10.branch)) || void 0 === l10 ? void 0 : l10.index, h10 = `M ${u10.x} ${u10.y} L ${u10.x} ${e31 + y10} ${g10} ${u10.x + v10} ${e31} L ${d10.x - y10} ${e31} ${f10} ${d10.x} ${e31 - v10} L ${d10.x} ${d10.y}`);
  } else f10 = "A 20 20, 0, 0, 0,", g10 = "A 20 20, 0, 0, 1,", y10 = 20, v10 = 20, "TB" === ee4 ? (u10.x < d10.x && (h10 = r10.type === eex.MERGE && t10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y - y10} ${f10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${g10} ${d10.x} ${u10.y + v10} L ${d10.x} ${d10.y}`), u10.x > d10.x && (f10 = "A 20 20, 0, 0, 0,", g10 = "A 20 20, 0, 0, 1,", y10 = 20, v10 = 20, h10 = r10.type === eex.MERGE && t10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y - y10} ${g10} ${u10.x - v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x + y10} ${u10.y} ${f10} ${d10.x} ${u10.y + v10} L ${d10.x} ${d10.y}`), u10.x === d10.x && (h10 = `M ${u10.x} ${u10.y} L ${d10.x} ${d10.y}`)) : "BT" === ee4 ? (u10.x < d10.x && (h10 = r10.type === eex.MERGE && t10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y + y10} ${g10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${f10} ${d10.x} ${u10.y - v10} L ${d10.x} ${d10.y}`), u10.x > d10.x && (f10 = "A 20 20, 0, 0, 0,", g10 = "A 20 20, 0, 0, 1,", y10 = 20, v10 = 20, h10 = r10.type === eex.MERGE && t10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y + y10} ${f10} ${u10.x - v10} ${d10.y} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${f10} ${d10.x} ${u10.y - v10} L ${d10.x} ${d10.y}`), u10.x === d10.x && (h10 = `M ${u10.x} ${u10.y} L ${d10.x} ${d10.y}`)) : (u10.y < d10.y && (h10 = r10.type === eex.MERGE && t10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${g10} ${d10.x} ${u10.y + v10} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y - y10} ${f10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}`), u10.y > d10.y && (h10 = r10.type === eex.MERGE && t10.id !== r10.parents[0] ? `M ${u10.x} ${u10.y} L ${d10.x - y10} ${u10.y} ${f10} ${d10.x} ${u10.y - v10} L ${d10.x} ${d10.y}` : `M ${u10.x} ${u10.y} L ${u10.x} ${d10.y + y10} ${g10} ${u10.x + v10} ${d10.y} L ${d10.x} ${d10.y}`), u10.y === d10.y && (h10 = `M ${u10.x} ${u10.y} L ${d10.x} ${d10.y}`));
  if (void 0 === h10) throw Error("Line definition not found");
  e30.append("path").attr("d", h10).attr("class", "arrow arrow" + x10 % 8);
}, "drawArrow"), etp = iM((e30, t10) => {
  let r10 = e30.append("g").attr("class", "commit-arrows");
  [...t10.keys()].forEach((e31) => {
    let n10 = t10.get(e31);
    n10.parents && n10.parents.length > 0 && n10.parents.forEach((e32) => {
      etd(r10, t10.get(e32), n10, t10);
    });
  });
}, "drawArrows"), etf = iM((e30, t10) => {
  let r10 = e30.append("g");
  t10.forEach((e31, t11) => {
    var n10;
    let i10 = t11 % 8, a10 = null === (n10 = eeQ.get(e31.name)) || void 0 === n10 ? void 0 : n10.pos;
    if (void 0 === a10) throw Error(`Position not found for branch ${e31.name}`);
    let s10 = r10.append("line");
    s10.attr("x1", 0), s10.attr("y1", a10), s10.attr("x2", ee2), s10.attr("y2", a10), s10.attr("class", "branch branch" + i10), "TB" === ee4 ? (s10.attr("y1", 30), s10.attr("x1", a10), s10.attr("y2", ee2), s10.attr("x2", a10)) : "BT" === ee4 && (s10.attr("y1", ee2), s10.attr("x1", a10), s10.attr("y2", 30), s10.attr("x2", a10)), ee1.push(a10);
    let o10 = ee5(e31.name), l10 = r10.insert("rect"), h10 = r10.insert("g").attr("class", "branchLabel").insert("g").attr("class", "label branch-label" + i10);
    h10.node().appendChild(o10);
    let u10 = o10.getBBox();
    l10.attr("class", "branchLabelBkg label" + i10).attr("rx", 4).attr("ry", 4).attr("x", -u10.width - 4 - ((null == eeZ ? void 0 : eeZ.rotateCommitLabel) === true ? 30 : 0)).attr("y", -u10.height / 2 + 8).attr("width", u10.width + 18).attr("height", u10.height + 4), h10.attr("transform", "translate(" + (-u10.width - 14 - ((null == eeZ ? void 0 : eeZ.rotateCommitLabel) === true ? 30 : 0)) + ", " + (a10 - u10.height / 2 - 1) + ")"), "TB" === ee4 ? (l10.attr("x", a10 - u10.width / 2 - 10).attr("y", 0), h10.attr("transform", "translate(" + (a10 - u10.width / 2 - 5) + ", 0)")) : "BT" === ee4 ? (l10.attr("x", a10 - u10.width / 2 - 10).attr("y", ee2), h10.attr("transform", "translate(" + (a10 - u10.width / 2 - 5) + ", " + ee2 + ")")) : l10.attr("transform", "translate(-19, " + (a10 - u10.height / 2) + ")");
  });
}, "drawBranches"), etg = iM(function(e30, t10, r10, n10, i10) {
  return eeQ.set(e30, { pos: t10, index: r10 }), t10 += 50 + (i10 ? 40 : 0) + ("TB" === ee4 || "BT" === ee4 ? n10.width / 2 : 0);
}, "setBranchPosition");
let etm = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: eeX, db: eej, renderer: { draw: iM(function(e30, t10, r10, n10) {
  var i10, a10;
  if (ee3(), iz.debug("in gitgraph renderer", e30 + "\n", "id:", t10, r10), !eeZ) throw Error("GitGraph config not found");
  let s10 = null !== (i10 = eeZ.rotateCommitLabel) && void 0 !== i10 && i10, o10 = n10.db;
  ee0 = o10.getCommits();
  let l10 = o10.getBranchesAsObjArray();
  ee4 = o10.getDirection();
  let h10 = c$(`[id="${t10}"]`), u10 = 0;
  l10.forEach((e31, t11) => {
    var r11;
    let n11 = ee5(e31.name), i11 = h10.append("g"), a11 = i11.insert("g").attr("class", "branchLabel"), o11 = a11.insert("g").attr("class", "label branch-label");
    null === (r11 = o11.node()) || void 0 === r11 || r11.appendChild(n11);
    let l11 = n11.getBBox();
    u10 = etg(e31.name, u10, t11, l11, s10), o11.remove(), a11.remove(), i11.remove();
  }), etc(h10, ee0, false), eeZ.showBranches && etf(h10, l10), etp(h10, ee0), etc(h10, ee0, true), k2.insertTitle(h10, "gitTitleText", null !== (a10 = eeZ.titleTopMargin) && void 0 !== a10 ? a10 : 0, o10.getDiagramTitle()), oi(void 0, h10, eeZ.diagramPadding, eeZ.useMaxWidth);
}, "draw") }, styles: iM((e30) => `
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0, 1, 2, 3, 4, 5, 6, 7].map((t10) => `
        .branch-label${t10} { fill: ${e30["gitBranchLabel" + t10]}; }
        .commit${t10} { stroke: ${e30["git" + t10]}; fill: ${e30["git" + t10]}; }
        .commit-highlight${t10} { stroke: ${e30["gitInv" + t10]}; fill: ${e30["gitInv" + t10]}; }
        .label${t10}  { fill: ${e30["git" + t10]}; }
        .arrow${t10} { stroke: ${e30["git" + t10]}; }
        `).join("\n")}

  .branch {
    stroke-width: 1;
    stroke: ${e30.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e30.commitLabelFontSize}; fill: ${e30.commitLabelColor};}
  .commit-label-bkg { font-size: ${e30.commitLabelFontSize}; fill: ${e30.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e30.tagLabelFontSize}; fill: ${e30.tagLabelColor};}
  .tag-label-bkg { fill: ${e30.tagLabelBackground}; stroke: ${e30.tagLabelBorder}; }
  .tag-hole { fill: ${e30.textColor}; }

  .commit-merge {
    stroke: ${e30.primaryColor};
    fill: ${e30.primaryColor};
  }
  .commit-reverse {
    stroke: ${e30.primaryColor};
    fill: ${e30.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e30.primaryColor};
    fill: ${e30.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e30.textColor};
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
var ety = iN({ "../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/isoWeek.js"(e30, t10) {
  var r10, n10;
  r10 = e30, n10 = function() {
    return function(e31, t11, r11) {
      var n11 = iM(function(e32) {
        return e32.add(4 - e32.isoWeekday(), "day");
      }, "a"), i10 = t11.prototype;
      i10.isoWeekYear = function() {
        return n11(this).year();
      }, i10.isoWeek = function(e32) {
        if (!this.$utils().u(e32)) return this.add(7 * (e32 - this.isoWeek()), "day");
        var t12, i11, a11, s10 = n11(this), o10 = (t12 = this.isoWeekYear(), a11 = 4 - (i11 = (this.$u ? r11.utc : r11)().year(t12).startOf("year")).isoWeekday(), i11.isoWeekday() > 4 && (a11 += 7), i11.add(a11, "day"));
        return s10.diff(o10, "week") + 1;
      }, i10.isoWeekday = function(e32) {
        return this.$utils().u(e32) ? this.day() || 7 : this.day(this.day() % 7 ? e32 : e32 - 7);
      };
      var a10 = i10.startOf;
      i10.startOf = function(e32, t12) {
        var r12 = this.$utils(), n12 = !!r12.u(t12) || t12;
        return "isoweek" === r12.p(e32) ? n12 ? this.date(this.date() - (this.isoWeekday() - 1)).startOf("day") : this.date(this.date() - 1 - (this.isoWeekday() - 1) + 7).endOf("day") : a10.bind(this)(e32, t12);
      };
    };
  }, "object" == typeof e30 && void 0 !== t10 ? t10.exports = n10() : "function" == typeof define && define.amd ? define(n10) : (r10 = "undefined" != typeof globalThis ? globalThis : r10 || self).dayjs_plugin_isoWeek = n10();
} }), etv = iN({ "../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/customParseFormat.js"(e30, t10) {
  var r10, n10;
  r10 = e30, n10 = function() {
    var e31 = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, t11 = /(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g, r11 = /\d/, n11 = /\d\d/, i10 = /\d\d?/, a10 = /\d*[^-_:/,()\s\d]+/, s10 = {}, o10 = iM(function(e32) {
      return (e32 = +e32) + (e32 > 68 ? 1900 : 2e3);
    }, "a"), l10 = iM(function(e32) {
      return function(t12) {
        this[e32] = +t12;
      };
    }, "f"), h10 = [/[+-]\d\d:?(\d\d)?|Z/, function(e32) {
      (this.zone || (this.zone = {})).offset = function(e33) {
        if (!e33 || "Z" === e33) return 0;
        var t12 = e33.match(/([+-]|\d\d)/g), r12 = 60 * t12[1] + (+t12[2] || 0);
        return 0 === r12 ? 0 : "+" === t12[0] ? -r12 : r12;
      }(e32);
    }], u10 = iM(function(e32) {
      var t12 = s10[e32];
      return t12 && (t12.indexOf ? t12 : t12.s.concat(t12.f));
    }, "u"), d10 = iM(function(e32, t12) {
      var r12, n12 = s10.meridiem;
      if (n12) {
        for (var i11 = 1; i11 <= 24; i11 += 1) if (e32.indexOf(n12(i11, 0, t12)) > -1) {
          r12 = i11 > 12;
          break;
        }
      } else r12 = e32 === (t12 ? "pm" : "PM");
      return r12;
    }, "d"), p10 = { A: [a10, function(e32) {
      this.afternoon = d10(e32, false);
    }], a: [a10, function(e32) {
      this.afternoon = d10(e32, true);
    }], Q: [r11, function(e32) {
      this.month = 3 * (e32 - 1) + 1;
    }], S: [r11, function(e32) {
      this.milliseconds = 100 * +e32;
    }], SS: [n11, function(e32) {
      this.milliseconds = 10 * +e32;
    }], SSS: [/\d{3}/, function(e32) {
      this.milliseconds = +e32;
    }], s: [i10, l10("seconds")], ss: [i10, l10("seconds")], m: [i10, l10("minutes")], mm: [i10, l10("minutes")], H: [i10, l10("hours")], h: [i10, l10("hours")], HH: [i10, l10("hours")], hh: [i10, l10("hours")], D: [i10, l10("day")], DD: [n11, l10("day")], Do: [a10, function(e32) {
      var t12 = s10.ordinal, r12 = e32.match(/\d+/);
      if (this.day = r12[0], t12) for (var n12 = 1; n12 <= 31; n12 += 1) t12(n12).replace(/\[|\]/g, "") === e32 && (this.day = n12);
    }], w: [i10, l10("week")], ww: [n11, l10("week")], M: [i10, l10("month")], MM: [n11, l10("month")], MMM: [a10, function(e32) {
      var t12 = u10("months"), r12 = (u10("monthsShort") || t12.map(function(e33) {
        return e33.slice(0, 3);
      })).indexOf(e32) + 1;
      if (r12 < 1) throw Error();
      this.month = r12 % 12 || r12;
    }], MMMM: [a10, function(e32) {
      var t12 = u10("months").indexOf(e32) + 1;
      if (t12 < 1) throw Error();
      this.month = t12 % 12 || t12;
    }], Y: [/[+-]?\d+/, l10("year")], YY: [n11, function(e32) {
      this.year = o10(e32);
    }], YYYY: [/\d{4}/, l10("year")], Z: h10, ZZ: h10 };
    function f10(r12) {
      var n12, i11;
      n12 = r12, i11 = s10 && s10.formats;
      for (var a11 = (r12 = n12.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g, function(t12, r13, n13) {
        var a12 = n13 && n13.toUpperCase();
        return r13 || i11[n13] || e31[n13] || i11[a12].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g, function(e32, t13, r14) {
          return t13 || r14.slice(1);
        });
      })).match(t11), o11 = a11.length, l11 = 0; l11 < o11; l11 += 1) {
        var h11 = a11[l11], u11 = p10[h11], d11 = u11 && u11[0], f11 = u11 && u11[1];
        a11[l11] = f11 ? { regex: d11, parser: f11 } : h11.replace(/^\[|\]$/g, "");
      }
      return function(e32) {
        for (var t12 = {}, r13 = 0, n13 = 0; r13 < o11; r13 += 1) {
          var i12 = a11[r13];
          if ("string" == typeof i12) n13 += i12.length;
          else {
            var s11 = i12.regex, l12 = i12.parser, h12 = e32.slice(n13), u12 = s11.exec(h12)[0];
            l12.call(t12, u12), e32 = e32.replace(u12, "");
          }
        }
        return function(e33) {
          var t13 = e33.afternoon;
          if (void 0 !== t13) {
            var r14 = e33.hours;
            t13 ? r14 < 12 && (e33.hours += 12) : 12 === r14 && (e33.hours = 0), delete e33.afternoon;
          }
        }(t12), t12;
      };
    }
    return iM(f10, "l"), function(e32, t12, r12) {
      r12.p.customParseFormat = true, e32 && e32.parseTwoDigitYear && (o10 = e32.parseTwoDigitYear);
      var n12 = t12.prototype, i11 = n12.parse;
      n12.parse = function(e33) {
        var t13 = e33.date, n13 = e33.utc, a11 = e33.args;
        this.$u = n13;
        var o11 = a11[1];
        if ("string" == typeof o11) {
          var l11 = true === a11[2], h11 = true === a11[3], u11 = a11[2];
          h11 && (u11 = a11[2]), s10 = this.$locale(), !l11 && u11 && (s10 = r12.Ls[u11]), this.$d = function(e34, t14, r13, n14) {
            try {
              if (["x", "X"].indexOf(t14) > -1) return new Date(("X" === t14 ? 1e3 : 1) * e34);
              var i12 = f10(t14)(e34), a12 = i12.year, s11 = i12.month, o12 = i12.day, l12 = i12.hours, h12 = i12.minutes, u12 = i12.seconds, d12 = i12.milliseconds, p12 = i12.zone, g11 = i12.week, y10 = /* @__PURE__ */ new Date(), v10 = o12 || (a12 || s11 ? 1 : y10.getDate()), x10 = a12 || y10.getFullYear(), b10 = 0;
              a12 && !s11 || (b10 = s11 > 0 ? s11 - 1 : y10.getMonth());
              var k10, w10 = l12 || 0, _10 = h12 || 0, T10 = u12 || 0, S10 = d12 || 0;
              return p12 ? new Date(Date.UTC(x10, b10, v10, w10, _10, T10, S10 + 60 * p12.offset * 1e3)) : r13 ? new Date(Date.UTC(x10, b10, v10, w10, _10, T10, S10)) : (k10 = new Date(x10, b10, v10, w10, _10, T10, S10), g11 && (k10 = n14(k10).week(g11).toDate()), k10);
            } catch (e35) {
              return /* @__PURE__ */ new Date("");
            }
          }(t13, o11, n13, r12), this.init(), u11 && true !== u11 && (this.$L = this.locale(u11).$L), (l11 || h11) && t13 != this.format(o11) && (this.$d = /* @__PURE__ */ new Date("")), s10 = {};
        } else if (o11 instanceof Array) for (var d11 = o11.length, p11 = 1; p11 <= d11; p11 += 1) {
          a11[1] = o11[p11 - 1];
          var g10 = r12.apply(this, a11);
          if (g10.isValid()) {
            this.$d = g10.$d, this.$L = g10.$L, this.init();
            break;
          }
          p11 === d11 && (this.$d = /* @__PURE__ */ new Date(""));
        }
        else i11.call(this, e33);
      };
    };
  }, "object" == typeof e30 && void 0 !== t10 ? t10.exports = n10() : "function" == typeof define && define.amd ? define(n10) : (r10 = "undefined" != typeof globalThis ? globalThis : r10 || self).dayjs_plugin_customParseFormat = n10();
} }), etx = iN({ "../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/advancedFormat.js"(e30, t10) {
  var r10, n10;
  r10 = e30, n10 = function() {
    return function(e31, t11) {
      var r11 = t11.prototype, n11 = r11.format;
      r11.format = function(e32) {
        var t12 = this, r12 = this.$locale();
        if (!this.isValid()) return n11.bind(this)(e32);
        var i10 = this.$utils(), a10 = (e32 || "YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g, function(e33) {
          switch (e33) {
            case "Q":
              return Math.ceil((t12.$M + 1) / 3);
            case "Do":
              return r12.ordinal(t12.$D);
            case "gggg":
              return t12.weekYear();
            case "GGGG":
              return t12.isoWeekYear();
            case "wo":
              return r12.ordinal(t12.week(), "W");
            case "w":
            case "ww":
              return i10.s(t12.week(), "w" === e33 ? 1 : 2, "0");
            case "W":
            case "WW":
              return i10.s(t12.isoWeek(), "W" === e33 ? 1 : 2, "0");
            case "k":
            case "kk":
              return i10.s(String(0 === t12.$H ? 24 : t12.$H), "k" === e33 ? 1 : 2, "0");
            case "X":
              return Math.floor(t12.$d.getTime() / 1e3);
            case "x":
              return t12.$d.getTime();
            case "z":
              return "[" + t12.offsetName() + "]";
            case "zzz":
              return "[" + t12.offsetName("long") + "]";
            default:
              return e33;
          }
        });
        return n11.bind(this)(a10);
      };
    };
  }, "object" == typeof e30 && void 0 !== t10 ? t10.exports = n10() : "function" == typeof define && define.amd ? define(n10) : (r10 = "undefined" != typeof globalThis ? globalThis : r10 || self).dayjs_plugin_advancedFormat = n10();
} }), etb = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [6, 8, 10, 12, 13, 14, 15, 16, 17, 18, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 33, 35, 36, 38, 40], r10 = [1, 26], n10 = [1, 27], i10 = [1, 28], a10 = [1, 29], s10 = [1, 30], o10 = [1, 31], l10 = [1, 32], h10 = [1, 33], u10 = [1, 34], d10 = [1, 9], p10 = [1, 10], f10 = [1, 11], g10 = [1, 12], y10 = [1, 13], v10 = [1, 14], x10 = [1, 15], b10 = [1, 16], k10 = [1, 19], w10 = [1, 20], _10 = [1, 21], T10 = [1, 22], S10 = [1, 23], C10 = [1, 25], E10 = [1, 35], A10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, gantt: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NL: 10, weekday: 11, weekday_monday: 12, weekday_tuesday: 13, weekday_wednesday: 14, weekday_thursday: 15, weekday_friday: 16, weekday_saturday: 17, weekday_sunday: 18, weekend: 19, weekend_friday: 20, weekend_saturday: 21, dateFormat: 22, inclusiveEndDates: 23, topAxis: 24, axisFormat: 25, tickInterval: 26, excludes: 27, includes: 28, todayMarker: 29, title: 30, acc_title: 31, acc_title_value: 32, acc_descr: 33, acc_descr_value: 34, acc_descr_multiline_value: 35, section: 36, clickStatement: 37, taskTxt: 38, taskData: 39, click: 40, callbackname: 41, callbackargs: 42, href: 43, clickStatementDebug: 44, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "gantt", 6: "EOF", 8: "SPACE", 10: "NL", 12: "weekday_monday", 13: "weekday_tuesday", 14: "weekday_wednesday", 15: "weekday_thursday", 16: "weekday_friday", 17: "weekday_saturday", 18: "weekday_sunday", 20: "weekend_friday", 21: "weekend_saturday", 22: "dateFormat", 23: "inclusiveEndDates", 24: "topAxis", 25: "axisFormat", 26: "tickInterval", 27: "excludes", 28: "includes", 29: "todayMarker", 30: "title", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 36: "section", 38: "taskTxt", 39: "taskData", 40: "click", 41: "callbackname", 42: "callbackargs", 43: "href" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [19, 1], [19, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 1], [9, 2], [37, 2], [37, 3], [37, 3], [37, 4], [37, 3], [37, 4], [37, 2], [44, 2], [44, 3], [44, 3], [44, 4], [44, 3], [44, 4], [44, 2]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 1:
        return a11[o11 - 1];
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[o11 - 1].push(a11[o11]), this.$ = a11[o11 - 1];
        break;
      case 4:
      case 5:
        this.$ = a11[o11];
        break;
      case 8:
        n11.setWeekday("monday");
        break;
      case 9:
        n11.setWeekday("tuesday");
        break;
      case 10:
        n11.setWeekday("wednesday");
        break;
      case 11:
        n11.setWeekday("thursday");
        break;
      case 12:
        n11.setWeekday("friday");
        break;
      case 13:
        n11.setWeekday("saturday");
        break;
      case 14:
        n11.setWeekday("sunday");
        break;
      case 15:
        n11.setWeekend("friday");
        break;
      case 16:
        n11.setWeekend("saturday");
        break;
      case 17:
        n11.setDateFormat(a11[o11].substr(11)), this.$ = a11[o11].substr(11);
        break;
      case 18:
        n11.enableInclusiveEndDates(), this.$ = a11[o11].substr(18);
        break;
      case 19:
        n11.TopAxis(), this.$ = a11[o11].substr(8);
        break;
      case 20:
        n11.setAxisFormat(a11[o11].substr(11)), this.$ = a11[o11].substr(11);
        break;
      case 21:
        n11.setTickInterval(a11[o11].substr(13)), this.$ = a11[o11].substr(13);
        break;
      case 22:
        n11.setExcludes(a11[o11].substr(9)), this.$ = a11[o11].substr(9);
        break;
      case 23:
        n11.setIncludes(a11[o11].substr(9)), this.$ = a11[o11].substr(9);
        break;
      case 24:
        n11.setTodayMarker(a11[o11].substr(12)), this.$ = a11[o11].substr(12);
        break;
      case 27:
        n11.setDiagramTitle(a11[o11].substr(6)), this.$ = a11[o11].substr(6);
        break;
      case 28:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 29:
      case 30:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 31:
        n11.addSection(a11[o11].substr(8)), this.$ = a11[o11].substr(8);
        break;
      case 33:
        n11.addTask(a11[o11 - 1], a11[o11]), this.$ = "task";
        break;
      case 34:
        this.$ = a11[o11 - 1], n11.setClickEvent(a11[o11 - 1], a11[o11], null);
        break;
      case 35:
        this.$ = a11[o11 - 2], n11.setClickEvent(a11[o11 - 2], a11[o11 - 1], a11[o11]);
        break;
      case 36:
        this.$ = a11[o11 - 2], n11.setClickEvent(a11[o11 - 2], a11[o11 - 1], null), n11.setLink(a11[o11 - 2], a11[o11]);
        break;
      case 37:
        this.$ = a11[o11 - 3], n11.setClickEvent(a11[o11 - 3], a11[o11 - 2], a11[o11 - 1]), n11.setLink(a11[o11 - 3], a11[o11]);
        break;
      case 38:
        this.$ = a11[o11 - 2], n11.setClickEvent(a11[o11 - 2], a11[o11], null), n11.setLink(a11[o11 - 2], a11[o11 - 1]);
        break;
      case 39:
        this.$ = a11[o11 - 3], n11.setClickEvent(a11[o11 - 3], a11[o11 - 1], a11[o11]), n11.setLink(a11[o11 - 3], a11[o11 - 2]);
        break;
      case 40:
        this.$ = a11[o11 - 1], n11.setLink(a11[o11 - 1], a11[o11]);
        break;
      case 41:
      case 47:
        this.$ = a11[o11 - 1] + " " + a11[o11];
        break;
      case 42:
      case 43:
      case 45:
        this.$ = a11[o11 - 2] + " " + a11[o11 - 1] + " " + a11[o11];
        break;
      case 44:
      case 46:
        this.$ = a11[o11 - 3] + " " + a11[o11 - 2] + " " + a11[o11 - 1] + " " + a11[o11];
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, e30(t10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: 17, 12: r10, 13: n10, 14: i10, 15: a10, 16: s10, 17: o10, 18: l10, 19: 18, 20: h10, 21: u10, 22: d10, 23: p10, 24: f10, 25: g10, 26: y10, 27: v10, 28: x10, 29: b10, 30: k10, 31: w10, 33: _10, 35: T10, 36: S10, 37: 24, 38: C10, 40: E10 }, e30(t10, [2, 7], { 1: [2, 1] }), e30(t10, [2, 3]), { 9: 36, 11: 17, 12: r10, 13: n10, 14: i10, 15: a10, 16: s10, 17: o10, 18: l10, 19: 18, 20: h10, 21: u10, 22: d10, 23: p10, 24: f10, 25: g10, 26: y10, 27: v10, 28: x10, 29: b10, 30: k10, 31: w10, 33: _10, 35: T10, 36: S10, 37: 24, 38: C10, 40: E10 }, e30(t10, [2, 5]), e30(t10, [2, 6]), e30(t10, [2, 17]), e30(t10, [2, 18]), e30(t10, [2, 19]), e30(t10, [2, 20]), e30(t10, [2, 21]), e30(t10, [2, 22]), e30(t10, [2, 23]), e30(t10, [2, 24]), e30(t10, [2, 25]), e30(t10, [2, 26]), e30(t10, [2, 27]), { 32: [1, 37] }, { 34: [1, 38] }, e30(t10, [2, 30]), e30(t10, [2, 31]), e30(t10, [2, 32]), { 39: [1, 39] }, e30(t10, [2, 8]), e30(t10, [2, 9]), e30(t10, [2, 10]), e30(t10, [2, 11]), e30(t10, [2, 12]), e30(t10, [2, 13]), e30(t10, [2, 14]), e30(t10, [2, 15]), e30(t10, [2, 16]), { 41: [1, 40], 43: [1, 41] }, e30(t10, [2, 4]), e30(t10, [2, 28]), e30(t10, [2, 29]), e30(t10, [2, 33]), e30(t10, [2, 34], { 42: [1, 42], 43: [1, 43] }), e30(t10, [2, 40], { 41: [1, 44] }), e30(t10, [2, 35], { 43: [1, 45] }), e30(t10, [2, 36]), e30(t10, [2, 38], { 42: [1, 46] }), e30(t10, [2, 37]), e30(t10, [2, 39])], defaultActions: {}, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, L10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return this.begin("open_directive"), "open_directive";
      case 1:
        return this.begin("acc_title"), 31;
      case 2:
        return this.popState(), "acc_title_value";
      case 3:
        return this.begin("acc_descr"), 33;
      case 4:
        return this.popState(), "acc_descr_value";
      case 5:
        this.begin("acc_descr_multiline");
        break;
      case 6:
      case 15:
      case 18:
      case 21:
      case 24:
        this.popState();
        break;
      case 7:
        return "acc_descr_multiline_value";
      case 8:
      case 9:
      case 10:
      case 12:
      case 13:
        break;
      case 11:
        return 10;
      case 14:
        this.begin("href");
        break;
      case 16:
        return 43;
      case 17:
        this.begin("callbackname");
        break;
      case 19:
        this.popState(), this.begin("callbackargs");
        break;
      case 20:
        return 41;
      case 22:
        return 42;
      case 23:
        this.begin("click");
        break;
      case 25:
        return 40;
      case 26:
        return 4;
      case 27:
        return 22;
      case 28:
        return 23;
      case 29:
        return 24;
      case 30:
        return 25;
      case 31:
        return 26;
      case 32:
        return 28;
      case 33:
        return 27;
      case 34:
        return 29;
      case 35:
        return 12;
      case 36:
        return 13;
      case 37:
        return 14;
      case 38:
        return 15;
      case 39:
        return 16;
      case 40:
        return 17;
      case 41:
        return 18;
      case 42:
        return 20;
      case 43:
        return 21;
      case 44:
        return "date";
      case 45:
        return 30;
      case 46:
        return "accDescription";
      case 47:
        return 36;
      case 48:
        return 38;
      case 49:
        return 39;
      case 50:
        return ":";
      case 51:
        return 6;
      case 52:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:%%\{)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:%%(?!\{)*[^\n]*)/i, /^(?:[^\}]%%*[^\n]*)/i, /^(?:%%*[^\n]*[\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:%[^\n]*)/i, /^(?:href[\s]+["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:call[\s]+)/i, /^(?:\([\s]*\))/i, /^(?:\()/i, /^(?:[^(]*)/i, /^(?:\))/i, /^(?:[^)]*)/i, /^(?:click[\s]+)/i, /^(?:[\s\n])/i, /^(?:[^\s\n]*)/i, /^(?:gantt\b)/i, /^(?:dateFormat\s[^#\n;]+)/i, /^(?:inclusiveEndDates\b)/i, /^(?:topAxis\b)/i, /^(?:axisFormat\s[^#\n;]+)/i, /^(?:tickInterval\s[^#\n;]+)/i, /^(?:includes\s[^#\n;]+)/i, /^(?:excludes\s[^#\n;]+)/i, /^(?:todayMarker\s[^\n;]+)/i, /^(?:weekday\s+monday\b)/i, /^(?:weekday\s+tuesday\b)/i, /^(?:weekday\s+wednesday\b)/i, /^(?:weekday\s+thursday\b)/i, /^(?:weekday\s+friday\b)/i, /^(?:weekday\s+saturday\b)/i, /^(?:weekday\s+sunday\b)/i, /^(?:weekend\s+friday\b)/i, /^(?:weekend\s+saturday\b)/i, /^(?:\d\d\d\d-\d\d-\d\d\b)/i, /^(?:title\s[^\n]+)/i, /^(?:accDescription\s[^#\n;]+)/i, /^(?:section\s[^\n]+)/i, /^(?:[^:\n]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [6, 7], inclusive: false }, acc_descr: { rules: [4], inclusive: false }, acc_title: { rules: [2], inclusive: false }, callbackargs: { rules: [21, 22], inclusive: false }, callbackname: { rules: [18, 19, 20], inclusive: false }, href: { rules: [15, 16], inclusive: false }, click: { rules: [24, 25], inclusive: false }, INITIAL: { rules: [0, 1, 3, 5, 8, 9, 10, 11, 12, 13, 14, 17, 23, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52], inclusive: true } } };
  function I10() {
    this.yy = {};
  }
  return A10.lexer = L10, iM(I10, "Parser"), I10.prototype = A10, A10.Parser = I10, new I10();
}();
etb.parser = etb;
var etk = i$(xc()), etw = i$(iP()), et_ = i$(ety()), etT = i$(etv()), etS = i$(etx());
etw.default.extend(et_.default), etw.default.extend(etT.default), etw.default.extend(etS.default);
var etC = { friday: 5, saturday: 6 }, etE = "", etA = "", etL = void 0, etI = "", etM = [], etN = [], etR = /* @__PURE__ */ new Map(), etD = [], etO = [], et$ = "", etP = "", etB = ["active", "done", "crit", "milestone"], etF = [], etz = false, etj = false, etq = "sunday", etU = "saturday", etW = 0, etV = iM(function() {
  etD = [], etO = [], et$ = "", etF = [], erp = 0, nX = void 0, nK = void 0, ery = [], etE = "", etA = "", etP = "", etL = void 0, etI = "", etM = [], etN = [], etz = false, etj = false, etW = 0, etR = /* @__PURE__ */ new Map(), op(), etq = "sunday", etU = "saturday";
}, "clear"), etH = iM(function(e30) {
  etA = e30;
}, "setAxisFormat"), etY = iM(function() {
  return etA;
}, "getAxisFormat"), etG = iM(function(e30) {
  etL = e30;
}, "setTickInterval"), etX = iM(function() {
  return etL;
}, "getTickInterval"), etK = iM(function(e30) {
  etI = e30;
}, "setTodayMarker"), etZ = iM(function() {
  return etI;
}, "getTodayMarker"), etQ = iM(function(e30) {
  etE = e30;
}, "setDateFormat"), etJ = iM(function() {
  etz = true;
}, "enableInclusiveEndDates"), et0 = iM(function() {
  return etz;
}, "endDatesAreInclusive"), et1 = iM(function() {
  etj = true;
}, "enableTopAxis"), et2 = iM(function() {
  return etj;
}, "topAxisEnabled"), et4 = iM(function(e30) {
  etP = e30;
}, "setDisplayMode"), et3 = iM(function() {
  return etP;
}, "getDisplayMode"), et5 = iM(function() {
  return etE;
}, "getDateFormat"), et6 = iM(function(e30) {
  etM = e30.toLowerCase().split(/[\s,]+/);
}, "setIncludes"), et7 = iM(function() {
  return etM;
}, "getIncludes"), et8 = iM(function(e30) {
  etN = e30.toLowerCase().split(/[\s,]+/);
}, "setExcludes"), et9 = iM(function() {
  return etN;
}, "getExcludes"), ere = iM(function() {
  return etR;
}, "getLinks"), ert = iM(function(e30) {
  et$ = e30, etD.push(e30);
}, "addSection"), err = iM(function() {
  return etD;
}, "getSections"), ern = iM(function() {
  let e30 = erw(), t10 = 0;
  for (; !e30 && t10 < 10; ) e30 = erw(), t10++;
  return etO = ery;
}, "getTasks"), eri = iM(function(e30, t10, r10, n10) {
  return !n10.includes(e30.format(t10.trim())) && (!!(r10.includes("weekends") && (e30.isoWeekday() === etC[etU] || e30.isoWeekday() === etC[etU] + 1) || r10.includes(e30.format("dddd").toLowerCase())) || r10.includes(e30.format(t10.trim())));
}, "isInvalidDate"), era = iM(function(e30) {
  etq = e30;
}, "setWeekday"), ers = iM(function() {
  return etq;
}, "getWeekday"), ero = iM(function(e30) {
  etU = e30;
}, "setWeekend"), erl = iM(function(e30, t10, r10, n10) {
  let i10;
  if (!r10.length || e30.manualEndTime) return;
  let [a10, s10] = erc((e30.startTime instanceof Date ? (0, etw.default)(e30.startTime) : (0, etw.default)(e30.startTime, t10, true)).add(1, "d"), e30.endTime instanceof Date ? (0, etw.default)(e30.endTime) : (0, etw.default)(e30.endTime, t10, true), t10, r10, n10);
  e30.endTime = a10.toDate(), e30.renderEndTime = s10;
}, "checkTaskDates"), erc = iM(function(e30, t10, r10, n10, i10) {
  let a10 = false, s10 = null;
  for (; e30 <= t10; ) a10 || (s10 = t10.toDate()), (a10 = eri(e30, r10, n10, i10)) && (t10 = t10.add(1, "d")), e30 = e30.add(1, "d");
  return [t10, s10];
}, "fixTaskDates"), erh = iM(function(e30, t10, r10) {
  r10 = r10.trim();
  let n10 = /^after\s+(?<ids>[\d\w- ]+)/.exec(r10);
  if (null !== n10) {
    let e31 = null;
    for (let t12 of n10.groups.ids.split(" ")) {
      let r11 = erb(t12);
      void 0 !== r11 && (!e31 || r11.endTime > e31.endTime) && (e31 = r11);
    }
    if (e31) return e31.endTime;
    let t11 = /* @__PURE__ */ new Date();
    return t11.setHours(0, 0, 0, 0), t11;
  }
  let i10 = (0, etw.default)(r10, t10.trim(), true);
  if (i10.isValid()) return i10.toDate();
  {
    iz.debug("Invalid date:" + r10), iz.debug("With date format:" + t10.trim());
    let e31 = new Date(r10);
    if (void 0 === e31 || isNaN(e31.getTime()) || -1e4 > e31.getFullYear() || e31.getFullYear() > 1e4) throw Error("Invalid date:" + r10);
    return e31;
  }
}, "getStartDate"), eru = iM(function(e30) {
  let t10 = /^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e30.trim());
  return null !== t10 ? [Number.parseFloat(t10[1]), t10[2]] : [NaN, "ms"];
}, "parseDuration"), erd = iM(function(e30, t10, r10) {
  let n10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
  r10 = r10.trim();
  let i10 = /^until\s+(?<ids>[\d\w- ]+)/.exec(r10);
  if (null !== i10) {
    let e31 = null;
    for (let t12 of i10.groups.ids.split(" ")) {
      let r11 = erb(t12);
      void 0 !== r11 && (!e31 || r11.startTime < e31.startTime) && (e31 = r11);
    }
    if (e31) return e31.startTime;
    let t11 = /* @__PURE__ */ new Date();
    return t11.setHours(0, 0, 0, 0), t11;
  }
  let a10 = (0, etw.default)(r10, t10.trim(), true);
  if (a10.isValid()) return n10 && (a10 = a10.add(1, "d")), a10.toDate();
  let s10 = (0, etw.default)(e30), [o10, l10] = eru(r10);
  if (!Number.isNaN(o10)) {
    let e31 = s10.add(o10, l10);
    e31.isValid() && (s10 = e31);
  }
  return s10.toDate();
}, "getEndDate"), erp = 0, erf = iM(function(e30) {
  return void 0 === e30 ? "task" + (erp += 1) : e30;
}, "parseId"), erg = iM(function(e30, t10) {
  let r10 = (":" === t10.substr(0, 1) ? t10.substr(1, t10.length) : t10).split(","), n10 = {};
  erI(r10, n10, etB);
  for (let e31 = 0; e31 < r10.length; e31++) r10[e31] = r10[e31].trim();
  let i10 = "";
  switch (r10.length) {
    case 1:
      n10.id = erf(), n10.startTime = e30.endTime, i10 = r10[0];
      break;
    case 2:
      n10.id = erf(), n10.startTime = erh(void 0, etE, r10[0]), i10 = r10[1];
      break;
    case 3:
      n10.id = erf(r10[0]), n10.startTime = erh(void 0, etE, r10[1]), i10 = r10[2];
  }
  return i10 && (n10.endTime = erd(n10.startTime, etE, i10, etz), n10.manualEndTime = (0, etw.default)(i10, "YYYY-MM-DD", true).isValid(), erl(n10, etE, etN, etM)), n10;
}, "compileData"), erm = iM(function(e30, t10) {
  let r10 = (":" === t10.substr(0, 1) ? t10.substr(1, t10.length) : t10).split(","), n10 = {};
  erI(r10, n10, etB);
  for (let e31 = 0; e31 < r10.length; e31++) r10[e31] = r10[e31].trim();
  switch (r10.length) {
    case 1:
      n10.id = erf(), n10.startTime = { type: "prevTaskEnd", id: e30 }, n10.endTime = { data: r10[0] };
      break;
    case 2:
      n10.id = erf(), n10.startTime = { type: "getStartDate", startData: r10[0] }, n10.endTime = { data: r10[1] };
      break;
    case 3:
      n10.id = erf(r10[0]), n10.startTime = { type: "getStartDate", startData: r10[1] }, n10.endTime = { data: r10[2] };
  }
  return n10;
}, "parseData"), ery = [], erv = {}, erx = iM(function(e30, t10) {
  let r10 = { section: et$, type: et$, processed: false, manualEndTime: false, renderEndTime: null, raw: { data: t10 }, task: e30, classes: [] }, n10 = erm(nK, t10);
  r10.raw.startTime = n10.startTime, r10.raw.endTime = n10.endTime, r10.id = n10.id, r10.prevTaskId = nK, r10.active = n10.active, r10.done = n10.done, r10.crit = n10.crit, r10.milestone = n10.milestone, r10.order = etW, etW++;
  let i10 = ery.push(r10);
  nK = r10.id, erv[r10.id] = i10 - 1;
}, "addTask"), erb = iM(function(e30) {
  return ery[erv[e30]];
}, "findTaskById"), erk = iM(function(e30, t10) {
  let r10 = { section: et$, type: et$, description: e30, task: e30, classes: [] }, n10 = erg(nX, t10);
  r10.startTime = n10.startTime, r10.endTime = n10.endTime, r10.id = n10.id, r10.active = n10.active, r10.done = n10.done, r10.crit = n10.crit, r10.milestone = n10.milestone, nX = r10, etO.push(r10);
}, "addTaskOrg"), erw = iM(function() {
  let e30 = iM(function(e31) {
    let t11 = ery[e31], r10 = "";
    switch (ery[e31].raw.startTime.type) {
      case "prevTaskEnd": {
        let e32 = erb(t11.prevTaskId);
        t11.startTime = e32.endTime;
        break;
      }
      case "getStartDate":
        (r10 = erh(void 0, etE, ery[e31].raw.startTime.startData)) && (ery[e31].startTime = r10);
    }
    return ery[e31].startTime && (ery[e31].endTime = erd(ery[e31].startTime, etE, ery[e31].raw.endTime.data, etz), ery[e31].endTime && (ery[e31].processed = true, ery[e31].manualEndTime = (0, etw.default)(ery[e31].raw.endTime.data, "YYYY-MM-DD", true).isValid(), erl(ery[e31], etE, etN, etM))), ery[e31].processed;
  }, "compileTask"), t10 = true;
  for (let [r10, n10] of ery.entries()) e30(r10), t10 = t10 && n10.processed;
  return t10;
}, "compileTasks"), er_ = iM(function(e30, t10) {
  let r10 = t10;
  "loose" !== aj().securityLevel && (r10 = (0, etk.sanitizeUrl)(t10)), e30.split(",").forEach(function(e31) {
    void 0 !== erb(e31) && (erC(e31, () => {
      window.open(r10, "_self");
    }), etR.set(e31, r10));
  }), erT(e30, "clickable");
}, "setLink"), erT = iM(function(e30, t10) {
  e30.split(",").forEach(function(e31) {
    let r10 = erb(e31);
    void 0 !== r10 && r10.classes.push(t10);
  });
}, "setClass"), erS = iM(function(e30, t10, r10) {
  if ("loose" !== aj().securityLevel || void 0 === t10) return;
  let n10 = [];
  if ("string" == typeof r10) {
    n10 = r10.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
    for (let e31 = 0; e31 < n10.length; e31++) {
      let t11 = n10[e31].trim();
      t11.startsWith('"') && t11.endsWith('"') && (t11 = t11.substr(1, t11.length - 2)), n10[e31] = t11;
    }
  }
  0 === n10.length && n10.push(e30), void 0 !== erb(e30) && erC(e30, () => {
    k2.runFunc(t10, ...n10);
  });
}, "setClickFun"), erC = iM(function(e30, t10) {
  etF.push(function() {
    let r10 = document.querySelector(`[id="${e30}"]`);
    null !== r10 && r10.addEventListener("click", function() {
      t10();
    });
  }, function() {
    let r10 = document.querySelector(`[id="${e30}-text"]`);
    null !== r10 && r10.addEventListener("click", function() {
      t10();
    });
  });
}, "pushFun"), erE = iM(function(e30, t10, r10) {
  e30.split(",").forEach(function(e31) {
    erS(e31, t10, r10);
  }), erT(e30, "clickable");
}, "setClickEvent"), erA = iM(function(e30) {
  etF.forEach(function(t10) {
    t10(e30);
  });
}, "bindFunctions"), erL = { getConfig: iM(() => aj().gantt, "getConfig"), clear: etV, setDateFormat: etQ, getDateFormat: et5, enableInclusiveEndDates: etJ, endDatesAreInclusive: et0, enableTopAxis: et1, topAxisEnabled: et2, setAxisFormat: etH, getAxisFormat: etY, setTickInterval: etG, getTickInterval: etX, setTodayMarker: etK, getTodayMarker: etZ, setAccTitle: of, getAccTitle: og, setDiagramTitle: ov, getDiagramTitle: ox, setDisplayMode: et4, getDisplayMode: et3, setAccDescription: om, getAccDescription: oy, addSection: ert, getSections: err, getTasks: ern, addTask: erx, findTaskById: erb, addTaskOrg: erk, setIncludes: et6, getIncludes: et7, setExcludes: et8, getExcludes: et9, setClickEvent: erE, setLink: er_, getLinks: ere, bindFunctions: erA, parseDuration: eru, isInvalidDate: eri, setWeekday: era, getWeekday: ers, setWeekend: ero };
function erI(e30, t10, r10) {
  let n10 = true;
  for (; n10; ) n10 = false, r10.forEach(function(r11) {
    let i10 = RegExp("^\\s*" + r11 + "\\s*$");
    e30[0].match(i10) && (t10[r11] = true, e30.shift(1), n10 = true);
  });
}
iM(erI, "getTaskTags");
var erM = i$(iP()), erN = iM(function() {
  iz.debug("Something is calling, setConf, remove the call");
}, "setConf"), erR = { monday: uV, tuesday: uH, wednesday: uY, thursday: uG, friday: uX, saturday: uK, sunday: uW }, erD = iM((e30, t10) => {
  let r10 = [...e30].map(() => -1 / 0), n10 = [...e30].sort((e31, t11) => e31.startTime - t11.startTime || e31.order - t11.order), i10 = 0;
  for (let e31 of n10) for (let n11 = 0; n11 < r10.length; n11++) if (e31.startTime >= r10[n11]) {
    r10[n11] = e31.endTime, e31.order = n11 + t10, n11 > i10 && (i10 = n11);
    break;
  }
  return i10;
}, "getMaxIntersections");
let erO = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: etb, db: erL, renderer: { setConf: erN, draw: iM(function(e30, t10, r10, n10) {
  let i10;
  let a10 = aj().gantt, s10 = aj().securityLevel;
  "sandbox" === s10 && (i10 = c$("#i" + t10));
  let o10 = "sandbox" === s10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body"), l10 = "sandbox" === s10 ? i10.nodes()[0].contentDocument : document, h10 = l10.getElementById(t10);
  void 0 === (nZ = h10.parentElement.offsetWidth) && (nZ = 1200), void 0 !== a10.useWidth && (nZ = a10.useWidth);
  let u10 = n10.db.getTasks(), d10 = [];
  for (let e31 of u10) d10.push(e31.type);
  d10 = S10(d10);
  let p10 = {}, f10 = 2 * a10.topPadding;
  if ("compact" === n10.db.getDisplayMode() || "compact" === a10.displayMode) {
    let e31 = {};
    for (let t12 of u10) void 0 === e31[t12.section] ? e31[t12.section] = [t12] : e31[t12.section].push(t12);
    let t11 = 0;
    for (let r11 of Object.keys(e31)) {
      let n11 = erD(e31[r11], t11) + 1;
      t11 += n11, f10 += n11 * (a10.barHeight + a10.barGap), p10[r11] = n11;
    }
  } else for (let e31 of (f10 += u10.length * (a10.barHeight + a10.barGap), d10)) p10[e31] = u10.filter((t11) => t11.type === e31).length;
  h10.setAttribute("viewBox", "0 0 " + nZ + " " + f10);
  let g10 = o10.select(`[id="${t10}"]`), y10 = px().domain([oE(u10, function(e31) {
    return e31.startTime;
  }), oC(u10, function(e31) {
    return e31.endTime;
  })]).rangeRound([0, nZ - a10.leftPadding - a10.rightPadding]);
  function v10(e31, t11) {
    let r11 = e31.startTime, n11 = t11.startTime, i11 = 0;
    return r11 > n11 ? i11 = 1 : r11 < n11 && (i11 = -1), i11;
  }
  function x10(e31, t11, r11) {
    let i11 = a10.barHeight, s11 = i11 + a10.barGap, o11 = a10.topPadding, l11 = a10.leftPadding, h11 = uI().domain([0, d10.length]).range(["#00B9FA", "#F95002"]).interpolate(hD);
    k10(s11, o11, l11, t11, r11, e31, n10.db.getExcludes(), n10.db.getIncludes()), w10(l11, o11, t11, r11), b10(e31, s11, o11, l11, i11, h11, t11), _10(s11, o11), T10(l11, o11, t11, r11);
  }
  function b10(e31, r11, i11, s11, o11, l11, h11) {
    let u11 = [...new Set(e31.map((e32) => e32.order))].map((t11) => e31.find((e32) => e32.order === t11));
    g10.append("g").selectAll("rect").data(u11).enter().append("rect").attr("x", 0).attr("y", function(e32, t11) {
      return e32.order * r11 + i11 - 2;
    }).attr("width", function() {
      return h11 - a10.rightPadding / 2;
    }).attr("height", r11).attr("class", function(e32) {
      for (let [t11, r12] of d10.entries()) if (e32.type === r12) return "section section" + t11 % a10.numberSectionStyles;
      return "section section0";
    });
    let p11 = g10.append("g").selectAll("rect").data(e31).enter(), f11 = n10.db.getLinks();
    if (p11.append("rect").attr("id", function(e32) {
      return e32.id;
    }).attr("rx", 3).attr("ry", 3).attr("x", function(e32) {
      return e32.milestone ? y10(e32.startTime) + s11 + 0.5 * (y10(e32.endTime) - y10(e32.startTime)) - 0.5 * o11 : y10(e32.startTime) + s11;
    }).attr("y", function(e32, t11) {
      return e32.order * r11 + i11;
    }).attr("width", function(e32) {
      return e32.milestone ? o11 : y10(e32.renderEndTime || e32.endTime) - y10(e32.startTime);
    }).attr("height", o11).attr("transform-origin", function(e32, t11) {
      return t11 = e32.order, (y10(e32.startTime) + s11 + 0.5 * (y10(e32.endTime) - y10(e32.startTime))).toString() + "px " + (t11 * r11 + i11 + 0.5 * o11).toString() + "px";
    }).attr("class", function(e32) {
      let t11 = "";
      e32.classes.length > 0 && (t11 = e32.classes.join(" "));
      let r12 = 0;
      for (let [t12, n12] of d10.entries()) e32.type === n12 && (r12 = t12 % a10.numberSectionStyles);
      let n11 = "";
      return e32.active ? e32.crit ? n11 += " activeCrit" : n11 = " active" : e32.done ? n11 = e32.crit ? " doneCrit" : " done" : e32.crit && (n11 += " crit"), 0 === n11.length && (n11 = " task"), e32.milestone && (n11 = " milestone " + n11), n11 += r12, "task" + (n11 += " " + t11);
    }), p11.append("text").attr("id", function(e32) {
      return e32.id + "-text";
    }).text(function(e32) {
      return e32.task;
    }).attr("font-size", a10.fontSize).attr("x", function(e32) {
      let t11 = y10(e32.startTime), r12 = y10(e32.renderEndTime || e32.endTime);
      e32.milestone && (t11 += 0.5 * (y10(e32.endTime) - y10(e32.startTime)) - 0.5 * o11), e32.milestone && (r12 = t11 + o11);
      let n11 = this.getBBox().width;
      return n11 > r12 - t11 ? r12 + n11 + 1.5 * a10.leftPadding > h11 ? t11 + s11 - 5 : r12 + s11 + 5 : (r12 - t11) / 2 + t11 + s11;
    }).attr("y", function(e32, t11) {
      return e32.order * r11 + a10.barHeight / 2 + (a10.fontSize / 2 - 2) + i11;
    }).attr("text-height", o11).attr("class", function(e32) {
      let t11 = y10(e32.startTime), r12 = y10(e32.endTime);
      e32.milestone && (r12 = t11 + o11);
      let n11 = this.getBBox().width, i12 = "";
      e32.classes.length > 0 && (i12 = e32.classes.join(" "));
      let s12 = 0;
      for (let [t12, r13] of d10.entries()) e32.type === r13 && (s12 = t12 % a10.numberSectionStyles);
      let l12 = "";
      return (e32.active && (l12 = e32.crit ? "activeCritText" + s12 : "activeText" + s12), e32.done ? l12 = e32.crit ? l12 + " doneCritText" + s12 : l12 + " doneText" + s12 : e32.crit && (l12 = l12 + " critText" + s12), e32.milestone && (l12 += " milestoneText"), n11 > r12 - t11) ? r12 + n11 + 1.5 * a10.leftPadding > h11 ? i12 + " taskTextOutsideLeft taskTextOutside" + s12 + " " + l12 : i12 + " taskTextOutsideRight taskTextOutside" + s12 + " " + l12 + " width-" + n11 : i12 + " taskText taskText" + s12 + " " + l12 + " width-" + n11;
    }), "sandbox" === aj().securityLevel) {
      let e32 = c$("#i" + t10).nodes()[0].contentDocument;
      p11.filter(function(e33) {
        return f11.has(e33.id);
      }).each(function(t11) {
        var r12 = e32.querySelector("#" + t11.id), n11 = e32.querySelector("#" + t11.id + "-text");
        let i12 = r12.parentNode;
        var a11 = e32.createElement("a");
        a11.setAttribute("xlink:href", f11.get(t11.id)), a11.setAttribute("target", "_top"), i12.appendChild(a11), a11.appendChild(r12), a11.appendChild(n11);
      });
    }
  }
  function k10(e31, t11, r11, i11, s11, o11, l11, h11) {
    let u11, d11;
    if (0 === l11.length && 0 === h11.length) return;
    for (let { startTime: e32, endTime: t12 } of o11) (void 0 === u11 || e32 < u11) && (u11 = e32), (void 0 === d11 || t12 > d11) && (d11 = t12);
    if (!u11 || !d11) return;
    if ((0, erM.default)(d11).diff((0, erM.default)(u11), "year") > 5) {
      iz.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");
      return;
    }
    let p11 = n10.db.getDateFormat(), f11 = [], v11 = null, x11 = (0, erM.default)(u11);
    for (; x11.valueOf() <= d11; ) n10.db.isInvalidDate(x11, p11, l11, h11) ? v11 ? v11.end = x11 : v11 = { start: x11, end: x11 } : v11 && (f11.push(v11), v11 = null), x11 = x11.add(1, "d");
    g10.append("g").selectAll("rect").data(f11).enter().append("rect").attr("id", function(e32) {
      return "exclude-" + e32.start.format("YYYY-MM-DD");
    }).attr("x", function(e32) {
      return y10(e32.start) + r11;
    }).attr("y", a10.gridLineStartPadding).attr("width", function(e32) {
      return y10(e32.end.add(1, "day")) - y10(e32.start);
    }).attr("height", s11 - t11 - a10.gridLineStartPadding).attr("transform-origin", function(t12, n11) {
      return (y10(t12.start) + r11 + 0.5 * (y10(t12.end) - y10(t12.start))).toString() + "px " + (n11 * e31 + 0.5 * s11).toString() + "px";
    }).attr("class", "exclude-range");
  }
  function w10(e31, t11, r11, i11) {
    let s11 = o2(y10).tickSize(-i11 + t11 + a10.gridLineStartPadding).tickFormat(t2(n10.db.getAxisFormat() || a10.axisFormat || "%Y-%m-%d")), o11 = /^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n10.db.getTickInterval() || a10.tickInterval);
    if (null !== o11) {
      let e32 = o11[1], t12 = o11[2], r12 = n10.db.getWeekday() || a10.weekday;
      switch (t12) {
        case "millisecond":
          s11.ticks(uD.every(e32));
          break;
        case "second":
          s11.ticks(uO.every(e32));
          break;
        case "minute":
          s11.ticks(u$.every(e32));
          break;
        case "hour":
          s11.ticks(uB.every(e32));
          break;
        case "day":
          s11.ticks(uz.every(e32));
          break;
        case "week":
          s11.ticks(erR[r12].every(e32));
          break;
        case "month":
          s11.ticks(u5.every(e32));
      }
    }
    if (g10.append("g").attr("class", "grid").attr("transform", "translate(" + e31 + ", " + (i11 - 50) + ")").call(s11).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10).attr("dy", "1em"), n10.db.topAxisEnabled() || a10.topAxis) {
      let r12 = o1(y10).tickSize(-i11 + t11 + a10.gridLineStartPadding).tickFormat(t2(n10.db.getAxisFormat() || a10.axisFormat || "%Y-%m-%d"));
      if (null !== o11) {
        let e32 = o11[1], t12 = o11[2], i12 = n10.db.getWeekday() || a10.weekday;
        switch (t12) {
          case "millisecond":
            r12.ticks(uD.every(e32));
            break;
          case "second":
            r12.ticks(uO.every(e32));
            break;
          case "minute":
            r12.ticks(u$.every(e32));
            break;
          case "hour":
            r12.ticks(uB.every(e32));
            break;
          case "day":
            r12.ticks(uz.every(e32));
            break;
          case "week":
            r12.ticks(erR[i12].every(e32));
            break;
          case "month":
            r12.ticks(u5.every(e32));
        }
      }
      g10.append("g").attr("class", "grid").attr("transform", "translate(" + e31 + ", " + t11 + ")").call(r12).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10);
    }
  }
  function _10(e31, t11) {
    let r11 = 0, n11 = Object.keys(p10).map((e32) => [e32, p10[e32]]);
    g10.append("g").selectAll("text").data(n11).enter().append(function(e32) {
      let t12 = e32[0].split(oe.lineBreakRegex), r12 = -(t12.length - 1) / 2, n12 = l10.createElementNS("http://www.w3.org/2000/svg", "text");
      for (let [e33, i11] of (n12.setAttribute("dy", r12 + "em"), t12.entries())) {
        let t13 = l10.createElementNS("http://www.w3.org/2000/svg", "tspan");
        t13.setAttribute("alignment-baseline", "central"), t13.setAttribute("x", "10"), e33 > 0 && t13.setAttribute("dy", "1em"), t13.textContent = i11, n12.appendChild(t13);
      }
      return n12;
    }).attr("x", 10).attr("y", function(i11, a11) {
      if (!(a11 > 0)) return i11[1] * e31 / 2 + t11;
      for (let s11 = 0; s11 < a11; s11++) return r11 += n11[a11 - 1][1], i11[1] * e31 / 2 + r11 * e31 + t11;
    }).attr("font-size", a10.sectionFontSize).attr("class", function(e32) {
      for (let [t12, r12] of d10.entries()) if (e32[0] === r12) return "sectionTitle sectionTitle" + t12 % a10.numberSectionStyles;
      return "sectionTitle";
    });
  }
  function T10(e31, t11, r11, i11) {
    let s11 = n10.db.getTodayMarker();
    if ("off" === s11) return;
    let o11 = g10.append("g").attr("class", "today"), l11 = /* @__PURE__ */ new Date(), h11 = o11.append("line");
    h11.attr("x1", y10(l11) + e31).attr("x2", y10(l11) + e31).attr("y1", a10.titleTopMargin).attr("y2", i11 - a10.titleTopMargin).attr("class", "today"), "" !== s11 && h11.attr("style", s11.replace(/,/g, ";"));
  }
  function S10(e31) {
    let t11 = {}, r11 = [];
    for (let n11 = 0, i11 = e31.length; n11 < i11; ++n11) Object.prototype.hasOwnProperty.call(t11, e31[n11]) || (t11[e31[n11]] = true, r11.push(e31[n11]));
    return r11;
  }
  iM(v10, "taskCompare"), u10.sort(v10), x10(u10, nZ, f10), on(g10, f10, nZ, a10.useMaxWidth), g10.append("text").text(n10.db.getDiagramTitle()).attr("x", nZ / 2).attr("y", a10.titleTopMargin).attr("class", "titleText"), iM(x10, "makeGantt"), iM(b10, "drawRects"), iM(k10, "drawExcludeDays"), iM(w10, "makeGrid"), iM(_10, "vertLabels"), iM(T10, "drawToday"), iM(S10, "checkUnique");
}, "draw") }, styles: iM((e30) => `
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e30.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e30.sectionBkgColor};
  }

  .section2 {
    fill: ${e30.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e30.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e30.titleColor};
  }

  .sectionTitle1 {
    fill: ${e30.titleColor};
  }

  .sectionTitle2 {
    fill: ${e30.titleColor};
  }

  .sectionTitle3 {
    fill: ${e30.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e30.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e30.fontFamily};
    fill: ${e30.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e30.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e30.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e30.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e30.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e30.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e30.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e30.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e30.taskBkgColor};
    stroke: ${e30.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e30.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e30.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e30.activeTaskBkgColor};
    stroke: ${e30.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e30.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e30.doneTaskBorderColor};
    fill: ${e30.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e30.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e30.critBorderColor};
    fill: ${e30.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e30.critBorderColor};
    fill: ${e30.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e30.critBorderColor};
    fill: ${e30.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e30.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e30.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e30.titleColor || e30.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" })), er$ = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: { parse: iM(async (e30) => {
  let t10 = await eee("info", e30);
  iz.debug(t10);
}, "parse") }, db: { getVersion: iM(() => iT, "getVersion") }, renderer: { draw: iM((e30, t10, r10) => {
  iz.debug("rendering info diagram\n" + e30);
  let n10 = mg(t10);
  on(n10, 100, 400, true), n10.append("g").append("text").attr("x", 100).attr("y", 40).attr("class", "version").attr("font-size", 32).style("text-anchor", "middle").text(`v${r10}`);
}, "draw") } } }, Symbol.toStringTag, { value: "Module" }));
var erP = aC.pie, erB = { sections: /* @__PURE__ */ new Map(), showData: false, config: erP }, erF = erB.sections, erz = erB.showData, erj = structuredClone(erP), erq = { getConfig: iM(() => structuredClone(erj), "getConfig"), clear: iM(() => {
  erF = /* @__PURE__ */ new Map(), erz = erB.showData, op();
}, "clear"), setDiagramTitle: ov, getDiagramTitle: ox, setAccTitle: of, getAccTitle: og, setAccDescription: om, getAccDescription: oy, addSection: iM((e30) => {
  let { label: t10, value: r10 } = e30;
  erF.has(t10) || (erF.set(t10, r10), iz.debug(`added new section: ${t10}, with value: ${r10}`));
}, "addSection"), getSections: iM(() => erF, "getSections"), setShowData: iM((e30) => {
  erz = e30;
}, "setShowData"), getShowData: iM(() => erz, "getShowData") }, erU = iM((e30, t10) => {
  Uu(e30, t10), t10.setShowData(e30.showData), e30.sections.map(t10.addSection);
}, "populateDb"), erW = { parse: iM(async (e30) => {
  let t10 = await eee("pie", e30);
  iz.debug(t10), erU(t10, erq);
}, "parse") }, erV = iM((e30) => `
  .pieCircle{
    stroke: ${e30.pieStrokeColor};
    stroke-width : ${e30.pieStrokeWidth};
    opacity : ${e30.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e30.pieOuterStrokeColor};
    stroke-width: ${e30.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e30.pieTitleTextSize};
    fill: ${e30.pieTitleTextColor};
    font-family: ${e30.fontFamily};
  }
  .slice {
    font-family: ${e30.fontFamily};
    fill: ${e30.pieSectionTextColor};
    font-size:${e30.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e30.pieLegendTextColor};
    font-family: ${e30.fontFamily};
    font-size: ${e30.pieLegendTextSize};
  }
`, "getStyles"), erH = iM((e30) => {
  let t10 = [...e30.entries()].map((e31) => ({ label: e31[0], value: e31[1] })).sort((e31, t11) => t11.value - e31.value);
  return p6().value((e31) => e31.value)(t10);
}, "createPieArcs");
let erY = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: erW, db: erq, renderer: { draw: iM((e30, t10, r10, n10) => {
  iz.debug("rendering pie chart\n" + e30);
  let i10 = n10.db, a10 = aj(), s10 = k1(i10.getConfig(), a10.pie), o10 = mg(t10), l10 = o10.append("g");
  l10.attr("transform", "translate(225,225)");
  let { themeVariables: h10 } = a10, [u10] = k0(h10.pieOuterStrokeWidth);
  null != u10 || (u10 = 2);
  let d10 = s10.textPosition, p10 = pZ().innerRadius(0).outerRadius(185), f10 = pZ().innerRadius(185 * d10).outerRadius(185 * d10);
  l10.append("circle").attr("cx", 0).attr("cy", 0).attr("r", 185 + u10 / 2).attr("class", "pieOuterCircle");
  let g10 = i10.getSections(), y10 = erH(g10), v10 = h6([h10.pie1, h10.pie2, h10.pie3, h10.pie4, h10.pie5, h10.pie6, h10.pie7, h10.pie8, h10.pie9, h10.pie10, h10.pie11, h10.pie12]);
  l10.selectAll("mySlices").data(y10).enter().append("path").attr("d", p10).attr("fill", (e31) => v10(e31.data.label)).attr("class", "pieCircle");
  let x10 = 0;
  g10.forEach((e31) => {
    x10 += e31;
  }), l10.selectAll("mySlices").data(y10).enter().append("text").text((e31) => (e31.data.value / x10 * 100).toFixed(0) + "%").attr("transform", (e31) => "translate(" + f10.centroid(e31) + ")").style("text-anchor", "middle").attr("class", "slice"), l10.append("text").text(i10.getDiagramTitle()).attr("x", 0).attr("y", -200).attr("class", "pieTitleText");
  let b10 = l10.selectAll(".legend").data(v10.domain()).enter().append("g").attr("class", "legend").attr("transform", (e31, t11) => "translate(216," + (22 * t11 - 22 * v10.domain().length / 2) + ")");
  b10.append("rect").attr("width", 18).attr("height", 18).style("fill", v10).style("stroke", v10), b10.data(y10).append("text").attr("x", 22).attr("y", 14).text((e31) => {
    let { label: t11, value: r11 } = e31.data;
    return i10.getShowData() ? `${t11} [${r11}]` : t11;
  });
  let k10 = 512 + Math.max(...b10.selectAll("text").nodes().map((e31) => {
    var t11;
    return null !== (t11 = null == e31 ? void 0 : e31.getBoundingClientRect().width) && void 0 !== t11 ? t11 : 0;
  }));
  o10.attr("viewBox", `0 0 ${k10} 450`), on(o10, 450, k10, s10.useMaxWidth);
}, "draw") }, styles: erV } }, Symbol.toStringTag, { value: "Module" }));
var erG = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 3], r10 = [1, 4], n10 = [1, 5], i10 = [1, 6], a10 = [1, 7], s10 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], o10 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 28, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], l10 = [55, 56, 57], h10 = [2, 36], u10 = [1, 37], d10 = [1, 36], p10 = [1, 38], f10 = [1, 35], g10 = [1, 43], y10 = [1, 41], v10 = [1, 14], x10 = [1, 23], b10 = [1, 18], k10 = [1, 19], w10 = [1, 20], _10 = [1, 21], T10 = [1, 22], S10 = [1, 24], C10 = [1, 25], E10 = [1, 26], A10 = [1, 27], L10 = [1, 28], I10 = [1, 29], M10 = [1, 32], N10 = [1, 33], R10 = [1, 34], D10 = [1, 39], O10 = [1, 40], $10 = [1, 42], P10 = [1, 44], B10 = [1, 62], F10 = [1, 61], z10 = [4, 5, 8, 10, 12, 13, 14, 18, 44, 47, 49, 55, 56, 57, 63, 64, 65, 66, 67], j10 = [1, 65], q10 = [1, 66], U10 = [1, 67], W10 = [1, 68], V10 = [1, 69], H10 = [1, 70], Y10 = [1, 71], G10 = [1, 72], X10 = [1, 73], K10 = [1, 74], Z10 = [1, 75], Q10 = [1, 76], J10 = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 18], ee10 = [1, 90], et10 = [1, 91], er10 = [1, 92], en10 = [1, 99], ei10 = [1, 93], ea10 = [1, 96], es10 = [1, 94], eo10 = [1, 95], el10 = [1, 97], ec10 = [1, 98], eh10 = [1, 102], eu10 = [10, 55, 56, 57], ed10 = [4, 5, 6, 8, 10, 11, 13, 17, 18, 19, 20, 55, 56, 57], ep10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, idStringToken: 3, ALPHA: 4, NUM: 5, NODE_STRING: 6, DOWN: 7, MINUS: 8, DEFAULT: 9, COMMA: 10, COLON: 11, AMP: 12, BRKT: 13, MULT: 14, UNICODE_TEXT: 15, styleComponent: 16, UNIT: 17, SPACE: 18, STYLE: 19, PCT: 20, idString: 21, style: 22, stylesOpt: 23, classDefStatement: 24, CLASSDEF: 25, start: 26, eol: 27, QUADRANT: 28, document: 29, line: 30, statement: 31, axisDetails: 32, quadrantDetails: 33, points: 34, title: 35, title_value: 36, acc_title: 37, acc_title_value: 38, acc_descr: 39, acc_descr_value: 40, acc_descr_multiline_value: 41, section: 42, text: 43, point_start: 44, point_x: 45, point_y: 46, class_name: 47, "X-AXIS": 48, "AXIS-TEXT-DELIMITER": 49, "Y-AXIS": 50, QUADRANT_1: 51, QUADRANT_2: 52, QUADRANT_3: 53, QUADRANT_4: 54, NEWLINE: 55, SEMI: 56, EOF: 57, alphaNumToken: 58, textNoTagsToken: 59, STR: 60, MD_STR: 61, alphaNum: 62, PUNCTUATION: 63, PLUS: 64, EQUALS: 65, DOT: 66, UNDERSCORE: 67, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "ALPHA", 5: "NUM", 6: "NODE_STRING", 7: "DOWN", 8: "MINUS", 9: "DEFAULT", 10: "COMMA", 11: "COLON", 12: "AMP", 13: "BRKT", 14: "MULT", 15: "UNICODE_TEXT", 17: "UNIT", 18: "SPACE", 19: "STYLE", 20: "PCT", 25: "CLASSDEF", 28: "QUADRANT", 35: "title", 36: "title_value", 37: "acc_title", 38: "acc_title_value", 39: "acc_descr", 40: "acc_descr_value", 41: "acc_descr_multiline_value", 42: "section", 44: "point_start", 45: "point_x", 46: "point_y", 47: "class_name", 48: "X-AXIS", 49: "AXIS-TEXT-DELIMITER", 50: "Y-AXIS", 51: "QUADRANT_1", 52: "QUADRANT_2", 53: "QUADRANT_3", 54: "QUADRANT_4", 55: "NEWLINE", 56: "SEMI", 57: "EOF", 60: "STR", 61: "MD_STR", 63: "PUNCTUATION", 64: "PLUS", 65: "EQUALS", 66: "DOT", 67: "UNDERSCORE" }, productions_: [0, [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [21, 1], [21, 2], [22, 1], [22, 2], [23, 1], [23, 3], [24, 5], [26, 2], [26, 2], [26, 2], [29, 0], [29, 2], [30, 2], [31, 0], [31, 1], [31, 2], [31, 1], [31, 1], [31, 1], [31, 2], [31, 2], [31, 2], [31, 1], [31, 1], [34, 4], [34, 5], [34, 5], [34, 6], [32, 4], [32, 3], [32, 2], [32, 4], [32, 3], [32, 2], [33, 2], [33, 2], [33, 2], [33, 2], [27, 1], [27, 1], [27, 1], [43, 1], [43, 2], [43, 1], [43, 1], [62, 1], [62, 2], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [59, 1], [59, 1], [59, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 23:
      case 68:
        this.$ = a11[o11];
        break;
      case 24:
      case 69:
        this.$ = a11[o11 - 1] + "" + a11[o11];
        break;
      case 26:
        this.$ = a11[o11 - 1] + a11[o11];
        break;
      case 27:
        this.$ = [a11[o11].trim()];
        break;
      case 28:
        a11[o11 - 2].push(a11[o11].trim()), this.$ = a11[o11 - 2];
        break;
      case 29:
        this.$ = a11[o11 - 4], n11.addClass(a11[o11 - 2], a11[o11]);
        break;
      case 37:
        this.$ = [];
        break;
      case 42:
        this.$ = a11[o11].trim(), n11.setDiagramTitle(this.$);
        break;
      case 43:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 44:
      case 45:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 46:
        n11.addSection(a11[o11].substr(8)), this.$ = a11[o11].substr(8);
        break;
      case 47:
        n11.addPoint(a11[o11 - 3], "", a11[o11 - 1], a11[o11], []);
        break;
      case 48:
        n11.addPoint(a11[o11 - 4], a11[o11 - 3], a11[o11 - 1], a11[o11], []);
        break;
      case 49:
        n11.addPoint(a11[o11 - 4], "", a11[o11 - 2], a11[o11 - 1], a11[o11]);
        break;
      case 50:
        n11.addPoint(a11[o11 - 5], a11[o11 - 4], a11[o11 - 2], a11[o11 - 1], a11[o11]);
        break;
      case 51:
        n11.setXAxisLeftText(a11[o11 - 2]), n11.setXAxisRightText(a11[o11]);
        break;
      case 52:
        a11[o11 - 1].text += " ⟶ ", n11.setXAxisLeftText(a11[o11 - 1]);
        break;
      case 53:
        n11.setXAxisLeftText(a11[o11]);
        break;
      case 54:
        n11.setYAxisBottomText(a11[o11 - 2]), n11.setYAxisTopText(a11[o11]);
        break;
      case 55:
        a11[o11 - 1].text += " ⟶ ", n11.setYAxisBottomText(a11[o11 - 1]);
        break;
      case 56:
        n11.setYAxisBottomText(a11[o11]);
        break;
      case 57:
        n11.setQuadrant1Text(a11[o11]);
        break;
      case 58:
        n11.setQuadrant2Text(a11[o11]);
        break;
      case 59:
        n11.setQuadrant3Text(a11[o11]);
        break;
      case 60:
        n11.setQuadrant4Text(a11[o11]);
        break;
      case 64:
      case 66:
        this.$ = { text: a11[o11], type: "text" };
        break;
      case 65:
        this.$ = { text: a11[o11 - 1].text + "" + a11[o11], type: a11[o11 - 1].type };
        break;
      case 67:
        this.$ = { text: a11[o11], type: "markdown" };
    }
  }, "anonymous"), table: [{ 18: t10, 26: 1, 27: 2, 28: r10, 55: n10, 56: i10, 57: a10 }, { 1: [3] }, { 18: t10, 26: 8, 27: 2, 28: r10, 55: n10, 56: i10, 57: a10 }, { 18: t10, 26: 9, 27: 2, 28: r10, 55: n10, 56: i10, 57: a10 }, e30(s10, [2, 33], { 29: 10 }), e30(o10, [2, 61]), e30(o10, [2, 62]), e30(o10, [2, 63]), { 1: [2, 30] }, { 1: [2, 31] }, e30(l10, h10, { 30: 11, 31: 12, 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 1: [2, 32], 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 18: v10, 25: x10, 35: b10, 37: k10, 39: w10, 41: _10, 42: T10, 48: S10, 50: C10, 51: E10, 52: A10, 53: L10, 54: I10, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(s10, [2, 34]), { 27: 45, 55: n10, 56: i10, 57: a10 }, e30(l10, [2, 37]), e30(l10, h10, { 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 31: 46, 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 18: v10, 25: x10, 35: b10, 37: k10, 39: w10, 41: _10, 42: T10, 48: S10, 50: C10, 51: E10, 52: A10, 53: L10, 54: I10, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 39]), e30(l10, [2, 40]), e30(l10, [2, 41]), { 36: [1, 47] }, { 38: [1, 48] }, { 40: [1, 49] }, e30(l10, [2, 45]), e30(l10, [2, 46]), { 18: [1, 50] }, { 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 43: 51, 58: 31, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }, { 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 43: 52, 58: 31, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }, { 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 43: 53, 58: 31, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }, { 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 43: 54, 58: 31, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }, { 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 43: 55, 58: 31, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }, { 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 43: 56, 58: 31, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }, { 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 44: [1, 57], 47: [1, 58], 58: 60, 59: 59, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }, e30(z10, [2, 64]), e30(z10, [2, 66]), e30(z10, [2, 67]), e30(z10, [2, 70]), e30(z10, [2, 71]), e30(z10, [2, 72]), e30(z10, [2, 73]), e30(z10, [2, 74]), e30(z10, [2, 75]), e30(z10, [2, 76]), e30(z10, [2, 77]), e30(z10, [2, 78]), e30(z10, [2, 79]), e30(z10, [2, 80]), e30(s10, [2, 35]), e30(l10, [2, 38]), e30(l10, [2, 42]), e30(l10, [2, 43]), e30(l10, [2, 44]), { 3: 64, 4: j10, 5: q10, 6: U10, 7: W10, 8: V10, 9: H10, 10: Y10, 11: G10, 12: X10, 13: K10, 14: Z10, 15: Q10, 21: 63 }, e30(l10, [2, 53], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 49: [1, 77], 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 56], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 49: [1, 78], 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 57], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 58], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 59], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 60], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), { 45: [1, 79] }, { 44: [1, 80] }, e30(z10, [2, 65]), e30(z10, [2, 81]), e30(z10, [2, 82]), e30(z10, [2, 83]), { 3: 82, 4: j10, 5: q10, 6: U10, 7: W10, 8: V10, 9: H10, 10: Y10, 11: G10, 12: X10, 13: K10, 14: Z10, 15: Q10, 18: [1, 81] }, e30(J10, [2, 23]), e30(J10, [2, 1]), e30(J10, [2, 2]), e30(J10, [2, 3]), e30(J10, [2, 4]), e30(J10, [2, 5]), e30(J10, [2, 6]), e30(J10, [2, 7]), e30(J10, [2, 8]), e30(J10, [2, 9]), e30(J10, [2, 10]), e30(J10, [2, 11]), e30(J10, [2, 12]), e30(l10, [2, 52], { 58: 31, 43: 83, 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 55], { 58: 31, 43: 84, 4: u10, 5: d10, 10: p10, 12: f10, 13: g10, 14: y10, 60: M10, 61: N10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), { 46: [1, 85] }, { 45: [1, 86] }, { 4: ee10, 5: et10, 6: er10, 8: en10, 11: ei10, 13: ea10, 16: 89, 17: es10, 18: eo10, 19: el10, 20: ec10, 22: 88, 23: 87 }, e30(J10, [2, 24]), e30(l10, [2, 51], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 54], { 59: 59, 58: 60, 4: u10, 5: d10, 8: B10, 10: p10, 12: f10, 13: g10, 14: y10, 18: F10, 63: R10, 64: D10, 65: O10, 66: $10, 67: P10 }), e30(l10, [2, 47], { 22: 88, 16: 89, 23: 100, 4: ee10, 5: et10, 6: er10, 8: en10, 11: ei10, 13: ea10, 17: es10, 18: eo10, 19: el10, 20: ec10 }), { 46: [1, 101] }, e30(l10, [2, 29], { 10: eh10 }), e30(eu10, [2, 27], { 16: 103, 4: ee10, 5: et10, 6: er10, 8: en10, 11: ei10, 13: ea10, 17: es10, 18: eo10, 19: el10, 20: ec10 }), e30(ed10, [2, 25]), e30(ed10, [2, 13]), e30(ed10, [2, 14]), e30(ed10, [2, 15]), e30(ed10, [2, 16]), e30(ed10, [2, 17]), e30(ed10, [2, 18]), e30(ed10, [2, 19]), e30(ed10, [2, 20]), e30(ed10, [2, 21]), e30(ed10, [2, 22]), e30(l10, [2, 49], { 10: eh10 }), e30(l10, [2, 48], { 22: 88, 16: 89, 23: 104, 4: ee10, 5: et10, 6: er10, 8: en10, 11: ei10, 13: ea10, 17: es10, 18: eo10, 19: el10, 20: ec10 }), { 4: ee10, 5: et10, 6: er10, 8: en10, 11: ei10, 13: ea10, 16: 89, 17: es10, 18: eo10, 19: el10, 20: ec10, 22: 105 }, e30(ed10, [2, 26]), e30(l10, [2, 50], { 10: eh10 }), e30(eu10, [2, 28], { 16: 103, 4: ee10, 5: et10, 6: er10, 8: en10, 11: ei10, 13: ea10, 17: es10, 18: eo10, 19: el10, 20: ec10 })], defaultActions: { 8: [2, 30], 9: [2, 31] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, ef10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
      case 1:
      case 3:
        break;
      case 2:
        return 55;
      case 4:
        return this.begin("title"), 35;
      case 5:
        return this.popState(), "title_value";
      case 6:
        return this.begin("acc_title"), 37;
      case 7:
        return this.popState(), "acc_title_value";
      case 8:
        return this.begin("acc_descr"), 39;
      case 9:
        return this.popState(), "acc_descr_value";
      case 10:
        this.begin("acc_descr_multiline");
        break;
      case 11:
      case 23:
      case 25:
      case 31:
        this.popState();
        break;
      case 12:
        return "acc_descr_multiline_value";
      case 13:
        return 48;
      case 14:
        return 50;
      case 15:
        return 49;
      case 16:
        return 51;
      case 17:
        return 52;
      case 18:
        return 53;
      case 19:
        return 54;
      case 20:
        return 25;
      case 21:
        this.begin("md_string");
        break;
      case 22:
        return "MD_STR";
      case 24:
        this.begin("string");
        break;
      case 26:
        return "STR";
      case 27:
        this.begin("class_name");
        break;
      case 28:
        return this.popState(), 47;
      case 29:
        return this.begin("point_start"), 44;
      case 30:
        return this.begin("point_x"), 45;
      case 32:
        this.popState(), this.begin("point_y");
        break;
      case 33:
        return this.popState(), 46;
      case 34:
        return 28;
      case 35:
        return 4;
      case 36:
        return 11;
      case 37:
        return 64;
      case 38:
        return 10;
      case 39:
      case 40:
        return 65;
      case 41:
        return 14;
      case 42:
        return 13;
      case 43:
        return 67;
      case 44:
        return 66;
      case 45:
        return 12;
      case 46:
        return 8;
      case 47:
        return 5;
      case 48:
        return 18;
      case 49:
        return 56;
      case 50:
        return 63;
      case 51:
        return 57;
    }
  }, "anonymous"), rules: [/^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n\r]+)/i, /^(?:%%[^\n]*)/i, /^(?:title\b)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?: *x-axis *)/i, /^(?: *y-axis *)/i, /^(?: *--+> *)/i, /^(?: *quadrant-1 *)/i, /^(?: *quadrant-2 *)/i, /^(?: *quadrant-3 *)/i, /^(?: *quadrant-4 *)/i, /^(?:classDef\b)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?::::)/i, /^(?:^\w+)/i, /^(?:\s*:\s*\[\s*)/i, /^(?:(1)|(0(.\d+)?))/i, /^(?:\s*\] *)/i, /^(?:\s*,\s*)/i, /^(?:(1)|(0(.\d+)?))/i, /^(?: *quadrantChart *)/i, /^(?:[A-Za-z]+)/i, /^(?::)/i, /^(?:\+)/i, /^(?:,)/i, /^(?:=)/i, /^(?:=)/i, /^(?:\*)/i, /^(?:#)/i, /^(?:[\_])/i, /^(?:\.)/i, /^(?:&)/i, /^(?:-)/i, /^(?:[0-9]+)/i, /^(?:\s)/i, /^(?:;)/i, /^(?:[!"#$%&'*+,-.`?\\_/])/i, /^(?:$)/i], conditions: { class_name: { rules: [28], inclusive: false }, point_y: { rules: [33], inclusive: false }, point_x: { rules: [32], inclusive: false }, point_start: { rules: [30, 31], inclusive: false }, acc_descr_multiline: { rules: [11, 12], inclusive: false }, acc_descr: { rules: [9], inclusive: false }, acc_title: { rules: [7], inclusive: false }, title: { rules: [5], inclusive: false }, md_string: { rules: [22, 23], inclusive: false }, string: { rules: [25, 26], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 24, 27, 29, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51], inclusive: true } } };
  function eg10() {
    this.yy = {};
  }
  return ep10.lexer = ef10, iM(eg10, "Parser"), eg10.prototype = ep10, ep10.Parser = eg10, new eg10();
}();
erG.parser = erG;
var erX = ab(), erK = (_Cc = class {
  constructor() {
    this.classes = /* @__PURE__ */ new Map(), this.config = this.getDefaultConfig(), this.themeConfig = this.getDefaultThemeConfig(), this.data = this.getDefaultData();
  }
  getDefaultData() {
    return { titleText: "", quadrant1Text: "", quadrant2Text: "", quadrant3Text: "", quadrant4Text: "", xAxisLeftText: "", xAxisRightText: "", yAxisBottomText: "", yAxisTopText: "", points: [] };
  }
  getDefaultConfig() {
    var e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10, x10;
    return { showXAxis: true, showYAxis: true, showTitle: true, chartHeight: (null === (e30 = aC.quadrantChart) || void 0 === e30 ? void 0 : e30.chartWidth) || 500, chartWidth: (null === (t10 = aC.quadrantChart) || void 0 === t10 ? void 0 : t10.chartHeight) || 500, titlePadding: (null === (r10 = aC.quadrantChart) || void 0 === r10 ? void 0 : r10.titlePadding) || 10, titleFontSize: (null === (n10 = aC.quadrantChart) || void 0 === n10 ? void 0 : n10.titleFontSize) || 20, quadrantPadding: (null === (i10 = aC.quadrantChart) || void 0 === i10 ? void 0 : i10.quadrantPadding) || 5, xAxisLabelPadding: (null === (a10 = aC.quadrantChart) || void 0 === a10 ? void 0 : a10.xAxisLabelPadding) || 5, yAxisLabelPadding: (null === (s10 = aC.quadrantChart) || void 0 === s10 ? void 0 : s10.yAxisLabelPadding) || 5, xAxisLabelFontSize: (null === (o10 = aC.quadrantChart) || void 0 === o10 ? void 0 : o10.xAxisLabelFontSize) || 16, yAxisLabelFontSize: (null === (l10 = aC.quadrantChart) || void 0 === l10 ? void 0 : l10.yAxisLabelFontSize) || 16, quadrantLabelFontSize: (null === (h10 = aC.quadrantChart) || void 0 === h10 ? void 0 : h10.quadrantLabelFontSize) || 16, quadrantTextTopPadding: (null === (u10 = aC.quadrantChart) || void 0 === u10 ? void 0 : u10.quadrantTextTopPadding) || 5, pointTextPadding: (null === (d10 = aC.quadrantChart) || void 0 === d10 ? void 0 : d10.pointTextPadding) || 5, pointLabelFontSize: (null === (p10 = aC.quadrantChart) || void 0 === p10 ? void 0 : p10.pointLabelFontSize) || 12, pointRadius: (null === (f10 = aC.quadrantChart) || void 0 === f10 ? void 0 : f10.pointRadius) || 5, xAxisPosition: (null === (g10 = aC.quadrantChart) || void 0 === g10 ? void 0 : g10.xAxisPosition) || "top", yAxisPosition: (null === (y10 = aC.quadrantChart) || void 0 === y10 ? void 0 : y10.yAxisPosition) || "left", quadrantInternalBorderStrokeWidth: (null === (v10 = aC.quadrantChart) || void 0 === v10 ? void 0 : v10.quadrantInternalBorderStrokeWidth) || 1, quadrantExternalBorderStrokeWidth: (null === (x10 = aC.quadrantChart) || void 0 === x10 ? void 0 : x10.quadrantExternalBorderStrokeWidth) || 2 };
  }
  getDefaultThemeConfig() {
    return { quadrant1Fill: erX.quadrant1Fill, quadrant2Fill: erX.quadrant2Fill, quadrant3Fill: erX.quadrant3Fill, quadrant4Fill: erX.quadrant4Fill, quadrant1TextFill: erX.quadrant1TextFill, quadrant2TextFill: erX.quadrant2TextFill, quadrant3TextFill: erX.quadrant3TextFill, quadrant4TextFill: erX.quadrant4TextFill, quadrantPointFill: erX.quadrantPointFill, quadrantPointTextFill: erX.quadrantPointTextFill, quadrantXAxisTextFill: erX.quadrantXAxisTextFill, quadrantYAxisTextFill: erX.quadrantYAxisTextFill, quadrantTitleFill: erX.quadrantTitleFill, quadrantInternalBorderStrokeFill: erX.quadrantInternalBorderStrokeFill, quadrantExternalBorderStrokeFill: erX.quadrantExternalBorderStrokeFill };
  }
  clear() {
    this.config = this.getDefaultConfig(), this.themeConfig = this.getDefaultThemeConfig(), this.data = this.getDefaultData(), this.classes = /* @__PURE__ */ new Map(), iz.info("clear called");
  }
  setData(e30) {
    this.data = { ...this.data, ...e30 };
  }
  addPoints(e30) {
    this.data.points = [...e30, ...this.data.points];
  }
  addClass(e30, t10) {
    this.classes.set(e30, t10);
  }
  setConfig(e30) {
    iz.trace("setConfig called with: ", e30), this.config = { ...this.config, ...e30 };
  }
  setThemeConfig(e30) {
    iz.trace("setThemeConfig called with: ", e30), this.themeConfig = { ...this.themeConfig, ...e30 };
  }
  calculateSpace(e30, t10, r10, n10) {
    let i10 = 2 * this.config.xAxisLabelPadding + this.config.xAxisLabelFontSize, a10 = { top: "top" === e30 && t10 ? i10 : 0, bottom: "bottom" === e30 && t10 ? i10 : 0 }, s10 = 2 * this.config.yAxisLabelPadding + this.config.yAxisLabelFontSize, o10 = { left: "left" === this.config.yAxisPosition && r10 ? s10 : 0, right: "right" === this.config.yAxisPosition && r10 ? s10 : 0 }, l10 = this.config.titleFontSize + 2 * this.config.titlePadding, h10 = { top: n10 ? l10 : 0 }, u10 = this.config.quadrantPadding + o10.left, d10 = this.config.quadrantPadding + a10.top + h10.top, p10 = this.config.chartWidth - 2 * this.config.quadrantPadding - o10.left - o10.right, f10 = this.config.chartHeight - 2 * this.config.quadrantPadding - a10.top - a10.bottom - h10.top;
    return { xAxisSpace: a10, yAxisSpace: o10, titleSpace: h10, quadrantSpace: { quadrantLeft: u10, quadrantTop: d10, quadrantWidth: p10, quadrantHalfWidth: p10 / 2, quadrantHeight: f10, quadrantHalfHeight: f10 / 2 } };
  }
  getAxisLabels(e30, t10, r10, n10) {
    let { quadrantSpace: i10, titleSpace: a10 } = n10, { quadrantHalfHeight: s10, quadrantHeight: o10, quadrantLeft: l10, quadrantHalfWidth: h10, quadrantTop: u10, quadrantWidth: d10 } = i10, p10 = !!this.data.xAxisRightText, f10 = !!this.data.yAxisTopText, g10 = [];
    return this.data.xAxisLeftText && t10 && g10.push({ text: this.data.xAxisLeftText, fill: this.themeConfig.quadrantXAxisTextFill, x: l10 + (p10 ? h10 / 2 : 0), y: "top" === e30 ? this.config.xAxisLabelPadding + a10.top : this.config.xAxisLabelPadding + u10 + o10 + this.config.quadrantPadding, fontSize: this.config.xAxisLabelFontSize, verticalPos: p10 ? "center" : "left", horizontalPos: "top", rotation: 0 }), this.data.xAxisRightText && t10 && g10.push({ text: this.data.xAxisRightText, fill: this.themeConfig.quadrantXAxisTextFill, x: l10 + h10 + (p10 ? h10 / 2 : 0), y: "top" === e30 ? this.config.xAxisLabelPadding + a10.top : this.config.xAxisLabelPadding + u10 + o10 + this.config.quadrantPadding, fontSize: this.config.xAxisLabelFontSize, verticalPos: p10 ? "center" : "left", horizontalPos: "top", rotation: 0 }), this.data.yAxisBottomText && r10 && g10.push({ text: this.data.yAxisBottomText, fill: this.themeConfig.quadrantYAxisTextFill, x: "left" === this.config.yAxisPosition ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + l10 + d10 + this.config.quadrantPadding, y: u10 + o10 - (f10 ? s10 / 2 : 0), fontSize: this.config.yAxisLabelFontSize, verticalPos: f10 ? "center" : "left", horizontalPos: "top", rotation: -90 }), this.data.yAxisTopText && r10 && g10.push({ text: this.data.yAxisTopText, fill: this.themeConfig.quadrantYAxisTextFill, x: "left" === this.config.yAxisPosition ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + l10 + d10 + this.config.quadrantPadding, y: u10 + s10 - (f10 ? s10 / 2 : 0), fontSize: this.config.yAxisLabelFontSize, verticalPos: f10 ? "center" : "left", horizontalPos: "top", rotation: -90 }), g10;
  }
  getQuadrants(e30) {
    let { quadrantSpace: t10 } = e30, { quadrantHalfHeight: r10, quadrantLeft: n10, quadrantHalfWidth: i10, quadrantTop: a10 } = t10, s10 = [{ text: { text: this.data.quadrant1Text, fill: this.themeConfig.quadrant1TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: n10 + i10, y: a10, width: i10, height: r10, fill: this.themeConfig.quadrant1Fill }, { text: { text: this.data.quadrant2Text, fill: this.themeConfig.quadrant2TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: n10, y: a10, width: i10, height: r10, fill: this.themeConfig.quadrant2Fill }, { text: { text: this.data.quadrant3Text, fill: this.themeConfig.quadrant3TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: n10, y: a10 + r10, width: i10, height: r10, fill: this.themeConfig.quadrant3Fill }, { text: { text: this.data.quadrant4Text, fill: this.themeConfig.quadrant4TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: "center", horizontalPos: "middle", rotation: 0 }, x: n10 + i10, y: a10 + r10, width: i10, height: r10, fill: this.themeConfig.quadrant4Fill }];
    for (let e31 of s10) e31.text.x = e31.x + e31.width / 2, 0 === this.data.points.length ? (e31.text.y = e31.y + e31.height / 2, e31.text.horizontalPos = "middle") : (e31.text.y = e31.y + this.config.quadrantTextTopPadding, e31.text.horizontalPos = "top");
    return s10;
  }
  getQuadrantPoints(e30) {
    let { quadrantSpace: t10 } = e30, { quadrantHeight: r10, quadrantLeft: n10, quadrantTop: i10, quadrantWidth: a10 } = t10, s10 = uI().domain([0, 1]).range([n10, a10 + n10]), o10 = uI().domain([0, 1]).range([r10 + i10, i10]);
    return this.data.points.map((e31) => {
      var t11, r11, n11, i11;
      let a11 = this.classes.get(e31.className);
      return a11 && (e31 = { ...a11, ...e31 }), { x: s10(e31.x), y: o10(e31.y), fill: null !== (t11 = e31.color) && void 0 !== t11 ? t11 : this.themeConfig.quadrantPointFill, radius: null !== (r11 = e31.radius) && void 0 !== r11 ? r11 : this.config.pointRadius, text: { text: e31.text, fill: this.themeConfig.quadrantPointTextFill, x: s10(e31.x), y: o10(e31.y) + this.config.pointTextPadding, verticalPos: "center", horizontalPos: "top", fontSize: this.config.pointLabelFontSize, rotation: 0 }, strokeColor: null !== (n11 = e31.strokeColor) && void 0 !== n11 ? n11 : this.themeConfig.quadrantPointFill, strokeWidth: null !== (i11 = e31.strokeWidth) && void 0 !== i11 ? i11 : "0px" };
    });
  }
  getBorders(e30) {
    let t10 = this.config.quadrantExternalBorderStrokeWidth / 2, { quadrantSpace: r10 } = e30, { quadrantHalfHeight: n10, quadrantHeight: i10, quadrantLeft: a10, quadrantHalfWidth: s10, quadrantTop: o10, quadrantWidth: l10 } = r10;
    return [{ strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10 - t10, y1: o10, x2: a10 + l10 + t10, y2: o10 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10 + l10, y1: o10 + t10, x2: a10 + l10, y2: o10 + i10 - t10 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10 - t10, y1: o10 + i10, x2: a10 + l10 + t10, y2: o10 + i10 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a10, y1: o10 + t10, x2: a10, y2: o10 + i10 - t10 }, { strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill, strokeWidth: this.config.quadrantInternalBorderStrokeWidth, x1: a10 + s10, y1: o10 + t10, x2: a10 + s10, y2: o10 + i10 - t10 }, { strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill, strokeWidth: this.config.quadrantInternalBorderStrokeWidth, x1: a10 + t10, y1: o10 + n10, x2: a10 + l10 - t10, y2: o10 + n10 }];
  }
  getTitle(e30) {
    if (e30) return { text: this.data.titleText, fill: this.themeConfig.quadrantTitleFill, fontSize: this.config.titleFontSize, horizontalPos: "top", verticalPos: "center", rotation: 0, y: this.config.titlePadding, x: this.config.chartWidth / 2 };
  }
  build() {
    let e30 = this.config.showXAxis && !!(this.data.xAxisLeftText || this.data.xAxisRightText), t10 = this.config.showYAxis && !!(this.data.yAxisTopText || this.data.yAxisBottomText), r10 = this.config.showTitle && !!this.data.titleText, n10 = this.data.points.length > 0 ? "bottom" : this.config.xAxisPosition, i10 = this.calculateSpace(n10, e30, t10, r10);
    return { points: this.getQuadrantPoints(i10), quadrants: this.getQuadrants(i10), axisLabels: this.getAxisLabels(n10, e30, t10, i10), borderLines: this.getBorders(i10), title: this.getTitle(r10) };
  }
}, _i193 = new WeakMap(), __privateAdd(_Cc, _i193, iM(_Cc, "QuadrantBuilder")), _Cc), erZ = (_Dc = class extends Error {
  constructor(e30, t10, r10) {
    super(`value for ${e30} ${t10} is invalid, please use a valid ${r10}`), this.name = "InvalidStyleError";
  }
}, _i194 = new WeakMap(), __privateAdd(_Dc, _i194, iM(_Dc, "InvalidStyleError")), _Dc);
function erQ(e30) {
  return !/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e30);
}
function erJ(e30) {
  return !/^\d+$/.test(e30);
}
function er0(e30) {
  return !/^\d+px$/.test(e30);
}
iM(erQ, "validateHexCode"), iM(erJ, "validateNumber"), iM(er0, "validateSizeInPixels");
var er1 = aj();
function er2(e30) {
  return sV(e30.trim(), er1);
}
iM(er2, "textSanitizer");
var er4 = new erK();
function er3(e30) {
  er4.setData({ quadrant1Text: er2(e30.text) });
}
function er5(e30) {
  er4.setData({ quadrant2Text: er2(e30.text) });
}
function er6(e30) {
  er4.setData({ quadrant3Text: er2(e30.text) });
}
function er7(e30) {
  er4.setData({ quadrant4Text: er2(e30.text) });
}
function er8(e30) {
  er4.setData({ xAxisLeftText: er2(e30.text) });
}
function er9(e30) {
  er4.setData({ xAxisRightText: er2(e30.text) });
}
function ene(e30) {
  er4.setData({ yAxisTopText: er2(e30.text) });
}
function ent(e30) {
  er4.setData({ yAxisBottomText: er2(e30.text) });
}
function enr(e30) {
  let t10 = {};
  for (let r10 of e30) {
    let [e31, n10] = r10.trim().split(/\s*:\s*/);
    if ("radius" === e31) {
      if (erJ(n10)) throw new erZ(e31, n10, "number");
      t10.radius = parseInt(n10);
    } else if ("color" === e31) {
      if (erQ(n10)) throw new erZ(e31, n10, "hex code");
      t10.color = n10;
    } else if ("stroke-color" === e31) {
      if (erQ(n10)) throw new erZ(e31, n10, "hex code");
      t10.strokeColor = n10;
    } else if ("stroke-width" === e31) {
      if (er0(n10)) throw new erZ(e31, n10, "number of pixels (eg. 10px)");
      t10.strokeWidth = n10;
    } else throw Error(`style named ${e31} is not supported.`);
  }
  return t10;
}
function enn(e30, t10, r10, n10, i10) {
  let a10 = enr(i10);
  er4.addPoints([{ x: r10, y: n10, text: er2(e30.text), className: t10, ...a10 }]);
}
function eni(e30, t10) {
  er4.addClass(e30, enr(t10));
}
function ena(e30) {
  er4.setConfig({ chartWidth: e30 });
}
function ens(e30) {
  er4.setConfig({ chartHeight: e30 });
}
function eno() {
  let { themeVariables: e30, quadrantChart: t10 } = aj();
  return t10 && er4.setConfig(t10), er4.setThemeConfig({ quadrant1Fill: e30.quadrant1Fill, quadrant2Fill: e30.quadrant2Fill, quadrant3Fill: e30.quadrant3Fill, quadrant4Fill: e30.quadrant4Fill, quadrant1TextFill: e30.quadrant1TextFill, quadrant2TextFill: e30.quadrant2TextFill, quadrant3TextFill: e30.quadrant3TextFill, quadrant4TextFill: e30.quadrant4TextFill, quadrantPointFill: e30.quadrantPointFill, quadrantPointTextFill: e30.quadrantPointTextFill, quadrantXAxisTextFill: e30.quadrantXAxisTextFill, quadrantYAxisTextFill: e30.quadrantYAxisTextFill, quadrantExternalBorderStrokeFill: e30.quadrantExternalBorderStrokeFill, quadrantInternalBorderStrokeFill: e30.quadrantInternalBorderStrokeFill, quadrantTitleFill: e30.quadrantTitleFill }), er4.setData({ titleText: ox() }), er4.build();
}
iM(er3, "setQuadrant1Text"), iM(er5, "setQuadrant2Text"), iM(er6, "setQuadrant3Text"), iM(er7, "setQuadrant4Text"), iM(er8, "setXAxisLeftText"), iM(er9, "setXAxisRightText"), iM(ene, "setYAxisTopText"), iM(ent, "setYAxisBottomText"), iM(enr, "parseStyles"), iM(enn, "addPoint"), iM(eni, "addClass"), iM(ena, "setWidth"), iM(ens, "setHeight"), iM(eno, "getQuadrantData");
let enl = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: erG, db: { setWidth: ena, setHeight: ens, setQuadrant1Text: er3, setQuadrant2Text: er5, setQuadrant3Text: er6, setQuadrant4Text: er7, setXAxisLeftText: er8, setXAxisRightText: er9, setYAxisTopText: ene, setYAxisBottomText: ent, parseStyles: enr, addPoint: enn, addClass: eni, getQuadrantData: eno, clear: iM(function() {
  er4.clear(), op();
}, "clear"), setAccTitle: of, getAccTitle: og, setDiagramTitle: ov, getDiagramTitle: ox, getAccDescription: oy, setAccDescription: om }, renderer: { draw: iM((e30, t10, r10, n10) => {
  var i10, a10, s10, o10, l10, h10;
  let u10;
  function d10(e31) {
    return "top" === e31 ? "hanging" : "middle";
  }
  function p10(e31) {
    return "left" === e31 ? "start" : "middle";
  }
  function f10(e31) {
    return `translate(${e31.x}, ${e31.y}) rotate(${e31.rotation || 0})`;
  }
  iM(d10, "getDominantBaseLine"), iM(p10, "getTextAnchor"), iM(f10, "getTransformation");
  let g10 = aj();
  iz.debug("Rendering quadrant chart\n" + e30);
  let y10 = g10.securityLevel;
  "sandbox" === y10 && (u10 = c$("#i" + t10));
  let v10 = ("sandbox" === y10 ? c$(u10.nodes()[0].contentDocument.body) : c$("body")).select(`[id="${t10}"]`), x10 = v10.append("g").attr("class", "main"), b10 = null !== (o10 = null === (i10 = g10.quadrantChart) || void 0 === i10 ? void 0 : i10.chartWidth) && void 0 !== o10 ? o10 : 500, k10 = null !== (l10 = null === (a10 = g10.quadrantChart) || void 0 === a10 ? void 0 : a10.chartHeight) && void 0 !== l10 ? l10 : 500;
  on(v10, k10, b10, null === (h10 = null === (s10 = g10.quadrantChart) || void 0 === s10 ? void 0 : s10.useMaxWidth) || void 0 === h10 || h10), v10.attr("viewBox", "0 0 " + b10 + " " + k10), n10.db.setHeight(k10), n10.db.setWidth(b10);
  let w10 = n10.db.getQuadrantData(), _10 = x10.append("g").attr("class", "quadrants"), T10 = x10.append("g").attr("class", "border"), S10 = x10.append("g").attr("class", "data-points"), C10 = x10.append("g").attr("class", "labels"), E10 = x10.append("g").attr("class", "title");
  w10.title && E10.append("text").attr("x", 0).attr("y", 0).attr("fill", w10.title.fill).attr("font-size", w10.title.fontSize).attr("dominant-baseline", d10(w10.title.horizontalPos)).attr("text-anchor", p10(w10.title.verticalPos)).attr("transform", f10(w10.title)).text(w10.title.text), w10.borderLines && T10.selectAll("line").data(w10.borderLines).enter().append("line").attr("x1", (e31) => e31.x1).attr("y1", (e31) => e31.y1).attr("x2", (e31) => e31.x2).attr("y2", (e31) => e31.y2).style("stroke", (e31) => e31.strokeFill).style("stroke-width", (e31) => e31.strokeWidth);
  let A10 = _10.selectAll("g.quadrant").data(w10.quadrants).enter().append("g").attr("class", "quadrant");
  A10.append("rect").attr("x", (e31) => e31.x).attr("y", (e31) => e31.y).attr("width", (e31) => e31.width).attr("height", (e31) => e31.height).attr("fill", (e31) => e31.fill), A10.append("text").attr("x", 0).attr("y", 0).attr("fill", (e31) => e31.text.fill).attr("font-size", (e31) => e31.text.fontSize).attr("dominant-baseline", (e31) => d10(e31.text.horizontalPos)).attr("text-anchor", (e31) => p10(e31.text.verticalPos)).attr("transform", (e31) => f10(e31.text)).text((e31) => e31.text.text), C10.selectAll("g.label").data(w10.axisLabels).enter().append("g").attr("class", "label").append("text").attr("x", 0).attr("y", 0).text((e31) => e31.text).attr("fill", (e31) => e31.fill).attr("font-size", (e31) => e31.fontSize).attr("dominant-baseline", (e31) => d10(e31.horizontalPos)).attr("text-anchor", (e31) => p10(e31.verticalPos)).attr("transform", (e31) => f10(e31));
  let L10 = S10.selectAll("g.data-point").data(w10.points).enter().append("g").attr("class", "data-point");
  L10.append("circle").attr("cx", (e31) => e31.x).attr("cy", (e31) => e31.y).attr("r", (e31) => e31.radius).attr("fill", (e31) => e31.fill).attr("stroke", (e31) => e31.strokeColor).attr("stroke-width", (e31) => e31.strokeWidth), L10.append("text").attr("x", 0).attr("y", 0).text((e31) => e31.text.text).attr("fill", (e31) => e31.text.fill).attr("font-size", (e31) => e31.text.fontSize).attr("dominant-baseline", (e31) => d10(e31.text.horizontalPos)).attr("text-anchor", (e31) => p10(e31.text.verticalPos)).attr("transform", (e31) => f10(e31.text));
}, "draw") }, styles: iM(() => "", "styles") } }, Symbol.toStringTag, { value: "Module" }));
var enc = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 10, 12, 14, 16, 18, 19, 21, 23], r10 = [2, 6], n10 = [1, 3], i10 = [1, 5], a10 = [1, 6], s10 = [1, 7], o10 = [1, 5, 10, 12, 14, 16, 18, 19, 21, 23, 34, 35, 36], l10 = [1, 25], h10 = [1, 26], u10 = [1, 28], d10 = [1, 29], p10 = [1, 30], f10 = [1, 31], g10 = [1, 32], y10 = [1, 33], v10 = [1, 34], x10 = [1, 35], b10 = [1, 36], k10 = [1, 37], w10 = [1, 43], _10 = [1, 42], T10 = [1, 47], S10 = [1, 50], C10 = [1, 10, 12, 14, 16, 18, 19, 21, 23, 34, 35, 36], E10 = [1, 10, 12, 14, 16, 18, 19, 21, 23, 24, 26, 27, 28, 34, 35, 36], A10 = [1, 10, 12, 14, 16, 18, 19, 21, 23, 24, 26, 27, 28, 34, 35, 36, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], L10 = [1, 64], I10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, eol: 4, XYCHART: 5, chartConfig: 6, document: 7, CHART_ORIENTATION: 8, statement: 9, title: 10, text: 11, X_AXIS: 12, parseXAxis: 13, Y_AXIS: 14, parseYAxis: 15, LINE: 16, plotData: 17, BAR: 18, acc_title: 19, acc_title_value: 20, acc_descr: 21, acc_descr_value: 22, acc_descr_multiline_value: 23, SQUARE_BRACES_START: 24, commaSeparatedNumbers: 25, SQUARE_BRACES_END: 26, NUMBER_WITH_DECIMAL: 27, COMMA: 28, xAxisData: 29, bandData: 30, ARROW_DELIMITER: 31, commaSeparatedTexts: 32, yAxisData: 33, NEWLINE: 34, SEMI: 35, EOF: 36, alphaNum: 37, STR: 38, MD_STR: 39, alphaNumToken: 40, AMP: 41, NUM: 42, ALPHA: 43, PLUS: 44, EQUALS: 45, MULT: 46, DOT: 47, BRKT: 48, MINUS: 49, UNDERSCORE: 50, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "XYCHART", 8: "CHART_ORIENTATION", 10: "title", 12: "X_AXIS", 14: "Y_AXIS", 16: "LINE", 18: "BAR", 19: "acc_title", 20: "acc_title_value", 21: "acc_descr", 22: "acc_descr_value", 23: "acc_descr_multiline_value", 24: "SQUARE_BRACES_START", 26: "SQUARE_BRACES_END", 27: "NUMBER_WITH_DECIMAL", 28: "COMMA", 31: "ARROW_DELIMITER", 34: "NEWLINE", 35: "SEMI", 36: "EOF", 38: "STR", 39: "MD_STR", 41: "AMP", 42: "NUM", 43: "ALPHA", 44: "PLUS", 45: "EQUALS", 46: "MULT", 47: "DOT", 48: "BRKT", 49: "MINUS", 50: "UNDERSCORE" }, productions_: [0, [3, 2], [3, 3], [3, 2], [3, 1], [6, 1], [7, 0], [7, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 3], [9, 2], [9, 3], [9, 2], [9, 2], [9, 1], [17, 3], [25, 3], [25, 1], [13, 1], [13, 2], [13, 1], [29, 1], [29, 3], [30, 3], [32, 3], [32, 1], [15, 1], [15, 2], [15, 1], [33, 3], [4, 1], [4, 1], [4, 1], [11, 1], [11, 1], [11, 1], [37, 1], [37, 2], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 5:
        n11.setOrientation(a11[o11]);
        break;
      case 9:
        n11.setDiagramTitle(a11[o11].text.trim());
        break;
      case 12:
        n11.setLineData({ text: "", type: "text" }, a11[o11]);
        break;
      case 13:
        n11.setLineData(a11[o11 - 1], a11[o11]);
        break;
      case 14:
        n11.setBarData({ text: "", type: "text" }, a11[o11]);
        break;
      case 15:
        n11.setBarData(a11[o11 - 1], a11[o11]);
        break;
      case 16:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 17:
      case 18:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 19:
      case 27:
        this.$ = a11[o11 - 1];
        break;
      case 20:
        this.$ = [Number(a11[o11 - 2]), ...a11[o11]];
        break;
      case 21:
        this.$ = [Number(a11[o11])];
        break;
      case 22:
        n11.setXAxisTitle(a11[o11]);
        break;
      case 23:
        n11.setXAxisTitle(a11[o11 - 1]);
        break;
      case 24:
        n11.setXAxisTitle({ type: "text", text: "" });
        break;
      case 25:
        n11.setXAxisBand(a11[o11]);
        break;
      case 26:
        n11.setXAxisRangeData(Number(a11[o11 - 2]), Number(a11[o11]));
        break;
      case 28:
        this.$ = [a11[o11 - 2], ...a11[o11]];
        break;
      case 29:
        this.$ = [a11[o11]];
        break;
      case 30:
        n11.setYAxisTitle(a11[o11]);
        break;
      case 31:
        n11.setYAxisTitle(a11[o11 - 1]);
        break;
      case 32:
        n11.setYAxisTitle({ type: "text", text: "" });
        break;
      case 33:
        n11.setYAxisRangeData(Number(a11[o11 - 2]), Number(a11[o11]));
        break;
      case 37:
      case 38:
        this.$ = { text: a11[o11], type: "text" };
        break;
      case 39:
        this.$ = { text: a11[o11], type: "markdown" };
        break;
      case 40:
        this.$ = a11[o11];
        break;
      case 41:
        this.$ = a11[o11 - 1] + "" + a11[o11];
    }
  }, "anonymous"), table: [e30(t10, r10, { 3: 1, 4: 2, 7: 4, 5: n10, 34: i10, 35: a10, 36: s10 }), { 1: [3] }, e30(t10, r10, { 4: 2, 7: 4, 3: 8, 5: n10, 34: i10, 35: a10, 36: s10 }), e30(t10, r10, { 4: 2, 7: 4, 6: 9, 3: 10, 5: n10, 8: [1, 11], 34: i10, 35: a10, 36: s10 }), { 1: [2, 4], 9: 12, 10: [1, 13], 12: [1, 14], 14: [1, 15], 16: [1, 16], 18: [1, 17], 19: [1, 18], 21: [1, 19], 23: [1, 20] }, e30(o10, [2, 34]), e30(o10, [2, 35]), e30(o10, [2, 36]), { 1: [2, 1] }, e30(t10, r10, { 4: 2, 7: 4, 3: 21, 5: n10, 34: i10, 35: a10, 36: s10 }), { 1: [2, 3] }, e30(o10, [2, 5]), e30(t10, [2, 7], { 4: 22, 34: i10, 35: a10, 36: s10 }), { 11: 23, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }, { 11: 39, 13: 38, 24: w10, 27: _10, 29: 40, 30: 41, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }, { 11: 45, 15: 44, 27: T10, 33: 46, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }, { 11: 49, 17: 48, 24: S10, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }, { 11: 52, 17: 51, 24: S10, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }, { 20: [1, 53] }, { 22: [1, 54] }, e30(C10, [2, 18]), { 1: [2, 2] }, e30(C10, [2, 8]), e30(C10, [2, 9]), e30(E10, [2, 37], { 40: 55, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }), e30(E10, [2, 38]), e30(E10, [2, 39]), e30(A10, [2, 40]), e30(A10, [2, 42]), e30(A10, [2, 43]), e30(A10, [2, 44]), e30(A10, [2, 45]), e30(A10, [2, 46]), e30(A10, [2, 47]), e30(A10, [2, 48]), e30(A10, [2, 49]), e30(A10, [2, 50]), e30(A10, [2, 51]), e30(C10, [2, 10]), e30(C10, [2, 22], { 30: 41, 29: 56, 24: w10, 27: _10 }), e30(C10, [2, 24]), e30(C10, [2, 25]), { 31: [1, 57] }, { 11: 59, 32: 58, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }, e30(C10, [2, 11]), e30(C10, [2, 30], { 33: 60, 27: T10 }), e30(C10, [2, 32]), { 31: [1, 61] }, e30(C10, [2, 12]), { 17: 62, 24: S10 }, { 25: 63, 27: L10 }, e30(C10, [2, 14]), { 17: 65, 24: S10 }, e30(C10, [2, 16]), e30(C10, [2, 17]), e30(A10, [2, 41]), e30(C10, [2, 23]), { 27: [1, 66] }, { 26: [1, 67] }, { 26: [2, 29], 28: [1, 68] }, e30(C10, [2, 31]), { 27: [1, 69] }, e30(C10, [2, 13]), { 26: [1, 70] }, { 26: [2, 21], 28: [1, 71] }, e30(C10, [2, 15]), e30(C10, [2, 26]), e30(C10, [2, 27]), { 11: 59, 32: 72, 37: 24, 38: l10, 39: h10, 40: 27, 41: u10, 42: d10, 43: p10, 44: f10, 45: g10, 46: y10, 47: v10, 48: x10, 49: b10, 50: k10 }, e30(C10, [2, 33]), e30(C10, [2, 19]), { 25: 73, 27: L10 }, { 26: [2, 28] }, { 26: [2, 20] }], defaultActions: { 8: [2, 1], 10: [2, 3], 21: [2, 2], 72: [2, 28], 73: [2, 20] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, M10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
      case 1:
      case 5:
      case 43:
        break;
      case 2:
      case 3:
        return this.popState(), 34;
      case 4:
        return 34;
      case 6:
        return 10;
      case 7:
        return this.pushState("acc_title"), 19;
      case 8:
        return this.popState(), "acc_title_value";
      case 9:
        return this.pushState("acc_descr"), 21;
      case 10:
        return this.popState(), "acc_descr_value";
      case 11:
        this.pushState("acc_descr_multiline");
        break;
      case 12:
      case 25:
      case 27:
        this.popState();
        break;
      case 13:
        return "acc_descr_multiline_value";
      case 14:
        return 5;
      case 15:
        return 8;
      case 16:
        return this.pushState("axis_data"), "X_AXIS";
      case 17:
        return this.pushState("axis_data"), "Y_AXIS";
      case 18:
        return this.pushState("axis_band_data"), 24;
      case 19:
        return 31;
      case 20:
        return this.pushState("data"), 16;
      case 21:
        return this.pushState("data"), 18;
      case 22:
        return this.pushState("data_inner"), 24;
      case 23:
        return 27;
      case 24:
        return this.popState(), 26;
      case 26:
        this.pushState("string");
        break;
      case 28:
        return "STR";
      case 29:
        return 24;
      case 30:
        return 26;
      case 31:
        return 43;
      case 32:
        return "COLON";
      case 33:
        return 44;
      case 34:
        return 28;
      case 35:
        return 45;
      case 36:
        return 46;
      case 37:
        return 48;
      case 38:
        return 50;
      case 39:
        return 47;
      case 40:
        return 41;
      case 41:
        return 49;
      case 42:
        return 42;
      case 44:
        return 35;
      case 45:
        return 36;
    }
  }, "anonymous"), rules: [/^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:(\r?\n))/i, /^(?:(\r?\n))/i, /^(?:[\n\r]+)/i, /^(?:%%[^\n]*)/i, /^(?:title\b)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:\{)/i, /^(?:[^\}]*)/i, /^(?:xychart-beta\b)/i, /^(?:(?:vertical|horizontal))/i, /^(?:x-axis\b)/i, /^(?:y-axis\b)/i, /^(?:\[)/i, /^(?:-->)/i, /^(?:line\b)/i, /^(?:bar\b)/i, /^(?:\[)/i, /^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i, /^(?:\])/i, /^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:\[)/i, /^(?:\])/i, /^(?:[A-Za-z]+)/i, /^(?::)/i, /^(?:\+)/i, /^(?:,)/i, /^(?:=)/i, /^(?:\*)/i, /^(?:#)/i, /^(?:[\_])/i, /^(?:\.)/i, /^(?:&)/i, /^(?:-)/i, /^(?:[0-9]+)/i, /^(?:\s+)/i, /^(?:;)/i, /^(?:$)/i], conditions: { data_inner: { rules: [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, data: { rules: [0, 1, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 22, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, axis_band_data: { rules: [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 24, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, axis_data: { rules: [0, 1, 2, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 19, 20, 21, 23, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true }, acc_descr_multiline: { rules: [12, 13], inclusive: false }, acc_descr: { rules: [10], inclusive: false }, acc_title: { rules: [8], inclusive: false }, title: { rules: [], inclusive: false }, md_string: { rules: [], inclusive: false }, string: { rules: [27, 28], inclusive: false }, INITIAL: { rules: [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 20, 21, 25, 26, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45], inclusive: true } } };
  function N10() {
    this.yy = {};
  }
  return I10.lexer = M10, iM(N10, "Parser"), N10.prototype = I10, I10.Parser = N10, new N10();
}();
function enh(e30) {
  return "bar" === e30.type;
}
function enu(e30) {
  return "band" === e30.type;
}
function end(e30) {
  return "linear" === e30.type;
}
enc.parser = enc, iM(enh, "isBarPlot"), iM(enu, "isBandAxisData"), iM(end, "isLinearAxisData");
var enp = (_Ec = class {
  constructor(e30) {
    this.parentGroup = e30;
  }
  getMaxDimension(e30, t10) {
    if (!this.parentGroup) return { width: e30.reduce((e31, t11) => Math.max(t11.length, e31), 0) * t10, height: t10 };
    let r10 = { width: 0, height: 0 }, n10 = this.parentGroup.append("g").attr("visibility", "hidden").attr("font-size", t10);
    for (let i10 of e30) {
      let e31 = _d(n10, 1, i10), a10 = e31 ? e31.width : i10.length * t10, s10 = e31 ? e31.height : t10;
      r10.width = Math.max(r10.width, a10), r10.height = Math.max(r10.height, s10);
    }
    return n10.remove(), r10;
  }
}, _i195 = new WeakMap(), __privateAdd(_Ec, _i195, iM(_Ec, "TextDimensionCalculatorWithFont")), _Ec), enf = (_Fc = class {
  constructor(e30, t10, r10, n10) {
    this.axisConfig = e30, this.title = t10, this.textDimensionCalculator = r10, this.axisThemeConfig = n10, this.boundingRect = { x: 0, y: 0, width: 0, height: 0 }, this.axisPosition = "left", this.showTitle = false, this.showLabel = false, this.showTick = false, this.showAxisLine = false, this.outerPadding = 0, this.titleTextHeight = 0, this.labelTextHeight = 0, this.range = [0, 10], this.boundingRect = { x: 0, y: 0, width: 0, height: 0 }, this.axisPosition = "left";
  }
  setRange(e30) {
    this.range = e30, "left" === this.axisPosition || "right" === this.axisPosition ? this.boundingRect.height = e30[1] - e30[0] : this.boundingRect.width = e30[1] - e30[0], this.recalculateScale();
  }
  getRange() {
    return [this.range[0] + this.outerPadding, this.range[1] - this.outerPadding];
  }
  setAxisPosition(e30) {
    this.axisPosition = e30, this.setRange(this.range);
  }
  getTickDistance() {
    let e30 = this.getRange();
    return Math.abs(e30[0] - e30[1]) / this.getTickValues().length;
  }
  getAxisOuterPadding() {
    return this.outerPadding;
  }
  getLabelDimension() {
    return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map((e30) => e30.toString()), this.axisConfig.labelFontSize);
  }
  recalculateOuterPaddingToDrawBar() {
    0.7 * this.getTickDistance() > 2 * this.outerPadding && (this.outerPadding = Math.floor(0.7 * this.getTickDistance() / 2)), this.recalculateScale();
  }
  calculateSpaceIfDrawnHorizontally(e30) {
    let t10 = e30.height;
    if (this.axisConfig.showAxisLine && t10 > this.axisConfig.axisLineWidth && (t10 -= this.axisConfig.axisLineWidth, this.showAxisLine = true), this.axisConfig.showLabel) {
      let r10 = this.getLabelDimension(), n10 = 0.2 * e30.width;
      this.outerPadding = Math.min(r10.width / 2, n10);
      let i10 = r10.height + 2 * this.axisConfig.labelPadding;
      this.labelTextHeight = r10.height, i10 <= t10 && (t10 -= i10, this.showLabel = true);
    }
    if (this.axisConfig.showTick && t10 >= this.axisConfig.tickLength && (this.showTick = true, t10 -= this.axisConfig.tickLength), this.axisConfig.showTitle && this.title) {
      let e31 = this.textDimensionCalculator.getMaxDimension([this.title], this.axisConfig.titleFontSize), r10 = e31.height + 2 * this.axisConfig.titlePadding;
      this.titleTextHeight = e31.height, r10 <= t10 && (t10 -= r10, this.showTitle = true);
    }
    this.boundingRect.width = e30.width, this.boundingRect.height = e30.height - t10;
  }
  calculateSpaceIfDrawnVertical(e30) {
    let t10 = e30.width;
    if (this.axisConfig.showAxisLine && t10 > this.axisConfig.axisLineWidth && (t10 -= this.axisConfig.axisLineWidth, this.showAxisLine = true), this.axisConfig.showLabel) {
      let r10 = this.getLabelDimension(), n10 = 0.2 * e30.height;
      this.outerPadding = Math.min(r10.height / 2, n10);
      let i10 = r10.width + 2 * this.axisConfig.labelPadding;
      i10 <= t10 && (t10 -= i10, this.showLabel = true);
    }
    if (this.axisConfig.showTick && t10 >= this.axisConfig.tickLength && (this.showTick = true, t10 -= this.axisConfig.tickLength), this.axisConfig.showTitle && this.title) {
      let e31 = this.textDimensionCalculator.getMaxDimension([this.title], this.axisConfig.titleFontSize), r10 = e31.height + 2 * this.axisConfig.titlePadding;
      this.titleTextHeight = e31.height, r10 <= t10 && (t10 -= r10, this.showTitle = true);
    }
    this.boundingRect.width = e30.width - t10, this.boundingRect.height = e30.height;
  }
  calculateSpace(e30) {
    return "left" === this.axisPosition || "right" === this.axisPosition ? this.calculateSpaceIfDrawnVertical(e30) : this.calculateSpaceIfDrawnHorizontally(e30), this.recalculateScale(), { width: this.boundingRect.width, height: this.boundingRect.height };
  }
  setBoundingBoxXY(e30) {
    this.boundingRect.x = e30.x, this.boundingRect.y = e30.y;
  }
  getDrawableElementsForLeftAxis() {
    let e30 = [];
    if (this.showAxisLine) {
      let t10 = this.boundingRect.x + this.boundingRect.width - this.axisConfig.axisLineWidth / 2;
      e30.push({ type: "path", groupTexts: ["left-axis", "axisl-line"], data: [{ path: `M ${t10},${this.boundingRect.y} L ${t10},${this.boundingRect.y + this.boundingRect.height} `, strokeFill: this.axisThemeConfig.axisLineColor, strokeWidth: this.axisConfig.axisLineWidth }] });
    }
    if (this.showLabel && e30.push({ type: "text", groupTexts: ["left-axis", "label"], data: this.getTickValues().map((e31) => ({ text: e31.toString(), x: this.boundingRect.x + this.boundingRect.width - (this.showLabel ? this.axisConfig.labelPadding : 0) - (this.showTick ? this.axisConfig.tickLength : 0) - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0), y: this.getScaleValue(e31), fill: this.axisThemeConfig.labelColor, fontSize: this.axisConfig.labelFontSize, rotation: 0, verticalPos: "middle", horizontalPos: "right" })) }), this.showTick) {
      let t10 = this.boundingRect.x + this.boundingRect.width - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0);
      e30.push({ type: "path", groupTexts: ["left-axis", "ticks"], data: this.getTickValues().map((e31) => ({ path: `M ${t10},${this.getScaleValue(e31)} L ${t10 - this.axisConfig.tickLength},${this.getScaleValue(e31)}`, strokeFill: this.axisThemeConfig.tickColor, strokeWidth: this.axisConfig.tickWidth })) });
    }
    return this.showTitle && e30.push({ type: "text", groupTexts: ["left-axis", "title"], data: [{ text: this.title, x: this.boundingRect.x + this.axisConfig.titlePadding, y: this.boundingRect.y + this.boundingRect.height / 2, fill: this.axisThemeConfig.titleColor, fontSize: this.axisConfig.titleFontSize, rotation: 270, verticalPos: "top", horizontalPos: "center" }] }), e30;
  }
  getDrawableElementsForBottomAxis() {
    let e30 = [];
    if (this.showAxisLine) {
      let t10 = this.boundingRect.y + this.axisConfig.axisLineWidth / 2;
      e30.push({ type: "path", groupTexts: ["bottom-axis", "axis-line"], data: [{ path: `M ${this.boundingRect.x},${t10} L ${this.boundingRect.x + this.boundingRect.width},${t10}`, strokeFill: this.axisThemeConfig.axisLineColor, strokeWidth: this.axisConfig.axisLineWidth }] });
    }
    if (this.showLabel && e30.push({ type: "text", groupTexts: ["bottom-axis", "label"], data: this.getTickValues().map((e31) => ({ text: e31.toString(), x: this.getScaleValue(e31), y: this.boundingRect.y + this.axisConfig.labelPadding + (this.showTick ? this.axisConfig.tickLength : 0) + (this.showAxisLine ? this.axisConfig.axisLineWidth : 0), fill: this.axisThemeConfig.labelColor, fontSize: this.axisConfig.labelFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" })) }), this.showTick) {
      let t10 = this.boundingRect.y + (this.showAxisLine ? this.axisConfig.axisLineWidth : 0);
      e30.push({ type: "path", groupTexts: ["bottom-axis", "ticks"], data: this.getTickValues().map((e31) => ({ path: `M ${this.getScaleValue(e31)},${t10} L ${this.getScaleValue(e31)},${t10 + this.axisConfig.tickLength}`, strokeFill: this.axisThemeConfig.tickColor, strokeWidth: this.axisConfig.tickWidth })) });
    }
    return this.showTitle && e30.push({ type: "text", groupTexts: ["bottom-axis", "title"], data: [{ text: this.title, x: this.range[0] + (this.range[1] - this.range[0]) / 2, y: this.boundingRect.y + this.boundingRect.height - this.axisConfig.titlePadding - this.titleTextHeight, fill: this.axisThemeConfig.titleColor, fontSize: this.axisConfig.titleFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" }] }), e30;
  }
  getDrawableElementsForTopAxis() {
    let e30 = [];
    if (this.showAxisLine) {
      let t10 = this.boundingRect.y + this.boundingRect.height - this.axisConfig.axisLineWidth / 2;
      e30.push({ type: "path", groupTexts: ["top-axis", "axis-line"], data: [{ path: `M ${this.boundingRect.x},${t10} L ${this.boundingRect.x + this.boundingRect.width},${t10}`, strokeFill: this.axisThemeConfig.axisLineColor, strokeWidth: this.axisConfig.axisLineWidth }] });
    }
    if (this.showLabel && e30.push({ type: "text", groupTexts: ["top-axis", "label"], data: this.getTickValues().map((e31) => ({ text: e31.toString(), x: this.getScaleValue(e31), y: this.boundingRect.y + (this.showTitle ? this.titleTextHeight + 2 * this.axisConfig.titlePadding : 0) + this.axisConfig.labelPadding, fill: this.axisThemeConfig.labelColor, fontSize: this.axisConfig.labelFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" })) }), this.showTick) {
      let t10 = this.boundingRect.y;
      e30.push({ type: "path", groupTexts: ["top-axis", "ticks"], data: this.getTickValues().map((e31) => ({ path: `M ${this.getScaleValue(e31)},${t10 + this.boundingRect.height - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0)} L ${this.getScaleValue(e31)},${t10 + this.boundingRect.height - this.axisConfig.tickLength - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0)}`, strokeFill: this.axisThemeConfig.tickColor, strokeWidth: this.axisConfig.tickWidth })) });
    }
    return this.showTitle && e30.push({ type: "text", groupTexts: ["top-axis", "title"], data: [{ text: this.title, x: this.boundingRect.x + this.boundingRect.width / 2, y: this.boundingRect.y + this.axisConfig.titlePadding, fill: this.axisThemeConfig.titleColor, fontSize: this.axisConfig.titleFontSize, rotation: 0, verticalPos: "top", horizontalPos: "center" }] }), e30;
  }
  getDrawableElements() {
    if ("left" === this.axisPosition) return this.getDrawableElementsForLeftAxis();
    if ("right" === this.axisPosition) throw Error("Drawing of right axis is not implemented");
    return "bottom" === this.axisPosition ? this.getDrawableElementsForBottomAxis() : "top" === this.axisPosition ? this.getDrawableElementsForTopAxis() : [];
  }
}, _i196 = new WeakMap(), __privateAdd(_Fc, _i196, iM(_Fc, "BaseAxis")), _Fc), eng = (_Gc = class extends enf {
  constructor(e30, t10, r10, n10, i10) {
    super(e30, n10, i10, t10), this.categories = r10, this.scale = pb().domain(this.categories).range(this.getRange());
  }
  setRange(e30) {
    super.setRange(e30);
  }
  recalculateScale() {
    this.scale = pb().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(0.5), iz.trace("BandAxis axis final categories, range: ", this.categories, this.getRange());
  }
  getTickValues() {
    return this.categories;
  }
  getScaleValue(e30) {
    var t10;
    return null !== (t10 = this.scale(e30)) && void 0 !== t10 ? t10 : this.getRange()[0];
  }
}, _i197 = new WeakMap(), __privateAdd(_Gc, _i197, iM(_Gc, "BandAxis")), _Gc), enm = (_Hc = class extends enf {
  constructor(e30, t10, r10, n10, i10) {
    super(e30, n10, i10, t10), this.domain = r10, this.scale = uI().domain(this.domain).range(this.getRange());
  }
  getTickValues() {
    return this.scale.ticks();
  }
  recalculateScale() {
    let e30 = [...this.domain];
    "left" === this.axisPosition && e30.reverse(), this.scale = uI().domain(e30).range(this.getRange());
  }
  getScaleValue(e30) {
    return this.scale(e30);
  }
}, _i198 = new WeakMap(), __privateAdd(_Hc, _i198, iM(_Hc, "LinearAxis")), _Hc);
function eny(e30, t10, r10, n10) {
  let i10 = new enp(n10);
  return enu(e30) ? new eng(t10, r10, e30.categories, e30.title, i10) : new enm(t10, r10, [e30.min, e30.max], e30.title, i10);
}
iM(eny, "getAxis");
var env = (_Ic = class {
  constructor(e30, t10, r10, n10) {
    this.textDimensionCalculator = e30, this.chartConfig = t10, this.chartData = r10, this.chartThemeConfig = n10, this.boundingRect = { x: 0, y: 0, width: 0, height: 0 }, this.showChartTitle = false;
  }
  setBoundingBoxXY(e30) {
    this.boundingRect.x = e30.x, this.boundingRect.y = e30.y;
  }
  calculateSpace(e30) {
    let t10 = this.textDimensionCalculator.getMaxDimension([this.chartData.title], this.chartConfig.titleFontSize), r10 = Math.max(t10.width, e30.width), n10 = t10.height + 2 * this.chartConfig.titlePadding;
    return t10.width <= r10 && t10.height <= n10 && this.chartConfig.showTitle && this.chartData.title && (this.boundingRect.width = r10, this.boundingRect.height = n10, this.showChartTitle = true), { width: this.boundingRect.width, height: this.boundingRect.height };
  }
  getDrawableElements() {
    let e30 = [];
    return this.showChartTitle && e30.push({ groupTexts: ["chart-title"], type: "text", data: [{ fontSize: this.chartConfig.titleFontSize, text: this.chartData.title, verticalPos: "middle", horizontalPos: "center", x: this.boundingRect.x + this.boundingRect.width / 2, y: this.boundingRect.y + this.boundingRect.height / 2, fill: this.chartThemeConfig.titleColor, rotation: 0 }] }), e30;
  }
}, _i199 = new WeakMap(), __privateAdd(_Ic, _i199, iM(_Ic, "ChartTitle")), _Ic);
function enx(e30, t10, r10, n10) {
  return new env(new enp(n10), e30, t10, r10);
}
iM(enx, "getChartTitleComponent");
var enb = (_Jc = class {
  constructor(e30, t10, r10, n10, i10) {
    this.plotData = e30, this.xAxis = t10, this.yAxis = r10, this.orientation = n10, this.plotIndex = i10;
  }
  getDrawableElement() {
    let e30;
    let t10 = this.plotData.data.map((e31) => [this.xAxis.getScaleValue(e31[0]), this.yAxis.getScaleValue(e31[1])]);
    return (e30 = "horizontal" === this.orientation ? p4().y((e31) => e31[0]).x((e31) => e31[1])(t10) : p4().x((e31) => e31[0]).y((e31) => e31[1])(t10)) ? [{ groupTexts: ["plot", `line-plot-${this.plotIndex}`], type: "path", data: [{ path: e30, strokeFill: this.plotData.strokeFill, strokeWidth: this.plotData.strokeWidth }] }] : [];
  }
}, _i200 = new WeakMap(), __privateAdd(_Jc, _i200, iM(_Jc, "LinePlot")), _Jc), enk = (_Kc = class {
  constructor(e30, t10, r10, n10, i10, a10) {
    this.barData = e30, this.boundingRect = t10, this.xAxis = r10, this.yAxis = n10, this.orientation = i10, this.plotIndex = a10;
  }
  getDrawableElement() {
    let e30 = this.barData.data.map((e31) => [this.xAxis.getScaleValue(e31[0]), this.yAxis.getScaleValue(e31[1])]), t10 = 0.95 * Math.min(2 * this.xAxis.getAxisOuterPadding(), this.xAxis.getTickDistance()), r10 = t10 / 2;
    return "horizontal" === this.orientation ? [{ groupTexts: ["plot", `bar-plot-${this.plotIndex}`], type: "rect", data: e30.map((e31) => ({ x: this.boundingRect.x, y: e31[0] - r10, height: t10, width: e31[1] - this.boundingRect.x, fill: this.barData.fill, strokeWidth: 0, strokeFill: this.barData.fill })) }] : [{ groupTexts: ["plot", `bar-plot-${this.plotIndex}`], type: "rect", data: e30.map((e31) => ({ x: e31[0] - r10, y: e31[1], width: t10, height: this.boundingRect.y + this.boundingRect.height - e31[1], fill: this.barData.fill, strokeWidth: 0, strokeFill: this.barData.fill })) }];
  }
}, _i201 = new WeakMap(), __privateAdd(_Kc, _i201, iM(_Kc, "BarPlot")), _Kc), enw = (_Lc = class {
  constructor(e30, t10, r10) {
    this.chartConfig = e30, this.chartData = t10, this.chartThemeConfig = r10, this.boundingRect = { x: 0, y: 0, width: 0, height: 0 };
  }
  setAxes(e30, t10) {
    this.xAxis = e30, this.yAxis = t10;
  }
  setBoundingBoxXY(e30) {
    this.boundingRect.x = e30.x, this.boundingRect.y = e30.y;
  }
  calculateSpace(e30) {
    return this.boundingRect.width = e30.width, this.boundingRect.height = e30.height, { width: this.boundingRect.width, height: this.boundingRect.height };
  }
  getDrawableElements() {
    if (!(this.xAxis && this.yAxis)) throw Error("Axes must be passed to render Plots");
    let e30 = [];
    for (let [t10, r10] of this.chartData.plots.entries()) switch (r10.type) {
      case "line":
        {
          let n10 = new enb(r10, this.xAxis, this.yAxis, this.chartConfig.chartOrientation, t10);
          e30.push(...n10.getDrawableElement());
        }
        break;
      case "bar": {
        let n10 = new enk(r10, this.boundingRect, this.xAxis, this.yAxis, this.chartConfig.chartOrientation, t10);
        e30.push(...n10.getDrawableElement());
      }
    }
    return e30;
  }
}, _i202 = new WeakMap(), __privateAdd(_Lc, _i202, iM(_Lc, "BasePlot")), _Lc);
function en_(e30, t10, r10) {
  return new enw(e30, t10, r10);
}
iM(en_, "getPlotComponent");
var enT = (_Mc = class {
  constructor(e30, t10, r10, n10) {
    this.chartConfig = e30, this.chartData = t10, this.componentStore = { title: enx(e30, t10, r10, n10), plot: en_(e30, t10, r10), xAxis: eny(t10.xAxis, e30.xAxis, { titleColor: r10.xAxisTitleColor, labelColor: r10.xAxisLabelColor, tickColor: r10.xAxisTickColor, axisLineColor: r10.xAxisLineColor }, n10), yAxis: eny(t10.yAxis, e30.yAxis, { titleColor: r10.yAxisTitleColor, labelColor: r10.yAxisLabelColor, tickColor: r10.yAxisTickColor, axisLineColor: r10.yAxisLineColor }, n10) };
  }
  calculateVerticalSpace() {
    let e30 = this.chartConfig.width, t10 = this.chartConfig.height, r10 = 0, n10 = 0, i10 = Math.floor(e30 * this.chartConfig.plotReservedSpacePercent / 100), a10 = Math.floor(t10 * this.chartConfig.plotReservedSpacePercent / 100), s10 = this.componentStore.plot.calculateSpace({ width: i10, height: a10 });
    e30 -= s10.width, t10 -= s10.height, n10 = (s10 = this.componentStore.title.calculateSpace({ width: this.chartConfig.width, height: t10 })).height, t10 -= s10.height, this.componentStore.xAxis.setAxisPosition("bottom"), s10 = this.componentStore.xAxis.calculateSpace({ width: e30, height: t10 }), t10 -= s10.height, this.componentStore.yAxis.setAxisPosition("left"), r10 = (s10 = this.componentStore.yAxis.calculateSpace({ width: e30, height: t10 })).width, (e30 -= s10.width) > 0 && (i10 += e30, e30 = 0), t10 > 0 && (a10 += t10, t10 = 0), this.componentStore.plot.calculateSpace({ width: i10, height: a10 }), this.componentStore.plot.setBoundingBoxXY({ x: r10, y: n10 }), this.componentStore.xAxis.setRange([r10, r10 + i10]), this.componentStore.xAxis.setBoundingBoxXY({ x: r10, y: n10 + a10 }), this.componentStore.yAxis.setRange([n10, n10 + a10]), this.componentStore.yAxis.setBoundingBoxXY({ x: 0, y: n10 }), this.chartData.plots.some((e31) => enh(e31)) && this.componentStore.xAxis.recalculateOuterPaddingToDrawBar();
  }
  calculateHorizontalSpace() {
    let e30 = this.chartConfig.width, t10 = this.chartConfig.height, r10 = 0, n10 = 0, i10 = 0, a10 = Math.floor(e30 * this.chartConfig.plotReservedSpacePercent / 100), s10 = Math.floor(t10 * this.chartConfig.plotReservedSpacePercent / 100), o10 = this.componentStore.plot.calculateSpace({ width: a10, height: s10 });
    e30 -= o10.width, t10 -= o10.height, r10 = (o10 = this.componentStore.title.calculateSpace({ width: this.chartConfig.width, height: t10 })).height, t10 -= o10.height, this.componentStore.xAxis.setAxisPosition("left"), o10 = this.componentStore.xAxis.calculateSpace({ width: e30, height: t10 }), e30 -= o10.width, n10 = o10.width, this.componentStore.yAxis.setAxisPosition("top"), o10 = this.componentStore.yAxis.calculateSpace({ width: e30, height: t10 }), t10 -= o10.height, i10 = r10 + o10.height, e30 > 0 && (a10 += e30, e30 = 0), t10 > 0 && (s10 += t10, t10 = 0), this.componentStore.plot.calculateSpace({ width: a10, height: s10 }), this.componentStore.plot.setBoundingBoxXY({ x: n10, y: i10 }), this.componentStore.yAxis.setRange([n10, n10 + a10]), this.componentStore.yAxis.setBoundingBoxXY({ x: n10, y: r10 }), this.componentStore.xAxis.setRange([i10, i10 + s10]), this.componentStore.xAxis.setBoundingBoxXY({ x: 0, y: i10 }), this.chartData.plots.some((e31) => enh(e31)) && this.componentStore.xAxis.recalculateOuterPaddingToDrawBar();
  }
  calculateSpace() {
    "horizontal" === this.chartConfig.chartOrientation ? this.calculateHorizontalSpace() : this.calculateVerticalSpace();
  }
  getDrawableElement() {
    this.calculateSpace();
    let e30 = [];
    for (let t10 of (this.componentStore.plot.setAxes(this.componentStore.xAxis, this.componentStore.yAxis), Object.values(this.componentStore))) e30.push(...t10.getDrawableElements());
    return e30;
  }
}, _i203 = new WeakMap(), __privateAdd(_Mc, _i203, iM(_Mc, "Orchestrator")), _Mc), enS = (_Nc = class {
  static build(e30, t10, r10, n10) {
    return new enT(e30, t10, r10, n10).getDrawableElement();
  }
}, _i204 = new WeakMap(), __privateAdd(_Nc, _i204, iM(_Nc, "XYChartBuilder")), _Nc), enC = 0, enE = enD(), enA = enR(), enL = enO(), enI = enA.plotColorPalette.split(",").map((e30) => e30.trim()), enM = false, enN = false;
function enR() {
  let e30 = ab(), t10 = aj();
  return k1(e30.xyChart, t10.themeVariables.xyChart);
}
function enD() {
  let e30 = aj();
  return k1(aC.xyChart, e30.xyChart);
}
function enO() {
  return { yAxis: { type: "linear", title: "", min: 1 / 0, max: -1 / 0 }, xAxis: { type: "band", title: "", categories: [] }, title: "", plots: [] };
}
function en$(e30) {
  let t10 = aj();
  return sV(e30.trim(), t10);
}
function enP(e30) {
  nQ = e30;
}
function enB(e30) {
  "horizontal" === e30 ? enE.chartOrientation = "horizontal" : enE.chartOrientation = "vertical";
}
function enF(e30) {
  enL.xAxis.title = en$(e30.text);
}
function enz(e30, t10) {
  enL.xAxis = { type: "linear", title: enL.xAxis.title, min: e30, max: t10 }, enM = true;
}
function enj(e30) {
  enL.xAxis = { type: "band", title: enL.xAxis.title, categories: e30.map((e31) => en$(e31.text)) }, enM = true;
}
function enq(e30) {
  enL.yAxis.title = en$(e30.text);
}
function enU(e30, t10) {
  enL.yAxis = { type: "linear", title: enL.yAxis.title, min: e30, max: t10 }, enN = true;
}
function enW(e30) {
  let t10 = Math.min(...e30), r10 = Math.max(...e30), n10 = end(enL.yAxis) ? enL.yAxis.min : 1 / 0, i10 = end(enL.yAxis) ? enL.yAxis.max : -1 / 0;
  enL.yAxis = { type: "linear", title: enL.yAxis.title, min: Math.min(n10, t10), max: Math.max(i10, r10) };
}
function enV(e30) {
  let t10 = [];
  if (0 === e30.length) return t10;
  if (enM || enz(Math.min(end(enL.xAxis) ? enL.xAxis.min : 1 / 0, 1), Math.max(end(enL.xAxis) ? enL.xAxis.max : -1 / 0, e30.length)), enN || enW(e30), enu(enL.xAxis) && (t10 = enL.xAxis.categories.map((t11, r10) => [t11, e30[r10]])), end(enL.xAxis)) {
    let r10 = enL.xAxis.min, n10 = enL.xAxis.max, i10 = (n10 - r10) / (e30.length - 1), a10 = [];
    for (let e31 = r10; e31 <= n10; e31 += i10) a10.push(`${e31}`);
    t10 = a10.map((t11, r11) => [t11, e30[r11]]);
  }
  return t10;
}
function enH(e30) {
  return enI[0 === e30 ? 0 : e30 % enI.length];
}
function enY(e30, t10) {
  let r10 = enV(t10);
  enL.plots.push({ type: "line", strokeFill: enH(enC), strokeWidth: 2, data: r10 }), enC++;
}
function enG(e30, t10) {
  let r10 = enV(t10);
  enL.plots.push({ type: "bar", fill: enH(enC), data: r10 }), enC++;
}
function enX() {
  if (0 === enL.plots.length) throw Error("No Plot to render, please provide a plot with some data");
  return enL.title = ox(), enS.build(enE, enL, enA, nQ);
}
function enK() {
  return enA;
}
function enZ() {
  return enE;
}
iM(enR, "getChartDefaultThemeConfig"), iM(enD, "getChartDefaultConfig"), iM(enO, "getChartDefaultData"), iM(en$, "textSanitizer"), iM(enP, "setTmpSVGG"), iM(enB, "setOrientation"), iM(enF, "setXAxisTitle"), iM(enz, "setXAxisRangeData"), iM(enj, "setXAxisBand"), iM(enq, "setYAxisTitle"), iM(enU, "setYAxisRangeData"), iM(enW, "setYAxisRangeFromPlotData"), iM(enV, "transformDataWithoutCategory"), iM(enH, "getPlotColorFromPalette"), iM(enY, "setLineData"), iM(enG, "setBarData"), iM(enX, "getDrawableElem"), iM(enK, "getChartThemeConfig"), iM(enZ, "getChartConfig");
let enQ = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: enc, db: { getDrawableElem: enX, clear: iM(function() {
  op(), enC = 0, enE = enD(), enL = enO(), enI = (enA = enR()).plotColorPalette.split(",").map((e30) => e30.trim()), enM = false, enN = false;
}, "clear"), setAccTitle: of, getAccTitle: og, setDiagramTitle: ov, getDiagramTitle: ox, getAccDescription: oy, setAccDescription: om, setOrientation: enB, setXAxisTitle: enF, setXAxisRangeData: enz, setXAxisBand: enj, setYAxisTitle: enq, setYAxisRangeData: enU, setLineData: enY, setBarData: enG, setTmpSVGG: enP, getChartThemeConfig: enK, getChartConfig: enZ }, renderer: { draw: iM((e30, t10, r10, n10) => {
  let i10 = n10.db, a10 = i10.getChartThemeConfig(), s10 = i10.getChartConfig();
  function o10(e31) {
    return "top" === e31 ? "text-before-edge" : "middle";
  }
  function l10(e31) {
    return "left" === e31 ? "start" : "right" === e31 ? "end" : "middle";
  }
  function h10(e31) {
    return `translate(${e31.x}, ${e31.y}) rotate(${e31.rotation || 0})`;
  }
  iM(o10, "getDominantBaseLine"), iM(l10, "getTextAnchor"), iM(h10, "getTextTransformation"), iz.debug("Rendering xychart chart\n" + e30);
  let u10 = mg(t10), d10 = u10.append("g").attr("class", "main"), p10 = d10.append("rect").attr("width", s10.width).attr("height", s10.height).attr("class", "background");
  on(u10, s10.height, s10.width, true), u10.attr("viewBox", `0 0 ${s10.width} ${s10.height}`), p10.attr("fill", a10.backgroundColor), i10.setTmpSVGG(u10.append("g").attr("class", "mermaid-tmp-group"));
  let f10 = i10.getDrawableElem(), g10 = {};
  function y10(e31) {
    let t11 = d10, r11 = "";
    for (let [n11] of e31.entries()) {
      let i11 = d10;
      n11 > 0 && g10[r11] && (i11 = g10[r11]), r11 += e31[n11], (t11 = g10[r11]) || (t11 = g10[r11] = i11.append("g").attr("class", e31[n11]));
    }
    return t11;
  }
  for (let e31 of (iM(y10, "getGroup"), f10)) {
    if (0 === e31.data.length) continue;
    let t11 = y10(e31.groupTexts);
    switch (e31.type) {
      case "rect":
        t11.selectAll("rect").data(e31.data).enter().append("rect").attr("x", (e32) => e32.x).attr("y", (e32) => e32.y).attr("width", (e32) => e32.width).attr("height", (e32) => e32.height).attr("fill", (e32) => e32.fill).attr("stroke", (e32) => e32.strokeFill).attr("stroke-width", (e32) => e32.strokeWidth);
        break;
      case "text":
        t11.selectAll("text").data(e31.data).enter().append("text").attr("x", 0).attr("y", 0).attr("fill", (e32) => e32.fill).attr("font-size", (e32) => e32.fontSize).attr("dominant-baseline", (e32) => o10(e32.verticalPos)).attr("text-anchor", (e32) => l10(e32.horizontalPos)).attr("transform", (e32) => h10(e32)).text((e32) => e32.text);
        break;
      case "path":
        t11.selectAll("path").data(e31.data).enter().append("path").attr("d", (e32) => e32.path).attr("fill", (e32) => e32.fill ? e32.fill : "none").attr("stroke", (e32) => e32.strokeFill).attr("stroke-width", (e32) => e32.strokeWidth);
    }
  }
}, "draw") } } }, Symbol.toStringTag, { value: "Module" }));
var enJ = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 3], r10 = [1, 4], n10 = [1, 5], i10 = [1, 6], a10 = [5, 6, 8, 9, 11, 13, 31, 32, 33, 34, 35, 36, 44, 62, 63], s10 = [1, 18], o10 = [2, 7], l10 = [1, 22], h10 = [1, 23], u10 = [1, 24], d10 = [1, 25], p10 = [1, 26], f10 = [1, 27], g10 = [1, 20], y10 = [1, 28], v10 = [1, 29], x10 = [62, 63], b10 = [5, 8, 9, 11, 13, 31, 32, 33, 34, 35, 36, 44, 51, 53, 62, 63], k10 = [1, 47], w10 = [1, 48], _10 = [1, 49], T10 = [1, 50], S10 = [1, 51], C10 = [1, 52], E10 = [1, 53], A10 = [53, 54], L10 = [1, 64], I10 = [1, 60], M10 = [1, 61], N10 = [1, 62], R10 = [1, 63], D10 = [1, 65], O10 = [1, 69], $10 = [1, 70], P10 = [1, 67], B10 = [1, 68], F10 = [5, 8, 9, 11, 13, 31, 32, 33, 34, 35, 36, 44, 62, 63], z10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, directive: 4, NEWLINE: 5, RD: 6, diagram: 7, EOF: 8, acc_title: 9, acc_title_value: 10, acc_descr: 11, acc_descr_value: 12, acc_descr_multiline_value: 13, requirementDef: 14, elementDef: 15, relationshipDef: 16, requirementType: 17, requirementName: 18, STRUCT_START: 19, requirementBody: 20, ID: 21, COLONSEP: 22, id: 23, TEXT: 24, text: 25, RISK: 26, riskLevel: 27, VERIFYMTHD: 28, verifyType: 29, STRUCT_STOP: 30, REQUIREMENT: 31, FUNCTIONAL_REQUIREMENT: 32, INTERFACE_REQUIREMENT: 33, PERFORMANCE_REQUIREMENT: 34, PHYSICAL_REQUIREMENT: 35, DESIGN_CONSTRAINT: 36, LOW_RISK: 37, MED_RISK: 38, HIGH_RISK: 39, VERIFY_ANALYSIS: 40, VERIFY_DEMONSTRATION: 41, VERIFY_INSPECTION: 42, VERIFY_TEST: 43, ELEMENT: 44, elementName: 45, elementBody: 46, TYPE: 47, type: 48, DOCREF: 49, ref: 50, END_ARROW_L: 51, relationship: 52, LINE: 53, END_ARROW_R: 54, CONTAINS: 55, COPIES: 56, DERIVES: 57, SATISFIES: 58, VERIFIES: 59, REFINES: 60, TRACES: 61, unqString: 62, qString: 63, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "NEWLINE", 6: "RD", 8: "EOF", 9: "acc_title", 10: "acc_title_value", 11: "acc_descr", 12: "acc_descr_value", 13: "acc_descr_multiline_value", 19: "STRUCT_START", 21: "ID", 22: "COLONSEP", 24: "TEXT", 26: "RISK", 28: "VERIFYMTHD", 30: "STRUCT_STOP", 31: "REQUIREMENT", 32: "FUNCTIONAL_REQUIREMENT", 33: "INTERFACE_REQUIREMENT", 34: "PERFORMANCE_REQUIREMENT", 35: "PHYSICAL_REQUIREMENT", 36: "DESIGN_CONSTRAINT", 37: "LOW_RISK", 38: "MED_RISK", 39: "HIGH_RISK", 40: "VERIFY_ANALYSIS", 41: "VERIFY_DEMONSTRATION", 42: "VERIFY_INSPECTION", 43: "VERIFY_TEST", 44: "ELEMENT", 47: "TYPE", 49: "DOCREF", 51: "END_ARROW_L", 53: "LINE", 54: "END_ARROW_R", 55: "CONTAINS", 56: "COPIES", 57: "DERIVES", 58: "SATISFIES", 59: "VERIFIES", 60: "REFINES", 61: "TRACES", 62: "unqString", 63: "qString" }, productions_: [0, [3, 3], [3, 2], [3, 4], [4, 2], [4, 2], [4, 1], [7, 0], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [14, 5], [20, 5], [20, 5], [20, 5], [20, 5], [20, 2], [20, 1], [17, 1], [17, 1], [17, 1], [17, 1], [17, 1], [17, 1], [27, 1], [27, 1], [27, 1], [29, 1], [29, 1], [29, 1], [29, 1], [15, 5], [46, 5], [46, 5], [46, 2], [46, 1], [16, 5], [16, 5], [52, 1], [52, 1], [52, 1], [52, 1], [52, 1], [52, 1], [52, 1], [18, 1], [18, 1], [23, 1], [23, 1], [25, 1], [25, 1], [45, 1], [45, 1], [48, 1], [48, 1], [50, 1], [50, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 4:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 5:
      case 6:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 7:
        this.$ = [];
        break;
      case 13:
        n11.addRequirement(a11[o11 - 3], a11[o11 - 4]);
        break;
      case 14:
        n11.setNewReqId(a11[o11 - 2]);
        break;
      case 15:
        n11.setNewReqText(a11[o11 - 2]);
        break;
      case 16:
        n11.setNewReqRisk(a11[o11 - 2]);
        break;
      case 17:
        n11.setNewReqVerifyMethod(a11[o11 - 2]);
        break;
      case 20:
        this.$ = n11.RequirementType.REQUIREMENT;
        break;
      case 21:
        this.$ = n11.RequirementType.FUNCTIONAL_REQUIREMENT;
        break;
      case 22:
        this.$ = n11.RequirementType.INTERFACE_REQUIREMENT;
        break;
      case 23:
        this.$ = n11.RequirementType.PERFORMANCE_REQUIREMENT;
        break;
      case 24:
        this.$ = n11.RequirementType.PHYSICAL_REQUIREMENT;
        break;
      case 25:
        this.$ = n11.RequirementType.DESIGN_CONSTRAINT;
        break;
      case 26:
        this.$ = n11.RiskLevel.LOW_RISK;
        break;
      case 27:
        this.$ = n11.RiskLevel.MED_RISK;
        break;
      case 28:
        this.$ = n11.RiskLevel.HIGH_RISK;
        break;
      case 29:
        this.$ = n11.VerifyType.VERIFY_ANALYSIS;
        break;
      case 30:
        this.$ = n11.VerifyType.VERIFY_DEMONSTRATION;
        break;
      case 31:
        this.$ = n11.VerifyType.VERIFY_INSPECTION;
        break;
      case 32:
        this.$ = n11.VerifyType.VERIFY_TEST;
        break;
      case 33:
        n11.addElement(a11[o11 - 3]);
        break;
      case 34:
        n11.setNewElementType(a11[o11 - 2]);
        break;
      case 35:
        n11.setNewElementDocRef(a11[o11 - 2]);
        break;
      case 38:
        n11.addRelationship(a11[o11 - 2], a11[o11], a11[o11 - 4]);
        break;
      case 39:
        n11.addRelationship(a11[o11 - 2], a11[o11 - 4], a11[o11]);
        break;
      case 40:
        this.$ = n11.Relationships.CONTAINS;
        break;
      case 41:
        this.$ = n11.Relationships.COPIES;
        break;
      case 42:
        this.$ = n11.Relationships.DERIVES;
        break;
      case 43:
        this.$ = n11.Relationships.SATISFIES;
        break;
      case 44:
        this.$ = n11.Relationships.VERIFIES;
        break;
      case 45:
        this.$ = n11.Relationships.REFINES;
        break;
      case 46:
        this.$ = n11.Relationships.TRACES;
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 6: t10, 9: r10, 11: n10, 13: i10 }, { 1: [3] }, { 3: 8, 4: 2, 5: [1, 7], 6: t10, 9: r10, 11: n10, 13: i10 }, { 5: [1, 9] }, { 10: [1, 10] }, { 12: [1, 11] }, e30(a10, [2, 6]), { 3: 12, 4: 2, 6: t10, 9: r10, 11: n10, 13: i10 }, { 1: [2, 2] }, { 4: 17, 5: s10, 7: 13, 8: o10, 9: r10, 11: n10, 13: i10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: f10, 44: g10, 62: y10, 63: v10 }, e30(a10, [2, 4]), e30(a10, [2, 5]), { 1: [2, 1] }, { 8: [1, 30] }, { 4: 17, 5: s10, 7: 31, 8: o10, 9: r10, 11: n10, 13: i10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: f10, 44: g10, 62: y10, 63: v10 }, { 4: 17, 5: s10, 7: 32, 8: o10, 9: r10, 11: n10, 13: i10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: f10, 44: g10, 62: y10, 63: v10 }, { 4: 17, 5: s10, 7: 33, 8: o10, 9: r10, 11: n10, 13: i10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: f10, 44: g10, 62: y10, 63: v10 }, { 4: 17, 5: s10, 7: 34, 8: o10, 9: r10, 11: n10, 13: i10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: f10, 44: g10, 62: y10, 63: v10 }, { 4: 17, 5: s10, 7: 35, 8: o10, 9: r10, 11: n10, 13: i10, 14: 14, 15: 15, 16: 16, 17: 19, 23: 21, 31: l10, 32: h10, 33: u10, 34: d10, 35: p10, 36: f10, 44: g10, 62: y10, 63: v10 }, { 18: 36, 62: [1, 37], 63: [1, 38] }, { 45: 39, 62: [1, 40], 63: [1, 41] }, { 51: [1, 42], 53: [1, 43] }, e30(x10, [2, 20]), e30(x10, [2, 21]), e30(x10, [2, 22]), e30(x10, [2, 23]), e30(x10, [2, 24]), e30(x10, [2, 25]), e30(b10, [2, 49]), e30(b10, [2, 50]), { 1: [2, 3] }, { 8: [2, 8] }, { 8: [2, 9] }, { 8: [2, 10] }, { 8: [2, 11] }, { 8: [2, 12] }, { 19: [1, 44] }, { 19: [2, 47] }, { 19: [2, 48] }, { 19: [1, 45] }, { 19: [2, 53] }, { 19: [2, 54] }, { 52: 46, 55: k10, 56: w10, 57: _10, 58: T10, 59: S10, 60: C10, 61: E10 }, { 52: 54, 55: k10, 56: w10, 57: _10, 58: T10, 59: S10, 60: C10, 61: E10 }, { 5: [1, 55] }, { 5: [1, 56] }, { 53: [1, 57] }, e30(A10, [2, 40]), e30(A10, [2, 41]), e30(A10, [2, 42]), e30(A10, [2, 43]), e30(A10, [2, 44]), e30(A10, [2, 45]), e30(A10, [2, 46]), { 54: [1, 58] }, { 5: L10, 20: 59, 21: I10, 24: M10, 26: N10, 28: R10, 30: D10 }, { 5: O10, 30: $10, 46: 66, 47: P10, 49: B10 }, { 23: 71, 62: y10, 63: v10 }, { 23: 72, 62: y10, 63: v10 }, e30(F10, [2, 13]), { 22: [1, 73] }, { 22: [1, 74] }, { 22: [1, 75] }, { 22: [1, 76] }, { 5: L10, 20: 77, 21: I10, 24: M10, 26: N10, 28: R10, 30: D10 }, e30(F10, [2, 19]), e30(F10, [2, 33]), { 22: [1, 78] }, { 22: [1, 79] }, { 5: O10, 30: $10, 46: 80, 47: P10, 49: B10 }, e30(F10, [2, 37]), e30(F10, [2, 38]), e30(F10, [2, 39]), { 23: 81, 62: y10, 63: v10 }, { 25: 82, 62: [1, 83], 63: [1, 84] }, { 27: 85, 37: [1, 86], 38: [1, 87], 39: [1, 88] }, { 29: 89, 40: [1, 90], 41: [1, 91], 42: [1, 92], 43: [1, 93] }, e30(F10, [2, 18]), { 48: 94, 62: [1, 95], 63: [1, 96] }, { 50: 97, 62: [1, 98], 63: [1, 99] }, e30(F10, [2, 36]), { 5: [1, 100] }, { 5: [1, 101] }, { 5: [2, 51] }, { 5: [2, 52] }, { 5: [1, 102] }, { 5: [2, 26] }, { 5: [2, 27] }, { 5: [2, 28] }, { 5: [1, 103] }, { 5: [2, 29] }, { 5: [2, 30] }, { 5: [2, 31] }, { 5: [2, 32] }, { 5: [1, 104] }, { 5: [2, 55] }, { 5: [2, 56] }, { 5: [1, 105] }, { 5: [2, 57] }, { 5: [2, 58] }, { 5: L10, 20: 106, 21: I10, 24: M10, 26: N10, 28: R10, 30: D10 }, { 5: L10, 20: 107, 21: I10, 24: M10, 26: N10, 28: R10, 30: D10 }, { 5: L10, 20: 108, 21: I10, 24: M10, 26: N10, 28: R10, 30: D10 }, { 5: L10, 20: 109, 21: I10, 24: M10, 26: N10, 28: R10, 30: D10 }, { 5: O10, 30: $10, 46: 110, 47: P10, 49: B10 }, { 5: O10, 30: $10, 46: 111, 47: P10, 49: B10 }, e30(F10, [2, 14]), e30(F10, [2, 15]), e30(F10, [2, 16]), e30(F10, [2, 17]), e30(F10, [2, 34]), e30(F10, [2, 35])], defaultActions: { 8: [2, 2], 12: [2, 1], 30: [2, 3], 31: [2, 8], 32: [2, 9], 33: [2, 10], 34: [2, 11], 35: [2, 12], 37: [2, 47], 38: [2, 48], 40: [2, 53], 41: [2, 54], 83: [2, 51], 84: [2, 52], 86: [2, 26], 87: [2, 27], 88: [2, 28], 90: [2, 29], 91: [2, 30], 92: [2, 31], 93: [2, 32], 95: [2, 55], 96: [2, 56], 98: [2, 57], 99: [2, 58] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, j10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return "title";
      case 1:
        return this.begin("acc_title"), 9;
      case 2:
        return this.popState(), "acc_title_value";
      case 3:
        return this.begin("acc_descr"), 11;
      case 4:
        return this.popState(), "acc_descr_value";
      case 5:
        this.begin("acc_descr_multiline");
        break;
      case 6:
      case 48:
        this.popState();
        break;
      case 7:
        return "acc_descr_multiline_value";
      case 8:
        return 5;
      case 9:
      case 10:
      case 11:
        break;
      case 12:
        return 8;
      case 13:
        return 6;
      case 14:
        return 19;
      case 15:
        return 30;
      case 16:
        return 22;
      case 17:
        return 21;
      case 18:
        return 24;
      case 19:
        return 26;
      case 20:
        return 28;
      case 21:
        return 31;
      case 22:
        return 32;
      case 23:
        return 33;
      case 24:
        return 34;
      case 25:
        return 35;
      case 26:
        return 36;
      case 27:
        return 37;
      case 28:
        return 38;
      case 29:
        return 39;
      case 30:
        return 40;
      case 31:
        return 41;
      case 32:
        return 42;
      case 33:
        return 43;
      case 34:
        return 44;
      case 35:
        return 55;
      case 36:
        return 56;
      case 37:
        return 57;
      case 38:
        return 58;
      case 39:
        return 59;
      case 40:
        return 60;
      case 41:
        return 61;
      case 42:
        return 47;
      case 43:
        return 49;
      case 44:
        return 51;
      case 45:
        return 54;
      case 46:
        return 53;
      case 47:
        this.begin("string");
        break;
      case 49:
        return "qString";
      case 50:
        return t11.yytext = t11.yytext.trim(), 62;
    }
  }, "anonymous"), rules: [/^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:(\r?\n)+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:$)/i, /^(?:requirementDiagram\b)/i, /^(?:\{)/i, /^(?:\})/i, /^(?::)/i, /^(?:id\b)/i, /^(?:text\b)/i, /^(?:risk\b)/i, /^(?:verifyMethod\b)/i, /^(?:requirement\b)/i, /^(?:functionalRequirement\b)/i, /^(?:interfaceRequirement\b)/i, /^(?:performanceRequirement\b)/i, /^(?:physicalRequirement\b)/i, /^(?:designConstraint\b)/i, /^(?:low\b)/i, /^(?:medium\b)/i, /^(?:high\b)/i, /^(?:analysis\b)/i, /^(?:demonstration\b)/i, /^(?:inspection\b)/i, /^(?:test\b)/i, /^(?:element\b)/i, /^(?:contains\b)/i, /^(?:copies\b)/i, /^(?:derives\b)/i, /^(?:satisfies\b)/i, /^(?:verifies\b)/i, /^(?:refines\b)/i, /^(?:traces\b)/i, /^(?:type\b)/i, /^(?:docref\b)/i, /^(?:<-)/i, /^(?:->)/i, /^(?:-)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[\w][^\r\n\{\<\>\-\=]*)/i], conditions: { acc_descr_multiline: { rules: [6, 7], inclusive: false }, acc_descr: { rules: [4], inclusive: false }, acc_title: { rules: [2], inclusive: false }, unqString: { rules: [], inclusive: false }, token: { rules: [], inclusive: false }, string: { rules: [48, 49], inclusive: false }, INITIAL: { rules: [0, 1, 3, 5, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 50], inclusive: true } } };
  function q10() {
    this.yy = {};
  }
  return z10.lexer = j10, iM(q10, "Parser"), q10.prototype = z10, z10.Parser = q10, new q10();
}();
enJ.parser = enJ;
var en0 = [], en1 = {}, en2 = /* @__PURE__ */ new Map(), en4 = {}, en3 = /* @__PURE__ */ new Map(), en5 = iM((e30, t10) => (en2.has(e30) || en2.set(e30, { name: e30, type: t10, id: en1.id, text: en1.text, risk: en1.risk, verifyMethod: en1.verifyMethod }), en1 = {}, en2.get(e30)), "addRequirement"), en6 = iM(() => en2, "getRequirements"), en7 = iM((e30) => {
  void 0 !== en1 && (en1.id = e30);
}, "setNewReqId"), en8 = iM((e30) => {
  void 0 !== en1 && (en1.text = e30);
}, "setNewReqText"), en9 = iM((e30) => {
  void 0 !== en1 && (en1.risk = e30);
}, "setNewReqRisk"), eie = iM((e30) => {
  void 0 !== en1 && (en1.verifyMethod = e30);
}, "setNewReqVerifyMethod"), eit = iM((e30) => (en3.has(e30) || (en3.set(e30, { name: e30, type: en4.type, docRef: en4.docRef }), iz.info("Added new requirement: ", e30)), en4 = {}, en3.get(e30)), "addElement"), eir = iM(() => en3, "getElements"), ein = iM((e30) => {
  void 0 !== en4 && (en4.type = e30);
}, "setNewElementType"), eii = iM((e30) => {
  void 0 !== en4 && (en4.docRef = e30);
}, "setNewElementDocRef"), eia = iM((e30, t10, r10) => {
  en0.push({ type: e30, src: t10, dst: r10 });
}, "addRelationship"), eis = iM(() => en0, "getRelationships"), eio = iM(() => {
  en0 = [], en1 = {}, en2 = /* @__PURE__ */ new Map(), en4 = {}, en3 = /* @__PURE__ */ new Map(), op();
}, "clear"), eil = { RequirementType: { REQUIREMENT: "Requirement", FUNCTIONAL_REQUIREMENT: "Functional Requirement", INTERFACE_REQUIREMENT: "Interface Requirement", PERFORMANCE_REQUIREMENT: "Performance Requirement", PHYSICAL_REQUIREMENT: "Physical Requirement", DESIGN_CONSTRAINT: "Design Constraint" }, RiskLevel: { LOW_RISK: "Low", MED_RISK: "Medium", HIGH_RISK: "High" }, VerifyType: { VERIFY_ANALYSIS: "Analysis", VERIFY_DEMONSTRATION: "Demonstration", VERIFY_INSPECTION: "Inspection", VERIFY_TEST: "Test" }, Relationships: { CONTAINS: "contains", COPIES: "copies", DERIVES: "derives", SATISFIES: "satisfies", VERIFIES: "verifies", REFINES: "refines", TRACES: "traces" }, getConfig: iM(() => aj().req, "getConfig"), addRequirement: en5, getRequirements: en6, setNewReqId: en7, setNewReqText: en8, setNewReqRisk: en9, setNewReqVerifyMethod: eie, setAccTitle: of, getAccTitle: og, setAccDescription: om, getAccDescription: oy, addElement: eit, getElements: eir, setNewElementType: ein, setNewElementDocRef: eii, addRelationship: eia, getRelationships: eis, clear: eio }, eic = iM((e30) => `

  marker {
    fill: ${e30.relationColor};
    stroke: ${e30.relationColor};
  }

  marker.cross {
    stroke: ${e30.lineColor};
  }

  svg {
    font-family: ${e30.fontFamily};
    font-size: ${e30.fontSize};
  }

  .reqBox {
    fill: ${e30.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e30.requirementBorderColor};
    stroke-width: ${e30.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e30.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e30.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e30.requirementBorderColor};
    stroke-width: ${e30.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e30.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e30.relationLabelColor};
  }

`, "getStyles"), eih = { CONTAINS: "contains", ARROW: "arrow" }, eiu = iM((e30, t10) => {
  let r10 = e30.append("defs").append("marker").attr("id", eih.CONTAINS + "_line_ending").attr("refX", 0).attr("refY", t10.line_height / 2).attr("markerWidth", t10.line_height).attr("markerHeight", t10.line_height).attr("orient", "auto").append("g");
  r10.append("circle").attr("cx", t10.line_height / 2).attr("cy", t10.line_height / 2).attr("r", t10.line_height / 2).attr("fill", "none"), r10.append("line").attr("x1", 0).attr("x2", t10.line_height).attr("y1", t10.line_height / 2).attr("y2", t10.line_height / 2).attr("stroke-width", 1), r10.append("line").attr("y1", 0).attr("y2", t10.line_height).attr("x1", t10.line_height / 2).attr("x2", t10.line_height / 2).attr("stroke-width", 1), e30.append("defs").append("marker").attr("id", eih.ARROW + "_line_ending").attr("refX", t10.line_height).attr("refY", 0.5 * t10.line_height).attr("markerWidth", t10.line_height).attr("markerHeight", t10.line_height).attr("orient", "auto").append("path").attr("d", `M0,0
      L${t10.line_height},${t10.line_height / 2}
      M${t10.line_height},${t10.line_height / 2}
      L0,${t10.line_height}`).attr("stroke-width", 1);
}, "insertLineEndings"), eid = { ReqMarkers: eih, insertLineEndings: eiu }, eip = {}, eif = 0, eig = iM((e30, t10) => e30.insert("rect", "#" + t10).attr("class", "req reqBox").attr("x", 0).attr("y", 0).attr("width", eip.rect_min_width + "px").attr("height", eip.rect_min_height + "px"), "newRectNode"), eim = iM((e30, t10, r10) => {
  let n10 = eip.rect_min_width / 2, i10 = e30.append("text").attr("class", "req reqLabel reqTitle").attr("id", t10).attr("x", n10).attr("y", eip.rect_padding).attr("dominant-baseline", "hanging"), a10 = 0;
  r10.forEach((e31) => {
    0 == a10 ? i10.append("tspan").attr("text-anchor", "middle").attr("x", eip.rect_min_width / 2).attr("dy", 0).text(e31) : i10.append("tspan").attr("text-anchor", "middle").attr("x", eip.rect_min_width / 2).attr("dy", 0.75 * eip.line_height).text(e31), a10++;
  });
  let s10 = 1.5 * eip.rect_padding + a10 * eip.line_height * 0.75;
  return e30.append("line").attr("class", "req-title-line").attr("x1", "0").attr("x2", eip.rect_min_width).attr("y1", s10).attr("y2", s10), { titleNode: i10, y: s10 };
}, "newTitleNode"), eiy = iM((e30, t10, r10, n10) => {
  let i10 = e30.append("text").attr("class", "req reqLabel").attr("id", t10).attr("x", eip.rect_padding).attr("y", n10).attr("dominant-baseline", "hanging"), a10 = 0, s10 = [];
  return r10.forEach((e31) => {
    let t11 = e31.length;
    for (; t11 > 30 && a10 < 3; ) {
      let r11 = e31.substring(0, 30);
      t11 = (e31 = e31.substring(30, e31.length)).length, s10[s10.length] = r11, a10++;
    }
    if (3 == a10) {
      let e32 = s10[s10.length - 1];
      s10[s10.length - 1] = e32.substring(0, e32.length - 4) + "...";
    } else s10[s10.length] = e31;
    a10 = 0;
  }), s10.forEach((e31) => {
    i10.append("tspan").attr("x", eip.rect_padding).attr("dy", eip.line_height).text(e31);
  }), i10;
}, "newBodyNode"), eiv = iM((e30, t10, r10, n10) => {
  let i10 = t10.node().getTotalLength(), a10 = t10.node().getPointAtLength(0.5 * i10), s10 = "rel" + eif;
  eif++;
  let o10 = e30.append("text").attr("class", "req relationshipLabel").attr("id", s10).attr("x", a10.x).attr("y", a10.y).attr("text-anchor", "middle").attr("dominant-baseline", "middle").text(n10).node().getBBox();
  e30.insert("rect", "#" + s10).attr("class", "req reqLabelBox").attr("x", a10.x - o10.width / 2).attr("y", a10.y - o10.height / 2).attr("width", o10.width).attr("height", o10.height).attr("fill", "white").attr("fill-opacity", "85%");
}, "addEdgeLabel"), eix = iM(function(e30, t10, r10, n10, i10) {
  let a10 = r10.edge(eiT(t10.src), eiT(t10.dst)), s10 = p4().x(function(e31) {
    return e31.x;
  }).y(function(e31) {
    return e31.y;
  }), o10 = e30.insert("path", "#" + n10).attr("class", "er relationshipLine").attr("d", s10(a10.points)).attr("fill", "none");
  t10.type == i10.db.Relationships.CONTAINS ? o10.attr("marker-start", "url(" + oe.getUrl(eip.arrowMarkerAbsolute) + "#" + t10.type + "_line_ending)") : (o10.attr("stroke-dasharray", "10,7"), o10.attr("marker-end", "url(" + oe.getUrl(eip.arrowMarkerAbsolute) + "#" + eid.ReqMarkers.ARROW + "_line_ending)")), eiv(e30, o10, eip, `<<${t10.type}>>`);
}, "drawRelationshipFromLayout"), eib = iM((e30, t10, r10) => {
  e30.forEach((e31, n10) => {
    n10 = eiT(n10), iz.info("Added new requirement: ", n10);
    let i10 = r10.append("g").attr("id", n10), a10 = eig(i10, "req-" + n10), s10 = [], o10 = eim(i10, n10 + "_title", [`<<${e31.type}>>`, `${e31.name}`]);
    s10.push(o10.titleNode), s10.push(eiy(i10, n10 + "_body", [`Id: ${e31.id}`, `Text: ${e31.text}`, `Risk: ${e31.risk}`, `Verification: ${e31.verifyMethod}`], o10.y));
    let l10 = a10.node().getBBox();
    t10.setNode(n10, { width: l10.width, height: l10.height, shape: "rect", id: n10 });
  });
}, "drawReqs"), eik = iM((e30, t10, r10) => {
  e30.forEach((e31, n10) => {
    let i10 = eiT(n10), a10 = r10.append("g").attr("id", i10), s10 = "element-" + i10, o10 = eig(a10, s10), l10 = [], h10 = eim(a10, s10 + "_title", ["<<Element>>", `${n10}`]);
    l10.push(h10.titleNode), l10.push(eiy(a10, s10 + "_body", [`Type: ${e31.type || "Not Specified"}`, `Doc Ref: ${e31.docRef || "None"}`], h10.y));
    let u10 = o10.node().getBBox();
    t10.setNode(i10, { width: u10.width, height: u10.height, shape: "rect", id: i10 });
  });
}, "drawElements"), eiw = iM((e30, t10) => (e30.forEach(function(e31) {
  let r10 = eiT(e31.src), n10 = eiT(e31.dst);
  t10.setEdge(r10, n10, { relationship: e31 });
}), e30), "addRelationships"), ei_ = iM(function(e30, t10) {
  t10.nodes().forEach(function(r10) {
    void 0 !== r10 && void 0 !== t10.node(r10) && (e30.select("#" + r10), e30.select("#" + r10).attr("transform", "translate(" + (t10.node(r10).x - t10.node(r10).width / 2) + "," + (t10.node(r10).y - t10.node(r10).height / 2) + " )"));
  });
}, "adjustEntities"), eiT = iM((e30) => e30.replace(/\s/g, "").replace(/\./g, "_"), "elementString");
let eiS = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: enJ, db: eil, renderer: { draw: iM((e30, t10, r10, n10) => {
  let i10;
  let a10 = (eip = aj().requirement).securityLevel;
  "sandbox" === a10 && (i10 = c$("#i" + t10));
  let s10 = ("sandbox" === a10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body")).select(`[id='${t10}']`);
  eid.insertLineEndings(s10, eip);
  let o10 = new PV({ multigraph: false, compound: false, directed: true }).setGraph({ rankdir: eip.layoutDirection, marginx: 20, marginy: 20, nodesep: 100, edgesep: 100, ranksep: 100 }).setDefaultEdgeLabel(function() {
    return {};
  }), l10 = n10.db.getRequirements(), h10 = n10.db.getElements(), u10 = n10.db.getRelationships();
  eib(l10, o10, s10), eik(h10, o10, s10), eiw(u10, o10), FN(o10), ei_(s10, o10), u10.forEach(function(e31) {
    eix(s10, e31, o10, t10, n10);
  });
  let d10 = eip.rect_padding, p10 = s10.node().getBBox(), f10 = p10.width + 2 * d10, g10 = p10.height + 2 * d10;
  on(s10, g10, f10, eip.useMaxWidth), s10.attr("viewBox", `${p10.x - d10} ${p10.y - d10} ${f10} ${g10}`);
}, "draw") }, styles: eic } }, Symbol.toStringTag, { value: "Module" }));
var eiC = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 2], r10 = [1, 3], n10 = [1, 4], i10 = [2, 4], a10 = [1, 9], s10 = [1, 11], o10 = [1, 13], l10 = [1, 14], h10 = [1, 16], u10 = [1, 17], d10 = [1, 18], p10 = [1, 24], f10 = [1, 25], g10 = [1, 26], y10 = [1, 27], v10 = [1, 28], x10 = [1, 29], b10 = [1, 30], k10 = [1, 31], w10 = [1, 32], _10 = [1, 33], T10 = [1, 34], S10 = [1, 35], C10 = [1, 36], E10 = [1, 37], A10 = [1, 38], L10 = [1, 39], I10 = [1, 41], M10 = [1, 42], N10 = [1, 43], R10 = [1, 44], D10 = [1, 45], O10 = [1, 46], $10 = [1, 4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 47, 48, 49, 50, 52, 53, 54, 59, 60, 61, 62, 70], P10 = [4, 5, 16, 50, 52, 53], B10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 50, 52, 53, 54, 59, 60, 61, 62, 70], F10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 49, 50, 52, 53, 54, 59, 60, 61, 62, 70], z10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 48, 50, 52, 53, 54, 59, 60, 61, 62, 70], j10 = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 47, 50, 52, 53, 54, 59, 60, 61, 62, 70], q10 = [68, 69, 70], U10 = [1, 122], W10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, SPACE: 4, NEWLINE: 5, SD: 6, document: 7, line: 8, statement: 9, box_section: 10, box_line: 11, participant_statement: 12, create: 13, box: 14, restOfLine: 15, end: 16, signal: 17, autonumber: 18, NUM: 19, off: 20, activate: 21, actor: 22, deactivate: 23, note_statement: 24, links_statement: 25, link_statement: 26, properties_statement: 27, details_statement: 28, title: 29, legacy_title: 30, acc_title: 31, acc_title_value: 32, acc_descr: 33, acc_descr_value: 34, acc_descr_multiline_value: 35, loop: 36, rect: 37, opt: 38, alt: 39, else_sections: 40, par: 41, par_sections: 42, par_over: 43, critical: 44, option_sections: 45, break: 46, option: 47, and: 48, else: 49, participant: 50, AS: 51, participant_actor: 52, destroy: 53, note: 54, placement: 55, text2: 56, over: 57, actor_pair: 58, links: 59, link: 60, properties: 61, details: 62, spaceList: 63, ",": 64, left_of: 65, right_of: 66, signaltype: 67, "+": 68, "-": 69, ACTOR: 70, SOLID_OPEN_ARROW: 71, DOTTED_OPEN_ARROW: 72, SOLID_ARROW: 73, BIDIRECTIONAL_SOLID_ARROW: 74, DOTTED_ARROW: 75, BIDIRECTIONAL_DOTTED_ARROW: 76, SOLID_CROSS: 77, DOTTED_CROSS: 78, SOLID_POINT: 79, DOTTED_POINT: 80, TXT: 81, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SPACE", 5: "NEWLINE", 6: "SD", 13: "create", 14: "box", 15: "restOfLine", 16: "end", 18: "autonumber", 19: "NUM", 20: "off", 21: "activate", 23: "deactivate", 29: "title", 30: "legacy_title", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 36: "loop", 37: "rect", 38: "opt", 39: "alt", 41: "par", 43: "par_over", 44: "critical", 46: "break", 47: "option", 48: "and", 49: "else", 50: "participant", 51: "AS", 52: "participant_actor", 53: "destroy", 54: "note", 57: "over", 59: "links", 60: "link", 61: "properties", 62: "details", 64: ",", 65: "left_of", 66: "right_of", 68: "+", 69: "-", 70: "ACTOR", 71: "SOLID_OPEN_ARROW", 72: "DOTTED_OPEN_ARROW", 73: "SOLID_ARROW", 74: "BIDIRECTIONAL_SOLID_ARROW", 75: "DOTTED_ARROW", 76: "BIDIRECTIONAL_DOTTED_ARROW", 77: "SOLID_CROSS", 78: "DOTTED_CROSS", 79: "SOLID_POINT", 80: "DOTTED_POINT", 81: "TXT" }, productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [10, 0], [10, 2], [11, 2], [11, 1], [11, 1], [9, 1], [9, 2], [9, 4], [9, 2], [9, 4], [9, 3], [9, 3], [9, 2], [9, 3], [9, 3], [9, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [45, 1], [45, 4], [42, 1], [42, 4], [40, 1], [40, 4], [12, 5], [12, 3], [12, 5], [12, 3], [12, 3], [24, 4], [24, 4], [25, 3], [26, 3], [27, 3], [28, 3], [63, 2], [63, 1], [58, 3], [58, 1], [55, 1], [55, 1], [17, 5], [17, 5], [17, 4], [22, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [67, 1], [56, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 3:
        return n11.apply(a11[o11]), a11[o11];
      case 4:
      case 9:
      case 8:
      case 13:
        this.$ = [];
        break;
      case 5:
      case 10:
        a11[o11 - 1].push(a11[o11]), this.$ = a11[o11 - 1];
        break;
      case 6:
      case 7:
      case 11:
      case 12:
      case 62:
        this.$ = a11[o11];
        break;
      case 15:
        a11[o11].type = "createParticipant", this.$ = a11[o11];
        break;
      case 16:
        a11[o11 - 1].unshift({ type: "boxStart", boxData: n11.parseBoxData(a11[o11 - 2]) }), a11[o11 - 1].push({ type: "boxEnd", boxText: a11[o11 - 2] }), this.$ = a11[o11 - 1];
        break;
      case 18:
        this.$ = { type: "sequenceIndex", sequenceIndex: Number(a11[o11 - 2]), sequenceIndexStep: Number(a11[o11 - 1]), sequenceVisible: true, signalType: n11.LINETYPE.AUTONUMBER };
        break;
      case 19:
        this.$ = { type: "sequenceIndex", sequenceIndex: Number(a11[o11 - 1]), sequenceIndexStep: 1, sequenceVisible: true, signalType: n11.LINETYPE.AUTONUMBER };
        break;
      case 20:
        this.$ = { type: "sequenceIndex", sequenceVisible: false, signalType: n11.LINETYPE.AUTONUMBER };
        break;
      case 21:
        this.$ = { type: "sequenceIndex", sequenceVisible: true, signalType: n11.LINETYPE.AUTONUMBER };
        break;
      case 22:
        this.$ = { type: "activeStart", signalType: n11.LINETYPE.ACTIVE_START, actor: a11[o11 - 1].actor };
        break;
      case 23:
        this.$ = { type: "activeEnd", signalType: n11.LINETYPE.ACTIVE_END, actor: a11[o11 - 1].actor };
        break;
      case 29:
        n11.setDiagramTitle(a11[o11].substring(6)), this.$ = a11[o11].substring(6);
        break;
      case 30:
        n11.setDiagramTitle(a11[o11].substring(7)), this.$ = a11[o11].substring(7);
        break;
      case 31:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 32:
      case 33:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 34:
        a11[o11 - 1].unshift({ type: "loopStart", loopText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.LOOP_START }), a11[o11 - 1].push({ type: "loopEnd", loopText: a11[o11 - 2], signalType: n11.LINETYPE.LOOP_END }), this.$ = a11[o11 - 1];
        break;
      case 35:
        a11[o11 - 1].unshift({ type: "rectStart", color: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.RECT_START }), a11[o11 - 1].push({ type: "rectEnd", color: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.RECT_END }), this.$ = a11[o11 - 1];
        break;
      case 36:
        a11[o11 - 1].unshift({ type: "optStart", optText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.OPT_START }), a11[o11 - 1].push({ type: "optEnd", optText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.OPT_END }), this.$ = a11[o11 - 1];
        break;
      case 37:
        a11[o11 - 1].unshift({ type: "altStart", altText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.ALT_START }), a11[o11 - 1].push({ type: "altEnd", signalType: n11.LINETYPE.ALT_END }), this.$ = a11[o11 - 1];
        break;
      case 38:
        a11[o11 - 1].unshift({ type: "parStart", parText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.PAR_START }), a11[o11 - 1].push({ type: "parEnd", signalType: n11.LINETYPE.PAR_END }), this.$ = a11[o11 - 1];
        break;
      case 39:
        a11[o11 - 1].unshift({ type: "parStart", parText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.PAR_OVER_START }), a11[o11 - 1].push({ type: "parEnd", signalType: n11.LINETYPE.PAR_END }), this.$ = a11[o11 - 1];
        break;
      case 40:
        a11[o11 - 1].unshift({ type: "criticalStart", criticalText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.CRITICAL_START }), a11[o11 - 1].push({ type: "criticalEnd", signalType: n11.LINETYPE.CRITICAL_END }), this.$ = a11[o11 - 1];
        break;
      case 41:
        a11[o11 - 1].unshift({ type: "breakStart", breakText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.BREAK_START }), a11[o11 - 1].push({ type: "breakEnd", optText: n11.parseMessage(a11[o11 - 2]), signalType: n11.LINETYPE.BREAK_END }), this.$ = a11[o11 - 1];
        break;
      case 43:
        this.$ = a11[o11 - 3].concat([{ type: "option", optionText: n11.parseMessage(a11[o11 - 1]), signalType: n11.LINETYPE.CRITICAL_OPTION }, a11[o11]]);
        break;
      case 45:
        this.$ = a11[o11 - 3].concat([{ type: "and", parText: n11.parseMessage(a11[o11 - 1]), signalType: n11.LINETYPE.PAR_AND }, a11[o11]]);
        break;
      case 47:
        this.$ = a11[o11 - 3].concat([{ type: "else", altText: n11.parseMessage(a11[o11 - 1]), signalType: n11.LINETYPE.ALT_ELSE }, a11[o11]]);
        break;
      case 48:
        a11[o11 - 3].draw = "participant", a11[o11 - 3].type = "addParticipant", a11[o11 - 3].description = n11.parseMessage(a11[o11 - 1]), this.$ = a11[o11 - 3];
        break;
      case 49:
        a11[o11 - 1].draw = "participant", a11[o11 - 1].type = "addParticipant", this.$ = a11[o11 - 1];
        break;
      case 50:
        a11[o11 - 3].draw = "actor", a11[o11 - 3].type = "addParticipant", a11[o11 - 3].description = n11.parseMessage(a11[o11 - 1]), this.$ = a11[o11 - 3];
        break;
      case 51:
        a11[o11 - 1].draw = "actor", a11[o11 - 1].type = "addParticipant", this.$ = a11[o11 - 1];
        break;
      case 52:
        a11[o11 - 1].type = "destroyParticipant", this.$ = a11[o11 - 1];
        break;
      case 53:
        this.$ = [a11[o11 - 1], { type: "addNote", placement: a11[o11 - 2], actor: a11[o11 - 1].actor, text: a11[o11] }];
        break;
      case 54:
        a11[o11 - 2] = [].concat(a11[o11 - 1], a11[o11 - 1]).slice(0, 2), a11[o11 - 2][0] = a11[o11 - 2][0].actor, a11[o11 - 2][1] = a11[o11 - 2][1].actor, this.$ = [a11[o11 - 1], { type: "addNote", placement: n11.PLACEMENT.OVER, actor: a11[o11 - 2].slice(0, 2), text: a11[o11] }];
        break;
      case 55:
        this.$ = [a11[o11 - 1], { type: "addLinks", actor: a11[o11 - 1].actor, text: a11[o11] }];
        break;
      case 56:
        this.$ = [a11[o11 - 1], { type: "addALink", actor: a11[o11 - 1].actor, text: a11[o11] }];
        break;
      case 57:
        this.$ = [a11[o11 - 1], { type: "addProperties", actor: a11[o11 - 1].actor, text: a11[o11] }];
        break;
      case 58:
        this.$ = [a11[o11 - 1], { type: "addDetails", actor: a11[o11 - 1].actor, text: a11[o11] }];
        break;
      case 61:
        this.$ = [a11[o11 - 2], a11[o11]];
        break;
      case 63:
        this.$ = n11.PLACEMENT.LEFTOF;
        break;
      case 64:
        this.$ = n11.PLACEMENT.RIGHTOF;
        break;
      case 65:
        this.$ = [a11[o11 - 4], a11[o11 - 1], { type: "addMessage", from: a11[o11 - 4].actor, to: a11[o11 - 1].actor, signalType: a11[o11 - 3], msg: a11[o11], activate: true }, { type: "activeStart", signalType: n11.LINETYPE.ACTIVE_START, actor: a11[o11 - 1].actor }];
        break;
      case 66:
        this.$ = [a11[o11 - 4], a11[o11 - 1], { type: "addMessage", from: a11[o11 - 4].actor, to: a11[o11 - 1].actor, signalType: a11[o11 - 3], msg: a11[o11] }, { type: "activeEnd", signalType: n11.LINETYPE.ACTIVE_END, actor: a11[o11 - 4].actor }];
        break;
      case 67:
        this.$ = [a11[o11 - 3], a11[o11 - 1], { type: "addMessage", from: a11[o11 - 3].actor, to: a11[o11 - 1].actor, signalType: a11[o11 - 2], msg: a11[o11] }];
        break;
      case 68:
        this.$ = { type: "addParticipant", actor: a11[o11] };
        break;
      case 69:
        this.$ = n11.LINETYPE.SOLID_OPEN;
        break;
      case 70:
        this.$ = n11.LINETYPE.DOTTED_OPEN;
        break;
      case 71:
        this.$ = n11.LINETYPE.SOLID;
        break;
      case 72:
        this.$ = n11.LINETYPE.BIDIRECTIONAL_SOLID;
        break;
      case 73:
        this.$ = n11.LINETYPE.DOTTED;
        break;
      case 74:
        this.$ = n11.LINETYPE.BIDIRECTIONAL_DOTTED;
        break;
      case 75:
        this.$ = n11.LINETYPE.SOLID_CROSS;
        break;
      case 76:
        this.$ = n11.LINETYPE.DOTTED_CROSS;
        break;
      case 77:
        this.$ = n11.LINETYPE.SOLID_POINT;
        break;
      case 78:
        this.$ = n11.LINETYPE.DOTTED_POINT;
        break;
      case 79:
        this.$ = n11.parseMessage(a11[o11].trim().substring(1));
    }
  }, "anonymous"), table: [{ 3: 1, 4: t10, 5: r10, 6: n10 }, { 1: [3] }, { 3: 5, 4: t10, 5: r10, 6: n10 }, { 3: 6, 4: t10, 5: r10, 6: n10 }, e30([1, 4, 5, 13, 14, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 50, 52, 53, 54, 59, 60, 61, 62, 70], i10, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, e30($10, [2, 5]), { 9: 47, 12: 12, 13: o10, 14: l10, 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, e30($10, [2, 7]), e30($10, [2, 8]), e30($10, [2, 14]), { 12: 48, 50: E10, 52: A10, 53: L10 }, { 15: [1, 49] }, { 5: [1, 50] }, { 5: [1, 53], 19: [1, 51], 20: [1, 52] }, { 22: 54, 70: O10 }, { 22: 55, 70: O10 }, { 5: [1, 56] }, { 5: [1, 57] }, { 5: [1, 58] }, { 5: [1, 59] }, { 5: [1, 60] }, e30($10, [2, 29]), e30($10, [2, 30]), { 32: [1, 61] }, { 34: [1, 62] }, e30($10, [2, 33]), { 15: [1, 63] }, { 15: [1, 64] }, { 15: [1, 65] }, { 15: [1, 66] }, { 15: [1, 67] }, { 15: [1, 68] }, { 15: [1, 69] }, { 15: [1, 70] }, { 22: 71, 70: O10 }, { 22: 72, 70: O10 }, { 22: 73, 70: O10 }, { 67: 74, 71: [1, 75], 72: [1, 76], 73: [1, 77], 74: [1, 78], 75: [1, 79], 76: [1, 80], 77: [1, 81], 78: [1, 82], 79: [1, 83], 80: [1, 84] }, { 55: 85, 57: [1, 86], 65: [1, 87], 66: [1, 88] }, { 22: 89, 70: O10 }, { 22: 90, 70: O10 }, { 22: 91, 70: O10 }, { 22: 92, 70: O10 }, e30([5, 51, 64, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81], [2, 68]), e30($10, [2, 6]), e30($10, [2, 15]), e30(P10, [2, 9], { 10: 93 }), e30($10, [2, 17]), { 5: [1, 95], 19: [1, 94] }, { 5: [1, 96] }, e30($10, [2, 21]), { 5: [1, 97] }, { 5: [1, 98] }, e30($10, [2, 24]), e30($10, [2, 25]), e30($10, [2, 26]), e30($10, [2, 27]), e30($10, [2, 28]), e30($10, [2, 31]), e30($10, [2, 32]), e30(B10, i10, { 7: 99 }), e30(B10, i10, { 7: 100 }), e30(B10, i10, { 7: 101 }), e30(F10, i10, { 40: 102, 7: 103 }), e30(z10, i10, { 42: 104, 7: 105 }), e30(z10, i10, { 7: 105, 42: 106 }), e30(j10, i10, { 45: 107, 7: 108 }), e30(B10, i10, { 7: 109 }), { 5: [1, 111], 51: [1, 110] }, { 5: [1, 113], 51: [1, 112] }, { 5: [1, 114] }, { 22: 117, 68: [1, 115], 69: [1, 116], 70: O10 }, e30(q10, [2, 69]), e30(q10, [2, 70]), e30(q10, [2, 71]), e30(q10, [2, 72]), e30(q10, [2, 73]), e30(q10, [2, 74]), e30(q10, [2, 75]), e30(q10, [2, 76]), e30(q10, [2, 77]), e30(q10, [2, 78]), { 22: 118, 70: O10 }, { 22: 120, 58: 119, 70: O10 }, { 70: [2, 63] }, { 70: [2, 64] }, { 56: 121, 81: U10 }, { 56: 123, 81: U10 }, { 56: 124, 81: U10 }, { 56: 125, 81: U10 }, { 4: [1, 128], 5: [1, 130], 11: 127, 12: 129, 16: [1, 126], 50: E10, 52: A10, 53: L10 }, { 5: [1, 131] }, e30($10, [2, 19]), e30($10, [2, 20]), e30($10, [2, 22]), e30($10, [2, 23]), { 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 16: [1, 132], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, { 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 16: [1, 133], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, { 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 16: [1, 134], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, { 16: [1, 135] }, { 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 16: [2, 46], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 49: [1, 136], 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, { 16: [1, 137] }, { 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 16: [2, 44], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 48: [1, 138], 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, { 16: [1, 139] }, { 16: [1, 140] }, { 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 16: [2, 42], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 47: [1, 141], 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, { 4: a10, 5: s10, 8: 8, 9: 10, 12: 12, 13: o10, 14: l10, 16: [1, 142], 17: 15, 18: h10, 21: u10, 22: 40, 23: d10, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: p10, 30: f10, 31: g10, 33: y10, 35: v10, 36: x10, 37: b10, 38: k10, 39: w10, 41: _10, 43: T10, 44: S10, 46: C10, 50: E10, 52: A10, 53: L10, 54: I10, 59: M10, 60: N10, 61: R10, 62: D10, 70: O10 }, { 15: [1, 143] }, e30($10, [2, 49]), { 15: [1, 144] }, e30($10, [2, 51]), e30($10, [2, 52]), { 22: 145, 70: O10 }, { 22: 146, 70: O10 }, { 56: 147, 81: U10 }, { 56: 148, 81: U10 }, { 56: 149, 81: U10 }, { 64: [1, 150], 81: [2, 62] }, { 5: [2, 55] }, { 5: [2, 79] }, { 5: [2, 56] }, { 5: [2, 57] }, { 5: [2, 58] }, e30($10, [2, 16]), e30(P10, [2, 10]), { 12: 151, 50: E10, 52: A10, 53: L10 }, e30(P10, [2, 12]), e30(P10, [2, 13]), e30($10, [2, 18]), e30($10, [2, 34]), e30($10, [2, 35]), e30($10, [2, 36]), e30($10, [2, 37]), { 15: [1, 152] }, e30($10, [2, 38]), { 15: [1, 153] }, e30($10, [2, 39]), e30($10, [2, 40]), { 15: [1, 154] }, e30($10, [2, 41]), { 5: [1, 155] }, { 5: [1, 156] }, { 56: 157, 81: U10 }, { 56: 158, 81: U10 }, { 5: [2, 67] }, { 5: [2, 53] }, { 5: [2, 54] }, { 22: 159, 70: O10 }, e30(P10, [2, 11]), e30(F10, i10, { 7: 103, 40: 160 }), e30(z10, i10, { 7: 105, 42: 161 }), e30(j10, i10, { 7: 108, 45: 162 }), e30($10, [2, 48]), e30($10, [2, 50]), { 5: [2, 65] }, { 5: [2, 66] }, { 81: [2, 61] }, { 16: [2, 47] }, { 16: [2, 45] }, { 16: [2, 43] }], defaultActions: { 5: [2, 1], 6: [2, 2], 87: [2, 63], 88: [2, 64], 121: [2, 55], 122: [2, 79], 123: [2, 56], 124: [2, 57], 125: [2, 58], 147: [2, 67], 148: [2, 53], 149: [2, 54], 157: [2, 65], 158: [2, 66], 159: [2, 61], 160: [2, 47], 161: [2, 45], 162: [2, 43] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, V10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
      case 51:
      case 66:
        return 5;
      case 1:
      case 2:
      case 3:
      case 4:
      case 5:
        break;
      case 6:
        return 19;
      case 7:
        return this.begin("LINE"), 14;
      case 8:
        return this.begin("ID"), 50;
      case 9:
        return this.begin("ID"), 52;
      case 10:
        return 13;
      case 11:
        return this.begin("ID"), 53;
      case 12:
        return t11.yytext = t11.yytext.trim(), this.begin("ALIAS"), 70;
      case 13:
        return this.popState(), this.popState(), this.begin("LINE"), 51;
      case 14:
        return this.popState(), this.popState(), 5;
      case 15:
        return this.begin("LINE"), 36;
      case 16:
        return this.begin("LINE"), 37;
      case 17:
        return this.begin("LINE"), 38;
      case 18:
        return this.begin("LINE"), 39;
      case 19:
        return this.begin("LINE"), 49;
      case 20:
        return this.begin("LINE"), 41;
      case 21:
        return this.begin("LINE"), 43;
      case 22:
        return this.begin("LINE"), 48;
      case 23:
        return this.begin("LINE"), 44;
      case 24:
        return this.begin("LINE"), 47;
      case 25:
        return this.begin("LINE"), 46;
      case 26:
        return this.popState(), 15;
      case 27:
        return 16;
      case 28:
        return 65;
      case 29:
        return 66;
      case 30:
        return 59;
      case 31:
        return 60;
      case 32:
        return 61;
      case 33:
        return 62;
      case 34:
        return 57;
      case 35:
        return 54;
      case 36:
        return this.begin("ID"), 21;
      case 37:
        return this.begin("ID"), 23;
      case 38:
        return 29;
      case 39:
        return 30;
      case 40:
        return this.begin("acc_title"), 31;
      case 41:
        return this.popState(), "acc_title_value";
      case 42:
        return this.begin("acc_descr"), 33;
      case 43:
        return this.popState(), "acc_descr_value";
      case 44:
        this.begin("acc_descr_multiline");
        break;
      case 45:
        this.popState();
        break;
      case 46:
        return "acc_descr_multiline_value";
      case 47:
        return 6;
      case 48:
        return 18;
      case 49:
        return 20;
      case 50:
        return 64;
      case 52:
        return t11.yytext = t11.yytext.trim(), 70;
      case 53:
        return 73;
      case 54:
        return 74;
      case 55:
        return 75;
      case 56:
        return 76;
      case 57:
        return 71;
      case 58:
        return 72;
      case 59:
        return 77;
      case 60:
        return 78;
      case 61:
        return 79;
      case 62:
        return 80;
      case 63:
        return 81;
      case 64:
        return 68;
      case 65:
        return 69;
      case 67:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[0-9]+(?=[ \n]+))/i, /^(?:box\b)/i, /^(?:participant\b)/i, /^(?:actor\b)/i, /^(?:create\b)/i, /^(?:destroy\b)/i, /^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i, /^(?:as\b)/i, /^(?:(?:))/i, /^(?:loop\b)/i, /^(?:rect\b)/i, /^(?:opt\b)/i, /^(?:alt\b)/i, /^(?:else\b)/i, /^(?:par\b)/i, /^(?:par_over\b)/i, /^(?:and\b)/i, /^(?:critical\b)/i, /^(?:option\b)/i, /^(?:break\b)/i, /^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i, /^(?:end\b)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:links\b)/i, /^(?:link\b)/i, /^(?:properties\b)/i, /^(?:details\b)/i, /^(?:over\b)/i, /^(?:note\b)/i, /^(?:activate\b)/i, /^(?:deactivate\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:title:\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:sequenceDiagram\b)/i, /^(?:autonumber\b)/i, /^(?:off\b)/i, /^(?:,)/i, /^(?:;)/i, /^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i, /^(?:->>)/i, /^(?:<<->>)/i, /^(?:-->>)/i, /^(?:<<-->>)/i, /^(?:->)/i, /^(?:-->)/i, /^(?:-[x])/i, /^(?:--[x])/i, /^(?:-[\)])/i, /^(?:--[\)])/i, /^(?::(?:(?:no)?wrap)?[^#\n;]+)/i, /^(?:\+)/i, /^(?:-)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [45, 46], inclusive: false }, acc_descr: { rules: [43], inclusive: false }, acc_title: { rules: [41], inclusive: false }, ID: { rules: [2, 3, 12], inclusive: false }, ALIAS: { rules: [2, 3, 13, 14], inclusive: false }, LINE: { rules: [2, 3, 26], inclusive: false }, INITIAL: { rules: [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 42, 44, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67], inclusive: true } } };
  function H10() {
    this.yy = {};
  }
  return W10.lexer = V10, iM(H10, "Parser"), H10.prototype = W10, W10.Parser = H10, new H10();
}();
eiC.parser = eiC;
var eiE = new Uh(() => ({ prevActor: void 0, actors: /* @__PURE__ */ new Map(), createdActors: /* @__PURE__ */ new Map(), destroyedActors: /* @__PURE__ */ new Map(), boxes: [], messages: [], notes: [], sequenceNumbersEnabled: false, wrapEnabled: void 0, currentBox: void 0, lastCreated: void 0, lastDestroyed: void 0 })), eiA = iM(function(e30) {
  var t10;
  eiE.records.boxes.push({ name: e30.text, wrap: null !== (t10 = e30.wrap) && void 0 !== t10 ? t10 : eiY(), fill: e30.color, actorKeys: [] }), eiE.records.currentBox = eiE.records.boxes.slice(-1)[0];
}, "addBox"), eiL = iM(function(e30, t10, r10, n10) {
  var i10;
  let a10 = eiE.records.currentBox, s10 = eiE.records.actors.get(e30);
  if (s10) {
    if (eiE.records.currentBox && s10.box && eiE.records.currentBox !== s10.box) throw Error(`A same participant should only be defined in one Box: ${s10.name} can't be in '${s10.box.name}' and in '${eiE.records.currentBox.name}' at the same time.`);
    if (a10 = s10.box ? s10.box : eiE.records.currentBox, s10.box = a10, s10 && t10 === s10.name && null == r10) return;
  }
  if ((null == r10 ? void 0 : r10.text) == null && (r10 = { text: t10, type: n10 }), (null == n10 || null == r10.text) && (r10 = { text: t10, type: n10 }), eiE.records.actors.set(e30, { box: a10, name: t10, description: r10.text, wrap: null !== (i10 = r10.wrap) && void 0 !== i10 ? i10 : eiY(), prevActor: eiE.records.prevActor, links: {}, properties: {}, actorCnt: null, rectData: null, type: null != n10 ? n10 : "participant" }), eiE.records.prevActor) {
    let t11 = eiE.records.actors.get(eiE.records.prevActor);
    t11 && (t11.nextActor = e30);
  }
  eiE.records.currentBox && eiE.records.currentBox.actorKeys.push(e30), eiE.records.prevActor = e30;
}, "addActor"), eiI = iM((e30) => {
  let t10;
  let r10 = 0;
  if (!e30) return 0;
  for (t10 = 0; t10 < eiE.records.messages.length; t10++) eiE.records.messages[t10].type === eiZ.ACTIVE_START && eiE.records.messages[t10].from === e30 && r10++, eiE.records.messages[t10].type === eiZ.ACTIVE_END && eiE.records.messages[t10].from === e30 && r10--;
  return r10;
}, "activationCount"), eiM = iM(function(e30, t10, r10, n10) {
  var i10;
  eiE.records.messages.push({ from: e30, to: t10, message: r10.text, wrap: null !== (i10 = r10.wrap) && void 0 !== i10 ? i10 : eiY(), answer: n10 });
}, "addMessage"), eiN = iM(function(e30, t10, r10, n10) {
  var i10, a10;
  let s10 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
  if (n10 === eiZ.ACTIVE_END && 1 > eiI(null != e30 ? e30 : "")) {
    let t11 = Error("Trying to inactivate an inactive participant (" + e30 + ")");
    throw t11.hash = { text: "->>-", token: "->>-", line: "1", loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 }, expected: ["'ACTIVE_PARTICIPANT'"] }, t11;
  }
  return eiE.records.messages.push({ from: e30, to: t10, message: null !== (i10 = null == r10 ? void 0 : r10.text) && void 0 !== i10 ? i10 : "", wrap: null !== (a10 = null == r10 ? void 0 : r10.wrap) && void 0 !== a10 ? a10 : eiY(), type: n10, activate: s10 }), true;
}, "addSignal"), eiR = iM(function() {
  return eiE.records.boxes.length > 0;
}, "hasAtLeastOneBox"), eiD = iM(function() {
  return eiE.records.boxes.some((e30) => e30.name);
}, "hasAtLeastOneBoxWithTitle"), eiO = iM(function() {
  return eiE.records.messages;
}, "getMessages"), ei$ = iM(function() {
  return eiE.records.boxes;
}, "getBoxes"), eiP = iM(function() {
  return eiE.records.actors;
}, "getActors"), eiB = iM(function() {
  return eiE.records.createdActors;
}, "getCreatedActors"), eiF = iM(function() {
  return eiE.records.destroyedActors;
}, "getDestroyedActors"), eiz = iM(function(e30) {
  return eiE.records.actors.get(e30);
}, "getActor"), eij = iM(function() {
  return [...eiE.records.actors.keys()];
}, "getActorKeys"), eiq = iM(function() {
  eiE.records.sequenceNumbersEnabled = true;
}, "enableSequenceNumbers"), eiU = iM(function() {
  eiE.records.sequenceNumbersEnabled = false;
}, "disableSequenceNumbers"), eiW = iM(() => eiE.records.sequenceNumbersEnabled, "showSequenceNumbers"), eiV = iM(function(e30) {
  eiE.records.wrapEnabled = e30;
}, "setWrap"), eiH = iM((e30) => {
  if (void 0 === e30) return {};
  e30 = e30.trim();
  let t10 = null !== /^:?wrap:/.exec(e30) || null === /^:?nowrap:/.exec(e30) && void 0;
  return { cleanedText: (void 0 === t10 ? e30 : e30.replace(/^:?(?:no)?wrap:/, "")).trim(), wrap: t10 };
}, "extractWrap"), eiY = iM(() => {
  var e30, t10;
  return void 0 !== eiE.records.wrapEnabled ? eiE.records.wrapEnabled : null !== (t10 = null === (e30 = aj().sequence) || void 0 === e30 ? void 0 : e30.wrap) && void 0 !== t10 && t10;
}, "autoWrap"), eiG = iM(function() {
  eiE.reset(), op();
}, "clear"), eiX = iM(function(e30) {
  let { wrap: t10, cleanedText: r10 } = eiH(e30.trim()), n10 = { text: r10, wrap: t10 };
  return iz.debug(`parseMessage: ${JSON.stringify(n10)}`), n10;
}, "parseMessage"), eiK = iM(function(e30) {
  var t10;
  let r10 = /^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e30), n10 = (null == r10 ? void 0 : r10[1]) ? r10[1].trim() : "transparent", i10 = (null == r10 ? void 0 : r10[2]) ? r10[2].trim() : void 0;
  if (null === (t10 = window) || void 0 === t10 ? void 0 : t10.CSS) window.CSS.supports("color", n10) || (n10 = "transparent", i10 = e30.trim());
  else {
    let t11 = new Option().style;
    t11.color = n10, t11.color !== n10 && (n10 = "transparent", i10 = e30.trim());
  }
  let { wrap: a10, cleanedText: s10 } = eiH(i10);
  return { text: s10 ? sV(s10, aj()) : void 0, color: n10, wrap: a10 };
}, "parseBoxData"), eiZ = { SOLID: 0, DOTTED: 1, NOTE: 2, SOLID_CROSS: 3, DOTTED_CROSS: 4, SOLID_OPEN: 5, DOTTED_OPEN: 6, LOOP_START: 10, LOOP_END: 11, ALT_START: 12, ALT_ELSE: 13, ALT_END: 14, OPT_START: 15, OPT_END: 16, ACTIVE_START: 17, ACTIVE_END: 18, PAR_START: 19, PAR_AND: 20, PAR_END: 21, RECT_START: 22, RECT_END: 23, SOLID_POINT: 24, DOTTED_POINT: 25, AUTONUMBER: 26, CRITICAL_START: 27, CRITICAL_OPTION: 28, CRITICAL_END: 29, BREAK_START: 30, BREAK_END: 31, PAR_OVER_START: 32, BIDIRECTIONAL_SOLID: 33, BIDIRECTIONAL_DOTTED: 34 }, eiQ = iM(function(e30, t10, r10) {
  var n10, i10;
  let a10 = { actor: e30, placement: t10, message: r10.text, wrap: null !== (n10 = r10.wrap) && void 0 !== n10 ? n10 : eiY() }, s10 = [].concat(e30, e30);
  eiE.records.notes.push(a10), eiE.records.messages.push({ from: s10[0], to: s10[1], message: r10.text, wrap: null !== (i10 = r10.wrap) && void 0 !== i10 ? i10 : eiY(), type: eiZ.NOTE, placement: t10 });
}, "addNote"), eiJ = iM(function(e30, t10) {
  let r10 = eiz(e30);
  try {
    let e31 = sV(t10.text, aj());
    e31 = (e31 = e31.replace(/&amp;/g, "&")).replace(/&equals;/g, "=");
    let n10 = JSON.parse(e31);
    ei1(r10, n10);
  } catch (e31) {
    iz.error("error while parsing actor link text", e31);
  }
}, "addLinks"), ei0 = iM(function(e30, t10) {
  let r10 = eiz(e30);
  try {
    let e31 = {}, n10 = sV(t10.text, aj()), i10 = n10.indexOf("@"), a10 = (n10 = (n10 = n10.replace(/&amp;/g, "&")).replace(/&equals;/g, "=")).slice(0, i10 - 1).trim(), s10 = n10.slice(i10 + 1).trim();
    e31[a10] = s10, ei1(r10, e31);
  } catch (e31) {
    iz.error("error while parsing actor link text", e31);
  }
}, "addALink");
function ei1(e30, t10) {
  if (null == e30.links) e30.links = t10;
  else for (let r10 in t10) e30.links[r10] = t10[r10];
}
iM(ei1, "insertLinks");
var ei2 = iM(function(e30, t10) {
  let r10 = eiz(e30);
  try {
    let e31 = sV(t10.text, aj()), n10 = JSON.parse(e31);
    ei4(r10, n10);
  } catch (e31) {
    iz.error("error while parsing actor properties text", e31);
  }
}, "addProperties");
function ei4(e30, t10) {
  if (null == e30.properties) e30.properties = t10;
  else for (let r10 in t10) e30.properties[r10] = t10[r10];
}
function ei3() {
  eiE.records.currentBox = void 0;
}
iM(ei4, "insertProperties"), iM(ei3, "boxEnd");
var ei5 = iM(function(e30, t10) {
  let r10 = eiz(e30), n10 = document.getElementById(t10.text);
  try {
    let e31 = n10.innerHTML, t11 = JSON.parse(e31);
    t11.properties && ei4(r10, t11.properties), t11.links && ei1(r10, t11.links);
  } catch (e31) {
    iz.error("error while parsing actor details text", e31);
  }
}, "addDetails"), ei6 = iM(function(e30, t10) {
  if ((null == e30 ? void 0 : e30.properties) !== void 0) return e30.properties[t10];
}, "getActorProperty"), ei7 = iM(function(e30) {
  if (Array.isArray(e30)) e30.forEach(function(e31) {
    ei7(e31);
  });
  else switch (e30.type) {
    case "sequenceIndex":
      eiE.records.messages.push({ from: void 0, to: void 0, message: { start: e30.sequenceIndex, step: e30.sequenceIndexStep, visible: e30.sequenceVisible }, wrap: false, type: e30.signalType });
      break;
    case "addParticipant":
      eiL(e30.actor, e30.actor, e30.description, e30.draw);
      break;
    case "createParticipant":
      if (eiE.records.actors.has(e30.actor)) throw Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");
      eiE.records.lastCreated = e30.actor, eiL(e30.actor, e30.actor, e30.description, e30.draw), eiE.records.createdActors.set(e30.actor, eiE.records.messages.length);
      break;
    case "destroyParticipant":
      eiE.records.lastDestroyed = e30.actor, eiE.records.destroyedActors.set(e30.actor, eiE.records.messages.length);
      break;
    case "activeStart":
    case "activeEnd":
      eiN(e30.actor, void 0, void 0, e30.signalType);
      break;
    case "addNote":
      eiQ(e30.actor, e30.placement, e30.text);
      break;
    case "addLinks":
      eiJ(e30.actor, e30.text);
      break;
    case "addALink":
      ei0(e30.actor, e30.text);
      break;
    case "addProperties":
      ei2(e30.actor, e30.text);
      break;
    case "addDetails":
      ei5(e30.actor, e30.text);
      break;
    case "addMessage":
      if (eiE.records.lastCreated) {
        if (e30.to !== eiE.records.lastCreated) throw Error("The created participant " + eiE.records.lastCreated.name + " does not have an associated creating message after its declaration. Please check the sequence diagram.");
        eiE.records.lastCreated = void 0;
      } else if (eiE.records.lastDestroyed) {
        if (e30.to !== eiE.records.lastDestroyed && e30.from !== eiE.records.lastDestroyed) throw Error("The destroyed participant " + eiE.records.lastDestroyed.name + " does not have an associated destroying message after its declaration. Please check the sequence diagram.");
        eiE.records.lastDestroyed = void 0;
      }
      eiN(e30.from, e30.to, e30.msg, e30.signalType, e30.activate);
      break;
    case "boxStart":
      eiA(e30.boxData);
      break;
    case "boxEnd":
      ei3();
      break;
    case "loopStart":
      eiN(void 0, void 0, e30.loopText, e30.signalType);
      break;
    case "loopEnd":
    case "rectEnd":
    case "optEnd":
    case "altEnd":
    case "parEnd":
    case "criticalEnd":
    case "breakEnd":
      eiN(void 0, void 0, void 0, e30.signalType);
      break;
    case "rectStart":
      eiN(void 0, void 0, e30.color, e30.signalType);
      break;
    case "optStart":
      eiN(void 0, void 0, e30.optText, e30.signalType);
      break;
    case "altStart":
    case "else":
      eiN(void 0, void 0, e30.altText, e30.signalType);
      break;
    case "setAccTitle":
      of(e30.text);
      break;
    case "parStart":
    case "and":
      eiN(void 0, void 0, e30.parText, e30.signalType);
      break;
    case "criticalStart":
      eiN(void 0, void 0, e30.criticalText, e30.signalType);
      break;
    case "option":
      eiN(void 0, void 0, e30.optionText, e30.signalType);
      break;
    case "breakStart":
      eiN(void 0, void 0, e30.breakText, e30.signalType);
  }
}, "apply"), ei8 = { addActor: eiL, addMessage: eiM, addSignal: eiN, addLinks: eiJ, addDetails: ei5, addProperties: ei2, autoWrap: eiY, setWrap: eiV, enableSequenceNumbers: eiq, disableSequenceNumbers: eiU, showSequenceNumbers: eiW, getMessages: eiO, getActors: eiP, getCreatedActors: eiB, getDestroyedActors: eiF, getActor: eiz, getActorKeys: eij, getActorProperty: ei6, getAccTitle: og, getBoxes: ei$, getDiagramTitle: ox, setDiagramTitle: ov, getConfig: iM(() => aj().sequence, "getConfig"), clear: eiG, parseMessage: eiX, parseBoxData: eiK, LINETYPE: eiZ, ARROWTYPE: { FILLED: 0, OPEN: 1 }, PLACEMENT: { LEFTOF: 0, RIGHTOF: 1, OVER: 2 }, addNote: eiQ, setAccTitle: of, apply: ei7, setAccDescription: om, getAccDescription: oy, hasAtLeastOneBox: eiR, hasAtLeastOneBoxWithTitle: eiD }, ei9 = iM((e30) => `.actor {
    stroke: ${e30.actorBorder};
    fill: ${e30.actorBkg};
  }

  text.actor > tspan {
    fill: ${e30.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e30.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e30.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e30.signalColor};
  }

  #arrowhead path {
    fill: ${e30.signalColor};
    stroke: ${e30.signalColor};
  }

  .sequenceNumber {
    fill: ${e30.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e30.signalColor};
  }

  #crosshead path {
    fill: ${e30.signalColor};
    stroke: ${e30.signalColor};
  }

  .messageText {
    fill: ${e30.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e30.labelBoxBorderColor};
    fill: ${e30.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e30.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e30.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e30.labelBoxBorderColor};
    fill: ${e30.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e30.noteBorderColor};
    fill: ${e30.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e30.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e30.activationBkgColor};
    stroke: ${e30.activationBorderColor};
  }

  .activation1 {
    fill: ${e30.activationBkgColor};
    stroke: ${e30.activationBorderColor};
  }

  .activation2 {
    fill: ${e30.activationBkgColor};
    stroke: ${e30.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e30.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e30.actorBorder};
    fill: ${e30.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e30.actorBorder};
    fill: ${e30.actorBkg};
    stroke-width: 2px;
  }
`, "getStyles"), eae = i$(xc()), eat = "actor-top", ear = "actor-bottom", ean = "actor-man", eai = iM(function(e30, t10) {
  return zg(e30, t10);
}, "drawRect"), eaa = iM(function(e30, t10, r10, n10, i10) {
  if (void 0 === t10.links || null === t10.links || 0 === Object.keys(t10.links).length) return { height: 0, width: 0 };
  let a10 = t10.links, s10 = t10.actorCnt, o10 = t10.rectData;
  var l10 = "none";
  i10 && (l10 = "block !important");
  let h10 = e30.append("g");
  h10.attr("id", "actor" + s10 + "_popup"), h10.attr("class", "actorPopupMenu"), h10.attr("display", l10);
  var u10 = "";
  void 0 !== o10.class && (u10 = " " + o10.class);
  let d10 = o10.width > r10 ? o10.width : r10, p10 = h10.append("rect");
  if (p10.attr("class", "actorPopupMenuPanel" + u10), p10.attr("x", o10.x), p10.attr("y", o10.height), p10.attr("fill", o10.fill), p10.attr("stroke", o10.stroke), p10.attr("width", d10), p10.attr("height", o10.height), p10.attr("rx", o10.rx), p10.attr("ry", o10.ry), null != a10) {
    var f10 = 20;
    for (let e31 in a10) {
      var g10 = h10.append("a"), y10 = (0, eae.sanitizeUrl)(a10[e31]);
      g10.attr("xlink:href", y10), g10.attr("target", "_blank"), eaI(n10)(e31, g10, o10.x + 10, o10.height + f10, d10, 20, { class: "actor" }, n10), f10 += 30;
    }
  }
  return p10.attr("height", f10), { height: o10.height + f10, width: d10 };
}, "drawPopup"), eas = iM(function(e30) {
  return "var pu = document.getElementById('" + e30 + "'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }";
}, "popupMenuToggle"), eao = iM(async function(e30, t10) {
  let r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n10 = e30.append("foreignObject"), i10 = await s9(t10.text, aj()), a10 = n10.append("xhtml:div").attr("style", "width: fit-content;").attr("xmlns", "http://www.w3.org/1999/xhtml").html(i10).node().getBoundingClientRect();
  if (n10.attr("height", Math.round(a10.height)).attr("width", Math.round(a10.width)), "noteText" === t10.class) {
    let r11 = e30.node().firstChild;
    r11.setAttribute("height", a10.height + 2 * t10.textMargin);
    let i11 = r11.getBBox();
    n10.attr("x", Math.round(i11.x + i11.width / 2 - a10.width / 2)).attr("y", Math.round(i11.y + i11.height / 2 - a10.height / 2));
  } else if (r10) {
    let { startx: e31, stopx: i11, starty: s10 } = r10;
    if (e31 > i11) {
      let t11 = e31;
      e31 = i11, i11 = t11;
    }
    n10.attr("x", Math.round(e31 + Math.abs(e31 - i11) / 2 - a10.width / 2)), "loopText" === t10.class ? n10.attr("y", Math.round(s10)) : n10.attr("y", Math.round(s10 - a10.height));
  }
  return [n10];
}, "drawKatex"), eal = iM(function(e30, t10) {
  let r10 = 0, n10 = 0, i10 = t10.text.split(oe.lineBreakRegex), [a10, s10] = k0(t10.fontSize), o10 = [], l10 = 0, h10 = iM(() => t10.y, "yfunc");
  if (void 0 !== t10.valign && void 0 !== t10.textMargin && t10.textMargin > 0) switch (t10.valign) {
    case "top":
    case "start":
      h10 = iM(() => Math.round(t10.y + t10.textMargin), "yfunc");
      break;
    case "middle":
    case "center":
      h10 = iM(() => Math.round(t10.y + (r10 + n10 + t10.textMargin) / 2), "yfunc");
      break;
    case "bottom":
    case "end":
      h10 = iM(() => Math.round(t10.y + (r10 + n10 + 2 * t10.textMargin) - t10.textMargin), "yfunc");
  }
  if (void 0 !== t10.anchor && void 0 !== t10.textMargin && void 0 !== t10.width) switch (t10.anchor) {
    case "left":
    case "start":
      t10.x = Math.round(t10.x + t10.textMargin), t10.anchor = "start", t10.dominantBaseline = "middle", t10.alignmentBaseline = "middle";
      break;
    case "middle":
    case "center":
      t10.x = Math.round(t10.x + t10.width / 2), t10.anchor = "middle", t10.dominantBaseline = "middle", t10.alignmentBaseline = "middle";
      break;
    case "right":
    case "end":
      t10.x = Math.round(t10.x + t10.width - t10.textMargin), t10.anchor = "end", t10.dominantBaseline = "middle", t10.alignmentBaseline = "middle";
  }
  for (let [u10, d10] of i10.entries()) {
    void 0 !== t10.textMargin && 0 === t10.textMargin && void 0 !== a10 && (l10 = u10 * a10);
    let i11 = e30.append("text");
    i11.attr("x", t10.x), i11.attr("y", h10()), void 0 !== t10.anchor && i11.attr("text-anchor", t10.anchor).attr("dominant-baseline", t10.dominantBaseline).attr("alignment-baseline", t10.alignmentBaseline), void 0 !== t10.fontFamily && i11.style("font-family", t10.fontFamily), void 0 !== s10 && i11.style("font-size", s10), void 0 !== t10.fontWeight && i11.style("font-weight", t10.fontWeight), void 0 !== t10.fill && i11.attr("fill", t10.fill), void 0 !== t10.class && i11.attr("class", t10.class), void 0 !== t10.dy ? i11.attr("dy", t10.dy) : 0 !== l10 && i11.attr("dy", l10);
    let p10 = d10 || "​";
    if (t10.tspan) {
      let e31 = i11.append("tspan");
      e31.attr("x", t10.x), void 0 !== t10.fill && e31.attr("fill", t10.fill), e31.text(p10);
    } else i11.text(p10);
    void 0 !== t10.valign && void 0 !== t10.textMargin && t10.textMargin > 0 && (n10 += (i11._groups || i11)[0][0].getBBox().height, r10 = n10), o10.push(i11);
  }
  return o10;
}, "drawText"), eac = iM(function(e30, t10) {
  function r10(e31, t11, r11, n11, i10) {
    return e31 + "," + t11 + " " + (e31 + r11) + "," + t11 + " " + (e31 + r11) + "," + (t11 + n11 - i10) + " " + (e31 + r11 - 1.2 * i10) + "," + (t11 + n11) + " " + e31 + "," + (t11 + n11);
  }
  iM(r10, "genPoints");
  let n10 = e30.append("polygon");
  return n10.attr("points", r10(t10.x, t10.y, t10.width, t10.height, 7)), n10.attr("class", "labelBox"), t10.y = t10.y + t10.height / 2, eal(e30, t10), n10;
}, "drawLabel"), eah = -1, eau = iM((e30, t10, r10, n10) => {
  e30.select && r10.forEach((r11) => {
    let i10 = t10.get(r11), a10 = e30.select("#actor" + i10.actorCnt);
    !n10.mirrorActors && i10.stopy ? a10.attr("y2", i10.stopy + i10.height / 2) : n10.mirrorActors && a10.attr("y2", i10.stopy);
  });
}, "fixLifeLineHeights"), ead = iM(function(e30, t10, r10, n10) {
  let i10 = n10 ? t10.stopy : t10.starty, a10 = t10.x + t10.width / 2, s10 = i10 + t10.height, o10 = e30.append("g").lower();
  var l10, h10, u10 = o10;
  n10 || (eah++, Object.keys(t10.links || {}).length && !r10.forceMenus && u10.attr("onclick", eas(`actor${eah}_popup`)).attr("cursor", "pointer"), u10.append("line").attr("id", "actor" + eah).attr("x1", a10).attr("y1", s10).attr("x2", a10).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", t10.name), u10 = o10.append("g"), t10.actorCnt = eah, null != t10.links && u10.attr("id", "root-" + eah));
  let d10 = zb();
  var p10 = "actor";
  (null === (l10 = t10.properties) || void 0 === l10 ? void 0 : l10.class) ? p10 = t10.properties.class : d10.fill = "#eaeaea", n10 ? p10 += ` ${ear}` : p10 += ` ${eat}`, d10.x = t10.x, d10.y = i10, d10.width = t10.width, d10.height = t10.height, d10.class = p10, d10.rx = 3, d10.ry = 3, d10.name = t10.name;
  let f10 = eai(u10, d10);
  if (t10.rectData = d10, null === (h10 = t10.properties) || void 0 === h10 ? void 0 : h10.icon) {
    let e31 = t10.properties.icon.trim();
    "@" === e31.charAt(0) ? zx(u10, d10.x + d10.width - 20, d10.y + 10, e31.substr(1)) : zv(u10, d10.x + d10.width - 20, d10.y + 10, e31);
  }
  eaL(r10, s7(t10.description))(t10.description, u10, d10.x, d10.y, d10.width, d10.height, { class: "actor actor-box" }, r10);
  let g10 = t10.height;
  if (f10.node) {
    let e31 = f10.node().getBBox();
    t10.height = e31.height, g10 = e31.height;
  }
  return g10;
}, "drawActorTypeParticipant"), eap = iM(function(e30, t10, r10, n10) {
  let i10 = n10 ? t10.stopy : t10.starty, a10 = t10.x + t10.width / 2, s10 = i10 + 80, o10 = e30.append("g").lower();
  n10 || (eah++, o10.append("line").attr("id", "actor" + eah).attr("x1", a10).attr("y1", s10).attr("x2", a10).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", t10.name), t10.actorCnt = eah);
  let l10 = e30.append("g"), h10 = ean;
  n10 ? h10 += ` ${ear}` : h10 += ` ${eat}`, l10.attr("class", h10), l10.attr("name", t10.name);
  let u10 = zb();
  u10.x = t10.x, u10.y = i10, u10.fill = "#eaeaea", u10.width = t10.width, u10.height = t10.height, u10.class = "actor", u10.rx = 3, u10.ry = 3, l10.append("line").attr("id", "actor-man-torso" + eah).attr("x1", a10).attr("y1", i10 + 25).attr("x2", a10).attr("y2", i10 + 45), l10.append("line").attr("id", "actor-man-arms" + eah).attr("x1", a10 - 18).attr("y1", i10 + 33).attr("x2", a10 + 18).attr("y2", i10 + 33), l10.append("line").attr("x1", a10 - 18).attr("y1", i10 + 60).attr("x2", a10).attr("y2", i10 + 45), l10.append("line").attr("x1", a10).attr("y1", i10 + 45).attr("x2", a10 + 18 - 2).attr("y2", i10 + 60);
  let d10 = l10.append("circle");
  d10.attr("cx", t10.x + t10.width / 2), d10.attr("cy", i10 + 10), d10.attr("r", 15), d10.attr("width", t10.width), d10.attr("height", t10.height);
  let p10 = l10.node().getBBox();
  return t10.height = p10.height, eaL(r10, s7(t10.description))(t10.description, l10, u10.x, u10.y + 35, u10.width, u10.height, { class: `actor ${ean}` }, r10), t10.height;
}, "drawActorTypeActor"), eaf = iM(async function(e30, t10, r10, n10) {
  switch (t10.type) {
    case "actor":
      return await eap(e30, t10, r10, n10);
    case "participant":
      return await ead(e30, t10, r10, n10);
  }
}, "drawActor"), eag = iM(function(e30, t10, r10) {
  let n10 = e30.append("g");
  eax(n10, t10), t10.name && eaL(r10)(t10.name, n10, t10.x, t10.y + (t10.textMaxHeight || 0) / 2, t10.width, 0, { class: "text" }, r10), n10.lower();
}, "drawBox"), eam = iM(function(e30) {
  return e30.append("g");
}, "anchorElement"), eay = iM(function(e30, t10, r10, n10, i10) {
  let a10 = zb(), s10 = t10.anchored;
  a10.x = t10.startx, a10.y = t10.starty, a10.class = "activation" + i10 % 3, a10.width = t10.stopx - t10.startx, a10.height = r10 - t10.starty, eai(s10, a10);
}, "drawActivation"), eav = iM(async function(e30, t10, r10, n10) {
  let { boxMargin: i10, boxTextMargin: a10, labelBoxHeight: s10, labelBoxWidth: o10, messageFontFamily: l10, messageFontSize: h10, messageFontWeight: u10 } = n10, d10 = e30.append("g"), p10 = iM(function(e31, t11, r11, n11) {
    return d10.append("line").attr("x1", e31).attr("y1", t11).attr("x2", r11).attr("y2", n11).attr("class", "loopLine");
  }, "drawLoopLine");
  p10(t10.startx, t10.starty, t10.stopx, t10.starty), p10(t10.stopx, t10.starty, t10.stopx, t10.stopy), p10(t10.startx, t10.stopy, t10.stopx, t10.stopy), p10(t10.startx, t10.starty, t10.startx, t10.stopy), void 0 !== t10.sections && t10.sections.forEach(function(e31) {
    p10(t10.startx, e31.y, t10.stopx, e31.y).style("stroke-dasharray", "3, 3");
  });
  let f10 = zk();
  f10.text = r10, f10.x = t10.startx, f10.y = t10.starty, f10.fontFamily = l10, f10.fontSize = h10, f10.fontWeight = u10, f10.anchor = "middle", f10.valign = "middle", f10.tspan = false, f10.width = o10 || 50, f10.height = s10 || 20, f10.textMargin = a10, f10.class = "labelText", eac(d10, f10), (f10 = eaE()).text = t10.title, f10.x = t10.startx + o10 / 2 + (t10.stopx - t10.startx) / 2, f10.y = t10.starty + i10 + a10, f10.anchor = "middle", f10.valign = "middle", f10.textMargin = a10, f10.class = "loopText", f10.fontFamily = l10, f10.fontSize = h10, f10.fontWeight = u10, f10.wrap = true;
  let g10 = s7(f10.text) ? await eao(d10, f10, t10) : eal(d10, f10);
  if (void 0 !== t10.sectionTitles) {
    for (let [e31, r11] of Object.entries(t10.sectionTitles)) if (r11.message) {
      f10.text = r11.message, f10.x = t10.startx + (t10.stopx - t10.startx) / 2, f10.y = t10.sections[e31].y + i10 + a10, f10.class = "loopText", f10.anchor = "middle", f10.valign = "middle", f10.tspan = false, f10.fontFamily = l10, f10.fontSize = h10, f10.fontWeight = u10, f10.wrap = t10.wrap, s7(f10.text) ? (t10.starty = t10.sections[e31].y, await eao(d10, f10, t10)) : eal(d10, f10);
      let n11 = Math.round(g10.map((e32) => (e32._groups || e32)[0][0].getBBox().height).reduce((e32, t11) => e32 + t11));
      t10.sections[e31].height += n11 - (i10 + a10);
    }
  }
  return t10.height = Math.round(t10.stopy - t10.starty), d10;
}, "drawLoop"), eax = iM(function(e30, t10) {
  zm(e30, t10);
}, "drawBackgroundRect"), eab = iM(function(e30) {
  e30.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr("d", "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z");
}, "insertDatabaseIcon"), eak = iM(function(e30) {
  e30.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z");
}, "insertComputerIcon"), eaw = iM(function(e30) {
  e30.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z");
}, "insertClockIcon"), ea_ = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 7.9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto-start-reverse").append("path").attr("d", "M -1 0 L 10 5 L 0 10 z");
}, "insertArrowHead"), eaT = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "filled-head").attr("refX", 15.5).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "insertArrowFilledHead"), eaS = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);
}, "insertSequenceNumber"), eaC = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 4).attr("refY", 4.5).append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1pt").attr("d", "M 1,2 L 6,7 M 6,2 L 1,7");
}, "insertArrowCrossHead"), eaE = iM(function() {
  return { x: 0, y: 0, fill: void 0, anchor: void 0, style: "#666", width: void 0, height: void 0, textMargin: 0, rx: 0, ry: 0, tspan: true, valign: void 0 };
}, "getTextObj"), eaA = iM(function() {
  return { x: 0, y: 0, fill: "#EDF2AE", stroke: "#666", width: 100, anchor: "start", height: 100, rx: 0, ry: 0 };
}, "getNoteRect"), eaL = function() {
  function e30(e31, t11, r11, n11, a10, s10, o10) {
    i10(t11.append("text").attr("x", r11 + a10 / 2).attr("y", n11 + s10 / 2 + 5).style("text-anchor", "middle").text(e31), o10);
  }
  function t10(e31, t11, r11, n11, a10, s10, o10, l10) {
    let { actorFontSize: h10, actorFontFamily: u10, actorFontWeight: d10 } = l10, [p10, f10] = k0(h10), g10 = e31.split(oe.lineBreakRegex);
    for (let e32 = 0; e32 < g10.length; e32++) {
      let l11 = e32 * p10 - p10 * (g10.length - 1) / 2, h11 = t11.append("text").attr("x", r11 + a10 / 2).attr("y", n11).style("text-anchor", "middle").style("font-size", f10).style("font-weight", d10).style("font-family", u10);
      h11.append("tspan").attr("x", r11 + a10 / 2).attr("dy", l11).text(g10[e32]), h11.attr("y", n11 + s10 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central"), i10(h11, o10);
    }
  }
  function r10(e31, r11, n11, a10, s10, o10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", n11).attr("y", a10).attr("width", s10).attr("height", o10).append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(e31), t10(e31, u10, n11, a10, s10, o10, l10, h10), i10(d10, l10);
  }
  async function n10(e31, r11, n11, a10, s10, o10, l10, h10) {
    let u10 = await s8(e31, aj()), d10 = r11.append("switch"), p10 = d10.append("foreignObject").attr("x", n11 + s10 / 2 - u10.width / 2).attr("y", a10 + o10 / 2 - u10.height / 2).attr("width", u10.width).attr("height", u10.height).append("xhtml:div").style("height", "100%").style("width", "100%");
    p10.append("div").style("text-align", "center").style("vertical-align", "middle").html(await s9(e31, aj())), t10(e31, d10, n11, a10, s10, o10, l10, h10), i10(p10, l10);
  }
  function i10(e31, t11) {
    for (let r11 in t11) t11.hasOwnProperty(r11) && e31.attr(r11, t11[r11]);
  }
  return iM(e30, "byText"), iM(t10, "byTspan"), iM(r10, "byFo"), iM(n10, "byKatex"), iM(i10, "_setTextAttrs"), function(i11) {
    let a10 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    return a10 ? n10 : "fo" === i11.textPlacement ? r10 : "old" === i11.textPlacement ? e30 : t10;
  };
}(), eaI = function() {
  function e30(e31, t11, r11, i10, a10, s10, o10) {
    n10(t11.append("text").attr("x", r11).attr("y", i10).style("text-anchor", "start").text(e31), o10);
  }
  function t10(e31, t11, r11, i10, a10, s10, o10, l10) {
    let { actorFontSize: h10, actorFontFamily: u10, actorFontWeight: d10 } = l10, p10 = e31.split(oe.lineBreakRegex);
    for (let e32 = 0; e32 < p10.length; e32++) {
      let a11 = e32 * h10 - h10 * (p10.length - 1) / 2, l11 = t11.append("text").attr("x", r11).attr("y", i10).style("text-anchor", "start").style("font-size", h10).style("font-weight", d10).style("font-family", u10);
      l11.append("tspan").attr("x", r11).attr("dy", a11).text(p10[e32]), l11.attr("y", i10 + s10 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central"), n10(l11, o10);
    }
  }
  function r10(e31, r11, i10, a10, s10, o10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", i10).attr("y", a10).attr("width", s10).attr("height", o10).append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(e31), t10(e31, u10, i10, a10, s10, o10, l10, h10), n10(d10, l10);
  }
  function n10(e31, t11) {
    for (let r11 in t11) t11.hasOwnProperty(r11) && e31.attr(r11, t11[r11]);
  }
  return iM(e30, "byText"), iM(t10, "byTspan"), iM(r10, "byFo"), iM(n10, "_setTextAttrs"), function(n11) {
    return "fo" === n11.textPlacement ? r10 : "old" === n11.textPlacement ? e30 : t10;
  };
}(), eaM = { drawRect: eai, drawText: eal, drawLabel: eac, drawActor: eaf, drawBox: eag, drawPopup: eaa, anchorElement: eam, drawActivation: eay, drawLoop: eav, drawBackgroundRect: eax, insertArrowHead: ea_, insertArrowFilledHead: eaT, insertSequenceNumber: eaS, insertArrowCrossHead: eaC, insertDatabaseIcon: eab, insertComputerIcon: eak, insertClockIcon: eaw, getTextObj: eaE, getNoteRect: eaA, fixLifeLineHeights: eau, sanitizeUrl: eae.sanitizeUrl }, eaN = {}, eaR = { data: { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, verticalPos: 0, sequenceItems: [], activations: [], models: { getHeight: iM(function() {
  return Math.max.apply(null, 0 === this.actors.length ? [0] : this.actors.map((e30) => e30.height || 0)) + (0 === this.loops.length ? 0 : this.loops.map((e30) => e30.height || 0).reduce((e30, t10) => e30 + t10)) + (0 === this.messages.length ? 0 : this.messages.map((e30) => e30.height || 0).reduce((e30, t10) => e30 + t10)) + (0 === this.notes.length ? 0 : this.notes.map((e30) => e30.height || 0).reduce((e30, t10) => e30 + t10));
}, "getHeight"), clear: iM(function() {
  this.actors = [], this.boxes = [], this.loops = [], this.messages = [], this.notes = [];
}, "clear"), addBox: iM(function(e30) {
  this.boxes.push(e30);
}, "addBox"), addActor: iM(function(e30) {
  this.actors.push(e30);
}, "addActor"), addLoop: iM(function(e30) {
  this.loops.push(e30);
}, "addLoop"), addMessage: iM(function(e30) {
  this.messages.push(e30);
}, "addMessage"), addNote: iM(function(e30) {
  this.notes.push(e30);
}, "addNote"), lastActor: iM(function() {
  return this.actors[this.actors.length - 1];
}, "lastActor"), lastLoop: iM(function() {
  return this.loops[this.loops.length - 1];
}, "lastLoop"), lastMessage: iM(function() {
  return this.messages[this.messages.length - 1];
}, "lastMessage"), lastNote: iM(function() {
  return this.notes[this.notes.length - 1];
}, "lastNote"), actors: [], boxes: [], loops: [], messages: [], notes: [] }, init: iM(function() {
  this.sequenceItems = [], this.activations = [], this.models.clear(), this.data = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, this.verticalPos = 0, eaU(aj());
}, "init"), updateVal: iM(function(e30, t10, r10, n10) {
  void 0 === e30[t10] ? e30[t10] = r10 : e30[t10] = n10(r10, e30[t10]);
}, "updateVal"), updateBounds: iM(function(e30, t10, r10, n10) {
  let i10 = this, a10 = 0;
  function s10(s11) {
    return iM(function(o10) {
      a10++;
      let l10 = i10.sequenceItems.length - a10 + 1;
      i10.updateVal(o10, "starty", t10 - l10 * eaN.boxMargin, Math.min), i10.updateVal(o10, "stopy", n10 + l10 * eaN.boxMargin, Math.max), i10.updateVal(eaR.data, "startx", e30 - l10 * eaN.boxMargin, Math.min), i10.updateVal(eaR.data, "stopx", r10 + l10 * eaN.boxMargin, Math.max), "activation" !== s11 && (i10.updateVal(o10, "startx", e30 - l10 * eaN.boxMargin, Math.min), i10.updateVal(o10, "stopx", r10 + l10 * eaN.boxMargin, Math.max), i10.updateVal(eaR.data, "starty", t10 - l10 * eaN.boxMargin, Math.min), i10.updateVal(eaR.data, "stopy", n10 + l10 * eaN.boxMargin, Math.max));
    }, "updateItemBounds");
  }
  iM(s10, "updateFn"), this.sequenceItems.forEach(s10()), this.activations.forEach(s10("activation"));
}, "updateBounds"), insert: iM(function(e30, t10, r10, n10) {
  let i10 = oe.getMin(e30, r10), a10 = oe.getMax(e30, r10), s10 = oe.getMin(t10, n10), o10 = oe.getMax(t10, n10);
  this.updateVal(eaR.data, "startx", i10, Math.min), this.updateVal(eaR.data, "starty", s10, Math.min), this.updateVal(eaR.data, "stopx", a10, Math.max), this.updateVal(eaR.data, "stopy", o10, Math.max), this.updateBounds(i10, s10, a10, o10);
}, "insert"), newActivation: iM(function(e30, t10, r10) {
  let n10 = r10.get(e30.from), i10 = eaW(e30.from).length || 0, a10 = n10.x + n10.width / 2 + (i10 - 1) * eaN.activationWidth / 2;
  this.activations.push({ startx: a10, starty: this.verticalPos + 2, stopx: a10 + eaN.activationWidth, stopy: void 0, actor: e30.from, anchored: eaM.anchorElement(t10) });
}, "newActivation"), endActivation: iM(function(e30) {
  let t10 = this.activations.map(function(e31) {
    return e31.actor;
  }).lastIndexOf(e30.from);
  return this.activations.splice(t10, 1)[0];
}, "endActivation"), createLoop: iM(function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { message: void 0, wrap: false, width: void 0 }, t10 = arguments.length > 1 ? arguments[1] : void 0;
  return { startx: void 0, starty: this.verticalPos, stopx: void 0, stopy: void 0, title: e30.message, wrap: e30.wrap, width: e30.width, height: 0, fill: t10 };
}, "createLoop"), newLoop: iM(function() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { message: void 0, wrap: false, width: void 0 }, t10 = arguments.length > 1 ? arguments[1] : void 0;
  this.sequenceItems.push(this.createLoop(e30, t10));
}, "newLoop"), endLoop: iM(function() {
  return this.sequenceItems.pop();
}, "endLoop"), isLoopOverlap: iM(function() {
  return !!this.sequenceItems.length && this.sequenceItems[this.sequenceItems.length - 1].overlap;
}, "isLoopOverlap"), addSectionToLoop: iM(function(e30) {
  let t10 = this.sequenceItems.pop();
  t10.sections = t10.sections || [], t10.sectionTitles = t10.sectionTitles || [], t10.sections.push({ y: eaR.getVerticalPos(), height: 0 }), t10.sectionTitles.push(e30), this.sequenceItems.push(t10);
}, "addSectionToLoop"), saveVerticalPos: iM(function() {
  this.isLoopOverlap() && (this.savedVerticalPos = this.verticalPos);
}, "saveVerticalPos"), resetVerticalPos: iM(function() {
  this.isLoopOverlap() && (this.verticalPos = this.savedVerticalPos);
}, "resetVerticalPos"), bumpVerticalPos: iM(function(e30) {
  this.verticalPos = this.verticalPos + e30, this.data.stopy = oe.getMax(this.data.stopy, this.verticalPos);
}, "bumpVerticalPos"), getVerticalPos: iM(function() {
  return this.verticalPos;
}, "getVerticalPos"), getBounds: iM(function() {
  return { bounds: this.data, models: this.models };
}, "getBounds") }, eaD = iM(async function(e30, t10) {
  eaR.bumpVerticalPos(eaN.boxMargin), t10.height = eaN.boxMargin, t10.starty = eaR.getVerticalPos();
  let r10 = zb();
  r10.x = t10.startx, r10.y = t10.starty, r10.width = t10.width || eaN.width, r10.class = "note";
  let n10 = e30.append("g"), i10 = eaM.drawRect(n10, r10), a10 = zk();
  a10.x = t10.startx, a10.y = t10.starty, a10.width = r10.width, a10.dy = "1em", a10.text = t10.message, a10.class = "noteText", a10.fontFamily = eaN.noteFontFamily, a10.fontSize = eaN.noteFontSize, a10.fontWeight = eaN.noteFontWeight, a10.anchor = eaN.noteAlign, a10.textMargin = eaN.noteMargin, a10.valign = "center";
  let s10 = Math.round((s7(a10.text) ? await eao(n10, a10) : eal(n10, a10)).map((e31) => (e31._groups || e31)[0][0].getBBox().height).reduce((e31, t11) => e31 + t11));
  i10.attr("height", s10 + 2 * eaN.noteMargin), t10.height += s10 + 2 * eaN.noteMargin, eaR.bumpVerticalPos(s10 + 2 * eaN.noteMargin), t10.stopy = t10.starty + s10 + 2 * eaN.noteMargin, t10.stopx = t10.startx + r10.width, eaR.insert(t10.startx, t10.starty, t10.stopx, t10.stopy), eaR.models.addNote(t10);
}, "drawNote"), eaO = iM((e30) => ({ fontFamily: e30.messageFontFamily, fontSize: e30.messageFontSize, fontWeight: e30.messageFontWeight }), "messageFont"), ea$ = iM((e30) => ({ fontFamily: e30.noteFontFamily, fontSize: e30.noteFontSize, fontWeight: e30.noteFontWeight }), "noteFont"), eaP = iM((e30) => ({ fontFamily: e30.actorFontFamily, fontSize: e30.actorFontSize, fontWeight: e30.actorFontWeight }), "actorFont");
async function eaB(e30, t10) {
  let r10;
  eaR.bumpVerticalPos(10);
  let { startx: n10, stopx: i10, message: a10 } = t10, s10 = oe.splitBreaks(a10).length, o10 = s7(a10), l10 = o10 ? await s8(a10, aj()) : k2.calculateTextDimensions(a10, eaO(eaN));
  if (!o10) {
    let e31 = l10.height / s10;
    t10.height += e31, eaR.bumpVerticalPos(e31);
  }
  let h10 = l10.height - 10, u10 = l10.width;
  if (n10 === i10) {
    r10 = eaR.getVerticalPos() + h10, eaN.rightAngles || (h10 += eaN.boxMargin, r10 = eaR.getVerticalPos() + h10), h10 += 30;
    let e31 = oe.getMax(u10 / 2, eaN.width / 2);
    eaR.insert(n10 - e31, eaR.getVerticalPos() - 10 + h10, i10 + e31, eaR.getVerticalPos() + 30 + h10);
  } else h10 += eaN.boxMargin, r10 = eaR.getVerticalPos() + h10, eaR.insert(n10, r10 - 10, i10, r10);
  return eaR.bumpVerticalPos(h10), t10.height += h10, t10.stopy = t10.starty + t10.height, eaR.insert(t10.fromBounds, t10.starty, t10.toBounds, t10.stopy), r10;
}
iM(eaB, "boundMessage");
var eaF = iM(async function(e30, t10, r10, n10) {
  let i10;
  let { startx: a10, stopx: s10, starty: o10, message: l10, type: h10, sequenceIndex: u10, sequenceVisible: d10 } = t10, p10 = k2.calculateTextDimensions(l10, eaO(eaN)), f10 = zk();
  f10.x = a10, f10.y = o10 + 10, f10.width = s10 - a10, f10.class = "messageText", f10.dy = "1em", f10.text = l10, f10.fontFamily = eaN.messageFontFamily, f10.fontSize = eaN.messageFontSize, f10.fontWeight = eaN.messageFontWeight, f10.anchor = eaN.messageAlign, f10.valign = "center", f10.textMargin = eaN.wrapPadding, f10.tspan = false, s7(f10.text) ? await eao(e30, f10, { startx: a10, stopx: s10, starty: r10 }) : eal(e30, f10);
  let g10 = p10.width;
  a10 === s10 ? i10 = eaN.rightAngles ? e30.append("path").attr("d", `M  ${a10},${r10} H ${a10 + oe.getMax(eaN.width / 2, g10 / 2)} V ${r10 + 25} H ${a10}`) : e30.append("path").attr("d", "M " + a10 + "," + r10 + " C " + (a10 + 60) + "," + (r10 - 10) + " " + (a10 + 60) + "," + (r10 + 30) + " " + a10 + "," + (r10 + 20)) : ((i10 = e30.append("line")).attr("x1", a10), i10.attr("y1", r10), i10.attr("x2", s10), i10.attr("y2", r10)), h10 === n10.db.LINETYPE.DOTTED || h10 === n10.db.LINETYPE.DOTTED_CROSS || h10 === n10.db.LINETYPE.DOTTED_POINT || h10 === n10.db.LINETYPE.DOTTED_OPEN || h10 === n10.db.LINETYPE.BIDIRECTIONAL_DOTTED ? (i10.style("stroke-dasharray", "3, 3"), i10.attr("class", "messageLine1")) : i10.attr("class", "messageLine0");
  let y10 = "";
  eaN.arrowMarkerAbsolute && (y10 = (y10 = (y10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), i10.attr("stroke-width", 2), i10.attr("stroke", "none"), i10.style("fill", "none"), (h10 === n10.db.LINETYPE.SOLID || h10 === n10.db.LINETYPE.DOTTED) && i10.attr("marker-end", "url(" + y10 + "#arrowhead)"), (h10 === n10.db.LINETYPE.BIDIRECTIONAL_SOLID || h10 === n10.db.LINETYPE.BIDIRECTIONAL_DOTTED) && (i10.attr("marker-start", "url(" + y10 + "#arrowhead)"), i10.attr("marker-end", "url(" + y10 + "#arrowhead)")), (h10 === n10.db.LINETYPE.SOLID_POINT || h10 === n10.db.LINETYPE.DOTTED_POINT) && i10.attr("marker-end", "url(" + y10 + "#filled-head)"), (h10 === n10.db.LINETYPE.SOLID_CROSS || h10 === n10.db.LINETYPE.DOTTED_CROSS) && i10.attr("marker-end", "url(" + y10 + "#crosshead)"), (d10 || eaN.showSequenceNumbers) && (i10.attr("marker-start", "url(" + y10 + "#sequencenumber)"), e30.append("text").attr("x", a10).attr("y", r10 + 4).attr("font-family", "sans-serif").attr("font-size", "12px").attr("text-anchor", "middle").attr("class", "sequenceNumber").text(u10));
}, "drawMessage"), eaz = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  let o10, l10 = 0, h10 = 0, u10 = 0;
  for (let e31 of n10) {
    let n11 = t10.get(e31), a11 = n11.box;
    o10 && o10 != a11 && (s10 || eaR.models.addBox(o10), h10 += eaN.boxMargin + o10.margin), a11 && a11 != o10 && (s10 || (a11.x = l10 + h10, a11.y = i10), h10 += a11.margin), n11.width = n11.width || eaN.width, n11.height = oe.getMax(n11.height || eaN.height, eaN.height), n11.margin = n11.margin || eaN.actorMargin, u10 = oe.getMax(u10, n11.height), r10.get(n11.name) && (h10 += n11.width / 2), n11.x = l10 + h10, n11.starty = eaR.getVerticalPos(), eaR.insert(n11.x, i10, n11.x + n11.width, n11.height), l10 += n11.width + h10, n11.box && (n11.box.width = l10 + a11.margin - n11.box.x), h10 = n11.margin, o10 = n11.box, eaR.models.addActor(n11);
  }
  o10 && !s10 && eaR.models.addBox(o10), eaR.bumpVerticalPos(u10);
}, "addActorRenderingData"), eaj = iM(async function(e30, t10, r10, n10) {
  if (n10) {
    let n11 = 0;
    for (let i10 of (eaR.bumpVerticalPos(2 * eaN.boxMargin), r10)) {
      let r11 = t10.get(i10);
      r11.stopy || (r11.stopy = eaR.getVerticalPos());
      let a10 = await eaM.drawActor(e30, r11, eaN, true);
      n11 = oe.getMax(n11, a10);
    }
    eaR.bumpVerticalPos(n11 + eaN.boxMargin);
  } else for (let n11 of r10) {
    let r11 = t10.get(n11);
    await eaM.drawActor(e30, r11, eaN, false);
  }
}, "drawActors"), eaq = iM(function(e30, t10, r10, n10) {
  let i10 = 0, a10 = 0;
  for (let s10 of r10) {
    let r11 = t10.get(s10), o10 = eaK(r11), l10 = eaM.drawPopup(e30, r11, o10, eaN, eaN.forceMenus, n10);
    l10.height > i10 && (i10 = l10.height), l10.width + r11.x > a10 && (a10 = l10.width + r11.x);
  }
  return { maxHeight: i10, maxWidth: a10 };
}, "drawActorsPopup"), eaU = iM(function(e30) {
  iQ(eaN, e30), e30.fontFamily && (eaN.actorFontFamily = eaN.noteFontFamily = eaN.messageFontFamily = e30.fontFamily), e30.fontSize && (eaN.actorFontSize = eaN.noteFontSize = eaN.messageFontSize = e30.fontSize), e30.fontWeight && (eaN.actorFontWeight = eaN.noteFontWeight = eaN.messageFontWeight = e30.fontWeight);
}, "setConf"), eaW = iM(function(e30) {
  return eaR.activations.filter(function(t10) {
    return t10.actor === e30;
  });
}, "actorActivations"), eaV = iM(function(e30, t10) {
  let r10 = t10.get(e30), n10 = eaW(e30);
  return [n10.reduce(function(e31, t11) {
    return oe.getMin(e31, t11.startx);
  }, r10.x + r10.width / 2 - 1), n10.reduce(function(e31, t11) {
    return oe.getMax(e31, t11.stopx);
  }, r10.x + r10.width / 2 + 1)];
}, "activationBounds");
function eaH(e30, t10, r10, n10, i10) {
  eaR.bumpVerticalPos(r10);
  let a10 = n10;
  if (t10.id && t10.message && e30[t10.id]) {
    let r11 = e30[t10.id].width, i11 = eaO(eaN);
    t10.message = k2.wrapLabel(`[${t10.message}]`, r11 - 2 * eaN.wrapPadding, i11), t10.width = r11, t10.wrap = true;
    let s10 = k2.calculateTextDimensions(t10.message, i11), o10 = oe.getMax(s10.height, eaN.labelBoxHeight);
    a10 = n10 + o10, iz.debug(`${o10} - ${t10.message}`);
  }
  i10(t10), eaR.bumpVerticalPos(a10);
}
function eaY(e30, t10, r10, n10, i10, a10, s10) {
  function o10(r11, n11) {
    r11.x < i10.get(e30.from).x ? (eaR.insert(t10.stopx - n11, t10.starty, t10.startx, t10.stopy + r11.height / 2 + eaN.noteMargin), t10.stopx = t10.stopx + n11) : (eaR.insert(t10.startx, t10.starty, t10.stopx + n11, t10.stopy + r11.height / 2 + eaN.noteMargin), t10.stopx = t10.stopx - n11);
  }
  function l10(r11, n11) {
    r11.x < i10.get(e30.to).x ? (eaR.insert(t10.startx - n11, t10.starty, t10.stopx, t10.stopy + r11.height / 2 + eaN.noteMargin), t10.startx = t10.startx + n11) : (eaR.insert(t10.stopx, t10.starty, t10.startx + n11, t10.stopy + r11.height / 2 + eaN.noteMargin), t10.startx = t10.startx - n11);
  }
  if (iM(o10, "receiverAdjustment"), iM(l10, "senderAdjustment"), a10.get(e30.to) == n10) {
    let t11 = i10.get(e30.to), n11 = "actor" == t11.type ? 21 : t11.width / 2 + 3;
    o10(t11, n11), t11.starty = r10 - t11.height / 2, eaR.bumpVerticalPos(t11.height / 2);
  } else if (s10.get(e30.from) == n10) {
    let t11 = i10.get(e30.from);
    if (eaN.mirrorActors) {
      let e31 = "actor" == t11.type ? 18 : t11.width / 2;
      l10(t11, e31);
    }
    t11.stopy = r10 - t11.height / 2, eaR.bumpVerticalPos(t11.height / 2);
  } else if (s10.get(e30.to) == n10) {
    let t11 = i10.get(e30.to);
    if (eaN.mirrorActors) {
      let e31 = "actor" == t11.type ? 21 : t11.width / 2 + 3;
      o10(t11, e31);
    }
    t11.stopy = r10 - t11.height / 2, eaR.bumpVerticalPos(t11.height / 2);
  }
}
iM(eaH, "adjustLoopHeightForWrap"), iM(eaY, "adjustCreatedDestroyedData");
var eaG = iM(async function(e30, t10, r10, n10) {
  let i10;
  let { securityLevel: a10, sequence: s10 } = aj();
  eaN = s10, "sandbox" === a10 && (i10 = c$("#i" + t10));
  let o10 = "sandbox" === a10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body"), l10 = "sandbox" === a10 ? i10.nodes()[0].contentDocument : document;
  eaR.init(), iz.debug(n10.db);
  let h10 = "sandbox" === a10 ? o10.select(`[id="${t10}"]`) : c$(`[id="${t10}"]`), u10 = n10.db.getActors(), d10 = n10.db.getCreatedActors(), p10 = n10.db.getDestroyedActors(), f10 = n10.db.getBoxes(), g10 = n10.db.getActorKeys(), y10 = n10.db.getMessages(), v10 = n10.db.getDiagramTitle(), x10 = n10.db.hasAtLeastOneBox(), b10 = n10.db.hasAtLeastOneBoxWithTitle(), k10 = await eaX(u10, y10, n10);
  if (eaN.height = await eaZ(u10, k10, f10), eaM.insertComputerIcon(h10), eaM.insertDatabaseIcon(h10), eaM.insertClockIcon(h10), x10 && (eaR.bumpVerticalPos(eaN.boxMargin), b10 && eaR.bumpVerticalPos(f10[0].textMaxHeight)), true === eaN.hideUnusedParticipants) {
    let e31 = /* @__PURE__ */ new Set();
    y10.forEach((t11) => {
      e31.add(t11.from), e31.add(t11.to);
    }), g10 = g10.filter((t11) => e31.has(t11));
  }
  eaz(h10, u10, d10, g10, 0, y10, false);
  let w10 = await ea0(y10, u10, k10, n10);
  function _10(e31, t11) {
    let r11 = eaR.endActivation(e31);
    r11.starty + 18 > t11 && (r11.starty = t11 - 6, t11 += 12), eaM.drawActivation(h10, r11, t11, eaN, eaW(e31.from).length), eaR.insert(r11.startx, t11 - 10, r11.stopx, t11);
  }
  eaM.insertArrowHead(h10), eaM.insertArrowCrossHead(h10), eaM.insertArrowFilledHead(h10), eaM.insertSequenceNumber(h10), iM(_10, "activeEnd");
  let T10 = 1, S10 = 1, C10 = [], E10 = [], A10 = 0;
  for (let e31 of y10) {
    let t11, r11, i11;
    switch (e31.type) {
      case n10.db.LINETYPE.NOTE:
        eaR.resetVerticalPos(), r11 = e31.noteModel, await eaD(h10, r11);
        break;
      case n10.db.LINETYPE.ACTIVE_START:
        eaR.newActivation(e31, h10, u10);
        break;
      case n10.db.LINETYPE.ACTIVE_END:
        _10(e31, eaR.getVerticalPos());
        break;
      case n10.db.LINETYPE.LOOP_START:
        eaH(w10, e31, eaN.boxMargin, eaN.boxMargin + eaN.boxTextMargin, (e32) => eaR.newLoop(e32));
        break;
      case n10.db.LINETYPE.LOOP_END:
        t11 = eaR.endLoop(), await eaM.drawLoop(h10, t11, "loop", eaN), eaR.bumpVerticalPos(t11.stopy - eaR.getVerticalPos()), eaR.models.addLoop(t11);
        break;
      case n10.db.LINETYPE.RECT_START:
        eaH(w10, e31, eaN.boxMargin, eaN.boxMargin, (e32) => eaR.newLoop(void 0, e32.message));
        break;
      case n10.db.LINETYPE.RECT_END:
        t11 = eaR.endLoop(), E10.push(t11), eaR.models.addLoop(t11), eaR.bumpVerticalPos(t11.stopy - eaR.getVerticalPos());
        break;
      case n10.db.LINETYPE.OPT_START:
        eaH(w10, e31, eaN.boxMargin, eaN.boxMargin + eaN.boxTextMargin, (e32) => eaR.newLoop(e32));
        break;
      case n10.db.LINETYPE.OPT_END:
        t11 = eaR.endLoop(), await eaM.drawLoop(h10, t11, "opt", eaN), eaR.bumpVerticalPos(t11.stopy - eaR.getVerticalPos()), eaR.models.addLoop(t11);
        break;
      case n10.db.LINETYPE.ALT_START:
        eaH(w10, e31, eaN.boxMargin, eaN.boxMargin + eaN.boxTextMargin, (e32) => eaR.newLoop(e32));
        break;
      case n10.db.LINETYPE.ALT_ELSE:
        eaH(w10, e31, eaN.boxMargin + eaN.boxTextMargin, eaN.boxMargin, (e32) => eaR.addSectionToLoop(e32));
        break;
      case n10.db.LINETYPE.ALT_END:
        t11 = eaR.endLoop(), await eaM.drawLoop(h10, t11, "alt", eaN), eaR.bumpVerticalPos(t11.stopy - eaR.getVerticalPos()), eaR.models.addLoop(t11);
        break;
      case n10.db.LINETYPE.PAR_START:
      case n10.db.LINETYPE.PAR_OVER_START:
        eaH(w10, e31, eaN.boxMargin, eaN.boxMargin + eaN.boxTextMargin, (e32) => eaR.newLoop(e32)), eaR.saveVerticalPos();
        break;
      case n10.db.LINETYPE.PAR_AND:
        eaH(w10, e31, eaN.boxMargin + eaN.boxTextMargin, eaN.boxMargin, (e32) => eaR.addSectionToLoop(e32));
        break;
      case n10.db.LINETYPE.PAR_END:
        t11 = eaR.endLoop(), await eaM.drawLoop(h10, t11, "par", eaN), eaR.bumpVerticalPos(t11.stopy - eaR.getVerticalPos()), eaR.models.addLoop(t11);
        break;
      case n10.db.LINETYPE.AUTONUMBER:
        T10 = e31.message.start || T10, S10 = e31.message.step || S10, e31.message.visible ? n10.db.enableSequenceNumbers() : n10.db.disableSequenceNumbers();
        break;
      case n10.db.LINETYPE.CRITICAL_START:
        eaH(w10, e31, eaN.boxMargin, eaN.boxMargin + eaN.boxTextMargin, (e32) => eaR.newLoop(e32));
        break;
      case n10.db.LINETYPE.CRITICAL_OPTION:
        eaH(w10, e31, eaN.boxMargin + eaN.boxTextMargin, eaN.boxMargin, (e32) => eaR.addSectionToLoop(e32));
        break;
      case n10.db.LINETYPE.CRITICAL_END:
        t11 = eaR.endLoop(), await eaM.drawLoop(h10, t11, "critical", eaN), eaR.bumpVerticalPos(t11.stopy - eaR.getVerticalPos()), eaR.models.addLoop(t11);
        break;
      case n10.db.LINETYPE.BREAK_START:
        eaH(w10, e31, eaN.boxMargin, eaN.boxMargin + eaN.boxTextMargin, (e32) => eaR.newLoop(e32));
        break;
      case n10.db.LINETYPE.BREAK_END:
        t11 = eaR.endLoop(), await eaM.drawLoop(h10, t11, "break", eaN), eaR.bumpVerticalPos(t11.stopy - eaR.getVerticalPos()), eaR.models.addLoop(t11);
        break;
      default:
        try {
          (i11 = e31.msgModel).starty = eaR.getVerticalPos(), i11.sequenceIndex = T10, i11.sequenceVisible = n10.db.showSequenceNumbers();
          let t12 = await eaB(h10, i11);
          eaY(e31, i11, t12, A10, u10, d10, p10), C10.push({ messageModel: i11, lineStartY: t12 }), eaR.models.addMessage(i11);
        } catch (e32) {
          iz.error("error while drawing message", e32);
        }
    }
    [n10.db.LINETYPE.SOLID_OPEN, n10.db.LINETYPE.DOTTED_OPEN, n10.db.LINETYPE.SOLID, n10.db.LINETYPE.DOTTED, n10.db.LINETYPE.SOLID_CROSS, n10.db.LINETYPE.DOTTED_CROSS, n10.db.LINETYPE.SOLID_POINT, n10.db.LINETYPE.DOTTED_POINT, n10.db.LINETYPE.BIDIRECTIONAL_SOLID, n10.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e31.type) && (T10 += S10), A10++;
  }
  for (let e31 of (iz.debug("createdActors", d10), iz.debug("destroyedActors", p10), await eaj(h10, u10, g10, false), C10)) await eaF(h10, e31.messageModel, e31.lineStartY, n10);
  for (let e31 of (eaN.mirrorActors && await eaj(h10, u10, g10, true), E10.forEach((e32) => eaM.drawBackgroundRect(h10, e32)), eau(h10, u10, g10, eaN), eaR.models.boxes)) e31.height = eaR.getVerticalPos() - e31.y, eaR.insert(e31.x, e31.y, e31.x + e31.width, e31.height), e31.startx = e31.x, e31.starty = e31.y, e31.stopx = e31.startx + e31.width, e31.stopy = e31.starty + e31.height, e31.stroke = "rgb(0,0,0, 0.5)", eaM.drawBox(h10, e31, eaN);
  x10 && eaR.bumpVerticalPos(eaN.boxMargin);
  let L10 = eaq(h10, u10, g10, l10), { bounds: I10 } = eaR.getBounds();
  void 0 === I10.startx && (I10.startx = 0), void 0 === I10.starty && (I10.starty = 0), void 0 === I10.stopx && (I10.stopx = 0), void 0 === I10.stopy && (I10.stopy = 0);
  let M10 = I10.stopy - I10.starty;
  M10 < L10.maxHeight && (M10 = L10.maxHeight);
  let N10 = M10 + 2 * eaN.diagramMarginY;
  eaN.mirrorActors && (N10 = N10 - eaN.boxMargin + eaN.bottomMarginAdj);
  let R10 = I10.stopx - I10.startx;
  R10 < L10.maxWidth && (R10 = L10.maxWidth);
  let D10 = R10 + 2 * eaN.diagramMarginX;
  v10 && h10.append("text").text(v10).attr("x", (I10.stopx - I10.startx) / 2 - 2 * eaN.diagramMarginX).attr("y", -25), on(h10, N10, D10, eaN.useMaxWidth);
  let O10 = v10 ? 40 : 0;
  h10.attr("viewBox", I10.startx - eaN.diagramMarginX + " -" + (eaN.diagramMarginY + O10) + " " + D10 + " " + (N10 + O10)), iz.debug("models:", eaR.models);
}, "draw");
async function eaX(e30, t10, r10) {
  let n10 = {};
  for (let i10 of t10) if (e30.get(i10.to) && e30.get(i10.from)) {
    let t11 = e30.get(i10.to);
    if (i10.placement === r10.db.PLACEMENT.LEFTOF && !t11.prevActor || i10.placement === r10.db.PLACEMENT.RIGHTOF && !t11.nextActor) continue;
    let a10 = void 0 !== i10.placement, s10 = !a10, o10 = a10 ? ea$(eaN) : eaO(eaN), l10 = i10.wrap ? k2.wrapLabel(i10.message, eaN.width - 2 * eaN.wrapPadding, o10) : i10.message, h10 = (s7(l10) ? await s8(i10.message, aj()) : k2.calculateTextDimensions(l10, o10)).width + 2 * eaN.wrapPadding;
    s10 && i10.from === t11.nextActor ? n10[i10.to] = oe.getMax(n10[i10.to] || 0, h10) : s10 && i10.from === t11.prevActor ? n10[i10.from] = oe.getMax(n10[i10.from] || 0, h10) : s10 && i10.from === i10.to ? (n10[i10.from] = oe.getMax(n10[i10.from] || 0, h10 / 2), n10[i10.to] = oe.getMax(n10[i10.to] || 0, h10 / 2)) : i10.placement === r10.db.PLACEMENT.RIGHTOF ? n10[i10.from] = oe.getMax(n10[i10.from] || 0, h10) : i10.placement === r10.db.PLACEMENT.LEFTOF ? n10[t11.prevActor] = oe.getMax(n10[t11.prevActor] || 0, h10) : i10.placement === r10.db.PLACEMENT.OVER && (t11.prevActor && (n10[t11.prevActor] = oe.getMax(n10[t11.prevActor] || 0, h10 / 2)), t11.nextActor && (n10[i10.from] = oe.getMax(n10[i10.from] || 0, h10 / 2)));
  }
  return iz.debug("maxMessageWidthPerActor:", n10), n10;
}
iM(eaX, "getMaxMessageWidthPerActor");
var eaK = iM(function(e30) {
  let t10 = 0, r10 = eaP(eaN);
  for (let n10 in e30.links) {
    let e31 = k2.calculateTextDimensions(n10, r10).width + 2 * eaN.wrapPadding + 2 * eaN.boxMargin;
    t10 < e31 && (t10 = e31);
  }
  return t10;
}, "getRequiredPopupWidth");
async function eaZ(e30, t10, r10) {
  let n10 = 0;
  for (let t11 of e30.keys()) {
    let r11 = e30.get(t11);
    r11.wrap && (r11.description = k2.wrapLabel(r11.description, eaN.width - 2 * eaN.wrapPadding, eaP(eaN)));
    let i11 = s7(r11.description) ? await s8(r11.description, aj()) : k2.calculateTextDimensions(r11.description, eaP(eaN));
    r11.width = r11.wrap ? eaN.width : oe.getMax(eaN.width, i11.width + 2 * eaN.wrapPadding), r11.height = r11.wrap ? oe.getMax(i11.height, eaN.height) : eaN.height, n10 = oe.getMax(n10, r11.height);
  }
  for (let r11 in t10) {
    let n11 = e30.get(r11);
    if (!n11) continue;
    let i11 = e30.get(n11.nextActor);
    if (!i11) {
      let e31 = t10[r11] + eaN.actorMargin - n11.width / 2;
      n11.margin = oe.getMax(e31, eaN.actorMargin);
      continue;
    }
    let a10 = t10[r11] + eaN.actorMargin - n11.width / 2 - i11.width / 2;
    n11.margin = oe.getMax(a10, eaN.actorMargin);
  }
  let i10 = 0;
  return r10.forEach((t11) => {
    let r11 = eaO(eaN), n11 = t11.actorKeys.reduce((t12, r12) => t12 += e30.get(r12).width + (e30.get(r12).margin || 0), 0);
    n11 -= 2 * eaN.boxTextMargin, t11.wrap && (t11.name = k2.wrapLabel(t11.name, n11 - 2 * eaN.wrapPadding, r11));
    let a10 = k2.calculateTextDimensions(t11.name, r11);
    i10 = oe.getMax(a10.height, i10);
    let s10 = oe.getMax(n11, a10.width + 2 * eaN.wrapPadding);
    if (t11.margin = eaN.boxTextMargin, n11 < s10) {
      let e31 = (s10 - n11) / 2;
      t11.margin += e31;
    }
  }), r10.forEach((e31) => e31.textMaxHeight = i10), oe.getMax(n10, eaN.height);
}
iM(eaZ, "calculateActorMargins");
var eaQ = iM(async function(e30, t10, r10) {
  let n10 = t10.get(e30.from), i10 = t10.get(e30.to), a10 = n10.x, s10 = i10.x, o10 = e30.wrap && e30.message, l10 = s7(e30.message) ? await s8(e30.message, aj()) : k2.calculateTextDimensions(o10 ? k2.wrapLabel(e30.message, eaN.width, ea$(eaN)) : e30.message, ea$(eaN)), h10 = { width: o10 ? eaN.width : oe.getMax(eaN.width, l10.width + 2 * eaN.noteMargin), height: 0, startx: n10.x, stopx: 0, starty: 0, stopy: 0, message: e30.message };
  return e30.placement === r10.db.PLACEMENT.RIGHTOF ? (h10.width = o10 ? oe.getMax(eaN.width, l10.width) : oe.getMax(n10.width / 2 + i10.width / 2, l10.width + 2 * eaN.noteMargin), h10.startx = a10 + (n10.width + eaN.actorMargin) / 2) : e30.placement === r10.db.PLACEMENT.LEFTOF ? (h10.width = o10 ? oe.getMax(eaN.width, l10.width + 2 * eaN.noteMargin) : oe.getMax(n10.width / 2 + i10.width / 2, l10.width + 2 * eaN.noteMargin), h10.startx = a10 - h10.width + (n10.width - eaN.actorMargin) / 2) : e30.to === e30.from ? (l10 = k2.calculateTextDimensions(o10 ? k2.wrapLabel(e30.message, oe.getMax(eaN.width, n10.width), ea$(eaN)) : e30.message, ea$(eaN)), h10.width = o10 ? oe.getMax(eaN.width, n10.width) : oe.getMax(n10.width, eaN.width, l10.width + 2 * eaN.noteMargin), h10.startx = a10 + (n10.width - h10.width) / 2) : (h10.width = Math.abs(a10 + n10.width / 2 - (s10 + i10.width / 2)) + eaN.actorMargin, h10.startx = a10 < s10 ? a10 + n10.width / 2 - eaN.actorMargin / 2 : s10 + i10.width / 2 - eaN.actorMargin / 2), o10 && (h10.message = k2.wrapLabel(e30.message, h10.width - 2 * eaN.wrapPadding, ea$(eaN))), iz.debug(`NM:[${h10.startx},${h10.stopx},${h10.starty},${h10.stopy}:${h10.width},${h10.height}=${e30.message}]`), h10;
}, "buildNoteModel"), eaJ = iM(function(e30, t10, r10) {
  if (![r10.db.LINETYPE.SOLID_OPEN, r10.db.LINETYPE.DOTTED_OPEN, r10.db.LINETYPE.SOLID, r10.db.LINETYPE.DOTTED, r10.db.LINETYPE.SOLID_CROSS, r10.db.LINETYPE.DOTTED_CROSS, r10.db.LINETYPE.SOLID_POINT, r10.db.LINETYPE.DOTTED_POINT, r10.db.LINETYPE.BIDIRECTIONAL_SOLID, r10.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e30.type)) return {};
  let [n10, i10] = eaV(e30.from, t10), [a10, s10] = eaV(e30.to, t10), o10 = n10 <= a10, l10 = o10 ? i10 : n10, h10 = o10 ? a10 : s10, u10 = Math.abs(a10 - s10) > 2, d10 = iM((e31) => o10 ? -e31 : e31, "adjustValue");
  e30.from === e30.to ? h10 = l10 : (e30.activate && !u10 && (h10 += d10(eaN.activationWidth / 2 - 1)), [r10.db.LINETYPE.SOLID_OPEN, r10.db.LINETYPE.DOTTED_OPEN].includes(e30.type) || (h10 += d10(3)), [r10.db.LINETYPE.BIDIRECTIONAL_SOLID, r10.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e30.type) && (l10 -= d10(3)));
  let p10 = [n10, i10, a10, s10], f10 = Math.abs(l10 - h10);
  e30.wrap && e30.message && (e30.message = k2.wrapLabel(e30.message, oe.getMax(f10 + 2 * eaN.wrapPadding, eaN.width), eaO(eaN)));
  let g10 = k2.calculateTextDimensions(e30.message, eaO(eaN));
  return { width: oe.getMax(e30.wrap ? 0 : g10.width + 2 * eaN.wrapPadding, f10 + 2 * eaN.wrapPadding, eaN.width), height: 0, startx: l10, stopx: h10, starty: 0, stopy: 0, message: e30.message, type: e30.type, wrap: e30.wrap, fromBounds: Math.min.apply(null, p10), toBounds: Math.max.apply(null, p10) };
}, "buildMessageModel"), ea0 = iM(async function(e30, t10, r10, n10) {
  let i10, a10, s10;
  let o10 = {}, l10 = [];
  for (let r11 of e30) {
    switch (r11.id = k2.random({ length: 10 }), r11.type) {
      case n10.db.LINETYPE.LOOP_START:
      case n10.db.LINETYPE.ALT_START:
      case n10.db.LINETYPE.OPT_START:
      case n10.db.LINETYPE.PAR_START:
      case n10.db.LINETYPE.PAR_OVER_START:
      case n10.db.LINETYPE.CRITICAL_START:
      case n10.db.LINETYPE.BREAK_START:
        l10.push({ id: r11.id, msg: r11.message, from: Number.MAX_SAFE_INTEGER, to: Number.MIN_SAFE_INTEGER, width: 0 });
        break;
      case n10.db.LINETYPE.ALT_ELSE:
      case n10.db.LINETYPE.PAR_AND:
      case n10.db.LINETYPE.CRITICAL_OPTION:
        r11.message && (o10[(i10 = l10.pop()).id] = i10, o10[r11.id] = i10, l10.push(i10));
        break;
      case n10.db.LINETYPE.LOOP_END:
      case n10.db.LINETYPE.ALT_END:
      case n10.db.LINETYPE.OPT_END:
      case n10.db.LINETYPE.PAR_END:
      case n10.db.LINETYPE.CRITICAL_END:
      case n10.db.LINETYPE.BREAK_END:
        o10[(i10 = l10.pop()).id] = i10;
        break;
      case n10.db.LINETYPE.ACTIVE_START:
        {
          let e31 = t10.get(r11.from ? r11.from : r11.to.actor), n11 = eaW(r11.from ? r11.from : r11.to.actor).length, i11 = e31.x + e31.width / 2 + (n11 - 1) * eaN.activationWidth / 2, a11 = { startx: i11, stopx: i11 + eaN.activationWidth, actor: r11.from, enabled: true };
          eaR.activations.push(a11);
        }
        break;
      case n10.db.LINETYPE.ACTIVE_END: {
        let e31 = eaR.activations.map((e32) => e32.actor).lastIndexOf(r11.from);
        eaR.activations.splice(e31, 1).splice(0, 1);
      }
    }
    void 0 !== r11.placement ? (a10 = await eaQ(r11, t10, n10), r11.noteModel = a10, l10.forEach((e31) => {
      (i10 = e31).from = oe.getMin(i10.from, a10.startx), i10.to = oe.getMax(i10.to, a10.startx + a10.width), i10.width = oe.getMax(i10.width, Math.abs(i10.from - i10.to)) - eaN.labelBoxWidth;
    })) : (s10 = eaJ(r11, t10, n10), r11.msgModel = s10, s10.startx && s10.stopx && l10.length > 0 && l10.forEach((e31) => {
      if (i10 = e31, s10.startx === s10.stopx) {
        let e32 = t10.get(r11.from), n11 = t10.get(r11.to);
        i10.from = oe.getMin(e32.x - s10.width / 2, e32.x - e32.width / 2, i10.from), i10.to = oe.getMax(n11.x + s10.width / 2, n11.x + e32.width / 2, i10.to), i10.width = oe.getMax(i10.width, Math.abs(i10.to - i10.from)) - eaN.labelBoxWidth;
      } else i10.from = oe.getMin(s10.startx, i10.from), i10.to = oe.getMax(s10.stopx, i10.to), i10.width = oe.getMax(i10.width, s10.width) - eaN.labelBoxWidth;
    }));
  }
  return eaR.activations = [], iz.debug("Loop type widths:", o10), o10;
}, "calculateLoopBounds");
let ea1 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: eiC, db: ei8, renderer: { bounds: eaR, drawActors: eaj, drawActorsPopup: eaq, setConf: eaU, draw: eaG }, styles: ei9, init: iM((e30) => {
  let { wrap: t10 } = e30;
  ei8.setWrap(t10);
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var ea2 = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 18], r10 = [1, 19], n10 = [1, 20], i10 = [1, 41], a10 = [1, 42], s10 = [1, 26], o10 = [1, 24], l10 = [1, 25], h10 = [1, 32], u10 = [1, 33], d10 = [1, 34], p10 = [1, 45], f10 = [1, 35], g10 = [1, 36], y10 = [1, 37], v10 = [1, 38], x10 = [1, 27], b10 = [1, 28], k10 = [1, 29], w10 = [1, 30], _10 = [1, 31], T10 = [1, 44], S10 = [1, 46], C10 = [1, 43], E10 = [1, 47], A10 = [1, 9], L10 = [1, 8, 9], I10 = [1, 58], M10 = [1, 59], N10 = [1, 60], R10 = [1, 61], D10 = [1, 62], O10 = [1, 63], $10 = [1, 64], P10 = [1, 8, 9, 41], B10 = [1, 76], F10 = [1, 8, 9, 12, 13, 22, 39, 41, 44, 66, 67, 68, 69, 70, 71, 72, 77, 79], z10 = [1, 8, 9, 12, 13, 17, 20, 22, 39, 41, 44, 48, 58, 66, 67, 68, 69, 70, 71, 72, 77, 79, 84, 99, 101, 102], j10 = [13, 58, 84, 99, 101, 102], q10 = [13, 58, 71, 72, 84, 99, 101, 102], U10 = [13, 58, 66, 67, 68, 69, 70, 84, 99, 101, 102], W10 = [1, 98], V10 = [1, 115], H10 = [1, 107], Y10 = [1, 113], G10 = [1, 108], X10 = [1, 109], K10 = [1, 110], Z10 = [1, 111], Q10 = [1, 112], J10 = [1, 114], ee10 = [22, 58, 59, 80, 84, 85, 86, 87, 88, 89], et10 = [1, 8, 9, 39, 41, 44], er10 = [1, 8, 9, 22], en10 = [1, 143], ei10 = [1, 8, 9, 59], ea10 = [1, 8, 9, 22, 58, 59, 80, 84, 85, 86, 87, 88, 89], es10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mermaidDoc: 4, statements: 5, graphConfig: 6, CLASS_DIAGRAM: 7, NEWLINE: 8, EOF: 9, statement: 10, classLabel: 11, SQS: 12, STR: 13, SQE: 14, namespaceName: 15, alphaNumToken: 16, DOT: 17, className: 18, classLiteralName: 19, GENERICTYPE: 20, relationStatement: 21, LABEL: 22, namespaceStatement: 23, classStatement: 24, memberStatement: 25, annotationStatement: 26, clickStatement: 27, styleStatement: 28, cssClassStatement: 29, noteStatement: 30, classDefStatement: 31, direction: 32, acc_title: 33, acc_title_value: 34, acc_descr: 35, acc_descr_value: 36, acc_descr_multiline_value: 37, namespaceIdentifier: 38, STRUCT_START: 39, classStatements: 40, STRUCT_STOP: 41, NAMESPACE: 42, classIdentifier: 43, STYLE_SEPARATOR: 44, members: 45, CLASS: 46, ANNOTATION_START: 47, ANNOTATION_END: 48, MEMBER: 49, SEPARATOR: 50, relation: 51, NOTE_FOR: 52, noteText: 53, NOTE: 54, CLASSDEF: 55, classList: 56, stylesOpt: 57, ALPHA: 58, COMMA: 59, direction_tb: 60, direction_bt: 61, direction_rl: 62, direction_lr: 63, relationType: 64, lineType: 65, AGGREGATION: 66, EXTENSION: 67, COMPOSITION: 68, DEPENDENCY: 69, LOLLIPOP: 70, LINE: 71, DOTTED_LINE: 72, CALLBACK: 73, LINK: 74, LINK_TARGET: 75, CLICK: 76, CALLBACK_NAME: 77, CALLBACK_ARGS: 78, HREF: 79, STYLE: 80, CSSCLASS: 81, style: 82, styleComponent: 83, NUM: 84, COLON: 85, UNIT: 86, SPACE: 87, BRKT: 88, PCT: 89, commentToken: 90, textToken: 91, graphCodeTokens: 92, textNoTagsToken: 93, TAGSTART: 94, TAGEND: 95, "==": 96, "--": 97, DEFAULT: 98, MINUS: 99, keywords: 100, UNICODE_TEXT: 101, BQUOTE_STR: 102, $accept: 0, $end: 1 }, terminals_: { 2: "error", 7: "CLASS_DIAGRAM", 8: "NEWLINE", 9: "EOF", 12: "SQS", 13: "STR", 14: "SQE", 17: "DOT", 20: "GENERICTYPE", 22: "LABEL", 33: "acc_title", 34: "acc_title_value", 35: "acc_descr", 36: "acc_descr_value", 37: "acc_descr_multiline_value", 39: "STRUCT_START", 41: "STRUCT_STOP", 42: "NAMESPACE", 44: "STYLE_SEPARATOR", 46: "CLASS", 47: "ANNOTATION_START", 48: "ANNOTATION_END", 49: "MEMBER", 50: "SEPARATOR", 52: "NOTE_FOR", 54: "NOTE", 55: "CLASSDEF", 58: "ALPHA", 59: "COMMA", 60: "direction_tb", 61: "direction_bt", 62: "direction_rl", 63: "direction_lr", 66: "AGGREGATION", 67: "EXTENSION", 68: "COMPOSITION", 69: "DEPENDENCY", 70: "LOLLIPOP", 71: "LINE", 72: "DOTTED_LINE", 73: "CALLBACK", 74: "LINK", 75: "LINK_TARGET", 76: "CLICK", 77: "CALLBACK_NAME", 78: "CALLBACK_ARGS", 79: "HREF", 80: "STYLE", 81: "CSSCLASS", 84: "NUM", 85: "COLON", 86: "UNIT", 87: "SPACE", 88: "BRKT", 89: "PCT", 92: "graphCodeTokens", 94: "TAGSTART", 95: "TAGEND", 96: "==", 97: "--", 98: "DEFAULT", 99: "MINUS", 100: "keywords", 101: "UNICODE_TEXT", 102: "BQUOTE_STR" }, productions_: [0, [3, 1], [3, 1], [4, 1], [6, 4], [5, 1], [5, 2], [5, 3], [11, 3], [15, 1], [15, 3], [15, 2], [18, 1], [18, 3], [18, 1], [18, 2], [18, 2], [18, 2], [10, 1], [10, 2], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [23, 4], [23, 5], [38, 2], [40, 1], [40, 2], [40, 3], [24, 1], [24, 3], [24, 4], [24, 6], [43, 2], [43, 3], [26, 4], [45, 1], [45, 2], [25, 1], [25, 2], [25, 1], [25, 1], [21, 3], [21, 4], [21, 4], [21, 5], [30, 3], [30, 2], [31, 3], [56, 1], [56, 3], [32, 1], [32, 1], [32, 1], [32, 1], [51, 3], [51, 2], [51, 2], [51, 1], [64, 1], [64, 1], [64, 1], [64, 1], [64, 1], [65, 1], [65, 1], [27, 3], [27, 4], [27, 3], [27, 4], [27, 4], [27, 5], [27, 3], [27, 4], [27, 4], [27, 5], [27, 4], [27, 5], [27, 5], [27, 6], [28, 3], [29, 3], [57, 1], [57, 3], [82, 1], [82, 2], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [90, 1], [90, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [93, 1], [93, 1], [93, 1], [93, 1], [16, 1], [16, 1], [16, 1], [16, 1], [19, 1], [53, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 8:
        this.$ = a11[o11 - 1];
        break;
      case 9:
      case 12:
      case 14:
        this.$ = a11[o11];
        break;
      case 10:
      case 13:
        this.$ = a11[o11 - 2] + "." + a11[o11];
        break;
      case 11:
      case 15:
      case 95:
        this.$ = a11[o11 - 1] + a11[o11];
        break;
      case 16:
      case 17:
        this.$ = a11[o11 - 1] + "~" + a11[o11] + "~";
        break;
      case 18:
        n11.addRelation(a11[o11]);
        break;
      case 19:
        a11[o11 - 1].title = n11.cleanupLabel(a11[o11]), n11.addRelation(a11[o11 - 1]);
        break;
      case 30:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 31:
      case 32:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 33:
        n11.addClassesToNamespace(a11[o11 - 3], a11[o11 - 1]);
        break;
      case 34:
        n11.addClassesToNamespace(a11[o11 - 4], a11[o11 - 1]);
        break;
      case 35:
        this.$ = a11[o11], n11.addNamespace(a11[o11]);
        break;
      case 36:
      case 46:
      case 59:
      case 92:
        this.$ = [a11[o11]];
        break;
      case 37:
        this.$ = [a11[o11 - 1]];
        break;
      case 38:
        a11[o11].unshift(a11[o11 - 2]), this.$ = a11[o11];
        break;
      case 40:
        n11.setCssClass(a11[o11 - 2], a11[o11]);
        break;
      case 41:
        n11.addMembers(a11[o11 - 3], a11[o11 - 1]);
        break;
      case 42:
        n11.setCssClass(a11[o11 - 5], a11[o11 - 3]), n11.addMembers(a11[o11 - 5], a11[o11 - 1]);
        break;
      case 43:
        this.$ = a11[o11], n11.addClass(a11[o11]);
        break;
      case 44:
        this.$ = a11[o11 - 1], n11.addClass(a11[o11 - 1]), n11.setClassLabel(a11[o11 - 1], a11[o11]);
        break;
      case 45:
        n11.addAnnotation(a11[o11], a11[o11 - 2]);
        break;
      case 47:
        a11[o11].push(a11[o11 - 1]), this.$ = a11[o11];
        break;
      case 48:
      case 50:
      case 51:
        break;
      case 49:
        n11.addMember(a11[o11 - 1], n11.cleanupLabel(a11[o11]));
        break;
      case 52:
        this.$ = { id1: a11[o11 - 2], id2: a11[o11], relation: a11[o11 - 1], relationTitle1: "none", relationTitle2: "none" };
        break;
      case 53:
        this.$ = { id1: a11[o11 - 3], id2: a11[o11], relation: a11[o11 - 1], relationTitle1: a11[o11 - 2], relationTitle2: "none" };
        break;
      case 54:
        this.$ = { id1: a11[o11 - 3], id2: a11[o11], relation: a11[o11 - 2], relationTitle1: "none", relationTitle2: a11[o11 - 1] };
        break;
      case 55:
        this.$ = { id1: a11[o11 - 4], id2: a11[o11], relation: a11[o11 - 2], relationTitle1: a11[o11 - 3], relationTitle2: a11[o11 - 1] };
        break;
      case 56:
        n11.addNote(a11[o11], a11[o11 - 1]);
        break;
      case 57:
        n11.addNote(a11[o11]);
        break;
      case 58:
        this.$ = a11[o11 - 2], n11.defineClass(a11[o11 - 1], a11[o11]);
        break;
      case 60:
        this.$ = a11[o11 - 2].concat([a11[o11]]);
        break;
      case 61:
        n11.setDirection("TB");
        break;
      case 62:
        n11.setDirection("BT");
        break;
      case 63:
        n11.setDirection("RL");
        break;
      case 64:
        n11.setDirection("LR");
        break;
      case 65:
        this.$ = { type1: a11[o11 - 2], type2: a11[o11], lineType: a11[o11 - 1] };
        break;
      case 66:
        this.$ = { type1: "none", type2: a11[o11], lineType: a11[o11 - 1] };
        break;
      case 67:
        this.$ = { type1: a11[o11 - 1], type2: "none", lineType: a11[o11] };
        break;
      case 68:
        this.$ = { type1: "none", type2: "none", lineType: a11[o11] };
        break;
      case 69:
        this.$ = n11.relationType.AGGREGATION;
        break;
      case 70:
        this.$ = n11.relationType.EXTENSION;
        break;
      case 71:
        this.$ = n11.relationType.COMPOSITION;
        break;
      case 72:
        this.$ = n11.relationType.DEPENDENCY;
        break;
      case 73:
        this.$ = n11.relationType.LOLLIPOP;
        break;
      case 74:
        this.$ = n11.lineType.LINE;
        break;
      case 75:
        this.$ = n11.lineType.DOTTED_LINE;
        break;
      case 76:
      case 82:
        this.$ = a11[o11 - 2], n11.setClickEvent(a11[o11 - 1], a11[o11]);
        break;
      case 77:
      case 83:
        this.$ = a11[o11 - 3], n11.setClickEvent(a11[o11 - 2], a11[o11 - 1]), n11.setTooltip(a11[o11 - 2], a11[o11]);
        break;
      case 78:
        this.$ = a11[o11 - 2], n11.setLink(a11[o11 - 1], a11[o11]);
        break;
      case 79:
        this.$ = a11[o11 - 3], n11.setLink(a11[o11 - 2], a11[o11 - 1], a11[o11]);
        break;
      case 80:
        this.$ = a11[o11 - 3], n11.setLink(a11[o11 - 2], a11[o11 - 1]), n11.setTooltip(a11[o11 - 2], a11[o11]);
        break;
      case 81:
        this.$ = a11[o11 - 4], n11.setLink(a11[o11 - 3], a11[o11 - 2], a11[o11]), n11.setTooltip(a11[o11 - 3], a11[o11 - 1]);
        break;
      case 84:
        this.$ = a11[o11 - 3], n11.setClickEvent(a11[o11 - 2], a11[o11 - 1], a11[o11]);
        break;
      case 85:
        this.$ = a11[o11 - 4], n11.setClickEvent(a11[o11 - 3], a11[o11 - 2], a11[o11 - 1]), n11.setTooltip(a11[o11 - 3], a11[o11]);
        break;
      case 86:
        this.$ = a11[o11 - 3], n11.setLink(a11[o11 - 2], a11[o11]);
        break;
      case 87:
        this.$ = a11[o11 - 4], n11.setLink(a11[o11 - 3], a11[o11 - 1], a11[o11]);
        break;
      case 88:
        this.$ = a11[o11 - 4], n11.setLink(a11[o11 - 3], a11[o11 - 1]), n11.setTooltip(a11[o11 - 3], a11[o11]);
        break;
      case 89:
        this.$ = a11[o11 - 5], n11.setLink(a11[o11 - 4], a11[o11 - 2], a11[o11]), n11.setTooltip(a11[o11 - 4], a11[o11 - 1]);
        break;
      case 90:
        this.$ = a11[o11 - 2], n11.setCssStyle(a11[o11 - 1], a11[o11]);
        break;
      case 91:
        n11.setCssClass(a11[o11 - 1], a11[o11]);
        break;
      case 93:
        a11[o11 - 2].push(a11[o11]), this.$ = a11[o11 - 2];
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: 4, 7: [1, 6], 10: 5, 16: 39, 18: 21, 19: 40, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 33: t10, 35: r10, 37: n10, 38: 22, 42: i10, 43: 23, 46: a10, 47: s10, 49: o10, 50: l10, 52: h10, 54: u10, 55: d10, 58: p10, 60: f10, 61: g10, 62: y10, 63: v10, 73: x10, 74: b10, 76: k10, 80: w10, 81: _10, 84: T10, 99: S10, 101: C10, 102: E10 }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, e30(A10, [2, 5], { 8: [1, 48] }), { 8: [1, 49] }, e30(L10, [2, 18], { 22: [1, 50] }), e30(L10, [2, 20]), e30(L10, [2, 21]), e30(L10, [2, 22]), e30(L10, [2, 23]), e30(L10, [2, 24]), e30(L10, [2, 25]), e30(L10, [2, 26]), e30(L10, [2, 27]), e30(L10, [2, 28]), e30(L10, [2, 29]), { 34: [1, 51] }, { 36: [1, 52] }, e30(L10, [2, 32]), e30(L10, [2, 48], { 51: 53, 64: 56, 65: 57, 13: [1, 54], 22: [1, 55], 66: I10, 67: M10, 68: N10, 69: R10, 70: D10, 71: O10, 72: $10 }), { 39: [1, 65] }, e30(P10, [2, 39], { 39: [1, 67], 44: [1, 66] }), e30(L10, [2, 50]), e30(L10, [2, 51]), { 16: 68, 58: p10, 84: T10, 99: S10, 101: C10 }, { 16: 39, 18: 69, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, { 16: 39, 18: 70, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, { 16: 39, 18: 71, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, { 58: [1, 72] }, { 13: [1, 73] }, { 16: 39, 18: 74, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, { 13: B10, 53: 75 }, { 56: 77, 58: [1, 78] }, e30(L10, [2, 61]), e30(L10, [2, 62]), e30(L10, [2, 63]), e30(L10, [2, 64]), e30(F10, [2, 12], { 16: 39, 19: 40, 18: 80, 17: [1, 79], 20: [1, 81], 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }), e30(F10, [2, 14], { 20: [1, 82] }), { 15: 83, 16: 84, 58: p10, 84: T10, 99: S10, 101: C10 }, { 16: 39, 18: 85, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, e30(z10, [2, 118]), e30(z10, [2, 119]), e30(z10, [2, 120]), e30(z10, [2, 121]), e30([1, 8, 9, 12, 13, 20, 22, 39, 41, 44, 66, 67, 68, 69, 70, 71, 72, 77, 79], [2, 122]), e30(A10, [2, 6], { 10: 5, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 18: 21, 38: 22, 43: 23, 16: 39, 19: 40, 5: 86, 33: t10, 35: r10, 37: n10, 42: i10, 46: a10, 47: s10, 49: o10, 50: l10, 52: h10, 54: u10, 55: d10, 58: p10, 60: f10, 61: g10, 62: y10, 63: v10, 73: x10, 74: b10, 76: k10, 80: w10, 81: _10, 84: T10, 99: S10, 101: C10, 102: E10 }), { 5: 87, 10: 5, 16: 39, 18: 21, 19: 40, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 33: t10, 35: r10, 37: n10, 38: 22, 42: i10, 43: 23, 46: a10, 47: s10, 49: o10, 50: l10, 52: h10, 54: u10, 55: d10, 58: p10, 60: f10, 61: g10, 62: y10, 63: v10, 73: x10, 74: b10, 76: k10, 80: w10, 81: _10, 84: T10, 99: S10, 101: C10, 102: E10 }, e30(L10, [2, 19]), e30(L10, [2, 30]), e30(L10, [2, 31]), { 13: [1, 89], 16: 39, 18: 88, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, { 51: 90, 64: 56, 65: 57, 66: I10, 67: M10, 68: N10, 69: R10, 70: D10, 71: O10, 72: $10 }, e30(L10, [2, 49]), { 65: 91, 71: O10, 72: $10 }, e30(j10, [2, 68], { 64: 92, 66: I10, 67: M10, 68: N10, 69: R10, 70: D10 }), e30(q10, [2, 69]), e30(q10, [2, 70]), e30(q10, [2, 71]), e30(q10, [2, 72]), e30(q10, [2, 73]), e30(U10, [2, 74]), e30(U10, [2, 75]), { 8: [1, 94], 24: 95, 40: 93, 43: 23, 46: a10 }, { 16: 96, 58: p10, 84: T10, 99: S10, 101: C10 }, { 45: 97, 49: W10 }, { 48: [1, 99] }, { 13: [1, 100] }, { 13: [1, 101] }, { 77: [1, 102], 79: [1, 103] }, { 22: V10, 57: 104, 58: H10, 80: Y10, 82: 105, 83: 106, 84: G10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }, { 58: [1, 116] }, { 13: B10, 53: 117 }, e30(L10, [2, 57]), e30(L10, [2, 123]), { 22: V10, 57: 118, 58: H10, 59: [1, 119], 80: Y10, 82: 105, 83: 106, 84: G10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }, e30(ee10, [2, 59]), { 16: 39, 18: 120, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, e30(F10, [2, 15]), e30(F10, [2, 16]), e30(F10, [2, 17]), { 39: [2, 35] }, { 15: 122, 16: 84, 17: [1, 121], 39: [2, 9], 58: p10, 84: T10, 99: S10, 101: C10 }, e30(et10, [2, 43], { 11: 123, 12: [1, 124] }), e30(A10, [2, 7]), { 9: [1, 125] }, e30(er10, [2, 52]), { 16: 39, 18: 126, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, { 13: [1, 128], 16: 39, 18: 127, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, e30(j10, [2, 67], { 64: 129, 66: I10, 67: M10, 68: N10, 69: R10, 70: D10 }), e30(j10, [2, 66]), { 41: [1, 130] }, { 24: 95, 40: 131, 43: 23, 46: a10 }, { 8: [1, 132], 41: [2, 36] }, e30(P10, [2, 40], { 39: [1, 133] }), { 41: [1, 134] }, { 41: [2, 46], 45: 135, 49: W10 }, { 16: 39, 18: 136, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, e30(L10, [2, 76], { 13: [1, 137] }), e30(L10, [2, 78], { 13: [1, 139], 75: [1, 138] }), e30(L10, [2, 82], { 13: [1, 140], 78: [1, 141] }), { 13: [1, 142] }, e30(L10, [2, 90], { 59: en10 }), e30(ei10, [2, 92], { 83: 144, 22: V10, 58: H10, 80: Y10, 84: G10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }), e30(ea10, [2, 94]), e30(ea10, [2, 96]), e30(ea10, [2, 97]), e30(ea10, [2, 98]), e30(ea10, [2, 99]), e30(ea10, [2, 100]), e30(ea10, [2, 101]), e30(ea10, [2, 102]), e30(ea10, [2, 103]), e30(ea10, [2, 104]), e30(L10, [2, 91]), e30(L10, [2, 56]), e30(L10, [2, 58], { 59: en10 }), { 58: [1, 145] }, e30(F10, [2, 13]), { 15: 146, 16: 84, 58: p10, 84: T10, 99: S10, 101: C10 }, { 39: [2, 11] }, e30(et10, [2, 44]), { 13: [1, 147] }, { 1: [2, 4] }, e30(er10, [2, 54]), e30(er10, [2, 53]), { 16: 39, 18: 148, 19: 40, 58: p10, 84: T10, 99: S10, 101: C10, 102: E10 }, e30(j10, [2, 65]), e30(L10, [2, 33]), { 41: [1, 149] }, { 24: 95, 40: 150, 41: [2, 37], 43: 23, 46: a10 }, { 45: 151, 49: W10 }, e30(P10, [2, 41]), { 41: [2, 47] }, e30(L10, [2, 45]), e30(L10, [2, 77]), e30(L10, [2, 79]), e30(L10, [2, 80], { 75: [1, 152] }), e30(L10, [2, 83]), e30(L10, [2, 84], { 13: [1, 153] }), e30(L10, [2, 86], { 13: [1, 155], 75: [1, 154] }), { 22: V10, 58: H10, 80: Y10, 82: 156, 83: 106, 84: G10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }, e30(ea10, [2, 95]), e30(ee10, [2, 60]), { 39: [2, 10] }, { 14: [1, 157] }, e30(er10, [2, 55]), e30(L10, [2, 34]), { 41: [2, 38] }, { 41: [1, 158] }, e30(L10, [2, 81]), e30(L10, [2, 85]), e30(L10, [2, 87]), e30(L10, [2, 88], { 75: [1, 159] }), e30(ei10, [2, 93], { 83: 144, 22: V10, 58: H10, 80: Y10, 84: G10, 85: X10, 86: K10, 87: Z10, 88: Q10, 89: J10 }), e30(et10, [2, 8]), e30(P10, [2, 42]), e30(L10, [2, 89])], defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 3], 83: [2, 35], 122: [2, 11], 125: [2, 4], 135: [2, 47], 146: [2, 10], 150: [2, 38] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, eo10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return 60;
      case 1:
        return 61;
      case 2:
        return 62;
      case 3:
        return 63;
      case 4:
      case 5:
      case 14:
      case 31:
      case 36:
      case 40:
      case 47:
        break;
      case 6:
        return this.begin("acc_title"), 33;
      case 7:
        return this.popState(), "acc_title_value";
      case 8:
        return this.begin("acc_descr"), 35;
      case 9:
        return this.popState(), "acc_descr_value";
      case 10:
        this.begin("acc_descr_multiline");
        break;
      case 11:
      case 19:
      case 22:
      case 24:
      case 58:
      case 61:
        this.popState();
        break;
      case 12:
        return "acc_descr_multiline_value";
      case 13:
      case 35:
        return 8;
      case 15:
      case 16:
        return 7;
      case 17:
      case 37:
      case 45:
        return "EDGE_STATE";
      case 18:
        this.begin("callback_name");
        break;
      case 20:
        this.popState(), this.begin("callback_args");
        break;
      case 21:
        return 77;
      case 23:
        return 78;
      case 25:
        return "STR";
      case 26:
        this.begin("string");
        break;
      case 27:
        return 80;
      case 28:
        return 55;
      case 29:
        return this.begin("namespace"), 42;
      case 30:
      case 39:
        return this.popState(), 8;
      case 32:
        return this.begin("namespace-body"), 39;
      case 33:
      case 43:
        return this.popState(), 41;
      case 34:
      case 44:
        return "EOF_IN_STRUCT";
      case 38:
        return this.begin("class"), 46;
      case 41:
        return this.popState(), this.popState(), 41;
      case 42:
        return this.begin("class-body"), 39;
      case 46:
        return "OPEN_IN_STRUCT";
      case 48:
        return "MEMBER";
      case 49:
        return 81;
      case 50:
        return 73;
      case 51:
        return 74;
      case 52:
        return 76;
      case 53:
        return 52;
      case 54:
        return 54;
      case 55:
        return 47;
      case 56:
        return 48;
      case 57:
        return 79;
      case 59:
        return "GENERICTYPE";
      case 60:
        this.begin("generic");
        break;
      case 62:
        return "BQUOTE_STR";
      case 63:
        this.begin("bqstring");
        break;
      case 64:
      case 65:
      case 66:
      case 67:
        return 75;
      case 68:
      case 69:
        return 67;
      case 70:
      case 71:
        return 69;
      case 72:
        return 68;
      case 73:
        return 66;
      case 74:
        return 70;
      case 75:
        return 71;
      case 76:
        return 72;
      case 77:
        return 22;
      case 78:
        return 44;
      case 79:
        return 99;
      case 80:
        return 17;
      case 81:
        return "PLUS";
      case 82:
        return 85;
      case 83:
        return 59;
      case 84:
      case 85:
        return 88;
      case 86:
        return 89;
      case 87:
      case 88:
        return "EQUALS";
      case 89:
        return 58;
      case 90:
        return 12;
      case 91:
        return 14;
      case 92:
        return "PUNCTUATION";
      case 93:
        return 84;
      case 94:
        return 101;
      case 95:
      case 96:
        return 87;
      case 97:
        return 9;
    }
  }, "anonymous"), rules: [/^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:classDiagram-v2\b)/, /^(?:classDiagram\b)/, /^(?:\[\*\])/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:["])/, /^(?:[^"]*)/, /^(?:["])/, /^(?:style\b)/, /^(?:classDef\b)/, /^(?:namespace\b)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:[{])/, /^(?:[}])/, /^(?:$)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:\[\*\])/, /^(?:class\b)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:[}])/, /^(?:[{])/, /^(?:[}])/, /^(?:$)/, /^(?:\[\*\])/, /^(?:[{])/, /^(?:[\n])/, /^(?:[^{}\n]*)/, /^(?:cssClass\b)/, /^(?:callback\b)/, /^(?:link\b)/, /^(?:click\b)/, /^(?:note for\b)/, /^(?:note\b)/, /^(?:<<)/, /^(?:>>)/, /^(?:href\b)/, /^(?:[~])/, /^(?:[^~]*)/, /^(?:~)/, /^(?:[`])/, /^(?:[^`]+)/, /^(?:[`])/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:\s*<\|)/, /^(?:\s*\|>)/, /^(?:\s*>)/, /^(?:\s*<)/, /^(?:\s*\*)/, /^(?:\s*o\b)/, /^(?:\s*\(\))/, /^(?:--)/, /^(?:\.\.)/, /^(?::{1}[^:\n;]+)/, /^(?::{3})/, /^(?:-)/, /^(?:\.)/, /^(?:\+)/, /^(?::)/, /^(?:,)/, /^(?:#)/, /^(?:#)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:\w+)/, /^(?:\[)/, /^(?:\])/, /^(?:[!"#$%&'*+,-.`?\\/])/, /^(?:[0-9]+)/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\s)/, /^(?:\s)/, /^(?:$)/], conditions: { "namespace-body": { rules: [26, 33, 34, 35, 36, 37, 38, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, namespace: { rules: [26, 29, 30, 31, 32, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, "class-body": { rules: [26, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, class: { rules: [26, 39, 40, 41, 42, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, acc_descr_multiline: { rules: [11, 12, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, acc_descr: { rules: [9, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, acc_title: { rules: [7, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, callback_args: { rules: [22, 23, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, callback_name: { rules: [19, 20, 21, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, href: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, struct: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, generic: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, bqstring: { rules: [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, string: { rules: [24, 25, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 26, 27, 28, 29, 38, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97], inclusive: true } } };
  function el10() {
    this.yy = {};
  }
  return es10.lexer = eo10, iM(el10, "Parser"), el10.prototype = es10, es10.Parser = el10, new el10();
}();
ea2.parser = ea2;
var ea4 = ["#", "+", "~", "-", ""], ea3 = (_Oc = class {
  constructor(e30, t10) {
    this.memberType = t10, this.visibility = "", this.classifier = "", this.text = "";
    let r10 = sV(e30, aj());
    this.parseMember(r10);
  }
  getDisplayDetails() {
    let e30 = this.visibility + s1(this.id);
    return "method" === this.memberType && (e30 += `(${s1(this.parameters.trim())})`, this.returnType && (e30 += " : " + s1(this.returnType))), { displayText: e30 = e30.trim(), cssStyle: this.parseClassifier() };
  }
  parseMember(e30) {
    let t10 = "";
    if ("method" === this.memberType) {
      let r11 = /([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e30);
      if (r11) {
        let e31 = r11[1] ? r11[1].trim() : "";
        if (ea4.includes(e31) && (this.visibility = e31), this.id = r11[2], this.parameters = r11[3] ? r11[3].trim() : "", t10 = r11[4] ? r11[4].trim() : "", this.returnType = r11[5] ? r11[5].trim() : "", "" === t10) {
          let e32 = this.returnType.substring(this.returnType.length - 1);
          /[$*]/.exec(e32) && (t10 = e32, this.returnType = this.returnType.substring(0, this.returnType.length - 1));
        }
      }
    } else {
      let r11 = e30.length, n10 = e30.substring(0, 1), i10 = e30.substring(r11 - 1);
      ea4.includes(n10) && (this.visibility = n10), /[$*]/.exec(i10) && (t10 = i10), this.id = e30.substring("" === this.visibility ? 0 : 1, "" === t10 ? r11 : r11 - 1);
    }
    this.classifier = t10, this.id = this.id.startsWith(" ") ? " " + this.id.trim() : this.id.trim();
    let r10 = `${this.visibility ? "\\" + this.visibility : ""}${s1(this.id)}${"method" === this.memberType ? `(${s1(this.parameters)})${this.returnType ? " : " + s1(this.returnType) : ""}` : ""}`;
    this.text = r10.replaceAll("<", "&lt;").replaceAll(">", "&gt;"), this.text.startsWith("\\&lt;") && (this.text = this.text.replace("\\&lt;", "~"));
  }
  parseClassifier() {
    switch (this.classifier) {
      case "*":
        return "font-style:italic;";
      case "$":
        return "text-decoration:underline;";
      default:
        return "";
    }
  }
}, _i205 = new WeakMap(), __privateAdd(_Oc, _i205, iM(_Oc, "ClassMember")), _Oc), ea5 = "classId-", ea6 = [], ea7 = /* @__PURE__ */ new Map(), ea8 = /* @__PURE__ */ new Map(), ea9 = [], ese = [], est = 0, esr = /* @__PURE__ */ new Map(), esn = 0, esi = [], esa = iM((e30) => oe.sanitizeText(e30, aj()), "sanitizeText"), ess = iM(function(e30) {
  let t10 = oe.sanitizeText(e30, aj()), r10 = "", n10 = t10;
  if (t10.indexOf("~") > 0) {
    let e31 = t10.split("~");
    n10 = esa(e31[0]), r10 = esa(e31[1]);
  }
  return { className: n10, type: r10 };
}, "splitClassNameAndType"), eso = iM(function(e30, t10) {
  let r10 = oe.sanitizeText(e30, aj());
  t10 && (t10 = esa(t10));
  let { className: n10 } = ess(r10);
  ea7.get(n10).label = t10, ea7.get(n10).text = `${t10}${ea7.get(n10).type ? `<${ea7.get(n10).type}>` : ""}`;
}, "setClassLabel"), esl = iM(function(e30) {
  let { className: t10, type: r10 } = ess(oe.sanitizeText(e30, aj()));
  if (ea7.has(t10)) return;
  let n10 = oe.sanitizeText(t10, aj());
  ea7.set(n10, { id: n10, type: r10, label: n10, text: `${n10}${r10 ? `&lt;${r10}&gt;` : ""}`, shape: "classBox", cssClasses: "default", methods: [], members: [], annotations: [], styles: [], domId: ea5 + n10 + "-" + est }), est++;
}, "addClass"), esc = iM(function(e30, t10) {
  let r10 = { id: `interface${ese.length}`, label: e30, classId: t10 };
  ese.push(r10);
}, "addInterface"), esh = iM(function(e30) {
  let t10 = oe.sanitizeText(e30, aj());
  if (ea7.has(t10)) return ea7.get(t10).domId;
  throw Error("Class not found: " + t10);
}, "lookUpDomId"), esu = iM(function() {
  ea6 = [], ea7 = /* @__PURE__ */ new Map(), ea9 = [], ese = [], (esi = []).push(esM), esr = /* @__PURE__ */ new Map(), esn = 0, esN = "TB", op();
}, "clear"), esd = iM(function(e30) {
  return ea7.get(e30);
}, "getClass"), esp = iM(function() {
  return ea7;
}, "getClasses"), esf = iM(function() {
  return ea6;
}, "getRelations"), esg = iM(function() {
  return ea9;
}, "getNotes"), esm = iM(function(e30) {
  iz.debug("Adding relation: " + JSON.stringify(e30));
  let t10 = [esI.LOLLIPOP, esI.AGGREGATION, esI.COMPOSITION, esI.DEPENDENCY, esI.EXTENSION];
  e30.relation.type1 !== esI.LOLLIPOP || t10.includes(e30.relation.type2) ? e30.relation.type2 !== esI.LOLLIPOP || t10.includes(e30.relation.type1) ? (esl(e30.id1), esl(e30.id2)) : (esl(e30.id1), esc(e30.id2, e30.id1), e30.id2 = `interface${ese.length - 1}`) : (esl(e30.id2), esc(e30.id1, e30.id2), e30.id1 = `interface${ese.length - 1}`), e30.id1 = ess(e30.id1).className, e30.id2 = ess(e30.id2).className, e30.relationTitle1 = oe.sanitizeText(e30.relationTitle1.trim(), aj()), e30.relationTitle2 = oe.sanitizeText(e30.relationTitle2.trim(), aj()), ea6.push(e30);
}, "addRelation"), esy = iM(function(e30, t10) {
  let r10 = ess(e30).className;
  ea7.get(r10).annotations.push(t10);
}, "addAnnotation"), esv = iM(function(e30, t10) {
  esl(e30);
  let r10 = ess(e30).className, n10 = ea7.get(r10);
  if ("string" == typeof t10) {
    let e31 = t10.trim();
    e31.startsWith("<<") && e31.endsWith(">>") ? n10.annotations.push(esa(e31.substring(2, e31.length - 2))) : e31.indexOf(")") > 0 ? n10.methods.push(new ea3(e31, "method")) : e31 && n10.members.push(new ea3(e31, "attribute"));
  }
}, "addMember"), esx = iM(function(e30, t10) {
  Array.isArray(t10) && (t10.reverse(), t10.forEach((t11) => esv(e30, t11)));
}, "addMembers"), esb = iM(function(e30, t10) {
  let r10 = { id: `note${ea9.length}`, class: t10, text: e30 };
  ea9.push(r10);
}, "addNote"), esk = iM(function(e30) {
  return e30.startsWith(":") && (e30 = e30.substring(1)), esa(e30.trim());
}, "cleanupLabel"), esw = iM(function(e30, t10) {
  e30.split(",").forEach(function(e31) {
    let r10 = e31;
    /\d/.exec(e31[0]) && (r10 = ea5 + r10);
    let n10 = ea7.get(r10);
    n10 && (n10.cssClasses += " " + t10);
  });
}, "setCssClass"), es_ = iM(function(e30, t10) {
  for (let r10 of e30) {
    let e31 = ea8.get(r10);
    void 0 === e31 && (e31 = { id: r10, styles: [], textStyles: [] }, ea8.set(r10, e31)), t10 && t10.forEach(function(t11) {
      if (/color/.exec(t11)) {
        let r11 = t11.replace("fill", "bgFill");
        e31.textStyles.push(r11);
      }
      e31.styles.push(t11);
    }), ea7.forEach((e32) => {
      e32.cssClasses.includes(r10) && e32.styles.push(...t10.flatMap((e33) => e33.split(",")));
    });
  }
}, "defineClass"), esT = iM(function(e30, t10) {
  e30.split(",").forEach(function(e31) {
    void 0 !== t10 && (ea7.get(e31).tooltip = esa(t10));
  });
}, "setTooltip"), esS = iM(function(e30, t10) {
  return t10 && esr.has(t10) ? esr.get(t10).classes.get(e30).tooltip : ea7.get(e30).tooltip;
}, "getTooltip"), esC = iM(function(e30, t10, r10) {
  let n10 = aj();
  e30.split(",").forEach(function(e31) {
    let i10 = e31;
    /\d/.exec(e31[0]) && (i10 = ea5 + i10);
    let a10 = ea7.get(i10);
    a10 && (a10.link = k2.formatUrl(t10, n10), "sandbox" === n10.securityLevel ? a10.linkTarget = "_top" : "string" == typeof r10 ? a10.linkTarget = esa(r10) : a10.linkTarget = "_blank");
  }), esw(e30, "clickable");
}, "setLink"), esE = iM(function(e30, t10, r10) {
  e30.split(",").forEach(function(e31) {
    esA(e31, t10, r10), ea7.get(e31).haveCallback = true;
  }), esw(e30, "clickable");
}, "setClickEvent"), esA = iM(function(e30, t10, r10) {
  let n10 = oe.sanitizeText(e30, aj());
  if ("loose" === aj().securityLevel && void 0 !== t10 && ea7.has(n10)) {
    let e31 = esh(n10), i10 = [];
    if ("string" == typeof r10) {
      i10 = r10.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
      for (let e32 = 0; e32 < i10.length; e32++) {
        let t11 = i10[e32].trim();
        t11.startsWith('"') && t11.endsWith('"') && (t11 = t11.substr(1, t11.length - 2)), i10[e32] = t11;
      }
    }
    0 === i10.length && i10.push(e31), esi.push(function() {
      let r11 = document.querySelector(`[id="${e31}"]`);
      null !== r11 && r11.addEventListener("click", function() {
        k2.runFunc(t10, ...i10);
      }, false);
    });
  }
}, "setClickFunc"), esL = iM(function(e30) {
  esi.forEach(function(t10) {
    t10(e30);
  });
}, "bindFunctions"), esI = { AGGREGATION: 0, EXTENSION: 1, COMPOSITION: 2, DEPENDENCY: 3, LOLLIPOP: 4 }, esM = iM(function(e30) {
  let t10 = c$(".mermaidTooltip");
  null === (t10._groups || t10)[0][0] && (t10 = c$("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0)), c$(e30).select("svg").selectAll("g.node").on("mouseover", function() {
    let e31 = c$(this);
    if (null === e31.attr("title")) return;
    let r10 = this.getBoundingClientRect();
    t10.transition().duration(200).style("opacity", ".9"), t10.text(e31.attr("title")).style("left", window.scrollX + r10.left + (r10.right - r10.left) / 2 + "px").style("top", window.scrollY + r10.top - 14 + document.body.scrollTop + "px"), t10.html(t10.html().replace(/&lt;br\/&gt;/g, "<br/>")), e31.classed("hover", true);
  }).on("mouseout", function() {
    t10.transition().duration(500).style("opacity", 0), c$(this).classed("hover", false);
  });
}, "setupToolTips");
esi.push(esM);
var esN = "TB", esR = iM(() => esN, "getDirection"), esD = iM((e30) => {
  esN = e30;
}, "setDirection"), esO = iM(function(e30) {
  !esr.has(e30) && (esr.set(e30, { id: e30, classes: /* @__PURE__ */ new Map(), children: {}, domId: ea5 + e30 + "-" + esn }), esn++);
}, "addNamespace"), es$ = iM(function(e30) {
  return esr.get(e30);
}, "getNamespace"), esP = iM(function() {
  return esr;
}, "getNamespaces"), esB = iM(function(e30, t10) {
  if (esr.has(e30)) for (let r10 of t10) {
    let { className: t11 } = ess(r10);
    ea7.get(t11).parent = e30, esr.get(e30).classes.set(t11, ea7.get(t11));
  }
}, "addClassesToNamespace"), esF = iM(function(e30, t10) {
  let r10 = ea7.get(e30);
  if (t10 && r10) for (let e31 of t10) e31.includes(",") ? r10.styles.push(...e31.split(",")) : r10.styles.push(e31);
}, "setCssStyle");
function esz(e30) {
  let t10;
  switch (e30) {
    case 0:
      t10 = "aggregation";
      break;
    case 1:
      t10 = "extension";
      break;
    case 2:
      t10 = "composition";
      break;
    case 3:
      t10 = "dependency";
      break;
    case 4:
      t10 = "lollipop";
      break;
    default:
      t10 = "none";
  }
  return t10;
}
iM(esz, "getArrowMarker");
var esj = iM(() => {
  var e30, t10, r10, n10;
  let i10 = [], a10 = [], s10 = aj();
  for (let t11 of esr.keys()) {
    let r11 = esr.get(t11);
    if (r11) {
      let t12 = { id: r11.id, label: r11.id, isGroup: true, padding: null !== (e30 = s10.class.padding) && void 0 !== e30 ? e30 : 16, shape: "rect", cssStyles: ["fill: none", "stroke: black"], look: s10.look };
      i10.push(t12);
    }
  }
  for (let e31 of ea7.keys()) {
    let t11 = ea7.get(e31);
    t11 && (t11.parentId = t11.parent, t11.look = s10.look, i10.push(t11));
  }
  let o10 = 0;
  for (let e31 of ea9) {
    o10++;
    let l10 = { id: e31.id, label: e31.text, isGroup: false, shape: "note", padding: null !== (r10 = s10.class.padding) && void 0 !== r10 ? r10 : 6, cssStyles: ["text-align: left", "white-space: nowrap", `fill: ${s10.themeVariables.noteBkgColor}`, `stroke: ${s10.themeVariables.noteBorderColor}`], look: s10.look };
    i10.push(l10);
    let h10 = null !== (n10 = null === (t10 = ea7.get(e31.class)) || void 0 === t10 ? void 0 : t10.id) && void 0 !== n10 ? n10 : "";
    if (h10) {
      let t11 = { id: `edgeNote${o10}`, start: e31.id, end: h10, type: "normal", thickness: "normal", classes: "relation", arrowTypeStart: "none", arrowTypeEnd: "none", arrowheadStyle: "", labelStyle: [""], style: ["fill: none"], pattern: "dotted", look: s10.look };
      a10.push(t11);
    }
  }
  for (let e31 of ese) {
    let t11 = { id: e31.id, label: e31.label, isGroup: false, shape: "rect", cssStyles: ["opacity: 0;"], look: s10.look };
    i10.push(t11);
  }
  for (let e31 of (o10 = 0, ea6)) {
    o10++;
    let t11 = { id: k5(e31.id1, e31.id2, { prefix: "id", counter: o10 }), start: e31.id1, end: e31.id2, type: "normal", label: e31.title, labelpos: "c", thickness: "normal", classes: "relation", arrowTypeStart: esz(e31.relation.type1), arrowTypeEnd: esz(e31.relation.type2), startLabelRight: "none" === e31.relationTitle1 ? "" : e31.relationTitle1, endLabelLeft: "none" === e31.relationTitle2 ? "" : e31.relationTitle2, arrowheadStyle: "", labelStyle: ["display: inline-block"], style: e31.style || "", pattern: 1 == e31.relation.lineType ? "dashed" : "solid", look: s10.look };
    a10.push(t11);
  }
  return { nodes: i10, edges: a10, other: {}, config: s10, direction: esR() };
}, "getData"), esq = { setAccTitle: of, getAccTitle: og, getAccDescription: oy, setAccDescription: om, getConfig: iM(() => aj().class, "getConfig"), addClass: esl, bindFunctions: esL, clear: esu, getClass: esd, getClasses: esp, getNotes: esg, addAnnotation: esy, addNote: esb, getRelations: esf, addRelation: esm, getDirection: esR, setDirection: esD, addMember: esv, addMembers: esx, cleanupLabel: esk, lineType: { LINE: 0, DOTTED_LINE: 1 }, relationType: esI, setClickEvent: esE, setCssClass: esw, defineClass: es_, setLink: esC, getTooltip: esS, setTooltip: esT, lookUpDomId: esh, setDiagramTitle: ov, getDiagramTitle: ox, setClassLabel: eso, addNamespace: esO, addClassesToNamespace: esB, getNamespace: es$, getNamespaces: esP, setCssStyle: esF, getData: esj }, esU = iM((e30) => `g.classGroup text {
  fill: ${e30.nodeBorder || e30.classText};
  stroke: none;
  font-family: ${e30.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e30.classText};
}
.edgeLabel .label rect {
  fill: ${e30.mainBkg};
}
.label text {
  fill: ${e30.classText};
}

.labelBkg {
  background: ${e30.mainBkg};
}
.edgeLabel .label span {
  background: ${e30.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e30.mainBkg};
    stroke: ${e30.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e30.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e30.mainBkg};
  stroke: ${e30.nodeBorder};
}

g.classGroup line {
  stroke: ${e30.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e30.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e30.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e30.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e30.lineColor} !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e30.lineColor} !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e30.lineColor} !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e30.lineColor} !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e30.mainBkg} !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e30.mainBkg} !important;
  stroke: ${e30.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e30.textColor};
}
`, "getStyles"), esW = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "TB";
  if (!e30.doc) return t10;
  let r10 = t10;
  for (let t11 of e30.doc) "dir" === t11.stmt && (r10 = t11.value);
  return r10;
}, "getDir"), esV = { getClasses: iM(function(e30, t10) {
  return t10.db.getClasses();
}, "getClasses"), draw: iM(async function(e30, t10, r10, n10) {
  var i10, a10;
  iz.info("REF0:"), iz.info("Drawing class diagram (v3)", t10);
  let { securityLevel: s10, state: o10, layout: l10 } = aj(), h10 = n10.db.getData(), u10 = jR(t10, s10);
  h10.type = n10.type, h10.layoutAlgorithm = CE(l10), h10.nodeSpacing = (null == o10 ? void 0 : o10.nodeSpacing) || 50, h10.rankSpacing = (null == o10 ? void 0 : o10.rankSpacing) || 50, h10.markers = ["aggregation", "extension", "composition", "dependency", "lollipop"], h10.diagramId = t10, await CC(h10, u10), k2.insertTitle(u10, "classDiagramTitleText", null !== (i10 = null == o10 ? void 0 : o10.titleTopMargin) && void 0 !== i10 ? i10 : 25, n10.db.getDiagramTitle()), jD(u10, 8, "classDiagram", null === (a10 = null == o10 ? void 0 : o10.useMaxWidth) || void 0 === a10 || a10);
}, "draw"), getDir: esW };
let esH = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: ea2, db: esq, renderer: esV, styles: esU, init: iM((e30) => {
  e30.class || (e30.class = {}), e30.class.arrowMarkerAbsolute = e30.arrowMarkerAbsolute, esq.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" })), esY = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: ea2, db: esq, renderer: esV, styles: esU, init: iM((e30) => {
  e30.class || (e30.class = {}), e30.class.arrowMarkerAbsolute = e30.arrowMarkerAbsolute, esq.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var esG = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 2], r10 = [1, 3], n10 = [1, 4], i10 = [2, 4], a10 = [1, 9], s10 = [1, 11], o10 = [1, 16], l10 = [1, 17], h10 = [1, 18], u10 = [1, 19], d10 = [1, 32], p10 = [1, 20], f10 = [1, 21], g10 = [1, 22], y10 = [1, 23], v10 = [1, 24], x10 = [1, 26], b10 = [1, 27], k10 = [1, 28], w10 = [1, 29], _10 = [1, 30], T10 = [1, 31], S10 = [1, 34], C10 = [1, 35], E10 = [1, 36], A10 = [1, 37], L10 = [1, 33], I10 = [1, 4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], M10 = [1, 4, 5, 14, 15, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], N10 = [4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], R10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, SPACE: 4, NL: 5, SD: 6, document: 7, line: 8, statement: 9, classDefStatement: 10, styleStatement: 11, cssClassStatement: 12, idStatement: 13, DESCR: 14, "-->": 15, HIDE_EMPTY: 16, scale: 17, WIDTH: 18, COMPOSIT_STATE: 19, STRUCT_START: 20, STRUCT_STOP: 21, STATE_DESCR: 22, AS: 23, ID: 24, FORK: 25, JOIN: 26, CHOICE: 27, CONCURRENT: 28, note: 29, notePosition: 30, NOTE_TEXT: 31, direction: 32, acc_title: 33, acc_title_value: 34, acc_descr: 35, acc_descr_value: 36, acc_descr_multiline_value: 37, classDef: 38, CLASSDEF_ID: 39, CLASSDEF_STYLEOPTS: 40, DEFAULT: 41, style: 42, STYLE_IDS: 43, STYLEDEF_STYLEOPTS: 44, class: 45, CLASSENTITY_IDS: 46, STYLECLASS: 47, direction_tb: 48, direction_bt: 49, direction_rl: 50, direction_lr: 51, eol: 52, ";": 53, EDGE_STATE: 54, STYLE_SEPARATOR: 55, left_of: 56, right_of: 57, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SPACE", 5: "NL", 6: "SD", 14: "DESCR", 15: "-->", 16: "HIDE_EMPTY", 17: "scale", 18: "WIDTH", 19: "COMPOSIT_STATE", 20: "STRUCT_START", 21: "STRUCT_STOP", 22: "STATE_DESCR", 23: "AS", 24: "ID", 25: "FORK", 26: "JOIN", 27: "CHOICE", 28: "CONCURRENT", 29: "note", 31: "NOTE_TEXT", 33: "acc_title", 34: "acc_title_value", 35: "acc_descr", 36: "acc_descr_value", 37: "acc_descr_multiline_value", 38: "classDef", 39: "CLASSDEF_ID", 40: "CLASSDEF_STYLEOPTS", 41: "DEFAULT", 42: "style", 43: "STYLE_IDS", 44: "STYLEDEF_STYLEOPTS", 45: "class", 46: "CLASSENTITY_IDS", 47: "STYLECLASS", 48: "direction_tb", 49: "direction_bt", 50: "direction_rl", 51: "direction_lr", 53: ";", 54: "EDGE_STATE", 55: "STYLE_SEPARATOR", 56: "left_of", 57: "right_of" }, productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 3], [9, 4], [9, 1], [9, 2], [9, 1], [9, 4], [9, 3], [9, 6], [9, 1], [9, 1], [9, 1], [9, 1], [9, 4], [9, 4], [9, 1], [9, 2], [9, 2], [9, 1], [10, 3], [10, 3], [11, 3], [12, 3], [32, 1], [32, 1], [32, 1], [32, 1], [52, 1], [52, 1], [13, 1], [13, 1], [13, 3], [13, 3], [30, 1], [30, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 3:
        return n11.setRootDoc(a11[o11]), a11[o11];
      case 4:
        this.$ = [];
        break;
      case 5:
        "nl" != a11[o11] && (a11[o11 - 1].push(a11[o11]), this.$ = a11[o11 - 1]);
        break;
      case 6:
      case 7:
      case 12:
        this.$ = a11[o11];
        break;
      case 8:
        this.$ = "nl";
        break;
      case 13:
        let l11 = a11[o11 - 1];
        l11.description = n11.trimColon(a11[o11]), this.$ = l11;
        break;
      case 14:
        this.$ = { stmt: "relation", state1: a11[o11 - 2], state2: a11[o11] };
        break;
      case 15:
        let h11 = n11.trimColon(a11[o11]);
        this.$ = { stmt: "relation", state1: a11[o11 - 3], state2: a11[o11 - 1], description: h11 };
        break;
      case 19:
        this.$ = { stmt: "state", id: a11[o11 - 3], type: "default", description: "", doc: a11[o11 - 1] };
        break;
      case 20:
        var u11 = a11[o11], d11 = a11[o11 - 2].trim();
        if (a11[o11].match(":")) {
          var p11 = a11[o11].split(":");
          u11 = p11[0], d11 = [d11, p11[1]];
        }
        this.$ = { stmt: "state", id: u11, type: "default", description: d11 };
        break;
      case 21:
        this.$ = { stmt: "state", id: a11[o11 - 3], type: "default", description: a11[o11 - 5], doc: a11[o11 - 1] };
        break;
      case 22:
        this.$ = { stmt: "state", id: a11[o11], type: "fork" };
        break;
      case 23:
        this.$ = { stmt: "state", id: a11[o11], type: "join" };
        break;
      case 24:
        this.$ = { stmt: "state", id: a11[o11], type: "choice" };
        break;
      case 25:
        this.$ = { stmt: "state", id: n11.getDividerId(), type: "divider" };
        break;
      case 26:
        this.$ = { stmt: "state", id: a11[o11 - 1].trim(), note: { position: a11[o11 - 2].trim(), text: a11[o11].trim() } };
        break;
      case 29:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 30:
      case 31:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 32:
      case 33:
        this.$ = { stmt: "classDef", id: a11[o11 - 1].trim(), classes: a11[o11].trim() };
        break;
      case 34:
        this.$ = { stmt: "style", id: a11[o11 - 1].trim(), styleClass: a11[o11].trim() };
        break;
      case 35:
        this.$ = { stmt: "applyClass", id: a11[o11 - 1].trim(), styleClass: a11[o11].trim() };
        break;
      case 36:
        n11.setDirection("TB"), this.$ = { stmt: "dir", value: "TB" };
        break;
      case 37:
        n11.setDirection("BT"), this.$ = { stmt: "dir", value: "BT" };
        break;
      case 38:
        n11.setDirection("RL"), this.$ = { stmt: "dir", value: "RL" };
        break;
      case 39:
        n11.setDirection("LR"), this.$ = { stmt: "dir", value: "LR" };
        break;
      case 42:
      case 43:
        this.$ = { stmt: "state", id: a11[o11].trim(), type: "default", description: "" };
        break;
      case 44:
      case 45:
        this.$ = { stmt: "state", id: a11[o11 - 2].trim(), classes: [a11[o11].trim()], type: "default", description: "" };
    }
  }, "anonymous"), table: [{ 3: 1, 4: t10, 5: r10, 6: n10 }, { 1: [3] }, { 3: 5, 4: t10, 5: r10, 6: n10 }, { 3: 6, 4: t10, 5: r10, 6: n10 }, e30([1, 4, 5, 16, 17, 19, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], i10, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: a10, 5: s10, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: o10, 17: l10, 19: h10, 22: u10, 24: d10, 25: p10, 26: f10, 27: g10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: k10, 38: w10, 42: _10, 45: T10, 48: S10, 49: C10, 50: E10, 51: A10, 54: L10 }, e30(I10, [2, 5]), { 9: 38, 10: 12, 11: 13, 12: 14, 13: 15, 16: o10, 17: l10, 19: h10, 22: u10, 24: d10, 25: p10, 26: f10, 27: g10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: k10, 38: w10, 42: _10, 45: T10, 48: S10, 49: C10, 50: E10, 51: A10, 54: L10 }, e30(I10, [2, 7]), e30(I10, [2, 8]), e30(I10, [2, 9]), e30(I10, [2, 10]), e30(I10, [2, 11]), e30(I10, [2, 12], { 14: [1, 39], 15: [1, 40] }), e30(I10, [2, 16]), { 18: [1, 41] }, e30(I10, [2, 18], { 20: [1, 42] }), { 23: [1, 43] }, e30(I10, [2, 22]), e30(I10, [2, 23]), e30(I10, [2, 24]), e30(I10, [2, 25]), { 30: 44, 31: [1, 45], 56: [1, 46], 57: [1, 47] }, e30(I10, [2, 28]), { 34: [1, 48] }, { 36: [1, 49] }, e30(I10, [2, 31]), { 39: [1, 50], 41: [1, 51] }, { 43: [1, 52] }, { 46: [1, 53] }, e30(M10, [2, 42], { 55: [1, 54] }), e30(M10, [2, 43], { 55: [1, 55] }), e30(I10, [2, 36]), e30(I10, [2, 37]), e30(I10, [2, 38]), e30(I10, [2, 39]), e30(I10, [2, 6]), e30(I10, [2, 13]), { 13: 56, 24: d10, 54: L10 }, e30(I10, [2, 17]), e30(N10, i10, { 7: 57 }), { 24: [1, 58] }, { 24: [1, 59] }, { 23: [1, 60] }, { 24: [2, 46] }, { 24: [2, 47] }, e30(I10, [2, 29]), e30(I10, [2, 30]), { 40: [1, 61] }, { 40: [1, 62] }, { 44: [1, 63] }, { 47: [1, 64] }, { 24: [1, 65] }, { 24: [1, 66] }, e30(I10, [2, 14], { 14: [1, 67] }), { 4: a10, 5: s10, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: o10, 17: l10, 19: h10, 21: [1, 68], 22: u10, 24: d10, 25: p10, 26: f10, 27: g10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: k10, 38: w10, 42: _10, 45: T10, 48: S10, 49: C10, 50: E10, 51: A10, 54: L10 }, e30(I10, [2, 20], { 20: [1, 69] }), { 31: [1, 70] }, { 24: [1, 71] }, e30(I10, [2, 32]), e30(I10, [2, 33]), e30(I10, [2, 34]), e30(I10, [2, 35]), e30(M10, [2, 44]), e30(M10, [2, 45]), e30(I10, [2, 15]), e30(I10, [2, 19]), e30(N10, i10, { 7: 72 }), e30(I10, [2, 26]), e30(I10, [2, 27]), { 4: a10, 5: s10, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: o10, 17: l10, 19: h10, 21: [1, 73], 22: u10, 24: d10, 25: p10, 26: f10, 27: g10, 28: y10, 29: v10, 32: 25, 33: x10, 35: b10, 37: k10, 38: w10, 42: _10, 45: T10, 48: S10, 49: C10, 50: E10, 51: A10, 54: L10 }, e30(I10, [2, 21])], defaultActions: { 5: [2, 1], 6: [2, 2], 46: [2, 46], 47: [2, 47] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S11, C11, E11 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A11 = "";
        for (_11 in C11 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C11.push("'" + this.terminals_[_11] + "'");
        A11 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C11.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A11, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C11 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E11.$ = i11[i11.length - T11], E11._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E11._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E11, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E11.$), a11.push(E11._$), S11 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S11);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, D10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return 41;
      case 1:
      case 42:
        return 48;
      case 2:
      case 43:
        return 49;
      case 3:
      case 44:
        return 50;
      case 4:
      case 45:
        return 51;
      case 5:
      case 6:
      case 8:
      case 9:
      case 10:
      case 11:
      case 54:
      case 56:
      case 62:
        break;
      case 7:
      case 77:
        return 5;
      case 12:
      case 32:
        return this.pushState("SCALE"), 17;
      case 13:
      case 33:
        return 18;
      case 14:
      case 20:
      case 34:
      case 49:
      case 52:
        this.popState();
        break;
      case 15:
        return this.begin("acc_title"), 33;
      case 16:
        return this.popState(), "acc_title_value";
      case 17:
        return this.begin("acc_descr"), 35;
      case 18:
        return this.popState(), "acc_descr_value";
      case 19:
        this.begin("acc_descr_multiline");
        break;
      case 21:
        return "acc_descr_multiline_value";
      case 22:
        return this.pushState("CLASSDEF"), 38;
      case 23:
        return this.popState(), this.pushState("CLASSDEFID"), "DEFAULT_CLASSDEF_ID";
      case 24:
        return this.popState(), this.pushState("CLASSDEFID"), 39;
      case 25:
        return this.popState(), 40;
      case 26:
        return this.pushState("CLASS"), 45;
      case 27:
        return this.popState(), this.pushState("CLASS_STYLE"), 46;
      case 28:
        return this.popState(), 47;
      case 29:
        return this.pushState("STYLE"), 42;
      case 30:
        return this.popState(), this.pushState("STYLEDEF_STYLES"), 43;
      case 31:
        return this.popState(), 44;
      case 35:
        this.pushState("STATE");
        break;
      case 36:
      case 39:
        return this.popState(), t11.yytext = t11.yytext.slice(0, -8).trim(), 25;
      case 37:
      case 40:
        return this.popState(), t11.yytext = t11.yytext.slice(0, -8).trim(), 26;
      case 38:
      case 41:
        return this.popState(), t11.yytext = t11.yytext.slice(0, -10).trim(), 27;
      case 46:
        this.pushState("STATE_STRING");
        break;
      case 47:
        return this.pushState("STATE_ID"), "AS";
      case 48:
      case 64:
        return this.popState(), "ID";
      case 50:
        return "STATE_DESCR";
      case 51:
        return 19;
      case 53:
        return this.popState(), this.pushState("struct"), 20;
      case 55:
        return this.popState(), 21;
      case 57:
        return this.begin("NOTE"), 29;
      case 58:
        return this.popState(), this.pushState("NOTE_ID"), 56;
      case 59:
        return this.popState(), this.pushState("NOTE_ID"), 57;
      case 60:
        this.popState(), this.pushState("FLOATING_NOTE");
        break;
      case 61:
        return this.popState(), this.pushState("FLOATING_NOTE_ID"), "AS";
      case 63:
        return "NOTE_TEXT";
      case 65:
        return this.popState(), this.pushState("NOTE_TEXT"), 24;
      case 66:
        return this.popState(), t11.yytext = t11.yytext.substr(2).trim(), 31;
      case 67:
        return this.popState(), t11.yytext = t11.yytext.slice(0, -8).trim(), 31;
      case 68:
      case 69:
        return 6;
      case 70:
        return 16;
      case 71:
        return 54;
      case 72:
        return 24;
      case 73:
        return t11.yytext = t11.yytext.trim(), 14;
      case 74:
        return 15;
      case 75:
        return 28;
      case 76:
        return 55;
      case 78:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:default\b)/i, /^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:[\s]+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:scale\s+)/i, /^(?:\d+)/i, /^(?:\s+width\b)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:classDef\s+)/i, /^(?:DEFAULT\s+)/i, /^(?:\w+\s+)/i, /^(?:[^\n]*)/i, /^(?:class\s+)/i, /^(?:(\w+)+((,\s*\w+)*))/i, /^(?:[^\n]*)/i, /^(?:style\s+)/i, /^(?:[\w,]+\s+)/i, /^(?:[^\n]*)/i, /^(?:scale\s+)/i, /^(?:\d+)/i, /^(?:\s+width\b)/i, /^(?:state\s+)/i, /^(?:.*<<fork>>)/i, /^(?:.*<<join>>)/i, /^(?:.*<<choice>>)/i, /^(?:.*\[\[fork\]\])/i, /^(?:.*\[\[join\]\])/i, /^(?:.*\[\[choice\]\])/i, /^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:["])/i, /^(?:\s*as\s+)/i, /^(?:[^\n\{]*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n\s\{]+)/i, /^(?:\n)/i, /^(?:\{)/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:\})/i, /^(?:[\n])/i, /^(?:note\s+)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:")/i, /^(?:\s*as\s*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n]*)/i, /^(?:\s*[^:\n\s\-]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:[\s\S]*?end note\b)/i, /^(?:stateDiagram\s+)/i, /^(?:stateDiagram-v2\s+)/i, /^(?:hide empty description\b)/i, /^(?:\[\*\])/i, /^(?:[^:\n\s\-\{]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:-->)/i, /^(?:--)/i, /^(?::::)/i, /^(?:$)/i, /^(?:.)/i], conditions: { LINE: { rules: [9, 10], inclusive: false }, struct: { rules: [9, 10, 22, 26, 29, 35, 42, 43, 44, 45, 54, 55, 56, 57, 71, 72, 73, 74, 75], inclusive: false }, FLOATING_NOTE_ID: { rules: [64], inclusive: false }, FLOATING_NOTE: { rules: [61, 62, 63], inclusive: false }, NOTE_TEXT: { rules: [66, 67], inclusive: false }, NOTE_ID: { rules: [65], inclusive: false }, NOTE: { rules: [58, 59, 60], inclusive: false }, STYLEDEF_STYLEOPTS: { rules: [], inclusive: false }, STYLEDEF_STYLES: { rules: [31], inclusive: false }, STYLE_IDS: { rules: [], inclusive: false }, STYLE: { rules: [30], inclusive: false }, CLASS_STYLE: { rules: [28], inclusive: false }, CLASS: { rules: [27], inclusive: false }, CLASSDEFID: { rules: [25], inclusive: false }, CLASSDEF: { rules: [23, 24], inclusive: false }, acc_descr_multiline: { rules: [20, 21], inclusive: false }, acc_descr: { rules: [18], inclusive: false }, acc_title: { rules: [16], inclusive: false }, SCALE: { rules: [13, 14, 33, 34], inclusive: false }, ALIAS: { rules: [], inclusive: false }, STATE_ID: { rules: [48], inclusive: false }, STATE_STRING: { rules: [49, 50], inclusive: false }, FORK_STATE: { rules: [], inclusive: false }, STATE: { rules: [9, 10, 36, 37, 38, 39, 40, 41, 46, 47, 51, 52, 53], inclusive: false }, ID: { rules: [9, 10], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 15, 17, 19, 22, 26, 29, 32, 35, 53, 57, 68, 69, 70, 71, 72, 73, 74, 76, 77, 78], inclusive: true } } };
  function O10() {
    this.yy = {};
  }
  return R10.lexer = D10, iM(O10, "Parser"), O10.prototype = R10, R10.Parser = O10, new O10();
}();
esG.parser = esG;
var esX = "state", esK = "relation", esZ = "default", esQ = "divider", esJ = "fill:none", es0 = "fill: #333", es1 = "text", es2 = "normal", es4 = "rect", es3 = "rectWithTitle", es5 = "divider", es6 = "roundedWithTitle", es7 = "statediagram", es8 = `${es7}-state`, es9 = "transition", eoe = `${es9} note-edge`, eot = `${es7}-note`, eor = `${es7}-cluster`, eon = `${es7}-cluster-alt`, eoi = "parent", eoa = "note", eos = "----", eoo = `${eos}${eoa}`, eol = `${eos}${eoi}`, eoc = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "TB";
  if (!e30.doc) return t10;
  let r10 = t10;
  for (let t11 of e30.doc) "dir" === t11.stmt && (r10 = t11.value);
  return r10;
}, "getDir"), eoh = iM(function(e30, t10) {
  return t10.db.extract(t10.db.getRootDocV2()), t10.db.getClasses();
}, "getClasses"), eou = iM(async function(e30, t10, r10, n10) {
  var i10, a10;
  iz.info("REF0:"), iz.info("Drawing state diagram (v2)", t10);
  let { securityLevel: s10, state: o10, layout: l10 } = aj();
  n10.db.extract(n10.db.getRootDocV2());
  let h10 = n10.db.getData(), u10 = jR(t10, s10);
  h10.type = n10.type, h10.layoutAlgorithm = l10, h10.nodeSpacing = (null == o10 ? void 0 : o10.nodeSpacing) || 50, h10.rankSpacing = (null == o10 ? void 0 : o10.rankSpacing) || 50, h10.markers = ["barb"], h10.diagramId = t10, await CC(h10, u10), k2.insertTitle(u10, "statediagramTitleText", null !== (i10 = null == o10 ? void 0 : o10.titleTopMargin) && void 0 !== i10 ? i10 : 25, n10.db.getDiagramTitle()), jD(u10, 8, es7, null === (a10 = null == o10 ? void 0 : o10.useMaxWidth) || void 0 === a10 || a10);
}, "draw"), eod = /* @__PURE__ */ new Map(), eop = 0;
function eof() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "", n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : eos, i10 = null !== r10 && r10.length > 0 ? `${n10}${r10}` : "";
  return `state-${e30}${i10}-${t10}`;
}
iM(eof, "stateDomId");
var eog = iM((e30, t10, r10, n10, i10, a10, s10, o10) => {
  iz.trace("items", t10), t10.forEach((t11) => {
    switch (t11.stmt) {
      case esX:
      case esZ:
        eob(e30, t11, r10, n10, i10, a10, s10, o10);
        break;
      case esK: {
        eob(e30, t11.state1, r10, n10, i10, a10, s10, o10), eob(e30, t11.state2, r10, n10, i10, a10, s10, o10);
        let l10 = { id: "edge" + eop, start: t11.state1.id, end: t11.state2.id, arrowhead: "normal", arrowTypeEnd: "arrow_barb", style: esJ, labelStyle: "", label: oe.sanitizeText(t11.description, aj()), arrowheadStyle: es0, labelpos: "c", labelType: es1, thickness: es2, classes: es9, look: s10 };
        i10.push(l10), eop++;
      }
    }
  });
}, "setupDoc"), eom = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "TB", r10 = t10;
  if (e30.doc) for (let t11 of e30.doc) "dir" === t11.stmt && (r10 = t11.value);
  return r10;
}, "getDir");
function eoy(e30, t10, r10) {
  if (!t10.id || "</join></fork>" === t10.id || "</choice>" === t10.id) return;
  t10.cssClasses && (Array.isArray(t10.cssCompiledStyles) || (t10.cssCompiledStyles = []), t10.cssClasses.split(" ").forEach((e31) => {
    if (r10.get(e31)) {
      let n11 = r10.get(e31);
      t10.cssCompiledStyles = [...t10.cssCompiledStyles, ...n11.styles];
    }
  }));
  let n10 = e30.find((e31) => e31.id === t10.id);
  n10 ? Object.assign(n10, t10) : e30.push(t10);
}
function eov(e30) {
  var t10, r10;
  return null !== (r10 = null == e30 ? void 0 : null === (t10 = e30.classes) || void 0 === t10 ? void 0 : t10.join(" ")) && void 0 !== r10 ? r10 : "";
}
function eox(e30) {
  var t10;
  return null !== (t10 = null == e30 ? void 0 : e30.styles) && void 0 !== t10 ? t10 : [];
}
iM(eoy, "insertOrUpdateNode"), iM(eov, "getClassesFromDbInfo"), iM(eox, "getStylesFromDbInfo");
var eob = iM((e30, t10, r10, n10, i10, a10, s10, o10) => {
  let l10 = t10.id, h10 = r10.get(l10), u10 = eov(h10), d10 = eox(h10);
  if (iz.info("dataFetcher parsedItem", t10, h10, d10), "root" !== l10) {
    var p10, f10;
    let r11 = es4;
    true === t10.start ? r11 = "stateStart" : false === t10.start && (r11 = "stateEnd"), t10.type !== esZ && (r11 = t10.type), eod.get(l10) || eod.set(l10, { id: l10, shape: r11, description: oe.sanitizeText(l10, aj()), cssClasses: `${u10} ${es8}`, cssStyles: d10 });
    let h11 = eod.get(l10);
    t10.description && (Array.isArray(h11.description) ? (h11.shape = es3, h11.description.push(t10.description)) : (null === (f10 = h11.description) || void 0 === f10 ? void 0 : f10.length) > 0 ? (h11.shape = es3, h11.description === l10 ? h11.description = [t10.description] : h11.description = [h11.description, t10.description]) : (h11.shape = es4, h11.description = t10.description), h11.description = oe.sanitizeTextOrArray(h11.description, aj())), (null === (p10 = h11.description) || void 0 === p10 ? void 0 : p10.length) === 1 && h11.shape === es3 && ("group" === h11.type ? h11.shape = es6 : h11.shape = es4), !h11.type && t10.doc && (iz.info("Setting cluster for XCX", l10, eom(t10)), h11.type = "group", h11.isGroup = true, h11.dir = eom(t10), h11.shape = t10.type === esQ ? es5 : es6, h11.cssClasses = `${h11.cssClasses} ${eor} ${a10 ? eon : ""}`);
    let g10 = { labelStyle: "", shape: h11.shape, label: h11.description, cssClasses: h11.cssClasses, cssCompiledStyles: [], cssStyles: h11.cssStyles, id: l10, dir: h11.dir, domId: eof(l10, eop), type: h11.type, isGroup: "group" === h11.type, padding: 8, rx: 10, ry: 10, look: s10 };
    if (g10.shape === es5 && (g10.label = ""), e30 && "root" !== e30.id && (iz.trace("Setting node ", l10, " to be child of its parent ", e30.id), g10.parentId = e30.id), g10.centerLabel = true, t10.note) {
      let e31 = { labelStyle: "", shape: "note", label: t10.note.text, cssClasses: eot, cssStyles: [], cssCompilesStyles: [], id: l10 + eoo + "-" + eop, domId: eof(l10, eop, eoa), type: h11.type, isGroup: "group" === h11.type, padding: aj().flowchart.padding, look: s10, position: t10.note.position }, r12 = l10 + eol, a11 = { labelStyle: "", shape: "noteGroup", label: t10.note.text, cssClasses: h11.cssClasses, cssStyles: [], id: l10 + eol, domId: eof(l10, eop, eoi), type: "group", isGroup: true, padding: 16, look: s10, position: t10.note.position };
      eop++, a11.id = r12, e31.parentId = r12, eoy(n10, a11, o10), eoy(n10, e31, o10), eoy(n10, g10, o10);
      let u11 = l10, d11 = e31.id;
      "left of" === t10.note.position && (u11 = e31.id, d11 = l10), i10.push({ id: u11 + "-" + d11, start: u11, end: d11, arrowhead: "none", arrowTypeEnd: "", style: esJ, labelStyle: "", classes: eoe, arrowheadStyle: es0, labelpos: "c", labelType: es1, thickness: es2, look: s10 });
    } else eoy(n10, g10, o10);
  }
  t10.doc && (iz.trace("Adding nodes children "), eog(t10, t10.doc, r10, n10, i10, !a10, s10, o10));
}, "dataFetcher"), eok = iM(() => {
  eod.clear(), eop = 0;
}, "reset"), eow = "start", eo_ = "color", eoT = "fill";
function eoS() {
  return /* @__PURE__ */ new Map();
}
iM(eoS, "newClassesList");
var eoC = [], eoE = [], eoA = "LR", eoL = [], eoI = eoS(), eoM = iM(() => ({ relations: [], states: /* @__PURE__ */ new Map(), documents: {} }), "newDoc"), eoN = { root: eoM() }, eoR = eoN.root, eoD = 0, eoO = 0, eo$ = iM((e30) => JSON.parse(JSON.stringify(e30)), "clone"), eoP = iM((e30) => {
  iz.info("Setting root doc", e30), eoL = e30;
}, "setRootDoc"), eoB = iM(() => eoL, "getRootDoc"), eoF = iM((e30, t10, r10) => {
  if (t10.stmt === esK) eoF(e30, t10.state1, true), eoF(e30, t10.state2, false);
  else if (t10.stmt === esX && ("[*]" === t10.id ? (t10.id = r10 ? e30.id + "_start" : e30.id + "_end", t10.start = r10) : t10.id = t10.id.trim()), t10.doc) {
    let e31;
    let r11 = [], n10 = [];
    for (e31 = 0; e31 < t10.doc.length; e31++) if (t10.doc[e31].type === esQ) {
      let i10 = eo$(t10.doc[e31]);
      i10.doc = eo$(n10), r11.push(i10), n10 = [];
    } else n10.push(t10.doc[e31]);
    if (r11.length > 0 && n10.length > 0) {
      let e32 = { stmt: esX, id: kz(), type: "divider", doc: eo$(n10) };
      r11.push(eo$(e32)), t10.doc = r11;
    }
    t10.doc.forEach((e32) => eoF(t10, e32, true));
  }
}, "docTranslator"), eoz = iM(() => (eoF({ id: "root" }, { id: "root", doc: eoL }, true), { id: "root", doc: eoL }), "getRootDocV2"), eoj = iM((e30) => {
  let t10;
  t10 = e30.doc ? e30.doc : e30, iz.info(t10), eoU(true), iz.info("Extract initial document:", t10), t10.forEach((e31) => {
    switch (iz.warn("Statement", e31.stmt), e31.stmt) {
      case esX:
        eoq(e31.id.trim(), e31.type, e31.doc, e31.description, e31.note, e31.classes, e31.styles, e31.textStyles);
        break;
      case esK:
        eoJ(e31.state1, e31.state2, e31.description);
        break;
      case "classDef":
        eo4(e31.id.trim(), e31.classes);
        break;
      case "style":
        {
          let t11 = e31.id.trim().split(","), r11 = e31.styleClass.split(",");
          t11.forEach((e32) => {
            let t12 = eoW(e32);
            if (void 0 === t12) {
              let r12 = e32.trim();
              eoq(r12), t12 = eoW(r12);
            }
            t12.styles = r11.map((e33) => {
              var t13;
              return null === (t13 = e33.replace(/;/g, "")) || void 0 === t13 ? void 0 : t13.trim();
            });
          });
        }
        break;
      case "applyClass":
        eo5(e31.id.trim(), e31.styleClass);
    }
  });
  let r10 = eoV(), n10 = aj().look;
  eok(), eob(void 0, eoz(), r10, eoC, eoE, true, n10, eoI), eoC.forEach((e31) => {
    if (Array.isArray(e31.label)) {
      if (e31.description = e31.label.slice(1), e31.isGroup && e31.description.length > 0) throw Error("Group nodes can only have label. Remove the additional description for node [" + e31.id + "]");
      e31.label = e31.label[0];
    }
  });
}, "extract"), eoq = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : esZ, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null, i10 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null, a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null, s10 = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : null, o10 = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : null, l10 = null == e30 ? void 0 : e30.trim();
  if (eoR.states.has(l10) ? (eoR.states.get(l10).doc || (eoR.states.get(l10).doc = r10), eoR.states.get(l10).type || (eoR.states.get(l10).type = t10)) : (iz.info("Adding state ", l10, n10), eoR.states.set(l10, { id: l10, descriptions: [], type: t10, doc: r10, note: i10, classes: [], styles: [], textStyles: [] })), n10 && (iz.info("Setting state description", l10, n10), "string" == typeof n10 && eo0(l10, n10.trim()), "object" == typeof n10 && n10.forEach((e31) => eo0(l10, e31.trim()))), i10) {
    let e31 = eoR.states.get(l10);
    e31.note = i10, e31.note.text = oe.sanitizeText(e31.note.text, aj());
  }
  a10 && (iz.info("Setting state classes", l10, a10), ("string" == typeof a10 ? [a10] : a10).forEach((e31) => eo5(l10, e31.trim()))), s10 && (iz.info("Setting state styles", l10, s10), ("string" == typeof s10 ? [s10] : s10).forEach((e31) => eo6(l10, e31.trim()))), o10 && (iz.info("Setting state styles", l10, s10), ("string" == typeof o10 ? [o10] : o10).forEach((e31) => eo7(l10, e31.trim())));
}, "addState"), eoU = iM(function(e30) {
  eoC = [], eoE = [], eoR = (eoN = { root: eoM() }).root, eoD = 0, eoI = eoS(), e30 || op();
}, "clear"), eoW = iM(function(e30) {
  return eoR.states.get(e30);
}, "getState"), eoV = iM(function() {
  return eoR.states;
}, "getStates"), eoH = iM(function() {
  iz.info("Documents = ", eoN);
}, "logDocuments"), eoY = iM(function() {
  return eoR.relations;
}, "getRelations");
function eoG() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t10 = e30;
  return "[*]" === e30 && (eoD++, t10 = `${eow}${eoD}`), t10;
}
function eoX() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : esZ;
  return "[*]" === e30 ? eow : t10;
}
function eoK() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t10 = e30;
  return "[*]" === e30 && (eoD++, t10 = `end${eoD}`), t10;
}
function eoZ() {
  let e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : esZ;
  return "[*]" === e30 ? "end" : t10;
}
function eoQ(e30, t10, r10) {
  let n10 = eoG(e30.id.trim()), i10 = eoX(e30.id.trim(), e30.type), a10 = eoG(t10.id.trim()), s10 = eoX(t10.id.trim(), t10.type);
  eoq(n10, i10, e30.doc, e30.description, e30.note, e30.classes, e30.styles, e30.textStyles), eoq(a10, s10, t10.doc, t10.description, t10.note, t10.classes, t10.styles, t10.textStyles), eoR.relations.push({ id1: n10, id2: a10, relationTitle: oe.sanitizeText(r10, aj()) });
}
iM(eoG, "startIdIfNeeded"), iM(eoX, "startTypeIfNeeded"), iM(eoK, "endIdIfNeeded"), iM(eoZ, "endTypeIfNeeded"), iM(eoQ, "addRelationObjs");
var eoJ = iM(function(e30, t10, r10) {
  if ("object" == typeof e30) eoQ(e30, t10, r10);
  else {
    let n10 = eoG(e30.trim()), i10 = eoX(e30), a10 = eoK(t10.trim()), s10 = eoZ(t10);
    eoq(n10, i10), eoq(a10, s10), eoR.relations.push({ id1: n10, id2: a10, title: oe.sanitizeText(r10, aj()) });
  }
}, "addRelation"), eo0 = iM(function(e30, t10) {
  let r10 = eoR.states.get(e30), n10 = t10.startsWith(":") ? t10.replace(":", "").trim() : t10;
  r10.descriptions.push(oe.sanitizeText(n10, aj()));
}, "addDescription"), eo1 = iM(function(e30) {
  return ":" === e30.substring(0, 1) ? e30.substr(2).trim() : e30.trim();
}, "cleanupLabel"), eo2 = iM(() => "divider-id-" + ++eoO, "getDividerId"), eo4 = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
  eoI.has(e30) || eoI.set(e30, { id: e30, styles: [], textStyles: [] });
  let r10 = eoI.get(e30);
  null != t10 && t10.split(",").forEach((e31) => {
    let t11 = e31.replace(/([^;]*);/, "$1").trim();
    if (RegExp(eo_).exec(e31)) {
      let e32 = t11.replace(eoT, "bgFill").replace(eo_, eoT);
      r10.textStyles.push(e32);
    }
    r10.styles.push(t11);
  });
}, "addStyleClass"), eo3 = iM(function() {
  return eoI;
}, "getClasses"), eo5 = iM(function(e30, t10) {
  e30.split(",").forEach(function(e31) {
    let r10 = eoW(e31);
    if (void 0 === r10) {
      let t11 = e31.trim();
      eoq(t11), r10 = eoW(t11);
    }
    r10.classes.push(t10);
  });
}, "setCssClass"), eo6 = iM(function(e30, t10) {
  let r10 = eoW(e30);
  void 0 !== r10 && r10.styles.push(t10);
}, "setStyle"), eo7 = iM(function(e30, t10) {
  let r10 = eoW(e30);
  void 0 !== r10 && r10.textStyles.push(t10);
}, "setTextStyle"), eo8 = iM(() => eoA, "getDirection"), eo9 = iM((e30) => {
  eoA = e30;
}, "setDirection"), ele = iM((e30) => e30 && ":" === e30[0] ? e30.substr(1).trim() : e30.trim(), "trimColon"), elt = iM(() => {
  let e30 = aj();
  return { nodes: eoC, edges: eoE, other: {}, config: e30, direction: eoc(eoz()) };
}, "getData"), elr = { getConfig: iM(() => aj().state, "getConfig"), getData: elt, addState: eoq, clear: eoU, getState: eoW, getStates: eoV, getRelations: eoY, getClasses: eo3, getDirection: eo8, addRelation: eoJ, getDividerId: eo2, setDirection: eo9, cleanupLabel: eo1, lineType: { LINE: 0, DOTTED_LINE: 1 }, relationType: { AGGREGATION: 0, EXTENSION: 1, COMPOSITION: 2, DEPENDENCY: 3 }, logDocuments: eoH, getRootDoc: eoB, setRootDoc: eoP, getRootDocV2: eoz, extract: eoj, trimColon: ele, getAccTitle: og, setAccTitle: of, getAccDescription: oy, setAccDescription: om, addStyleClass: eo4, setCssClass: eo5, addDescription: eo0, setDiagramTitle: ov, getDiagramTitle: ox }, eln = iM((e30) => `
defs #statediagram-barbEnd {
    fill: ${e30.transitionColor};
    stroke: ${e30.transitionColor};
  }
g.stateGroup text {
  fill: ${e30.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e30.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e30.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e30.mainBkg};
  stroke: ${e30.nodeBorder};
}

g.stateGroup line {
  stroke: ${e30.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e30.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e30.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e30.noteBorderColor};
  fill: ${e30.noteBkgColor};

  text {
    fill: ${e30.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e30.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e30.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e30.edgeLabelBackground};
  p {
    background-color: ${e30.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e30.edgeLabelBackground};
    fill: ${e30.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e30.transitionLabelColor || e30.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e30.transitionLabelColor || e30.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e30.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e30.specialStateColor};
  stroke: ${e30.specialStateColor};
}

.node .fork-join {
  fill: ${e30.specialStateColor};
  stroke: ${e30.specialStateColor};
}

.node circle.state-end {
  fill: ${e30.innerEndBackground};
  stroke: ${e30.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e30.compositeBackground || e30.background};
  // stroke: ${e30.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e30.stateBkg || e30.mainBkg};
  stroke: ${e30.stateBorder || e30.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e30.mainBkg};
  stroke: ${e30.stateBorder || e30.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e30.lineColor};
}

.statediagram-cluster rect {
  fill: ${e30.compositeTitleBackground};
  stroke: ${e30.stateBorder || e30.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e30.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e30.stateBorder || e30.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e30.compositeBackground || e30.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e30.altBackground ? e30.altBackground : "#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e30.altBackground ? e30.altBackground : "#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e30.noteBkgColor};
  stroke: ${e30.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e30.noteBkgColor};
  stroke: ${e30.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e30.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e30.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e30.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e30.lineColor};
  stroke: ${e30.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e30.textColor};
}
`, "getStyles"), eli = {}, ela = iM((e30, t10) => {
  eli[e30] = t10;
}, "set"), els = ((e30) => eli[e30], iM(() => Object.keys(eli), "keys")), elo = (() => els().length, iM((e30) => e30.append("circle").attr("class", "start-state").attr("r", aj().state.sizeUnit).attr("cx", aj().state.padding + aj().state.sizeUnit).attr("cy", aj().state.padding + aj().state.sizeUnit), "drawStartState")), ell = iM((e30) => e30.append("line").style("stroke", "grey").style("stroke-dasharray", "3").attr("x1", aj().state.textHeight).attr("class", "divider").attr("x2", 2 * aj().state.textHeight).attr("y1", 0).attr("y2", 0), "drawDivider"), elc = iM((e30, t10) => {
  let r10 = e30.append("text").attr("x", 2 * aj().state.padding).attr("y", aj().state.textHeight + 2 * aj().state.padding).attr("font-size", aj().state.fontSize).attr("class", "state-title").text(t10.id), n10 = r10.node().getBBox();
  return e30.insert("rect", ":first-child").attr("x", aj().state.padding).attr("y", aj().state.padding).attr("width", n10.width + 2 * aj().state.padding).attr("height", n10.height + 2 * aj().state.padding).attr("rx", aj().state.radius), r10;
}, "drawSimpleState"), elh = iM((e30, t10) => {
  let r10 = iM(function(e31, t11, r11) {
    let n11 = e31.append("tspan").attr("x", 2 * aj().state.padding).text(t11);
    r11 || n11.attr("dy", aj().state.textHeight);
  }, "addTspan"), n10 = e30.append("text").attr("x", 2 * aj().state.padding).attr("y", aj().state.textHeight + 1.3 * aj().state.padding).attr("font-size", aj().state.fontSize).attr("class", "state-title").text(t10.descriptions[0]).node().getBBox(), i10 = n10.height, a10 = e30.append("text").attr("x", aj().state.padding).attr("y", i10 + 0.4 * aj().state.padding + aj().state.dividerMargin + aj().state.textHeight).attr("class", "state-description"), s10 = true, o10 = true;
  t10.descriptions.forEach(function(e31) {
    s10 || (r10(a10, e31, o10), o10 = false), s10 = false;
  });
  let l10 = e30.append("line").attr("x1", aj().state.padding).attr("y1", aj().state.padding + i10 + aj().state.dividerMargin / 2).attr("y2", aj().state.padding + i10 + aj().state.dividerMargin / 2).attr("class", "descr-divider"), h10 = a10.node().getBBox(), u10 = Math.max(h10.width, n10.width);
  return l10.attr("x2", u10 + 3 * aj().state.padding), e30.insert("rect", ":first-child").attr("x", aj().state.padding).attr("y", aj().state.padding).attr("width", u10 + 2 * aj().state.padding).attr("height", h10.height + i10 + 2 * aj().state.padding).attr("rx", aj().state.radius), e30;
}, "drawDescrState"), elu = iM((e30, t10, r10) => {
  let n10;
  let i10 = aj().state.padding, a10 = 2 * aj().state.padding, s10 = e30.node().getBBox(), o10 = s10.width, l10 = s10.x, h10 = e30.append("text").attr("x", 0).attr("y", aj().state.titleShift).attr("font-size", aj().state.fontSize).attr("class", "state-title").text(t10.id), u10 = h10.node().getBBox().width + a10, d10 = Math.max(u10, o10);
  d10 === o10 && (d10 += a10);
  let p10 = e30.node().getBBox();
  t10.doc, n10 = l10 - i10, u10 > o10 && (n10 = (o10 - d10) / 2 + i10), Math.abs(l10 - p10.x) < i10 && u10 > o10 && (n10 = l10 - (u10 - o10) / 2);
  let f10 = 1 - aj().state.textHeight;
  return e30.insert("rect", ":first-child").attr("x", n10).attr("y", f10).attr("class", r10 ? "alt-composit" : "composit").attr("width", d10).attr("height", p10.height + aj().state.textHeight + aj().state.titleShift + 1).attr("rx", "0"), h10.attr("x", n10 + i10), u10 <= o10 && h10.attr("x", l10 + (d10 - a10) / 2 - u10 / 2 + i10), e30.insert("rect", ":first-child").attr("x", n10).attr("y", aj().state.titleShift - aj().state.textHeight - aj().state.padding).attr("width", d10).attr("height", 3 * aj().state.textHeight).attr("rx", aj().state.radius), e30.insert("rect", ":first-child").attr("x", n10).attr("y", aj().state.titleShift - aj().state.textHeight - aj().state.padding).attr("width", d10).attr("height", p10.height + 3 + 2 * aj().state.textHeight).attr("rx", aj().state.radius), e30;
}, "addTitleAndBox"), eld = iM((e30) => (e30.append("circle").attr("class", "end-state-outer").attr("r", aj().state.sizeUnit + aj().state.miniPadding).attr("cx", aj().state.padding + aj().state.sizeUnit + aj().state.miniPadding).attr("cy", aj().state.padding + aj().state.sizeUnit + aj().state.miniPadding), e30.append("circle").attr("class", "end-state-inner").attr("r", aj().state.sizeUnit).attr("cx", aj().state.padding + aj().state.sizeUnit + 2).attr("cy", aj().state.padding + aj().state.sizeUnit + 2)), "drawEndState"), elp = iM((e30, t10) => {
  let r10 = aj().state.forkWidth, n10 = aj().state.forkHeight;
  if (t10.parentId) {
    let e31 = r10;
    r10 = n10, n10 = e31;
  }
  return e30.append("rect").style("stroke", "black").style("fill", "black").attr("width", r10).attr("height", n10).attr("x", aj().state.padding).attr("y", aj().state.padding);
}, "drawForkJoinState"), elf = iM((e30, t10, r10, n10) => {
  let i10 = 0, a10 = n10.append("text");
  a10.style("text-anchor", "start"), a10.attr("class", "noteText");
  let s10 = e30.replace(/\r\n/g, "<br/>"), o10 = (s10 = s10.replace(/\n/g, "<br/>")).split(oe.lineBreakRegex), l10 = 1.25 * aj().state.noteMargin;
  for (let e31 of o10) {
    let n11 = e31.trim();
    if (n11.length > 0) {
      let e32 = a10.append("tspan");
      e32.text(n11), 0 === l10 && (l10 += e32.node().getBBox().height), i10 += l10, e32.attr("x", t10 + aj().state.noteMargin), e32.attr("y", r10 + i10 + 1.25 * aj().state.noteMargin);
    }
  }
  return { textWidth: a10.node().getBBox().width, textHeight: i10 };
}, "_drawLongText"), elg = iM((e30, t10) => {
  t10.attr("class", "state-note");
  let r10 = t10.append("rect").attr("x", 0).attr("y", aj().state.padding), { textWidth: n10, textHeight: i10 } = elf(e30, 0, 0, t10.append("g"));
  return r10.attr("height", i10 + 2 * aj().state.noteMargin), r10.attr("width", n10 + 2 * aj().state.noteMargin), r10;
}, "drawNote"), elm = iM(function(e30, t10) {
  let r10 = t10.id, n10 = { id: r10, label: t10.id, width: 0, height: 0 }, i10 = e30.append("g").attr("id", r10).attr("class", "stateGroup");
  "start" === t10.type && elo(i10), "end" === t10.type && eld(i10), ("fork" === t10.type || "join" === t10.type) && elp(i10, t10), "note" === t10.type && elg(t10.note.text, i10), "divider" === t10.type && ell(i10), "default" === t10.type && 0 === t10.descriptions.length && elc(i10, t10), "default" === t10.type && t10.descriptions.length > 0 && elh(i10, t10);
  let a10 = i10.node().getBBox();
  return n10.width = a10.width + 2 * aj().state.padding, n10.height = a10.height + 2 * aj().state.padding, ela(r10, n10), n10;
}, "drawState"), ely = 0, elv = iM(function(e30, t10, r10) {
  let n10 = iM(function(e31) {
    switch (e31) {
      case elr.relationType.AGGREGATION:
        return "aggregation";
      case elr.relationType.EXTENSION:
        return "extension";
      case elr.relationType.COMPOSITION:
        return "composition";
      case elr.relationType.DEPENDENCY:
        return "dependency";
    }
  }, "getRelationType");
  t10.points = t10.points.filter((e31) => !Number.isNaN(e31.y));
  let i10 = t10.points, a10 = p4().x(function(e31) {
    return e31.x;
  }).y(function(e31) {
    return e31.y;
  }).curve(fr), s10 = e30.append("path").attr("d", a10(i10)).attr("id", "edge" + ely).attr("class", "transition"), o10 = "";
  if (aj().state.arrowMarkerAbsolute && (o10 = (o10 = (o10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), s10.attr("marker-end", "url(" + o10 + "#" + n10(elr.relationType.DEPENDENCY) + "End)"), void 0 !== r10.title) {
    let n11 = e30.append("g").attr("class", "stateLabel"), { x: i11, y: a11 } = k2.calcLabelPosition(t10.points), s11 = oe.getRows(r10.title), o11 = 0, l10 = [], h10 = 0, u10 = 0;
    for (let e31 = 0; e31 <= s11.length; e31++) {
      let t11 = n11.append("text").attr("text-anchor", "middle").text(s11[e31]).attr("x", i11).attr("y", a11 + o11), r11 = t11.node().getBBox();
      h10 = Math.max(h10, r11.width), u10 = Math.min(u10, r11.x), iz.info(r11.x, i11, a11 + o11), 0 === o11 && (o11 = t11.node().getBBox().height, iz.info("Title height", o11, a11)), l10.push(t11);
    }
    let d10 = o11 * s11.length;
    if (s11.length > 1) {
      let e31 = (s11.length - 1) * o11 * 0.5;
      l10.forEach((t11, r11) => t11.attr("y", a11 + r11 * o11 - e31)), d10 = o11 * s11.length;
    }
    let p10 = n11.node().getBBox();
    n11.insert("rect", ":first-child").attr("class", "box").attr("x", i11 - h10 / 2 - aj().state.padding / 2).attr("y", a11 - d10 / 2 - aj().state.padding / 2 - 3.5).attr("width", h10 + aj().state.padding).attr("height", d10 + aj().state.padding), iz.info(p10);
  }
  ely++;
}, "drawEdge"), elx = {}, elb = iM(function() {
}, "setConf"), elk = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "dependencyEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
}, "insertMarkers"), elw = iM(function(e30, t10, r10, n10) {
  let i10;
  nJ = aj().state;
  let a10 = aj().securityLevel;
  "sandbox" === a10 && (i10 = c$("#i" + t10));
  let s10 = "sandbox" === a10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body"), o10 = "sandbox" === a10 ? i10.nodes()[0].contentDocument : document;
  iz.debug("Rendering diagram " + e30);
  let l10 = s10.select(`[id='${t10}']`);
  elk(l10), elT(n10.db.getRootDoc(), l10, void 0, false, s10, o10, n10);
  let h10 = nJ.padding, u10 = l10.node().getBBox(), d10 = u10.width + 2 * h10, p10 = u10.height + 2 * h10;
  on(l10, p10, 1.75 * d10, nJ.useMaxWidth), l10.attr("viewBox", `${u10.x - nJ.padding}  ${u10.y - nJ.padding} ` + d10 + " " + p10);
}, "draw"), el_ = iM((e30) => e30 ? e30.length * nJ.fontSizeFactor : 1, "getLabelWidth"), elT = iM((e30, t10, r10, n10, i10, a10, s10) => {
  let o10;
  let l10 = new PV({ compound: true, multigraph: true }), h10 = true;
  for (o10 = 0; o10 < e30.length; o10++) if ("relation" === e30[o10].stmt) {
    h10 = false;
    break;
  }
  r10 ? l10.setGraph({ rankdir: "LR", multigraph: true, compound: true, ranker: "tight-tree", ranksep: h10 ? 1 : nJ.edgeLengthFactor, nodeSep: h10 ? 1 : 50, isMultiGraph: true }) : l10.setGraph({ rankdir: "TB", multigraph: true, compound: true, ranksep: h10 ? 1 : nJ.edgeLengthFactor, nodeSep: h10 ? 1 : 50, ranker: "tight-tree", isMultiGraph: true }), l10.setDefaultEdgeLabel(function() {
    return {};
  }), s10.db.extract(e30);
  let u10 = s10.db.getStates(), d10 = s10.db.getRelations();
  for (let e31 of Object.keys(u10)) {
    let o11;
    let h11 = u10[e31];
    if (r10 && (h11.parentId = r10), h11.doc) {
      let e32 = t10.append("g").attr("id", h11.id).attr("class", "stateGroup");
      o11 = elT(h11.doc, e32, h11.id, !n10, i10, a10, s10);
      {
        let t11 = (e32 = elu(e32, h11, n10)).node().getBBox();
        o11.width = t11.width, o11.height = t11.height + nJ.padding / 2, elx[h11.id] = { y: nJ.compositTitleSize };
      }
    } else o11 = elm(t10, h11, l10);
    if (h11.note) {
      let e32 = elm(t10, { descriptions: [], id: h11.id + "-note", note: h11.note, type: "note" }, l10);
      "left of" === h11.note.position ? (l10.setNode(o11.id + "-note", e32), l10.setNode(o11.id, o11)) : (l10.setNode(o11.id, o11), l10.setNode(o11.id + "-note", e32)), l10.setParent(o11.id, o11.id + "-group"), l10.setParent(o11.id + "-note", o11.id + "-group");
    } else l10.setNode(o11.id, o11);
  }
  iz.debug("Count=", l10.nodeCount(), l10);
  let p10 = 0;
  d10.forEach(function(e31) {
    p10++, iz.debug("Setting edge", e31), l10.setEdge(e31.id1, e31.id2, { relation: e31, width: el_(e31.title), height: nJ.labelHeight * oe.getRows(e31.title).length, labelpos: "c" }, "id" + p10);
  }), FN(l10), iz.debug("Graph after layout", l10.nodes());
  let f10 = t10.node();
  l10.nodes().forEach(function(e31) {
    void 0 !== e31 && void 0 !== l10.node(e31) ? (iz.warn("Node " + e31 + ": " + JSON.stringify(l10.node(e31))), i10.select("#" + f10.id + " #" + e31).attr("transform", "translate(" + (l10.node(e31).x - l10.node(e31).width / 2) + "," + (l10.node(e31).y + (elx[e31] ? elx[e31].y : 0) - l10.node(e31).height / 2) + " )"), i10.select("#" + f10.id + " #" + e31).attr("data-x-shift", l10.node(e31).x - l10.node(e31).width / 2), a10.querySelectorAll("#" + f10.id + " #" + e31 + " .divider").forEach((e32) => {
      let t11 = e32.parentElement, r11 = 0, n11 = 0;
      t11 && (t11.parentElement && (r11 = t11.parentElement.getBBox().width), Number.isNaN(n11 = parseInt(t11.getAttribute("data-x-shift"), 10)) && (n11 = 0)), e32.setAttribute("x1", 0 - n11 + 8), e32.setAttribute("x2", r11 - n11 - 8);
    })) : iz.debug("No Node " + e31 + ": " + JSON.stringify(l10.node(e31)));
  });
  let g10 = f10.getBBox();
  l10.edges().forEach(function(e31) {
    void 0 !== e31 && void 0 !== l10.edge(e31) && (iz.debug("Edge " + e31.v + " -> " + e31.w + ": " + JSON.stringify(l10.edge(e31))), elv(t10, l10.edge(e31), l10.edge(e31).relation));
  }), g10 = f10.getBBox();
  let y10 = { id: r10 || "root", label: r10 || "root", width: 0, height: 0 };
  return y10.width = g10.width + 2 * nJ.padding, y10.height = g10.height + 2 * nJ.padding, iz.debug("Doc rendered", y10, l10), y10;
}, "renderDoc");
let elS = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: esG, db: elr, renderer: { setConf: elb, draw: elw }, styles: eln, init: iM((e30) => {
  e30.state || (e30.state = {}), e30.state.arrowMarkerAbsolute = e30.arrowMarkerAbsolute, elr.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" })), elC = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: esG, db: elr, renderer: { getClasses: eoh, draw: eou, getDir: eoc }, styles: eln, init: iM((e30) => {
  e30.state || (e30.state = {}), e30.state.arrowMarkerAbsolute = e30.arrowMarkerAbsolute, elr.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var elE = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [6, 8, 10, 11, 12, 14, 16, 17, 18], r10 = [1, 9], n10 = [1, 10], i10 = [1, 11], a10 = [1, 12], s10 = [1, 13], o10 = [1, 14], l10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, journey: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NEWLINE: 10, title: 11, acc_title: 12, acc_title_value: 13, acc_descr: 14, acc_descr_value: 15, acc_descr_multiline_value: 16, section: 17, taskName: 18, taskData: 19, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "journey", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 11: "title", 12: "acc_title", 13: "acc_title_value", 14: "acc_descr", 15: "acc_descr_value", 16: "acc_descr_multiline_value", 17: "section", 18: "taskName", 19: "taskData" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 2]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 1:
        return a11[o11 - 1];
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[o11 - 1].push(a11[o11]), this.$ = a11[o11 - 1];
        break;
      case 4:
      case 5:
        this.$ = a11[o11];
        break;
      case 8:
        n11.setDiagramTitle(a11[o11].substr(6)), this.$ = a11[o11].substr(6);
        break;
      case 9:
        this.$ = a11[o11].trim(), n11.setAccTitle(this.$);
        break;
      case 10:
      case 11:
        this.$ = a11[o11].trim(), n11.setAccDescription(this.$);
        break;
      case 12:
        n11.addSection(a11[o11].substr(8)), this.$ = a11[o11].substr(8);
        break;
      case 13:
        n11.addTask(a11[o11 - 1], a11[o11]), this.$ = "task";
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, e30(t10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: r10, 12: n10, 14: i10, 16: a10, 17: s10, 18: o10 }, e30(t10, [2, 7], { 1: [2, 1] }), e30(t10, [2, 3]), { 9: 15, 11: r10, 12: n10, 14: i10, 16: a10, 17: s10, 18: o10 }, e30(t10, [2, 5]), e30(t10, [2, 6]), e30(t10, [2, 8]), { 13: [1, 16] }, { 15: [1, 17] }, e30(t10, [2, 11]), e30(t10, [2, 12]), { 19: [1, 18] }, e30(t10, [2, 4]), e30(t10, [2, 9]), e30(t10, [2, 10]), e30(t10, [2, 13])], defaultActions: {}, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d10 = Object.create(this.lexer), p10 = { yy: {} };
    for (var f10 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f10) && (p10.yy[f10] = this.yy[f10]);
    d10.setInput(e31, p10.yy), p10.yy.lexer = d10, p10.yy.parser = this, void 0 === d10.yylloc && (d10.yylloc = {});
    var g10 = d10.yylloc;
    a11.push(g10);
    var y10 = d10.options && d10.options.ranges;
    function v10() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d10.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p10.yy.parseError ? this.parseError = p10.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v10, "lex");
    for (var x10, b10, k10, w10, _10, T10, S10, C10, E10 = {}; ; ) {
      if (b10 = r11[r11.length - 1], this.defaultActions[b10] ? k10 = this.defaultActions[b10] : (null == x10 && (x10 = v10()), k10 = s11[b10] && s11[b10][x10]), void 0 === k10 || !k10.length || !k10[0]) {
        var A10 = "";
        for (_10 in C10 = [], s11[b10]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d10.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d10.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x10] || x10) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x10 ? "end of input" : "'" + (this.terminals_[x10] || x10) + "'"), this.parseError(A10, { text: d10.match, token: this.terminals_[x10] || x10, line: d10.yylineno, loc: g10, expected: C10 });
      }
      if (k10[0] instanceof Array && k10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b10 + ", token: " + x10);
      switch (k10[0]) {
        case 1:
          r11.push(x10), i11.push(d10.yytext), a11.push(d10.yylloc), r11.push(k10[1]), x10 = null, h11 = d10.yyleng, o11 = d10.yytext, l11 = d10.yylineno, g10 = d10.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[k10[1]][1], E10.$ = i11[i11.length - T10], E10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y10 && (E10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w10 = this.performAction.apply(E10, [o11, h11, l11, p10.yy, k10[1], i11, a11].concat(u11)))) return w10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), i11 = i11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[k10[1]][0]), i11.push(E10.$), a11.push(E10._$), S10 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, h10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
      case 1:
      case 3:
      case 4:
        break;
      case 2:
        return 10;
      case 5:
        return 4;
      case 6:
        return 11;
      case 7:
        return this.begin("acc_title"), 12;
      case 8:
        return this.popState(), "acc_title_value";
      case 9:
        return this.begin("acc_descr"), 14;
      case 10:
        return this.popState(), "acc_descr_value";
      case 11:
        this.begin("acc_descr_multiline");
        break;
      case 12:
        this.popState();
        break;
      case 13:
        return "acc_descr_multiline_value";
      case 14:
        return 17;
      case 15:
        return 18;
      case 16:
        return 19;
      case 17:
        return ":";
      case 18:
        return 6;
      case 19:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:journey\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:section\s[^#:\n;]+)/i, /^(?:[^#:\n;]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [12, 13], inclusive: false }, acc_descr: { rules: [10], inclusive: false }, acc_title: { rules: [8], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 19], inclusive: true } } };
  function u10() {
    this.yy = {};
  }
  return l10.lexer = h10, iM(u10, "Parser"), u10.prototype = l10, l10.Parser = u10, new u10();
}();
elE.parser = elE;
var elA = "", elL = [], elI = [], elM = [], elN = iM(function() {
  elL.length = 0, elI.length = 0, elA = "", elM.length = 0, op();
}, "clear"), elR = iM(function(e30) {
  elA = e30, elL.push(e30);
}, "addSection"), elD = iM(function() {
  return elL;
}, "getSections"), elO = iM(function() {
  let e30 = elF(), t10 = 0;
  for (; !e30 && t10 < 100; ) e30 = elF(), t10++;
  return elI.push(...elM), elI;
}, "getTasks"), el$ = iM(function() {
  let e30 = [];
  return elI.forEach((t10) => {
    t10.people && e30.push(...t10.people);
  }), [...new Set(e30)].sort();
}, "updateActors"), elP = iM(function(e30, t10) {
  let r10 = t10.substr(1).split(":"), n10 = 0, i10 = [];
  1 === r10.length ? (n10 = Number(r10[0]), i10 = []) : (n10 = Number(r10[0]), i10 = r10[1].split(","));
  let a10 = i10.map((e31) => e31.trim()), s10 = { section: elA, type: elA, people: a10, task: e30, score: n10 };
  elM.push(s10);
}, "addTask"), elB = iM(function(e30) {
  let t10 = { section: elA, type: elA, description: e30, task: e30, classes: [] };
  elI.push(t10);
}, "addTaskOrg"), elF = iM(function() {
  let e30 = iM(function(e31) {
    return elM[e31].processed;
  }, "compileTask"), t10 = true;
  for (let [r10, n10] of elM.entries()) e30(r10), t10 = t10 && n10.processed;
  return t10;
}, "compileTasks"), elz = iM(function() {
  return el$();
}, "getActors"), elj = { getConfig: iM(() => aj().journey, "getConfig"), clear: elN, setDiagramTitle: ov, getDiagramTitle: ox, setAccTitle: of, getAccTitle: og, setAccDescription: om, getAccDescription: oy, addSection: elR, getSections: elD, getTasks: elO, addTask: elP, addTaskOrg: elB, getActors: elz }, elq = iM((e30) => `.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e30.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e30.textColor}
  }

  .legend {
    fill: ${e30.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e30.textColor}
  }

  .face {
    ${e30.faceColor ? `fill: ${e30.faceColor}` : "fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e30.mainBkg};
    stroke: ${e30.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e30.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e30.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e30.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e30.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e30.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e30.tertiaryColor};
    border: 1px solid ${e30.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e30.fillType0 ? `fill: ${e30.fillType0}` : ""};
  }
  .task-type-1, .section-type-1  {
    ${e30.fillType0 ? `fill: ${e30.fillType1}` : ""};
  }
  .task-type-2, .section-type-2  {
    ${e30.fillType0 ? `fill: ${e30.fillType2}` : ""};
  }
  .task-type-3, .section-type-3  {
    ${e30.fillType0 ? `fill: ${e30.fillType3}` : ""};
  }
  .task-type-4, .section-type-4  {
    ${e30.fillType0 ? `fill: ${e30.fillType4}` : ""};
  }
  .task-type-5, .section-type-5  {
    ${e30.fillType0 ? `fill: ${e30.fillType5}` : ""};
  }
  .task-type-6, .section-type-6  {
    ${e30.fillType0 ? `fill: ${e30.fillType6}` : ""};
  }
  .task-type-7, .section-type-7  {
    ${e30.fillType0 ? `fill: ${e30.fillType7}` : ""};
  }

  .actor-0 {
    ${e30.actor0 ? `fill: ${e30.actor0}` : ""};
  }
  .actor-1 {
    ${e30.actor1 ? `fill: ${e30.actor1}` : ""};
  }
  .actor-2 {
    ${e30.actor2 ? `fill: ${e30.actor2}` : ""};
  }
  .actor-3 {
    ${e30.actor3 ? `fill: ${e30.actor3}` : ""};
  }
  .actor-4 {
    ${e30.actor4 ? `fill: ${e30.actor4}` : ""};
  }
  .actor-5 {
    ${e30.actor5 ? `fill: ${e30.actor5}` : ""};
  }
`, "getStyles"), elU = iM(function(e30, t10) {
  return zg(e30, t10);
}, "drawRect"), elW = iM(function(e30, t10) {
  let r10 = e30.append("circle").attr("cx", t10.cx).attr("cy", t10.cy).attr("class", "face").attr("r", 15).attr("stroke-width", 2).attr("overflow", "visible"), n10 = e30.append("g");
  function i10(e31) {
    let r11 = pZ().startAngle(Math.PI / 2).endAngle(Math.PI / 2 * 3).innerRadius(7.5).outerRadius(15 / 2.2);
    e31.append("path").attr("class", "mouth").attr("d", r11).attr("transform", "translate(" + t10.cx + "," + (t10.cy + 2) + ")");
  }
  function a10(e31) {
    let r11 = pZ().startAngle(3 * Math.PI / 2).endAngle(Math.PI / 2 * 5).innerRadius(7.5).outerRadius(15 / 2.2);
    e31.append("path").attr("class", "mouth").attr("d", r11).attr("transform", "translate(" + t10.cx + "," + (t10.cy + 7) + ")");
  }
  function s10(e31) {
    e31.append("line").attr("class", "mouth").attr("stroke", 2).attr("x1", t10.cx - 5).attr("y1", t10.cy + 7).attr("x2", t10.cx + 5).attr("y2", t10.cy + 7).attr("class", "mouth").attr("stroke-width", "1px").attr("stroke", "#666");
  }
  return n10.append("circle").attr("cx", t10.cx - 5).attr("cy", t10.cy - 5).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666"), n10.append("circle").attr("cx", t10.cx + 5).attr("cy", t10.cy - 5).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666"), iM(i10, "smile"), iM(a10, "sad"), iM(s10, "ambivalent"), t10.score > 3 ? i10(n10) : t10.score < 3 ? a10(n10) : s10(n10), r10;
}, "drawFace"), elV = iM(function(e30, t10) {
  let r10 = e30.append("circle");
  return r10.attr("cx", t10.cx), r10.attr("cy", t10.cy), r10.attr("class", "actor-" + t10.pos), r10.attr("fill", t10.fill), r10.attr("stroke", t10.stroke), r10.attr("r", t10.r), void 0 !== r10.class && r10.attr("class", r10.class), void 0 !== t10.title && r10.append("title").text(t10.title), r10;
}, "drawCircle"), elH = iM(function(e30, t10) {
  return zy(e30, t10);
}, "drawText"), elY = iM(function(e30, t10, r10) {
  let n10 = e30.append("g"), i10 = zb();
  i10.x = t10.x, i10.y = t10.y, i10.fill = t10.fill, i10.width = r10.width * t10.taskCount + r10.diagramMarginX * (t10.taskCount - 1), i10.height = r10.height, i10.class = "journey-section section-type-" + t10.num, i10.rx = 3, i10.ry = 3, elU(n10, i10), elK(r10)(t10.text, n10, i10.x, i10.y, i10.width, i10.height, { class: "journey-section section-type-" + t10.num }, r10, t10.colour);
}, "drawSection"), elG = -1, elX = iM(function(e30, t10, r10) {
  let n10 = t10.x + r10.width / 2, i10 = e30.append("g");
  elG++, i10.append("line").attr("id", "task" + elG).attr("x1", n10).attr("y1", t10.y).attr("x2", n10).attr("y2", 450).attr("class", "task-line").attr("stroke-width", "1px").attr("stroke-dasharray", "4 2").attr("stroke", "#666"), elW(i10, { cx: n10, cy: 300 + (5 - t10.score) * 30, score: t10.score });
  let a10 = zb();
  a10.x = t10.x, a10.y = t10.y, a10.fill = t10.fill, a10.width = r10.width, a10.height = r10.height, a10.class = "task task-type-" + t10.num, a10.rx = 3, a10.ry = 3, elU(i10, a10);
  let s10 = t10.x + 14;
  t10.people.forEach((e31) => {
    let r11 = t10.actors[e31].color;
    elV(i10, { cx: s10, cy: t10.y, r: 7, fill: r11, stroke: "#000", title: e31, pos: t10.actors[e31].position }), s10 += 10;
  }), elK(r10)(t10.task, i10, a10.x, a10.y, a10.width, a10.height, { class: "task" }, r10, t10.colour);
}, "drawTask"), elK = function() {
  function e30(e31, t11, r11, i10, a10, s10, o10, l10) {
    n10(t11.append("text").attr("x", r11 + a10 / 2).attr("y", i10 + s10 / 2 + 5).style("font-color", l10).style("text-anchor", "middle").text(e31), o10);
  }
  function t10(e31, t11, r11, i10, a10, s10, o10, l10, h10) {
    let { taskFontSize: u10, taskFontFamily: d10 } = l10, p10 = e31.split(/<br\s*\/?>/gi);
    for (let e32 = 0; e32 < p10.length; e32++) {
      let l11 = e32 * u10 - u10 * (p10.length - 1) / 2, f10 = t11.append("text").attr("x", r11 + a10 / 2).attr("y", i10).attr("fill", h10).style("text-anchor", "middle").style("font-size", u10).style("font-family", d10);
      f10.append("tspan").attr("x", r11 + a10 / 2).attr("dy", l11).text(p10[e32]), f10.attr("y", i10 + s10 / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central"), n10(f10, o10);
    }
  }
  function r10(e31, r11, i10, a10, s10, o10, l10, h10) {
    let u10 = r11.append("switch"), d10 = u10.append("foreignObject").attr("x", i10).attr("y", a10).attr("width", s10).attr("height", o10).attr("position", "fixed").append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
    d10.append("div").attr("class", "label").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(e31), t10(e31, u10, i10, a10, s10, o10, l10, h10), n10(d10, l10);
  }
  function n10(e31, t11) {
    for (let r11 in t11) r11 in t11 && e31.attr(r11, t11[r11]);
  }
  return iM(e30, "byText"), iM(t10, "byTspan"), iM(r10, "byFo"), iM(n10, "_setTextAttrs"), function(n11) {
    return "fo" === n11.textPlacement ? r10 : "old" === n11.textPlacement ? e30 : t10;
  };
}(), elZ = { drawCircle: elV, drawSection: elY, drawText: elH, drawTask: elX, initGraphics: iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");
}, "initGraphics") }, elQ = iM(function(e30) {
  Object.keys(e30).forEach(function(t10) {
    el1[t10] = e30[t10];
  });
}, "setConf"), elJ = {};
function el0(e30) {
  let t10 = aj().journey, r10 = 60;
  Object.keys(elJ).forEach((n10) => {
    let i10 = elJ[n10].color, a10 = { cx: 20, cy: r10, r: 7, fill: i10, stroke: "#000", pos: elJ[n10].position };
    elZ.drawCircle(e30, a10);
    let s10 = { x: 40, y: r10 + 7, fill: "#666", text: n10, textMargin: 5 | t10.boxTextMargin };
    elZ.drawText(e30, s10), r10 += 20;
  });
}
iM(el0, "drawActorLegend");
var el1 = aj().journey, el2 = el1.leftMargin, el4 = iM(function(e30, t10, r10, n10) {
  let i10;
  let a10 = aj().journey, s10 = aj().securityLevel;
  "sandbox" === s10 && (i10 = c$("#i" + t10));
  let o10 = "sandbox" === s10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body");
  el3.init();
  let l10 = o10.select("#" + t10);
  elZ.initGraphics(l10);
  let h10 = n10.db.getTasks(), u10 = n10.db.getDiagramTitle(), d10 = n10.db.getActors();
  for (let e31 in elJ) delete elJ[e31];
  let p10 = 0;
  d10.forEach((e31) => {
    elJ[e31] = { color: a10.actorColours[p10 % a10.actorColours.length], position: p10 }, p10++;
  }), el0(l10), el3.insert(0, 0, el2, 50 * Object.keys(elJ).length), el7(l10, h10, 0);
  let f10 = el3.getBounds();
  u10 && l10.append("text").text(u10).attr("x", el2).attr("font-size", "4ex").attr("font-weight", "bold").attr("y", 25);
  let g10 = f10.stopy - f10.starty + 2 * a10.diagramMarginY, y10 = el2 + f10.stopx + 2 * a10.diagramMarginX;
  on(l10, g10, y10, a10.useMaxWidth), l10.append("line").attr("x1", el2).attr("y1", 4 * a10.height).attr("x2", y10 - el2 - 4).attr("y2", 4 * a10.height).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)");
  let v10 = u10 ? 70 : 0;
  l10.attr("viewBox", `${f10.startx} -25 ${y10} ${g10 + v10}`), l10.attr("preserveAspectRatio", "xMinYMin meet"), l10.attr("height", g10 + v10 + 25);
}, "draw"), el3 = { data: { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, verticalPos: 0, sequenceItems: [], init: iM(function() {
  this.sequenceItems = [], this.data = { startx: void 0, stopx: void 0, starty: void 0, stopy: void 0 }, this.verticalPos = 0;
}, "init"), updateVal: iM(function(e30, t10, r10, n10) {
  void 0 === e30[t10] ? e30[t10] = r10 : e30[t10] = n10(r10, e30[t10]);
}, "updateVal"), updateBounds: iM(function(e30, t10, r10, n10) {
  let i10 = aj().journey, a10 = this, s10 = 0;
  function o10(o11) {
    return iM(function(l10) {
      s10++;
      let h10 = a10.sequenceItems.length - s10 + 1;
      a10.updateVal(l10, "starty", t10 - h10 * i10.boxMargin, Math.min), a10.updateVal(l10, "stopy", n10 + h10 * i10.boxMargin, Math.max), a10.updateVal(el3.data, "startx", e30 - h10 * i10.boxMargin, Math.min), a10.updateVal(el3.data, "stopx", r10 + h10 * i10.boxMargin, Math.max), "activation" !== o11 && (a10.updateVal(l10, "startx", e30 - h10 * i10.boxMargin, Math.min), a10.updateVal(l10, "stopx", r10 + h10 * i10.boxMargin, Math.max), a10.updateVal(el3.data, "starty", t10 - h10 * i10.boxMargin, Math.min), a10.updateVal(el3.data, "stopy", n10 + h10 * i10.boxMargin, Math.max));
    }, "updateItemBounds");
  }
  iM(o10, "updateFn"), this.sequenceItems.forEach(o10());
}, "updateBounds"), insert: iM(function(e30, t10, r10, n10) {
  let i10 = Math.min(e30, r10), a10 = Math.max(e30, r10), s10 = Math.min(t10, n10), o10 = Math.max(t10, n10);
  this.updateVal(el3.data, "startx", i10, Math.min), this.updateVal(el3.data, "starty", s10, Math.min), this.updateVal(el3.data, "stopx", a10, Math.max), this.updateVal(el3.data, "stopy", o10, Math.max), this.updateBounds(i10, s10, a10, o10);
}, "insert"), bumpVerticalPos: iM(function(e30) {
  this.verticalPos = this.verticalPos + e30, this.data.stopy = this.verticalPos;
}, "bumpVerticalPos"), getVerticalPos: iM(function() {
  return this.verticalPos;
}, "getVerticalPos"), getBounds: iM(function() {
  return this.data;
}, "getBounds") }, el5 = el1.sectionFills, el6 = el1.sectionColours, el7 = iM(function(e30, t10, r10) {
  let n10 = aj().journey, i10 = "", a10 = r10 + (2 * n10.height + n10.diagramMarginY), s10 = 0, o10 = "#CCC", l10 = "black", h10 = 0;
  for (let [r11, u10] of t10.entries()) {
    if (i10 !== u10.section) {
      o10 = el5[s10 % el5.length], h10 = s10 % el5.length, l10 = el6[s10 % el6.length];
      let a11 = 0, d11 = u10.section;
      for (let e31 = r11; e31 < t10.length; e31++) if (t10[e31].section == d11) a11 += 1;
      else break;
      let p10 = { x: r11 * n10.taskMargin + r11 * n10.width + el2, y: 50, text: u10.section, fill: o10, num: h10, colour: l10, taskCount: a11 };
      elZ.drawSection(e30, p10, n10), i10 = u10.section, s10++;
    }
    let d10 = u10.people.reduce((e31, t11) => (elJ[t11] && (e31[t11] = elJ[t11]), e31), {});
    u10.x = r11 * n10.taskMargin + r11 * n10.width + el2, u10.y = a10, u10.width = n10.diagramMarginX, u10.height = n10.diagramMarginY, u10.colour = l10, u10.fill = o10, u10.num = h10, u10.actors = d10, elZ.drawTask(e30, u10, n10), el3.insert(u10.x, u10.y, u10.x + u10.width + n10.taskMargin, 450);
  }
}, "drawTasks"), el8 = { setConf: elQ, draw: el4 };
let el9 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: elE, db: elj, renderer: el8, styles: elq, init: iM((e30) => {
  el8.setConf(e30.journey), elj.clear();
}, "init") } }, Symbol.toStringTag, { value: "Module" }));
var ece = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [6, 8, 10, 11, 12, 14, 16, 17, 20, 21], r10 = [1, 9], n10 = [1, 10], i10 = [1, 11], a10 = [1, 12], s10 = [1, 13], o10 = [1, 16], l10 = [1, 17], h10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, timeline: 4, document: 5, EOF: 6, line: 7, SPACE: 8, statement: 9, NEWLINE: 10, title: 11, acc_title: 12, acc_title_value: 13, acc_descr: 14, acc_descr_value: 15, acc_descr_multiline_value: 16, section: 17, period_statement: 18, event_statement: 19, period: 20, event: 21, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "timeline", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 11: "title", 12: "acc_title", 13: "acc_title_value", 14: "acc_descr", 15: "acc_descr_value", 16: "acc_descr_multiline_value", 17: "section", 20: "period", 21: "event" }, productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 1], [9, 1], [18, 1], [19, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 1:
        return a11[o11 - 1];
      case 2:
      case 6:
      case 7:
        this.$ = [];
        break;
      case 3:
        a11[o11 - 1].push(a11[o11]), this.$ = a11[o11 - 1];
        break;
      case 4:
      case 5:
        this.$ = a11[o11];
        break;
      case 8:
        n11.getCommonDb().setDiagramTitle(a11[o11].substr(6)), this.$ = a11[o11].substr(6);
        break;
      case 9:
        this.$ = a11[o11].trim(), n11.getCommonDb().setAccTitle(this.$);
        break;
      case 10:
      case 11:
        this.$ = a11[o11].trim(), n11.getCommonDb().setAccDescription(this.$);
        break;
      case 12:
        n11.addSection(a11[o11].substr(8)), this.$ = a11[o11].substr(8);
        break;
      case 15:
        n11.addTask(a11[o11], 0, ""), this.$ = a11[o11];
        break;
      case 16:
        n11.addEvent(a11[o11].substr(2)), this.$ = a11[o11];
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, e30(t10, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: r10, 12: n10, 14: i10, 16: a10, 17: s10, 18: 14, 19: 15, 20: o10, 21: l10 }, e30(t10, [2, 7], { 1: [2, 1] }), e30(t10, [2, 3]), { 9: 18, 11: r10, 12: n10, 14: i10, 16: a10, 17: s10, 18: 14, 19: 15, 20: o10, 21: l10 }, e30(t10, [2, 5]), e30(t10, [2, 6]), e30(t10, [2, 8]), { 13: [1, 19] }, { 15: [1, 20] }, e30(t10, [2, 11]), e30(t10, [2, 12]), e30(t10, [2, 13]), e30(t10, [2, 14]), e30(t10, [2, 15]), e30(t10, [2, 16]), e30(t10, [2, 4]), e30(t10, [2, 9]), e30(t10, [2, 10])], defaultActions: {}, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p10 = { yy: {} };
    for (var f10 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f10) && (p10.yy[f10] = this.yy[f10]);
    d11.setInput(e31, p10.yy), p10.yy.lexer = d11, p10.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g10 = d11.yylloc;
    a11.push(g10);
    var y10 = d11.options && d11.options.ranges;
    function v10() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p10.yy.parseError ? this.parseError = p10.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v10, "lex");
    for (var x10, b10, k10, w10, _10, T10, S10, C10, E10 = {}; ; ) {
      if (b10 = r11[r11.length - 1], this.defaultActions[b10] ? k10 = this.defaultActions[b10] : (null == x10 && (x10 = v10()), k10 = s11[b10] && s11[b10][x10]), void 0 === k10 || !k10.length || !k10[0]) {
        var A10 = "";
        for (_10 in C10 = [], s11[b10]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x10] || x10) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x10 ? "end of input" : "'" + (this.terminals_[x10] || x10) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x10] || x10, line: d11.yylineno, loc: g10, expected: C10 });
      }
      if (k10[0] instanceof Array && k10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b10 + ", token: " + x10);
      switch (k10[0]) {
        case 1:
          r11.push(x10), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k10[1]), x10 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g10 = d11.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[k10[1]][1], E10.$ = i11[i11.length - T10], E10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y10 && (E10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w10 = this.performAction.apply(E10, [o11, h11, l11, p10.yy, k10[1], i11, a11].concat(u11)))) return w10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), i11 = i11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[k10[1]][0]), i11.push(E10.$), a11.push(E10._$), S10 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, u10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
      case 1:
      case 3:
      case 4:
        break;
      case 2:
        return 10;
      case 5:
        return 4;
      case 6:
        return 11;
      case 7:
        return this.begin("acc_title"), 12;
      case 8:
        return this.popState(), "acc_title_value";
      case 9:
        return this.begin("acc_descr"), 14;
      case 10:
        return this.popState(), "acc_descr_value";
      case 11:
        this.begin("acc_descr_multiline");
        break;
      case 12:
        this.popState();
        break;
      case 13:
        return "acc_descr_multiline_value";
      case 14:
        return 17;
      case 15:
        return 21;
      case 16:
        return 20;
      case 17:
        return 6;
      case 18:
        return "INVALID";
    }
  }, "anonymous"), rules: [/^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:timeline\b)/i, /^(?:title\s[^\n]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:section\s[^:\n]+)/i, /^(?::\s[^:\n]+)/i, /^(?:[^#:\n]+)/i, /^(?:$)/i, /^(?:.)/i], conditions: { acc_descr_multiline: { rules: [12, 13], inclusive: false }, acc_descr: { rules: [10], inclusive: false }, acc_title: { rules: [8], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18], inclusive: true } } };
  function d10() {
    this.yy = {};
  }
  return h10.lexer = u10, iM(d10, "Parser"), d10.prototype = h10, h10.Parser = d10, new d10();
}();
ece.parser = ece;
var ect = {};
iR(ect, { addEvent: () => ecp, addSection: () => ecc, addTask: () => ecd, addTaskOrg: () => ecf, clear: () => ecl, default: () => ecm, getCommonDb: () => eco, getSections: () => ech, getTasks: () => ecu });
var ecr = "", ecn = 0, eci = [], eca = [], ecs = [], eco = iM(() => ol, "getCommonDb"), ecl = iM(function() {
  eci.length = 0, eca.length = 0, ecr = "", ecs.length = 0, op();
}, "clear"), ecc = iM(function(e30) {
  ecr = e30, eci.push(e30);
}, "addSection"), ech = iM(function() {
  return eci;
}, "getSections"), ecu = iM(function() {
  let e30 = ecg(), t10 = 0;
  for (; !e30 && t10 < 100; ) e30 = ecg(), t10++;
  return eca.push(...ecs), eca;
}, "getTasks"), ecd = iM(function(e30, t10, r10) {
  let n10 = { id: ecn++, section: ecr, type: ecr, task: e30, score: t10 || 0, events: r10 ? [r10] : [] };
  ecs.push(n10);
}, "addTask"), ecp = iM(function(e30) {
  ecs.find((e31) => e31.id === ecn - 1).events.push(e30);
}, "addEvent"), ecf = iM(function(e30) {
  let t10 = { section: ecr, type: ecr, description: e30, task: e30, classes: [] };
  eca.push(t10);
}, "addTaskOrg"), ecg = iM(function() {
  let e30 = iM(function(e31) {
    return ecs[e31].processed;
  }, "compileTask"), t10 = true;
  for (let [r10, n10] of ecs.entries()) e30(r10), t10 = t10 && n10.processed;
  return t10;
}, "compileTasks"), ecm = { clear: ecl, getCommonDb: eco, addSection: ecc, getSections: ech, getTasks: ecu, addTask: ecd, addTaskOrg: ecf, addEvent: ecp }, ecy = iM(function(e30) {
  e30.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");
}, "initGraphics");
function ecv(e30, t10) {
  e30.each(function() {
    var e31, r10 = c$(this), n10 = r10.text().split(/(\s+|<br>)/).reverse(), i10 = [], a10 = r10.attr("y"), s10 = parseFloat(r10.attr("dy")), o10 = r10.text(null).append("tspan").attr("x", 0).attr("y", a10).attr("dy", s10 + "em");
    for (let s11 = 0; s11 < n10.length; s11++) e31 = n10[n10.length - 1 - s11], i10.push(e31), o10.text(i10.join(" ").trim()), (o10.node().getComputedTextLength() > t10 || "<br>" === e31) && (i10.pop(), o10.text(i10.join(" ").trim()), i10 = "<br>" === e31 ? [""] : [e31], o10 = r10.append("tspan").attr("x", 0).attr("y", a10).attr("dy", "1.1em").text(e31));
  });
}
iM(ecv, "wrap");
var ecx = iM(function(e30, t10, r10, n10) {
  var i10;
  let a10 = r10 % 12 - 1, s10 = e30.append("g");
  t10.section = a10, s10.attr("class", (t10.class ? t10.class + " " : "") + "timeline-node section-" + a10);
  let o10 = s10.append("g"), l10 = s10.append("g"), h10 = l10.append("text").text(t10.descr).attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle").call(ecv, t10.width).node().getBBox(), u10 = (null === (i10 = n10.fontSize) || void 0 === i10 ? void 0 : i10.replace) ? n10.fontSize.replace("px", "") : n10.fontSize;
  return t10.height = h10.height + 0.55 * u10 + t10.padding, t10.height = Math.max(t10.height, t10.maxHeight), t10.width = t10.width + 2 * t10.padding, l10.attr("transform", "translate(" + t10.width / 2 + ", " + t10.padding / 2 + ")"), eck(o10, t10, a10, n10), t10;
}, "drawNode"), ecb = iM(function(e30, t10, r10) {
  var n10;
  let i10 = e30.append("g"), a10 = i10.append("text").text(t10.descr).attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle").call(ecv, t10.width).node().getBBox(), s10 = (null === (n10 = r10.fontSize) || void 0 === n10 ? void 0 : n10.replace) ? r10.fontSize.replace("px", "") : r10.fontSize;
  return i10.remove(), a10.height + 0.55 * s10 + t10.padding;
}, "getVirtualNodeHeight"), eck = iM(function(e30, t10, r10) {
  e30.append("path").attr("id", "node-" + t10.id).attr("class", "node-bkg node-" + t10.type).attr("d", `M0 ${t10.height - 5} v${-t10.height + 10} q0,-5 5,-5 h${t10.width - 10} q5,0 5,5 v${t10.height - 5} H0 Z`), e30.append("line").attr("class", "node-line-" + r10).attr("x1", 0).attr("y1", t10.height).attr("x2", t10.width).attr("y2", t10.height);
}, "defaultBkg"), ecw = { initGraphics: ecy, drawNode: ecx, getVirtualNodeHeight: ecb }, ec_ = iM(function(e30, t10, r10, n10) {
  var i10, a10, s10, o10, l10;
  let h10;
  let u10 = aj(), d10 = null !== (s10 = u10.leftMargin) && void 0 !== s10 ? s10 : 50;
  iz.debug("timeline", n10.db);
  let p10 = u10.securityLevel;
  "sandbox" === p10 && (h10 = c$("#i" + t10));
  let f10 = ("sandbox" === p10 ? c$(h10.nodes()[0].contentDocument.body) : c$("body")).select("#" + t10);
  f10.append("g");
  let g10 = n10.db.getTasks(), y10 = n10.db.getCommonDb().getDiagramTitle();
  iz.debug("task", g10), ecw.initGraphics(f10);
  let v10 = n10.db.getSections();
  iz.debug("sections", v10);
  let x10 = 0, b10 = 0, k10 = 0, w10 = 0, _10 = 50 + d10, T10 = 50;
  w10 = 50;
  let S10 = 0, C10 = true;
  v10.forEach(function(e31) {
    let t11 = { number: S10, descr: e31, section: S10, width: 150, padding: 20, maxHeight: x10 }, r11 = ecw.getVirtualNodeHeight(f10, t11, u10);
    iz.debug("sectionHeight before draw", r11), x10 = Math.max(x10, r11 + 20);
  });
  let E10 = 0, A10 = 0;
  for (let [e31, t11] of (iz.debug("tasks.length", g10.length), g10.entries())) {
    let r11 = { number: e31, descr: t11, section: t11.section, width: 150, padding: 20, maxHeight: b10 }, n11 = ecw.getVirtualNodeHeight(f10, r11, u10);
    iz.debug("taskHeight before draw", n11), b10 = Math.max(b10, n11 + 20), E10 = Math.max(E10, t11.events.length);
    let i11 = 0;
    for (let e32 of t11.events) {
      let r12 = { descr: e32, section: t11.section, number: t11.section, width: 150, padding: 20, maxHeight: 50 };
      i11 += ecw.getVirtualNodeHeight(f10, r12, u10);
    }
    A10 = Math.max(A10, i11);
  }
  iz.debug("maxSectionHeight before draw", x10), iz.debug("maxTaskHeight before draw", b10), v10 && v10.length > 0 ? v10.forEach((e31) => {
    let t11 = g10.filter((t12) => t12.section === e31), r11 = { number: S10, descr: e31, section: S10, width: 200 * Math.max(t11.length, 1) - 50, padding: 20, maxHeight: x10 };
    iz.debug("sectionNode", r11);
    let n11 = f10.append("g"), i11 = ecw.drawNode(n11, r11, S10, u10);
    iz.debug("sectionNode output", i11), n11.attr("transform", `translate(${_10}, ${w10})`), T10 += x10 + 50, t11.length > 0 && ecT(f10, t11, S10, _10, T10, b10, u10, E10, A10, x10, false), _10 += 200 * Math.max(t11.length, 1), T10 = w10, S10++;
  }) : (C10 = false, ecT(f10, g10, S10, _10, T10, b10, u10, E10, A10, x10, true));
  let L10 = f10.node().getBBox();
  iz.debug("bounds", L10), y10 && f10.append("text").text(y10).attr("x", L10.width / 2 - d10).attr("font-size", "4ex").attr("font-weight", "bold").attr("y", 20), k10 = C10 ? x10 + b10 + 150 : b10 + 100, f10.append("g").attr("class", "lineWrapper").append("line").attr("x1", d10).attr("y1", k10).attr("x2", L10.width + 3 * d10).attr("y2", k10).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)"), oi(void 0, f10, null !== (o10 = null === (i10 = u10.timeline) || void 0 === i10 ? void 0 : i10.padding) && void 0 !== o10 ? o10 : 50, null !== (l10 = null === (a10 = u10.timeline) || void 0 === a10 ? void 0 : a10.useMaxWidth) && void 0 !== l10 && l10);
}, "draw"), ecT = iM(function(e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10) {
  for (let o11 of t10) {
    var d10;
    let t11 = { descr: o11.task, section: r10, number: r10, width: 150, padding: 20, maxHeight: a10 };
    iz.debug("taskNode", t11);
    let p10 = e30.append("g").attr("class", "taskWrapper"), f10 = ecw.drawNode(p10, t11, r10, s10).height;
    if (iz.debug("taskHeight after draw", f10), p10.attr("transform", `translate(${n10}, ${i10})`), a10 = Math.max(a10, f10), o11.events) {
      let t12 = e30.append("g").attr("class", "lineWrapper");
      i10 += 100, ecS(e30, o11.events, r10, n10, i10, s10), i10 -= 100, t12.append("line").attr("x1", n10 + 95).attr("y1", i10 + a10).attr("x2", n10 + 95).attr("y2", i10 + a10 + (u10 ? a10 : h10) + l10 + 120).attr("stroke-width", 2).attr("stroke", "black").attr("marker-end", "url(#arrowhead)").attr("stroke-dasharray", "5,5");
    }
    n10 += 200, u10 && !(null === (d10 = s10.timeline) || void 0 === d10 ? void 0 : d10.disableMulticolor) && r10++;
  }
}, "drawTasks"), ecS = iM(function(e30, t10, r10, n10, i10, a10) {
  let s10 = 0, o10 = i10;
  for (let o11 of (i10 += 100, t10)) {
    let t11 = { descr: o11, section: r10, number: r10, width: 150, padding: 20, maxHeight: 50 };
    iz.debug("eventNode", t11);
    let l10 = e30.append("g").attr("class", "eventWrapper"), h10 = ecw.drawNode(l10, t11, r10, a10).height;
    s10 += h10, l10.attr("transform", `translate(${n10}, ${i10})`), i10 = i10 + 10 + h10;
  }
  return i10 = o10, s10;
}, "drawEvents"), ecC = { setConf: iM(() => {
}, "setConf"), draw: ec_ }, ecE = iM((e30) => {
  let t10 = "";
  for (let t11 = 0; t11 < e30.THEME_COLOR_LIMIT; t11++) e30["lineColor" + t11] = e30["lineColor" + t11] || e30["cScaleInv" + t11], aa(e30["lineColor" + t11]) ? e30["lineColor" + t11] = ao(e30["lineColor" + t11], 20) : e30["lineColor" + t11] = al(e30["lineColor" + t11], 20);
  for (let r10 = 0; r10 < e30.THEME_COLOR_LIMIT; r10++) {
    let n10 = "" + (17 - 3 * r10);
    t10 += `
    .section-${r10 - 1} rect, .section-${r10 - 1} path, .section-${r10 - 1} circle, .section-${r10 - 1} path  {
      fill: ${e30["cScale" + r10]};
    }
    .section-${r10 - 1} text {
     fill: ${e30["cScaleLabel" + r10]};
    }
    .node-icon-${r10 - 1} {
      font-size: 40px;
      color: ${e30["cScaleLabel" + r10]};
    }
    .section-edge-${r10 - 1}{
      stroke: ${e30["cScale" + r10]};
    }
    .edge-depth-${r10 - 1}{
      stroke-width: ${n10};
    }
    .section-${r10 - 1} line {
      stroke: ${e30["cScaleInv" + r10]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e30["cScaleLabel" + r10]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `;
  }
  return t10;
}, "genSections");
let ecA = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { db: ect, renderer: ecC, parser: ece, styles: iM((e30) => `
  .edge {
    stroke-width: 3;
  }
  ${ecE(e30)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e30.git0};
  }
  .section-root text {
    fill: ${e30.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
function ecL(e30) {
  return (ecL = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e31) {
    return typeof e31;
  } : function(e31) {
    return e31 && "function" == typeof Symbol && e31.constructor === Symbol && e31 !== Symbol.prototype ? "symbol" : typeof e31;
  })(e30);
}
function ecI(e30, t10) {
  if (!(e30 instanceof t10)) throw TypeError("Cannot call a class as a function");
}
function ecM(e30, t10) {
  for (var r10 = 0; r10 < t10.length; r10++) {
    var n10 = t10[r10];
    n10.enumerable = n10.enumerable || false, n10.configurable = true, "value" in n10 && (n10.writable = true), Object.defineProperty(e30, n10.key, n10);
  }
}
function ecN(e30, t10, r10) {
  return t10 && ecM(e30.prototype, t10), r10 && ecM(e30, r10), Object.defineProperty(e30, "prototype", { writable: false }), e30;
}
function ecR(e30, t10, r10) {
  return t10 in e30 ? Object.defineProperty(e30, t10, { value: r10, enumerable: true, configurable: true, writable: true }) : e30[t10] = r10, e30;
}
function ecD(e30, t10) {
  return ecO(e30) || ec$(e30, t10) || ecP(e30, t10) || ecF();
}
function ecO(e30) {
  if (Array.isArray(e30)) return e30;
}
function ec$(e30, t10) {
  var r10, n10, i10 = null == e30 ? null : "undefined" != typeof Symbol && e30[Symbol.iterator] || e30["@@iterator"];
  if (null != i10) {
    var a10 = [], s10 = true, o10 = false;
    try {
      for (i10 = i10.call(e30); !(s10 = (r10 = i10.next()).done) && (a10.push(r10.value), !t10 || a10.length !== t10); s10 = true) ;
    } catch (e31) {
      o10 = true, n10 = e31;
    } finally {
      try {
        s10 || null == i10.return || i10.return();
      } finally {
        if (o10) throw n10;
      }
    }
    return a10;
  }
}
function ecP(e30, t10) {
  if (e30) {
    if ("string" == typeof e30) return ecB(e30, t10);
    var r10 = Object.prototype.toString.call(e30).slice(8, -1);
    if ("Object" === r10 && e30.constructor && (r10 = e30.constructor.name), "Map" === r10 || "Set" === r10) return Array.from(e30);
    if ("Arguments" === r10 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r10)) return ecB(e30, t10);
  }
}
function ecB(e30, t10) {
  (null == t10 || t10 > e30.length) && (t10 = e30.length);
  for (var r10 = 0, n10 = Array(t10); r10 < t10; r10++) n10[r10] = e30[r10];
  return n10;
}
function ecF() {
  throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function ecz(e30, t10) {
  var r10 = "undefined" != typeof Symbol && e30[Symbol.iterator] || e30["@@iterator"];
  if (!r10) {
    if (Array.isArray(e30) || (r10 = ecP(e30)) || t10 && e30 && "number" == typeof e30.length) {
      r10 && (e30 = r10);
      var n10 = 0, i10 = iM(function() {
      }, "F");
      return { s: i10, n: iM(function() {
        return n10 >= e30.length ? { done: true } : { done: false, value: e30[n10++] };
      }, "n"), e: iM(function(e31) {
        throw e31;
      }, "e"), f: i10 };
    }
    throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var a10, s10 = true, o10 = false;
  return { s: iM(function() {
    r10 = r10.call(e30);
  }, "s"), n: iM(function() {
    var e31 = r10.next();
    return s10 = e31.done, e31;
  }, "n"), e: iM(function(e31) {
    o10 = true, a10 = e31;
  }, "e"), f: iM(function() {
    try {
      s10 || null == r10.return || r10.return();
    } finally {
      if (o10) throw a10;
    }
  }, "f") };
}
iM(ecL, "_typeof"), iM(ecI, "_classCallCheck"), iM(ecM, "_defineProperties"), iM(ecN, "_createClass"), iM(ecR, "_defineProperty$1"), iM(ecD, "_slicedToArray"), iM(ecO, "_arrayWithHoles"), iM(ec$, "_iterableToArrayLimit"), iM(ecP, "_unsupportedIterableToArray"), iM(ecB, "_arrayLikeToArray"), iM(ecF, "_nonIterableRest"), iM(ecz, "_createForOfIteratorHelper");
var ecj = "undefined" == typeof window ? null : window, ecq = ecj ? ecj.navigator : null;
ecj && ecj.document;
var ecU = ecL(""), ecW = ecL({}), ecV = ecL(function() {
}), ecH = "undefined" == typeof HTMLElement ? "undefined" : ecL(HTMLElement), ecY = iM(function(e30) {
  return e30 && e30.instanceString && ecX(e30.instanceString) ? e30.instanceString() : null;
}, "instanceStr"), ecG = iM(function(e30) {
  return null != e30 && ecL(e30) == ecU;
}, "string"), ecX = iM(function(e30) {
  return null != e30 && ecL(e30) === ecV;
}, "fn"), ecK = iM(function(e30) {
  return !ec2(e30) && (Array.isArray ? Array.isArray(e30) : null != e30 && e30 instanceof Array);
}, "array"), ecZ = iM(function(e30) {
  return null != e30 && ecL(e30) === ecW && !ecK(e30) && e30.constructor === Object;
}, "plainObject"), ecQ = iM(function(e30) {
  return null != e30 && ecL(e30) === ecW;
}, "object"), ecJ = iM(function(e30) {
  return null != e30 && ecL(e30) === ecL(1) && !isNaN(e30);
}, "number"), ec0 = iM(function(e30) {
  return ecJ(e30) && Math.floor(e30) === e30;
}, "integer"), ec1 = iM(function(e30) {
  if ("undefined" !== ecH) return null != e30 && e30 instanceof HTMLElement;
}, "htmlElement"), ec2 = iM(function(e30) {
  return ec4(e30) || ec3(e30);
}, "elementOrCollection"), ec4 = iM(function(e30) {
  return "collection" === ecY(e30) && e30._private.single;
}, "element"), ec3 = iM(function(e30) {
  return "collection" === ecY(e30) && !e30._private.single;
}, "collection"), ec5 = iM(function(e30) {
  return "core" === ecY(e30);
}, "core"), ec6 = iM(function(e30) {
  return "stylesheet" === ecY(e30);
}, "stylesheet"), ec7 = iM(function(e30) {
  return "event" === ecY(e30);
}, "event"), ec8 = iM(function(e30) {
  return null == e30 || !!("" === e30 || e30.match(/^\s+$/));
}, "emptyString"), ec9 = iM(function(e30) {
  return "undefined" != typeof HTMLElement && e30 instanceof HTMLElement;
}, "domElement"), ehe = iM(function(e30) {
  return ecZ(e30) && ecJ(e30.x1) && ecJ(e30.x2) && ecJ(e30.y1) && ecJ(e30.y2);
}, "boundingBox"), eht = iM(function(e30) {
  return ecQ(e30) && ecX(e30.then);
}, "promise"), ehr = iM(function() {
  return ecq && ecq.userAgent.match(/msie|trident|edge/i);
}, "ms"), ehn = iM(function(e30, t10) {
  t10 || (t10 = iM(function() {
    if (1 == arguments.length) return arguments[0];
    if (0 == arguments.length) return "undefined";
    for (var e31 = [], t11 = 0; t11 < arguments.length; t11++) e31.push(arguments[t11]);
    return e31.join("$");
  }, "keyFn"));
  var r10 = iM(function r11() {
    var n10, i10 = arguments, a10 = t10.apply(this, i10), s10 = r11.cache;
    return (n10 = s10[a10]) || (n10 = s10[a10] = e30.apply(this, i10)), n10;
  }, "memoizedFn");
  return r10.cache = {}, r10;
}, "memoize"), ehi = ehn(function(e30) {
  return e30.replace(/([A-Z])/g, function(e31) {
    return "-" + e31.toLowerCase();
  });
}), eha = ehn(function(e30) {
  return e30.replace(/(-\w)/g, function(e31) {
    return e31[1].toUpperCase();
  });
}), ehs = ehn(function(e30, t10) {
  return e30 + t10[0].toUpperCase() + t10.substring(1);
}, function(e30, t10) {
  return e30 + "$" + t10;
}), eho = iM(function(e30) {
  return ec8(e30) ? e30 : e30.charAt(0).toUpperCase() + e30.substring(1);
}, "capitalize"), ehl = "(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))", ehc = "rgb[a]?\\((" + ehl + "[%]?)\\s*,\\s*(" + ehl + "[%]?)\\s*,\\s*(" + ehl + "[%]?)(?:\\s*,\\s*(" + ehl + "))?\\)", ehh = "rgb[a]?\\((?:" + ehl + "[%]?)\\s*,\\s*(?:" + ehl + "[%]?)\\s*,\\s*(?:" + ehl + "[%]?)(?:\\s*,\\s*(?:" + ehl + "))?\\)", ehu = "hsl[a]?\\((" + ehl + ")\\s*,\\s*(" + ehl + "[%])\\s*,\\s*(" + ehl + "[%])(?:\\s*,\\s*(" + ehl + "))?\\)", ehd = "hsl[a]?\\((?:" + ehl + ")\\s*,\\s*(?:" + ehl + "[%])\\s*,\\s*(?:" + ehl + "[%])(?:\\s*,\\s*(?:" + ehl + "))?\\)", ehp = iM(function(e30, t10) {
  return e30 < t10 ? -1 : e30 > t10 ? 1 : 0;
}, "ascending"), ehf = iM(function(e30, t10) {
  return -1 * ehp(e30, t10);
}, "descending"), ehg = null != Object.assign ? Object.assign.bind(Object) : function(e30) {
  for (var t10 = arguments, r10 = 1; r10 < t10.length; r10++) {
    var n10 = t10[r10];
    if (null != n10) for (var i10 = Object.keys(n10), a10 = 0; a10 < i10.length; a10++) {
      var s10 = i10[a10];
      e30[s10] = n10[s10];
    }
  }
  return e30;
}, ehm = iM(function(e30) {
  if ((4 === e30.length || 7 === e30.length) && "#" === e30[0]) {
    var t10, r10, n10;
    return 4 === e30.length ? (t10 = parseInt(e30[1] + e30[1], 16), r10 = parseInt(e30[2] + e30[2], 16), n10 = parseInt(e30[3] + e30[3], 16)) : (t10 = parseInt(e30[1] + e30[2], 16), r10 = parseInt(e30[3] + e30[4], 16), n10 = parseInt(e30[5] + e30[6], 16)), [t10, r10, n10];
  }
}, "hex2tuple"), ehy = iM(function(e30) {
  function t10(e31, t11, r11) {
    return (r11 < 0 && (r11 += 1), r11 > 1 && (r11 -= 1), r11 < 1 / 6) ? e31 + (t11 - e31) * 6 * r11 : r11 < 0.5 ? t11 : r11 < 2 / 3 ? e31 + (t11 - e31) * (2 / 3 - r11) * 6 : e31;
  }
  iM(t10, "hue2rgb");
  var r10, n10, i10, a10, s10, o10, l10, h10, u10 = RegExp("^" + ehu + "$").exec(e30);
  if (u10) {
    if ((n10 = parseInt(u10[1])) < 0 ? n10 = (360 - -1 * n10 % 360) % 360 : n10 > 360 && (n10 %= 360), n10 /= 360, (i10 = parseFloat(u10[2])) < 0 || i10 > 100 || (i10 /= 100, (a10 = parseFloat(u10[3])) < 0 || a10 > 100) || (a10 /= 100, void 0 !== (s10 = u10[4]) && ((s10 = parseFloat(s10)) < 0 || s10 > 1))) return;
    if (0 === i10) o10 = l10 = h10 = Math.round(255 * a10);
    else {
      var d10 = a10 < 0.5 ? a10 * (1 + i10) : a10 + i10 - a10 * i10, p10 = 2 * a10 - d10;
      o10 = Math.round(255 * t10(p10, d10, n10 + 1 / 3)), l10 = Math.round(255 * t10(p10, d10, n10)), h10 = Math.round(255 * t10(p10, d10, n10 - 1 / 3));
    }
    r10 = [o10, l10, h10, s10];
  }
  return r10;
}, "hsl2tuple"), ehv = iM(function(e30) {
  var t10, r10 = RegExp("^" + ehc + "$").exec(e30);
  if (r10) {
    t10 = [];
    for (var n10 = [], i10 = 1; i10 <= 3; i10++) {
      var a10 = r10[i10];
      if ("%" === a10[a10.length - 1] && (n10[i10] = true), a10 = parseFloat(a10), n10[i10] && (a10 = a10 / 100 * 255), a10 < 0 || a10 > 255) return;
      t10.push(Math.floor(a10));
    }
    var s10 = n10[1] || n10[2] || n10[3], o10 = n10[1] && n10[2] && n10[3];
    if (s10 && !o10) return;
    var l10 = r10[4];
    if (void 0 !== l10) {
      if ((l10 = parseFloat(l10)) < 0 || l10 > 1) return;
      t10.push(l10);
    }
  }
  return t10;
}, "rgb2tuple"), ehx = iM(function(e30) {
  return ehk[e30.toLowerCase()];
}, "colorname2tuple"), ehb = iM(function(e30) {
  return (ecK(e30) ? e30 : null) || ehx(e30) || ehm(e30) || ehv(e30) || ehy(e30);
}, "color2tuple"), ehk = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], grey: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, ehw = iM(function(e30) {
  for (var t10 = e30.map, r10 = e30.keys, n10 = r10.length, i10 = 0; i10 < n10; i10++) {
    var a10 = r10[i10];
    if (ecZ(a10)) throw Error("Tried to set map with object key");
    i10 < r10.length - 1 ? (null == t10[a10] && (t10[a10] = {}), t10 = t10[a10]) : t10[a10] = e30.value;
  }
}, "setMap"), eh_ = iM(function(e30) {
  for (var t10 = e30.map, r10 = e30.keys, n10 = r10.length, i10 = 0; i10 < n10; i10++) {
    var a10 = r10[i10];
    if (ecZ(a10)) throw Error("Tried to get map with object key");
    if (null == (t10 = t10[a10])) break;
  }
  return t10;
}, "getMap");
function ehT(e30) {
  var t10 = typeof e30;
  return null != e30 && ("object" == t10 || "function" == t10);
}
iM(ehT, "isObject");
var ehS = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function ehC(e30, t10) {
  return e30(t10 = { exports: {} }, t10.exports), t10.exports;
}
iM(ehC, "createCommonjsModule");
var ehE = "object" == typeof ehS && ehS && ehS.Object === Object && ehS, ehA = "object" == typeof self && self && self.Object === Object && self, ehL = ehE || ehA || Function("return this")(), ehI = iM(function() {
  return ehL.Date.now();
}, "now"), ehM = /\s/;
function ehN(e30) {
  for (var t10 = e30.length; t10-- && ehM.test(e30.charAt(t10)); ) ;
  return t10;
}
iM(ehN, "trimmedEndIndex");
var ehR = /^\s+/;
function ehD(e30) {
  return e30 ? e30.slice(0, ehN(e30) + 1).replace(ehR, "") : e30;
}
iM(ehD, "baseTrim");
var ehO = ehL.Symbol, eh$ = Object.prototype, ehP = eh$.hasOwnProperty, ehB = eh$.toString, ehF = ehO ? ehO.toStringTag : void 0;
function ehz(e30) {
  var t10 = ehP.call(e30, ehF), r10 = e30[ehF];
  try {
    e30[ehF] = void 0;
    var n10 = true;
  } catch (e31) {
  }
  var i10 = ehB.call(e30);
  return n10 && (t10 ? e30[ehF] = r10 : delete e30[ehF]), i10;
}
iM(ehz, "getRawTag");
var ehj = Object.prototype.toString;
function ehq(e30) {
  return ehj.call(e30);
}
iM(ehq, "objectToString");
var ehU = ehO ? ehO.toStringTag : void 0;
function ehW(e30) {
  return null == e30 ? void 0 === e30 ? "[object Undefined]" : "[object Null]" : ehU && ehU in Object(e30) ? ehz(e30) : ehq(e30);
}
function ehV(e30) {
  return null != e30 && "object" == typeof e30;
}
function ehH(e30) {
  return "symbol" == typeof e30 || ehV(e30) && "[object Symbol]" == ehW(e30);
}
iM(ehW, "baseGetTag"), iM(ehV, "isObjectLike"), iM(ehH, "isSymbol");
var ehY = 0 / 0, ehG = /^[-+]0x[0-9a-f]+$/i, ehX = /^0b[01]+$/i, ehK = /^0o[0-7]+$/i, ehZ = parseInt;
function ehQ(e30) {
  if ("number" == typeof e30) return e30;
  if (ehH(e30)) return ehY;
  if (ehT(e30)) {
    var t10 = "function" == typeof e30.valueOf ? e30.valueOf() : e30;
    e30 = ehT(t10) ? t10 + "" : t10;
  }
  if ("string" != typeof e30) return 0 === e30 ? e30 : +e30;
  e30 = ehD(e30);
  var r10 = ehX.test(e30);
  return r10 || ehK.test(e30) ? ehZ(e30.slice(2), r10 ? 2 : 8) : ehG.test(e30) ? ehY : +e30;
}
iM(ehQ, "toNumber");
var ehJ = Math.max, eh0 = Math.min;
function eh1(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10, h10 = 0, u10 = false, d10 = false, p10 = true;
  if ("function" != typeof e30) throw TypeError("Expected a function");
  function f10(t11) {
    var r11 = n10, a11 = i10;
    return n10 = i10 = void 0, h10 = t11, s10 = e30.apply(a11, r11);
  }
  function g10(e31) {
    return h10 = e31, o10 = setTimeout(x10, t10), u10 ? f10(e31) : s10;
  }
  function y10(e31) {
    var r11 = e31 - l10, n11 = e31 - h10, i11 = t10 - r11;
    return d10 ? eh0(i11, a10 - n11) : i11;
  }
  function v10(e31) {
    var r11 = e31 - l10, n11 = e31 - h10;
    return void 0 === l10 || r11 >= t10 || r11 < 0 || d10 && n11 >= a10;
  }
  function x10() {
    var e31 = ehI();
    if (v10(e31)) return b10(e31);
    o10 = setTimeout(x10, y10(e31));
  }
  function b10(e31) {
    return (o10 = void 0, p10 && n10) ? f10(e31) : (n10 = i10 = void 0, s10);
  }
  function k10() {
    void 0 !== o10 && clearTimeout(o10), h10 = 0, n10 = l10 = i10 = o10 = void 0;
  }
  function w10() {
    return void 0 === o10 ? s10 : b10(ehI());
  }
  function _10() {
    var e31 = ehI(), r11 = v10(e31);
    if (n10 = arguments, i10 = this, l10 = e31, r11) {
      if (void 0 === o10) return g10(l10);
      if (d10) return clearTimeout(o10), o10 = setTimeout(x10, t10), f10(l10);
    }
    return void 0 === o10 && (o10 = setTimeout(x10, t10)), s10;
  }
  return t10 = ehQ(t10) || 0, ehT(r10) && (u10 = !!r10.leading, a10 = (d10 = "maxWait" in r10) ? ehJ(ehQ(r10.maxWait) || 0, t10) : a10, p10 = "trailing" in r10 ? !!r10.trailing : p10), iM(f10, "invokeFunc"), iM(g10, "leadingEdge"), iM(y10, "remainingWait"), iM(v10, "shouldInvoke"), iM(x10, "timerExpired"), iM(b10, "trailingEdge"), iM(k10, "cancel"), iM(w10, "flush"), iM(_10, "debounced"), _10.cancel = k10, _10.flush = w10, _10;
}
iM(eh1, "debounce");
var eh2 = ecj ? ecj.performance : null, eh4 = eh2 && eh2.now ? function() {
  return eh2.now();
} : function() {
  return Date.now();
}, eh3 = function() {
  if (ecj) {
    if (ecj.requestAnimationFrame) return function(e30) {
      ecj.requestAnimationFrame(e30);
    };
    if (ecj.mozRequestAnimationFrame) return function(e30) {
      ecj.mozRequestAnimationFrame(e30);
    };
    if (ecj.webkitRequestAnimationFrame) return function(e30) {
      ecj.webkitRequestAnimationFrame(e30);
    };
    if (ecj.msRequestAnimationFrame) return function(e30) {
      ecj.msRequestAnimationFrame(e30);
    };
  }
  return function(e30) {
    e30 && setTimeout(function() {
      e30(eh4());
    }, 1e3 / 60);
  };
}(), eh5 = iM(function(e30) {
  return eh3(e30);
}, "requestAnimationFrame"), eh6 = iM(function(e30) {
  for (var t10, r10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 9261, n10 = r10; !(t10 = e30.next()).done; ) n10 = 65599 * n10 + t10.value | 0;
  return n10;
}, "hashIterableInts"), eh7 = iM(function(e30) {
  var t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 9261;
  return 65599 * t10 + e30 | 0;
}, "hashInt"), eh8 = iM(function(e30) {
  var t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5381;
  return (t10 << 5) + t10 + e30 | 0;
}, "hashIntAlt"), eh9 = iM(function(e30, t10) {
  return 2097152 * e30 + t10;
}, "combineHashes"), eue = iM(function(e30) {
  return 2097152 * e30[0] + e30[1];
}, "combineHashesArray"), eut = iM(function(e30, t10) {
  return [eh7(e30[0], t10[0]), eh8(e30[1], t10[1])];
}, "hashArrays"), eur = iM(function(e30, t10) {
  var r10 = { value: 0, done: false }, n10 = 0, i10 = e30.length;
  return eh6({ next: iM(function() {
    return n10 < i10 ? r10.value = e30[n10++] : r10.done = true, r10;
  }, "next") }, t10);
}, "hashIntsArray"), eun = iM(function(e30, t10) {
  var r10 = { value: 0, done: false }, n10 = 0, i10 = e30.length;
  return eh6({ next: iM(function() {
    return n10 < i10 ? r10.value = e30.charCodeAt(n10++) : r10.done = true, r10;
  }, "next") }, t10);
}, "hashString"), eui = iM(function() {
  return eua(arguments);
}, "hashStrings"), eua = iM(function(e30) {
  for (var t10, r10 = 0; r10 < e30.length; r10++) {
    var n10 = e30[r10];
    t10 = 0 === r10 ? eun(n10) : eun(n10, t10);
  }
  return t10;
}, "hashStringsArray"), eus = true, euo = null != console.warn, eul = null != console.trace, euc = Number.MAX_SAFE_INTEGER || 9007199254740991, euh = iM(function() {
  return true;
}, "trueify"), euu = iM(function() {
  return false;
}, "falsify"), eud = iM(function() {
  return 0;
}, "zeroify"), eup = iM(function() {
}, "noop"), euf = iM(function(e30) {
  throw Error(e30);
}, "error"), eug = iM(function(e30) {
  if (void 0 === e30) return eus;
  eus = !!e30;
}, "warnings"), eum = iM(function(e30) {
  eug() && (euo ? console.warn(e30) : (console.log(e30), eul && console.trace()));
}, "warn"), euy = iM(function(e30) {
  return ehg({}, e30);
}, "clone"), euv = iM(function(e30) {
  return null == e30 ? e30 : ecK(e30) ? e30.slice() : ecZ(e30) ? euy(e30) : e30;
}, "copy"), eux = iM(function(e30) {
  return e30.slice();
}, "copyArray"), eub = iM(function(e30, t10) {
  for (t10 = e30 = ""; e30++ < 36; t10 += 51 * e30 & 52 ? (15 ^ e30 ? 8 ^ Math.random() * (20 ^ e30 ? 16 : 4) : 4).toString(16) : "-") ;
  return t10;
}, "uuid"), euk = {}, euw = iM(function() {
  return euk;
}, "staticEmptyObject"), eu_ = iM(function(e30) {
  var t10 = Object.keys(e30);
  return function(r10) {
    for (var n10 = {}, i10 = 0; i10 < t10.length; i10++) {
      var a10 = t10[i10], s10 = null == r10 ? void 0 : r10[a10];
      n10[a10] = void 0 === s10 ? e30[a10] : s10;
    }
    return n10;
  };
}, "defaults"), euT = iM(function(e30, t10, r10) {
  for (var n10 = e30.length - 1; n10 >= 0 && (e30[n10] !== t10 || (e30.splice(n10, 1), !r10)); n10--) ;
}, "removeFromArray"), euS = iM(function(e30) {
  e30.splice(0, e30.length);
}, "clearArray"), euC = iM(function(e30, t10) {
  for (var r10 = 0; r10 < t10.length; r10++) {
    var n10 = t10[r10];
    e30.push(n10);
  }
}, "push"), euE = iM(function(e30, t10, r10) {
  return r10 && (t10 = ehs(r10, t10)), e30[t10];
}, "getPrefixedProperty"), euA = iM(function(e30, t10, r10, n10) {
  r10 && (t10 = ehs(r10, t10)), e30[t10] = n10;
}, "setPrefixedProperty"), euL = function() {
  function e30() {
    ecI(this, e30), this._obj = {};
  }
  return iM(e30, "ObjectMap"), ecN(e30, [{ key: "set", value: iM(function(e31, t10) {
    return this._obj[e31] = t10, this;
  }, "set") }, { key: "delete", value: iM(function(e31) {
    return this._obj[e31] = void 0, this;
  }, "_delete") }, { key: "clear", value: iM(function() {
    this._obj = {};
  }, "clear") }, { key: "has", value: iM(function(e31) {
    return void 0 !== this._obj[e31];
  }, "has") }, { key: "get", value: iM(function(e31) {
    return this._obj[e31];
  }, "get") }]), e30;
}(), euI = "undefined" != typeof Map ? Map : euL, euM = function() {
  function e30(t10) {
    if (ecI(this, e30), this._obj = /* @__PURE__ */ Object.create(null), this.size = 0, null != t10) {
      var r10;
      r10 = null != t10.instanceString && t10.instanceString() === this.instanceString() ? t10.toArray() : t10;
      for (var n10 = 0; n10 < r10.length; n10++) this.add(r10[n10]);
    }
  }
  return iM(e30, "ObjectSet"), ecN(e30, [{ key: "instanceString", value: iM(function() {
    return "set";
  }, "instanceString") }, { key: "add", value: iM(function(e31) {
    var t10 = this._obj;
    1 !== t10[e31] && (t10[e31] = 1, this.size++);
  }, "add") }, { key: "delete", value: iM(function(e31) {
    var t10 = this._obj;
    1 === t10[e31] && (t10[e31] = 0, this.size--);
  }, "_delete") }, { key: "clear", value: iM(function() {
    this._obj = /* @__PURE__ */ Object.create(null);
  }, "clear") }, { key: "has", value: iM(function(e31) {
    return 1 === this._obj[e31];
  }, "has") }, { key: "toArray", value: iM(function() {
    var e31 = this;
    return Object.keys(this._obj).filter(function(t10) {
      return e31.has(t10);
    });
  }, "toArray") }, { key: "forEach", value: iM(function(e31, t10) {
    return this.toArray().forEach(e31, t10);
  }, "forEach") }]), e30;
}(), euN = ("undefined" == typeof Set ? "undefined" : ecL(Set)) !== "undefined" ? Set : euM, euR = iM(function(e30, t10) {
  var r10 = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2];
  if (void 0 === e30 || void 0 === t10 || !ec5(e30)) {
    euf("An element must have a core reference and parameters set");
    return;
  }
  var n10 = t10.group;
  if (null == n10 && (n10 = t10.data && null != t10.data.source && null != t10.data.target ? "edges" : "nodes"), "nodes" !== n10 && "edges" !== n10) {
    euf("An element must be of type `nodes` or `edges`; you specified `" + n10 + "`");
    return;
  }
  this.length = 1, this[0] = this;
  var i10 = this._private = { cy: e30, single: true, data: t10.data || {}, position: t10.position || { x: 0, y: 0 }, autoWidth: void 0, autoHeight: void 0, autoPadding: void 0, compoundBoundsClean: false, listeners: [], group: n10, style: {}, rstyle: {}, styleCxts: [], styleKeys: {}, removed: true, selected: !!t10.selected, selectable: void 0 === t10.selectable || !!t10.selectable, locked: !!t10.locked, grabbed: false, grabbable: void 0 === t10.grabbable || !!t10.grabbable, pannable: void 0 === t10.pannable ? "edges" === n10 : !!t10.pannable, active: false, classes: new euN(), animation: { current: [], queue: [] }, rscratch: {}, scratch: t10.scratch || {}, edges: [], children: [], parent: t10.parent && t10.parent.isNode() ? t10.parent : null, traversalCache: {}, backgrounding: false, bbCache: null, bbCacheShift: { x: 0, y: 0 }, bodyBounds: null, overlayBounds: null, labelBounds: { all: null, source: null, target: null, main: null }, arrowBounds: { source: null, target: null, "mid-source": null, "mid-target": null } };
  if (null == i10.position.x && (i10.position.x = 0), null == i10.position.y && (i10.position.y = 0), t10.renderedPosition) {
    var a10 = t10.renderedPosition, s10 = e30.pan(), o10 = e30.zoom();
    i10.position = { x: (a10.x - s10.x) / o10, y: (a10.y - s10.y) / o10 };
  }
  var l10 = [];
  ecK(t10.classes) ? l10 = t10.classes : ecG(t10.classes) && (l10 = t10.classes.split(/\s+/));
  for (var h10 = 0, u10 = l10.length; h10 < u10; h10++) {
    var d10 = l10[h10];
    d10 && "" !== d10 && i10.classes.add(d10);
  }
  this.createEmitter();
  var p10 = t10.style || t10.css;
  p10 && (eum("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."), this.style(p10)), (void 0 === r10 || r10) && this.restore();
}, "Element"), euD = iM(function(e30) {
  return e30 = { bfs: e30.bfs || !e30.dfs, dfs: e30.dfs || !e30.bfs }, iM(function(t10, r10, n10) {
    ecZ(t10) && !ec2(t10) && (t10 = (i10 = t10).roots || i10.root, r10 = i10.visit, n10 = i10.directed), n10 = 2 != arguments.length || ecX(r10) ? n10 : r10, r10 = ecX(r10) ? r10 : function() {
    };
    for (var i10, a10, s10 = this._private.cy, o10 = t10 = ecG(t10) ? this.filter(t10) : t10, l10 = [], h10 = [], u10 = {}, d10 = {}, p10 = {}, f10 = 0, g10 = this.byGroup(), y10 = g10.nodes, v10 = g10.edges, x10 = 0; x10 < o10.length; x10++) {
      var b10 = o10[x10], k10 = b10.id();
      b10.isNode() && (l10.unshift(b10), e30.bfs && (p10[k10] = true, h10.push(b10)), d10[k10] = 0);
    }
    for (var w10 = iM(function() {
      var t11 = e30.bfs ? l10.shift() : l10.pop(), i11 = t11.id();
      if (e30.dfs) {
        if (p10[i11]) return "continue";
        p10[i11] = true, h10.push(t11);
      }
      var s11 = d10[i11], o11 = u10[i11], g11 = null != o11 ? o11.source() : null, x11 = null != o11 ? o11.target() : null, b11 = null == o11 ? void 0 : t11.same(g11) ? x11[0] : g11[0], k11 = void 0;
      if (true === (k11 = r10(t11, o11, b11, f10++, s11))) return a10 = t11, "break";
      if (false === k11) return "break";
      for (var w11 = t11.connectedEdges().filter(function(e31) {
        return (!n10 || e31.source().same(t11)) && v10.has(e31);
      }), _11 = 0; _11 < w11.length; _11++) {
        var T11 = w11[_11], S11 = T11.connectedNodes().filter(function(e31) {
          return !e31.same(t11) && y10.has(e31);
        }), C11 = S11.id();
        0 === S11.length || p10[C11] || (S11 = S11[0], l10.push(S11), e30.bfs && (p10[C11] = true, h10.push(S11)), u10[C11] = T11, d10[C11] = d10[i11] + 1);
      }
    }, "_loop"); 0 !== l10.length; ) {
      var _10 = w10();
      if ("continue" !== _10 && "break" === _10) break;
    }
    for (var T10 = s10.collection(), S10 = 0; S10 < h10.length; S10++) {
      var C10 = h10[S10], E10 = u10[C10.id()];
      null != E10 && T10.push(E10), T10.push(C10);
    }
    return { path: s10.collection(T10), found: s10.collection(a10) };
  }, "searchFn");
}, "defineSearch"), euO = { breadthFirstSearch: euD({ bfs: true }), depthFirstSearch: euD({ dfs: true }) };
euO.bfs = euO.breadthFirstSearch, euO.dfs = euO.depthFirstSearch;
var eu$ = ehC(function(e30, t10) {
  (function() {
    var t11, r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10;
    n10 = Math.floor, u10 = Math.min, r10 = iM(function(e31, t12) {
      return e31 < t12 ? -1 : e31 > t12 ? 1 : 0;
    }, "defaultCmp"), h10 = iM(function(e31, t12, i11, a11, s11) {
      var o11;
      if (null == i11 && (i11 = 0), null == s11 && (s11 = r10), i11 < 0) throw Error("lo must be non-negative");
      for (null == a11 && (a11 = e31.length); i11 < a11; ) 0 > s11(t12, e31[o11 = n10((i11 + a11) / 2)]) ? a11 = o11 : i11 = o11 + 1;
      return [].splice.apply(e31, [i11, i11 - i11].concat(t12)), t12;
    }, "insort"), s10 = iM(function(e31, t12, n11) {
      return null == n11 && (n11 = r10), e31.push(t12), g10(e31, 0, e31.length - 1, n11);
    }, "heappush"), a10 = iM(function(e31, t12) {
      var n11, i11;
      return null == t12 && (t12 = r10), n11 = e31.pop(), e31.length ? (i11 = e31[0], e31[0] = n11, y10(e31, 0, t12)) : i11 = n11, i11;
    }, "heappop"), l10 = iM(function(e31, t12, n11) {
      var i11;
      return null == n11 && (n11 = r10), i11 = e31[0], e31[0] = t12, y10(e31, 0, n11), i11;
    }, "heapreplace"), o10 = iM(function(e31, t12, n11) {
      var i11;
      return null == n11 && (n11 = r10), e31.length && 0 > n11(e31[0], t12) && (t12 = (i11 = [e31[0], t12])[0], e31[0] = i11[1], y10(e31, 0, n11)), t12;
    }, "heappushpop"), i10 = iM(function(e31, t12) {
      var i11, a11, s11, o11, l11, h11;
      for (null == t12 && (t12 = r10), o11 = (function() {
        h11 = [];
        for (var t13 = 0, r11 = n10(e31.length / 2); 0 <= r11 ? t13 < r11 : t13 > r11; 0 <= r11 ? t13++ : t13--) h11.push(t13);
        return h11;
      }).apply(this).reverse(), l11 = [], a11 = 0, s11 = o11.length; a11 < s11; a11++) i11 = o11[a11], l11.push(y10(e31, i11, t12));
      return l11;
    }, "heapify"), f10 = iM(function(e31, t12, n11) {
      var i11;
      if (null == n11 && (n11 = r10), -1 !== (i11 = e31.indexOf(t12))) return g10(e31, 0, i11, n11), y10(e31, i11, n11);
    }, "updateItem"), d10 = iM(function(e31, t12, n11) {
      var a11, s11, l11, h11;
      if (null == n11 && (n11 = r10), !(a11 = e31.slice(0, t12)).length) return a11;
      for (i10(a11, n11), s11 = 0, l11 = (h11 = e31.slice(t12)).length; s11 < l11; s11++) o10(a11, h11[s11], n11);
      return a11.sort(n11).reverse();
    }, "nlargest"), p10 = iM(function(e31, t12, n11) {
      var s11, o11, l11, d11, p11, f11, g11, y11, v11;
      if (null == n11 && (n11 = r10), 10 * t12 <= e31.length) {
        if (!(l11 = e31.slice(0, t12).sort(n11)).length) return l11;
        for (d11 = 0, o11 = l11[l11.length - 1], f11 = (g11 = e31.slice(t12)).length; d11 < f11; d11++) 0 > n11(s11 = g11[d11], o11) && (h10(l11, s11, 0, null, n11), l11.pop(), o11 = l11[l11.length - 1]);
        return l11;
      }
      for (i10(e31, n11), v11 = [], p11 = 0, y11 = u10(t12, e31.length); 0 <= y11 ? p11 < y11 : p11 > y11; 0 <= y11 ? ++p11 : --p11) v11.push(a10(e31, n11));
      return v11;
    }, "nsmallest"), g10 = iM(function(e31, t12, n11, i11) {
      var a11, s11, o11;
      for (null == i11 && (i11 = r10), a11 = e31[n11]; n11 > t12; ) {
        if (0 > i11(a11, s11 = e31[o11 = n11 - 1 >> 1])) {
          e31[n11] = s11, n11 = o11;
          continue;
        }
        break;
      }
      return e31[n11] = a11;
    }, "_siftdown"), y10 = iM(function(e31, t12, n11) {
      var i11, a11, s11, o11, l11;
      for (null == n11 && (n11 = r10), a11 = e31.length, l11 = t12, s11 = e31[t12], i11 = 2 * t12 + 1; i11 < a11; ) (o11 = i11 + 1) < a11 && !(0 > n11(e31[i11], e31[o11])) && (i11 = o11), e31[t12] = e31[i11], i11 = 2 * (t12 = i11) + 1;
      return e31[t12] = s11, g10(e31, l11, t12, n11);
    }, "_siftup"), t11 = function() {
      function e31(e32) {
        this.cmp = null != e32 ? e32 : r10, this.nodes = [];
      }
      return e31.push = s10, e31.pop = a10, e31.replace = l10, e31.pushpop = o10, e31.heapify = i10, e31.updateItem = f10, e31.nlargest = d10, e31.nsmallest = p10, iM(e31, "Heap"), e31.prototype.push = function(e32) {
        return s10(this.nodes, e32, this.cmp);
      }, e31.prototype.pop = function() {
        return a10(this.nodes, this.cmp);
      }, e31.prototype.peek = function() {
        return this.nodes[0];
      }, e31.prototype.contains = function(e32) {
        return -1 !== this.nodes.indexOf(e32);
      }, e31.prototype.replace = function(e32) {
        return l10(this.nodes, e32, this.cmp);
      }, e31.prototype.pushpop = function(e32) {
        return o10(this.nodes, e32, this.cmp);
      }, e31.prototype.heapify = function() {
        return i10(this.nodes, this.cmp);
      }, e31.prototype.updateItem = function(e32) {
        return f10(this.nodes, e32, this.cmp);
      }, e31.prototype.clear = function() {
        return this.nodes = [];
      }, e31.prototype.empty = function() {
        return 0 === this.nodes.length;
      }, e31.prototype.size = function() {
        return this.nodes.length;
      }, e31.prototype.clone = function() {
        var t12;
        return (t12 = new e31()).nodes = this.nodes.slice(0), t12;
      }, e31.prototype.toArray = function() {
        return this.nodes.slice(0);
      }, e31.prototype.insert = e31.prototype.push, e31.prototype.top = e31.prototype.peek, e31.prototype.front = e31.prototype.peek, e31.prototype.has = e31.prototype.contains, e31.prototype.copy = e31.prototype.clone, e31;
    }(), v10 = function() {
      return t11;
    }, e30.exports = v10();
  }).call(ehS);
}), euP = eu_({ root: null, weight: iM(function(e30) {
  return 1;
}, "weight"), directed: false }), euB = { dijkstra: iM(function(e30) {
  if (!ecZ(e30)) {
    var t10 = arguments;
    e30 = { root: t10[0], weight: t10[1], directed: t10[2] };
  }
  var r10 = euP(e30), n10 = r10.root, i10 = r10.weight, a10 = r10.directed, s10 = this, o10 = ecG(n10) ? this.filter(n10)[0] : n10[0], l10 = {}, h10 = {}, u10 = {}, d10 = this.byGroup(), p10 = d10.nodes, f10 = d10.edges;
  f10.unmergeBy(function(e31) {
    return e31.isLoop();
  });
  for (var g10 = iM(function(e31) {
    return l10[e31.id()];
  }, "getDist"), y10 = iM(function(e31, t11) {
    l10[e31.id()] = t11, v10.updateItem(e31);
  }, "setDist"), v10 = new eu$(function(e31, t11) {
    return g10(e31) - g10(t11);
  }), x10 = 0; x10 < p10.length; x10++) {
    var b10 = p10[x10];
    l10[b10.id()] = b10.same(o10) ? 0 : 1 / 0, v10.push(b10);
  }
  for (var k10 = iM(function(e31, t11) {
    for (var r11, n11 = (a10 ? e31.edgesTo(t11) : e31.edgesWith(t11)).intersect(f10), s11 = 1 / 0, o11 = 0; o11 < n11.length; o11++) {
      var l11 = n11[o11], h11 = i10(l11);
      (h11 < s11 || !r11) && (s11 = h11, r11 = l11);
    }
    return { edge: r11, dist: s11 };
  }, "distBetween"); v10.size() > 0; ) {
    var w10 = v10.pop(), _10 = g10(w10);
    if (u10[w10.id()] = _10, _10 !== 1 / 0) for (var T10 = w10.neighborhood().intersect(p10), S10 = 0; S10 < T10.length; S10++) {
      var C10 = T10[S10], E10 = C10.id(), A10 = k10(w10, C10), L10 = _10 + A10.dist;
      L10 < g10(C10) && (y10(C10, L10), h10[E10] = { node: w10, edge: A10.edge });
    }
  }
  return { distanceTo: iM(function(e31) {
    return u10[(ecG(e31) ? p10.filter(e31)[0] : e31[0]).id()];
  }, "distanceTo"), pathTo: iM(function(e31) {
    var t11 = ecG(e31) ? p10.filter(e31)[0] : e31[0], r11 = [], n11 = t11, i11 = n11.id();
    if (t11.length > 0) for (r11.unshift(t11); h10[i11]; ) {
      var a11 = h10[i11];
      r11.unshift(a11.edge), r11.unshift(a11.node), i11 = (n11 = a11.node).id();
    }
    return s10.spawn(r11);
  }, "pathTo") };
}, "dijkstra") }, euF = { kruskal: iM(function(e30) {
  e30 = e30 || function(e31) {
    return 1;
  };
  for (var t10 = this.byGroup(), r10 = t10.nodes, n10 = t10.edges, i10 = r10.length, a10 = Array(i10), s10 = iM(function(e31) {
    for (var t11 = 0; t11 < a10.length; t11++) if (a10[t11].has(e31)) return t11;
  }, "findSetIndex"), o10 = 0; o10 < i10; o10++) a10[o10] = this.spawn(r10[o10]);
  for (var l10 = n10.sort(function(t11, r11) {
    return e30(t11) - e30(r11);
  }), h10 = 0; h10 < l10.length; h10++) {
    var u10 = l10[h10], d10 = u10.source()[0], p10 = u10.target()[0], f10 = s10(d10), g10 = s10(p10), y10 = a10[f10], v10 = a10[g10];
    f10 !== g10 && (r10.merge(u10), y10.merge(v10), a10.splice(g10, 1));
  }
  return r10;
}, "kruskal") }, euz = eu_({ root: null, goal: null, weight: iM(function(e30) {
  return 1;
}, "weight"), heuristic: iM(function(e30) {
  return 0;
}, "heuristic"), directed: false }), euj = { aStar: iM(function(e30) {
  var t10, r10, n10 = this.cy(), i10 = euz(e30), a10 = i10.root, s10 = i10.goal, o10 = i10.heuristic, l10 = i10.directed, h10 = i10.weight;
  a10 = n10.collection(a10)[0], s10 = n10.collection(s10)[0];
  var u10 = a10.id(), d10 = s10.id(), p10 = {}, f10 = {}, g10 = {}, y10 = new eu$(function(e31, t11) {
    return f10[e31.id()] - f10[t11.id()];
  }), v10 = new euN(), x10 = {}, b10 = {}, k10 = iM(function(e31, t11) {
    y10.push(e31), v10.add(t11);
  }, "addToOpenSet"), w10 = iM(function() {
    r10 = (t10 = y10.pop()).id(), v10.delete(r10);
  }, "popFromOpenSet"), _10 = iM(function(e31) {
    return v10.has(e31);
  }, "isInOpenSet");
  k10(a10, u10), p10[u10] = 0, f10[u10] = o10(a10);
  for (var T10 = 0; y10.size() > 0; ) {
    if (w10(), T10++, r10 === d10) {
      for (var S10 = [], C10 = s10, E10 = d10, A10 = b10[E10]; S10.unshift(C10), null != A10 && S10.unshift(A10), null != (C10 = x10[E10]); ) A10 = b10[E10 = C10.id()];
      return { found: true, distance: p10[r10], path: this.spawn(S10), steps: T10 };
    }
    g10[r10] = true;
    for (var L10 = t10._private.edges, I10 = 0; I10 < L10.length; I10++) {
      var M10 = L10[I10];
      if (this.hasElementWithId(M10.id()) && (!l10 || M10.data("source") === r10)) {
        var N10 = M10.source(), R10 = M10.target(), D10 = N10.id() !== r10 ? N10 : R10, O10 = D10.id();
        if (this.hasElementWithId(O10) && !g10[O10]) {
          var $10 = p10[r10] + h10(M10);
          if (!_10(O10)) {
            p10[O10] = $10, f10[O10] = $10 + o10(D10), k10(D10, O10), x10[O10] = t10, b10[O10] = M10;
            continue;
          }
          $10 < p10[O10] && (p10[O10] = $10, f10[O10] = $10 + o10(D10), x10[O10] = t10, b10[O10] = M10);
        }
      }
    }
  }
  return { found: false, distance: void 0, path: void 0, steps: T10 };
}, "aStar") }, euq = eu_({ weight: iM(function(e30) {
  return 1;
}, "weight"), directed: false }), euU = { floydWarshall: iM(function(e30) {
  for (var t10 = this.cy(), r10 = euq(e30), n10 = r10.weight, i10 = r10.directed, a10 = this.byGroup(), s10 = a10.nodes, o10 = a10.edges, l10 = s10.length, h10 = l10 * l10, u10 = iM(function(e31) {
    return s10.indexOf(e31);
  }, "indexOf"), d10 = iM(function(e31) {
    return s10[e31];
  }, "atIndex"), p10 = Array(h10), f10 = 0; f10 < h10; f10++) {
    var g10 = f10 % l10;
    (f10 - g10) / l10 === g10 ? p10[f10] = 0 : p10[f10] = 1 / 0;
  }
  for (var y10 = Array(h10), v10 = Array(h10), x10 = 0; x10 < o10.length; x10++) {
    var b10 = o10[x10], k10 = b10.source()[0], w10 = b10.target()[0];
    if (k10 !== w10) {
      var _10 = u10(k10), T10 = u10(w10), S10 = _10 * l10 + T10, C10 = n10(b10);
      if (p10[S10] > C10 && (p10[S10] = C10, y10[S10] = T10, v10[S10] = b10), !i10) {
        var E10 = T10 * l10 + _10;
        !i10 && p10[E10] > C10 && (p10[E10] = C10, y10[E10] = _10, v10[E10] = b10);
      }
    }
  }
  for (var A10 = 0; A10 < l10; A10++) for (var L10 = 0; L10 < l10; L10++) for (var I10 = L10 * l10 + A10, M10 = 0; M10 < l10; M10++) {
    var N10 = L10 * l10 + M10, R10 = A10 * l10 + M10;
    p10[I10] + p10[R10] < p10[N10] && (p10[N10] = p10[I10] + p10[R10], y10[N10] = y10[I10]);
  }
  var D10 = iM(function(e31) {
    return (ecG(e31) ? t10.filter(e31) : e31)[0];
  }, "getArgEle"), O10 = iM(function(e31) {
    return u10(D10(e31));
  }, "indexOfArgEle");
  return { distance: iM(function(e31, t11) {
    return p10[O10(e31) * l10 + O10(t11)];
  }, "distance"), path: iM(function(e31, r11) {
    var n11, i11 = O10(e31), a11 = O10(r11), s11 = d10(i11);
    if (i11 === a11) return s11.collection();
    if (null == y10[i11 * l10 + a11]) return t10.collection();
    var o11 = t10.collection(), h11 = i11;
    for (o11.merge(s11); i11 !== a11; ) h11 = i11, i11 = y10[i11 * l10 + a11], n11 = v10[h11 * l10 + i11], o11.merge(n11), o11.merge(d10(i11));
    return o11;
  }, "path") };
}, "floydWarshall") }, euW = eu_({ weight: iM(function(e30) {
  return 1;
}, "weight"), directed: false, root: null }), euV = { bellmanFord: iM(function(e30) {
  var t10 = this, r10 = euW(e30), n10 = r10.weight, i10 = r10.directed, a10 = r10.root, s10 = this, o10 = this.cy(), l10 = this.byGroup(), h10 = l10.edges, u10 = l10.nodes, d10 = u10.length, p10 = new euI(), f10 = false, g10 = [];
  a10 = o10.collection(a10)[0], h10.unmergeBy(function(e31) {
    return e31.isLoop();
  });
  for (var y10 = h10.length, v10 = iM(function(e31) {
    var t11 = p10.get(e31.id());
    return t11 || (t11 = {}, p10.set(e31.id(), t11)), t11;
  }, "getInfo"), x10 = iM(function(e31) {
    return (ecG(e31) ? o10.$(e31) : e31)[0];
  }, "getNodeFromTo"), b10 = iM(function(e31) {
    return v10(x10(e31)).dist;
  }, "distanceTo"), k10 = iM(function(e31) {
    for (var r11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : a10, n11 = x10(e31), i11 = [], o11 = n11; ; ) {
      if (null == o11) return t10.spawn();
      var l11 = v10(o11), h11 = l11.edge, u11 = l11.pred;
      if (i11.unshift(o11[0]), o11.same(r11) && i11.length > 0) break;
      null != h11 && i11.unshift(h11), o11 = u11;
    }
    return s10.spawn(i11);
  }, "pathTo"), w10 = 0; w10 < d10; w10++) {
    var _10 = u10[w10], T10 = v10(_10);
    _10.same(a10) ? T10.dist = 0 : T10.dist = 1 / 0, T10.pred = null, T10.edge = null;
  }
  for (var S10 = false, C10 = iM(function(e31, t11, r11, n11, i11, a11) {
    var s11 = n11.dist + a11;
    s11 < i11.dist && !r11.same(n11.edge) && (i11.dist = s11, i11.pred = e31, i11.edge = r11, S10 = true);
  }, "checkForEdgeReplacement"), E10 = 1; E10 < d10; E10++) {
    S10 = false;
    for (var A10 = 0; A10 < y10; A10++) {
      var L10 = h10[A10], I10 = L10.source(), M10 = L10.target(), N10 = n10(L10), R10 = v10(I10), D10 = v10(M10);
      C10(I10, M10, L10, R10, D10, N10), i10 || C10(M10, I10, L10, D10, R10, N10);
    }
    if (!S10) break;
  }
  if (S10) for (var O10 = [], $10 = 0; $10 < y10; $10++) {
    var P10 = h10[$10], B10 = P10.source(), F10 = P10.target(), z10 = n10(P10), j10 = v10(B10).dist, q10 = v10(F10).dist;
    if (j10 + z10 < q10 || !i10 && q10 + z10 < j10) {
      if (f10 || (eum("Graph contains a negative weight cycle for Bellman-Ford"), f10 = true), false !== e30.findNegativeWeightCycles) {
        var U10 = [];
        j10 + z10 < q10 && U10.push(B10), !i10 && q10 + z10 < j10 && U10.push(F10);
        for (var W10 = U10.length, V10 = 0; V10 < W10; V10++) {
          var H10 = U10[V10], Y10 = [H10];
          Y10.push(v10(H10).edge);
          for (var G10 = v10(H10).pred; -1 === Y10.indexOf(G10); ) Y10.push(G10), Y10.push(v10(G10).edge), G10 = v10(G10).pred;
          for (var X10 = (Y10 = Y10.slice(Y10.indexOf(G10)))[0].id(), K10 = 0, Z10 = 2; Z10 < Y10.length; Z10 += 2) Y10[Z10].id() < X10 && (X10 = Y10[Z10].id(), K10 = Z10);
          (Y10 = Y10.slice(K10).concat(Y10.slice(0, K10))).push(Y10[0]);
          var Q10 = Y10.map(function(e31) {
            return e31.id();
          }).join(",");
          -1 === O10.indexOf(Q10) && (g10.push(s10.spawn(Y10)), O10.push(Q10));
        }
      } else break;
    }
  }
  return { distanceTo: b10, pathTo: k10, hasNegativeWeightCycle: f10, negativeWeightCycles: g10 };
}, "bellmanFord") }, euH = Math.sqrt(2), euY = iM(function(e30, t10, r10) {
  0 === r10.length && euf("Karger-Stein must be run on a connected (sub)graph");
  for (var n10 = r10[e30], i10 = n10[1], a10 = n10[2], s10 = t10[i10], o10 = t10[a10], l10 = r10.length - 1; l10 >= 0; l10--) {
    var h10 = r10[l10], u10 = h10[1], d10 = h10[2];
    (t10[u10] === s10 && t10[d10] === o10 || t10[u10] === o10 && t10[d10] === s10) && r10.splice(l10, 1);
  }
  for (var p10 = 0; p10 < r10.length; p10++) {
    var f10 = r10[p10];
    f10[1] === o10 ? (r10[p10] = f10.slice(), r10[p10][1] = s10) : f10[2] === o10 && (r10[p10] = f10.slice(), r10[p10][2] = s10);
  }
  for (var g10 = 0; g10 < t10.length; g10++) t10[g10] === o10 && (t10[g10] = s10);
  return r10;
}, "collapse"), euG = iM(function(e30, t10, r10, n10) {
  for (; r10 > n10; ) t10 = euY(Math.floor(Math.random() * t10.length), e30, t10), r10--;
  return t10;
}, "contractUntil"), euX = { kargerStein: iM(function() {
  var e30 = this, t10 = this.byGroup(), r10 = t10.nodes, n10 = t10.edges;
  n10.unmergeBy(function(e31) {
    return e31.isLoop();
  });
  var i10 = r10.length, a10 = n10.length, s10 = Math.ceil(Math.pow(Math.log(i10) / Math.LN2, 2)), o10 = Math.floor(i10 / euH);
  if (i10 < 2) {
    euf("At least 2 nodes are required for Karger-Stein algorithm");
    return;
  }
  for (var l10 = [], h10 = 0; h10 < a10; h10++) {
    var u10 = n10[h10];
    l10.push([h10, r10.indexOf(u10.source()), r10.indexOf(u10.target())]);
  }
  for (var d10 = 1 / 0, p10 = [], f10 = Array(i10), g10 = Array(i10), y10 = Array(i10), v10 = iM(function(e31, t11) {
    for (var r11 = 0; r11 < i10; r11++) t11[r11] = e31[r11];
  }, "copyNodesMap"), x10 = 0; x10 <= s10; x10++) {
    for (var b10 = 0; b10 < i10; b10++) g10[b10] = b10;
    var k10 = euG(g10, l10.slice(), i10, o10), w10 = k10.slice();
    v10(g10, y10);
    var _10 = euG(g10, k10, o10, 2), T10 = euG(y10, w10, o10, 2);
    _10.length <= T10.length && _10.length < d10 ? (d10 = _10.length, p10 = _10, v10(g10, f10)) : T10.length <= _10.length && T10.length < d10 && (d10 = T10.length, p10 = T10, v10(y10, f10));
  }
  for (var S10 = this.spawn(p10.map(function(e31) {
    return n10[e31[0]];
  })), C10 = this.spawn(), E10 = this.spawn(), A10 = f10[0], L10 = 0; L10 < f10.length; L10++) {
    var I10 = f10[L10], M10 = r10[L10];
    I10 === A10 ? C10.merge(M10) : E10.merge(M10);
  }
  var N10 = iM(function(t11) {
    var r11 = e30.spawn();
    return t11.forEach(function(t12) {
      r11.merge(t12), t12.connectedEdges().forEach(function(t13) {
        e30.contains(t13) && !S10.contains(t13) && r11.merge(t13);
      });
    }), r11;
  }, "constructComponent");
  return { cut: S10, components: [N10(C10), N10(E10)], partition1: C10, partition2: E10 };
}, "kargerStein") }, euK = iM(function(e30) {
  return { x: e30.x, y: e30.y };
}, "copyPosition"), euZ = iM(function(e30, t10, r10) {
  return { x: e30.x * t10 + r10.x, y: e30.y * t10 + r10.y };
}, "modelToRenderedPosition"), euQ = iM(function(e30, t10, r10) {
  return { x: (e30.x - r10.x) / t10, y: (e30.y - r10.y) / t10 };
}, "renderedToModelPosition"), euJ = iM(function(e30) {
  return { x: e30[0], y: e30[1] };
}, "array2point"), eu0 = iM(function(e30) {
  for (var t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e30.length, n10 = 1 / 0, i10 = t10; i10 < r10; i10++) {
    var a10 = e30[i10];
    isFinite(a10) && (n10 = Math.min(a10, n10));
  }
  return n10;
}, "min"), eu1 = iM(function(e30) {
  for (var t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e30.length, n10 = -1 / 0, i10 = t10; i10 < r10; i10++) {
    var a10 = e30[i10];
    isFinite(a10) && (n10 = Math.max(a10, n10));
  }
  return n10;
}, "max"), eu2 = iM(function(e30) {
  for (var t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e30.length, n10 = 0, i10 = 0, a10 = t10; a10 < r10; a10++) {
    var s10 = e30[a10];
    isFinite(s10) && (n10 += s10, i10++);
  }
  return n10 / i10;
}, "mean"), eu4 = iM(function(e30) {
  var t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e30.length, n10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], i10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], a10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5];
  n10 ? e30 = e30.slice(t10, r10) : (r10 < e30.length && e30.splice(r10, e30.length - r10), t10 > 0 && e30.splice(0, t10));
  for (var s10 = 0, o10 = e30.length - 1; o10 >= 0; o10--) {
    var l10 = e30[o10];
    a10 ? !isFinite(l10) && (e30[o10] = -1 / 0, s10++) : e30.splice(o10, 1);
  }
  i10 && e30.sort(function(e31, t11) {
    return e31 - t11;
  });
  var h10 = e30.length, u10 = Math.floor(h10 / 2);
  return h10 % 2 != 0 ? e30[u10 + 1 + s10] : (e30[u10 - 1 + s10] + e30[u10 + s10]) / 2;
}, "median"), eu3 = iM(function(e30) {
  return Math.PI * e30 / 180;
}, "deg2rad"), eu5 = iM(function(e30, t10) {
  return Math.atan2(t10, e30) - Math.PI / 2;
}, "getAngleFromDisp"), eu6 = Math.log2 || function(e30) {
  return Math.log(e30) / Math.log(2);
}, eu7 = iM(function(e30) {
  return e30 > 0 ? 1 : e30 < 0 ? -1 : 0;
}, "signum"), eu8 = iM(function(e30, t10) {
  return Math.sqrt(eu9(e30, t10));
}, "dist"), eu9 = iM(function(e30, t10) {
  var r10 = t10.x - e30.x, n10 = t10.y - e30.y;
  return r10 * r10 + n10 * n10;
}, "sqdist"), ede = iM(function(e30) {
  for (var t10 = e30.length, r10 = 0, n10 = 0; n10 < t10; n10++) r10 += e30[n10];
  for (var i10 = 0; i10 < t10; i10++) e30[i10] = e30[i10] / r10;
  return e30;
}, "inPlaceSumNormalize"), edt = iM(function(e30, t10, r10, n10) {
  return (1 - n10) * (1 - n10) * e30 + 2 * (1 - n10) * n10 * t10 + n10 * n10 * r10;
}, "qbezierAt"), edr = iM(function(e30, t10, r10, n10) {
  return { x: edt(e30.x, t10.x, r10.x, n10), y: edt(e30.y, t10.y, r10.y, n10) };
}, "qbezierPtAt"), edn = iM(function(e30, t10, r10, n10) {
  var i10 = { x: t10.x - e30.x, y: t10.y - e30.y }, a10 = eu8(e30, t10), s10 = { x: i10.x / a10, y: i10.y / a10 };
  return r10 = null == r10 ? 0 : r10, n10 = null != n10 ? n10 : r10 * a10, { x: e30.x + s10.x * n10, y: e30.y + s10.y * n10 };
}, "lineAt"), edi = iM(function(e30, t10, r10) {
  return Math.max(e30, Math.min(r10, t10));
}, "bound"), eda = iM(function(e30) {
  if (null == e30) return { x1: 1 / 0, y1: 1 / 0, x2: -1 / 0, y2: -1 / 0, w: 0, h: 0 };
  if (null != e30.x1 && null != e30.y1) {
    if (null != e30.x2 && null != e30.y2 && e30.x2 >= e30.x1 && e30.y2 >= e30.y1) return { x1: e30.x1, y1: e30.y1, x2: e30.x2, y2: e30.y2, w: e30.x2 - e30.x1, h: e30.y2 - e30.y1 };
    if (null != e30.w && null != e30.h && e30.w >= 0 && e30.h >= 0) return { x1: e30.x1, y1: e30.y1, x2: e30.x1 + e30.w, y2: e30.y1 + e30.h, w: e30.w, h: e30.h };
  }
}, "makeBoundingBox"), eds = iM(function(e30) {
  return { x1: e30.x1, x2: e30.x2, w: e30.w, y1: e30.y1, y2: e30.y2, h: e30.h };
}, "copyBoundingBox"), edo = iM(function(e30) {
  e30.x1 = 1 / 0, e30.y1 = 1 / 0, e30.x2 = -1 / 0, e30.y2 = -1 / 0, e30.w = 0, e30.h = 0;
}, "clearBoundingBox"), edl = iM(function(e30, t10, r10) {
  return { x1: e30.x1 + t10, x2: e30.x2 + t10, y1: e30.y1 + r10, y2: e30.y2 + r10, w: e30.w, h: e30.h };
}, "shiftBoundingBox"), edc = iM(function(e30, t10) {
  e30.x1 = Math.min(e30.x1, t10.x1), e30.x2 = Math.max(e30.x2, t10.x2), e30.w = e30.x2 - e30.x1, e30.y1 = Math.min(e30.y1, t10.y1), e30.y2 = Math.max(e30.y2, t10.y2), e30.h = e30.y2 - e30.y1;
}, "updateBoundingBox"), edh = iM(function(e30, t10, r10) {
  e30.x1 = Math.min(e30.x1, t10), e30.x2 = Math.max(e30.x2, t10), e30.w = e30.x2 - e30.x1, e30.y1 = Math.min(e30.y1, r10), e30.y2 = Math.max(e30.y2, r10), e30.h = e30.y2 - e30.y1;
}, "expandBoundingBoxByPoint"), edu = iM(function(e30) {
  var t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
  return e30.x1 -= t10, e30.x2 += t10, e30.y1 -= t10, e30.y2 += t10, e30.w = e30.x2 - e30.x1, e30.h = e30.y2 - e30.y1, e30;
}, "expandBoundingBox"), edd = iM(function(e30) {
  var t10, r10, n10, i10, a10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [0];
  if (1 === a10.length) t10 = r10 = n10 = i10 = a10[0];
  else if (2 === a10.length) t10 = n10 = a10[0], i10 = r10 = a10[1];
  else if (4 === a10.length) {
    var s10 = ecD(a10, 4);
    t10 = s10[0], r10 = s10[1], n10 = s10[2], i10 = s10[3];
  }
  return e30.x1 -= i10, e30.x2 += r10, e30.y1 -= t10, e30.y2 += n10, e30.w = e30.x2 - e30.x1, e30.h = e30.y2 - e30.y1, e30;
}, "expandBoundingBoxSides"), edp = iM(function(e30, t10) {
  e30.x1 = t10.x1, e30.y1 = t10.y1, e30.x2 = t10.x2, e30.y2 = t10.y2, e30.w = e30.x2 - e30.x1, e30.h = e30.y2 - e30.y1;
}, "assignBoundingBox"), edf = iM(function(e30, t10) {
  return !(e30.x1 > t10.x2) && !(t10.x1 > e30.x2) && !(e30.x2 < t10.x1) && !(t10.x2 < e30.x1) && !(e30.y2 < t10.y1) && !(t10.y2 < e30.y1) && !(e30.y1 > t10.y2) && !(t10.y1 > e30.y2);
}, "boundingBoxesIntersect"), edg = iM(function(e30, t10, r10) {
  return e30.x1 <= t10 && t10 <= e30.x2 && e30.y1 <= r10 && r10 <= e30.y2;
}, "inBoundingBox"), edm = iM(function(e30, t10) {
  return edg(e30, t10.x, t10.y);
}, "pointInBoundingBox"), edy = iM(function(e30, t10) {
  return edg(e30, t10.x1, t10.y1) && edg(e30, t10.x2, t10.y2);
}, "boundingBoxInBoundingBox"), edv = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  var o10, l10, h10 = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : "auto", u10 = "auto" === h10 ? edj(i10, a10) : h10, d10 = i10 / 2, p10 = a10 / 2, f10 = (u10 = Math.min(u10, d10, p10)) !== d10, g10 = u10 !== p10;
  if (f10) {
    var y10 = r10 - d10 + u10 - s10, v10 = n10 - p10 - s10, x10 = r10 + d10 - u10 + s10;
    if ((o10 = edD(e30, t10, r10, n10, y10, v10, x10, v10, false)).length > 0) return o10;
  }
  if (g10) {
    var b10 = r10 + d10 + s10, k10 = n10 - p10 + u10 - s10, w10 = n10 + p10 - u10 + s10;
    if ((o10 = edD(e30, t10, r10, n10, b10, k10, b10, w10, false)).length > 0) return o10;
  }
  if (f10) {
    var _10 = r10 - d10 + u10 - s10, T10 = n10 + p10 + s10, S10 = r10 + d10 - u10 + s10;
    if ((o10 = edD(e30, t10, r10, n10, _10, T10, S10, T10, false)).length > 0) return o10;
  }
  if (g10) {
    var C10 = r10 - d10 - s10, E10 = n10 - p10 + u10 - s10, A10 = n10 + p10 - u10 + s10;
    if ((o10 = edD(e30, t10, r10, n10, C10, E10, C10, A10, false)).length > 0) return o10;
  }
  var L10 = r10 - d10 + u10, I10 = n10 - p10 + u10;
  if ((l10 = edN(e30, t10, r10, n10, L10, I10, u10 + s10)).length > 0 && l10[0] <= L10 && l10[1] <= I10) return [l10[0], l10[1]];
  var M10 = r10 + d10 - u10, N10 = n10 - p10 + u10;
  if ((l10 = edN(e30, t10, r10, n10, M10, N10, u10 + s10)).length > 0 && l10[0] >= M10 && l10[1] <= N10) return [l10[0], l10[1]];
  var R10 = r10 + d10 - u10, D10 = n10 + p10 - u10;
  if ((l10 = edN(e30, t10, r10, n10, R10, D10, u10 + s10)).length > 0 && l10[0] >= R10 && l10[1] >= D10) return [l10[0], l10[1]];
  var O10 = r10 - d10 + u10, $10 = n10 + p10 - u10;
  return (l10 = edN(e30, t10, r10, n10, O10, $10, u10 + s10)).length > 0 && l10[0] <= O10 && l10[1] >= $10 ? [l10[0], l10[1]] : [];
}, "roundRectangleIntersectLine"), edx = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  var o10 = Math.min(r10, i10), l10 = Math.max(r10, i10), h10 = Math.min(n10, a10), u10 = Math.max(n10, a10);
  return o10 - s10 <= e30 && e30 <= l10 + s10 && h10 - s10 <= t10 && t10 <= u10 + s10;
}, "inLineVicinity"), edb = iM(function(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  var h10 = { x1: Math.min(r10, s10, i10) - l10, x2: Math.max(r10, s10, i10) + l10, y1: Math.min(n10, o10, a10) - l10, y2: Math.max(n10, o10, a10) + l10 };
  return !(e30 < h10.x1) && !(e30 > h10.x2) && !(t10 < h10.y1) && !(t10 > h10.y2);
}, "inBezierVicinity"), edk = iM(function(e30, t10, r10, n10) {
  var i10 = t10 * t10 - 4 * e30 * (r10 -= n10);
  if (i10 < 0) return [];
  var a10 = Math.sqrt(i10), s10 = 2 * e30;
  return [(-t10 + a10) / s10, (-t10 - a10) / s10];
}, "solveQuadratic"), edw = iM(function(e30, t10, r10, n10, i10) {
  var a10, s10, o10, l10, h10, u10, d10, p10;
  if (0 === e30 && (e30 = 1e-5), t10 /= e30, r10 /= e30, n10 /= e30, a10 = (s10 = (3 * r10 - t10 * t10) / 9) * s10 * s10 + (o10 = (-(27 * n10) + t10 * (9 * r10 - t10 * t10 * 2)) / 54) * o10, i10[1] = 0, d10 = t10 / 3, a10 > 0) {
    h10 = (h10 = o10 + Math.sqrt(a10)) < 0 ? -Math.pow(-h10, 1 / 3) : Math.pow(h10, 1 / 3), u10 = (u10 = o10 - Math.sqrt(a10)) < 0 ? -Math.pow(-u10, 1 / 3) : Math.pow(u10, 1 / 3), i10[0] = -d10 + h10 + u10, d10 += (h10 + u10) / 2, i10[4] = i10[2] = -d10, d10 = Math.sqrt(3) * (-u10 + h10) / 2, i10[3] = d10, i10[5] = -d10;
    return;
  }
  if (i10[5] = i10[3] = 0, 0 === a10) {
    p10 = o10 < 0 ? -Math.pow(-o10, 1 / 3) : Math.pow(o10, 1 / 3), i10[0] = -d10 + 2 * p10, i10[4] = i10[2] = -(p10 + d10);
    return;
  }
  l10 = Math.acos(o10 / Math.sqrt(l10 = (s10 = -s10) * s10 * s10)), p10 = 2 * Math.sqrt(s10), i10[0] = -d10 + p10 * Math.cos(l10 / 3), i10[2] = -d10 + p10 * Math.cos((l10 + 2 * Math.PI) / 3), i10[4] = -d10 + p10 * Math.cos((l10 + 4 * Math.PI) / 3);
}, "solveCubic"), ed_ = iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
  var l10, h10 = [];
  edw(1 * r10 * r10 - 4 * r10 * i10 + 2 * r10 * s10 + 4 * i10 * i10 - 4 * i10 * s10 + s10 * s10 + n10 * n10 - 4 * n10 * a10 + 2 * n10 * o10 + 4 * a10 * a10 - 4 * a10 * o10 + o10 * o10, 9 * r10 * i10 - 3 * r10 * r10 - 3 * r10 * s10 - 6 * i10 * i10 + 3 * i10 * s10 + 9 * n10 * a10 - 3 * n10 * n10 - 3 * n10 * o10 - 6 * a10 * a10 + 3 * a10 * o10, 3 * r10 * r10 - 6 * r10 * i10 + r10 * s10 - r10 * e30 + 2 * i10 * i10 + 2 * i10 * e30 - s10 * e30 + 3 * n10 * n10 - 6 * n10 * a10 + n10 * o10 - n10 * t10 + 2 * a10 * a10 + 2 * a10 * t10 - o10 * t10, 1 * r10 * i10 - r10 * r10 + r10 * e30 - i10 * e30 + n10 * a10 - n10 * n10 + n10 * t10 - a10 * t10, h10);
  for (var u10 = [], d10 = 0; d10 < 6; d10 += 2) 1e-7 > Math.abs(h10[d10 + 1]) && h10[d10] >= 0 && h10[d10] <= 1 && u10.push(h10[d10]);
  u10.push(1), u10.push(0);
  for (var p10 = -1, f10 = 0; f10 < u10.length; f10++) l10 = Math.pow(Math.pow(1 - u10[f10], 2) * r10 + 2 * (1 - u10[f10]) * u10[f10] * i10 + u10[f10] * u10[f10] * s10 - e30, 2) + Math.pow(Math.pow(1 - u10[f10], 2) * n10 + 2 * (1 - u10[f10]) * u10[f10] * a10 + u10[f10] * u10[f10] * o10 - t10, 2), p10 >= 0 ? l10 < p10 && (p10 = l10) : p10 = l10;
  return p10;
}, "sqdistToQuadraticBezier"), edT = iM(function(e30, t10, r10, n10, i10, a10) {
  var s10 = [e30 - r10, t10 - n10], o10 = [i10 - r10, a10 - n10], l10 = o10[0] * o10[0] + o10[1] * o10[1], h10 = s10[0] * s10[0] + s10[1] * s10[1], u10 = s10[0] * o10[0] + s10[1] * o10[1], d10 = u10 * u10 / l10;
  return u10 < 0 ? h10 : d10 > l10 ? (e30 - i10) * (e30 - i10) + (t10 - a10) * (t10 - a10) : h10 - d10;
}, "sqdistToFiniteLine"), edS = iM(function(e30, t10, r10) {
  for (var n10, i10, a10, s10, o10 = 0, l10 = 0; l10 < r10.length / 2; l10++) if (n10 = r10[2 * l10], i10 = r10[2 * l10 + 1], l10 + 1 < r10.length / 2 ? (a10 = r10[(l10 + 1) * 2], s10 = r10[(l10 + 1) * 2 + 1]) : (a10 = r10[(l10 + 1 - r10.length / 2) * 2], s10 = r10[(l10 + 1 - r10.length / 2) * 2 + 1]), n10 == e30 && a10 == e30) ;
  else {
    if ((!(n10 >= e30) || !(e30 >= a10)) && (!(n10 <= e30) || !(e30 <= a10))) continue;
    (e30 - n10) / (a10 - n10) * (s10 - i10) + i10 > t10 && o10++;
  }
  return o10 % 2 != 0;
}, "pointInsidePolygonPoints"), edC = iM(function(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  var h10, u10 = Array(r10.length);
  null != o10[0] ? (h10 = Math.atan(o10[1] / o10[0]), o10[0] < 0 ? h10 += Math.PI / 2 : h10 = -h10 - Math.PI / 2) : h10 = o10;
  for (var d10 = Math.cos(-h10), p10 = Math.sin(-h10), f10 = 0; f10 < u10.length / 2; f10++) u10[2 * f10] = a10 / 2 * (r10[2 * f10] * d10 - r10[2 * f10 + 1] * p10), u10[2 * f10 + 1] = s10 / 2 * (r10[2 * f10 + 1] * d10 + r10[2 * f10] * p10), u10[2 * f10] += n10, u10[2 * f10 + 1] += i10;
  return edS(e30, t10, l10 > 0 ? edA(edL(u10, -l10)) : u10);
}, "pointInsidePolygon"), edE = iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
  for (var l10 = Array(2 * r10.length), h10 = 0; h10 < o10.length; h10++) {
    var u10 = o10[h10];
    if (l10[4 * h10 + 0] = u10.startX, l10[4 * h10 + 1] = u10.startY, l10[4 * h10 + 2] = u10.stopX, l10[4 * h10 + 3] = u10.stopY, Math.pow(u10.cx - e30, 2) + Math.pow(u10.cy - t10, 2) <= Math.pow(u10.radius, 2)) return true;
  }
  return edS(e30, t10, l10);
}, "pointInsideRoundPolygon"), edA = iM(function(e30) {
  for (var t10, r10, n10, i10, a10, s10, o10, l10, h10 = Array(e30.length / 2), u10 = 0; u10 < e30.length / 4; u10++) {
    t10 = e30[4 * u10], r10 = e30[4 * u10 + 1], n10 = e30[4 * u10 + 2], i10 = e30[4 * u10 + 3], u10 < e30.length / 4 - 1 ? (a10 = e30[(u10 + 1) * 4], s10 = e30[(u10 + 1) * 4 + 1], o10 = e30[(u10 + 1) * 4 + 2], l10 = e30[(u10 + 1) * 4 + 3]) : (a10 = e30[0], s10 = e30[1], o10 = e30[2], l10 = e30[3]);
    var d10 = edD(t10, r10, n10, i10, a10, s10, o10, l10, true);
    h10[2 * u10] = d10[0], h10[2 * u10 + 1] = d10[1];
  }
  return h10;
}, "joinLines"), edL = iM(function(e30, t10) {
  for (var r10, n10, i10, a10, s10 = Array(2 * e30.length), o10 = 0; o10 < e30.length / 2; o10++) {
    r10 = e30[2 * o10], n10 = e30[2 * o10 + 1], o10 < e30.length / 2 - 1 ? (i10 = e30[(o10 + 1) * 2], a10 = e30[(o10 + 1) * 2 + 1]) : (i10 = e30[0], a10 = e30[1]);
    var l10 = a10 - n10, h10 = -(i10 - r10), u10 = Math.sqrt(l10 * l10 + h10 * h10), d10 = l10 / u10, p10 = h10 / u10;
    s10[4 * o10] = r10 + d10 * t10, s10[4 * o10 + 1] = n10 + p10 * t10, s10[4 * o10 + 2] = i10 + d10 * t10, s10[4 * o10 + 3] = a10 + p10 * t10;
  }
  return s10;
}, "expandPolygon"), edI = iM(function(e30, t10, r10, n10, i10, a10) {
  var s10 = r10 - e30, o10 = n10 - t10, l10 = Math.sqrt((s10 /= i10) * s10 + (o10 /= a10) * o10), h10 = l10 - 1;
  if (h10 < 0) return [];
  var u10 = h10 / l10;
  return [(r10 - e30) * u10 + e30, (n10 - t10) * u10 + t10];
}, "intersectLineEllipse"), edM = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  return e30 -= i10, t10 -= a10, (e30 /= r10 / 2 + s10) * e30 + (t10 /= n10 / 2 + s10) * t10 <= 1;
}, "checkInEllipse"), edN = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  var o10 = [r10 - e30, n10 - t10], l10 = [e30 - i10, t10 - a10], h10 = o10[0] * o10[0] + o10[1] * o10[1], u10 = 2 * (l10[0] * o10[0] + l10[1] * o10[1]), d10 = u10 * u10 - 4 * h10 * (l10[0] * l10[0] + l10[1] * l10[1] - s10 * s10);
  if (d10 < 0) return [];
  var p10 = (-u10 + Math.sqrt(d10)) / (2 * h10), f10 = (-u10 - Math.sqrt(d10)) / (2 * h10), g10 = Math.min(p10, f10), y10 = Math.max(p10, f10), v10 = [];
  if (g10 >= 0 && g10 <= 1 && v10.push(g10), y10 >= 0 && y10 <= 1 && v10.push(y10), 0 === v10.length) return [];
  var x10 = v10[0] * o10[0] + e30, b10 = v10[0] * o10[1] + t10;
  return v10.length > 1 ? v10[0] == v10[1] ? [x10, b10] : [x10, b10, v10[1] * o10[0] + e30, v10[1] * o10[1] + t10] : [x10, b10];
}, "intersectLineCircle"), edR = iM(function(e30, t10, r10) {
  return t10 <= e30 && e30 <= r10 || r10 <= e30 && e30 <= t10 ? e30 : e30 <= t10 && t10 <= r10 || r10 <= t10 && t10 <= e30 ? t10 : r10;
}, "midOfThree"), edD = iM(function(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  var h10 = e30 - i10, u10 = r10 - e30, d10 = s10 - i10, p10 = t10 - a10, f10 = n10 - t10, g10 = o10 - a10, y10 = d10 * p10 - g10 * h10, v10 = u10 * p10 - f10 * h10, x10 = g10 * u10 - d10 * f10;
  if (0 !== x10) {
    var b10 = y10 / x10, k10 = v10 / x10;
    return -1e-3 <= b10 && b10 <= 1.001 && -1e-3 <= k10 && k10 <= 1.001 ? [e30 + b10 * u10, t10 + b10 * f10] : l10 ? [e30 + b10 * u10, t10 + b10 * f10] : [];
  }
  return 0 !== y10 && 0 !== v10 ? [] : edR(e30, r10, s10) === s10 ? [s10, o10] : edR(e30, r10, i10) === i10 ? [i10, a10] : edR(i10, s10, r10) === r10 ? [r10, n10] : [];
}, "finiteLinesIntersect"), edO = iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
  var l10, h10, u10, d10, p10, f10, g10 = [], y10 = Array(r10.length), v10 = true;
  if (null == a10 && (v10 = false), v10) {
    for (var x10 = 0; x10 < y10.length / 2; x10++) y10[2 * x10] = r10[2 * x10] * a10 + n10, y10[2 * x10 + 1] = r10[2 * x10 + 1] * s10 + i10;
    h10 = o10 > 0 ? edA(edL(y10, -o10)) : y10;
  } else h10 = r10;
  for (var b10 = 0; b10 < h10.length / 2; b10++) u10 = h10[2 * b10], d10 = h10[2 * b10 + 1], b10 < h10.length / 2 - 1 ? (p10 = h10[(b10 + 1) * 2], f10 = h10[(b10 + 1) * 2 + 1]) : (p10 = h10[0], f10 = h10[1]), 0 !== (l10 = edD(e30, t10, n10, i10, u10, d10, p10, f10)).length && g10.push(l10[0], l10[1]);
  return g10;
}, "polygonIntersectLine"), ed$ = iM(function(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  var h10, u10 = [], d10 = Array(2 * r10.length);
  l10.forEach(function(r11, a11) {
    0 === a11 ? (d10[d10.length - 2] = r11.startX, d10[d10.length - 1] = r11.startY) : (d10[4 * a11 - 2] = r11.startX, d10[4 * a11 - 1] = r11.startY), d10[4 * a11] = r11.stopX, d10[4 * a11 + 1] = r11.stopY, 0 !== (h10 = edN(e30, t10, n10, i10, r11.cx, r11.cy, r11.radius)).length && u10.push(h10[0], h10[1]);
  });
  for (var p10 = 0; p10 < d10.length / 4; p10++) 0 !== (h10 = edD(e30, t10, n10, i10, d10[4 * p10], d10[4 * p10 + 1], d10[4 * p10 + 2], d10[4 * p10 + 3], false)).length && u10.push(h10[0], h10[1]);
  if (u10.length > 2) {
    for (var f10 = [u10[0], u10[1]], g10 = Math.pow(f10[0] - e30, 2) + Math.pow(f10[1] - t10, 2), y10 = 1; y10 < u10.length / 2; y10++) {
      var v10 = Math.pow(u10[2 * y10] - e30, 2) + Math.pow(u10[2 * y10 + 1] - t10, 2);
      v10 <= g10 && (f10[0] = u10[2 * y10], f10[1] = u10[2 * y10 + 1], g10 = v10);
    }
    return f10;
  }
  return u10;
}, "roundPolygonIntersectLine"), edP = iM(function(e30, t10, r10) {
  var n10 = [e30[0] - t10[0], e30[1] - t10[1]], i10 = Math.sqrt(n10[0] * n10[0] + n10[1] * n10[1]), a10 = (i10 - r10) / i10;
  return a10 < 0 && (a10 = 1e-5), [t10[0] + a10 * n10[0], t10[1] + a10 * n10[1]];
}, "shortenIntersection"), edB = iM(function(e30, t10) {
  return edF(edz(e30, t10));
}, "generateUnitNgonPointsFitToSquare"), edF = iM(function(e30) {
  for (var t10, r10, n10 = e30.length / 2, i10 = 1 / 0, a10 = 1 / 0, s10 = -1 / 0, o10 = -1 / 0, l10 = 0; l10 < n10; l10++) t10 = e30[2 * l10], r10 = e30[2 * l10 + 1], i10 = Math.min(i10, t10), s10 = Math.max(s10, t10), a10 = Math.min(a10, r10), o10 = Math.max(o10, r10);
  for (var h10 = 2 / (s10 - i10), u10 = 2 / (o10 - a10), d10 = 0; d10 < n10; d10++) t10 = e30[2 * d10] = e30[2 * d10] * h10, r10 = e30[2 * d10 + 1] = e30[2 * d10 + 1] * u10, i10 = Math.min(i10, t10), s10 = Math.max(s10, t10), a10 = Math.min(a10, r10), o10 = Math.max(o10, r10);
  if (a10 < -1) for (var p10 = 0; p10 < n10; p10++) r10 = e30[2 * p10 + 1] = e30[2 * p10 + 1] + (-1 - a10);
  return e30;
}, "fitPolygonToSquare"), edz = iM(function(e30, t10) {
  var r10, n10 = 1 / e30 * 2 * Math.PI, i10 = e30 % 2 == 0 ? Math.PI / 2 + n10 / 2 : Math.PI / 2;
  i10 += t10;
  for (var a10 = Array(2 * e30), s10 = 0; s10 < e30; s10++) r10 = s10 * n10 + i10, a10[2 * s10] = Math.cos(r10), a10[2 * s10 + 1] = Math.sin(-r10);
  return a10;
}, "generateUnitNgonPoints"), edj = iM(function(e30, t10) {
  return Math.min(e30 / 4, t10 / 4, 8);
}, "getRoundRectangleRadius"), edq = iM(function(e30, t10) {
  return Math.min(e30 / 10, t10 / 10, 8);
}, "getRoundPolygonRadius"), edU = iM(function() {
  return 8;
}, "getCutRectangleCornerLength"), edW = iM(function(e30, t10, r10) {
  return [e30 - 2 * t10 + r10, 2 * (t10 - e30), e30];
}, "bezierPtsToQuadCoeff"), edV = iM(function(e30, t10) {
  return { heightOffset: Math.min(15, 0.05 * t10), widthOffset: Math.min(100, 0.25 * e30), ctrlPtOffsetPct: 0.05 };
}, "getBarrelCurveConstants"), edH = eu_({ dampingFactor: 0.8, precision: 1e-6, iterations: 200, weight: iM(function(e30) {
  return 1;
}, "weight") }), edY = { pageRank: iM(function(e30) {
  for (var t10, r10 = edH(e30), n10 = r10.dampingFactor, i10 = r10.precision, a10 = r10.iterations, s10 = r10.weight, o10 = this._private.cy, l10 = this.byGroup(), h10 = l10.nodes, u10 = l10.edges, d10 = h10.length, p10 = d10 * d10, f10 = u10.length, g10 = Array(p10), y10 = Array(d10), v10 = (1 - n10) / d10, x10 = 0; x10 < d10; x10++) {
    for (var b10 = 0; b10 < d10; b10++) g10[x10 * d10 + b10] = 0;
    y10[x10] = 0;
  }
  for (var k10 = 0; k10 < f10; k10++) {
    var w10 = u10[k10], _10 = w10.data("source"), T10 = w10.data("target");
    if (_10 !== T10) {
      var S10 = h10.indexOfId(_10), C10 = h10.indexOfId(T10), E10 = s10(w10), A10 = C10 * d10 + S10;
      g10[A10] += E10, y10[S10] += E10;
    }
  }
  for (var L10 = 1 / d10 + v10, I10 = 0; I10 < d10; I10++) if (0 === y10[I10]) for (var M10 = 0; M10 < d10; M10++) g10[M10 * d10 + I10] = L10;
  else for (var N10 = 0; N10 < d10; N10++) {
    var R10 = N10 * d10 + I10;
    g10[R10] = g10[R10] / y10[I10] + v10;
  }
  for (var D10 = Array(d10), O10 = Array(d10), $10 = 0; $10 < d10; $10++) D10[$10] = 1;
  for (var P10 = 0; P10 < a10; P10++) {
    for (var B10 = 0; B10 < d10; B10++) O10[B10] = 0;
    for (var F10 = 0; F10 < d10; F10++) for (var z10 = 0; z10 < d10; z10++) {
      var j10 = F10 * d10 + z10;
      O10[F10] += g10[j10] * D10[z10];
    }
    ede(O10), t10 = D10, D10 = O10, O10 = t10;
    for (var q10 = 0, U10 = 0; U10 < d10; U10++) {
      var W10 = t10[U10] - D10[U10];
      q10 += W10 * W10;
    }
    if (q10 < i10) break;
  }
  return { rank: iM(function(e31) {
    return e31 = o10.collection(e31)[0], D10[h10.indexOf(e31)];
  }, "rank") };
}, "pageRank") }, edG = eu_({ root: null, weight: iM(function(e30) {
  return 1;
}, "weight"), directed: false, alpha: 0 }), edX = { degreeCentralityNormalized: iM(function(e30) {
  e30 = edG(e30);
  var t10 = this.cy(), r10 = this.nodes(), n10 = r10.length;
  if (e30.directed) {
    for (var i10 = {}, a10 = {}, s10 = 0, o10 = 0, l10 = 0; l10 < n10; l10++) {
      var h10 = r10[l10], u10 = h10.id();
      e30.root = h10;
      var d10 = this.degreeCentrality(e30);
      s10 < d10.indegree && (s10 = d10.indegree), o10 < d10.outdegree && (o10 = d10.outdegree), i10[u10] = d10.indegree, a10[u10] = d10.outdegree;
    }
    return { indegree: iM(function(e31) {
      return 0 == s10 ? 0 : (ecG(e31) && (e31 = t10.filter(e31)), i10[e31.id()] / s10);
    }, "indegree"), outdegree: iM(function(e31) {
      return 0 === o10 ? 0 : (ecG(e31) && (e31 = t10.filter(e31)), a10[e31.id()] / o10);
    }, "outdegree") };
  }
  for (var p10 = {}, f10 = 0, g10 = 0; g10 < n10; g10++) {
    var y10 = r10[g10];
    e30.root = y10;
    var v10 = this.degreeCentrality(e30);
    f10 < v10.degree && (f10 = v10.degree), p10[y10.id()] = v10.degree;
  }
  return { degree: iM(function(e31) {
    return 0 === f10 ? 0 : (ecG(e31) && (e31 = t10.filter(e31)), p10[e31.id()] / f10);
  }, "degree") };
}, "degreeCentralityNormalized"), degreeCentrality: iM(function(e30) {
  e30 = edG(e30);
  var t10 = this.cy(), r10 = this, n10 = e30, i10 = n10.root, a10 = n10.weight, s10 = n10.directed, o10 = n10.alpha;
  if (i10 = t10.collection(i10)[0], s10) {
    for (var l10 = i10.connectedEdges(), h10 = l10.filter(function(e31) {
      return e31.target().same(i10) && r10.has(e31);
    }), u10 = l10.filter(function(e31) {
      return e31.source().same(i10) && r10.has(e31);
    }), d10 = h10.length, p10 = u10.length, f10 = 0, g10 = 0, y10 = 0; y10 < h10.length; y10++) f10 += a10(h10[y10]);
    for (var v10 = 0; v10 < u10.length; v10++) g10 += a10(u10[v10]);
    return { indegree: Math.pow(d10, 1 - o10) * Math.pow(f10, o10), outdegree: Math.pow(p10, 1 - o10) * Math.pow(g10, o10) };
  }
  for (var x10 = i10.connectedEdges().intersection(r10), b10 = x10.length, k10 = 0, w10 = 0; w10 < x10.length; w10++) k10 += a10(x10[w10]);
  return { degree: Math.pow(b10, 1 - o10) * Math.pow(k10, o10) };
}, "degreeCentrality") };
edX.dc = edX.degreeCentrality, edX.dcn = edX.degreeCentralityNormalised = edX.degreeCentralityNormalized;
var edK = eu_({ harmonic: true, weight: iM(function() {
  return 1;
}, "weight"), directed: false, root: null }), edZ = { closenessCentralityNormalized: iM(function(e30) {
  for (var t10 = edK(e30), r10 = t10.harmonic, n10 = t10.weight, i10 = t10.directed, a10 = this.cy(), s10 = {}, o10 = 0, l10 = this.nodes(), h10 = this.floydWarshall({ weight: n10, directed: i10 }), u10 = 0; u10 < l10.length; u10++) {
    for (var d10 = 0, p10 = l10[u10], f10 = 0; f10 < l10.length; f10++) if (u10 !== f10) {
      var g10 = h10.distance(p10, l10[f10]);
      r10 ? d10 += 1 / g10 : d10 += g10;
    }
    r10 || (d10 = 1 / d10), o10 < d10 && (o10 = d10), s10[p10.id()] = d10;
  }
  return { closeness: iM(function(e31) {
    return 0 == o10 ? 0 : s10[e31 = ecG(e31) ? a10.filter(e31)[0].id() : e31.id()] / o10;
  }, "closeness") };
}, "closenessCentralityNormalized"), closenessCentrality: iM(function(e30) {
  var t10 = edK(e30), r10 = t10.root, n10 = t10.weight, i10 = t10.directed, a10 = t10.harmonic;
  r10 = this.filter(r10)[0];
  for (var s10 = this.dijkstra({ root: r10, weight: n10, directed: i10 }), o10 = 0, l10 = this.nodes(), h10 = 0; h10 < l10.length; h10++) {
    var u10 = l10[h10];
    if (!u10.same(r10)) {
      var d10 = s10.distanceTo(u10);
      a10 ? o10 += 1 / d10 : o10 += d10;
    }
  }
  return a10 ? o10 : 1 / o10;
}, "closenessCentrality") };
edZ.cc = edZ.closenessCentrality, edZ.ccn = edZ.closenessCentralityNormalised = edZ.closenessCentralityNormalized;
var edQ = eu_({ weight: null, directed: false }), edJ = { betweennessCentrality: iM(function(e30) {
  for (var t10 = edQ(e30), r10 = t10.directed, n10 = t10.weight, i10 = null != n10, a10 = this.cy(), s10 = this.nodes(), o10 = {}, l10 = {}, h10 = 0, u10 = { set: iM(function(e31, t11) {
    l10[e31] = t11, t11 > h10 && (h10 = t11);
  }, "set"), get: iM(function(e31) {
    return l10[e31];
  }, "get") }, d10 = 0; d10 < s10.length; d10++) {
    var p10 = s10[d10], f10 = p10.id();
    r10 ? o10[f10] = p10.outgoers().nodes() : o10[f10] = p10.openNeighborhood().nodes(), u10.set(f10, 0);
  }
  for (var g10 = iM(function(e31) {
    for (var t11 = s10[e31].id(), r11 = [], l11 = {}, h11 = {}, d11 = {}, p11 = new eu$(function(e32, t12) {
      return d11[e32] - d11[t12];
    }), f11 = 0; f11 < s10.length; f11++) {
      var g11 = s10[f11].id();
      l11[g11] = [], h11[g11] = 0, d11[g11] = 1 / 0;
    }
    for (h11[t11] = 1, d11[t11] = 0, p11.push(t11); !p11.empty(); ) {
      var y11 = p11.pop();
      if (r11.push(y11), i10) for (var v11 = 0; v11 < o10[y11].length; v11++) {
        var x10 = o10[y11][v11], b10 = a10.getElementById(y11), k10 = n10(b10.edgesTo(x10).length > 0 ? b10.edgesTo(x10)[0] : x10.edgesTo(b10)[0]);
        d11[x10 = x10.id()] > d11[y11] + k10 && (d11[x10] = d11[y11] + k10, 0 > p11.nodes.indexOf(x10) ? p11.push(x10) : p11.updateItem(x10), h11[x10] = 0, l11[x10] = []), d11[x10] == d11[y11] + k10 && (h11[x10] = h11[x10] + h11[y11], l11[x10].push(y11));
      }
      else for (var w10 = 0; w10 < o10[y11].length; w10++) {
        var _10 = o10[y11][w10].id();
        d11[_10] == 1 / 0 && (p11.push(_10), d11[_10] = d11[y11] + 1), d11[_10] == d11[y11] + 1 && (h11[_10] = h11[_10] + h11[y11], l11[_10].push(y11));
      }
    }
    for (var T10 = {}, S10 = 0; S10 < s10.length; S10++) T10[s10[S10].id()] = 0;
    for (; r11.length > 0; ) {
      for (var C10 = r11.pop(), E10 = 0; E10 < l11[C10].length; E10++) {
        var A10 = l11[C10][E10];
        T10[A10] = T10[A10] + h11[A10] / h11[C10] * (1 + T10[C10]);
      }
      C10 != s10[e31].id() && u10.set(C10, u10.get(C10) + T10[C10]);
    }
  }, "_loop"), y10 = 0; y10 < s10.length; y10++) g10(y10);
  var v10 = { betweenness: iM(function(e31) {
    var t11 = a10.collection(e31).id();
    return u10.get(t11);
  }, "betweenness"), betweennessNormalized: iM(function(e31) {
    if (0 == h10) return 0;
    var t11 = a10.collection(e31).id();
    return u10.get(t11) / h10;
  }, "betweennessNormalized") };
  return v10.betweennessNormalised = v10.betweennessNormalized, v10;
}, "betweennessCentrality") };
edJ.bc = edJ.betweennessCentrality;
var ed0 = eu_({ expandFactor: 2, inflateFactor: 2, multFactor: 1, maxIterations: 20, attributes: [function(e30) {
  return 1;
}] }), ed1 = iM(function(e30) {
  return ed0(e30);
}, "setOptions"), ed2 = iM(function(e30, t10) {
  for (var r10 = 0, n10 = 0; n10 < t10.length; n10++) r10 += t10[n10](e30);
  return r10;
}, "getSimilarity"), ed4 = iM(function(e30, t10, r10) {
  for (var n10 = 0; n10 < t10; n10++) e30[n10 * t10 + n10] = r10;
}, "addLoops"), ed3 = iM(function(e30, t10) {
  for (var r10, n10 = 0; n10 < t10; n10++) {
    r10 = 0;
    for (var i10 = 0; i10 < t10; i10++) r10 += e30[i10 * t10 + n10];
    for (var a10 = 0; a10 < t10; a10++) e30[a10 * t10 + n10] = e30[a10 * t10 + n10] / r10;
  }
}, "normalize"), ed5 = iM(function(e30, t10, r10) {
  for (var n10 = Array(r10 * r10), i10 = 0; i10 < r10; i10++) {
    for (var a10 = 0; a10 < r10; a10++) n10[i10 * r10 + a10] = 0;
    for (var s10 = 0; s10 < r10; s10++) for (var o10 = 0; o10 < r10; o10++) n10[i10 * r10 + o10] += e30[i10 * r10 + s10] * t10[s10 * r10 + o10];
  }
  return n10;
}, "mmult"), ed6 = iM(function(e30, t10, r10) {
  for (var n10 = e30.slice(0), i10 = 1; i10 < r10; i10++) e30 = ed5(e30, n10, t10);
  return e30;
}, "expand"), ed7 = iM(function(e30, t10, r10) {
  for (var n10 = Array(t10 * t10), i10 = 0; i10 < t10 * t10; i10++) n10[i10] = Math.pow(e30[i10], r10);
  return ed3(n10, t10), n10;
}, "inflate"), ed8 = iM(function(e30, t10, r10, n10) {
  for (var i10 = 0; i10 < r10; i10++) if (Math.round(e30[i10] * Math.pow(10, n10)) / Math.pow(10, n10) != Math.round(t10[i10] * Math.pow(10, n10)) / Math.pow(10, n10)) return false;
  return true;
}, "hasConverged"), ed9 = iM(function(e30, t10, r10, n10) {
  for (var i10 = [], a10 = 0; a10 < t10; a10++) {
    for (var s10 = [], o10 = 0; o10 < t10; o10++) Math.round(1e3 * e30[a10 * t10 + o10]) / 1e3 > 0 && s10.push(r10[o10]);
    0 !== s10.length && i10.push(n10.collection(s10));
  }
  return i10;
}, "assign"), epe = iM(function(e30, t10) {
  for (var r10 = 0; r10 < e30.length; r10++) if (!t10[r10] || e30[r10].id() !== t10[r10].id()) return false;
  return true;
}, "isDuplicate"), ept = iM(function(e30) {
  for (var t10 = 0; t10 < e30.length; t10++) for (var r10 = 0; r10 < e30.length; r10++) t10 != r10 && epe(e30[t10], e30[r10]) && e30.splice(r10, 1);
  return e30;
}, "removeDuplicates"), epr = iM(function(e30) {
  for (var t10 = this.nodes(), r10 = this.edges(), n10 = this.cy(), i10 = ed1(e30), a10 = {}, s10 = 0; s10 < t10.length; s10++) a10[t10[s10].id()] = s10;
  for (var o10, l10 = t10.length, h10 = l10 * l10, u10 = Array(h10), d10 = 0; d10 < h10; d10++) u10[d10] = 0;
  for (var p10 = 0; p10 < r10.length; p10++) {
    var f10 = r10[p10], g10 = a10[f10.source().id()], y10 = a10[f10.target().id()], v10 = ed2(f10, i10.attributes);
    u10[g10 * l10 + y10] += v10, u10[y10 * l10 + g10] += v10;
  }
  ed4(u10, l10, i10.multFactor), ed3(u10, l10);
  for (var x10 = true, b10 = 0; x10 && b10 < i10.maxIterations; ) x10 = false, ed8(u10 = ed7(o10 = ed6(u10, l10, i10.expandFactor), l10, i10.inflateFactor), o10, h10, 4) || (x10 = true), b10++;
  return ept(ed9(u10, l10, t10, n10));
}, "markovClustering"), epn = iM(function(e30) {
  return e30;
}, "identity"), epi = iM(function(e30, t10) {
  return Math.abs(t10 - e30);
}, "absDiff"), epa = iM(function(e30, t10, r10) {
  return e30 + epi(t10, r10);
}, "addAbsDiff"), eps = iM(function(e30, t10, r10) {
  return e30 + Math.pow(r10 - t10, 2);
}, "addSquaredDiff"), epo = iM(function(e30) {
  return Math.sqrt(e30);
}, "sqrt"), epl = iM(function(e30, t10, r10) {
  return Math.max(e30, epi(t10, r10));
}, "maxAbsDiff"), epc = iM(function(e30, t10, r10, n10, i10) {
  for (var a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : epn, s10 = n10, o10 = 0; o10 < e30; o10++) s10 = i10(s10, t10(o10), r10(o10));
  return a10(s10);
}, "getDistance"), eph = { euclidean: iM(function(e30, t10, r10) {
  return e30 >= 2 ? epc(e30, t10, r10, 0, eps, epo) : epc(e30, t10, r10, 0, epa);
}, "euclidean"), squaredEuclidean: iM(function(e30, t10, r10) {
  return epc(e30, t10, r10, 0, eps);
}, "squaredEuclidean"), manhattan: iM(function(e30, t10, r10) {
  return epc(e30, t10, r10, 0, epa);
}, "manhattan"), max: iM(function(e30, t10, r10) {
  return epc(e30, t10, r10, -1 / 0, epl);
}, "max") };
function epu(e30, t10, r10, n10, i10, a10) {
  var s10;
  return (s10 = ecX(e30) ? e30 : eph[e30] || eph.euclidean, 0 === t10 && ecX(e30)) ? s10(i10, a10) : s10(t10, r10, n10, i10, a10);
}
eph["squared-euclidean"] = eph.squaredEuclidean, eph.squaredeuclidean = eph.squaredEuclidean, iM(epu, "clusteringDistance");
var epd = eu_({ k: 2, m: 2, sensitivityThreshold: 1e-4, distance: "euclidean", maxIterations: 10, attributes: [], testMode: false, testCentroids: null }), epp = iM(function(e30) {
  return epd(e30);
}, "setOptions"), epf = iM(function(e30, t10, r10, n10, i10) {
  var a10 = "kMedoids" !== i10 ? function(e31) {
    return r10[e31];
  } : function(e31) {
    return n10[e31](r10);
  }, s10 = iM(function(e31) {
    return n10[e31](t10);
  }, "getQ");
  return epu(e30, n10.length, a10, s10, r10, t10);
}, "getDist"), epg = iM(function(e30, t10, r10) {
  for (var n10 = r10.length, i10 = Array(n10), a10 = Array(n10), s10 = Array(t10), o10 = null, l10 = 0; l10 < n10; l10++) i10[l10] = e30.min(r10[l10]).value, a10[l10] = e30.max(r10[l10]).value;
  for (var h10 = 0; h10 < t10; h10++) {
    o10 = [];
    for (var u10 = 0; u10 < n10; u10++) o10[u10] = Math.random() * (a10[u10] - i10[u10]) + i10[u10];
    s10[h10] = o10;
  }
  return s10;
}, "randomCentroids"), epm = iM(function(e30, t10, r10, n10, i10) {
  for (var a10 = 1 / 0, s10 = 0, o10 = 0; o10 < t10.length; o10++) {
    var l10 = epf(r10, e30, t10[o10], n10, i10);
    l10 < a10 && (a10 = l10, s10 = o10);
  }
  return s10;
}, "classify"), epy = iM(function(e30, t10, r10) {
  for (var n10 = [], i10 = null, a10 = 0; a10 < t10.length; a10++) r10[(i10 = t10[a10]).id()] === e30 && n10.push(i10);
  return n10;
}, "buildCluster"), epv = iM(function(e30, t10, r10) {
  return Math.abs(t10 - e30) <= r10;
}, "haveValuesConverged"), epx = iM(function(e30, t10, r10) {
  for (var n10 = 0; n10 < e30.length; n10++) for (var i10 = 0; i10 < e30[n10].length; i10++) if (Math.abs(e30[n10][i10] - t10[n10][i10]) > r10) return false;
  return true;
}, "haveMatricesConverged"), epb = iM(function(e30, t10, r10) {
  for (var n10 = 0; n10 < r10; n10++) if (e30 === t10[n10]) return true;
  return false;
}, "seenBefore"), epk = iM(function(e30, t10) {
  var r10 = Array(t10);
  if (e30.length < 50) for (var n10 = 0; n10 < t10; n10++) {
    for (var i10 = e30[Math.floor(Math.random() * e30.length)]; epb(i10, r10, n10); ) i10 = e30[Math.floor(Math.random() * e30.length)];
    r10[n10] = i10;
  }
  else for (var a10 = 0; a10 < t10; a10++) r10[a10] = e30[Math.floor(Math.random() * e30.length)];
  return r10;
}, "randomMedoids"), epw = iM(function(e30, t10, r10) {
  for (var n10 = 0, i10 = 0; i10 < t10.length; i10++) n10 += epf("manhattan", t10[i10], e30, r10, "kMedoids");
  return n10;
}, "findCost"), ep_ = iM(function(e30) {
  var t10, r10 = this.cy(), n10 = this.nodes(), i10 = null, a10 = epp(e30), s10 = Array(a10.k), o10 = {};
  a10.testMode ? "number" == typeof a10.testCentroids ? (a10.testCentroids, t10 = epg(n10, a10.k, a10.attributes)) : t10 = "object" === ecL(a10.testCentroids) ? a10.testCentroids : epg(n10, a10.k, a10.attributes) : t10 = epg(n10, a10.k, a10.attributes);
  for (var l10 = true, h10 = 0; l10 && h10 < a10.maxIterations; ) {
    for (var u10 = 0; u10 < n10.length; u10++) o10[(i10 = n10[u10]).id()] = epm(i10, t10, a10.distance, a10.attributes, "kMeans");
    l10 = false;
    for (var d10 = 0; d10 < a10.k; d10++) {
      var p10 = epy(d10, n10, o10);
      if (0 !== p10.length) {
        for (var f10 = a10.attributes.length, g10 = t10[d10], y10 = Array(f10), v10 = Array(f10), x10 = 0; x10 < f10; x10++) {
          v10[x10] = 0;
          for (var b10 = 0; b10 < p10.length; b10++) i10 = p10[b10], v10[x10] += a10.attributes[x10](i10);
          y10[x10] = v10[x10] / p10.length, epv(y10[x10], g10[x10], a10.sensitivityThreshold) || (l10 = true);
        }
        t10[d10] = y10, s10[d10] = r10.collection(p10);
      }
    }
    h10++;
  }
  return s10;
}, "kMeans"), epT = iM(function(e30) {
  var t10, r10, n10 = this.cy(), i10 = this.nodes(), a10 = null, s10 = epp(e30), o10 = Array(s10.k), l10 = {}, h10 = Array(s10.k);
  s10.testMode ? "number" == typeof s10.testCentroids || (t10 = "object" === ecL(s10.testCentroids) ? s10.testCentroids : epk(i10, s10.k)) : t10 = epk(i10, s10.k);
  for (var u10 = true, d10 = 0; u10 && d10 < s10.maxIterations; ) {
    for (var p10 = 0; p10 < i10.length; p10++) l10[(a10 = i10[p10]).id()] = epm(a10, t10, s10.distance, s10.attributes, "kMedoids");
    u10 = false;
    for (var f10 = 0; f10 < t10.length; f10++) {
      var g10 = epy(f10, i10, l10);
      if (0 !== g10.length) {
        h10[f10] = epw(t10[f10], g10, s10.attributes);
        for (var y10 = 0; y10 < g10.length; y10++) (r10 = epw(g10[y10], g10, s10.attributes)) < h10[f10] && (h10[f10] = r10, t10[f10] = g10[y10], u10 = true);
        o10[f10] = n10.collection(g10);
      }
    }
    d10++;
  }
  return o10;
}, "kMedoids"), epS = iM(function(e30, t10, r10, n10, i10) {
  for (var a10, s10, o10 = 0; o10 < t10.length; o10++) for (var l10 = 0; l10 < e30.length; l10++) n10[o10][l10] = Math.pow(r10[o10][l10], i10.m);
  for (var h10 = 0; h10 < e30.length; h10++) for (var u10 = 0; u10 < i10.attributes.length; u10++) {
    a10 = 0, s10 = 0;
    for (var d10 = 0; d10 < t10.length; d10++) a10 += n10[d10][h10] * i10.attributes[u10](t10[d10]), s10 += n10[d10][h10];
    e30[h10][u10] = a10 / s10;
  }
}, "updateCentroids"), epC = iM(function(e30, t10, r10, n10, i10) {
  for (var a10, s10 = 0; s10 < e30.length; s10++) t10[s10] = e30[s10].slice();
  for (var o10 = 2 / (i10.m - 1), l10 = 0; l10 < r10.length; l10++) for (var h10 = 0; h10 < n10.length; h10++) {
    a10 = 0;
    for (var u10 = 0; u10 < r10.length; u10++) a10 += Math.pow(epf(i10.distance, n10[h10], r10[l10], i10.attributes, "cmeans") / epf(i10.distance, n10[h10], r10[u10], i10.attributes, "cmeans"), o10);
    e30[h10][l10] = 1 / a10;
  }
}, "updateMembership"), epE = iM(function(e30, t10, r10, n10) {
  for (var i10, a10, s10 = Array(r10.k), o10 = 0; o10 < s10.length; o10++) s10[o10] = [];
  for (var l10 = 0; l10 < t10.length; l10++) {
    i10 = -1 / 0, a10 = -1;
    for (var h10 = 0; h10 < t10[0].length; h10++) t10[l10][h10] > i10 && (i10 = t10[l10][h10], a10 = h10);
    s10[a10].push(e30[l10]);
  }
  for (var u10 = 0; u10 < s10.length; u10++) s10[u10] = n10.collection(s10[u10]);
  return s10;
}, "assign"), epA = iM(function(e30) {
  var t10, r10, n10, i10, a10 = this.cy(), s10 = this.nodes(), o10 = epp(e30);
  n10 = Array(s10.length);
  for (var l10 = 0; l10 < s10.length; l10++) n10[l10] = Array(o10.k);
  r10 = Array(s10.length);
  for (var h10 = 0; h10 < s10.length; h10++) r10[h10] = Array(o10.k);
  for (var u10 = 0; u10 < s10.length; u10++) {
    for (var d10 = 0, p10 = 0; p10 < o10.k; p10++) r10[u10][p10] = Math.random(), d10 += r10[u10][p10];
    for (var f10 = 0; f10 < o10.k; f10++) r10[u10][f10] = r10[u10][f10] / d10;
  }
  t10 = Array(o10.k);
  for (var g10 = 0; g10 < o10.k; g10++) t10[g10] = Array(o10.attributes.length);
  i10 = Array(s10.length);
  for (var y10 = 0; y10 < s10.length; y10++) i10[y10] = Array(o10.k);
  for (var v10 = true, x10 = 0; v10 && x10 < o10.maxIterations; ) v10 = false, epS(t10, s10, r10, i10, o10), epC(r10, n10, t10, s10, o10), epx(r10, n10, o10.sensitivityThreshold) || (v10 = true), x10++;
  return { clusters: epE(s10, r10, o10, a10), degreeOfMembership: r10 };
}, "fuzzyCMeans"), epL = eu_({ distance: "euclidean", linkage: "min", mode: "threshold", threshold: 1 / 0, addDendrogram: false, dendrogramDepth: 0, attributes: [] }), epI = { single: "min", complete: "max" }, epM = iM(function(e30) {
  var t10 = epL(e30), r10 = epI[t10.linkage];
  return null != r10 && (t10.linkage = r10), t10;
}, "setOptions"), epN = iM(function(e30, t10, r10, n10, i10) {
  for (var a10, s10, o10 = 0, l10 = 1 / 0, h10 = i10.attributes, u10 = iM(function(e31, t11) {
    return epu(i10.distance, h10.length, function(t12) {
      return h10[t12](e31);
    }, function(e32) {
      return h10[e32](t11);
    }, e31, t11);
  }, "getDist"), d10 = 0; d10 < e30.length; d10++) {
    var p10 = e30[d10].key, f10 = r10[p10][n10[p10]];
    f10 < l10 && (o10 = p10, l10 = f10);
  }
  if ("threshold" === i10.mode && l10 >= i10.threshold || "dendrogram" === i10.mode && 1 === e30.length) return false;
  var g10 = t10[o10], y10 = t10[n10[o10]];
  s10 = "dendrogram" === i10.mode ? { left: g10, right: y10, key: g10.key } : { value: g10.value.concat(y10.value), key: g10.key }, e30[g10.index] = s10, e30.splice(y10.index, 1), t10[g10.key] = s10;
  for (var v10 = 0; v10 < e30.length; v10++) {
    var x10 = e30[v10];
    g10.key === x10.key ? a10 = 1 / 0 : "min" === i10.linkage ? (a10 = r10[g10.key][x10.key], r10[g10.key][x10.key] > r10[y10.key][x10.key] && (a10 = r10[y10.key][x10.key])) : "max" === i10.linkage ? (a10 = r10[g10.key][x10.key], r10[g10.key][x10.key] < r10[y10.key][x10.key] && (a10 = r10[y10.key][x10.key])) : a10 = "mean" === i10.linkage ? (r10[g10.key][x10.key] * g10.size + r10[y10.key][x10.key] * y10.size) / (g10.size + y10.size) : "dendrogram" === i10.mode ? u10(x10.value, g10.value) : u10(x10.value[0], g10.value[0]), r10[g10.key][x10.key] = r10[x10.key][g10.key] = a10;
  }
  for (var b10 = 0; b10 < e30.length; b10++) {
    var k10 = e30[b10].key;
    if (n10[k10] === g10.key || n10[k10] === y10.key) {
      for (var w10 = k10, _10 = 0; _10 < e30.length; _10++) {
        var T10 = e30[_10].key;
        r10[k10][T10] < r10[k10][w10] && (w10 = T10);
      }
      n10[k10] = w10;
    }
    e30[b10].index = b10;
  }
  return g10.key = y10.key = g10.index = y10.index = null, true;
}, "mergeClosest"), epR = iM(function e21(t10, r10, n10) {
  t10 && (t10.value ? r10.push(t10.value) : (t10.left && e21(t10.left, r10), t10.right && e21(t10.right, r10)));
}, "getAllChildren"), epD = iM(function e22(t10, r10) {
  if (!t10) return "";
  if (t10.left && t10.right) {
    var n10 = e22(t10.left, r10), i10 = e22(t10.right, r10), a10 = r10.add({ group: "nodes", data: { id: n10 + "," + i10 } });
    return r10.add({ group: "edges", data: { source: n10, target: a10.id() } }), r10.add({ group: "edges", data: { source: i10, target: a10.id() } }), a10.id();
  }
  if (t10.value) return t10.value.id();
}, "buildDendrogram"), epO = iM(function e23(t10, r10, n10) {
  if (!t10) return [];
  var i10 = [], a10 = [], s10 = [];
  return 0 === r10 ? (t10.left && epR(t10.left, i10), t10.right && epR(t10.right, a10), s10 = i10.concat(a10), [n10.collection(s10)]) : 1 === r10 ? t10.value ? [n10.collection(t10.value)] : (t10.left && epR(t10.left, i10), t10.right && epR(t10.right, a10), [n10.collection(i10), n10.collection(a10)]) : t10.value ? [n10.collection(t10.value)] : (t10.left && (i10 = e23(t10.left, r10 - 1, n10)), t10.right && (a10 = e23(t10.right, r10 - 1, n10)), i10.concat(a10));
}, "buildClustersFromTree"), ep$ = iM(function(e30) {
  for (var t10, r10 = this.cy(), n10 = this.nodes(), i10 = epM(e30), a10 = i10.attributes, s10 = iM(function(e31, t11) {
    return epu(i10.distance, a10.length, function(t12) {
      return a10[t12](e31);
    }, function(e32) {
      return a10[e32](t11);
    }, e31, t11);
  }, "getDist"), o10 = [], l10 = [], h10 = [], u10 = [], d10 = 0; d10 < n10.length; d10++) {
    var p10 = { value: "dendrogram" === i10.mode ? n10[d10] : [n10[d10]], key: d10, index: d10 };
    o10[d10] = p10, u10[d10] = p10, l10[d10] = [], h10[d10] = 0;
  }
  for (var f10 = 0; f10 < o10.length; f10++) for (var g10 = 0; g10 <= f10; g10++) {
    var y10 = void 0;
    y10 = "dendrogram" === i10.mode ? f10 === g10 ? 1 / 0 : s10(o10[f10].value, o10[g10].value) : f10 === g10 ? 1 / 0 : s10(o10[f10].value[0], o10[g10].value[0]), l10[f10][g10] = y10, l10[g10][f10] = y10, y10 < l10[f10][h10[f10]] && (h10[f10] = g10);
  }
  for (var v10 = epN(o10, u10, l10, h10, i10); v10; ) v10 = epN(o10, u10, l10, h10, i10);
  return "dendrogram" === i10.mode ? (t10 = epO(o10[0], i10.dendrogramDepth, r10), i10.addDendrogram && epD(o10[0], r10)) : (t10 = Array(o10.length), o10.forEach(function(e31, n11) {
    e31.key = e31.index = null, t10[n11] = r10.collection(e31.value);
  })), t10;
}, "hierarchicalClustering"), epP = eu_({ distance: "euclidean", preference: "median", damping: 0.8, maxIterations: 1e3, minIterations: 100, attributes: [] }), epB = iM(function(e30) {
  var t10 = e30.damping, r10 = e30.preference;
  0.5 <= t10 && t10 < 1 || euf("Damping must range on [0.5, 1).  Got: ".concat(t10));
  var n10 = ["median", "mean", "min", "max"];
  return n10.some(function(e31) {
    return e31 === r10;
  }) || ecJ(r10) || euf("Preference must be one of [".concat(n10.map(function(e31) {
    return "'".concat(e31, "'");
  }).join(", "), "] or a number.  Got: ").concat(r10)), epP(e30);
}, "setOptions"), epF = iM(function(e30, t10, r10, n10) {
  var i10 = iM(function(e31, t11) {
    return n10[t11](e31);
  }, "attr");
  return -epu(e30, n10.length, function(e31) {
    return i10(t10, e31);
  }, function(e31) {
    return i10(r10, e31);
  }, t10, r10);
}, "getSimilarity"), epz = iM(function(e30, t10) {
  return "median" === t10 ? eu4(e30) : "mean" === t10 ? eu2(e30) : "min" === t10 ? eu0(e30) : "max" === t10 ? eu1(e30) : t10;
}, "getPreference"), epj = iM(function(e30, t10, r10) {
  for (var n10 = [], i10 = 0; i10 < e30; i10++) t10[i10 * e30 + i10] + r10[i10 * e30 + i10] > 0 && n10.push(i10);
  return n10;
}, "findExemplars"), epq = iM(function(e30, t10, r10) {
  for (var n10 = [], i10 = 0; i10 < e30; i10++) {
    for (var a10 = -1, s10 = -1 / 0, o10 = 0; o10 < r10.length; o10++) {
      var l10 = r10[o10];
      t10[i10 * e30 + l10] > s10 && (a10 = l10, s10 = t10[i10 * e30 + l10]);
    }
    a10 > 0 && n10.push(a10);
  }
  for (var h10 = 0; h10 < r10.length; h10++) n10[r10[h10]] = r10[h10];
  return n10;
}, "assignClusters"), epU = iM(function(e30, t10, r10) {
  for (var n10 = epq(e30, t10, r10), i10 = 0; i10 < r10.length; i10++) {
    for (var a10 = [], s10 = 0; s10 < n10.length; s10++) n10[s10] === r10[i10] && a10.push(s10);
    for (var o10 = -1, l10 = -1 / 0, h10 = 0; h10 < a10.length; h10++) {
      for (var u10 = 0, d10 = 0; d10 < a10.length; d10++) u10 += t10[a10[d10] * e30 + a10[h10]];
      u10 > l10 && (o10 = h10, l10 = u10);
    }
    r10[i10] = a10[o10];
  }
  return epq(e30, t10, r10);
}, "assign"), epW = iM(function(e30) {
  for (var t10, r10, n10, i10, a10, s10, o10, l10 = this.cy(), h10 = this.nodes(), u10 = epB(e30), d10 = {}, p10 = 0; p10 < h10.length; p10++) d10[h10[p10].id()] = p10;
  n10 = Array(r10 = (t10 = h10.length) * t10);
  for (var f10 = 0; f10 < r10; f10++) n10[f10] = -1 / 0;
  for (var g10 = 0; g10 < t10; g10++) for (var y10 = 0; y10 < t10; y10++) g10 !== y10 && (n10[g10 * t10 + y10] = epF(u10.distance, h10[g10], h10[y10], u10.attributes));
  i10 = epz(n10, u10.preference);
  for (var v10 = 0; v10 < t10; v10++) n10[v10 * t10 + v10] = i10;
  a10 = Array(r10);
  for (var x10 = 0; x10 < r10; x10++) a10[x10] = 0;
  s10 = Array(r10);
  for (var b10 = 0; b10 < r10; b10++) s10[b10] = 0;
  for (var k10 = Array(t10), w10 = Array(t10), _10 = Array(t10), T10 = 0; T10 < t10; T10++) k10[T10] = 0, w10[T10] = 0, _10[T10] = 0;
  for (var S10 = Array(t10 * u10.minIterations), C10 = 0; C10 < S10.length; C10++) S10[C10] = 0;
  for (o10 = 0; o10 < u10.maxIterations; o10++) {
    for (var E10 = 0; E10 < t10; E10++) {
      for (var A10 = -1 / 0, L10 = -1 / 0, I10 = -1, M10 = 0, N10 = 0; N10 < t10; N10++) k10[N10] = a10[E10 * t10 + N10], (M10 = s10[E10 * t10 + N10] + n10[E10 * t10 + N10]) >= A10 ? (L10 = A10, A10 = M10, I10 = N10) : M10 > L10 && (L10 = M10);
      for (var R10 = 0; R10 < t10; R10++) a10[E10 * t10 + R10] = (1 - u10.damping) * (n10[E10 * t10 + R10] - A10) + u10.damping * k10[R10];
      a10[E10 * t10 + I10] = (1 - u10.damping) * (n10[E10 * t10 + I10] - L10) + u10.damping * k10[I10];
    }
    for (var D10 = 0; D10 < t10; D10++) {
      for (var O10 = 0, $10 = 0; $10 < t10; $10++) k10[$10] = s10[$10 * t10 + D10], w10[$10] = Math.max(0, a10[$10 * t10 + D10]), O10 += w10[$10];
      O10 -= w10[D10], w10[D10] = a10[D10 * t10 + D10], O10 += w10[D10];
      for (var P10 = 0; P10 < t10; P10++) s10[P10 * t10 + D10] = (1 - u10.damping) * Math.min(0, O10 - w10[P10]) + u10.damping * k10[P10];
      s10[D10 * t10 + D10] = (1 - u10.damping) * (O10 - w10[D10]) + u10.damping * k10[D10];
    }
    for (var B10 = 0, F10 = 0; F10 < t10; F10++) {
      var z10 = s10[F10 * t10 + F10] + a10[F10 * t10 + F10] > 0 ? 1 : 0;
      S10[o10 % u10.minIterations * t10 + F10] = z10, B10 += z10;
    }
    if (B10 > 0 && (o10 >= u10.minIterations - 1 || o10 == u10.maxIterations - 1)) {
      for (var j10 = 0, q10 = 0; q10 < t10; q10++) {
        _10[q10] = 0;
        for (var U10 = 0; U10 < u10.minIterations; U10++) _10[q10] += S10[U10 * t10 + q10];
        (0 === _10[q10] || _10[q10] === u10.minIterations) && j10++;
      }
      if (j10 === t10) break;
    }
  }
  for (var W10 = epj(t10, a10, s10), V10 = epU(t10, n10, W10), H10 = {}, Y10 = 0; Y10 < W10.length; Y10++) H10[W10[Y10]] = [];
  for (var G10 = 0; G10 < h10.length; G10++) {
    var X10 = V10[d10[h10[G10].id()]];
    null != X10 && H10[X10].push(h10[G10]);
  }
  for (var K10 = Array(W10.length), Z10 = 0; Z10 < W10.length; Z10++) K10[Z10] = l10.collection(H10[W10[Z10]]);
  return K10;
}, "affinityPropagation"), epV = eu_({ root: void 0, directed: false }), epH = { hierholzer: iM(function(e30) {
  if (!ecZ(e30)) {
    var t10, r10, n10, i10 = arguments;
    e30 = { root: i10[0], directed: i10[1] };
  }
  var a10 = epV(e30), s10 = a10.root, o10 = a10.directed, l10 = false;
  s10 && (n10 = ecG(s10) ? this.filter(s10)[0].id() : s10[0].id());
  var h10 = {}, u10 = {};
  o10 ? this.forEach(function(e31) {
    var n11 = e31.id();
    if (e31.isNode()) {
      var i11 = e31.indegree(true), a11 = e31.outdegree(true), s11 = i11 - a11, o11 = a11 - i11;
      1 == s11 ? t10 ? l10 = true : t10 = n11 : 1 == o11 ? r10 ? l10 = true : r10 = n11 : (o11 > 1 || s11 > 1) && (l10 = true), h10[n11] = [], e31.outgoers().forEach(function(e32) {
        e32.isEdge() && h10[n11].push(e32.id());
      });
    } else u10[n11] = [void 0, e31.target().id()];
  }) : this.forEach(function(e31) {
    var n11 = e31.id();
    e31.isNode() ? (e31.degree(true) % 2 && (t10 ? r10 ? l10 = true : r10 = n11 : t10 = n11), h10[n11] = [], e31.connectedEdges().forEach(function(e32) {
      return h10[n11].push(e32.id());
    })) : u10[n11] = [e31.source().id(), e31.target().id()];
  });
  var d10 = { found: false, trail: void 0 };
  if (l10) return d10;
  if (r10 && t10) {
    if (o10) {
      if (n10 && r10 != n10) return d10;
      n10 = r10;
    } else {
      if (n10 && r10 != n10 && t10 != n10) return d10;
      n10 || (n10 = r10);
    }
  } else n10 || (n10 = this[0].id());
  var p10 = iM(function(e31) {
    for (var t11, r11, n11, i11 = e31, a11 = [e31]; h10[i11].length; ) r11 = u10[t11 = h10[i11].shift()][0], i11 != (n11 = u10[t11][1]) ? (h10[n11] = h10[n11].filter(function(e32) {
      return e32 != t11;
    }), i11 = n11) : o10 || i11 == r11 || (h10[r11] = h10[r11].filter(function(e32) {
      return e32 != t11;
    }), i11 = r11), a11.unshift(t11), a11.unshift(i11);
    return a11;
  }, "walk"), f10 = [], g10 = [];
  for (g10 = p10(n10); 1 != g10.length; ) 0 == h10[g10[0]].length ? (f10.unshift(this.getElementById(g10.shift())), f10.unshift(this.getElementById(g10.shift()))) : g10 = p10(g10.shift()).concat(g10);
  for (var y10 in f10.unshift(this.getElementById(g10.shift())), h10) if (h10[y10].length) return d10;
  return d10.found = true, d10.trail = this.spawn(f10, true), d10;
}, "hierholzer") }, epY = iM(function() {
  var e30 = this, t10 = {}, r10 = 0, n10 = 0, i10 = [], a10 = [], s10 = {}, o10 = iM(function(r11, n11) {
    for (var s11 = a10.length - 1, o11 = [], l11 = e30.spawn(); a10[s11].x != r11 || a10[s11].y != n11; ) o11.push(a10.pop().edge), s11--;
    o11.push(a10.pop().edge), o11.forEach(function(r12) {
      var n12 = r12.connectedNodes().intersection(e30);
      l11.merge(r12), n12.forEach(function(r13) {
        var n13 = r13.id(), i11 = r13.connectedEdges().intersection(e30);
        l11.merge(r13), t10[n13].cutVertex ? l11.merge(i11.filter(function(e31) {
          return e31.isLoop();
        })) : l11.merge(i11);
      });
    }), i10.push(l11);
  }, "buildComponent"), l10 = iM(function l11(h11, u10, d10) {
    h11 === d10 && (n10 += 1), t10[u10] = { id: r10, low: r10++, cutVertex: false };
    var p10, f10, g10, y10, v10 = e30.getElementById(u10).connectedEdges().intersection(e30);
    0 === v10.size() ? i10.push(e30.spawn(e30.getElementById(u10))) : v10.forEach(function(e31) {
      p10 = e31.source().id(), f10 = e31.target().id(), (g10 = p10 === u10 ? f10 : p10) !== d10 && (s10[y10 = e31.id()] || (s10[y10] = true, a10.push({ x: u10, y: g10, edge: e31 })), g10 in t10 ? t10[u10].low = Math.min(t10[u10].low, t10[g10].id) : (l11(h11, g10, u10), t10[u10].low = Math.min(t10[u10].low, t10[g10].low), t10[u10].id <= t10[g10].low && (t10[u10].cutVertex = true, o10(u10, g10))));
    });
  }, "biconnectedSearch");
  e30.forEach(function(e31) {
    if (e31.isNode()) {
      var r11 = e31.id();
      r11 in t10 || (n10 = 0, l10(r11, r11), t10[r11].cutVertex = n10 > 1);
    }
  });
  var h10 = Object.keys(t10).filter(function(e31) {
    return t10[e31].cutVertex;
  }).map(function(t11) {
    return e30.getElementById(t11);
  });
  return { cut: e30.spawn(h10), components: i10 };
}, "hopcroftTarjanBiconnected"), epG = iM(function() {
  var e30 = this, t10 = {}, r10 = 0, n10 = [], i10 = [], a10 = e30.spawn(e30), s10 = iM(function s11(o10) {
    if (i10.push(o10), t10[o10] = { index: r10, low: r10++, explored: false }, e30.getElementById(o10).connectedEdges().intersection(e30).forEach(function(e31) {
      var r11 = e31.target().id();
      r11 === o10 || (r11 in t10 || s11(r11), t10[r11].explored || (t10[o10].low = Math.min(t10[o10].low, t10[r11].low)));
    }), t10[o10].index === t10[o10].low) {
      for (var l10 = e30.spawn(); ; ) {
        var h10 = i10.pop();
        if (l10.merge(e30.getElementById(h10)), t10[h10].low = t10[o10].index, t10[h10].explored = true, h10 === o10) break;
      }
      var u10 = l10.edgesWith(l10), d10 = l10.merge(u10);
      n10.push(d10), a10 = a10.difference(d10);
    }
  }, "stronglyConnectedSearch");
  return e30.forEach(function(e31) {
    if (e31.isNode()) {
      var r11 = e31.id();
      r11 in t10 || s10(r11);
    }
  }), { cut: a10, components: n10 };
}, "tarjanStronglyConnected"), epX = {};
[euO, euB, euF, euj, euU, euV, euX, edY, edX, edZ, edJ, { markovClustering: epr, mcl: epr }, { kMeans: ep_, kMedoids: epT, fuzzyCMeans: epA, fcm: epA }, { hierarchicalClustering: ep$, hca: ep$ }, { affinityPropagation: epW, ap: epW }, epH, { hopcroftTarjanBiconnected: epY, htbc: epY, htb: epY, hopcroftTarjanBiconnectedComponents: epY }, { tarjanStronglyConnected: epG, tsc: epG, tscc: epG, tarjanStronglyConnectedComponents: epG }].forEach(function(e30) {
  ehg(epX, e30);
});
var epK = iM(function e24(t10) {
  if (!(this instanceof e24)) return new e24(t10);
  this.id = "Thenable/1.0.7", this.state = 0, this.fulfillValue = void 0, this.rejectReason = void 0, this.onFulfilled = [], this.onRejected = [], this.proxy = { then: this.then.bind(this) }, "function" == typeof t10 && t10.call(this, this.fulfill.bind(this), this.reject.bind(this));
}, "api");
epK.prototype = { fulfill: iM(function(e30) {
  return epZ(this, 1, "fulfillValue", e30);
}, "fulfill"), reject: iM(function(e30) {
  return epZ(this, 2, "rejectReason", e30);
}, "reject"), then: iM(function(e30, t10) {
  var r10 = new epK();
  return this.onFulfilled.push(ep0(e30, r10, "fulfill")), this.onRejected.push(ep0(t10, r10, "reject")), epQ(this), r10.proxy;
}, "then") };
var epZ = iM(function(e30, t10, r10, n10) {
  return 0 === e30.state && (e30.state = t10, e30[r10] = n10, epQ(e30)), e30;
}, "deliver"), epQ = iM(function(e30) {
  1 === e30.state ? epJ(e30, "onFulfilled", e30.fulfillValue) : 2 === e30.state && epJ(e30, "onRejected", e30.rejectReason);
}, "execute"), epJ = iM(function(e30, t10, r10) {
  if (0 !== e30[t10].length) {
    var n10 = e30[t10];
    e30[t10] = [];
    var i10 = iM(function() {
      for (var e31 = 0; e31 < n10.length; e31++) n10[e31](r10);
    }, "func");
    "function" == typeof setImmediate ? setImmediate(i10) : setTimeout(i10, 0);
  }
}, "execute_handlers"), ep0 = iM(function(e30, t10, r10) {
  return function(n10) {
    if ("function" != typeof e30) t10[r10].call(t10, n10);
    else {
      var i10;
      try {
        i10 = e30(n10);
      } catch (e31) {
        t10.reject(e31);
        return;
      }
      ep1(t10, i10);
    }
  };
}, "resolver"), ep1 = iM(function e25(t10, r10) {
  if (t10 === r10 || t10.proxy === r10) {
    t10.reject(TypeError("cannot resolve promise with itself"));
    return;
  }
  if ("object" === ecL(r10) && null !== r10 || "function" == typeof r10) try {
    n10 = r10.then;
  } catch (e30) {
    t10.reject(e30);
    return;
  }
  if ("function" == typeof n10) {
    var n10, i10 = false;
    try {
      n10.call(r10, function(n11) {
        i10 || (i10 = true, n11 === r10 ? t10.reject(TypeError("circular thenable chain")) : e25(t10, n11));
      }, function(e30) {
        i10 || (i10 = true, t10.reject(e30));
      });
    } catch (e30) {
      i10 || t10.reject(e30);
    }
    return;
  }
  t10.fulfill(r10);
}, "resolve");
epK.all = function(e30) {
  return new epK(function(t10, r10) {
    for (var n10 = Array(e30.length), i10 = 0, a10 = iM(function(r11, a11) {
      n10[r11] = a11, ++i10 === e30.length && t10(n10);
    }, "fulfill"), s10 = 0; s10 < e30.length; s10++) !function(t11) {
      var n11 = e30[t11];
      null != n11 && null != n11.then ? n11.then(function(e31) {
        a10(t11, e31);
      }, function(e31) {
        r10(e31);
      }) : a10(t11, n11);
    }(s10);
  });
}, epK.resolve = function(e30) {
  return new epK(function(t10, r10) {
    t10(e30);
  });
}, epK.reject = function(e30) {
  return new epK(function(t10, r10) {
    r10(e30);
  });
};
var ep2 = "undefined" != typeof Promise ? Promise : epK, ep4 = iM(function(e30, t10, r10) {
  var n10 = ec5(e30), i10 = this._private = ehg({ duration: 1e3 }, t10, r10);
  if (i10.target = e30, i10.style = i10.style || i10.css, i10.started = false, i10.playing = false, i10.hooked = false, i10.applying = false, i10.progress = 0, i10.completes = [], i10.frames = [], i10.complete && ecX(i10.complete) && i10.completes.push(i10.complete), !n10) {
    var a10 = e30.position();
    i10.startPosition = i10.startPosition || { x: a10.x, y: a10.y }, i10.startStyle = i10.startStyle || e30.cy().style().getAnimationStartStyle(e30, i10.style);
  }
  if (n10) {
    var s10 = e30.pan();
    i10.startPan = { x: s10.x, y: s10.y }, i10.startZoom = e30.zoom();
  }
  this.length = 1, this[0] = this;
}, "Animation"), ep3 = ep4.prototype;
ehg(ep3, { instanceString: iM(function() {
  return "animation";
}, "instanceString"), hook: iM(function() {
  var e30 = this._private;
  if (!e30.hooked) {
    var t10 = e30.target._private.animation;
    (e30.queue ? t10.queue : t10.current).push(this), ec2(e30.target) && e30.target.cy().addToAnimationPool(e30.target), e30.hooked = true;
  }
  return this;
}, "hook"), play: iM(function() {
  var e30 = this._private;
  return 1 === e30.progress && (e30.progress = 0), e30.playing = true, e30.started = false, e30.stopped = false, this.hook(), this;
}, "play"), playing: iM(function() {
  return this._private.playing;
}, "playing"), apply: iM(function() {
  var e30 = this._private;
  return e30.applying = true, e30.started = false, e30.stopped = false, this.hook(), this;
}, "apply"), applying: iM(function() {
  return this._private.applying;
}, "applying"), pause: iM(function() {
  var e30 = this._private;
  return e30.playing = false, e30.started = false, this;
}, "pause"), stop: iM(function() {
  var e30 = this._private;
  return e30.playing = false, e30.started = false, e30.stopped = true, this;
}, "stop"), rewind: iM(function() {
  return this.progress(0);
}, "rewind"), fastforward: iM(function() {
  return this.progress(1);
}, "fastforward"), time: iM(function(e30) {
  var t10 = this._private;
  return void 0 === e30 ? t10.progress * t10.duration : this.progress(e30 / t10.duration);
}, "time"), progress: iM(function(e30) {
  var t10 = this._private, r10 = t10.playing;
  return void 0 === e30 ? t10.progress : (r10 && this.pause(), t10.progress = e30, t10.started = false, r10 && this.play(), this);
}, "progress"), completed: iM(function() {
  return 1 === this._private.progress;
}, "completed"), reverse: iM(function() {
  var e30 = this._private, t10 = e30.playing;
  t10 && this.pause(), e30.progress = 1 - e30.progress, e30.started = false;
  var r10 = iM(function(t11, r11) {
    var n11 = e30[t11];
    null != n11 && (e30[t11] = e30[r11], e30[r11] = n11);
  }, "swap");
  if (r10("zoom", "startZoom"), r10("pan", "startPan"), r10("position", "startPosition"), e30.style) for (var n10 = 0; n10 < e30.style.length; n10++) {
    var i10 = e30.style[n10], a10 = i10.name, s10 = e30.startStyle[a10];
    e30.startStyle[a10] = i10, e30.style[n10] = s10;
  }
  return t10 && this.play(), this;
}, "reverse"), promise: iM(function(e30) {
  var t10, r10 = this._private;
  return t10 = "frame" === e30 ? r10.frames : r10.completes, new ep2(function(e31, r11) {
    t10.push(function() {
      e31();
    });
  });
}, "promise") }), ep3.complete = ep3.completed, ep3.run = ep3.play, ep3.running = ep3.playing;
var ep5 = { animated: iM(function() {
  return iM(function() {
    var e30 = void 0 !== this.length;
    if (!(this._private.cy || this).styleEnabled()) return false;
    var t10 = (e30 ? this : [this])[0];
    if (t10) return t10._private.animation.current.length > 0;
  }, "animatedImpl");
}, "animated"), clearQueue: iM(function() {
  return iM(function() {
    var e30 = void 0 !== this.length ? this : [this];
    if (!(this._private.cy || this).styleEnabled()) return this;
    for (var t10 = 0; t10 < e30.length; t10++) e30[t10]._private.animation.queue = [];
    return this;
  }, "clearQueueImpl");
}, "clearQueue"), delay: iM(function() {
  return iM(function(e30, t10) {
    return (this._private.cy || this).styleEnabled() ? this.animate({ delay: e30, duration: e30, complete: t10 }) : this;
  }, "delayImpl");
}, "delay"), delayAnimation: iM(function() {
  return iM(function(e30, t10) {
    return (this._private.cy || this).styleEnabled() ? this.animation({ delay: e30, duration: e30, complete: t10 }) : this;
  }, "delayAnimationImpl");
}, "delayAnimation"), animation: iM(function() {
  return iM(function(e30, t10) {
    var r10 = void 0 !== this.length, n10 = r10 ? this : [this], i10 = this._private.cy || this, a10 = !r10, s10 = !a10;
    if (!i10.styleEnabled()) return this;
    var o10 = i10.style();
    if (0 === Object.keys(e30 = ehg({}, e30, t10)).length) return new ep4(n10[0], e30);
    switch (void 0 === e30.duration && (e30.duration = 400), e30.duration) {
      case "slow":
        e30.duration = 600;
        break;
      case "fast":
        e30.duration = 200;
    }
    if (s10 && (e30.style = o10.getPropsList(e30.style || e30.css), e30.css = void 0), s10 && null != e30.renderedPosition) {
      var l10 = e30.renderedPosition, h10 = i10.pan(), u10 = i10.zoom();
      e30.position = euQ(l10, u10, h10);
    }
    if (a10 && null != e30.panBy) {
      var d10 = e30.panBy, p10 = i10.pan();
      e30.pan = { x: p10.x + d10.x, y: p10.y + d10.y };
    }
    var f10 = e30.center || e30.centre;
    if (a10 && null != f10) {
      var g10 = i10.getCenterPan(f10.eles, e30.zoom);
      null != g10 && (e30.pan = g10);
    }
    if (a10 && null != e30.fit) {
      var y10 = e30.fit, v10 = i10.getFitViewport(y10.eles || y10.boundingBox, y10.padding);
      null != v10 && (e30.pan = v10.pan, e30.zoom = v10.zoom);
    }
    if (a10 && ecZ(e30.zoom)) {
      var x10 = i10.getZoomedViewport(e30.zoom);
      null != x10 ? (x10.zoomed && (e30.zoom = x10.zoom), x10.panned && (e30.pan = x10.pan)) : e30.zoom = null;
    }
    return new ep4(n10[0], e30);
  }, "animationImpl");
}, "animation"), animate: iM(function() {
  return iM(function(e30, t10) {
    var r10 = void 0 !== this.length ? this : [this];
    if (!(this._private.cy || this).styleEnabled()) return this;
    t10 && (e30 = ehg({}, e30, t10));
    for (var n10 = 0; n10 < r10.length; n10++) {
      var i10 = r10[n10], a10 = i10.animated() && (void 0 === e30.queue || e30.queue);
      i10.animation(e30, a10 ? { queue: true } : void 0).play();
    }
    return this;
  }, "animateImpl");
}, "animate"), stop: iM(function() {
  return iM(function(e30, t10) {
    var r10 = void 0 !== this.length ? this : [this], n10 = this._private.cy || this;
    if (!n10.styleEnabled()) return this;
    for (var i10 = 0; i10 < r10.length; i10++) {
      for (var a10 = r10[i10]._private, s10 = a10.animation.current, o10 = 0; o10 < s10.length; o10++) {
        var l10 = s10[o10]._private;
        t10 && (l10.duration = 0);
      }
      e30 && (a10.animation.queue = []), t10 || (a10.animation.current = []);
    }
    return n10.notify("draw"), this;
  }, "stopImpl");
}, "stop") }, ep6 = Array.isArray, ep7 = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ep8 = /^\w*$/;
function ep9(e30, t10) {
  if (ep6(e30)) return false;
  var r10 = typeof e30;
  return !!("number" == r10 || "symbol" == r10 || "boolean" == r10 || null == e30 || ehH(e30)) || ep8.test(e30) || !ep7.test(e30) || null != t10 && e30 in Object(t10);
}
function efe(e30) {
  if (!ehT(e30)) return false;
  var t10 = ehW(e30);
  return "[object Function]" == t10 || "[object GeneratorFunction]" == t10 || "[object AsyncFunction]" == t10 || "[object Proxy]" == t10;
}
iM(ep9, "isKey"), iM(efe, "isFunction");
var eft = ehL["__core-js_shared__"], efr = (tG = /[^.]+$/.exec(eft && eft.keys && eft.keys.IE_PROTO || "")) ? "Symbol(src)_1." + tG : "";
function efn(e30) {
  return !!efr && efr in e30;
}
iM(efn, "isMasked");
var efi = Function.prototype.toString;
function efa(e30) {
  if (null != e30) {
    try {
      return efi.call(e30);
    } catch (e31) {
    }
    try {
      return e30 + "";
    } catch (e31) {
    }
  }
  return "";
}
iM(efa, "toSource");
var efs = /^\[object .+?Constructor\]$/, efo = Object.prototype, efl = Function.prototype.toString, efc = efo.hasOwnProperty, efh = RegExp("^" + efl.call(efc).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
function efu(e30) {
  return !(!ehT(e30) || efn(e30)) && (efe(e30) ? efh : efs).test(efa(e30));
}
function efd(e30, t10) {
  return null == e30 ? void 0 : e30[t10];
}
function efp(e30, t10) {
  var r10 = efd(e30, t10);
  return efu(r10) ? r10 : void 0;
}
iM(efu, "baseIsNative"), iM(efd, "getValue$1"), iM(efp, "getNative");
var eff = efp(Object, "create");
function efg() {
  this.__data__ = eff ? eff(null) : {}, this.size = 0;
}
function efm(e30) {
  var t10 = this.has(e30) && delete this.__data__[e30];
  return this.size -= t10 ? 1 : 0, t10;
}
iM(efg, "hashClear"), iM(efm, "hashDelete");
var efy = Object.prototype.hasOwnProperty;
function efv(e30) {
  var t10 = this.__data__;
  if (eff) {
    var r10 = t10[e30];
    return "__lodash_hash_undefined__" === r10 ? void 0 : r10;
  }
  return efy.call(t10, e30) ? t10[e30] : void 0;
}
iM(efv, "hashGet");
var efx = Object.prototype.hasOwnProperty;
function efb(e30) {
  var t10 = this.__data__;
  return eff ? void 0 !== t10[e30] : efx.call(t10, e30);
}
function efk(e30, t10) {
  var r10 = this.__data__;
  return this.size += this.has(e30) ? 0 : 1, r10[e30] = eff && void 0 === t10 ? "__lodash_hash_undefined__" : t10, this;
}
function efw(e30) {
  var t10 = -1, r10 = null == e30 ? 0 : e30.length;
  for (this.clear(); ++t10 < r10; ) {
    var n10 = e30[t10];
    this.set(n10[0], n10[1]);
  }
}
function ef_() {
  this.__data__ = [], this.size = 0;
}
function efT(e30, t10) {
  return e30 === t10 || e30 != e30 && t10 != t10;
}
function efS(e30, t10) {
  for (var r10 = e30.length; r10--; ) if (efT(e30[r10][0], t10)) return r10;
  return -1;
}
iM(efb, "hashHas"), iM(efk, "hashSet"), iM(efw, "Hash"), efw.prototype.clear = efg, efw.prototype.delete = efm, efw.prototype.get = efv, efw.prototype.has = efb, efw.prototype.set = efk, iM(ef_, "listCacheClear"), iM(efT, "eq"), iM(efS, "assocIndexOf");
var efC = Array.prototype.splice;
function efE(e30) {
  var t10 = this.__data__, r10 = efS(t10, e30);
  return !(r10 < 0) && (r10 == t10.length - 1 ? t10.pop() : efC.call(t10, r10, 1), --this.size, true);
}
function efA(e30) {
  var t10 = this.__data__, r10 = efS(t10, e30);
  return r10 < 0 ? void 0 : t10[r10][1];
}
function efL(e30) {
  return efS(this.__data__, e30) > -1;
}
function efI(e30, t10) {
  var r10 = this.__data__, n10 = efS(r10, e30);
  return n10 < 0 ? (++this.size, r10.push([e30, t10])) : r10[n10][1] = t10, this;
}
function efM(e30) {
  var t10 = -1, r10 = null == e30 ? 0 : e30.length;
  for (this.clear(); ++t10 < r10; ) {
    var n10 = e30[t10];
    this.set(n10[0], n10[1]);
  }
}
iM(efE, "listCacheDelete"), iM(efA, "listCacheGet"), iM(efL, "listCacheHas"), iM(efI, "listCacheSet"), iM(efM, "ListCache"), efM.prototype.clear = ef_, efM.prototype.delete = efE, efM.prototype.get = efA, efM.prototype.has = efL, efM.prototype.set = efI;
var efN = efp(ehL, "Map");
function efR() {
  this.size = 0, this.__data__ = { hash: new efw(), map: new (efN || efM)(), string: new efw() };
}
function efD(e30) {
  var t10 = typeof e30;
  return "string" == t10 || "number" == t10 || "symbol" == t10 || "boolean" == t10 ? "__proto__" !== e30 : null === e30;
}
function efO(e30, t10) {
  var r10 = e30.__data__;
  return efD(t10) ? r10["string" == typeof t10 ? "string" : "hash"] : r10.map;
}
function ef$(e30) {
  var t10 = efO(this, e30).delete(e30);
  return this.size -= t10 ? 1 : 0, t10;
}
function efP(e30) {
  return efO(this, e30).get(e30);
}
function efB(e30) {
  return efO(this, e30).has(e30);
}
function efF(e30, t10) {
  var r10 = efO(this, e30), n10 = r10.size;
  return r10.set(e30, t10), this.size += r10.size == n10 ? 0 : 1, this;
}
function efz(e30) {
  var t10 = -1, r10 = null == e30 ? 0 : e30.length;
  for (this.clear(); ++t10 < r10; ) {
    var n10 = e30[t10];
    this.set(n10[0], n10[1]);
  }
}
function efj(e30, t10) {
  if ("function" != typeof e30 || null != t10 && "function" != typeof t10) throw TypeError("Expected a function");
  var r10 = iM(function() {
    var n10 = arguments, i10 = t10 ? t10.apply(this, n10) : n10[0], a10 = r10.cache;
    if (a10.has(i10)) return a10.get(i10);
    var s10 = e30.apply(this, n10);
    return r10.cache = a10.set(i10, s10) || a10, s10;
  }, "memoized");
  return r10.cache = new (efj.Cache || efz)(), r10;
}
function efq(e30) {
  var t10 = efj(e30, function(e31) {
    return 500 === r10.size && r10.clear(), e31;
  }), r10 = t10.cache;
  return t10;
}
iM(efR, "mapCacheClear"), iM(efD, "isKeyable"), iM(efO, "getMapData"), iM(ef$, "mapCacheDelete"), iM(efP, "mapCacheGet"), iM(efB, "mapCacheHas"), iM(efF, "mapCacheSet"), iM(efz, "MapCache"), efz.prototype.clear = efR, efz.prototype.delete = ef$, efz.prototype.get = efP, efz.prototype.has = efB, efz.prototype.set = efF, iM(efj, "memoize"), efj.Cache = efz, iM(efq, "memoizeCapped");
var efU = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, efW = /\\(\\)?/g, efV = efq(function(e30) {
  var t10 = [];
  return 46 === e30.charCodeAt(0) && t10.push(""), e30.replace(efU, function(e31, r10, n10, i10) {
    t10.push(n10 ? i10.replace(efW, "$1") : r10 || e31);
  }), t10;
});
function efH(e30, t10) {
  for (var r10 = -1, n10 = null == e30 ? 0 : e30.length, i10 = Array(n10); ++r10 < n10; ) i10[r10] = t10(e30[r10], r10, e30);
  return i10;
}
iM(efH, "arrayMap");
var efY = ehO ? ehO.prototype : void 0, efG = efY ? efY.toString : void 0;
function efX(e30) {
  if ("string" == typeof e30) return e30;
  if (ep6(e30)) return efH(e30, efX) + "";
  if (ehH(e30)) return efG ? efG.call(e30) : "";
  var t10 = e30 + "";
  return "0" == t10 && 1 / e30 == -1 / 0 ? "-0" : t10;
}
function efK(e30) {
  return null == e30 ? "" : efX(e30);
}
function efZ(e30, t10) {
  return ep6(e30) ? e30 : ep9(e30, t10) ? [e30] : efV(efK(e30));
}
function efQ(e30) {
  if ("string" == typeof e30 || ehH(e30)) return e30;
  var t10 = e30 + "";
  return "0" == t10 && 1 / e30 == -1 / 0 ? "-0" : t10;
}
function efJ(e30, t10) {
  t10 = efZ(t10, e30);
  for (var r10 = 0, n10 = t10.length; null != e30 && r10 < n10; ) e30 = e30[efQ(t10[r10++])];
  return r10 && r10 == n10 ? e30 : void 0;
}
function ef0(e30, t10, r10) {
  var n10 = null == e30 ? void 0 : efJ(e30, t10);
  return void 0 === n10 ? r10 : n10;
}
iM(efX, "baseToString"), iM(efK, "toString$1"), iM(efZ, "castPath"), iM(efQ, "toKey"), iM(efJ, "baseGet"), iM(ef0, "get");
var ef1 = function() {
  try {
    var e30 = efp(Object, "defineProperty");
    return e30({}, "", {}), e30;
  } catch (e31) {
  }
}();
function ef2(e30, t10, r10) {
  "__proto__" == t10 && ef1 ? ef1(e30, t10, { configurable: true, enumerable: true, value: r10, writable: true }) : e30[t10] = r10;
}
iM(ef2, "baseAssignValue");
var ef4 = Object.prototype.hasOwnProperty;
function ef3(e30, t10, r10) {
  var n10 = e30[t10];
  ef4.call(e30, t10) && efT(n10, r10) && (void 0 !== r10 || t10 in e30) || ef2(e30, t10, r10);
}
iM(ef3, "assignValue");
var ef5 = /^(?:0|[1-9]\d*)$/;
function ef6(e30, t10) {
  var r10 = typeof e30;
  return !!(t10 = null == t10 ? 9007199254740991 : t10) && ("number" == r10 || "symbol" != r10 && ef5.test(e30)) && e30 > -1 && e30 % 1 == 0 && e30 < t10;
}
function ef7(e30, t10, r10, n10) {
  if (!ehT(e30)) return e30;
  t10 = efZ(t10, e30);
  for (var i10 = -1, a10 = t10.length, s10 = a10 - 1, o10 = e30; null != o10 && ++i10 < a10; ) {
    var l10 = efQ(t10[i10]), h10 = r10;
    if ("__proto__" === l10 || "constructor" === l10 || "prototype" === l10) break;
    if (i10 != s10) {
      var u10 = o10[l10];
      void 0 === (h10 = n10 ? n10(u10, l10, o10) : void 0) && (h10 = ehT(u10) ? u10 : ef6(t10[i10 + 1]) ? [] : {});
    }
    ef3(o10, l10, h10), o10 = o10[l10];
  }
  return e30;
}
function ef8(e30, t10, r10) {
  return null == e30 ? e30 : ef7(e30, t10, r10);
}
function ef9(e30, t10) {
  var r10 = -1, n10 = e30.length;
  for (t10 || (t10 = Array(n10)); ++r10 < n10; ) t10[r10] = e30[r10];
  return t10;
}
function ege(e30) {
  return ep6(e30) ? efH(e30, efQ) : ehH(e30) ? [e30] : ef9(efV(efK(e30)));
}
iM(ef6, "isIndex"), iM(ef7, "baseSet"), iM(ef8, "set"), iM(ef9, "copyArray"), iM(ege, "toPath");
var egt = { data: iM(function(e30) {
  return e30 = ehg({}, { field: "data", bindingEvent: "data", allowBinding: false, allowSetting: false, allowGetting: false, settingEvent: "data", settingTriggersEvent: false, triggerFnName: "trigger", immutableKeys: {}, updateStyle: false, beforeGet: iM(function(e31) {
  }, "beforeGet"), beforeSet: iM(function(e31, t10) {
  }, "beforeSet"), onSet: iM(function(e31) {
  }, "onSet"), canSet: iM(function(e31) {
    return true;
  }, "canSet") }, e30), iM(function(t10, r10) {
    var n10, i10 = e30, a10 = void 0 !== this.length, s10 = a10 ? this : [this], o10 = a10 ? this[0] : this;
    if (ecG(t10)) {
      var l10, h10 = -1 !== t10.indexOf(".") && ege(t10);
      if (i10.allowGetting && void 0 === r10) return o10 && (i10.beforeGet(o10), l10 = h10 && void 0 === o10._private[i10.field][t10] ? ef0(o10._private[i10.field], h10) : o10._private[i10.field][t10]), l10;
      if (i10.allowSetting && void 0 !== r10 && !i10.immutableKeys[t10]) {
        var u10 = ecR({}, t10, r10);
        i10.beforeSet(this, u10);
        for (var d10 = 0, p10 = s10.length; d10 < p10; d10++) {
          var f10 = s10[d10];
          i10.canSet(f10) && (h10 && void 0 === o10._private[i10.field][t10] ? ef8(f10._private[i10.field], h10, r10) : f10._private[i10.field][t10] = r10);
        }
        i10.updateStyle && this.updateStyle(), i10.onSet(this), i10.settingTriggersEvent && this[i10.triggerFnName](i10.settingEvent);
      }
    } else if (i10.allowSetting && ecZ(t10)) {
      var g10, y10, v10 = Object.keys(t10);
      i10.beforeSet(this, t10);
      for (var x10 = 0; x10 < v10.length; x10++) if (y10 = t10[g10 = v10[x10]], !i10.immutableKeys[g10]) for (var b10 = 0; b10 < s10.length; b10++) {
        var k10 = s10[b10];
        i10.canSet(k10) && (k10._private[i10.field][g10] = y10);
      }
      i10.updateStyle && this.updateStyle(), i10.onSet(this), i10.settingTriggersEvent && this[i10.triggerFnName](i10.settingEvent);
    } else if (i10.allowBinding && ecX(t10)) this.on(i10.bindingEvent, t10);
    else if (i10.allowGetting && void 0 === t10) return o10 && (i10.beforeGet(o10), n10 = o10._private[i10.field]), n10;
    return this;
  }, "dataImpl");
}, "data"), removeData: iM(function(e30) {
  return e30 = ehg({}, { field: "data", event: "data", triggerFnName: "trigger", triggerEvent: false, immutableKeys: {} }, e30), iM(function(t10) {
    var r10 = e30, n10 = void 0 !== this.length ? this : [this];
    if (ecG(t10)) {
      for (var i10 = t10.split(/\s+/), a10 = i10.length, s10 = 0; s10 < a10; s10++) {
        var o10 = i10[s10];
        if (!ec8(o10) && !r10.immutableKeys[o10]) for (var l10 = 0, h10 = n10.length; l10 < h10; l10++) n10[l10]._private[r10.field][o10] = void 0;
      }
      r10.triggerEvent && this[r10.triggerFnName](r10.event);
    } else if (void 0 === t10) {
      for (var u10 = 0, d10 = n10.length; u10 < d10; u10++) for (var p10 = n10[u10]._private[r10.field], f10 = Object.keys(p10), g10 = 0; g10 < f10.length; g10++) {
        var y10 = f10[g10];
        r10.immutableKeys[y10] || (p10[y10] = void 0);
      }
      r10.triggerEvent && this[r10.triggerFnName](r10.event);
    }
    return this;
  }, "removeDataImpl");
}, "removeData") }, egr = { eventAliasesOn: iM(function(e30) {
  e30.addListener = e30.listen = e30.bind = e30.on, e30.unlisten = e30.unbind = e30.off = e30.removeListener, e30.trigger = e30.emit, e30.pon = e30.promiseOn = function(e31, t10) {
    var r10 = this, n10 = Array.prototype.slice.call(arguments, 0);
    return new ep2(function(e32, t11) {
      var i10 = iM(function(t12) {
        r10.off.apply(r10, s10), e32(t12);
      }, "callback"), a10 = n10.concat([i10]), s10 = a10.concat([]);
      r10.on.apply(r10, a10);
    });
  };
}, "eventAliasesOn") }, egn = {};
[ep5, egt, egr].forEach(function(e30) {
  ehg(egn, e30);
});
var egi = { animate: egn.animate(), animation: egn.animation(), animated: egn.animated(), clearQueue: egn.clearQueue(), delay: egn.delay(), delayAnimation: egn.delayAnimation(), stop: egn.stop() }, ega = { classes: iM(function(e30) {
  if (void 0 === e30) {
    var t10 = [];
    return this[0]._private.classes.forEach(function(e31) {
      return t10.push(e31);
    }), t10;
  }
  ecK(e30) || (e30 = (e30 || "").match(/\S+/g) || []);
  for (var r10 = [], n10 = new euN(e30), i10 = 0; i10 < this.length; i10++) {
    for (var a10 = this[i10], s10 = a10._private, o10 = s10.classes, l10 = false, h10 = 0; h10 < e30.length; h10++) {
      var u10 = e30[h10];
      if (!o10.has(u10)) {
        l10 = true;
        break;
      }
    }
    l10 || (l10 = o10.size !== e30.length), l10 && (s10.classes = n10, r10.push(a10));
  }
  return r10.length > 0 && this.spawn(r10).updateStyle().emit("class"), this;
}, "classes"), addClass: iM(function(e30) {
  return this.toggleClass(e30, true);
}, "addClass"), hasClass: iM(function(e30) {
  var t10 = this[0];
  return null != t10 && t10._private.classes.has(e30);
}, "hasClass"), toggleClass: iM(function(e30, t10) {
  ecK(e30) || (e30 = e30.match(/\S+/g) || []);
  for (var r10 = void 0 === t10, n10 = [], i10 = 0, a10 = this.length; i10 < a10; i10++) for (var s10 = this[i10], o10 = s10._private.classes, l10 = false, h10 = 0; h10 < e30.length; h10++) {
    var u10 = e30[h10], d10 = o10.has(u10), p10 = false;
    t10 || r10 && !d10 ? (o10.add(u10), p10 = true) : (!t10 || r10 && d10) && (o10.delete(u10), p10 = true), !l10 && p10 && (n10.push(s10), l10 = true);
  }
  return n10.length > 0 && this.spawn(n10).updateStyle().emit("class"), this;
}, "toggleClass"), removeClass: iM(function(e30) {
  return this.toggleClass(e30, false);
}, "removeClass"), flashClass: iM(function(e30, t10) {
  var r10 = this;
  if (null == t10) t10 = 250;
  else if (0 === t10) return r10;
  return r10.addClass(e30), setTimeout(function() {
    r10.removeClass(e30);
  }, t10), r10;
}, "flashClass") };
ega.className = ega.classNames = ega.classes;
var egs = { metaChar: "[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]", comparatorOp: "=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=", boolOp: "\\?|\\!|\\^", string: `"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`, number: ehl, meta: "degree|indegree|outdegree", separator: "\\s*,\\s*", descendant: "\\s+", child: "\\s+>\\s+", subject: "\\$", group: "node|edge|\\*", directedEdge: "\\s+->\\s+", undirectedEdge: "\\s+<->\\s+" };
egs.variable = "(?:[\\w-.]|(?:\\\\" + egs.metaChar + "))+", egs.className = "(?:[\\w-]|(?:\\\\" + egs.metaChar + "))+", egs.value = egs.string + "|" + egs.number, egs.id = egs.variable, function() {
  var e30, t10, r10;
  for (r10 = 0, e30 = egs.comparatorOp.split("|"); r10 < e30.length; r10++) t10 = e30[r10], egs.comparatorOp += "|@" + t10;
  for (r10 = 0, e30 = egs.comparatorOp.split("|"); r10 < e30.length; r10++) (t10 = e30[r10]).indexOf("!") >= 0 || "=" === t10 || (egs.comparatorOp += "|\\!" + t10);
}();
var ego = iM(function() {
  return { checks: [] };
}, "newQuery"), egl = { GROUP: 0, COLLECTION: 1, FILTER: 2, DATA_COMPARE: 3, DATA_EXIST: 4, DATA_BOOL: 5, META_COMPARE: 6, STATE: 7, ID: 8, CLASS: 9, UNDIRECTED_EDGE: 10, DIRECTED_EDGE: 11, NODE_SOURCE: 12, NODE_TARGET: 13, NODE_NEIGHBOR: 14, CHILD: 15, DESCENDANT: 16, PARENT: 17, ANCESTOR: 18, COMPOUND_SPLIT: 19, TRUE: 20 }, egc = [{ selector: ":selected", matches: iM(function(e30) {
  return e30.selected();
}, "matches") }, { selector: ":unselected", matches: iM(function(e30) {
  return !e30.selected();
}, "matches") }, { selector: ":selectable", matches: iM(function(e30) {
  return e30.selectable();
}, "matches") }, { selector: ":unselectable", matches: iM(function(e30) {
  return !e30.selectable();
}, "matches") }, { selector: ":locked", matches: iM(function(e30) {
  return e30.locked();
}, "matches") }, { selector: ":unlocked", matches: iM(function(e30) {
  return !e30.locked();
}, "matches") }, { selector: ":visible", matches: iM(function(e30) {
  return e30.visible();
}, "matches") }, { selector: ":hidden", matches: iM(function(e30) {
  return !e30.visible();
}, "matches") }, { selector: ":transparent", matches: iM(function(e30) {
  return e30.transparent();
}, "matches") }, { selector: ":grabbed", matches: iM(function(e30) {
  return e30.grabbed();
}, "matches") }, { selector: ":free", matches: iM(function(e30) {
  return !e30.grabbed();
}, "matches") }, { selector: ":removed", matches: iM(function(e30) {
  return e30.removed();
}, "matches") }, { selector: ":inside", matches: iM(function(e30) {
  return !e30.removed();
}, "matches") }, { selector: ":grabbable", matches: iM(function(e30) {
  return e30.grabbable();
}, "matches") }, { selector: ":ungrabbable", matches: iM(function(e30) {
  return !e30.grabbable();
}, "matches") }, { selector: ":animated", matches: iM(function(e30) {
  return e30.animated();
}, "matches") }, { selector: ":unanimated", matches: iM(function(e30) {
  return !e30.animated();
}, "matches") }, { selector: ":parent", matches: iM(function(e30) {
  return e30.isParent();
}, "matches") }, { selector: ":childless", matches: iM(function(e30) {
  return e30.isChildless();
}, "matches") }, { selector: ":child", matches: iM(function(e30) {
  return e30.isChild();
}, "matches") }, { selector: ":orphan", matches: iM(function(e30) {
  return e30.isOrphan();
}, "matches") }, { selector: ":nonorphan", matches: iM(function(e30) {
  return e30.isChild();
}, "matches") }, { selector: ":compound", matches: iM(function(e30) {
  return e30.isNode() ? e30.isParent() : e30.source().isParent() || e30.target().isParent();
}, "matches") }, { selector: ":loop", matches: iM(function(e30) {
  return e30.isLoop();
}, "matches") }, { selector: ":simple", matches: iM(function(e30) {
  return e30.isSimple();
}, "matches") }, { selector: ":active", matches: iM(function(e30) {
  return e30.active();
}, "matches") }, { selector: ":inactive", matches: iM(function(e30) {
  return !e30.active();
}, "matches") }, { selector: ":backgrounding", matches: iM(function(e30) {
  return e30.backgrounding();
}, "matches") }, { selector: ":nonbackgrounding", matches: iM(function(e30) {
  return !e30.backgrounding();
}, "matches") }].sort(function(e30, t10) {
  return ehf(e30.selector, t10.selector);
}), egh = function() {
  for (var e30, t10 = {}, r10 = 0; r10 < egc.length; r10++) t10[(e30 = egc[r10]).selector] = e30.matches;
  return t10;
}(), egu = iM(function(e30, t10) {
  return egh[e30](t10);
}, "stateSelectorMatches"), egd = "(" + egc.map(function(e30) {
  return e30.selector;
}).join("|") + ")", egp = iM(function(e30) {
  return e30.replace(RegExp("\\\\(" + egs.metaChar + ")", "g"), function(e31, t10) {
    return t10;
  });
}, "cleanMetaChars"), egf = iM(function(e30, t10, r10) {
  e30[e30.length - 1] = r10;
}, "replaceLastQuery"), egg = [{ name: "group", query: true, regex: "(" + egs.group + ")", populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 1)[0];
  t10.checks.push({ type: egl.GROUP, value: "*" === n10 ? n10 : n10 + "s" });
}, "populate") }, { name: "state", query: true, regex: egd, populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 1)[0];
  t10.checks.push({ type: egl.STATE, value: n10 });
}, "populate") }, { name: "id", query: true, regex: "\\#(" + egs.id + ")", populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 1)[0];
  t10.checks.push({ type: egl.ID, value: egp(n10) });
}, "populate") }, { name: "className", query: true, regex: "\\.(" + egs.className + ")", populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 1)[0];
  t10.checks.push({ type: egl.CLASS, value: egp(n10) });
}, "populate") }, { name: "dataExists", query: true, regex: "\\[\\s*(" + egs.variable + ")\\s*\\]", populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 1)[0];
  t10.checks.push({ type: egl.DATA_EXIST, field: egp(n10) });
}, "populate") }, { name: "dataCompare", query: true, regex: "\\[\\s*(" + egs.variable + ")\\s*(" + egs.comparatorOp + ")\\s*(" + egs.value + ")\\s*\\]", populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 3), i10 = n10[0], a10 = n10[1], s10 = n10[2];
  s10 = null != RegExp("^" + egs.string + "$").exec(s10) ? s10.substring(1, s10.length - 1) : parseFloat(s10), t10.checks.push({ type: egl.DATA_COMPARE, field: egp(i10), operator: a10, value: s10 });
}, "populate") }, { name: "dataBool", query: true, regex: "\\[\\s*(" + egs.boolOp + ")\\s*(" + egs.variable + ")\\s*\\]", populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 2), i10 = n10[0], a10 = n10[1];
  t10.checks.push({ type: egl.DATA_BOOL, field: egp(a10), operator: i10 });
}, "populate") }, { name: "metaCompare", query: true, regex: "\\[\\[\\s*(" + egs.meta + ")\\s*(" + egs.comparatorOp + ")\\s*(" + egs.number + ")\\s*\\]\\]", populate: iM(function(e30, t10, r10) {
  var n10 = ecD(r10, 3), i10 = n10[0], a10 = n10[1], s10 = n10[2];
  t10.checks.push({ type: egl.META_COMPARE, field: egp(i10), operator: a10, value: parseFloat(s10) });
}, "populate") }, { name: "nextQuery", separator: true, regex: egs.separator, populate: iM(function(e30, t10) {
  var r10 = e30.currentSubject, n10 = e30.edgeCount, i10 = e30.compoundCount, a10 = e30[e30.length - 1];
  return null != r10 && (a10.subject = r10, e30.currentSubject = null), a10.edgeCount = n10, a10.compoundCount = i10, e30.edgeCount = 0, e30.compoundCount = 0, e30[e30.length++] = ego();
}, "populate") }, { name: "directedEdge", separator: true, regex: egs.directedEdge, populate: iM(function(e30, t10) {
  if (null == e30.currentSubject) {
    var r10 = ego(), n10 = ego();
    return r10.checks.push({ type: egl.DIRECTED_EDGE, source: t10, target: n10 }), egf(e30, t10, r10), e30.edgeCount++, n10;
  }
  var i10 = ego(), a10 = ego();
  return i10.checks.push({ type: egl.NODE_SOURCE, source: t10, target: a10 }), egf(e30, t10, i10), e30.edgeCount++, a10;
}, "populate") }, { name: "undirectedEdge", separator: true, regex: egs.undirectedEdge, populate: iM(function(e30, t10) {
  if (null == e30.currentSubject) {
    var r10 = ego(), n10 = ego();
    return r10.checks.push({ type: egl.UNDIRECTED_EDGE, nodes: [t10, n10] }), egf(e30, t10, r10), e30.edgeCount++, n10;
  }
  var i10 = ego(), a10 = ego();
  return i10.checks.push({ type: egl.NODE_NEIGHBOR, node: t10, neighbor: a10 }), egf(e30, t10, i10), a10;
}, "populate") }, { name: "child", separator: true, regex: egs.child, populate: iM(function(e30, t10) {
  if (null == e30.currentSubject) {
    var r10 = ego(), n10 = ego(), i10 = e30[e30.length - 1];
    return r10.checks.push({ type: egl.CHILD, parent: i10, child: n10 }), egf(e30, t10, r10), e30.compoundCount++, n10;
  }
  if (e30.currentSubject === t10) {
    var a10 = ego(), s10 = e30[e30.length - 1], o10 = ego(), l10 = ego(), h10 = ego(), u10 = ego();
    return a10.checks.push({ type: egl.COMPOUND_SPLIT, left: s10, right: o10, subject: l10 }), l10.checks = t10.checks, t10.checks = [{ type: egl.TRUE }], u10.checks.push({ type: egl.TRUE }), o10.checks.push({ type: egl.PARENT, parent: u10, child: h10 }), egf(e30, s10, a10), e30.currentSubject = l10, e30.compoundCount++, h10;
  }
  var d10 = ego(), p10 = ego(), f10 = [{ type: egl.PARENT, parent: d10, child: p10 }];
  return d10.checks = t10.checks, t10.checks = f10, e30.compoundCount++, p10;
}, "populate") }, { name: "descendant", separator: true, regex: egs.descendant, populate: iM(function(e30, t10) {
  if (null == e30.currentSubject) {
    var r10 = ego(), n10 = ego(), i10 = e30[e30.length - 1];
    return r10.checks.push({ type: egl.DESCENDANT, ancestor: i10, descendant: n10 }), egf(e30, t10, r10), e30.compoundCount++, n10;
  }
  if (e30.currentSubject === t10) {
    var a10 = ego(), s10 = e30[e30.length - 1], o10 = ego(), l10 = ego(), h10 = ego(), u10 = ego();
    return a10.checks.push({ type: egl.COMPOUND_SPLIT, left: s10, right: o10, subject: l10 }), l10.checks = t10.checks, t10.checks = [{ type: egl.TRUE }], u10.checks.push({ type: egl.TRUE }), o10.checks.push({ type: egl.ANCESTOR, ancestor: u10, descendant: h10 }), egf(e30, s10, a10), e30.currentSubject = l10, e30.compoundCount++, h10;
  }
  var d10 = ego(), p10 = ego(), f10 = [{ type: egl.ANCESTOR, ancestor: d10, descendant: p10 }];
  return d10.checks = t10.checks, t10.checks = f10, e30.compoundCount++, p10;
}, "populate") }, { name: "subject", modifier: true, regex: egs.subject, populate: iM(function(e30, t10) {
  if (null != e30.currentSubject && e30.currentSubject !== t10) return eum("Redefinition of subject in selector `" + e30.toString() + "`"), false;
  e30.currentSubject = t10;
  var r10 = e30[e30.length - 1].checks[0], n10 = null == r10 ? null : r10.type;
  n10 === egl.DIRECTED_EDGE ? r10.type = egl.NODE_TARGET : n10 === egl.UNDIRECTED_EDGE && (r10.type = egl.NODE_NEIGHBOR, r10.node = r10.nodes[1], r10.neighbor = r10.nodes[0], r10.nodes = null);
}, "populate") }];
egg.forEach(function(e30) {
  return e30.regexObj = RegExp("^" + e30.regex);
});
var egm = iM(function(e30) {
  for (var t10, r10, n10, i10 = 0; i10 < egg.length; i10++) {
    var a10 = egg[i10], s10 = a10.name, o10 = e30.match(a10.regexObj);
    if (null != o10) {
      r10 = o10, t10 = a10, n10 = s10;
      var l10 = o10[0];
      e30 = e30.substring(l10.length);
      break;
    }
  }
  return { expr: t10, match: r10, name: n10, remaining: e30 };
}, "consumeExpr"), egy = iM(function(e30) {
  var t10 = e30.match(/^\s+/);
  if (t10) {
    var r10 = t10[0];
    e30 = e30.substring(r10.length);
  }
  return e30;
}, "consumeWhitespace"), egv = iM(function(e30) {
  var t10 = this.inputText = e30, r10 = this[0] = ego();
  for (this.length = 1, t10 = egy(t10); ; ) {
    var n10 = egm(t10);
    if (null == n10.expr) return eum("The selector `" + e30 + "`is invalid"), false;
    var i10 = n10.match.slice(1), a10 = n10.expr.populate(this, r10, i10);
    if (false === a10) return false;
    if (null != a10 && (r10 = a10), (t10 = n10.remaining).match(/^\s*$/)) break;
  }
  var s10 = this[this.length - 1];
  null != this.currentSubject && (s10.subject = this.currentSubject), s10.edgeCount = this.edgeCount, s10.compoundCount = this.compoundCount;
  for (var o10 = 0; o10 < this.length; o10++) {
    var l10 = this[o10];
    if (l10.compoundCount > 0 && l10.edgeCount > 0) return eum("The selector `" + e30 + "` is invalid because it uses both a compound selector and an edge selector"), false;
    if (l10.edgeCount > 1) return eum("The selector `" + e30 + "` is invalid because it uses multiple edge selectors"), false;
    1 === l10.edgeCount && eum("The selector `" + e30 + "` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.");
  }
  return true;
}, "parse"), egx = iM(function() {
  if (null != this.toStringCache) return this.toStringCache;
  for (var e30 = iM(function(e31) {
    return null == e31 ? "" : e31;
  }, "clean"), t10 = iM(function(t11) {
    return ecG(t11) ? '"' + t11 + '"' : e30(t11);
  }, "cleanVal"), r10 = iM(function(e31) {
    return " " + e31 + " ";
  }, "space"), n10 = iM(function(n11, a11) {
    var s11 = n11.type, o11 = n11.value;
    switch (s11) {
      case egl.GROUP:
        var l10 = e30(o11);
        return l10.substring(0, l10.length - 1);
      case egl.DATA_COMPARE:
        return "[" + n11.field + r10(e30(n11.operator)) + t10(o11) + "]";
      case egl.DATA_BOOL:
        var h10 = n11.operator, u10 = n11.field;
        return "[" + e30(h10) + u10 + "]";
      case egl.DATA_EXIST:
        return "[" + n11.field + "]";
      case egl.META_COMPARE:
        var d10 = n11.operator;
        return "[[" + n11.field + r10(e30(d10)) + t10(o11) + "]]";
      case egl.STATE:
        return o11;
      case egl.ID:
        return "#" + o11;
      case egl.CLASS:
        return "." + o11;
      case egl.PARENT:
      case egl.CHILD:
        return i10(n11.parent, a11) + r10(">") + i10(n11.child, a11);
      case egl.ANCESTOR:
      case egl.DESCENDANT:
        return i10(n11.ancestor, a11) + " " + i10(n11.descendant, a11);
      case egl.COMPOUND_SPLIT:
        var p10 = i10(n11.left, a11), f10 = i10(n11.subject, a11), g10 = i10(n11.right, a11);
        return p10 + (p10.length > 0 ? " " : "") + f10 + g10;
      case egl.TRUE:
        return "";
    }
  }, "checkToString"), i10 = iM(function(e31, t11) {
    return e31.checks.reduce(function(r11, i11, a11) {
      return r11 + (t11 === e31 && 0 === a11 ? "$" : "") + n10(i11, t11);
    }, "");
  }, "queryToString"), a10 = "", s10 = 0; s10 < this.length; s10++) {
    var o10 = this[s10];
    a10 += i10(o10, o10.subject), this.length > 1 && s10 < this.length - 1 && (a10 += ", ");
  }
  return this.toStringCache = a10, a10;
}, "toString"), egb = iM(function(e30, t10, r10) {
  var n10, i10, a10, s10 = ecG(e30), o10 = ecJ(e30), l10 = ecG(r10), h10 = false, u10 = false, d10 = false;
  switch (t10.indexOf("!") >= 0 && (t10 = t10.replace("!", ""), u10 = true), t10.indexOf("@") >= 0 && (t10 = t10.replace("@", ""), h10 = true), (s10 || l10 || h10) && (i10 = s10 || o10 ? "" + e30 : "", a10 = "" + r10), h10 && (e30 = i10 = i10.toLowerCase(), r10 = a10 = a10.toLowerCase()), t10) {
    case "*=":
      n10 = i10.indexOf(a10) >= 0;
      break;
    case "$=":
      n10 = i10.indexOf(a10, i10.length - a10.length) >= 0;
      break;
    case "^=":
      n10 = 0 === i10.indexOf(a10);
      break;
    case "=":
      n10 = e30 === r10;
      break;
    case ">":
      d10 = true, n10 = e30 > r10;
      break;
    case ">=":
      d10 = true, n10 = e30 >= r10;
      break;
    case "<":
      d10 = true, n10 = e30 < r10;
      break;
    case "<=":
      d10 = true, n10 = e30 <= r10;
      break;
    default:
      n10 = false;
  }
  return u10 && (null != e30 || !d10) && (n10 = !n10), n10;
}, "valCmp"), egk = iM(function(e30, t10) {
  switch (t10) {
    case "?":
      return !!e30;
    case "!":
      return !e30;
    case "^":
      return void 0 === e30;
  }
}, "boolCmp"), egw = iM(function(e30) {
  return void 0 !== e30;
}, "existCmp"), eg_ = iM(function(e30, t10) {
  return e30.data(t10);
}, "data"), egT = iM(function(e30, t10) {
  return e30[t10]();
}, "meta"), egS = [], egC = iM(function(e30, t10) {
  return e30.checks.every(function(e31) {
    return egS[e31.type](e31, t10);
  });
}, "matches");
egS[egl.GROUP] = function(e30, t10) {
  var r10 = e30.value;
  return "*" === r10 || r10 === t10.group();
}, egS[egl.STATE] = function(e30, t10) {
  return egu(e30.value, t10);
}, egS[egl.ID] = function(e30, t10) {
  var r10 = e30.value;
  return t10.id() === r10;
}, egS[egl.CLASS] = function(e30, t10) {
  var r10 = e30.value;
  return t10.hasClass(r10);
}, egS[egl.META_COMPARE] = function(e30, t10) {
  var r10 = e30.field, n10 = e30.operator, i10 = e30.value;
  return egb(egT(t10, r10), n10, i10);
}, egS[egl.DATA_COMPARE] = function(e30, t10) {
  var r10 = e30.field, n10 = e30.operator, i10 = e30.value;
  return egb(eg_(t10, r10), n10, i10);
}, egS[egl.DATA_BOOL] = function(e30, t10) {
  var r10 = e30.field, n10 = e30.operator;
  return egk(eg_(t10, r10), n10);
}, egS[egl.DATA_EXIST] = function(e30, t10) {
  var r10 = e30.field;
  return e30.operator, egw(eg_(t10, r10));
}, egS[egl.UNDIRECTED_EDGE] = function(e30, t10) {
  var r10 = e30.nodes[0], n10 = e30.nodes[1], i10 = t10.source(), a10 = t10.target();
  return egC(r10, i10) && egC(n10, a10) || egC(n10, i10) && egC(r10, a10);
}, egS[egl.NODE_NEIGHBOR] = function(e30, t10) {
  return egC(e30.node, t10) && t10.neighborhood().some(function(t11) {
    return t11.isNode() && egC(e30.neighbor, t11);
  });
}, egS[egl.DIRECTED_EDGE] = function(e30, t10) {
  return egC(e30.source, t10.source()) && egC(e30.target, t10.target());
}, egS[egl.NODE_SOURCE] = function(e30, t10) {
  return egC(e30.source, t10) && t10.outgoers().some(function(t11) {
    return t11.isNode() && egC(e30.target, t11);
  });
}, egS[egl.NODE_TARGET] = function(e30, t10) {
  return egC(e30.target, t10) && t10.incomers().some(function(t11) {
    return t11.isNode() && egC(e30.source, t11);
  });
}, egS[egl.CHILD] = function(e30, t10) {
  return egC(e30.child, t10) && egC(e30.parent, t10.parent());
}, egS[egl.PARENT] = function(e30, t10) {
  return egC(e30.parent, t10) && t10.children().some(function(t11) {
    return egC(e30.child, t11);
  });
}, egS[egl.DESCENDANT] = function(e30, t10) {
  return egC(e30.descendant, t10) && t10.ancestors().some(function(t11) {
    return egC(e30.ancestor, t11);
  });
}, egS[egl.ANCESTOR] = function(e30, t10) {
  return egC(e30.ancestor, t10) && t10.descendants().some(function(t11) {
    return egC(e30.descendant, t11);
  });
}, egS[egl.COMPOUND_SPLIT] = function(e30, t10) {
  return egC(e30.subject, t10) && egC(e30.left, t10) && egC(e30.right, t10);
}, egS[egl.TRUE] = function() {
  return true;
}, egS[egl.COLLECTION] = function(e30, t10) {
  return e30.value.has(t10);
}, egS[egl.FILTER] = function(e30, t10) {
  return (0, e30.value)(t10);
};
var egE = iM(function(e30) {
  var t10 = this;
  if (1 === t10.length && 1 === t10[0].checks.length && t10[0].checks[0].type === egl.ID) return e30.getElementById(t10[0].checks[0].value).collection();
  var r10 = iM(function(e31) {
    for (var r11 = 0; r11 < t10.length; r11++) if (egC(t10[r11], e31)) return true;
    return false;
  }, "selectorFunction");
  return null == t10.text() && (r10 = iM(function() {
    return true;
  }, "selectorFunction")), e30.filter(r10);
}, "filter"), egA = iM(function(e30) {
  for (var t10 = 0; t10 < this.length; t10++) if (egC(this[t10], e30)) return true;
  return false;
}, "matches"), egL = iM(function(e30) {
  this.inputText = e30, this.currentSubject = null, this.compoundCount = 0, this.edgeCount = 0, this.length = 0, null == e30 || ecG(e30) && e30.match(/^\s*$/) || (ec2(e30) ? this.addQuery({ checks: [{ type: egl.COLLECTION, value: e30.collection() }] }) : ecX(e30) ? this.addQuery({ checks: [{ type: egl.FILTER, value: e30 }] }) : ecG(e30) ? this.parse(e30) || (this.invalid = true) : euf("A selector must be created from a string; found "));
}, "Selector"), egI = egL.prototype;
[{ parse: egv, toString: egx }, { matches: egA, filter: egE }].forEach(function(e30) {
  return ehg(egI, e30);
}), egI.text = function() {
  return this.inputText;
}, egI.size = function() {
  return this.length;
}, egI.eq = function(e30) {
  return this[e30];
}, egI.sameText = function(e30) {
  return !this.invalid && !e30.invalid && this.text() === e30.text();
}, egI.addQuery = function(e30) {
  this[this.length++] = e30;
}, egI.selector = egI.toString;
var egM = { allAre: iM(function(e30) {
  var t10 = new egL(e30);
  return this.every(function(e31) {
    return t10.matches(e31);
  });
}, "allAre"), is: iM(function(e30) {
  var t10 = new egL(e30);
  return this.some(function(e31) {
    return t10.matches(e31);
  });
}, "is"), some: iM(function(e30, t10) {
  for (var r10 = 0; r10 < this.length; r10++) if (t10 ? e30.apply(t10, [this[r10], r10, this]) : e30(this[r10], r10, this)) return true;
  return false;
}, "some"), every: iM(function(e30, t10) {
  for (var r10 = 0; r10 < this.length; r10++) if (!(t10 ? e30.apply(t10, [this[r10], r10, this]) : e30(this[r10], r10, this))) return false;
  return true;
}, "every"), same: iM(function(e30) {
  if (this === e30) return true;
  e30 = this.cy().collection(e30);
  var t10 = this.length;
  return t10 === e30.length && (1 === t10 ? this[0] === e30[0] : this.every(function(t11) {
    return e30.hasElementWithId(t11.id());
  }));
}, "same"), anySame: iM(function(e30) {
  return e30 = this.cy().collection(e30), this.some(function(t10) {
    return e30.hasElementWithId(t10.id());
  });
}, "anySame"), allAreNeighbors: iM(function(e30) {
  e30 = this.cy().collection(e30);
  var t10 = this.neighborhood();
  return e30.every(function(e31) {
    return t10.hasElementWithId(e31.id());
  });
}, "allAreNeighbors"), contains: iM(function(e30) {
  e30 = this.cy().collection(e30);
  var t10 = this;
  return e30.every(function(e31) {
    return t10.hasElementWithId(e31.id());
  });
}, "contains") };
egM.allAreNeighbours = egM.allAreNeighbors, egM.has = egM.contains, egM.equal = egM.equals = egM.same;
var egN = iM(function(e30, t10) {
  return iM(function(r10, n10, i10, a10) {
    if (null == r10 ? s10 = "" : ec2(r10) && 1 === r10.length && (s10 = r10.id()), 1 !== this.length || !s10) return e30.call(this, r10, n10, i10, a10);
    var s10, o10 = this[0]._private, l10 = o10.traversalCache = o10.traversalCache || {}, h10 = l10[t10] = l10[t10] || [], u10 = eun(s10);
    return h10[u10] || (h10[u10] = e30.call(this, r10, n10, i10, a10));
  }, "traversalCache");
}, "cache"), egR = { parent: iM(function(e30) {
  var t10 = [];
  if (1 === this.length) {
    var r10 = this[0]._private.parent;
    if (r10) return r10;
  }
  for (var n10 = 0; n10 < this.length; n10++) {
    var i10 = this[n10]._private.parent;
    i10 && t10.push(i10);
  }
  return this.spawn(t10, true).filter(e30);
}, "parent"), parents: iM(function(e30) {
  for (var t10 = [], r10 = this.parent(); r10.nonempty(); ) {
    for (var n10 = 0; n10 < r10.length; n10++) {
      var i10 = r10[n10];
      t10.push(i10);
    }
    r10 = r10.parent();
  }
  return this.spawn(t10, true).filter(e30);
}, "parents"), commonAncestors: iM(function(e30) {
  for (var t10, r10 = 0; r10 < this.length; r10++) {
    var n10 = this[r10].parents();
    t10 = (t10 = t10 || n10).intersect(n10);
  }
  return t10.filter(e30);
}, "commonAncestors"), orphans: iM(function(e30) {
  return this.stdFilter(function(e31) {
    return e31.isOrphan();
  }).filter(e30);
}, "orphans"), nonorphans: iM(function(e30) {
  return this.stdFilter(function(e31) {
    return e31.isChild();
  }).filter(e30);
}, "nonorphans"), children: egN(function(e30) {
  for (var t10 = [], r10 = 0; r10 < this.length; r10++) for (var n10 = this[r10]._private.children, i10 = 0; i10 < n10.length; i10++) t10.push(n10[i10]);
  return this.spawn(t10, true).filter(e30);
}, "children"), siblings: iM(function(e30) {
  return this.parent().children().not(this).filter(e30);
}, "siblings"), isParent: iM(function() {
  var e30 = this[0];
  if (e30) return e30.isNode() && 0 !== e30._private.children.length;
}, "isParent"), isChildless: iM(function() {
  var e30 = this[0];
  if (e30) return e30.isNode() && 0 === e30._private.children.length;
}, "isChildless"), isChild: iM(function() {
  var e30 = this[0];
  if (e30) return e30.isNode() && null != e30._private.parent;
}, "isChild"), isOrphan: iM(function() {
  var e30 = this[0];
  if (e30) return e30.isNode() && null == e30._private.parent;
}, "isOrphan"), descendants: iM(function(e30) {
  var t10 = [];
  function r10(e31) {
    for (var n10 = 0; n10 < e31.length; n10++) {
      var i10 = e31[n10];
      t10.push(i10), i10.children().nonempty() && r10(i10.children());
    }
  }
  return iM(r10, "add"), r10(this.children()), this.spawn(t10, true).filter(e30);
}, "descendants") };
function egD(e30, t10, r10, n10) {
  for (var i10 = [], a10 = new euN(), s10 = e30.cy().hasCompoundNodes(), o10 = 0; o10 < e30.length; o10++) {
    var l10 = e30[o10];
    r10 ? i10.push(l10) : s10 && n10(i10, a10, l10);
  }
  for (; i10.length > 0; ) {
    var h10 = i10.shift();
    t10(h10), a10.add(h10.id()), s10 && n10(i10, a10, h10);
  }
  return e30;
}
function egO(e30, t10, r10) {
  if (r10.isParent()) for (var n10 = r10._private.children, i10 = 0; i10 < n10.length; i10++) {
    var a10 = n10[i10];
    t10.has(a10.id()) || e30.push(a10);
  }
}
function eg$(e30, t10, r10) {
  if (r10.isChild()) {
    var n10 = r10._private.parent;
    t10.has(n10.id()) || e30.push(n10);
  }
}
function egP(e30, t10, r10) {
  eg$(e30, t10, r10), egO(e30, t10, r10);
}
iM(egD, "forEachCompound"), iM(egO, "addChildren"), egR.forEachDown = function(e30) {
  var t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return egD(this, e30, t10, egO);
}, iM(eg$, "addParent"), egR.forEachUp = function(e30) {
  var t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return egD(this, e30, t10, eg$);
}, iM(egP, "addParentAndChildren"), egR.forEachUpAndDown = function(e30) {
  var t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
  return egD(this, e30, t10, egP);
}, egR.ancestors = egR.parents, (n0 = n1 = { data: egn.data({ field: "data", bindingEvent: "data", allowBinding: true, allowSetting: true, settingEvent: "data", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, immutableKeys: { id: true, source: true, target: true, parent: true }, updateStyle: true }), removeData: egn.removeData({ field: "data", event: "data", triggerFnName: "trigger", triggerEvent: true, immutableKeys: { id: true, source: true, target: true, parent: true }, updateStyle: true }), scratch: egn.data({ field: "scratch", bindingEvent: "scratch", allowBinding: true, allowSetting: true, settingEvent: "scratch", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, updateStyle: true }), removeScratch: egn.removeData({ field: "scratch", event: "scratch", triggerFnName: "trigger", triggerEvent: true, updateStyle: true }), rscratch: egn.data({ field: "rscratch", allowBinding: false, allowSetting: true, settingTriggersEvent: false, allowGetting: true }), removeRscratch: egn.removeData({ field: "rscratch", triggerEvent: false }), id: iM(function() {
  var e30 = this[0];
  if (e30) return e30._private.data.id;
}, "id") }).attr = n0.data, n0.removeAttr = n0.removeData;
var egB = {};
function egF(e30) {
  return function(t10) {
    if (void 0 === t10 && (t10 = true), 0 !== this.length && !(!this.isNode() || this.removed())) {
      for (var r10 = 0, n10 = this[0], i10 = n10._private.edges, a10 = 0; a10 < i10.length; a10++) {
        var s10 = i10[a10];
        !t10 && s10.isLoop() || (r10 += e30(n10, s10));
      }
      return r10;
    }
  };
}
function egz(e30, t10) {
  return function(r10) {
    for (var n10, i10 = this.nodes(), a10 = 0; a10 < i10.length; a10++) {
      var s10 = i10[a10][e30](r10);
      void 0 !== s10 && (void 0 === n10 || t10(s10, n10)) && (n10 = s10);
    }
    return n10;
  };
}
iM(egF, "defineDegreeFunction"), ehg(egB, { degree: egF(function(e30, t10) {
  return t10.source().same(t10.target()) ? 2 : 1;
}), indegree: egF(function(e30, t10) {
  return t10.target().same(e30) ? 1 : 0;
}), outdegree: egF(function(e30, t10) {
  return t10.source().same(e30) ? 1 : 0;
}) }), iM(egz, "defineDegreeBoundsFunction"), ehg(egB, { minDegree: egz("degree", function(e30, t10) {
  return e30 < t10;
}), maxDegree: egz("degree", function(e30, t10) {
  return e30 > t10;
}), minIndegree: egz("indegree", function(e30, t10) {
  return e30 < t10;
}), maxIndegree: egz("indegree", function(e30, t10) {
  return e30 > t10;
}), minOutdegree: egz("outdegree", function(e30, t10) {
  return e30 < t10;
}), maxOutdegree: egz("outdegree", function(e30, t10) {
  return e30 > t10;
}) }), ehg(egB, { totalDegree: iM(function(e30) {
  for (var t10 = 0, r10 = this.nodes(), n10 = 0; n10 < r10.length; n10++) t10 += r10[n10].degree(e30);
  return t10;
}, "totalDegree") });
var egj = iM(function(e30, t10, r10) {
  for (var n10 = 0; n10 < e30.length; n10++) {
    var i10 = e30[n10];
    if (!i10.locked()) {
      var a10 = i10._private.position, s10 = { x: null != t10.x ? t10.x - a10.x : 0, y: null != t10.y ? t10.y - a10.y : 0 };
      i10.isParent() && !(0 === s10.x && 0 === s10.y) && i10.children().shift(s10, r10), i10.dirtyBoundingBoxCache();
    }
  }
}, "beforePositionSet"), egq = { field: "position", bindingEvent: "position", allowBinding: true, allowSetting: true, settingEvent: "position", settingTriggersEvent: true, triggerFnName: "emitAndNotify", allowGetting: true, validKeys: ["x", "y"], beforeGet: iM(function(e30) {
  e30.updateCompoundBounds();
}, "beforeGet"), beforeSet: iM(function(e30, t10) {
  egj(e30, t10, false);
}, "beforeSet"), onSet: iM(function(e30) {
  e30.dirtyCompoundBoundsCache();
}, "onSet"), canSet: iM(function(e30) {
  return !e30.locked();
}, "canSet") };
(n2 = n4 = { position: egn.data(egq), silentPosition: egn.data(ehg({}, egq, { allowBinding: false, allowSetting: true, settingTriggersEvent: false, allowGetting: false, beforeSet: iM(function(e30, t10) {
  egj(e30, t10, true);
}, "beforeSet"), onSet: iM(function(e30) {
  e30.dirtyCompoundBoundsCache();
}, "onSet") })), positions: iM(function(e30, t10) {
  if (ecZ(e30)) t10 ? this.silentPosition(e30) : this.position(e30);
  else if (ecX(e30)) {
    var r10 = this.cy();
    r10.startBatch();
    for (var n10 = 0; n10 < this.length; n10++) {
      var i10 = this[n10], a10 = void 0;
      (a10 = e30(i10, n10)) && (t10 ? i10.silentPosition(a10) : i10.position(a10));
    }
    r10.endBatch();
  }
  return this;
}, "positions"), silentPositions: iM(function(e30) {
  return this.positions(e30, true);
}, "silentPositions"), shift: iM(function(e30, t10, r10) {
  var n10;
  if (ecZ(e30) ? (n10 = { x: ecJ(e30.x) ? e30.x : 0, y: ecJ(e30.y) ? e30.y : 0 }, r10 = t10) : ecG(e30) && ecJ(t10) && ((n10 = { x: 0, y: 0 })[e30] = t10), null != n10) {
    var i10 = this.cy();
    i10.startBatch();
    for (var a10 = 0; a10 < this.length; a10++) {
      var s10 = this[a10];
      if (!(i10.hasCompoundNodes() && s10.isChild() && s10.ancestors().anySame(this))) {
        var o10 = s10.position(), l10 = { x: o10.x + n10.x, y: o10.y + n10.y };
        r10 ? s10.silentPosition(l10) : s10.position(l10);
      }
    }
    i10.endBatch();
  }
  return this;
}, "shift"), silentShift: iM(function(e30, t10) {
  return ecZ(e30) ? this.shift(e30, true) : ecG(e30) && ecJ(t10) && this.shift(e30, t10, true), this;
}, "silentShift"), renderedPosition: iM(function(e30, t10) {
  var r10 = this[0], n10 = this.cy(), i10 = n10.zoom(), a10 = n10.pan(), s10 = ecZ(e30) ? e30 : void 0, o10 = void 0 !== s10 || void 0 !== t10 && ecG(e30);
  if (r10 && r10.isNode()) {
    if (!o10) return (s10 = euZ(r10.position(), i10, a10), void 0 === e30) ? s10 : s10[e30];
    for (var l10 = 0; l10 < this.length; l10++) {
      var h10 = this[l10];
      void 0 !== t10 ? h10.position(e30, (t10 - a10[e30]) / i10) : void 0 !== s10 && h10.position(euQ(s10, i10, a10));
    }
  } else if (!o10) return;
  return this;
}, "renderedPosition"), relativePosition: iM(function(e30, t10) {
  var r10 = this[0], n10 = this.cy(), i10 = ecZ(e30) ? e30 : void 0, a10 = void 0 !== i10 || void 0 !== t10 && ecG(e30), s10 = n10.hasCompoundNodes();
  if (r10 && r10.isNode()) {
    if (a10) for (var o10 = 0; o10 < this.length; o10++) {
      var l10 = this[o10], h10 = s10 ? l10.parent() : null, u10 = h10 && h10.length > 0;
      u10 && (h10 = h10[0]);
      var d10 = u10 ? h10.position() : { x: 0, y: 0 };
      void 0 !== t10 ? l10.position(e30, t10 + d10[e30]) : void 0 !== i10 && l10.position({ x: i10.x + d10.x, y: i10.y + d10.y });
    }
    else {
      var p10 = r10.position(), f10 = s10 ? r10.parent() : null, g10 = f10 && f10.length > 0;
      g10 && (f10 = f10[0]);
      var y10 = g10 ? f10.position() : { x: 0, y: 0 };
      return (i10 = { x: p10.x - y10.x, y: p10.y - y10.y }, void 0 === e30) ? i10 : i10[e30];
    }
  } else if (!a10) return;
  return this;
}, "relativePosition") }).modelPosition = n2.point = n2.position, n2.modelPositions = n2.points = n2.positions, n2.renderedPoint = n2.renderedPosition, n2.relativePoint = n2.relativePosition, n3 = n5 = {}, n5.renderedBoundingBox = function(e30) {
  var t10 = this.boundingBox(e30), r10 = this.cy(), n10 = r10.zoom(), i10 = r10.pan(), a10 = t10.x1 * n10 + i10.x, s10 = t10.x2 * n10 + i10.x, o10 = t10.y1 * n10 + i10.y, l10 = t10.y2 * n10 + i10.y;
  return { x1: a10, x2: s10, y1: o10, y2: l10, w: s10 - a10, h: l10 - o10 };
}, n5.dirtyCompoundBoundsCache = function() {
  var e30 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t10 = this.cy();
  return t10.styleEnabled() && t10.hasCompoundNodes() && this.forEachUp(function(t11) {
    if (t11.isParent()) {
      var r10 = t11._private;
      r10.compoundBoundsClean = false, r10.bbCache = null, e30 || t11.emitAndNotify("bounds");
    }
  }), this;
}, n5.updateCompoundBounds = function() {
  var e30 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t10 = this.cy();
  if (!t10.styleEnabled() || !t10.hasCompoundNodes() || !e30 && t10.batching()) return this;
  function r10(e31) {
    if (e31.isParent()) {
      var t11 = e31._private, r11 = e31.children(), n11 = "include" === e31.pstyle("compound-sizing-wrt-labels").value, i11 = { width: { val: e31.pstyle("min-width").pfValue, left: e31.pstyle("min-width-bias-left"), right: e31.pstyle("min-width-bias-right") }, height: { val: e31.pstyle("min-height").pfValue, top: e31.pstyle("min-height-bias-top"), bottom: e31.pstyle("min-height-bias-bottom") } }, a11 = r11.boundingBox({ includeLabels: n11, includeOverlays: false, useCache: false }), s10 = t11.position;
      (0 === a11.w || 0 === a11.h) && ((a11 = { w: e31.pstyle("width").pfValue, h: e31.pstyle("height").pfValue }).x1 = s10.x - a11.w / 2, a11.x2 = s10.x + a11.w / 2, a11.y1 = s10.y - a11.h / 2, a11.y2 = s10.y + a11.h / 2), iM(x10, "computeBiasValues"), iM(b10, "computePaddingValues");
      var o10 = i11.width.left.value;
      "px" === i11.width.left.units && i11.width.val > 0 && (o10 = 100 * o10 / i11.width.val);
      var l10 = i11.width.right.value;
      "px" === i11.width.right.units && i11.width.val > 0 && (l10 = 100 * l10 / i11.width.val);
      var h10 = i11.height.top.value;
      "px" === i11.height.top.units && i11.height.val > 0 && (h10 = 100 * h10 / i11.height.val);
      var u10 = i11.height.bottom.value;
      "px" === i11.height.bottom.units && i11.height.val > 0 && (u10 = 100 * u10 / i11.height.val);
      var d10 = x10(i11.width.val - a11.w, o10, l10), p10 = d10.biasDiff, f10 = d10.biasComplementDiff, g10 = x10(i11.height.val - a11.h, h10, u10), y10 = g10.biasDiff, v10 = g10.biasComplementDiff;
      t11.autoPadding = b10(a11.w, a11.h, e31.pstyle("padding"), e31.pstyle("padding-relative-to").value), t11.autoWidth = Math.max(a11.w, i11.width.val), s10.x = (-p10 + a11.x1 + a11.x2 + f10) / 2, t11.autoHeight = Math.max(a11.h, i11.height.val), s10.y = (-y10 + a11.y1 + a11.y2 + v10) / 2;
    }
    function x10(e32, t12, r12) {
      var n12 = 0, i12 = 0, a12 = t12 + r12;
      return e32 > 0 && a12 > 0 && (n12 = t12 / a12 * e32, i12 = r12 / a12 * e32), { biasDiff: n12, biasComplementDiff: i12 };
    }
    function b10(e32, t12, r12, n12) {
      if ("%" === r12.units) switch (n12) {
        case "width":
          return e32 > 0 ? r12.pfValue * e32 : 0;
        case "height":
          return t12 > 0 ? r12.pfValue * t12 : 0;
        case "average":
          return e32 > 0 && t12 > 0 ? r12.pfValue * (e32 + t12) / 2 : 0;
        case "min":
          return e32 > 0 && t12 > 0 ? e32 > t12 ? r12.pfValue * t12 : r12.pfValue * e32 : 0;
        case "max":
          return e32 > 0 && t12 > 0 ? e32 > t12 ? r12.pfValue * e32 : r12.pfValue * t12 : 0;
        default:
          return 0;
      }
      else if ("px" === r12.units) return r12.pfValue;
      else return 0;
    }
  }
  iM(r10, "update");
  for (var n10 = 0; n10 < this.length; n10++) {
    var i10 = this[n10], a10 = i10._private;
    a10.compoundBoundsClean && !e30 || (r10(i10), t10.batching() || (a10.compoundBoundsClean = true));
  }
  return this;
};
var egU = iM(function(e30) {
  return e30 === 1 / 0 || e30 === -1 / 0 ? 0 : e30;
}, "noninf"), egW = iM(function(e30, t10, r10, n10, i10) {
  n10 - t10 != 0 && i10 - r10 != 0 && null != t10 && null != r10 && null != n10 && null != i10 && (e30.x1 = t10 < e30.x1 ? t10 : e30.x1, e30.x2 = n10 > e30.x2 ? n10 : e30.x2, e30.y1 = r10 < e30.y1 ? r10 : e30.y1, e30.y2 = i10 > e30.y2 ? i10 : e30.y2, e30.w = e30.x2 - e30.x1, e30.h = e30.y2 - e30.y1);
}, "updateBounds"), egV = iM(function(e30, t10) {
  return null == t10 ? e30 : egW(e30, t10.x1, t10.y1, t10.x2, t10.y2);
}, "updateBoundsFromBox"), egH = iM(function(e30, t10, r10) {
  return euE(e30, t10, r10);
}, "prefixedProperty"), egY = iM(function(e30, t10, r10) {
  if (!t10.cy().headless()) {
    var n10, i10, a10 = t10._private, s10 = a10.rstyle, o10 = s10.arrowWidth / 2;
    if ("none" !== t10.pstyle(r10 + "-arrow-shape").value) {
      "source" === r10 ? (n10 = s10.srcX, i10 = s10.srcY) : "target" === r10 ? (n10 = s10.tgtX, i10 = s10.tgtY) : (n10 = s10.midX, i10 = s10.midY);
      var l10 = a10.arrowBounds = a10.arrowBounds || {}, h10 = l10[r10] = l10[r10] || {};
      h10.x1 = n10 - o10, h10.y1 = i10 - o10, h10.x2 = n10 + o10, h10.y2 = i10 + o10, h10.w = h10.x2 - h10.x1, h10.h = h10.y2 - h10.y1, edu(h10, 1), egW(e30, h10.x1, h10.y1, h10.x2, h10.y2);
    }
  }
}, "updateBoundsFromArrow"), egG = iM(function(e30, t10, r10) {
  if (!t10.cy().headless()) {
    a10 = r10 ? r10 + "-" : "";
    var n10 = t10._private, i10 = n10.rstyle;
    if (t10.pstyle(a10 + "label").strValue) {
      var a10, s10, o10, l10, h10, u10 = t10.pstyle("text-halign"), d10 = t10.pstyle("text-valign"), p10 = egH(i10, "labelWidth", r10), f10 = egH(i10, "labelHeight", r10), g10 = egH(i10, "labelX", r10), y10 = egH(i10, "labelY", r10), v10 = t10.pstyle(a10 + "text-margin-x").pfValue, x10 = t10.pstyle(a10 + "text-margin-y").pfValue, b10 = t10.isEdge(), k10 = t10.pstyle(a10 + "text-rotation"), w10 = t10.pstyle("text-outline-width").pfValue, _10 = t10.pstyle("text-border-width").pfValue / 2, T10 = t10.pstyle("text-background-padding").pfValue, S10 = p10 / 2, C10 = f10 / 2;
      if (b10) s10 = g10 - S10, o10 = g10 + S10, l10 = y10 - C10, h10 = y10 + C10;
      else {
        switch (u10.value) {
          case "left":
            s10 = g10 - p10, o10 = g10;
            break;
          case "center":
            s10 = g10 - S10, o10 = g10 + S10;
            break;
          case "right":
            s10 = g10, o10 = g10 + p10;
        }
        switch (d10.value) {
          case "top":
            l10 = y10 - f10, h10 = y10;
            break;
          case "center":
            l10 = y10 - C10, h10 = y10 + C10;
            break;
          case "bottom":
            l10 = y10, h10 = y10 + f10;
        }
      }
      s10 += v10 - Math.max(w10, _10) - T10 - 2, o10 += v10 + Math.max(w10, _10) + T10 + 2, l10 += x10 - Math.max(w10, _10) - T10 - 2, h10 += x10 + Math.max(w10, _10) + T10 + 2;
      var E10 = r10 || "main", A10 = n10.labelBounds, L10 = A10[E10] = A10[E10] || {};
      L10.x1 = s10, L10.y1 = l10, L10.x2 = o10, L10.y2 = h10, L10.w = o10 - s10, L10.h = h10 - l10;
      var I10 = b10 && "autorotate" === k10.strValue, M10 = null != k10.pfValue && 0 !== k10.pfValue;
      if (I10 || M10) {
        var N10 = I10 ? egH(n10.rstyle, "labelAngle", r10) : k10.pfValue, R10 = Math.cos(N10), D10 = Math.sin(N10), O10 = (s10 + o10) / 2, $10 = (l10 + h10) / 2;
        if (!b10) {
          switch (u10.value) {
            case "left":
              O10 = o10;
              break;
            case "right":
              O10 = s10;
          }
          switch (d10.value) {
            case "top":
              $10 = h10;
              break;
            case "bottom":
              $10 = l10;
          }
        }
        var P10 = iM(function(e31, t11) {
          return { x: (e31 -= O10) * R10 - (t11 -= $10) * D10 + O10, y: e31 * D10 + t11 * R10 + $10 };
        }, "rotate"), B10 = P10(s10, l10), F10 = P10(s10, h10), z10 = P10(o10, l10), j10 = P10(o10, h10);
        s10 = Math.min(B10.x, F10.x, z10.x, j10.x), o10 = Math.max(B10.x, F10.x, z10.x, j10.x), l10 = Math.min(B10.y, F10.y, z10.y, j10.y), h10 = Math.max(B10.y, F10.y, z10.y, j10.y);
      }
      var q10 = E10 + "Rot", U10 = A10[q10] = A10[q10] || {};
      U10.x1 = s10, U10.y1 = l10, U10.x2 = o10, U10.y2 = h10, U10.w = o10 - s10, U10.h = h10 - l10, egW(e30, s10, l10, o10, h10), egW(n10.labelBounds.all, s10, l10, o10, h10);
    }
    return e30;
  }
}, "updateBoundsFromLabel"), egX = iM(function(e30, t10) {
  if (!t10.cy().headless()) {
    var r10 = t10.pstyle("outline-opacity").value, n10 = t10.pstyle("outline-width").value;
    if (r10 > 0 && n10 > 0) {
      var i10 = t10.pstyle("outline-offset").value, a10 = t10.pstyle("shape").value, s10 = n10 + i10, o10 = (e30.w + 2 * s10) / e30.w, l10 = (e30.h + 2 * s10) / e30.h, h10 = 0;
      ["diamond", "pentagon", "round-triangle"].includes(a10) ? (o10 = (e30.w + 2.4 * s10) / e30.w, h10 = -s10 / 3.6) : ["concave-hexagon", "rhomboid", "right-rhomboid"].includes(a10) ? o10 = (e30.w + 2.4 * s10) / e30.w : "star" === a10 ? (o10 = (e30.w + 2.8 * s10) / e30.w, l10 = (e30.h + 2.6 * s10) / e30.h, h10 = -s10 / 3.8) : "triangle" === a10 ? (o10 = (e30.w + 2.8 * s10) / e30.w, l10 = (e30.h + 2.4 * s10) / e30.h, h10 = -s10 / 1.4) : "vee" === a10 && (o10 = (e30.w + 4.4 * s10) / e30.w, l10 = (e30.h + 3.8 * s10) / e30.h, h10 = -(0.5 * s10));
      var u10 = e30.h * l10 - e30.h, d10 = e30.w * o10 - e30.w;
      if (edd(e30, [Math.ceil(u10 / 2), Math.ceil(d10 / 2)]), 0 !== h10) {
        var p10 = edl(e30, 0, h10);
        edc(e30, p10);
      }
    }
  }
}, "updateBoundsFromOutline"), egK = iM(function(e30, t10) {
  var r10 = e30._private.cy, n10 = r10.styleEnabled(), i10 = r10.headless(), a10 = eda(), s10 = e30._private, o10 = e30.isNode(), l10 = e30.isEdge(), h10 = s10.rstyle, u10 = o10 && n10 ? e30.pstyle("bounds-expansion").pfValue : [0], d10 = iM(function(e31) {
    return "none" !== e31.pstyle("display").value;
  }, "isDisplayed"), p10 = !n10 || d10(e30) && (!l10 || d10(e30.source()) && d10(e30.target()));
  if (p10) {
    var f10 = 0;
    n10 && t10.includeOverlays && 0 !== e30.pstyle("overlay-opacity").value && (f10 = e30.pstyle("overlay-padding").value);
    var g10 = 0;
    n10 && t10.includeUnderlays && 0 !== e30.pstyle("underlay-opacity").value && (g10 = e30.pstyle("underlay-padding").value);
    var y10 = Math.max(f10, g10), v10 = 0;
    if (n10 && (v10 = e30.pstyle("width").pfValue / 2), o10 && t10.includeNodes) {
      var x10 = e30.position();
      C10 = x10.x, E10 = x10.y;
      var b10 = e30.outerWidth() / 2, k10 = e30.outerHeight() / 2;
      w10 = C10 - b10, _10 = C10 + b10, egW(a10, w10, T10 = E10 - k10, _10, S10 = E10 + k10), n10 && t10.includeOutlines && egX(a10, e30);
    } else if (l10 && t10.includeEdges) {
      if (n10 && !i10) {
        var w10, _10, T10, S10, C10, E10, A10, L10 = e30.pstyle("curve-style").strValue;
        if (w10 = Math.min(h10.srcX, h10.midX, h10.tgtX), _10 = Math.max(h10.srcX, h10.midX, h10.tgtX), T10 = Math.min(h10.srcY, h10.midY, h10.tgtY), S10 = Math.max(h10.srcY, h10.midY, h10.tgtY), w10 -= v10, _10 += v10, egW(a10, w10, T10 -= v10, _10, S10 += v10), "haystack" === L10) {
          var I10 = h10.haystackPts;
          if (I10 && 2 === I10.length) {
            if (w10 = I10[0].x, T10 = I10[0].y, _10 = I10[1].x, S10 = I10[1].y, w10 > _10) {
              var M10 = w10;
              w10 = _10, _10 = M10;
            }
            if (T10 > S10) {
              var N10 = T10;
              T10 = S10, S10 = N10;
            }
            egW(a10, w10 - v10, T10 - v10, _10 + v10, S10 + v10);
          }
        } else if ("bezier" === L10 || "unbundled-bezier" === L10 || L10.endsWith("segments") || L10.endsWith("taxi")) {
          switch (L10) {
            case "bezier":
            case "unbundled-bezier":
              A10 = h10.bezierPts;
              break;
            case "segments":
            case "taxi":
            case "round-segments":
            case "round-taxi":
              A10 = h10.linePts;
          }
          if (null != A10) for (var R10 = 0; R10 < A10.length; R10++) {
            var D10 = A10[R10];
            w10 = D10.x - v10, _10 = D10.x + v10, egW(a10, w10, T10 = D10.y - v10, _10, S10 = D10.y + v10);
          }
        }
      } else {
        var O10 = e30.source().position(), $10 = e30.target().position();
        if (w10 = O10.x, _10 = $10.x, T10 = O10.y, S10 = $10.y, w10 > _10) {
          var P10 = w10;
          w10 = _10, _10 = P10;
        }
        if (T10 > S10) {
          var B10 = T10;
          T10 = S10, S10 = B10;
        }
        w10 -= v10, _10 += v10, egW(a10, w10, T10 -= v10, _10, S10 += v10);
      }
    }
    if (n10 && t10.includeEdges && l10 && (egY(a10, e30, "mid-source"), egY(a10, e30, "mid-target"), egY(a10, e30, "source"), egY(a10, e30, "target")), n10 && "yes" === e30.pstyle("ghost").value) {
      var F10 = e30.pstyle("ghost-offset-x").pfValue, z10 = e30.pstyle("ghost-offset-y").pfValue;
      egW(a10, a10.x1 + F10, a10.y1 + z10, a10.x2 + F10, a10.y2 + z10);
    }
    var j10 = s10.bodyBounds = s10.bodyBounds || {};
    edp(j10, a10), edd(j10, u10), edu(j10, 1), n10 && (w10 = a10.x1, _10 = a10.x2, T10 = a10.y1, S10 = a10.y2, egW(a10, w10 - y10, T10 - y10, _10 + y10, S10 + y10));
    var q10 = s10.overlayBounds = s10.overlayBounds || {};
    edp(q10, a10), edd(q10, u10), edu(q10, 1);
    var U10 = s10.labelBounds = s10.labelBounds || {};
    null != U10.all ? edo(U10.all) : U10.all = eda(), n10 && t10.includeLabels && (t10.includeMainLabels && egG(a10, e30, null), l10 && (t10.includeSourceLabels && egG(a10, e30, "source"), t10.includeTargetLabels && egG(a10, e30, "target")));
  }
  return a10.x1 = egU(a10.x1), a10.y1 = egU(a10.y1), a10.x2 = egU(a10.x2), a10.y2 = egU(a10.y2), a10.w = egU(a10.x2 - a10.x1), a10.h = egU(a10.y2 - a10.y1), a10.w > 0 && a10.h > 0 && p10 && (edd(a10, u10), edu(a10, 1)), a10;
}, "boundingBoxImpl"), egZ = iM(function(e30) {
  var t10 = 0, r10 = iM(function(e31) {
    return (e31 ? 1 : 0) << t10++;
  }, "tf");
  return 0 + r10(e30.incudeNodes) + r10(e30.includeEdges) + r10(e30.includeLabels) + r10(e30.includeMainLabels) + r10(e30.includeSourceLabels) + r10(e30.includeTargetLabels) + r10(e30.includeOverlays) + r10(e30.includeOutlines);
}, "getKey"), egQ = iM(function(e30) {
  if (!e30.isEdge()) return 0;
  var t10 = e30.source().position(), r10 = e30.target().position(), n10 = iM(function(e31) {
    return Math.round(e31);
  }, "r");
  return eur([n10(t10.x), n10(t10.y), n10(r10.x), n10(r10.y)]);
}, "getBoundingBoxPosKey"), egJ = iM(function(e30, t10) {
  var r10, n10 = e30._private, i10 = e30.isEdge(), a10 = null == t10 ? eg1 : egZ(t10), s10 = egQ(e30), o10 = n10.bbCachePosKey === s10, l10 = t10.useCache && o10, h10 = iM(function(e31) {
    return null == e31._private.bbCache || e31._private.styleDirty;
  }, "isDirty");
  if (!l10 || h10(e30) || i10 && h10(e30.source()) || h10(e30.target()) ? (o10 || e30.recalculateRenderedStyle(l10), r10 = egK(e30, eg0), n10.bbCache = r10, n10.bbCachePosKey = s10) : r10 = n10.bbCache, a10 !== eg1) {
    var u10 = e30.isNode();
    r10 = eda(), (t10.includeNodes && u10 || t10.includeEdges && !u10) && (t10.includeOverlays ? egV(r10, n10.overlayBounds) : egV(r10, n10.bodyBounds)), t10.includeLabels && (t10.includeMainLabels && (!i10 || t10.includeSourceLabels && t10.includeTargetLabels) ? egV(r10, n10.labelBounds.all) : (t10.includeMainLabels && egV(r10, n10.labelBounds.mainRot), t10.includeSourceLabels && egV(r10, n10.labelBounds.sourceRot), t10.includeTargetLabels && egV(r10, n10.labelBounds.targetRot))), r10.w = r10.x2 - r10.x1, r10.h = r10.y2 - r10.y1;
  }
  return r10;
}, "cachedBoundingBoxImpl"), eg0 = { includeNodes: true, includeEdges: true, includeLabels: true, includeMainLabels: true, includeSourceLabels: true, includeTargetLabels: true, includeOverlays: true, includeUnderlays: true, includeOutlines: true, useCache: true }, eg1 = egZ(eg0), eg2 = eu_(eg0);
n5.boundingBox = function(e30) {
  var t10;
  if (1 !== this.length || null == this[0]._private.bbCache || this[0]._private.styleDirty || void 0 !== e30 && void 0 !== e30.useCache && true !== e30.useCache) {
    t10 = eda();
    var r10 = eg2(e30 = e30 || eg0);
    if (this.cy().styleEnabled()) for (var n10 = 0; n10 < this.length; n10++) {
      var i10 = this[n10], a10 = i10._private, s10 = egQ(i10), o10 = a10.bbCachePosKey === s10, l10 = r10.useCache && o10 && !a10.styleDirty;
      i10.recalculateRenderedStyle(l10);
    }
    this.updateCompoundBounds(!e30.useCache);
    for (var h10 = 0; h10 < this.length; h10++) egV(t10, egJ(this[h10], r10));
  } else e30 = void 0 === e30 ? eg0 : eg2(e30), t10 = egJ(this[0], e30);
  return t10.x1 = egU(t10.x1), t10.y1 = egU(t10.y1), t10.x2 = egU(t10.x2), t10.y2 = egU(t10.y2), t10.w = egU(t10.x2 - t10.x1), t10.h = egU(t10.y2 - t10.y1), t10;
}, n5.dirtyBoundingBoxCache = function() {
  for (var e30 = 0; e30 < this.length; e30++) {
    var t10 = this[e30]._private;
    t10.bbCache = null, t10.bbCachePosKey = null, t10.bodyBounds = null, t10.overlayBounds = null, t10.labelBounds.all = null, t10.labelBounds.source = null, t10.labelBounds.target = null, t10.labelBounds.main = null, t10.labelBounds.sourceRot = null, t10.labelBounds.targetRot = null, t10.labelBounds.mainRot = null, t10.arrowBounds.source = null, t10.arrowBounds.target = null, t10.arrowBounds["mid-source"] = null, t10.arrowBounds["mid-target"] = null;
  }
  return this.emitAndNotify("bounds"), this;
}, n5.boundingBoxAt = function(e30) {
  var t10 = this.nodes(), r10 = this.cy(), n10 = r10.hasCompoundNodes(), i10 = r10.collection();
  if (n10 && (i10 = t10.filter(function(e31) {
    return e31.isParent();
  }), t10 = t10.not(i10)), ecZ(e30)) {
    var a10 = e30;
    e30 = iM(function() {
      return a10;
    }, "fn");
  }
  var s10 = iM(function(t11, r11) {
    return t11._private.bbAtOldPos = e30(t11, r11);
  }, "storeOldPos"), o10 = iM(function(e31) {
    return e31._private.bbAtOldPos;
  }, "getOldPos");
  r10.startBatch(), t10.forEach(s10).silentPositions(e30), n10 && (i10.dirtyCompoundBoundsCache(), i10.dirtyBoundingBoxCache(), i10.updateCompoundBounds(true));
  var l10 = eds(this.boundingBox({ useCache: false }));
  return t10.silentPositions(o10), n10 && (i10.dirtyCompoundBoundsCache(), i10.dirtyBoundingBoxCache(), i10.updateCompoundBounds(true)), r10.endBatch(), l10;
}, n3.boundingbox = n3.bb = n3.boundingBox, n3.renderedBoundingbox = n3.renderedBoundingBox, n6 = n7 = {};
var eg4 = iM(function(e30) {
  e30.uppercaseName = eho(e30.name), e30.autoName = "auto" + e30.uppercaseName, e30.labelName = "label" + e30.uppercaseName, e30.outerName = "outer" + e30.uppercaseName, e30.uppercaseOuterName = eho(e30.outerName), n6[e30.name] = iM(function() {
    var t10 = this[0], r10 = t10._private, n10 = r10.cy._private.styleEnabled;
    if (t10) {
      if (!n10) return 1;
      if (t10.isParent()) return t10.updateCompoundBounds(), r10[e30.autoName] || 0;
      var i10 = t10.pstyle(e30.name);
      return "label" === i10.strValue ? (t10.recalculateRenderedStyle(), r10.rstyle[e30.labelName] || 0) : i10.pfValue;
    }
  }, "dimImpl"), n6["outer" + e30.uppercaseName] = iM(function() {
    var t10 = this[0], r10 = t10._private.cy._private.styleEnabled;
    if (t10) return r10 ? t10[e30.name]() + t10.pstyle("border-width").pfValue + 2 * t10.padding() : 1;
  }, "outerDimImpl"), n6["rendered" + e30.uppercaseName] = iM(function() {
    var t10 = this[0];
    if (t10) return t10[e30.name]() * this.cy().zoom();
  }, "renderedDimImpl"), n6["rendered" + e30.uppercaseOuterName] = iM(function() {
    var t10 = this[0];
    if (t10) return t10[e30.outerName]() * this.cy().zoom();
  }, "renderedOuterDimImpl");
}, "defineDimFns");
eg4({ name: "width" }), eg4({ name: "height" }), n7.padding = function() {
  var e30 = this[0], t10 = e30._private;
  return e30.isParent() && (e30.updateCompoundBounds(), void 0 !== t10.autoPadding) ? t10.autoPadding : e30.pstyle("padding").pfValue;
}, n7.paddedHeight = function() {
  var e30 = this[0];
  return e30.height() + 2 * e30.padding();
}, n7.paddedWidth = function() {
  var e30 = this[0];
  return e30.width() + 2 * e30.padding();
};
var eg3 = iM(function(e30, t10) {
  if (e30.isEdge()) return t10(e30);
}, "ifEdge"), eg5 = iM(function(e30, t10) {
  if (e30.isEdge()) {
    var r10 = e30.cy();
    return euZ(t10(e30), r10.zoom(), r10.pan());
  }
}, "ifEdgeRenderedPosition"), eg6 = iM(function(e30, t10) {
  if (e30.isEdge()) {
    var r10 = e30.cy(), n10 = r10.pan(), i10 = r10.zoom();
    return t10(e30).map(function(e31) {
      return euZ(e31, i10, n10);
    });
  }
}, "ifEdgeRenderedPositions"), eg7 = { controlPoints: { get: iM(function(e30) {
  return e30.renderer().getControlPoints(e30);
}, "controlPoints"), mult: true }, segmentPoints: { get: iM(function(e30) {
  return e30.renderer().getSegmentPoints(e30);
}, "segmentPoints"), mult: true }, sourceEndpoint: { get: iM(function(e30) {
  return e30.renderer().getSourceEndpoint(e30);
}, "sourceEndpoint") }, targetEndpoint: { get: iM(function(e30) {
  return e30.renderer().getTargetEndpoint(e30);
}, "targetEndpoint") }, midpoint: { get: iM(function(e30) {
  return e30.renderer().getEdgeMidpoint(e30);
}, "midpoint") } }, eg8 = iM(function(e30) {
  return "rendered" + e30[0].toUpperCase() + e30.substr(1);
}, "renderedName"), eg9 = ehg({}, n4, n5, n7, Object.keys(eg7).reduce(function(e30, t10) {
  var r10 = eg7[t10], n10 = eg8(t10);
  return e30[t10] = function() {
    return eg3(this, r10.get);
  }, r10.mult ? e30[n10] = function() {
    return eg6(this, r10.get);
  } : e30[n10] = function() {
    return eg5(this, r10.get);
  }, e30;
}, {})), eme = iM(function(e30, t10) {
  this.recycle(e30, t10);
}, "Event");
function emt() {
  return false;
}
function emr() {
  return true;
}
iM(emt, "returnFalse"), iM(emr, "returnTrue"), eme.prototype = { instanceString: iM(function() {
  return "event";
}, "instanceString"), recycle: iM(function(e30, t10) {
  if (this.isImmediatePropagationStopped = this.isPropagationStopped = this.isDefaultPrevented = emt, null != e30 && e30.preventDefault ? (this.type = e30.type, this.isDefaultPrevented = e30.defaultPrevented ? emr : emt) : null != e30 && e30.type ? t10 = e30 : this.type = e30, null != t10 && (this.originalEvent = t10.originalEvent, this.type = null != t10.type ? t10.type : this.type, this.cy = t10.cy, this.target = t10.target, this.position = t10.position, this.renderedPosition = t10.renderedPosition, this.namespace = t10.namespace, this.layout = t10.layout), null != this.cy && null != this.position && null == this.renderedPosition) {
    var r10 = this.position, n10 = this.cy.zoom(), i10 = this.cy.pan();
    this.renderedPosition = { x: r10.x * n10 + i10.x, y: r10.y * n10 + i10.y };
  }
  this.timeStamp = e30 && e30.timeStamp || Date.now();
}, "recycle"), preventDefault: iM(function() {
  this.isDefaultPrevented = emr;
  var e30 = this.originalEvent;
  e30 && e30.preventDefault && e30.preventDefault();
}, "preventDefault"), stopPropagation: iM(function() {
  this.isPropagationStopped = emr;
  var e30 = this.originalEvent;
  e30 && e30.stopPropagation && e30.stopPropagation();
}, "stopPropagation"), stopImmediatePropagation: iM(function() {
  this.isImmediatePropagationStopped = emr, this.stopPropagation();
}, "stopImmediatePropagation"), isDefaultPrevented: emt, isPropagationStopped: emt, isImmediatePropagationStopped: emt };
var emn = /^([^.]+)(\.(?:[^.]+))?$/, emi = { qualifierCompare: iM(function(e30, t10) {
  return e30 === t10;
}, "qualifierCompare"), eventMatches: iM(function() {
  return true;
}, "eventMatches"), addEventFields: iM(function() {
}, "addEventFields"), callbackContext: iM(function(e30) {
  return e30;
}, "callbackContext"), beforeEmit: iM(function() {
}, "beforeEmit"), afterEmit: iM(function() {
}, "afterEmit"), bubble: iM(function() {
  return false;
}, "bubble"), parent: iM(function() {
  return null;
}, "parent"), context: null }, ema = Object.keys(emi), ems = {};
function emo() {
  for (var e30 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ems, t10 = arguments.length > 1 ? arguments[1] : void 0, r10 = 0; r10 < ema.length; r10++) {
    var n10 = ema[r10];
    this[n10] = e30[n10] || emi[n10];
  }
  this.context = t10 || this.context, this.listeners = [], this.emitting = 0;
}
iM(emo, "Emitter");
var eml = emo.prototype, emc = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  ecX(n10) && (i10 = n10, n10 = null), s10 && (a10 = null == a10 ? s10 : ehg({}, a10, s10));
  for (var o10 = ecK(r10) ? r10 : r10.split(/\s+/), l10 = 0; l10 < o10.length; l10++) {
    var h10 = o10[l10];
    if (!ec8(h10)) {
      var u10 = h10.match(emn);
      if (u10 && false === t10(e30, h10, u10[1], u10[2] ? u10[2] : null, n10, i10, a10)) break;
    }
  }
}, "forEachEvent"), emh = iM(function(e30, t10) {
  return e30.addEventFields(e30.context, t10), new eme(t10.type, t10);
}, "makeEventObj"), emu = iM(function(e30, t10, r10) {
  if (ec7(r10)) {
    t10(e30, r10);
    return;
  }
  if (ecZ(r10)) {
    t10(e30, emh(e30, r10));
    return;
  }
  for (var n10 = ecK(r10) ? r10 : r10.split(/\s+/), i10 = 0; i10 < n10.length; i10++) {
    var a10 = n10[i10];
    if (!ec8(a10)) {
      var s10 = a10.match(emn);
      if (s10) {
        var o10 = emh(e30, { type: s10[1], namespace: s10[2] ? s10[2] : null, target: e30.context });
        t10(e30, o10);
      }
    }
  }
}, "forEachEventObj");
eml.on = eml.addListener = function(e30, t10, r10, n10, i10) {
  return emc(this, function(e31, t11, r11, n11, i11, a10, s10) {
    ecX(a10) && e31.listeners.push({ event: t11, callback: a10, type: r11, namespace: n11, qualifier: i11, conf: s10 });
  }, e30, t10, r10, n10, i10), this;
}, eml.one = function(e30, t10, r10, n10) {
  return this.on(e30, t10, r10, n10, { one: true });
}, eml.removeListener = eml.off = function(e30, t10, r10, n10) {
  var i10 = this;
  0 !== this.emitting && (this.listeners = eux(this.listeners));
  for (var a10 = this.listeners, s10 = iM(function(s11) {
    var o11 = a10[s11];
    emc(i10, function(t11, r11, n11, i11, l10, h10) {
      if ((o11.type === n11 || "*" === e30) && (!i11 && ".*" !== o11.namespace || o11.namespace === i11) && (!l10 || t11.qualifierCompare(o11.qualifier, l10)) && (!h10 || o11.callback === h10)) return a10.splice(s11, 1), false;
    }, e30, t10, r10, n10);
  }, "_loop"), o10 = a10.length - 1; o10 >= 0; o10--) s10(o10);
  return this;
}, eml.removeAllListeners = function() {
  return this.removeListener("*");
}, eml.emit = eml.trigger = function(e30, t10, r10) {
  var n10 = this.listeners, i10 = n10.length;
  return this.emitting++, ecK(t10) || (t10 = [t10]), emu(this, function(e31, a10) {
    null != r10 && (i10 = (n10 = [{ event: a10.event, type: a10.type, namespace: a10.namespace, callback: r10 }]).length);
    for (var s10 = iM(function(r11) {
      var i11 = n10[r11];
      if (i11.type === a10.type && (!i11.namespace || i11.namespace === a10.namespace || ".*" === i11.namespace) && e31.eventMatches(e31.context, i11, a10)) {
        var s11 = [a10];
        null != t10 && euC(s11, t10), e31.beforeEmit(e31.context, i11, a10), i11.conf && i11.conf.one && (e31.listeners = e31.listeners.filter(function(e32) {
          return e32 !== i11;
        }));
        var o11 = e31.callbackContext(e31.context, i11, a10), l10 = i11.callback.apply(o11, s11);
        e31.afterEmit(e31.context, i11, a10), false === l10 && (a10.stopPropagation(), a10.preventDefault());
      }
    }, "_loop2"), o10 = 0; o10 < i10; o10++) s10(o10);
    e31.bubble(e31.context) && !a10.isPropagationStopped() && e31.parent(e31.context).emit(a10, t10);
  }, e30), this.emitting--, this;
};
var emd = { qualifierCompare: iM(function(e30, t10) {
  return null == e30 || null == t10 ? null == e30 && null == t10 : e30.sameText(t10);
}, "qualifierCompare"), eventMatches: iM(function(e30, t10, r10) {
  var n10 = t10.qualifier;
  return null == n10 || e30 !== r10.target && ec4(r10.target) && n10.matches(r10.target);
}, "eventMatches"), addEventFields: iM(function(e30, t10) {
  t10.cy = e30.cy(), t10.target = e30;
}, "addEventFields"), callbackContext: iM(function(e30, t10, r10) {
  return null != t10.qualifier ? r10.target : e30;
}, "callbackContext"), beforeEmit: iM(function(e30, t10) {
  t10.conf && t10.conf.once && t10.conf.onceCollection.removeListener(t10.event, t10.qualifier, t10.callback);
}, "beforeEmit"), bubble: iM(function() {
  return true;
}, "bubble"), parent: iM(function(e30) {
  return e30.isChild() ? e30.parent() : e30.cy();
}, "parent") }, emp = iM(function(e30) {
  return ecG(e30) ? new egL(e30) : e30;
}, "argSelector"), emf = { createEmitter: iM(function() {
  for (var e30 = 0; e30 < this.length; e30++) {
    var t10 = this[e30], r10 = t10._private;
    r10.emitter || (r10.emitter = new emo(emd, t10));
  }
  return this;
}, "createEmitter"), emitter: iM(function() {
  return this._private.emitter;
}, "emitter"), on: iM(function(e30, t10, r10) {
  for (var n10 = emp(t10), i10 = 0; i10 < this.length; i10++) this[i10].emitter().on(e30, n10, r10);
  return this;
}, "on"), removeListener: iM(function(e30, t10, r10) {
  for (var n10 = emp(t10), i10 = 0; i10 < this.length; i10++) this[i10].emitter().removeListener(e30, n10, r10);
  return this;
}, "removeListener"), removeAllListeners: iM(function() {
  for (var e30 = 0; e30 < this.length; e30++) this[e30].emitter().removeAllListeners();
  return this;
}, "removeAllListeners"), one: iM(function(e30, t10, r10) {
  for (var n10 = emp(t10), i10 = 0; i10 < this.length; i10++) this[i10].emitter().one(e30, n10, r10);
  return this;
}, "one"), once: iM(function(e30, t10, r10) {
  for (var n10 = emp(t10), i10 = 0; i10 < this.length; i10++) this[i10].emitter().on(e30, n10, r10, { once: true, onceCollection: this });
}, "once"), emit: iM(function(e30, t10) {
  for (var r10 = 0; r10 < this.length; r10++) this[r10].emitter().emit(e30, t10);
  return this;
}, "emit"), emitAndNotify: iM(function(e30, t10) {
  if (0 !== this.length) return this.cy().notify(e30, this), this.emit(e30, t10), this;
}, "emitAndNotify") };
egn.eventAliasesOn(emf);
var emg = { nodes: iM(function(e30) {
  return this.filter(function(e31) {
    return e31.isNode();
  }).filter(e30);
}, "nodes"), edges: iM(function(e30) {
  return this.filter(function(e31) {
    return e31.isEdge();
  }).filter(e30);
}, "edges"), byGroup: iM(function() {
  for (var e30 = this.spawn(), t10 = this.spawn(), r10 = 0; r10 < this.length; r10++) {
    var n10 = this[r10];
    n10.isNode() ? e30.push(n10) : t10.push(n10);
  }
  return { nodes: e30, edges: t10 };
}, "byGroup"), filter: iM(function(e30, t10) {
  if (void 0 === e30) return this;
  if (ecG(e30) || ec2(e30)) return new egL(e30).filter(this);
  if (ecX(e30)) {
    for (var r10 = this.spawn(), n10 = 0; n10 < this.length; n10++) {
      var i10 = this[n10];
      (t10 ? e30.apply(t10, [i10, n10, this]) : e30(i10, n10, this)) && r10.push(i10);
    }
    return r10;
  }
  return this.spawn();
}, "filter"), not: iM(function(e30) {
  if (!e30) return this;
  ecG(e30) && (e30 = this.filter(e30));
  for (var t10 = this.spawn(), r10 = 0; r10 < this.length; r10++) {
    var n10 = this[r10];
    e30.has(n10) || t10.push(n10);
  }
  return t10;
}, "not"), absoluteComplement: iM(function() {
  return this.cy().mutableElements().not(this);
}, "absoluteComplement"), intersect: iM(function(e30) {
  if (ecG(e30)) return this.filter(e30);
  for (var t10 = this.spawn(), r10 = this.length < e30.length, n10 = r10 ? this : e30, i10 = r10 ? e30 : this, a10 = 0; a10 < n10.length; a10++) {
    var s10 = n10[a10];
    i10.has(s10) && t10.push(s10);
  }
  return t10;
}, "intersect"), xor: iM(function(e30) {
  var t10 = this._private.cy;
  ecG(e30) && (e30 = t10.$(e30));
  var r10 = this.spawn(), n10 = e30, i10 = iM(function(e31, t11) {
    for (var n11 = 0; n11 < e31.length; n11++) {
      var i11 = e31[n11], a10 = i11._private.data.id;
      t11.hasElementWithId(a10) || r10.push(i11);
    }
  }, "add");
  return i10(this, n10), i10(n10, this), r10;
}, "xor"), diff: iM(function(e30) {
  var t10 = this._private.cy;
  ecG(e30) && (e30 = t10.$(e30));
  var r10 = this.spawn(), n10 = this.spawn(), i10 = this.spawn(), a10 = e30, s10 = iM(function(e31, t11, r11) {
    for (var n11 = 0; n11 < e31.length; n11++) {
      var a11 = e31[n11], s11 = a11._private.data.id;
      t11.hasElementWithId(s11) ? i10.merge(a11) : r11.push(a11);
    }
  }, "add");
  return s10(this, a10, r10), s10(a10, this, n10), { left: r10, right: n10, both: i10 };
}, "diff"), add: iM(function(e30) {
  var t10 = this._private.cy;
  if (!e30) return this;
  if (ecG(e30)) {
    var r10 = e30;
    e30 = t10.mutableElements().filter(r10);
  }
  for (var n10 = this.spawnSelf(), i10 = 0; i10 < e30.length; i10++) {
    var a10 = e30[i10];
    this.has(a10) || n10.push(a10);
  }
  return n10;
}, "add"), merge: iM(function(e30) {
  var t10 = this._private, r10 = t10.cy;
  if (!e30) return this;
  if (e30 && ecG(e30)) {
    var n10 = e30;
    e30 = r10.mutableElements().filter(n10);
  }
  for (var i10 = t10.map, a10 = 0; a10 < e30.length; a10++) {
    var s10 = e30[a10], o10 = s10._private.data.id;
    if (!i10.has(o10)) {
      var l10 = this.length++;
      this[l10] = s10, i10.set(o10, { ele: s10, index: l10 });
    }
  }
  return this;
}, "merge"), unmergeAt: iM(function(e30) {
  var t10 = this[e30].id(), r10 = this._private.map;
  this[e30] = void 0, r10.delete(t10);
  var n10 = e30 === this.length - 1;
  if (this.length > 1 && !n10) {
    var i10 = this.length - 1, a10 = this[i10], s10 = a10._private.data.id;
    this[i10] = void 0, this[e30] = a10, r10.set(s10, { ele: a10, index: e30 });
  }
  return this.length--, this;
}, "unmergeAt"), unmergeOne: iM(function(e30) {
  e30 = e30[0];
  var t10 = this._private, r10 = e30._private.data.id, n10 = t10.map.get(r10);
  if (!n10) return this;
  var i10 = n10.index;
  return this.unmergeAt(i10), this;
}, "unmergeOne"), unmerge: iM(function(e30) {
  var t10 = this._private.cy;
  if (!e30) return this;
  if (e30 && ecG(e30)) {
    var r10 = e30;
    e30 = t10.mutableElements().filter(r10);
  }
  for (var n10 = 0; n10 < e30.length; n10++) this.unmergeOne(e30[n10]);
  return this;
}, "unmerge"), unmergeBy: iM(function(e30) {
  for (var t10 = this.length - 1; t10 >= 0; t10--) e30(this[t10]) && this.unmergeAt(t10);
  return this;
}, "unmergeBy"), map: iM(function(e30, t10) {
  for (var r10 = [], n10 = 0; n10 < this.length; n10++) {
    var i10 = this[n10], a10 = t10 ? e30.apply(t10, [i10, n10, this]) : e30(i10, n10, this);
    r10.push(a10);
  }
  return r10;
}, "map"), reduce: iM(function(e30, t10) {
  for (var r10 = t10, n10 = 0; n10 < this.length; n10++) r10 = e30(r10, this[n10], n10, this);
  return r10;
}, "reduce"), max: iM(function(e30, t10) {
  for (var r10, n10 = -1 / 0, i10 = 0; i10 < this.length; i10++) {
    var a10 = this[i10], s10 = t10 ? e30.apply(t10, [a10, i10, this]) : e30(a10, i10, this);
    s10 > n10 && (n10 = s10, r10 = a10);
  }
  return { value: n10, ele: r10 };
}, "max"), min: iM(function(e30, t10) {
  for (var r10, n10 = 1 / 0, i10 = 0; i10 < this.length; i10++) {
    var a10 = this[i10], s10 = t10 ? e30.apply(t10, [a10, i10, this]) : e30(a10, i10, this);
    s10 < n10 && (n10 = s10, r10 = a10);
  }
  return { value: n10, ele: r10 };
}, "min") };
emg.u = emg["|"] = emg["+"] = emg.union = emg.or = emg.add, emg["\\"] = emg["!"] = emg["-"] = emg.difference = emg.relativeComplement = emg.subtract = emg.not, emg.n = emg["&"] = emg["."] = emg.and = emg.intersection = emg.intersect, emg["^"] = emg["(+)"] = emg["(-)"] = emg.symmetricDifference = emg.symdiff = emg.xor, emg.fnFilter = emg.filterFn = emg.stdFilter = emg.filter, emg.complement = emg.abscomp = emg.absoluteComplement;
var emm = { isNode: iM(function() {
  return "nodes" === this.group();
}, "isNode"), isEdge: iM(function() {
  return "edges" === this.group();
}, "isEdge"), isLoop: iM(function() {
  return this.isEdge() && this.source()[0] === this.target()[0];
}, "isLoop"), isSimple: iM(function() {
  return this.isEdge() && this.source()[0] !== this.target()[0];
}, "isSimple"), group: iM(function() {
  var e30 = this[0];
  if (e30) return e30._private.group;
}, "group") }, emy = iM(function(e30, t10) {
  var r10 = e30.cy().hasCompoundNodes();
  function n10(e31) {
    var t11 = e31.pstyle("z-compound-depth");
    return "auto" === t11.value ? r10 ? e31.zDepth() : 0 : "bottom" === t11.value ? -1 : "top" === t11.value ? euc : 0;
  }
  iM(n10, "getDepth");
  var i10 = n10(e30) - n10(t10);
  if (0 !== i10) return i10;
  function a10(e31) {
    return "auto" === e31.pstyle("z-index-compare").value && e31.isNode() ? 1 : 0;
  }
  iM(a10, "getEleDepth");
  var s10 = a10(e30) - a10(t10);
  if (0 !== s10) return s10;
  var o10 = e30.pstyle("z-index").value - t10.pstyle("z-index").value;
  return 0 !== o10 ? o10 : e30.poolIndex() - t10.poolIndex();
}, "zIndexSort"), emv = { forEach: iM(function(e30, t10) {
  if (ecX(e30)) for (var r10 = this.length, n10 = 0; n10 < r10; n10++) {
    var i10 = this[n10];
    if (false === (t10 ? e30.apply(t10, [i10, n10, this]) : e30(i10, n10, this))) break;
  }
  return this;
}, "forEach"), toArray: iM(function() {
  for (var e30 = [], t10 = 0; t10 < this.length; t10++) e30.push(this[t10]);
  return e30;
}, "toArray"), slice: iM(function(e30, t10) {
  var r10 = [], n10 = this.length;
  null == t10 && (t10 = n10), null == e30 && (e30 = 0), e30 < 0 && (e30 = n10 + e30), t10 < 0 && (t10 = n10 + t10);
  for (var i10 = e30; i10 >= 0 && i10 < t10 && i10 < n10; i10++) r10.push(this[i10]);
  return this.spawn(r10);
}, "slice"), size: iM(function() {
  return this.length;
}, "size"), eq: iM(function(e30) {
  return this[e30] || this.spawn();
}, "eq"), first: iM(function() {
  return this[0] || this.spawn();
}, "first"), last: iM(function() {
  return this[this.length - 1] || this.spawn();
}, "last"), empty: iM(function() {
  return 0 === this.length;
}, "empty"), nonempty: iM(function() {
  return !this.empty();
}, "nonempty"), sort: iM(function(e30) {
  if (!ecX(e30)) return this;
  var t10 = this.toArray().sort(e30);
  return this.spawn(t10);
}, "sort"), sortByZIndex: iM(function() {
  return this.sort(emy);
}, "sortByZIndex"), zDepth: iM(function() {
  var e30 = this[0];
  if (e30) {
    var t10 = e30._private;
    if ("nodes" === t10.group) {
      var r10 = t10.data.parent ? e30.parents().size() : 0;
      return e30.isParent() ? r10 : euc - 1;
    }
    var n10 = t10.source, i10 = t10.target;
    return Math.max(n10.zDepth(), i10.zDepth(), 0);
  }
}, "zDepth") };
emv.each = emv.forEach, iM(function() {
  var e30 = "undefined";
  ("undefined" == typeof Symbol ? "undefined" : ecL(Symbol)) != e30 && ecL(Symbol.iterator) != e30 && (emv[Symbol.iterator] = function() {
    var e31 = this, t10 = { value: void 0, done: false }, r10 = 0, n10 = this.length;
    return ecR({ next: iM(function() {
      return r10 < n10 ? t10.value = e31[r10++] : (t10.value = void 0, t10.done = true), t10;
    }, "next") }, Symbol.iterator, function() {
      return this;
    });
  });
}, "defineSymbolIterator")();
var emx = eu_({ nodeDimensionsIncludeLabels: false }), emb = { layoutDimensions: iM(function(e30) {
  if (e30 = emx(e30), this.takesUpSpace()) {
    if (e30.nodeDimensionsIncludeLabels) {
      var t10, r10 = this.boundingBox();
      t10 = { w: r10.w, h: r10.h };
    } else t10 = { w: this.outerWidth(), h: this.outerHeight() };
  } else t10 = { w: 0, h: 0 };
  return (0 === t10.w || 0 === t10.h) && (t10.w = t10.h = 1), t10;
}, "layoutDimensions"), layoutPositions: iM(function(e30, t10, r10) {
  var n10 = this.nodes().filter(function(e31) {
    return !e31.isParent();
  }), i10 = this.cy(), a10 = t10.eles, s10 = iM(function(e31) {
    return e31.id();
  }, "getMemoizeKey"), o10 = ehn(r10, s10);
  e30.emit({ type: "layoutstart", layout: e30 }), e30.animations = [];
  var l10 = iM(function(e31, t11, r11) {
    var n11 = { x: t11.x1 + t11.w / 2, y: t11.y1 + t11.h / 2 }, i11 = { x: (r11.x - n11.x) * e31, y: (r11.y - n11.y) * e31 };
    return { x: n11.x + i11.x, y: n11.y + i11.y };
  }, "calculateSpacing"), h10 = t10.spacingFactor && 1 !== t10.spacingFactor, u10 = iM(function() {
    if (!h10) return null;
    for (var e31 = eda(), t11 = 0; t11 < n10.length; t11++) {
      var r11 = o10(n10[t11], t11);
      edh(e31, r11.x, r11.y);
    }
    return e31;
  }, "spacingBb")(), d10 = ehn(function(e31, r11) {
    var n11 = o10(e31, r11);
    return h10 && (n11 = l10(Math.abs(t10.spacingFactor), u10, n11)), null != t10.transform && (n11 = t10.transform(e31, n11)), n11;
  }, s10);
  if (t10.animate) {
    for (var p10 = 0; p10 < n10.length; p10++) {
      var f10 = n10[p10], g10 = d10(f10, p10);
      if (null == t10.animateFilter || t10.animateFilter(f10, p10)) {
        var y10 = f10.animation({ position: g10, duration: t10.animationDuration, easing: t10.animationEasing });
        e30.animations.push(y10);
      } else f10.position(g10);
    }
    if (t10.fit) {
      var v10 = i10.animation({ fit: { boundingBox: a10.boundingBoxAt(d10), padding: t10.padding }, duration: t10.animationDuration, easing: t10.animationEasing });
      e30.animations.push(v10);
    } else if (void 0 !== t10.zoom && void 0 !== t10.pan) {
      var x10 = i10.animation({ zoom: t10.zoom, pan: t10.pan, duration: t10.animationDuration, easing: t10.animationEasing });
      e30.animations.push(x10);
    }
    e30.animations.forEach(function(e31) {
      return e31.play();
    }), e30.one("layoutready", t10.ready), e30.emit({ type: "layoutready", layout: e30 }), ep2.all(e30.animations.map(function(e31) {
      return e31.promise();
    })).then(function() {
      e30.one("layoutstop", t10.stop), e30.emit({ type: "layoutstop", layout: e30 });
    });
  } else n10.positions(d10), t10.fit && i10.fit(t10.eles, t10.padding), null != t10.zoom && i10.zoom(t10.zoom), t10.pan && i10.pan(t10.pan), e30.one("layoutready", t10.ready), e30.emit({ type: "layoutready", layout: e30 }), e30.one("layoutstop", t10.stop), e30.emit({ type: "layoutstop", layout: e30 });
  return this;
}, "layoutPositions"), layout: iM(function(e30) {
  return this.cy().makeLayout(ehg({}, e30, { eles: this }));
}, "layout") };
function emk(e30, t10, r10) {
  var n10, i10 = r10._private, a10 = i10.styleCache = i10.styleCache || [];
  return null != (n10 = a10[e30]) ? n10 : n10 = a10[e30] = t10(r10);
}
function emw(e30, t10) {
  return e30 = eun(e30), iM(function(r10) {
    return emk(e30, t10, r10);
  }, "cachedStyleFunction");
}
function em_(e30, t10) {
  e30 = eun(e30);
  var r10 = iM(function(e31) {
    return t10.call(e31);
  }, "selfFn");
  return iM(function() {
    var t11 = this[0];
    if (t11) return emk(e30, r10, t11);
  }, "cachedPrototypeStyleFunction");
}
emb.createLayout = emb.makeLayout = emb.layout, iM(emk, "styleCache"), iM(emw, "cacheStyleFunction"), iM(em_, "cachePrototypeStyleFunction");
var emT = { recalculateRenderedStyle: iM(function(e30) {
  var t10 = this.cy(), r10 = t10.renderer(), n10 = t10.styleEnabled();
  return r10 && n10 && r10.recalculateRenderedStyle(this, e30), this;
}, "recalculateRenderedStyle"), dirtyStyleCache: iM(function() {
  var e30, t10 = this.cy(), r10 = iM(function(e31) {
    return e31._private.styleCache = null;
  }, "dirty");
  return t10.hasCompoundNodes() ? ((e30 = this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e30.connectedEdges()), e30.forEach(r10)) : this.forEach(function(e31) {
    r10(e31), e31.connectedEdges().forEach(r10);
  }), this;
}, "dirtyStyleCache"), updateStyle: iM(function(e30) {
  var t10 = this._private.cy;
  if (!t10.styleEnabled()) return this;
  if (t10.batching()) return t10._private.batchStyleEles.merge(this), this;
  var r10 = t10.hasCompoundNodes(), n10 = this;
  e30 = !!e30 || void 0 === e30, r10 && (n10 = this.spawnSelf().merge(this.descendants()).merge(this.parents()));
  var i10 = n10;
  return e30 ? i10.emitAndNotify("style") : i10.emit("style"), n10.forEach(function(e31) {
    return e31._private.styleDirty = true;
  }), this;
}, "updateStyle"), cleanStyle: iM(function() {
  var e30 = this.cy();
  if (e30.styleEnabled()) for (var t10 = 0; t10 < this.length; t10++) {
    var r10 = this[t10];
    r10._private.styleDirty && (r10._private.styleDirty = false, e30.style().apply(r10));
  }
}, "cleanStyle"), parsedStyle: iM(function(e30) {
  var t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = this[0], n10 = r10.cy();
  if (n10.styleEnabled() && r10) {
    this.cleanStyle();
    var i10 = r10._private.style[e30];
    return null != i10 ? i10 : t10 ? n10.style().getDefaultProperty(e30) : null;
  }
}, "parsedStyle"), numericStyle: iM(function(e30) {
  var t10 = this[0];
  if (t10.cy().styleEnabled() && t10) {
    var r10 = t10.pstyle(e30);
    return void 0 !== r10.pfValue ? r10.pfValue : r10.value;
  }
}, "numericStyle"), numericStyleUnits: iM(function(e30) {
  var t10 = this[0];
  if (t10.cy().styleEnabled() && t10) return t10.pstyle(e30).units;
}, "numericStyleUnits"), renderedStyle: iM(function(e30) {
  var t10 = this.cy();
  if (!t10.styleEnabled()) return this;
  var r10 = this[0];
  if (r10) return t10.style().getRenderedStyle(r10, e30);
}, "renderedStyle"), style: iM(function(e30, t10) {
  var r10 = this.cy();
  if (!r10.styleEnabled()) return this;
  var n10 = r10.style();
  if (ecZ(e30)) n10.applyBypass(this, e30, false), this.emitAndNotify("style");
  else if (ecG(e30)) {
    if (void 0 === t10) {
      var i10 = this[0];
      return i10 ? n10.getStylePropertyValue(i10, e30) : void 0;
    }
    n10.applyBypass(this, e30, t10, false), this.emitAndNotify("style");
  } else if (void 0 === e30) {
    var a10 = this[0];
    return a10 ? n10.getRawStyle(a10) : void 0;
  }
  return this;
}, "style"), removeStyle: iM(function(e30) {
  var t10 = this.cy();
  if (!t10.styleEnabled()) return this;
  var r10 = t10.style();
  if (void 0 === e30) for (var n10 = 0; n10 < this.length; n10++) {
    var i10 = this[n10];
    r10.removeAllBypasses(i10, false);
  }
  else {
    e30 = e30.split(/\s+/);
    for (var a10 = 0; a10 < this.length; a10++) {
      var s10 = this[a10];
      r10.removeBypasses(s10, e30, false);
    }
  }
  return this.emitAndNotify("style"), this;
}, "removeStyle"), show: iM(function() {
  return this.css("display", "element"), this;
}, "show"), hide: iM(function() {
  return this.css("display", "none"), this;
}, "hide"), effectiveOpacity: iM(function() {
  var e30 = this.cy();
  if (!e30.styleEnabled()) return 1;
  var t10 = e30.hasCompoundNodes(), r10 = this[0];
  if (r10) {
    var n10 = r10._private, i10 = r10.pstyle("opacity").value;
    if (!t10) return i10;
    var a10 = n10.data.parent ? r10.parents() : null;
    if (a10) for (var s10 = 0; s10 < a10.length; s10++) i10 *= a10[s10].pstyle("opacity").value;
    return i10;
  }
}, "effectiveOpacity"), transparent: iM(function() {
  if (!this.cy().styleEnabled()) return false;
  var e30 = this[0], t10 = e30.cy().hasCompoundNodes();
  if (e30) return t10 ? 0 === e30.effectiveOpacity() : 0 === e30.pstyle("opacity").value;
}, "transparent"), backgrounding: iM(function() {
  return !!this.cy().styleEnabled() && !!this[0]._private.backgrounding;
}, "backgrounding") };
function emS(e30, t10) {
  var r10 = e30._private.data.parent ? e30.parents() : null;
  if (r10) {
    for (var n10 = 0; n10 < r10.length; n10++) if (!t10(r10[n10])) return false;
  }
  return true;
}
function emC(e30) {
  var t10 = e30.ok, r10 = e30.edgeOkViaNode || e30.ok, n10 = e30.parentOk || e30.ok;
  return function() {
    var e31 = this.cy();
    if (!e31.styleEnabled()) return true;
    var i10 = this[0], a10 = e31.hasCompoundNodes();
    if (i10) {
      var s10 = i10._private;
      if (!t10(i10)) return false;
      if (i10.isNode()) return !a10 || emS(i10, n10);
      var o10 = s10.source, l10 = s10.target;
      return r10(o10) && (!a10 || emS(o10, r10)) && (o10 === l10 || r10(l10) && (!a10 || emS(l10, r10)));
    }
  };
}
iM(emS, "checkCompound"), iM(emC, "defineDerivedStateFunction");
var emE = emw("eleTakesUpSpace", function(e30) {
  return "element" === e30.pstyle("display").value && 0 !== e30.width() && (!e30.isNode() || 0 !== e30.height());
});
emT.takesUpSpace = em_("takesUpSpace", emC({ ok: emE }));
var emA = emw("eleInteractive", function(e30) {
  return "yes" === e30.pstyle("events").value && "visible" === e30.pstyle("visibility").value && emE(e30);
}), emL = emw("parentInteractive", function(e30) {
  return "visible" === e30.pstyle("visibility").value && emE(e30);
});
emT.interactive = em_("interactive", emC({ ok: emA, parentOk: emL, edgeOkViaNode: emE })), emT.noninteractive = function() {
  var e30 = this[0];
  if (e30) return !e30.interactive();
};
var emI = emw("eleVisible", function(e30) {
  return "visible" === e30.pstyle("visibility").value && 0 !== e30.pstyle("opacity").pfValue && emE(e30);
});
emT.visible = em_("visible", emC({ ok: emI, edgeOkViaNode: emE })), emT.hidden = function() {
  var e30 = this[0];
  if (e30) return !e30.visible();
}, emT.isBundledBezier = em_("isBundledBezier", function() {
  return !!this.cy().styleEnabled() && !this.removed() && "bezier" === this.pstyle("curve-style").value && this.takesUpSpace();
}), emT.bypass = emT.css = emT.style, emT.renderedCss = emT.renderedStyle, emT.removeBypass = emT.removeCss = emT.removeStyle, emT.pstyle = emT.parsedStyle;
var emM = {};
function emN(e30) {
  return function() {
    var t10 = arguments, r10 = [];
    if (2 === t10.length) {
      var n10 = t10[0], i10 = t10[1];
      this.on(e30.event, n10, i10);
    } else if (1 === t10.length && ecX(t10[0])) {
      var a10 = t10[0];
      this.on(e30.event, a10);
    } else if (0 === t10.length || 1 === t10.length && ecK(t10[0])) {
      for (var s10 = 1 === t10.length ? t10[0] : null, o10 = 0; o10 < this.length; o10++) {
        var l10 = this[o10], h10 = !e30.ableField || l10._private[e30.ableField], u10 = l10._private[e30.field] != e30.value;
        if (e30.overrideAble) {
          var d10 = e30.overrideAble(l10);
          if (void 0 !== d10 && (h10 = d10, !d10)) return this;
        }
        h10 && (l10._private[e30.field] = e30.value, u10 && r10.push(l10));
      }
      var p10 = this.spawn(r10);
      p10.updateStyle(), p10.emit(e30.event), s10 && p10.emit(s10);
    }
    return this;
  };
}
function emR(e30) {
  emM[e30.field] = function() {
    var t10 = this[0];
    if (t10) {
      if (e30.overrideField) {
        var r10 = e30.overrideField(t10);
        if (void 0 !== r10) return r10;
      }
      return t10._private[e30.field];
    }
  }, emM[e30.on] = emN({ event: e30.on, field: e30.field, ableField: e30.ableField, overrideAble: e30.overrideAble, value: true }), emM[e30.off] = emN({ event: e30.off, field: e30.field, ableField: e30.ableField, overrideAble: e30.overrideAble, value: false });
}
iM(emN, "defineSwitchFunction"), iM(emR, "defineSwitchSet"), emR({ field: "locked", overrideField: iM(function(e30) {
  return !!e30.cy().autolock() || void 0;
}, "overrideField"), on: "lock", off: "unlock" }), emR({ field: "grabbable", overrideField: iM(function(e30) {
  return !(e30.cy().autoungrabify() || e30.pannable()) && void 0;
}, "overrideField"), on: "grabify", off: "ungrabify" }), emR({ field: "selected", ableField: "selectable", overrideAble: iM(function(e30) {
  return !e30.cy().autounselectify() && void 0;
}, "overrideAble"), on: "select", off: "unselect" }), emR({ field: "selectable", overrideField: iM(function(e30) {
  return !e30.cy().autounselectify() && void 0;
}, "overrideField"), on: "selectify", off: "unselectify" }), emM.deselect = emM.unselect, emM.grabbed = function() {
  var e30 = this[0];
  if (e30) return e30._private.grabbed;
}, emR({ field: "active", on: "activate", off: "unactivate" }), emR({ field: "pannable", on: "panify", off: "unpanify" }), emM.inactive = function() {
  var e30 = this[0];
  if (e30) return !e30._private.active;
};
var emD = {}, emO = iM(function(e30) {
  return iM(function(t10) {
    for (var r10 = [], n10 = 0; n10 < this.length; n10++) {
      var i10 = this[n10];
      if (i10.isNode()) {
        for (var a10 = false, s10 = i10.connectedEdges(), o10 = 0; o10 < s10.length; o10++) {
          var l10 = s10[o10], h10 = l10.source(), u10 = l10.target();
          if (e30.noIncomingEdges && u10 === i10 && h10 !== i10 || e30.noOutgoingEdges && h10 === i10 && u10 !== i10) {
            a10 = true;
            break;
          }
        }
        a10 || r10.push(i10);
      }
    }
    return this.spawn(r10, true).filter(t10);
  }, "dagExtremityImpl");
}, "defineDagExtremity"), em$ = iM(function(e30) {
  return function(t10) {
    for (var r10 = [], n10 = 0; n10 < this.length; n10++) {
      var i10 = this[n10];
      if (i10.isNode()) for (var a10 = i10.connectedEdges(), s10 = 0; s10 < a10.length; s10++) {
        var o10 = a10[s10], l10 = o10.source(), h10 = o10.target();
        e30.outgoing && l10 === i10 ? (r10.push(o10), r10.push(h10)) : e30.incoming && h10 === i10 && (r10.push(o10), r10.push(l10));
      }
    }
    return this.spawn(r10, true).filter(t10);
  };
}, "defineDagOneHop"), emP = iM(function(e30) {
  return function(t10) {
    for (var r10 = this, n10 = [], i10 = {}; ; ) {
      var a10 = e30.outgoing ? r10.outgoers() : r10.incomers();
      if (0 === a10.length) break;
      for (var s10 = false, o10 = 0; o10 < a10.length; o10++) {
        var l10 = a10[o10], h10 = l10.id();
        i10[h10] || (i10[h10] = true, n10.push(l10), s10 = true);
      }
      if (!s10) break;
      r10 = a10;
    }
    return this.spawn(n10, true).filter(t10);
  };
}, "defineDagAllHops");
function emB(e30) {
  return iM(function(t10) {
    for (var r10 = [], n10 = 0; n10 < this.length; n10++) {
      var i10 = this[n10]._private[e30.attr];
      i10 && r10.push(i10);
    }
    return this.spawn(r10, true).filter(t10);
  }, "sourceImpl");
}
function emF(e30) {
  return iM(function(t10) {
    var r10 = [], n10 = this._private.cy, i10 = e30 || {};
    ecG(t10) && (t10 = n10.$(t10));
    for (var a10 = 0; a10 < t10.length; a10++) for (var s10 = t10[a10]._private.edges, o10 = 0; o10 < s10.length; o10++) {
      var l10 = s10[o10], h10 = l10._private.data, u10 = this.hasElementWithId(h10.source) && t10.hasElementWithId(h10.target), d10 = t10.hasElementWithId(h10.source) && this.hasElementWithId(h10.target);
      (u10 || d10) && (!i10.thisIsSrc && !i10.thisIsTgt || (!i10.thisIsSrc || u10) && (!i10.thisIsTgt || d10)) && r10.push(l10);
    }
    return this.spawn(r10, true);
  }, "edgesWithImpl");
}
function emz(e30) {
  return e30 = ehg({}, { codirected: false }, e30), iM(function(t10) {
    for (var r10 = [], n10 = this.edges(), i10 = e30, a10 = 0; a10 < n10.length; a10++) for (var s10 = n10[a10]._private, o10 = s10.source, l10 = o10._private.data.id, h10 = s10.data.target, u10 = o10._private.edges, d10 = 0; d10 < u10.length; d10++) {
      var p10 = u10[d10], f10 = p10._private.data, g10 = f10.target, y10 = f10.source, v10 = g10 === h10 && y10 === l10, x10 = l10 === g10 && h10 === y10;
      (i10.codirected && v10 || !i10.codirected && (v10 || x10)) && r10.push(p10);
    }
    return this.spawn(r10, true).filter(t10);
  }, "parallelEdgesImpl");
}
emD.clearTraversalCache = function() {
  for (var e30 = 0; e30 < this.length; e30++) this[e30]._private.traversalCache = null;
}, ehg(emD, { roots: emO({ noIncomingEdges: true }), leaves: emO({ noOutgoingEdges: true }), outgoers: egN(em$({ outgoing: true }), "outgoers"), successors: emP({ outgoing: true }), incomers: egN(em$({ incoming: true }), "incomers"), predecessors: emP({ incoming: true }) }), ehg(emD, { neighborhood: egN(function(e30) {
  for (var t10 = [], r10 = this.nodes(), n10 = 0; n10 < r10.length; n10++) for (var i10 = r10[n10], a10 = i10.connectedEdges(), s10 = 0; s10 < a10.length; s10++) {
    var o10 = a10[s10], l10 = o10.source(), h10 = o10.target(), u10 = i10 === l10 ? h10 : l10;
    u10.length > 0 && t10.push(u10[0]), t10.push(o10[0]);
  }
  return this.spawn(t10, true).filter(e30);
}, "neighborhood"), closedNeighborhood: iM(function(e30) {
  return this.neighborhood().add(this).filter(e30);
}, "closedNeighborhood"), openNeighborhood: iM(function(e30) {
  return this.neighborhood(e30);
}, "openNeighborhood") }), emD.neighbourhood = emD.neighborhood, emD.closedNeighbourhood = emD.closedNeighborhood, emD.openNeighbourhood = emD.openNeighborhood, ehg(emD, { source: egN(iM(function(e30) {
  var t10, r10 = this[0];
  return r10 && (t10 = r10._private.source || r10.cy().collection()), t10 && e30 ? t10.filter(e30) : t10;
}, "sourceImpl"), "source"), target: egN(iM(function(e30) {
  var t10, r10 = this[0];
  return r10 && (t10 = r10._private.target || r10.cy().collection()), t10 && e30 ? t10.filter(e30) : t10;
}, "targetImpl"), "target"), sources: emB({ attr: "source" }), targets: emB({ attr: "target" }) }), iM(emB, "defineSourceFunction"), ehg(emD, { edgesWith: egN(emF(), "edgesWith"), edgesTo: egN(emF({ thisIsSrc: true }), "edgesTo") }), iM(emF, "defineEdgesWithFunction"), ehg(emD, { connectedEdges: egN(function(e30) {
  for (var t10 = [], r10 = 0; r10 < this.length; r10++) {
    var n10 = this[r10];
    if (n10.isNode()) for (var i10 = n10._private.edges, a10 = 0; a10 < i10.length; a10++) {
      var s10 = i10[a10];
      t10.push(s10);
    }
  }
  return this.spawn(t10, true).filter(e30);
}, "connectedEdges"), connectedNodes: egN(function(e30) {
  for (var t10 = [], r10 = 0; r10 < this.length; r10++) {
    var n10 = this[r10];
    n10.isEdge() && (t10.push(n10.source()[0]), t10.push(n10.target()[0]));
  }
  return this.spawn(t10, true).filter(e30);
}, "connectedNodes"), parallelEdges: egN(emz(), "parallelEdges"), codirectedEdges: egN(emz({ codirected: true }), "codirectedEdges") }), iM(emz, "defineParallelEdgesFunction"), ehg(emD, { components: iM(function(e30) {
  var t10 = this, r10 = t10.cy(), n10 = r10.collection(), i10 = null == e30 ? t10.nodes() : e30.nodes(), a10 = [];
  null != e30 && i10.empty() && (i10 = e30.sources());
  var s10 = iM(function(e31, t11) {
    n10.merge(e31), i10.unmerge(e31), t11.merge(e31);
  }, "visitInComponent");
  if (i10.empty()) return t10.spawn();
  var o10 = iM(function() {
    var e31 = r10.collection();
    a10.push(e31);
    var n11 = i10[0];
    s10(n11, e31), t10.bfs({ directed: false, roots: n11, visit: iM(function(t11) {
      return s10(t11, e31);
    }, "visit") }), e31.forEach(function(r11) {
      r11.connectedEdges().forEach(function(r12) {
        t10.has(r12) && e31.has(r12.source()) && e31.has(r12.target()) && e31.merge(r12);
      });
    });
  }, "_loop");
  do
    o10();
  while (i10.length > 0);
  return a10;
}, "components"), component: iM(function() {
  var e30 = this[0];
  return e30.cy().mutableElements().components(e30)[0];
}, "component") }), emD.componentsOf = emD.components;
var emj = iM(function(e30, t10) {
  var r10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n10 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
  if (void 0 === e30) {
    euf("A collection must have a reference to the core");
    return;
  }
  var i10 = new euI(), a10 = false;
  if (t10) {
    if (t10.length > 0 && ecZ(t10[0]) && !ec4(t10[0])) {
      a10 = true;
      for (var s10 = [], o10 = new euN(), l10 = 0, h10 = t10.length; l10 < h10; l10++) {
        var u10 = t10[l10];
        null == u10.data && (u10.data = {});
        var d10 = u10.data;
        if (null == d10.id) d10.id = eub();
        else if (e30.hasElementWithId(d10.id) || o10.has(d10.id)) continue;
        var p10 = new euR(e30, u10, false);
        s10.push(p10), o10.add(d10.id);
      }
      t10 = s10;
    }
  } else t10 = [];
  this.length = 0;
  for (var f10 = 0, g10 = t10.length; f10 < g10; f10++) {
    var y10 = t10[f10][0];
    if (null != y10) {
      var v10 = y10._private.data.id;
      (!r10 || !i10.has(v10)) && (r10 && i10.set(v10, { index: this.length, ele: y10 }), this[this.length] = y10, this.length++);
    }
  }
  this._private = { eles: this, cy: e30, get map() {
    return null == this.lazyMap && this.rebuildMap(), this.lazyMap;
  }, set map(m) {
    this.lazyMap = m;
  }, rebuildMap: iM(function() {
    for (var e31 = this.lazyMap = new euI(), t11 = this.eles, r11 = 0; r11 < t11.length; r11++) {
      var n11 = t11[r11];
      e31.set(n11.id(), { index: r11, ele: n11 });
    }
  }, "rebuildMap") }, r10 && (this._private.map = i10), a10 && !n10 && this.restore();
}, "Collection"), emq = euR.prototype = emj.prototype = Object.create(Array.prototype);
emq.instanceString = function() {
  return "collection";
}, emq.spawn = function(e30, t10) {
  return new emj(this.cy(), e30, t10);
}, emq.spawnSelf = function() {
  return this.spawn(this);
}, emq.cy = function() {
  return this._private.cy;
}, emq.renderer = function() {
  return this._private.cy.renderer();
}, emq.element = function() {
  return this[0];
}, emq.collection = function() {
  return ec3(this) ? this : new emj(this._private.cy, [this]);
}, emq.unique = function() {
  return new emj(this._private.cy, this, true);
}, emq.hasElementWithId = function(e30) {
  return e30 = "" + e30, this._private.map.has(e30);
}, emq.getElementById = function(e30) {
  e30 = "" + e30;
  var t10 = this._private.cy, r10 = this._private.map.get(e30);
  return r10 ? r10.ele : new emj(t10);
}, emq.$id = emq.getElementById, emq.poolIndex = function() {
  var e30 = this._private.cy._private.elements, t10 = this[0]._private.data.id;
  return e30._private.map.get(t10).index;
}, emq.indexOf = function(e30) {
  var t10 = e30[0]._private.data.id;
  return this._private.map.get(t10).index;
}, emq.indexOfId = function(e30) {
  return e30 = "" + e30, this._private.map.get(e30).index;
}, emq.json = function(e30) {
  var t10 = this.element(), r10 = this.cy();
  if (null == t10 && e30) return this;
  if (null != t10) {
    var n10 = t10._private;
    if (ecZ(e30)) {
      if (r10.startBatch(), e30.data) {
        t10.data(e30.data);
        var i10 = n10.data;
        if (t10.isEdge()) {
          var a10 = false, s10 = {}, o10 = e30.data.source, l10 = e30.data.target;
          null != o10 && o10 != i10.source && (s10.source = "" + o10, a10 = true), null != l10 && l10 != i10.target && (s10.target = "" + l10, a10 = true), a10 && (t10 = t10.move(s10));
        } else {
          var h10 = "parent" in e30.data, u10 = e30.data.parent;
          h10 && (null != u10 || null != i10.parent) && u10 != i10.parent && (void 0 === u10 && (u10 = null), null != u10 && (u10 = "" + u10), t10 = t10.move({ parent: u10 }));
        }
      }
      e30.position && t10.position(e30.position);
      var d10 = iM(function(r11, i11, a11) {
        var s11 = e30[r11];
        null != s11 && s11 !== n10[r11] && (s11 ? t10[i11]() : t10[a11]());
      }, "checkSwitch");
      return d10("removed", "remove", "restore"), d10("selected", "select", "unselect"), d10("selectable", "selectify", "unselectify"), d10("locked", "lock", "unlock"), d10("grabbable", "grabify", "ungrabify"), d10("pannable", "panify", "unpanify"), null != e30.classes && t10.classes(e30.classes), r10.endBatch(), this;
    }
    if (void 0 === e30) {
      var p10 = { data: euv(n10.data), position: euv(n10.position), group: n10.group, removed: n10.removed, selected: n10.selected, selectable: n10.selectable, locked: n10.locked, grabbable: n10.grabbable, pannable: n10.pannable, classes: null };
      p10.classes = "";
      var f10 = 0;
      return n10.classes.forEach(function(e31) {
        return p10.classes += 0 == f10++ ? e31 : " " + e31;
      }), p10;
    }
  }
}, emq.jsons = function() {
  for (var e30 = [], t10 = 0; t10 < this.length; t10++) {
    var r10 = this[t10].json();
    e30.push(r10);
  }
  return e30;
}, emq.clone = function() {
  for (var e30 = this.cy(), t10 = [], r10 = 0; r10 < this.length; r10++) {
    var n10 = new euR(e30, this[r10].json(), false);
    t10.push(n10);
  }
  return new emj(e30, t10);
}, emq.copy = emq.clone, emq.restore = function() {
  for (var e30 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0], t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = this.cy(), n10 = r10._private, i10 = [], a10 = [], s10 = 0, o10 = this.length; s10 < o10; s10++) {
    var l10 = this[s10];
    (!t10 || l10.removed()) && (l10.isNode() ? i10.push(l10) : a10.push(l10));
  }
  N10 = i10.concat(a10);
  var h10 = iM(function() {
    N10.splice(R10, 1), R10--;
  }, "removeFromElements");
  for (R10 = 0; R10 < N10.length; R10++) {
    var u10 = N10[R10], d10 = u10._private, p10 = d10.data;
    if (u10.clearTraversalCache(), t10 || d10.removed) {
      if (void 0 === p10.id) p10.id = eub();
      else if (ecJ(p10.id)) p10.id = "" + p10.id;
      else if (ec8(p10.id) || !ecG(p10.id)) {
        euf("Can not create element with invalid string ID `" + p10.id + "`"), h10();
        continue;
      } else if (r10.hasElementWithId(p10.id)) {
        euf("Can not create second element with ID `" + p10.id + "`"), h10();
        continue;
      }
    }
    var f10 = p10.id;
    if (u10.isNode()) {
      var g10 = d10.position;
      null == g10.x && (g10.x = 0), null == g10.y && (g10.y = 0);
    }
    if (u10.isEdge()) {
      for (var y10 = ["source", "target"], v10 = y10.length, x10 = false, b10 = 0; b10 < v10; b10++) {
        var k10 = y10[b10], w10 = p10[k10];
        ecJ(w10) && (w10 = p10[k10] = "" + p10[k10]), null == w10 || "" === w10 ? (euf("Can not create edge `" + f10 + "` with unspecified " + k10), x10 = true) : r10.hasElementWithId(w10) || (euf("Can not create edge `" + f10 + "` with nonexistant " + k10 + " `" + w10 + "`"), x10 = true);
      }
      if (x10) {
        h10();
        continue;
      }
      var _10 = r10.getElementById(p10.source), T10 = r10.getElementById(p10.target);
      _10.same(T10) ? _10._private.edges.push(u10) : (_10._private.edges.push(u10), T10._private.edges.push(u10)), u10._private.source = _10, u10._private.target = T10;
    }
    d10.map = new euI(), d10.map.set(f10, { ele: u10, index: 0 }), d10.removed = false, t10 && r10.addToPool(u10);
  }
  for (var S10 = 0; S10 < i10.length; S10++) {
    var C10 = i10[S10], E10 = C10._private.data;
    ecJ(E10.parent) && (E10.parent = "" + E10.parent);
    var A10 = E10.parent;
    if (null != A10 || C10._private.parent) {
      var L10 = C10._private.parent ? r10.collection().merge(C10._private.parent) : r10.getElementById(A10);
      if (L10.empty()) E10.parent = void 0;
      else if (L10[0].removed()) eum("Node added with missing parent, reference to parent removed"), E10.parent = void 0, C10._private.parent = null;
      else {
        for (var I10 = false, M10 = L10; !M10.empty(); ) {
          if (C10.same(M10)) {
            I10 = true, E10.parent = void 0;
            break;
          }
          M10 = M10.parent();
        }
        I10 || (L10[0]._private.children.push(C10), C10._private.parent = L10[0], n10.hasCompoundNodes = true);
      }
    }
  }
  if (N10.length > 0) {
    for (var N10, R10, D10 = N10.length === this.length ? this : new emj(r10, N10), O10 = 0; O10 < D10.length; O10++) {
      var $10 = D10[O10];
      $10.isNode() || ($10.parallelEdges().clearTraversalCache(), $10.source().clearTraversalCache(), $10.target().clearTraversalCache());
    }
    (n10.hasCompoundNodes ? r10.collection().merge(D10).merge(D10.connectedNodes()).merge(D10.parent()) : D10).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e30), e30 ? D10.emitAndNotify("add") : t10 && D10.emit("add");
  }
  return this;
}, emq.removed = function() {
  var e30 = this[0];
  return e30 && e30._private.removed;
}, emq.inside = function() {
  var e30 = this[0];
  return e30 && !e30._private.removed;
}, emq.remove = function() {
  var e30 = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0], t10 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], r10 = [], n10 = {}, i10 = this._private.cy;
  function a10(e31) {
    for (var t11 = e31._private.edges, r11 = 0; r11 < t11.length; r11++) o10(t11[r11]);
  }
  function s10(e31) {
    for (var t11 = e31._private.children, r11 = 0; r11 < t11.length; r11++) o10(t11[r11]);
  }
  function o10(e31) {
    var i11 = n10[e31.id()];
    t10 && e31.removed() || i11 || (n10[e31.id()] = true, e31.isNode() ? (r10.push(e31), a10(e31), s10(e31)) : r10.unshift(e31));
  }
  iM(a10, "addConnectedEdges"), iM(s10, "addChildren"), iM(o10, "add");
  for (var l10 = 0, h10 = this.length; l10 < h10; l10++) o10(this[l10]);
  function u10(e31, t11) {
    euT(e31._private.edges, t11), e31.clearTraversalCache();
  }
  function d10(e31) {
    e31.clearTraversalCache();
  }
  iM(u10, "removeEdgeRef"), iM(d10, "removeParallelRef");
  var p10 = [];
  function f10(e31, t11) {
    t11 = t11[0];
    var r11 = (e31 = e31[0])._private.children, n11 = e31.id();
    euT(r11, t11), t11._private.parent = null, p10.ids[n11] || (p10.ids[n11] = true, p10.push(e31));
  }
  p10.ids = {}, iM(f10, "removeChildRef"), this.dirtyCompoundBoundsCache(), t10 && i10.removeFromPool(r10);
  for (var g10 = 0; g10 < r10.length; g10++) {
    var y10 = r10[g10];
    if (y10.isEdge()) {
      var v10 = y10.source()[0], x10 = y10.target()[0];
      u10(v10, y10), u10(x10, y10);
      for (var b10 = y10.parallelEdges(), k10 = 0; k10 < b10.length; k10++) {
        var w10 = b10[k10];
        d10(w10), w10.isBundledBezier() && w10.dirtyBoundingBoxCache();
      }
    } else {
      var _10 = y10.parent();
      0 !== _10.length && f10(_10, y10);
    }
    t10 && (y10._private.removed = true);
  }
  var T10 = i10._private.elements;
  i10._private.hasCompoundNodes = false;
  for (var S10 = 0; S10 < T10.length; S10++) if (T10[S10].isParent()) {
    i10._private.hasCompoundNodes = true;
    break;
  }
  var C10 = new emj(this.cy(), r10);
  C10.size() > 0 && (e30 ? C10.emitAndNotify("remove") : t10 && C10.emit("remove"));
  for (var E10 = 0; E10 < p10.length; E10++) {
    var A10 = p10[E10];
    t10 && A10.removed() || A10.updateStyle();
  }
  return C10;
}, emq.move = function(e30) {
  var t10 = this._private.cy, r10 = this, n10 = iM(function(e31) {
    return null == e31 ? e31 : "" + e31;
  }, "toString");
  if (void 0 !== e30.source || void 0 !== e30.target) {
    var i10 = n10(e30.source), a10 = n10(e30.target), s10 = null != i10 && t10.hasElementWithId(i10), o10 = null != a10 && t10.hasElementWithId(a10);
    (s10 || o10) && (t10.batch(function() {
      r10.remove(false, false), r10.emitAndNotify("moveout");
      for (var e31 = 0; e31 < r10.length; e31++) {
        var t11 = r10[e31], n11 = t11._private.data;
        t11.isEdge() && (s10 && (n11.source = i10), o10 && (n11.target = a10));
      }
      r10.restore(false, false);
    }), r10.emitAndNotify("move"));
  } else if (void 0 !== e30.parent) {
    var l10 = n10(e30.parent);
    if (null === l10 || t10.hasElementWithId(l10)) {
      var h10 = null === l10 ? void 0 : l10;
      t10.batch(function() {
        var e31 = r10.remove(false, false);
        e31.emitAndNotify("moveout");
        for (var t11 = 0; t11 < r10.length; t11++) {
          var n11 = r10[t11], i11 = n11._private.data;
          n11.isNode() && (i11.parent = h10);
        }
        e31.restore(false, false);
      }), r10.emitAndNotify("move");
    }
  }
  return this;
}, [epX, egi, ega, egM, egR, n1, egB, eg9, emf, emg, emm, emv, emb, emT, emM, emD].forEach(function(e30) {
  ehg(emq, e30);
});
var emU = { add: iM(function(e30) {
  var t10;
  if (ec2(e30)) {
    if (e30._private.cy === this) t10 = e30.restore();
    else {
      for (var r10 = [], n10 = 0; n10 < e30.length; n10++) {
        var i10 = e30[n10];
        r10.push(i10.json());
      }
      t10 = new emj(this, r10);
    }
  } else if (ecK(e30)) t10 = new emj(this, e30);
  else if (ecZ(e30) && (ecK(e30.nodes) || ecK(e30.edges))) {
    for (var a10 = [], s10 = ["nodes", "edges"], o10 = 0, l10 = s10.length; o10 < l10; o10++) {
      var h10 = s10[o10], u10 = e30[h10];
      if (ecK(u10)) for (var d10 = 0, p10 = u10.length; d10 < p10; d10++) {
        var f10 = ehg({ group: h10 }, u10[d10]);
        a10.push(f10);
      }
    }
    t10 = new emj(this, a10);
  } else t10 = new euR(this, e30).collection();
  return t10;
}, "add"), remove: iM(function(e30) {
  if (ec2(e30)) ;
  else if (ecG(e30)) {
    var t10 = e30;
    e30 = this.$(t10);
  }
  return e30.remove();
}, "remove") };
function emW(e30, t10, r10, n10) {
  var i10 = "undefined" != typeof Float32Array;
  if (4 != arguments.length) return false;
  for (var a10 = 0; a10 < 4; ++a10) if ("number" != typeof arguments[a10] || isNaN(arguments[a10]) || !isFinite(arguments[a10])) return false;
  e30 = Math.min(e30, 1), r10 = Math.min(r10, 1), e30 = Math.max(e30, 0), r10 = Math.max(r10, 0);
  var s10 = i10 ? new Float32Array(11) : Array(11);
  function o10(e31, t11) {
    return 1 - 3 * t11 + 3 * e31;
  }
  function l10(e31, t11) {
    return 3 * t11 - 6 * e31;
  }
  function h10(e31) {
    return 3 * e31;
  }
  function u10(e31, t11, r11) {
    return ((o10(t11, r11) * e31 + l10(t11, r11)) * e31 + h10(t11)) * e31;
  }
  function d10(e31, t11, r11) {
    return 3 * o10(t11, r11) * e31 * e31 + 2 * l10(t11, r11) * e31 + h10(t11);
  }
  function p10(t11, n11) {
    for (var i11 = 0; i11 < 4; ++i11) {
      var a11 = d10(n11, e30, r10);
      if (0 === a11) break;
      var s11 = u10(n11, e30, r10) - t11;
      n11 -= s11 / a11;
    }
    return n11;
  }
  function f10() {
    for (var t11 = 0; t11 < 11; ++t11) s10[t11] = u10(0.1 * t11, e30, r10);
  }
  function g10(t11, n11, i11) {
    var a11, s11, o11 = 0;
    do
      (a11 = u10(s11 = n11 + (i11 - n11) / 2, e30, r10) - t11) > 0 ? i11 = s11 : n11 = s11;
    while (Math.abs(a11) > 1e-7 && ++o11 < 10);
    return s11;
  }
  function y10(t11) {
    for (var n11 = 0, i11 = 1; 10 !== i11 && s10[i11] <= t11; ++i11) n11 += 0.1;
    var a11 = n11 + (t11 - s10[--i11]) / (s10[i11 + 1] - s10[i11]) * 0.1, o11 = d10(a11, e30, r10);
    return o11 >= 1e-3 ? p10(t11, a11) : 0 === o11 ? a11 : g10(t11, n11, n11 + 0.1);
  }
  iM(o10, "A"), iM(l10, "B"), iM(h10, "C"), iM(u10, "calcBezier"), iM(d10, "getSlope"), iM(p10, "newtonRaphsonIterate"), iM(f10, "calcSampleValues"), iM(g10, "binarySubdivide"), iM(y10, "getTForX");
  var v10 = false;
  function x10() {
    v10 = true, (e30 !== t10 || r10 !== n10) && f10();
  }
  iM(x10, "precompute");
  var b10 = iM(function(i11) {
    return (v10 || x10(), e30 === t10 && r10 === n10) ? i11 : 0 === i11 ? 0 : 1 === i11 ? 1 : u10(y10(i11), t10, n10);
  }, "f");
  b10.getControlPoints = function() {
    return [{ x: e30, y: t10 }, { x: r10, y: n10 }];
  };
  var k10 = "generateBezier(" + [e30, t10, r10, n10] + ")";
  return b10.toString = function() {
    return k10;
  }, b10;
}
iM(emW, "generateCubicBezier");
var emV = function() {
  function e30(e31) {
    return -e31.tension * e31.x - e31.friction * e31.v;
  }
  function t10(t11, r11, n10) {
    var i10 = { x: t11.x + n10.dx * r11, v: t11.v + n10.dv * r11, tension: t11.tension, friction: t11.friction };
    return { dx: i10.v, dv: e30(i10) };
  }
  function r10(r11, n10) {
    var i10 = { dx: r11.v, dv: e30(r11) }, a10 = t10(r11, 0.5 * n10, i10), s10 = t10(r11, 0.5 * n10, a10), o10 = t10(r11, n10, s10), l10 = 1 / 6 * (i10.dx + 2 * (a10.dx + s10.dx) + o10.dx), h10 = 1 / 6 * (i10.dv + 2 * (a10.dv + s10.dv) + o10.dv);
    return r11.x = r11.x + l10 * n10, r11.v = r11.v + h10 * n10, r11;
  }
  return iM(e30, "springAccelerationForState"), iM(t10, "springEvaluateStateWithDerivative"), iM(r10, "springIntegrateState"), iM(function e31(t11, n10, i10) {
    var a10, s10, o10, l10 = { x: -1, v: 0, tension: null, friction: null }, h10 = [0], u10 = 0, d10 = 1 / 1e4;
    for (t11 = parseFloat(t11) || 500, n10 = parseFloat(n10) || 20, i10 = i10 || null, l10.tension = t11, l10.friction = n10, s10 = (a10 = null !== i10) ? (u10 = e31(t11, n10)) / i10 * 0.016 : 0.016; o10 = r10(o10 || l10, s10), h10.push(1 + o10.x), u10 += 16, Math.abs(o10.x) > d10 && Math.abs(o10.v) > d10; ) ;
    return a10 ? function(e32) {
      return h10[e32 * (h10.length - 1) | 0];
    } : u10;
  }, "springRK4Factory");
}(), emH = iM(function(e30, t10, r10, n10) {
  var i10 = emW(e30, t10, r10, n10);
  return function(e31, t11, r11) {
    return e31 + (t11 - e31) * i10(r11);
  };
}, "cubicBezier"), emY = { linear: iM(function(e30, t10, r10) {
  return e30 + (t10 - e30) * r10;
}, "linear"), ease: emH(0.25, 0.1, 0.25, 1), "ease-in": emH(0.42, 0, 1, 1), "ease-out": emH(0, 0, 0.58, 1), "ease-in-out": emH(0.42, 0, 0.58, 1), "ease-in-sine": emH(0.47, 0, 0.745, 0.715), "ease-out-sine": emH(0.39, 0.575, 0.565, 1), "ease-in-out-sine": emH(0.445, 0.05, 0.55, 0.95), "ease-in-quad": emH(0.55, 0.085, 0.68, 0.53), "ease-out-quad": emH(0.25, 0.46, 0.45, 0.94), "ease-in-out-quad": emH(0.455, 0.03, 0.515, 0.955), "ease-in-cubic": emH(0.55, 0.055, 0.675, 0.19), "ease-out-cubic": emH(0.215, 0.61, 0.355, 1), "ease-in-out-cubic": emH(0.645, 0.045, 0.355, 1), "ease-in-quart": emH(0.895, 0.03, 0.685, 0.22), "ease-out-quart": emH(0.165, 0.84, 0.44, 1), "ease-in-out-quart": emH(0.77, 0, 0.175, 1), "ease-in-quint": emH(0.755, 0.05, 0.855, 0.06), "ease-out-quint": emH(0.23, 1, 0.32, 1), "ease-in-out-quint": emH(0.86, 0, 0.07, 1), "ease-in-expo": emH(0.95, 0.05, 0.795, 0.035), "ease-out-expo": emH(0.19, 1, 0.22, 1), "ease-in-out-expo": emH(1, 0, 0, 1), "ease-in-circ": emH(0.6, 0.04, 0.98, 0.335), "ease-out-circ": emH(0.075, 0.82, 0.165, 1), "ease-in-out-circ": emH(0.785, 0.135, 0.15, 0.86), spring: iM(function(e30, t10, r10) {
  if (0 === r10) return emY.linear;
  var n10 = emV(e30, t10, r10);
  return function(e31, t11, r11) {
    return e31 + (t11 - e31) * n10(r11);
  };
}, "spring"), "cubic-bezier": emH };
function emG(e30, t10, r10, n10, i10) {
  if (1 === n10 || t10 === r10) return r10;
  var a10 = i10(t10, r10, n10);
  return null == e30 || ((e30.roundValue || e30.color) && (a10 = Math.round(a10)), void 0 !== e30.min && (a10 = Math.max(a10, e30.min)), void 0 !== e30.max && (a10 = Math.min(a10, e30.max))), a10;
}
function emX(e30, t10) {
  return null == e30.pfValue && null == e30.value ? e30 : null != e30.pfValue && (null == t10 || "%" !== t10.type.units) ? e30.pfValue : e30.value;
}
function emK(e30, t10, r10, n10, i10) {
  var a10 = null != i10 ? i10.type : null;
  r10 < 0 ? r10 = 0 : r10 > 1 && (r10 = 1);
  var s10 = emX(e30, i10), o10 = emX(t10, i10);
  if (ecJ(s10) && ecJ(o10)) return emG(a10, s10, o10, r10, n10);
  if (ecK(s10) && ecK(o10)) {
    for (var l10 = [], h10 = 0; h10 < o10.length; h10++) {
      var u10 = s10[h10], d10 = o10[h10];
      if (null != u10 && null != d10) {
        var p10 = emG(a10, u10, d10, r10, n10);
        l10.push(p10);
      } else l10.push(d10);
    }
    return l10;
  }
}
function emZ(e30, t10, r10, n10) {
  var i10, a10, s10, o10, l10 = !n10, h10 = e30._private, u10 = t10._private, d10 = u10.easing, p10 = u10.startTime, f10 = (n10 ? e30 : e30.cy()).style();
  u10.easingImpl || (null == d10 ? u10.easingImpl = emY.linear : (i10 = ecG(d10) ? f10.parse("transition-timing-function", d10).value : d10, ecG(i10) ? (a10 = i10, s10 = []) : (a10 = i10[1], s10 = i10.slice(2).map(function(e31) {
    return +e31;
  })), s10.length > 0 ? ("spring" === a10 && s10.push(u10.duration), u10.easingImpl = emY[a10].apply(null, s10)) : u10.easingImpl = emY[a10]));
  var g10 = u10.easingImpl;
  if (o10 = 0 === u10.duration ? 1 : (r10 - p10) / u10.duration, u10.applying && (o10 = u10.progress), o10 < 0 ? o10 = 0 : o10 > 1 && (o10 = 1), null == u10.delay) {
    var y10 = u10.startPosition, v10 = u10.position;
    if (v10 && l10 && !e30.locked()) {
      var x10 = {};
      emQ(y10.x, v10.x) && (x10.x = emK(y10.x, v10.x, o10, g10)), emQ(y10.y, v10.y) && (x10.y = emK(y10.y, v10.y, o10, g10)), e30.position(x10);
    }
    var b10 = u10.startPan, k10 = u10.pan, w10 = h10.pan, _10 = null != k10 && n10;
    _10 && (emQ(b10.x, k10.x) && (w10.x = emK(b10.x, k10.x, o10, g10)), emQ(b10.y, k10.y) && (w10.y = emK(b10.y, k10.y, o10, g10)), e30.emit("pan"));
    var T10 = u10.startZoom, S10 = u10.zoom, C10 = null != S10 && n10;
    C10 && (emQ(T10, S10) && (h10.zoom = edi(h10.minZoom, emK(T10, S10, o10, g10), h10.maxZoom)), e30.emit("zoom")), (_10 || C10) && e30.emit("viewport");
    var E10 = u10.style;
    if (E10 && E10.length > 0 && l10) {
      for (var A10 = 0; A10 < E10.length; A10++) {
        var L10 = E10[A10], I10 = L10.name, M10 = u10.startStyle[I10], N10 = f10.properties[M10.name], R10 = emK(M10, L10, o10, g10, N10);
        f10.overrideBypass(e30, I10, R10);
      }
      e30.emit("style");
    }
  }
  return u10.progress = o10, o10;
}
function emQ(e30, t10) {
  return null != e30 && null != t10 && (!!(ecJ(e30) && ecJ(t10)) || !!e30 && !!t10);
}
function emJ(e30, t10, r10, n10) {
  var i10 = t10._private;
  i10.started = true, i10.startTime = r10 - i10.progress * i10.duration;
}
function em0(e30, t10) {
  var r10 = t10._private.aniEles, n10 = [];
  function i10(t11, r11) {
    var i11 = t11._private, a11 = i11.animation.current, s11 = i11.animation.queue, o11 = false;
    if (0 === a11.length) {
      var l11 = s11.shift();
      l11 && a11.push(l11);
    }
    for (var h10 = iM(function(e31) {
      for (var t12 = e31.length - 1; t12 >= 0; t12--) (0, e31[t12])();
      e31.splice(0, e31.length);
    }, "callbacks"), u10 = a11.length - 1; u10 >= 0; u10--) {
      var d10 = a11[u10], p10 = d10._private;
      if (p10.stopped) {
        a11.splice(u10, 1), p10.hooked = false, p10.playing = false, p10.started = false, h10(p10.frames);
        continue;
      }
      (p10.playing || p10.applying) && (p10.playing && p10.applying && (p10.applying = false), p10.started || emJ(t11, d10, e30), emZ(t11, d10, e30, r11), p10.applying && (p10.applying = false), h10(p10.frames), null != p10.step && p10.step(e30), d10.completed() && (a11.splice(u10, 1), p10.hooked = false, p10.playing = false, p10.started = false, h10(p10.completes)), o11 = true);
    }
    return r11 || 0 !== a11.length || 0 !== s11.length || n10.push(t11), o11;
  }
  iM(i10, "stepOne");
  for (var a10 = false, s10 = 0; s10 < r10.length; s10++) {
    var o10 = i10(r10[s10]);
    a10 = a10 || o10;
  }
  var l10 = i10(t10, true);
  (a10 || l10) && (r10.length > 0 ? t10.notify("draw", r10) : t10.notify("draw")), r10.unmerge(n10), t10.emit("step");
}
iM(emG, "getEasedValue"), iM(emX, "getValue"), iM(emK, "ease"), iM(emZ, "step$1"), iM(emQ, "valid"), iM(emJ, "startAnimation"), iM(em0, "stepAll");
var em1 = { animate: egn.animate(), animation: egn.animation(), animated: egn.animated(), clearQueue: egn.clearQueue(), delay: egn.delay(), delayAnimation: egn.delayAnimation(), stop: egn.stop(), addToAnimationPool: iM(function(e30) {
  this.styleEnabled() && this._private.aniEles.merge(e30);
}, "addToAnimationPool"), stopAnimationLoop: iM(function() {
  this._private.animationsRunning = false;
}, "stopAnimationLoop"), startAnimationLoop: iM(function() {
  var e30 = this;
  if (e30._private.animationsRunning = true, e30.styleEnabled()) {
    iM(r10, "headlessStep");
    var t10 = e30.renderer();
    t10 && t10.beforeRender ? t10.beforeRender(iM(function(t11, r11) {
      em0(r11, e30);
    }, "rendererAnimationStep"), t10.beforeRenderPriorities.animations) : r10();
  }
  function r10() {
    e30._private.animationsRunning && eh5(iM(function(t11) {
      em0(t11, e30), r10();
    }, "animationStep"));
  }
}, "startAnimationLoop") }, em2 = { qualifierCompare: iM(function(e30, t10) {
  return null == e30 || null == t10 ? null == e30 && null == t10 : e30.sameText(t10);
}, "qualifierCompare"), eventMatches: iM(function(e30, t10, r10) {
  var n10 = t10.qualifier;
  return null == n10 || e30 !== r10.target && ec4(r10.target) && n10.matches(r10.target);
}, "eventMatches"), addEventFields: iM(function(e30, t10) {
  t10.cy = e30, t10.target = e30;
}, "addEventFields"), callbackContext: iM(function(e30, t10, r10) {
  return null != t10.qualifier ? r10.target : e30;
}, "callbackContext") }, em4 = iM(function(e30) {
  return ecG(e30) ? new egL(e30) : e30;
}, "argSelector"), em3 = { createEmitter: iM(function() {
  var e30 = this._private;
  return e30.emitter || (e30.emitter = new emo(em2, this)), this;
}, "createEmitter"), emitter: iM(function() {
  return this._private.emitter;
}, "emitter"), on: iM(function(e30, t10, r10) {
  return this.emitter().on(e30, em4(t10), r10), this;
}, "on"), removeListener: iM(function(e30, t10, r10) {
  return this.emitter().removeListener(e30, em4(t10), r10), this;
}, "removeListener"), removeAllListeners: iM(function() {
  return this.emitter().removeAllListeners(), this;
}, "removeAllListeners"), one: iM(function(e30, t10, r10) {
  return this.emitter().one(e30, em4(t10), r10), this;
}, "one"), once: iM(function(e30, t10, r10) {
  return this.emitter().one(e30, em4(t10), r10), this;
}, "once"), emit: iM(function(e30, t10) {
  return this.emitter().emit(e30, t10), this;
}, "emit"), emitAndNotify: iM(function(e30, t10) {
  return this.emit(e30), this.notify(e30, t10), this;
}, "emitAndNotify") };
egn.eventAliasesOn(em3);
var em5 = { png: iM(function(e30) {
  return e30 = e30 || {}, this._private.renderer.png(e30);
}, "png"), jpg: iM(function(e30) {
  var t10 = this._private.renderer;
  return (e30 = e30 || {}).bg = e30.bg || "#fff", t10.jpg(e30);
}, "jpg") };
em5.jpeg = em5.jpg;
var em6 = { layout: iM(function(e30) {
  if (null == e30) {
    euf("Layout options must be specified to make a layout");
    return;
  }
  if (null == e30.name) {
    euf("A `name` must be specified to make a layout");
    return;
  }
  var t10, r10 = e30.name, n10 = this.extension("layout", r10);
  if (null == n10) {
    euf("No such layout `" + r10 + "` found.  Did you forget to import it and `cytoscape.use()` it?");
    return;
  }
  return t10 = ecG(e30.eles) ? this.$(e30.eles) : null != e30.eles ? e30.eles : this.$(), new n10(ehg({}, e30, { cy: this, eles: t10 }));
}, "layout") };
em6.createLayout = em6.makeLayout = em6.layout;
var em7 = { notify: iM(function(e30, t10) {
  var r10 = this._private;
  if (this.batching()) {
    r10.batchNotifications = r10.batchNotifications || {};
    var n10 = r10.batchNotifications[e30] = r10.batchNotifications[e30] || this.collection();
    null != t10 && n10.merge(t10);
    return;
  }
  if (r10.notificationsEnabled) {
    var i10 = this.renderer();
    !this.destroyed() && i10 && i10.notify(e30, t10);
  }
}, "notify"), notifications: iM(function(e30) {
  var t10 = this._private;
  return void 0 === e30 ? t10.notificationsEnabled : (t10.notificationsEnabled = !!e30, this);
}, "notifications"), noNotifications: iM(function(e30) {
  this.notifications(false), e30(), this.notifications(true);
}, "noNotifications"), batching: iM(function() {
  return this._private.batchCount > 0;
}, "batching"), startBatch: iM(function() {
  var e30 = this._private;
  return null == e30.batchCount && (e30.batchCount = 0), 0 === e30.batchCount && (e30.batchStyleEles = this.collection(), e30.batchNotifications = {}), e30.batchCount++, this;
}, "startBatch"), endBatch: iM(function() {
  var e30 = this._private;
  if (0 === e30.batchCount) return this;
  if (e30.batchCount--, 0 === e30.batchCount) {
    e30.batchStyleEles.updateStyle();
    var t10 = this.renderer();
    Object.keys(e30.batchNotifications).forEach(function(r10) {
      var n10 = e30.batchNotifications[r10];
      n10.empty() ? t10.notify(r10) : t10.notify(r10, n10);
    });
  }
  return this;
}, "endBatch"), batch: iM(function(e30) {
  return this.startBatch(), e30(), this.endBatch(), this;
}, "batch"), batchData: iM(function(e30) {
  var t10 = this;
  return this.batch(function() {
    for (var r10 = Object.keys(e30), n10 = 0; n10 < r10.length; n10++) {
      var i10 = r10[n10], a10 = e30[i10];
      t10.getElementById(i10).data(a10);
    }
  });
}, "batchData") }, em8 = eu_({ hideEdgesOnViewport: false, textureOnViewport: false, motionBlur: false, motionBlurOpacity: 0.05, pixelRatio: void 0, desktopTapThreshold: 4, touchTapThreshold: 8, wheelSensitivity: 1, debug: false, showFps: false }), em9 = { renderTo: iM(function(e30, t10, r10, n10) {
  return this._private.renderer.renderTo(e30, t10, r10, n10), this;
}, "renderTo"), renderer: iM(function() {
  return this._private.renderer;
}, "renderer"), forceRender: iM(function() {
  return this.notify("draw"), this;
}, "forceRender"), resize: iM(function() {
  return this.invalidateSize(), this.emitAndNotify("resize"), this;
}, "resize"), initRenderer: iM(function(e30) {
  var t10 = this.extension("renderer", e30.name);
  if (null == t10) {
    euf("Can not initialise: No such renderer `".concat(e30.name, "` found. Did you forget to import it and `cytoscape.use()` it?"));
    return;
  }
  void 0 !== e30.wheelSensitivity && eum("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");
  var r10 = em8(e30);
  r10.cy = this, this._private.renderer = new t10(r10), this.notify("init");
}, "initRenderer"), destroyRenderer: iM(function() {
  this.notify("destroy");
  var e30 = this.container();
  if (e30) for (e30._cyreg = null; e30.childNodes.length > 0; ) e30.removeChild(e30.childNodes[0]);
  this._private.renderer = null, this.mutableElements().forEach(function(e31) {
    var t10 = e31._private;
    t10.rscratch = {}, t10.rstyle = {}, t10.animation.current = [], t10.animation.queue = [];
  });
}, "destroyRenderer"), onRender: iM(function(e30) {
  return this.on("render", e30);
}, "onRender"), offRender: iM(function(e30) {
  return this.off("render", e30);
}, "offRender") };
em9.invalidateDimensions = em9.resize;
var eye = { collection: iM(function(e30, t10) {
  return ecG(e30) ? this.$(e30) : ec2(e30) ? e30.collection() : ecK(e30) ? (t10 || (t10 = {}), new emj(this, e30, t10.unique, t10.removed)) : new emj(this);
}, "collection"), nodes: iM(function(e30) {
  var t10 = this.$(function(e31) {
    return e31.isNode();
  });
  return e30 ? t10.filter(e30) : t10;
}, "nodes"), edges: iM(function(e30) {
  var t10 = this.$(function(e31) {
    return e31.isEdge();
  });
  return e30 ? t10.filter(e30) : t10;
}, "edges"), $: iM(function(e30) {
  var t10 = this._private.elements;
  return e30 ? t10.filter(e30) : t10.spawnSelf();
}, "$"), mutableElements: iM(function() {
  return this._private.elements;
}, "mutableElements") };
eye.elements = eye.filter = eye.$;
var eyt = {};
eyt.apply = function(e30) {
  for (var t10 = this._private.cy.collection(), r10 = 0; r10 < e30.length; r10++) {
    var n10 = e30[r10], i10 = this.getContextMeta(n10);
    if (!i10.empty) {
      var a10 = this.getContextStyle(i10), s10 = this.applyContextStyle(i10, a10, n10);
      n10._private.appliedInitStyle ? this.updateTransitions(n10, s10.diffProps) : n10._private.appliedInitStyle = true, this.updateStyleHints(n10) && t10.push(n10);
    }
  }
  return t10;
}, eyt.getPropertiesDiff = function(e30, t10) {
  var r10 = this._private.propDiffs = this._private.propDiffs || {}, n10 = e30 + "-" + t10, i10 = r10[n10];
  if (i10) return i10;
  for (var a10 = [], s10 = {}, o10 = 0; o10 < this.length; o10++) {
    var l10 = this[o10], h10 = "t" === e30[o10], u10 = "t" === t10[o10], d10 = h10 !== u10, p10 = l10.mappedProperties.length > 0;
    if (d10 || u10 && p10) {
      var f10 = void 0;
      d10 && p10 ? f10 = l10.properties : d10 ? f10 = l10.properties : p10 && (f10 = l10.mappedProperties);
      for (var g10 = 0; g10 < f10.length; g10++) {
        for (var y10 = f10[g10], v10 = y10.name, x10 = false, b10 = o10 + 1; b10 < this.length; b10++) {
          var k10 = this[b10];
          if ("t" === t10[b10] && (x10 = null != k10.properties[y10.name])) break;
        }
        s10[v10] || x10 || (s10[v10] = true, a10.push(v10));
      }
    }
  }
  return r10[n10] = a10, a10;
}, eyt.getContextMeta = function(e30) {
  for (var t10, r10 = "", n10 = e30._private.styleCxtKey || "", i10 = 0; i10 < this.length; i10++) {
    var a10 = this[i10];
    a10.selector && a10.selector.matches(e30) ? r10 += "t" : r10 += "f";
  }
  return t10 = this.getPropertiesDiff(n10, r10), e30._private.styleCxtKey = r10, { key: r10, diffPropNames: t10, empty: 0 === t10.length };
}, eyt.getContextStyle = function(e30) {
  var t10 = e30.key, r10 = this._private.contextStyles = this._private.contextStyles || {};
  if (r10[t10]) return r10[t10];
  for (var n10 = { _private: { key: t10 } }, i10 = 0; i10 < this.length; i10++) {
    var a10 = this[i10];
    if ("t" === t10[i10]) for (var s10 = 0; s10 < a10.properties.length; s10++) {
      var o10 = a10.properties[s10];
      n10[o10.name] = o10;
    }
  }
  return r10[t10] = n10, n10;
}, eyt.applyContextStyle = function(e30, t10, r10) {
  for (var n10 = e30.diffPropNames, i10 = {}, a10 = this.types, s10 = 0; s10 < n10.length; s10++) {
    var o10 = n10[s10], l10 = t10[o10], h10 = r10.pstyle(o10);
    if (!l10) {
      if (!h10) continue;
      l10 = h10.bypass ? { name: o10, deleteBypassed: true } : { name: o10, delete: true };
    }
    if (h10 !== l10) {
      if (l10.mapped === a10.fn && null != h10 && null != h10.mapping && h10.mapping.value === l10.value) {
        var u10 = h10.mapping;
        if ((u10.fnValue = l10.value(r10)) === u10.prevFnValue) continue;
      }
      var d10 = i10[o10] = { prev: h10 };
      this.applyParsedProperty(r10, l10), d10.next = r10.pstyle(o10), d10.next && d10.next.bypass && (d10.next = d10.next.bypassed);
    }
  }
  return { diffProps: i10 };
}, eyt.updateStyleHints = function(e30) {
  var t10 = e30._private, r10 = this, n10 = r10.propertyGroupNames, i10 = r10.propertyGroupKeys, a10 = iM(function(e31, t11, n11) {
    return r10.getPropertiesHash(e31, t11, n11);
  }, "propHash"), s10 = t10.styleKey;
  if (e30.removed()) return false;
  var o10 = "nodes" === t10.group, l10 = e30._private.style;
  n10 = Object.keys(l10);
  for (var h10 = 0; h10 < i10.length; h10++) {
    var u10 = i10[h10];
    t10.styleKeys[u10] = [9261, 5381];
  }
  for (var d10 = iM(function(e31, r11) {
    return t10.styleKeys[r11][0] = eh7(e31, t10.styleKeys[r11][0]);
  }, "updateGrKey1"), p10 = iM(function(e31, r11) {
    return t10.styleKeys[r11][1] = eh8(e31, t10.styleKeys[r11][1]);
  }, "updateGrKey2"), f10 = iM(function(e31, t11) {
    d10(e31, t11), p10(e31, t11);
  }, "updateGrKey"), g10 = iM(function(e31, t11) {
    for (var r11 = 0; r11 < e31.length; r11++) {
      var n11 = e31.charCodeAt(r11);
      d10(n11, t11), p10(n11, t11);
    }
  }, "updateGrKeyWStr"), y10 = iM(function(e31) {
    return -128 < e31 && e31 < 128 && Math.floor(e31) !== e31 ? 2e9 - (1024 * e31 | 0) : e31;
  }, "cleanNum"), v10 = 0; v10 < n10.length; v10++) {
    var x10 = n10[v10], b10 = l10[x10];
    if (null != b10) {
      var k10 = this.properties[x10], w10 = k10.type, _10 = k10.groupKey, T10 = void 0;
      null != k10.hashOverride ? T10 = k10.hashOverride(e30, b10) : null != b10.pfValue && (T10 = b10.pfValue);
      var S10 = null == k10.enums ? b10.value : null, C10 = null != T10, E10 = null != S10, A10 = C10 || E10, L10 = b10.units;
      w10.number && A10 && !w10.multiple ? (f10(y10(C10 ? T10 : S10), _10), C10 || null == L10 || g10(L10, _10)) : g10(b10.strValue, _10);
    }
  }
  for (var I10 = [9261, 5381], M10 = 0; M10 < i10.length; M10++) {
    var N10 = i10[M10], R10 = t10.styleKeys[N10];
    I10[0] = eh7(R10[0], I10[0]), I10[1] = eh8(R10[1], I10[1]);
  }
  t10.styleKey = eh9(I10[0], I10[1]);
  var D10 = t10.styleKeys;
  t10.labelDimsKey = eue(D10.labelDimensions);
  var O10 = a10(e30, ["label"], D10.labelDimensions);
  if (t10.labelKey = eue(O10), t10.labelStyleKey = eue(eut(D10.commonLabel, O10)), !o10) {
    var $10 = a10(e30, ["source-label"], D10.labelDimensions);
    t10.sourceLabelKey = eue($10), t10.sourceLabelStyleKey = eue(eut(D10.commonLabel, $10));
    var P10 = a10(e30, ["target-label"], D10.labelDimensions);
    t10.targetLabelKey = eue(P10), t10.targetLabelStyleKey = eue(eut(D10.commonLabel, P10));
  }
  if (o10) {
    var B10 = t10.styleKeys, F10 = B10.nodeBody, z10 = B10.nodeBorder, j10 = B10.nodeOutline, q10 = B10.backgroundImage, U10 = B10.compound, W10 = B10.pie, V10 = [F10, z10, j10, q10, U10, W10].filter(function(e31) {
      return null != e31;
    }).reduce(eut, [9261, 5381]);
    t10.nodeKey = eue(V10), t10.hasPie = null != W10 && 9261 !== W10[0] && 5381 !== W10[1];
  }
  return s10 !== t10.styleKey;
}, eyt.clearStyleHints = function(e30) {
  var t10 = e30._private;
  t10.styleCxtKey = "", t10.styleKeys = {}, t10.styleKey = null, t10.labelKey = null, t10.labelStyleKey = null, t10.sourceLabelKey = null, t10.sourceLabelStyleKey = null, t10.targetLabelKey = null, t10.targetLabelStyleKey = null, t10.nodeKey = null, t10.hasPie = null;
}, eyt.applyParsedProperty = function(e30, t10) {
  var r10 = this, n10 = t10, i10 = e30._private.style, a10 = r10.types, s10 = r10.properties[n10.name].type, o10 = n10.bypass, l10 = i10[n10.name], h10 = l10 && l10.bypass, u10 = e30._private, d10 = "mapping", p10 = iM(function(e31) {
    return null == e31 ? null : null != e31.pfValue ? e31.pfValue : e31.value;
  }, "getVal"), f10 = iM(function() {
    var t11 = p10(l10), i11 = p10(n10);
    r10.checkTriggers(e30, n10.name, t11, i11);
  }, "checkTriggers");
  if ("curve-style" === t10.name && e30.isEdge() && ("bezier" !== t10.value && e30.isLoop() || "haystack" === t10.value && (e30.source().isParent() || e30.target().isParent())) && (n10 = t10 = this.parse(t10.name, "bezier", o10)), n10.delete) return i10[n10.name] = void 0, f10(), true;
  if (n10.deleteBypassed) return l10 ? !!l10.bypass && (l10.bypassed = void 0, f10(), true) : (f10(), true);
  if (n10.deleteBypass) return l10 ? !!l10.bypass && (i10[n10.name] = l10.bypassed, f10(), true) : (f10(), true);
  var g10 = iM(function() {
    eum("Do not assign mappings to elements without corresponding data (i.e. ele `" + e30.id() + "` has no mapping for property `" + n10.name + "` with data field `" + n10.field + "`); try a `[" + n10.field + "]` selector to limit scope to elements with `" + n10.field + "` defined");
  }, "printMappingErr");
  switch (n10.mapped) {
    case a10.mapData:
      for (var y10, v10, x10 = n10.field.split("."), b10 = u10.data, k10 = 0; k10 < x10.length && b10; k10++) b10 = b10[x10[k10]];
      if (null == b10) return g10(), false;
      if (!ecJ(b10)) return eum("Do not use continuous mappers without specifying numeric data (i.e. `" + n10.field + ": " + b10 + "` for `" + e30.id() + "` is non-numeric)"), false;
      var w10 = n10.fieldMax - n10.fieldMin;
      if ((v10 = 0 === w10 ? 0 : (b10 - n10.fieldMin) / w10) < 0 ? v10 = 0 : v10 > 1 && (v10 = 1), s10.color) {
        var _10 = n10.valueMin[0], T10 = n10.valueMax[0], S10 = n10.valueMin[1], C10 = n10.valueMax[1], E10 = n10.valueMin[2], A10 = n10.valueMax[2], L10 = null == n10.valueMin[3] ? 1 : n10.valueMin[3], I10 = [Math.round(_10 + (T10 - _10) * v10), Math.round(S10 + (C10 - S10) * v10), Math.round(E10 + (A10 - E10) * v10), Math.round(L10 + ((null == n10.valueMax[3] ? 1 : n10.valueMax[3]) - L10) * v10)];
        y10 = { bypass: n10.bypass, name: n10.name, value: I10, strValue: "rgb(" + I10[0] + ", " + I10[1] + ", " + I10[2] + ")" };
      } else {
        if (!s10.number) return false;
        var M10 = n10.valueMin + (n10.valueMax - n10.valueMin) * v10;
        y10 = this.parse(n10.name, M10, n10.bypass, d10);
      }
      if (!y10) return g10(), false;
      y10.mapping = n10, n10 = y10;
      break;
    case a10.data:
      for (var N10 = n10.field.split("."), R10 = u10.data, D10 = 0; D10 < N10.length && R10; D10++) R10 = R10[N10[D10]];
      if (null != R10 && (y10 = this.parse(n10.name, R10, n10.bypass, d10)), !y10) return g10(), false;
      y10.mapping = n10, n10 = y10;
      break;
    case a10.fn:
      var O10 = n10.value, $10 = null != n10.fnValue ? n10.fnValue : O10(e30);
      if (n10.prevFnValue = $10, null == $10) return eum("Custom function mappers may not return null (i.e. `" + n10.name + "` for ele `" + e30.id() + "` is null)"), false;
      if (!(y10 = this.parse(n10.name, $10, n10.bypass, d10))) return eum("Custom function mappers may not return invalid values for the property type (i.e. `" + n10.name + "` for ele `" + e30.id() + "` is invalid)"), false;
      y10.mapping = euv(n10), n10 = y10;
      break;
    case void 0:
      break;
    default:
      return false;
  }
  return o10 ? (h10 ? n10.bypassed = l10.bypassed : n10.bypassed = l10, i10[n10.name] = n10) : h10 ? l10.bypassed = n10 : i10[n10.name] = n10, f10(), true;
}, eyt.cleanElements = function(e30, t10) {
  for (var r10 = 0; r10 < e30.length; r10++) {
    var n10 = e30[r10];
    if (this.clearStyleHints(n10), n10.dirtyCompoundBoundsCache(), n10.dirtyBoundingBoxCache(), t10) for (var i10 = n10._private.style, a10 = Object.keys(i10), s10 = 0; s10 < a10.length; s10++) {
      var o10 = a10[s10], l10 = i10[o10];
      null != l10 && (l10.bypass ? l10.bypassed = null : i10[o10] = null);
    }
    else n10._private.style = {};
  }
}, eyt.update = function() {
  this._private.cy.mutableElements().updateStyle();
}, eyt.updateTransitions = function(e30, t10) {
  var r10 = this, n10 = e30._private, i10 = e30.pstyle("transition-property").value, a10 = e30.pstyle("transition-duration").pfValue, s10 = e30.pstyle("transition-delay").pfValue;
  if (i10.length > 0 && a10 > 0) {
    for (var o10 = {}, l10 = false, h10 = 0; h10 < i10.length; h10++) {
      var u10 = i10[h10], d10 = e30.pstyle(u10), p10 = t10[u10];
      if (p10) {
        var f10 = p10.prev, g10 = null != p10.next ? p10.next : d10, y10 = false, v10 = void 0;
        f10 && (ecJ(f10.pfValue) && ecJ(g10.pfValue) ? (y10 = g10.pfValue - f10.pfValue, v10 = f10.pfValue + 1e-6 * y10) : ecJ(f10.value) && ecJ(g10.value) ? (y10 = g10.value - f10.value, v10 = f10.value + 1e-6 * y10) : ecK(f10.value) && ecK(g10.value) && (y10 = f10.value[0] !== g10.value[0] || f10.value[1] !== g10.value[1] || f10.value[2] !== g10.value[2], v10 = f10.strValue), y10 && (o10[u10] = g10.strValue, this.applyBypass(e30, u10, v10), l10 = true));
      }
    }
    if (!l10) return;
    n10.transitioning = true, new ep2(function(t11) {
      s10 > 0 ? e30.delayAnimation(s10).play().promise().then(t11) : t11();
    }).then(function() {
      return e30.animation({ style: o10, duration: a10, easing: e30.pstyle("transition-timing-function").value, queue: false }).play().promise();
    }).then(function() {
      r10.removeBypasses(e30, i10), e30.emitAndNotify("style"), n10.transitioning = false;
    });
  } else n10.transitioning && (this.removeBypasses(e30, i10), e30.emitAndNotify("style"), n10.transitioning = false);
}, eyt.checkTrigger = function(e30, t10, r10, n10, i10, a10) {
  var s10 = this.properties[t10], o10 = i10(s10);
  null != o10 && o10(r10, n10) && a10(s10);
}, eyt.checkZOrderTrigger = function(e30, t10, r10, n10) {
  var i10 = this;
  this.checkTrigger(e30, t10, r10, n10, function(e31) {
    return e31.triggersZOrder;
  }, function() {
    i10._private.cy.notify("zorder", e30);
  });
}, eyt.checkBoundsTrigger = function(e30, t10, r10, n10) {
  this.checkTrigger(e30, t10, r10, n10, function(e31) {
    return e31.triggersBounds;
  }, function(i10) {
    e30.dirtyCompoundBoundsCache(), e30.dirtyBoundingBoxCache(), i10.triggersBoundsOfParallelBeziers && "curve-style" === t10 && ("bezier" === r10 || "bezier" === n10) && e30.parallelEdges().forEach(function(e31) {
      e31.isBundledBezier() && e31.dirtyBoundingBoxCache();
    }), i10.triggersBoundsOfConnectedEdges && "display" === t10 && ("none" === r10 || "none" === n10) && e30.connectedEdges().forEach(function(e31) {
      e31.dirtyBoundingBoxCache();
    });
  });
}, eyt.checkTriggers = function(e30, t10, r10, n10) {
  e30.dirtyStyleCache(), this.checkZOrderTrigger(e30, t10, r10, n10), this.checkBoundsTrigger(e30, t10, r10, n10);
};
var eyr = {};
eyr.applyBypass = function(e30, t10, r10, n10) {
  var i10 = [];
  if ("*" === t10 || "**" === t10) {
    if (void 0 !== r10) for (var a10 = 0; a10 < this.properties.length; a10++) {
      var s10 = this.properties[a10].name, o10 = this.parse(s10, r10, true);
      o10 && i10.push(o10);
    }
  } else if (ecG(t10)) {
    var l10 = this.parse(t10, r10, true);
    l10 && i10.push(l10);
  } else {
    if (!ecZ(t10)) return false;
    n10 = r10;
    for (var h10 = Object.keys(t10), u10 = 0; u10 < h10.length; u10++) {
      var d10 = h10[u10], p10 = t10[d10];
      if (void 0 === p10 && (p10 = t10[eha(d10)]), void 0 !== p10) {
        var f10 = this.parse(d10, p10, true);
        f10 && i10.push(f10);
      }
    }
  }
  if (0 === i10.length) return false;
  for (var g10 = false, y10 = 0; y10 < e30.length; y10++) {
    for (var v10 = e30[y10], x10 = {}, b10 = void 0, k10 = 0; k10 < i10.length; k10++) {
      var w10 = i10[k10];
      if (n10) {
        var _10 = v10.pstyle(w10.name);
        b10 = x10[w10.name] = { prev: _10 };
      }
      g10 = this.applyParsedProperty(v10, euv(w10)) || g10, n10 && (b10.next = v10.pstyle(w10.name));
    }
    g10 && this.updateStyleHints(v10), n10 && this.updateTransitions(v10, x10, true);
  }
  return g10;
}, eyr.overrideBypass = function(e30, t10, r10) {
  t10 = ehi(t10);
  for (var n10 = 0; n10 < e30.length; n10++) {
    var i10 = e30[n10], a10 = i10._private.style[t10], s10 = this.properties[t10].type, o10 = s10.color, l10 = s10.mutiple, h10 = a10 ? null != a10.pfValue ? a10.pfValue : a10.value : null;
    a10 && a10.bypass ? (a10.value = r10, null != a10.pfValue && (a10.pfValue = r10), o10 ? a10.strValue = "rgb(" + r10.join(",") + ")" : l10 ? a10.strValue = r10.join(" ") : a10.strValue = "" + r10, this.updateStyleHints(i10)) : this.applyBypass(i10, t10, r10), this.checkTriggers(i10, t10, h10, r10);
  }
}, eyr.removeAllBypasses = function(e30, t10) {
  return this.removeBypasses(e30, this.propertyNames, t10);
}, eyr.removeBypasses = function(e30, t10, r10) {
  for (var n10 = 0; n10 < e30.length; n10++) {
    for (var i10 = e30[n10], a10 = {}, s10 = 0; s10 < t10.length; s10++) {
      var o10 = t10[s10], l10 = this.properties[o10], h10 = i10.pstyle(l10.name);
      if (h10 && h10.bypass) {
        var u10 = this.parse(o10, "", true), d10 = a10[l10.name] = { prev: h10 };
        this.applyParsedProperty(i10, u10), d10.next = i10.pstyle(l10.name);
      }
    }
    this.updateStyleHints(i10), r10 && this.updateTransitions(i10, a10, true);
  }
};
var eyn = {};
eyn.getEmSizeInPixels = function() {
  var e30 = this.containerCss("font-size");
  return null != e30 ? parseFloat(e30) : 1;
}, eyn.containerCss = function(e30) {
  var t10 = this._private.cy, r10 = t10.container(), n10 = t10.window();
  if (n10 && r10 && n10.getComputedStyle) return n10.getComputedStyle(r10).getPropertyValue(e30);
};
var eyi = {};
eyi.getRenderedStyle = function(e30, t10) {
  return t10 ? this.getStylePropertyValue(e30, t10, true) : this.getRawStyle(e30, true);
}, eyi.getRawStyle = function(e30, t10) {
  if (e30 = e30[0]) {
    for (var r10 = {}, n10 = 0; n10 < this.properties.length; n10++) {
      var i10 = this.properties[n10], a10 = this.getStylePropertyValue(e30, i10.name, t10);
      null != a10 && (r10[i10.name] = a10, r10[eha(i10.name)] = a10);
    }
    return r10;
  }
}, eyi.getIndexedStyle = function(e30, t10, r10, n10) {
  var i10 = e30.pstyle(t10)[r10][n10];
  return null != i10 ? i10 : e30.cy().style().getDefaultProperty(t10)[r10][0];
}, eyi.getStylePropertyValue = function(e30, t10, r10) {
  if (e30 = e30[0]) {
    var n10 = this.properties[t10];
    n10.alias && (n10 = n10.pointsTo);
    var i10 = n10.type, a10 = e30.pstyle(n10.name);
    if (a10) {
      var s10 = a10.value, o10 = a10.units, l10 = a10.strValue;
      if (r10 && i10.number && null != s10 && ecJ(s10)) {
        var h10 = e30.cy().zoom(), u10 = iM(function(e31) {
          return e31 * h10;
        }, "getRenderedValue"), d10 = iM(function(e31, t11) {
          return u10(e31) + t11;
        }, "getValueStringWithUnits"), p10 = ecK(s10);
        return (p10 ? o10.every(function(e31) {
          return null != e31;
        }) : null != o10) ? p10 ? s10.map(function(e31, t11) {
          return d10(e31, o10[t11]);
        }).join(" ") : d10(s10, o10) : p10 ? s10.map(function(e31) {
          return ecG(e31) ? e31 : "" + u10(e31);
        }).join(" ") : "" + u10(s10);
      }
      if (null != l10) return l10;
    }
    return null;
  }
}, eyi.getAnimationStartStyle = function(e30, t10) {
  for (var r10 = {}, n10 = 0; n10 < t10.length; n10++) {
    var i10 = t10[n10].name, a10 = e30.pstyle(i10);
    void 0 !== a10 && (a10 = ecZ(a10) ? this.parse(i10, a10.strValue) : this.parse(i10, a10)), a10 && (r10[i10] = a10);
  }
  return r10;
}, eyi.getPropsList = function(e30) {
  var t10 = [], r10 = this.properties;
  if (e30) for (var n10 = Object.keys(e30), i10 = 0; i10 < n10.length; i10++) {
    var a10 = n10[i10], s10 = e30[a10], o10 = r10[a10] || r10[ehi(a10)], l10 = this.parse(o10.name, s10);
    l10 && t10.push(l10);
  }
  return t10;
}, eyi.getNonDefaultPropertiesHash = function(e30, t10, r10) {
  var n10, i10, a10, s10, o10, l10, h10 = r10.slice();
  for (o10 = 0; o10 < t10.length; o10++) if (n10 = t10[o10], null != (i10 = e30.pstyle(n10, false))) {
    if (null != i10.pfValue) h10[0] = eh7(s10, h10[0]), h10[1] = eh8(s10, h10[1]);
    else for (l10 = 0, a10 = i10.strValue; l10 < a10.length; l10++) s10 = a10.charCodeAt(l10), h10[0] = eh7(s10, h10[0]), h10[1] = eh8(s10, h10[1]);
  }
  return h10;
}, eyi.getPropertiesHash = eyi.getNonDefaultPropertiesHash;
var eya = {};
eya.appendFromJson = function(e30) {
  for (var t10 = 0; t10 < e30.length; t10++) {
    var r10 = e30[t10], n10 = r10.selector, i10 = r10.style || r10.css, a10 = Object.keys(i10);
    this.selector(n10);
    for (var s10 = 0; s10 < a10.length; s10++) {
      var o10 = a10[s10], l10 = i10[o10];
      this.css(o10, l10);
    }
  }
  return this;
}, eya.fromJson = function(e30) {
  return this.resetToDefault(), this.appendFromJson(e30), this;
}, eya.json = function() {
  for (var e30 = [], t10 = this.defaultLength; t10 < this.length; t10++) {
    for (var r10 = this[t10], n10 = r10.selector, i10 = r10.properties, a10 = {}, s10 = 0; s10 < i10.length; s10++) {
      var o10 = i10[s10];
      a10[o10.name] = o10.strValue;
    }
    e30.push({ selector: n10 ? n10.toString() : "core", style: a10 });
  }
  return e30;
};
var eys = {};
eys.appendFromString = function(e30) {
  var t10, r10, n10, i10 = "" + e30;
  function a10() {
    i10 = i10.length > t10.length ? i10.substr(t10.length) : "";
  }
  function s10() {
    r10 = r10.length > n10.length ? r10.substr(n10.length) : "";
  }
  for (i10 = i10.replace(/[/][*](\s|.)+?[*][/]/g, ""), iM(a10, "removeSelAndBlockFromRemaining"), iM(s10, "removePropAndValFromRem"); !i10.match(/^\s*$/); ) {
    var o10 = i10.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);
    if (!o10) {
      eum("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: " + i10);
      break;
    }
    t10 = o10[0];
    var l10 = o10[1];
    if ("core" !== l10 && new egL(l10).invalid) {
      eum("Skipping parsing of block: Invalid selector found in string stylesheet: " + l10), a10();
      continue;
    }
    var h10 = o10[2], u10 = false;
    r10 = h10;
    for (var d10 = []; !r10.match(/^\s*$/); ) {
      var p10 = r10.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);
      if (!p10) {
        eum("Skipping parsing of block: Invalid formatting of style property and value definitions found in:" + h10), u10 = true;
        break;
      }
      n10 = p10[0];
      var f10 = p10[1], g10 = p10[2];
      if (!this.properties[f10]) {
        eum("Skipping property: Invalid property name in: " + n10), s10();
        continue;
      }
      if (!this.parse(f10, g10)) {
        eum("Skipping property: Invalid property definition in: " + n10), s10();
        continue;
      }
      d10.push({ name: f10, val: g10 }), s10();
    }
    if (u10) {
      a10();
      break;
    }
    this.selector(l10);
    for (var y10 = 0; y10 < d10.length; y10++) {
      var v10 = d10[y10];
      this.css(v10.name, v10.val);
    }
    a10();
  }
  return this;
}, eys.fromString = function(e30) {
  return this.resetToDefault(), this.appendFromString(e30), this;
};
var eyo = {};
!function() {
  var e30 = iM(function(e31) {
    return "^" + e31 + "\\s*\\(\\s*([\\w\\.]+)\\s*\\)$";
  }, "data"), t10 = iM(function(e31) {
    var t11 = ehl + "|\\w+|" + ehh + "|" + ehd + "|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";
    return "^" + e31 + "\\s*\\(([\\w\\.]+)\\s*\\,\\s*(" + ehl + ")\\s*\\,\\s*(" + ehl + ")\\s*,\\s*(" + t11 + ")\\s*\\,\\s*(" + t11 + ")\\)$";
  }, "mapData"), r10 = [`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`, "^(none)$", "^(.+)$"];
  eyo.types = { time: { number: true, min: 0, units: "s|ms", implicitUnits: "ms" }, percent: { number: true, min: 0, max: 100, units: "%", implicitUnits: "%" }, percentages: { number: true, min: 0, max: 100, units: "%", implicitUnits: "%", multiple: true }, zeroOneNumber: { number: true, min: 0, max: 1, unitless: true }, zeroOneNumbers: { number: true, min: 0, max: 1, unitless: true, multiple: true }, nOneOneNumber: { number: true, min: -1, max: 1, unitless: true }, nonNegativeInt: { number: true, min: 0, integer: true, unitless: true }, nonNegativeNumber: { number: true, min: 0, unitless: true }, position: { enums: ["parent", "origin"] }, nodeSize: { number: true, min: 0, enums: ["label"] }, number: { number: true, unitless: true }, numbers: { number: true, unitless: true, multiple: true }, positiveNumber: { number: true, unitless: true, min: 0, strictMin: true }, size: { number: true, min: 0 }, bidirectionalSize: { number: true }, bidirectionalSizeMaybePercent: { number: true, allowPercent: true }, bidirectionalSizes: { number: true, multiple: true }, sizeMaybePercent: { number: true, min: 0, allowPercent: true }, axisDirection: { enums: ["horizontal", "leftward", "rightward", "vertical", "upward", "downward", "auto"] }, paddingRelativeTo: { enums: ["width", "height", "average", "min", "max"] }, bgWH: { number: true, min: 0, allowPercent: true, enums: ["auto"], multiple: true }, bgPos: { number: true, allowPercent: true, multiple: true }, bgRelativeTo: { enums: ["inner", "include-padding"], multiple: true }, bgRepeat: { enums: ["repeat", "repeat-x", "repeat-y", "no-repeat"], multiple: true }, bgFit: { enums: ["none", "contain", "cover"], multiple: true }, bgCrossOrigin: { enums: ["anonymous", "use-credentials", "null"], multiple: true }, bgClip: { enums: ["none", "node"], multiple: true }, bgContainment: { enums: ["inside", "over"], multiple: true }, color: { color: true }, colors: { color: true, multiple: true }, fill: { enums: ["solid", "linear-gradient", "radial-gradient"] }, bool: { enums: ["yes", "no"] }, bools: { enums: ["yes", "no"], multiple: true }, lineStyle: { enums: ["solid", "dotted", "dashed"] }, lineCap: { enums: ["butt", "round", "square"] }, linePosition: { enums: ["center", "inside", "outside"] }, lineJoin: { enums: ["round", "bevel", "miter"] }, borderStyle: { enums: ["solid", "dotted", "dashed", "double"] }, curveStyle: { enums: ["bezier", "unbundled-bezier", "haystack", "segments", "straight", "straight-triangle", "taxi", "round-segments", "round-taxi"] }, radiusType: { enums: ["arc-radius", "influence-radius"], multiple: true }, fontFamily: { regex: '^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$' }, fontStyle: { enums: ["italic", "normal", "oblique"] }, fontWeight: { enums: ["normal", "bold", "bolder", "lighter", "100", "200", "300", "400", "500", "600", "800", "900", 100, 200, 300, 400, 500, 600, 700, 800, 900] }, textDecoration: { enums: ["none", "underline", "overline", "line-through"] }, textTransform: { enums: ["none", "uppercase", "lowercase"] }, textWrap: { enums: ["none", "wrap", "ellipsis"] }, textOverflowWrap: { enums: ["whitespace", "anywhere"] }, textBackgroundShape: { enums: ["rectangle", "roundrectangle", "round-rectangle"] }, nodeShape: { enums: ["rectangle", "roundrectangle", "round-rectangle", "cutrectangle", "cut-rectangle", "bottomroundrectangle", "bottom-round-rectangle", "barrel", "ellipse", "triangle", "round-triangle", "square", "pentagon", "round-pentagon", "hexagon", "round-hexagon", "concavehexagon", "concave-hexagon", "heptagon", "round-heptagon", "octagon", "round-octagon", "tag", "round-tag", "star", "diamond", "round-diamond", "vee", "rhomboid", "right-rhomboid", "polygon"] }, overlayShape: { enums: ["roundrectangle", "round-rectangle", "ellipse"] }, cornerRadius: { number: true, min: 0, units: "px|em", implicitUnits: "px", enums: ["auto"] }, compoundIncludeLabels: { enums: ["include", "exclude"] }, arrowShape: { enums: ["tee", "triangle", "triangle-tee", "circle-triangle", "triangle-cross", "triangle-backcurve", "vee", "square", "circle", "diamond", "chevron", "none"] }, arrowFill: { enums: ["filled", "hollow"] }, arrowWidth: { number: true, units: "%|px|em", implicitUnits: "px", enums: ["match-line"] }, display: { enums: ["element", "none"] }, visibility: { enums: ["hidden", "visible"] }, zCompoundDepth: { enums: ["bottom", "orphan", "auto", "top"] }, zIndexCompare: { enums: ["auto", "manual"] }, valign: { enums: ["top", "center", "bottom"] }, halign: { enums: ["left", "center", "right"] }, justification: { enums: ["left", "center", "right", "auto"] }, text: { string: true }, data: { mapping: true, regex: e30("data") }, layoutData: { mapping: true, regex: e30("layoutData") }, scratch: { mapping: true, regex: e30("scratch") }, mapData: { mapping: true, regex: t10("mapData") }, mapLayoutData: { mapping: true, regex: t10("mapLayoutData") }, mapScratch: { mapping: true, regex: t10("mapScratch") }, fn: { mapping: true, fn: true }, url: { regexes: r10, singleRegexMatchValue: true }, urls: { regexes: r10, singleRegexMatchValue: true, multiple: true }, propList: { propList: true }, angle: { number: true, units: "deg|rad", implicitUnits: "rad" }, textRotation: { number: true, units: "deg|rad", implicitUnits: "rad", enums: ["none", "autorotate"] }, polygonPointList: { number: true, multiple: true, evenMultiple: true, min: -1, max: 1, unitless: true }, edgeDistances: { enums: ["intersection", "node-position", "endpoints"] }, edgeEndpoint: { number: true, multiple: true, units: "%|px|em|deg|rad", implicitUnits: "px", enums: ["inside-to-node", "outside-to-node", "outside-to-node-or-label", "outside-to-line", "outside-to-line-or-label"], singleEnum: true, validate: iM(function(e31, t11) {
    switch (e31.length) {
      case 2:
        return "deg" !== t11[0] && "rad" !== t11[0] && "deg" !== t11[1] && "rad" !== t11[1];
      case 1:
        return ecG(e31[0]) || "deg" === t11[0] || "rad" === t11[0];
      default:
        return false;
    }
  }, "validate") }, easing: { regexes: ["^(spring)\\s*\\(\\s*(" + ehl + ")\\s*,\\s*(" + ehl + ")\\s*\\)$", "^(cubic-bezier)\\s*\\(\\s*(" + ehl + ")\\s*,\\s*(" + ehl + ")\\s*,\\s*(" + ehl + ")\\s*,\\s*(" + ehl + ")\\s*\\)$"], enums: ["linear", "ease", "ease-in", "ease-out", "ease-in-out", "ease-in-sine", "ease-out-sine", "ease-in-out-sine", "ease-in-quad", "ease-out-quad", "ease-in-out-quad", "ease-in-cubic", "ease-out-cubic", "ease-in-out-cubic", "ease-in-quart", "ease-out-quart", "ease-in-out-quart", "ease-in-quint", "ease-out-quint", "ease-in-out-quint", "ease-in-expo", "ease-out-expo", "ease-in-out-expo", "ease-in-circ", "ease-out-circ", "ease-in-out-circ"] }, gradientDirection: { enums: ["to-bottom", "to-top", "to-left", "to-right", "to-bottom-right", "to-bottom-left", "to-top-right", "to-top-left", "to-right-bottom", "to-left-bottom", "to-right-top", "to-left-top"] }, boundsExpansion: { number: true, multiple: true, min: 0, validate: iM(function(e31) {
    var t11 = e31.length;
    return 1 === t11 || 2 === t11 || 4 === t11;
  }, "validate") } };
  var n10 = { zeroNonZero: iM(function(e31, t11) {
    return (null == e31 || null == t11) && e31 !== t11 || 0 == e31 && 0 != t11 || 0 != e31 && 0 == t11;
  }, "zeroNonZero"), any: iM(function(e31, t11) {
    return e31 != t11;
  }, "any"), emptyNonEmpty: iM(function(e31, t11) {
    var r11 = ec8(e31), n11 = ec8(t11);
    return r11 && !n11 || !r11 && n11;
  }, "emptyNonEmpty") }, i10 = eyo.types, a10 = [{ name: "label", type: i10.text, triggersBounds: n10.any, triggersZOrder: n10.emptyNonEmpty }, { name: "text-rotation", type: i10.textRotation, triggersBounds: n10.any }, { name: "text-margin-x", type: i10.bidirectionalSize, triggersBounds: n10.any }, { name: "text-margin-y", type: i10.bidirectionalSize, triggersBounds: n10.any }], s10 = [{ name: "source-label", type: i10.text, triggersBounds: n10.any }, { name: "source-text-rotation", type: i10.textRotation, triggersBounds: n10.any }, { name: "source-text-margin-x", type: i10.bidirectionalSize, triggersBounds: n10.any }, { name: "source-text-margin-y", type: i10.bidirectionalSize, triggersBounds: n10.any }, { name: "source-text-offset", type: i10.size, triggersBounds: n10.any }], o10 = [{ name: "target-label", type: i10.text, triggersBounds: n10.any }, { name: "target-text-rotation", type: i10.textRotation, triggersBounds: n10.any }, { name: "target-text-margin-x", type: i10.bidirectionalSize, triggersBounds: n10.any }, { name: "target-text-margin-y", type: i10.bidirectionalSize, triggersBounds: n10.any }, { name: "target-text-offset", type: i10.size, triggersBounds: n10.any }], l10 = [{ name: "font-family", type: i10.fontFamily, triggersBounds: n10.any }, { name: "font-style", type: i10.fontStyle, triggersBounds: n10.any }, { name: "font-weight", type: i10.fontWeight, triggersBounds: n10.any }, { name: "font-size", type: i10.size, triggersBounds: n10.any }, { name: "text-transform", type: i10.textTransform, triggersBounds: n10.any }, { name: "text-wrap", type: i10.textWrap, triggersBounds: n10.any }, { name: "text-overflow-wrap", type: i10.textOverflowWrap, triggersBounds: n10.any }, { name: "text-max-width", type: i10.size, triggersBounds: n10.any }, { name: "text-outline-width", type: i10.size, triggersBounds: n10.any }, { name: "line-height", type: i10.positiveNumber, triggersBounds: n10.any }], h10 = [{ name: "text-valign", type: i10.valign, triggersBounds: n10.any }, { name: "text-halign", type: i10.halign, triggersBounds: n10.any }, { name: "color", type: i10.color }, { name: "text-outline-color", type: i10.color }, { name: "text-outline-opacity", type: i10.zeroOneNumber }, { name: "text-background-color", type: i10.color }, { name: "text-background-opacity", type: i10.zeroOneNumber }, { name: "text-background-padding", type: i10.size, triggersBounds: n10.any }, { name: "text-border-opacity", type: i10.zeroOneNumber }, { name: "text-border-color", type: i10.color }, { name: "text-border-width", type: i10.size, triggersBounds: n10.any }, { name: "text-border-style", type: i10.borderStyle, triggersBounds: n10.any }, { name: "text-background-shape", type: i10.textBackgroundShape, triggersBounds: n10.any }, { name: "text-justification", type: i10.justification }], u10 = [{ name: "events", type: i10.bool, triggersZOrder: n10.any }, { name: "text-events", type: i10.bool, triggersZOrder: n10.any }], d10 = [{ name: "display", type: i10.display, triggersZOrder: n10.any, triggersBounds: n10.any, triggersBoundsOfConnectedEdges: true }, { name: "visibility", type: i10.visibility, triggersZOrder: n10.any }, { name: "opacity", type: i10.zeroOneNumber, triggersZOrder: n10.zeroNonZero }, { name: "text-opacity", type: i10.zeroOneNumber }, { name: "min-zoomed-font-size", type: i10.size }, { name: "z-compound-depth", type: i10.zCompoundDepth, triggersZOrder: n10.any }, { name: "z-index-compare", type: i10.zIndexCompare, triggersZOrder: n10.any }, { name: "z-index", type: i10.number, triggersZOrder: n10.any }], p10 = [{ name: "overlay-padding", type: i10.size, triggersBounds: n10.any }, { name: "overlay-color", type: i10.color }, { name: "overlay-opacity", type: i10.zeroOneNumber, triggersBounds: n10.zeroNonZero }, { name: "overlay-shape", type: i10.overlayShape, triggersBounds: n10.any }, { name: "overlay-corner-radius", type: i10.cornerRadius }], f10 = [{ name: "underlay-padding", type: i10.size, triggersBounds: n10.any }, { name: "underlay-color", type: i10.color }, { name: "underlay-opacity", type: i10.zeroOneNumber, triggersBounds: n10.zeroNonZero }, { name: "underlay-shape", type: i10.overlayShape, triggersBounds: n10.any }, { name: "underlay-corner-radius", type: i10.cornerRadius }], g10 = [{ name: "transition-property", type: i10.propList }, { name: "transition-duration", type: i10.time }, { name: "transition-delay", type: i10.time }, { name: "transition-timing-function", type: i10.easing }], y10 = iM(function(e31, t11) {
    return "label" === t11.value ? -e31.poolIndex() : t11.pfValue;
  }, "nodeSizeHashOverride"), v10 = [{ name: "height", type: i10.nodeSize, triggersBounds: n10.any, hashOverride: y10 }, { name: "width", type: i10.nodeSize, triggersBounds: n10.any, hashOverride: y10 }, { name: "shape", type: i10.nodeShape, triggersBounds: n10.any }, { name: "shape-polygon-points", type: i10.polygonPointList, triggersBounds: n10.any }, { name: "corner-radius", type: i10.cornerRadius }, { name: "background-color", type: i10.color }, { name: "background-fill", type: i10.fill }, { name: "background-opacity", type: i10.zeroOneNumber }, { name: "background-blacken", type: i10.nOneOneNumber }, { name: "background-gradient-stop-colors", type: i10.colors }, { name: "background-gradient-stop-positions", type: i10.percentages }, { name: "background-gradient-direction", type: i10.gradientDirection }, { name: "padding", type: i10.sizeMaybePercent, triggersBounds: n10.any }, { name: "padding-relative-to", type: i10.paddingRelativeTo, triggersBounds: n10.any }, { name: "bounds-expansion", type: i10.boundsExpansion, triggersBounds: n10.any }], x10 = [{ name: "border-color", type: i10.color }, { name: "border-opacity", type: i10.zeroOneNumber }, { name: "border-width", type: i10.size, triggersBounds: n10.any }, { name: "border-style", type: i10.borderStyle }, { name: "border-cap", type: i10.lineCap }, { name: "border-join", type: i10.lineJoin }, { name: "border-dash-pattern", type: i10.numbers }, { name: "border-dash-offset", type: i10.number }, { name: "border-position", type: i10.linePosition }], b10 = [{ name: "outline-color", type: i10.color }, { name: "outline-opacity", type: i10.zeroOneNumber }, { name: "outline-width", type: i10.size, triggersBounds: n10.any }, { name: "outline-style", type: i10.borderStyle }, { name: "outline-offset", type: i10.size, triggersBounds: n10.any }], k10 = [{ name: "background-image", type: i10.urls }, { name: "background-image-crossorigin", type: i10.bgCrossOrigin }, { name: "background-image-opacity", type: i10.zeroOneNumbers }, { name: "background-image-containment", type: i10.bgContainment }, { name: "background-image-smoothing", type: i10.bools }, { name: "background-position-x", type: i10.bgPos }, { name: "background-position-y", type: i10.bgPos }, { name: "background-width-relative-to", type: i10.bgRelativeTo }, { name: "background-height-relative-to", type: i10.bgRelativeTo }, { name: "background-repeat", type: i10.bgRepeat }, { name: "background-fit", type: i10.bgFit }, { name: "background-clip", type: i10.bgClip }, { name: "background-width", type: i10.bgWH }, { name: "background-height", type: i10.bgWH }, { name: "background-offset-x", type: i10.bgPos }, { name: "background-offset-y", type: i10.bgPos }], w10 = [{ name: "position", type: i10.position, triggersBounds: n10.any }, { name: "compound-sizing-wrt-labels", type: i10.compoundIncludeLabels, triggersBounds: n10.any }, { name: "min-width", type: i10.size, triggersBounds: n10.any }, { name: "min-width-bias-left", type: i10.sizeMaybePercent, triggersBounds: n10.any }, { name: "min-width-bias-right", type: i10.sizeMaybePercent, triggersBounds: n10.any }, { name: "min-height", type: i10.size, triggersBounds: n10.any }, { name: "min-height-bias-top", type: i10.sizeMaybePercent, triggersBounds: n10.any }, { name: "min-height-bias-bottom", type: i10.sizeMaybePercent, triggersBounds: n10.any }], _10 = [{ name: "line-style", type: i10.lineStyle }, { name: "line-color", type: i10.color }, { name: "line-fill", type: i10.fill }, { name: "line-cap", type: i10.lineCap }, { name: "line-opacity", type: i10.zeroOneNumber }, { name: "line-dash-pattern", type: i10.numbers }, { name: "line-dash-offset", type: i10.number }, { name: "line-outline-width", type: i10.size }, { name: "line-outline-color", type: i10.color }, { name: "line-gradient-stop-colors", type: i10.colors }, { name: "line-gradient-stop-positions", type: i10.percentages }, { name: "curve-style", type: i10.curveStyle, triggersBounds: n10.any, triggersBoundsOfParallelBeziers: true }, { name: "haystack-radius", type: i10.zeroOneNumber, triggersBounds: n10.any }, { name: "source-endpoint", type: i10.edgeEndpoint, triggersBounds: n10.any }, { name: "target-endpoint", type: i10.edgeEndpoint, triggersBounds: n10.any }, { name: "control-point-step-size", type: i10.size, triggersBounds: n10.any }, { name: "control-point-distances", type: i10.bidirectionalSizes, triggersBounds: n10.any }, { name: "control-point-weights", type: i10.numbers, triggersBounds: n10.any }, { name: "segment-distances", type: i10.bidirectionalSizes, triggersBounds: n10.any }, { name: "segment-weights", type: i10.numbers, triggersBounds: n10.any }, { name: "segment-radii", type: i10.numbers, triggersBounds: n10.any }, { name: "radius-type", type: i10.radiusType, triggersBounds: n10.any }, { name: "taxi-turn", type: i10.bidirectionalSizeMaybePercent, triggersBounds: n10.any }, { name: "taxi-turn-min-distance", type: i10.size, triggersBounds: n10.any }, { name: "taxi-direction", type: i10.axisDirection, triggersBounds: n10.any }, { name: "taxi-radius", type: i10.number, triggersBounds: n10.any }, { name: "edge-distances", type: i10.edgeDistances, triggersBounds: n10.any }, { name: "arrow-scale", type: i10.positiveNumber, triggersBounds: n10.any }, { name: "loop-direction", type: i10.angle, triggersBounds: n10.any }, { name: "loop-sweep", type: i10.angle, triggersBounds: n10.any }, { name: "source-distance-from-node", type: i10.size, triggersBounds: n10.any }, { name: "target-distance-from-node", type: i10.size, triggersBounds: n10.any }], T10 = [{ name: "ghost", type: i10.bool, triggersBounds: n10.any }, { name: "ghost-offset-x", type: i10.bidirectionalSize, triggersBounds: n10.any }, { name: "ghost-offset-y", type: i10.bidirectionalSize, triggersBounds: n10.any }, { name: "ghost-opacity", type: i10.zeroOneNumber }], S10 = [{ name: "selection-box-color", type: i10.color }, { name: "selection-box-opacity", type: i10.zeroOneNumber }, { name: "selection-box-border-color", type: i10.color }, { name: "selection-box-border-width", type: i10.size }, { name: "active-bg-color", type: i10.color }, { name: "active-bg-opacity", type: i10.zeroOneNumber }, { name: "active-bg-size", type: i10.size }, { name: "outside-texture-bg-color", type: i10.color }, { name: "outside-texture-bg-opacity", type: i10.zeroOneNumber }], C10 = [];
  eyo.pieBackgroundN = 16, C10.push({ name: "pie-size", type: i10.sizeMaybePercent });
  for (var E10 = 1; E10 <= eyo.pieBackgroundN; E10++) C10.push({ name: "pie-" + E10 + "-background-color", type: i10.color }), C10.push({ name: "pie-" + E10 + "-background-size", type: i10.percent }), C10.push({ name: "pie-" + E10 + "-background-opacity", type: i10.zeroOneNumber });
  var A10 = [], L10 = eyo.arrowPrefixes = ["source", "mid-source", "target", "mid-target"];
  [{ name: "arrow-shape", type: i10.arrowShape, triggersBounds: n10.any }, { name: "arrow-color", type: i10.color }, { name: "arrow-fill", type: i10.arrowFill }, { name: "arrow-width", type: i10.arrowWidth }].forEach(function(e31) {
    L10.forEach(function(t11) {
      var r11 = t11 + "-" + e31.name, n11 = e31.type, i11 = e31.triggersBounds;
      A10.push({ name: r11, type: n11, triggersBounds: i11 });
    });
  }, {});
  var I10 = eyo.properties = [].concat(u10, g10, d10, p10, f10, T10, h10, l10, a10, s10, o10, v10, x10, b10, k10, C10, w10, _10, A10, S10), M10 = eyo.propertyGroups = { behavior: u10, transition: g10, visibility: d10, overlay: p10, underlay: f10, ghost: T10, commonLabel: h10, labelDimensions: l10, mainLabel: a10, sourceLabel: s10, targetLabel: o10, nodeBody: v10, nodeBorder: x10, nodeOutline: b10, backgroundImage: k10, pie: C10, compound: w10, edgeLine: _10, edgeArrow: A10, core: S10 }, N10 = eyo.propertyGroupNames = {};
  (eyo.propertyGroupKeys = Object.keys(M10)).forEach(function(e31) {
    N10[e31] = M10[e31].map(function(e32) {
      return e32.name;
    }), M10[e31].forEach(function(t11) {
      return t11.groupKey = e31;
    });
  });
  var R10 = eyo.aliases = [{ name: "content", pointsTo: "label" }, { name: "control-point-distance", pointsTo: "control-point-distances" }, { name: "control-point-weight", pointsTo: "control-point-weights" }, { name: "segment-distance", pointsTo: "segment-distances" }, { name: "segment-weight", pointsTo: "segment-weights" }, { name: "segment-radius", pointsTo: "segment-radii" }, { name: "edge-text-rotation", pointsTo: "text-rotation" }, { name: "padding-left", pointsTo: "padding" }, { name: "padding-right", pointsTo: "padding" }, { name: "padding-top", pointsTo: "padding" }, { name: "padding-bottom", pointsTo: "padding" }];
  eyo.propertyNames = I10.map(function(e31) {
    return e31.name;
  });
  for (var D10 = 0; D10 < I10.length; D10++) {
    var O10 = I10[D10];
    I10[O10.name] = O10;
  }
  for (var $10 = 0; $10 < R10.length; $10++) {
    var P10 = R10[$10], B10 = I10[P10.pointsTo], F10 = { name: P10.name, alias: true, pointsTo: B10 };
    I10.push(F10), I10[P10.name] = F10;
  }
}(), eyo.getDefaultProperty = function(e30) {
  return this.getDefaultProperties()[e30];
}, eyo.getDefaultProperties = function() {
  var e30 = this._private;
  if (null != e30.defaultProperties) return e30.defaultProperties;
  for (var t10 = ehg({ "selection-box-color": "#ddd", "selection-box-opacity": 0.65, "selection-box-border-color": "#aaa", "selection-box-border-width": 1, "active-bg-color": "black", "active-bg-opacity": 0.15, "active-bg-size": 30, "outside-texture-bg-color": "#000", "outside-texture-bg-opacity": 0.125, events: "yes", "text-events": "no", "text-valign": "top", "text-halign": "center", "text-justification": "auto", "line-height": 1, color: "#000", "text-outline-color": "#000", "text-outline-width": 0, "text-outline-opacity": 1, "text-opacity": 1, "text-decoration": "none", "text-transform": "none", "text-wrap": "none", "text-overflow-wrap": "whitespace", "text-max-width": 9999, "text-background-color": "#000", "text-background-opacity": 0, "text-background-shape": "rectangle", "text-background-padding": 0, "text-border-opacity": 0, "text-border-width": 0, "text-border-style": "solid", "text-border-color": "#000", "font-family": "Helvetica Neue, Helvetica, sans-serif", "font-style": "normal", "font-weight": "normal", "font-size": 16, "min-zoomed-font-size": 0, "text-rotation": "none", "source-text-rotation": "none", "target-text-rotation": "none", visibility: "visible", display: "element", opacity: 1, "z-compound-depth": "auto", "z-index-compare": "auto", "z-index": 0, label: "", "text-margin-x": 0, "text-margin-y": 0, "source-label": "", "source-text-offset": 0, "source-text-margin-x": 0, "source-text-margin-y": 0, "target-label": "", "target-text-offset": 0, "target-text-margin-x": 0, "target-text-margin-y": 0, "overlay-opacity": 0, "overlay-color": "#000", "overlay-padding": 10, "overlay-shape": "round-rectangle", "overlay-corner-radius": "auto", "underlay-opacity": 0, "underlay-color": "#000", "underlay-padding": 10, "underlay-shape": "round-rectangle", "underlay-corner-radius": "auto", "transition-property": "none", "transition-duration": 0, "transition-delay": 0, "transition-timing-function": "linear", "background-blacken": 0, "background-color": "#999", "background-fill": "solid", "background-opacity": 1, "background-image": "none", "background-image-crossorigin": "anonymous", "background-image-opacity": 1, "background-image-containment": "inside", "background-image-smoothing": "yes", "background-position-x": "50%", "background-position-y": "50%", "background-offset-x": 0, "background-offset-y": 0, "background-width-relative-to": "include-padding", "background-height-relative-to": "include-padding", "background-repeat": "no-repeat", "background-fit": "none", "background-clip": "node", "background-width": "auto", "background-height": "auto", "border-color": "#000", "border-opacity": 1, "border-width": 0, "border-style": "solid", "border-dash-pattern": [4, 2], "border-dash-offset": 0, "border-cap": "butt", "border-join": "miter", "border-position": "center", "outline-color": "#999", "outline-opacity": 1, "outline-width": 0, "outline-offset": 0, "outline-style": "solid", height: 30, width: 30, shape: "ellipse", "shape-polygon-points": "-1, -1,   1, -1,   1, 1,   -1, 1", "corner-radius": "auto", "bounds-expansion": 0, "background-gradient-direction": "to-bottom", "background-gradient-stop-colors": "#999", "background-gradient-stop-positions": "0%", ghost: "no", "ghost-offset-y": 0, "ghost-offset-x": 0, "ghost-opacity": 0, padding: 0, "padding-relative-to": "width", position: "origin", "compound-sizing-wrt-labels": "include", "min-width": 0, "min-width-bias-left": 0, "min-width-bias-right": 0, "min-height": 0, "min-height-bias-top": 0, "min-height-bias-bottom": 0 }, { "pie-size": "100%" }, [{ name: "pie-{{i}}-background-color", value: "black" }, { name: "pie-{{i}}-background-size", value: "0%" }, { name: "pie-{{i}}-background-opacity", value: 1 }].reduce(function(e31, t11) {
    for (var r11 = 1; r11 <= eyo.pieBackgroundN; r11++) {
      var n11 = t11.name.replace("{{i}}", r11), i11 = t11.value;
      e31[n11] = i11;
    }
    return e31;
  }, {}), { "line-style": "solid", "line-color": "#999", "line-fill": "solid", "line-cap": "butt", "line-opacity": 1, "line-outline-width": 0, "line-outline-color": "#000", "line-gradient-stop-colors": "#999", "line-gradient-stop-positions": "0%", "control-point-step-size": 40, "control-point-weights": 0.5, "segment-weights": 0.5, "segment-distances": 20, "segment-radii": 15, "radius-type": "arc-radius", "taxi-turn": "50%", "taxi-radius": 15, "taxi-turn-min-distance": 10, "taxi-direction": "auto", "edge-distances": "intersection", "curve-style": "haystack", "haystack-radius": 0, "arrow-scale": 1, "loop-direction": "-45deg", "loop-sweep": "-90deg", "source-distance-from-node": 0, "target-distance-from-node": 0, "source-endpoint": "outside-to-node", "target-endpoint": "outside-to-node", "line-dash-pattern": [6, 3], "line-dash-offset": 0 }, [{ name: "arrow-shape", value: "none" }, { name: "arrow-color", value: "#999" }, { name: "arrow-fill", value: "filled" }, { name: "arrow-width", value: 1 }].reduce(function(e31, t11) {
    return eyo.arrowPrefixes.forEach(function(r11) {
      var n11 = r11 + "-" + t11.name, i11 = t11.value;
      e31[n11] = i11;
    }), e31;
  }, {})), r10 = {}, n10 = 0; n10 < this.properties.length; n10++) {
    var i10 = this.properties[n10];
    if (!i10.pointsTo) {
      var a10 = i10.name, s10 = t10[a10], o10 = this.parse(a10, s10);
      r10[a10] = o10;
    }
  }
  return e30.defaultProperties = r10, e30.defaultProperties;
}, eyo.addDefaultStylesheet = function() {
  this.selector(":parent").css({ shape: "rectangle", padding: 10, "background-color": "#eee", "border-color": "#ccc", "border-width": 1 }).selector("edge").css({ width: 3 }).selector(":loop").css({ "curve-style": "bezier" }).selector("edge:compound").css({ "curve-style": "bezier", "source-endpoint": "outside-to-line", "target-endpoint": "outside-to-line" }).selector(":selected").css({ "background-color": "#0169D9", "line-color": "#0169D9", "source-arrow-color": "#0169D9", "target-arrow-color": "#0169D9", "mid-source-arrow-color": "#0169D9", "mid-target-arrow-color": "#0169D9" }).selector(":parent:selected").css({ "background-color": "#CCE1F9", "border-color": "#aec8e5" }).selector(":active").css({ "overlay-color": "black", "overlay-padding": 10, "overlay-opacity": 0.25 }), this.defaultLength = this.length;
};
var eyl = {};
eyl.parse = function(e30, t10, r10, n10) {
  if (ecX(t10)) return this.parseImplWarn(e30, t10, r10, n10);
  var i10, a10 = eui(e30, "" + t10, r10 ? "t" : "f", "mapping" === n10 || true === n10 || false === n10 || null == n10 ? "dontcare" : n10), s10 = this.propCache = this.propCache || [];
  return (i10 = s10[a10]) || (i10 = s10[a10] = this.parseImplWarn(e30, t10, r10, n10)), (r10 || "mapping" === n10) && (i10 = euv(i10)) && (i10.value = euv(i10.value)), i10;
}, eyl.parseImplWarn = function(e30, t10, r10, n10) {
  var i10 = this.parseImpl(e30, t10, r10, n10);
  return i10 || null == t10 || eum("The style property `".concat(e30, ": ").concat(t10, "` is invalid")), i10 && ("width" === i10.name || "height" === i10.name) && "label" === t10 && eum("The style value of `label` is deprecated for `" + i10.name + "`"), i10;
}, eyl.parseImpl = function(e30, t10, r10, n10) {
  e30 = ehi(e30);
  var i10 = this.properties[e30], a10 = t10, s10 = this.types;
  if (!i10 || void 0 === t10) return null;
  i10.alias && (e30 = (i10 = i10.pointsTo).name);
  var o10 = ecG(t10);
  o10 && (t10 = t10.trim());
  var l10 = i10.type;
  if (!l10) return null;
  if (r10 && ("" === t10 || null === t10)) return { name: e30, value: t10, bypass: true, deleteBypass: true };
  if (ecX(t10)) return { name: e30, value: t10, strValue: "fn", mapped: s10.fn, bypass: r10 };
  if (!o10 || n10 || t10.length < 7 || "a" !== t10[1]) ;
  else if (t10.length >= 7 && "d" === t10[0] && (y10 = new RegExp(s10.data.regex).exec(t10))) {
    if (r10) return false;
    var h10 = s10.data;
    return { name: e30, value: y10, strValue: "" + t10, mapped: h10, field: y10[1], bypass: r10 };
  } else if (t10.length >= 10 && "m" === t10[0] && (v10 = new RegExp(s10.mapData.regex).exec(t10))) {
    if (r10 || l10.multiple) return false;
    var u10 = s10.mapData;
    if (!(l10.color || l10.number)) return false;
    var d10 = this.parse(e30, v10[4]);
    if (!d10 || d10.mapped) return false;
    var p10 = this.parse(e30, v10[5]);
    if (!p10 || p10.mapped) return false;
    if (d10.pfValue === p10.pfValue || d10.strValue === p10.strValue) return eum("`" + e30 + ": " + t10 + "` is not a valid mapper because the output range is zero; converting to `" + e30 + ": " + d10.strValue + "`"), this.parse(e30, d10.strValue);
    if (l10.color) {
      var f10 = d10.value, g10 = p10.value;
      if (f10[0] === g10[0] && f10[1] === g10[1] && f10[2] === g10[2] && (f10[3] === g10[3] || (null == f10[3] || 1 === f10[3]) && (null == g10[3] || 1 === g10[3]))) return false;
    }
    return { name: e30, value: v10, strValue: "" + t10, mapped: u10, field: v10[1], fieldMin: parseFloat(v10[2]), fieldMax: parseFloat(v10[3]), valueMin: d10.value, valueMax: p10.value, bypass: r10 };
  }
  if (l10.multiple && "multiple" !== n10) {
    if (x10 = o10 ? t10.split(/\s+/) : ecK(t10) ? t10 : [t10], l10.evenMultiple && x10.length % 2 != 0) return null;
    for (var y10, v10, x10, b10 = [], k10 = [], w10 = [], _10 = "", T10 = false, S10 = 0; S10 < x10.length; S10++) {
      var C10 = this.parse(e30, x10[S10], r10, "multiple");
      T10 = T10 || ecG(C10.value), b10.push(C10.value), w10.push(null != C10.pfValue ? C10.pfValue : C10.value), k10.push(C10.units), _10 += (S10 > 0 ? " " : "") + C10.strValue;
    }
    return l10.validate && !l10.validate(b10, k10) ? null : l10.singleEnum && T10 ? 1 === b10.length && ecG(b10[0]) ? { name: e30, value: b10[0], strValue: b10[0], bypass: r10 } : null : { name: e30, value: b10, pfValue: w10, strValue: _10, bypass: r10, units: k10 };
  }
  var E10 = iM(function() {
    for (var n11 = 0; n11 < l10.enums.length; n11++) if (l10.enums[n11] === t10) return { name: e30, value: t10, strValue: "" + t10, bypass: r10 };
    return null;
  }, "checkEnums");
  if (l10.number) {
    var A10, L10 = "px";
    if (l10.units && (A10 = l10.units), l10.implicitUnits && (L10 = l10.implicitUnits), !l10.unitless) {
      if (o10) {
        var I10 = "px|em" + (l10.allowPercent ? "|\\%" : "");
        A10 && (I10 = A10);
        var M10 = t10.match("^(" + ehl + ")(" + I10 + ")?$");
        M10 && (t10 = M10[1], A10 = M10[2] || L10);
      } else (!A10 || l10.implicitUnits) && (A10 = L10);
    }
    if (isNaN(t10 = parseFloat(t10)) && void 0 === l10.enums) return null;
    if (isNaN(t10) && void 0 !== l10.enums) return t10 = a10, E10();
    if (l10.integer && !ec0(t10) || void 0 !== l10.min && (t10 < l10.min || l10.strictMin && t10 === l10.min) || void 0 !== l10.max && (t10 > l10.max || l10.strictMax && t10 === l10.max)) return null;
    var N10 = { name: e30, value: t10, strValue: "" + t10 + (A10 || ""), units: A10, bypass: r10 };
    return l10.unitless || "px" !== A10 && "em" !== A10 ? N10.pfValue = t10 : N10.pfValue = "px" !== A10 && A10 ? this.getEmSizeInPixels() * t10 : t10, ("ms" === A10 || "s" === A10) && (N10.pfValue = "ms" === A10 ? t10 : 1e3 * t10), ("deg" === A10 || "rad" === A10) && (N10.pfValue = "rad" === A10 ? t10 : eu3(t10)), "%" === A10 && (N10.pfValue = t10 / 100), N10;
  }
  if (l10.propList) {
    var R10 = [], D10 = "" + t10;
    if ("none" === D10) ;
    else {
      for (var O10 = D10.split(/\s*,\s*|\s+/), $10 = 0; $10 < O10.length; $10++) {
        var P10 = O10[$10].trim();
        this.properties[P10] ? R10.push(P10) : eum("`" + P10 + "` is not a valid property name");
      }
      if (0 === R10.length) return null;
    }
    return { name: e30, value: R10, strValue: 0 === R10.length ? "none" : R10.join(" "), bypass: r10 };
  }
  if (l10.color) {
    var B10 = ehb(t10);
    return B10 ? { name: e30, value: B10, pfValue: B10, strValue: "rgb(" + B10[0] + "," + B10[1] + "," + B10[2] + ")", bypass: r10 } : null;
  }
  if (l10.regex || l10.regexes) {
    if (l10.enums) {
      var F10 = E10();
      if (F10) return F10;
    }
    for (var z10 = l10.regexes ? l10.regexes : [l10.regex], j10 = 0; j10 < z10.length; j10++) {
      var q10 = new RegExp(z10[j10]).exec(t10);
      if (q10) return { name: e30, value: l10.singleRegexMatchValue ? q10[1] : q10, strValue: "" + t10, bypass: r10 };
    }
    return null;
  }
  return l10.string ? { name: e30, value: "" + t10, strValue: "" + t10, bypass: r10 } : l10.enums ? E10() : null;
};
var eyc = iM(function e26(t10) {
  if (!(this instanceof e26)) return new e26(t10);
  if (!ec5(t10)) {
    euf("A style must have a core reference");
    return;
  }
  this._private = { cy: t10, coreStyle: {} }, this.length = 0, this.resetToDefault();
}, "Style"), eyh = eyc.prototype;
eyh.instanceString = function() {
  return "style";
}, eyh.clear = function() {
  for (var e30 = this._private, t10 = e30.cy.elements(), r10 = 0; r10 < this.length; r10++) this[r10] = void 0;
  return this.length = 0, e30.contextStyles = {}, e30.propDiffs = {}, this.cleanElements(t10, true), t10.forEach(function(e31) {
    var t11 = e31[0]._private;
    t11.styleDirty = true, t11.appliedInitStyle = false;
  }), this;
}, eyh.resetToDefault = function() {
  return this.clear(), this.addDefaultStylesheet(), this;
}, eyh.core = function(e30) {
  return this._private.coreStyle[e30] || this.getDefaultProperty(e30);
}, eyh.selector = function(e30) {
  var t10 = "core" === e30 ? null : new egL(e30), r10 = this.length++;
  return this[r10] = { selector: t10, properties: [], mappedProperties: [], index: r10 }, this;
}, eyh.css = function() {
  var e30 = arguments;
  if (1 === e30.length) for (var t10 = e30[0], r10 = 0; r10 < this.properties.length; r10++) {
    var n10 = this.properties[r10], i10 = t10[n10.name];
    void 0 === i10 && (i10 = t10[eha(n10.name)]), void 0 !== i10 && this.cssRule(n10.name, i10);
  }
  else 2 === e30.length && this.cssRule(e30[0], e30[1]);
  return this;
}, eyh.style = eyh.css, eyh.cssRule = function(e30, t10) {
  var r10 = this.parse(e30, t10);
  if (r10) {
    var n10 = this.length - 1;
    this[n10].properties.push(r10), this[n10].properties[r10.name] = r10, r10.name.match(/pie-(\d+)-background-size/) && r10.value && (this._private.hasPie = true), r10.mapped && this[n10].mappedProperties.push(r10), this[n10].selector || (this._private.coreStyle[r10.name] = r10);
  }
  return this;
}, eyh.append = function(e30) {
  return ec6(e30) ? e30.appendToStyle(this) : ecK(e30) ? this.appendFromJson(e30) : ecG(e30) && this.appendFromString(e30), this;
}, eyc.fromJson = function(e30, t10) {
  var r10 = new eyc(e30);
  return r10.fromJson(t10), r10;
}, eyc.fromString = function(e30, t10) {
  return new eyc(e30).fromString(t10);
}, [eyt, eyr, eyn, eyi, eya, eys, eyo, eyl].forEach(function(e30) {
  ehg(eyh, e30);
}), eyc.types = eyh.types, eyc.properties = eyh.properties, eyc.propertyGroups = eyh.propertyGroups, eyc.propertyGroupNames = eyh.propertyGroupNames, eyc.propertyGroupKeys = eyh.propertyGroupKeys;
var eyu = { style: iM(function(e30) {
  return e30 && this.setStyle(e30).update(), this._private.style;
}, "style"), setStyle: iM(function(e30) {
  var t10 = this._private;
  return ec6(e30) ? t10.style = e30.generateStyle(this) : ecK(e30) ? t10.style = eyc.fromJson(this, e30) : ecG(e30) ? t10.style = eyc.fromString(this, e30) : t10.style = eyc(this), t10.style;
}, "setStyle"), updateStyle: iM(function() {
  this.mutableElements().updateStyle();
}, "updateStyle") }, eyd = { autolock: iM(function(e30) {
  return void 0 === e30 ? this._private.autolock : (this._private.autolock = !!e30, this);
}, "autolock"), autoungrabify: iM(function(e30) {
  return void 0 === e30 ? this._private.autoungrabify : (this._private.autoungrabify = !!e30, this);
}, "autoungrabify"), autounselectify: iM(function(e30) {
  return void 0 === e30 ? this._private.autounselectify : (this._private.autounselectify = !!e30, this);
}, "autounselectify"), selectionType: iM(function(e30) {
  var t10 = this._private;
  return (null == t10.selectionType && (t10.selectionType = "single"), void 0 === e30) ? t10.selectionType : (("additive" === e30 || "single" === e30) && (t10.selectionType = e30), this);
}, "selectionType"), panningEnabled: iM(function(e30) {
  return void 0 === e30 ? this._private.panningEnabled : (this._private.panningEnabled = !!e30, this);
}, "panningEnabled"), userPanningEnabled: iM(function(e30) {
  return void 0 === e30 ? this._private.userPanningEnabled : (this._private.userPanningEnabled = !!e30, this);
}, "userPanningEnabled"), zoomingEnabled: iM(function(e30) {
  return void 0 === e30 ? this._private.zoomingEnabled : (this._private.zoomingEnabled = !!e30, this);
}, "zoomingEnabled"), userZoomingEnabled: iM(function(e30) {
  return void 0 === e30 ? this._private.userZoomingEnabled : (this._private.userZoomingEnabled = !!e30, this);
}, "userZoomingEnabled"), boxSelectionEnabled: iM(function(e30) {
  return void 0 === e30 ? this._private.boxSelectionEnabled : (this._private.boxSelectionEnabled = !!e30, this);
}, "boxSelectionEnabled"), pan: iM(function() {
  var e30, t10, r10, n10, i10, a10 = arguments, s10 = this._private.pan;
  switch (a10.length) {
    case 0:
      return s10;
    case 1:
      if (ecG(a10[0])) return s10[e30 = a10[0]];
      if (ecZ(a10[0])) {
        if (!this._private.panningEnabled) return this;
        n10 = (r10 = a10[0]).x, i10 = r10.y, ecJ(n10) && (s10.x = n10), ecJ(i10) && (s10.y = i10), this.emit("pan viewport");
      }
      break;
    case 2:
      if (!this._private.panningEnabled) return this;
      e30 = a10[0], t10 = a10[1], ("x" === e30 || "y" === e30) && ecJ(t10) && (s10[e30] = t10), this.emit("pan viewport");
  }
  return this.notify("viewport"), this;
}, "pan"), panBy: iM(function(e30, t10) {
  var r10, n10, i10, a10 = arguments, s10 = this._private.pan;
  if (!this._private.panningEnabled) return this;
  switch (a10.length) {
    case 1:
      ecZ(e30) && (n10 = (r10 = a10[0]).x, i10 = r10.y, ecJ(n10) && (s10.x += n10), ecJ(i10) && (s10.y += i10), this.emit("pan viewport"));
      break;
    case 2:
      ("x" === e30 || "y" === e30) && ecJ(t10) && (s10[e30] += t10), this.emit("pan viewport");
  }
  return this.notify("viewport"), this;
}, "panBy"), fit: iM(function(e30, t10) {
  var r10 = this.getFitViewport(e30, t10);
  if (r10) {
    var n10 = this._private;
    n10.zoom = r10.zoom, n10.pan = r10.pan, this.emit("pan zoom viewport"), this.notify("viewport");
  }
  return this;
}, "fit"), getFitViewport: iM(function(e30, t10) {
  if (ecJ(e30) && void 0 === t10 && (t10 = e30, e30 = void 0), this._private.panningEnabled && this._private.zoomingEnabled) {
    if (ecG(e30)) {
      var r10, n10, i10 = e30;
      e30 = this.$(i10);
    } else if (ehe(e30)) {
      var a10 = e30;
      (r10 = { x1: a10.x1, y1: a10.y1, x2: a10.x2, y2: a10.y2 }).w = r10.x2 - r10.x1, r10.h = r10.y2 - r10.y1;
    } else ec2(e30) || (e30 = this.mutableElements());
    if (!(ec2(e30) && e30.empty())) {
      r10 = r10 || e30.boundingBox();
      var s10 = this.width(), o10 = this.height();
      if (t10 = ecJ(t10) ? t10 : 0, !isNaN(s10) && !isNaN(o10) && s10 > 0 && o10 > 0 && !isNaN(r10.w) && !isNaN(r10.h) && r10.w > 0 && r10.h > 0) {
        n10 = (n10 = (n10 = Math.min((s10 - 2 * t10) / r10.w, (o10 - 2 * t10) / r10.h)) > this._private.maxZoom ? this._private.maxZoom : n10) < this._private.minZoom ? this._private.minZoom : n10;
        var l10 = { x: (s10 - n10 * (r10.x1 + r10.x2)) / 2, y: (o10 - n10 * (r10.y1 + r10.y2)) / 2 };
        return { zoom: n10, pan: l10 };
      }
    }
  }
}, "getFitViewport"), zoomRange: iM(function(e30, t10) {
  var r10 = this._private;
  if (null == t10) {
    var n10 = e30;
    e30 = n10.min, t10 = n10.max;
  }
  return ecJ(e30) && ecJ(t10) && e30 <= t10 ? (r10.minZoom = e30, r10.maxZoom = t10) : ecJ(e30) && void 0 === t10 && e30 <= r10.maxZoom ? r10.minZoom = e30 : ecJ(t10) && void 0 === e30 && t10 >= r10.minZoom && (r10.maxZoom = t10), this;
}, "zoomRange"), minZoom: iM(function(e30) {
  return void 0 === e30 ? this._private.minZoom : this.zoomRange({ min: e30 });
}, "minZoom"), maxZoom: iM(function(e30) {
  return void 0 === e30 ? this._private.maxZoom : this.zoomRange({ max: e30 });
}, "maxZoom"), getZoomedViewport: iM(function(e30) {
  var t10, r10, n10 = this._private, i10 = n10.pan, a10 = n10.zoom, s10 = false;
  if (n10.zoomingEnabled || (s10 = true), ecJ(e30) ? r10 = e30 : ecZ(e30) && (r10 = e30.level, null != e30.position ? t10 = euZ(e30.position, a10, i10) : null != e30.renderedPosition && (t10 = e30.renderedPosition), null == t10 || n10.panningEnabled || (s10 = true)), r10 = (r10 = r10 > n10.maxZoom ? n10.maxZoom : r10) < n10.minZoom ? n10.minZoom : r10, s10 || !ecJ(r10) || r10 === a10 || null != t10 && (!ecJ(t10.x) || !ecJ(t10.y))) return null;
  if (null == t10) return { zoomed: true, panned: false, zoom: r10, pan: i10 };
  var o10 = r10, l10 = { x: -o10 / a10 * (t10.x - i10.x) + t10.x, y: -o10 / a10 * (t10.y - i10.y) + t10.y };
  return { zoomed: true, panned: true, zoom: o10, pan: l10 };
}, "getZoomedViewport"), zoom: iM(function(e30) {
  if (void 0 === e30) return this._private.zoom;
  var t10 = this.getZoomedViewport(e30), r10 = this._private;
  return null != t10 && t10.zoomed && (r10.zoom = t10.zoom, t10.panned && (r10.pan.x = t10.pan.x, r10.pan.y = t10.pan.y), this.emit("zoom" + (t10.panned ? " pan" : "") + " viewport"), this.notify("viewport")), this;
}, "zoom"), viewport: iM(function(e30) {
  var t10 = this._private, r10 = true, n10 = true, i10 = [], a10 = false, s10 = false;
  if (!e30 || (ecJ(e30.zoom) || (r10 = false), ecZ(e30.pan) || (n10 = false), !r10 && !n10)) return this;
  if (r10) {
    var o10 = e30.zoom;
    o10 < t10.minZoom || o10 > t10.maxZoom || !t10.zoomingEnabled ? a10 = true : (t10.zoom = o10, i10.push("zoom"));
  }
  if (n10 && (!a10 || !e30.cancelOnFailedZoom) && t10.panningEnabled) {
    var l10 = e30.pan;
    ecJ(l10.x) && (t10.pan.x = l10.x, s10 = false), ecJ(l10.y) && (t10.pan.y = l10.y, s10 = false), s10 || i10.push("pan");
  }
  return i10.length > 0 && (i10.push("viewport"), this.emit(i10.join(" ")), this.notify("viewport")), this;
}, "viewport"), center: iM(function(e30) {
  var t10 = this.getCenterPan(e30);
  return t10 && (this._private.pan = t10, this.emit("pan viewport"), this.notify("viewport")), this;
}, "center"), getCenterPan: iM(function(e30, t10) {
  if (this._private.panningEnabled) {
    if (ecG(e30)) {
      var r10 = e30;
      e30 = this.mutableElements().filter(r10);
    } else ec2(e30) || (e30 = this.mutableElements());
    if (0 !== e30.length) {
      var n10 = e30.boundingBox(), i10 = this.width(), a10 = this.height();
      return { x: (i10 - (t10 = void 0 === t10 ? this._private.zoom : t10) * (n10.x1 + n10.x2)) / 2, y: (a10 - t10 * (n10.y1 + n10.y2)) / 2 };
    }
  }
}, "getCenterPan"), reset: iM(function() {
  return this._private.panningEnabled && this._private.zoomingEnabled && this.viewport({ pan: { x: 0, y: 0 }, zoom: 1 }), this;
}, "reset"), invalidateSize: iM(function() {
  this._private.sizeCache = null;
}, "invalidateSize"), size: iM(function() {
  var e30, t10, r10 = this._private, n10 = r10.container;
  return r10.sizeCache = r10.sizeCache || (n10 ? (e30 = this.window().getComputedStyle(n10), t10 = iM(function(t11) {
    return parseFloat(e30.getPropertyValue(t11));
  }, "val"), { width: n10.clientWidth - t10("padding-left") - t10("padding-right"), height: n10.clientHeight - t10("padding-top") - t10("padding-bottom") }) : { width: 1, height: 1 });
}, "size"), width: iM(function() {
  return this.size().width;
}, "width"), height: iM(function() {
  return this.size().height;
}, "height"), extent: iM(function() {
  var e30 = this._private.pan, t10 = this._private.zoom, r10 = this.renderedExtent(), n10 = { x1: (r10.x1 - e30.x) / t10, x2: (r10.x2 - e30.x) / t10, y1: (r10.y1 - e30.y) / t10, y2: (r10.y2 - e30.y) / t10 };
  return n10.w = n10.x2 - n10.x1, n10.h = n10.y2 - n10.y1, n10;
}, "extent"), renderedExtent: iM(function() {
  var e30 = this.width(), t10 = this.height();
  return { x1: 0, y1: 0, x2: e30, y2: t10, w: e30, h: t10 };
}, "renderedExtent"), multiClickDebounceTime: iM(function(e30) {
  return e30 ? (this._private.multiClickDebounceTime = e30, this) : this._private.multiClickDebounceTime;
}, "multiClickDebounceTime") };
eyd.centre = eyd.center, eyd.autolockNodes = eyd.autolock, eyd.autoungrabifyNodes = eyd.autoungrabify;
var eyp = { data: egn.data({ field: "data", bindingEvent: "data", allowBinding: true, allowSetting: true, settingEvent: "data", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, updateStyle: true }), removeData: egn.removeData({ field: "data", event: "data", triggerFnName: "trigger", triggerEvent: true, updateStyle: true }), scratch: egn.data({ field: "scratch", bindingEvent: "scratch", allowBinding: true, allowSetting: true, settingEvent: "scratch", settingTriggersEvent: true, triggerFnName: "trigger", allowGetting: true, updateStyle: true }), removeScratch: egn.removeData({ field: "scratch", event: "scratch", triggerFnName: "trigger", triggerEvent: true, updateStyle: true }) };
eyp.attr = eyp.data, eyp.removeAttr = eyp.removeData;
var eyf = iM(function(e30) {
  var t10 = this, r10 = (e30 = ehg({}, e30)).container;
  r10 && !ec1(r10) && ec1(r10[0]) && (r10 = r10[0]);
  var n10 = r10 ? r10._cyreg : null;
  (n10 = n10 || {}).cy && (n10.cy.destroy(), n10 = {});
  var i10 = n10.readies = n10.readies || [];
  r10 && (r10._cyreg = n10), n10.cy = t10;
  var a10 = void 0 !== ecj && void 0 !== r10 && !e30.headless, s10 = e30;
  s10.layout = ehg({ name: a10 ? "grid" : "null" }, s10.layout), s10.renderer = ehg({ name: a10 ? "canvas" : "null" }, s10.renderer);
  var o10 = iM(function(e31, t11, r11) {
    return void 0 !== t11 ? t11 : void 0 !== r11 ? r11 : e31;
  }, "defVal"), l10 = this._private = { container: r10, ready: false, options: s10, elements: new emj(this), listeners: [], aniEles: new emj(this), data: s10.data || {}, scratch: {}, layout: null, renderer: null, destroyed: false, notificationsEnabled: true, minZoom: 1e-50, maxZoom: 1e50, zoomingEnabled: o10(true, s10.zoomingEnabled), userZoomingEnabled: o10(true, s10.userZoomingEnabled), panningEnabled: o10(true, s10.panningEnabled), userPanningEnabled: o10(true, s10.userPanningEnabled), boxSelectionEnabled: o10(true, s10.boxSelectionEnabled), autolock: o10(false, s10.autolock, s10.autolockNodes), autoungrabify: o10(false, s10.autoungrabify, s10.autoungrabifyNodes), autounselectify: o10(false, s10.autounselectify), styleEnabled: void 0 === s10.styleEnabled ? a10 : s10.styleEnabled, zoom: ecJ(s10.zoom) ? s10.zoom : 1, pan: { x: ecZ(s10.pan) && ecJ(s10.pan.x) ? s10.pan.x : 0, y: ecZ(s10.pan) && ecJ(s10.pan.y) ? s10.pan.y : 0 }, animation: { current: [], queue: [] }, hasCompoundNodes: false, multiClickDebounceTime: o10(250, s10.multiClickDebounceTime) };
  this.createEmitter(), this.selectionType(s10.selectionType), this.zoomRange({ min: s10.minZoom, max: s10.maxZoom });
  var h10 = iM(function(e31, t11) {
    if (e31.some(eht)) return ep2.all(e31).then(t11);
    t11(e31);
  }, "loadExtData");
  l10.styleEnabled && t10.setStyle([]);
  var u10 = ehg({}, s10, s10.renderer);
  t10.initRenderer(u10);
  var d10 = iM(function(e31, r11, n11) {
    t10.notifications(false);
    var i11 = t10.mutableElements();
    i11.length > 0 && i11.remove(), null != e31 && (ecZ(e31) || ecK(e31)) && t10.add(e31), t10.one("layoutready", function(e32) {
      t10.notifications(true), t10.emit(e32), t10.one("load", r11), t10.emitAndNotify("load");
    }).one("layoutstop", function() {
      t10.one("done", n11), t10.emit("done");
    });
    var a11 = ehg({}, t10._private.options.layout);
    a11.eles = t10.elements(), t10.layout(a11).run();
  }, "setElesAndLayout");
  h10([s10.style, s10.elements], function(e31) {
    var r11 = e31[0], a11 = e31[1];
    l10.styleEnabled && t10.style().append(r11), d10(a11, function() {
      t10.startAnimationLoop(), l10.ready = true, ecX(s10.ready) && t10.on("ready", s10.ready);
      for (var e32 = 0; e32 < i10.length; e32++) {
        var r12 = i10[e32];
        t10.on("ready", r12);
      }
      n10 && (n10.readies = []), t10.emit("ready");
    }, s10.done);
  });
}, "Core"), eyg = eyf.prototype;
ehg(eyg, { instanceString: iM(function() {
  return "core";
}, "instanceString"), isReady: iM(function() {
  return this._private.ready;
}, "isReady"), destroyed: iM(function() {
  return this._private.destroyed;
}, "destroyed"), ready: iM(function(e30) {
  return this.isReady() ? this.emitter().emit("ready", [], e30) : this.on("ready", e30), this;
}, "ready"), destroy: iM(function() {
  if (!this.destroyed()) return this.stopAnimationLoop(), this.destroyRenderer(), this.emit("destroy"), this._private.destroyed = true, this;
}, "destroy"), hasElementWithId: iM(function(e30) {
  return this._private.elements.hasElementWithId(e30);
}, "hasElementWithId"), getElementById: iM(function(e30) {
  return this._private.elements.getElementById(e30);
}, "getElementById"), hasCompoundNodes: iM(function() {
  return this._private.hasCompoundNodes;
}, "hasCompoundNodes"), headless: iM(function() {
  return this._private.renderer.isHeadless();
}, "headless"), styleEnabled: iM(function() {
  return this._private.styleEnabled;
}, "styleEnabled"), addToPool: iM(function(e30) {
  return this._private.elements.merge(e30), this;
}, "addToPool"), removeFromPool: iM(function(e30) {
  return this._private.elements.unmerge(e30), this;
}, "removeFromPool"), container: iM(function() {
  return this._private.container || null;
}, "container"), window: iM(function() {
  if (null == this._private.container) return ecj;
  var e30 = this._private.container.ownerDocument;
  return void 0 === e30 || null == e30 ? ecj : e30.defaultView || ecj;
}, "window"), mount: iM(function(e30) {
  if (null != e30) {
    var t10 = this._private, r10 = t10.options;
    return !ec1(e30) && ec1(e30[0]) && (e30 = e30[0]), this.stopAnimationLoop(), this.destroyRenderer(), t10.container = e30, t10.styleEnabled = true, this.invalidateSize(), this.initRenderer(ehg({}, r10, r10.renderer, { name: "null" === r10.renderer.name ? "canvas" : r10.renderer.name })), this.startAnimationLoop(), this.style(r10.style), this.emit("mount"), this;
  }
}, "mount"), unmount: iM(function() {
  return this.stopAnimationLoop(), this.destroyRenderer(), this.initRenderer({ name: "null" }), this.emit("unmount"), this;
}, "unmount"), options: iM(function() {
  return euv(this._private.options);
}, "options"), json: iM(function(e30) {
  var t10 = this, r10 = t10._private, n10 = t10.mutableElements(), i10 = iM(function(e31) {
    return t10.getElementById(e31.id());
  }, "getFreshRef");
  if (ecZ(e30)) {
    if (t10.startBatch(), e30.elements) {
      var a10 = {}, s10 = iM(function(e31, r11) {
        for (var n11 = [], i11 = [], s11 = 0; s11 < e31.length; s11++) {
          var o11 = e31[s11];
          if (!o11.data.id) {
            eum("cy.json() cannot handle elements without an ID attribute");
            continue;
          }
          var l11 = "" + o11.data.id, h11 = t10.getElementById(l11);
          a10[l11] = true, 0 !== h11.length ? i11.push({ ele: h11, json: o11 }) : (r11 && (o11.group = r11), n11.push(o11));
        }
        t10.add(n11);
        for (var u11 = 0; u11 < i11.length; u11++) {
          var d11 = i11[u11], p11 = d11.ele, f11 = d11.json;
          p11.json(f11);
        }
      }, "updateEles");
      if (ecK(e30.elements)) s10(e30.elements);
      else for (var o10 = ["nodes", "edges"], l10 = 0; l10 < o10.length; l10++) {
        var h10 = o10[l10], u10 = e30.elements[h10];
        ecK(u10) && s10(u10, h10);
      }
      var d10 = t10.collection();
      n10.filter(function(e31) {
        return !a10[e31.id()];
      }).forEach(function(e31) {
        e31.isParent() ? d10.merge(e31) : e31.remove();
      }), d10.forEach(function(e31) {
        return e31.children().move({ parent: null });
      }), d10.forEach(function(e31) {
        return i10(e31).remove();
      });
    }
    e30.style && t10.style(e30.style), null != e30.zoom && e30.zoom !== r10.zoom && t10.zoom(e30.zoom), e30.pan && (e30.pan.x !== r10.pan.x || e30.pan.y !== r10.pan.y) && t10.pan(e30.pan), e30.data && t10.data(e30.data);
    for (var p10 = ["minZoom", "maxZoom", "zoomingEnabled", "userZoomingEnabled", "panningEnabled", "userPanningEnabled", "boxSelectionEnabled", "autolock", "autoungrabify", "autounselectify", "multiClickDebounceTime"], f10 = 0; f10 < p10.length; f10++) {
      var g10 = p10[f10];
      null != e30[g10] && t10[g10](e30[g10]);
    }
    return t10.endBatch(), this;
  }
  var y10 = {};
  e30 ? y10.elements = this.elements().map(function(e31) {
    return e31.json();
  }) : (y10.elements = {}, n10.forEach(function(e31) {
    var t11 = e31.group();
    y10.elements[t11] || (y10.elements[t11] = []), y10.elements[t11].push(e31.json());
  })), this._private.styleEnabled && (y10.style = t10.style().json()), y10.data = euv(t10.data());
  var v10 = r10.options;
  return y10.zoomingEnabled = r10.zoomingEnabled, y10.userZoomingEnabled = r10.userZoomingEnabled, y10.zoom = r10.zoom, y10.minZoom = r10.minZoom, y10.maxZoom = r10.maxZoom, y10.panningEnabled = r10.panningEnabled, y10.userPanningEnabled = r10.userPanningEnabled, y10.pan = euv(r10.pan), y10.boxSelectionEnabled = r10.boxSelectionEnabled, y10.renderer = euv(v10.renderer), y10.hideEdgesOnViewport = v10.hideEdgesOnViewport, y10.textureOnViewport = v10.textureOnViewport, y10.wheelSensitivity = v10.wheelSensitivity, y10.motionBlur = v10.motionBlur, y10.multiClickDebounceTime = v10.multiClickDebounceTime, y10;
}, "json") }), eyg.$id = eyg.getElementById, [emU, em1, em3, em5, em6, em7, em9, eye, eyu, eyd, eyp].forEach(function(e30) {
  ehg(eyg, e30);
});
var eym = { fit: true, directed: false, padding: 30, circle: false, grid: false, spacingFactor: 1.75, boundingBox: void 0, avoidOverlap: true, nodeDimensionsIncludeLabels: false, roots: void 0, depthSort: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: iM(function(e30, t10) {
  return true;
}, "animateFilter"), ready: void 0, stop: void 0, transform: iM(function(e30, t10) {
  return t10;
}, "transform") }, eyy = { maximal: false, acyclic: false }, eyv = iM(function(e30) {
  return e30.scratch("breadthfirst");
}, "getInfo"), eyx = iM(function(e30, t10) {
  return e30.scratch("breadthfirst", t10);
}, "setInfo");
function eyb(e30) {
  this.options = ehg({}, eym, eyy, e30);
}
iM(eyb, "BreadthFirstLayout"), eyb.prototype.run = function() {
  var e30, t10 = this.options, r10 = t10.cy, n10 = t10.eles, i10 = n10.nodes().filter(function(e31) {
    return !e31.isParent();
  }), a10 = t10.directed, s10 = t10.acyclic || t10.maximal || t10.maximalAdjustments > 0, o10 = eda(t10.boundingBox ? t10.boundingBox : { x1: 0, y1: 0, w: r10.width(), h: r10.height() });
  if (ec2(t10.roots)) e30 = t10.roots;
  else if (ecK(t10.roots)) {
    for (var l10 = [], h10 = 0; h10 < t10.roots.length; h10++) {
      var u10 = t10.roots[h10], d10 = r10.getElementById(u10);
      l10.push(d10);
    }
    e30 = r10.collection(l10);
  } else if (ecG(t10.roots)) e30 = r10.$(t10.roots);
  else if (a10) e30 = i10.roots();
  else {
    var p10 = n10.components();
    e30 = r10.collection();
    for (var f10 = iM(function(t11) {
      var r11 = p10[t11], n11 = r11.maxDegree(false), i11 = r11.filter(function(e31) {
        return e31.degree(false) === n11;
      });
      e30 = e30.add(i11);
    }, "_loop"), g10 = 0; g10 < p10.length; g10++) f10(g10);
  }
  var y10 = [], v10 = {}, x10 = iM(function(e31, t11) {
    null == y10[t11] && (y10[t11] = []);
    var r11 = y10[t11].length;
    y10[t11].push(e31), eyx(e31, { index: r11, depth: t11 });
  }, "addToDepth"), b10 = iM(function(e31, t11) {
    var r11 = eyv(e31), n11 = r11.depth, i11 = r11.index;
    y10[n11][i11] = null, x10(e31, t11);
  }, "changeDepth");
  n10.bfs({ roots: e30, directed: t10.directed, visit: iM(function(e31, t11, r11, n11, i11) {
    var a11 = e31[0], s11 = a11.id();
    x10(a11, i11), v10[s11] = true;
  }, "visit") });
  for (var k10 = [], w10 = 0; w10 < i10.length; w10++) {
    var _10 = i10[w10];
    v10[_10.id()] || k10.push(_10);
  }
  var T10 = iM(function(e31) {
    for (var t11 = y10[e31], r11 = 0; r11 < t11.length; r11++) {
      var n11 = t11[r11];
      if (null == n11) {
        t11.splice(r11, 1), r11--;
        continue;
      }
      eyx(n11, { depth: e31, index: r11 });
    }
  }, "assignDepthsAt"), S10 = iM(function() {
    for (var e31 = 0; e31 < y10.length; e31++) T10(e31);
  }, "assignDepths"), C10 = iM(function(e31, r11) {
    for (var i11 = eyv(e31), a11 = e31.incomers().filter(function(e32) {
      return e32.isNode() && n10.has(e32);
    }), s11 = -1, o11 = e31.id(), l11 = 0; l11 < a11.length; l11++) s11 = Math.max(s11, eyv(a11[l11]).depth);
    if (i11.depth <= s11) {
      if (!t10.acyclic && r11[o11]) return null;
      var h11 = s11 + 1;
      return b10(e31, h11), r11[o11] = h11, true;
    }
    return false;
  }, "adjustMaximally");
  if (a10 && s10) {
    var E10 = [], A10 = {}, L10 = iM(function(e31) {
      return E10.push(e31);
    }, "enqueue"), I10 = iM(function() {
      return E10.shift();
    }, "dequeue");
    for (i10.forEach(function(e31) {
      return E10.push(e31);
    }); E10.length > 0; ) {
      var M10 = I10(), N10 = C10(M10, A10);
      if (N10) M10.outgoers().filter(function(e31) {
        return e31.isNode() && n10.has(e31);
      }).forEach(L10);
      else if (null === N10) {
        eum("Detected double maximal shift for node `" + M10.id() + "`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");
        break;
      }
    }
  }
  S10();
  var R10 = 0;
  if (t10.avoidOverlap) for (var D10 = 0; D10 < i10.length; D10++) {
    var O10 = i10[D10].layoutDimensions(t10), $10 = O10.w, P10 = O10.h;
    R10 = Math.max(R10, $10, P10);
  }
  var B10 = {}, F10 = iM(function(e31) {
    if (B10[e31.id()]) return B10[e31.id()];
    for (var t11 = eyv(e31).depth, r11 = e31.neighborhood(), n11 = 0, a11 = 0, s11 = 0; s11 < r11.length; s11++) {
      var o11 = r11[s11];
      if (!(o11.isEdge() || o11.isParent()) && i10.has(o11)) {
        var l11 = eyv(o11);
        if (null != l11) {
          var h11 = l11.index, u11 = l11.depth;
          if (null != h11 && null != u11) {
            var d11 = y10[u11].length;
            u11 < t11 && (n11 += h11 / d11, a11++);
          }
        }
      }
    }
    return n11 /= a11 = Math.max(1, a11), 0 === a11 && (n11 = 0), B10[e31.id()] = n11, n11;
  }, "getWeightedPercent"), z10 = iM(function(e31, t11) {
    var r11 = F10(e31) - F10(t11);
    return 0 === r11 ? ehp(e31.id(), t11.id()) : r11;
  }, "sortFn");
  void 0 !== t10.depthSort && (z10 = t10.depthSort);
  for (var j10 = 0; j10 < y10.length; j10++) y10[j10].sort(z10), T10(j10);
  for (var q10 = [], U10 = 0; U10 < k10.length; U10++) q10.push(k10[U10]);
  y10.unshift(q10), S10();
  for (var W10 = 0, V10 = 0; V10 < y10.length; V10++) W10 = Math.max(y10[V10].length, W10);
  var H10 = { x: o10.x1 + o10.w / 2, y: o10.x1 + o10.h / 2 }, Y10 = y10.reduce(function(e31, t11) {
    return Math.max(e31, t11.length);
  }, 0), G10 = iM(function(e31) {
    var r11 = eyv(e31), n11 = r11.depth, i11 = r11.index, a11 = y10[n11].length, s11 = Math.max(o10.w / ((t10.grid ? Y10 : a11) + 1), R10), l11 = Math.max(o10.h / (y10.length + 1), R10), h11 = Math.min(o10.w / 2 / y10.length, o10.h / 2 / y10.length);
    if (h11 = Math.max(h11, R10), !t10.circle) return { x: H10.x + (i11 + 1 - (a11 + 1) / 2) * s11, y: (n11 + 1) * l11 };
    var u11 = h11 * n11 + h11 - (y10.length > 0 && y10[0].length <= 3 ? h11 / 2 : 0), d11 = 2 * Math.PI / y10[n11].length * i11;
    return 0 === n11 && 1 === y10[0].length && (u11 = 1), { x: H10.x + u11 * Math.cos(d11), y: H10.y + u11 * Math.sin(d11) };
  }, "getPosition");
  return n10.nodes().layoutPositions(this, t10, G10), this;
};
var eyk = { fit: true, padding: 30, boundingBox: void 0, avoidOverlap: true, nodeDimensionsIncludeLabels: false, spacingFactor: void 0, radius: void 0, startAngle: 1.5 * Math.PI, sweep: void 0, clockwise: true, sort: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: iM(function(e30, t10) {
  return true;
}, "animateFilter"), ready: void 0, stop: void 0, transform: iM(function(e30, t10) {
  return t10;
}, "transform") };
function eyw(e30) {
  this.options = ehg({}, eyk, e30);
}
iM(eyw, "CircleLayout"), eyw.prototype.run = function() {
  var e30, t10 = this.options, r10 = t10.cy, n10 = t10.eles, i10 = void 0 !== t10.counterclockwise ? !t10.counterclockwise : t10.clockwise, a10 = n10.nodes().not(":parent");
  t10.sort && (a10 = a10.sort(t10.sort));
  for (var s10 = eda(t10.boundingBox ? t10.boundingBox : { x1: 0, y1: 0, w: r10.width(), h: r10.height() }), o10 = { x: s10.x1 + s10.w / 2, y: s10.y1 + s10.h / 2 }, l10 = (void 0 === t10.sweep ? 2 * Math.PI - 2 * Math.PI / a10.length : t10.sweep) / Math.max(1, a10.length - 1), h10 = 0, u10 = 0; u10 < a10.length; u10++) {
    var d10 = a10[u10].layoutDimensions(t10);
    h10 = Math.max(h10, d10.w, d10.h);
  }
  if (e30 = ecJ(t10.radius) ? t10.radius : a10.length <= 1 ? 0 : Math.min(s10.h, s10.w) / 2 - h10, a10.length > 1 && t10.avoidOverlap) {
    var p10 = Math.cos(l10) - 1, f10 = Math.sin(l10) - 0;
    e30 = Math.max(Math.sqrt((h10 *= 1.75) * h10 / (p10 * p10 + f10 * f10)), e30);
  }
  var g10 = iM(function(r11, n11) {
    var a11 = t10.startAngle + n11 * l10 * (i10 ? 1 : -1), s11 = e30 * Math.cos(a11), h11 = e30 * Math.sin(a11);
    return { x: o10.x + s11, y: o10.y + h11 };
  }, "getPos");
  return n10.nodes().layoutPositions(this, t10, g10), this;
};
var ey_ = { fit: true, padding: 30, startAngle: 1.5 * Math.PI, sweep: void 0, clockwise: true, equidistant: false, minNodeSpacing: 10, boundingBox: void 0, avoidOverlap: true, nodeDimensionsIncludeLabels: false, height: void 0, width: void 0, spacingFactor: void 0, concentric: iM(function(e30) {
  return e30.degree();
}, "concentric"), levelWidth: iM(function(e30) {
  return e30.maxDegree() / 4;
}, "levelWidth"), animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: iM(function(e30, t10) {
  return true;
}, "animateFilter"), ready: void 0, stop: void 0, transform: iM(function(e30, t10) {
  return t10;
}, "transform") };
function eyT(e30) {
  this.options = ehg({}, ey_, e30);
}
iM(eyT, "ConcentricLayout"), eyT.prototype.run = function() {
  for (var e30 = this.options, t10 = void 0 !== e30.counterclockwise ? !e30.counterclockwise : e30.clockwise, r10 = e30.cy, n10 = e30.eles, i10 = n10.nodes().not(":parent"), a10 = eda(e30.boundingBox ? e30.boundingBox : { x1: 0, y1: 0, w: r10.width(), h: r10.height() }), s10 = { x: a10.x1 + a10.w / 2, y: a10.y1 + a10.h / 2 }, o10 = [], l10 = 0, h10 = 0; h10 < i10.length; h10++) {
    var u10 = i10[h10], d10 = void 0;
    d10 = e30.concentric(u10), o10.push({ value: d10, node: u10 }), u10._private.scratch.concentric = d10;
  }
  i10.updateStyle();
  for (var p10 = 0; p10 < i10.length; p10++) {
    var f10 = i10[p10].layoutDimensions(e30);
    l10 = Math.max(l10, f10.w, f10.h);
  }
  o10.sort(function(e31, t11) {
    return t11.value - e31.value;
  });
  for (var g10 = e30.levelWidth(i10), y10 = [[]], v10 = y10[0], x10 = 0; x10 < o10.length; x10++) {
    var b10 = o10[x10];
    v10.length > 0 && Math.abs(v10[0].value - b10.value) >= g10 && (v10 = [], y10.push(v10)), v10.push(b10);
  }
  var k10 = l10 + e30.minNodeSpacing;
  if (!e30.avoidOverlap) {
    var w10 = y10.length > 0 && y10[0].length > 1, _10 = (Math.min(a10.w, a10.h) / 2 - k10) / (y10.length + w10 ? 1 : 0);
    k10 = Math.min(k10, _10);
  }
  for (var T10 = 0, S10 = 0; S10 < y10.length; S10++) {
    var C10 = y10[S10], E10 = void 0 === e30.sweep ? 2 * Math.PI - 2 * Math.PI / C10.length : e30.sweep, A10 = C10.dTheta = E10 / Math.max(1, C10.length - 1);
    if (C10.length > 1 && e30.avoidOverlap) {
      var L10 = Math.cos(A10) - 1, I10 = Math.sin(A10) - 0;
      T10 = Math.max(Math.sqrt(k10 * k10 / (L10 * L10 + I10 * I10)), T10);
    }
    C10.r = T10, T10 += k10;
  }
  if (e30.equidistant) {
    for (var M10 = 0, N10 = 0, R10 = 0; R10 < y10.length; R10++) M10 = Math.max(M10, y10[R10].r - N10);
    N10 = 0;
    for (var D10 = 0; D10 < y10.length; D10++) {
      var O10 = y10[D10];
      0 === D10 && (N10 = O10.r), O10.r = N10, N10 += M10;
    }
  }
  for (var $10 = {}, P10 = 0; P10 < y10.length; P10++) for (var B10 = y10[P10], F10 = B10.dTheta, z10 = B10.r, j10 = 0; j10 < B10.length; j10++) {
    var q10 = B10[j10], U10 = e30.startAngle + (t10 ? 1 : -1) * F10 * j10, W10 = { x: s10.x + z10 * Math.cos(U10), y: s10.y + z10 * Math.sin(U10) };
    $10[q10.node.id()] = W10;
  }
  return n10.nodes().layoutPositions(this, e30, function(e31) {
    return $10[e31.id()];
  }), this;
};
var eyS = { ready: iM(function() {
}, "ready"), stop: iM(function() {
}, "stop"), animate: true, animationEasing: void 0, animationDuration: void 0, animateFilter: iM(function(e30, t10) {
  return true;
}, "animateFilter"), animationThreshold: 250, refresh: 20, fit: true, padding: 30, boundingBox: void 0, nodeDimensionsIncludeLabels: false, randomize: false, componentSpacing: 40, nodeRepulsion: iM(function(e30) {
  return 2048;
}, "nodeRepulsion"), nodeOverlap: 4, idealEdgeLength: iM(function(e30) {
  return 32;
}, "idealEdgeLength"), edgeElasticity: iM(function(e30) {
  return 32;
}, "edgeElasticity"), nestingFactor: 1.2, gravity: 1, numIter: 1e3, initialTemp: 1e3, coolingFactor: 0.99, minTemp: 1 };
function eyC(e30) {
  this.options = ehg({}, eyS, e30), this.options.layout = this;
  var t10 = this.options.eles.nodes(), r10 = this.options.eles.edges().filter(function(e31) {
    var r11 = e31.source().data("id"), n10 = e31.target().data("id"), i10 = t10.some(function(e32) {
      return e32.data("id") === r11;
    }), a10 = t10.some(function(e32) {
      return e32.data("id") === n10;
    });
    return !i10 || !a10;
  });
  this.options.eles = this.options.eles.not(r10);
}
iM(eyC, "CoseLayout"), eyC.prototype.run = function() {
  var e30 = this.options, t10 = e30.cy, r10 = this;
  r10.stopped = false, (true === e30.animate || false === e30.animate) && r10.emit({ type: "layoutstart", layout: r10 }), n8 = true === e30.debug;
  var n10 = eyE(t10, r10, e30);
  n8 && n9(n10), e30.randomize && eyI(n10);
  var i10 = eh4(), a10 = iM(function() {
    eyN(n10, t10, e30), true === e30.fit && t10.fit(e30.padding);
  }, "refresh"), s10 = iM(function(t11) {
    return !r10.stopped && !(t11 >= e30.numIter) && (eyR(n10, e30), n10.temperature = n10.temperature * e30.coolingFactor, !(n10.temperature < e30.minTemp));
  }, "mainLoop"), o10 = iM(function() {
    if (true === e30.animate || false === e30.animate) a10(), r10.one("layoutstop", e30.stop), r10.emit({ type: "layoutstop", layout: r10 });
    else {
      var t11 = e30.eles.nodes(), i11 = eyM(n10, e30, t11);
      t11.layoutPositions(r10, e30, i11);
    }
  }, "done"), l10 = 0, h10 = true;
  if (true === e30.animate) iM(function t11() {
    for (var r11 = 0; h10 && r11 < e30.refresh; ) h10 = s10(l10), l10++, r11++;
    h10 ? (eh4() - i10 >= e30.animationThreshold && a10(), eh5(t11)) : (eyV(n10, e30), o10());
  }, "frame")();
  else {
    for (; h10; ) h10 = s10(l10), l10++;
    eyV(n10, e30), o10();
  }
  return this;
}, eyC.prototype.stop = function() {
  return this.stopped = true, this.thread && this.thread.stop(), this.emit("layoutstop"), this;
}, eyC.prototype.destroy = function() {
  return this.thread && this.thread.stop(), this;
};
var eyE = iM(function(e30, t10, r10) {
  for (var n10 = r10.eles.edges(), i10 = r10.eles.nodes(), a10 = eda(r10.boundingBox ? r10.boundingBox : { x1: 0, y1: 0, w: e30.width(), h: e30.height() }), s10 = { isCompound: e30.hasCompoundNodes(), layoutNodes: [], idToIndex: {}, nodeSize: i10.size(), graphSet: [], indexToGraph: [], layoutEdges: [], edgeSize: n10.size(), temperature: r10.initialTemp, clientWidth: a10.w, clientHeight: a10.h, boundingBox: a10 }, o10 = r10.eles.components(), l10 = {}, h10 = 0; h10 < o10.length; h10++) for (var u10 = o10[h10], d10 = 0; d10 < u10.length; d10++) {
    var p10 = u10[d10];
    l10[p10.id()] = h10;
  }
  for (var h10 = 0; h10 < s10.nodeSize; h10++) {
    var f10 = i10[h10], g10 = f10.layoutDimensions(r10), y10 = {};
    y10.isLocked = f10.locked(), y10.id = f10.data("id"), y10.parentId = f10.data("parent"), y10.cmptId = l10[f10.id()], y10.children = [], y10.positionX = f10.position("x"), y10.positionY = f10.position("y"), y10.offsetX = 0, y10.offsetY = 0, y10.height = g10.w, y10.width = g10.h, y10.maxX = y10.positionX + y10.width / 2, y10.minX = y10.positionX - y10.width / 2, y10.maxY = y10.positionY + y10.height / 2, y10.minY = y10.positionY - y10.height / 2, y10.padLeft = parseFloat(f10.style("padding")), y10.padRight = parseFloat(f10.style("padding")), y10.padTop = parseFloat(f10.style("padding")), y10.padBottom = parseFloat(f10.style("padding")), y10.nodeRepulsion = ecX(r10.nodeRepulsion) ? r10.nodeRepulsion(f10) : r10.nodeRepulsion, s10.layoutNodes.push(y10), s10.idToIndex[y10.id] = h10;
  }
  for (var v10 = [], x10 = 0, b10 = -1, k10 = [], h10 = 0; h10 < s10.nodeSize; h10++) {
    var f10 = s10.layoutNodes[h10], w10 = f10.parentId;
    null != w10 ? s10.layoutNodes[s10.idToIndex[w10]].children.push(f10.id) : (v10[++b10] = f10.id, k10.push(f10.id));
  }
  for (s10.graphSet.push(k10); x10 <= b10; ) {
    var _10 = v10[x10++], T10 = s10.idToIndex[_10], p10 = s10.layoutNodes[T10], S10 = p10.children;
    if (S10.length > 0) {
      s10.graphSet.push(S10);
      for (var h10 = 0; h10 < S10.length; h10++) v10[++b10] = S10[h10];
    }
  }
  for (var h10 = 0; h10 < s10.graphSet.length; h10++) for (var C10 = s10.graphSet[h10], d10 = 0; d10 < C10.length; d10++) {
    var E10 = s10.idToIndex[C10[d10]];
    s10.indexToGraph[E10] = h10;
  }
  for (var h10 = 0; h10 < s10.edgeSize; h10++) {
    var A10 = n10[h10], L10 = {};
    L10.id = A10.data("id"), L10.sourceId = A10.data("source"), L10.targetId = A10.data("target");
    var I10 = ecX(r10.idealEdgeLength) ? r10.idealEdgeLength(A10) : r10.idealEdgeLength, M10 = ecX(r10.edgeElasticity) ? r10.edgeElasticity(A10) : r10.edgeElasticity, N10 = s10.idToIndex[L10.sourceId], R10 = s10.idToIndex[L10.targetId];
    if (s10.indexToGraph[N10] != s10.indexToGraph[R10]) {
      for (var D10 = eyA(L10.sourceId, L10.targetId, s10), O10 = s10.graphSet[D10], $10 = 0, y10 = s10.layoutNodes[N10]; -1 === O10.indexOf(y10.id); ) y10 = s10.layoutNodes[s10.idToIndex[y10.parentId]], $10++;
      for (y10 = s10.layoutNodes[R10]; -1 === O10.indexOf(y10.id); ) y10 = s10.layoutNodes[s10.idToIndex[y10.parentId]], $10++;
      I10 *= $10 * r10.nestingFactor;
    }
    L10.idealLength = I10, L10.elasticity = M10, s10.layoutEdges.push(L10);
  }
  return s10;
}, "createLayoutInfo"), eyA = iM(function(e30, t10, r10) {
  var n10 = eyL(e30, t10, 0, r10);
  return 2 > n10.count ? 0 : n10.graph;
}, "findLCA"), eyL = iM(function e27(t10, r10, n10, i10) {
  var a10 = i10.graphSet[n10];
  if (-1 < a10.indexOf(t10) && -1 < a10.indexOf(r10)) return { count: 2, graph: n10 };
  for (var s10 = 0, o10 = 0; o10 < a10.length; o10++) {
    var l10 = a10[o10], h10 = i10.idToIndex[l10], u10 = i10.layoutNodes[h10].children;
    if (0 !== u10.length) {
      var d10 = e27(t10, r10, i10.indexToGraph[i10.idToIndex[u10[0]]], i10);
      if (0 !== d10.count) {
        if (1 !== d10.count) return d10;
        if (2 == ++s10) break;
      }
    }
  }
  return { count: s10, graph: n10 };
}, "findLCA_aux"), eyI = iM(function(e30, t10) {
  for (var r10 = e30.clientWidth, n10 = e30.clientHeight, i10 = 0; i10 < e30.nodeSize; i10++) {
    var a10 = e30.layoutNodes[i10];
    0 !== a10.children.length || a10.isLocked || (a10.positionX = Math.random() * r10, a10.positionY = Math.random() * n10);
  }
}, "randomizePositions"), eyM = iM(function(e30, t10, r10) {
  var n10 = e30.boundingBox, i10 = { x1: 1 / 0, x2: -1 / 0, y1: 1 / 0, y2: -1 / 0 };
  return t10.boundingBox && (r10.forEach(function(t11) {
    var r11 = e30.layoutNodes[e30.idToIndex[t11.data("id")]];
    i10.x1 = Math.min(i10.x1, r11.positionX), i10.x2 = Math.max(i10.x2, r11.positionX), i10.y1 = Math.min(i10.y1, r11.positionY), i10.y2 = Math.max(i10.y2, r11.positionY);
  }), i10.w = i10.x2 - i10.x1, i10.h = i10.y2 - i10.y1), function(r11, a10) {
    var s10 = e30.layoutNodes[e30.idToIndex[r11.data("id")]];
    if (!t10.boundingBox) return { x: s10.positionX, y: s10.positionY };
    var o10 = (s10.positionX - i10.x1) / i10.w, l10 = (s10.positionY - i10.y1) / i10.h;
    return { x: n10.x1 + o10 * n10.w, y: n10.y1 + l10 * n10.h };
  };
}, "getScaleInBoundsFn"), eyN = iM(function(e30, t10, r10) {
  var n10 = r10.layout, i10 = r10.eles.nodes(), a10 = eyM(e30, r10, i10);
  i10.positions(a10), true !== e30.ready && (e30.ready = true, n10.one("layoutready", r10.ready), n10.emit({ type: "layoutready", layout: this }));
}, "refreshPositions"), eyR = iM(function(e30, t10, r10) {
  eyD(e30, t10), eyF(e30), eyz(e30, t10), eyj(e30), eyq(e30);
}, "step"), eyD = iM(function(e30, t10) {
  for (var r10 = 0; r10 < e30.graphSet.length; r10++) for (var n10 = e30.graphSet[r10], i10 = n10.length, a10 = 0; a10 < i10; a10++) for (var s10 = e30.layoutNodes[e30.idToIndex[n10[a10]]], o10 = a10 + 1; o10 < i10; o10++) ey$(s10, e30.layoutNodes[e30.idToIndex[n10[o10]]], e30, t10);
}, "calculateNodeForces"), eyO = iM(function(e30) {
  return -e30 + 2 * e30 * Math.random();
}, "randomDistance"), ey$ = iM(function(e30, t10, r10, n10) {
  if (e30.cmptId === t10.cmptId || r10.isCompound) {
    var i10 = t10.positionX - e30.positionX, a10 = t10.positionY - e30.positionY;
    0 === i10 && 0 === a10 && (i10 = eyO(1), a10 = eyO(1));
    var s10 = eyP(e30, t10, i10, a10);
    if (s10 > 0) var o10 = n10.nodeOverlap * s10, l10 = Math.sqrt(i10 * i10 + a10 * a10), h10 = o10 * i10 / l10, u10 = o10 * a10 / l10;
    else var d10 = eyB(e30, i10, a10), p10 = eyB(t10, -1 * i10, -1 * a10), f10 = p10.x - d10.x, g10 = p10.y - d10.y, y10 = f10 * f10 + g10 * g10, l10 = Math.sqrt(y10), o10 = (e30.nodeRepulsion + t10.nodeRepulsion) / y10, h10 = o10 * f10 / l10, u10 = o10 * g10 / l10;
    e30.isLocked || (e30.offsetX -= h10, e30.offsetY -= u10), t10.isLocked || (t10.offsetX += h10, t10.offsetY += u10);
  }
}, "nodeRepulsion"), eyP = iM(function(e30, t10, r10, n10) {
  if (r10 > 0) var i10 = e30.maxX - t10.minX;
  else var i10 = t10.maxX - e30.minX;
  if (n10 > 0) var a10 = e30.maxY - t10.minY;
  else var a10 = t10.maxY - e30.minY;
  return i10 >= 0 && a10 >= 0 ? Math.sqrt(i10 * i10 + a10 * a10) : 0;
}, "nodesOverlap"), eyB = iM(function(e30, t10, r10) {
  var n10 = e30.positionX, i10 = e30.positionY, a10 = e30.height || 1, s10 = e30.width || 1, o10 = r10 / t10, l10 = a10 / s10, h10 = {};
  return 0 === t10 && 0 < r10 || 0 === t10 && 0 > r10 ? (h10.x = n10, h10.y = i10 + a10 / 2) : 0 < t10 && -1 * l10 <= o10 && o10 <= l10 ? (h10.x = n10 + s10 / 2, h10.y = i10 + s10 * r10 / 2 / t10) : 0 > t10 && -1 * l10 <= o10 && o10 <= l10 ? (h10.x = n10 - s10 / 2, h10.y = i10 - s10 * r10 / 2 / t10) : 0 < r10 && (o10 <= -1 * l10 || o10 >= l10) ? (h10.x = n10 + a10 * t10 / 2 / r10, h10.y = i10 + a10 / 2) : 0 > r10 && (o10 <= -1 * l10 || o10 >= l10) && (h10.x = n10 - a10 * t10 / 2 / r10, h10.y = i10 - a10 / 2), h10;
}, "findClippingPoint"), eyF = iM(function(e30, t10) {
  for (var r10 = 0; r10 < e30.edgeSize; r10++) {
    var n10 = e30.layoutEdges[r10], i10 = e30.idToIndex[n10.sourceId], a10 = e30.layoutNodes[i10], s10 = e30.idToIndex[n10.targetId], o10 = e30.layoutNodes[s10], l10 = o10.positionX - a10.positionX, h10 = o10.positionY - a10.positionY;
    if (0 !== l10 || 0 !== h10) {
      var u10 = eyB(a10, l10, h10), d10 = eyB(o10, -1 * l10, -1 * h10), p10 = d10.x - u10.x, f10 = d10.y - u10.y, g10 = Math.sqrt(p10 * p10 + f10 * f10), y10 = Math.pow(n10.idealLength - g10, 2) / n10.elasticity;
      if (0 !== g10) var v10 = y10 * p10 / g10, x10 = y10 * f10 / g10;
      else var v10 = 0, x10 = 0;
      a10.isLocked || (a10.offsetX += v10, a10.offsetY += x10), o10.isLocked || (o10.offsetX -= v10, o10.offsetY -= x10);
    }
  }
}, "calculateEdgeForces"), eyz = iM(function(e30, t10) {
  if (0 !== t10.gravity) for (var r10 = 0; r10 < e30.graphSet.length; r10++) {
    var n10 = e30.graphSet[r10], i10 = n10.length;
    if (0 === r10) var a10 = e30.clientHeight / 2, s10 = e30.clientWidth / 2;
    else var o10 = e30.layoutNodes[e30.idToIndex[n10[0]]], l10 = e30.layoutNodes[e30.idToIndex[o10.parentId]], a10 = l10.positionX, s10 = l10.positionY;
    for (var h10 = 0; h10 < i10; h10++) {
      var u10 = e30.layoutNodes[e30.idToIndex[n10[h10]]];
      if (!u10.isLocked) {
        var d10 = a10 - u10.positionX, p10 = s10 - u10.positionY, f10 = Math.sqrt(d10 * d10 + p10 * p10);
        if (f10 > 1) {
          var g10 = t10.gravity * d10 / f10, y10 = t10.gravity * p10 / f10;
          u10.offsetX += g10, u10.offsetY += y10;
        }
      }
    }
  }
}, "calculateGravityForces"), eyj = iM(function(e30, t10) {
  var r10 = [], n10 = 0, i10 = -1;
  for (r10.push.apply(r10, e30.graphSet[0]), i10 += e30.graphSet[0].length; n10 <= i10; ) {
    var a10 = r10[n10++], s10 = e30.idToIndex[a10], o10 = e30.layoutNodes[s10], l10 = o10.children;
    if (0 < l10.length && !o10.isLocked) {
      for (var h10 = o10.offsetX, u10 = o10.offsetY, d10 = 0; d10 < l10.length; d10++) {
        var p10 = e30.layoutNodes[e30.idToIndex[l10[d10]]];
        p10.offsetX += h10, p10.offsetY += u10, r10[++i10] = l10[d10];
      }
      o10.offsetX = 0, o10.offsetY = 0;
    }
  }
}, "propagateForces"), eyq = iM(function(e30, t10) {
  for (var r10 = 0; r10 < e30.nodeSize; r10++) {
    var n10 = e30.layoutNodes[r10];
    0 < n10.children.length && (n10.maxX = void 0, n10.minX = void 0, n10.maxY = void 0, n10.minY = void 0);
  }
  for (var r10 = 0; r10 < e30.nodeSize; r10++) {
    var n10 = e30.layoutNodes[r10];
    if (!(0 < n10.children.length) && !n10.isLocked) {
      var i10 = eyU(n10.offsetX, n10.offsetY, e30.temperature);
      n10.positionX += i10.x, n10.positionY += i10.y, n10.offsetX = 0, n10.offsetY = 0, n10.minX = n10.positionX - n10.width, n10.maxX = n10.positionX + n10.width, n10.minY = n10.positionY - n10.height, n10.maxY = n10.positionY + n10.height, eyW(n10, e30);
    }
  }
  for (var r10 = 0; r10 < e30.nodeSize; r10++) {
    var n10 = e30.layoutNodes[r10];
    0 < n10.children.length && !n10.isLocked && (n10.positionX = (n10.maxX + n10.minX) / 2, n10.positionY = (n10.maxY + n10.minY) / 2, n10.width = n10.maxX - n10.minX, n10.height = n10.maxY - n10.minY);
  }
}, "updatePositions"), eyU = iM(function(e30, t10, r10) {
  var n10 = Math.sqrt(e30 * e30 + t10 * t10);
  if (n10 > r10) var i10 = { x: r10 * e30 / n10, y: r10 * t10 / n10 };
  else var i10 = { x: e30, y: t10 };
  return i10;
}, "limitForce"), eyW = iM(function e28(t10, r10) {
  var n10 = t10.parentId;
  if (null != n10) {
    var i10 = r10.layoutNodes[r10.idToIndex[n10]], a10 = false;
    if ((null == i10.maxX || t10.maxX + i10.padRight > i10.maxX) && (i10.maxX = t10.maxX + i10.padRight, a10 = true), (null == i10.minX || t10.minX - i10.padLeft < i10.minX) && (i10.minX = t10.minX - i10.padLeft, a10 = true), (null == i10.maxY || t10.maxY + i10.padBottom > i10.maxY) && (i10.maxY = t10.maxY + i10.padBottom, a10 = true), (null == i10.minY || t10.minY - i10.padTop < i10.minY) && (i10.minY = t10.minY - i10.padTop, a10 = true), a10) return e28(i10, r10);
  }
}, "updateAncestryBoundaries"), eyV = iM(function(e30, t10) {
  for (var r10 = e30.layoutNodes, n10 = [], i10 = 0; i10 < r10.length; i10++) {
    var a10 = r10[i10], s10 = a10.cmptId;
    (n10[s10] = n10[s10] || []).push(a10);
  }
  for (var o10 = 0, i10 = 0; i10 < n10.length; i10++) {
    var l10 = n10[i10];
    if (l10) {
      l10.x1 = 1 / 0, l10.x2 = -1 / 0, l10.y1 = 1 / 0, l10.y2 = -1 / 0;
      for (var h10 = 0; h10 < l10.length; h10++) {
        var u10 = l10[h10];
        l10.x1 = Math.min(l10.x1, u10.positionX - u10.width / 2), l10.x2 = Math.max(l10.x2, u10.positionX + u10.width / 2), l10.y1 = Math.min(l10.y1, u10.positionY - u10.height / 2), l10.y2 = Math.max(l10.y2, u10.positionY + u10.height / 2);
      }
      l10.w = l10.x2 - l10.x1, l10.h = l10.y2 - l10.y1, o10 += l10.w * l10.h;
    }
  }
  n10.sort(function(e31, t11) {
    return t11.w * t11.h - e31.w * e31.h;
  });
  for (var d10 = 0, p10 = 0, f10 = 0, g10 = 0, y10 = Math.sqrt(o10) * e30.clientWidth / e30.clientHeight, i10 = 0; i10 < n10.length; i10++) {
    var l10 = n10[i10];
    if (l10) {
      for (var h10 = 0; h10 < l10.length; h10++) {
        var u10 = l10[h10];
        u10.isLocked || (u10.positionX += d10 - l10.x1, u10.positionY += p10 - l10.y1);
      }
      d10 += l10.w + t10.componentSpacing, f10 += l10.w + t10.componentSpacing, g10 = Math.max(g10, l10.h), f10 > y10 && (p10 += g10 + t10.componentSpacing, d10 = 0, f10 = 0, g10 = 0);
    }
  }
}, "separateComponents"), eyH = { fit: true, padding: 30, boundingBox: void 0, avoidOverlap: true, avoidOverlapPadding: 10, nodeDimensionsIncludeLabels: false, spacingFactor: void 0, condense: false, rows: void 0, cols: void 0, position: iM(function(e30) {
}, "position"), sort: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: iM(function(e30, t10) {
  return true;
}, "animateFilter"), ready: void 0, stop: void 0, transform: iM(function(e30, t10) {
  return t10;
}, "transform") };
function eyY(e30) {
  this.options = ehg({}, eyH, e30);
}
iM(eyY, "GridLayout"), eyY.prototype.run = function() {
  var e30 = this.options, t10 = e30.cy, r10 = e30.eles, n10 = r10.nodes().not(":parent");
  e30.sort && (n10 = n10.sort(e30.sort));
  var i10 = eda(e30.boundingBox ? e30.boundingBox : { x1: 0, y1: 0, w: t10.width(), h: t10.height() });
  if (0 === i10.h || 0 === i10.w) r10.nodes().layoutPositions(this, e30, function(e31) {
    return { x: i10.x1, y: i10.y1 };
  });
  else {
    var a10 = n10.size(), s10 = Math.sqrt(a10 * i10.h / i10.w), o10 = Math.round(s10), l10 = Math.round(i10.w / i10.h * s10), h10 = iM(function(e31) {
      if (null == e31) return Math.min(o10, l10);
      Math.min(o10, l10) == o10 ? o10 = e31 : l10 = e31;
    }, "small"), u10 = iM(function(e31) {
      if (null == e31) return Math.max(o10, l10);
      Math.max(o10, l10) == o10 ? o10 = e31 : l10 = e31;
    }, "large"), d10 = e30.rows, p10 = null != e30.cols ? e30.cols : e30.columns;
    if (null != d10 && null != p10) o10 = d10, l10 = p10;
    else if (null != d10 && null == p10) l10 = Math.ceil(a10 / (o10 = d10));
    else if (null == d10 && null != p10) o10 = Math.ceil(a10 / (l10 = p10));
    else if (l10 * o10 > a10) {
      var f10 = h10(), g10 = u10();
      (f10 - 1) * g10 >= a10 ? h10(f10 - 1) : (g10 - 1) * f10 >= a10 && u10(g10 - 1);
    } else for (; l10 * o10 < a10; ) {
      var y10 = h10(), v10 = u10();
      (v10 + 1) * y10 >= a10 ? u10(v10 + 1) : h10(y10 + 1);
    }
    var x10 = i10.w / l10, b10 = i10.h / o10;
    if (e30.condense && (x10 = 0, b10 = 0), e30.avoidOverlap) for (var k10 = 0; k10 < n10.length; k10++) {
      var w10 = n10[k10], _10 = w10._private.position;
      (null == _10.x || null == _10.y) && (_10.x = 0, _10.y = 0);
      var T10 = w10.layoutDimensions(e30), S10 = e30.avoidOverlapPadding, C10 = T10.w + S10, E10 = T10.h + S10;
      x10 = Math.max(x10, C10), b10 = Math.max(b10, E10);
    }
    for (var A10 = {}, L10 = iM(function(e31, t11) {
      return !!A10["c-" + e31 + "-" + t11];
    }, "used"), I10 = iM(function(e31, t11) {
      A10["c-" + e31 + "-" + t11] = true;
    }, "use"), M10 = 0, N10 = 0, R10 = iM(function() {
      ++N10 >= l10 && (N10 = 0, M10++);
    }, "moveToNextCell"), D10 = {}, O10 = 0; O10 < n10.length; O10++) {
      var $10 = n10[O10], P10 = e30.position($10);
      if (P10 && (void 0 !== P10.row || void 0 !== P10.col)) {
        var B10 = { row: P10.row, col: P10.col };
        if (void 0 === B10.col) for (B10.col = 0; L10(B10.row, B10.col); ) B10.col++;
        else if (void 0 === B10.row) for (B10.row = 0; L10(B10.row, B10.col); ) B10.row++;
        D10[$10.id()] = B10, I10(B10.row, B10.col);
      }
    }
    var F10 = iM(function(e31, t11) {
      if (e31.locked() || e31.isParent()) return false;
      var r11, n11, a11 = D10[e31.id()];
      if (a11) r11 = a11.col * x10 + x10 / 2 + i10.x1, n11 = a11.row * b10 + b10 / 2 + i10.y1;
      else {
        for (; L10(M10, N10); ) R10();
        r11 = N10 * x10 + x10 / 2 + i10.x1, n11 = M10 * b10 + b10 / 2 + i10.y1, I10(M10, N10), R10();
      }
      return { x: r11, y: n11 };
    }, "getPos");
    n10.layoutPositions(this, e30, F10);
  }
  return this;
};
var eyG = { ready: iM(function() {
}, "ready"), stop: iM(function() {
}, "stop") };
function eyX(e30) {
  this.options = ehg({}, eyG, e30);
}
iM(eyX, "NullLayout"), eyX.prototype.run = function() {
  var e30 = this.options, t10 = e30.eles;
  return e30.cy, this.emit("layoutstart"), t10.nodes().positions(function() {
    return { x: 0, y: 0 };
  }), this.one("layoutready", e30.ready), this.emit("layoutready"), this.one("layoutstop", e30.stop), this.emit("layoutstop"), this;
}, eyX.prototype.stop = function() {
  return this;
};
var eyK = { positions: void 0, zoom: void 0, pan: void 0, fit: true, padding: 30, spacingFactor: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: iM(function(e30, t10) {
  return true;
}, "animateFilter"), ready: void 0, stop: void 0, transform: iM(function(e30, t10) {
  return t10;
}, "transform") };
function eyZ(e30) {
  this.options = ehg({}, eyK, e30);
}
iM(eyZ, "PresetLayout"), eyZ.prototype.run = function() {
  var e30 = this.options, t10 = e30.eles.nodes(), r10 = ecX(e30.positions);
  function n10(t11) {
    if (null == e30.positions) return euK(t11.position());
    if (r10) return e30.positions(t11);
    var n11 = e30.positions[t11._private.data.id];
    return null == n11 ? null : n11;
  }
  return iM(n10, "getPosition"), t10.layoutPositions(this, e30, function(e31, t11) {
    var r11 = n10(e31);
    return !e31.locked() && null != r11 && r11;
  }), this;
};
var eyQ = { fit: true, padding: 30, boundingBox: void 0, animate: false, animationDuration: 500, animationEasing: void 0, animateFilter: iM(function(e30, t10) {
  return true;
}, "animateFilter"), ready: void 0, stop: void 0, transform: iM(function(e30, t10) {
  return t10;
}, "transform") };
function eyJ(e30) {
  this.options = ehg({}, eyQ, e30);
}
iM(eyJ, "RandomLayout"), eyJ.prototype.run = function() {
  var e30 = this.options, t10 = e30.cy, r10 = e30.eles, n10 = eda(e30.boundingBox ? e30.boundingBox : { x1: 0, y1: 0, w: t10.width(), h: t10.height() }), i10 = iM(function(e31, t11) {
    return { x: n10.x1 + Math.round(Math.random() * n10.w), y: n10.y1 + Math.round(Math.random() * n10.h) };
  }, "getPos");
  return r10.nodes().layoutPositions(this, e30, i10), this;
};
var ey0 = [{ name: "breadthfirst", impl: eyb }, { name: "circle", impl: eyw }, { name: "concentric", impl: eyT }, { name: "cose", impl: eyC }, { name: "grid", impl: eyY }, { name: "null", impl: eyX }, { name: "preset", impl: eyZ }, { name: "random", impl: eyJ }];
function ey1(e30) {
  this.options = e30, this.notifications = 0;
}
iM(ey1, "NullRenderer");
var ey2 = iM(function() {
}, "noop"), ey4 = iM(function() {
  throw Error("A headless instance can not render images");
}, "throwImgErr");
ey1.prototype = { recalculateRenderedStyle: ey2, notify: iM(function() {
  this.notifications++;
}, "notify"), init: ey2, isHeadless: iM(function() {
  return true;
}, "isHeadless"), png: ey4, jpg: ey4 };
var ey3 = {};
ey3.arrowShapeWidth = 0.3, ey3.registerArrowShapes = function() {
  var e30 = this.arrowShapes = {}, t10 = this, r10 = iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = i11.x - r11 / 2 - s11, l10 = i11.x + r11 / 2 + s11, h10 = i11.y - r11 / 2 - s11, u10 = i11.y + r11 / 2 + s11;
    return o11 <= e31 && e31 <= l10 && h10 <= t11 && t11 <= u10;
  }, "bbCollide"), n10 = iM(function(e31, t11, r11, n11, i11) {
    var a11 = e31 * Math.cos(n11) - t11 * Math.sin(n11), s11 = e31 * Math.sin(n11) + t11 * Math.cos(n11);
    return { x: a11 * r11 + i11.x, y: s11 * r11 + i11.y };
  }, "transform"), i10 = iM(function(e31, t11, r11, i11) {
    for (var a11 = [], s11 = 0; s11 < e31.length; s11 += 2) {
      var o11 = e31[s11], l10 = e31[s11 + 1];
      a11.push(n10(o11, l10, t11, r11, i11));
    }
    return a11;
  }, "transformPoints"), a10 = iM(function(e31) {
    for (var t11 = [], r11 = 0; r11 < e31.length; r11++) {
      var n11 = e31[r11];
      t11.push(n11.x, n11.y);
    }
    return t11;
  }, "pointsToArr"), s10 = iM(function(e31) {
    return e31.pstyle("width").pfValue * e31.pstyle("arrow-scale").pfValue * 2;
  }, "standardGap"), o10 = iM(function(n11, o11) {
    ecG(o11) && (o11 = e30[o11]), e30[n11] = ehg({ name: n11, points: [-0.15, -0.3, 0.15, -0.3, 0.15, 0.3, -0.15, 0.3], collide: iM(function(e31, t11, r11, n12, s11, o12) {
      return edS(e31, t11, a10(i10(this.points, r11 + 2 * o12, n12, s11)));
    }, "collide"), roughCollide: r10, draw: iM(function(e31, r11, n12, a11) {
      var s11 = i10(this.points, r11, n12, a11);
      t10.arrowShapeImpl("polygon")(e31, s11);
    }, "draw"), spacing: iM(function(e31) {
      return 0;
    }, "spacing"), gap: s10 }, o11);
  }, "defineArrowShape");
  o10("none", { collide: euu, roughCollide: euu, draw: eup, spacing: eud, gap: eud }), o10("triangle", { points: [-0.15, -0.3, 0, 0, 0.15, -0.3] }), o10("arrow", "triangle"), o10("triangle-backcurve", { points: e30.triangle.points, controlPoint: [0, -0.15], roughCollide: r10, draw: iM(function(e31, r11, a11, s11, o11) {
    var l10 = i10(this.points, r11, a11, s11), h10 = this.controlPoint, u10 = n10(h10[0], h10[1], r11, a11, s11);
    t10.arrowShapeImpl(this.name)(e31, l10, u10);
  }, "draw"), gap: iM(function(e31) {
    return 0.8 * s10(e31);
  }, "gap") }), o10("triangle-tee", { points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0], pointsTee: [-0.15, -0.4, -0.15, -0.5, 0.15, -0.5, 0.15, -0.4], collide: iM(function(e31, t11, r11, n11, s11, o11, l10) {
    var h10 = a10(i10(this.points, r11 + 2 * l10, n11, s11)), u10 = a10(i10(this.pointsTee, r11 + 2 * l10, n11, s11));
    return edS(e31, t11, h10) || edS(e31, t11, u10);
  }, "collide"), draw: iM(function(e31, r11, n11, a11, s11) {
    var o11 = i10(this.points, r11, n11, a11), l10 = i10(this.pointsTee, r11, n11, a11);
    t10.arrowShapeImpl(this.name)(e31, o11, l10);
  }, "draw") }), o10("circle-triangle", { radius: 0.15, pointsTr: [0, -0.15, 0.15, -0.45, -0.15, -0.45, 0, -0.15], collide: iM(function(e31, t11, r11, n11, s11, o11, l10) {
    var h10 = Math.pow(s11.x - e31, 2) + Math.pow(s11.y - t11, 2) <= Math.pow((r11 + 2 * l10) * this.radius, 2);
    return edS(e31, t11, a10(i10(this.points, r11 + 2 * l10, n11, s11))) || h10;
  }, "collide"), draw: iM(function(e31, r11, n11, a11, s11) {
    var o11 = i10(this.pointsTr, r11, n11, a11);
    t10.arrowShapeImpl(this.name)(e31, o11, a11.x, a11.y, this.radius * r11);
  }, "draw"), spacing: iM(function(e31) {
    return t10.getArrowWidth(e31.pstyle("width").pfValue, e31.pstyle("arrow-scale").value) * this.radius;
  }, "spacing") }), o10("triangle-cross", { points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0], baseCrossLinePts: [-0.15, -0.4, -0.15, -0.4, 0.15, -0.4, 0.15, -0.4], crossLinePts: iM(function(e31, t11) {
    var r11 = this.baseCrossLinePts.slice(), n11 = t11 / e31;
    return r11[3] = r11[3] - n11, r11[5] = r11[5] - n11, r11;
  }, "crossLinePts"), collide: iM(function(e31, t11, r11, n11, s11, o11, l10) {
    var h10 = a10(i10(this.points, r11 + 2 * l10, n11, s11)), u10 = a10(i10(this.crossLinePts(r11, o11), r11 + 2 * l10, n11, s11));
    return edS(e31, t11, h10) || edS(e31, t11, u10);
  }, "collide"), draw: iM(function(e31, r11, n11, a11, s11) {
    var o11 = i10(this.points, r11, n11, a11), l10 = i10(this.crossLinePts(r11, s11), r11, n11, a11);
    t10.arrowShapeImpl(this.name)(e31, o11, l10);
  }, "draw") }), o10("vee", { points: [-0.15, -0.3, 0, 0, 0.15, -0.3, 0, -0.15], gap: iM(function(e31) {
    return 0.525 * s10(e31);
  }, "gap") }), o10("circle", { radius: 0.15, collide: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    return Math.pow(i11.x - e31, 2) + Math.pow(i11.y - t11, 2) <= Math.pow((r11 + 2 * s11) * this.radius, 2);
  }, "collide"), draw: iM(function(e31, r11, n11, i11, a11) {
    t10.arrowShapeImpl(this.name)(e31, i11.x, i11.y, this.radius * r11);
  }, "draw"), spacing: iM(function(e31) {
    return t10.getArrowWidth(e31.pstyle("width").pfValue, e31.pstyle("arrow-scale").value) * this.radius;
  }, "spacing") }), o10("tee", { points: [-0.15, 0, -0.15, -0.1, 0.15, -0.1, 0.15, 0], spacing: iM(function(e31) {
    return 1;
  }, "spacing"), gap: iM(function(e31) {
    return 1;
  }, "gap") }), o10("square", { points: [-0.15, 0, 0.15, 0, 0.15, -0.3, -0.15, -0.3] }), o10("diamond", { points: [-0.15, -0.15, 0, -0.3, 0.15, -0.15, 0, 0], gap: iM(function(e31) {
    return e31.pstyle("width").pfValue * e31.pstyle("arrow-scale").value;
  }, "gap") }), o10("chevron", { points: [0, 0, -0.15, -0.15, -0.1, -0.2, 0, -0.1, 0.1, -0.2, 0.15, -0.15], gap: iM(function(e31) {
    return 0.95 * e31.pstyle("width").pfValue * e31.pstyle("arrow-scale").value;
  }, "gap") });
};
var ey5 = {};
ey5.projectIntoViewport = function(e30, t10) {
  var r10 = this.cy, n10 = this.findContainerClientCoords(), i10 = n10[0], a10 = n10[1], s10 = n10[4], o10 = r10.pan(), l10 = r10.zoom();
  return [((e30 - i10) / s10 - o10.x) / l10, ((t10 - a10) / s10 - o10.y) / l10];
}, ey5.findContainerClientCoords = function() {
  if (this.containerBB) return this.containerBB;
  var e30 = this.container, t10 = e30.getBoundingClientRect(), r10 = this.cy.window().getComputedStyle(e30), n10 = iM(function(e31) {
    return parseFloat(r10.getPropertyValue(e31));
  }, "styleValue"), i10 = { left: n10("padding-left"), right: n10("padding-right"), top: n10("padding-top"), bottom: n10("padding-bottom") }, a10 = { left: n10("border-left-width"), right: n10("border-right-width"), top: n10("border-top-width"), bottom: n10("border-bottom-width") }, s10 = e30.clientWidth, o10 = e30.clientHeight, l10 = i10.left + i10.right, h10 = i10.top + i10.bottom, u10 = a10.left + a10.right, d10 = t10.width / (s10 + u10), p10 = t10.left + i10.left + a10.left, f10 = t10.top + i10.top + a10.top;
  return this.containerBB = [p10, f10, s10 - l10, o10 - h10, d10];
}, ey5.invalidateContainerClientCoordsCache = function() {
  this.containerBB = null;
}, ey5.findNearestElement = function(e30, t10, r10, n10) {
  return this.findNearestElements(e30, t10, r10, n10)[0];
}, ey5.findNearestElements = function(e30, t10, r10, n10) {
  var i10, a10, s10 = this, o10 = this, l10 = o10.getCachedZSortedEles(), h10 = [], u10 = o10.cy.zoom(), d10 = o10.cy.hasCompoundNodes(), p10 = (n10 ? 24 : 8) / u10, f10 = (n10 ? 8 : 2) / u10, g10 = (n10 ? 8 : 2) / u10, y10 = 1 / 0;
  function v10(e31, t11) {
    if (e31.isNode()) {
      if (a10) return;
      a10 = e31, h10.push(e31);
    }
    if (e31.isEdge() && (null == t11 || t11 < y10)) {
      if (i10) {
        if (i10.pstyle("z-compound-depth").value === e31.pstyle("z-compound-depth").value && i10.pstyle("z-compound-depth").value === e31.pstyle("z-compound-depth").value) {
          for (var r11 = 0; r11 < h10.length; r11++) if (h10[r11].isEdge()) {
            h10[r11] = e31, i10 = e31, y10 = null != t11 ? t11 : y10;
            break;
          }
        }
      } else h10.push(e31), i10 = e31, y10 = null != t11 ? t11 : y10;
    }
  }
  function x10(r11) {
    var n11 = r11.outerWidth() + 2 * f10, i11 = r11.outerHeight() + 2 * f10, a11 = n11 / 2, l11 = i11 / 2, h11 = r11.position(), u11 = "auto" === r11.pstyle("corner-radius").value ? "auto" : r11.pstyle("corner-radius").pfValue, d11 = r11._private.rscratch;
    if (h11.x - a11 <= e30 && e30 <= h11.x + a11 && h11.y - l11 <= t10 && t10 <= h11.y + l11 && o10.nodeShapes[s10.getNodeShape(r11)].checkPoint(e30, t10, 0, n11, i11, h11.x, h11.y, u11, d11)) return v10(r11, 0), true;
  }
  function b10(r11) {
    var n11, i11 = r11._private, a11 = i11.rscratch, l11 = r11.pstyle("width").pfValue, u11 = r11.pstyle("arrow-scale").value, f11 = l11 / 2 + p10, g11 = f11 * f11, y11 = 2 * f11, b11 = i11.source, k11 = i11.target;
    if ("segments" === a11.edgeType || "straight" === a11.edgeType || "haystack" === a11.edgeType) {
      for (var w11 = a11.allpts, _11 = 0; _11 + 3 < w11.length; _11 += 2) if (edx(e30, t10, w11[_11], w11[_11 + 1], w11[_11 + 2], w11[_11 + 3], y11) && g11 > (n11 = edT(e30, t10, w11[_11], w11[_11 + 1], w11[_11 + 2], w11[_11 + 3]))) return v10(r11, n11), true;
    } else if ("bezier" === a11.edgeType || "multibezier" === a11.edgeType || "self" === a11.edgeType || "compound" === a11.edgeType) {
      for (var w11 = a11.allpts, _11 = 0; _11 + 5 < a11.allpts.length; _11 += 4) if (edb(e30, t10, w11[_11], w11[_11 + 1], w11[_11 + 2], w11[_11 + 3], w11[_11 + 4], w11[_11 + 5], y11) && g11 > (n11 = ed_(e30, t10, w11[_11], w11[_11 + 1], w11[_11 + 2], w11[_11 + 3], w11[_11 + 4], w11[_11 + 5]))) return v10(r11, n11), true;
    }
    for (var b11 = b11 || i11.source, k11 = k11 || i11.target, T11 = s10.getArrowWidth(l11, u11), S10 = [{ name: "source", x: a11.arrowStartX, y: a11.arrowStartY, angle: a11.srcArrowAngle }, { name: "target", x: a11.arrowEndX, y: a11.arrowEndY, angle: a11.tgtArrowAngle }, { name: "mid-source", x: a11.midX, y: a11.midY, angle: a11.midsrcArrowAngle }, { name: "mid-target", x: a11.midX, y: a11.midY, angle: a11.midtgtArrowAngle }], _11 = 0; _11 < S10.length; _11++) {
      var C10 = S10[_11], E10 = o10.arrowShapes[r11.pstyle(C10.name + "-arrow-shape").value], A10 = r11.pstyle("width").pfValue;
      if (E10.roughCollide(e30, t10, T11, C10.angle, { x: C10.x, y: C10.y }, A10, p10) && E10.collide(e30, t10, T11, C10.angle, { x: C10.x, y: C10.y }, A10, p10)) return v10(r11), true;
    }
    d10 && h10.length > 0 && (x10(b11), x10(k11));
  }
  function k10(e31, t11, r11) {
    return euE(e31, t11, r11);
  }
  function w10(r11, n11) {
    var i11, a11 = r11._private;
    i11 = n11 ? n11 + "-" : "", r11.boundingBox();
    var s11 = a11.labelBounds[n11 || "main"], o11 = r11.pstyle(i11 + "label").value;
    if ("yes" === r11.pstyle("text-events").strValue && o11) {
      var l11 = k10(a11.rscratch, "labelX", n11), h11 = k10(a11.rscratch, "labelY", n11), u11 = k10(a11.rscratch, "labelAngle", n11), d11 = r11.pstyle(i11 + "text-margin-x").pfValue, p11 = r11.pstyle(i11 + "text-margin-y").pfValue, f11 = s11.x1 - g10 - d11, y11 = s11.x2 + g10 - d11, x11 = s11.y1 - g10 - p11, b11 = s11.y2 + g10 - p11;
      if (u11) {
        var w11 = Math.cos(u11), _11 = Math.sin(u11), T11 = iM(function(e31, t11) {
          return { x: (e31 -= l11) * w11 - (t11 -= h11) * _11 + l11, y: e31 * _11 + t11 * w11 + h11 };
        }, "rotate"), S10 = T11(f11, x11), C10 = T11(f11, b11), E10 = T11(y11, x11), A10 = T11(y11, b11);
        if (edS(e30, t10, [S10.x + d11, S10.y + p11, E10.x + d11, E10.y + p11, A10.x + d11, A10.y + p11, C10.x + d11, C10.y + p11])) return v10(r11), true;
      } else if (edg(s11, e30, t10)) return v10(r11), true;
    }
  }
  r10 && (l10 = l10.interactive), iM(v10, "addEle"), iM(x10, "checkNode"), iM(b10, "checkEdge"), iM(k10, "preprop"), iM(w10, "checkLabel");
  for (var _10 = l10.length - 1; _10 >= 0; _10--) {
    var T10 = l10[_10];
    T10.isNode() ? x10(T10) || w10(T10) : b10(T10) || w10(T10) || w10(T10, "source") || w10(T10, "target");
  }
  return h10;
}, ey5.getAllInBox = function(e30, t10, r10, n10) {
  var i10 = this.getCachedZSortedEles().interactive, a10 = [], s10 = Math.min(e30, r10), o10 = Math.max(e30, r10), l10 = Math.min(t10, n10), h10 = Math.max(t10, n10);
  e30 = s10, r10 = o10, t10 = l10;
  for (var u10 = eda({ x1: e30, y1: t10, x2: r10, y2: n10 = h10 }), d10 = 0; d10 < i10.length; d10++) {
    var p10 = i10[d10];
    if (p10.isNode()) {
      var f10 = p10.boundingBox({ includeNodes: true, includeEdges: false, includeLabels: false });
      edf(u10, f10) && !edy(f10, u10) && a10.push(p10);
    } else {
      var g10 = p10._private, y10 = g10.rscratch;
      if (null != y10.startX && null != y10.startY && !edg(u10, y10.startX, y10.startY) || null != y10.endX && null != y10.endY && !edg(u10, y10.endX, y10.endY)) continue;
      if ("bezier" === y10.edgeType || "multibezier" === y10.edgeType || "self" === y10.edgeType || "compound" === y10.edgeType || "segments" === y10.edgeType || "haystack" === y10.edgeType) {
        for (var v10 = g10.rstyle.bezierPts || g10.rstyle.linePts || g10.rstyle.haystackPts, x10 = true, b10 = 0; b10 < v10.length; b10++) if (!edm(u10, v10[b10])) {
          x10 = false;
          break;
        }
        x10 && a10.push(p10);
      } else ("haystack" === y10.edgeType || "straight" === y10.edgeType) && a10.push(p10);
    }
  }
  return a10;
};
var ey6 = {};
ey6.calculateArrowAngles = function(e30) {
  var t10 = e30._private.rscratch, r10 = "haystack" === t10.edgeType, n10 = "bezier" === t10.edgeType, i10 = "multibezier" === t10.edgeType, a10 = "segments" === t10.edgeType, s10 = "compound" === t10.edgeType, o10 = "self" === t10.edgeType;
  if (r10 ? (x10 = t10.haystackPts[0], b10 = t10.haystackPts[1], k10 = t10.haystackPts[2], w10 = t10.haystackPts[3]) : (x10 = t10.arrowStartX, b10 = t10.arrowStartY, k10 = t10.arrowEndX, w10 = t10.arrowEndY), d10 = t10.midX, p10 = t10.midY, a10) y10 = x10 - t10.segpts[0], v10 = b10 - t10.segpts[1];
  else if (i10 || s10 || o10 || n10) {
    var l10 = t10.allpts, h10 = edt(l10[0], l10[2], l10[4], 0.1), u10 = edt(l10[1], l10[3], l10[5], 0.1);
    y10 = x10 - h10, v10 = b10 - u10;
  } else y10 = x10 - d10, v10 = b10 - p10;
  t10.srcArrowAngle = eu5(y10, v10);
  var d10 = t10.midX, p10 = t10.midY;
  if (r10 && (d10 = (x10 + k10) / 2, p10 = (b10 + w10) / 2), y10 = k10 - x10, v10 = w10 - b10, a10) {
    var l10 = t10.allpts;
    if (l10.length / 2 % 2 == 0) {
      var f10 = l10.length / 2, g10 = f10 - 2;
      y10 = l10[f10] - l10[g10], v10 = l10[f10 + 1] - l10[g10 + 1];
    } else if (t10.isRound) y10 = t10.midVector[1], v10 = -t10.midVector[0];
    else {
      var f10 = l10.length / 2 - 1, g10 = f10 - 2;
      y10 = l10[f10] - l10[g10], v10 = l10[f10 + 1] - l10[g10 + 1];
    }
  } else if (i10 || s10 || o10) {
    var y10, v10, x10, b10, k10, w10, d10, p10, _10, T10, S10, C10, l10 = t10.allpts;
    if (t10.ctrlpts.length / 2 % 2 == 0) {
      var E10 = l10.length / 2 - 1, A10 = E10 + 2, L10 = A10 + 2;
      _10 = edt(l10[E10], l10[A10], l10[L10], 0), T10 = edt(l10[E10 + 1], l10[A10 + 1], l10[L10 + 1], 0), S10 = edt(l10[E10], l10[A10], l10[L10], 1e-4), C10 = edt(l10[E10 + 1], l10[A10 + 1], l10[L10 + 1], 1e-4);
    } else {
      var A10 = l10.length / 2 - 1, E10 = A10 - 2, L10 = A10 + 2;
      _10 = edt(l10[E10], l10[A10], l10[L10], 0.4999), T10 = edt(l10[E10 + 1], l10[A10 + 1], l10[L10 + 1], 0.4999), S10 = edt(l10[E10], l10[A10], l10[L10], 0.5), C10 = edt(l10[E10 + 1], l10[A10 + 1], l10[L10 + 1], 0.5);
    }
    y10 = S10 - _10, v10 = C10 - T10;
  }
  if (t10.midtgtArrowAngle = eu5(y10, v10), t10.midDispX = y10, t10.midDispY = v10, y10 *= -1, v10 *= -1, a10) {
    var l10 = t10.allpts;
    if (l10.length / 2 % 2 == 0) ;
    else if (!t10.isRound) {
      var f10 = l10.length / 2 - 1, I10 = f10 + 2;
      y10 = -(l10[I10] - l10[f10]), v10 = -(l10[I10 + 1] - l10[f10 + 1]);
    }
  }
  if (t10.midsrcArrowAngle = eu5(y10, v10), a10) y10 = k10 - t10.segpts[t10.segpts.length - 2], v10 = w10 - t10.segpts[t10.segpts.length - 1];
  else if (i10 || s10 || o10 || n10) {
    var l10 = t10.allpts, M10 = l10.length, h10 = edt(l10[M10 - 6], l10[M10 - 4], l10[M10 - 2], 0.9), u10 = edt(l10[M10 - 5], l10[M10 - 3], l10[M10 - 1], 0.9);
    y10 = k10 - h10, v10 = w10 - u10;
  } else y10 = k10 - d10, v10 = w10 - p10;
  t10.tgtArrowAngle = eu5(y10, v10);
}, ey6.getArrowWidth = ey6.getArrowHeight = function(e30, t10) {
  var r10 = this.arrowWidthCache = this.arrowWidthCache || {}, n10 = r10[e30 + ", " + t10];
  return n10 || (n10 = Math.max(Math.pow(13.37 * e30, 0.9), 29) * t10, r10[e30 + ", " + t10] = n10), n10;
};
var ey7 = {}, ey8 = {}, ey9 = iM(function(e30, t10, r10) {
  r10.x = t10.x - e30.x, r10.y = t10.y - e30.y, r10.len = Math.sqrt(r10.x * r10.x + r10.y * r10.y), r10.nx = r10.x / r10.len, r10.ny = r10.y / r10.len, r10.ang = Math.atan2(r10.ny, r10.nx);
}, "asVec"), eve = iM(function(e30, t10) {
  t10.x = -1 * e30.x, t10.y = -1 * e30.y, t10.nx = -1 * e30.nx, t10.ny = -1 * e30.ny, t10.ang = e30.ang > 0 ? -(Math.PI - e30.ang) : Math.PI + e30.ang;
}, "invertVec"), evt = iM(function(e30, t10, r10, n10, i10) {
  if (e30 !== iv ? ey9(t10, e30, ey7) : eve(ey8, ey7), ey9(t10, r10, ey8), ir = ey7.nx * ey8.ny - ey7.ny * ey8.nx, ii = ey7.nx * ey8.nx - -(ey7.ny * ey8.ny), 1e-6 > Math.abs(io = Math.asin(Math.max(-1, Math.min(1, ir))))) {
    ie = t10.x, it = t10.y, ic = iu = 0;
    return;
  }
  ia = 1, is = false, ii < 0 ? io < 0 ? io = Math.PI + io : (io = Math.PI - io, ia = -1, is = true) : io > 0 && (ia = -1, is = true), iu = void 0 !== t10.radius ? t10.radius : n10, il = io / 2, id = Math.min(ey7.len / 2, ey8.len / 2), ic = i10 ? (ih = Math.abs(Math.cos(il) * iu / Math.sin(il))) > id ? Math.abs((ih = id) * Math.sin(il) / Math.cos(il)) : iu : Math.abs((ih = Math.min(id, iu)) * Math.sin(il) / Math.cos(il)), im = t10.x + ey8.nx * ih, iy = t10.y + ey8.ny * ih, ie = im - ey8.ny * ic * ia, it = iy + ey8.nx * ic * ia, ip = t10.x + ey7.nx * ih, ig = t10.y + ey7.ny * ih, iv = t10;
}, "calcCornerArc");
function evr(e30, t10) {
  0 === t10.radius ? e30.lineTo(t10.cx, t10.cy) : e30.arc(t10.cx, t10.cy, t10.radius, t10.startAngle, t10.endAngle, t10.counterClockwise);
}
function evn(e30, t10, r10, n10) {
  var i10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4];
  return 0 === n10 || 0 === t10.radius ? { cx: t10.x, cy: t10.y, radius: 0, startX: t10.x, startY: t10.y, stopX: t10.x, stopY: t10.y, startAngle: void 0, endAngle: void 0, counterClockwise: void 0 } : (evt(e30, t10, r10, n10, i10), { cx: ie, cy: it, radius: ic, startX: ip, startY: ig, stopX: im, stopY: iy, startAngle: ey7.ang + Math.PI / 2 * ia, endAngle: ey8.ang - Math.PI / 2 * ia, counterClockwise: is });
}
iM(evr, "drawPreparedRoundCorner"), iM(evn, "getRoundCorner");
var evi = {};
function eva(e30) {
  var t10 = [];
  if (null != e30) {
    for (var r10 = 0; r10 < e30.length; r10 += 2) {
      var n10 = e30[r10], i10 = e30[r10 + 1];
      t10.push({ x: n10, y: i10 });
    }
    return t10;
  }
}
evi.findMidptPtsEtc = function(e30, t10) {
  var r10, n10 = t10.posPts, i10 = t10.intersectionPts, a10 = t10.vectorNormInverse, s10 = e30.pstyle("source-endpoint"), o10 = e30.pstyle("target-endpoint"), l10 = null != s10.units && null != o10.units, h10 = iM(function(e31, t11, r11, n11) {
    var i11 = n11 - t11, a11 = r11 - e31, s11 = Math.sqrt(a11 * a11 + i11 * i11);
    return { x: -i11 / s11, y: a11 / s11 };
  }, "recalcVectorNormInverse");
  switch (e30.pstyle("edge-distances").value) {
    case "node-position":
      r10 = n10;
      break;
    case "intersection":
      r10 = i10;
      break;
    case "endpoints":
      if (l10) {
        var u10 = ecD(this.manualEndptToPx(e30.source()[0], s10), 2), d10 = u10[0], p10 = u10[1], f10 = ecD(this.manualEndptToPx(e30.target()[0], o10), 2), g10 = f10[0], y10 = f10[1];
        a10 = h10(d10, p10, g10, y10), r10 = { x1: d10, y1: p10, x2: g10, y2: y10 };
      } else eum("Edge ".concat(e30.id(), " has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")), r10 = i10;
  }
  return { midptPts: r10, vectorNormInverse: a10 };
}, evi.findHaystackPoints = function(e30) {
  for (var t10 = 0; t10 < e30.length; t10++) {
    var r10 = e30[t10], n10 = r10._private, i10 = n10.rscratch;
    if (!i10.haystack) {
      var a10 = 2 * Math.random() * Math.PI;
      i10.source = { x: Math.cos(a10), y: Math.sin(a10) }, a10 = 2 * Math.random() * Math.PI, i10.target = { x: Math.cos(a10), y: Math.sin(a10) };
    }
    var s10 = n10.source, o10 = n10.target, l10 = s10.position(), h10 = o10.position(), u10 = s10.width(), d10 = o10.width(), p10 = s10.height(), f10 = o10.height(), g10 = r10.pstyle("haystack-radius").value / 2;
    i10.haystackPts = i10.allpts = [i10.source.x * u10 * g10 + l10.x, i10.source.y * p10 * g10 + l10.y, i10.target.x * d10 * g10 + h10.x, i10.target.y * f10 * g10 + h10.y], i10.midX = (i10.allpts[0] + i10.allpts[2]) / 2, i10.midY = (i10.allpts[1] + i10.allpts[3]) / 2, i10.edgeType = "haystack", i10.haystack = true, this.storeEdgeProjections(r10), this.calculateArrowAngles(r10), this.recalculateEdgeLabelProjections(r10), this.calculateLabelAngles(r10);
  }
}, evi.findSegmentsPoints = function(e30, t10) {
  var r10 = e30._private.rscratch, n10 = e30.pstyle("segment-weights"), i10 = e30.pstyle("segment-distances"), a10 = e30.pstyle("segment-radii"), s10 = e30.pstyle("radius-type"), o10 = Math.min(n10.pfValue.length, i10.pfValue.length), l10 = a10.pfValue[a10.pfValue.length - 1], h10 = s10.pfValue[s10.pfValue.length - 1];
  r10.edgeType = "segments", r10.segpts = [], r10.radii = [], r10.isArcRadius = [];
  for (var u10 = 0; u10 < o10; u10++) {
    var d10 = n10.pfValue[u10], p10 = i10.pfValue[u10], f10 = 1 - d10, g10 = this.findMidptPtsEtc(e30, t10), y10 = g10.midptPts, v10 = g10.vectorNormInverse, x10 = { x: y10.x1 * f10 + y10.x2 * d10, y: y10.y1 * f10 + y10.y2 * d10 };
    r10.segpts.push(x10.x + v10.x * p10, x10.y + v10.y * p10), r10.radii.push(void 0 !== a10.pfValue[u10] ? a10.pfValue[u10] : l10), r10.isArcRadius.push((void 0 !== s10.pfValue[u10] ? s10.pfValue[u10] : h10) === "arc-radius");
  }
}, evi.findLoopPoints = function(e30, t10, r10, n10) {
  var i10 = e30._private.rscratch, a10 = t10.dirCounts, s10 = t10.srcPos, o10 = e30.pstyle("control-point-distances"), l10 = o10 ? o10.pfValue[0] : void 0, h10 = e30.pstyle("loop-direction").pfValue, u10 = e30.pstyle("loop-sweep").pfValue, d10 = e30.pstyle("control-point-step-size").pfValue;
  i10.edgeType = "self";
  var p10 = r10, f10 = d10;
  n10 && (p10 = 0, f10 = l10);
  var g10 = h10 - Math.PI / 2, y10 = g10 - u10 / 2, v10 = g10 + u10 / 2, x10 = String(h10 + "_" + u10);
  p10 = void 0 === a10[x10] ? a10[x10] = 0 : ++a10[x10], i10.ctrlpts = [s10.x + 1.4 * Math.cos(y10) * f10 * (p10 / 3 + 1), s10.y + 1.4 * Math.sin(y10) * f10 * (p10 / 3 + 1), s10.x + 1.4 * Math.cos(v10) * f10 * (p10 / 3 + 1), s10.y + 1.4 * Math.sin(v10) * f10 * (p10 / 3 + 1)];
}, evi.findCompoundLoopPoints = function(e30, t10, r10, n10) {
  var i10 = e30._private.rscratch;
  i10.edgeType = "compound";
  var a10 = t10.srcPos, s10 = t10.tgtPos, o10 = t10.srcW, l10 = t10.srcH, h10 = t10.tgtW, u10 = t10.tgtH, d10 = e30.pstyle("control-point-step-size").pfValue, p10 = e30.pstyle("control-point-distances"), f10 = p10 ? p10.pfValue[0] : void 0, g10 = r10, y10 = d10;
  n10 && (g10 = 0, y10 = f10);
  var v10 = { x: a10.x - o10 / 2, y: a10.y - l10 / 2 }, x10 = { x: s10.x - h10 / 2, y: s10.y - u10 / 2 }, b10 = { x: Math.min(v10.x, x10.x), y: Math.min(v10.y, x10.y) }, k10 = Math.max(0.5, Math.log(0.01 * o10)), w10 = Math.max(0.5, Math.log(0.01 * h10));
  i10.ctrlpts = [b10.x, b10.y - 1.7995514309304248 * y10 * (g10 / 3 + 1) * k10, b10.x - 1.7995514309304248 * y10 * (g10 / 3 + 1) * w10, b10.y];
}, evi.findStraightEdgePoints = function(e30) {
  e30._private.rscratch.edgeType = "straight";
}, evi.findBezierPoints = function(e30, t10, r10, n10, i10) {
  var a10 = e30._private.rscratch, s10 = e30.pstyle("control-point-step-size").pfValue, o10 = e30.pstyle("control-point-distances"), l10 = e30.pstyle("control-point-weights"), h10 = o10 && l10 ? Math.min(o10.value.length, l10.value.length) : 1, u10 = o10 ? o10.pfValue[0] : void 0, d10 = l10.value[0];
  a10.edgeType = n10 ? "multibezier" : "bezier", a10.ctrlpts = [];
  for (var p10 = 0; p10 < h10; p10++) {
    var f10 = (0.5 - t10.eles.length / 2 + r10) * s10 * (i10 ? -1 : 1), g10 = void 0, y10 = eu7(f10);
    n10 && (u10 = o10 ? o10.pfValue[p10] : s10, d10 = l10.value[p10]);
    var v10 = void 0 !== (g10 = n10 ? u10 : void 0 !== u10 ? y10 * u10 : void 0) ? g10 : f10, x10 = 1 - d10, b10 = d10, k10 = this.findMidptPtsEtc(e30, t10), w10 = k10.midptPts, _10 = k10.vectorNormInverse, T10 = { x: w10.x1 * x10 + w10.x2 * b10, y: w10.y1 * x10 + w10.y2 * b10 };
    a10.ctrlpts.push(T10.x + _10.x * v10, T10.y + _10.y * v10);
  }
}, evi.findTaxiPoints = function(e30, t10) {
  var r10, n10 = e30._private.rscratch;
  n10.edgeType = "segments";
  var i10 = "vertical", a10 = "horizontal", s10 = "leftward", o10 = "rightward", l10 = "downward", h10 = "upward", u10 = t10.posPts, d10 = t10.srcW, p10 = t10.srcH, f10 = t10.tgtW, g10 = t10.tgtH, y10 = "node-position" !== e30.pstyle("edge-distances").value, v10 = e30.pstyle("taxi-direction").value, x10 = v10, b10 = e30.pstyle("taxi-turn"), k10 = "%" === b10.units, w10 = b10.pfValue, _10 = e30.pstyle("taxi-turn-min-distance").pfValue, T10 = u10.x2 - u10.x1, S10 = u10.y2 - u10.y1, C10 = iM(function(e31, t11) {
    return e31 > 0 ? Math.max(e31 - t11, 0) : Math.min(e31 + t11, 0);
  }, "subDWH"), E10 = C10(T10, y10 ? (d10 + f10) / 2 : 0), A10 = C10(S10, y10 ? (p10 + g10) / 2 : 0), L10 = false;
  "auto" === x10 ? v10 = Math.abs(E10) > Math.abs(A10) ? a10 : i10 : x10 === h10 || x10 === l10 ? (v10 = i10, L10 = true) : (x10 === s10 || x10 === o10) && (v10 = a10, L10 = true);
  var I10 = v10 === i10, M10 = I10 ? A10 : E10, N10 = I10 ? S10 : T10, R10 = eu7(N10), D10 = false;
  !(L10 && (k10 || w10 < 0)) && (x10 === l10 && N10 < 0 || x10 === h10 && N10 > 0 || x10 === s10 && N10 > 0 || x10 === o10 && N10 < 0) && (R10 *= -1, M10 = R10 * Math.abs(M10), D10 = true), r10 = k10 ? (w10 < 0 ? 1 + w10 : w10) * M10 : (w10 < 0 ? M10 : 0) + w10 * R10;
  var O10 = iM(function(e31) {
    return Math.abs(e31) < _10 || Math.abs(e31) >= Math.abs(M10);
  }, "getIsTooClose"), $10 = O10(r10), P10 = O10(Math.abs(M10) - Math.abs(r10));
  if (($10 || P10) && !D10) {
    if (I10) {
      var B10 = Math.abs(T10) <= f10 / 2;
      if (Math.abs(N10) <= p10 / 2) {
        var F10 = (u10.x1 + u10.x2) / 2, z10 = u10.y1, j10 = u10.y2;
        n10.segpts = [F10, z10, F10, j10];
      } else if (B10) {
        var q10 = (u10.y1 + u10.y2) / 2, U10 = u10.x1, W10 = u10.x2;
        n10.segpts = [U10, q10, W10, q10];
      } else n10.segpts = [u10.x1, u10.y2];
    } else {
      var V10 = Math.abs(S10) <= g10 / 2;
      if (Math.abs(N10) <= d10 / 2) {
        var H10 = (u10.y1 + u10.y2) / 2, Y10 = u10.x1, G10 = u10.x2;
        n10.segpts = [Y10, H10, G10, H10];
      } else if (V10) {
        var X10 = (u10.x1 + u10.x2) / 2, K10 = u10.y1, Z10 = u10.y2;
        n10.segpts = [X10, K10, X10, Z10];
      } else n10.segpts = [u10.x2, u10.y1];
    }
  } else if (I10) {
    var Q10 = u10.y1 + r10 + (y10 ? p10 / 2 * R10 : 0), J10 = u10.x1, ee10 = u10.x2;
    n10.segpts = [J10, Q10, ee10, Q10];
  } else {
    var et10 = u10.x1 + r10 + (y10 ? d10 / 2 * R10 : 0), er10 = u10.y1, en10 = u10.y2;
    n10.segpts = [et10, er10, et10, en10];
  }
  if (n10.isRound) {
    var ei10 = e30.pstyle("taxi-radius").value, ea10 = "arc-radius" === e30.pstyle("radius-type").value[0];
    n10.radii = Array(n10.segpts.length / 2).fill(ei10), n10.isArcRadius = Array(n10.segpts.length / 2).fill(ea10);
  }
}, evi.tryToCorrectInvalidPoints = function(e30, t10) {
  var r10 = e30._private.rscratch;
  if ("bezier" === r10.edgeType) {
    var n10 = t10.srcPos, i10 = t10.tgtPos, a10 = t10.srcW, s10 = t10.srcH, o10 = t10.tgtW, l10 = t10.tgtH, h10 = t10.srcShape, u10 = t10.tgtShape, d10 = t10.srcCornerRadius, p10 = t10.tgtCornerRadius, f10 = t10.srcRs, g10 = t10.tgtRs, y10 = !ecJ(r10.startX) || !ecJ(r10.startY), v10 = !ecJ(r10.arrowStartX) || !ecJ(r10.arrowStartY), x10 = !ecJ(r10.endX) || !ecJ(r10.endY), b10 = !ecJ(r10.arrowEndX) || !ecJ(r10.arrowEndY), k10 = 3 * (this.getArrowWidth(e30.pstyle("width").pfValue, e30.pstyle("arrow-scale").value) * this.arrowShapeWidth), w10 = eu8({ x: r10.ctrlpts[0], y: r10.ctrlpts[1] }, { x: r10.startX, y: r10.startY }), _10 = w10 < k10, T10 = eu8({ x: r10.ctrlpts[0], y: r10.ctrlpts[1] }, { x: r10.endX, y: r10.endY }), S10 = T10 < k10, C10 = false;
    if (y10 || v10 || _10) {
      C10 = true;
      var E10 = { x: r10.ctrlpts[0] - n10.x, y: r10.ctrlpts[1] - n10.y }, A10 = Math.sqrt(E10.x * E10.x + E10.y * E10.y), L10 = { x: E10.x / A10, y: E10.y / A10 }, I10 = Math.max(a10, s10), M10 = { x: r10.ctrlpts[0] + 2 * L10.x * I10, y: r10.ctrlpts[1] + 2 * L10.y * I10 }, N10 = h10.intersectLine(n10.x, n10.y, a10, s10, M10.x, M10.y, 0, d10, f10);
      _10 ? (r10.ctrlpts[0] = r10.ctrlpts[0] + L10.x * (k10 - w10), r10.ctrlpts[1] = r10.ctrlpts[1] + L10.y * (k10 - w10)) : (r10.ctrlpts[0] = N10[0] + L10.x * k10, r10.ctrlpts[1] = N10[1] + L10.y * k10);
    }
    if (x10 || b10 || S10) {
      C10 = true;
      var R10 = { x: r10.ctrlpts[0] - i10.x, y: r10.ctrlpts[1] - i10.y }, D10 = Math.sqrt(R10.x * R10.x + R10.y * R10.y), O10 = { x: R10.x / D10, y: R10.y / D10 }, $10 = Math.max(a10, s10), P10 = { x: r10.ctrlpts[0] + 2 * O10.x * $10, y: r10.ctrlpts[1] + 2 * O10.y * $10 }, B10 = u10.intersectLine(i10.x, i10.y, o10, l10, P10.x, P10.y, 0, p10, g10);
      S10 ? (r10.ctrlpts[0] = r10.ctrlpts[0] + O10.x * (k10 - T10), r10.ctrlpts[1] = r10.ctrlpts[1] + O10.y * (k10 - T10)) : (r10.ctrlpts[0] = B10[0] + O10.x * k10, r10.ctrlpts[1] = B10[1] + O10.y * k10);
    }
    C10 && this.findEndpoints(e30);
  }
}, evi.storeAllpts = function(e30) {
  var t10 = e30._private.rscratch;
  if ("multibezier" === t10.edgeType || "bezier" === t10.edgeType || "self" === t10.edgeType || "compound" === t10.edgeType) {
    t10.allpts = [], t10.allpts.push(t10.startX, t10.startY);
    for (var r10, n10 = 0; n10 + 1 < t10.ctrlpts.length; n10 += 2) t10.allpts.push(t10.ctrlpts[n10], t10.ctrlpts[n10 + 1]), n10 + 3 < t10.ctrlpts.length && t10.allpts.push((t10.ctrlpts[n10] + t10.ctrlpts[n10 + 2]) / 2, (t10.ctrlpts[n10 + 1] + t10.ctrlpts[n10 + 3]) / 2);
    (t10.allpts.push(t10.endX, t10.endY), t10.ctrlpts.length / 2 % 2 == 0) ? (r10 = t10.allpts.length / 2 - 1, t10.midX = t10.allpts[r10], t10.midY = t10.allpts[r10 + 1]) : (r10 = t10.allpts.length / 2 - 3, t10.midX = edt(t10.allpts[r10], t10.allpts[r10 + 2], t10.allpts[r10 + 4], 0.5), t10.midY = edt(t10.allpts[r10 + 1], t10.allpts[r10 + 3], t10.allpts[r10 + 5], 0.5));
  } else if ("straight" === t10.edgeType) t10.allpts = [t10.startX, t10.startY, t10.endX, t10.endY], t10.midX = (t10.startX + t10.endX + t10.arrowStartX + t10.arrowEndX) / 4, t10.midY = (t10.startY + t10.endY + t10.arrowStartY + t10.arrowEndY) / 4;
  else if ("segments" === t10.edgeType) {
    if (t10.allpts = [], t10.allpts.push(t10.startX, t10.startY), t10.allpts.push.apply(t10.allpts, t10.segpts), t10.allpts.push(t10.endX, t10.endY), t10.isRound) {
      t10.roundCorners = [];
      for (var i10 = 2; i10 + 3 < t10.allpts.length; i10 += 2) {
        var a10 = t10.radii[i10 / 2 - 1], s10 = t10.isArcRadius[i10 / 2 - 1];
        t10.roundCorners.push(evn({ x: t10.allpts[i10 - 2], y: t10.allpts[i10 - 1] }, { x: t10.allpts[i10], y: t10.allpts[i10 + 1], radius: a10 }, { x: t10.allpts[i10 + 2], y: t10.allpts[i10 + 3] }, a10, s10));
      }
    }
    if (t10.segpts.length % 4 == 0) {
      var o10 = t10.segpts.length / 2, l10 = o10 - 2;
      t10.midX = (t10.segpts[l10] + t10.segpts[o10]) / 2, t10.midY = (t10.segpts[l10 + 1] + t10.segpts[o10 + 1]) / 2;
    } else {
      var h10 = t10.segpts.length / 2 - 1;
      if (t10.isRound) {
        var u10 = { x: t10.segpts[h10], y: t10.segpts[h10 + 1] }, d10 = t10.roundCorners[h10 / 2], p10 = [u10.x - d10.cx, u10.y - d10.cy], f10 = d10.radius / Math.sqrt(Math.pow(p10[0], 2) + Math.pow(p10[1], 2));
        p10 = p10.map(function(e31) {
          return e31 * f10;
        }), t10.midX = d10.cx + p10[0], t10.midY = d10.cy + p10[1], t10.midVector = p10;
      } else t10.midX = t10.segpts[h10], t10.midY = t10.segpts[h10 + 1];
    }
  }
}, evi.checkForInvalidEdgeWarning = function(e30) {
  var t10 = e30[0]._private.rscratch;
  t10.nodesOverlap || ecJ(t10.startX) && ecJ(t10.startY) && ecJ(t10.endX) && ecJ(t10.endY) ? t10.loggedErr = false : t10.loggedErr || (t10.loggedErr = true, eum("Edge `" + e30.id() + "` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."));
}, evi.findEdgeControlPoints = function(e30) {
  var t10 = this;
  if (e30 && 0 !== e30.length) {
    for (var r10 = this, n10 = r10.cy.hasCompoundNodes(), i10 = { map: new euI(), get: iM(function(e31) {
      var t11 = this.map.get(e31[0]);
      return null != t11 ? t11.get(e31[1]) : null;
    }, "get"), set: iM(function(e31, t11) {
      var r11 = this.map.get(e31[0]);
      null == r11 && (r11 = new euI(), this.map.set(e31[0], r11)), r11.set(e31[1], t11);
    }, "set") }, a10 = [], s10 = [], o10 = 0; o10 < e30.length; o10++) {
      var l10 = e30[o10], h10 = l10._private, u10 = l10.pstyle("curve-style").value;
      if (!l10.removed() && l10.takesUpSpace()) {
        if ("haystack" === u10) {
          s10.push(l10);
          continue;
        }
        var d10 = "unbundled-bezier" === u10 || u10.endsWith("segments") || "straight" === u10 || "straight-triangle" === u10 || u10.endsWith("taxi"), p10 = "unbundled-bezier" === u10 || "bezier" === u10, f10 = h10.source, g10 = h10.target, y10 = [f10.poolIndex(), g10.poolIndex()].sort(), v10 = i10.get(y10);
        null == v10 && (v10 = { eles: [] }, i10.set(y10, v10), a10.push(y10)), v10.eles.push(l10), d10 && (v10.hasUnbundled = true), p10 && (v10.hasBezier = true);
      }
    }
    for (var x10 = iM(function(e31) {
      var s11 = a10[e31], o11 = i10.get(s11), l11 = void 0;
      if (!o11.hasUnbundled) {
        var h11 = o11.eles[0].parallelEdges().filter(function(e32) {
          return e32.isBundledBezier();
        });
        euS(o11.eles), h11.forEach(function(e32) {
          return o11.eles.push(e32);
        }), o11.eles.sort(function(e32, t11) {
          return e32.poolIndex() - t11.poolIndex();
        });
      }
      var u11 = o11.eles[0], d11 = u11.source(), p11 = u11.target();
      if (d11.poolIndex() > p11.poolIndex()) {
        var f11 = d11;
        d11 = p11, p11 = f11;
      }
      var g11 = o11.srcPos = d11.position(), y11 = o11.tgtPos = p11.position(), v11 = o11.srcW = d11.outerWidth(), x11 = o11.srcH = d11.outerHeight(), b11 = o11.tgtW = p11.outerWidth(), k10 = o11.tgtH = p11.outerHeight(), w10 = o11.srcShape = r10.nodeShapes[t10.getNodeShape(d11)], _10 = o11.tgtShape = r10.nodeShapes[t10.getNodeShape(p11)], T10 = o11.srcCornerRadius = "auto" === d11.pstyle("corner-radius").value ? "auto" : d11.pstyle("corner-radius").pfValue, S10 = o11.tgtCornerRadius = "auto" === p11.pstyle("corner-radius").value ? "auto" : p11.pstyle("corner-radius").pfValue, C10 = o11.tgtRs = p11._private.rscratch, E10 = o11.srcRs = d11._private.rscratch;
      o11.dirCounts = { north: 0, west: 0, south: 0, east: 0, northwest: 0, southwest: 0, northeast: 0, southeast: 0 };
      for (var A10 = 0; A10 < o11.eles.length; A10++) {
        var L10 = o11.eles[A10], I10 = L10[0]._private.rscratch, M10 = L10.pstyle("curve-style").value, N10 = "unbundled-bezier" === M10 || M10.endsWith("segments") || M10.endsWith("taxi"), R10 = !d11.same(L10.source());
        if (!o11.calculatedIntersection && d11 !== p11 && (o11.hasBezier || o11.hasUnbundled)) {
          o11.calculatedIntersection = true;
          var D10 = w10.intersectLine(g11.x, g11.y, v11, x11, y11.x, y11.y, 0, T10, E10), O10 = o11.srcIntn = D10, $10 = _10.intersectLine(y11.x, y11.y, b11, k10, g11.x, g11.y, 0, S10, C10), P10 = o11.tgtIntn = $10, B10 = o11.intersectionPts = { x1: D10[0], x2: $10[0], y1: D10[1], y2: $10[1] }, F10 = o11.posPts = { x1: g11.x, x2: y11.x, y1: g11.y, y2: y11.y }, z10 = $10[1] - D10[1], j10 = $10[0] - D10[0], q10 = Math.sqrt(j10 * j10 + z10 * z10), U10 = o11.vector = { x: j10, y: z10 }, W10 = o11.vectorNorm = { x: U10.x / q10, y: U10.y / q10 }, V10 = { x: -W10.y, y: W10.x };
          o11.nodesOverlap = !ecJ(q10) || _10.checkPoint(D10[0], D10[1], 0, b11, k10, y11.x, y11.y, S10, C10) || w10.checkPoint($10[0], $10[1], 0, v11, x11, g11.x, g11.y, T10, E10), o11.vectorNormInverse = V10, l11 = { nodesOverlap: o11.nodesOverlap, dirCounts: o11.dirCounts, calculatedIntersection: true, hasBezier: o11.hasBezier, hasUnbundled: o11.hasUnbundled, eles: o11.eles, srcPos: y11, tgtPos: g11, srcW: b11, srcH: k10, tgtW: v11, tgtH: x11, srcIntn: P10, tgtIntn: O10, srcShape: _10, tgtShape: w10, posPts: { x1: F10.x2, y1: F10.y2, x2: F10.x1, y2: F10.y1 }, intersectionPts: { x1: B10.x2, y1: B10.y2, x2: B10.x1, y2: B10.y1 }, vector: { x: -U10.x, y: -U10.y }, vectorNorm: { x: -W10.x, y: -W10.y }, vectorNormInverse: { x: -V10.x, y: -V10.y } };
        }
        var H10 = R10 ? l11 : o11;
        I10.nodesOverlap = H10.nodesOverlap, I10.srcIntn = H10.srcIntn, I10.tgtIntn = H10.tgtIntn, I10.isRound = M10.startsWith("round"), n10 && (d11.isParent() || d11.isChild() || p11.isParent() || p11.isChild()) && (d11.parents().anySame(p11) || p11.parents().anySame(d11) || d11.same(p11) && d11.isParent()) ? t10.findCompoundLoopPoints(L10, H10, A10, N10) : d11 === p11 ? t10.findLoopPoints(L10, H10, A10, N10) : M10.endsWith("segments") ? t10.findSegmentsPoints(L10, H10) : M10.endsWith("taxi") ? t10.findTaxiPoints(L10, H10) : "straight" !== M10 && (N10 || o11.eles.length % 2 != 1 || A10 !== Math.floor(o11.eles.length / 2)) ? t10.findBezierPoints(L10, H10, A10, N10, R10) : t10.findStraightEdgePoints(L10), t10.findEndpoints(L10), t10.tryToCorrectInvalidPoints(L10, H10), t10.checkForInvalidEdgeWarning(L10), t10.storeAllpts(L10), t10.storeEdgeProjections(L10), t10.calculateArrowAngles(L10), t10.recalculateEdgeLabelProjections(L10), t10.calculateLabelAngles(L10);
      }
    }, "_loop"), b10 = 0; b10 < a10.length; b10++) x10(b10);
    this.findHaystackPoints(s10);
  }
}, iM(eva, "getPts"), evi.getSegmentPoints = function(e30) {
  var t10 = e30[0]._private.rscratch;
  if ("segments" === t10.edgeType) return this.recalculateRenderedStyle(e30), eva(t10.segpts);
}, evi.getControlPoints = function(e30) {
  var t10 = e30[0]._private.rscratch, r10 = t10.edgeType;
  if ("bezier" === r10 || "multibezier" === r10 || "self" === r10 || "compound" === r10) return this.recalculateRenderedStyle(e30), eva(t10.ctrlpts);
}, evi.getEdgeMidpoint = function(e30) {
  var t10 = e30[0]._private.rscratch;
  return this.recalculateRenderedStyle(e30), { x: t10.midX, y: t10.midY };
};
var evs = {};
evs.manualEndptToPx = function(e30, t10) {
  var r10 = e30.position(), n10 = e30.outerWidth(), i10 = e30.outerHeight(), a10 = e30._private.rscratch;
  if (2 === t10.value.length) {
    var s10 = [t10.pfValue[0], t10.pfValue[1]];
    return "%" === t10.units[0] && (s10[0] = s10[0] * n10), "%" === t10.units[1] && (s10[1] = s10[1] * i10), s10[0] += r10.x, s10[1] += r10.y, s10;
  }
  var o10 = t10.pfValue[0];
  o10 = -Math.PI / 2 + o10;
  var l10 = 2 * Math.max(n10, i10), h10 = [r10.x + Math.cos(o10) * l10, r10.y + Math.sin(o10) * l10];
  return this.nodeShapes[this.getNodeShape(e30)].intersectLine(r10.x, r10.y, n10, i10, h10[0], h10[1], 0, "auto" === e30.pstyle("corner-radius").value ? "auto" : e30.pstyle("corner-radius").pfValue, a10);
}, evs.findEndpoints = function(e30) {
  var t10, r10, n10, i10, a10, s10 = e30.source()[0], o10 = e30.target()[0], l10 = s10.position(), h10 = o10.position(), u10 = e30.pstyle("target-arrow-shape").value, d10 = e30.pstyle("source-arrow-shape").value, p10 = e30.pstyle("target-distance-from-node").pfValue, f10 = e30.pstyle("source-distance-from-node").pfValue, g10 = s10._private.rscratch, y10 = o10._private.rscratch, v10 = e30.pstyle("curve-style").value, x10 = e30._private.rscratch, b10 = x10.edgeType, k10 = "self" === b10 || "compound" === b10, w10 = "bezier" === b10 || "multibezier" === b10 || k10, _10 = "bezier" !== b10, T10 = "straight" === b10 || "segments" === b10, S10 = "segments" === b10, C10 = k10 || "taxi" === v10, E10 = e30.pstyle("source-endpoint"), A10 = C10 ? "outside-to-node" : E10.value, L10 = "auto" === s10.pstyle("corner-radius").value ? "auto" : s10.pstyle("corner-radius").pfValue, I10 = e30.pstyle("target-endpoint"), M10 = C10 ? "outside-to-node" : I10.value, N10 = "auto" === o10.pstyle("corner-radius").value ? "auto" : o10.pstyle("corner-radius").pfValue;
  if (x10.srcManEndpt = E10, x10.tgtManEndpt = I10, w10) {
    var R10 = [x10.ctrlpts[0], x10.ctrlpts[1]];
    r10 = _10 ? [x10.ctrlpts[x10.ctrlpts.length - 2], x10.ctrlpts[x10.ctrlpts.length - 1]] : R10, n10 = R10;
  } else if (T10) {
    var D10 = S10 ? x10.segpts.slice(0, 2) : [h10.x, h10.y];
    r10 = S10 ? x10.segpts.slice(x10.segpts.length - 2) : [l10.x, l10.y], n10 = D10;
  }
  if ("inside-to-node" === M10) t10 = [h10.x, h10.y];
  else if (I10.units) t10 = this.manualEndptToPx(o10, I10);
  else if ("outside-to-line" === M10) t10 = x10.tgtIntn;
  else if ("outside-to-node" === M10 || "outside-to-node-or-label" === M10 ? i10 = r10 : ("outside-to-line" === M10 || "outside-to-line-or-label" === M10) && (i10 = [l10.x, l10.y]), t10 = this.nodeShapes[this.getNodeShape(o10)].intersectLine(h10.x, h10.y, o10.outerWidth(), o10.outerHeight(), i10[0], i10[1], 0, N10, y10), "outside-to-node-or-label" === M10 || "outside-to-line-or-label" === M10) {
    var O10 = o10._private.rscratch, $10 = O10.labelWidth, P10 = O10.labelHeight, B10 = O10.labelX, F10 = O10.labelY, z10 = $10 / 2, j10 = P10 / 2, q10 = o10.pstyle("text-valign").value;
    "top" === q10 ? F10 -= j10 : "bottom" === q10 && (F10 += j10);
    var U10 = o10.pstyle("text-halign").value;
    "left" === U10 ? B10 -= z10 : "right" === U10 && (B10 += z10);
    var W10 = edO(i10[0], i10[1], [B10 - z10, F10 - j10, B10 + z10, F10 - j10, B10 + z10, F10 + j10, B10 - z10, F10 + j10], h10.x, h10.y);
    if (W10.length > 0) {
      var V10 = eu9(l10, euJ(t10)), H10 = eu9(l10, euJ(W10)), Y10 = V10;
      H10 < V10 && (t10 = W10, Y10 = H10), W10.length > 2 && eu9(l10, { x: W10[2], y: W10[3] }) < Y10 && (t10 = [W10[2], W10[3]]);
    }
  }
  var G10 = edP(t10, r10, this.arrowShapes[u10].spacing(e30) + p10), X10 = edP(t10, r10, this.arrowShapes[u10].gap(e30) + p10);
  if (x10.endX = X10[0], x10.endY = X10[1], x10.arrowEndX = G10[0], x10.arrowEndY = G10[1], "inside-to-node" === A10) t10 = [l10.x, l10.y];
  else if (E10.units) t10 = this.manualEndptToPx(s10, E10);
  else if ("outside-to-line" === A10) t10 = x10.srcIntn;
  else if ("outside-to-node" === A10 || "outside-to-node-or-label" === A10 ? a10 = n10 : ("outside-to-line" === A10 || "outside-to-line-or-label" === A10) && (a10 = [h10.x, h10.y]), t10 = this.nodeShapes[this.getNodeShape(s10)].intersectLine(l10.x, l10.y, s10.outerWidth(), s10.outerHeight(), a10[0], a10[1], 0, L10, g10), "outside-to-node-or-label" === A10 || "outside-to-line-or-label" === A10) {
    var K10 = s10._private.rscratch, Z10 = K10.labelWidth, Q10 = K10.labelHeight, J10 = K10.labelX, ee10 = K10.labelY, et10 = Z10 / 2, er10 = Q10 / 2, en10 = s10.pstyle("text-valign").value;
    "top" === en10 ? ee10 -= er10 : "bottom" === en10 && (ee10 += er10);
    var ei10 = s10.pstyle("text-halign").value;
    "left" === ei10 ? J10 -= et10 : "right" === ei10 && (J10 += et10);
    var ea10 = edO(a10[0], a10[1], [J10 - et10, ee10 - er10, J10 + et10, ee10 - er10, J10 + et10, ee10 + er10, J10 - et10, ee10 + er10], l10.x, l10.y);
    if (ea10.length > 0) {
      var es10 = eu9(h10, euJ(t10)), eo10 = eu9(h10, euJ(ea10)), el10 = es10;
      eo10 < es10 && (t10 = [ea10[0], ea10[1]], el10 = eo10), ea10.length > 2 && eu9(h10, { x: ea10[2], y: ea10[3] }) < el10 && (t10 = [ea10[2], ea10[3]]);
    }
  }
  var ec10 = edP(t10, n10, this.arrowShapes[d10].spacing(e30) + f10), eh10 = edP(t10, n10, this.arrowShapes[d10].gap(e30) + f10);
  x10.startX = eh10[0], x10.startY = eh10[1], x10.arrowStartX = ec10[0], x10.arrowStartY = ec10[1], (w10 || _10 || T10) && (ecJ(x10.startX) && ecJ(x10.startY) && ecJ(x10.endX) && ecJ(x10.endY) ? x10.badLine = false : x10.badLine = true);
}, evs.getSourceEndpoint = function(e30) {
  var t10 = e30[0]._private.rscratch;
  return (this.recalculateRenderedStyle(e30), "haystack" === t10.edgeType) ? { x: t10.haystackPts[0], y: t10.haystackPts[1] } : { x: t10.arrowStartX, y: t10.arrowStartY };
}, evs.getTargetEndpoint = function(e30) {
  var t10 = e30[0]._private.rscratch;
  return (this.recalculateRenderedStyle(e30), "haystack" === t10.edgeType) ? { x: t10.haystackPts[2], y: t10.haystackPts[3] } : { x: t10.arrowEndX, y: t10.arrowEndY };
};
var evo = {};
function evl(e30, t10, r10) {
  for (var n10 = iM(function(e31, t11, r11, n11) {
    return edt(e31, t11, r11, n11);
  }, "qbezierAt$1"), i10 = t10._private.rstyle.bezierPts, a10 = 0; a10 < e30.bezierProjPcts.length; a10++) {
    var s10 = e30.bezierProjPcts[a10];
    i10.push({ x: n10(r10[0], r10[2], r10[4], s10), y: n10(r10[1], r10[3], r10[5], s10) });
  }
}
iM(evl, "pushBezierPts"), evo.storeEdgeProjections = function(e30) {
  var t10 = e30._private, r10 = t10.rscratch, n10 = r10.edgeType;
  if (t10.rstyle.bezierPts = null, t10.rstyle.linePts = null, t10.rstyle.haystackPts = null, "multibezier" === n10 || "bezier" === n10 || "self" === n10 || "compound" === n10) {
    t10.rstyle.bezierPts = [];
    for (var i10 = 0; i10 + 5 < r10.allpts.length; i10 += 4) evl(this, e30, r10.allpts.slice(i10, i10 + 6));
  } else if ("segments" === n10) for (var a10 = t10.rstyle.linePts = [], i10 = 0; i10 + 1 < r10.allpts.length; i10 += 2) a10.push({ x: r10.allpts[i10], y: r10.allpts[i10 + 1] });
  else if ("haystack" === n10) {
    var s10 = r10.haystackPts;
    t10.rstyle.haystackPts = [{ x: s10[0], y: s10[1] }, { x: s10[2], y: s10[3] }];
  }
  t10.rstyle.arrowWidth = this.getArrowWidth(e30.pstyle("width").pfValue, e30.pstyle("arrow-scale").value) * this.arrowShapeWidth;
}, evo.recalculateEdgeProjections = function(e30) {
  this.findEdgeControlPoints(e30);
};
var evc = {};
evc.recalculateNodeLabelProjection = function(e30) {
  if (!ec8(e30.pstyle("label").strValue)) {
    var t10, r10, n10 = e30._private, i10 = e30.width(), a10 = e30.height(), s10 = e30.padding(), o10 = e30.position(), l10 = e30.pstyle("text-halign").strValue, h10 = e30.pstyle("text-valign").strValue, u10 = n10.rscratch, d10 = n10.rstyle;
    switch (l10) {
      case "left":
        t10 = o10.x - i10 / 2 - s10;
        break;
      case "right":
        t10 = o10.x + i10 / 2 + s10;
        break;
      default:
        t10 = o10.x;
    }
    switch (h10) {
      case "top":
        r10 = o10.y - a10 / 2 - s10;
        break;
      case "bottom":
        r10 = o10.y + a10 / 2 + s10;
        break;
      default:
        r10 = o10.y;
    }
    u10.labelX = t10, u10.labelY = r10, d10.labelX = t10, d10.labelY = r10, this.calculateLabelAngles(e30), this.applyLabelDimensions(e30);
  }
};
var evh = iM(function(e30, t10) {
  var r10 = Math.atan(t10 / e30);
  return 0 === e30 && r10 < 0 && (r10 *= -1), r10;
}, "lineAngleFromDelta"), evu = iM(function(e30, t10) {
  return evh(t10.x - e30.x, t10.y - e30.y);
}, "lineAngle"), evd = iM(function(e30, t10, r10, n10) {
  var i10 = edi(0, n10 - 1e-3, 1), a10 = edi(0, n10 + 1e-3, 1);
  return evu(edr(e30, t10, r10, i10), edr(e30, t10, r10, a10));
}, "bezierAngle");
evc.recalculateEdgeLabelProjections = function(e30) {
  var t10, r10 = e30._private, n10 = r10.rscratch, i10 = this, a10 = { mid: e30.pstyle("label").strValue, source: e30.pstyle("source-label").strValue, target: e30.pstyle("target-label").strValue };
  if (a10.mid || a10.source || a10.target) {
    t10 = { x: n10.midX, y: n10.midY };
    var s10 = iM(function(e31, t11, n11) {
      euA(r10.rscratch, e31, t11, n11), euA(r10.rstyle, e31, t11, n11);
    }, "setRs");
    s10("labelX", null, t10.x), s10("labelY", null, t10.y), s10("labelAutoAngle", null, evh(n10.midDispX, n10.midDispY));
    var o10 = iM(function e31() {
      if (e31.cache) return e31.cache;
      for (var t11 = [], a11 = 0; a11 + 5 < n10.allpts.length; a11 += 4) {
        var s11 = { x: n10.allpts[a11], y: n10.allpts[a11 + 1] }, o11 = { x: n10.allpts[a11 + 2], y: n10.allpts[a11 + 3] }, l11 = { x: n10.allpts[a11 + 4], y: n10.allpts[a11 + 5] };
        t11.push({ p0: s11, p1: o11, p2: l11, startDist: 0, length: 0, segments: [] });
      }
      var h10 = r10.rstyle.bezierPts, u10 = i10.bezierProjPcts.length;
      function d10(e32, t12, r11, n11, i11) {
        var a12 = eu8(t12, r11), s12 = e32.segments[e32.segments.length - 1], o12 = { p0: t12, p1: r11, t0: n11, t1: i11, startDist: s12 ? s12.startDist + s12.length : 0, length: a12 };
        e32.segments.push(o12), e32.length += a12;
      }
      iM(d10, "addSegment");
      for (var p10 = 0; p10 < t11.length; p10++) {
        var f10 = t11[p10], g10 = t11[p10 - 1];
        g10 && (f10.startDist = g10.startDist + g10.length), d10(f10, f10.p0, h10[p10 * u10], 0, i10.bezierProjPcts[0]);
        for (var y10 = 0; y10 < u10 - 1; y10++) d10(f10, h10[p10 * u10 + y10], h10[p10 * u10 + y10 + 1], i10.bezierProjPcts[y10], i10.bezierProjPcts[y10 + 1]);
        d10(f10, h10[p10 * u10 + u10 - 1], f10.p2, i10.bezierProjPcts[u10 - 1], 1);
      }
      return e31.cache = t11;
    }, "createControlPointInfo"), l10 = iM(function(r11) {
      var i11 = "source" === r11;
      if (a10[r11]) {
        var l11 = e30.pstyle(r11 + "-text-offset").pfValue;
        switch (n10.edgeType) {
          case "self":
          case "compound":
          case "bezier":
          case "multibezier":
            for (var h10, u10, d10 = o10(), p10 = 0, f10 = 0, g10 = 0; g10 < d10.length; g10++) {
              for (var y10 = d10[i11 ? g10 : d10.length - 1 - g10], v10 = 0; v10 < y10.segments.length; v10++) {
                var x10 = y10.segments[i11 ? v10 : y10.segments.length - 1 - v10], b10 = g10 === d10.length - 1 && v10 === y10.segments.length - 1;
                if (p10 = f10, (f10 += x10.length) >= l11 || b10) {
                  u10 = { cp: y10, segment: x10 };
                  break;
                }
              }
              if (u10) break;
            }
            var k10 = u10.cp, w10 = u10.segment, _10 = (l11 - p10) / w10.length, T10 = w10.t1 - w10.t0, S10 = i11 ? w10.t0 + T10 * _10 : w10.t1 - T10 * _10;
            S10 = edi(0, S10, 1), t10 = edr(k10.p0, k10.p1, k10.p2, S10), h10 = evd(k10.p0, k10.p1, k10.p2, S10);
            break;
          case "straight":
          case "segments":
          case "haystack":
            for (var C10, E10, A10, L10, I10 = 0, M10 = n10.allpts.length, N10 = 0; N10 + 3 < M10 && (i11 ? (C10 = { x: n10.allpts[N10], y: n10.allpts[N10 + 1] }, E10 = { x: n10.allpts[N10 + 2], y: n10.allpts[N10 + 3] }) : (C10 = { x: n10.allpts[M10 - 2 - N10], y: n10.allpts[M10 - 1 - N10] }, E10 = { x: n10.allpts[M10 - 4 - N10], y: n10.allpts[M10 - 3 - N10] }), A10 = eu8(C10, E10), L10 = I10, !((I10 += A10) >= l11)); N10 += 2) ;
            var R10 = (l11 - L10) / A10;
            t10 = edn(C10, E10, R10 = edi(0, R10, 1)), h10 = evu(C10, E10);
        }
        s10("labelX", r11, t10.x), s10("labelY", r11, t10.y), s10("labelAutoAngle", r11, h10);
      }
    }, "calculateEndProjection");
    l10("source"), l10("target"), this.applyLabelDimensions(e30);
  }
}, evc.applyLabelDimensions = function(e30) {
  this.applyPrefixedLabelDimensions(e30), e30.isEdge() && (this.applyPrefixedLabelDimensions(e30, "source"), this.applyPrefixedLabelDimensions(e30, "target"));
}, evc.applyPrefixedLabelDimensions = function(e30, t10) {
  var r10 = e30._private, n10 = this.getLabelText(e30, t10), i10 = this.calculateLabelDimensions(e30, n10), a10 = e30.pstyle("line-height").pfValue, s10 = e30.pstyle("text-wrap").strValue, o10 = euE(r10.rscratch, "labelWrapCachedLines", t10) || [], l10 = "wrap" !== s10 ? 1 : Math.max(o10.length, 1), h10 = i10.height / l10, u10 = i10.width, d10 = i10.height + (l10 - 1) * (a10 - 1) * h10;
  euA(r10.rstyle, "labelWidth", t10, u10), euA(r10.rscratch, "labelWidth", t10, u10), euA(r10.rstyle, "labelHeight", t10, d10), euA(r10.rscratch, "labelHeight", t10, d10), euA(r10.rscratch, "labelLineHeight", t10, h10 * a10);
}, evc.getLabelText = function(e30, t10) {
  var r10 = e30._private, n10 = t10 ? t10 + "-" : "", i10 = e30.pstyle(n10 + "label").strValue, a10 = e30.pstyle("text-transform").value, s10 = iM(function(e31, n11) {
    return n11 ? (euA(r10.rscratch, e31, t10, n11), n11) : euE(r10.rscratch, e31, t10);
  }, "rscratch");
  if (!i10) return "";
  "none" == a10 || ("uppercase" == a10 ? i10 = i10.toUpperCase() : "lowercase" == a10 && (i10 = i10.toLowerCase()));
  var o10 = e30.pstyle("text-wrap").value;
  if ("wrap" === o10) {
    var l10 = s10("labelKey");
    if (null != l10 && s10("labelWrapKey") === l10) return s10("labelWrapCachedText");
    for (var h10 = i10.split("\n"), u10 = e30.pstyle("text-max-width").pfValue, d10 = "anywhere" === e30.pstyle("text-overflow-wrap").value, p10 = [], f10 = /[\s\u200b]+|$/g, g10 = 0; g10 < h10.length; g10++) {
      var y10 = h10[g10], v10 = this.calculateLabelDimensions(e30, y10).width;
      if (d10 && (y10 = y10.split("").join("​")), v10 > u10) {
        var x10, b10 = y10.matchAll(f10), k10 = "", w10 = 0, _10 = ecz(b10);
        try {
          for (_10.s(); !(x10 = _10.n()).done; ) {
            var T10 = x10.value, S10 = T10[0], C10 = y10.substring(w10, T10.index);
            w10 = T10.index + S10.length;
            var E10 = 0 === k10.length ? C10 : k10 + C10 + S10;
            this.calculateLabelDimensions(e30, E10).width <= u10 ? k10 += C10 + S10 : (k10 && p10.push(k10), k10 = C10 + S10);
          }
        } catch (e31) {
          _10.e(e31);
        } finally {
          _10.f();
        }
        k10.match(/^[\s\u200b]+$/) || p10.push(k10);
      } else p10.push(y10);
    }
    s10("labelWrapCachedLines", p10), i10 = s10("labelWrapCachedText", p10.join("\n")), s10("labelWrapKey", l10);
  } else if ("ellipsis" === o10) {
    var A10 = e30.pstyle("text-max-width").pfValue, L10 = "", I10 = false;
    if (this.calculateLabelDimensions(e30, i10).width < A10) return i10;
    for (var M10 = 0; M10 < i10.length && !(this.calculateLabelDimensions(e30, L10 + i10[M10] + "…").width > A10); M10++) L10 += i10[M10], M10 === i10.length - 1 && (I10 = true);
    return I10 || (L10 += "…"), L10;
  }
  return i10;
}, evc.getLabelJustification = function(e30) {
  var t10 = e30.pstyle("text-justification").strValue, r10 = e30.pstyle("text-halign").strValue;
  if ("auto" !== t10) return t10;
  if (!e30.isNode()) return "center";
  switch (r10) {
    case "left":
      return "right";
    case "right":
      return "left";
    default:
      return "center";
  }
}, evc.calculateLabelDimensions = function(e30, t10) {
  var r10 = this.cy.window().document, n10 = eun(t10, e30._private.labelDimsKey), i10 = this.labelDimCache || (this.labelDimCache = []), a10 = i10[n10];
  if (null != a10) return a10;
  var s10 = e30.pstyle("font-style").strValue, o10 = e30.pstyle("font-size").pfValue, l10 = e30.pstyle("font-family").strValue, h10 = e30.pstyle("font-weight").strValue, u10 = this.labelCalcCanvas, d10 = this.labelCalcCanvasContext;
  if (!u10) {
    u10 = this.labelCalcCanvas = r10.createElement("canvas"), d10 = this.labelCalcCanvasContext = u10.getContext("2d");
    var p10 = u10.style;
    p10.position = "absolute", p10.left = "-9999px", p10.top = "-9999px", p10.zIndex = "-1", p10.visibility = "hidden", p10.pointerEvents = "none";
  }
  d10.font = "".concat(s10, " ").concat(h10, " ").concat(o10, "px ").concat(l10);
  for (var f10 = 0, g10 = 0, y10 = t10.split("\n"), v10 = 0; v10 < y10.length; v10++) {
    var x10 = y10[v10];
    f10 = Math.max(Math.ceil(d10.measureText(x10).width), f10), g10 += o10;
  }
  return f10 += 0, g10 += 0, i10[n10] = { width: f10, height: g10 };
}, evc.calculateLabelAngle = function(e30, t10) {
  var r10 = e30._private.rscratch, n10 = e30.isEdge(), i10 = e30.pstyle((t10 ? t10 + "-" : "") + "text-rotation"), a10 = i10.strValue;
  return "none" === a10 ? 0 : n10 && "autorotate" === a10 ? r10.labelAutoAngle : "autorotate" === a10 ? 0 : i10.pfValue;
}, evc.calculateLabelAngles = function(e30) {
  var t10 = e30.isEdge(), r10 = e30._private.rscratch;
  r10.labelAngle = this.calculateLabelAngle(e30), t10 && (r10.sourceLabelAngle = this.calculateLabelAngle(e30, "source"), r10.targetLabelAngle = this.calculateLabelAngle(e30, "target"));
};
var evp = {}, evf = false;
evp.getNodeShape = function(e30) {
  var t10 = e30.pstyle("shape").value;
  if ("cutrectangle" === t10 && (28 > e30.width() || 28 > e30.height())) return evf || (eum("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"), evf = true), "rectangle";
  if (e30.isParent()) return "rectangle" === t10 || "roundrectangle" === t10 || "round-rectangle" === t10 || "cutrectangle" === t10 || "cut-rectangle" === t10 || "barrel" === t10 ? t10 : "rectangle";
  if ("polygon" === t10) {
    var r10 = e30.pstyle("shape-polygon-points").value;
    return this.nodeShapes.makePolygon(r10).name;
  }
  return t10;
};
var evg = {};
evg.registerCalculationListeners = function() {
  var e30 = this.cy, t10 = e30.collection(), r10 = this, n10 = iM(function(e31) {
    var r11 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
    if (t10.merge(e31), r11) for (var n11 = 0; n11 < e31.length; n11++) {
      var i11 = e31[n11]._private.rstyle;
      i11.clean = false, i11.cleanConnected = false;
    }
  }, "enqueue");
  r10.binder(e30).on("bounds.* dirty.*", iM(function(e31) {
    n10(e31.target);
  }, "onDirtyBounds")).on("style.* background.*", iM(function(e31) {
    n10(e31.target, false);
  }, "onDirtyStyle"));
  var i10 = iM(function(i11) {
    if (i11) {
      var a10 = r10.onUpdateEleCalcsFns;
      t10.cleanStyle();
      for (var s10 = 0; s10 < t10.length; s10++) {
        var o10 = t10[s10], l10 = o10._private.rstyle;
        o10.isNode() && !l10.cleanConnected && (n10(o10.connectedEdges()), l10.cleanConnected = true);
      }
      if (a10) for (var h10 = 0; h10 < a10.length; h10++) (0, a10[h10])(i11, t10);
      r10.recalculateRenderedStyle(t10), t10 = e30.collection();
    }
  }, "updateEleCalcs");
  r10.flushRenderedStyleQueue = function() {
    i10(true);
  }, r10.beforeRender(i10, r10.beforeRenderPriorities.eleCalcs);
}, evg.onUpdateEleCalcs = function(e30) {
  (this.onUpdateEleCalcsFns = this.onUpdateEleCalcsFns || []).push(e30);
}, evg.recalculateRenderedStyle = function(e30, t10) {
  var r10 = iM(function(e31) {
    return e31._private.rstyle.cleanConnected;
  }, "isCleanConnected"), n10 = [], i10 = [];
  if (!this.destroyed) {
    void 0 === t10 && (t10 = true);
    for (var a10 = 0; a10 < e30.length; a10++) {
      var s10 = e30[a10], o10 = s10._private, l10 = o10.rstyle;
      !s10.isEdge() || r10(s10.source()) && r10(s10.target()) || (l10.clean = false), t10 && l10.clean || s10.removed() || "none" === s10.pstyle("display").value || ("nodes" === o10.group ? i10.push(s10) : n10.push(s10), l10.clean = true);
    }
    for (var h10 = 0; h10 < i10.length; h10++) {
      var u10 = i10[h10], d10 = u10._private.rstyle, p10 = u10.position();
      this.recalculateNodeLabelProjection(u10), d10.nodeX = p10.x, d10.nodeY = p10.y, d10.nodeW = u10.pstyle("width").pfValue, d10.nodeH = u10.pstyle("height").pfValue;
    }
    this.recalculateEdgeProjections(n10);
    for (var f10 = 0; f10 < n10.length; f10++) {
      var g10 = n10[f10]._private, y10 = g10.rstyle, v10 = g10.rscratch;
      y10.srcX = v10.arrowStartX, y10.srcY = v10.arrowStartY, y10.tgtX = v10.arrowEndX, y10.tgtY = v10.arrowEndY, y10.midX = v10.midX, y10.midY = v10.midY, y10.labelAngle = v10.labelAngle, y10.sourceLabelAngle = v10.sourceLabelAngle, y10.targetLabelAngle = v10.targetLabelAngle;
    }
  }
};
var evm = {};
evm.updateCachedGrabbedEles = function() {
  var e30 = this.cachedZSortedEles;
  if (e30) {
    e30.drag = [], e30.nondrag = [];
    for (var t10 = [], r10 = 0; r10 < e30.length; r10++) {
      var n10 = e30[r10], i10 = n10._private.rscratch;
      n10.grabbed() && !n10.isParent() ? t10.push(n10) : i10.inDragLayer ? e30.drag.push(n10) : e30.nondrag.push(n10);
    }
    for (var r10 = 0; r10 < t10.length; r10++) {
      var n10 = t10[r10];
      e30.drag.push(n10);
    }
  }
}, evm.invalidateCachedZSortedEles = function() {
  this.cachedZSortedEles = null;
}, evm.getCachedZSortedEles = function(e30) {
  if (e30 || !this.cachedZSortedEles) {
    var t10 = this.cy.mutableElements().toArray();
    t10.sort(emy), t10.interactive = t10.filter(function(e31) {
      return e31.interactive();
    }), this.cachedZSortedEles = t10, this.updateCachedGrabbedEles();
  } else t10 = this.cachedZSortedEles;
  return t10;
};
var evy = {};
[ey5, ey6, evi, evs, evo, evc, evp, evg, evm].forEach(function(e30) {
  ehg(evy, e30);
});
var evv = {};
evv.getCachedImage = function(e30, t10, r10) {
  var n10 = this.imageCache = this.imageCache || {}, i10 = n10[e30];
  if (i10) return i10.image.complete || i10.image.addEventListener("load", r10), i10.image;
  var a10 = (i10 = n10[e30] = n10[e30] || {}).image = new Image();
  a10.addEventListener("load", r10), a10.addEventListener("error", function() {
    a10.error = true;
  });
  var s10 = "data:";
  return e30.substring(0, s10.length).toLowerCase() !== s10 && (t10 = "null" === t10 ? null : t10, a10.crossOrigin = t10), a10.src = e30, a10;
};
var evx = {};
evx.registerBinding = function(e30, t10, r10, n10) {
  var i10 = Array.prototype.slice.apply(arguments, [1]), a10 = this.binder(e30);
  return a10.on.apply(a10, i10);
}, evx.binder = function(e30) {
  var t10 = this, r10 = t10.cy.window(), n10 = e30 === r10 || e30 === r10.document || e30 === r10.document.body || ec9(e30);
  if (null == t10.supportsPassiveEvents) {
    var i10 = false;
    try {
      var a10 = Object.defineProperty({}, "passive", { get: iM(function() {
        return i10 = true, true;
      }, "get") });
      r10.addEventListener("test", null, a10);
    } catch (e31) {
    }
    t10.supportsPassiveEvents = i10;
  }
  var s10 = iM(function(r11, i11, a11) {
    var s11 = Array.prototype.slice.call(arguments);
    return n10 && t10.supportsPassiveEvents && (s11[2] = { capture: null != a11 && a11, passive: false, once: false }), t10.bindings.push({ target: e30, args: s11 }), (e30.addEventListener || e30.on).apply(e30, s11), this;
  }, "on");
  return { on: s10, addEventListener: s10, addListener: s10, bind: s10 };
}, evx.nodeIsDraggable = function(e30) {
  return e30 && e30.isNode() && !e30.locked() && e30.grabbable();
}, evx.nodeIsGrabbable = function(e30) {
  return this.nodeIsDraggable(e30) && e30.interactive();
}, evx.load = function() {
  var e30, t10, r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10, x10, b10, k10, w10, _10, T10, S10 = this, C10 = S10.cy.window(), E10 = iM(function(e31) {
    return e31.selected();
  }, "isSelected"), A10 = iM(function(e31, t11, r11, n11) {
    null == e31 && (e31 = S10.cy);
    for (var i11 = 0; i11 < t11.length; i11++) {
      var a11 = t11[i11];
      e31.emit({ originalEvent: r11, type: a11, position: n11 });
    }
  }, "triggerEvents"), L10 = iM(function(e31) {
    return e31.shiftKey || e31.metaKey || e31.ctrlKey;
  }, "isMultSelKeyDown"), I10 = iM(function(e31, t11) {
    var r11 = true;
    if (S10.cy.hasCompoundNodes() && e31 && e31.pannable()) for (var n11 = 0; t11 && n11 < t11.length; n11++) {
      var e31 = t11[n11];
      if (e31.isNode() && e31.isParent() && !e31.pannable()) {
        r11 = false;
        break;
      }
    }
    else r11 = true;
    return r11;
  }, "allowPanningPassthrough"), M10 = iM(function(e31) {
    e31[0]._private.grabbed = true;
  }, "setGrabbed"), N10 = iM(function(e31) {
    e31[0]._private.grabbed = false;
  }, "setFreed"), R10 = iM(function(e31) {
    e31[0]._private.rscratch.inDragLayer = true;
  }, "setInDragLayer"), D10 = iM(function(e31) {
    e31[0]._private.rscratch.inDragLayer = false;
  }, "setOutDragLayer"), O10 = iM(function(e31) {
    e31[0]._private.rscratch.isGrabTarget = true;
  }, "setGrabTarget"), $10 = iM(function(e31) {
    e31[0]._private.rscratch.isGrabTarget = false;
  }, "removeGrabTarget"), P10 = iM(function(e31, t11) {
    var r11 = t11.addToList;
    !r11.has(e31) && e31.grabbable() && !e31.locked() && (r11.merge(e31), M10(e31));
  }, "addToDragList"), B10 = iM(function(e31, t11) {
    if (e31.cy().hasCompoundNodes() && (null != t11.inDragLayer || null != t11.addToList)) {
      var r11 = e31.descendants();
      t11.inDragLayer && (r11.forEach(R10), r11.connectedEdges().forEach(R10)), t11.addToList && P10(r11, t11);
    }
  }, "addDescendantsToDrag"), F10 = iM(function(e31, t11) {
    t11 = t11 || {};
    var r11 = e31.cy().hasCompoundNodes();
    t11.inDragLayer && (e31.forEach(R10), e31.neighborhood().stdFilter(function(e32) {
      return !r11 || e32.isEdge();
    }).forEach(R10)), t11.addToList && e31.forEach(function(e32) {
      P10(e32, t11);
    }), B10(e31, t11), j10(e31, { inDragLayer: t11.inDragLayer }), S10.updateCachedGrabbedEles();
  }, "addNodesToDrag"), z10 = iM(function(e31) {
    e31 && (S10.getCachedZSortedEles().forEach(function(e32) {
      N10(e32), D10(e32), $10(e32);
    }), S10.updateCachedGrabbedEles());
  }, "freeDraggedElements"), j10 = iM(function(e31, t11) {
    if ((null != t11.inDragLayer || null != t11.addToList) && e31.cy().hasCompoundNodes()) {
      var r11 = e31.ancestors().orphans();
      if (!r11.same(e31)) {
        var n11 = r11.descendants().spawnSelf().merge(r11).unmerge(e31).unmerge(e31.descendants()), i11 = n11.connectedEdges();
        t11.inDragLayer && (i11.forEach(R10), n11.forEach(R10)), t11.addToList && n11.forEach(function(e32) {
          P10(e32, t11);
        });
      }
    }
  }, "updateAncestorsInDragLayer"), q10 = iM(function() {
    null != document.activeElement && null != document.activeElement.blur && document.activeElement.blur();
  }, "blurActiveDomElement"), U10 = "undefined" != typeof MutationObserver, W10 = "undefined" != typeof ResizeObserver;
  U10 ? (S10.removeObserver = new MutationObserver(function(e31) {
    for (var t11 = 0; t11 < e31.length; t11++) {
      var r11 = e31[t11].removedNodes;
      if (r11) {
        for (var n11 = 0; n11 < r11.length; n11++) if (r11[n11] === S10.container) {
          S10.destroy();
          break;
        }
      }
    }
  }), S10.container.parentNode && S10.removeObserver.observe(S10.container.parentNode, { childList: true })) : S10.registerBinding(S10.container, "DOMNodeRemoved", function(e31) {
    S10.destroy();
  });
  var V10 = eh1(function() {
    S10.cy.resize();
  }, 100);
  U10 && (S10.styleObserver = new MutationObserver(V10), S10.styleObserver.observe(S10.container, { attributes: true })), S10.registerBinding(C10, "resize", V10), W10 && (S10.resizeObserver = new ResizeObserver(V10), S10.resizeObserver.observe(S10.container));
  var H10 = iM(function(e31, t11) {
    for (; null != e31; ) t11(e31), e31 = e31.parentNode;
  }, "forEachUp"), Y10 = iM(function() {
    S10.invalidateContainerClientCoordsCache();
  }, "invalidateCoords");
  H10(S10.container, function(e31) {
    S10.registerBinding(e31, "transitionend", Y10), S10.registerBinding(e31, "animationend", Y10), S10.registerBinding(e31, "scroll", Y10);
  }), S10.registerBinding(S10.container, "contextmenu", function(e31) {
    e31.preventDefault();
  });
  var G10 = iM(function() {
    return 0 !== S10.selection[4];
  }, "inBoxSelection"), X10 = iM(function(e31) {
    for (var t11 = S10.findContainerClientCoords(), r11 = t11[0], n11 = t11[1], i11 = t11[2], a11 = t11[3], s11 = e31.touches ? e31.touches : [e31], o11 = false, l11 = 0; l11 < s11.length; l11++) {
      var h11 = s11[l11];
      if (r11 <= h11.clientX && h11.clientX <= r11 + i11 && n11 <= h11.clientY && h11.clientY <= n11 + a11) {
        o11 = true;
        break;
      }
    }
    if (!o11) return false;
    for (var u11 = S10.container, d11 = e31.target.parentNode, p11 = false; d11; ) {
      if (d11 === u11) {
        p11 = true;
        break;
      }
      d11 = d11.parentNode;
    }
    return !!p11;
  }, "eventInContainer");
  S10.registerBinding(S10.container, "mousedown", iM(function(e31) {
    if (X10(e31) && (1 !== S10.hoverData.which || 1 === e31.which)) {
      e31.preventDefault(), q10(), S10.hoverData.capture = true, S10.hoverData.which = e31.which;
      var t11 = S10.cy, r11 = [e31.clientX, e31.clientY], n11 = S10.projectIntoViewport(r11[0], r11[1]), i11 = S10.selection, a11 = S10.findNearestElements(n11[0], n11[1], true, false), s11 = a11[0], o11 = S10.dragData.possibleDragElements;
      S10.hoverData.mdownPos = n11, S10.hoverData.mdownGPos = r11;
      var l11 = iM(function() {
        S10.hoverData.tapholdCancelled = false, clearTimeout(S10.hoverData.tapholdTimeout), S10.hoverData.tapholdTimeout = setTimeout(function() {
          if (!S10.hoverData.tapholdCancelled) {
            var r12 = S10.hoverData.down;
            r12 ? r12.emit({ originalEvent: e31, type: "taphold", position: { x: n11[0], y: n11[1] } }) : t11.emit({ originalEvent: e31, type: "taphold", position: { x: n11[0], y: n11[1] } });
          }
        }, S10.tapholdDuration);
      }, "checkForTaphold");
      if (3 == e31.which) {
        S10.hoverData.cxtStarted = true;
        var h11 = { originalEvent: e31, type: "cxttapstart", position: { x: n11[0], y: n11[1] } };
        s11 ? (s11.activate(), s11.emit(h11), S10.hoverData.down = s11) : t11.emit(h11), S10.hoverData.downTime = (/* @__PURE__ */ new Date()).getTime(), S10.hoverData.cxtDragged = false;
      } else if (1 == e31.which) {
        if (s11 && s11.activate(), null != s11 && S10.nodeIsGrabbable(s11)) {
          var u11 = iM(function(t12) {
            return { originalEvent: e31, type: t12, position: { x: n11[0], y: n11[1] } };
          }, "makeEvent"), d11 = iM(function(e32) {
            e32.emit(u11("grab"));
          }, "triggerGrab");
          if (O10(s11), s11.selected()) {
            o11 = S10.dragData.possibleDragElements = t11.collection();
            var p11 = t11.$(function(e32) {
              return e32.isNode() && e32.selected() && S10.nodeIsGrabbable(e32);
            });
            F10(p11, { addToList: o11 }), s11.emit(u11("grabon")), p11.forEach(d11);
          } else F10(s11, { addToList: o11 = S10.dragData.possibleDragElements = t11.collection() }), s11.emit(u11("grabon")).emit(u11("grab"));
          S10.redrawHint("eles", true), S10.redrawHint("drag", true);
        }
        S10.hoverData.down = s11, S10.hoverData.downs = a11, S10.hoverData.downTime = (/* @__PURE__ */ new Date()).getTime(), A10(s11, ["mousedown", "tapstart", "vmousedown"], e31, { x: n11[0], y: n11[1] }), null == s11 ? (i11[4] = 1, S10.data.bgActivePosistion = { x: n11[0], y: n11[1] }, S10.redrawHint("select", true), S10.redraw()) : s11.pannable() && (i11[4] = 1), l11();
      }
      i11[0] = i11[2] = n11[0], i11[1] = i11[3] = n11[1];
    }
  }, "mousedownHandler"), false), S10.registerBinding(C10, "mousemove", iM(function(e31) {
    if (S10.hoverData.capture || X10(e31)) {
      var t11, r11, n11 = false, i11 = S10.cy, a11 = i11.zoom(), s11 = [e31.clientX, e31.clientY], o11 = S10.projectIntoViewport(s11[0], s11[1]), l11 = S10.hoverData.mdownPos, h11 = S10.hoverData.mdownGPos, u11 = S10.selection, d11 = null;
      S10.hoverData.draggingEles || S10.hoverData.dragging || S10.hoverData.selecting || (d11 = S10.findNearestElement(o11[0], o11[1], true, false));
      var p11 = S10.hoverData.last, f11 = S10.hoverData.down, g11 = [o11[0] - u11[2], o11[1] - u11[3]], y11 = S10.dragData.possibleDragElements;
      if (h11) {
        var v11 = s11[0] - h11[0], x11 = s11[1] - h11[1];
        S10.hoverData.isOverThresholdDrag = t11 = v11 * v11 + x11 * x11 >= S10.desktopTapThreshold2;
      }
      var b11 = L10(e31);
      t11 && (S10.hoverData.tapholdCancelled = true);
      var k11 = iM(function() {
        var e32 = S10.hoverData.dragDelta = S10.hoverData.dragDelta || [];
        0 === e32.length ? (e32.push(g11[0]), e32.push(g11[1])) : (e32[0] += g11[0], e32[1] += g11[1]);
      }, "updateDragDelta");
      n11 = true, A10(d11, ["mousemove", "vmousemove", "tapdrag"], e31, { x: o11[0], y: o11[1] });
      var w11 = iM(function() {
        S10.data.bgActivePosistion = void 0, S10.hoverData.selecting || i11.emit({ originalEvent: e31, type: "boxstart", position: { x: o11[0], y: o11[1] } }), u11[4] = 1, S10.hoverData.selecting = true, S10.redrawHint("select", true), S10.redraw();
      }, "goIntoBoxMode");
      if (3 === S10.hoverData.which) {
        if (t11) {
          var _11 = { originalEvent: e31, type: "cxtdrag", position: { x: o11[0], y: o11[1] } };
          f11 ? f11.emit(_11) : i11.emit(_11), S10.hoverData.cxtDragged = true, (!S10.hoverData.cxtOver || d11 !== S10.hoverData.cxtOver) && (S10.hoverData.cxtOver && S10.hoverData.cxtOver.emit({ originalEvent: e31, type: "cxtdragout", position: { x: o11[0], y: o11[1] } }), S10.hoverData.cxtOver = d11, d11 && d11.emit({ originalEvent: e31, type: "cxtdragover", position: { x: o11[0], y: o11[1] } }));
        }
      } else if (S10.hoverData.dragging) {
        if (n11 = true, i11.panningEnabled() && i11.userPanningEnabled()) {
          if (S10.hoverData.justStartedPan) {
            var T11 = S10.hoverData.mdownPos;
            r11 = { x: (o11[0] - T11[0]) * a11, y: (o11[1] - T11[1]) * a11 }, S10.hoverData.justStartedPan = false;
          } else r11 = { x: g11[0] * a11, y: g11[1] * a11 };
          i11.panBy(r11), i11.emit("dragpan"), S10.hoverData.dragged = true;
        }
        o11 = S10.projectIntoViewport(e31.clientX, e31.clientY);
      } else if (1 == u11[4] && (null == f11 || f11.pannable())) t11 && (!S10.hoverData.dragging && i11.boxSelectionEnabled() && (b11 || !i11.panningEnabled() || !i11.userPanningEnabled()) ? w11() : !S10.hoverData.selecting && i11.panningEnabled() && i11.userPanningEnabled() && I10(f11, S10.hoverData.downs) && (S10.hoverData.dragging = true, S10.hoverData.justStartedPan = true, u11[4] = 0, S10.data.bgActivePosistion = euJ(l11), S10.redrawHint("select", true), S10.redraw()), f11 && f11.pannable() && f11.active() && f11.unactivate());
      else {
        if (f11 && f11.pannable() && f11.active() && f11.unactivate(), f11 && f11.grabbed() || d11 == p11 || (p11 && A10(p11, ["mouseout", "tapdragout"], e31, { x: o11[0], y: o11[1] }), d11 && A10(d11, ["mouseover", "tapdragover"], e31, { x: o11[0], y: o11[1] }), S10.hoverData.last = d11), f11) {
          if (t11) {
            if (i11.boxSelectionEnabled() && b11) f11 && f11.grabbed() && (z10(y11), f11.emit("freeon"), y11.emit("free"), S10.dragData.didDrag && (f11.emit("dragfreeon"), y11.emit("dragfree"))), w11();
            else if (f11 && f11.grabbed() && S10.nodeIsDraggable(f11)) {
              var C11 = !S10.dragData.didDrag;
              C11 && S10.redrawHint("eles", true), S10.dragData.didDrag = true, S10.hoverData.draggingEles || F10(y11, { inDragLayer: true });
              var E11 = { x: 0, y: 0 };
              if (ecJ(g11[0]) && ecJ(g11[1]) && (E11.x += g11[0], E11.y += g11[1], C11)) {
                var M11 = S10.hoverData.dragDelta;
                M11 && ecJ(M11[0]) && ecJ(M11[1]) && (E11.x += M11[0], E11.y += M11[1]);
              }
              S10.hoverData.draggingEles = true, y11.silentShift(E11).emit("position drag"), S10.redrawHint("drag", true), S10.redraw();
            }
          } else k11();
        }
        n11 = true;
      }
      if (u11[2] = o11[0], u11[3] = o11[1], n11) return e31.stopPropagation && e31.stopPropagation(), e31.preventDefault && e31.preventDefault(), false;
    }
  }, "mousemoveHandler"), false), S10.registerBinding(C10, "mouseup", iM(function(n11) {
    if ((1 !== S10.hoverData.which || 1 === n11.which || !S10.hoverData.capture) && S10.hoverData.capture) {
      S10.hoverData.capture = false;
      var i11 = S10.cy, a11 = S10.projectIntoViewport(n11.clientX, n11.clientY), s11 = S10.selection, o11 = S10.findNearestElement(a11[0], a11[1], true, false), l11 = S10.dragData.possibleDragElements, h11 = S10.hoverData.down, u11 = L10(n11);
      if (S10.data.bgActivePosistion && (S10.redrawHint("select", true), S10.redraw()), S10.hoverData.tapholdCancelled = true, S10.data.bgActivePosistion = void 0, h11 && h11.unactivate(), 3 === S10.hoverData.which) {
        var d11 = { originalEvent: n11, type: "cxttapend", position: { x: a11[0], y: a11[1] } };
        if (h11 ? h11.emit(d11) : i11.emit(d11), !S10.hoverData.cxtDragged) {
          var p11 = { originalEvent: n11, type: "cxttap", position: { x: a11[0], y: a11[1] } };
          h11 ? h11.emit(p11) : i11.emit(p11);
        }
        S10.hoverData.cxtDragged = false, S10.hoverData.which = null;
      } else if (1 === S10.hoverData.which) {
        if (A10(o11, ["mouseup", "tapend", "vmouseup"], n11, { x: a11[0], y: a11[1] }), S10.dragData.didDrag || S10.hoverData.dragged || S10.hoverData.selecting || S10.hoverData.isOverThresholdDrag || (A10(h11, ["click", "tap", "vclick"], n11, { x: a11[0], y: a11[1] }), t10 = false, n11.timeStamp - r10 <= i11.multiClickDebounceTime() ? (e30 && clearTimeout(e30), t10 = true, r10 = null, A10(h11, ["dblclick", "dbltap", "vdblclick"], n11, { x: a11[0], y: a11[1] })) : (e30 = setTimeout(function() {
          t10 || A10(h11, ["oneclick", "onetap", "voneclick"], n11, { x: a11[0], y: a11[1] });
        }, i11.multiClickDebounceTime()), r10 = n11.timeStamp)), null != h11 || S10.dragData.didDrag || S10.hoverData.selecting || S10.hoverData.dragged || L10(n11) || (i11.$(E10).unselect(["tapunselect"]), l11.length > 0 && S10.redrawHint("eles", true), S10.dragData.possibleDragElements = l11 = i11.collection()), o11 != h11 || S10.dragData.didDrag || S10.hoverData.selecting || null == o11 || !o11._private.selectable || (S10.hoverData.dragging || ("additive" === i11.selectionType() || u11 ? o11.selected() ? o11.unselect(["tapunselect"]) : o11.select(["tapselect"]) : u11 || (i11.$(E10).unmerge(o11).unselect(["tapunselect"]), o11.select(["tapselect"]))), S10.redrawHint("eles", true)), S10.hoverData.selecting) {
          var f11 = i11.collection(S10.getAllInBox(s11[0], s11[1], s11[2], s11[3]));
          S10.redrawHint("select", true), f11.length > 0 && S10.redrawHint("eles", true), i11.emit({ type: "boxend", originalEvent: n11, position: { x: a11[0], y: a11[1] } });
          var g11 = iM(function(e31) {
            return e31.selectable() && !e31.selected();
          }, "eleWouldBeSelected");
          "additive" !== i11.selectionType() && (u11 || i11.$(E10).unmerge(f11).unselect()), f11.emit("box").stdFilter(g11).select().emit("boxselect"), S10.redraw();
        }
        if (S10.hoverData.dragging && (S10.hoverData.dragging = false, S10.redrawHint("select", true), S10.redrawHint("eles", true), S10.redraw()), !s11[4]) {
          S10.redrawHint("drag", true), S10.redrawHint("eles", true);
          var y11 = h11 && h11.grabbed();
          z10(l11), y11 && (h11.emit("freeon"), l11.emit("free"), S10.dragData.didDrag && (h11.emit("dragfreeon"), l11.emit("dragfree")));
        }
      }
      s11[4] = 0, S10.hoverData.down = null, S10.hoverData.cxtStarted = false, S10.hoverData.draggingEles = false, S10.hoverData.selecting = false, S10.hoverData.isOverThresholdDrag = false, S10.dragData.didDrag = false, S10.hoverData.dragged = false, S10.hoverData.dragDelta = [], S10.hoverData.mdownPos = null, S10.hoverData.mdownGPos = null, S10.hoverData.which = null;
    }
  }, "mouseupHandler"), false);
  var K10 = iM(function(e31) {
    if (!S10.scrollingPage) {
      var t11 = S10.cy, r11 = t11.zoom(), n11 = t11.pan(), i11 = S10.projectIntoViewport(e31.clientX, e31.clientY), a11 = [i11[0] * r11 + n11.x, i11[1] * r11 + n11.y];
      if (S10.hoverData.draggingEles || S10.hoverData.dragging || S10.hoverData.cxtStarted || G10()) {
        e31.preventDefault();
        return;
      }
      if (t11.panningEnabled() && t11.userPanningEnabled() && t11.zoomingEnabled() && t11.userZoomingEnabled()) {
        e31.preventDefault(), S10.data.wheelZooming = true, clearTimeout(S10.data.wheelTimeout), S10.data.wheelTimeout = setTimeout(function() {
          S10.data.wheelZooming = false, S10.redrawHint("eles", true), S10.redraw();
        }, 150), s11 = (null != e31.deltaY ? -(e31.deltaY / 250) : null != e31.wheelDeltaY ? e31.wheelDeltaY / 1e3 : e31.wheelDelta / 1e3) * S10.wheelSensitivity, 1 === e31.deltaMode && (s11 *= 33);
        var s11, o11 = t11.zoom() * Math.pow(10, s11);
        "gesturechange" === e31.type && (o11 = S10.gestureStartZoom * e31.scale), t11.zoom({ level: o11, renderedPosition: { x: a11[0], y: a11[1] } }), t11.emit("gesturechange" === e31.type ? "pinchzoom" : "scrollzoom");
      }
    }
  }, "wheelHandler");
  S10.registerBinding(S10.container, "wheel", K10, true), S10.registerBinding(C10, "scroll", iM(function(e31) {
    S10.scrollingPage = true, clearTimeout(S10.scrollingPageTimeout), S10.scrollingPageTimeout = setTimeout(function() {
      S10.scrollingPage = false;
    }, 250);
  }, "scrollHandler"), true), S10.registerBinding(S10.container, "gesturestart", iM(function(e31) {
    S10.gestureStartZoom = S10.cy.zoom(), S10.hasTouchStarted || e31.preventDefault();
  }, "gestureStartHandler"), true), S10.registerBinding(S10.container, "gesturechange", function(e31) {
    S10.hasTouchStarted || K10(e31);
  }, true), S10.registerBinding(S10.container, "mouseout", iM(function(e31) {
    var t11 = S10.projectIntoViewport(e31.clientX, e31.clientY);
    S10.cy.emit({ originalEvent: e31, type: "mouseout", position: { x: t11[0], y: t11[1] } });
  }, "mouseOutHandler"), false), S10.registerBinding(S10.container, "mouseover", iM(function(e31) {
    var t11 = S10.projectIntoViewport(e31.clientX, e31.clientY);
    S10.cy.emit({ originalEvent: e31, type: "mouseover", position: { x: t11[0], y: t11[1] } });
  }, "mouseOverHandler"), false);
  var Z10 = iM(function(e31, t11, r11, n11) {
    return Math.sqrt((r11 - e31) * (r11 - e31) + (n11 - t11) * (n11 - t11));
  }, "distance"), Q10 = iM(function(e31, t11, r11, n11) {
    return (r11 - e31) * (r11 - e31) + (n11 - t11) * (n11 - t11);
  }, "distanceSq");
  if (S10.registerBinding(S10.container, "touchstart", v10 = iM(function(e31) {
    if (S10.hasTouchStarted = true, X10(e31)) {
      q10(), S10.touchData.capture = true, S10.data.bgActivePosistion = void 0;
      var t11 = S10.cy, r11 = S10.touchData.now, v11 = S10.touchData.earlier;
      if (e31.touches[0]) {
        var x11 = S10.projectIntoViewport(e31.touches[0].clientX, e31.touches[0].clientY);
        r11[0] = x11[0], r11[1] = x11[1];
      }
      if (e31.touches[1]) {
        var x11 = S10.projectIntoViewport(e31.touches[1].clientX, e31.touches[1].clientY);
        r11[2] = x11[0], r11[3] = x11[1];
      }
      if (e31.touches[2]) {
        var x11 = S10.projectIntoViewport(e31.touches[2].clientX, e31.touches[2].clientY);
        r11[4] = x11[0], r11[5] = x11[1];
      }
      if (e31.touches[1]) {
        S10.touchData.singleTouchMoved = true, z10(S10.dragData.touchDragEles);
        var b11 = S10.findContainerClientCoords();
        d10 = b11[0], p10 = b11[1], f10 = b11[2], g10 = b11[3], n10 = e31.touches[0].clientX - d10, i10 = e31.touches[0].clientY - p10, a10 = e31.touches[1].clientX - d10, s10 = e31.touches[1].clientY - p10, y10 = 0 <= n10 && n10 <= f10 && 0 <= a10 && a10 <= f10 && 0 <= i10 && i10 <= g10 && 0 <= s10 && s10 <= g10;
        var k11 = t11.pan(), w11 = t11.zoom();
        if (o10 = Z10(n10, i10, a10, s10), l10 = Q10(n10, i10, a10, s10), u10 = [((h10 = [(n10 + a10) / 2, (i10 + s10) / 2])[0] - k11.x) / w11, (h10[1] - k11.y) / w11], l10 < 4e4 && !e31.touches[2]) {
          var _11 = S10.findNearestElement(r11[0], r11[1], true, true), T11 = S10.findNearestElement(r11[2], r11[3], true, true);
          _11 && _11.isNode() ? (_11.activate().emit({ originalEvent: e31, type: "cxttapstart", position: { x: r11[0], y: r11[1] } }), S10.touchData.start = _11) : T11 && T11.isNode() ? (T11.activate().emit({ originalEvent: e31, type: "cxttapstart", position: { x: r11[0], y: r11[1] } }), S10.touchData.start = T11) : t11.emit({ originalEvent: e31, type: "cxttapstart", position: { x: r11[0], y: r11[1] } }), S10.touchData.start && (S10.touchData.start._private.grabbed = false), S10.touchData.cxt = true, S10.touchData.cxtDragged = false, S10.data.bgActivePosistion = void 0, S10.redraw();
          return;
        }
      }
      if (e31.touches[2]) t11.boxSelectionEnabled() && e31.preventDefault();
      else if (e31.touches[1]) ;
      else if (e31.touches[0]) {
        var C11 = S10.findNearestElements(r11[0], r11[1], true, true), E11 = C11[0];
        if (null != E11 && (E11.activate(), S10.touchData.start = E11, S10.touchData.starts = C11, S10.nodeIsGrabbable(E11))) {
          var L11 = S10.dragData.touchDragEles = t11.collection(), I11 = null;
          S10.redrawHint("eles", true), S10.redrawHint("drag", true), E11.selected() ? F10(I11 = t11.$(function(e32) {
            return e32.selected() && S10.nodeIsGrabbable(e32);
          }), { addToList: L11 }) : F10(E11, { addToList: L11 }), O10(E11);
          var M11 = iM(function(t12) {
            return { originalEvent: e31, type: t12, position: { x: r11[0], y: r11[1] } };
          }, "makeEvent");
          E11.emit(M11("grabon")), I11 ? I11.forEach(function(e32) {
            e32.emit(M11("grab"));
          }) : E11.emit(M11("grab"));
        }
        A10(E11, ["touchstart", "tapstart", "vmousedown"], e31, { x: r11[0], y: r11[1] }), null == E11 && (S10.data.bgActivePosistion = { x: x11[0], y: x11[1] }, S10.redrawHint("select", true), S10.redraw()), S10.touchData.singleTouchMoved = false, S10.touchData.singleTouchStartTime = +/* @__PURE__ */ new Date(), clearTimeout(S10.touchData.tapholdTimeout), S10.touchData.tapholdTimeout = setTimeout(function() {
          false !== S10.touchData.singleTouchMoved || S10.pinching || S10.touchData.selecting || A10(S10.touchData.start, ["taphold"], e31, { x: r11[0], y: r11[1] });
        }, S10.tapholdDuration);
      }
      if (e31.touches.length >= 1) {
        for (var N11 = S10.touchData.startPosition = [null, null, null, null, null, null], R11 = 0; R11 < r11.length; R11++) N11[R11] = v11[R11] = r11[R11];
        var D11 = e31.touches[0];
        S10.touchData.startGPosition = [D11.clientX, D11.clientY];
      }
    }
  }, "touchstartHandler"), false), S10.registerBinding(C10, "touchmove", x10 = iM(function(e31) {
    var t11 = S10.touchData.capture;
    if (t11 || X10(e31)) {
      var r11 = S10.selection, h11 = S10.cy, f11 = S10.touchData.now, g11 = S10.touchData.earlier, v11 = h11.zoom();
      if (e31.touches[0]) {
        var x11 = S10.projectIntoViewport(e31.touches[0].clientX, e31.touches[0].clientY);
        f11[0] = x11[0], f11[1] = x11[1];
      }
      if (e31.touches[1]) {
        var x11 = S10.projectIntoViewport(e31.touches[1].clientX, e31.touches[1].clientY);
        f11[2] = x11[0], f11[3] = x11[1];
      }
      if (e31.touches[2]) {
        var x11 = S10.projectIntoViewport(e31.touches[2].clientX, e31.touches[2].clientY);
        f11[4] = x11[0], f11[5] = x11[1];
      }
      var b11 = S10.touchData.startGPosition;
      if (t11 && e31.touches[0] && b11) {
        for (var k11 = [], w11 = 0; w11 < f11.length; w11++) k11[w11] = f11[w11] - g11[w11];
        var _11 = e31.touches[0].clientX - b11[0], T11 = _11 * _11, C11 = e31.touches[0].clientY - b11[1];
        en11 = T11 + C11 * C11 >= S10.touchTapThreshold2;
      }
      if (t11 && S10.touchData.cxt) {
        e31.preventDefault();
        var E11 = e31.touches[0].clientX - d10, L11 = e31.touches[0].clientY - p10, M11 = e31.touches[1].clientX - d10, N11 = e31.touches[1].clientY - p10, R11 = Q10(E11, L11, M11, N11);
        if (R11 / l10 >= 2.25 || R11 >= 22500) {
          S10.touchData.cxt = false, S10.data.bgActivePosistion = void 0, S10.redrawHint("select", true);
          var D11 = { originalEvent: e31, type: "cxttapend", position: { x: f11[0], y: f11[1] } };
          S10.touchData.start ? (S10.touchData.start.unactivate().emit(D11), S10.touchData.start = null) : h11.emit(D11);
        }
      }
      if (t11 && S10.touchData.cxt) {
        var D11 = { originalEvent: e31, type: "cxtdrag", position: { x: f11[0], y: f11[1] } };
        S10.data.bgActivePosistion = void 0, S10.redrawHint("select", true), S10.touchData.start ? S10.touchData.start.emit(D11) : h11.emit(D11), S10.touchData.start && (S10.touchData.start._private.grabbed = false), S10.touchData.cxtDragged = true;
        var O11 = S10.findNearestElement(f11[0], f11[1], true, true);
        (!S10.touchData.cxtOver || O11 !== S10.touchData.cxtOver) && (S10.touchData.cxtOver && S10.touchData.cxtOver.emit({ originalEvent: e31, type: "cxtdragout", position: { x: f11[0], y: f11[1] } }), S10.touchData.cxtOver = O11, O11 && O11.emit({ originalEvent: e31, type: "cxtdragover", position: { x: f11[0], y: f11[1] } }));
      } else if (t11 && e31.touches[2] && h11.boxSelectionEnabled()) e31.preventDefault(), S10.data.bgActivePosistion = void 0, this.lastThreeTouch = +/* @__PURE__ */ new Date(), S10.touchData.selecting || h11.emit({ originalEvent: e31, type: "boxstart", position: { x: f11[0], y: f11[1] } }), S10.touchData.selecting = true, S10.touchData.didSelect = true, r11[4] = 1, r11 && 0 !== r11.length && void 0 !== r11[0] ? (r11[2] = (f11[0] + f11[2] + f11[4]) / 3, r11[3] = (f11[1] + f11[3] + f11[5]) / 3) : (r11[0] = (f11[0] + f11[2] + f11[4]) / 3, r11[1] = (f11[1] + f11[3] + f11[5]) / 3, r11[2] = (f11[0] + f11[2] + f11[4]) / 3 + 1, r11[3] = (f11[1] + f11[3] + f11[5]) / 3 + 1), S10.redrawHint("select", true), S10.redraw();
      else if (t11 && e31.touches[1] && !S10.touchData.didSelect && h11.zoomingEnabled() && h11.panningEnabled() && h11.userZoomingEnabled() && h11.userPanningEnabled()) {
        e31.preventDefault(), S10.data.bgActivePosistion = void 0, S10.redrawHint("select", true);
        var $11 = S10.dragData.touchDragEles;
        if ($11) {
          S10.redrawHint("drag", true);
          for (var P11 = 0; P11 < $11.length; P11++) {
            var B11 = $11[P11]._private;
            B11.grabbed = false, B11.rscratch.inDragLayer = false;
          }
        }
        var j11 = S10.touchData.start, E11 = e31.touches[0].clientX - d10, L11 = e31.touches[0].clientY - p10, M11 = e31.touches[1].clientX - d10, N11 = e31.touches[1].clientY - p10, q11 = Z10(E11, L11, M11, N11), U11 = q11 / o10;
        if (y10) {
          var W11 = E11 - n10, V11 = L11 - i10, H11 = M11 - a10, Y11 = N11 - s10, G11 = h11.zoom(), K11 = G11 * U11, J11 = h11.pan(), ee11 = u10[0] * G11 + J11.x, et11 = u10[1] * G11 + J11.y, er11 = { x: -K11 / G11 * (ee11 - J11.x - (W11 + H11) / 2) + ee11, y: -K11 / G11 * (et11 - J11.y - (V11 + Y11) / 2) + et11 };
          if (j11 && j11.active()) {
            var $11 = S10.dragData.touchDragEles;
            z10($11), S10.redrawHint("drag", true), S10.redrawHint("eles", true), j11.unactivate().emit("freeon"), $11.emit("free"), S10.dragData.didDrag && (j11.emit("dragfreeon"), $11.emit("dragfree"));
          }
          h11.viewport({ zoom: K11, pan: er11, cancelOnFailedZoom: true }), h11.emit("pinchzoom"), o10 = q11, n10 = E11, i10 = L11, a10 = M11, s10 = N11, S10.pinching = true;
        }
        if (e31.touches[0]) {
          var x11 = S10.projectIntoViewport(e31.touches[0].clientX, e31.touches[0].clientY);
          f11[0] = x11[0], f11[1] = x11[1];
        }
        if (e31.touches[1]) {
          var x11 = S10.projectIntoViewport(e31.touches[1].clientX, e31.touches[1].clientY);
          f11[2] = x11[0], f11[3] = x11[1];
        }
        if (e31.touches[2]) {
          var x11 = S10.projectIntoViewport(e31.touches[2].clientX, e31.touches[2].clientY);
          f11[4] = x11[0], f11[5] = x11[1];
        }
      } else if (e31.touches[0] && !S10.touchData.didSelect) {
        var en11, O11, ei11 = S10.touchData.start, ea11 = S10.touchData.last;
        if (S10.hoverData.draggingEles || S10.swipePanning || (O11 = S10.findNearestElement(f11[0], f11[1], true, true)), t11 && null != ei11 && e31.preventDefault(), t11 && null != ei11 && S10.nodeIsDraggable(ei11)) {
          if (en11) {
            var $11 = S10.dragData.touchDragEles, es11 = !S10.dragData.didDrag;
            es11 && F10($11, { inDragLayer: true }), S10.dragData.didDrag = true;
            var eo10 = { x: 0, y: 0 };
            if (ecJ(k11[0]) && ecJ(k11[1]) && (eo10.x += k11[0], eo10.y += k11[1], es11)) {
              S10.redrawHint("eles", true);
              var el10 = S10.touchData.dragDelta;
              el10 && ecJ(el10[0]) && ecJ(el10[1]) && (eo10.x += el10[0], eo10.y += el10[1]);
            }
            S10.hoverData.draggingEles = true, $11.silentShift(eo10).emit("position drag"), S10.redrawHint("drag", true), S10.touchData.startPosition[0] == g11[0] && S10.touchData.startPosition[1] == g11[1] && S10.redrawHint("eles", true), S10.redraw();
          } else {
            var el10 = S10.touchData.dragDelta = S10.touchData.dragDelta || [];
            0 === el10.length ? (el10.push(k11[0]), el10.push(k11[1])) : (el10[0] += k11[0], el10[1] += k11[1]);
          }
        }
        if (A10(ei11 || O11, ["touchmove", "tapdrag", "vmousemove"], e31, { x: f11[0], y: f11[1] }), ei11 && ei11.grabbed() || O11 == ea11 || (ea11 && ea11.emit({ originalEvent: e31, type: "tapdragout", position: { x: f11[0], y: f11[1] } }), O11 && O11.emit({ originalEvent: e31, type: "tapdragover", position: { x: f11[0], y: f11[1] } })), S10.touchData.last = O11, t11) for (var P11 = 0; P11 < f11.length; P11++) f11[P11] && S10.touchData.startPosition[P11] && en11 && (S10.touchData.singleTouchMoved = true);
        if (t11 && (null == ei11 || ei11.pannable()) && h11.panningEnabled() && h11.userPanningEnabled()) {
          I10(ei11, S10.touchData.starts) && (e31.preventDefault(), S10.data.bgActivePosistion || (S10.data.bgActivePosistion = euJ(S10.touchData.startPosition)), S10.swipePanning ? (h11.panBy({ x: k11[0] * v11, y: k11[1] * v11 }), h11.emit("dragpan")) : en11 && (S10.swipePanning = true, h11.panBy({ x: _11 * v11, y: C11 * v11 }), h11.emit("dragpan"), ei11 && (ei11.unactivate(), S10.redrawHint("select", true), S10.touchData.start = null)));
          var x11 = S10.projectIntoViewport(e31.touches[0].clientX, e31.touches[0].clientY);
          f11[0] = x11[0], f11[1] = x11[1];
        }
      }
      for (var w11 = 0; w11 < f11.length; w11++) g11[w11] = f11[w11];
      t11 && e31.touches.length > 0 && !S10.hoverData.draggingEles && !S10.swipePanning && null != S10.data.bgActivePosistion && (S10.data.bgActivePosistion = void 0, S10.redrawHint("select", true), S10.redraw());
    }
  }, "touchmoveHandler"), false), S10.registerBinding(C10, "touchcancel", b10 = iM(function(e31) {
    var t11 = S10.touchData.start;
    S10.touchData.capture = false, t11 && t11.unactivate();
  }, "touchcancelHandler")), S10.registerBinding(C10, "touchend", k10 = iM(function(e31) {
    var t11, r11 = S10.touchData.start;
    if (S10.touchData.capture) {
      0 === e31.touches.length && (S10.touchData.capture = false), e31.preventDefault();
      var n11 = S10.selection;
      S10.swipePanning = false, S10.hoverData.draggingEles = false;
      var i11 = S10.cy, a11 = i11.zoom(), s11 = S10.touchData.now, o11 = S10.touchData.earlier;
      if (e31.touches[0]) {
        var l11 = S10.projectIntoViewport(e31.touches[0].clientX, e31.touches[0].clientY);
        s11[0] = l11[0], s11[1] = l11[1];
      }
      if (e31.touches[1]) {
        var l11 = S10.projectIntoViewport(e31.touches[1].clientX, e31.touches[1].clientY);
        s11[2] = l11[0], s11[3] = l11[1];
      }
      if (e31.touches[2]) {
        var l11 = S10.projectIntoViewport(e31.touches[2].clientX, e31.touches[2].clientY);
        s11[4] = l11[0], s11[5] = l11[1];
      }
      if (r11 && r11.unactivate(), S10.touchData.cxt) {
        if (t11 = { originalEvent: e31, type: "cxttapend", position: { x: s11[0], y: s11[1] } }, r11 ? r11.emit(t11) : i11.emit(t11), !S10.touchData.cxtDragged) {
          var h11 = { originalEvent: e31, type: "cxttap", position: { x: s11[0], y: s11[1] } };
          r11 ? r11.emit(h11) : i11.emit(h11);
        }
        S10.touchData.start && (S10.touchData.start._private.grabbed = false), S10.touchData.cxt = false, S10.touchData.start = null, S10.redraw();
        return;
      }
      if (!e31.touches[2] && i11.boxSelectionEnabled() && S10.touchData.selecting) {
        S10.touchData.selecting = false;
        var u11 = i11.collection(S10.getAllInBox(n11[0], n11[1], n11[2], n11[3]));
        n11[0] = void 0, n11[1] = void 0, n11[2] = void 0, n11[3] = void 0, n11[4] = 0, S10.redrawHint("select", true), i11.emit({ type: "boxend", originalEvent: e31, position: { x: s11[0], y: s11[1] } });
        var d11 = iM(function(e32) {
          return e32.selectable() && !e32.selected();
        }, "eleWouldBeSelected");
        u11.emit("box").stdFilter(d11).select().emit("boxselect"), u11.nonempty() && S10.redrawHint("eles", true), S10.redraw();
      }
      if (null != r11 && r11.unactivate(), e31.touches[2]) S10.data.bgActivePosistion = void 0, S10.redrawHint("select", true);
      else if (e31.touches[1]) ;
      else if (e31.touches[0]) ;
      else if (!e31.touches[0]) {
        S10.data.bgActivePosistion = void 0, S10.redrawHint("select", true);
        var p11 = S10.dragData.touchDragEles;
        if (null != r11) {
          var f11 = r11._private.grabbed;
          z10(p11), S10.redrawHint("drag", true), S10.redrawHint("eles", true), f11 && (r11.emit("freeon"), p11.emit("free"), S10.dragData.didDrag && (r11.emit("dragfreeon"), p11.emit("dragfree"))), A10(r11, ["touchend", "tapend", "vmouseup", "tapdragout"], e31, { x: s11[0], y: s11[1] }), r11.unactivate(), S10.touchData.start = null;
        } else A10(S10.findNearestElement(s11[0], s11[1], true, true), ["touchend", "tapend", "vmouseup", "tapdragout"], e31, { x: s11[0], y: s11[1] });
        var g11 = S10.touchData.startPosition[0] - s11[0], y11 = S10.touchData.startPosition[1] - s11[1];
        S10.touchData.singleTouchMoved || (r11 || i11.$(":selected").unselect(["tapunselect"]), A10(r11, ["tap", "vclick"], e31, { x: s11[0], y: s11[1] }), w10 = false, e31.timeStamp - T10 <= i11.multiClickDebounceTime() ? (_10 && clearTimeout(_10), w10 = true, T10 = null, A10(r11, ["dbltap", "vdblclick"], e31, { x: s11[0], y: s11[1] })) : (_10 = setTimeout(function() {
          w10 || A10(r11, ["onetap", "voneclick"], e31, { x: s11[0], y: s11[1] });
        }, i11.multiClickDebounceTime()), T10 = e31.timeStamp)), null != r11 && !S10.dragData.didDrag && r11._private.selectable && (g11 * g11 + y11 * y11) * a11 * a11 < S10.touchTapThreshold2 && !S10.pinching && ("single" === i11.selectionType() ? (i11.$(E10).unmerge(r11).unselect(["tapunselect"]), r11.select(["tapselect"])) : r11.selected() ? r11.unselect(["tapunselect"]) : r11.select(["tapselect"]), S10.redrawHint("eles", true)), S10.touchData.singleTouchMoved = true;
      }
      for (var v11 = 0; v11 < s11.length; v11++) o11[v11] = s11[v11];
      S10.dragData.didDrag = false, 0 === e31.touches.length && (S10.touchData.dragDelta = [], S10.touchData.startPosition = [null, null, null, null, null, null], S10.touchData.startGPosition = null, S10.touchData.didSelect = false), e31.touches.length < 2 && (1 === e31.touches.length && (S10.touchData.startGPosition = [e31.touches[0].clientX, e31.touches[0].clientY]), S10.pinching = false, S10.redrawHint("eles", true), S10.redraw());
    }
  }, "touchendHandler"), false), "undefined" == typeof TouchEvent) {
    var J10 = [], ee10 = iM(function(e31) {
      return { clientX: e31.clientX, clientY: e31.clientY, force: 1, identifier: e31.pointerId, pageX: e31.pageX, pageY: e31.pageY, radiusX: e31.width / 2, radiusY: e31.height / 2, screenX: e31.screenX, screenY: e31.screenY, target: e31.target };
    }, "makeTouch"), et10 = iM(function(e31) {
      return { event: e31, touch: ee10(e31) };
    }, "makePointer"), er10 = iM(function(e31) {
      J10.push(et10(e31));
    }, "addPointer"), en10 = iM(function(e31) {
      for (var t11 = 0; t11 < J10.length; t11++) if (J10[t11].event.pointerId === e31.pointerId) {
        J10.splice(t11, 1);
        return;
      }
    }, "removePointer"), ei10 = iM(function(e31) {
      var t11 = J10.filter(function(t12) {
        return t12.event.pointerId === e31.pointerId;
      })[0];
      t11.event = e31, t11.touch = ee10(e31);
    }, "updatePointer"), ea10 = iM(function(e31) {
      e31.touches = J10.map(function(e32) {
        return e32.touch;
      });
    }, "addTouchesToEvent"), es10 = iM(function(e31) {
      return "mouse" === e31.pointerType || 4 === e31.pointerType;
    }, "pointerIsMouse");
    S10.registerBinding(S10.container, "pointerdown", function(e31) {
      es10(e31) || (e31.preventDefault(), er10(e31), ea10(e31), v10(e31));
    }), S10.registerBinding(S10.container, "pointerup", function(e31) {
      es10(e31) || (en10(e31), ea10(e31), k10(e31));
    }), S10.registerBinding(S10.container, "pointercancel", function(e31) {
      es10(e31) || (en10(e31), ea10(e31), b10(e31));
    }), S10.registerBinding(S10.container, "pointermove", function(e31) {
      es10(e31) || (e31.preventDefault(), ei10(e31), ea10(e31), x10(e31));
    });
  }
};
var evb = {};
evb.generatePolygon = function(e30, t10) {
  return this.nodeShapes[e30] = { renderer: this, name: e30, points: t10, draw: iM(function(e31, t11, r10, n10, i10, a10) {
    this.renderer.nodeShapeImpl("polygon", e31, t11, r10, n10, i10, this.points);
  }, "draw"), intersectLine: iM(function(e31, t11, r10, n10, i10, a10, s10, o10) {
    return edO(i10, a10, this.points, e31, t11, r10 / 2, n10 / 2, s10);
  }, "intersectLine"), checkPoint: iM(function(e31, t11, r10, n10, i10, a10, s10, o10) {
    return edC(e31, t11, this.points, a10, s10, n10, i10, [0, -1], r10);
  }, "checkPoint") };
}, evb.generateEllipse = function() {
  return this.nodeShapes.ellipse = { renderer: this, name: "ellipse", draw: iM(function(e30, t10, r10, n10, i10, a10) {
    this.renderer.nodeShapeImpl(this.name, e30, t10, r10, n10, i10);
  }, "draw"), intersectLine: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    return edI(i10, a10, e30, t10, r10 / 2 + s10, n10 / 2 + s10);
  }, "intersectLine"), checkPoint: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    return edM(e30, t10, n10, i10, a10, s10, r10);
  }, "checkPoint") };
}, evb.generateRoundPolygon = function(e30, t10) {
  return this.nodeShapes[e30] = { renderer: this, name: e30, points: t10, getOrCreateCorners: iM(function(e31, r10, n10, i10, a10, s10, o10) {
    if (void 0 !== s10[o10] && s10[o10 + "-cx"] === e31 && s10[o10 + "-cy"] === r10) return s10[o10];
    s10[o10] = Array(t10.length / 2), s10[o10 + "-cx"] = e31, s10[o10 + "-cy"] = r10;
    var l10 = n10 / 2, h10 = i10 / 2;
    a10 = "auto" === a10 ? edq(n10, i10) : a10;
    for (var u10 = Array(t10.length / 2), d10 = 0; d10 < t10.length / 2; d10++) u10[d10] = { x: e31 + l10 * t10[2 * d10], y: r10 + h10 * t10[2 * d10 + 1] };
    var p10, f10, g10, y10, v10 = u10.length;
    for (p10 = 0, f10 = u10[v10 - 1]; p10 < v10; p10++) g10 = u10[p10 % v10], y10 = u10[(p10 + 1) % v10], s10[o10][p10] = evn(f10, g10, y10, a10), f10 = g10, g10 = y10;
    return s10[o10];
  }, "getOrCreateCorners"), draw: iM(function(e31, t11, r10, n10, i10, a10, s10) {
    this.renderer.nodeShapeImpl("round-polygon", e31, t11, r10, n10, i10, this.points, this.getOrCreateCorners(t11, r10, n10, i10, a10, s10, "drawCorners"));
  }, "draw"), intersectLine: iM(function(e31, t11, r10, n10, i10, a10, s10, o10, l10) {
    return ed$(i10, a10, this.points, e31, t11, r10, n10, s10, this.getOrCreateCorners(e31, t11, r10, n10, o10, l10, "corners"));
  }, "intersectLine"), checkPoint: iM(function(e31, t11, r10, n10, i10, a10, s10, o10, l10) {
    return edE(e31, t11, this.points, a10, s10, n10, i10, this.getOrCreateCorners(a10, s10, n10, i10, o10, l10, "corners"));
  }, "checkPoint") };
}, evb.generateRoundRectangle = function() {
  return this.nodeShapes["round-rectangle"] = this.nodeShapes.roundrectangle = { renderer: this, name: "round-rectangle", points: edB(4, 0), draw: iM(function(e30, t10, r10, n10, i10, a10) {
    this.renderer.nodeShapeImpl(this.name, e30, t10, r10, n10, i10, this.points, a10);
  }, "draw"), intersectLine: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    return edv(i10, a10, e30, t10, r10, n10, s10, o10);
  }, "intersectLine"), checkPoint: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    var l10 = n10 / 2, h10 = i10 / 2, u10 = 2 * (o10 = Math.min(l10, h10, o10 = "auto" === o10 ? edj(n10, i10) : o10));
    return !!(edC(e30, t10, this.points, a10, s10, n10, i10 - u10, [0, -1], r10) || edC(e30, t10, this.points, a10, s10, n10 - u10, i10, [0, -1], r10) || edM(e30, t10, u10, u10, a10 - l10 + o10, s10 - h10 + o10, r10) || edM(e30, t10, u10, u10, a10 + l10 - o10, s10 - h10 + o10, r10) || edM(e30, t10, u10, u10, a10 + l10 - o10, s10 + h10 - o10, r10) || edM(e30, t10, u10, u10, a10 - l10 + o10, s10 + h10 - o10, r10));
  }, "checkPoint") };
}, evb.generateCutRectangle = function() {
  return this.nodeShapes["cut-rectangle"] = this.nodeShapes.cutrectangle = { renderer: this, name: "cut-rectangle", cornerLength: edU(), points: edB(4, 0), draw: iM(function(e30, t10, r10, n10, i10, a10) {
    this.renderer.nodeShapeImpl(this.name, e30, t10, r10, n10, i10, null, a10);
  }, "draw"), generateCutTrianglePts: iM(function(e30, t10, r10, n10, i10) {
    var a10 = "auto" === i10 ? this.cornerLength : i10, s10 = t10 / 2, o10 = e30 / 2, l10 = r10 - o10, h10 = r10 + o10, u10 = n10 - s10, d10 = n10 + s10;
    return { topLeft: [l10, u10 + a10, l10 + a10, u10, l10 + a10, u10 + a10], topRight: [h10 - a10, u10, h10, u10 + a10, h10 - a10, u10 + a10], bottomRight: [h10, d10 - a10, h10 - a10, d10, h10 - a10, d10 - a10], bottomLeft: [l10 + a10, d10, l10, d10 - a10, l10 + a10, d10 - a10] };
  }, "generateCutTrianglePts"), intersectLine: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    var l10 = this.generateCutTrianglePts(r10 + 2 * s10, n10 + 2 * s10, e30, t10, o10);
    return edO(i10, a10, [].concat.apply([], [l10.topLeft.splice(0, 4), l10.topRight.splice(0, 4), l10.bottomRight.splice(0, 4), l10.bottomLeft.splice(0, 4)]), e30, t10);
  }, "intersectLine"), checkPoint: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    var l10 = "auto" === o10 ? this.cornerLength : o10;
    if (edC(e30, t10, this.points, a10, s10, n10, i10 - 2 * l10, [0, -1], r10) || edC(e30, t10, this.points, a10, s10, n10 - 2 * l10, i10, [0, -1], r10)) return true;
    var h10 = this.generateCutTrianglePts(n10, i10, a10, s10);
    return edS(e30, t10, h10.topLeft) || edS(e30, t10, h10.topRight) || edS(e30, t10, h10.bottomRight) || edS(e30, t10, h10.bottomLeft);
  }, "checkPoint") };
}, evb.generateBarrel = function() {
  return this.nodeShapes.barrel = { renderer: this, name: "barrel", points: edB(4, 0), draw: iM(function(e30, t10, r10, n10, i10, a10) {
    this.renderer.nodeShapeImpl(this.name, e30, t10, r10, n10, i10);
  }, "draw"), intersectLine: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    var l10 = this.generateBarrelBezierPts(r10 + 2 * s10, n10 + 2 * s10, e30, t10), h10 = iM(function(e31) {
      var t11 = edr({ x: e31[0], y: e31[1] }, { x: e31[2], y: e31[3] }, { x: e31[4], y: e31[5] }, 0.15), r11 = edr({ x: e31[0], y: e31[1] }, { x: e31[2], y: e31[3] }, { x: e31[4], y: e31[5] }, 0.5), n11 = edr({ x: e31[0], y: e31[1] }, { x: e31[2], y: e31[3] }, { x: e31[4], y: e31[5] }, 0.85);
      return [e31[0], e31[1], t11.x, t11.y, r11.x, r11.y, n11.x, n11.y, e31[4], e31[5]];
    }, "approximateBarrelCurvePts");
    return edO(i10, a10, [].concat(h10(l10.topLeft), h10(l10.topRight), h10(l10.bottomRight), h10(l10.bottomLeft)), e30, t10);
  }, "intersectLine"), generateBarrelBezierPts: iM(function(e30, t10, r10, n10) {
    var i10 = t10 / 2, a10 = e30 / 2, s10 = r10 - a10, o10 = r10 + a10, l10 = n10 - i10, h10 = n10 + i10, u10 = edV(e30, t10), d10 = u10.heightOffset, p10 = u10.widthOffset, f10 = u10.ctrlPtOffsetPct * e30, g10 = { topLeft: [s10, l10 + d10, s10 + f10, l10, s10 + p10, l10], topRight: [o10 - p10, l10, o10 - f10, l10, o10, l10 + d10], bottomRight: [o10, h10 - d10, o10 - f10, h10, o10 - p10, h10], bottomLeft: [s10 + p10, h10, s10 + f10, h10, s10, h10 - d10] };
    return g10.topLeft.isTop = true, g10.topRight.isTop = true, g10.bottomLeft.isBottom = true, g10.bottomRight.isBottom = true, g10;
  }, "generateBarrelBezierPts"), checkPoint: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    var l10 = edV(n10, i10), h10 = l10.heightOffset, u10 = l10.widthOffset;
    if (edC(e30, t10, this.points, a10, s10, n10, i10 - 2 * h10, [0, -1], r10) || edC(e30, t10, this.points, a10, s10, n10 - 2 * u10, i10, [0, -1], r10)) return true;
    for (var d10 = this.generateBarrelBezierPts(n10, i10, a10, s10), p10 = iM(function(e31, t11, r11) {
      var n11 = r11[4], i11 = r11[2], a11 = r11[0], s11 = r11[5], o11 = r11[1], l11 = Math.min(n11, a11), h11 = Math.max(n11, a11), u11 = Math.min(s11, o11), d11 = Math.max(s11, o11);
      if (l11 <= e31 && e31 <= h11 && u11 <= t11 && t11 <= d11) {
        var p11 = edW(n11, i11, a11), f11 = edk(p11[0], p11[1], p11[2], e31).filter(function(e32) {
          return 0 <= e32 && e32 <= 1;
        });
        if (f11.length > 0) return f11[0];
      }
      return null;
    }, "getCurveT"), f10 = Object.keys(d10), g10 = 0; g10 < f10.length; g10++) {
      var y10 = d10[f10[g10]], v10 = p10(e30, t10, y10);
      if (null != v10) {
        var x10 = edt(y10[5], y10[3], y10[1], v10);
        if (y10.isTop && x10 <= t10 || y10.isBottom && t10 <= x10) return true;
      }
    }
    return false;
  }, "checkPoint") };
}, evb.generateBottomRoundrectangle = function() {
  return this.nodeShapes["bottom-round-rectangle"] = this.nodeShapes.bottomroundrectangle = { renderer: this, name: "bottom-round-rectangle", points: edB(4, 0), draw: iM(function(e30, t10, r10, n10, i10, a10) {
    this.renderer.nodeShapeImpl(this.name, e30, t10, r10, n10, i10, this.points, a10);
  }, "draw"), intersectLine: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    var l10 = e30 - (r10 / 2 + s10), h10 = t10 - (n10 / 2 + s10), u10 = e30 + (r10 / 2 + s10), d10 = edD(i10, a10, e30, t10, l10, h10, u10, h10, false);
    return d10.length > 0 ? d10 : edv(i10, a10, e30, t10, r10, n10, s10, o10);
  }, "intersectLine"), checkPoint: iM(function(e30, t10, r10, n10, i10, a10, s10, o10) {
    var l10 = 2 * (o10 = "auto" === o10 ? edj(n10, i10) : o10);
    if (edC(e30, t10, this.points, a10, s10, n10, i10 - l10, [0, -1], r10) || edC(e30, t10, this.points, a10, s10, n10 - l10, i10, [0, -1], r10)) return true;
    var h10 = n10 / 2 + 2 * r10, u10 = i10 / 2 + 2 * r10;
    return !!(edS(e30, t10, [a10 - h10, s10 - u10, a10 - h10, s10, a10 + h10, s10, a10 + h10, s10 - u10]) || edM(e30, t10, l10, l10, a10 + n10 / 2 - o10, s10 + i10 / 2 - o10, r10) || edM(e30, t10, l10, l10, a10 - n10 / 2 + o10, s10 + i10 / 2 - o10, r10));
  }, "checkPoint") };
}, evb.registerNodeShapes = function() {
  var e30 = this.nodeShapes = {}, t10 = this;
  this.generateEllipse(), this.generatePolygon("triangle", edB(3, 0)), this.generateRoundPolygon("round-triangle", edB(3, 0)), this.generatePolygon("rectangle", edB(4, 0)), e30.square = e30.rectangle, this.generateRoundRectangle(), this.generateCutRectangle(), this.generateBarrel(), this.generateBottomRoundrectangle();
  var r10 = [0, 1, 1, 0, 0, -1, -1, 0];
  this.generatePolygon("diamond", r10), this.generateRoundPolygon("round-diamond", r10), this.generatePolygon("pentagon", edB(5, 0)), this.generateRoundPolygon("round-pentagon", edB(5, 0)), this.generatePolygon("hexagon", edB(6, 0)), this.generateRoundPolygon("round-hexagon", edB(6, 0)), this.generatePolygon("heptagon", edB(7, 0)), this.generateRoundPolygon("round-heptagon", edB(7, 0)), this.generatePolygon("octagon", edB(8, 0)), this.generateRoundPolygon("round-octagon", edB(8, 0));
  var n10 = Array(20), i10 = edz(5, 0), a10 = edz(5, Math.PI / 5), s10 = 0.5 * (3 - Math.sqrt(5));
  s10 *= 1.57;
  for (var o10 = 0; o10 < a10.length / 2; o10++) a10[2 * o10] *= s10, a10[2 * o10 + 1] *= s10;
  for (var o10 = 0; o10 < 5; o10++) n10[4 * o10] = i10[2 * o10], n10[4 * o10 + 1] = i10[2 * o10 + 1], n10[4 * o10 + 2] = a10[2 * o10], n10[4 * o10 + 3] = a10[2 * o10 + 1];
  n10 = edF(n10), this.generatePolygon("star", n10), this.generatePolygon("vee", [-1, -1, 0, -0.333, 1, -1, 0, 1]), this.generatePolygon("rhomboid", [-1, -1, 0.333, -1, 1, 1, -0.333, 1]), this.generatePolygon("right-rhomboid", [-0.333, -1, 1, -1, 0.333, 1, -1, 1]), this.nodeShapes.concavehexagon = this.generatePolygon("concave-hexagon", [-1, -0.95, -0.75, 0, -1, 0.95, 1, 0.95, 0.75, 0, 1, -0.95]);
  var l10 = [-1, -1, 0.25, -1, 1, 0, 0.25, 1, -1, 1];
  this.generatePolygon("tag", l10), this.generateRoundPolygon("round-tag", l10), e30.makePolygon = function(e31) {
    var r11, n11 = "polygon-" + e31.join("$");
    return (r11 = this[n11]) ? r11 : t10.generatePolygon(n11, e31);
  };
};
var evk = {};
evk.timeToRender = function() {
  return this.redrawTotalTime / this.redrawCount;
}, evk.redraw = function(e30) {
  e30 = e30 || euw(), void 0 === this.averageRedrawTime && (this.averageRedrawTime = 0), void 0 === this.lastRedrawTime && (this.lastRedrawTime = 0), void 0 === this.lastDrawTime && (this.lastDrawTime = 0), this.requestedFrame = true, this.renderOptions = e30;
}, evk.beforeRender = function(e30, t10) {
  if (!this.destroyed) {
    null == t10 && euf("Priority is not optional for beforeRender");
    var r10 = this.beforeRenderCallbacks;
    r10.push({ fn: e30, priority: t10 }), r10.sort(function(e31, t11) {
      return t11.priority - e31.priority;
    });
  }
};
var evw = iM(function(e30, t10, r10) {
  for (var n10 = e30.beforeRenderCallbacks, i10 = 0; i10 < n10.length; i10++) n10[i10].fn(t10, r10);
}, "beforeRenderCallbacks");
evk.startRenderLoop = function() {
  var e30 = this, t10 = e30.cy;
  if (!e30.renderLoopStarted) {
    e30.renderLoopStarted = true;
    var r10 = iM(function r11(n10) {
      if (!e30.destroyed) {
        if (t10.batching()) ;
        else if (e30.requestedFrame && !e30.skipFrame) {
          evw(e30, true, n10);
          var i10 = eh4();
          e30.render(e30.renderOptions);
          var a10 = e30.lastDrawTime = eh4();
          void 0 === e30.averageRedrawTime && (e30.averageRedrawTime = a10 - i10), void 0 === e30.redrawCount && (e30.redrawCount = 0), e30.redrawCount++, void 0 === e30.redrawTotalTime && (e30.redrawTotalTime = 0);
          var s10 = a10 - i10;
          e30.redrawTotalTime += s10, e30.lastRedrawTime = s10, e30.averageRedrawTime = e30.averageRedrawTime / 2 + s10 / 2, e30.requestedFrame = false;
        } else evw(e30, false, n10);
        e30.skipFrame = false, eh5(r11);
      }
    }, "renderFn");
    eh5(r10);
  }
};
var ev_ = iM(function(e30) {
  this.init(e30);
}, "BaseRenderer"), evT = ev_.prototype;
evT.clientFunctions = ["redrawHint", "render", "renderTo", "matchCanvasSize", "nodeShapeImpl", "arrowShapeImpl"], evT.init = function(e30) {
  this.options = e30, this.cy = e30.cy;
  var t10 = this.container = e30.cy.container(), r10 = this.cy.window();
  if (r10) {
    var n10 = r10.document, i10 = n10.head, a10 = "__________cytoscape_stylesheet", s10 = "__________cytoscape_container", o10 = null != n10.getElementById(a10);
    if (0 > t10.className.indexOf(s10) && (t10.className = (t10.className || "") + " " + s10), !o10) {
      var l10 = n10.createElement("style");
      l10.id = a10, l10.textContent = "." + s10 + " { position: relative; }", i10.insertBefore(l10, i10.children[0]);
    }
    "static" === r10.getComputedStyle(t10).getPropertyValue("position") && eum("A Cytoscape container has style position:static and so can not use UI extensions properly");
  }
  this.selection = [void 0, void 0, void 0, void 0, 0], this.bezierProjPcts = [0.05, 0.225, 0.4, 0.5, 0.6, 0.775, 0.95], this.hoverData = { down: null, last: null, downTime: null, triggerMode: null, dragging: false, initialPan: [null, null], capture: false }, this.dragData = { possibleDragElements: [] }, this.touchData = { start: null, capture: false, startPosition: [null, null, null, null, null, null], singleTouchStartTime: null, singleTouchMoved: true, now: [null, null, null, null, null, null], earlier: [null, null, null, null, null, null] }, this.redraws = 0, this.showFps = e30.showFps, this.debug = e30.debug, this.hideEdgesOnViewport = e30.hideEdgesOnViewport, this.textureOnViewport = e30.textureOnViewport, this.wheelSensitivity = e30.wheelSensitivity, this.motionBlurEnabled = e30.motionBlur, this.forcedPixelRatio = ecJ(e30.pixelRatio) ? e30.pixelRatio : null, this.motionBlur = e30.motionBlur, this.motionBlurOpacity = e30.motionBlurOpacity, this.motionBlurTransparency = 1 - this.motionBlurOpacity, this.motionBlurPxRatio = 1, this.mbPxRBlurry = 1, this.minMbLowQualFrames = 4, this.fullQualityMb = false, this.clearedForMotionBlur = [], this.desktopTapThreshold = e30.desktopTapThreshold, this.desktopTapThreshold2 = e30.desktopTapThreshold * e30.desktopTapThreshold, this.touchTapThreshold = e30.touchTapThreshold, this.touchTapThreshold2 = e30.touchTapThreshold * e30.touchTapThreshold, this.tapholdDuration = 500, this.bindings = [], this.beforeRenderCallbacks = [], this.beforeRenderPriorities = { animations: 400, eleCalcs: 300, eleTxrDeq: 200, lyrTxrDeq: 150, lyrTxrSkip: 100 }, this.registerNodeShapes(), this.registerArrowShapes(), this.registerCalculationListeners();
}, evT.notify = function(e30, t10) {
  var r10 = this.cy;
  if (!this.destroyed) {
    if ("init" === e30) {
      this.load();
      return;
    }
    if ("destroy" === e30) {
      this.destroy();
      return;
    }
    ("add" === e30 || "remove" === e30 || "move" === e30 && r10.hasCompoundNodes() || "load" === e30 || "zorder" === e30 || "mount" === e30) && this.invalidateCachedZSortedEles(), "viewport" === e30 && this.redrawHint("select", true), ("load" === e30 || "resize" === e30 || "mount" === e30) && (this.invalidateContainerClientCoordsCache(), this.matchCanvasSize(this.container)), this.redrawHint("eles", true), this.redrawHint("drag", true), this.startRenderLoop(), this.redraw();
  }
}, evT.destroy = function() {
  this.destroyed = true, this.cy.stopAnimationLoop();
  for (var e30 = 0; e30 < this.bindings.length; e30++) {
    var t10 = this.bindings[e30], r10 = t10.target;
    (r10.off || r10.removeEventListener).apply(r10, t10.args);
  }
  if (this.bindings = [], this.beforeRenderCallbacks = [], this.onUpdateEleCalcsFns = [], this.removeObserver && this.removeObserver.disconnect(), this.styleObserver && this.styleObserver.disconnect(), this.resizeObserver && this.resizeObserver.disconnect(), this.labelCalcDiv) try {
    document.body.removeChild(this.labelCalcDiv);
  } catch (e31) {
  }
}, evT.isHeadless = function() {
  return false;
}, [ey3, evy, evv, evx, evb, evk].forEach(function(e30) {
  ehg(evT, e30);
});
var evS = 1e3 / 60, evC = { setupDequeueing: iM(function(e30) {
  return iM(function() {
    var t10 = this, r10 = this.renderer;
    if (!t10.dequeueingSetup) {
      t10.dequeueingSetup = true;
      var n10 = eh1(function() {
        r10.redrawHint("eles", true), r10.redrawHint("drag", true), r10.redraw();
      }, e30.deqRedrawThreshold), i10 = iM(function(i11, a11) {
        var s10 = eh4(), o10 = r10.averageRedrawTime, l10 = r10.lastRedrawTime, h10 = [], u10 = r10.cy.extent(), d10 = r10.getPixelRatio();
        for (i11 || r10.flushRenderedStyleQueue(); ; ) {
          var p10 = eh4(), f10 = p10 - s10, g10 = p10 - a11;
          if (l10 < evS) {
            var y10 = evS - (i11 ? o10 : 0);
            if (g10 >= e30.deqFastCost * y10) break;
          } else if (i11) {
            if (f10 >= e30.deqCost * l10 || f10 >= e30.deqAvgCost * o10) break;
          } else if (g10 >= e30.deqNoDrawCost * evS) break;
          var v10 = e30.deq(t10, d10, u10);
          if (v10.length > 0) for (var x10 = 0; x10 < v10.length; x10++) h10.push(v10[x10]);
          else break;
        }
        h10.length > 0 && (e30.onDeqd(t10, h10), !i11 && e30.shouldRedraw(t10, h10, d10, u10) && n10());
      }, "dequeue"), a10 = e30.priority || eup;
      r10.beforeRender(i10, a10(t10));
    }
  }, "setupDequeueingImpl");
}, "setupDequeueing") }, evE = function() {
  function e30(t10) {
    var r10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : euu;
    ecI(this, e30), this.idsByKey = new euI(), this.keyForId = new euI(), this.cachesByLvl = new euI(), this.lvls = [], this.getKey = t10, this.doesEleInvalidateKey = r10;
  }
  return iM(e30, "ElementTextureCacheLookup"), ecN(e30, [{ key: "getIdsFor", value: iM(function(e31) {
    null == e31 && euf("Can not get id list for null key");
    var t10 = this.idsByKey, r10 = this.idsByKey.get(e31);
    return r10 || (r10 = new euN(), t10.set(e31, r10)), r10;
  }, "getIdsFor") }, { key: "addIdForKey", value: iM(function(e31, t10) {
    null != e31 && this.getIdsFor(e31).add(t10);
  }, "addIdForKey") }, { key: "deleteIdForKey", value: iM(function(e31, t10) {
    null != e31 && this.getIdsFor(e31).delete(t10);
  }, "deleteIdForKey") }, { key: "getNumberOfIdsForKey", value: iM(function(e31) {
    return null == e31 ? 0 : this.getIdsFor(e31).size;
  }, "getNumberOfIdsForKey") }, { key: "updateKeyMappingFor", value: iM(function(e31) {
    var t10 = e31.id(), r10 = this.keyForId.get(t10), n10 = this.getKey(e31);
    this.deleteIdForKey(r10, t10), this.addIdForKey(n10, t10), this.keyForId.set(t10, n10);
  }, "updateKeyMappingFor") }, { key: "deleteKeyMappingFor", value: iM(function(e31) {
    var t10 = e31.id(), r10 = this.keyForId.get(t10);
    this.deleteIdForKey(r10, t10), this.keyForId.delete(t10);
  }, "deleteKeyMappingFor") }, { key: "keyHasChangedFor", value: iM(function(e31) {
    var t10 = e31.id();
    return this.keyForId.get(t10) !== this.getKey(e31);
  }, "keyHasChangedFor") }, { key: "isInvalid", value: iM(function(e31) {
    return this.keyHasChangedFor(e31) || this.doesEleInvalidateKey(e31);
  }, "isInvalid") }, { key: "getCachesAt", value: iM(function(e31) {
    var t10 = this.cachesByLvl, r10 = this.lvls, n10 = t10.get(e31);
    return n10 || (n10 = new euI(), t10.set(e31, n10), r10.push(e31)), n10;
  }, "getCachesAt") }, { key: "getCache", value: iM(function(e31, t10) {
    return this.getCachesAt(t10).get(e31);
  }, "getCache") }, { key: "get", value: iM(function(e31, t10) {
    var r10 = this.getKey(e31), n10 = this.getCache(r10, t10);
    return null != n10 && this.updateKeyMappingFor(e31), n10;
  }, "get") }, { key: "getForCachedKey", value: iM(function(e31, t10) {
    var r10 = this.keyForId.get(e31.id());
    return this.getCache(r10, t10);
  }, "getForCachedKey") }, { key: "hasCache", value: iM(function(e31, t10) {
    return this.getCachesAt(t10).has(e31);
  }, "hasCache") }, { key: "has", value: iM(function(e31, t10) {
    var r10 = this.getKey(e31);
    return this.hasCache(r10, t10);
  }, "has") }, { key: "setCache", value: iM(function(e31, t10, r10) {
    r10.key = e31, this.getCachesAt(t10).set(e31, r10);
  }, "setCache") }, { key: "set", value: iM(function(e31, t10, r10) {
    var n10 = this.getKey(e31);
    this.setCache(n10, t10, r10), this.updateKeyMappingFor(e31);
  }, "set") }, { key: "deleteCache", value: iM(function(e31, t10) {
    this.getCachesAt(t10).delete(e31);
  }, "deleteCache") }, { key: "delete", value: iM(function(e31, t10) {
    var r10 = this.getKey(e31);
    this.deleteCache(r10, t10);
  }, "_delete") }, { key: "invalidateKey", value: iM(function(e31) {
    var t10 = this;
    this.lvls.forEach(function(r10) {
      return t10.deleteCache(e31, r10);
    });
  }, "invalidateKey") }, { key: "invalidate", value: iM(function(e31) {
    var t10 = e31.id(), r10 = this.keyForId.get(t10);
    this.deleteKeyMappingFor(e31);
    var n10 = this.doesEleInvalidateKey(e31);
    return n10 && this.invalidateKey(r10), n10 || 0 === this.getNumberOfIdsForKey(r10);
  }, "invalidate") }]), e30;
}(), evA = { dequeue: "dequeue", downscale: "downscale", highQuality: "highQuality" }, evL = eu_({ getKey: null, doesEleInvalidateKey: euu, drawElement: null, getBoundingBox: null, getRotationPoint: null, getRotationOffset: null, isVisible: euh, allowEdgeTxrCaching: true, allowParentTxrCaching: true }), evI = iM(function(e30, t10) {
  this.renderer = e30, this.onDequeues = [];
  var r10 = evL(t10);
  ehg(this, r10), this.lookup = new evE(r10.getKey, r10.doesEleInvalidateKey), this.setupDequeueing();
}, "ElementTextureCache"), evM = evI.prototype;
evM.reasons = evA, evM.getTextureQueue = function(e30) {
  return this.eleImgCaches = this.eleImgCaches || {}, this.eleImgCaches[e30] = this.eleImgCaches[e30] || [];
}, evM.getRetiredTextureQueue = function(e30) {
  var t10 = this.eleImgCaches.retired = this.eleImgCaches.retired || {};
  return t10[e30] = t10[e30] || [];
}, evM.getElementQueue = function() {
  return this.eleCacheQueue = this.eleCacheQueue || new eu$(function(e30, t10) {
    return t10.reqs - e30.reqs;
  });
}, evM.getElementKeyToQueue = function() {
  return this.eleKeyToCacheQueue = this.eleKeyToCacheQueue || {};
}, evM.getElement = function(e30, t10, r10, n10, i10) {
  var a10, s10, o10, l10 = this, h10 = this.renderer, u10 = h10.cy.zoom(), d10 = this.lookup;
  if (!t10 || 0 === t10.w || 0 === t10.h || isNaN(t10.w) || isNaN(t10.h) || !e30.visible() || e30.removed() || !l10.allowEdgeTxrCaching && e30.isEdge() || !l10.allowParentTxrCaching && e30.isParent()) return null;
  if (null == n10 && (n10 = Math.ceil(eu6(u10 * r10))), n10 < -4) n10 = -4;
  else if (u10 >= 7.99 || n10 > 3) return null;
  var p10 = Math.pow(2, n10), f10 = t10.h * p10, g10 = t10.w * p10, y10 = h10.eleTextBiggerThanMin(e30, p10);
  if (!this.isVisible(e30, y10)) return null;
  var v10 = d10.get(e30, n10);
  if (v10 && v10.invalidated && (v10.invalidated = false, v10.texture.invalidatedWidth -= v10.width), v10) return v10;
  if (a10 = f10 <= 25 ? 25 : f10 <= 50 ? 50 : 50 * Math.ceil(f10 / 50), f10 > 1024 || g10 > 1024) return null;
  var x10 = l10.getTextureQueue(a10), b10 = x10[x10.length - 2], k10 = iM(function() {
    return l10.recycleTexture(a10, g10) || l10.addTexture(a10, g10);
  }, "addNewTxr");
  b10 || (b10 = x10[x10.length - 1]), b10 || (b10 = k10()), b10.width - b10.usedWidth < g10 && (b10 = k10());
  for (var w10 = iM(function(e31) {
    return e31 && e31.scaledLabelShown === y10;
  }, "scalableFrom"), _10 = i10 && i10 === evA.dequeue, T10 = i10 && i10 === evA.highQuality, S10 = i10 && i10 === evA.downscale, C10 = n10 + 1; C10 <= 3; C10++) {
    var E10 = d10.get(e30, C10);
    if (E10) {
      s10 = E10;
      break;
    }
  }
  var A10 = s10 && s10.level === n10 + 1 ? s10 : null, L10 = iM(function() {
    b10.context.drawImage(A10.texture.canvas, A10.x, 0, A10.width, A10.height, b10.usedWidth, 0, g10, f10);
  }, "downscale");
  if (b10.context.setTransform(1, 0, 0, 1, 0, 0), b10.context.clearRect(b10.usedWidth, 0, g10, a10), w10(A10)) L10();
  else if (w10(s10)) {
    if (!T10) return l10.queueElement(e30, s10.level - 1), s10;
    for (var I10 = s10.level; I10 > n10; I10--) A10 = l10.getElement(e30, t10, r10, I10, evA.downscale);
    L10();
  } else {
    if (!_10 && !T10 && !S10) for (var M10 = n10 - 1; M10 >= -4; M10--) {
      var N10 = d10.get(e30, M10);
      if (N10) {
        o10 = N10;
        break;
      }
    }
    if (w10(o10)) return l10.queueElement(e30, n10), o10;
    b10.context.translate(b10.usedWidth, 0), b10.context.scale(p10, p10), this.drawElement(b10.context, e30, t10, y10, false), b10.context.scale(1 / p10, 1 / p10), b10.context.translate(-b10.usedWidth, 0);
  }
  return v10 = { x: b10.usedWidth, texture: b10, level: n10, scale: p10, width: g10, height: f10, scaledLabelShown: y10 }, b10.usedWidth += Math.ceil(g10 + 8), b10.eleCaches.push(v10), d10.set(e30, n10, v10), l10.checkTextureFullness(b10), v10;
}, evM.invalidateElements = function(e30) {
  for (var t10 = 0; t10 < e30.length; t10++) this.invalidateElement(e30[t10]);
}, evM.invalidateElement = function(e30) {
  var t10 = this.lookup, r10 = [];
  if (t10.isInvalid(e30)) {
    for (var n10 = -4; n10 <= 3; n10++) {
      var i10 = t10.getForCachedKey(e30, n10);
      i10 && r10.push(i10);
    }
    if (t10.invalidate(e30)) for (var a10 = 0; a10 < r10.length; a10++) {
      var s10 = r10[a10], o10 = s10.texture;
      o10.invalidatedWidth += s10.width, s10.invalidated = true, this.checkTextureUtility(o10);
    }
    this.removeFromQueue(e30);
  }
}, evM.checkTextureUtility = function(e30) {
  e30.invalidatedWidth >= 0.2 * e30.width && this.retireTexture(e30);
}, evM.checkTextureFullness = function(e30) {
  var t10 = this.getTextureQueue(e30.height);
  e30.usedWidth / e30.width > 0.8 && e30.fullnessChecks >= 10 ? euT(t10, e30) : e30.fullnessChecks++;
}, evM.retireTexture = function(e30) {
  var t10 = e30.height, r10 = this.getTextureQueue(t10), n10 = this.lookup;
  euT(r10, e30), e30.retired = true;
  for (var i10 = e30.eleCaches, a10 = 0; a10 < i10.length; a10++) {
    var s10 = i10[a10];
    n10.deleteCache(s10.key, s10.level);
  }
  euS(i10), this.getRetiredTextureQueue(t10).push(e30);
}, evM.addTexture = function(e30, t10) {
  var r10 = this.getTextureQueue(e30), n10 = {};
  return r10.push(n10), n10.eleCaches = [], n10.height = e30, n10.width = Math.max(1024, t10), n10.usedWidth = 0, n10.invalidatedWidth = 0, n10.fullnessChecks = 0, n10.canvas = this.renderer.makeOffscreenCanvas(n10.width, n10.height), n10.context = n10.canvas.getContext("2d"), n10;
}, evM.recycleTexture = function(e30, t10) {
  for (var r10 = this.getTextureQueue(e30), n10 = this.getRetiredTextureQueue(e30), i10 = 0; i10 < n10.length; i10++) {
    var a10 = n10[i10];
    if (a10.width >= t10) return a10.retired = false, a10.usedWidth = 0, a10.invalidatedWidth = 0, a10.fullnessChecks = 0, euS(a10.eleCaches), a10.context.setTransform(1, 0, 0, 1, 0, 0), a10.context.clearRect(0, 0, a10.width, a10.height), euT(n10, a10), r10.push(a10), a10;
  }
}, evM.queueElement = function(e30, t10) {
  var r10 = this.getElementQueue(), n10 = this.getElementKeyToQueue(), i10 = this.getKey(e30), a10 = n10[i10];
  if (a10) a10.level = Math.max(a10.level, t10), a10.eles.merge(e30), a10.reqs++, r10.updateItem(a10);
  else {
    var s10 = { eles: e30.spawn().merge(e30), level: t10, reqs: 1, key: i10 };
    r10.push(s10), n10[i10] = s10;
  }
}, evM.dequeue = function(e30) {
  for (var t10 = this.getElementQueue(), r10 = this.getElementKeyToQueue(), n10 = [], i10 = this.lookup, a10 = 0; a10 < 1; a10++) if (t10.size() > 0) {
    var s10 = t10.pop(), o10 = s10.key, l10 = s10.eles[0], h10 = i10.hasCache(l10, s10.level);
    if (r10[o10] = null, h10) continue;
    n10.push(s10);
    var u10 = this.getBoundingBox(l10);
    this.getElement(l10, u10, e30, s10.level, evA.dequeue);
  } else break;
  return n10;
}, evM.removeFromQueue = function(e30) {
  var t10 = this.getElementQueue(), r10 = this.getElementKeyToQueue(), n10 = this.getKey(e30), i10 = r10[n10];
  null != i10 && (1 === i10.eles.length ? (i10.reqs = euc, t10.updateItem(i10), t10.pop(), r10[n10] = null) : i10.eles.unmerge(e30));
}, evM.onDequeue = function(e30) {
  this.onDequeues.push(e30);
}, evM.offDequeue = function(e30) {
  euT(this.onDequeues, e30);
}, evM.setupDequeueing = evC.setupDequeueing({ deqRedrawThreshold: 100, deqCost: 0.15, deqAvgCost: 0.1, deqNoDrawCost: 0.9, deqFastCost: 0.9, deq: iM(function(e30, t10, r10) {
  return e30.dequeue(t10, r10);
}, "deq"), onDeqd: iM(function(e30, t10) {
  for (var r10 = 0; r10 < e30.onDequeues.length; r10++) (0, e30.onDequeues[r10])(t10);
}, "onDeqd"), shouldRedraw: iM(function(e30, t10, r10, n10) {
  for (var i10 = 0; i10 < t10.length; i10++) for (var a10 = t10[i10].eles, s10 = 0; s10 < a10.length; s10++) if (edf(a10[s10].boundingBox(), n10)) return true;
  return false;
}, "shouldRedraw"), priority: iM(function(e30) {
  return e30.renderer.beforeRenderPriorities.eleTxrDeq;
}, "priority") });
var evN = 4e3 * 4e3, evR = iM(function(e30) {
  var t10 = this, r10 = t10.renderer = e30, n10 = r10.cy;
  t10.layersByLevel = {}, t10.firstGet = true, t10.lastInvalidationTime = eh4() - 500, t10.skipping = false, t10.eleTxrDeqs = n10.collection(), t10.scheduleElementRefinement = eh1(function() {
    t10.refineElementTextures(t10.eleTxrDeqs), t10.eleTxrDeqs.unmerge(t10.eleTxrDeqs);
  }, 50), r10.beforeRender(function(e31, r11) {
    r11 - t10.lastInvalidationTime <= 250 ? t10.skipping = true : t10.skipping = false;
  }, r10.beforeRenderPriorities.lyrTxrSkip);
  var i10 = iM(function(e31, t11) {
    return t11.reqs - e31.reqs;
  }, "qSort");
  t10.layersQueue = new eu$(i10), t10.setupDequeueing();
}, "LayeredTextureCache"), evD = evR.prototype, evO = 0;
evD.makeLayer = function(e30, t10) {
  var r10 = Math.pow(2, t10), n10 = Math.ceil(e30.w * r10), i10 = Math.ceil(e30.h * r10), a10 = this.renderer.makeOffscreenCanvas(n10, i10), s10 = { id: evO = ++evO % 9007199254740991, bb: e30, level: t10, width: n10, height: i10, canvas: a10, context: a10.getContext("2d"), eles: [], elesQueue: [], reqs: 0 }, o10 = s10.context, l10 = -s10.bb.x1, h10 = -s10.bb.y1;
  return o10.scale(r10, r10), o10.translate(l10, h10), s10;
}, evD.getLayers = function(e30, t10, r10) {
  var n10, i10, a10 = this, s10 = a10.renderer.cy.zoom(), o10 = a10.firstGet;
  if (a10.firstGet = false, null == r10) {
    if ((r10 = Math.ceil(eu6(s10 * t10))) < -4) r10 = -4;
    else if (s10 >= 3.99 || r10 > 2) return null;
  }
  a10.validateLayersElesOrdering(r10, e30);
  var l10 = a10.layersByLevel, h10 = Math.pow(2, r10), u10 = l10[r10] = l10[r10] || [], d10 = a10.levelIsComplete(r10, e30), p10 = iM(function() {
    var t11 = iM(function(t12) {
      if (a10.validateLayersElesOrdering(t12, e30), a10.levelIsComplete(t12, e30)) return i10 = l10[t12], true;
    }, "canUseAsTmpLvl"), n11 = iM(function(e31) {
      if (!i10) for (var n12 = r10 + e31; -4 <= n12 && n12 <= 2 && !t11(n12); n12 += e31) ;
    }, "checkLvls");
    n11(1), n11(-1);
    for (var s11 = u10.length - 1; s11 >= 0; s11--) {
      var o11 = u10[s11];
      o11.invalid && euT(u10, o11);
    }
  }, "checkTempLevels");
  if (d10) return u10;
  p10();
  var f10 = iM(function() {
    if (!n10) {
      n10 = eda();
      for (var t11 = 0; t11 < e30.length; t11++) edc(n10, e30[t11].boundingBox());
    }
    return n10;
  }, "getBb"), g10 = iM(function(e31) {
    var t11 = (e31 = e31 || {}).after;
    if (f10(), n10.w * h10 * (n10.h * h10) > evN) return null;
    var i11 = a10.makeLayer(n10, r10);
    if (null != t11) {
      var s11 = u10.indexOf(t11) + 1;
      u10.splice(s11, 0, i11);
    } else (void 0 === e31.insert || e31.insert) && u10.unshift(i11);
    return i11;
  }, "makeLayer");
  if (a10.skipping && !o10) return null;
  for (var y10 = null, v10 = e30.length / 1, x10 = !o10, b10 = 0; b10 < e30.length; b10++) {
    var k10 = e30[b10], w10 = k10._private.rscratch, _10 = w10.imgLayerCaches = w10.imgLayerCaches || {}, T10 = _10[r10];
    if (T10) {
      y10 = T10;
      continue;
    }
    if ((!y10 || y10.eles.length >= v10 || !edy(y10.bb, k10.boundingBox())) && !(y10 = g10({ insert: true, after: y10 }))) return null;
    i10 || x10 ? a10.queueLayer(y10, k10) : a10.drawEleInLayer(y10, k10, r10, t10), y10.eles.push(k10), _10[r10] = y10;
  }
  return i10 || (x10 ? null : u10);
}, evD.getEleLevelForLayerLevel = function(e30, t10) {
  return e30;
}, evD.drawEleInLayer = function(e30, t10, r10, n10) {
  var i10 = this.renderer, a10 = e30.context, s10 = t10.boundingBox();
  0 !== s10.w && 0 !== s10.h && t10.visible() && (r10 = this.getEleLevelForLayerLevel(r10, n10), i10.setImgSmoothing(a10, false), i10.drawCachedElement(a10, t10, null, null, r10, true), i10.setImgSmoothing(a10, true));
}, evD.levelIsComplete = function(e30, t10) {
  var r10 = this.layersByLevel[e30];
  if (!r10 || 0 === r10.length) return false;
  for (var n10 = 0, i10 = 0; i10 < r10.length; i10++) {
    var a10 = r10[i10];
    if (a10.reqs > 0 || a10.invalid) return false;
    n10 += a10.eles.length;
  }
  return n10 === t10.length;
}, evD.validateLayersElesOrdering = function(e30, t10) {
  var r10 = this.layersByLevel[e30];
  if (r10) for (var n10 = 0; n10 < r10.length; n10++) {
    for (var i10 = r10[n10], a10 = -1, s10 = 0; s10 < t10.length; s10++) if (i10.eles[0] === t10[s10]) {
      a10 = s10;
      break;
    }
    if (a10 < 0) {
      this.invalidateLayer(i10);
      continue;
    }
    for (var o10 = a10, s10 = 0; s10 < i10.eles.length; s10++) if (i10.eles[s10] !== t10[o10 + s10]) {
      this.invalidateLayer(i10);
      break;
    }
  }
}, evD.updateElementsInLayers = function(e30, t10) {
  for (var r10 = ec4(e30[0]), n10 = 0; n10 < e30.length; n10++) for (var i10 = r10 ? null : e30[n10], a10 = r10 ? e30[n10] : e30[n10].ele, s10 = a10._private.rscratch, o10 = s10.imgLayerCaches = s10.imgLayerCaches || {}, l10 = -4; l10 <= 2; l10++) {
    var h10 = o10[l10];
    h10 && (!i10 || this.getEleLevelForLayerLevel(h10.level) === i10.level) && t10(h10, a10, i10);
  }
}, evD.haveLayers = function() {
  for (var e30 = false, t10 = -4; t10 <= 2; t10++) {
    var r10 = this.layersByLevel[t10];
    if (r10 && r10.length > 0) {
      e30 = true;
      break;
    }
  }
  return e30;
}, evD.invalidateElements = function(e30) {
  var t10 = this;
  0 !== e30.length && (t10.lastInvalidationTime = eh4(), 0 !== e30.length && t10.haveLayers() && t10.updateElementsInLayers(e30, iM(function(e31, r10, n10) {
    t10.invalidateLayer(e31);
  }, "invalAssocLayers")));
}, evD.invalidateLayer = function(e30) {
  if (this.lastInvalidationTime = eh4(), !e30.invalid) {
    var t10 = e30.level, r10 = e30.eles;
    euT(this.layersByLevel[t10], e30), e30.elesQueue = [], e30.invalid = true, e30.replacement && (e30.replacement.invalid = true);
    for (var n10 = 0; n10 < r10.length; n10++) {
      var i10 = r10[n10]._private.rscratch.imgLayerCaches;
      i10 && (i10[t10] = null);
    }
  }
}, evD.refineElementTextures = function(e30) {
  var t10 = this;
  t10.updateElementsInLayers(e30, iM(function(e31, r10, n10) {
    var i10 = e31.replacement;
    if (i10 || ((i10 = e31.replacement = t10.makeLayer(e31.bb, e31.level)).replaces = e31, i10.eles = e31.eles), !i10.reqs) for (var a10 = 0; a10 < i10.eles.length; a10++) t10.queueLayer(i10, i10.eles[a10]);
  }, "refineEachEle"));
}, evD.enqueueElementRefinement = function(e30) {
  this.eleTxrDeqs.merge(e30), this.scheduleElementRefinement();
}, evD.queueLayer = function(e30, t10) {
  var r10 = this.layersQueue, n10 = e30.elesQueue, i10 = n10.hasId = n10.hasId || {};
  if (!e30.replacement) {
    if (t10) {
      if (i10[t10.id()]) return;
      n10.push(t10), i10[t10.id()] = true;
    }
    e30.reqs ? (e30.reqs++, r10.updateItem(e30)) : (e30.reqs = 1, r10.push(e30));
  }
}, evD.dequeue = function(e30) {
  for (var t10 = this.layersQueue, r10 = [], n10 = 0; n10 < 1 && 0 !== t10.size(); ) {
    var i10 = t10.peek();
    if (i10.replacement || i10.replaces && i10 !== i10.replaces.replacement || i10.invalid) {
      t10.pop();
      continue;
    }
    var a10 = i10.elesQueue.shift();
    a10 && (this.drawEleInLayer(i10, a10, i10.level, e30), n10++), 0 === r10.length && r10.push(true), 0 === i10.elesQueue.length && (t10.pop(), i10.reqs = 0, i10.replaces && this.applyLayerReplacement(i10), this.requestRedraw());
  }
  return r10;
}, evD.applyLayerReplacement = function(e30) {
  var t10 = this.layersByLevel[e30.level], r10 = e30.replaces, n10 = t10.indexOf(r10);
  if (!(n10 < 0) && !r10.invalid) {
    t10[n10] = e30;
    for (var i10 = 0; i10 < e30.eles.length; i10++) {
      var a10 = e30.eles[i10]._private, s10 = a10.imgLayerCaches = a10.imgLayerCaches || {};
      s10 && (s10[e30.level] = e30);
    }
    this.requestRedraw();
  }
}, evD.requestRedraw = eh1(function() {
  var e30 = this.renderer;
  e30.redrawHint("eles", true), e30.redrawHint("drag", true), e30.redraw();
}, 100), evD.setupDequeueing = evC.setupDequeueing({ deqRedrawThreshold: 50, deqCost: 0.15, deqAvgCost: 0.1, deqNoDrawCost: 0.9, deqFastCost: 0.9, deq: iM(function(e30, t10) {
  return e30.dequeue(t10);
}, "deq"), onDeqd: eup, shouldRedraw: euh, priority: iM(function(e30) {
  return e30.renderer.beforeRenderPriorities.lyrTxrDeq;
}, "priority") });
var ev$ = {};
function evP(e30, t10) {
  for (var r10 = 0; r10 < t10.length; r10++) {
    var n10 = t10[r10];
    e30.lineTo(n10.x, n10.y);
  }
}
function evB(e30, t10, r10) {
  for (var n10, i10 = 0; i10 < t10.length; i10++) {
    var a10 = t10[i10];
    0 === i10 && (n10 = a10), e30.lineTo(a10.x, a10.y);
  }
  e30.quadraticCurveTo(r10.x, r10.y, n10.x, n10.y);
}
function evF(e30, t10, r10) {
  e30.beginPath && e30.beginPath();
  for (var n10 = 0; n10 < t10.length; n10++) {
    var i10 = t10[n10];
    e30.lineTo(i10.x, i10.y);
  }
  var a10 = r10[0];
  e30.moveTo(a10.x, a10.y);
  for (var n10 = 1; n10 < r10.length; n10++) {
    var i10 = r10[n10];
    e30.lineTo(i10.x, i10.y);
  }
  e30.closePath && e30.closePath();
}
function evz(e30, t10, r10, n10, i10) {
  e30.beginPath && e30.beginPath(), e30.arc(r10, n10, i10, 0, 2 * Math.PI, false);
  var a10 = t10[0];
  e30.moveTo(a10.x, a10.y);
  for (var s10 = 0; s10 < t10.length; s10++) {
    var o10 = t10[s10];
    e30.lineTo(o10.x, o10.y);
  }
  e30.closePath && e30.closePath();
}
function evj(e30, t10, r10, n10) {
  e30.arc(t10, r10, n10, 0, 2 * Math.PI, false);
}
iM(evP, "polygon"), iM(evB, "triangleBackcurve"), iM(evF, "triangleTee"), iM(evz, "circleTriangle"), iM(evj, "circle"), ev$.arrowShapeImpl = function(e30) {
  return (ix || (ix = { polygon: evP, "triangle-backcurve": evB, "triangle-tee": evF, "circle-triangle": evz, "triangle-cross": evF, circle: evj }))[e30];
};
var evq = {};
evq.drawElement = function(e30, t10, r10, n10, i10, a10) {
  t10.isNode() ? this.drawNode(e30, t10, r10, n10, i10, a10) : this.drawEdge(e30, t10, r10, n10, i10, a10);
}, evq.drawElementOverlay = function(e30, t10) {
  t10.isNode() ? this.drawNodeOverlay(e30, t10) : this.drawEdgeOverlay(e30, t10);
}, evq.drawElementUnderlay = function(e30, t10) {
  t10.isNode() ? this.drawNodeUnderlay(e30, t10) : this.drawEdgeUnderlay(e30, t10);
}, evq.drawCachedElementPortion = function(e30, t10, r10, n10, i10, a10, s10, o10) {
  var l10 = r10.getBoundingBox(t10);
  if (0 !== l10.w && 0 !== l10.h) {
    var h10 = r10.getElement(t10, l10, n10, i10, a10);
    if (null != h10) {
      var u10, d10, p10, f10, g10, y10, v10 = o10(this, t10);
      if (0 === v10) return;
      var x10 = s10(this, t10), b10 = l10.x1, k10 = l10.y1, w10 = l10.w, _10 = l10.h;
      if (0 !== x10) {
        var T10 = r10.getRotationPoint(t10);
        p10 = T10.x, f10 = T10.y, e30.translate(p10, f10), e30.rotate(x10), (g10 = this.getImgSmoothing(e30)) || this.setImgSmoothing(e30, true);
        var S10 = r10.getRotationOffset(t10);
        u10 = S10.x, d10 = S10.y;
      } else u10 = b10, d10 = k10;
      1 !== v10 && (y10 = e30.globalAlpha, e30.globalAlpha = y10 * v10), e30.drawImage(h10.texture.canvas, h10.x, 0, h10.width, h10.height, u10, d10, w10, _10), 1 !== v10 && (e30.globalAlpha = y10), 0 === x10 || (e30.rotate(-x10), e30.translate(-p10, -f10), g10 || this.setImgSmoothing(e30, false));
    } else r10.drawElement(e30, t10);
  }
};
var evU = iM(function() {
  return 0;
}, "getZeroRotation"), evW = iM(function(e30, t10) {
  return e30.getTextAngle(t10, null);
}, "getLabelRotation"), evV = iM(function(e30, t10) {
  return e30.getTextAngle(t10, "source");
}, "getSourceLabelRotation"), evH = iM(function(e30, t10) {
  return e30.getTextAngle(t10, "target");
}, "getTargetLabelRotation"), evY = iM(function(e30, t10) {
  return t10.effectiveOpacity();
}, "getOpacity"), evG = iM(function(e30, t10) {
  return t10.pstyle("text-opacity").pfValue * t10.effectiveOpacity();
}, "getTextOpacity");
evq.drawCachedElement = function(e30, t10, r10, n10, i10, a10) {
  var s10 = this.data, o10 = s10.eleTxrCache, l10 = s10.lblTxrCache, h10 = s10.slbTxrCache, u10 = s10.tlbTxrCache, d10 = t10.boundingBox(), p10 = true === a10 ? o10.reasons.highQuality : null;
  if (0 !== d10.w && 0 !== d10.h && t10.visible() && (!n10 || edf(d10, n10))) {
    var f10 = t10.isEdge(), g10 = t10.element()._private.rscratch.badLine;
    this.drawElementUnderlay(e30, t10), this.drawCachedElementPortion(e30, t10, o10, r10, i10, p10, evU, evY), f10 && g10 || this.drawCachedElementPortion(e30, t10, l10, r10, i10, p10, evW, evG), f10 && !g10 && (this.drawCachedElementPortion(e30, t10, h10, r10, i10, p10, evV, evG), this.drawCachedElementPortion(e30, t10, u10, r10, i10, p10, evH, evG)), this.drawElementOverlay(e30, t10);
  }
}, evq.drawElements = function(e30, t10) {
  for (var r10 = 0; r10 < t10.length; r10++) {
    var n10 = t10[r10];
    this.drawElement(e30, n10);
  }
}, evq.drawCachedElements = function(e30, t10, r10, n10) {
  for (var i10 = 0; i10 < t10.length; i10++) {
    var a10 = t10[i10];
    this.drawCachedElement(e30, a10, r10, n10);
  }
}, evq.drawCachedNodes = function(e30, t10, r10, n10) {
  for (var i10 = 0; i10 < t10.length; i10++) {
    var a10 = t10[i10];
    a10.isNode() && this.drawCachedElement(e30, a10, r10, n10);
  }
}, evq.drawLayeredElements = function(e30, t10, r10, n10) {
  var i10 = this.data.lyrTxrCache.getLayers(t10, r10);
  if (i10) for (var a10 = 0; a10 < i10.length; a10++) {
    var s10 = i10[a10], o10 = s10.bb;
    0 !== o10.w && 0 !== o10.h && e30.drawImage(s10.canvas, o10.x1, o10.y1, o10.w, o10.h);
  }
  else this.drawCachedElements(e30, t10, r10, n10);
};
var evX = {};
evX.drawEdge = function(e30, t10, r10) {
  var n10, i10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], a10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], s10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5], o10 = this, l10 = t10._private.rscratch;
  if (!(s10 && !t10.visible() || l10.badLine || null == l10.allpts || isNaN(l10.allpts[0]))) {
    r10 && (n10 = r10, e30.translate(-n10.x1, -n10.y1));
    var h10 = s10 ? t10.pstyle("opacity").value : 1, u10 = s10 ? t10.pstyle("line-opacity").value : 1, d10 = t10.pstyle("curve-style").value, p10 = t10.pstyle("line-style").value, f10 = t10.pstyle("width").pfValue, g10 = t10.pstyle("line-cap").value, y10 = t10.pstyle("line-outline-width").value, v10 = t10.pstyle("line-outline-color").value, x10 = h10 * u10, b10 = h10 * u10, k10 = iM(function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x10;
      "straight-triangle" === d10 ? (o10.eleStrokeStyle(e30, t10, r11), o10.drawEdgeTrianglePath(t10, e30, l10.allpts)) : (e30.lineWidth = f10, e30.lineCap = g10, o10.eleStrokeStyle(e30, t10, r11), o10.drawEdgePath(t10, e30, l10.allpts, p10), e30.lineCap = "butt");
    }, "drawLine"), w10 = iM(function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x10;
      if (e30.lineWidth = f10 + y10, e30.lineCap = g10, y10 > 0) o10.colorStrokeStyle(e30, v10[0], v10[1], v10[2], r11);
      else {
        e30.lineCap = "butt";
        return;
      }
      "straight-triangle" === d10 ? o10.drawEdgeTrianglePath(t10, e30, l10.allpts) : (o10.drawEdgePath(t10, e30, l10.allpts, p10), e30.lineCap = "butt");
    }, "drawLineOutline"), _10 = iM(function() {
      a10 && o10.drawEdgeOverlay(e30, t10);
    }, "drawOverlay"), T10 = iM(function() {
      a10 && o10.drawEdgeUnderlay(e30, t10);
    }, "drawUnderlay"), S10 = iM(function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : b10;
      o10.drawArrowheads(e30, t10, r11);
    }, "drawArrows"), C10 = iM(function() {
      o10.drawElementText(e30, t10, null, i10);
    }, "drawText");
    if (e30.lineJoin = "round", "yes" === t10.pstyle("ghost").value) {
      var E10 = t10.pstyle("ghost-offset-x").pfValue, A10 = t10.pstyle("ghost-offset-y").pfValue, L10 = x10 * t10.pstyle("ghost-opacity").value;
      e30.translate(E10, A10), k10(L10), S10(L10), e30.translate(-E10, -A10);
    } else w10();
    T10(), k10(), S10(), _10(), C10(), r10 && e30.translate(n10.x1, n10.y1);
  }
};
var evK = iM(function(e30) {
  if (!["overlay", "underlay"].includes(e30)) throw Error("Invalid state");
  return function(t10, r10) {
    if (r10.visible()) {
      var n10 = r10.pstyle("".concat(e30, "-opacity")).value;
      if (0 !== n10) {
        var i10 = this.usePaths(), a10 = r10._private.rscratch, s10 = r10.pstyle("".concat(e30, "-padding")).pfValue, o10 = r10.pstyle("".concat(e30, "-color")).value;
        t10.lineWidth = 2 * s10, "self" !== a10.edgeType || i10 ? t10.lineCap = "round" : t10.lineCap = "butt", this.colorStrokeStyle(t10, o10[0], o10[1], o10[2], n10), this.drawEdgePath(r10, t10, a10.allpts, "solid");
      }
    }
  };
}, "drawEdgeOverlayUnderlay");
evX.drawEdgeOverlay = evK("overlay"), evX.drawEdgeUnderlay = evK("underlay"), evX.drawEdgePath = function(e30, t10, r10, n10) {
  var i10 = e30._private.rscratch, a10 = t10, s10 = false, o10 = this.usePaths(), l10 = e30.pstyle("line-dash-pattern").pfValue, h10 = e30.pstyle("line-dash-offset").pfValue;
  if (o10) {
    var u10 = r10.join("$");
    i10.pathCacheKey && i10.pathCacheKey === u10 ? (f10 = t10 = i10.pathCache, s10 = true) : (f10 = t10 = new Path2D(), i10.pathCacheKey = u10, i10.pathCache = f10);
  }
  if (a10.setLineDash) switch (n10) {
    case "dotted":
      a10.setLineDash([1, 1]);
      break;
    case "dashed":
      a10.setLineDash(l10), a10.lineDashOffset = h10;
      break;
    case "solid":
      a10.setLineDash([]);
  }
  if (!s10 && !i10.badLine) switch (t10.beginPath && t10.beginPath(), t10.moveTo(r10[0], r10[1]), i10.edgeType) {
    case "bezier":
    case "self":
    case "compound":
    case "multibezier":
      for (var d10 = 2; d10 + 3 < r10.length; d10 += 4) t10.quadraticCurveTo(r10[d10], r10[d10 + 1], r10[d10 + 2], r10[d10 + 3]);
      break;
    case "straight":
    case "haystack":
      for (var p10 = 2; p10 + 1 < r10.length; p10 += 2) t10.lineTo(r10[p10], r10[p10 + 1]);
      break;
    case "segments":
      if (i10.isRound) {
        var f10, g10, y10 = ecz(i10.roundCorners);
        try {
          for (y10.s(); !(g10 = y10.n()).done; ) {
            var v10 = g10.value;
            evr(t10, v10);
          }
        } catch (e31) {
          y10.e(e31);
        } finally {
          y10.f();
        }
        t10.lineTo(r10[r10.length - 2], r10[r10.length - 1]);
      } else for (var x10 = 2; x10 + 1 < r10.length; x10 += 2) t10.lineTo(r10[x10], r10[x10 + 1]);
  }
  t10 = a10, o10 ? t10.stroke(f10) : t10.stroke(), t10.setLineDash && t10.setLineDash([]);
}, evX.drawEdgeTrianglePath = function(e30, t10, r10) {
  t10.fillStyle = t10.strokeStyle;
  for (var n10 = e30.pstyle("width").pfValue, i10 = 0; i10 + 1 < r10.length; i10 += 2) {
    var a10 = [r10[i10 + 2] - r10[i10], r10[i10 + 3] - r10[i10 + 1]], s10 = Math.sqrt(a10[0] * a10[0] + a10[1] * a10[1]), o10 = [a10[1] / s10, -a10[0] / s10], l10 = [o10[0] * n10 / 2, o10[1] * n10 / 2];
    t10.beginPath(), t10.moveTo(r10[i10] - l10[0], r10[i10 + 1] - l10[1]), t10.lineTo(r10[i10] + l10[0], r10[i10 + 1] + l10[1]), t10.lineTo(r10[i10 + 2], r10[i10 + 3]), t10.closePath(), t10.fill();
  }
}, evX.drawArrowheads = function(e30, t10, r10) {
  var n10 = t10._private.rscratch, i10 = "haystack" === n10.edgeType;
  i10 || this.drawArrowhead(e30, t10, "source", n10.arrowStartX, n10.arrowStartY, n10.srcArrowAngle, r10), this.drawArrowhead(e30, t10, "mid-target", n10.midX, n10.midY, n10.midtgtArrowAngle, r10), this.drawArrowhead(e30, t10, "mid-source", n10.midX, n10.midY, n10.midsrcArrowAngle, r10), i10 || this.drawArrowhead(e30, t10, "target", n10.arrowEndX, n10.arrowEndY, n10.tgtArrowAngle, r10);
}, evX.drawArrowhead = function(e30, t10, r10, n10, i10, a10, s10) {
  if (!(isNaN(n10) || null == n10 || isNaN(i10) || null == i10 || isNaN(a10)) && null != a10) {
    var o10 = t10.pstyle(r10 + "-arrow-shape").value;
    if ("none" !== o10) {
      var l10 = "hollow" === t10.pstyle(r10 + "-arrow-fill").value ? "both" : "filled", h10 = t10.pstyle(r10 + "-arrow-fill").value, u10 = t10.pstyle("width").pfValue, d10 = t10.pstyle(r10 + "-arrow-width"), p10 = "match-line" === d10.value ? u10 : d10.pfValue;
      "%" === d10.units && (p10 *= u10);
      var f10 = t10.pstyle("opacity").value;
      void 0 === s10 && (s10 = f10);
      var g10 = e30.globalCompositeOperation;
      (1 !== s10 || "hollow" === h10) && (e30.globalCompositeOperation = "destination-out", this.colorFillStyle(e30, 255, 255, 255, 1), this.colorStrokeStyle(e30, 255, 255, 255, 1), this.drawArrowShape(t10, e30, l10, u10, o10, p10, n10, i10, a10), e30.globalCompositeOperation = g10);
      var y10 = t10.pstyle(r10 + "-arrow-color").value;
      this.colorFillStyle(e30, y10[0], y10[1], y10[2], s10), this.colorStrokeStyle(e30, y10[0], y10[1], y10[2], s10), this.drawArrowShape(t10, e30, h10, u10, o10, p10, n10, i10, a10);
    }
  }
}, evX.drawArrowShape = function(e30, t10, r10, n10, i10, a10, s10, o10, l10) {
  var h10, u10 = this.usePaths() && "triangle-cross" !== i10, d10 = false, p10 = t10, f10 = e30.pstyle("arrow-scale").value, g10 = this.getArrowWidth(n10, f10), y10 = this.arrowShapes[i10];
  if (u10) {
    var v10 = this.arrowPathCache = this.arrowPathCache || [], x10 = eun(i10), b10 = v10[x10];
    null != b10 ? (h10 = t10 = b10, d10 = true) : (h10 = t10 = new Path2D(), v10[x10] = h10);
  }
  !d10 && (t10.beginPath && t10.beginPath(), u10 ? y10.draw(t10, 1, 0, { x: 0, y: 0 }, 1) : y10.draw(t10, g10, l10, { x: s10, y: o10 }, n10), t10.closePath && t10.closePath()), t10 = p10, u10 && (t10.translate(s10, o10), t10.rotate(l10), t10.scale(g10, g10)), ("filled" === r10 || "both" === r10) && (u10 ? t10.fill(h10) : t10.fill()), ("hollow" === r10 || "both" === r10) && (t10.lineWidth = a10 / (u10 ? g10 : 1), t10.lineJoin = "miter", u10 ? t10.stroke(h10) : t10.stroke()), u10 && (t10.scale(1 / g10, 1 / g10), t10.rotate(-l10), t10.translate(-s10, -o10));
};
var evZ = {};
evZ.safeDrawImage = function(e30, t10, r10, n10, i10, a10, s10, o10, l10, h10) {
  if (!(i10 <= 0) && !(a10 <= 0) && !(l10 <= 0) && !(h10 <= 0)) try {
    e30.drawImage(t10, r10, n10, i10, a10, s10, o10, l10, h10);
  } catch (e31) {
    eum(e31);
  }
}, evZ.drawInscribedImage = function(e30, t10, r10, n10, i10) {
  var a10 = r10.position(), s10 = a10.x, o10 = a10.y, l10 = r10.cy().style(), h10 = l10.getIndexedStyle.bind(l10), u10 = h10(r10, "background-fit", "value", n10), d10 = h10(r10, "background-repeat", "value", n10), p10 = r10.width(), f10 = r10.height(), g10 = 2 * r10.padding(), y10 = p10 + ("inner" === h10(r10, "background-width-relative-to", "value", n10) ? 0 : g10), v10 = f10 + ("inner" === h10(r10, "background-height-relative-to", "value", n10) ? 0 : g10), x10 = r10._private.rscratch, b10 = "node" === h10(r10, "background-clip", "value", n10), k10 = h10(r10, "background-image-opacity", "value", n10) * i10, w10 = h10(r10, "background-image-smoothing", "value", n10), _10 = r10.pstyle("corner-radius").value;
  "auto" !== _10 && (_10 = r10.pstyle("corner-radius").pfValue);
  var T10 = t10.width || t10.cachedW, S10 = t10.height || t10.cachedH;
  (null == T10 || null == S10) && (document.body.appendChild(t10), T10 = t10.cachedW = t10.width || t10.offsetWidth, S10 = t10.cachedH = t10.height || t10.offsetHeight, document.body.removeChild(t10));
  var C10 = T10, E10 = S10;
  if ("auto" !== h10(r10, "background-width", "value", n10) && (C10 = "%" === h10(r10, "background-width", "units", n10) ? h10(r10, "background-width", "pfValue", n10) * y10 : h10(r10, "background-width", "pfValue", n10)), "auto" !== h10(r10, "background-height", "value", n10) && (E10 = "%" === h10(r10, "background-height", "units", n10) ? h10(r10, "background-height", "pfValue", n10) * v10 : h10(r10, "background-height", "pfValue", n10)), 0 !== C10 && 0 !== E10) {
    if ("contain" === u10) {
      var A10 = Math.min(y10 / C10, v10 / E10);
      C10 *= A10, E10 *= A10;
    } else if ("cover" === u10) {
      var A10 = Math.max(y10 / C10, v10 / E10);
      C10 *= A10, E10 *= A10;
    }
    var L10 = s10 - y10 / 2, I10 = h10(r10, "background-position-x", "units", n10), M10 = h10(r10, "background-position-x", "pfValue", n10);
    "%" === I10 ? L10 += (y10 - C10) * M10 : L10 += M10;
    var N10 = h10(r10, "background-offset-x", "units", n10), R10 = h10(r10, "background-offset-x", "pfValue", n10);
    "%" === N10 ? L10 += (y10 - C10) * R10 : L10 += R10;
    var D10 = o10 - v10 / 2, O10 = h10(r10, "background-position-y", "units", n10), $10 = h10(r10, "background-position-y", "pfValue", n10);
    "%" === O10 ? D10 += (v10 - E10) * $10 : D10 += $10;
    var P10 = h10(r10, "background-offset-y", "units", n10), B10 = h10(r10, "background-offset-y", "pfValue", n10);
    "%" === P10 ? D10 += (v10 - E10) * B10 : D10 += B10, x10.pathCache && (L10 -= s10, D10 -= o10, s10 = 0, o10 = 0);
    var F10 = e30.globalAlpha;
    e30.globalAlpha = k10;
    var z10 = this.getImgSmoothing(e30), j10 = false;
    if ("no" === w10 && z10 ? (this.setImgSmoothing(e30, false), j10 = true) : "yes" !== w10 || z10 || (this.setImgSmoothing(e30, true), j10 = true), "no-repeat" === d10) b10 && (e30.save(), x10.pathCache ? e30.clip(x10.pathCache) : (this.nodeShapes[this.getNodeShape(r10)].draw(e30, s10, o10, y10, v10, _10, x10), e30.clip())), this.safeDrawImage(e30, t10, 0, 0, T10, S10, L10, D10, C10, E10), b10 && e30.restore();
    else {
      var q10 = e30.createPattern(t10, d10);
      e30.fillStyle = q10, this.nodeShapes[this.getNodeShape(r10)].draw(e30, s10, o10, y10, v10, _10, x10), e30.translate(L10, D10), e30.fill(), e30.translate(-L10, -D10);
    }
    e30.globalAlpha = F10, j10 && this.setImgSmoothing(e30, z10);
  }
};
var evQ = {};
function evJ(e30, t10, r10, n10, i10) {
  var a10 = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 5, s10 = arguments.length > 6 ? arguments[6] : void 0;
  e30.beginPath(), e30.moveTo(t10 + a10, r10), e30.lineTo(t10 + n10 - a10, r10), e30.quadraticCurveTo(t10 + n10, r10, t10 + n10, r10 + a10), e30.lineTo(t10 + n10, r10 + i10 - a10), e30.quadraticCurveTo(t10 + n10, r10 + i10, t10 + n10 - a10, r10 + i10), e30.lineTo(t10 + a10, r10 + i10), e30.quadraticCurveTo(t10, r10 + i10, t10, r10 + i10 - a10), e30.lineTo(t10, r10 + a10), e30.quadraticCurveTo(t10, r10, t10 + a10, r10), e30.closePath(), s10 ? e30.stroke() : e30.fill();
}
evQ.eleTextBiggerThanMin = function(e30, t10) {
  return t10 || (t10 = Math.pow(2, Math.ceil(eu6(e30.cy().zoom() * this.getPixelRatio())))), !(e30.pstyle("font-size").pfValue * t10 < e30.pstyle("min-zoomed-font-size").pfValue);
}, evQ.drawElementText = function(e30, t10, r10, n10, i10) {
  var a10, s10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5];
  if (null == n10) {
    if (s10 && !this.eleTextBiggerThanMin(t10)) return;
  } else if (false === n10) return;
  if (t10.isNode()) {
    var o10 = t10.pstyle("label");
    if (!o10 || !o10.value) return;
    var l10 = this.getLabelJustification(t10);
    e30.textAlign = l10, e30.textBaseline = "bottom";
  } else {
    var h10 = t10.element()._private.rscratch.badLine, u10 = t10.pstyle("label"), d10 = t10.pstyle("source-label"), p10 = t10.pstyle("target-label");
    if (h10 || (!u10 || !u10.value) && (!d10 || !d10.value) && (!p10 || !p10.value)) return;
    e30.textAlign = "center", e30.textBaseline = "bottom";
  }
  var f10 = !r10;
  r10 && (a10 = r10, e30.translate(-a10.x1, -a10.y1)), null == i10 ? (this.drawText(e30, t10, null, f10, s10), t10.isEdge() && (this.drawText(e30, t10, "source", f10, s10), this.drawText(e30, t10, "target", f10, s10))) : this.drawText(e30, t10, i10, f10, s10), r10 && e30.translate(a10.x1, a10.y1);
}, evQ.getFontCache = function(e30) {
  var t10;
  this.fontCaches = this.fontCaches || [];
  for (var r10 = 0; r10 < this.fontCaches.length; r10++) if ((t10 = this.fontCaches[r10]).context === e30) return t10;
  return t10 = { context: e30 }, this.fontCaches.push(t10), t10;
}, evQ.setupTextStyle = function(e30, t10) {
  var r10 = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2], n10 = t10.pstyle("font-style").strValue, i10 = t10.pstyle("font-size").pfValue + "px", a10 = t10.pstyle("font-family").strValue, s10 = t10.pstyle("font-weight").strValue, o10 = r10 ? t10.effectiveOpacity() * t10.pstyle("text-opacity").value : 1, l10 = t10.pstyle("text-outline-opacity").value * o10, h10 = t10.pstyle("color").value, u10 = t10.pstyle("text-outline-color").value;
  e30.font = n10 + " " + s10 + " " + i10 + " " + a10, e30.lineJoin = "round", this.colorFillStyle(e30, h10[0], h10[1], h10[2], o10), this.colorStrokeStyle(e30, u10[0], u10[1], u10[2], l10);
}, iM(evJ, "roundRect"), evQ.getTextAngle = function(e30, t10) {
  var r10 = e30._private.rscratch, n10 = t10 ? t10 + "-" : "", i10 = e30.pstyle(n10 + "text-rotation"), a10 = euE(r10, "labelAngle", t10);
  return "autorotate" === i10.strValue ? e30.isEdge() ? a10 : 0 : "none" === i10.strValue ? 0 : i10.pfValue;
}, evQ.drawText = function(e30, t10, r10) {
  var n10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], i10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], a10 = t10._private.rscratch, s10 = i10 ? t10.effectiveOpacity() : 1;
  if (!i10 || 0 !== s10 && 0 !== t10.pstyle("text-opacity").value) {
    "main" === r10 && (r10 = null);
    var o10 = euE(a10, "labelX", r10), l10 = euE(a10, "labelY", r10), h10 = this.getLabelText(t10, r10);
    if (null != h10 && "" !== h10 && !isNaN(o10) && !isNaN(l10)) {
      this.setupTextStyle(e30, t10, i10);
      var u10, d10, p10, f10 = r10 ? r10 + "-" : "", g10 = euE(a10, "labelWidth", r10), y10 = euE(a10, "labelHeight", r10), v10 = t10.pstyle(f10 + "text-margin-x").pfValue, x10 = t10.pstyle(f10 + "text-margin-y").pfValue, b10 = t10.isEdge(), k10 = t10.pstyle("text-halign").value, w10 = t10.pstyle("text-valign").value;
      switch (b10 && (k10 = "center", w10 = "center"), o10 += v10, l10 += x10, 0 !== (p10 = n10 ? this.getTextAngle(t10, r10) : 0) && (u10 = o10, d10 = l10, e30.translate(u10, d10), e30.rotate(p10), o10 = 0, l10 = 0), w10) {
        case "top":
          break;
        case "center":
          l10 += y10 / 2;
          break;
        case "bottom":
          l10 += y10;
      }
      var _10 = t10.pstyle("text-background-opacity").value, T10 = t10.pstyle("text-border-opacity").value, S10 = t10.pstyle("text-border-width").pfValue, C10 = t10.pstyle("text-background-padding").pfValue, E10 = 0 === t10.pstyle("text-background-shape").strValue.indexOf("round");
      if (_10 > 0 || S10 > 0 && T10 > 0) {
        var A10 = o10 - C10;
        switch (k10) {
          case "left":
            A10 -= g10;
            break;
          case "center":
            A10 -= g10 / 2;
        }
        var L10 = l10 - y10 - C10, I10 = g10 + 2 * C10, M10 = y10 + 2 * C10;
        if (_10 > 0) {
          var N10 = e30.fillStyle, R10 = t10.pstyle("text-background-color").value;
          e30.fillStyle = "rgba(" + R10[0] + "," + R10[1] + "," + R10[2] + "," + _10 * s10 + ")", E10 ? evJ(e30, A10, L10, I10, M10, 2) : e30.fillRect(A10, L10, I10, M10), e30.fillStyle = N10;
        }
        if (S10 > 0 && T10 > 0) {
          var D10 = e30.strokeStyle, O10 = e30.lineWidth, $10 = t10.pstyle("text-border-color").value, P10 = t10.pstyle("text-border-style").value;
          if (e30.strokeStyle = "rgba(" + $10[0] + "," + $10[1] + "," + $10[2] + "," + T10 * s10 + ")", e30.lineWidth = S10, e30.setLineDash) switch (P10) {
            case "dotted":
              e30.setLineDash([1, 1]);
              break;
            case "dashed":
              e30.setLineDash([4, 2]);
              break;
            case "double":
              e30.lineWidth = S10 / 4, e30.setLineDash([]);
              break;
            case "solid":
              e30.setLineDash([]);
          }
          if (E10 ? evJ(e30, A10, L10, I10, M10, 2, "stroke") : e30.strokeRect(A10, L10, I10, M10), "double" === P10) {
            var B10 = S10 / 2;
            E10 ? evJ(e30, A10 + B10, L10 + B10, I10 - 2 * B10, M10 - 2 * B10, 2, "stroke") : e30.strokeRect(A10 + B10, L10 + B10, I10 - 2 * B10, M10 - 2 * B10);
          }
          e30.setLineDash && e30.setLineDash([]), e30.lineWidth = O10, e30.strokeStyle = D10;
        }
      }
      var F10 = 2 * t10.pstyle("text-outline-width").pfValue;
      if (F10 > 0 && (e30.lineWidth = F10), "wrap" === t10.pstyle("text-wrap").value) {
        var z10 = euE(a10, "labelWrapCachedLines", r10), j10 = euE(a10, "labelLineHeight", r10), q10 = g10 / 2, U10 = this.getLabelJustification(t10);
        switch ("auto" === U10 || ("left" === k10 ? "left" === U10 ? o10 += -g10 : "center" === U10 && (o10 += -q10) : "center" === k10 ? "left" === U10 ? o10 += -q10 : "right" === U10 && (o10 += q10) : "right" === k10 && ("center" === U10 ? o10 += q10 : "right" === U10 && (o10 += g10))), w10) {
          case "top":
          case "center":
          case "bottom":
            l10 -= (z10.length - 1) * j10;
        }
        for (var W10 = 0; W10 < z10.length; W10++) F10 > 0 && e30.strokeText(z10[W10], o10, l10), e30.fillText(z10[W10], o10, l10), l10 += j10;
      } else F10 > 0 && e30.strokeText(h10, o10, l10), e30.fillText(h10, o10, l10);
      0 !== p10 && (e30.rotate(-p10), e30.translate(-u10, -d10));
    }
  }
};
var ev0 = {};
ev0.drawNode = function(e30, t10, r10) {
  var n10, i10, a10, s10, o10 = !(arguments.length > 3) || void 0 === arguments[3] || arguments[3], l10 = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4], h10 = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5], u10 = this, d10 = t10._private, p10 = d10.rscratch, f10 = t10.position();
  if (ecJ(f10.x) && ecJ(f10.y) && (!h10 || t10.visible())) {
    var g10 = h10 ? t10.effectiveOpacity() : 1, y10 = u10.usePaths(), v10 = false, x10 = t10.padding();
    n10 = t10.width() + 2 * x10, i10 = t10.height() + 2 * x10, r10 && (s10 = r10, e30.translate(-s10.x1, -s10.y1));
    for (var b10 = t10.pstyle("background-image").value, k10 = Array(b10.length), w10 = Array(b10.length), _10 = 0, T10 = 0; T10 < b10.length; T10++) {
      var S10 = b10[T10];
      if (k10[T10] = null != S10 && "none" !== S10) {
        var C10 = t10.cy().style().getIndexedStyle(t10, "background-image-crossorigin", "value", T10);
        _10++, w10[T10] = u10.getCachedImage(S10, C10, function() {
          d10.backgroundTimestamp = Date.now(), t10.emitAndNotify("background");
        });
      }
    }
    var E10 = t10.pstyle("background-blacken").value, A10 = t10.pstyle("border-width").pfValue, L10 = t10.pstyle("background-opacity").value * g10, I10 = t10.pstyle("border-color").value, M10 = t10.pstyle("border-style").value, N10 = t10.pstyle("border-join").value, R10 = t10.pstyle("border-cap").value, D10 = t10.pstyle("border-position").value, O10 = t10.pstyle("border-dash-pattern").pfValue, $10 = t10.pstyle("border-dash-offset").pfValue, P10 = t10.pstyle("border-opacity").value * g10, B10 = t10.pstyle("outline-width").pfValue, F10 = t10.pstyle("outline-color").value, z10 = t10.pstyle("outline-style").value, j10 = t10.pstyle("outline-opacity").value * g10, q10 = t10.pstyle("outline-offset").value, U10 = t10.pstyle("corner-radius").value;
    "auto" !== U10 && (U10 = t10.pstyle("corner-radius").pfValue);
    var W10 = iM(function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : L10;
      u10.eleFillStyle(e30, t10, r11);
    }, "setupShapeColor"), V10 = iM(function() {
      var t11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : P10;
      u10.colorStrokeStyle(e30, I10[0], I10[1], I10[2], t11);
    }, "setupBorderColor"), H10 = iM(function() {
      var t11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : j10;
      u10.colorStrokeStyle(e30, F10[0], F10[1], F10[2], t11);
    }, "setupOutlineColor"), Y10 = iM(function(e31, t11, r11, n11) {
      var i11, a11 = u10.nodePathCache = u10.nodePathCache || [], s11 = eui("polygon" === r11 ? r11 + "," + n11.join(",") : r11, "" + t11, "" + e31, "" + U10), o11 = a11[s11], l11 = false;
      return null != o11 ? (i11 = o11, l11 = true, p10.pathCache = i11) : (i11 = new Path2D(), a11[s11] = p10.pathCache = i11), { path: i11, cacheHit: l11 };
    }, "getPath"), G10 = t10.pstyle("shape").strValue, X10 = t10.pstyle("shape-polygon-points").pfValue;
    if (y10) {
      e30.translate(f10.x, f10.y);
      var K10 = Y10(n10, i10, G10, X10);
      a10 = K10.path, v10 = K10.cacheHit;
    }
    var Z10 = iM(function() {
      if (!v10) {
        var r11 = f10;
        y10 && (r11 = { x: 0, y: 0 }), u10.nodeShapes[u10.getNodeShape(t10)].draw(a10 || e30, r11.x, r11.y, n10, i10, U10, p10);
      }
      y10 ? e30.fill(a10) : e30.fill();
    }, "drawShape"), Q10 = iM(function() {
      for (var r11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : g10, n11 = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1], i11 = d10.backgrounding, a11 = 0, s11 = 0; s11 < w10.length; s11++) {
        var o11 = t10.cy().style().getIndexedStyle(t10, "background-image-containment", "value", s11);
        if (n11 && "over" === o11 || !n11 && "inside" === o11) {
          a11++;
          continue;
        }
        k10[s11] && w10[s11].complete && !w10[s11].error && (a11++, u10.drawInscribedImage(e30, w10[s11], t10, s11, r11));
      }
      d10.backgrounding = a11 !== _10, i11 !== d10.backgrounding && t10.updateStyle(false);
    }, "drawImages"), J10 = iM(function() {
      var r11 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], a11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : g10;
      u10.hasPie(t10) && (u10.drawPie(e30, t10, a11), r11 && !y10 && u10.nodeShapes[u10.getNodeShape(t10)].draw(e30, f10.x, f10.y, n10, i10, U10, p10));
    }, "drawPie"), ee10 = iM(function() {
      var t11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : g10, r11 = E10 > 0 ? 0 : 255;
      0 !== E10 && (u10.colorFillStyle(e30, r11, r11, r11, (E10 > 0 ? E10 : -E10) * t11), y10 ? e30.fill(a10) : e30.fill());
    }, "darken"), et10 = iM(function() {
      if (A10 > 0) {
        if (e30.lineWidth = A10, e30.lineCap = R10, e30.lineJoin = N10, e30.setLineDash) switch (M10) {
          case "dotted":
            e30.setLineDash([1, 1]);
            break;
          case "dashed":
            e30.setLineDash(O10), e30.lineDashOffset = $10;
            break;
          case "solid":
          case "double":
            e30.setLineDash([]);
        }
        if ("center" !== D10) {
          if (e30.save(), e30.lineWidth *= 2, "inside" === D10) y10 ? e30.clip(a10) : e30.clip();
          else {
            var t11 = new Path2D();
            t11.rect(-n10 / 2 - A10, -i10 / 2 - A10, n10 + 2 * A10, i10 + 2 * A10), t11.addPath(a10), e30.clip(t11, "evenodd");
          }
          y10 ? e30.stroke(a10) : e30.stroke(), e30.restore();
        } else y10 ? e30.stroke(a10) : e30.stroke();
        if ("double" === M10) {
          e30.lineWidth = A10 / 3;
          var r11 = e30.globalCompositeOperation;
          e30.globalCompositeOperation = "destination-out", y10 ? e30.stroke(a10) : e30.stroke(), e30.globalCompositeOperation = r11;
        }
        e30.setLineDash && e30.setLineDash([]);
      }
    }, "drawBorder"), er10 = iM(function() {
      if (B10 > 0) {
        if (e30.lineWidth = B10, e30.lineCap = "butt", e30.setLineDash) switch (z10) {
          case "dotted":
            e30.setLineDash([1, 1]);
            break;
          case "dashed":
            e30.setLineDash([4, 2]);
            break;
          case "solid":
          case "double":
            e30.setLineDash([]);
        }
        var r11 = f10;
        y10 && (r11 = { x: 0, y: 0 });
        var a11 = u10.getNodeShape(t10), s11 = A10;
        "inside" === D10 && (s11 = 0), "outside" === D10 && (s11 *= 2);
        var o11 = (n10 + s11 + (B10 + q10)) / n10, l11 = (i10 + s11 + (B10 + q10)) / i10, h11 = n10 * o11, d11 = i10 * l11, p11 = u10.nodeShapes[a11].points;
        if (y10 && (C11 = Y10(h11, d11, a11, p11).path), "ellipse" === a11) u10.drawEllipsePath(C11 || e30, r11.x, r11.y, h11, d11);
        else if (["round-diamond", "round-heptagon", "round-hexagon", "round-octagon", "round-pentagon", "round-polygon", "round-triangle", "round-tag"].includes(a11)) {
          var g11 = 0, v11 = 0, x11 = 0;
          "round-diamond" === a11 ? g11 = (s11 + q10 + B10) * 1.4 : "round-heptagon" === a11 ? (g11 = (s11 + q10 + B10) * 1.075, x11 = -(s11 / 2 + q10 + B10) / 35) : "round-hexagon" === a11 ? g11 = (s11 + q10 + B10) * 1.12 : "round-pentagon" === a11 ? (g11 = (s11 + q10 + B10) * 1.13, x11 = -(s11 / 2 + q10 + B10) / 15) : "round-tag" === a11 ? (g11 = (s11 + q10 + B10) * 1.12, v11 = (s11 / 2 + B10 + q10) * 0.07) : "round-triangle" === a11 && (g11 = Math.PI / 2 * (s11 + q10 + B10), x11 = -(s11 + q10 / 2 + B10) / Math.PI), 0 === g11 || (o11 = (n10 + g11) / n10, h11 = n10 * o11, ["round-hexagon", "round-tag"].includes(a11) || (l11 = (i10 + g11) / i10, d11 = i10 * l11)), U10 = "auto" === U10 ? edq(h11, d11) : U10;
          for (var b11 = h11 / 2, k11 = d11 / 2, w11 = U10 + (s11 + B10 + q10) / 2, _11 = Array(p11.length / 2), T11 = Array(p11.length / 2), S11 = 0; S11 < p11.length / 2; S11++) _11[S11] = { x: r11.x + v11 + b11 * p11[2 * S11], y: r11.y + x11 + k11 * p11[2 * S11 + 1] };
          var C11, E11, L11, I11, M11, N11 = _11.length;
          for (E11 = 0, L11 = _11[N11 - 1]; E11 < N11; E11++) I11 = _11[E11 % N11], M11 = _11[(E11 + 1) % N11], T11[E11] = evn(L11, I11, M11, w11), L11 = I11, I11 = M11;
          u10.drawRoundPolygonPath(C11 || e30, r11.x + v11, r11.y + x11, n10 * o11, i10 * l11, p11, T11);
        } else ["roundrectangle", "round-rectangle"].includes(a11) ? (U10 = "auto" === U10 ? edj(h11, d11) : U10, u10.drawRoundRectanglePath(C11 || e30, r11.x, r11.y, h11, d11, U10 + (s11 + B10 + q10) / 2)) : ["cutrectangle", "cut-rectangle"].includes(a11) ? (U10 = "auto" === U10 ? edU() : U10, u10.drawCutRectanglePath(C11 || e30, r11.x, r11.y, h11, d11, null, U10 + (s11 + B10 + q10) / 4)) : ["bottomroundrectangle", "bottom-round-rectangle"].includes(a11) ? (U10 = "auto" === U10 ? edj(h11, d11) : U10, u10.drawBottomRoundRectanglePath(C11 || e30, r11.x, r11.y, h11, d11, U10 + (s11 + B10 + q10) / 2)) : "barrel" === a11 ? u10.drawBarrelPath(C11 || e30, r11.x, r11.y, h11, d11) : (p11 = a11.startsWith("polygon") || ["rhomboid", "right-rhomboid", "round-tag", "tag", "vee"].includes(a11) ? edA(edL(p11, (s11 + B10 + q10) / n10)) : edA(edL(p11, -((s11 + B10 + q10) / n10))), u10.drawPolygonPath(C11 || e30, r11.x, r11.y, n10, i10, p11));
        if (y10 ? e30.stroke(C11) : e30.stroke(), "double" === z10) {
          e30.lineWidth = s11 / 3;
          var R11 = e30.globalCompositeOperation;
          e30.globalCompositeOperation = "destination-out", y10 ? e30.stroke(C11) : e30.stroke(), e30.globalCompositeOperation = R11;
        }
        e30.setLineDash && e30.setLineDash([]);
      }
    }, "drawOutline"), en10 = iM(function() {
      l10 && u10.drawNodeOverlay(e30, t10, f10, n10, i10);
    }, "drawOverlay"), ei10 = iM(function() {
      l10 && u10.drawNodeUnderlay(e30, t10, f10, n10, i10);
    }, "drawUnderlay"), ea10 = iM(function() {
      u10.drawElementText(e30, t10, null, o10);
    }, "drawText");
    if ("yes" === t10.pstyle("ghost").value) {
      var es10 = t10.pstyle("ghost-offset-x").pfValue, eo10 = t10.pstyle("ghost-offset-y").pfValue, el10 = t10.pstyle("ghost-opacity").value, ec10 = el10 * g10;
      e30.translate(es10, eo10), H10(), er10(), W10(el10 * L10), Z10(), Q10(ec10, true), V10(el10 * P10), et10(), J10(0 !== E10 || 0 !== A10), Q10(ec10, false), ee10(ec10), e30.translate(-es10, -eo10);
    }
    y10 && e30.translate(-f10.x, -f10.y), ei10(), y10 && e30.translate(f10.x, f10.y), H10(), er10(), W10(), Z10(), Q10(g10, true), V10(), et10(), J10(0 !== E10 || 0 !== A10), Q10(g10, false), ee10(), y10 && e30.translate(-f10.x, -f10.y), ea10(), en10(), r10 && e30.translate(s10.x1, s10.y1);
  }
};
var ev1 = iM(function(e30) {
  if (!["overlay", "underlay"].includes(e30)) throw Error("Invalid state");
  return function(t10, r10, n10, i10, a10) {
    if (r10.visible()) {
      var s10 = r10.pstyle("".concat(e30, "-padding")).pfValue, o10 = r10.pstyle("".concat(e30, "-opacity")).value, l10 = r10.pstyle("".concat(e30, "-color")).value, h10 = r10.pstyle("".concat(e30, "-shape")).value, u10 = r10.pstyle("".concat(e30, "-corner-radius")).value;
      if (o10 > 0) {
        if (n10 = n10 || r10.position(), null == i10 || null == a10) {
          var d10 = r10.padding();
          i10 = r10.width() + 2 * d10, a10 = r10.height() + 2 * d10;
        }
        this.colorFillStyle(t10, l10[0], l10[1], l10[2], o10), this.nodeShapes[h10].draw(t10, n10.x, n10.y, i10 + 2 * s10, a10 + 2 * s10, u10), t10.fill();
      }
    }
  };
}, "drawNodeOverlayUnderlay");
ev0.drawNodeOverlay = ev1("overlay"), ev0.drawNodeUnderlay = ev1("underlay"), ev0.hasPie = function(e30) {
  return (e30 = e30[0])._private.hasPie;
}, ev0.drawPie = function(e30, t10, r10, n10) {
  t10 = t10[0], n10 = n10 || t10.position();
  var i10 = t10.cy().style(), a10 = t10.pstyle("pie-size"), s10 = n10.x, o10 = n10.y, l10 = Math.min(t10.width(), t10.height()) / 2, h10 = 0;
  this.usePaths() && (s10 = 0, o10 = 0), "%" === a10.units ? l10 *= a10.pfValue : void 0 !== a10.pfValue && (l10 = a10.pfValue / 2);
  for (var u10 = 1; u10 <= i10.pieBackgroundN; u10++) {
    var d10 = t10.pstyle("pie-" + u10 + "-background-size").value, p10 = t10.pstyle("pie-" + u10 + "-background-color").value, f10 = t10.pstyle("pie-" + u10 + "-background-opacity").value * r10, g10 = d10 / 100;
    g10 + h10 > 1 && (g10 = 1 - h10);
    var y10 = 1.5 * Math.PI + 2 * Math.PI * h10, v10 = y10 + 2 * Math.PI * g10;
    0 === d10 || h10 >= 1 || h10 + g10 > 1 || (e30.beginPath(), e30.moveTo(s10, o10), e30.arc(s10, o10, l10, y10, v10), e30.closePath(), this.colorFillStyle(e30, p10[0], p10[1], p10[2], f10), e30.fill(), h10 += g10);
  }
};
var ev2 = {};
ev2.getPixelRatio = function() {
  var e30 = this.data.contexts[0];
  if (null != this.forcedPixelRatio) return this.forcedPixelRatio;
  var t10 = this.cy.window(), r10 = e30.backingStorePixelRatio || e30.webkitBackingStorePixelRatio || e30.mozBackingStorePixelRatio || e30.msBackingStorePixelRatio || e30.oBackingStorePixelRatio || e30.backingStorePixelRatio || 1;
  return (t10.devicePixelRatio || 1) / r10;
}, ev2.paintCache = function(e30) {
  for (var t10, r10 = this.paintCaches = this.paintCaches || [], n10 = true, i10 = 0; i10 < r10.length; i10++) if ((t10 = r10[i10]).context === e30) {
    n10 = false;
    break;
  }
  return n10 && (t10 = { context: e30 }, r10.push(t10)), t10;
}, ev2.createGradientStyleFor = function(e30, t10, r10, n10, i10) {
  var a10, s10 = this.usePaths(), o10 = r10.pstyle(t10 + "-gradient-stop-colors").value, l10 = r10.pstyle(t10 + "-gradient-stop-positions").pfValue;
  if ("radial-gradient" === n10) {
    if (r10.isEdge()) {
      var h10 = r10.sourceEndpoint(), u10 = r10.targetEndpoint(), d10 = r10.midpoint(), p10 = eu8(h10, d10), f10 = eu8(u10, d10);
      a10 = e30.createRadialGradient(d10.x, d10.y, 0, d10.x, d10.y, Math.max(p10, f10));
    } else {
      var g10 = s10 ? { x: 0, y: 0 } : r10.position(), y10 = r10.paddedWidth(), v10 = r10.paddedHeight();
      a10 = e30.createRadialGradient(g10.x, g10.y, 0, g10.x, g10.y, Math.max(y10, v10));
    }
  } else if (r10.isEdge()) {
    var x10 = r10.sourceEndpoint(), b10 = r10.targetEndpoint();
    a10 = e30.createLinearGradient(x10.x, x10.y, b10.x, b10.y);
  } else {
    var k10 = s10 ? { x: 0, y: 0 } : r10.position(), w10 = r10.paddedWidth(), _10 = r10.paddedHeight(), T10 = w10 / 2, S10 = _10 / 2;
    switch (r10.pstyle("background-gradient-direction").value) {
      case "to-bottom":
        a10 = e30.createLinearGradient(k10.x, k10.y - S10, k10.x, k10.y + S10);
        break;
      case "to-top":
        a10 = e30.createLinearGradient(k10.x, k10.y + S10, k10.x, k10.y - S10);
        break;
      case "to-left":
        a10 = e30.createLinearGradient(k10.x + T10, k10.y, k10.x - T10, k10.y);
        break;
      case "to-right":
        a10 = e30.createLinearGradient(k10.x - T10, k10.y, k10.x + T10, k10.y);
        break;
      case "to-bottom-right":
      case "to-right-bottom":
        a10 = e30.createLinearGradient(k10.x - T10, k10.y - S10, k10.x + T10, k10.y + S10);
        break;
      case "to-top-right":
      case "to-right-top":
        a10 = e30.createLinearGradient(k10.x - T10, k10.y + S10, k10.x + T10, k10.y - S10);
        break;
      case "to-bottom-left":
      case "to-left-bottom":
        a10 = e30.createLinearGradient(k10.x + T10, k10.y - S10, k10.x - T10, k10.y + S10);
        break;
      case "to-top-left":
      case "to-left-top":
        a10 = e30.createLinearGradient(k10.x + T10, k10.y + S10, k10.x - T10, k10.y - S10);
    }
  }
  if (!a10) return null;
  for (var C10 = l10.length === o10.length, E10 = o10.length, A10 = 0; A10 < E10; A10++) a10.addColorStop(C10 ? l10[A10] : A10 / (E10 - 1), "rgba(" + o10[A10][0] + "," + o10[A10][1] + "," + o10[A10][2] + "," + i10 + ")");
  return a10;
}, ev2.gradientFillStyle = function(e30, t10, r10, n10) {
  var i10 = this.createGradientStyleFor(e30, "background", t10, r10, n10);
  if (!i10) return null;
  e30.fillStyle = i10;
}, ev2.colorFillStyle = function(e30, t10, r10, n10, i10) {
  e30.fillStyle = "rgba(" + t10 + "," + r10 + "," + n10 + "," + i10 + ")";
}, ev2.eleFillStyle = function(e30, t10, r10) {
  var n10 = t10.pstyle("background-fill").value;
  if ("linear-gradient" === n10 || "radial-gradient" === n10) this.gradientFillStyle(e30, t10, n10, r10);
  else {
    var i10 = t10.pstyle("background-color").value;
    this.colorFillStyle(e30, i10[0], i10[1], i10[2], r10);
  }
}, ev2.gradientStrokeStyle = function(e30, t10, r10, n10) {
  var i10 = this.createGradientStyleFor(e30, "line", t10, r10, n10);
  if (!i10) return null;
  e30.strokeStyle = i10;
}, ev2.colorStrokeStyle = function(e30, t10, r10, n10, i10) {
  e30.strokeStyle = "rgba(" + t10 + "," + r10 + "," + n10 + "," + i10 + ")";
}, ev2.eleStrokeStyle = function(e30, t10, r10) {
  var n10 = t10.pstyle("line-fill").value;
  if ("linear-gradient" === n10 || "radial-gradient" === n10) this.gradientStrokeStyle(e30, t10, n10, r10);
  else {
    var i10 = t10.pstyle("line-color").value;
    this.colorStrokeStyle(e30, i10[0], i10[1], i10[2], r10);
  }
}, ev2.matchCanvasSize = function(e30) {
  var t10, r10 = this.data, n10 = this.findContainerClientCoords(), i10 = n10[2], a10 = n10[3], s10 = this.getPixelRatio(), o10 = this.motionBlurPxRatio;
  (e30 === this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_NODE] || e30 === this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_DRAG]) && (s10 = o10);
  var l10 = i10 * s10, h10 = a10 * s10;
  if (l10 !== this.canvasWidth || h10 !== this.canvasHeight) {
    this.fontCaches = null;
    var u10 = r10.canvasContainer;
    u10.style.width = i10 + "px", u10.style.height = a10 + "px";
    for (var d10 = 0; d10 < this.CANVAS_LAYERS; d10++) (t10 = r10.canvases[d10]).width = l10, t10.height = h10, t10.style.width = i10 + "px", t10.style.height = a10 + "px";
    for (var d10 = 0; d10 < this.BUFFER_COUNT; d10++) (t10 = r10.bufferCanvases[d10]).width = l10, t10.height = h10, t10.style.width = i10 + "px", t10.style.height = a10 + "px";
    this.textureMult = 1, s10 <= 1 && (t10 = r10.bufferCanvases[this.TEXTURE_BUFFER], this.textureMult = 2, t10.width = l10 * this.textureMult, t10.height = h10 * this.textureMult), this.canvasWidth = l10, this.canvasHeight = h10;
  }
}, ev2.renderTo = function(e30, t10, r10, n10) {
  this.render({ forcedContext: e30, forcedZoom: t10, forcedPan: r10, drawAllLayers: true, forcedPxRatio: n10 });
}, ev2.render = function(e30) {
  var t10 = (e30 = e30 || euw()).forcedContext, r10 = e30.drawAllLayers, n10 = e30.drawOnlyNodeLayer, i10 = e30.forcedZoom, a10 = e30.forcedPan, s10 = this, o10 = void 0 === e30.forcedPxRatio ? this.getPixelRatio() : e30.forcedPxRatio, l10 = s10.cy, h10 = s10.data, u10 = h10.canvasNeedsRedraw, d10 = s10.textureOnViewport && !t10 && (s10.pinching || s10.hoverData.dragging || s10.swipePanning || s10.data.wheelZooming), p10 = void 0 !== e30.motionBlur ? e30.motionBlur : s10.motionBlur, f10 = s10.motionBlurPxRatio, g10 = l10.hasCompoundNodes(), y10 = s10.hoverData.draggingEles, v10 = !!s10.hoverData.selecting || !!s10.touchData.selecting, x10 = p10 = p10 && !t10 && s10.motionBlurEnabled && !v10;
  t10 || (s10.prevPxRatio !== o10 && (s10.invalidateContainerClientCoordsCache(), s10.matchCanvasSize(s10.container), s10.redrawHint("eles", true), s10.redrawHint("drag", true)), s10.prevPxRatio = o10), !t10 && s10.motionBlurTimeout && clearTimeout(s10.motionBlurTimeout), p10 && (null == s10.mbFrames && (s10.mbFrames = 0), s10.mbFrames++, s10.mbFrames < 3 && (x10 = false), s10.mbFrames > s10.minMbLowQualFrames && (s10.motionBlurPxRatio = s10.mbPxRBlurry)), s10.clearingMotionBlur && (s10.motionBlurPxRatio = 1), s10.textureDrawLastFrame && !d10 && (u10[s10.NODE] = true, u10[s10.SELECT_BOX] = true);
  var b10 = l10.style(), k10 = l10.zoom(), w10 = void 0 !== i10 ? i10 : k10, _10 = l10.pan(), T10 = { x: _10.x, y: _10.y }, S10 = { zoom: k10, pan: { x: _10.x, y: _10.y } }, C10 = s10.prevViewport;
  void 0 === C10 || S10.zoom !== C10.zoom || S10.pan.x !== C10.pan.x || S10.pan.y !== C10.pan.y || y10 && !g10 || (s10.motionBlurPxRatio = 1), a10 && (T10 = a10), w10 *= o10, T10.x *= o10, T10.y *= o10;
  var E10 = s10.getCachedZSortedEles();
  function A10(e31, t11, r11, n11, i11) {
    var a11 = e31.globalCompositeOperation;
    e31.globalCompositeOperation = "destination-out", s10.colorFillStyle(e31, 255, 255, 255, s10.motionBlurTransparency), e31.fillRect(t11, r11, n11, i11), e31.globalCompositeOperation = a11;
  }
  function L10(e31, n11) {
    var o11, l11, u11, d11;
    s10.clearingMotionBlur || e31 !== h10.bufferContexts[s10.MOTIONBLUR_BUFFER_NODE] && e31 !== h10.bufferContexts[s10.MOTIONBLUR_BUFFER_DRAG] ? (o11 = T10, l11 = w10, u11 = s10.canvasWidth, d11 = s10.canvasHeight) : (o11 = { x: _10.x * f10, y: _10.y * f10 }, l11 = k10 * f10, u11 = s10.canvasWidth * f10, d11 = s10.canvasHeight * f10), e31.setTransform(1, 0, 0, 1, 0, 0), "motionBlur" === n11 ? A10(e31, 0, 0, u11, d11) : !t10 && (void 0 === n11 || n11) && e31.clearRect(0, 0, u11, d11), r10 || (e31.translate(o11.x, o11.y), e31.scale(l11, l11)), a10 && e31.translate(a10.x, a10.y), i10 && e31.scale(i10, i10);
  }
  if (iM(A10, "mbclear"), iM(L10, "setContextTransform"), d10 || (s10.textureDrawLastFrame = false), d10) {
    if (s10.textureDrawLastFrame = true, !s10.textureCache) {
      s10.textureCache = {}, s10.textureCache.bb = l10.mutableElements().boundingBox(), s10.textureCache.texture = s10.data.bufferCanvases[s10.TEXTURE_BUFFER];
      var I10 = s10.data.bufferContexts[s10.TEXTURE_BUFFER];
      I10.setTransform(1, 0, 0, 1, 0, 0), I10.clearRect(0, 0, s10.canvasWidth * s10.textureMult, s10.canvasHeight * s10.textureMult), s10.render({ forcedContext: I10, drawOnlyNodeLayer: true, forcedPxRatio: o10 * s10.textureMult });
      var S10 = s10.textureCache.viewport = { zoom: l10.zoom(), pan: l10.pan(), width: s10.canvasWidth, height: s10.canvasHeight };
      S10.mpan = { x: (0 - S10.pan.x) / S10.zoom, y: (0 - S10.pan.y) / S10.zoom };
    }
    u10[s10.DRAG] = false, u10[s10.NODE] = false;
    var M10 = h10.contexts[s10.NODE], N10 = s10.textureCache.texture, S10 = s10.textureCache.viewport;
    M10.setTransform(1, 0, 0, 1, 0, 0), p10 ? A10(M10, 0, 0, S10.width, S10.height) : M10.clearRect(0, 0, S10.width, S10.height);
    var R10 = b10.core("outside-texture-bg-color").value, D10 = b10.core("outside-texture-bg-opacity").value;
    s10.colorFillStyle(M10, R10[0], R10[1], R10[2], D10), M10.fillRect(0, 0, S10.width, S10.height);
    var k10 = l10.zoom();
    L10(M10, false), M10.clearRect(S10.mpan.x, S10.mpan.y, S10.width / S10.zoom / o10, S10.height / S10.zoom / o10), M10.drawImage(N10, S10.mpan.x, S10.mpan.y, S10.width / S10.zoom / o10, S10.height / S10.zoom / o10);
  } else s10.textureOnViewport && !t10 && (s10.textureCache = null);
  var O10 = l10.extent(), $10 = s10.pinching || s10.hoverData.dragging || s10.swipePanning || s10.data.wheelZooming || s10.hoverData.draggingEles || s10.cy.animated(), P10 = s10.hideEdgesOnViewport && $10, B10 = [];
  if (B10[s10.NODE] = !u10[s10.NODE] && p10 && !s10.clearedForMotionBlur[s10.NODE] || s10.clearingMotionBlur, B10[s10.NODE] && (s10.clearedForMotionBlur[s10.NODE] = true), B10[s10.DRAG] = !u10[s10.DRAG] && p10 && !s10.clearedForMotionBlur[s10.DRAG] || s10.clearingMotionBlur, B10[s10.DRAG] && (s10.clearedForMotionBlur[s10.DRAG] = true), u10[s10.NODE] || r10 || n10 || B10[s10.NODE]) {
    var F10 = p10 && !B10[s10.NODE] && 1 !== f10, M10 = t10 || (F10 ? s10.data.bufferContexts[s10.MOTIONBLUR_BUFFER_NODE] : h10.contexts[s10.NODE]);
    L10(M10, p10 && !F10 ? "motionBlur" : void 0), P10 ? s10.drawCachedNodes(M10, E10.nondrag, o10, O10) : s10.drawLayeredElements(M10, E10.nondrag, o10, O10), s10.debug && s10.drawDebugPoints(M10, E10.nondrag), r10 || p10 || (u10[s10.NODE] = false);
  }
  if (!n10 && (u10[s10.DRAG] || r10 || B10[s10.DRAG])) {
    var F10 = p10 && !B10[s10.DRAG] && 1 !== f10, M10 = t10 || (F10 ? s10.data.bufferContexts[s10.MOTIONBLUR_BUFFER_DRAG] : h10.contexts[s10.DRAG]);
    L10(M10, p10 && !F10 ? "motionBlur" : void 0), P10 ? s10.drawCachedNodes(M10, E10.drag, o10, O10) : s10.drawCachedElements(M10, E10.drag, o10, O10), s10.debug && s10.drawDebugPoints(M10, E10.drag), r10 || p10 || (u10[s10.DRAG] = false);
  }
  if (s10.showFps || !n10 && u10[s10.SELECT_BOX] && !r10) {
    var M10 = t10 || h10.contexts[s10.SELECT_BOX];
    if (L10(M10), 1 == s10.selection[4] && (s10.hoverData.selecting || s10.touchData.selecting)) {
      var k10 = s10.cy.zoom(), z10 = b10.core("selection-box-border-width").value / k10;
      M10.lineWidth = z10, M10.fillStyle = "rgba(" + b10.core("selection-box-color").value[0] + "," + b10.core("selection-box-color").value[1] + "," + b10.core("selection-box-color").value[2] + "," + b10.core("selection-box-opacity").value + ")", M10.fillRect(s10.selection[0], s10.selection[1], s10.selection[2] - s10.selection[0], s10.selection[3] - s10.selection[1]), z10 > 0 && (M10.strokeStyle = "rgba(" + b10.core("selection-box-border-color").value[0] + "," + b10.core("selection-box-border-color").value[1] + "," + b10.core("selection-box-border-color").value[2] + "," + b10.core("selection-box-opacity").value + ")", M10.strokeRect(s10.selection[0], s10.selection[1], s10.selection[2] - s10.selection[0], s10.selection[3] - s10.selection[1]));
    }
    if (h10.bgActivePosistion && !s10.hoverData.selecting) {
      var k10 = s10.cy.zoom(), j10 = h10.bgActivePosistion;
      M10.fillStyle = "rgba(" + b10.core("active-bg-color").value[0] + "," + b10.core("active-bg-color").value[1] + "," + b10.core("active-bg-color").value[2] + "," + b10.core("active-bg-opacity").value + ")", M10.beginPath(), M10.arc(j10.x, j10.y, b10.core("active-bg-size").pfValue / k10, 0, 2 * Math.PI), M10.fill();
    }
    var q10 = s10.lastRedrawTime;
    if (s10.showFps && q10) {
      var U10 = Math.round(1e3 / (q10 = Math.round(q10)));
      M10.setTransform(1, 0, 0, 1, 0, 0), M10.fillStyle = "rgba(255, 0, 0, 0.75)", M10.strokeStyle = "rgba(255, 0, 0, 0.75)", M10.lineWidth = 1, M10.fillText("1 frame = " + q10 + " ms = " + U10 + " fps", 0, 20), M10.strokeRect(0, 30, 250, 20), M10.fillRect(0, 30, 250 * Math.min(U10 / 60, 1), 20);
    }
    r10 || (u10[s10.SELECT_BOX] = false);
  }
  if (p10 && 1 !== f10) {
    var W10 = h10.contexts[s10.NODE], V10 = s10.data.bufferCanvases[s10.MOTIONBLUR_BUFFER_NODE], H10 = h10.contexts[s10.DRAG], Y10 = s10.data.bufferCanvases[s10.MOTIONBLUR_BUFFER_DRAG], G10 = iM(function(e31, t11, r11) {
      e31.setTransform(1, 0, 0, 1, 0, 0), r11 || !x10 ? e31.clearRect(0, 0, s10.canvasWidth, s10.canvasHeight) : A10(e31, 0, 0, s10.canvasWidth, s10.canvasHeight), e31.drawImage(t11, 0, 0, s10.canvasWidth * f10, s10.canvasHeight * f10, 0, 0, s10.canvasWidth, s10.canvasHeight);
    }, "drawMotionBlur");
    (u10[s10.NODE] || B10[s10.NODE]) && (G10(W10, V10, B10[s10.NODE]), u10[s10.NODE] = false), (u10[s10.DRAG] || B10[s10.DRAG]) && (G10(H10, Y10, B10[s10.DRAG]), u10[s10.DRAG] = false);
  }
  s10.prevViewport = S10, s10.clearingMotionBlur && (s10.clearingMotionBlur = false, s10.motionBlurCleared = true, s10.motionBlur = true), p10 && (s10.motionBlurTimeout = setTimeout(function() {
    s10.motionBlurTimeout = null, s10.clearedForMotionBlur[s10.NODE] = false, s10.clearedForMotionBlur[s10.DRAG] = false, s10.motionBlur = false, s10.clearingMotionBlur = !d10, s10.mbFrames = 0, u10[s10.NODE] = true, u10[s10.DRAG] = true, s10.redraw();
  }, 100)), t10 || l10.emit("render");
};
var ev4 = {};
ev4.drawPolygonPath = function(e30, t10, r10, n10, i10, a10) {
  var s10 = n10 / 2, o10 = i10 / 2;
  e30.beginPath && e30.beginPath(), e30.moveTo(t10 + s10 * a10[0], r10 + o10 * a10[1]);
  for (var l10 = 1; l10 < a10.length / 2; l10++) e30.lineTo(t10 + s10 * a10[2 * l10], r10 + o10 * a10[2 * l10 + 1]);
  e30.closePath();
}, ev4.drawRoundPolygonPath = function(e30, t10, r10, n10, i10, a10, s10) {
  s10.forEach(function(t11) {
    return evr(e30, t11);
  }), e30.closePath();
}, ev4.drawRoundRectanglePath = function(e30, t10, r10, n10, i10, a10) {
  var s10 = n10 / 2, o10 = i10 / 2, l10 = "auto" === a10 ? edj(n10, i10) : Math.min(a10, o10, s10);
  e30.beginPath && e30.beginPath(), e30.moveTo(t10, r10 - o10), e30.arcTo(t10 + s10, r10 - o10, t10 + s10, r10, l10), e30.arcTo(t10 + s10, r10 + o10, t10, r10 + o10, l10), e30.arcTo(t10 - s10, r10 + o10, t10 - s10, r10, l10), e30.arcTo(t10 - s10, r10 - o10, t10, r10 - o10, l10), e30.lineTo(t10, r10 - o10), e30.closePath();
}, ev4.drawBottomRoundRectanglePath = function(e30, t10, r10, n10, i10, a10) {
  var s10 = n10 / 2, o10 = i10 / 2, l10 = "auto" === a10 ? edj(n10, i10) : a10;
  e30.beginPath && e30.beginPath(), e30.moveTo(t10, r10 - o10), e30.lineTo(t10 + s10, r10 - o10), e30.lineTo(t10 + s10, r10), e30.arcTo(t10 + s10, r10 + o10, t10, r10 + o10, l10), e30.arcTo(t10 - s10, r10 + o10, t10 - s10, r10, l10), e30.lineTo(t10 - s10, r10 - o10), e30.lineTo(t10, r10 - o10), e30.closePath();
}, ev4.drawCutRectanglePath = function(e30, t10, r10, n10, i10, a10, s10) {
  var o10 = n10 / 2, l10 = i10 / 2, h10 = "auto" === s10 ? edU() : s10;
  e30.beginPath && e30.beginPath(), e30.moveTo(t10 - o10 + h10, r10 - l10), e30.lineTo(t10 + o10 - h10, r10 - l10), e30.lineTo(t10 + o10, r10 - l10 + h10), e30.lineTo(t10 + o10, r10 + l10 - h10), e30.lineTo(t10 + o10 - h10, r10 + l10), e30.lineTo(t10 - o10 + h10, r10 + l10), e30.lineTo(t10 - o10, r10 + l10 - h10), e30.lineTo(t10 - o10, r10 - l10 + h10), e30.closePath();
}, ev4.drawBarrelPath = function(e30, t10, r10, n10, i10) {
  var a10 = n10 / 2, s10 = i10 / 2, o10 = t10 - a10, l10 = t10 + a10, h10 = r10 - s10, u10 = r10 + s10, d10 = edV(n10, i10), p10 = d10.widthOffset, f10 = d10.heightOffset, g10 = d10.ctrlPtOffsetPct * p10;
  e30.beginPath && e30.beginPath(), e30.moveTo(o10, h10 + f10), e30.lineTo(o10, u10 - f10), e30.quadraticCurveTo(o10 + g10, u10, o10 + p10, u10), e30.lineTo(l10 - p10, u10), e30.quadraticCurveTo(l10 - g10, u10, l10, u10 - f10), e30.lineTo(l10, h10 + f10), e30.quadraticCurveTo(l10 - g10, h10, l10 - p10, h10), e30.lineTo(o10 + p10, h10), e30.quadraticCurveTo(o10 + g10, h10, o10, h10 + f10), e30.closePath();
};
var ev3 = {}, ev5 = {}, ev6 = Math.PI / 40;
for (ib = 0 * Math.PI; ib < 2 * Math.PI; ib += ev6) ev3[ib] = Math.sin(ib), ev5[ib] = Math.cos(ib);
ev4.drawEllipsePath = function(e30, t10, r10, n10, i10) {
  if (e30.beginPath && e30.beginPath(), e30.ellipse) e30.ellipse(t10, r10, n10 / 2, i10 / 2, 0, 0, 2 * Math.PI);
  else for (var a10, s10, o10 = n10 / 2, l10 = i10 / 2, h10 = 0 * Math.PI; h10 < 2 * Math.PI; h10 += ev6) a10 = t10 - o10 * ev3[h10] * 0 + o10 * ev5[h10] * 1, s10 = r10 + l10 * ev5[h10] * 0 + l10 * ev3[h10] * 1, 0 === h10 ? e30.moveTo(a10, s10) : e30.lineTo(a10, s10);
  e30.closePath();
};
var ev7 = {};
function ev8(e30, t10) {
  for (var r10 = atob(e30), n10 = new ArrayBuffer(r10.length), i10 = new Uint8Array(n10), a10 = 0; a10 < r10.length; a10++) i10[a10] = r10.charCodeAt(a10);
  return new Blob([n10], { type: t10 });
}
function ev9(e30) {
  var t10 = e30.indexOf(",");
  return e30.substr(t10 + 1);
}
function exe(e30, t10, r10) {
  var n10 = iM(function() {
    return t10.toDataURL(r10, e30.quality);
  }, "getB64Uri");
  switch (e30.output) {
    case "blob-promise":
      return new ep2(function(n11, i10) {
        try {
          t10.toBlob(function(e31) {
            null != e31 ? n11(e31) : i10(Error("`canvas.toBlob()` sent a null value in its callback"));
          }, r10, e30.quality);
        } catch (e31) {
          i10(e31);
        }
      });
    case "blob":
      return ev8(ev9(n10()), r10);
    case "base64":
      return ev9(n10());
    default:
      return n10();
  }
}
ev7.createBuffer = function(e30, t10) {
  var r10 = document.createElement("canvas");
  return r10.width = e30, r10.height = t10, [r10, r10.getContext("2d")];
}, ev7.bufferCanvasImage = function(e30) {
  var t10 = this.cy, r10 = t10.mutableElements().boundingBox(), n10 = this.findContainerClientCoords(), i10 = e30.full ? Math.ceil(r10.w) : n10[2], a10 = e30.full ? Math.ceil(r10.h) : n10[3], s10 = ecJ(e30.maxWidth) || ecJ(e30.maxHeight), o10 = this.getPixelRatio(), l10 = 1;
  if (void 0 !== e30.scale) i10 *= e30.scale, a10 *= e30.scale, l10 = e30.scale;
  else if (s10) {
    var h10 = 1 / 0, u10 = 1 / 0;
    ecJ(e30.maxWidth) && (h10 = l10 * e30.maxWidth / i10), ecJ(e30.maxHeight) && (u10 = l10 * e30.maxHeight / a10), i10 *= l10 = Math.min(h10, u10), a10 *= l10;
  }
  s10 || (i10 *= o10, a10 *= o10, l10 *= o10);
  var d10 = document.createElement("canvas");
  d10.width = i10, d10.height = a10, d10.style.width = i10 + "px", d10.style.height = a10 + "px";
  var p10 = d10.getContext("2d");
  if (i10 > 0 && a10 > 0) {
    p10.clearRect(0, 0, i10, a10), p10.globalCompositeOperation = "source-over";
    var f10 = this.getCachedZSortedEles();
    if (e30.full) p10.translate(-r10.x1 * l10, -r10.y1 * l10), p10.scale(l10, l10), this.drawElements(p10, f10), p10.scale(1 / l10, 1 / l10), p10.translate(r10.x1 * l10, r10.y1 * l10);
    else {
      var g10 = t10.pan(), y10 = { x: g10.x * l10, y: g10.y * l10 };
      l10 *= t10.zoom(), p10.translate(y10.x, y10.y), p10.scale(l10, l10), this.drawElements(p10, f10), p10.scale(1 / l10, 1 / l10), p10.translate(-y10.x, -y10.y);
    }
    e30.bg && (p10.globalCompositeOperation = "destination-over", p10.fillStyle = e30.bg, p10.rect(0, 0, i10, a10), p10.fill());
  }
  return d10;
}, iM(ev8, "b64ToBlob"), iM(ev9, "b64UriToB64"), iM(exe, "output"), ev7.png = function(e30) {
  return exe(e30, this.bufferCanvasImage(e30), "image/png");
}, ev7.jpg = function(e30) {
  return exe(e30, this.bufferCanvasImage(e30), "image/jpeg");
};
var ext = {};
ext.nodeShapeImpl = function(e30, t10, r10, n10, i10, a10, s10, o10) {
  switch (e30) {
    case "ellipse":
      return this.drawEllipsePath(t10, r10, n10, i10, a10);
    case "polygon":
      return this.drawPolygonPath(t10, r10, n10, i10, a10, s10);
    case "round-polygon":
      return this.drawRoundPolygonPath(t10, r10, n10, i10, a10, s10, o10);
    case "roundrectangle":
    case "round-rectangle":
      return this.drawRoundRectanglePath(t10, r10, n10, i10, a10, o10);
    case "cutrectangle":
    case "cut-rectangle":
      return this.drawCutRectanglePath(t10, r10, n10, i10, a10, s10, o10);
    case "bottomroundrectangle":
    case "bottom-round-rectangle":
      return this.drawBottomRoundRectanglePath(t10, r10, n10, i10, a10, o10);
    case "barrel":
      return this.drawBarrelPath(t10, r10, n10, i10, a10);
  }
};
var exr = exn.prototype;
function exn(e30) {
  var t10 = this, r10 = t10.cy.window().document;
  t10.data = { canvases: Array(exr.CANVAS_LAYERS), contexts: Array(exr.CANVAS_LAYERS), canvasNeedsRedraw: Array(exr.CANVAS_LAYERS), bufferCanvases: Array(exr.BUFFER_COUNT), bufferContexts: Array(exr.CANVAS_LAYERS) };
  var n10 = "-webkit-tap-highlight-color", i10 = "rgba(0,0,0,0)";
  t10.data.canvasContainer = r10.createElement("div");
  var a10 = t10.data.canvasContainer.style;
  t10.data.canvasContainer.style[n10] = i10, a10.position = "relative", a10.zIndex = "0", a10.overflow = "hidden";
  var s10 = e30.cy.container();
  s10.appendChild(t10.data.canvasContainer), s10.style[n10] = i10;
  var o10 = { "-webkit-user-select": "none", "-moz-user-select": "-moz-none", "user-select": "none", "-webkit-tap-highlight-color": "rgba(0,0,0,0)", "outline-style": "none" };
  ehr() && (o10["-ms-touch-action"] = "none", o10["touch-action"] = "none");
  for (var l10 = 0; l10 < exr.CANVAS_LAYERS; l10++) {
    var h10 = t10.data.canvases[l10] = r10.createElement("canvas");
    t10.data.contexts[l10] = h10.getContext("2d"), Object.keys(o10).forEach(function(e31) {
      h10.style[e31] = o10[e31];
    }), h10.style.position = "absolute", h10.setAttribute("data-id", "layer" + l10), h10.style.zIndex = String(exr.CANVAS_LAYERS - l10), t10.data.canvasContainer.appendChild(h10), t10.data.canvasNeedsRedraw[l10] = false;
  }
  t10.data.topCanvas = t10.data.canvases[0], t10.data.canvases[exr.NODE].setAttribute("data-id", "layer" + exr.NODE + "-node"), t10.data.canvases[exr.SELECT_BOX].setAttribute("data-id", "layer" + exr.SELECT_BOX + "-selectbox"), t10.data.canvases[exr.DRAG].setAttribute("data-id", "layer" + exr.DRAG + "-drag");
  for (var l10 = 0; l10 < exr.BUFFER_COUNT; l10++) t10.data.bufferCanvases[l10] = r10.createElement("canvas"), t10.data.bufferContexts[l10] = t10.data.bufferCanvases[l10].getContext("2d"), t10.data.bufferCanvases[l10].style.position = "absolute", t10.data.bufferCanvases[l10].setAttribute("data-id", "buffer" + l10), t10.data.bufferCanvases[l10].style.zIndex = String(-l10 - 1), t10.data.bufferCanvases[l10].style.visibility = "hidden";
  t10.pathsEnabled = true;
  var u10 = eda(), d10 = iM(function(e31) {
    return { x: (e31.x1 + e31.x2) / 2, y: (e31.y1 + e31.y2) / 2 };
  }, "getBoxCenter"), p10 = iM(function(e31) {
    return { x: -e31.w / 2, y: -e31.h / 2 };
  }, "getCenterOffset"), f10 = iM(function(e31) {
    var t11 = e31[0]._private;
    return t11.oldBackgroundTimestamp !== t11.backgroundTimestamp;
  }, "backgroundTimestampHasChanged"), g10 = iM(function(e31) {
    return e31[0]._private.nodeKey;
  }, "getStyleKey"), y10 = iM(function(e31) {
    return e31[0]._private.labelStyleKey;
  }, "getLabelKey"), v10 = iM(function(e31) {
    return e31[0]._private.sourceLabelStyleKey;
  }, "getSourceLabelKey"), x10 = iM(function(e31) {
    return e31[0]._private.targetLabelStyleKey;
  }, "getTargetLabelKey"), b10 = iM(function(e31, r11, n11, i11, a11) {
    return t10.drawElement(e31, r11, n11, false, false, a11);
  }, "drawElement"), k10 = iM(function(e31, r11, n11, i11, a11) {
    return t10.drawElementText(e31, r11, n11, i11, "main", a11);
  }, "drawLabel"), w10 = iM(function(e31, r11, n11, i11, a11) {
    return t10.drawElementText(e31, r11, n11, i11, "source", a11);
  }, "drawSourceLabel"), _10 = iM(function(e31, r11, n11, i11, a11) {
    return t10.drawElementText(e31, r11, n11, i11, "target", a11);
  }, "drawTargetLabel"), T10 = iM(function(e31) {
    return e31.boundingBox(), e31[0]._private.bodyBounds;
  }, "getElementBox"), S10 = iM(function(e31) {
    return e31.boundingBox(), e31[0]._private.labelBounds.main || u10;
  }, "getLabelBox"), C10 = iM(function(e31) {
    return e31.boundingBox(), e31[0]._private.labelBounds.source || u10;
  }, "getSourceLabelBox"), E10 = iM(function(e31) {
    return e31.boundingBox(), e31[0]._private.labelBounds.target || u10;
  }, "getTargetLabelBox"), A10 = iM(function(e31, t11) {
    return t11;
  }, "isLabelVisibleAtScale"), L10 = iM(function(e31) {
    return d10(T10(e31));
  }, "getElementRotationPoint"), I10 = iM(function(e31, t11, r11) {
    var n11 = e31 ? e31 + "-" : "";
    return { x: t11.x + r11.pstyle(n11 + "text-margin-x").pfValue, y: t11.y + r11.pstyle(n11 + "text-margin-y").pfValue };
  }, "addTextMargin"), M10 = iM(function(e31, t11, r11) {
    var n11 = e31[0]._private.rscratch;
    return { x: n11[t11], y: n11[r11] };
  }, "getRsPt"), N10 = iM(function(e31) {
    return I10("", M10(e31, "labelX", "labelY"), e31);
  }, "getLabelRotationPoint"), R10 = iM(function(e31) {
    return I10("source", M10(e31, "sourceLabelX", "sourceLabelY"), e31);
  }, "getSourceLabelRotationPoint"), D10 = iM(function(e31) {
    return I10("target", M10(e31, "targetLabelX", "targetLabelY"), e31);
  }, "getTargetLabelRotationPoint"), O10 = iM(function(e31) {
    return p10(T10(e31));
  }, "getElementRotationOffset"), $10 = iM(function(e31) {
    return p10(C10(e31));
  }, "getSourceLabelRotationOffset"), P10 = iM(function(e31) {
    return p10(E10(e31));
  }, "getTargetLabelRotationOffset"), B10 = iM(function(e31) {
    var t11 = S10(e31), r11 = p10(S10(e31));
    if (e31.isNode()) {
      switch (e31.pstyle("text-halign").value) {
        case "left":
          r11.x = -t11.w;
          break;
        case "right":
          r11.x = 0;
      }
      switch (e31.pstyle("text-valign").value) {
        case "top":
          r11.y = -t11.h;
          break;
        case "bottom":
          r11.y = 0;
      }
    }
    return r11;
  }, "getLabelRotationOffset"), F10 = t10.data.eleTxrCache = new evI(t10, { getKey: g10, doesEleInvalidateKey: f10, drawElement: b10, getBoundingBox: T10, getRotationPoint: L10, getRotationOffset: O10, allowEdgeTxrCaching: false, allowParentTxrCaching: false }), z10 = t10.data.lblTxrCache = new evI(t10, { getKey: y10, drawElement: k10, getBoundingBox: S10, getRotationPoint: N10, getRotationOffset: B10, isVisible: A10 }), j10 = t10.data.slbTxrCache = new evI(t10, { getKey: v10, drawElement: w10, getBoundingBox: C10, getRotationPoint: R10, getRotationOffset: $10, isVisible: A10 }), q10 = t10.data.tlbTxrCache = new evI(t10, { getKey: x10, drawElement: _10, getBoundingBox: E10, getRotationPoint: D10, getRotationOffset: P10, isVisible: A10 }), U10 = t10.data.lyrTxrCache = new evR(t10);
  t10.onUpdateEleCalcs(iM(function(e31, t11) {
    F10.invalidateElements(t11), z10.invalidateElements(t11), j10.invalidateElements(t11), q10.invalidateElements(t11), U10.invalidateElements(t11);
    for (var r11 = 0; r11 < t11.length; r11++) {
      var n11 = t11[r11]._private;
      n11.oldBackgroundTimestamp = n11.backgroundTimestamp;
    }
  }, "invalidateTextureCaches"));
  var W10 = iM(function(e31) {
    for (var t11 = 0; t11 < e31.length; t11++) U10.enqueueElementRefinement(e31[t11].ele);
  }, "refineInLayers");
  F10.onDequeue(W10), z10.onDequeue(W10), j10.onDequeue(W10), q10.onDequeue(W10);
}
exr.CANVAS_LAYERS = 3, exr.SELECT_BOX = 0, exr.DRAG = 1, exr.NODE = 2, exr.BUFFER_COUNT = 3, exr.TEXTURE_BUFFER = 0, exr.MOTIONBLUR_BUFFER_NODE = 1, exr.MOTIONBLUR_BUFFER_DRAG = 2, iM(exn, "CanvasRenderer"), exr.redrawHint = function(e30, t10) {
  switch (e30) {
    case "eles":
      this.data.canvasNeedsRedraw[exr.NODE] = t10;
      break;
    case "drag":
      this.data.canvasNeedsRedraw[exr.DRAG] = t10;
      break;
    case "select":
      this.data.canvasNeedsRedraw[exr.SELECT_BOX] = t10;
  }
};
var exi = "undefined" != typeof Path2D;
exr.path2dEnabled = function(e30) {
  if (void 0 === e30) return this.pathsEnabled;
  this.pathsEnabled = !!e30;
}, exr.usePaths = function() {
  return exi && this.pathsEnabled;
}, exr.setImgSmoothing = function(e30, t10) {
  null != e30.imageSmoothingEnabled ? e30.imageSmoothingEnabled = t10 : (e30.webkitImageSmoothingEnabled = t10, e30.mozImageSmoothingEnabled = t10, e30.msImageSmoothingEnabled = t10);
}, exr.getImgSmoothing = function(e30) {
  return null != e30.imageSmoothingEnabled ? e30.imageSmoothingEnabled : e30.webkitImageSmoothingEnabled || e30.mozImageSmoothingEnabled || e30.msImageSmoothingEnabled;
}, exr.makeOffscreenCanvas = function(e30, t10) {
  var r10;
  return ("undefined" == typeof OffscreenCanvas ? "undefined" : ecL(OffscreenCanvas)) !== "undefined" ? r10 = new OffscreenCanvas(e30, t10) : ((r10 = this.cy.window().document.createElement("canvas")).width = e30, r10.height = t10), r10;
}, [ev$, evq, evX, evZ, evQ, ev0, ev2, ev4, ev7, ext].forEach(function(e30) {
  ehg(exr, e30);
});
var exa = [{ name: "null", impl: ey1 }, { name: "base", impl: ev_ }, { name: "canvas", impl: exn }], exs = {}, exo = {};
function exl(e30, t10, r10) {
  var n10 = r10, i10 = iM(function(r11) {
    eum("Can not register `" + t10 + "` for `" + e30 + "` since `" + r11 + "` already exists in the prototype and can not be overridden");
  }, "overrideErr");
  if ("core" === e30) {
    if (eyf.prototype[t10]) return i10(t10);
    eyf.prototype[t10] = r10;
  } else if ("collection" === e30) {
    if (emj.prototype[t10]) return i10(t10);
    emj.prototype[t10] = r10;
  } else if ("layout" === e30) {
    for (var a10 = iM(function(e31) {
      this.options = e31, r10.call(this, e31), ecZ(this._private) || (this._private = {}), this._private.cy = e31.cy, this._private.listeners = [], this.createEmitter();
    }, "Layout"), s10 = a10.prototype = Object.create(r10.prototype), o10 = [], l10 = 0; l10 < o10.length; l10++) {
      var h10 = o10[l10];
      s10[h10] = s10[h10] || function() {
        return this;
      };
    }
    s10.start && !s10.run ? s10.run = function() {
      return this.start(), this;
    } : !s10.start && s10.run && (s10.start = function() {
      return this.run(), this;
    });
    var u10 = r10.prototype.stop;
    s10.stop = function() {
      var e31 = this.options;
      if (e31 && e31.animate) {
        var t11 = this.animations;
        if (t11) for (var r11 = 0; r11 < t11.length; r11++) t11[r11].stop();
      }
      return u10 ? u10.call(this) : this.emit("layoutstop"), this;
    }, s10.destroy || (s10.destroy = function() {
      return this;
    }), s10.cy = function() {
      return this._private.cy;
    };
    var d10 = iM(function(e31) {
      return e31._private.cy;
    }, "getCy"), p10 = { addEventFields: iM(function(e31, t11) {
      t11.layout = e31, t11.cy = d10(e31), t11.target = e31;
    }, "addEventFields"), bubble: iM(function() {
      return true;
    }, "bubble"), parent: iM(function(e31) {
      return d10(e31);
    }, "parent") };
    ehg(s10, { createEmitter: iM(function() {
      return this._private.emitter = new emo(p10, this), this;
    }, "createEmitter"), emitter: iM(function() {
      return this._private.emitter;
    }, "emitter"), on: iM(function(e31, t11) {
      return this.emitter().on(e31, t11), this;
    }, "on"), one: iM(function(e31, t11) {
      return this.emitter().one(e31, t11), this;
    }, "one"), once: iM(function(e31, t11) {
      return this.emitter().one(e31, t11), this;
    }, "once"), removeListener: iM(function(e31, t11) {
      return this.emitter().removeListener(e31, t11), this;
    }, "removeListener"), removeAllListeners: iM(function() {
      return this.emitter().removeAllListeners(), this;
    }, "removeAllListeners"), emit: iM(function(e31, t11) {
      return this.emitter().emit(e31, t11), this;
    }, "emit") }), egn.eventAliasesOn(s10), n10 = a10;
  } else if ("renderer" === e30 && "null" !== t10 && "base" !== t10) {
    var f10 = exc("renderer", "base"), g10 = f10.prototype, y10 = r10.prototype, v10 = iM(function() {
      f10.apply(this, arguments), r10.apply(this, arguments);
    }, "Renderer"), x10 = v10.prototype;
    for (var b10 in g10) {
      var k10 = g10[b10];
      if (null != y10[b10]) return i10(b10);
      x10[b10] = k10;
    }
    for (var w10 in y10) x10[w10] = y10[w10];
    g10.clientFunctions.forEach(function(e31) {
      x10[e31] = x10[e31] || function() {
        euf("Renderer does not implement `renderer." + e31 + "()` on its prototype");
      };
    }), n10 = v10;
  } else if ("__proto__" === e30 || "constructor" === e30 || "prototype" === e30) return euf(e30 + " is an illegal type to be registered, possibly lead to prototype pollutions");
  return ehw({ map: exs, keys: [e30, t10], value: n10 });
}
function exc(e30, t10) {
  return eh_({ map: exs, keys: [e30, t10] });
}
function exh(e30, t10, r10, n10, i10) {
  return ehw({ map: exo, keys: [e30, t10, r10, n10], value: i10 });
}
function exu(e30, t10, r10, n10) {
  return eh_({ map: exo, keys: [e30, t10, r10, n10] });
}
iM(exl, "setExtension"), iM(exc, "getExtension"), iM(exh, "setModule"), iM(exu, "getModule");
var exd = iM(function() {
  return 2 == arguments.length ? exc.apply(null, arguments) : 3 == arguments.length ? exl.apply(null, arguments) : 4 == arguments.length ? exu.apply(null, arguments) : 5 == arguments.length ? exh.apply(null, arguments) : void euf("Invalid extension access syntax");
}, "extension");
eyf.prototype.extension = exd, [{ type: "layout", extensions: ey0 }, { type: "renderer", extensions: exa }].forEach(function(e30) {
  e30.extensions.forEach(function(t10) {
    exl(e30.type, t10.name, t10.impl);
  });
});
var exp = iM(function e29() {
  if (!(this instanceof e29)) return new e29();
  this.length = 0;
}, "Stylesheet"), exf = exp.prototype;
exf.instanceString = function() {
  return "stylesheet";
}, exf.selector = function(e30) {
  return this[this.length++] = { selector: e30, properties: [] }, this;
}, exf.css = function(e30, t10) {
  var r10 = this.length - 1;
  if (ecG(e30)) this[r10].properties.push({ name: e30, value: t10 });
  else if (ecZ(e30)) for (var n10 = Object.keys(e30), i10 = 0; i10 < n10.length; i10++) {
    var a10 = n10[i10], s10 = e30[a10];
    if (null != s10) {
      var o10 = eyc.properties[a10] || eyc.properties[eha(a10)];
      if (null != o10) {
        var l10 = o10.name;
        this[r10].properties.push({ name: l10, value: s10 });
      }
    }
  }
  return this;
}, exf.style = exf.css, exf.generateStyle = function(e30) {
  var t10 = new eyc(e30);
  return this.appendToStyle(t10);
}, exf.appendToStyle = function(e30) {
  for (var t10 = 0; t10 < this.length; t10++) {
    var r10 = this[t10], n10 = r10.selector, i10 = r10.properties;
    e30.selector(n10);
    for (var a10 = 0; a10 < i10.length; a10++) {
      var s10 = i10[a10];
      e30.css(s10.name, s10.value);
    }
  }
  return e30;
};
var exg = iM(function(e30) {
  return (void 0 === e30 && (e30 = {}), ecZ(e30)) ? new eyf(e30) : ecG(e30) ? exd.apply(exd, arguments) : void 0;
}, "cytoscape");
exg.use = function(e30) {
  var t10 = Array.prototype.slice.call(arguments, 1);
  return t10.unshift(exg), e30.apply(null, t10), this;
}, exg.warnings = function(e30) {
  return eug(e30);
}, exg.version = "3.30.2", exg.stylesheet = exg.Stylesheet = exp;
var exm = iN({ "../../node_modules/.pnpm/cytoscape-cose-bilkent@4.1.0_cytoscape@3.30.2/node_modules/cytoscape-cose-bilkent/cytoscape-cose-bilkent.js"(e30, t10) {
} }), exy = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 4], r10 = [1, 13], n10 = [1, 12], i10 = [1, 15], a10 = [1, 16], s10 = [1, 20], o10 = [1, 19], l10 = [6, 7, 8], h10 = [1, 26], u10 = [1, 24], d10 = [1, 25], p10 = [6, 7, 11], f10 = [1, 6, 13, 15, 16, 19, 22], g10 = [1, 33], y10 = [1, 34], v10 = [1, 6, 7, 11, 13, 15, 16, 19, 22], x10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mindMap: 4, spaceLines: 5, SPACELINE: 6, NL: 7, MINDMAP: 8, document: 9, stop: 10, EOF: 11, statement: 12, SPACELIST: 13, node: 14, ICON: 15, CLASS: 16, nodeWithId: 17, nodeWithoutId: 18, NODE_DSTART: 19, NODE_DESCR: 20, NODE_DEND: 21, NODE_ID: 22, $accept: 0, $end: 1 }, terminals_: { 2: "error", 6: "SPACELINE", 7: "NL", 8: "MINDMAP", 11: "EOF", 13: "SPACELIST", 15: "ICON", 16: "CLASS", 19: "NODE_DSTART", 20: "NODE_DESCR", 21: "NODE_DEND", 22: "NODE_ID" }, productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 2], [12, 2], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [18, 3], [17, 1], [17, 4]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 6:
      case 7:
        return n11;
      case 8:
        n11.getLogger().trace("Stop NL ");
        break;
      case 9:
        n11.getLogger().trace("Stop EOF ");
        break;
      case 11:
        n11.getLogger().trace("Stop NL2 ");
        break;
      case 12:
        n11.getLogger().trace("Stop EOF2 ");
        break;
      case 15:
        n11.getLogger().info("Node: ", a11[o11].id), n11.addNode(a11[o11 - 1].length, a11[o11].id, a11[o11].descr, a11[o11].type);
        break;
      case 16:
        n11.getLogger().trace("Icon: ", a11[o11]), n11.decorateNode({ icon: a11[o11] });
        break;
      case 17:
      case 21:
        n11.decorateNode({ class: a11[o11] });
        break;
      case 18:
        n11.getLogger().trace("SPACELIST");
        break;
      case 19:
        n11.getLogger().trace("Node: ", a11[o11].id), n11.addNode(0, a11[o11].id, a11[o11].descr, a11[o11].type);
        break;
      case 20:
        n11.decorateNode({ icon: a11[o11] });
        break;
      case 25:
        n11.getLogger().trace("node found ..", a11[o11 - 2]), this.$ = { id: a11[o11 - 1], descr: a11[o11 - 1], type: n11.getType(a11[o11 - 2], a11[o11]) };
        break;
      case 26:
        this.$ = { id: a11[o11], descr: a11[o11], type: n11.nodeType.DEFAULT };
        break;
      case 27:
        n11.getLogger().trace("node found ..", a11[o11 - 3]), this.$ = { id: a11[o11 - 3], descr: a11[o11 - 1], type: n11.getType(a11[o11 - 2], a11[o11]) };
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: t10 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: t10 }, { 6: r10, 7: [1, 10], 9: 9, 12: 11, 13: n10, 14: 14, 15: i10, 16: a10, 17: 17, 18: 18, 19: s10, 22: o10 }, e30(l10, [2, 3]), { 1: [2, 2] }, e30(l10, [2, 4]), e30(l10, [2, 5]), { 1: [2, 6], 6: r10, 12: 21, 13: n10, 14: 14, 15: i10, 16: a10, 17: 17, 18: 18, 19: s10, 22: o10 }, { 6: r10, 9: 22, 12: 11, 13: n10, 14: 14, 15: i10, 16: a10, 17: 17, 18: 18, 19: s10, 22: o10 }, { 6: h10, 7: u10, 10: 23, 11: d10 }, e30(p10, [2, 22], { 17: 17, 18: 18, 14: 27, 15: [1, 28], 16: [1, 29], 19: s10, 22: o10 }), e30(p10, [2, 18]), e30(p10, [2, 19]), e30(p10, [2, 20]), e30(p10, [2, 21]), e30(p10, [2, 23]), e30(p10, [2, 24]), e30(p10, [2, 26], { 19: [1, 30] }), { 20: [1, 31] }, { 6: h10, 7: u10, 10: 32, 11: d10 }, { 1: [2, 7], 6: r10, 12: 21, 13: n10, 14: 14, 15: i10, 16: a10, 17: 17, 18: 18, 19: s10, 22: o10 }, e30(f10, [2, 14], { 7: g10, 11: y10 }), e30(v10, [2, 8]), e30(v10, [2, 9]), e30(v10, [2, 10]), e30(p10, [2, 15]), e30(p10, [2, 16]), e30(p10, [2, 17]), { 20: [1, 35] }, { 21: [1, 36] }, e30(f10, [2, 13], { 7: g10, 11: y10 }), e30(v10, [2, 11]), e30(v10, [2, 12]), { 21: [1, 37] }, e30(p10, [2, 25]), e30(p10, [2, 27])], defaultActions: { 2: [2, 1], 6: [2, 2] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w10, _10, T10, S10, C10, E10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A10 = "";
        for (_10 in C10 = [], s11[b11]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C10 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[k11[1]][1], E10.$ = i11[i11.length - T10], E10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w10 = this.performAction.apply(E10, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), i11 = i11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[k11[1]][0]), i11.push(E10.$), a11.push(E10._$), S10 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, b10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return e31.getLogger().trace("Found comment", t11.yytext), 6;
      case 1:
        return 8;
      case 2:
        this.begin("CLASS");
        break;
      case 3:
        return this.popState(), 16;
      case 4:
      case 23:
      case 26:
        this.popState();
        break;
      case 5:
        e31.getLogger().trace("Begin icon"), this.begin("ICON");
        break;
      case 6:
        return e31.getLogger().trace("SPACELINE"), 6;
      case 7:
        return 7;
      case 8:
        return 15;
      case 9:
        e31.getLogger().trace("end icon"), this.popState();
        break;
      case 10:
        return e31.getLogger().trace("Exploding node"), this.begin("NODE"), 19;
      case 11:
        return e31.getLogger().trace("Cloud"), this.begin("NODE"), 19;
      case 12:
        return e31.getLogger().trace("Explosion Bang"), this.begin("NODE"), 19;
      case 13:
        return e31.getLogger().trace("Cloud Bang"), this.begin("NODE"), 19;
      case 14:
      case 15:
      case 16:
      case 17:
        return this.begin("NODE"), 19;
      case 18:
        return 13;
      case 19:
        return 22;
      case 20:
        return 11;
      case 21:
        this.begin("NSTR2");
        break;
      case 22:
        return "NODE_DESCR";
      case 24:
        e31.getLogger().trace("Starting NSTR"), this.begin("NSTR");
        break;
      case 25:
        return e31.getLogger().trace("description:", t11.yytext), "NODE_DESCR";
      case 27:
        return this.popState(), e31.getLogger().trace("node end ))"), "NODE_DEND";
      case 28:
        return this.popState(), e31.getLogger().trace("node end )"), "NODE_DEND";
      case 29:
        return this.popState(), e31.getLogger().trace("node end ...", t11.yytext), "NODE_DEND";
      case 30:
      case 33:
      case 34:
        return this.popState(), e31.getLogger().trace("node end (("), "NODE_DEND";
      case 31:
      case 32:
        return this.popState(), e31.getLogger().trace("node end (-"), "NODE_DEND";
      case 35:
      case 36:
        return e31.getLogger().trace("Long description:", t11.yytext), 20;
    }
  }, "anonymous"), rules: [/^(?:\s*%%.*)/i, /^(?:mindmap\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\n)/i, /^(?:::icon\()/i, /^(?:[\s]+[\n])/i, /^(?:[\n]+)/i, /^(?:[^\)]+)/i, /^(?:\))/i, /^(?:-\))/i, /^(?:\(-)/i, /^(?:\)\))/i, /^(?:\))/i, /^(?:\(\()/i, /^(?:\{\{)/i, /^(?:\()/i, /^(?:\[)/i, /^(?:[\s]+)/i, /^(?:[^\(\[\n\)\{\}]+)/i, /^(?:$)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:[^"]+)/i, /^(?:["])/i, /^(?:[\)]\))/i, /^(?:[\)])/i, /^(?:[\]])/i, /^(?:\}\})/i, /^(?:\(-)/i, /^(?:-\))/i, /^(?:\(\()/i, /^(?:\()/i, /^(?:[^\)\]\(\}]+)/i, /^(?:.+(?!\(\())/i], conditions: { CLASS: { rules: [3, 4], inclusive: false }, ICON: { rules: [8, 9], inclusive: false }, NSTR2: { rules: [22, 23], inclusive: false }, NSTR: { rules: [25, 26], inclusive: false }, NODE: { rules: [21, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], inclusive: false }, INITIAL: { rules: [0, 1, 2, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], inclusive: true } } };
  function k10() {
    this.yy = {};
  }
  return x10.lexer = b10, iM(k10, "Parser"), k10.prototype = x10, x10.Parser = k10, new k10();
}();
exy.parser = exy;
var exv = [], exx = 0, exb = {}, exk = iM(() => {
  exv = [], exx = 0, exb = {};
}, "clear"), exw = iM(function(e30) {
  for (let t10 = exv.length - 1; t10 >= 0; t10--) if (exv[t10].level < e30) return exv[t10];
  return null;
}, "getParent"), ex_ = iM(() => exv.length > 0 ? exv[0] : null, "getMindmap"), exT = iM((e30, t10, r10, n10) => {
  var i10, a10, s10, o10;
  iz.info("addNode", e30, t10, r10, n10);
  let l10 = aj(), h10 = null !== (s10 = null === (i10 = l10.mindmap) || void 0 === i10 ? void 0 : i10.padding) && void 0 !== s10 ? s10 : aC.mindmap.padding;
  switch (n10) {
    case exS.ROUNDED_RECT:
    case exS.RECT:
    case exS.HEXAGON:
      h10 *= 2;
  }
  let u10 = { id: exx++, nodeId: sV(t10, l10), level: e30, descr: sV(r10, l10), type: n10, children: [], width: null !== (o10 = null === (a10 = l10.mindmap) || void 0 === a10 ? void 0 : a10.maxNodeWidth) && void 0 !== o10 ? o10 : aC.mindmap.maxNodeWidth, padding: h10 }, d10 = exw(e30);
  if (d10) d10.children.push(u10), exv.push(u10);
  else if (0 === exv.length) exv.push(u10);
  else throw Error('There can be only one root. No parent could be found for ("' + u10.descr + '")');
}, "addNode"), exS = { DEFAULT: 0, NO_BORDER: 0, ROUNDED_RECT: 1, RECT: 2, CIRCLE: 3, CLOUD: 4, BANG: 5, HEXAGON: 6 }, exC = iM((e30, t10) => {
  switch (iz.debug("In get type", e30, t10), e30) {
    case "[":
      return exS.RECT;
    case "(":
      return ")" === t10 ? exS.ROUNDED_RECT : exS.CLOUD;
    case "((":
      return exS.CIRCLE;
    case ")":
      return exS.CLOUD;
    case "))":
      return exS.BANG;
    case "{{":
      return exS.HEXAGON;
    default:
      return exS.DEFAULT;
  }
}, "getType"), exE = iM((e30, t10) => {
  exb[e30] = t10;
}, "setElementForId"), exA = iM((e30) => {
  if (!e30) return;
  let t10 = aj(), r10 = exv[exv.length - 1];
  e30.icon && (r10.icon = sV(e30.icon, t10)), e30.class && (r10.class = sV(e30.class, t10));
}, "decorateNode"), exL = iM((e30) => {
  switch (e30) {
    case exS.DEFAULT:
      return "no-border";
    case exS.RECT:
      return "rect";
    case exS.ROUNDED_RECT:
      return "rounded-rect";
    case exS.CIRCLE:
      return "circle";
    case exS.CLOUD:
      return "cloud";
    case exS.BANG:
      return "bang";
    case exS.HEXAGON:
      return "hexgon";
    default:
      return "no-border";
  }
}, "type2Str"), exI = iM(() => iz, "getLogger"), exM = iM((e30) => exb[e30], "getElementById"), exN = i$(exm()), exR = iM(function(e30, t10, r10, n10) {
  t10.append("path").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + e30.type2Str(r10.type)).attr("d", `M0 ${r10.height - 5} v${-r10.height + 10} q0,-5 5,-5 h${r10.width - 10} q5,0 5,5 v${r10.height - 5} H0 Z`), t10.append("line").attr("class", "node-line-" + n10).attr("x1", 0).attr("y1", r10.height).attr("x2", r10.width).attr("y2", r10.height);
}, "defaultBkg"), exD = iM(function(e30, t10, r10) {
  t10.append("rect").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + e30.type2Str(r10.type)).attr("height", r10.height).attr("width", r10.width);
}, "rectBkg"), exO = iM(function(e30, t10, r10) {
  let n10 = r10.width, i10 = r10.height, a10 = 0.15 * n10, s10 = 0.25 * n10, o10 = 0.35 * n10, l10 = 0.2 * n10;
  t10.append("path").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + e30.type2Str(r10.type)).attr("d", `M0 0 a${a10},${a10} 0 0,1 ${0.25 * n10},${-1 * n10 * 0.1}
      a${o10},${o10} 1 0,1 ${0.4 * n10},${-1 * n10 * 0.1}
      a${s10},${s10} 1 0,1 ${0.35 * n10},${1 * n10 * 0.2}

      a${a10},${a10} 1 0,1 ${0.15 * n10},${1 * i10 * 0.35}
      a${l10},${l10} 1 0,1 ${-1 * n10 * 0.15},${1 * i10 * 0.65}

      a${s10},${a10} 1 0,1 ${-1 * n10 * 0.25},${0.15 * n10}
      a${o10},${o10} 1 0,1 ${-1 * n10 * 0.5},0
      a${a10},${a10} 1 0,1 ${-1 * n10 * 0.25},${-1 * n10 * 0.15}

      a${a10},${a10} 1 0,1 ${-1 * n10 * 0.1},${-1 * i10 * 0.35}
      a${l10},${l10} 1 0,1 ${0.1 * n10},${-1 * i10 * 0.65}

    H0 V0 Z`);
}, "cloudBkg"), ex$ = iM(function(e30, t10, r10) {
  let n10 = r10.width, i10 = r10.height, a10 = 0.15 * n10;
  t10.append("path").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + e30.type2Str(r10.type)).attr("d", `M0 0 a${a10},${a10} 1 0,0 ${0.25 * n10},${-1 * i10 * 0.1}
      a${a10},${a10} 1 0,0 ${0.25 * n10},0
      a${a10},${a10} 1 0,0 ${0.25 * n10},0
      a${a10},${a10} 1 0,0 ${0.25 * n10},${1 * i10 * 0.1}

      a${a10},${a10} 1 0,0 ${0.15 * n10},${1 * i10 * 0.33}
      a${0.8 * a10},${0.8 * a10} 1 0,0 0,${1 * i10 * 0.34}
      a${a10},${a10} 1 0,0 ${-1 * n10 * 0.15},${1 * i10 * 0.33}

      a${a10},${a10} 1 0,0 ${-1 * n10 * 0.25},${0.15 * i10}
      a${a10},${a10} 1 0,0 ${-1 * n10 * 0.25},0
      a${a10},${a10} 1 0,0 ${-1 * n10 * 0.25},0
      a${a10},${a10} 1 0,0 ${-1 * n10 * 0.25},${-1 * i10 * 0.15}

      a${a10},${a10} 1 0,0 ${-1 * n10 * 0.1},${-1 * i10 * 0.33}
      a${0.8 * a10},${0.8 * a10} 1 0,0 0,${-1 * i10 * 0.34}
      a${a10},${a10} 1 0,0 ${0.1 * n10},${-1 * i10 * 0.33}

    H0 V0 Z`);
}, "bangBkg"), exP = iM(function(e30, t10, r10) {
  t10.append("circle").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + e30.type2Str(r10.type)).attr("r", r10.width / 2);
}, "circleBkg");
function exB(e30, t10, r10, n10, i10) {
  return e30.insert("polygon", ":first-child").attr("points", n10.map(function(e31) {
    return e31.x + "," + e31.y;
  }).join(" ")).attr("transform", "translate(" + (i10.width - t10) / 2 + ", " + r10 + ")");
}
iM(exB, "insertPolygonShape");
var exF = iM(function(e30, t10, r10) {
  let n10 = r10.height, i10 = n10 / 4, a10 = r10.width - r10.padding + 2 * i10, s10 = [{ x: i10, y: 0 }, { x: a10 - i10, y: 0 }, { x: a10, y: -n10 / 2 }, { x: a10 - i10, y: -n10 }, { x: i10, y: -n10 }, { x: 0, y: -n10 / 2 }];
  exB(t10, a10, n10, s10, r10);
}, "hexagonBkg"), exz = iM(function(e30, t10, r10) {
  t10.append("rect").attr("id", "node-" + r10.id).attr("class", "node-bkg node-" + e30.type2Str(r10.type)).attr("height", r10.height).attr("rx", r10.padding).attr("ry", r10.padding).attr("width", r10.width);
}, "roundedRectBkg"), exj = iM(async function(e30, t10, r10, n10, i10) {
  let a10 = i10.htmlLabels, s10 = n10 % 11, o10 = t10.append("g");
  r10.section = s10;
  let l10 = "section-" + s10;
  s10 < 0 && (l10 += " section-root"), o10.attr("class", (r10.class ? r10.class + " " : "") + "mindmap-node " + l10);
  let h10 = o10.append("g"), u10 = o10.append("g"), d10 = r10.descr.replace(/(<br\/*>)/g, "\n");
  await _m(u10, d10, { useHtmlLabels: a10, width: r10.width, classes: "mindmap-node-label" }, i10), a10 || u10.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle");
  let p10 = u10.node().getBBox(), [f10] = k0(i10.fontSize);
  if (r10.height = p10.height + 0.55 * f10 + r10.padding, r10.width = p10.width + 2 * r10.padding, r10.icon) {
    if (r10.type === e30.nodeType.CIRCLE) r10.height += 50, r10.width += 50, o10.append("foreignObject").attr("height", "50px").attr("width", r10.width).attr("style", "text-align: center;").append("div").attr("class", "icon-container").append("i").attr("class", "node-icon-" + s10 + " " + r10.icon), u10.attr("transform", "translate(" + r10.width / 2 + ", " + (r10.height / 2 - 1.5 * r10.padding) + ")");
    else {
      r10.width += 50;
      let e31 = r10.height;
      r10.height = Math.max(e31, 60);
      let t11 = Math.abs(r10.height - e31);
      o10.append("foreignObject").attr("width", "60px").attr("height", r10.height).attr("style", "text-align: center;margin-top:" + t11 / 2 + "px;").append("div").attr("class", "icon-container").append("i").attr("class", "node-icon-" + s10 + " " + r10.icon), u10.attr("transform", "translate(" + (25 + r10.width / 2) + ", " + (t11 / 2 + r10.padding / 2) + ")");
    }
  } else if (a10) {
    let e31 = (r10.width - p10.width) / 2, t11 = (r10.height - p10.height) / 2;
    u10.attr("transform", "translate(" + e31 + ", " + t11 + ")");
  } else {
    let e31 = r10.width / 2, t11 = r10.padding / 2;
    u10.attr("transform", "translate(" + e31 + ", " + t11 + ")");
  }
  switch (r10.type) {
    case e30.nodeType.DEFAULT:
      exR(e30, h10, r10, s10);
      break;
    case e30.nodeType.ROUNDED_RECT:
      exz(e30, h10, r10, s10);
      break;
    case e30.nodeType.RECT:
      exD(e30, h10, r10, s10);
      break;
    case e30.nodeType.CIRCLE:
      h10.attr("transform", "translate(" + r10.width / 2 + ", " + +r10.height / 2 + ")"), exP(e30, h10, r10, s10);
      break;
    case e30.nodeType.CLOUD:
      exO(e30, h10, r10, s10);
      break;
    case e30.nodeType.BANG:
      ex$(e30, h10, r10, s10);
      break;
    case e30.nodeType.HEXAGON:
      exF(e30, h10, r10, s10);
  }
  return e30.setElementForId(r10.id, o10), r10.height;
}, "drawNode"), exq = iM(function(e30, t10) {
  let r10 = e30.getElementById(t10.id), n10 = t10.x || 0, i10 = t10.y || 0;
  r10.attr("transform", "translate(" + n10 + "," + i10 + ")");
}, "positionNode");
async function exU(e30, t10, r10, n10, i10) {
  await exj(e30, t10, r10, n10, i10), r10.children && await Promise.all(r10.children.map((r11, a10) => exU(e30, t10, r11, n10 < 0 ? a10 : n10, i10)));
}
function exW(e30, t10) {
  t10.edges().map((t11, r10) => {
    let n10 = t11.data();
    if (t11[0]._private.bodyBounds) {
      let i10 = t11[0]._private.rscratch;
      iz.trace("Edge: ", r10, n10), e30.insert("path").attr("d", `M ${i10.startX},${i10.startY} L ${i10.midX},${i10.midY} L${i10.endX},${i10.endY} `).attr("class", "edge section-edge-" + n10.section + " edge-depth-" + n10.depth);
    }
  });
}
function exV(e30, t10, r10, n10) {
  t10.add({ group: "nodes", data: { id: e30.id.toString(), labelText: e30.descr, height: e30.height, width: e30.width, level: n10, nodeId: e30.id, padding: e30.padding, type: e30.type }, position: { x: e30.x, y: e30.y } }), e30.children && e30.children.forEach((i10) => {
    exV(i10, t10, r10, n10 + 1), t10.add({ group: "edges", data: { id: `${e30.id}_${i10.id}`, source: e30.id, target: i10.id, depth: n10, section: i10.section } });
  });
}
function exH(e30, t10) {
  return new Promise((r10) => {
    let n10 = c$("body").append("div").attr("id", "cy").attr("style", "display:none"), i10 = exg({ container: document.getElementById("cy"), style: [{ selector: "edge", style: { "curve-style": "bezier" } }] });
    n10.remove(), exV(e30, i10, t10, 0), i10.nodes().forEach(function(e31) {
      e31.layoutDimensions = () => {
        let t11 = e31.data();
        return { w: t11.width, h: t11.height };
      };
    }), i10.layout({ name: "cose-bilkent", quality: "proof", styleEnabled: false, animate: false }).run(), i10.ready((e31) => {
      iz.info("Ready", e31), r10(i10);
    });
  });
}
function exY(e30, t10) {
  t10.nodes().map((t11, r10) => {
    let n10 = t11.data();
    n10.x = t11.position().x, n10.y = t11.position().y, exq(e30, n10);
    let i10 = e30.getElementById(n10.nodeId);
    iz.info("Id:", r10, "Position: (", t11.position().x, ", ", t11.position().y, ")", n10), i10.attr("transform", `translate(${t11.position().x - n10.width / 2}, ${t11.position().y - n10.height / 2})`), i10.attr("attr", `apa-${r10})`);
  });
}
exg.use(exN.default), iM(exU, "drawNodes"), iM(exW, "drawEdges"), iM(exV, "addNodes"), iM(exH, "layoutMindmap"), iM(exY, "positionNodes");
var exG = iM(async (e30, t10, r10, n10) => {
  var i10, a10, s10, o10;
  iz.debug("Rendering mindmap diagram\n" + e30);
  let l10 = n10.db, h10 = l10.getMindmap();
  if (!h10) return;
  let u10 = aj();
  u10.htmlLabels = false;
  let d10 = mg(t10), p10 = d10.append("g");
  p10.attr("class", "mindmap-edges");
  let f10 = d10.append("g");
  f10.attr("class", "mindmap-nodes"), await exU(l10, f10, h10, -1, u10);
  let g10 = await exH(h10, u10);
  exW(p10, g10), exY(l10, g10), oi(void 0, d10, null !== (s10 = null === (i10 = u10.mindmap) || void 0 === i10 ? void 0 : i10.padding) && void 0 !== s10 ? s10 : aC.mindmap.padding, null !== (o10 = null === (a10 = u10.mindmap) || void 0 === a10 ? void 0 : a10.useMaxWidth) && void 0 !== o10 ? o10 : aC.mindmap.useMaxWidth);
}, "draw"), exX = iM((e30) => {
  let t10 = "";
  for (let t11 = 0; t11 < e30.THEME_COLOR_LIMIT; t11++) e30["lineColor" + t11] = e30["lineColor" + t11] || e30["cScaleInv" + t11], aa(e30["lineColor" + t11]) ? e30["lineColor" + t11] = ao(e30["lineColor" + t11], 20) : e30["lineColor" + t11] = al(e30["lineColor" + t11], 20);
  for (let r10 = 0; r10 < e30.THEME_COLOR_LIMIT; r10++) {
    let n10 = "" + (17 - 3 * r10);
    t10 += `
    .section-${r10 - 1} rect, .section-${r10 - 1} path, .section-${r10 - 1} circle, .section-${r10 - 1} polygon, .section-${r10 - 1} path  {
      fill: ${e30["cScale" + r10]};
    }
    .section-${r10 - 1} text {
     fill: ${e30["cScaleLabel" + r10]};
    }
    .node-icon-${r10 - 1} {
      font-size: 40px;
      color: ${e30["cScaleLabel" + r10]};
    }
    .section-edge-${r10 - 1}{
      stroke: ${e30["cScale" + r10]};
    }
    .edge-depth-${r10 - 1}{
      stroke-width: ${n10};
    }
    .section-${r10 - 1} line {
      stroke: ${e30["cScaleInv" + r10]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `;
  }
  return t10;
}, "genSections");
let exK = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { db: { clear: exk, addNode: exT, getMindmap: ex_, nodeType: exS, getType: exC, setElementForId: exE, decorateNode: exA, type2Str: exL, getLogger: exI, getElementById: exM }, renderer: { draw: exG }, parser: exy, styles: iM((e30) => `
  .edge {
    stroke-width: 3;
  }
  ${exX(e30)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e30.git0};
  }
  .section-root text {
    fill: ${e30.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
var exZ = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 4], r10 = [1, 13], n10 = [1, 12], i10 = [1, 15], a10 = [1, 16], s10 = [1, 20], o10 = [1, 19], l10 = [6, 7, 8], h10 = [1, 26], u10 = [1, 24], d10 = [1, 25], p10 = [6, 7, 11], f10 = [1, 31], g10 = [6, 7, 11, 24], y10 = [1, 6, 13, 16, 17, 20, 23], v10 = [1, 35], x10 = [1, 36], b10 = [1, 6, 7, 11, 13, 16, 17, 20, 23], k10 = [1, 38], w10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, mindMap: 4, spaceLines: 5, SPACELINE: 6, NL: 7, KANBAN: 8, document: 9, stop: 10, EOF: 11, statement: 12, SPACELIST: 13, node: 14, shapeData: 15, ICON: 16, CLASS: 17, nodeWithId: 18, nodeWithoutId: 19, NODE_DSTART: 20, NODE_DESCR: 21, NODE_DEND: 22, NODE_ID: 23, SHAPE_DATA: 24, $accept: 0, $end: 1 }, terminals_: { 2: "error", 6: "SPACELINE", 7: "NL", 8: "KANBAN", 11: "EOF", 13: "SPACELIST", 16: "ICON", 17: "CLASS", 20: "NODE_DSTART", 21: "NODE_DESCR", 22: "NODE_DEND", 23: "NODE_ID", 24: "SHAPE_DATA" }, productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 3], [12, 2], [12, 2], [12, 2], [12, 1], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [19, 3], [18, 1], [18, 4], [15, 2], [15, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 6:
      case 7:
        return n11;
      case 8:
        n11.getLogger().trace("Stop NL ");
        break;
      case 9:
        n11.getLogger().trace("Stop EOF ");
        break;
      case 11:
        n11.getLogger().trace("Stop NL2 ");
        break;
      case 12:
        n11.getLogger().trace("Stop EOF2 ");
        break;
      case 15:
        n11.getLogger().info("Node: ", a11[o11 - 1].id), n11.addNode(a11[o11 - 2].length, a11[o11 - 1].id, a11[o11 - 1].descr, a11[o11 - 1].type, a11[o11]);
        break;
      case 16:
        n11.getLogger().info("Node: ", a11[o11].id), n11.addNode(a11[o11 - 1].length, a11[o11].id, a11[o11].descr, a11[o11].type);
        break;
      case 17:
        n11.getLogger().trace("Icon: ", a11[o11]), n11.decorateNode({ icon: a11[o11] });
        break;
      case 18:
      case 23:
        n11.decorateNode({ class: a11[o11] });
        break;
      case 19:
        n11.getLogger().trace("SPACELIST");
        break;
      case 20:
        n11.getLogger().trace("Node: ", a11[o11 - 1].id), n11.addNode(0, a11[o11 - 1].id, a11[o11 - 1].descr, a11[o11 - 1].type, a11[o11]);
        break;
      case 21:
        n11.getLogger().trace("Node: ", a11[o11].id), n11.addNode(0, a11[o11].id, a11[o11].descr, a11[o11].type);
        break;
      case 22:
        n11.decorateNode({ icon: a11[o11] });
        break;
      case 27:
        n11.getLogger().trace("node found ..", a11[o11 - 2]), this.$ = { id: a11[o11 - 1], descr: a11[o11 - 1], type: n11.getType(a11[o11 - 2], a11[o11]) };
        break;
      case 28:
        this.$ = { id: a11[o11], descr: a11[o11], type: 0 };
        break;
      case 29:
        n11.getLogger().trace("node found ..", a11[o11 - 3]), this.$ = { id: a11[o11 - 3], descr: a11[o11 - 1], type: n11.getType(a11[o11 - 2], a11[o11]) };
        break;
      case 30:
        this.$ = a11[o11 - 1] + a11[o11];
        break;
      case 31:
        this.$ = a11[o11];
    }
  }, "anonymous"), table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: t10 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: t10 }, { 6: r10, 7: [1, 10], 9: 9, 12: 11, 13: n10, 14: 14, 16: i10, 17: a10, 18: 17, 19: 18, 20: s10, 23: o10 }, e30(l10, [2, 3]), { 1: [2, 2] }, e30(l10, [2, 4]), e30(l10, [2, 5]), { 1: [2, 6], 6: r10, 12: 21, 13: n10, 14: 14, 16: i10, 17: a10, 18: 17, 19: 18, 20: s10, 23: o10 }, { 6: r10, 9: 22, 12: 11, 13: n10, 14: 14, 16: i10, 17: a10, 18: 17, 19: 18, 20: s10, 23: o10 }, { 6: h10, 7: u10, 10: 23, 11: d10 }, e30(p10, [2, 24], { 18: 17, 19: 18, 14: 27, 16: [1, 28], 17: [1, 29], 20: s10, 23: o10 }), e30(p10, [2, 19]), e30(p10, [2, 21], { 15: 30, 24: f10 }), e30(p10, [2, 22]), e30(p10, [2, 23]), e30(g10, [2, 25]), e30(g10, [2, 26]), e30(g10, [2, 28], { 20: [1, 32] }), { 21: [1, 33] }, { 6: h10, 7: u10, 10: 34, 11: d10 }, { 1: [2, 7], 6: r10, 12: 21, 13: n10, 14: 14, 16: i10, 17: a10, 18: 17, 19: 18, 20: s10, 23: o10 }, e30(y10, [2, 14], { 7: v10, 11: x10 }), e30(b10, [2, 8]), e30(b10, [2, 9]), e30(b10, [2, 10]), e30(p10, [2, 16], { 15: 37, 24: f10 }), e30(p10, [2, 17]), e30(p10, [2, 18]), e30(p10, [2, 20], { 24: k10 }), e30(g10, [2, 31]), { 21: [1, 39] }, { 22: [1, 40] }, e30(y10, [2, 13], { 7: v10, 11: x10 }), e30(b10, [2, 11]), e30(b10, [2, 12]), e30(p10, [2, 15], { 24: k10 }), e30(g10, [2, 30]), { 22: [1, 41] }, e30(g10, [2, 27]), e30(g10, [2, 29])], defaultActions: { 2: [2, 1], 6: [2, 2] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k11, w11, _11, T11, S10, C10, E10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k11 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k11 = s11[b11] && s11[b11][x11]), void 0 === k11 || !k11.length || !k11[0]) {
        var A10 = "";
        for (_11 in C10 = [], s11[b11]) this.terminals_[_11] && _11 > 2 && C10.push("'" + this.terminals_[_11] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C10 });
      }
      if (k11[0] instanceof Array && k11.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k11[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k11[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T11 = this.productions_[k11[1]][1], E10.$ = i11[i11.length - T11], E10._$ = { first_line: a11[a11.length - (T11 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T11 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E10._$.range = [a11[a11.length - (T11 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w11 = this.performAction.apply(E10, [o11, h11, l11, p11.yy, k11[1], i11, a11].concat(u11)))) return w11;
          T11 && (r11 = r11.slice(0, -1 * T11 * 2), i11 = i11.slice(0, -1 * T11), a11 = a11.slice(0, -1 * T11)), r11.push(this.productions_[k11[1]][0]), i11.push(E10.$), a11.push(E10._$), S10 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, _10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return this.pushState("shapeData"), t11.yytext = "", 24;
      case 1:
        return this.pushState("shapeDataStr"), 24;
      case 2:
        return this.popState(), 24;
      case 3:
        return t11.yytext = t11.yytext.replace(/\n\s*/g, "<br/>"), 24;
      case 4:
        return 24;
      case 5:
      case 10:
      case 29:
      case 32:
        this.popState();
        break;
      case 6:
        return e31.getLogger().trace("Found comment", t11.yytext), 6;
      case 7:
        return 8;
      case 8:
        this.begin("CLASS");
        break;
      case 9:
        return this.popState(), 17;
      case 11:
        e31.getLogger().trace("Begin icon"), this.begin("ICON");
        break;
      case 12:
        return e31.getLogger().trace("SPACELINE"), 6;
      case 13:
        return 7;
      case 14:
        return 16;
      case 15:
        e31.getLogger().trace("end icon"), this.popState();
        break;
      case 16:
        return e31.getLogger().trace("Exploding node"), this.begin("NODE"), 20;
      case 17:
        return e31.getLogger().trace("Cloud"), this.begin("NODE"), 20;
      case 18:
        return e31.getLogger().trace("Explosion Bang"), this.begin("NODE"), 20;
      case 19:
        return e31.getLogger().trace("Cloud Bang"), this.begin("NODE"), 20;
      case 20:
      case 21:
      case 22:
      case 23:
        return this.begin("NODE"), 20;
      case 24:
        return 13;
      case 25:
        return 23;
      case 26:
        return 11;
      case 27:
        this.begin("NSTR2");
        break;
      case 28:
        return "NODE_DESCR";
      case 30:
        e31.getLogger().trace("Starting NSTR"), this.begin("NSTR");
        break;
      case 31:
        return e31.getLogger().trace("description:", t11.yytext), "NODE_DESCR";
      case 33:
        return this.popState(), e31.getLogger().trace("node end ))"), "NODE_DEND";
      case 34:
        return this.popState(), e31.getLogger().trace("node end )"), "NODE_DEND";
      case 35:
        return this.popState(), e31.getLogger().trace("node end ...", t11.yytext), "NODE_DEND";
      case 36:
      case 39:
      case 40:
        return this.popState(), e31.getLogger().trace("node end (("), "NODE_DEND";
      case 37:
      case 38:
        return this.popState(), e31.getLogger().trace("node end (-"), "NODE_DEND";
      case 41:
      case 42:
        return e31.getLogger().trace("Long description:", t11.yytext), 21;
    }
  }, "anonymous"), rules: [/^(?:@\{)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^\"]+)/i, /^(?:[^}^"]+)/i, /^(?:\})/i, /^(?:\s*%%.*)/i, /^(?:kanban\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\n)/i, /^(?:::icon\()/i, /^(?:[\s]+[\n])/i, /^(?:[\n]+)/i, /^(?:[^\)]+)/i, /^(?:\))/i, /^(?:-\))/i, /^(?:\(-)/i, /^(?:\)\))/i, /^(?:\))/i, /^(?:\(\()/i, /^(?:\{\{)/i, /^(?:\()/i, /^(?:\[)/i, /^(?:[\s]+)/i, /^(?:[^\(\[\n\)\{\}@]+)/i, /^(?:$)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:[^"]+)/i, /^(?:["])/i, /^(?:[\)]\))/i, /^(?:[\)])/i, /^(?:[\]])/i, /^(?:\}\})/i, /^(?:\(-)/i, /^(?:-\))/i, /^(?:\(\()/i, /^(?:\()/i, /^(?:[^\)\]\(\}]+)/i, /^(?:.+(?!\(\())/i], conditions: { shapeDataEndBracket: { rules: [], inclusive: false }, shapeDataStr: { rules: [2, 3], inclusive: false }, shapeData: { rules: [1, 4, 5], inclusive: false }, CLASS: { rules: [9, 10], inclusive: false }, ICON: { rules: [14, 15], inclusive: false }, NSTR2: { rules: [28, 29], inclusive: false }, NSTR: { rules: [31, 32], inclusive: false }, NODE: { rules: [27, 30, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42], inclusive: false }, INITIAL: { rules: [0, 6, 7, 8, 11, 12, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26], inclusive: true } } };
  function T10() {
    this.yy = {};
  }
  return w10.lexer = _10, iM(T10, "Parser"), T10.prototype = w10, w10.Parser = T10, new T10();
}();
exZ.parser = exZ;
var exQ = [], exJ = [], ex0 = 0, ex1 = {}, ex2 = iM(() => {
  exQ = [], exJ = [], ex0 = 0, ex1 = {};
}, "clear"), ex4 = iM((e30) => {
  if (0 === exQ.length) return null;
  let t10 = exQ[0].level, r10 = null;
  for (let e31 = exQ.length - 1; e31 >= 0; e31--) if (exQ[e31].level !== t10 || r10 || (r10 = exQ[e31]), exQ[e31].level < t10) throw Error('Items without section detected, found section ("' + exQ[e31].label + '")');
  return e30 === (null == r10 ? void 0 : r10.level) ? null : r10;
}, "getSection"), ex3 = iM(function() {
  return exJ;
}, "getSections"), ex5 = iM(function() {
  let e30 = [], t10 = ex3(), r10 = aj();
  for (let a10 of t10) {
    var n10, i10;
    let t11 = { id: a10.id, label: sV(null !== (n10 = a10.label) && void 0 !== n10 ? n10 : "", r10), isGroup: true, ticket: a10.ticket, shape: "kanbanSection", level: a10.level, look: r10.look };
    for (let n11 of (e30.push(t11), exQ.filter((e31) => e31.parentId === a10.id))) {
      let t12 = { id: n11.id, parentId: a10.id, label: sV(null !== (i10 = n11.label) && void 0 !== i10 ? i10 : "", r10), isGroup: false, ticket: null == n11 ? void 0 : n11.ticket, priority: null == n11 ? void 0 : n11.priority, assigned: null == n11 ? void 0 : n11.assigned, icon: null == n11 ? void 0 : n11.icon, shape: "kanbanItem", level: n11.level, rx: 5, ry: 5, cssStyles: ["text-align: left"] };
      e30.push(t12);
    }
  }
  return { nodes: e30, edges: [], other: {}, config: aj() };
}, "getData"), ex6 = iM((e30, t10, r10, n10, i10) => {
  var a10, s10, o10, l10;
  let h10 = aj(), u10 = null !== (o10 = null === (a10 = h10.mindmap) || void 0 === a10 ? void 0 : a10.padding) && void 0 !== o10 ? o10 : aC.mindmap.padding;
  switch (n10) {
    case ex7.ROUNDED_RECT:
    case ex7.RECT:
    case ex7.HEXAGON:
      u10 *= 2;
  }
  let d10 = { id: sV(t10, h10) || "kbn" + ex0++, level: e30, label: sV(r10, h10), width: null !== (l10 = null === (s10 = h10.mindmap) || void 0 === s10 ? void 0 : s10.maxNodeWidth) && void 0 !== l10 ? l10 : aC.mindmap.maxNodeWidth, padding: u10, isGroup: false };
  if (void 0 !== i10) {
    let e31 = ve(i10.includes("\n") ? i10 + "\n" : "{\n" + i10 + "\n}", { schema: m2 });
    if (e31.shape && (e31.shape !== e31.shape.toLowerCase() || e31.shape.includes("_"))) throw Error(`No such shape: ${e31.shape}. Shape names should be lowercase.`);
    (null == e31 ? void 0 : e31.shape) && "kanbanItem" === e31.shape && (d10.shape = null == e31 ? void 0 : e31.shape), (null == e31 ? void 0 : e31.label) && (d10.label = null == e31 ? void 0 : e31.label), (null == e31 ? void 0 : e31.icon) && (d10.icon = null == e31 ? void 0 : e31.icon.toString()), (null == e31 ? void 0 : e31.assigned) && (d10.assigned = null == e31 ? void 0 : e31.assigned.toString()), (null == e31 ? void 0 : e31.ticket) && (d10.ticket = null == e31 ? void 0 : e31.ticket.toString()), (null == e31 ? void 0 : e31.priority) && (d10.priority = null == e31 ? void 0 : e31.priority);
  }
  let p10 = ex4(e30);
  p10 ? d10.parentId = p10.id || "kbn" + ex0++ : exJ.push(d10), exQ.push(d10);
}, "addNode"), ex7 = { DEFAULT: 0, NO_BORDER: 0, ROUNDED_RECT: 1, RECT: 2, CIRCLE: 3, CLOUD: 4, BANG: 5, HEXAGON: 6 }, ex8 = iM((e30, t10) => {
  switch (iz.debug("In get type", e30, t10), e30) {
    case "[":
      return ex7.RECT;
    case "(":
      return ")" === t10 ? ex7.ROUNDED_RECT : ex7.CLOUD;
    case "((":
      return ex7.CIRCLE;
    case ")":
      return ex7.CLOUD;
    case "))":
      return ex7.BANG;
    case "{{":
      return ex7.HEXAGON;
    default:
      return ex7.DEFAULT;
  }
}, "getType"), ex9 = iM((e30, t10) => {
  ex1[e30] = t10;
}, "setElementForId"), ebe = iM((e30) => {
  if (!e30) return;
  let t10 = aj(), r10 = exQ[exQ.length - 1];
  e30.icon && (r10.icon = sV(e30.icon, t10)), e30.class && (r10.cssClasses = sV(e30.class, t10));
}, "decorateNode"), ebt = iM((e30) => {
  switch (e30) {
    case ex7.DEFAULT:
      return "no-border";
    case ex7.RECT:
      return "rect";
    case ex7.ROUNDED_RECT:
      return "rounded-rect";
    case ex7.CIRCLE:
      return "circle";
    case ex7.CLOUD:
      return "cloud";
    case ex7.BANG:
      return "bang";
    case ex7.HEXAGON:
      return "hexgon";
    default:
      return "no-border";
  }
}, "type2Str"), ebr = iM(() => iz, "getLogger"), ebn = iM((e30) => ex1[e30], "getElementById"), ebi = iM(async (e30, t10, r10, n10) => {
  var i10, a10, s10, o10, l10, h10, u10;
  iz.debug("Rendering kanban diagram\n" + e30);
  let d10 = n10.db.getData(), p10 = aj();
  p10.htmlLabels = false;
  let f10 = mg(t10), g10 = f10.append("g");
  g10.attr("class", "sections");
  let y10 = f10.append("g");
  y10.attr("class", "items");
  let v10 = d10.nodes.filter((e31) => e31.isGroup), x10 = 0, b10 = [], k10 = 25;
  for (let e31 of v10) {
    let t11 = (null == p10 ? void 0 : null === (s10 = p10.kanban) || void 0 === s10 ? void 0 : s10.sectionWidth) || 200;
    x10 += 1, e31.x = t11 * x10 + (x10 - 1) * 10 / 2, e31.width = t11, e31.y = 0, e31.height = 3 * t11, e31.rx = 5, e31.ry = 5, e31.cssClasses = e31.cssClasses + " section-" + x10;
    let r11 = await TR(g10, e31);
    k10 = Math.max(k10, null == r11 ? void 0 : null === (o10 = r11.labelBBox) || void 0 === o10 ? void 0 : o10.height), b10.push(r11);
  }
  let w10 = 0;
  for (let e31 of v10) {
    let t11 = b10[w10];
    w10 += 1;
    let r11 = (null == p10 ? void 0 : null === (l10 = p10.kanban) || void 0 === l10 ? void 0 : l10.sectionWidth) || 200, n11 = -(3 * r11) / 2 + k10, i11 = n11;
    for (let t12 of d10.nodes.filter((t13) => t13.parentId === e31.id)) {
      if (t12.isGroup) throw Error("Groups within groups are not allowed in Kanban diagrams");
      t12.x = e31.x, t12.width = r11 - 15;
      let n12 = (await S6(y10, t12, { config: p10 })).node().getBBox();
      t12.y = i11 + n12.height / 2, await S9(t12), i11 = t12.y + n12.height / 2 + 5;
    }
    let a11 = t11.cluster.select("rect"), s11 = Math.max(i11 - n11 + 30, 50) + (k10 - 25);
    a11.attr("height", s11);
  }
  oi(void 0, f10, null !== (h10 = null === (i10 = p10.mindmap) || void 0 === i10 ? void 0 : i10.padding) && void 0 !== h10 ? h10 : aC.kanban.padding, null !== (u10 = null === (a10 = p10.mindmap) || void 0 === a10 ? void 0 : a10.useMaxWidth) && void 0 !== u10 ? u10 : aC.kanban.useMaxWidth);
}, "draw"), eba = iM((e30) => {
  let t10 = "";
  for (let t11 = 0; t11 < e30.THEME_COLOR_LIMIT; t11++) e30["lineColor" + t11] = e30["lineColor" + t11] || e30["cScaleInv" + t11], aa(e30["lineColor" + t11]) ? e30["lineColor" + t11] = ao(e30["lineColor" + t11], 20) : e30["lineColor" + t11] = al(e30["lineColor" + t11], 20);
  let r10 = iM((t11, r11) => e30.darkMode ? al(t11, r11) : ao(t11, r11), "adjuster");
  for (let n10 = 0; n10 < e30.THEME_COLOR_LIMIT; n10++) {
    let i10 = "" + (17 - 3 * n10);
    t10 += `
    .section-${n10 - 1} rect, .section-${n10 - 1} path, .section-${n10 - 1} circle, .section-${n10 - 1} polygon, .section-${n10 - 1} path  {
      fill: ${r10(e30["cScale" + n10], 10)};
      stroke: ${r10(e30["cScale" + n10], 10)};

    }
    .section-${n10 - 1} text {
     fill: ${e30["cScaleLabel" + n10]};
    }
    .node-icon-${n10 - 1} {
      font-size: 40px;
      color: ${e30["cScaleLabel" + n10]};
    }
    .section-edge-${n10 - 1}{
      stroke: ${e30["cScale" + n10]};
    }
    .edge-depth-${n10 - 1}{
      stroke-width: ${i10};
    }
    .section-${n10 - 1} line {
      stroke: ${e30["cScaleInv" + n10]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e30.background};
    stroke: ${e30.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e30.background};
    stroke: ${e30.nodeBorder};
    text-decoration: underline;
  }
    `;
  }
  return t10;
}, "genSections");
let ebs = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { db: { clear: ex2, addNode: ex6, getSections: ex3, getData: ex5, nodeType: ex7, getType: ex8, setElementForId: ex9, decorateNode: ebe, type2Str: ebt, getLogger: ebr, getElementById: ebn }, renderer: { draw: ebi }, parser: exZ, styles: iM((e30) => `
  .edge {
    stroke-width: 3;
  }
  ${eba(e30)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e30.git0};
  }
  .section-root text {
    fill: ${e30.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e30.textColor};
    fill: ${e30.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`, "getStyles") } }, Symbol.toStringTag, { value: "Module" }));
var ebo = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 9], r10 = [1, 10], n10 = [1, 5, 10, 12], i10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, start: 3, SANKEY: 4, NEWLINE: 5, csv: 6, opt_eof: 7, record: 8, csv_tail: 9, EOF: 10, "field[source]": 11, COMMA: 12, "field[target]": 13, "field[value]": 14, field: 15, escaped: 16, non_escaped: 17, DQUOTE: 18, ESCAPED_TEXT: 19, NON_ESCAPED_TEXT: 20, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SANKEY", 5: "NEWLINE", 10: "EOF", 11: "field[source]", 12: "COMMA", 13: "field[target]", 14: "field[value]", 18: "DQUOTE", 19: "ESCAPED_TEXT", 20: "NON_ESCAPED_TEXT" }, productions_: [0, [3, 4], [6, 2], [9, 2], [9, 0], [7, 1], [7, 0], [8, 5], [15, 1], [15, 1], [16, 3], [17, 1]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o10 = a11.length - 1;
    switch (i11) {
      case 7:
        let l10 = n11.findOrCreateNode(a11[o10 - 4].trim().replaceAll('""', '"')), h10 = n11.findOrCreateNode(a11[o10 - 2].trim().replaceAll('""', '"')), u10 = parseFloat(a11[o10].trim());
        n11.addLink(l10, h10, u10);
        break;
      case 8:
      case 9:
      case 11:
        this.$ = a11[o10];
        break;
      case 10:
        this.$ = a11[o10 - 1];
    }
  }, "anonymous"), table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, { 5: [1, 3] }, { 6: 4, 8: 5, 15: 6, 16: 7, 17: 8, 18: t10, 20: r10 }, { 1: [2, 6], 7: 11, 10: [1, 12] }, e30(r10, [2, 4], { 9: 13, 5: [1, 14] }), { 12: [1, 15] }, e30(n10, [2, 8]), e30(n10, [2, 9]), { 19: [1, 16] }, e30(n10, [2, 11]), { 1: [2, 1] }, { 1: [2, 5] }, e30(r10, [2, 2]), { 6: 17, 8: 5, 15: 6, 16: 7, 17: 8, 18: t10, 20: r10 }, { 15: 18, 16: 7, 17: 8, 18: t10, 20: r10 }, { 18: [1, 19] }, e30(r10, [2, 3]), { 12: [1, 20] }, e30(n10, [2, 10]), { 15: 21, 16: 7, 17: 8, 18: t10, 20: r10 }, e30([1, 5, 10], [2, 7])], defaultActions: { 11: [2, 1], 12: [2, 5] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o10 = "", l10 = 0, h10 = 0, u10 = a11.slice.call(arguments, 1), d10 = Object.create(this.lexer), p10 = { yy: {} };
    for (var f10 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f10) && (p10.yy[f10] = this.yy[f10]);
    d10.setInput(e31, p10.yy), p10.yy.lexer = d10, p10.yy.parser = this, void 0 === d10.yylloc && (d10.yylloc = {});
    var g10 = d10.yylloc;
    a11.push(g10);
    var y10 = d10.options && d10.options.ranges;
    function v10() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d10.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p10.yy.parseError ? this.parseError = p10.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v10, "lex");
    for (var x10, b10, k10, w10, _10, T10, S10, C10, E10 = {}; ; ) {
      if (b10 = r11[r11.length - 1], this.defaultActions[b10] ? k10 = this.defaultActions[b10] : (null == x10 && (x10 = v10()), k10 = s11[b10] && s11[b10][x10]), void 0 === k10 || !k10.length || !k10[0]) {
        var A10 = "";
        for (_10 in C10 = [], s11[b10]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d10.showPosition ? "Parse error on line " + (l10 + 1) + ":\n" + d10.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x10] || x10) + "'" : "Parse error on line " + (l10 + 1) + ": Unexpected " + (1 == x10 ? "end of input" : "'" + (this.terminals_[x10] || x10) + "'"), this.parseError(A10, { text: d10.match, token: this.terminals_[x10] || x10, line: d10.yylineno, loc: g10, expected: C10 });
      }
      if (k10[0] instanceof Array && k10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b10 + ", token: " + x10);
      switch (k10[0]) {
        case 1:
          r11.push(x10), i11.push(d10.yytext), a11.push(d10.yylloc), r11.push(k10[1]), x10 = null, h10 = d10.yyleng, o10 = d10.yytext, l10 = d10.yylineno, g10 = d10.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[k10[1]][1], E10.$ = i11[i11.length - T10], E10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y10 && (E10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w10 = this.performAction.apply(E10, [o10, h10, l10, p10.yy, k10[1], i11, a11].concat(u10)))) return w10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), i11 = i11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[k10[1]][0]), i11.push(E10.$), a11.push(E10._$), S10 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, a10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: { "case-insensitive": true }, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return this.pushState("csv"), 4;
      case 1:
        return 10;
      case 2:
        return 5;
      case 3:
        return 12;
      case 4:
        return this.pushState("escaped_text"), 18;
      case 5:
        return 20;
      case 6:
        return this.popState("escaped_text"), 18;
      case 7:
        return 19;
    }
  }, "anonymous"), rules: [/^(?:sankey-beta\b)/i, /^(?:$)/i, /^(?:((\u000D\u000A)|(\u000A)))/i, /^(?:(\u002C))/i, /^(?:(\u0022))/i, /^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i, /^(?:(\u0022)(?!(\u0022)))/i, /^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i], conditions: { csv: { rules: [1, 2, 3, 4, 5, 6, 7], inclusive: false }, escaped_text: { rules: [6, 7], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7], inclusive: true } } };
  function s10() {
    this.yy = {};
  }
  return i10.lexer = a10, iM(s10, "Parser"), s10.prototype = i10, i10.Parser = s10, new s10();
}();
ebo.parser = ebo;
var ebl = [], ebc = [], ebh = /* @__PURE__ */ new Map(), ebu = iM(() => {
  ebl = [], ebc = [], ebh = /* @__PURE__ */ new Map(), op();
}, "clear"), ebd = (_Pc = class {
  constructor(e30, t10, r10 = 0) {
    this.source = e30, this.target = t10, this.value = r10;
  }
}, _i206 = new WeakMap(), __privateAdd(_Pc, _i206, iM(_Pc, "SankeyLink")), _Pc), ebp = iM((e30, t10, r10) => {
  ebl.push(new ebd(e30, t10, r10));
}, "addLink"), ebf = (_Qc = class {
  constructor(e30) {
    this.ID = e30;
  }
}, _i207 = new WeakMap(), __privateAdd(_Qc, _i207, iM(_Qc, "SankeyNode")), _Qc), ebg = iM((e30) => {
  e30 = oe.sanitizeText(e30, aj());
  let t10 = ebh.get(e30);
  return void 0 === t10 && (t10 = new ebf(e30), ebh.set(e30, t10), ebc.push(t10)), t10;
}, "findOrCreateNode"), ebm = iM(() => ebc, "getNodes"), eby = iM(() => ebl, "getLinks"), ebv = iM(() => ({ nodes: ebc.map((e30) => ({ id: e30.ID })), links: ebl.map((e30) => ({ source: e30.source.ID, target: e30.target.ID, value: e30.value })) }), "getGraph"), ebx = { nodesMap: ebh, getConfig: iM(() => aj().sankey, "getConfig"), getNodes: ebm, getLinks: eby, getGraph: ebv, addLink: ebp, findOrCreateNode: ebg, getAccTitle: og, setAccTitle: of, getAccDescription: oy, setAccDescription: om, getDiagramTitle: ox, setDiagramTitle: ov, clear: ebu };
function ebb(e30, t10) {
  let r10;
  if (void 0 === t10) for (let t11 of e30) null != t11 && (r10 < t11 || void 0 === r10 && t11 >= t11) && (r10 = t11);
  else {
    let n10 = -1;
    for (let i10 of e30) null != (i10 = t10(i10, ++n10, e30)) && (r10 < i10 || void 0 === r10 && i10 >= i10) && (r10 = i10);
  }
  return r10;
}
function ebk(e30, t10) {
  let r10;
  if (void 0 === t10) for (let t11 of e30) null != t11 && (r10 > t11 || void 0 === r10 && t11 >= t11) && (r10 = t11);
  else {
    let n10 = -1;
    for (let i10 of e30) null != (i10 = t10(i10, ++n10, e30)) && (r10 > i10 || void 0 === r10 && i10 >= i10) && (r10 = i10);
  }
  return r10;
}
function ebw(e30, t10) {
  let r10 = 0;
  if (void 0 === t10) for (let t11 of e30) (t11 = +t11) && (r10 += t11);
  else {
    let n10 = -1;
    for (let i10 of e30) (i10 = +t10(i10, ++n10, e30)) && (r10 += i10);
  }
  return r10;
}
function eb_(e30) {
  return e30.target.depth;
}
function ebT(e30) {
  return e30.depth;
}
function ebS(e30, t10) {
  return t10 - 1 - e30.height;
}
function ebC(e30, t10) {
  return e30.sourceLinks.length ? e30.depth : t10 - 1;
}
function ebE(e30) {
  return e30.targetLinks.length ? e30.depth : e30.sourceLinks.length ? ebk(e30.sourceLinks, eb_) - 1 : 0;
}
function ebA(e30) {
  return function() {
    return e30;
  };
}
function ebL(e30, t10) {
  return ebM(e30.source, t10.source) || e30.index - t10.index;
}
function ebI(e30, t10) {
  return ebM(e30.target, t10.target) || e30.index - t10.index;
}
function ebM(e30, t10) {
  return e30.y0 - t10.y0;
}
function ebN(e30) {
  return e30.value;
}
function ebR(e30) {
  return e30.index;
}
function ebD(e30) {
  return e30.nodes;
}
function ebO(e30) {
  return e30.links;
}
function eb$(e30, t10) {
  let r10 = e30.get(t10);
  if (!r10) throw Error("missing: " + t10);
  return r10;
}
function ebP(e30) {
  let { nodes: t10 } = e30;
  for (let e31 of t10) {
    let t11 = e31.y0, r10 = t11;
    for (let r11 of e31.sourceLinks) r11.y0 = t11 + r11.width / 2, t11 += r11.width;
    for (let t12 of e31.targetLinks) t12.y1 = r10 + t12.width / 2, r10 += t12.width;
  }
}
function ebB() {
  let e30, t10, r10 = 0, n10 = 0, i10 = 1, a10 = 1, s10 = 24, o10 = 8, l10, h10 = ebR, u10 = ebC, d10 = ebD, p10 = ebO, f10 = 6;
  function g10() {
    let e31 = { nodes: d10.apply(null, arguments), links: p10.apply(null, arguments) };
    return y10(e31), v10(e31), x10(e31), b10(e31), _10(e31), ebP(e31), e31;
  }
  function y10(e31) {
    let { nodes: r11, links: n11 } = e31;
    for (let [e32, t11] of r11.entries()) t11.index = e32, t11.sourceLinks = [], t11.targetLinks = [];
    let i11 = new Map(r11.map((e32, t11) => [h10(e32, t11, r11), e32]));
    for (let [e32, t11] of n11.entries()) {
      t11.index = e32;
      let { source: r12, target: n12 } = t11;
      "object" != typeof r12 && (r12 = t11.source = eb$(i11, r12)), "object" != typeof n12 && (n12 = t11.target = eb$(i11, n12)), r12.sourceLinks.push(t11), n12.targetLinks.push(t11);
    }
    if (null != t10) for (let { sourceLinks: e32, targetLinks: n12 } of r11) e32.sort(t10), n12.sort(t10);
  }
  function v10(e31) {
    let { nodes: t11 } = e31;
    for (let e32 of t11) e32.value = void 0 === e32.fixedValue ? Math.max(ebw(e32.sourceLinks, ebN), ebw(e32.targetLinks, ebN)) : e32.fixedValue;
  }
  function x10(e31) {
    let { nodes: t11 } = e31, r11 = t11.length, n11 = new Set(t11), i11 = /* @__PURE__ */ new Set(), a11 = 0;
    for (; n11.size; ) {
      for (let e32 of n11) for (let { target: t12 } of (e32.depth = a11, e32.sourceLinks)) i11.add(t12);
      if (++a11 > r11) throw Error("circular link");
      n11 = i11, i11 = /* @__PURE__ */ new Set();
    }
  }
  function b10(e31) {
    let { nodes: t11 } = e31, r11 = t11.length, n11 = new Set(t11), i11 = /* @__PURE__ */ new Set(), a11 = 0;
    for (; n11.size; ) {
      for (let e32 of n11) for (let { source: t12 } of (e32.height = a11, e32.targetLinks)) i11.add(t12);
      if (++a11 > r11) throw Error("circular link");
      n11 = i11, i11 = /* @__PURE__ */ new Set();
    }
  }
  function k10(t11) {
    let { nodes: n11 } = t11, a11 = ebb(n11, (e31) => e31.depth) + 1, o11 = (i10 - r10 - s10) / (a11 - 1), l11 = Array(a11);
    for (let e31 of n11) {
      let t12 = Math.max(0, Math.min(a11 - 1, Math.floor(u10.call(null, e31, a11))));
      e31.layer = t12, e31.x0 = r10 + t12 * o11, e31.x1 = e31.x0 + s10, l11[t12] ? l11[t12].push(e31) : l11[t12] = [e31];
    }
    if (e30) for (let t12 of l11) t12.sort(e30);
    return l11;
  }
  function w10(e31) {
    let t11 = ebk(e31, (e32) => (a10 - n10 - (e32.length - 1) * l10) / ebw(e32, ebN));
    for (let r11 of e31) {
      let e32 = n10;
      for (let n11 of r11) for (let r12 of (n11.y0 = e32, n11.y1 = e32 + n11.value * t11, e32 = n11.y1 + l10, n11.sourceLinks)) r12.width = r12.value * t11;
      e32 = (a10 - e32 + l10) / (r11.length + 1);
      for (let t12 = 0; t12 < r11.length; ++t12) {
        let n11 = r11[t12];
        n11.y0 += e32 * (t12 + 1), n11.y1 += e32 * (t12 + 1);
      }
      I10(r11);
    }
  }
  function _10(e31) {
    let t11 = k10(e31);
    l10 = Math.min(o10, (a10 - n10) / (ebb(t11, (e32) => e32.length) - 1)), w10(t11);
    for (let e32 = 0; e32 < f10; ++e32) {
      let r11 = Math.pow(0.99, e32), n11 = Math.max(1 - r11, (e32 + 1) / f10);
      S10(t11, r11, n11), T10(t11, r11, n11);
    }
  }
  function T10(t11, r11, n11) {
    for (let i11 = 1, a11 = t11.length; i11 < a11; ++i11) {
      let a12 = t11[i11];
      for (let e31 of a12) {
        let t12 = 0, n12 = 0;
        for (let { source: r12, value: i13 } of e31.targetLinks) {
          let a13 = i13 * (e31.layer - r12.layer);
          t12 += M10(r12, e31) * a13, n12 += a13;
        }
        if (!(n12 > 0)) continue;
        let i12 = (t12 / n12 - e31.y0) * r11;
        e31.y0 += i12, e31.y1 += i12, L10(e31);
      }
      void 0 === e30 && a12.sort(ebM), C10(a12, n11);
    }
  }
  function S10(t11, r11, n11) {
    for (let i11 = t11.length, a11 = i11 - 2; a11 >= 0; --a11) {
      let i12 = t11[a11];
      for (let e31 of i12) {
        let t12 = 0, n12 = 0;
        for (let { target: r12, value: i14 } of e31.sourceLinks) {
          let a12 = i14 * (r12.layer - e31.layer);
          t12 += N10(e31, r12) * a12, n12 += a12;
        }
        if (!(n12 > 0)) continue;
        let i13 = (t12 / n12 - e31.y0) * r11;
        e31.y0 += i13, e31.y1 += i13, L10(e31);
      }
      void 0 === e30 && i12.sort(ebM), C10(i12, n11);
    }
  }
  function C10(e31, t11) {
    let r11 = e31.length >> 1, i11 = e31[r11];
    A10(e31, i11.y0 - l10, r11 - 1, t11), E10(e31, i11.y1 + l10, r11 + 1, t11), A10(e31, a10, e31.length - 1, t11), E10(e31, n10, 0, t11);
  }
  function E10(e31, t11, r11, n11) {
    for (; r11 < e31.length; ++r11) {
      let i11 = e31[r11], a11 = (t11 - i11.y0) * n11;
      a11 > 1e-6 && (i11.y0 += a11, i11.y1 += a11), t11 = i11.y1 + l10;
    }
  }
  function A10(e31, t11, r11, n11) {
    for (; r11 >= 0; --r11) {
      let i11 = e31[r11], a11 = (i11.y1 - t11) * n11;
      a11 > 1e-6 && (i11.y0 -= a11, i11.y1 -= a11), t11 = i11.y0 - l10;
    }
  }
  function L10(e31) {
    let { sourceLinks: r11, targetLinks: n11 } = e31;
    if (void 0 === t10) {
      for (let { source: { sourceLinks: e32 } } of n11) e32.sort(ebI);
      for (let { target: { targetLinks: e32 } } of r11) e32.sort(ebL);
    }
  }
  function I10(e31) {
    if (void 0 === t10) for (let { sourceLinks: t11, targetLinks: r11 } of e31) t11.sort(ebI), r11.sort(ebL);
  }
  function M10(e31, t11) {
    let r11 = e31.y0 - (e31.sourceLinks.length - 1) * l10 / 2;
    for (let { target: n11, width: i11 } of e31.sourceLinks) {
      if (n11 === t11) break;
      r11 += i11 + l10;
    }
    for (let { source: n11, width: i11 } of t11.targetLinks) {
      if (n11 === e31) break;
      r11 -= i11;
    }
    return r11;
  }
  function N10(e31, t11) {
    let r11 = t11.y0 - (t11.targetLinks.length - 1) * l10 / 2;
    for (let { source: n11, width: i11 } of t11.targetLinks) {
      if (n11 === e31) break;
      r11 += i11 + l10;
    }
    for (let { target: n11, width: i11 } of e31.sourceLinks) {
      if (n11 === t11) break;
      r11 -= i11;
    }
    return r11;
  }
  return iM(g10, "sankey"), g10.update = function(e31) {
    return ebP(e31), e31;
  }, g10.nodeId = function(e31) {
    return arguments.length ? (h10 = "function" == typeof e31 ? e31 : ebA(e31), g10) : h10;
  }, g10.nodeAlign = function(e31) {
    return arguments.length ? (u10 = "function" == typeof e31 ? e31 : ebA(e31), g10) : u10;
  }, g10.nodeSort = function(t11) {
    return arguments.length ? (e30 = t11, g10) : e30;
  }, g10.nodeWidth = function(e31) {
    return arguments.length ? (s10 = +e31, g10) : s10;
  }, g10.nodePadding = function(e31) {
    return arguments.length ? (o10 = l10 = +e31, g10) : o10;
  }, g10.nodes = function(e31) {
    return arguments.length ? (d10 = "function" == typeof e31 ? e31 : ebA(e31), g10) : d10;
  }, g10.links = function(e31) {
    return arguments.length ? (p10 = "function" == typeof e31 ? e31 : ebA(e31), g10) : p10;
  }, g10.linkSort = function(e31) {
    return arguments.length ? (t10 = e31, g10) : t10;
  }, g10.size = function(e31) {
    return arguments.length ? (r10 = n10 = 0, i10 = +e31[0], a10 = +e31[1], g10) : [i10 - r10, a10 - n10];
  }, g10.extent = function(e31) {
    return arguments.length ? (r10 = +e31[0][0], i10 = +e31[1][0], n10 = +e31[0][1], a10 = +e31[1][1], g10) : [[r10, n10], [i10, a10]];
  }, g10.iterations = function(e31) {
    return arguments.length ? (f10 = +e31, g10) : f10;
  }, iM(y10, "computeNodeLinks"), iM(v10, "computeNodeValues"), iM(x10, "computeNodeDepths"), iM(b10, "computeNodeHeights"), iM(k10, "computeNodeLayers"), iM(w10, "initializeNodeBreadths"), iM(_10, "computeNodeBreadths"), iM(T10, "relaxLeftToRight"), iM(S10, "relaxRightToLeft"), iM(C10, "resolveCollisions"), iM(E10, "resolveCollisionsTopToBottom"), iM(A10, "resolveCollisionsBottomToTop"), iM(L10, "reorderNodeLinks"), iM(I10, "reorderLinks"), iM(M10, "targetTop"), iM(N10, "sourceTop"), g10;
}
iM(ebb, "max"), iM(ebk, "min"), iM(ebw, "sum"), iM(eb_, "targetDepth"), iM(ebT, "left"), iM(ebS, "right"), iM(ebC, "justify"), iM(ebE, "center"), iM(ebA, "constant"), iM(ebL, "ascendingSourceBreadth"), iM(ebI, "ascendingTargetBreadth"), iM(ebM, "ascendingBreadth"), iM(ebN, "value"), iM(ebR, "defaultId"), iM(ebD, "defaultNodes"), iM(ebO, "defaultLinks"), iM(eb$, "find"), iM(ebP, "computeLinkBreadths"), iM(ebB, "Sankey");
var ebF = Math.PI, ebz = 2 * ebF, ebj = ebz - 1e-6;
function ebq() {
  this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "";
}
function ebU() {
  return new ebq();
}
function ebW(e30) {
  return iM(function() {
    return e30;
  }, "constant");
}
function ebV(e30) {
  return e30[0];
}
function ebH(e30) {
  return e30[1];
}
iM(ebq, "Path"), iM(ebU, "path"), ebq.prototype = ebU.prototype = { constructor: ebq, moveTo: iM(function(e30, t10) {
  this._ += "M" + (this._x0 = this._x1 = +e30) + "," + (this._y0 = this._y1 = +t10);
}, "moveTo"), closePath: iM(function() {
  null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z");
}, "closePath"), lineTo: iM(function(e30, t10) {
  this._ += "L" + (this._x1 = +e30) + "," + (this._y1 = +t10);
}, "lineTo"), quadraticCurveTo: iM(function(e30, t10, r10, n10) {
  this._ += "Q" + +e30 + "," + +t10 + "," + (this._x1 = +r10) + "," + (this._y1 = +n10);
}, "quadraticCurveTo"), bezierCurveTo: iM(function(e30, t10, r10, n10, i10, a10) {
  this._ += "C" + +e30 + "," + +t10 + "," + +r10 + "," + +n10 + "," + (this._x1 = +i10) + "," + (this._y1 = +a10);
}, "bezierCurveTo"), arcTo: iM(function(e30, t10, r10, n10, i10) {
  e30 = +e30, t10 = +t10, r10 = +r10, n10 = +n10, i10 = +i10;
  var a10 = this._x1, s10 = this._y1, o10 = r10 - e30, l10 = n10 - t10, h10 = a10 - e30, u10 = s10 - t10, d10 = h10 * h10 + u10 * u10;
  if (i10 < 0) throw Error("negative radius: " + i10);
  if (null === this._x1) this._ += "M" + (this._x1 = e30) + "," + (this._y1 = t10);
  else if (d10 > 1e-6) {
    if (Math.abs(u10 * o10 - l10 * h10) > 1e-6 && i10) {
      var p10 = r10 - a10, f10 = n10 - s10, g10 = o10 * o10 + l10 * l10, y10 = Math.sqrt(g10), v10 = Math.sqrt(d10), x10 = i10 * Math.tan((ebF - Math.acos((g10 + d10 - (p10 * p10 + f10 * f10)) / (2 * y10 * v10))) / 2), b10 = x10 / v10, k10 = x10 / y10;
      Math.abs(b10 - 1) > 1e-6 && (this._ += "L" + (e30 + b10 * h10) + "," + (t10 + b10 * u10)), this._ += "A" + i10 + "," + i10 + ",0,0," + +(u10 * p10 > h10 * f10) + "," + (this._x1 = e30 + k10 * o10) + "," + (this._y1 = t10 + k10 * l10);
    } else this._ += "L" + (this._x1 = e30) + "," + (this._y1 = t10);
  }
}, "arcTo"), arc: iM(function(e30, t10, r10, n10, i10, a10) {
  e30 = +e30, t10 = +t10, r10 = +r10, a10 = !!a10;
  var s10 = r10 * Math.cos(n10), o10 = r10 * Math.sin(n10), l10 = e30 + s10, h10 = t10 + o10, u10 = 1 ^ a10, d10 = a10 ? n10 - i10 : i10 - n10;
  if (r10 < 0) throw Error("negative radius: " + r10);
  null === this._x1 ? this._ += "M" + l10 + "," + h10 : (Math.abs(this._x1 - l10) > 1e-6 || Math.abs(this._y1 - h10) > 1e-6) && (this._ += "L" + l10 + "," + h10), r10 && (d10 < 0 && (d10 = d10 % ebz + ebz), d10 > ebj ? this._ += "A" + r10 + "," + r10 + ",0,1," + u10 + "," + (e30 - s10) + "," + (t10 - o10) + "A" + r10 + "," + r10 + ",0,1," + u10 + "," + (this._x1 = l10) + "," + (this._y1 = h10) : d10 > 1e-6 && (this._ += "A" + r10 + "," + r10 + ",0," + +(d10 >= ebF) + "," + u10 + "," + (this._x1 = e30 + r10 * Math.cos(i10)) + "," + (this._y1 = t10 + r10 * Math.sin(i10))));
}, "arc"), rect: iM(function(e30, t10, r10, n10) {
  this._ += "M" + (this._x0 = this._x1 = +e30) + "," + (this._y0 = this._y1 = +t10) + "h" + +r10 + "v" + +n10 + "h" + -r10 + "Z";
}, "rect"), toString: iM(function() {
  return this._;
}, "toString") }, iM(ebW, "default"), iM(ebV, "x"), iM(ebH, "y");
var ebY = Array.prototype.slice;
function ebG(e30) {
  return e30.source;
}
function ebX(e30) {
  return e30.target;
}
function ebK(e30) {
  var t10 = ebG, r10 = ebX, n10 = ebV, i10 = ebH, a10 = null;
  function s10() {
    var s11, o10 = ebY.call(arguments), l10 = t10.apply(this, o10), h10 = r10.apply(this, o10);
    if (a10 || (a10 = s11 = ebU()), e30(a10, +n10.apply(this, (o10[0] = l10, o10)), +i10.apply(this, o10), +n10.apply(this, (o10[0] = h10, o10)), +i10.apply(this, o10)), s11) return a10 = null, s11 + "" || null;
  }
  return iM(s10, "link"), s10.source = function(e31) {
    return arguments.length ? (t10 = e31, s10) : t10;
  }, s10.target = function(e31) {
    return arguments.length ? (r10 = e31, s10) : r10;
  }, s10.x = function(e31) {
    return arguments.length ? (n10 = "function" == typeof e31 ? e31 : ebW(+e31), s10) : n10;
  }, s10.y = function(e31) {
    return arguments.length ? (i10 = "function" == typeof e31 ? e31 : ebW(+e31), s10) : i10;
  }, s10.context = function(e31) {
    return arguments.length ? (a10 = null == e31 ? null : e31, s10) : a10;
  }, s10;
}
function ebZ(e30, t10, r10, n10, i10) {
  e30.moveTo(t10, r10), e30.bezierCurveTo(t10 = (t10 + n10) / 2, r10, t10, i10, n10, i10);
}
function ebQ() {
  return ebK(ebZ);
}
function ebJ(e30) {
  return [e30.source.x1, e30.y0];
}
function eb0(e30) {
  return [e30.target.x0, e30.y1];
}
function eb1() {
  return ebQ().source(ebJ).target(eb0);
}
iM(ebG, "linkSource"), iM(ebX, "linkTarget"), iM(ebK, "link"), iM(ebZ, "curveHorizontal"), iM(ebQ, "linkHorizontal"), iM(ebJ, "horizontalSource"), iM(eb0, "horizontalTarget"), iM(eb1, "default");
var eb2 = (_Rc = class {
  static next(t10) {
    return new _Rc(t10 + ++_Rc.count);
  }
  constructor(e30) {
    this.id = e30, this.href = `#${e30}`;
  }
  toString() {
    return "url(" + this.href + ")";
  }
}, _i208 = new WeakMap(), _l15 = new WeakMap(), __privateAdd(_Rc, _i208, iM(_Rc, "Uid")), __privateAdd(_Rc, _l15, _Rc.count = 0), _Rc), eb4 = { left: ebT, right: ebS, center: ebE, justify: ebC }, eb3 = iM(function(e30, t10, r10, n10) {
  var i10, a10, s10, o10, l10, h10, u10, d10;
  let p10, f10;
  let { securityLevel: g10, sankey: y10 } = aj(), v10 = aM.sankey;
  "sandbox" === g10 && (p10 = c$("#i" + t10));
  let x10 = "sandbox" === g10 ? c$(p10.nodes()[0].contentDocument.body) : c$("body"), b10 = "sandbox" === g10 ? x10.select(`[id="${t10}"]`) : c$(`[id="${t10}"]`), k10 = null !== (i10 = null == y10 ? void 0 : y10.width) && void 0 !== i10 ? i10 : v10.width, w10 = null !== (a10 = null == y10 ? void 0 : y10.height) && void 0 !== a10 ? a10 : v10.width, _10 = null !== (s10 = null == y10 ? void 0 : y10.useMaxWidth) && void 0 !== s10 ? s10 : v10.useMaxWidth, T10 = null !== (o10 = null == y10 ? void 0 : y10.nodeAlignment) && void 0 !== o10 ? o10 : v10.nodeAlignment, S10 = null !== (l10 = null == y10 ? void 0 : y10.prefix) && void 0 !== l10 ? l10 : v10.prefix, C10 = null !== (h10 = null == y10 ? void 0 : y10.suffix) && void 0 !== h10 ? h10 : v10.suffix, E10 = null !== (u10 = null == y10 ? void 0 : y10.showValues) && void 0 !== u10 ? u10 : v10.showValues, A10 = n10.db.getGraph(), L10 = eb4[T10];
  ebB().nodeId((e31) => e31.id).nodeWidth(10).nodePadding(10 + (E10 ? 15 : 0)).nodeAlign(L10).extent([[0, 0], [k10, w10]])(A10);
  let I10 = h6(pw);
  b10.append("g").attr("class", "nodes").selectAll(".node").data(A10.nodes).join("g").attr("class", "node").attr("id", (e31) => (e31.uid = eb2.next("node-")).id).attr("transform", function(e31) {
    return "translate(" + e31.x0 + "," + e31.y0 + ")";
  }).attr("x", (e31) => e31.x0).attr("y", (e31) => e31.y0).append("rect").attr("height", (e31) => e31.y1 - e31.y0).attr("width", (e31) => e31.x1 - e31.x0).attr("fill", (e31) => I10(e31.id));
  let M10 = iM((e31) => {
    let { id: t11, value: r11 } = e31;
    return E10 ? `${t11}
${S10}${Math.round(100 * r11) / 100}${C10}` : t11;
  }, "getText");
  b10.append("g").attr("class", "node-labels").attr("font-family", "sans-serif").attr("font-size", 14).selectAll("text").data(A10.nodes).join("text").attr("x", (e31) => e31.x0 < k10 / 2 ? e31.x1 + 6 : e31.x0 - 6).attr("y", (e31) => (e31.y1 + e31.y0) / 2).attr("dy", `${E10 ? "0" : "0.35"}em`).attr("text-anchor", (e31) => e31.x0 < k10 / 2 ? "start" : "end").text(M10);
  let N10 = b10.append("g").attr("class", "links").attr("fill", "none").attr("stroke-opacity", 0.5).selectAll(".link").data(A10.links).join("g").attr("class", "link").style("mix-blend-mode", "multiply"), R10 = null !== (d10 = null == y10 ? void 0 : y10.linkColor) && void 0 !== d10 ? d10 : "gradient";
  if ("gradient" === R10) {
    let e31 = N10.append("linearGradient").attr("id", (e32) => (e32.uid = eb2.next("linearGradient-")).id).attr("gradientUnits", "userSpaceOnUse").attr("x1", (e32) => e32.source.x1).attr("x2", (e32) => e32.target.x0);
    e31.append("stop").attr("offset", "0%").attr("stop-color", (e32) => I10(e32.source.id)), e31.append("stop").attr("offset", "100%").attr("stop-color", (e32) => I10(e32.target.id));
  }
  switch (R10) {
    case "gradient":
      f10 = iM((e31) => e31.uid, "coloring");
      break;
    case "source":
      f10 = iM((e31) => I10(e31.source.id), "coloring");
      break;
    case "target":
      f10 = iM((e31) => I10(e31.target.id), "coloring");
      break;
    default:
      f10 = R10;
  }
  N10.append("path").attr("d", eb1()).attr("stroke", f10).attr("stroke-width", (e31) => Math.max(1, e31.width)), oi(void 0, b10, 0, _10);
}, "draw"), eb5 = iM((e30) => e30.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g, "").replaceAll(/([\n\r])+/g, "\n").trim(), "prepareTextForParsing"), eb6 = ebo.parse.bind(ebo);
ebo.parse = (e30) => eb6(eb5(e30));
let eb7 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: ebo, db: ebx, renderer: { draw: eb3 } } }, Symbol.toStringTag, { value: "Module" }));
var eb8 = { packet: [] }, eb9 = structuredClone(eb8), eke = aC.packet, ekt = iM(() => {
  let e30 = k1({ ...eke, ...aj().packet });
  return e30.showBits && (e30.paddingY += 10), e30;
}, "getConfig"), ekr = iM(() => eb9.packet, "getPacket"), ekn = { pushWord: iM((e30) => {
  e30.length > 0 && eb9.packet.push(e30);
}, "pushWord"), getPacket: ekr, getConfig: ekt, clear: iM(() => {
  op(), eb9 = structuredClone(eb8);
}, "clear"), setAccTitle: of, getAccTitle: og, setDiagramTitle: ov, getDiagramTitle: ox, getAccDescription: oy, setAccDescription: om }, eki = iM((e30) => {
  Uu(e30, ekn);
  let t10 = -1, r10 = [], n10 = 1, { bitsPerRow: i10 } = ekn.getConfig();
  for (let { start: a10, end: s10, label: o10 } of e30.blocks) {
    if (s10 && s10 < a10) throw Error(`Packet block ${a10} - ${s10} is invalid. End must be greater than start.`);
    if (a10 !== t10 + 1) throw Error(`Packet block ${a10} - ${null != s10 ? s10 : a10} is not contiguous. It should start from ${t10 + 1}.`);
    for (t10 = null != s10 ? s10 : a10, iz.debug(`Packet block ${a10} - ${t10} with label ${o10}`); r10.length <= i10 + 1 && ekn.getPacket().length < 1e4; ) {
      let [e31, t11] = eka({ start: a10, end: s10, label: o10 }, n10, i10);
      if (r10.push(e31), e31.end + 1 === n10 * i10 && (ekn.pushWord(r10), r10 = [], n10++), !t11) break;
      ({ start: a10, end: s10, label: o10 } = t11);
    }
  }
  ekn.pushWord(r10);
}, "populate"), eka = iM((e30, t10, r10) => {
  if (void 0 === e30.end && (e30.end = e30.start), e30.start > e30.end) throw Error(`Block start ${e30.start} is greater than block end ${e30.end}.`);
  return e30.end + 1 <= t10 * r10 ? [e30, void 0] : [{ start: e30.start, end: t10 * r10 - 1, label: e30.label }, { start: t10 * r10, end: e30.end, label: e30.label }];
}, "getNextFittingBlock"), eks = { parse: iM(async (e30) => {
  let t10 = await eee("packet", e30);
  iz.debug(t10), eki(t10);
}, "parse") }, eko = iM((e30, t10, r10, n10) => {
  let i10 = n10.db, a10 = i10.getConfig(), { rowHeight: s10, paddingY: o10, bitWidth: l10, bitsPerRow: h10 } = a10, u10 = i10.getPacket(), d10 = i10.getDiagramTitle(), p10 = s10 + o10, f10 = p10 * (u10.length + 1) - (d10 ? 0 : s10), g10 = l10 * h10 + 2, y10 = mg(t10);
  for (let [e31, t11] of (y10.attr("viewbox", `0 0 ${g10} ${f10}`), on(y10, f10, g10, a10.useMaxWidth), u10.entries())) ekl(y10, t11, e31, a10);
  y10.append("text").text(d10).attr("x", g10 / 2).attr("y", f10 - p10 / 2).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr("class", "packetTitle");
}, "draw"), ekl = iM((e30, t10, r10, n10) => {
  let { rowHeight: i10, paddingX: a10, paddingY: s10, bitWidth: o10, bitsPerRow: l10, showBits: h10 } = n10, u10 = e30.append("g"), d10 = r10 * (i10 + s10) + s10;
  for (let e31 of t10) {
    let t11 = e31.start % l10 * o10 + 1, r11 = (e31.end - e31.start + 1) * o10 - a10;
    if (u10.append("rect").attr("x", t11).attr("y", d10).attr("width", r11).attr("height", i10).attr("class", "packetBlock"), u10.append("text").attr("x", t11 + r11 / 2).attr("y", d10 + i10 / 2).attr("class", "packetLabel").attr("dominant-baseline", "middle").attr("text-anchor", "middle").text(e31.label), !h10) continue;
    let n11 = e31.end === e31.start, s11 = d10 - 2;
    u10.append("text").attr("x", t11 + (n11 ? r11 / 2 : 0)).attr("y", s11).attr("class", "packetByte start").attr("dominant-baseline", "auto").attr("text-anchor", n11 ? "middle" : "start").text(e31.start), n11 || u10.append("text").attr("x", t11 + r11).attr("y", s11).attr("class", "packetByte end").attr("dominant-baseline", "auto").attr("text-anchor", "end").text(e31.end);
  }
}, "drawWord"), ekc = { byteFontSize: "10px", startByteColor: "black", endByteColor: "black", labelColor: "black", labelFontSize: "12px", titleColor: "black", titleFontSize: "14px", blockStrokeColor: "black", blockStrokeWidth: "1", blockFillColor: "#efefef" };
let ekh = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: eks, db: ekn, renderer: { draw: eko }, styles: iM(function() {
  let { packet: e30 } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t10 = k1(ekc, e30);
  return `
	.packetByte {
		font-size: ${t10.byteFontSize};
	}
	.packetByte.start {
		fill: ${t10.startByteColor};
	}
	.packetByte.end {
		fill: ${t10.endByteColor};
	}
	.packetLabel {
		fill: ${t10.labelColor};
		font-size: ${t10.labelFontSize};
	}
	.packetTitle {
		fill: ${t10.titleColor};
		font-size: ${t10.titleFontSize};
	}
	.packetBlock {
		stroke: ${t10.blockStrokeColor};
		stroke-width: ${t10.blockStrokeWidth};
		fill: ${t10.blockFillColor};
	}
	`;
}, "styles") } }, Symbol.toStringTag, { value: "Module" }));
var eku = function() {
  var e30 = iM(function(e31, t11, r11, n11) {
    for (r11 = r11 || {}, n11 = e31.length; n11--; r11[e31[n11]] = t11) ;
    return r11;
  }, "o"), t10 = [1, 7], r10 = [1, 13], n10 = [1, 14], i10 = [1, 15], a10 = [1, 19], s10 = [1, 16], o10 = [1, 17], l10 = [1, 18], h10 = [8, 30], u10 = [8, 21, 28, 29, 30, 31, 32, 40, 44, 47], d10 = [1, 23], p10 = [1, 24], f10 = [8, 15, 16, 21, 28, 29, 30, 31, 32, 40, 44, 47], g10 = [8, 15, 16, 21, 27, 28, 29, 30, 31, 32, 40, 44, 47], y10 = [1, 49], v10 = { trace: iM(function() {
  }, "trace"), yy: {}, symbols_: { error: 2, spaceLines: 3, SPACELINE: 4, NL: 5, separator: 6, SPACE: 7, EOF: 8, start: 9, BLOCK_DIAGRAM_KEY: 10, document: 11, stop: 12, statement: 13, link: 14, LINK: 15, START_LINK: 16, LINK_LABEL: 17, STR: 18, nodeStatement: 19, columnsStatement: 20, SPACE_BLOCK: 21, blockStatement: 22, classDefStatement: 23, cssClassStatement: 24, styleStatement: 25, node: 26, SIZE: 27, COLUMNS: 28, "id-block": 29, end: 30, block: 31, NODE_ID: 32, nodeShapeNLabel: 33, dirList: 34, DIR: 35, NODE_DSTART: 36, NODE_DEND: 37, BLOCK_ARROW_START: 38, BLOCK_ARROW_END: 39, classDef: 40, CLASSDEF_ID: 41, CLASSDEF_STYLEOPTS: 42, DEFAULT: 43, class: 44, CLASSENTITY_IDS: 45, STYLECLASS: 46, style: 47, STYLE_ENTITY_IDS: 48, STYLE_DEFINITION_DATA: 49, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "SPACELINE", 5: "NL", 7: "SPACE", 8: "EOF", 10: "BLOCK_DIAGRAM_KEY", 15: "LINK", 16: "START_LINK", 17: "LINK_LABEL", 18: "STR", 21: "SPACE_BLOCK", 27: "SIZE", 28: "COLUMNS", 29: "id-block", 30: "end", 31: "block", 32: "NODE_ID", 35: "DIR", 36: "NODE_DSTART", 37: "NODE_DEND", 38: "BLOCK_ARROW_START", 39: "BLOCK_ARROW_END", 40: "classDef", 41: "CLASSDEF_ID", 42: "CLASSDEF_STYLEOPTS", 43: "DEFAULT", 44: "class", 45: "CLASSENTITY_IDS", 46: "STYLECLASS", 47: "style", 48: "STYLE_ENTITY_IDS", 49: "STYLE_DEFINITION_DATA" }, productions_: [0, [3, 1], [3, 2], [3, 2], [6, 1], [6, 1], [6, 1], [9, 3], [12, 1], [12, 1], [12, 2], [12, 2], [11, 1], [11, 2], [14, 1], [14, 4], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [19, 3], [19, 2], [19, 1], [20, 1], [22, 4], [22, 3], [26, 1], [26, 2], [34, 1], [34, 2], [33, 3], [33, 4], [23, 3], [23, 3], [24, 3], [25, 3]], performAction: iM(function(e31, t11, r11, n11, i11, a11, s11) {
    var o11 = a11.length - 1;
    switch (i11) {
      case 4:
        n11.getLogger().debug("Rule: separator (NL) ");
        break;
      case 5:
        n11.getLogger().debug("Rule: separator (Space) ");
        break;
      case 6:
        n11.getLogger().debug("Rule: separator (EOF) ");
        break;
      case 7:
        n11.getLogger().debug("Rule: hierarchy: ", a11[o11 - 1]), n11.setHierarchy(a11[o11 - 1]);
        break;
      case 8:
        n11.getLogger().debug("Stop NL ");
        break;
      case 9:
        n11.getLogger().debug("Stop EOF ");
        break;
      case 10:
        n11.getLogger().debug("Stop NL2 ");
        break;
      case 11:
        n11.getLogger().debug("Stop EOF2 ");
        break;
      case 12:
        n11.getLogger().debug("Rule: statement: ", a11[o11]), "number" == typeof a11[o11].length ? this.$ = a11[o11] : this.$ = [a11[o11]];
        break;
      case 13:
        n11.getLogger().debug("Rule: statement #2: ", a11[o11 - 1]), this.$ = [a11[o11 - 1]].concat(a11[o11]);
        break;
      case 14:
        n11.getLogger().debug("Rule: link: ", a11[o11], e31), this.$ = { edgeTypeStr: a11[o11], label: "" };
        break;
      case 15:
        n11.getLogger().debug("Rule: LABEL link: ", a11[o11 - 3], a11[o11 - 1], a11[o11]), this.$ = { edgeTypeStr: a11[o11], label: a11[o11 - 1] };
        break;
      case 18:
        let l11 = parseInt(a11[o11]), h11 = n11.generateId();
        this.$ = { id: h11, type: "space", label: "", width: l11, children: [] };
        break;
      case 23:
        n11.getLogger().debug("Rule: (nodeStatement link node) ", a11[o11 - 2], a11[o11 - 1], a11[o11], " typestr: ", a11[o11 - 1].edgeTypeStr);
        let u11 = n11.edgeStrToEdgeData(a11[o11 - 1].edgeTypeStr);
        this.$ = [{ id: a11[o11 - 2].id, label: a11[o11 - 2].label, type: a11[o11 - 2].type, directions: a11[o11 - 2].directions }, { id: a11[o11 - 2].id + "-" + a11[o11].id, start: a11[o11 - 2].id, end: a11[o11].id, label: a11[o11 - 1].label, type: "edge", directions: a11[o11].directions, arrowTypeEnd: u11, arrowTypeStart: "arrow_open" }, { id: a11[o11].id, label: a11[o11].label, type: n11.typeStr2Type(a11[o11].typeStr), directions: a11[o11].directions }];
        break;
      case 24:
        n11.getLogger().debug("Rule: nodeStatement (abc88 node size) ", a11[o11 - 1], a11[o11]), this.$ = { id: a11[o11 - 1].id, label: a11[o11 - 1].label, type: n11.typeStr2Type(a11[o11 - 1].typeStr), directions: a11[o11 - 1].directions, widthInColumns: parseInt(a11[o11], 10) };
        break;
      case 25:
        n11.getLogger().debug("Rule: nodeStatement (node) ", a11[o11]), this.$ = { id: a11[o11].id, label: a11[o11].label, type: n11.typeStr2Type(a11[o11].typeStr), directions: a11[o11].directions, widthInColumns: 1 };
        break;
      case 26:
        n11.getLogger().debug("APA123", this ? this : "na"), n11.getLogger().debug("COLUMNS: ", a11[o11]), this.$ = { type: "column-setting", columns: "auto" === a11[o11] ? -1 : parseInt(a11[o11]) };
        break;
      case 27:
        n11.getLogger().debug("Rule: id-block statement : ", a11[o11 - 2], a11[o11 - 1]), n11.generateId(), this.$ = { ...a11[o11 - 2], type: "composite", children: a11[o11 - 1] };
        break;
      case 28:
        n11.getLogger().debug("Rule: blockStatement : ", a11[o11 - 2], a11[o11 - 1], a11[o11]);
        let d11 = n11.generateId();
        this.$ = { id: d11, type: "composite", label: "", children: a11[o11 - 1] };
        break;
      case 29:
        n11.getLogger().debug("Rule: node (NODE_ID separator): ", a11[o11]), this.$ = { id: a11[o11] };
        break;
      case 30:
        n11.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ", a11[o11 - 1], a11[o11]), this.$ = { id: a11[o11 - 1], label: a11[o11].label, typeStr: a11[o11].typeStr, directions: a11[o11].directions };
        break;
      case 31:
        n11.getLogger().debug("Rule: dirList: ", a11[o11]), this.$ = [a11[o11]];
        break;
      case 32:
        n11.getLogger().debug("Rule: dirList: ", a11[o11 - 1], a11[o11]), this.$ = [a11[o11 - 1]].concat(a11[o11]);
        break;
      case 33:
        n11.getLogger().debug("Rule: nodeShapeNLabel: ", a11[o11 - 2], a11[o11 - 1], a11[o11]), this.$ = { typeStr: a11[o11 - 2] + a11[o11], label: a11[o11 - 1] };
        break;
      case 34:
        n11.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ", a11[o11 - 3], a11[o11 - 2], " #3:", a11[o11 - 1], a11[o11]), this.$ = { typeStr: a11[o11 - 3] + a11[o11], label: a11[o11 - 2], directions: a11[o11 - 1] };
        break;
      case 35:
      case 36:
        this.$ = { type: "classDef", id: a11[o11 - 1].trim(), css: a11[o11].trim() };
        break;
      case 37:
        this.$ = { type: "applyClass", id: a11[o11 - 1].trim(), styleClass: a11[o11].trim() };
        break;
      case 38:
        this.$ = { type: "applyStyles", id: a11[o11 - 1].trim(), stylesStr: a11[o11].trim() };
    }
  }, "anonymous"), table: [{ 9: 1, 10: [1, 2] }, { 1: [3] }, { 11: 3, 13: 4, 19: 5, 20: 6, 21: t10, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: r10, 29: n10, 31: i10, 32: a10, 40: s10, 44: o10, 47: l10 }, { 8: [1, 20] }, e30(h10, [2, 12], { 13: 4, 19: 5, 20: 6, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 11: 21, 21: t10, 28: r10, 29: n10, 31: i10, 32: a10, 40: s10, 44: o10, 47: l10 }), e30(u10, [2, 16], { 14: 22, 15: d10, 16: p10 }), e30(u10, [2, 17]), e30(u10, [2, 18]), e30(u10, [2, 19]), e30(u10, [2, 20]), e30(u10, [2, 21]), e30(u10, [2, 22]), e30(f10, [2, 25], { 27: [1, 25] }), e30(u10, [2, 26]), { 19: 26, 26: 12, 32: a10 }, { 11: 27, 13: 4, 19: 5, 20: 6, 21: t10, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: r10, 29: n10, 31: i10, 32: a10, 40: s10, 44: o10, 47: l10 }, { 41: [1, 28], 43: [1, 29] }, { 45: [1, 30] }, { 48: [1, 31] }, e30(g10, [2, 29], { 33: 32, 36: [1, 33], 38: [1, 34] }), { 1: [2, 7] }, e30(h10, [2, 13]), { 26: 35, 32: a10 }, { 32: [2, 14] }, { 17: [1, 36] }, e30(f10, [2, 24]), { 11: 37, 13: 4, 14: 22, 15: d10, 16: p10, 19: 5, 20: 6, 21: t10, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: r10, 29: n10, 31: i10, 32: a10, 40: s10, 44: o10, 47: l10 }, { 30: [1, 38] }, { 42: [1, 39] }, { 42: [1, 40] }, { 46: [1, 41] }, { 49: [1, 42] }, e30(g10, [2, 30]), { 18: [1, 43] }, { 18: [1, 44] }, e30(f10, [2, 23]), { 18: [1, 45] }, { 30: [1, 46] }, e30(u10, [2, 28]), e30(u10, [2, 35]), e30(u10, [2, 36]), e30(u10, [2, 37]), e30(u10, [2, 38]), { 37: [1, 47] }, { 34: 48, 35: y10 }, { 15: [1, 50] }, e30(u10, [2, 27]), e30(g10, [2, 33]), { 39: [1, 51] }, { 34: 52, 35: y10, 39: [2, 31] }, { 32: [2, 15] }, e30(g10, [2, 34]), { 39: [2, 32] }], defaultActions: { 20: [2, 7], 23: [2, 14], 50: [2, 15], 52: [2, 32] }, parseError: iM(function(e31, t11) {
    if (t11.recoverable) this.trace(e31);
    else {
      var r11 = Error(e31);
      throw r11.hash = t11, r11;
    }
  }, "parseError"), parse: iM(function(e31) {
    var t11 = this, r11 = [0], n11 = [], i11 = [null], a11 = [], s11 = this.table, o11 = "", l11 = 0, h11 = 0, u11 = a11.slice.call(arguments, 1), d11 = Object.create(this.lexer), p11 = { yy: {} };
    for (var f11 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, f11) && (p11.yy[f11] = this.yy[f11]);
    d11.setInput(e31, p11.yy), p11.yy.lexer = d11, p11.yy.parser = this, void 0 === d11.yylloc && (d11.yylloc = {});
    var g11 = d11.yylloc;
    a11.push(g11);
    var y11 = d11.options && d11.options.ranges;
    function v11() {
      var e32;
      return "number" != typeof (e32 = n11.pop() || d11.lex() || 1) && (e32 instanceof Array && (e32 = (n11 = e32).pop()), e32 = t11.symbols_[e32] || e32), e32;
    }
    "function" == typeof p11.yy.parseError ? this.parseError = p11.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError, iM(function(e32) {
      r11.length = r11.length - 2 * e32, i11.length = i11.length - e32, a11.length = a11.length - e32;
    }, "popStack"), iM(v11, "lex");
    for (var x11, b11, k10, w10, _10, T10, S10, C10, E10 = {}; ; ) {
      if (b11 = r11[r11.length - 1], this.defaultActions[b11] ? k10 = this.defaultActions[b11] : (null == x11 && (x11 = v11()), k10 = s11[b11] && s11[b11][x11]), void 0 === k10 || !k10.length || !k10[0]) {
        var A10 = "";
        for (_10 in C10 = [], s11[b11]) this.terminals_[_10] && _10 > 2 && C10.push("'" + this.terminals_[_10] + "'");
        A10 = d11.showPosition ? "Parse error on line " + (l11 + 1) + ":\n" + d11.showPosition() + "\nExpecting " + C10.join(", ") + ", got '" + (this.terminals_[x11] || x11) + "'" : "Parse error on line " + (l11 + 1) + ": Unexpected " + (1 == x11 ? "end of input" : "'" + (this.terminals_[x11] || x11) + "'"), this.parseError(A10, { text: d11.match, token: this.terminals_[x11] || x11, line: d11.yylineno, loc: g11, expected: C10 });
      }
      if (k10[0] instanceof Array && k10.length > 1) throw Error("Parse Error: multiple actions possible at state: " + b11 + ", token: " + x11);
      switch (k10[0]) {
        case 1:
          r11.push(x11), i11.push(d11.yytext), a11.push(d11.yylloc), r11.push(k10[1]), x11 = null, h11 = d11.yyleng, o11 = d11.yytext, l11 = d11.yylineno, g11 = d11.yylloc;
          break;
        case 2:
          if (T10 = this.productions_[k10[1]][1], E10.$ = i11[i11.length - T10], E10._$ = { first_line: a11[a11.length - (T10 || 1)].first_line, last_line: a11[a11.length - 1].last_line, first_column: a11[a11.length - (T10 || 1)].first_column, last_column: a11[a11.length - 1].last_column }, y11 && (E10._$.range = [a11[a11.length - (T10 || 1)].range[0], a11[a11.length - 1].range[1]]), void 0 !== (w10 = this.performAction.apply(E10, [o11, h11, l11, p11.yy, k10[1], i11, a11].concat(u11)))) return w10;
          T10 && (r11 = r11.slice(0, -1 * T10 * 2), i11 = i11.slice(0, -1 * T10), a11 = a11.slice(0, -1 * T10)), r11.push(this.productions_[k10[1]][0]), i11.push(E10.$), a11.push(E10._$), S10 = s11[r11[r11.length - 2]][r11[r11.length - 1]], r11.push(S10);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, "parse") }, x10 = { EOF: 1, parseError: iM(function(e31, t11) {
    if (this.yy.parser) this.yy.parser.parseError(e31, t11);
    else throw Error(e31);
  }, "parseError"), setInput: iM(function(e31, t11) {
    return this.yy = t11 || this.yy || {}, this._input = e31, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
  }, "setInput"), input: iM(function() {
    var e31 = this._input[0];
    return this.yytext += e31, this.yyleng++, this.offset++, this.match += e31, this.matched += e31, e31.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e31;
  }, "input"), unput: iM(function(e31) {
    var t11 = e31.length, r11 = e31.split(/(?:\r\n?|\n)/g);
    this._input = e31 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t11), this.offset -= t11;
    var n11 = this.match.split(/(?:\r\n?|\n)/g);
    this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r11.length - 1 && (this.yylineno -= r11.length - 1);
    var i11 = this.yylloc.range;
    return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: r11 ? (r11.length === n11.length ? this.yylloc.first_column : 0) + n11[n11.length - r11.length].length - r11[0].length : this.yylloc.first_column - t11 }, this.options.ranges && (this.yylloc.range = [i11[0], i11[0] + this.yyleng - t11]), this.yyleng = this.yytext.length, this;
  }, "unput"), more: iM(function() {
    return this._more = true, this;
  }, "more"), reject: iM(function() {
    return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "reject"), less: iM(function(e31) {
    this.unput(this.match.slice(e31));
  }, "less"), pastInput: iM(function() {
    var e31 = this.matched.substr(0, this.matched.length - this.match.length);
    return (e31.length > 20 ? "..." : "") + e31.substr(-20).replace(/\n/g, "");
  }, "pastInput"), upcomingInput: iM(function() {
    var e31 = this.match;
    return e31.length < 20 && (e31 += this._input.substr(0, 20 - e31.length)), (e31.substr(0, 20) + (e31.length > 20 ? "..." : "")).replace(/\n/g, "");
  }, "upcomingInput"), showPosition: iM(function() {
    var e31 = this.pastInput(), t11 = Array(e31.length + 1).join("-");
    return e31 + this.upcomingInput() + "\n" + t11 + "^";
  }, "showPosition"), test_match: iM(function(e31, t11) {
    var r11, n11, i11;
    if (this.options.backtrack_lexer && (i11 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i11.yylloc.range = this.yylloc.range.slice(0))), (n11 = e31[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n11.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n11 ? n11[n11.length - 1].length - n11[n11.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e31[0].length }, this.yytext += e31[0], this.match += e31[0], this.matches = e31, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e31[0].length), this.matched += e31[0], r11 = this.performAction.call(this, this.yy, this, t11, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r11) return r11;
    if (this._backtrack) for (var a11 in i11) this[a11] = i11[a11];
    return false;
  }, "test_match"), next: iM(function() {
    if (this.done) return this.EOF;
    this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
    for (var e31, t11, r11, n11, i11 = this._currentRules(), a11 = 0; a11 < i11.length; a11++) if ((r11 = this._input.match(this.rules[i11[a11]])) && (!t11 || r11[0].length > t11[0].length)) {
      if (t11 = r11, n11 = a11, this.options.backtrack_lexer) {
        if (false !== (e31 = this.test_match(r11, i11[a11]))) return e31;
        if (!this._backtrack) return false;
        t11 = false;
        continue;
      }
      if (!this.options.flex) break;
    }
    return t11 ? false !== (e31 = this.test_match(t11, i11[n11])) && e31 : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
  }, "next"), lex: iM(function() {
    return this.next() || this.lex();
  }, "lex"), begin: iM(function(e31) {
    this.conditionStack.push(e31);
  }, "begin"), popState: iM(function() {
    return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
  }, "popState"), _currentRules: iM(function() {
    return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
  }, "_currentRules"), topState: iM(function(e31) {
    return (e31 = this.conditionStack.length - 1 - Math.abs(e31 || 0)) >= 0 ? this.conditionStack[e31] : "INITIAL";
  }, "topState"), pushState: iM(function(e31) {
    this.begin(e31);
  }, "pushState"), stateStackSize: iM(function() {
    return this.conditionStack.length;
  }, "stateStackSize"), options: {}, performAction: iM(function(e31, t11, r11, n11) {
    switch (r11) {
      case 0:
        return 10;
      case 1:
        return e31.getLogger().debug("Found space-block"), 31;
      case 2:
        return e31.getLogger().debug("Found nl-block"), 31;
      case 3:
        return e31.getLogger().debug("Found space-block"), 29;
      case 4:
        e31.getLogger().debug(".", t11.yytext);
        break;
      case 5:
        e31.getLogger().debug("_", t11.yytext);
        break;
      case 6:
        return 5;
      case 7:
        return t11.yytext = -1, 28;
      case 8:
        return t11.yytext = t11.yytext.replace(/columns\s+/, ""), e31.getLogger().debug("COLUMNS (LEX)", t11.yytext), 28;
      case 9:
      case 77:
      case 78:
      case 100:
        this.pushState("md_string");
        break;
      case 10:
        return "MD_STR";
      case 11:
      case 35:
      case 80:
        this.popState();
        break;
      case 12:
        this.pushState("string");
        break;
      case 13:
        e31.getLogger().debug("LEX: POPPING STR:", t11.yytext), this.popState();
        break;
      case 14:
        return e31.getLogger().debug("LEX: STR end:", t11.yytext), "STR";
      case 15:
        return t11.yytext = t11.yytext.replace(/space\:/, ""), e31.getLogger().debug("SPACE NUM (LEX)", t11.yytext), 21;
      case 16:
        return t11.yytext = "1", e31.getLogger().debug("COLUMNS (LEX)", t11.yytext), 21;
      case 17:
        return 43;
      case 18:
        return "LINKSTYLE";
      case 19:
        return "INTERPOLATE";
      case 20:
        return this.pushState("CLASSDEF"), 40;
      case 21:
        return this.popState(), this.pushState("CLASSDEFID"), "DEFAULT_CLASSDEF_ID";
      case 22:
        return this.popState(), this.pushState("CLASSDEFID"), 41;
      case 23:
        return this.popState(), 42;
      case 24:
        return this.pushState("CLASS"), 44;
      case 25:
        return this.popState(), this.pushState("CLASS_STYLE"), 45;
      case 26:
        return this.popState(), 46;
      case 27:
        return this.pushState("STYLE_STMNT"), 47;
      case 28:
        return this.popState(), this.pushState("STYLE_DEFINITION"), 48;
      case 29:
        return this.popState(), 49;
      case 30:
        return this.pushState("acc_title"), "acc_title";
      case 31:
        return this.popState(), "acc_title_value";
      case 32:
        return this.pushState("acc_descr"), "acc_descr";
      case 33:
        return this.popState(), "acc_descr_value";
      case 34:
        this.pushState("acc_descr_multiline");
        break;
      case 36:
        return "acc_descr_multiline_value";
      case 37:
        return 30;
      case 38:
      case 39:
      case 41:
      case 42:
      case 45:
        return this.popState(), e31.getLogger().debug("Lex: (("), "NODE_DEND";
      case 40:
        return this.popState(), e31.getLogger().debug("Lex: ))"), "NODE_DEND";
      case 43:
        return this.popState(), e31.getLogger().debug("Lex: (-"), "NODE_DEND";
      case 44:
        return this.popState(), e31.getLogger().debug("Lex: -)"), "NODE_DEND";
      case 46:
        return this.popState(), e31.getLogger().debug("Lex: ]]"), "NODE_DEND";
      case 47:
        return this.popState(), e31.getLogger().debug("Lex: ("), "NODE_DEND";
      case 48:
        return this.popState(), e31.getLogger().debug("Lex: ])"), "NODE_DEND";
      case 49:
      case 50:
        return this.popState(), e31.getLogger().debug("Lex: /]"), "NODE_DEND";
      case 51:
        return this.popState(), e31.getLogger().debug("Lex: )]"), "NODE_DEND";
      case 52:
        return this.popState(), e31.getLogger().debug("Lex: )"), "NODE_DEND";
      case 53:
        return this.popState(), e31.getLogger().debug("Lex: ]>"), "NODE_DEND";
      case 54:
        return this.popState(), e31.getLogger().debug("Lex: ]"), "NODE_DEND";
      case 55:
        return e31.getLogger().debug("Lexa: -)"), this.pushState("NODE"), 36;
      case 56:
        return e31.getLogger().debug("Lexa: (-"), this.pushState("NODE"), 36;
      case 57:
        return e31.getLogger().debug("Lexa: ))"), this.pushState("NODE"), 36;
      case 58:
      case 60:
      case 61:
      case 62:
      case 65:
        return e31.getLogger().debug("Lexa: )"), this.pushState("NODE"), 36;
      case 59:
        return e31.getLogger().debug("Lex: ((("), this.pushState("NODE"), 36;
      case 63:
        return e31.getLogger().debug("Lexc: >"), this.pushState("NODE"), 36;
      case 64:
        return e31.getLogger().debug("Lexa: (["), this.pushState("NODE"), 36;
      case 66:
      case 67:
      case 68:
      case 69:
      case 70:
      case 71:
      case 72:
        return this.pushState("NODE"), 36;
      case 73:
        return e31.getLogger().debug("Lexa: ["), this.pushState("NODE"), 36;
      case 74:
        return this.pushState("BLOCK_ARROW"), e31.getLogger().debug("LEX ARR START"), 38;
      case 75:
        return e31.getLogger().debug("Lex: NODE_ID", t11.yytext), 32;
      case 76:
        return e31.getLogger().debug("Lex: EOF", t11.yytext), 8;
      case 79:
        return "NODE_DESCR";
      case 81:
        e31.getLogger().debug("Lex: Starting string"), this.pushState("string");
        break;
      case 82:
        e31.getLogger().debug("LEX ARR: Starting string"), this.pushState("string");
        break;
      case 83:
        return e31.getLogger().debug("LEX: NODE_DESCR:", t11.yytext), "NODE_DESCR";
      case 84:
        e31.getLogger().debug("LEX POPPING"), this.popState();
        break;
      case 85:
        e31.getLogger().debug("Lex: =>BAE"), this.pushState("ARROW_DIR");
        break;
      case 86:
        return t11.yytext = t11.yytext.replace(/^,\s*/, ""), e31.getLogger().debug("Lex (right): dir:", t11.yytext), "DIR";
      case 87:
        return t11.yytext = t11.yytext.replace(/^,\s*/, ""), e31.getLogger().debug("Lex (left):", t11.yytext), "DIR";
      case 88:
        return t11.yytext = t11.yytext.replace(/^,\s*/, ""), e31.getLogger().debug("Lex (x):", t11.yytext), "DIR";
      case 89:
        return t11.yytext = t11.yytext.replace(/^,\s*/, ""), e31.getLogger().debug("Lex (y):", t11.yytext), "DIR";
      case 90:
        return t11.yytext = t11.yytext.replace(/^,\s*/, ""), e31.getLogger().debug("Lex (up):", t11.yytext), "DIR";
      case 91:
        return t11.yytext = t11.yytext.replace(/^,\s*/, ""), e31.getLogger().debug("Lex (down):", t11.yytext), "DIR";
      case 92:
        return t11.yytext = "]>", e31.getLogger().debug("Lex (ARROW_DIR end):", t11.yytext), this.popState(), this.popState(), "BLOCK_ARROW_END";
      case 93:
        return e31.getLogger().debug("Lex: LINK", "#" + t11.yytext + "#"), 15;
      case 94:
      case 95:
      case 96:
        return e31.getLogger().debug("Lex: LINK", t11.yytext), 15;
      case 97:
      case 98:
      case 99:
        return e31.getLogger().debug("Lex: START_LINK", t11.yytext), this.pushState("LLABEL"), 16;
      case 101:
        return e31.getLogger().debug("Lex: Starting string"), this.pushState("string"), "LINK_LABEL";
      case 102:
        return this.popState(), e31.getLogger().debug("Lex: LINK", "#" + t11.yytext + "#"), 15;
      case 103:
      case 104:
        return this.popState(), e31.getLogger().debug("Lex: LINK", t11.yytext), 15;
      case 105:
        return e31.getLogger().debug("Lex: COLON", t11.yytext), t11.yytext = t11.yytext.slice(1), 27;
    }
  }, "anonymous"), rules: [/^(?:block-beta\b)/, /^(?:block\s+)/, /^(?:block\n+)/, /^(?:block:)/, /^(?:[\s]+)/, /^(?:[\n]+)/, /^(?:((\u000D\u000A)|(\u000A)))/, /^(?:columns\s+auto\b)/, /^(?:columns\s+[\d]+)/, /^(?:["][`])/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:space[:]\d+)/, /^(?:space\b)/, /^(?:default\b)/, /^(?:linkStyle\b)/, /^(?:interpolate\b)/, /^(?:classDef\s+)/, /^(?:DEFAULT\s+)/, /^(?:\w+\s+)/, /^(?:[^\n]*)/, /^(?:class\s+)/, /^(?:(\w+)+((,\s*\w+)*))/, /^(?:[^\n]*)/, /^(?:style\s+)/, /^(?:(\w+)+((,\s*\w+)*))/, /^(?:[^\n]*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:end\b\s*)/, /^(?:\(\(\()/, /^(?:\)\)\))/, /^(?:[\)]\))/, /^(?:\}\})/, /^(?:\})/, /^(?:\(-)/, /^(?:-\))/, /^(?:\(\()/, /^(?:\]\])/, /^(?:\()/, /^(?:\]\))/, /^(?:\\\])/, /^(?:\/\])/, /^(?:\)\])/, /^(?:[\)])/, /^(?:\]>)/, /^(?:[\]])/, /^(?:-\))/, /^(?:\(-)/, /^(?:\)\))/, /^(?:\))/, /^(?:\(\(\()/, /^(?:\(\()/, /^(?:\{\{)/, /^(?:\{)/, /^(?:>)/, /^(?:\(\[)/, /^(?:\()/, /^(?:\[\[)/, /^(?:\[\|)/, /^(?:\[\()/, /^(?:\)\)\))/, /^(?:\[\\)/, /^(?:\[\/)/, /^(?:\[\\)/, /^(?:\[)/, /^(?:<\[)/, /^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/, /^(?:$)/, /^(?:["][`])/, /^(?:["][`])/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["])/, /^(?:["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:\]>\s*\()/, /^(?:,?\s*right\s*)/, /^(?:,?\s*left\s*)/, /^(?:,?\s*x\s*)/, /^(?:,?\s*y\s*)/, /^(?:,?\s*up\s*)/, /^(?:,?\s*down\s*)/, /^(?:\)\s*)/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?:\s*~~[\~]+\s*)/, /^(?:\s*[xo<]?--\s*)/, /^(?:\s*[xo<]?==\s*)/, /^(?:\s*[xo<]?-\.\s*)/, /^(?:["][`])/, /^(?:["])/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?::\d+)/], conditions: { STYLE_DEFINITION: { rules: [29], inclusive: false }, STYLE_STMNT: { rules: [28], inclusive: false }, CLASSDEFID: { rules: [23], inclusive: false }, CLASSDEF: { rules: [21, 22], inclusive: false }, CLASS_STYLE: { rules: [26], inclusive: false }, CLASS: { rules: [25], inclusive: false }, LLABEL: { rules: [100, 101, 102, 103, 104], inclusive: false }, ARROW_DIR: { rules: [86, 87, 88, 89, 90, 91, 92], inclusive: false }, BLOCK_ARROW: { rules: [77, 82, 85], inclusive: false }, NODE: { rules: [38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 78, 81], inclusive: false }, md_string: { rules: [10, 11, 79, 80], inclusive: false }, space: { rules: [], inclusive: false }, string: { rules: [13, 14, 83, 84], inclusive: false }, acc_descr_multiline: { rules: [35, 36], inclusive: false }, acc_descr: { rules: [33], inclusive: false }, acc_title: { rules: [31], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 12, 15, 16, 17, 18, 19, 20, 24, 27, 30, 32, 34, 37, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 93, 94, 95, 96, 97, 98, 99, 105], inclusive: true } } };
  function b10() {
    this.yy = {};
  }
  return v10.lexer = x10, iM(b10, "Parser"), b10.prototype = v10, v10.Parser = b10, new b10();
}();
eku.parser = eku;
var ekd = /* @__PURE__ */ new Map(), ekp = [], ekf = /* @__PURE__ */ new Map(), ekg = "color", ekm = "fill", eky = aj(), ekv = /* @__PURE__ */ new Map(), ekx = iM((e30) => oe.sanitizeText(e30, eky), "sanitizeText"), ekb = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r10 = ekv.get(e30);
  r10 || (r10 = { id: e30, styles: [], textStyles: [] }, ekv.set(e30, r10)), null != t10 && t10.split(",").forEach((e31) => {
    let t11 = e31.replace(/([^;]*);/, "$1").trim();
    if (RegExp(ekg).exec(e31)) {
      let e32 = t11.replace(ekm, "bgFill").replace(ekg, ekm);
      r10.textStyles.push(e32);
    }
    r10.styles.push(t11);
  });
}, "addStyleClass"), ekk = iM(function(e30) {
  let t10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r10 = ekd.get(e30);
  null != t10 && (r10.styles = t10.split(","));
}, "addStyle2Node"), ekw = iM(function(e30, t10) {
  e30.split(",").forEach(function(e31) {
    let r10 = ekd.get(e31);
    if (void 0 === r10) {
      let t11 = e31.trim();
      r10 = { id: t11, type: "na", children: [] }, ekd.set(t11, r10);
    }
    r10.classes || (r10.classes = []), r10.classes.push(t10);
  });
}, "setCssClass"), ek_ = iM((e30, t10) => {
  let r10 = e30.flat(), n10 = [];
  for (let e31 of r10) {
    var i10, a10, s10, o10;
    if (e31.label && (e31.label = ekx(e31.label)), "classDef" === e31.type) {
      ekb(e31.id, e31.css);
      continue;
    }
    if ("applyClass" === e31.type) {
      ekw(e31.id, null !== (i10 = null == e31 ? void 0 : e31.styleClass) && void 0 !== i10 ? i10 : "");
      continue;
    }
    if ("applyStyles" === e31.type) {
      (null == e31 ? void 0 : e31.stylesStr) && ekk(e31.id, null == e31 ? void 0 : e31.stylesStr);
      continue;
    }
    if ("column-setting" === e31.type) t10.columns = null !== (a10 = e31.columns) && void 0 !== a10 ? a10 : -1;
    else if ("edge" === e31.type) {
      let t11 = (null !== (s10 = ekf.get(e31.id)) && void 0 !== s10 ? s10 : 0) + 1;
      ekf.set(e31.id, t11), e31.id = t11 + "-" + e31.id, ekp.push(e31);
    } else {
      e31.label || ("composite" === e31.type ? e31.label = "" : e31.label = e31.id);
      let t11 = ekd.get(e31.id);
      if (void 0 === t11 ? ekd.set(e31.id, e31) : ("na" !== e31.type && (t11.type = e31.type), e31.label !== e31.id && (t11.label = e31.label)), e31.children && ek_(e31.children, e31), "space" === e31.type) {
        let t12 = null !== (o10 = e31.width) && void 0 !== o10 ? o10 : 1;
        for (let r11 = 0; r11 < t12; r11++) {
          let t13 = D1(e31);
          t13.id = t13.id + "-" + r11, ekd.set(t13.id, t13), n10.push(t13);
        }
      } else void 0 === t11 && n10.push(e31);
    }
  }
  t10.children = n10;
}, "populateBlockDatabase"), ekT = [], ekS = { id: "root", type: "composite", children: [], columns: -1 }, ekC = iM(() => {
  iz.debug("Clear called"), op(), ekd = /* @__PURE__ */ new Map([["root", ekS = { id: "root", type: "composite", children: [], columns: -1 }]]), ekT = [], ekv = /* @__PURE__ */ new Map(), ekp = [], ekf = /* @__PURE__ */ new Map();
}, "clear");
function ekE(e30) {
  switch (iz.debug("typeStr2Type", e30), e30) {
    case "[]":
      return "square";
    case "()":
      return iz.debug("we have a round"), "round";
    case "(())":
      return "circle";
    case ">]":
      return "rect_left_inv_arrow";
    case "{}":
      return "diamond";
    case "{{}}":
      return "hexagon";
    case "([])":
      return "stadium";
    case "[[]]":
      return "subroutine";
    case "[()]":
      return "cylinder";
    case "((()))":
      return "doublecircle";
    case "[//]":
      return "lean_right";
    case "[\\\\]":
      return "lean_left";
    case "[/\\]":
      return "trapezoid";
    case "[\\/]":
      return "inv_trapezoid";
    case "<[]>":
      return "block_arrow";
    default:
      return "na";
  }
}
function ekA(e30) {
  return (iz.debug("typeStr2Type", e30), "==" === e30) ? "thick" : "normal";
}
function ekL(e30) {
  switch (e30.trim()) {
    case "--x":
      return "arrow_cross";
    case "--o":
      return "arrow_circle";
    default:
      return "arrow_point";
  }
}
iM(ekE, "typeStr2Type"), iM(ekA, "edgeTypeStr2Type"), iM(ekL, "edgeStrToEdgeData");
var ekI = 0, ekM = iM(() => (ekI++, "id-" + Math.random().toString(36).substr(2, 12) + "-" + ekI), "generateId"), ekN = iM((e30) => {
  ekS.children = e30, ek_(e30, ekS), ekT = ekS.children;
}, "setHierarchy"), ekR = iM((e30) => {
  let t10 = ekd.get(e30);
  return t10 ? t10.columns ? t10.columns : t10.children ? t10.children.length : -1 : -1;
}, "getColumns"), ekD = iM(() => [...ekd.values()], "getBlocksFlat"), ekO = iM(() => ekT || [], "getBlocks"), ek$ = iM(() => ekp, "getEdges"), ekP = iM((e30) => ekd.get(e30), "getBlock"), ekB = iM((e30) => {
  ekd.set(e30.id, e30);
}, "setBlock"), ekF = iM(() => console, "getLogger"), ekz = iM(function() {
  return ekv;
}, "getClasses"), ekj = { getConfig: iM(() => aj().block, "getConfig"), typeStr2Type: ekE, edgeTypeStr2Type: ekA, edgeStrToEdgeData: ekL, getLogger: ekF, getBlocksFlat: ekD, getBlocks: ekO, getEdges: ek$, setHierarchy: ekN, getBlock: ekP, setBlock: ekB, getColumns: ekR, getClasses: ekz, clear: ekC, generateId: ekM }, ekq = iM((e30, t10) => at(ar(e30, "r"), ar(e30, "g"), ar(e30, "b"), t10), "fade"), ekU = iM((e30) => `.label {
    font-family: ${e30.fontFamily};
    color: ${e30.nodeTextColor || e30.textColor};
  }
  .cluster-label text {
    fill: ${e30.titleColor};
  }
  .cluster-label span,p {
    color: ${e30.titleColor};
  }



  .label text,span,p {
    fill: ${e30.nodeTextColor || e30.textColor};
    color: ${e30.nodeTextColor || e30.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e30.mainBkg};
    stroke: ${e30.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e30.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e30.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e30.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e30.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e30.edgeLabelBackground};
      fill: ${e30.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${ekq(e30.edgeLabelBackground, 0.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${ekq(e30.mainBkg, 0.5)};
    fill: ${ekq(e30.clusterBkg, 0.5)};
    stroke: ${ekq(e30.clusterBorder, 0.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e30.titleColor};
  }

  .cluster span,p {
    color: ${e30.titleColor};
  }
  /* .cluster div {
    color: ${e30.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e30.fontFamily};
    font-size: 12px;
    background: ${e30.tertiaryColor};
    border: 1px solid ${e30.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e30.textColor};
  }
`, "getStyles"), ekW = iM((e30, t10, r10, n10) => {
  t10.forEach((t11) => {
    ekK[t11](e30, r10, n10);
  });
}, "insertMarkers"), ekV = iM((e30, t10, r10) => {
  iz.trace("Making markers for ", r10), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-extensionStart").attr("class", "marker extension " + t10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-extensionEnd").attr("class", "marker extension " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
}, "extension"), ekH = iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-compositionStart").attr("class", "marker composition " + t10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-compositionEnd").attr("class", "marker composition " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "composition"), ekY = iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-aggregationStart").attr("class", "marker aggregation " + t10).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-aggregationEnd").attr("class", "marker aggregation " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
}, "aggregation"), ekG = iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-dependencyStart").attr("class", "marker dependency " + t10).attr("refX", 6).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z"), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-dependencyEnd").attr("class", "marker dependency " + t10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
}, "dependency"), ekX = iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-lollipopStart").attr("class", "marker lollipop " + t10).attr("refX", 13).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6), e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-lollipopEnd").attr("class", "marker lollipop " + t10).attr("refX", 1).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);
}, "lollipop"), ekK = { extension: ekV, composition: ekH, aggregation: ekY, dependency: ekG, lollipop: ekX, point: iM((e30, t10, r10) => {
  e30.append("marker").attr("id", r10 + "_" + t10 + "-pointEnd").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", 6).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), e30.append("marker").attr("id", r10 + "_" + t10 + "-pointStart").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", 4.5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "point"), circle: iM((e30, t10, r10) => {
  e30.append("marker").attr("id", r10 + "_" + t10 + "-circleEnd").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0"), e30.append("marker").attr("id", r10 + "_" + t10 + "-circleStart").attr("class", "marker " + t10).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
}, "circle"), cross: iM((e30, t10, r10) => {
  e30.append("marker").attr("id", r10 + "_" + t10 + "-crossEnd").attr("class", "marker cross " + t10).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0"), e30.append("marker").attr("id", r10 + "_" + t10 + "-crossStart").attr("class", "marker cross " + t10).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
}, "cross"), barb: iM((e30, t10, r10) => {
  e30.append("defs").append("marker").attr("id", r10 + "_" + t10 + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "strokeWidth").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
}, "barb") }, ekZ = null !== (i_ = null === (iw = aj()) || void 0 === iw ? void 0 : null === (ik = iw.block) || void 0 === ik ? void 0 : ik.padding) && void 0 !== i_ ? i_ : 8;
function ekQ(e30, t10) {
  if (0 === e30 || !Number.isInteger(e30)) throw Error("Columns must be an integer !== 0.");
  if (t10 < 0 || !Number.isInteger(t10)) throw Error("Position must be a non-negative integer." + t10);
  if (e30 < 0) return { px: t10, py: 0 };
  if (1 === e30) return { px: 0, py: t10 };
  let r10 = Math.floor(t10 / e30);
  return { px: t10 % e30, py: r10 };
}
iM(ekQ, "calculateBlockPosition");
var ekJ = iM((e30) => {
  let t10 = 0, r10 = 0;
  for (let a10 of e30.children) {
    var n10, i10;
    let { width: s10, height: o10, x: l10, y: h10 } = null !== (n10 = a10.size) && void 0 !== n10 ? n10 : { width: 0, height: 0, x: 0, y: 0 };
    iz.debug("getMaxChildSize abc95 child:", a10.id, "width:", s10, "height:", o10, "x:", l10, "y:", h10, a10.type), "space" !== a10.type && (s10 > t10 && (t10 = s10 / (null !== (i10 = e30.widthInColumns) && void 0 !== i10 ? i10 : 1)), o10 > r10 && (r10 = o10));
  }
  return { width: t10, height: r10 };
}, "getMaxChildSize");
function ek0(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10;
  let x10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, b10 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
  iz.debug("setBlockSizes abc95 (start)", e30.id, null == e30 ? void 0 : null === (r10 = e30.size) || void 0 === r10 ? void 0 : r10.x, "block width =", null == e30 ? void 0 : e30.size, "sieblingWidth", x10), (null == e30 ? void 0 : null === (n10 = e30.size) || void 0 === n10 ? void 0 : n10.width) || (e30.size = { width: x10, height: b10, x: 0, y: 0 });
  let k10 = 0, w10 = 0;
  if ((null === (i10 = e30.children) || void 0 === i10 ? void 0 : i10.length) > 0) {
    for (let r12 of e30.children) ek0(r12, t10);
    let r11 = ekJ(e30);
    for (let t11 of (k10 = r11.width, w10 = r11.height, iz.debug("setBlockSizes abc95 maxWidth of", e30.id, ":s children is ", k10, w10), e30.children)) t11.size && (iz.debug(`abc95 Setting size of children of ${e30.id} id=${t11.id} ${k10} ${w10} ${JSON.stringify(t11.size)}`), t11.size.width = k10 * (null !== (d10 = t11.widthInColumns) && void 0 !== d10 ? d10 : 1) + ekZ * ((null !== (p10 = t11.widthInColumns) && void 0 !== p10 ? p10 : 1) - 1), t11.size.height = w10, t11.size.x = 0, t11.size.y = 0, iz.debug(`abc95 updating size of ${e30.id} children child:${t11.id} maxWidth:${k10} maxHeight:${w10}`));
    for (let r12 of e30.children) ek0(r12, t10, k10, w10);
    let n11 = null !== (f10 = e30.columns) && void 0 !== f10 ? f10 : -1, i11 = 0;
    for (let t11 of e30.children) i11 += null !== (g10 = t11.widthInColumns) && void 0 !== g10 ? g10 : 1;
    let a11 = e30.children.length;
    n11 > 0 && n11 < i11 && (a11 = n11);
    let s11 = Math.ceil(i11 / a11), o11 = a11 * (k10 + ekZ) + ekZ, l11 = s11 * (w10 + ekZ) + ekZ;
    if (o11 < x10) {
      iz.debug(`Detected to small siebling: abc95 ${e30.id} sieblingWidth ${x10} sieblingHeight ${b10} width ${o11}`), o11 = x10, l11 = b10;
      let t11 = (x10 - a11 * ekZ - ekZ) / a11, r12 = (b10 - s11 * ekZ - ekZ) / s11;
      for (let n12 of (iz.debug("Size indata abc88", e30.id, "childWidth", t11, "maxWidth", k10), iz.debug("Size indata abc88", e30.id, "childHeight", r12, "maxHeight", w10), iz.debug("Size indata abc88 xSize", a11, "padding", ekZ), e30.children)) n12.size && (n12.size.width = t11, n12.size.height = r12, n12.size.x = 0, n12.size.y = 0);
    }
    if (iz.debug(`abc95 (finale calc) ${e30.id} xSize ${a11} ySize ${s11} columns ${n11}${e30.children.length} width=${Math.max(o11, (null === (h10 = e30.size) || void 0 === h10 ? void 0 : h10.width) || 0)}`), o11 < ((null == e30 ? void 0 : null === (u10 = e30.size) || void 0 === u10 ? void 0 : u10.width) || 0)) {
      o11 = (null == e30 ? void 0 : null === (y10 = e30.size) || void 0 === y10 ? void 0 : y10.width) || 0;
      let t11 = n11 > 0 ? Math.min(e30.children.length, n11) : e30.children.length;
      if (t11 > 0) {
        let r12 = (o11 - t11 * ekZ - ekZ) / t11;
        for (let t12 of (iz.debug("abc95 (growing to fit) width", e30.id, o11, null === (v10 = e30.size) || void 0 === v10 ? void 0 : v10.width, r12), e30.children)) t12.size && (t12.size.width = r12);
      }
    }
    e30.size = { width: o11, height: l11, x: 0, y: 0 };
  }
  iz.debug("setBlockSizes abc94 (done)", e30.id, null == e30 ? void 0 : null === (a10 = e30.size) || void 0 === a10 ? void 0 : a10.x, null == e30 ? void 0 : null === (s10 = e30.size) || void 0 === s10 ? void 0 : s10.width, null == e30 ? void 0 : null === (o10 = e30.size) || void 0 === o10 ? void 0 : o10.y, null == e30 ? void 0 : null === (l10 = e30.size) || void 0 === l10 ? void 0 : l10.height);
}
function ek1(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10, x10, b10, k10, w10, _10, T10, S10;
  iz.debug(`abc85 layout blocks (=>layoutBlocks) ${e30.id} x: ${null == e30 ? void 0 : null === (r10 = e30.size) || void 0 === r10 ? void 0 : r10.x} y: ${null == e30 ? void 0 : null === (n10 = e30.size) || void 0 === n10 ? void 0 : n10.y} width: ${null == e30 ? void 0 : null === (i10 = e30.size) || void 0 === i10 ? void 0 : i10.width}`);
  let C10 = null !== (l10 = e30.columns) && void 0 !== l10 ? l10 : -1;
  if (iz.debug("layoutBlocks columns abc95", e30.id, "=>", C10, e30), e30.children && e30.children.length > 0) {
    let t11 = null !== (y10 = null == e30 ? void 0 : null === (u10 = e30.children[0]) || void 0 === u10 ? void 0 : null === (h10 = u10.size) || void 0 === h10 ? void 0 : h10.width) && void 0 !== y10 ? y10 : 0, r11 = e30.children.length * t11 + (e30.children.length - 1) * ekZ;
    iz.debug("widthOfChildren 88", r11, "posX");
    let n11 = 0;
    iz.debug("abc91 block?.size?.x", e30.id, null == e30 ? void 0 : null === (d10 = e30.size) || void 0 === d10 ? void 0 : d10.x);
    let i11 = (null == e30 ? void 0 : null === (p10 = e30.size) || void 0 === p10 ? void 0 : p10.x) ? (null == e30 ? void 0 : null === (f10 = e30.size) || void 0 === f10 ? void 0 : f10.x) + (-(null == e30 ? void 0 : null === (g10 = e30.size) || void 0 === g10 ? void 0 : g10.width) / 2 || 0) : -ekZ, a11 = 0;
    for (let t12 of e30.children) {
      if (!t12.size) continue;
      let { width: r12, height: s11 } = t12.size, { px: o11, py: l11 } = ekQ(C10, n11);
      if (l11 != a11 && (a11 = l11, i11 = (null == e30 ? void 0 : null === (b10 = e30.size) || void 0 === b10 ? void 0 : b10.x) ? (null == e30 ? void 0 : null === (k10 = e30.size) || void 0 === k10 ? void 0 : k10.x) + (-(null == e30 ? void 0 : null === (w10 = e30.size) || void 0 === w10 ? void 0 : w10.width) / 2 || 0) : -ekZ, iz.debug("New row in layout for block", e30.id, " and child ", t12.id, a11)), iz.debug(`abc89 layout blocks (child) id: ${t12.id} Pos: ${n11} (px, py) ${o11},${l11} (${null == e30 ? void 0 : null === (v10 = e30.size) || void 0 === v10 ? void 0 : v10.x},${null == e30 ? void 0 : null === (x10 = e30.size) || void 0 === x10 ? void 0 : x10.y}) parent: ${e30.id} width: ${r12}${ekZ}`), e30.size) {
        let n12 = r12 / 2;
        t12.size.x = i11 + ekZ + n12, iz.debug(`abc91 layout blocks (calc) px, pyid:${t12.id} startingPos=X${i11} new startingPosX${t12.size.x} ${n12} padding=${ekZ} width=${r12} halfWidth=${n12} => x:${t12.size.x} y:${t12.size.y} ${t12.widthInColumns} (width * (child?.w || 1)) / 2 ${r12 * (null !== (_10 = null == t12 ? void 0 : t12.widthInColumns) && void 0 !== _10 ? _10 : 1) / 2}`), i11 = t12.size.x + n12, t12.size.y = e30.size.y - e30.size.height / 2 + l11 * (s11 + ekZ) + s11 / 2 + ekZ, iz.debug(`abc88 layout blocks (calc) px, pyid:${t12.id}startingPosX${i11}${ekZ}${n12}=>x:${t12.size.x}y:${t12.size.y}${t12.widthInColumns}(width * (child?.w || 1)) / 2${r12 * (null !== (T10 = null == t12 ? void 0 : t12.widthInColumns) && void 0 !== T10 ? T10 : 1) / 2}`);
      }
      t12.children && ek1(t12), n11 += null !== (S10 = null == t12 ? void 0 : t12.widthInColumns) && void 0 !== S10 ? S10 : 1, iz.debug("abc88 columnsPos", t12, n11);
    }
  }
  iz.debug(`layout blocks (<==layoutBlocks) ${e30.id} x: ${null == e30 ? void 0 : null === (a10 = e30.size) || void 0 === a10 ? void 0 : a10.x} y: ${null == e30 ? void 0 : null === (s10 = e30.size) || void 0 === s10 ? void 0 : s10.y} width: ${null == e30 ? void 0 : null === (o10 = e30.size) || void 0 === o10 ? void 0 : o10.width}`);
}
function ek2(e30) {
  let { minX: t10, minY: r10, maxX: n10, maxY: i10 } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : { minX: 0, minY: 0, maxX: 0, maxY: 0 };
  if (e30.size && "root" !== e30.id) {
    let { x: a10, y: s10, width: o10, height: l10 } = e30.size;
    a10 - o10 / 2 < t10 && (t10 = a10 - o10 / 2), s10 - l10 / 2 < r10 && (r10 = s10 - l10 / 2), a10 + o10 / 2 > n10 && (n10 = a10 + o10 / 2), s10 + l10 / 2 > i10 && (i10 = s10 + l10 / 2);
  }
  if (e30.children) for (let a10 of e30.children) ({ minX: t10, minY: r10, maxX: n10, maxY: i10 } = ek2(a10, { minX: t10, minY: r10, maxX: n10, maxY: i10 }));
  return { minX: t10, minY: r10, maxX: n10, maxY: i10 };
}
function ek4(e30) {
  let t10 = e30.getBlock("root");
  if (!t10) return;
  ek0(t10, e30, 0, 0), ek1(t10), iz.debug("getBlocks", JSON.stringify(t10, null, 2));
  let { minX: r10, minY: n10, maxX: i10, maxY: a10 } = ek2(t10);
  return { x: r10, y: n10, width: i10 - r10, height: a10 - n10 };
}
function ek3(e30, t10) {
  t10 && e30.attr("style", t10);
}
function ek5(e30) {
  let t10 = c$(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject")), r10 = t10.append("xhtml:div"), n10 = e30.label, i10 = e30.isNode ? "nodeLabel" : "edgeLabel", a10 = r10.append("span");
  return a10.html(n10), ek3(a10, e30.labelStyle), a10.attr("class", i10), ek3(r10, e30.labelStyle), r10.style("display", "inline-block"), r10.style("white-space", "nowrap"), r10.attr("xmlns", "http://www.w3.org/1999/xhtml"), t10.node();
}
iM(ek0, "setBlockSizes"), iM(ek1, "layoutBlocks"), iM(ek2, "findBounds"), iM(ek4, "layout"), iM(ek3, "applyStyle"), iM(ek5, "addHtmlLabel");
var ek6 = iM((e30, t10, r10, n10) => {
  let i10 = e30 || "";
  if ("object" == typeof i10 && (i10 = i10[0]), sQ(aj().flowchart.htmlLabels)) return i10 = i10.replace(/\\n|\n/g, "<br />"), iz.debug("vertexText" + i10), ek5({ isNode: n10, label: _g(k3(i10)), labelStyle: t10.replace("fill:", "color:") });
  {
    let e31 = document.createElementNS("http://www.w3.org/2000/svg", "text");
    e31.setAttribute("style", t10.replace("color:", "fill:"));
    for (let t11 of "string" == typeof i10 ? i10.split(/\\n|\n|<br\s*\/?>/gi) : Array.isArray(i10) ? i10 : []) {
      let n11 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
      n11.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), n11.setAttribute("dy", "1em"), n11.setAttribute("x", "0"), r10 ? n11.setAttribute("class", "title-row") : n11.setAttribute("class", "row"), n11.textContent = t11.trim(), e31.appendChild(n11);
    }
    return e31;
  }
}, "createLabel"), ek7 = iM((e30, t10, r10, n10, i10) => {
  t10.arrowTypeStart && ek9(e30, "start", t10.arrowTypeStart, r10, n10, i10), t10.arrowTypeEnd && ek9(e30, "end", t10.arrowTypeEnd, r10, n10, i10);
}, "addEdgeMarkers"), ek8 = { arrow_cross: "cross", arrow_point: "point", arrow_barb: "barb", arrow_circle: "circle", aggregation: "aggregation", extension: "extension", composition: "composition", dependency: "dependency", lollipop: "lollipop" }, ek9 = iM((e30, t10, r10, n10, i10, a10) => {
  let s10 = ek8[r10];
  if (!s10) {
    iz.warn(`Unknown arrow type: ${r10}`);
    return;
  }
  e30.attr(`marker-${t10}`, `url(${n10}#${i10}_${a10}-${s10}${"start" === t10 ? "Start" : "End"})`);
}, "addEdgeMarker"), ewe = {}, ewt = {}, ewr = iM((e30, t10) => {
  let r10;
  let n10 = aj(), i10 = sQ(n10.flowchart.htmlLabels), a10 = "markdown" === t10.labelType ? _m(e30, t10.label, { style: t10.labelStyle, useHtmlLabels: i10, addSvgBackground: true }, n10) : ek6(t10.label, t10.labelStyle), s10 = e30.insert("g").attr("class", "edgeLabel"), o10 = s10.insert("g").attr("class", "label");
  o10.node().appendChild(a10);
  let l10 = a10.getBBox();
  if (i10) {
    let e31 = a10.children[0], t11 = c$(a10);
    l10 = e31.getBoundingClientRect(), t11.attr("width", l10.width), t11.attr("height", l10.height);
  }
  if (o10.attr("transform", "translate(" + -l10.width / 2 + ", " + -l10.height / 2 + ")"), ewe[t10.id] = s10, t10.width = l10.width, t10.height = l10.height, t10.startLabelLeft) {
    let n11 = ek6(t10.startLabelLeft, t10.labelStyle), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), ewt[t10.id] || (ewt[t10.id] = {}), ewt[t10.id].startLeft = i11, ewn(r10, t10.startLabelLeft);
  }
  if (t10.startLabelRight) {
    let n11 = ek6(t10.startLabelRight, t10.labelStyle), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = i11.node().appendChild(n11), a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), ewt[t10.id] || (ewt[t10.id] = {}), ewt[t10.id].startRight = i11, ewn(r10, t10.startLabelRight);
  }
  if (t10.endLabelLeft) {
    let n11 = ek6(t10.endLabelLeft, t10.labelStyle), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), i11.node().appendChild(n11), ewt[t10.id] || (ewt[t10.id] = {}), ewt[t10.id].endLeft = i11, ewn(r10, t10.endLabelLeft);
  }
  if (t10.endLabelRight) {
    let n11 = ek6(t10.endLabelRight, t10.labelStyle), i11 = e30.insert("g").attr("class", "edgeTerminals"), a11 = i11.insert("g").attr("class", "inner");
    r10 = a11.node().appendChild(n11);
    let s11 = n11.getBBox();
    a11.attr("transform", "translate(" + -s11.width / 2 + ", " + -s11.height / 2 + ")"), i11.node().appendChild(n11), ewt[t10.id] || (ewt[t10.id] = {}), ewt[t10.id].endRight = i11, ewn(r10, t10.endLabelRight);
  }
  return a10;
}, "insertEdgeLabel");
function ewn(e30, t10) {
  aj().flowchart.htmlLabels && e30 && (e30.style.width = 9 * t10.length + "px", e30.style.height = "12px");
}
iM(ewn, "setTerminalWidth");
var ewi = iM((e30, t10) => {
  iz.debug("Moving label abc88 ", e30.id, e30.label, ewe[e30.id], t10);
  let r10 = t10.updatedPath ? t10.updatedPath : t10.originalPath, { subGraphTitleTotalMargin: n10 } = vO(aj());
  if (e30.label) {
    let i10 = ewe[e30.id], a10 = e30.x, s10 = e30.y;
    if (r10) {
      let n11 = k2.calcLabelPosition(r10);
      iz.debug("Moving label " + e30.label + " from (", a10, ",", s10, ") to (", n11.x, ",", n11.y, ") abc88"), t10.updatedPath && (a10 = n11.x, s10 = n11.y);
    }
    i10.attr("transform", `translate(${a10}, ${s10 + n10 / 2})`);
  }
  if (e30.startLabelLeft) {
    let t11 = ewt[e30.id].startLeft, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeStart ? 10 : 0, "start_left", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
  if (e30.startLabelRight) {
    let t11 = ewt[e30.id].startRight, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeStart ? 10 : 0, "start_right", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
  if (e30.endLabelLeft) {
    let t11 = ewt[e30.id].endLeft, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeEnd ? 10 : 0, "end_left", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
  if (e30.endLabelRight) {
    let t11 = ewt[e30.id].endRight, n11 = e30.x, i10 = e30.y;
    if (r10) {
      let t12 = k2.calcTerminalLabelPosition(e30.arrowTypeEnd ? 10 : 0, "end_right", r10);
      n11 = t12.x, i10 = t12.y;
    }
    t11.attr("transform", `translate(${n11}, ${i10})`);
  }
}, "positionEdgeLabel"), ewa = iM((e30, t10) => {
  let r10 = e30.x, n10 = e30.y, i10 = Math.abs(t10.x - r10), a10 = Math.abs(t10.y - n10), s10 = e30.width / 2, o10 = e30.height / 2;
  return i10 >= s10 || a10 >= o10;
}, "outsideNode"), ews = iM((e30, t10, r10) => {
  iz.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t10)}
  insidePoint : ${JSON.stringify(r10)}
  node        : x:${e30.x} y:${e30.y} w:${e30.width} h:${e30.height}`);
  let n10 = e30.x, i10 = e30.y, a10 = Math.abs(n10 - r10.x), s10 = e30.width / 2, o10 = r10.x < t10.x ? s10 - a10 : s10 + a10, l10 = e30.height / 2, h10 = Math.abs(t10.y - r10.y), u10 = Math.abs(t10.x - r10.x);
  if (Math.abs(i10 - t10.y) * s10 > Math.abs(n10 - t10.x) * l10) {
    let e31 = r10.y < t10.y ? t10.y - l10 - i10 : i10 - l10 - t10.y;
    o10 = u10 * e31 / h10;
    let n11 = { x: r10.x < t10.x ? r10.x + o10 : r10.x - u10 + o10, y: r10.y < t10.y ? r10.y + h10 - e31 : r10.y - h10 + e31 };
    return 0 === o10 && (n11.x = t10.x, n11.y = t10.y), 0 === u10 && (n11.x = t10.x), 0 === h10 && (n11.y = t10.y), iz.debug(`abc89 topp/bott calc, Q ${h10}, q ${e31}, R ${u10}, r ${o10}`, n11), n11;
  }
  {
    let e31 = h10 * (o10 = r10.x < t10.x ? t10.x - s10 - n10 : n10 - s10 - t10.x) / u10, i11 = r10.x < t10.x ? r10.x + u10 - o10 : r10.x - u10 + o10, a11 = r10.y < t10.y ? r10.y + e31 : r10.y - e31;
    return iz.debug(`sides calc abc89, Q ${h10}, q ${e31}, R ${u10}, r ${o10}`, { _x: i11, _y: a11 }), 0 === o10 && (i11 = t10.x, a11 = t10.y), 0 === u10 && (i11 = t10.x), 0 === h10 && (a11 = t10.y), { x: i11, y: a11 };
  }
}, "intersection"), ewo = iM((e30, t10) => {
  iz.debug("abc88 cutPathAtIntersect", e30, t10);
  let r10 = [], n10 = e30[0], i10 = false;
  return e30.forEach((e31) => {
    if (ewa(t10, e31) || i10) n10 = e31, i10 || r10.push(e31);
    else {
      let a10 = ews(t10, n10, e31), s10 = false;
      r10.forEach((e32) => {
        s10 = s10 || e32.x === a10.x && e32.y === a10.y;
      }), r10.some((e32) => e32.x === a10.x && e32.y === a10.y) || r10.push(a10), i10 = true;
    }
  }), r10;
}, "cutPathAtIntersect"), ewl = iM(function(e30, t10, r10, n10, i10, a10, s10) {
  let o10, l10 = r10.points;
  iz.debug("abc88 InsertEdge: edge=", r10, "e=", t10);
  let h10 = false, u10 = a10.node(t10.v);
  var d10 = a10.node(t10.w);
  (null == d10 ? void 0 : d10.intersect) && (null == u10 ? void 0 : u10.intersect) && ((l10 = l10.slice(1, r10.points.length - 1)).unshift(u10.intersect(l10[0])), l10.push(d10.intersect(l10[l10.length - 1]))), r10.toCluster && (iz.debug("to cluster abc88", n10[r10.toCluster]), l10 = ewo(r10.points, n10[r10.toCluster].node), h10 = true), r10.fromCluster && (iz.debug("from cluster abc88", n10[r10.fromCluster]), l10 = ewo(l10.reverse(), n10[r10.fromCluster].node).reverse(), h10 = true);
  let p10 = l10.filter((e31) => !Number.isNaN(e31.y)), f10 = fr;
  r10.curve && ("graph" === i10 || "flowchart" === i10) && (f10 = r10.curve);
  let { x: g10, y: y10 } = Cn(r10), v10 = p4().x(g10).y(y10).curve(f10);
  switch (r10.thickness) {
    case "normal":
      o10 = "edge-thickness-normal";
      break;
    case "thick":
    case "invisible":
      o10 = "edge-thickness-thick";
      break;
    default:
      o10 = "";
  }
  switch (r10.pattern) {
    case "solid":
      o10 += " edge-pattern-solid";
      break;
    case "dotted":
      o10 += " edge-pattern-dotted";
      break;
    case "dashed":
      o10 += " edge-pattern-dashed";
  }
  let x10 = e30.append("path").attr("d", v10(p10)).attr("id", r10.id).attr("class", " " + o10 + (r10.classes ? " " + r10.classes : "")).attr("style", r10.style), b10 = "";
  (aj().flowchart.arrowMarkerAbsolute || aj().state.arrowMarkerAbsolute) && (b10 = (b10 = (b10 = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search).replace(/\(/g, "\\(")).replace(/\)/g, "\\)")), ek7(x10, r10, b10, s10, i10);
  let k10 = {};
  return h10 && (k10.updatedPath = l10), k10.originalPath = r10.points, k10;
}, "insertEdge"), ewc = iM((e30) => {
  let t10 = /* @__PURE__ */ new Set();
  for (let r10 of e30) switch (r10) {
    case "x":
      t10.add("right"), t10.add("left");
      break;
    case "y":
      t10.add("up"), t10.add("down");
      break;
    default:
      t10.add(r10);
  }
  return t10;
}, "expandAndDeduplicateDirections"), ewh = iM((e30, t10, r10) => {
  let n10 = ewc(e30), i10 = t10.height + 2 * r10.padding, a10 = i10 / 2, s10 = t10.width + 2 * a10 + r10.padding, o10 = r10.padding / 2;
  return n10.has("right") && n10.has("left") && n10.has("up") && n10.has("down") ? [{ x: 0, y: 0 }, { x: a10, y: 0 }, { x: s10 / 2, y: 2 * o10 }, { x: s10 - a10, y: 0 }, { x: s10, y: 0 }, { x: s10, y: -i10 / 3 }, { x: s10 + 2 * o10, y: -i10 / 2 }, { x: s10, y: -2 * i10 / 3 }, { x: s10, y: -i10 }, { x: s10 - a10, y: -i10 }, { x: s10 / 2, y: -i10 - 2 * o10 }, { x: a10, y: -i10 }, { x: 0, y: -i10 }, { x: 0, y: -2 * i10 / 3 }, { x: -2 * o10, y: -i10 / 2 }, { x: 0, y: -i10 / 3 }] : n10.has("right") && n10.has("left") && n10.has("up") ? [{ x: a10, y: 0 }, { x: s10 - a10, y: 0 }, { x: s10, y: -i10 / 2 }, { x: s10 - a10, y: -i10 }, { x: a10, y: -i10 }, { x: 0, y: -i10 / 2 }] : n10.has("right") && n10.has("left") && n10.has("down") ? [{ x: 0, y: 0 }, { x: a10, y: -i10 }, { x: s10 - a10, y: -i10 }, { x: s10, y: 0 }] : n10.has("right") && n10.has("up") && n10.has("down") ? [{ x: 0, y: 0 }, { x: s10, y: -a10 }, { x: s10, y: -i10 + a10 }, { x: 0, y: -i10 }] : n10.has("left") && n10.has("up") && n10.has("down") ? [{ x: s10, y: 0 }, { x: 0, y: -a10 }, { x: 0, y: -i10 + a10 }, { x: s10, y: -i10 }] : n10.has("right") && n10.has("left") ? [{ x: a10, y: 0 }, { x: a10, y: -o10 }, { x: s10 - a10, y: -o10 }, { x: s10 - a10, y: 0 }, { x: s10, y: -i10 / 2 }, { x: s10 - a10, y: -i10 }, { x: s10 - a10, y: -i10 + o10 }, { x: a10, y: -i10 + o10 }, { x: a10, y: -i10 }, { x: 0, y: -i10 / 2 }] : n10.has("up") && n10.has("down") ? [{ x: s10 / 2, y: 0 }, { x: 0, y: -o10 }, { x: a10, y: -o10 }, { x: a10, y: -i10 + o10 }, { x: 0, y: -i10 + o10 }, { x: s10 / 2, y: -i10 }, { x: s10, y: -i10 + o10 }, { x: s10 - a10, y: -i10 + o10 }, { x: s10 - a10, y: -o10 }, { x: s10, y: -o10 }] : n10.has("right") && n10.has("up") ? [{ x: 0, y: 0 }, { x: s10, y: -a10 }, { x: 0, y: -i10 }] : n10.has("right") && n10.has("down") ? [{ x: 0, y: 0 }, { x: s10, y: 0 }, { x: 0, y: -i10 }] : n10.has("left") && n10.has("up") ? [{ x: s10, y: 0 }, { x: 0, y: -a10 }, { x: s10, y: -i10 }] : n10.has("left") && n10.has("down") ? [{ x: s10, y: 0 }, { x: 0, y: 0 }, { x: s10, y: -i10 }] : n10.has("right") ? [{ x: a10, y: -o10 }, { x: a10, y: -o10 }, { x: s10 - a10, y: -o10 }, { x: s10 - a10, y: 0 }, { x: s10, y: -i10 / 2 }, { x: s10 - a10, y: -i10 }, { x: s10 - a10, y: -i10 + o10 }, { x: a10, y: -i10 + o10 }, { x: a10, y: -i10 + o10 }] : n10.has("left") ? [{ x: a10, y: 0 }, { x: a10, y: -o10 }, { x: s10 - a10, y: -o10 }, { x: s10 - a10, y: -i10 + o10 }, { x: a10, y: -i10 + o10 }, { x: a10, y: -i10 }, { x: 0, y: -i10 / 2 }] : n10.has("up") ? [{ x: a10, y: -o10 }, { x: a10, y: -i10 + o10 }, { x: 0, y: -i10 + o10 }, { x: s10 / 2, y: -i10 }, { x: s10, y: -i10 + o10 }, { x: s10 - a10, y: -i10 + o10 }, { x: s10 - a10, y: -o10 }] : n10.has("down") ? [{ x: s10 / 2, y: 0 }, { x: 0, y: -o10 }, { x: a10, y: -o10 }, { x: a10, y: -i10 + o10 }, { x: s10 - a10, y: -i10 + o10 }, { x: s10 - a10, y: -o10 }, { x: s10, y: -o10 }] : [{ x: 0, y: 0 }];
}, "getArrowPoints");
function ewu(e30, t10, r10, n10) {
  var i10 = e30.x, a10 = e30.y, s10 = i10 - n10.x, o10 = a10 - n10.y, l10 = Math.sqrt(t10 * t10 * o10 * o10 + r10 * r10 * s10 * s10), h10 = Math.abs(t10 * r10 * s10 / l10);
  n10.x < i10 && (h10 = -h10);
  var u10 = Math.abs(t10 * r10 * o10 / l10);
  return n10.y < a10 && (u10 = -u10), { x: i10 + h10, y: a10 + u10 };
}
function ewd(e30, t10, r10) {
  return ewu(e30, t10, t10, r10);
}
function ewp(e30, t10, r10, n10) {
  var i10, a10, s10, o10, l10, h10, u10, d10, p10, f10, g10, y10, v10;
  if (i10 = t10.y - e30.y, s10 = e30.x - t10.x, l10 = t10.x * e30.y - e30.x * t10.y, p10 = i10 * r10.x + s10 * r10.y + l10, f10 = i10 * n10.x + s10 * n10.y + l10, !(0 !== p10 && 0 !== f10 && ewf(p10, f10)) && (a10 = n10.y - r10.y, o10 = r10.x - n10.x, h10 = n10.x * r10.y - r10.x * n10.y, u10 = a10 * e30.x + o10 * e30.y + h10, d10 = a10 * t10.x + o10 * t10.y + h10, !(0 !== u10 && 0 !== d10 && ewf(u10, d10)) && 0 != (g10 = i10 * o10 - a10 * s10))) return y10 = Math.abs(g10 / 2), { x: (v10 = s10 * h10 - o10 * l10) < 0 ? (v10 - y10) / g10 : (v10 + y10) / g10, y: (v10 = a10 * l10 - i10 * h10) < 0 ? (v10 - y10) / g10 : (v10 + y10) / g10 };
}
function ewf(e30, t10) {
  return e30 * t10 > 0;
}
function ewg(e30, t10, r10) {
  var n10 = e30.x, i10 = e30.y, a10 = [], s10 = Number.POSITIVE_INFINITY, o10 = Number.POSITIVE_INFINITY;
  "function" == typeof t10.forEach ? t10.forEach(function(e31) {
    s10 = Math.min(s10, e31.x), o10 = Math.min(o10, e31.y);
  }) : (s10 = Math.min(s10, t10.x), o10 = Math.min(o10, t10.y));
  for (var l10 = n10 - e30.width / 2 - s10, h10 = i10 - e30.height / 2 - o10, u10 = 0; u10 < t10.length; u10++) {
    var d10 = t10[u10], p10 = t10[u10 < t10.length - 1 ? u10 + 1 : 0], f10 = ewp(e30, r10, { x: l10 + d10.x, y: h10 + d10.y }, { x: l10 + p10.x, y: h10 + p10.y });
    f10 && a10.push(f10);
  }
  return a10.length ? (a10.length > 1 && a10.sort(function(e31, t11) {
    var n11 = e31.x - r10.x, i11 = e31.y - r10.y, a11 = Math.sqrt(n11 * n11 + i11 * i11), s11 = t11.x - r10.x, o11 = t11.y - r10.y, l11 = Math.sqrt(s11 * s11 + o11 * o11);
    return a11 < l11 ? -1 : a11 === l11 ? 0 : 1;
  }), a10[0]) : e30;
}
iM(function(e30, t10) {
  return e30.intersect(t10);
}, "intersectNode"), iM(ewu, "intersectEllipse"), iM(ewd, "intersectCircle"), iM(ewp, "intersectLine"), iM(ewf, "sameSign"), iM(ewg, "intersectPolygon");
var ewm = iM((e30, t10) => {
  var r10, n10, i10 = e30.x, a10 = e30.y, s10 = t10.x - i10, o10 = t10.y - a10, l10 = e30.width / 2, h10 = e30.height / 2;
  return Math.abs(o10) * l10 > Math.abs(s10) * h10 ? (o10 < 0 && (h10 = -h10), r10 = 0 === o10 ? 0 : h10 * s10 / o10, n10 = h10) : (s10 < 0 && (l10 = -l10), r10 = l10, n10 = 0 === s10 ? 0 : l10 * o10 / s10), { x: i10 + r10, y: a10 + n10 };
}, "intersectRect"), ewy = iM(async (e30, t10, r10, n10) => {
  let i10, a10, s10;
  let o10 = aj(), l10 = t10.useHtmlLabels || sQ(o10.flowchart.htmlLabels);
  i10 = r10 || "node default";
  let h10 = e30.insert("g").attr("class", i10).attr("id", t10.domId || t10.id), u10 = h10.insert("g").attr("class", "label").attr("style", t10.labelStyle);
  a10 = void 0 === t10.labelText ? "" : "string" == typeof t10.labelText ? t10.labelText : t10.labelText[0];
  let d10 = u10.node(), p10 = (s10 = "markdown" === t10.labelType ? _m(u10, sV(k3(a10), o10), { useHtmlLabels: l10, width: t10.width || o10.flowchart.wrappingWidth, classes: "markdown-node-label" }, o10) : d10.appendChild(ek6(sV(k3(a10), o10), t10.labelStyle, false, n10))).getBBox(), f10 = t10.padding / 2;
  if (sQ(o10.flowchart.htmlLabels)) {
    let e31 = s10.children[0], t11 = c$(s10), r11 = e31.getElementsByTagName("img");
    if (r11) {
      let e32 = "" === a10.replace(/<img[^>]*>/g, "").trim();
      await Promise.all([...r11].map((t12) => new Promise((r12) => {
        function n11() {
          if (t12.style.display = "flex", t12.style.flexDirection = "column", e32) {
            let e33 = 5 * parseInt(o10.fontSize ? o10.fontSize : window.getComputedStyle(document.body).fontSize, 10) + "px";
            t12.style.minWidth = e33, t12.style.maxWidth = e33;
          } else t12.style.width = "100%";
          r12(t12);
        }
        iM(n11, "setupImage"), setTimeout(() => {
          t12.complete && n11();
        }), t12.addEventListener("error", n11), t12.addEventListener("load", n11);
      })));
    }
    p10 = e31.getBoundingClientRect(), t11.attr("width", p10.width), t11.attr("height", p10.height);
  }
  return l10 ? u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")") : u10.attr("transform", "translate(0, " + -p10.height / 2 + ")"), t10.centerLabel && u10.attr("transform", "translate(" + -p10.width / 2 + ", " + -p10.height / 2 + ")"), u10.insert("rect", ":first-child"), { shapeSvg: h10, bbox: p10, halfPadding: f10, label: u10 };
}, "labelHelper"), ewv = iM((e30, t10) => {
  let r10 = t10.node().getBBox();
  e30.width = r10.width, e30.height = r10.height;
}, "updateNodeBounds");
function ewx(e30, t10, r10, n10) {
  return e30.insert("polygon", ":first-child").attr("points", n10.map(function(e31) {
    return e31.x + "," + e31.y;
  }).join(" ")).attr("class", "label-container").attr("transform", "translate(" + -t10 / 2 + "," + r10 / 2 + ")");
}
iM(ewx, "insertPolygonShape");
var ewb = iM(async (e30, t10) => {
  t10.useHtmlLabels || aj().flowchart.htmlLabels || (t10.centerLabel = true);
  let { shapeSvg: r10, bbox: n10, halfPadding: i10 } = await ewy(e30, t10, "node " + t10.classes, true);
  iz.info("Classes = ", t10.classes);
  let a10 = r10.insert("rect", ":first-child");
  return a10.attr("rx", t10.rx).attr("ry", t10.ry).attr("x", -n10.width / 2 - i10).attr("y", -n10.height / 2 - i10).attr("width", n10.width + t10.padding).attr("height", n10.height + t10.padding), ewv(t10, a10), t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, r10;
}, "note"), ewk = iM((e30) => e30 ? " " + e30 : "", "formatClass"), eww = iM((e30, t10) => `${t10 || "node default"}${ewk(e30.classes)} ${ewk(e30.class)}`, "getClassesFromNode"), ew_ = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding + (n10.height + t10.padding), a10 = [{ x: i10 / 2, y: 0 }, { x: i10, y: -i10 / 2 }, { x: i10 / 2, y: -i10 }, { x: 0, y: -i10 / 2 }];
  iz.info("Question main (Circle)");
  let s10 = ewx(r10, i10, i10, a10);
  return s10.attr("style", t10.style), ewv(t10, s10), t10.intersect = function(e31) {
    return iz.warn("Intersect called"), ewg(t10, a10, e31);
  }, r10;
}, "question"), ewT = iM((e30, t10) => {
  let r10 = e30.insert("g").attr("class", "node default").attr("id", t10.domId || t10.id);
  return r10.insert("polygon", ":first-child").attr("points", [{ x: 0, y: 14 }, { x: 14, y: 0 }, { x: 0, y: -14 }, { x: -14, y: 0 }].map(function(e31) {
    return e31.x + "," + e31.y;
  }).join(" ")).attr("class", "state-start").attr("r", 7).attr("width", 28).attr("height", 28), t10.width = 28, t10.height = 28, t10.intersect = function(e31) {
    return ewd(t10, 14, e31);
  }, r10;
}, "choice"), ewS = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.height + t10.padding, a10 = i10 / 4, s10 = n10.width + 2 * a10 + t10.padding, o10 = [{ x: a10, y: 0 }, { x: s10 - a10, y: 0 }, { x: s10, y: -i10 / 2 }, { x: s10 - a10, y: -i10 }, { x: a10, y: -i10 }, { x: 0, y: -i10 / 2 }], l10 = ewx(r10, s10, i10, o10);
  return l10.attr("style", t10.style), ewv(t10, l10), t10.intersect = function(e31) {
    return ewg(t10, o10, e31);
  }, r10;
}, "hexagon"), ewC = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, void 0, true), i10 = n10.height + 2 * t10.padding, a10 = i10 / 2, s10 = n10.width + 2 * a10 + t10.padding, o10 = ewh(t10.directions, n10, t10), l10 = ewx(r10, s10, i10, o10);
  return l10.attr("style", t10.style), ewv(t10, l10), t10.intersect = function(e31) {
    return ewg(t10, o10, e31);
  }, r10;
}, "block_arrow"), ewE = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding, a10 = n10.height + t10.padding, s10 = [{ x: -a10 / 2, y: 0 }, { x: i10, y: 0 }, { x: i10, y: -a10 }, { x: -a10 / 2, y: -a10 }, { x: 0, y: -a10 / 2 }];
  return ewx(r10, i10, a10, s10).attr("style", t10.style), t10.width = i10 + a10, t10.height = a10, t10.intersect = function(e31) {
    return ewg(t10, s10, e31);
  }, r10;
}, "rect_left_inv_arrow"), ewA = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10), true), i10 = n10.width + t10.padding, a10 = n10.height + t10.padding, s10 = [{ x: -2 * a10 / 6, y: 0 }, { x: i10 - a10 / 6, y: 0 }, { x: i10 + 2 * a10 / 6, y: -a10 }, { x: a10 / 6, y: -a10 }], o10 = ewx(r10, i10, a10, s10);
  return o10.attr("style", t10.style), ewv(t10, o10), t10.intersect = function(e31) {
    return ewg(t10, s10, e31);
  }, r10;
}, "lean_right"), ewL = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding, a10 = n10.height + t10.padding, s10 = [{ x: 2 * a10 / 6, y: 0 }, { x: i10 + a10 / 6, y: 0 }, { x: i10 - 2 * a10 / 6, y: -a10 }, { x: -a10 / 6, y: -a10 }], o10 = ewx(r10, i10, a10, s10);
  return o10.attr("style", t10.style), ewv(t10, o10), t10.intersect = function(e31) {
    return ewg(t10, s10, e31);
  }, r10;
}, "lean_left"), ewI = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding, a10 = n10.height + t10.padding, s10 = [{ x: -2 * a10 / 6, y: 0 }, { x: i10 + 2 * a10 / 6, y: 0 }, { x: i10 - a10 / 6, y: -a10 }, { x: a10 / 6, y: -a10 }], o10 = ewx(r10, i10, a10, s10);
  return o10.attr("style", t10.style), ewv(t10, o10), t10.intersect = function(e31) {
    return ewg(t10, s10, e31);
  }, r10;
}, "trapezoid"), ewM = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding, a10 = n10.height + t10.padding, s10 = [{ x: a10 / 6, y: 0 }, { x: i10 - a10 / 6, y: 0 }, { x: i10 + 2 * a10 / 6, y: -a10 }, { x: -2 * a10 / 6, y: -a10 }], o10 = ewx(r10, i10, a10, s10);
  return o10.attr("style", t10.style), ewv(t10, o10), t10.intersect = function(e31) {
    return ewg(t10, s10, e31);
  }, r10;
}, "inv_trapezoid"), ewN = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding, a10 = n10.height + t10.padding, s10 = [{ x: 0, y: 0 }, { x: i10 + a10 / 2, y: 0 }, { x: i10, y: -a10 / 2 }, { x: i10 + a10 / 2, y: -a10 }, { x: 0, y: -a10 }], o10 = ewx(r10, i10, a10, s10);
  return o10.attr("style", t10.style), ewv(t10, o10), t10.intersect = function(e31) {
    return ewg(t10, s10, e31);
  }, r10;
}, "rect_right_inv_arrow"), ewR = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding, a10 = i10 / 2, s10 = a10 / (2.5 + i10 / 50), o10 = n10.height + s10 + t10.padding, l10 = r10.attr("label-offset-y", s10).insert("path", ":first-child").attr("style", t10.style).attr("d", "M 0," + s10 + " a " + a10 + "," + s10 + " 0,0,0 " + i10 + " 0 a " + a10 + "," + s10 + " 0,0,0 " + -i10 + " 0 l 0," + o10 + " a " + a10 + "," + s10 + " 0,0,0 " + i10 + " 0 l 0," + -o10).attr("transform", "translate(" + -i10 / 2 + "," + -(o10 / 2 + s10) + ")");
  return ewv(t10, l10), t10.intersect = function(e31) {
    let r11 = ewm(t10, e31), n11 = r11.x - t10.x;
    if (0 != a10 && (Math.abs(n11) < t10.width / 2 || Math.abs(n11) == t10.width / 2 && Math.abs(r11.y - t10.y) > t10.height / 2 - s10)) {
      let i11 = s10 * s10 * (1 - n11 * n11 / (a10 * a10));
      0 != i11 && (i11 = Math.sqrt(i11)), i11 = s10 - i11, e31.y - t10.y > 0 && (i11 = -i11), r11.y += i11;
    }
    return r11;
  }, r10;
}, "cylinder"), ewD = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10, halfPadding: i10 } = await ewy(e30, t10, "node " + t10.classes + " " + t10.class, true), a10 = r10.insert("rect", ":first-child"), s10 = t10.positioned ? t10.width : n10.width + t10.padding, o10 = t10.positioned ? t10.height : n10.height + t10.padding, l10 = t10.positioned ? -s10 / 2 : -n10.width / 2 - i10, h10 = t10.positioned ? -o10 / 2 : -n10.height / 2 - i10;
  if (a10.attr("class", "basic label-container").attr("style", t10.style).attr("rx", t10.rx).attr("ry", t10.ry).attr("x", l10).attr("y", h10).attr("width", s10).attr("height", o10), t10.props) {
    let e31 = new Set(Object.keys(t10.props));
    t10.props.borders && (ewP(a10, t10.props.borders, s10, o10), e31.delete("borders")), e31.forEach((e32) => {
      iz.warn(`Unknown node property ${e32}`);
    });
  }
  return ewv(t10, a10), t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, r10;
}, "rect"), ewO = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10, halfPadding: i10 } = await ewy(e30, t10, "node " + t10.classes, true), a10 = r10.insert("rect", ":first-child"), s10 = t10.positioned ? t10.width : n10.width + t10.padding, o10 = t10.positioned ? t10.height : n10.height + t10.padding, l10 = t10.positioned ? -s10 / 2 : -n10.width / 2 - i10, h10 = t10.positioned ? -o10 / 2 : -n10.height / 2 - i10;
  if (a10.attr("class", "basic cluster composite label-container").attr("style", t10.style).attr("rx", t10.rx).attr("ry", t10.ry).attr("x", l10).attr("y", h10).attr("width", s10).attr("height", o10), t10.props) {
    let e31 = new Set(Object.keys(t10.props));
    t10.props.borders && (ewP(a10, t10.props.borders, s10, o10), e31.delete("borders")), e31.forEach((e32) => {
      iz.warn(`Unknown node property ${e32}`);
    });
  }
  return ewv(t10, a10), t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, r10;
}, "composite"), ew$ = iM(async (e30, t10) => {
  let { shapeSvg: r10 } = await ewy(e30, t10, "label", true);
  iz.trace("Classes = ", t10.class);
  let n10 = r10.insert("rect", ":first-child");
  if (n10.attr("width", 0).attr("height", 0), r10.attr("class", "label edgeLabel"), t10.props) {
    let e31 = new Set(Object.keys(t10.props));
    t10.props.borders && (ewP(n10, t10.props.borders, 0, 0), e31.delete("borders")), e31.forEach((e32) => {
      iz.warn(`Unknown node property ${e32}`);
    });
  }
  return ewv(t10, n10), t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, r10;
}, "labelRect");
function ewP(e30, t10, r10, n10) {
  let i10 = [], a10 = iM((e31) => {
    i10.push(e31, 0);
  }, "addBorder"), s10 = iM((e31) => {
    i10.push(0, e31);
  }, "skipBorder");
  t10.includes("t") ? (iz.debug("add top border"), a10(r10)) : s10(r10), t10.includes("r") ? (iz.debug("add right border"), a10(n10)) : s10(n10), t10.includes("b") ? (iz.debug("add bottom border"), a10(r10)) : s10(r10), t10.includes("l") ? (iz.debug("add left border"), a10(n10)) : s10(n10), e30.attr("stroke-dasharray", i10.join(" "));
}
iM(ewP, "applyNodePropertyBorders");
var ewB = iM((e30, t10) => {
  let r10;
  r10 = t10.classes ? "node " + t10.classes : "node default";
  let n10 = e30.insert("g").attr("class", r10).attr("id", t10.domId || t10.id), i10 = n10.insert("rect", ":first-child"), a10 = n10.insert("line"), s10 = n10.insert("g").attr("class", "label"), o10 = t10.labelText.flat ? t10.labelText.flat() : t10.labelText, l10 = "";
  l10 = "object" == typeof o10 ? o10[0] : o10, iz.info("Label text abc79", l10, o10, "object" == typeof o10);
  let h10 = s10.node().appendChild(ek6(l10, t10.labelStyle, true, true)), u10 = { width: 0, height: 0 };
  if (sQ(aj().flowchart.htmlLabels)) {
    let e31 = h10.children[0], t11 = c$(h10);
    u10 = e31.getBoundingClientRect(), t11.attr("width", u10.width), t11.attr("height", u10.height);
  }
  iz.info("Text 2", o10);
  let d10 = o10.slice(1, o10.length), p10 = h10.getBBox(), f10 = s10.node().appendChild(ek6(d10.join ? d10.join("<br/>") : d10, t10.labelStyle, true, true));
  if (sQ(aj().flowchart.htmlLabels)) {
    let e31 = f10.children[0], t11 = c$(f10);
    u10 = e31.getBoundingClientRect(), t11.attr("width", u10.width), t11.attr("height", u10.height);
  }
  let g10 = t10.padding / 2;
  return c$(f10).attr("transform", "translate( " + (u10.width > p10.width ? 0 : (p10.width - u10.width) / 2) + ", " + (p10.height + g10 + 5) + ")"), c$(h10).attr("transform", "translate( " + (u10.width < p10.width ? 0 : -(p10.width - u10.width) / 2) + ", 0)"), u10 = s10.node().getBBox(), s10.attr("transform", "translate(" + -u10.width / 2 + ", " + (-u10.height / 2 - g10 + 3) + ")"), i10.attr("class", "outer title-state").attr("x", -u10.width / 2 - g10).attr("y", -u10.height / 2 - g10).attr("width", u10.width + t10.padding).attr("height", u10.height + t10.padding), a10.attr("class", "divider").attr("x1", -u10.width / 2 - g10).attr("x2", u10.width / 2 + g10).attr("y1", -u10.height / 2 - g10 + p10.height + g10).attr("y2", -u10.height / 2 - g10 + p10.height + g10), ewv(t10, i10), t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, n10;
}, "rectWithTitle"), ewF = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.height + t10.padding, a10 = n10.width + i10 / 4 + t10.padding, s10 = r10.insert("rect", ":first-child").attr("style", t10.style).attr("rx", i10 / 2).attr("ry", i10 / 2).attr("x", -a10 / 2).attr("y", -i10 / 2).attr("width", a10).attr("height", i10);
  return ewv(t10, s10), t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, r10;
}, "stadium"), ewz = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10, halfPadding: i10 } = await ewy(e30, t10, eww(t10, void 0), true), a10 = r10.insert("circle", ":first-child");
  return a10.attr("style", t10.style).attr("rx", t10.rx).attr("ry", t10.ry).attr("r", n10.width / 2 + i10).attr("width", n10.width + t10.padding).attr("height", n10.height + t10.padding), iz.info("Circle main"), ewv(t10, a10), t10.intersect = function(e31) {
    return iz.info("Circle intersect", t10, n10.width / 2 + i10, e31), ewd(t10, n10.width / 2 + i10, e31);
  }, r10;
}, "circle"), ewj = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10, halfPadding: i10 } = await ewy(e30, t10, eww(t10, void 0), true), a10 = r10.insert("g", ":first-child"), s10 = a10.insert("circle"), o10 = a10.insert("circle");
  return a10.attr("class", t10.class), s10.attr("style", t10.style).attr("rx", t10.rx).attr("ry", t10.ry).attr("r", n10.width / 2 + i10 + 5).attr("width", n10.width + t10.padding + 10).attr("height", n10.height + t10.padding + 10), o10.attr("style", t10.style).attr("rx", t10.rx).attr("ry", t10.ry).attr("r", n10.width / 2 + i10).attr("width", n10.width + t10.padding).attr("height", n10.height + t10.padding), iz.info("DoubleCircle main"), ewv(t10, s10), t10.intersect = function(e31) {
    return iz.info("DoubleCircle intersect", t10, n10.width / 2 + i10 + 5, e31), ewd(t10, n10.width / 2 + i10 + 5, e31);
  }, r10;
}, "doublecircle"), ewq = iM(async (e30, t10) => {
  let { shapeSvg: r10, bbox: n10 } = await ewy(e30, t10, eww(t10, void 0), true), i10 = n10.width + t10.padding, a10 = n10.height + t10.padding, s10 = [{ x: 0, y: 0 }, { x: i10, y: 0 }, { x: i10, y: -a10 }, { x: 0, y: -a10 }, { x: 0, y: 0 }, { x: -8, y: 0 }, { x: i10 + 8, y: 0 }, { x: i10 + 8, y: -a10 }, { x: -8, y: -a10 }, { x: -8, y: 0 }], o10 = ewx(r10, i10, a10, s10);
  return o10.attr("style", t10.style), ewv(t10, o10), t10.intersect = function(e31) {
    return ewg(t10, s10, e31);
  }, r10;
}, "subroutine"), ewU = iM((e30, t10) => {
  let r10 = e30.insert("g").attr("class", "node default").attr("id", t10.domId || t10.id), n10 = r10.insert("circle", ":first-child");
  return n10.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14), ewv(t10, n10), t10.intersect = function(e31) {
    return ewd(t10, 7, e31);
  }, r10;
}, "start"), ewW = iM((e30, t10, r10) => {
  let n10 = e30.insert("g").attr("class", "node default").attr("id", t10.domId || t10.id), i10 = 70, a10 = 10;
  return "LR" === r10 && (i10 = 10, a10 = 70), ewv(t10, n10.append("rect").attr("x", -1 * i10 / 2).attr("y", -1 * a10 / 2).attr("width", i10).attr("height", a10).attr("class", "fork-join")), t10.height = t10.height + t10.padding / 2, t10.width = t10.width + t10.padding / 2, t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, n10;
}, "forkJoin"), ewV = { rhombus: ew_, composite: ewO, question: ew_, rect: ewD, labelRect: ew$, rectWithTitle: ewB, choice: ewT, circle: ewz, doublecircle: ewj, stadium: ewF, hexagon: ewS, block_arrow: ewC, rect_left_inv_arrow: ewE, lean_right: ewA, lean_left: ewL, trapezoid: ewI, inv_trapezoid: ewM, rect_right_inv_arrow: ewN, cylinder: ewR, start: ewU, end: iM((e30, t10) => {
  let r10 = e30.insert("g").attr("class", "node default").attr("id", t10.domId || t10.id), n10 = r10.insert("circle", ":first-child"), i10 = r10.insert("circle", ":first-child");
  return i10.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14), n10.attr("class", "state-end").attr("r", 5).attr("width", 10).attr("height", 10), ewv(t10, i10), t10.intersect = function(e31) {
    return ewd(t10, 7, e31);
  }, r10;
}, "end"), note: ewb, subroutine: ewq, fork: ewW, join: ewW, class_box: iM((e30, t10) => {
  var r10;
  let n10;
  let i10 = t10.padding / 2;
  n10 = t10.classes ? "node " + t10.classes : "node default";
  let a10 = e30.insert("g").attr("class", n10).attr("id", t10.domId || t10.id), s10 = a10.insert("rect", ":first-child"), o10 = a10.insert("line"), l10 = a10.insert("line"), h10 = 0, u10 = 4, d10 = a10.insert("g").attr("class", "label"), p10 = 0, f10 = null === (r10 = t10.classData.annotations) || void 0 === r10 ? void 0 : r10[0], g10 = t10.classData.annotations[0] ? "«" + t10.classData.annotations[0] + "»" : "", y10 = d10.node().appendChild(ek6(g10, t10.labelStyle, true, true)), v10 = y10.getBBox();
  if (sQ(aj().flowchart.htmlLabels)) {
    let e31 = y10.children[0], t11 = c$(y10);
    v10 = e31.getBoundingClientRect(), t11.attr("width", v10.width), t11.attr("height", v10.height);
  }
  t10.classData.annotations[0] && (u10 += v10.height + 4, h10 += v10.width);
  let x10 = t10.classData.label;
  void 0 !== t10.classData.type && "" !== t10.classData.type && (aj().flowchart.htmlLabels ? x10 += "&lt;" + t10.classData.type + "&gt;" : x10 += "<" + t10.classData.type + ">");
  let b10 = d10.node().appendChild(ek6(x10, t10.labelStyle, true, true));
  c$(b10).attr("class", "classTitle");
  let k10 = b10.getBBox();
  if (sQ(aj().flowchart.htmlLabels)) {
    let e31 = b10.children[0], t11 = c$(b10);
    k10 = e31.getBoundingClientRect(), t11.attr("width", k10.width), t11.attr("height", k10.height);
  }
  u10 += k10.height + 4, k10.width > h10 && (h10 = k10.width);
  let w10 = [];
  t10.classData.members.forEach((e31) => {
    let r11 = e31.getDisplayDetails(), n11 = r11.displayText;
    aj().flowchart.htmlLabels && (n11 = n11.replace(/</g, "&lt;").replace(/>/g, "&gt;"));
    let i11 = d10.node().appendChild(ek6(n11, r11.cssStyle ? r11.cssStyle : t10.labelStyle, true, true)), a11 = i11.getBBox();
    if (sQ(aj().flowchart.htmlLabels)) {
      let e32 = i11.children[0], t11 = c$(i11);
      a11 = e32.getBoundingClientRect(), t11.attr("width", a11.width), t11.attr("height", a11.height);
    }
    a11.width > h10 && (h10 = a11.width), u10 += a11.height + 4, w10.push(i11);
  }), u10 += 8;
  let _10 = [];
  if (t10.classData.methods.forEach((e31) => {
    let r11 = e31.getDisplayDetails(), n11 = r11.displayText;
    aj().flowchart.htmlLabels && (n11 = n11.replace(/</g, "&lt;").replace(/>/g, "&gt;"));
    let i11 = d10.node().appendChild(ek6(n11, r11.cssStyle ? r11.cssStyle : t10.labelStyle, true, true)), a11 = i11.getBBox();
    if (sQ(aj().flowchart.htmlLabels)) {
      let e32 = i11.children[0], t11 = c$(i11);
      a11 = e32.getBoundingClientRect(), t11.attr("width", a11.width), t11.attr("height", a11.height);
    }
    a11.width > h10 && (h10 = a11.width), u10 += a11.height + 4, _10.push(i11);
  }), u10 += 8, f10) {
    let e31 = (h10 - v10.width) / 2;
    c$(y10).attr("transform", "translate( " + (-1 * h10 / 2 + e31) + ", " + -1 * u10 / 2 + ")"), p10 = v10.height + 4;
  }
  let T10 = (h10 - k10.width) / 2;
  return c$(b10).attr("transform", "translate( " + (-1 * h10 / 2 + T10) + ", " + (-1 * u10 / 2 + p10) + ")"), p10 += k10.height + 4, o10.attr("class", "divider").attr("x1", -h10 / 2 - i10).attr("x2", h10 / 2 + i10).attr("y1", -u10 / 2 - i10 + 8 + p10).attr("y2", -u10 / 2 - i10 + 8 + p10), p10 += 8, w10.forEach((e31) => {
    var t11;
    c$(e31).attr("transform", "translate( " + -h10 / 2 + ", " + (-1 * u10 / 2 + p10 + 4) + ")");
    let r11 = null == e31 ? void 0 : e31.getBBox();
    p10 += (null !== (t11 = null == r11 ? void 0 : r11.height) && void 0 !== t11 ? t11 : 0) + 4;
  }), p10 += 8, l10.attr("class", "divider").attr("x1", -h10 / 2 - i10).attr("x2", h10 / 2 + i10).attr("y1", -u10 / 2 - i10 + 8 + p10).attr("y2", -u10 / 2 - i10 + 8 + p10), p10 += 8, _10.forEach((e31) => {
    var t11;
    c$(e31).attr("transform", "translate( " + -h10 / 2 + ", " + (-1 * u10 / 2 + p10) + ")");
    let r11 = null == e31 ? void 0 : e31.getBBox();
    p10 += (null !== (t11 = null == r11 ? void 0 : r11.height) && void 0 !== t11 ? t11 : 0) + 4;
  }), s10.attr("style", t10.style).attr("class", "outer title-state").attr("x", -h10 / 2 - i10).attr("y", -(u10 / 2) - i10).attr("width", h10 + t10.padding).attr("height", u10 + t10.padding), ewv(t10, s10), t10.intersect = function(e31) {
    return ewm(t10, e31);
  }, a10;
}, "class_box") }, ewH = {}, ewY = iM(async (e30, t10, r10) => {
  let n10, i10;
  if (t10.link) {
    let a10;
    "sandbox" === aj().securityLevel ? a10 = "_top" : t10.linkTarget && (a10 = t10.linkTarget || "_blank"), n10 = e30.insert("svg:a").attr("xlink:href", t10.link).attr("target", a10), i10 = await ewV[t10.shape](n10, t10, r10);
  } else n10 = i10 = await ewV[t10.shape](e30, t10, r10);
  return t10.tooltip && i10.attr("title", t10.tooltip), t10.class && i10.attr("class", "node default " + t10.class), ewH[t10.id] = n10, t10.haveCallback && ewH[t10.id].attr("class", ewH[t10.id].attr("class") + " clickable"), n10;
}, "insertNode"), ewG = iM((e30) => {
  let t10 = ewH[e30.id];
  iz.trace("Transforming node", e30.diff, e30, "translate(" + (e30.x - e30.width / 2 - 5) + ", " + e30.width / 2 + ")");
  let r10 = e30.diff || 0;
  return e30.clusterNode ? t10.attr("transform", "translate(" + (e30.x + r10 - e30.width / 2) + ", " + (e30.y - e30.height / 2 - 8) + ")") : t10.attr("transform", "translate(" + e30.x + ", " + e30.y + ")"), r10;
}, "positionNode");
function ewX(e30, t10) {
  var r10, n10, i10, a10, s10, o10, l10;
  let h10, u10 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], d10 = "default";
  ((null == e30 ? void 0 : null === (r10 = e30.classes) || void 0 === r10 ? void 0 : r10.length) || 0) > 0 && (d10 = (null !== (a10 = null == e30 ? void 0 : e30.classes) && void 0 !== a10 ? a10 : []).join(" ")), d10 += " flowchart-label";
  let p10 = 0, f10 = "";
  switch (e30.type) {
    case "round":
      p10 = 5, f10 = "rect";
      break;
    case "composite":
      p10 = 0, f10 = "composite", h10 = 0;
      break;
    case "square":
    case "group":
    default:
      f10 = "rect";
      break;
    case "diamond":
      f10 = "question";
      break;
    case "hexagon":
      f10 = "hexagon";
      break;
    case "block_arrow":
      f10 = "block_arrow";
      break;
    case "odd":
    case "rect_left_inv_arrow":
      f10 = "rect_left_inv_arrow";
      break;
    case "lean_right":
      f10 = "lean_right";
      break;
    case "lean_left":
      f10 = "lean_left";
      break;
    case "trapezoid":
      f10 = "trapezoid";
      break;
    case "inv_trapezoid":
      f10 = "inv_trapezoid";
      break;
    case "circle":
      f10 = "circle";
      break;
    case "ellipse":
      f10 = "ellipse";
      break;
    case "stadium":
      f10 = "stadium";
      break;
    case "subroutine":
      f10 = "subroutine";
      break;
    case "cylinder":
      f10 = "cylinder";
      break;
    case "doublecircle":
      f10 = "doublecircle";
  }
  let g10 = kB(null !== (s10 = null == e30 ? void 0 : e30.styles) && void 0 !== s10 ? s10 : []), y10 = e30.label, v10 = null !== (o10 = e30.size) && void 0 !== o10 ? o10 : { width: 0, height: 0, x: 0, y: 0 };
  return { labelStyle: g10.labelStyle, shape: f10, labelText: y10, rx: p10, ry: p10, class: d10, style: g10.style, id: e30.id, directions: e30.directions, width: v10.width, height: v10.height, x: v10.x, y: v10.y, positioned: u10, intersect: void 0, type: e30.type, padding: null !== (l10 = null != h10 ? h10 : null === (i10 = aj()) || void 0 === i10 ? void 0 : null === (n10 = i10.block) || void 0 === n10 ? void 0 : n10.padding) && void 0 !== l10 ? l10 : 0 };
}
async function ewK(e30, t10, r10) {
  let n10 = ewX(t10, r10, false);
  if ("group" === n10.type) return;
  let i10 = aj(), a10 = await ewY(e30, n10, { config: i10 }), s10 = a10.node().getBBox(), o10 = r10.getBlock(n10.id);
  o10.size = { width: s10.width, height: s10.height, x: 0, y: 0, node: a10 }, r10.setBlock(o10), a10.remove();
}
async function ewZ(e30, t10, r10) {
  let n10 = ewX(t10, r10, true);
  if ("space" !== r10.getBlock(n10.id).type) {
    let r11 = aj();
    await ewY(e30, n10, { config: r11 }), t10.intersect = null == n10 ? void 0 : n10.intersect, ewG(n10);
  }
}
async function ewQ(e30, t10, r10, n10) {
  for (let i10 of t10) await n10(e30, i10, r10), i10.children && await ewQ(e30, i10.children, r10, n10);
}
async function ewJ(e30, t10, r10) {
  await ewQ(e30, t10, r10, ewK);
}
async function ew0(e30, t10, r10) {
  await ewQ(e30, t10, r10, ewZ);
}
async function ew1(e30, t10, r10, n10, i10) {
  let a10 = new PV({ multigraph: true, compound: true });
  for (let e31 of (a10.setGraph({ rankdir: "TB", nodesep: 10, ranksep: 10, marginx: 8, marginy: 8 }), r10)) e31.size && a10.setNode(e31.id, { width: e31.size.width, height: e31.size.height, intersect: e31.intersect });
  for (let r11 of t10) if (r11.start && r11.end) {
    let t11 = n10.getBlock(r11.start), s10 = n10.getBlock(r11.end);
    if ((null == t11 ? void 0 : t11.size) && (null == s10 ? void 0 : s10.size)) {
      let n11 = t11.size, o10 = s10.size, l10 = [{ x: n11.x, y: n11.y }, { x: n11.x + (o10.x - n11.x) / 2, y: n11.y + (o10.y - n11.y) / 2 }, { x: o10.x, y: o10.y }];
      ewl(e30, { v: r11.start, w: r11.end, name: r11.id }, { ...r11, arrowTypeEnd: r11.arrowTypeEnd, arrowTypeStart: r11.arrowTypeStart, points: l10, classes: "edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1" }, void 0, "block", a10, i10), r11.label && (await ewr(e30, { ...r11, label: r11.label, labelStyle: "stroke: #333; stroke-width: 1.5px;fill:none;", arrowTypeEnd: r11.arrowTypeEnd, arrowTypeStart: r11.arrowTypeStart, points: l10, classes: "edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1" }), ewi({ ...r11, x: l10[1].x, y: l10[1].y }, { originalPath: l10 }));
    }
  }
}
iM(ewX, "getNodeFromBlock"), iM(ewK, "calculateBlockSize"), iM(ewZ, "insertBlockPositioned"), iM(ewQ, "performOperations"), iM(ewJ, "calculateBlockSizes"), iM(ew0, "insertBlocks"), iM(ew1, "insertEdges");
var ew2 = iM(function(e30, t10) {
  return t10.db.getClasses();
}, "getClasses");
let ew4 = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: eku, db: ekj, renderer: { draw: iM(async function(e30, t10, r10, n10) {
  let i10;
  let { securityLevel: a10, block: s10 } = aj(), o10 = n10.db;
  "sandbox" === a10 && (i10 = c$("#i" + t10));
  let l10 = "sandbox" === a10 ? c$(i10.nodes()[0].contentDocument.body) : c$("body"), h10 = "sandbox" === a10 ? l10.select(`[id="${t10}"]`) : c$(`[id="${t10}"]`);
  ekW(h10, ["point", "circle", "cross"], n10.type, t10);
  let u10 = o10.getBlocks(), d10 = o10.getBlocksFlat(), p10 = o10.getEdges(), f10 = h10.insert("g").attr("class", "block");
  await ewJ(f10, u10, o10);
  let g10 = ek4(o10);
  if (await ew0(f10, u10, o10), await ew1(f10, p10, d10, o10, t10), g10) {
    let e31 = Math.max(1, Math.round(0.125 * (g10.width / g10.height))), t11 = g10.height + e31 + 10, r11 = g10.width + 10, { useMaxWidth: n11 } = s10;
    on(h10, t11, r11, !!n11), iz.debug("Here Bounds", g10, g10), h10.attr("viewBox", `${g10.x - 5} ${g10.y - 5} ${g10.width + 10} ${g10.height + 10}`);
  }
}, "draw"), getClasses: ew2 }, styles: ekU } }, Symbol.toStringTag, { value: "Module" }));
var ew3 = iN({ "../../node_modules/.pnpm/cytoscape-fcose@2.2.0_cytoscape@3.30.2/node_modules/cytoscape-fcose/cytoscape-fcose.js"(e30, t10) {
} }), ew5 = { L: "left", R: "right", T: "top", B: "bottom" }, ew6 = { L: iM((e30) => `${e30},${e30 / 2} 0,${e30} 0,0`, "L"), R: iM((e30) => `0,${e30 / 2} ${e30},0 ${e30},${e30}`, "R"), T: iM((e30) => `0,0 ${e30},0 ${e30 / 2},${e30}`, "T"), B: iM((e30) => `${e30 / 2},0 ${e30},${e30} 0,${e30}`, "B") }, ew7 = { L: iM((e30, t10) => e30 - t10 + 2, "L"), R: iM((e30, t10) => e30 - 2, "R"), T: iM((e30, t10) => e30 - t10 + 2, "T"), B: iM((e30, t10) => e30 - 2, "B") }, ew8 = iM(function(e30) {
  return e_e(e30) ? "L" === e30 ? "R" : "L" : "T" === e30 ? "B" : "T";
}, "getOppositeArchitectureDirection"), ew9 = iM(function(e30) {
  return "L" === e30 || "R" === e30 || "T" === e30 || "B" === e30;
}, "isArchitectureDirection"), e_e = iM(function(e30) {
  return "L" === e30 || "R" === e30;
}, "isArchitectureDirectionX"), e_t = iM(function(e30) {
  return "T" === e30 || "B" === e30;
}, "isArchitectureDirectionY"), e_r = iM(function(e30, t10) {
  let r10 = e_e(e30) && e_t(t10), n10 = e_t(e30) && e_e(t10);
  return r10 || n10;
}, "isArchitectureDirectionXY"), e_n = iM(function(e30) {
  let t10 = e30[0], r10 = e30[1], n10 = e_e(t10) && e_t(r10), i10 = e_t(t10) && e_e(r10);
  return n10 || i10;
}, "isArchitecturePairXY"), e_i = iM(function(e30) {
  return "LL" !== e30 && "RR" !== e30 && "TT" !== e30 && "BB" !== e30;
}, "isValidArchitectureDirectionPair"), e_a = iM(function(e30, t10) {
  let r10 = `${e30}${t10}`;
  return e_i(r10) ? r10 : void 0;
}, "getArchitectureDirectionPair"), e_s = iM(function(e30, t10) {
  let [r10, n10] = e30, i10 = t10[0], a10 = t10[1];
  return e_e(i10) ? e_t(a10) ? [r10 + ("L" === i10 ? -1 : 1), n10 + ("T" === a10 ? 1 : -1)] : [r10 + ("L" === i10 ? -1 : 1), n10] : e_e(a10) ? [r10 + ("L" === a10 ? 1 : -1), n10 + ("T" === i10 ? 1 : -1)] : [r10, n10 + ("T" === i10 ? 1 : -1)];
}, "shiftPositionByArchitectureDirectionPair"), e_o = iM(function(e30) {
  return "LT" === e30 || "TL" === e30 ? [1, 1] : "BL" === e30 || "LB" === e30 ? [1, -1] : "BR" === e30 || "RB" === e30 ? [-1, -1] : [-1, 1];
}, "getArchitectureDirectionXYFactors"), e_l = iM(function(e30) {
  return "service" === e30.type;
}, "isArchitectureService"), e_c = iM(function(e30) {
  return "junction" === e30.type;
}, "isArchitectureJunction"), e_h = iM((e30) => e30.data(), "edgeData"), e_u = iM((e30) => e30.data(), "nodeData"), e_d = aC.architecture, e_p = new Uh(() => ({ nodes: {}, groups: {}, edges: [], registeredIds: {}, config: e_d, dataStructures: void 0, elements: {} })), e_f = iM(() => {
  e_p.reset(), op();
}, "clear"), e_g = iM(function(e30) {
  let { id: t10, icon: r10, in: n10, title: i10, iconText: a10 } = e30;
  if (void 0 !== e_p.records.registeredIds[t10]) throw Error(`The service id [${t10}] is already in use by another ${e_p.records.registeredIds[t10]}`);
  if (void 0 !== n10) {
    if (t10 === n10) throw Error(`The service [${t10}] cannot be placed within itself`);
    if (void 0 === e_p.records.registeredIds[n10]) throw Error(`The service [${t10}]'s parent does not exist. Please make sure the parent is created before this service`);
    if ("node" === e_p.records.registeredIds[n10]) throw Error(`The service [${t10}]'s parent is not a group`);
  }
  e_p.records.registeredIds[t10] = "node", e_p.records.nodes[t10] = { id: t10, type: "service", icon: r10, iconText: a10, title: i10, edges: [], in: n10 };
}, "addService"), e_m = iM(() => Object.values(e_p.records.nodes).filter(e_l), "getServices"), e_y = iM(function(e30) {
  let { id: t10, in: r10 } = e30;
  e_p.records.registeredIds[t10] = "node", e_p.records.nodes[t10] = { id: t10, type: "junction", edges: [], in: r10 };
}, "addJunction"), e_v = iM(() => Object.values(e_p.records.nodes).filter(e_c), "getJunctions"), e_x = iM(() => Object.values(e_p.records.nodes), "getNodes"), e_b = iM((e30) => e_p.records.nodes[e30], "getNode"), e_k = iM(function(e30) {
  let { id: t10, icon: r10, in: n10, title: i10 } = e30;
  if (void 0 !== e_p.records.registeredIds[t10]) throw Error(`The group id [${t10}] is already in use by another ${e_p.records.registeredIds[t10]}`);
  if (void 0 !== n10) {
    if (t10 === n10) throw Error(`The group [${t10}] cannot be placed within itself`);
    if (void 0 === e_p.records.registeredIds[n10]) throw Error(`The group [${t10}]'s parent does not exist. Please make sure the parent is created before this group`);
    if ("node" === e_p.records.registeredIds[n10]) throw Error(`The group [${t10}]'s parent is not a group`);
  }
  e_p.records.registeredIds[t10] = "group", e_p.records.groups[t10] = { id: t10, icon: r10, title: i10, in: n10 };
}, "addGroup"), e_w = iM(() => Object.values(e_p.records.groups), "getGroups"), e__ = iM(function(e30) {
  let { lhsId: t10, rhsId: r10, lhsDir: n10, rhsDir: i10, lhsInto: a10, rhsInto: s10, lhsGroup: o10, rhsGroup: l10, title: h10 } = e30;
  if (!ew9(n10)) throw Error(`Invalid direction given for left hand side of edge ${t10}--${r10}. Expected (L,R,T,B) got ${n10}`);
  if (!ew9(i10)) throw Error(`Invalid direction given for right hand side of edge ${t10}--${r10}. Expected (L,R,T,B) got ${i10}`);
  if (void 0 === e_p.records.nodes[t10] && void 0 === e_p.records.groups[t10]) throw Error(`The left-hand id [${t10}] does not yet exist. Please create the service/group before declaring an edge to it.`);
  if (void 0 === e_p.records.nodes[r10] && void 0 === e_p.records.groups[t10]) throw Error(`The right-hand id [${r10}] does not yet exist. Please create the service/group before declaring an edge to it.`);
  let u10 = e_p.records.nodes[t10].in, d10 = e_p.records.nodes[r10].in;
  if (o10 && u10 && d10 && u10 == d10) throw Error(`The left-hand id [${t10}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);
  if (l10 && u10 && d10 && u10 == d10) throw Error(`The right-hand id [${r10}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);
  e_p.records.edges.push({ lhsId: t10, lhsDir: n10, lhsInto: a10, lhsGroup: o10, rhsId: r10, rhsDir: i10, rhsInto: s10, rhsGroup: l10, title: h10 }), e_p.records.nodes[t10] && e_p.records.nodes[r10] && (e_p.records.nodes[t10].edges.push(e_p.records.edges[e_p.records.edges.length - 1]), e_p.records.nodes[r10].edges.push(e_p.records.edges[e_p.records.edges.length - 1]));
}, "addEdge"), e_T = iM(() => e_p.records.edges, "getEdges"), e_S = iM(() => {
  if (void 0 === e_p.records.dataStructures) {
    let e30 = Object.entries(e_p.records.nodes).reduce((e31, t11) => {
      let [r11, n11] = t11;
      return e31[r11] = n11.edges.reduce((e32, t12) => {
        if (t12.lhsId === r11) {
          let r12 = e_a(t12.lhsDir, t12.rhsDir);
          r12 && (e32[r12] = t12.rhsId);
        } else {
          let r12 = e_a(t12.rhsDir, t12.lhsDir);
          r12 && (e32[r12] = t12.lhsId);
        }
        return e32;
      }, {}), e31;
    }, {}), t10 = Object.keys(e30)[0], r10 = { [t10]: 1 }, n10 = Object.keys(e30).reduce((e31, r11) => r11 === t10 ? e31 : { ...e31, [r11]: 1 }, {}), i10 = iM((t11) => {
      let i11 = { [t11]: [0, 0] }, a11 = [t11];
      for (; a11.length > 0; ) {
        let t12 = a11.shift();
        if (t12) {
          r10[t12] = 1, delete n10[t12];
          let s10 = e30[t12], [o10, l10] = i11[t12];
          Object.entries(s10).forEach((e31) => {
            let [t13, n11] = e31;
            r10[n11] || (i11[n11] = e_s([o10, l10], t13), a11.push(n11));
          });
        }
      }
      return i11;
    }, "BFS"), a10 = [i10(t10)];
    for (; Object.keys(n10).length > 0; ) a10.push(i10(Object.keys(n10)[0]));
    e_p.records.dataStructures = { adjList: e30, spatialMaps: a10 };
  }
  return e_p.records.dataStructures;
}, "getDataStructures"), e_C = { clear: e_f, setDiagramTitle: ov, getDiagramTitle: ox, setAccTitle: of, getAccTitle: og, setAccDescription: om, getAccDescription: oy, addService: e_g, getServices: e_m, addJunction: e_y, getJunctions: e_v, getNodes: e_x, getNode: e_b, addGroup: e_k, getGroups: e_w, addEdge: e__, getEdges: e_T, setElementForId: iM((e30, t10) => {
  e_p.records.elements[e30] = t10;
}, "setElementForId"), getElementById: iM((e30) => e_p.records.elements[e30], "getElementById"), getDataStructures: e_S };
function e_E(e30) {
  let t10 = aj().architecture;
  return (null == t10 ? void 0 : t10[e30]) ? t10[e30] : e_d[e30];
}
iM(e_E, "getConfigField");
var e_A = iM((e30, t10) => {
  Uu(e30, t10), e30.groups.map(t10.addGroup), e30.services.map((e31) => t10.addService({ ...e31, type: "service" })), e30.junctions.map((e31) => t10.addJunction({ ...e31, type: "junction" })), e30.edges.map(t10.addEdge);
}, "populateDb"), e_L = { parse: iM(async (e30) => {
  let t10 = await eee("architecture", e30);
  iz.debug(t10), e_A(t10, e_C);
}, "parse") }, e_I = iM((e30) => `
  .edge {
    stroke-width: ${e30.archEdgeWidth};
    stroke: ${e30.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e30.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e30.archGroupBorderColor};
    stroke-width: ${e30.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`, "getStyles"), e_M = i$(ew3()), e_N = iM((e30) => `<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e30}</g>`, "wrapIcon"), e_R = { prefix: "mermaid-architecture", height: 80, width: 80, icons: { database: { body: e_N('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>') }, server: { body: e_N('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>') }, disk: { body: e_N('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>') }, internet: { body: e_N('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>') }, cloud: { body: e_N('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>') }, unknown: xr, blank: { body: e_N("") } } }, e_D = iM(async function(e30, t10) {
  let r10 = e_E("padding"), n10 = e_E("iconSize"), i10 = n10 / 2, a10 = n10 / 6, s10 = a10 / 2;
  await Promise.all(t10.edges().map(async (t11) => {
    var n11, o10;
    let { source: l10, sourceDir: h10, sourceArrow: u10, sourceGroup: d10, target: p10, targetDir: f10, targetArrow: g10, targetGroup: y10, label: v10 } = e_h(t11), { x: x10, y: b10 } = t11[0].sourceEndpoint(), { x: k10, y: w10 } = t11[0].midpoint(), { x: _10, y: T10 } = t11[0].targetEndpoint(), S10 = r10 + 4;
    if (d10 && (e_e(h10) ? x10 += "L" === h10 ? -S10 : S10 : b10 += "T" === h10 ? -S10 : S10 + 18), y10 && (e_e(f10) ? _10 += "L" === f10 ? -S10 : S10 : T10 += "T" === f10 ? -S10 : S10 + 18), d10 || (null === (n11 = e_C.getNode(l10)) || void 0 === n11 ? void 0 : n11.type) !== "junction" || (e_e(h10) ? x10 += "L" === h10 ? i10 : -i10 : b10 += "T" === h10 ? i10 : -i10), y10 || (null === (o10 = e_C.getNode(p10)) || void 0 === o10 ? void 0 : o10.type) !== "junction" || (e_e(f10) ? _10 += "L" === f10 ? i10 : -i10 : T10 += "T" === f10 ? i10 : -i10), t11[0]._private.rscratch) {
      let t12 = e30.insert("g");
      if (t12.insert("path").attr("d", `M ${x10},${b10} L ${k10},${w10} L${_10},${T10} `).attr("class", "edge"), u10) {
        let e31 = e_e(h10) ? ew7[h10](x10, a10) : x10 - s10, r11 = e_t(h10) ? ew7[h10](b10, a10) : b10 - s10;
        t12.insert("polygon").attr("points", ew6[h10](a10)).attr("transform", `translate(${e31},${r11})`).attr("class", "arrow");
      }
      if (g10) {
        let e31 = e_e(f10) ? ew7[f10](_10, a10) : _10 - s10, r11 = e_t(f10) ? ew7[f10](T10, a10) : T10 - s10;
        t12.insert("polygon").attr("points", ew6[f10](a10)).attr("transform", `translate(${e31},${r11})`).attr("class", "arrow");
      }
      if (v10) {
        let e31 = e_r(h10, f10) ? "XY" : e_e(h10) ? "X" : "Y", r11 = 0;
        r11 = "X" === e31 ? Math.abs(x10 - _10) : "Y" === e31 ? Math.abs(b10 - T10) / 1.5 : Math.abs(x10 - _10) / 2;
        let n12 = t12.append("g");
        if (await _m(n12, v10, { useHtmlLabels: false, width: r11, classes: "architecture-service-label" }, aj()), n12.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle"), "X" === e31) n12.attr("transform", "translate(" + k10 + ", " + w10 + ")");
        else if ("Y" === e31) n12.attr("transform", "translate(" + k10 + ", " + w10 + ") rotate(-90)");
        else if ("XY" === e31) {
          let e32 = e_a(h10, f10);
          if (e32 && e_n(e32)) {
            let t13 = n12.node().getBoundingClientRect(), [r12, i11] = e_o(e32);
            n12.attr("dominant-baseline", "auto").attr("transform", `rotate(${-1 * r12 * i11 * 45})`);
            let a11 = n12.node().getBoundingClientRect();
            n12.attr("transform", `
                translate(${k10}, ${w10 - t13.height / 2})
                translate(${r12 * a11.width / 2}, ${i11 * a11.height / 2})
                rotate(${-1 * r12 * i11 * 45}, 0, ${t13.height / 2})
              `);
          }
        }
      }
    }
  }));
}, "drawEdges"), e_O = iM(async function(e30, t10) {
  let r10 = 0.75 * e_E("padding"), n10 = e_E("fontSize"), i10 = e_E("iconSize") / 2;
  await Promise.all(t10.nodes().map(async (t11) => {
    let a10 = e_u(t11);
    if ("group" === a10.type) {
      let { h: s10, w: o10, x1: l10, y1: h10 } = t11.boundingBox();
      e30.append("rect").attr("x", l10 + i10).attr("y", h10 + i10).attr("width", o10).attr("height", s10).attr("class", "node-bkg");
      let u10 = e30.append("g"), d10 = l10, p10 = h10;
      if (a10.icon) {
        let e31 = u10.append("g");
        e31.html(`<g>${await xo(a10.icon, { height: r10, width: r10, fallbackPrefix: e_R.prefix })}</g>`), e31.attr("transform", "translate(" + (d10 + i10 + 1) + ", " + (p10 + i10 + 1) + ")"), d10 += r10, p10 += n10 / 2 - 1 - 2;
      }
      if (a10.label) {
        let e31 = u10.append("g");
        await _m(e31, a10.label, { useHtmlLabels: false, width: o10, classes: "architecture-service-label" }, aj()), e31.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "start").attr("text-anchor", "start"), e31.attr("transform", "translate(" + (d10 + i10 + 4) + ", " + (p10 + i10 + 2) + ")");
      }
    }
  }));
}, "drawGroups"), e_$ = iM(async function(e30, t10, r10) {
  for (let i10 of r10) {
    let r11 = t10.append("g"), a10 = e_E("iconSize");
    if (i10.title) {
      let e31 = r11.append("g");
      await _m(e31, i10.title, { useHtmlLabels: false, width: 1.5 * a10, classes: "architecture-service-label" }, aj()), e31.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle"), e31.attr("transform", "translate(" + a10 / 2 + ", " + a10 + ")");
    }
    let s10 = r11.append("g");
    if (i10.icon) s10.html(`<g>${await xo(i10.icon, { height: a10, width: a10, fallbackPrefix: e_R.prefix })}</g>`);
    else if (i10.iconText) {
      var n10;
      s10.html(`<g>${await xo("blank", { height: a10, width: a10, fallbackPrefix: e_R.prefix })}</g>`);
      let e31 = s10.append("g").append("foreignObject").attr("width", a10).attr("height", a10).append("div").attr("class", "node-icon-text").attr("style", `height: ${a10}px;`).append("div").html(i10.iconText), t11 = null !== (n10 = parseInt(window.getComputedStyle(e31.node(), null).getPropertyValue("font-size").replace(/\D/g, ""))) && void 0 !== n10 ? n10 : 16;
      e31.attr("style", `-webkit-line-clamp: ${Math.floor((a10 - 2) / t11)};`);
    } else s10.append("path").attr("class", "node-bkg").attr("id", "node-" + i10.id).attr("d", `M0 ${a10} v${-a10} q0,-5 5,-5 h${a10} q5,0 5,5 v${a10} H0 Z`);
    r11.attr("class", "architecture-service");
    let { width: o10, height: l10 } = r11._groups[0][0].getBBox();
    i10.width = o10, i10.height = l10, e30.setElementForId(i10.id, r11);
  }
  return 0;
}, "drawServices"), e_P = iM(function(e30, t10, r10) {
  r10.forEach((r11) => {
    let n10 = t10.append("g"), i10 = e_E("iconSize");
    n10.append("g").append("rect").attr("id", "node-" + r11.id).attr("fill-opacity", "0").attr("width", i10).attr("height", i10), n10.attr("class", "architecture-junction");
    let { width: a10, height: s10 } = n10._groups[0][0].getBBox();
    n10.width = a10, n10.height = s10, e30.setElementForId(r11.id, n10);
  });
}, "drawJunctions");
function e_B(e30, t10) {
  e30.forEach((e31) => {
    t10.add({ group: "nodes", data: { type: "service", id: e31.id, icon: e31.icon, label: e31.title, parent: e31.in, width: e_E("iconSize"), height: e_E("iconSize") }, classes: "node-service" });
  });
}
function e_F(e30, t10) {
  e30.forEach((e31) => {
    t10.add({ group: "nodes", data: { type: "junction", id: e31.id, parent: e31.in, width: e_E("iconSize"), height: e_E("iconSize") }, classes: "node-junction" });
  });
}
function e_z(e30, t10) {
  t10.nodes().map((t11) => {
    let r10 = e_u(t11);
    "group" !== r10.type && (r10.x = t11.position().x, r10.y = t11.position().y, e30.getElementById(r10.id).attr("transform", "translate(" + (r10.x || 0) + "," + (r10.y || 0) + ")"));
  });
}
function e_j(e30, t10) {
  e30.forEach((e31) => {
    t10.add({ group: "nodes", data: { type: "group", id: e31.id, icon: e31.icon, label: e31.title, parent: e31.in }, classes: "node-group" });
  });
}
function e_q(e30, t10) {
  e30.forEach((e31) => {
    let { lhsId: r10, rhsId: n10, lhsInto: i10, lhsGroup: a10, rhsInto: s10, lhsDir: o10, rhsDir: l10, rhsGroup: h10, title: u10 } = e31, d10 = e_r(e31.lhsDir, e31.rhsDir) ? "segments" : "straight", p10 = { id: `${r10}-${n10}`, label: u10, source: r10, sourceDir: o10, sourceArrow: i10, sourceGroup: a10, sourceEndpoint: "L" === o10 ? "0 50%" : "R" === o10 ? "100% 50%" : "T" === o10 ? "50% 0" : "50% 100%", target: n10, targetDir: l10, targetArrow: s10, targetGroup: h10, targetEndpoint: "L" === l10 ? "0 50%" : "R" === l10 ? "100% 50%" : "T" === l10 ? "50% 0" : "50% 100%" };
    t10.add({ group: "edges", data: p10, classes: d10 });
  });
}
function e_U(e30) {
  let [t10, r10] = e30.map((e31) => {
    let t11 = {}, r11 = {};
    return Object.entries(e31).forEach((e32) => {
      let [n10, [i10, a10]] = e32;
      t11[a10] || (t11[a10] = []), r11[i10] || (r11[i10] = []), t11[a10].push(n10), r11[i10].push(n10);
    }), { horiz: Object.values(t11).filter((e32) => e32.length > 1), vert: Object.values(r11).filter((e32) => e32.length > 1) };
  }).reduce((e31, t11) => {
    let [r11, n10] = e31, { horiz: i10, vert: a10 } = t11;
    return [[...r11, ...i10], [...n10, ...a10]];
  }, [[], []]);
  return { horizontal: t10, vertical: r10 };
}
function e_W(e30) {
  let t10 = [], r10 = iM((e31) => `${e31[0]},${e31[1]}`, "posToStr"), n10 = iM((e31) => e31.split(",").map((e32) => parseInt(e32)), "strToPos");
  return e30.forEach((e31) => {
    let i10 = Object.fromEntries(Object.entries(e31).map((e32) => {
      let [t11, n11] = e32;
      return [r10(n11), t11];
    })), a10 = [r10([0, 0])], s10 = {}, o10 = { L: [-1, 0], R: [1, 0], T: [0, 1], B: [0, -1] };
    for (; a10.length > 0; ) {
      let e32 = a10.shift();
      if (e32) {
        s10[e32] = 1;
        let l10 = i10[e32];
        if (l10) {
          let h10 = n10(e32);
          Object.entries(o10).forEach((e33) => {
            let [n11, o11] = e33, u10 = r10([h10[0] + o11[0], h10[1] + o11[1]]), d10 = i10[u10];
            d10 && !s10[u10] && (a10.push(u10), t10.push({ [ew5[n11]]: d10, [ew5[ew8(n11)]]: l10, gap: 1.5 * e_E("iconSize") }));
          });
        }
      }
    }
  }), t10;
}
function e_V(e30, t10, r10, n10, i10) {
  let { spatialMaps: a10 } = i10;
  return new Promise((i11) => {
    let s10 = c$("body").append("div").attr("id", "cy").attr("style", "display:none"), o10 = exg({ container: document.getElementById("cy"), style: [{ selector: "edge", style: { "curve-style": "straight", label: "data(label)", "source-endpoint": "data(sourceEndpoint)", "target-endpoint": "data(targetEndpoint)" } }, { selector: "edge.segments", style: { "curve-style": "segments", "segment-weights": "0", "segment-distances": [0.5], "edge-distances": "endpoints", "source-endpoint": "data(sourceEndpoint)", "target-endpoint": "data(targetEndpoint)" } }, { selector: "node", style: { "compound-sizing-wrt-labels": "include" } }, { selector: "node[label]", style: { "text-valign": "bottom", "text-halign": "center", "font-size": `${e_E("fontSize")}px` } }, { selector: ".node-service", style: { label: "data(label)", width: "data(width)", height: "data(height)" } }, { selector: ".node-junction", style: { width: "data(width)", height: "data(height)" } }, { selector: ".node-group", style: { padding: `${e_E("padding")}px` } }] });
    s10.remove(), e_j(r10, o10), e_B(e30, o10), e_F(t10, o10), e_q(n10, o10);
    let l10 = e_U(a10), h10 = e_W(a10), u10 = o10.layout({ name: "fcose", quality: "proof", styleEnabled: false, animate: false, nodeDimensionsIncludeLabels: false, idealEdgeLength(e31) {
      let [t11, r11] = e31.connectedNodes(), { parent: n11 } = e_u(t11), { parent: i12 } = e_u(r11);
      return n11 === i12 ? 1.5 * e_E("iconSize") : 0.5 * e_E("iconSize");
    }, edgeElasticity(e31) {
      let [t11, r11] = e31.connectedNodes(), { parent: n11 } = e_u(t11), { parent: i12 } = e_u(r11);
      return n11 === i12 ? 0.45 : 1e-3;
    }, alignmentConstraint: l10, relativePlacementConstraint: h10 });
    u10.one("layoutstop", () => {
      function e31(e32, t12, r11, n11) {
        let i12, a11;
        let { x: s11, y: o11 } = e32, { x: l11, y: h11 } = t12;
        a11 = (n11 - o11 + (s11 - r11) * (o11 - h11) / (s11 - l11)) / Math.sqrt(1 + Math.pow((o11 - h11) / (s11 - l11), 2)), i12 = Math.sqrt(Math.pow(n11 - o11, 2) + Math.pow(r11 - s11, 2) - Math.pow(a11, 2)) / Math.sqrt(Math.pow(l11 - s11, 2) + Math.pow(h11 - o11, 2));
        let u11 = (l11 - s11) * (n11 - o11) - (h11 - o11) * (r11 - s11);
        switch (true) {
          case u11 >= 0:
            u11 = 1;
            break;
          case u11 < 0:
            u11 = -1;
        }
        let d10 = (l11 - s11) * (r11 - s11) + (h11 - o11) * (n11 - o11);
        switch (true) {
          case d10 >= 0:
            d10 = 1;
            break;
          case d10 < 0:
            d10 = -1;
        }
        return { distances: a11 = Math.abs(a11) * u11, weights: i12 *= d10 };
      }
      for (let r11 of (iM(e31, "getSegmentWeights"), o10.startBatch(), Object.values(o10.edges()))) {
        var t11;
        if (null === (t11 = r11.data) || void 0 === t11 ? void 0 : t11.call(r11)) {
          let { x: t12, y: n11 } = r11.source().position(), { x: i12, y: a11 } = r11.target().position();
          if (t12 !== i12 && n11 !== a11) {
            let t13 = r11.sourceEndpoint(), n12 = r11.targetEndpoint(), { sourceDir: i13 } = e_h(r11), [a12, s11] = e_t(i13) ? [t13.x, n12.y] : [n12.x, t13.y], { weights: o11, distances: l11 } = e31(t13, n12, a12, s11);
            r11.style("segment-distances", l11), r11.style("segment-weights", o11);
          }
        }
      }
      o10.endBatch(), u10.run();
    }), u10.run(), o10.ready((e31) => {
      iz.info("Ready", e31), i11(o10);
    });
  });
}
xa([{ name: e_R.prefix, icons: e_R }]), exg.use(e_M.default), iM(e_B, "addServices"), iM(e_F, "addJunctions"), iM(e_z, "positionNodes"), iM(e_j, "addGroups"), iM(e_q, "addEdges"), iM(e_U, "getAlignments"), iM(e_W, "getRelativeConstraints"), iM(e_V, "layoutArchitecture");
let e_H = Object.freeze(Object.defineProperty({ __proto__: null, diagram: { parser: e_L, db: e_C, renderer: { draw: iM(async (e30, t10, r10, n10) => {
  let i10 = n10.db, a10 = i10.getServices(), s10 = i10.getJunctions(), o10 = i10.getGroups(), l10 = i10.getEdges(), h10 = i10.getDataStructures(), u10 = mg(t10), d10 = u10.append("g");
  d10.attr("class", "architecture-edges");
  let p10 = u10.append("g");
  p10.attr("class", "architecture-services");
  let f10 = u10.append("g");
  f10.attr("class", "architecture-groups"), await e_$(i10, p10, a10), e_P(i10, p10, s10);
  let g10 = await e_V(a10, s10, o10, l10, h10);
  await e_D(d10, g10), await e_O(f10, g10), e_z(i10, g10), oi(void 0, u10, e_E("padding"), e_E("useMaxWidth"));
}, "draw") }, styles: e_I } }, Symbol.toStringTag, { value: "Module" })), e_Y = Object.freeze(Object.defineProperty({ __proto__: null, InfoModule: eef, createInfoServices: eeg }, Symbol.toStringTag, { value: "Module" })), e_G = Object.freeze(Object.defineProperty({ __proto__: null, PacketModule: eey, createPacketServices: eev }, Symbol.toStringTag, { value: "Module" })), e_X = Object.freeze(Object.defineProperty({ __proto__: null, PieModule: eei, createPieServices: eea }, Symbol.toStringTag, { value: "Module" })), e_K = Object.freeze(Object.defineProperty({ __proto__: null, ArchitectureModule: eel, createArchitectureServices: eec }, Symbol.toStringTag, { value: "Module" })), e_Z = Object.freeze(Object.defineProperty({ __proto__: null, GitGraphModule: eeu, createGitGraphServices: eed }, Symbol.toStringTag, { value: "Module" }));
export {
  eE as O,
  Lj as a,
  eL as b
};
