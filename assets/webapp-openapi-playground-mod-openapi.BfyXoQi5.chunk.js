const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-min-mermaid~mermaid.esm.min.CJc5RJ_Z.chunk.js","assets/lib-nodepkg-typedef.aImTnp3-.chunk.js","assets/vendor-min-mermaid~chunk-HQLFZTFY.Blu8ZffY.chunk.js","assets/vendor-min-mermaid~chunk-MEBTFSOL.Bp-bSfXW.chunk.js","assets/vendor-min-mermaid~chunk-ZKYS2E5M.BYa6fn-6.chunk.js","assets/vendor-min-mermaid~chunk-GTKDMUJJ.Cm7bUosf.chunk.js","assets/vendor-min-mermaid~chunk-7LIB5WBN.BXtuizpp.chunk.js","assets/vendor-min-mermaid~chunk-L736DJ4U.Ci78ugG3.chunk.js","assets/vendor-min-mermaid~chunk-QTJCGBHB.DXNnFzxQ.chunk.js","assets/vendor-min-mermaid~chunk-USR3SDWQ.DVuIDKlr.chunk.js","assets/vendor-min-mermaid~chunk-2VPXETT4.CdsYqdws.chunk.js","assets/vendor-min-mermaid~chunk-LM6QDVU5.BWR0rveQ.chunk.js","assets/vendor-min-mermaid~chunk-HESFG3RP.BcmAS4U7.chunk.js","assets/vendor-min-mermaid~chunk-YM3XIQPS.CFJjr7pQ.chunk.js","assets/vendor-min-mermaid~chunk-TI4EEUUG.-07CF8yA.chunk.js","assets/vendor-min-mermaid~chunk-6BY5RJGC.YZlq-A5J.chunk.js","assets/vendor-min-mermaid~chunk-S67DUUA5.DsC5fvgo.chunk.js","assets/vendor-min-mermaid~chunk-YPUTD6PB.C9Kx97Z_.chunk.js"])))=>i.map(i=>d[i]);
var le=n=>{throw TypeError(n)};var de=(n,e,r)=>e.has(n)||le("Cannot "+r);var $=(n,e,r)=>(de(n,e,"read from private field"),r?r.call(n):e.get(n)),M=(n,e,r)=>e.has(n)?le("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r);var ce=(n,e,r)=>(de(n,e,"access private method"),r);import{S as b,s as Be,b as ue,f as K,h as Y,j as Re,e as V,o as Ne,k as Fe,_ as qe}from"./lib-nodepkg-typedef.aImTnp3-.chunk.js";import{I as q,r as f,c as X,a as v,s as Z,o as z,v as ee,h as _,d as s,j as t,A as G,R as Ee,f as E,F as g,b as pe,B as Le,C as Me,D as We,k as Je}from"./lib-nodepkg-vuekit.Ccd8t0Q9.chunk.js";import{c as He,a as Ae,p as te,t as Ve}from"./vendor-innoai-tech-fetcher.C5er-ic4.chunk.js";import{B as ze,s as I,b as Ue,m as Ke,E as ne,o as T,S as Ye,t as N,k as Ge,O as Qe,l as Xe,c as Ze,e as et,n as tt}from"./vendor-rxjs.CtzYnjP_.chunk.js";import{w as he,g as me,a as D,x as nt,d as rt,e as at}from"./vendor-innoai-tech-lodash.BDvUhzFk.chunk.js";import{s as u,B as x,v as it,b as ot}from"./lib-nodepkg-vueuikit.fmN192ES.chunk.js";import{M as re}from"./lib-nodepkg-vuemarkdown.C9RcNJO8.chunk.js";import{a as O,m as Se,T as Ce,D as ae,F as st,f as lt,g as dt,h as ct,i as ut,I as pt}from"./lib-nodepkg-vuematerial.97doFxij.chunk.js";import{l as ye,h as ht,i as W,F as mt}from"./lib-nodepkg-vueformdata.BTxxgRJy.chunk.js";import{J as yt,a as ft,b as bt}from"./lib-nodepkg-jsoneditor.HSsk8XMQ.chunk.js";var A,C,j,Ie,Oe;const se=class se extends q{constructor(){super(...arguments);M(this,j);M(this,A,He({paramsSerializer:te,transformRequestBody:Ve}));M(this,C,new ze(new Map))}static empty(){return new se({openapi:"3.1.0",components:{schemas:{}},paths:{}})}response$(r){return f($(this,C),I(a=>{const i=a.get(r);return i?Ke(i,i.error$):ne}))}requesting$(r){return f($(this,C),I(a=>{var i;return((i=a.get(r))==null?void 0:i.requesting$)??T(!1)}))}asRequestConfigCreator(r){var o;const a=ce(this,j,Oe).call(this,r);if(!a)return null;const i=Object.keys(((o=a.requestBody)==null?void 0:o.content)??{})[0];return c=>{var l,h;return{method:a.method,url:$(this,j,Ie)+gt(a.path,c),params:he(c,(l=a.parameters)==null?void 0:l.filter(d=>d.in=="query").map(d=>d.name)),headers:{...he(c,(h=a.parameters)==null?void 0:h.filter(d=>d.in=="header").map(d=>d.name)),...i?{"Content-Type":i}:{}},body:c.body,inputs:c}}}request(r,a){let i=$(this,C).value.get(r);if(!i){const o=this.asRequestConfigCreator(r);if(!o)return;const c=Object.assign(o,{operationID:r,TRespData:{}});i=Ae(c,$(this,A)),$(this,C).value.set(r,i),$(this,C).next($(this,C).value)}i.next(a)}operation$(r){return f(this,I(a=>{for(const i of U(a,{operationId:r}))if(i)return T(i);return T(null)}))}operations$(r){return f(this,I(a=>T([...U(a,r)])))}schema$(r){var i;const a=((i=r.split("#/")[1])==null?void 0:i.split("/"))??[];return f(this,I(o=>a?T(me(o,a)??null):T(null)),Ue(o=>o&&{...o,$id:a[a.length-1]}))}schema(r){var i;const a=((i=r.split("#/")[1])==null?void 0:i.split("/"))??[];if(a)return me(this.value,a)??void 0}};A=new WeakMap,C=new WeakMap,j=new WeakSet,Ie=function(){var r,a;return((a=(r=this.value.servers)==null?void 0:r[0])==null?void 0:a.url)??""},Oe=function(r){for(const a of U(this.value,{operationId:r}))if(a)return a;return null};let Q=se;function*U(n,e){var r;for(const[a,i]of Object.entries(n.paths))for(const[o,c]of Object.entries(i))if(!(c.operationId=="OpenAPI"||c.operationId=="OpenAPIView")&&!(e.tag&&!(c.tags??[]).includes(e.tag))){if(e.operationId){if(e.operationId.startsWith("*")){if(!c.operationId.toLowerCase().includes(e.operationId.slice(1).toLowerCase()))continue}else if(c.operationId.toLowerCase()!=e.operationId.toLowerCase())continue}yield{...c,method:o,path:a,group:((r=c.tags)==null?void 0:r[0])??""}}}const gt=(n,e={})=>n.replace(/{([\s\S]+?)}/g,(r,a)=>[].concat(e[a]||r).join(",")),B=X(()=>Q.empty(),{name:"OpenAPI"}),kn=v(({},{})=>{const n=B.use(),e=new q({operationId:void 0}),r=new Ye;f(r,Ge(200),N(o=>{e.next(c=>{c.operationId=`*${o??""}`})}),Z());const a=z(null);f(a,I(o=>{if(o){const c=l=>{l&&o.scrollTo({top:l.offsetTop-o.offsetTop})};return new Qe(()=>{const l=new MutationObserver(h=>{for(const d of h)if(d.type==="attributes"){const m=d.target;m.classList.contains("router-link-active")&&c(m)}});return l.observe(o,{attributes:!0,subtree:!0}),setTimeout(()=>{c(o.querySelector(".router-link-active"))},100),()=>{l.disconnect()}})}return ne}),ee());const i=f(e,I(o=>n.operations$(o)),_(o=>{const c=Object.groupBy(o,l=>l.group);return s(vt,{children:[t(wt,{children:t("input",{type:"text",placeholder:"请输入 operationId 查询",onInput:l=>{r.next(l.target.value)}})}),t($t,{sx:{flex:1,overflow:"scroll"},ref:a,children:Object.entries(c).toSorted().map(([l,h])=>s("div",{"data-nav-group":!0,children:[t("div",{"data-nav-group-heading":!0,children:l}),t("div",{"data-nav-group-contents":!0,children:h==null?void 0:h.map(d=>s(St,{component:G,to:`/operations/${d.operationId}`,children:[t(x,{"data-operation-method":!0,sx:{color:{get:"sys.primary",post:"sys.success",put:"sys.warning",delete:"sys.error"}[d.method]??"sys.secondary"},children:d.method}),s("div",{"data-operation-desc":!0,children:[t("div",{"data-operation-id":!0,children:d.operationId}),d.summary?t("div",{"data-operation-summary":!0,children:d.summary!=d.operationId?d.summary:t("span",{children:" "})}):void 0]})]}))})]}))})]})}));return()=>s(xt,{children:[i,t(_t,{children:t(Ee,{})})]})}),xt=u("div")({width:"100vw",height:"100vh",overflow:"hidden",display:"flex"}),vt=u("aside")({width:240,py:4,display:"flex",flexDirection:"column",gap:4,height:"100%",overflow:"hidden",borderRight:"1px solid",borderColor:"sys.outline"}),wt=u("div")({input:{py:10,px:12,border:"none",width:"100%",outline:0},borderBottom:"1px solid",borderColor:"sys.outline"}),$t=u("div")({display:"flex",flexDirection:"column",gap:4,$data_nav_group_heading:{px:12,py:4,textStyle:"sys.label-small",containerStyle:"sys.secondary-container"}}),_t=u("main")({flex:1,overflow:"hidden"}),St=u("a")({px:12,py:8,pos:"relative",overflow:"hidden",width:240,display:"flex",alignItems:"center",gap:8,flexDirection:"row-reverse",textDecoration:"none",$data_operation_method:{textTransform:"uppercase",fontSize:18,fontFamily:"code",display:"flex",alignItems:"center",pointerEvents:"none"},$data_operation_desc:{flex:1,overflow:"hidden"},$data_operation_id:{textStyle:"sys.label-large",textOverflow:"ellipsis",overflow:"hidden"},$data_operation_summary:{opacity:.7,textStyle:"sys.body-small",textOverflow:"ellipsis",overflow:"hidden"},"&.router-link-active":{containerStyle:"sys.surface-container"}}),y=u("div")({display:"inline-table",textStyle:"sys.label-small",fontWeight:"bold",fontFamily:"inherit",fontSize:11,lineHeight:14}),Ct=u("div")({display:"inline-table",textStyle:"sys.label-small",fontWeight:"bold",fontFamily:"inherit",fontSize:11,lineHeight:14,color:"sys.primary",_deprecated:{textDecoration:"line-through"},_nullable:{"&:after":{content:'"??"',color:"sys.error"}},_optional:{"&:after":{content:'"?"',color:"sys.secondary"}}}),k=u("div",(n,{slots:e})=>{const r=F.use();return a=>{var i;return t(a,{style:{paddingLeft:`${r.indent}em`,marginTop:(n.spacing??0)*.5},children:(i=e.default)==null?void 0:i.call(e)})}})({position:"relative",display:"block"}),Pe=u("div",(n,{})=>e=>{const r=b.metaProp(n.schema,"title")??"",a=b.metaProp(n.schema,"description")??"";return s(e,{children:[r," ",a?t(Ce,{title:t(ie,{children:t(re,{text:a})}),children:t(O,{path:Se})}):null]})})({position:"relative",pt:8,display:"flex",alignItems:"center",gap:4,"&::before":{content:'"// "',fontFamily:"code"},textStyle:"sys.body-small",fontSize:10,lineHeight:12,[`${O}`]:{width:12,height:12,overflow:"hidden"}}),ie=u("div")({textStyle:"sys.body-small","& p":{my:1,wordBreak:"keep-all",whiteSpace:"nowrap",opacity:.7},"& code":{wordBreak:"keep-all",whiteSpace:"nowrap"}}),R=({name:n,value:e,extra:r})=>e==""?null:t(k,{children:s(y,{sx:{opacity:.7,fontSize:"0.9em",wordBreak:"keep-all",whiteSpace:"nowrap"},children:[t(y,{sx:{color:"sys.primary"},children:`@${n}(`}),`${e}`,Object.entries(r??{}).map(([a,i])=>D(i)?null:s(g,{children:[s(y,{sx:{opacity:.5},children:[","," "]}),t(y,{sx:{opacity:.5},children:a}),s(y,{sx:{opacity:.5},children:[":"," "]}),t(y,{sx:{opacity:.7},children:i})]})),t(y,{sx:{color:"sys.primary"},children:")"})]})}),F=X(()=>({indent:0}),{name:"IntentContext"}),J=E(({},{slots:n})=>{const e=F.use();return()=>{var r;return t(F,{value:{indent:e.indent+1},children:(r=n.default)==null?void 0:r.call(n)})}});class oe{constructor(e,r){this.id=e,this.parent=r}child(e){return new oe(e,this)}safe(e){let r=this;for(;r;){if(r.id==e)return!1;r=r.parent}return!0}}const fe=X(()=>new oe("")),It=v(n=>{const e=fe.use(),r=F.use(),a=z(!1);return()=>{let i=n.schema;const o=b.schemaProp(n.schema,"$ref");i=b.schemaProp(n.schema,b.unwrap)();const c=i.type=="intersection"||i.type=="object"||i.type=="union"||i.type=="record"||i.type=="array"||i.type=="union",l=e.safe(o)&&s(g,{children:[t("span",{children:" "}),t(S,{schema:i})]});return t(fe,{value:e.child(o),children:c?r.indent<3?s(g,{children:[t(G,{to:`#${o}`,"data-index":r.indent,children:t(y,{id:o,children:o})}),l]}):s(g,{children:[t(x,{component:G,sx:{},to:`#${o}`,"data-index":r.indent,onClick:h=>{e.safe(o)&&(h.preventDefault(),h.stopPropagation(),a.next(!0))},children:t(y,{id:o,children:o})}),e.safe(o)&&t(ae,{isOpen:a.value,onClose:()=>{a.next(!1)},children:t(Ot,{children:s(k,{children:[t(y,{children:o}),t(F,{value:{indent:0},children:l})]})})})]}):l})}}),Ot=u("div")({display:"flex",containerStyle:"sys.surface",height:"100vh",width:"36vw",roundedLeft:"sm",px:16,py:36,top:0,right:0,position:"absolute",overflow:"auto"}),S=v(n=>{const e=n.schema;return b.schemaProp(e,"$ref")?t(It,{schema:e}):()=>{var o,c;switch(e.type){case"union":return t(g,{children:(o=b.schemaProp(e,"oneOf"))==null?void 0:o.map((l,h)=>s(g,{children:[h>0&&s(y,{children:[" "," | "," "]}),t(S,{schema:l})]}))});case"intersection":return t(y,{children:(c=b.schemaProp(e,"allOf"))==null?void 0:c.filter(l=>!Object.keys(l).length).map((l,h)=>s(g,{children:[h>0&&s(y,{children:[" ","&"," "]}),t(S,{schema:l})]}))});case"array":return s(y,{sx:{wordBreak:"keep-all",whiteSpace:"nowrap"},children:[t(y,{children:"Array<"}),t(S,{schema:b.schemaProp(e,"items")??ue()}),t(y,{children:">"})]});case"object":return s(g,{children:[t(y,{children:"{"}),t(J,{children:t(g,{children:Object.entries(b.schemaProp(e,"properties")??{}).map(([l,h])=>h?t(g,{children:s(k,{spacing:2,children:[t(Pe,{schema:h}),s(y,{sx:{wordBreak:"keep-all",whiteSpace:"nowrap"},children:[t(Ct,{nullable:b.schemaProp(e,"nullable"),deprecated:b.schemaProp(e,"deprecated"),optional:!(b.schemaProp(e,"required")??[]).includes(l),children:l}),t(y,{sx:{mr:"1em"},children:":"}),t(S,{schema:h})]})]})}):null)})}),t(y,{children:"}"})]});case"record":return s(g,{children:[t(y,{children:"{"}),b.schemaProp(e,"additionalProperties")&&t(g,{children:t(J,{children:s(k,{children:[s(y,{sx:{mr:1},children:["[K:"," "]}),t(S,{schema:b.schemaProp(e,"propertyNames")??Be()}),s(y,{sx:{mr:1},children:["]:"," "]}),t(S,{schema:b.schemaProp(e,"additionalProperties")??ue()})]})})}),t(y,{children:"}"})]});case"enums":{const l=b.schemaProp(e,"enum")??[];if(l.length==1)return t(y,{children:JSON.stringify(l[0])});let h="any";return l.length>0&&(h=typeof l[0]),s(g,{children:[t(y,{sx:{fontWeight:"bold"},children:h}),t(J,{children:l.map((d,m)=>{var p;return t(R,{name:"enum",value:`${d}`,extra:(p=b.metaProp(e,"enumLabels"))!=null&&p[m]?{label:JSON.stringify(b.metaProp(e,"enumLabels")[m])}:{}},d)})})]})}}let[r,a,i]=[e.type,b.metaProp(e,"format"),b.metaProp(e,"default")];return s(g,{children:[t(y,{sx:{fontWeight:"bold"},children:r||"any"}),s(J,{children:[a&&t(R,{name:"format",value:a}),!D(i)&&t(R,{name:"default",value:i}),Pt.map(l=>{const h=b.schemaProp(e,l);return D(h)?null:l=="pattern"?t(R,{name:l,value:h,extra:{errMsg:b.metaProp(e,"x-pattern-err-msg")}}):t(R,{name:l,value:h})})]})]})}}),Pt=["enum","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","maxProperties","minProperties"];function Dt(n){try{return Number(n)>=400}catch{return!1}}const Tt=v(n=>{const e=B.use();return()=>{const r=nt(n.response["x-status-return-errors"]??[]).map(a=>Bt(a));return s(Rt,{children:[t(Nt,{"data-failed":Dt(n.code),children:n.code}),s(x,{sx:{pl:"4em"},children:[t(g,{children:Object.entries(n.response.content??{}).map(([a,{schema:i}])=>s(Ft,{children:[t(k,{spacing:0,children:t(S,{schema:K.decode(i,o=>[e.schema(o)??{},Y(o)])})}),t("div",{"data-content-type":!0,children:a})]}))}),t(g,{children:r.length>0?s(x,{sx:{mt:16,containerStyle:"sys.surface-container",px:12,py:16,rounded:"xs"},children:[t(x,{sx:{pb:8},children:s("b",{children:[t("small",{children:"可能错误码"}),":"]})}),s(kt,{children:[t(H,{sx:{textStyle:"sys.label-small"},children:t("code",{children:"errors[*].code"})}),t(H,{sx:{textStyle:"sys.label-small"},children:t("code",{children:"errors[*].message"})}),r.map(a=>a?s(g,{children:[t(H,{sx:{color:"sys.primary",textStyle:"sys.label-small",fontWeight:"bold"},children:t("code",{children:JSON.stringify(a.code)})}),t(H,{children:a.message})]}):null)]})]}):null})]})]})}}),kt=u("div")({textStyle:"sys.label-medium",display:"grid",gap:8,width:"100%",gridTemplateColumns:"min-content 1fr",gridAutoColumns:"auto"}),H=u("div")({});function jt(n){return n.split(",").reduce((e,r)=>(e.joining?e.values[e.values.length-1]+=","+r:e.values.push(r),r.split('"').length%2==0&&(e.joining=!e.joining),e),{values:[],joining:!1}).values}function Bt(n=""){const e=n.indexOf("{");return e>-1?jt(n.slice(e+1,n.length-1)).reduce((r,a)=>{const i=a.indexOf("=");if(i<0)return r;const o=a.slice(0,i),c=a.slice(i+1);return D(o)||D(c)?r:{...r,[o]:JSON.parse(c)}},{code:n.slice(0,e)}):null}const Rt=u("section")({}),Nt=u("div")({fontSize:18,fontFamily:"code",color:"sys.success",py:12,pos:"sticky",top:0,_data_failed__true:{color:"sys.error"}}),Ft=u("section")({pos:"relative",$data_content_type:{pos:"absolute",right:0,top:0,fontFamily:"code",opacity:.3}}),qt=u("div",(n,{slots:e})=>r=>{var l,h,d;let a=n.valued,i=n.invalid,o=n.disabled;const c=(((l=e.default)==null?void 0:l.call(e))??[]).map(m=>{var p,w,P;return m.type==="input"?(a=!!(((p=m.props)==null?void 0:p.value)??((w=m.props)==null?void 0:w.placeholder)??a),o=((P=m.props)==null?void 0:P.disabled)??o,pe(m,{disabled:o})):pe(m)});return s(r,{"data-valued":a,"data-invalid":i,"data-disabled":o,"data-focus-within":n.focus,"data-has-leading":!!e.leading,"data-has-trailing":!!e.trailing,children:[s("div",{"data-input-container":!0,children:[s("div",{"data-input-decorator-container":!0,children:[t("div",{"data-input-decorator-leading":!0}),t("div",{"data-input-decorator-label":!0,children:t("div",{"data-input-label":!0,children:(h=e.label)==null?void 0:h.call(e)})}),t("div",{"data-input-decorator-trailing":!0})]}),s("div",{"data-input-row":!0,children:[e.leading&&t(be,{role:"leading",children:e.leading()}),c,e.trailing&&t(be,{role:"trailing",children:e.trailing()})]})]}),e.supporting&&t("div",{"data-input-supporting":!0,children:(d=e.supporting)==null?void 0:d.call(e)})]})})({display:"block",pos:"relative",textStyle:"sys.body-medium",$data_input_container:{pos:"relative",zIndex:1},$data_input_row:{pos:"relative",rounded:"xs",overflow:"hidden",minHeight:40,display:"flex",alignItems:"stretch",zIndex:1},$data_input_decorator_container:{pos:"absolute",left:0,top:0,bottom:0,right:0,display:"flex",zIndex:1,rounded:"xs"},$data_input_decorator_leading:{roundedLeft:"xs",transitionDuration:"sm1",transitionTimingFunction:"standard",width:16,borderLeft:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"sys.outline",pointerEvents:"none"},$data_input_decorator_label:{transitionDuration:"sm1",transitionTimingFunction:"standard",borderBottom:"1px solid",borderColor:"sys.outline"},$data_input_decorator_trailing:{borderRight:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"sys.outline",roundedRight:"xs",transitionDuration:"sm1",transitionTimingFunction:"standard",flex:1,pointerEvents:"none"},$data_input_label:{position:"relative",top:-12,padding:4,textStyle:"sys.body-small",color:"sys.on-surface-variant",display:"flex",alignItems:"center"},$data_input:{flex:1,w:"100%",m:0,px:16,py:4,cursor:"text","&[readonly]":{cursor:"pointer"},bg:"inherit",color:"sys.on-surface",outline:"none",border:"none",textStyle:"sys.body-medium",_disabled:{cursor:"not-allowed"}},$data_input_supporting:{textStyle:"sys.body-small",px:16,pt:4,display:"flex",gap:16,width:"100%",overflow:"auto",color:"sys.on-surface-variant"},$data_icon:{color:"sys.on-surface-variant"},_has_leading:{$data_input:{pl:36},$data_input_label:{left:36}},_has_trailing:{$data_input:{pr:32}},_valued:{$data_input:{}},_focusWithin:{$data_input_decorator_leading:{borderWidth:"2px",borderColor:"sys.primary"},$data_input_decorator_label:{borderWidth:"2px",borderColor:"sys.primary"},$data_input_decorator_trailing:{borderWidth:"2px",borderColor:"sys.primary"},$data_input_label:{color:"sys.primary"}},_invalid:{$data_input_decorator_leading:{borderWidth:"2px",borderColor:"sys.error"},$data_input_decorator_label:{borderWidth:"2px",borderColor:"sys.error"},$data_input_decorator_trailing:{borderWidth:"2px",borderColor:"sys.error"},$data_input_label:{color:"sys.error"},$data_input_supporting:{color:"sys.error"},$data_icon:{color:"sys.error"}},_disabled:{opacity:.38,cursor:"not-allowed"}}),be=u("div",{role:Re(["leading","trailing"])})({pos:"absolute",top:4,bottom:4,display:"flex",alignItems:"center",color:"sys.on-surface-variant",_role__leading:{left:12,$data_icon:{ml:-4}},_role__trailing:{right:12,$data_icon:{mr:-4}}}),ge=v((n,{})=>{const e=yt.of(n.field$.typedef,D(n.field$.input)?void 0:n.field$.input);return f(e,Xe(1),N(r=>{n.field$.update(r)}),Z()),()=>t(Et,{children:t(ft,{value:e,children:t(bt,{})})})}),Et=u("div")({position:"relative",width:"100%",minHeight:"40em",py:8,px:12,overflow:"hidden"}),Lt=()=>({"User-Agent":navigator.userAgent,Origin:location.origin,Referer:`${location.origin}${location.pathname}`}),De=({field:n,value:e})=>s(x,{component:"span",sx:{display:"block"},children:[s(x,{component:"span",sx:{fontWeight:"bold",marginRight:"0.5em"},children:[n,":"]}),t("span",{children:e})]}),Mt=({method:n,url:e,params:r})=>{const a=te(r);return s(x,{component:"span",sx:{fontWeight:"bold"},children:[`${n.toUpperCase()} `,s(x,{component:"span",sx:{fontWeight:"medium"},children:[e,a?`?${a}`:""]})," HTTP/*"]})},Wt=(n,e)=>{const r=(a,i)=>i instanceof File||i instanceof Blob?`${n}
Content-Disposition: form-data; name="${a}"${i.name?`; filename="${i.name}"`:""}
Content-Type: ${i.type}

[File Content]
`:rt(i)?i.map(o=>r(a,o)).join(`
`):`${n}
Content-Disposition: form-data; name="${a}"

${at(i)?JSON.stringify(i):String(i)}
`;return Object.entries(e).map(([a,i])=>r(a,i)).join(`
`)+`${n}--`};function Jt(n){if(zt(n.headers)){const e="----WebKitFormBoundaryfakefakefakefakefakefakefakefakefake";return n.headers={...n.headers,"Content-Type":`multipart/form-data; boundary=${e}`},Wt(e,n.body)}return Ut(n.headers)?te(n.body):ke(n.headers)?JSON.stringify(n.body,null,2):n.body}const Te=E({$default:V().optional()},({},{slots:n})=>()=>{var e;return t(x,{sx:{containerStyle:"sys.surface-container",rounded:"xs",width:"100%",overflow:"auto",py:4,px:8},children:t(x,{component:"pre",sx:{padding:4,margin:0,textStyle:"sys.body-small",fontFamily:"code"},children:t("code",{children:(e=n.default)==null?void 0:e.call(n)})})})}),Ht=E({request:V()},n=>()=>{const e=n.request;return s(Te,{children:[t(Mt,{...e}),t(g,{children:Object.entries({...Lt(),...e.headers}).toSorted().map(([r,a])=>t(De,{field:r,value:a},r))}),e.body&&s(g,{children:[t("br",{}),Jt(e)]})]})}),At=(n,e)=>{const r=new Uint8Array(n);let a="";for(let i=r.byteLength,o=0;o<i;o++)a+=String.fromCharCode(r[o]);return`data:${e};base64,${btoa(a)}`},Vt=E({response:V()},(n,{})=>()=>{const e=n.response;return Kt(e.headers)?t("div",{children:t("img",{src:At(e.body,L(e.headers)),alt:""})}):s(Te,{children:[s("span",{children:["HTTP/* ",e.status]}),t("br",{}),e.headers&&t(g,{children:Object.entries(e.headers).map(([r,a])=>t(De,{field:r,value:a},r))}),t("br",{}),e.body?ke(e.headers)?JSON.stringify(e.body,null,2):`${e.body}`:null]})});function L(n={}){for(const[e,r]of Object.entries(n))if(e.toLowerCase()=="content-type")return r;return""}function zt(n){return L(n).includes("multipart/form-data")}const ke=n=>L(n).includes("application/json");function Ut(n){return L(n).includes("application/x-www-form-urlencoded")}function Kt(n){return L(n).includes("image/")}const Yt=v(n=>{const e=B.use();return f(e.response$(n.operationID),_(r=>t(Gt,{children:t(Vt,{response:r})})))}),Gt=u("section")({maxHeight:"40vh",overflow:"auto"}),Qt=v((n,{slots:e})=>{const r=B.use(),a={};for(const d of n.operation.parameters??[]){let m=K.decode(d.schema,p=>[r.schema(p)??{},Y(p)]).use(ye(`${d.name}, in=${JSON.stringify(d.in)}`));d.required||(m=m.optional()),m.use(ht(d.schema.title)),["object","array"].includes(d.schema.type??"")?a[d.name]=m.use(W(ge)):a[d.name]=m}if(n.operation.requestBody){const d=Object.entries(n.operation.requestBody.content??{})[0];if(d){const[m,p]=d,w=K.decode(p.schema??{},P=>[r.schema(P)??{},Y(P)]).use(ye(`body, content-type = ${JSON.stringify(m)}`));m.includes("text/")?a.body=w:m.includes("octet-stream")?a.body=w.use(W(xe)):m.includes("image/")?a.body=w.use(W(xe)):a.body=w.use(W(ge))}}const i=Le(),o=Me(),c=()=>{try{const d=o.query.params;return JSON.parse(atob((Array.isArray(d)?d[0]:d)??""))}catch{}return{}},l=mt.of(Ne(a),c());f(l,N(d=>{r.request(n.operation.operationId,d)}),N(d=>{i.replace({query:{params:btoa(JSON.stringify(d))}})}),Z());const h=f(l.inputs$,_(d=>{const m=r.asRequestConfigCreator(n.operation.operationId);return m?t(Ht,{request:m(d)}):null}));return()=>{var d;return s(x,{sx:{py:24,px:24,gap:24,width:"100%",height:"100%",display:"flex",alignItems:"stretch",overflow:"hidden"},component:"form",onSubmit:m=>{m.preventDefault(),l.submit()},children:[t(x,{sx:{flex:2,py:24,display:"flex",flexDirection:"column",gap:32,height:"100%",overflow:"auto"},children:[...l.fields(l.typedef)].map(m=>t(Xt,{field$:m}))}),t(x,{sx:{flex:3,gap:24,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:s(x,{sx:{display:"flex",flexDirection:"column",gap:24,height:"100%",overflow:"hidden"},children:[h,t(x,{sx:{px:8},children:t(st,{type:"submit",children:"发起请求"})}),t(Yt,{operationID:n.operation.operationId}),t(x,{sx:{flex:1,overflow:"auto"},children:(d=e.default)==null?void 0:d.call(e)})]})})]},n.operation.operationId)}}),Xt=v(({field$:n},{render:e})=>(We(()=>{n.destroy()}),f(Ze([n,n.input$]),e(([r,a])=>{let i=b.metaProp(n.typedef,"inputBy")??en;const o=(b.metaProp(n.typedef,"readOnlyWhenInitialExist")??!1)&&!!r.initial;return t(qt,{valued:!D(a??r.initial),invalid:!!r.error,focus:!!r.focus,$label:s("span",{children:[Zt(n),n.optional?"（非必填）":""]}),$supporting:s(k,{children:[t(Pe,{schema:n.typedef}),t(S,{schema:n.typedef})]}),$trailing:i.$trailing,children:t(i,{field$:n,readOnly:o})})}))));function Zt(n){return n.meta.label??n.name}const en=E({readOnly:Fe().optional(),field$:V()},n=>()=>{const{readOnly:e,field$:r,...a}=n;return t("input",{...a,"data-input":!0,type:"text",readonly:e,name:r.name,value:r.input,onChange:i=>{const o=i.target.value;switch(r.typedef.type){case"number":try{r.update(r.typedef.create(parseFloat(o)))}catch{}break;case"integer":try{r.update(r.typedef.create(parseInt(o)))}catch{}break;case"boolean":try{r.update(r.typedef.create(o!=="false"||!!o))}catch{}break;default:r.update(r.typedef.create(o))}},onFocus:()=>r.focus(),onBlur:()=>r.blur()})}),xe=v(n=>{const e=z(null);return f(e,N(r=>{r&&n.field$.update(r)}),ee()),()=>{var i;const{readOnly:r,accept:a}=n;return s(x,{component:"label","data-input":!0,sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,$data_file_input:{display:"none"},$data_icon:{width:40,height:40,my:40}},children:[t("input",{type:"file",name:n.field$.name,readonly:r,accept:a,"data-file-input":!0,onChange:o=>{var l;const c=(l=o.target.files)==null?void 0:l[0];c&&(e.value=c)}}),t(O,{path:lt}),t("span",{children:(i=e.value)==null?void 0:i.name})]})}}),tn=v((n,{render:e})=>{const r=B.use();return Je(()=>{r.request(n.op.operationId,{})}),f(r.response$(n.op.operationId),e(a=>t(nn,{database:a.body})))}),nn=v(n=>()=>s(an,{children:[t(on,{children:n.database.name}),Object.entries(n.database.tables).map(([e,r])=>t(je,{database:n.database,table:r,tableName:e}))]})),je=v((n,{render:e})=>{const r=new q([]);return f(r,e(a=>{const i=n.table.columns,o=n.table.constraints;return s(sn,{open:!0,children:[s(ln,{children:[t("span",{children:n.tableName}),t(yn,{}),t(we,{meta:n.table})]}),Object.keys(i).map(c=>{const l=i[c];return s(ve,{"data-hover":a.includes(c),children:[t(dn,{children:c}),l.of?t(rn,{database:n.database,of:l.of}):t(pn,{children:l.type}),t(cn,{children:t(we,{meta:l})})]})}),Object.entries(o).map(([c,l])=>t(ve,{onMouseover:()=>{r.next(l.columnNames.map(h=>h.name))},onMouseleave:()=>{r.next([])},children:s(mn,{"data-primary":l.primary,"data-unique":l.unique,children:[t(O,{path:l.unique?dt:ct}),t("span",{children:c}),s("span",{children:["(",l.columnNames.map(h=>[h.name,...h.options??[]].join(" ")).join(","),")"]})]})})),t(x,{sx:{py:4}})]})}))}),rn=v((n,{render:e})=>{const r=q.seed(!1),a=f(r,e(i=>{const o=n.of.split(".")[0];return t(ae,{isOpen:i,onClose:()=>{r.next(!1)},children:t(hn,{children:t(je,{database:n.database,tableName:o,table:n.database.tables[o]})})})}));return()=>s(un,{onClick:()=>{r.next(!0)},children:[n.of,a]})}),an=u("div")({py:18,px:24,flex:1,overflow:"auto"}),on=u("div")({py:8,px:16,textStyle:"sys.label-large"}),sn=u("details")({"& + &":{mt:16},rounded:"sm",border:"1px solid",borderColor:it("sys.outline-variant",ot(.38)),overflow:"hidden",width:"100%"}),ln=u("summary")({textStyle:"sys.label-large",py:8,px:16,display:"flex",color:"sys.primary"}),ve=u("div")({px:16,py:4,display:"flex",_hover:{containerStyle:"sys.surface-container-low"}}),dn=u("div")({display:"flex",width:"20vw",textStyle:"sys.label-small",font:"code"}),cn=u("div")({display:"flex",textStyle:"sys.label-small",width:"20vw",justifyContent:"end"}),un=u("div")({flex:1,textStyle:"sys.label-small",font:"code",fontWeight:"bold",color:"sys.primary",_hover:{cursor:"pointer"}}),pn=u("div")({flex:1,textStyle:"sys.label-small"}),we=u("div",(n,{})=>e=>s(e,{children:[n.meta.title," ",n.meta.description?t(Ce,{title:t(ie,{children:t(re,{text:n.meta.description})}),children:t(O,{path:Se})}):null]}))({position:"relative",display:"flex",alignItems:"center",gap:4,textStyle:"sys.body-small",fontSize:10,lineHeight:12,[`${O}`]:{width:12,height:12,overflow:"hidden"}}),hn=u("div")({display:"flex",containerStyle:"sys.surface",width:"90vw",roundedBottom:"sm",px:16,py:36,top:0,position:"absolute",overflow:"auto"}),mn=u("div")({flex:1,textStyle:"sys.label-small",font:"code",fontWeight:"bold",display:"flex",alignItems:"center",gap:"1em",_primary:{[`${O}`]:{color:"sys.primary"}},_unique:{[`${O}`]:{position:"relative","&::before":{content:JSON.stringify("1"),position:"absolute",right:-6,textStyle:"sys.label-small",fontSize:8}}}}),yn=u("div")({flex:1}),fn=u("pre",({},{slots:n})=>e=>{var i;const r=(i=n.default)==null?void 0:i.call(n),a=r==null?void 0:r[0];return a&&a.props.className==="language-mermaid"?t(bn,{code:a.children}):t(e,{children:r})})({}),bn=v((n,{})=>{const e=z(null);return f(e,I(r=>r?et((async()=>{const{default:a}=await qe(async()=>{const{default:i}=await import("./vendor-min-mermaid~mermaid.esm.min.CJc5RJ_Z.chunk.js");return{default:i}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]));await a.run({nodes:[r]})})()):ne),ee()),()=>t(gn,{ref:e,class:"mermaid",children:n.code})}),gn=u("div")({"& > svg":{minWidth:"80%"}}),jn=v((n,{})=>{const e=B.use(),r=f(n.operationId$,I(p=>e.operation$(p))),a=f(r,tt(p=>!!p)),i=q.seed(!1),o=f(a,_(p=>p.description?t(re,{text:p.description,components:{pre:fn}}):null)),c=f(i,_(p=>t(ae,{isOpen:p,onClose:()=>{i.next(!1)},children:t(l,{children:t(ie,{children:o})})}))),l=u("div")({containerStyle:"sys.surface",width:"95vw",maxHeight:"98vh",roundedBottom:"sm",px:32,pt:16,py:48,top:0,position:"absolute",overflow:"auto",pre:{width:"100%"},"svg,img":{display:"block",m:"0 auto"}}),h=f(a,_(p=>p.description?s(pt,{onClick:()=>{i.next(!0)},children:[t(O,{path:ut}),c]}):null)),d=f(a,_(p=>t(Qt,{operation:p,children:t(g,{children:Object.entries(p.responses??{}).map(([w,P])=>t(Tt,{code:w,response:P},w))})},p.operationId))),m=f(a,_(p=>s(xn,{sx:{containerStyle:{get:"sys.primary-container",post:"sys.success-container",put:"sys.warning-container",delete:"sys.error-container"}[p.method]??"sys.secondary-container"},children:[t("div",{"data-operation-method":!0,children:p.method}),s("div",{"data-operation-desc":!0,children:[t("div",{"data-operation-path":!0,children:p.path}),s("div",{"data-operation-summary":!0,children:[p.summary," ",p.operationId!=p.summary?p.operationId:""]})]}),t(x,{sx:{flex:1}}),h]})));return f(r,_(p=>p?p.operationId=="SycDatabaseEr"?s($e,{children:[m,t(_e,{children:t(tn,{op:p})})]},p.operationId):s($e,{children:[m,t(_e,{children:t(x,{sx:{flex:1,overflow:"auto"},children:d})})]},p.operationId):null))}),$e=u("div")({height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch"}),_e=u("div")({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"stretch"}),xn=u("summary")({display:"flex",alignItems:"center",width:"100%",px:16,py:8,gap:16,$data_operation_method:{textTransform:"uppercase",fontSize:24,fontFamily:"code"},$data_operation_path:{fontFamily:"code"},$data_operation_summary:{opacity:.8,textStyle:"sys.body-small"}});export{B as O,jn as a,kn as b};
