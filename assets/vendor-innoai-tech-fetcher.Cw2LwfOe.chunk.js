import{A as e,D as t,F as n,N as r,P as i,S as a,b as o,h as s,j as c}from"./vendor-innoai-tech-vuekit.CkoS-89Q.chunk.js";var l=e=>e===void 0,u=e=>typeof e==`function`,d=e=>!!e&&e.constructor===Object,f=Array.isArray;function p(e,t){return new Promise((n,r)=>{let i=new XMLHttpRequest;if(i.open(t.method??`GET`,e),t.headers)for(let[e,n]of Object.entries(t.headers))i.setRequestHeader(e,n);i.upload&&u(t.onUploadProgress)&&i.upload.addEventListener(`progress`,t.onUploadProgress),i.responseType=`arraybuffer`,i.onloadend=()=>{if(i.status==0)return;let e=m(i.getAllResponseHeaders());n(new Response(i.status!=204&&i.response?new Blob(i.response):null,{status:i.status,statusText:i.statusText,headers:e}))},i.onerror=()=>r(TypeError(`Network request failed`)),i.ontimeout=()=>r(TypeError(`Network request timed out`)),i.onabort=()=>r(new DOMException(`Aborted`,`AbortError`)),i.send(t.body??null)})}function m(e){let t=e.trim().split(/[\r\n]+/),n=new Headers;for(let e of t){let t=e.split(`: `),r=t.shift();n.set(r,t.join(`: `))}return n}var h=e=>{let t=new URLSearchParams,n=(e,r)=>{if(f(r)){for(let t of r)n(e,t);return}if(d(r)){n(e,JSON.stringify(r));return}l(r)||`${r}`.length===0||t.append(e,`${r}`)};if(e)for(let[t,r]of Object.entries(e))n(t,r);return t.toString()},g=(e={})=>e[`Content-Type`]||e[`content-type`]||``,_=(e={})=>{e[`Content-Type`]&&=void 0,e[`content-type`]&&=void 0},v=e=>g(e).includes(`multipart/form-data`),y=e=>g(e).includes(`application/json`),b=e=>g(e).includes(`application/octet-stream`),x=e=>g(e).includes(`application/x-www-form-urlencoded`),S=(e,t)=>{if(v(t)){_(t);let n=new FormData,r=(e,t)=>{if(t instanceof File||t instanceof Blob)n.append(e,t);else if(f(t))for(let n of t)r(e,n);else d(t)?n.append(e,JSON.stringify(t)):n.append(e,t)};for(let[t,n]of e)r(t,n);return n}return x(t)?h(e):b(t)?e:y(t)||f(e)||d(e)?JSON.stringify(e):e};function C(e,t){return t.onUploadProgress&&typeof XMLHttpRequest<`u`?p(e,t):fetch(e,t)}var w=({paramsSerializer:e,transformRequestBody:t})=>{let n=t=>{let n=e(t.params);return n.length&&!n.startsWith(`?`)&&(n=`?`+n),`${t.url}${n}`},r=e=>t(e.body,e.headers||{});return{build:e=>e,toRequestBody:r,toHref:n,async request(e){let t=r(e);return C(n(e),{method:e.method,headers:e.headers||{},body:t,onUploadProgress:e.onUploadProgress}).then(async t=>{let n;n=t.headers.get(`Content-Type`)?.includes(`application/json`)?await t.json():t.headers.get(`Content-Type`)?.includes(`application/octet-stream`)?await t.blob():await t.text();let r={config:e,status:t.status,headers:{}};for(let[e,n]of t.headers.entries())r.headers[e]=n;return r.body=n,r}).then(e=>{if(e.status>=400)throw e.error=e.body,e;return e})}}},T=(e,t)=>new E(e,t),E=class extends n{requesting$=new r(!1);error$=new i;_success$=new i;_input$=new i;constructor(e,t){super(e=>this._success$.subscribe(e)),this.createConfig=e,this.fetcher=t}get operationID(){return this.createConfig.operationID}unsubscribe=this._input$.pipe(t(t=>(this.requesting$.next(!0),c(this.fetcher.request(this.createConfig(t))).pipe(s(e=>this._success$.next(e)),a(t=>(this.error$.next(t),e(t)))))),s(()=>{this.requesting$.next(!1)}),o()).subscribe();_prevInputs;next=e=>{let t=u(e)?e(this._prevInputs):e;this._prevInputs=t,this._input$.next(t)};toHref=e=>this.fetcher.toHref(this.createConfig(e))};export{S as i,T as n,h as r,w as t};