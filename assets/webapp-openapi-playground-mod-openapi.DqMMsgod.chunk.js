const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-min-mermaid~mermaid.esm.min.0qx4k16J.chunk.js","assets/lib-nodepkg-typedef.JfBGL8NS.chunk.js","assets/vendor-min-mermaid~chunk-DOAV5WWK.CJyzGX7Y.chunk.js","assets/vendor-min-mermaid~chunk-L2GBLFDY.bt0T5m3z.chunk.js","assets/vendor-min-mermaid~chunk-NIZHWIZP.41FV3HsL.chunk.js","assets/vendor-min-mermaid~chunk-BF7QJ6L7.DK9jwCiC.chunk.js","assets/vendor-min-mermaid~chunk-GTKDMUJJ.CzbCS-C_.chunk.js","assets/vendor-min-mermaid~chunk-7LIB5WBN.upNsDB0D.chunk.js","assets/vendor-min-mermaid~chunk-L2HI3BDI.Dq5F1R3d.chunk.js","assets/vendor-min-mermaid~chunk-W2SG4BMC.CgjqxNXF.chunk.js","assets/vendor-min-mermaid~chunk-SXDZHNYO.D3-Ci5Su.chunk.js","assets/vendor-min-mermaid~chunk-B4LOWB5X.T-uFuOvQ.chunk.js","assets/vendor-min-mermaid~chunk-LM6QDVU5.BAO1h6r1.chunk.js","assets/vendor-min-mermaid~chunk-543QDF6V.CSpQVPcT.chunk.js","assets/vendor-min-mermaid~chunk-HXN2J7W2.xQdsu3kt.chunk.js","assets/vendor-min-mermaid~chunk-RGZHNYJS.BZGdGDWl.chunk.js","assets/vendor-min-mermaid~chunk-TI4EEUUG.BFlBPHyk.chunk.js","assets/vendor-min-mermaid~chunk-6BY5RJGC.CZ3m8b_4.chunk.js","assets/vendor-min-mermaid~chunk-YPUTD6PB.DixZkCPt.chunk.js"])))=>i.map(i=>d[i]);
import{S as e,s as t,b as a,f as r,h as i,j as n,e as o,o as l,k as s,_ as d}from"./lib-nodepkg-typedef.JfBGL8NS.chunk.js";import{I as p,r as c,c as u,a as m,s as h,o as y,v as f,h as b,d as g,j as x,A as v,R as w,f as _,F as $,b as N,B as S,C as I,D as C,k as O}from"./lib-nodepkg-vuekit.BTmhmOud.chunk.js";import{c as k,a as j,p as D,t as P}from"./vendor-innoai-tech-fetcher.DxltulQZ.chunk.js";import{B as T,s as q,b as E,m as B,E as R,o as F,S as W,t as L,k as M,O as A,l as J,c as H,e as V,n as z}from"./vendor-rxjs.Bd9FJCma.chunk.js";import{x as U,g as K,a as G,y as Q,d as X,f as Y}from"./vendor-innoai-tech-lodash.BKx3vM3U.chunk.js";import{s as Z,B as ee,v as et,b as ea}from"./lib-nodepkg-vueuikit.C4SXWvwO.chunk.js";import{M as er}from"./lib-nodepkg-vuemarkdown.BVMvMTM_.chunk.js";import{a as ei,m as en,T as eo,D as el,F as es,f as ed,g as ep,h as ec,i as eu,I as em}from"./lib-nodepkg-vuematerial.DtUuv5Rm.chunk.js";import{l as eh,h as ey,i as ef,F as eb}from"./lib-nodepkg-vueformdata.DnFZzE1N.chunk.js";import{J as eg,a as ex,b as ev}from"./lib-nodepkg-jsoneditor.DTs8-BM2.chunk.js";class ew extends p{static empty(){return new ew({openapi:"3.1.0",components:{schemas:{}},paths:{}})}#e=k({paramsSerializer:D,transformRequestBody:P});#t=new T(new Map);get #a(){return this.value.servers?.[0]?.url??""}response$(e){return c(this.#t,q(t=>{let a=t.get(e);return a?B(a,a.error$):R}))}requesting$(e){return c(this.#t,q(t=>t.get(e)?.requesting$??F(!1)))}asRequestConfigCreator(e){let t=this.#r(e);if(!t)return null;let a=Object.keys(t.requestBody?.content??{})[0];return e=>({method:t.method.toUpperCase(),url:this.#a+e$(t.path,e),params:U(e,t.parameters?.filter(e=>"query"==e.in).map(e=>e.name)),headers:{...U(e,t.parameters?.filter(e=>"header"==e.in).map(e=>e.name)),...a?{"Content-Type":a}:{}},body:e.body,inputs:e})}request(e,t){let a=this.#t.value.get(e);if(!a){let t=this.asRequestConfigCreator(e);if(!t)return;a=j(Object.assign(t,{operationID:e,TRespData:{}}),this.#e),this.#t.value.set(e,a),this.#t.next(this.#t.value)}a.next(t)}#r(e){for(let t of e_(this.value,{operationId:e}))if(t)return t;return null}operation$(e){return c(this,q(t=>{for(let a of e_(t,{operationId:e}))if(a)return F(a);return F(null)}))}operations$(e){return c(this,q(t=>F([...e_(t,e)])))}schema$(e){let t=e.split("#/")[1]?.split("/")??[];return c(this,q(e=>t?F(K(e,t)??null):F(null)),E(e=>e?{...e,$id:t[t.length-1]}:e))}schema(e){let t=e.split("#/")[1]?.split("/")??[];if(t)return K(this.value,t)??void 0}}function*e_(e,t){for(let[a,r]of Object.entries(e.paths))for(let[e,i]of Object.entries(r))if("OpenAPI"!=i.operationId&&"OpenAPIView"!=i.operationId&&(!t.tag||(i.tags??[]).includes(t.tag))){if(t.operationId){if(t.operationId.startsWith("*")){if(!i.operationId.toLowerCase().includes(t.operationId.slice(1).toLowerCase()))continue}else if(i.operationId.toLowerCase()!=t.operationId.toLowerCase())continue}yield{...i,method:e,path:a,group:i.tags?.[0]??""}}}let e$=(e,t={})=>e.replace(/{([\s\S]+?)}/g,(e,a)=>[].concat(t[a]||e).join(",")),eN=u(()=>ew.empty(),{name:"OpenAPI"}),eS=m(({},{})=>{let e=eN.use(),t=new p({operationId:void 0}),a=new W;c(a,M(200),L(e=>{t.next(t=>{t.operationId=`*${e??""}`})}),h());let r=y(null);c(r,q(e=>{if(e){let t=t=>{t&&e.scrollTo({top:t.offsetTop-e.offsetTop})};return new A(()=>{let a=new MutationObserver(e=>{for(let a of e)if("attributes"===a.type){let e=a.target;e.classList.contains("router-link-active")&&t(e)}});return a.observe(e,{attributes:!0,subtree:!0}),setTimeout(()=>{t(e.querySelector(".router-link-active"))},100),()=>{a.disconnect()}})}return R}),f());let i=c(t,q(t=>e.operations$(t)),b(e=>{let t=Object.groupBy(e,e=>e.group);return g(eC,{children:[x(eO,{children:x("input",{type:"text",placeholder:"请输入 operationId 查询",onInput:e=>{a.next(e.target.value)}})}),x(ek,{sx:{flex:1,overflow:"scroll"},ref:r,children:Object.entries(t).toSorted().map(([e,t])=>g("div",{"data-nav-group":!0,children:[x("div",{"data-nav-group-heading":!0,children:e}),x("div",{"data-nav-group-contents":!0,children:t?.map(e=>g(eD,{component:v,to:`/operations/${e.operationId}`,children:[x(ee,{"data-operation-method":!0,sx:{color:{get:"sys.primary",post:"sys.success",put:"sys.warning",delete:"sys.error"}[e.method]??"sys.secondary"},children:e.method}),g("div",{"data-operation-desc":!0,children:[x("div",{"data-operation-id":!0,children:e.operationId}),e.summary?x("div",{"data-operation-summary":!0,children:e.summary!=e.operationId?e.summary:x("span",{children:"\xa0"})}):void 0]})]}))})]}))})]})}));return()=>g(eI,{children:[i,x(ej,{children:x(w,{})})]})},{displayName:"OpenAPIView"}),eI=Z("div",{displayName:"Container"})({width:"100vw",height:"100vh",overflow:"hidden",display:"flex"}),eC=Z("aside",{displayName:"NavContainer"})({width:240,py:4,display:"flex",flexDirection:"column",gap:4,height:"100%",overflow:"hidden",borderRight:"1px solid",borderColor:"sys.outline"}),eO=Z("div",{displayName:"NavSearchBox"})({input:{py:10,px:12,border:"none",width:"100%",outline:0},borderBottom:"1px solid",borderColor:"sys.outline"}),ek=Z("div",{displayName:"Nav"})({display:"flex",flexDirection:"column",gap:4,$data_nav_group_heading:{px:12,py:4,textStyle:"sys.label-small",containerStyle:"sys.secondary-container"}}),ej=Z("main",{displayName:"Main"})({flex:1,overflow:"hidden"}),eD=Z("a",{displayName:"OperationListItem"})({px:12,py:8,pos:"relative",overflow:"hidden",width:240,display:"flex",alignItems:"center",gap:8,flexDirection:"row-reverse",textDecoration:"none",$data_operation_method:{textTransform:"uppercase",fontSize:18,fontFamily:"code",display:"flex",alignItems:"center",pointerEvents:"none"},$data_operation_desc:{flex:1,overflow:"hidden"},$data_operation_id:{textStyle:"sys.label-large",textOverflow:"ellipsis",overflow:"hidden"},$data_operation_summary:{opacity:.7,textStyle:"sys.body-small",textOverflow:"ellipsis",overflow:"hidden"},"&.router-link-active":{containerStyle:"sys.surface-container"}}),eP=Z("div",{displayName:"Token"})({display:"inline-table",textStyle:"sys.label-small",fontWeight:"bold",fontFamily:"inherit",fontSize:11,lineHeight:14}),eT=Z("div",{displayName:"PropName",props:["deprecated","optional","nullable"]})({display:"inline-table",textStyle:"sys.label-small",fontWeight:"bold",fontFamily:"inherit",fontSize:11,lineHeight:14,color:"sys.primary",_deprecated:{textDecoration:"line-through"},_nullable:{"&:after":{content:'"??"',color:"sys.error"}},_optional:{"&:after":{content:'"?"',color:"sys.secondary"}}}),eq=Z("div",(e,{slots:t})=>{let a=eF.use();return r=>x(r,{style:{paddingLeft:`${a.indent}em`,marginTop:(e.spacing??0)*.5},children:t.default?.()})},{displayName:"Line",props:["spacing"]})({position:"relative",display:"block"}),eE=Z("div",(t,{})=>a=>{let r=e.metaProp(t.schema,"title")??"",i=e.metaProp(t.schema,"description")??"";return g(a,{children:[r," ",i?x(eo,{title:x(eB,{children:x(er,{text:i})}),children:x(ei,{path:en})}):null]})},{displayName:"Description",props:["schema"]})({position:"relative",pt:8,display:"flex",alignItems:"center",gap:4,"&::before":{content:'"// "',fontFamily:"code"},textStyle:"sys.body-small",fontSize:10,lineHeight:12,[`${ei}`]:{width:12,height:12,overflow:"hidden"}}),eB=Z("div",{displayName:"MarkdownContainer"})({textStyle:"sys.body-small","& p":{my:1,wordBreak:"keep-all",whiteSpace:"nowrap",opacity:.7},"& code":{wordBreak:"keep-all",whiteSpace:"nowrap"}}),eR=({name:e,value:t,extra:a})=>""==t?null:x(eq,{children:g(eP,{sx:{opacity:.7,fontSize:"0.9em",wordBreak:"keep-all",whiteSpace:"nowrap"},children:[x(eP,{sx:{color:"sys.primary"},children:`@${e}(`}),`${t}`,Object.entries(a??{}).map(([e,t])=>G(t)?null:g($,{children:[g(eP,{sx:{opacity:.5},children:[",","\xa0"]}),x(eP,{sx:{opacity:.5},children:e}),g(eP,{sx:{opacity:.5},children:[":","\xa0"]}),x(eP,{sx:{opacity:.7},children:t})]})),x(eP,{sx:{color:"sys.primary"},children:")"})]})}),eF=u(()=>({indent:0}),{name:"IntentContext"}),eW=_(({},{slots:e})=>{let t=eF.use();return()=>x(eF,{value:{indent:t.indent+1},children:e.default?.()})},{displayName:"Indent"});class eL{constructor(e,t){this.id=e,this.parent=t}child(e){return new eL(e,this)}safe(e){let t=this;for(;t;){if(t.id==e)return!1;t=t.parent}return!0}}let eM=u(()=>new eL("")),eA=m(t=>{let a=eM.use(),r=eF.use(),i=y(!1);return()=>{let n=t.schema,o=e.schemaProp(t.schema,"$ref"),l="intersection"==(n=e.schemaProp(t.schema,e.unwrap)()).type||"object"==n.type||"union"==n.type||"record"==n.type||"array"==n.type||"union"==n.type,s=a.safe(o)&&g($,{children:[x("span",{children:"\xa0"}),x(eH,{schema:n})]});return x(eM,{value:a.child(o),children:l?r.indent<3?g($,{children:[x(v,{to:`#${o}`,"data-index":r.indent,children:x(eP,{id:o,children:o})}),s]}):g($,{children:[x(ee,{component:v,sx:{},to:`#${o}`,"data-index":r.indent,onClick:e=>{a.safe(o)&&(e.preventDefault(),e.stopPropagation(),i.next(!0))},children:x(eP,{id:o,children:o})}),a.safe(o)&&x(el,{isOpen:i.value,onClose:()=>{i.next(!1)},children:x(eJ,{children:g(eq,{children:[x(eP,{children:o}),x(eF,{value:{indent:0},children:s})]})})})]}):s})}},{displayName:"SchemaViewLink",props:["schema"]}),eJ=Z("div",{displayName:"DialogContainer"})({display:"flex",containerStyle:"sys.surface",height:"100vh",width:"36vw",roundedLeft:"sm",px:16,py:36,top:0,right:0,position:"absolute",overflow:"auto"}),eH=m(r=>{let i=r.schema;return e.schemaProp(i,"$ref")?x(eA,{schema:i}):()=>{switch(i.type){case"union":return x($,{children:e.schemaProp(i,"oneOf")?.map((e,t)=>g($,{children:[t>0&&g(eP,{children:["\xa0"," | ","\xa0"]}),x(eH,{schema:e})]}))});case"intersection":return x(eP,{children:e.schemaProp(i,"allOf")?.filter(e=>!Object.keys(e).length).map((e,t)=>g($,{children:[t>0&&g(eP,{children:["\xa0","&","\xa0"]}),x(eH,{schema:e})]}))});case"array":return g(eP,{sx:{wordBreak:"keep-all",whiteSpace:"nowrap"},children:[x(eP,{children:"Array<"}),x(eH,{schema:e.schemaProp(i,"items")??a()}),x(eP,{children:">"})]});case"object":return g($,{children:[x(eP,{children:"{"}),x(eW,{children:x($,{children:Object.entries(e.schemaProp(i,"properties")??{}).map(([t,a])=>a?x($,{children:g(eq,{spacing:2,children:[x(eE,{schema:a}),g(eP,{sx:{wordBreak:"keep-all",whiteSpace:"nowrap"},children:[x(eT,{nullable:e.schemaProp(i,"nullable"),deprecated:e.schemaProp(i,"deprecated"),optional:!(e.schemaProp(i,"required")??[]).includes(t),children:t}),x(eP,{sx:{mr:"1em"},children:":"}),x(eH,{schema:a})]})]})}):null)})}),x(eP,{children:"}"})]});case"record":return g($,{children:[x(eP,{children:"{"}),e.schemaProp(i,"additionalProperties")&&x($,{children:x(eW,{children:g(eq,{children:[g(eP,{sx:{mr:1},children:["[K:","\xa0"]}),x(eH,{schema:e.schemaProp(i,"propertyNames")??t()}),g(eP,{sx:{mr:1},children:["]:","\xa0"]}),x(eH,{schema:e.schemaProp(i,"additionalProperties")??a()})]})})}),x(eP,{children:"}"})]});case"enums":{let t=e.schemaProp(i,"enum")??[];if(1==t.length)return x(eP,{children:JSON.stringify(t[0])});let a="any";return t.length>0&&(a=typeof t[0]),g($,{children:[x(eP,{sx:{fontWeight:"bold"},children:a}),x(eW,{children:t.map((t,a)=>x(eR,{name:"enum",value:`${t}`,extra:e.metaProp(i,"enumLabels")?.[a]?{label:JSON.stringify(e.metaProp(i,"enumLabels")[a])}:{}},t))})]})}}let[r,n,o]=[i.type,e.metaProp(i,"format"),e.metaProp(i,"default")];return g($,{children:[x(eP,{sx:{fontWeight:"bold"},children:r||"any"}),g(eW,{children:[n&&x(eR,{name:"format",value:n}),!G(o)&&x(eR,{name:"default",value:o}),eV.map(t=>{let a=e.schemaProp(i,t);return G(a)?null:"pattern"==t?x(eR,{name:t,value:a,extra:{errMsg:e.metaProp(i,"x-pattern-err-msg")}}):x(eR,{name:t,value:a})})]})]})}},{displayName:"SchemaView",props:["schema"]}),eV=["enum","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","maxProperties","minProperties"],ez=m(e=>{let t=eN.use();return()=>{let a=Q(e.response["x-status-return-errors"]??[]).map(e=>(function(e=""){let t=e.indexOf("{");return t>-1?e.slice(t+1,e.length-1).split(",").reduce((e,t)=>(e.joining?e.values[e.values.length-1]+=","+t:e.values.push(t),t.split('"').length%2==0&&(e.joining=!e.joining),e),{values:[],joining:!1}).values.reduce((e,t)=>{let a=t.indexOf("=");if(a<0)return e;let r=t.slice(0,a),i=t.slice(a+1);return G(r)||G(i)?e:{...e,[r]:JSON.parse(i)}},{code:e.slice(0,t)}):null})(e));return g(eG,{children:[x(eQ,{"data-failed":function(e){try{return Number(e)>=400}catch(e){return!1}}(e.code),children:e.code}),g(ee,{sx:{pl:"4em"},children:[x($,{children:Object.entries(e.response.content??{}).map(([e,{schema:a}])=>g(eX,{children:[x(eq,{spacing:0,children:x(eH,{schema:r.decode(a,e=>[t.schema(e)??{},i(e)])})}),x("div",{"data-content-type":!0,children:e})]}))}),x($,{children:a.length>0?g(ee,{sx:{mt:16,containerStyle:"sys.surface-container",px:12,py:16,rounded:"xs"},children:[x(ee,{sx:{pb:8},children:g("b",{children:[x("small",{children:"可能错误码"}),":"]})}),g(eU,{children:[x(eK,{sx:{textStyle:"sys.label-small"},children:x("code",{children:"errors[*].code"})}),x(eK,{sx:{textStyle:"sys.label-small"},children:x("code",{children:"errors[*].message"})}),a.map(e=>e?g($,{children:[x(eK,{sx:{color:"sys.primary",textStyle:"sys.label-small",fontWeight:"bold"},children:x("code",{children:JSON.stringify(e.code)})}),x(eK,{children:e.message})]}):null)]})]}):null})]})]})}},{displayName:"ResponseView",props:["code","response"]}),eU=Z("div",{displayName:"Table"})({textStyle:"sys.label-medium",display:"grid",gap:8,width:"100%",gridTemplateColumns:"min-content 1fr",gridAutoColumns:"auto"}),eK=Z("div",{displayName:"TableCell"})({}),eG=Z("section",{displayName:"ResponseSection"})({}),eQ=Z("div",{displayName:"ResponseStatusCode"})({fontSize:18,fontFamily:"code",color:"sys.success",py:12,pos:"sticky",top:0,_data_failed__true:{color:"sys.error"}}),eX=Z("section",{displayName:"ResponseSchema"})({pos:"relative",$data_content_type:{pos:"absolute",right:0,top:0,fontFamily:"code",opacity:.3}}),eY=Z("div",(e,{slots:t})=>a=>{let r=e.valued,i=e.invalid,n=e.disabled,o=(t.default?.()??[]).map(e=>"input"===e.type?(r=!!(e.props?.value??e.props?.placeholder??r),n=e.props?.disabled??n,N(e,{disabled:n})):N(e));return g(a,{"data-valued":r,"data-invalid":i,"data-disabled":n,"data-focus-within":e.focus,"data-has-leading":!!t.leading,"data-has-trailing":!!t.trailing,children:[g("div",{"data-input-container":!0,children:[g("div",{"data-input-decorator-container":!0,children:[x("div",{"data-input-decorator-leading":!0}),x("div",{"data-input-decorator-label":!0,children:x("div",{"data-input-label":!0,children:t.label?.()})}),x("div",{"data-input-decorator-trailing":!0})]}),g("div",{"data-input-row":!0,children:[t.leading&&x(eZ,{role:"leading",children:t.leading()}),o,t.trailing&&x(eZ,{role:"trailing",children:t.trailing()})]})]}),t.supporting&&x("div",{"data-input-supporting":!0,children:t.supporting?.()})]})},{displayName:"TextField",props:["valued","focus","invalid","disabled"]})({display:"block",pos:"relative",textStyle:"sys.body-medium",$data_input_container:{pos:"relative",zIndex:1},$data_input_row:{pos:"relative",rounded:"xs",overflow:"hidden",minHeight:40,display:"flex",alignItems:"stretch",zIndex:1},$data_input_decorator_container:{pos:"absolute",left:0,top:0,bottom:0,right:0,display:"flex",zIndex:1,rounded:"xs"},$data_input_decorator_leading:{roundedLeft:"xs",transitionDuration:"sm1",transitionTimingFunction:"standard",width:16,borderLeft:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"sys.outline",pointerEvents:"none"},$data_input_decorator_label:{transitionDuration:"sm1",transitionTimingFunction:"standard",borderBottom:"1px solid",borderColor:"sys.outline"},$data_input_decorator_trailing:{borderRight:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"sys.outline",roundedRight:"xs",transitionDuration:"sm1",transitionTimingFunction:"standard",flex:1,pointerEvents:"none"},$data_input_label:{position:"relative",top:-12,padding:4,textStyle:"sys.body-small",color:"sys.on-surface-variant",display:"flex",alignItems:"center"},$data_input:{flex:1,w:"100%",m:0,px:16,py:4,cursor:"text","&[readonly]":{cursor:"pointer"},bg:"inherit",color:"sys.on-surface",outline:"none",border:"none",textStyle:"sys.body-medium",_disabled:{cursor:"not-allowed"}},$data_input_supporting:{textStyle:"sys.body-small",px:16,pt:4,display:"flex",gap:16,width:"100%",overflow:"auto",color:"sys.on-surface-variant"},$data_icon:{color:"sys.on-surface-variant"},_has_leading:{$data_input:{pl:36},$data_input_label:{left:36}},_has_trailing:{$data_input:{pr:32}},_valued:{$data_input:{}},_focusWithin:{$data_input_decorator_leading:{borderWidth:"2px",borderColor:"sys.primary"},$data_input_decorator_label:{borderWidth:"2px",borderColor:"sys.primary"},$data_input_decorator_trailing:{borderWidth:"2px",borderColor:"sys.primary"},$data_input_label:{color:"sys.primary"}},_invalid:{$data_input_decorator_leading:{borderWidth:"2px",borderColor:"sys.error"},$data_input_decorator_label:{borderWidth:"2px",borderColor:"sys.error"},$data_input_decorator_trailing:{borderWidth:"2px",borderColor:"sys.error"},$data_input_label:{color:"sys.error"},$data_input_supporting:{color:"sys.error"},$data_icon:{color:"sys.error"}},_disabled:{opacity:.38,cursor:"not-allowed"}}),eZ=Z("div",{role:n(["leading","trailing"])},{displayName:"Maker"})({pos:"absolute",top:4,bottom:4,display:"flex",alignItems:"center",color:"sys.on-surface-variant",_role__leading:{left:12,$data_icon:{ml:-4}},_role__trailing:{right:12,$data_icon:{mr:-4}}}),e0=m((e,{})=>{let t=eg.of(e.field$.typedef,G(e.field$.input)?void 0:e.field$.input);return c(t,J(1),L(t=>{e.field$.update(t)}),h()),()=>x(e1,{children:x(ex,{value:t,children:x(ev,{})})})},{displayName:"JSONEditorInput",props:["field$","readOnly"]}),e1=Z("div",{displayName:"JSONInputContainer"})({position:"relative",width:"100%",minHeight:"40em",py:8,px:12,overflow:"hidden"}),e2=({field:e,value:t})=>g(ee,{component:"span",sx:{display:"block"},children:[g(ee,{component:"span",sx:{fontWeight:"bold",marginRight:"0.5em"},children:[e,":"]}),x("span",{children:t})]}),e4=({method:e,url:t,params:a})=>{let r=D(a);return g(ee,{component:"span",sx:{fontWeight:"bold"},children:[`${e.toUpperCase()} `,g(ee,{component:"span",sx:{fontWeight:"medium"},children:[t,r?`?${r}`:""]})," HTTP/*"]})},e8=_({$default:o().optional()},({},{slots:e})=>()=>x(ee,{sx:{containerStyle:"sys.surface-container",rounded:"xs",width:"100%",overflow:"auto",py:4,px:8},children:x(ee,{component:"pre",sx:{padding:4,margin:0,textStyle:"sys.body-small",fontFamily:"code"},children:x("code",{children:e.default?.()})})}),{displayName:"CodeView"}),e6=_({request:o()},e=>()=>{let t=e.request;return g(e8,{children:[x(e4,{...t}),x($,{children:Object.entries({...{"User-Agent":navigator.userAgent,Origin:location.origin,Referer:`${location.origin}${location.pathname}`},...t.headers}).toSorted().map(([e,t])=>x(e2,{field:e,value:t},e))}),t.body&&g($,{children:[x("br",{}),function(e){if(e5(e.headers).includes("multipart/form-data")){let a="----WebKitFormBoundaryfakefakefakefakefakefakefakefakefake";e.headers={...e.headers,"Content-Type":`multipart/form-data; boundary=${a}`};var t=e.body;let r=(e,t)=>t instanceof File||t instanceof Blob?`${a}
Content-Disposition: form-data; name="${e}"${t.name?`; filename="${t.name}"`:""}
Content-Type: ${t.type}

[File Content]
`:X(t)?t.map(t=>r(e,t)).join("\n"):`${a}
Content-Disposition: form-data; name="${e}"

${Y(t)?JSON.stringify(t):String(t)}
`;return Object.entries(t).map(([e,t])=>r(e,t)).join("\n")+`${a}--`}return e5(e.headers).includes("application/x-www-form-urlencoded")?D(e.body):e7(e.headers)?JSON.stringify(e.body,null,2):e.body}(t)]})]})},{displayName:"HttpRequest"}),e3=_({response:o()},(e,{})=>()=>{let t=e.response;return e5(t.headers).includes("image/")?x("div",{children:x("img",{src:((e,t)=>{let a=new Uint8Array(e),r="";for(let e=a.byteLength,t=0;t<e;t++)r+=String.fromCharCode(a[t]);return`data:${t};base64,${btoa(r)}`})(t.body,e5(t.headers)),alt:""})}):g(e8,{children:[g("span",{children:["HTTP/* ",t.status]}),x("br",{}),t.headers&&x($,{children:Object.entries(t.headers).map(([e,t])=>x(e2,{field:e,value:t},e))}),x("br",{}),t.body?e7(t.headers)?JSON.stringify(t.body,null,2):`${t.body}`:null]})},{displayName:"HTTPResponse"});function e5(e={}){for(let[t,a]of Object.entries(e))if("content-type"==t.toLowerCase())return a;return""}let e7=e=>e5(e).includes("application/json"),e9=m(e=>c(eN.use().response$(e.operationID),b(e=>x(te,{children:x(e3,{response:e})}))),{displayName:"ResponsePreview",props:["operationID"]}),te=Z("section",{displayName:"ResponseSection"})({maxHeight:"40vh",overflow:"auto"}),tt=m((e,{slots:t})=>{let a=eN.use(),n={};for(let t of e.operation.parameters??[]){let e=r.decode(t.schema,e=>[a.schema(e)??{},i(e)]).use(eh(`${t.name}, in=${JSON.stringify(t.in)}`));t.required||(e=e.optional()),e.use(ey(t.schema.title)),["object","array"].includes(t.schema.type??"")?n[t.name]=e.use(ef(e0)):n[t.name]=e}if(e.operation.requestBody){let t=Object.entries(e.operation.requestBody.content??{})[0];if(t){let[e,o]=t,l=r.decode(o.schema??{},e=>[a.schema(e)??{},i(e)]).use(eh(`body, content-type = ${JSON.stringify(e)}`));e.includes("text/")?n.body=l:e.includes("octet-stream")||e.includes("image/")?n.body=l.use(ef(ti)):n.body=l.use(ef(e0))}}let o=S(),s=I(),d=eb.of(l(n),(()=>{try{let e=s.query.params;return JSON.parse(atob((Array.isArray(e)?e[0]:e)??""))}catch(e){}return{}})());c(d,L(t=>{a.request(e.operation.operationId,t)}),L(e=>{o.replace({query:{params:btoa(JSON.stringify(e))}})}),h());let p=c(d.inputs$,b(t=>{let r=a.asRequestConfigCreator(e.operation.operationId);return r?x(e6,{request:r(t)}):null}));return()=>g(ee,{sx:{py:24,px:24,gap:24,width:"100%",height:"100%",display:"flex",alignItems:"stretch",overflow:"hidden"},component:"form",onSubmit:e=>{e.preventDefault(),d.submit()},children:[x(ee,{sx:{flex:2,py:24,display:"flex",flexDirection:"column",gap:32,height:"100%",overflow:"auto"},children:[...d.fields(d.typedef)].map(e=>x(ta,{field$:e}))}),x(ee,{sx:{flex:3,gap:24,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:g(ee,{sx:{display:"flex",flexDirection:"column",gap:24,height:"100%",overflow:"hidden"},children:[p,x(ee,{sx:{px:8},children:x(es,{type:"submit",children:"发起请求"})}),x(e9,{operationID:e.operation.operationId}),x(ee,{sx:{flex:1,overflow:"auto"},children:t.default?.()})]})})]},e.operation.operationId)},{displayName:"RequestBuilder",props:["operation"]}),ta=m(({field$:t},{render:a})=>(C(()=>{t.destroy()}),c(H([t,t.input$]),a(([a,r])=>{var i;let n=e.metaProp(t.typedef,"inputBy")??tr,o=(e.metaProp(t.typedef,"readOnlyWhenInitialExist")??!1)&&!!a.initial;return x(eY,{valued:!G(r??a.initial),invalid:!!a.error,focus:!!a.focus,$label:g("span",{children:[(i=t).meta.label??i.name,t.optional?"（非必填）":""]}),$supporting:g(eq,{children:[x(eE,{schema:t.typedef}),x(eH,{schema:t.typedef})]}),$trailing:n.$trailing,children:x(n,{field$:t,readOnly:o})})}))),{displayName:"ParameterInput",props:["field$"]}),tr=_({readOnly:s().optional(),field$:o()},e=>()=>{let{readOnly:t,field$:a,...r}=e;return x("input",{...r,"data-input":!0,type:"text",readonly:t,name:a.name,value:a.input,onChange:e=>{let t=e.target.value;switch(a.typedef.type){case"number":try{a.update(a.typedef.create(parseFloat(t)))}catch(e){}break;case"integer":try{a.update(a.typedef.create(parseInt(t)))}catch(e){}break;case"boolean":try{a.update(a.typedef.create("false"!==t||!!t))}catch(e){}break;default:a.update(a.typedef.create(t))}},onFocus:()=>a.focus(),onBlur:()=>a.blur()})},{displayName:"TextInput"}),ti=m(e=>{let t=y(null);return c(t,L(t=>{t&&e.field$.update(t)}),f()),()=>{let{readOnly:a,accept:r}=e;return g(ee,{component:"label","data-input":!0,sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,$data_file_input:{display:"none"},$data_icon:{width:40,height:40,my:40}},children:[x("input",{type:"file",name:e.field$.name,readonly:a,accept:r,"data-file-input":!0,onChange:e=>{let a=e.target.files?.[0];a&&(t.value=a)}}),x(ei,{path:ed}),x("span",{children:t.value?.name})]})}},{displayName:"FileSelectInput",props:["field$","readOnly","accept"]}),tn=m((e,{render:t})=>{let a=eN.use();return O(()=>{a.request(e.op.operationId,{})}),c(a.response$(e.op.operationId),t(e=>x(to,{database:e.body})))},{displayName:"DatabaseErContainer",props:["op"]}),to=m(e=>()=>g(td,{children:[x(tp,{children:e.database.name}),Object.entries(e.database.tables).map(([t,a])=>x(tl,{database:e.database,table:a,tableName:t}))]}),{displayName:"DatabaseErView",props:["database"]}),tl=m((e,{render:t})=>{let a=new p([]);return c(a,t(t=>{let r=e.table.columns,i=e.table.constraints;return g(tc,{open:!0,children:[g(tu,{children:[x("span",{children:e.tableName}),x(tw,{}),x(tg,{meta:e.table})]}),Object.keys(r).map(a=>{let i=r[a];return g(tm,{"data-hover":t.includes(a),children:[x(th,{children:a}),i.of?x(ts,{database:e.database,of:i.of}):x(tb,{children:i.type}),x(ty,{children:x(tg,{meta:i})})]})}),Object.entries(i).map(([e,t])=>x(tm,{onMouseover:()=>{a.next(t.columnNames.map(e=>e.name))},onMouseleave:()=>{a.next([])},children:g(tv,{"data-primary":t.primary,"data-unique":t.unique,children:[x(ei,{path:t.unique?ep:ec}),x("span",{children:e}),g("span",{children:["(",t.columnNames.map(e=>[e.name,...e.options??[]].join(" ")).join(","),")"]})]})})),x(ee,{sx:{py:4}})]})}))},{displayName:"DatabaseErTableView",props:["database","table","tableName"]}),ts=m((e,{render:t})=>{let a=p.seed(!1),r=c(a,t(t=>{let r=e.of.split(".")[0];return x(el,{isOpen:t,onClose:()=>{a.next(!1)},children:x(tx,{children:x(tl,{database:e.database,tableName:r,table:e.database.tables[r]})})})}));return()=>g(tf,{onClick:()=>{a.next(!0)},children:[e.of,r]})},{displayName:"DatabaseErTableColumnOfView",props:["of","database"]}),td=Z("div",{displayName:"DatabaseErMain"})({py:18,px:24,flex:1,overflow:"auto"}),tp=Z("div",{displayName:"DatabaseErHeader"})({py:8,px:16,textStyle:"sys.label-large"}),tc=Z("details",{displayName:"DatabaseErTable"})({"& + &":{mt:16},rounded:"sm",border:"1px solid",borderColor:et("sys.outline-variant",ea(.38)),overflow:"hidden",width:"100%"}),tu=Z("summary",{displayName:"DatabaseErTableSummary"})({textStyle:"sys.label-large",py:8,px:16,display:"flex",color:"sys.primary"}),tm=Z("div",{displayName:"DatabaseErTableDef"})({px:16,py:4,display:"flex",_hover:{containerStyle:"sys.surface-container-low"}}),th=Z("div",{displayName:"DatabaseErTableColumnName"})({display:"flex",width:"20vw",textStyle:"sys.label-small",font:"code"}),ty=Z("div",{displayName:"DatabaseErTableColumnComment"})({display:"flex",textStyle:"sys.label-small",width:"20vw",justifyContent:"end"}),tf=Z("div",{displayName:"DatabaseErTableColumnOf"})({flex:1,textStyle:"sys.label-small",font:"code",fontWeight:"bold",color:"sys.primary",_hover:{cursor:"pointer"}}),tb=Z("div",{displayName:"DatabaseErTableColumnType"})({flex:1,textStyle:"sys.label-small"}),tg=Z("div",(e,{})=>t=>g(t,{children:[e.meta.title," ",e.meta.description?x(eo,{title:x(eB,{children:x(er,{text:e.meta.description})}),children:x(ei,{path:en})}):null]}),{displayName:"DatabaseDescription",props:["meta"]})({position:"relative",display:"flex",alignItems:"center",gap:4,textStyle:"sys.body-small",fontSize:10,lineHeight:12,[`${ei}`]:{width:12,height:12,overflow:"hidden"}}),tx=Z("div",{displayName:"DialogContainer"})({display:"flex",containerStyle:"sys.surface",width:"90vw",roundedBottom:"sm",px:16,py:36,top:0,position:"absolute",overflow:"auto"}),tv=Z("div",{displayName:"DatabaseErTableConstraintName"})({flex:1,textStyle:"sys.label-small",font:"code",fontWeight:"bold",display:"flex",alignItems:"center",gap:"1em",_primary:{[`${ei}`]:{color:"sys.primary"}},_unique:{[`${ei}`]:{position:"relative","&::before":{content:JSON.stringify("1"),position:"absolute",right:-6,textStyle:"sys.label-small",fontSize:8}}}}),tw=Z("div",{displayName:"Spacer"})({flex:1}),t_=Z("pre",({},{slots:e})=>t=>{let a=e.default?.(),r=a?.[0];return r&&"language-mermaid"===r.props.className?x(t$,{code:r.children}):x(t,{children:a})},{displayName:"PreWithMermaid"})({}),t$=m((e,{})=>{let t=y(null);return c(t,q(e=>e?V((async()=>{let{default:t}=await d(async()=>{let{default:e}=await import("./vendor-min-mermaid~mermaid.esm.min.0qx4k16J.chunk.js");return{default:e}},true              ?__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]):void 0);await t.run({nodes:[e]})})()):R),f()),()=>x(tN,{ref:t,class:"mermaid",children:e.code})},{displayName:"Mermaid",props:["code"]}),tN=Z("div",{displayName:"MermaidContainer"})({"& > svg":{minWidth:"80%"}}),tS=m((e,{})=>{let t=eN.use(),a=c(e.operationId$,q(e=>t.operation$(e))),r=c(a,z(e=>!!e)),i=p.seed(!1),n=c(r,b(e=>e.description?x(er,{text:e.description,components:{pre:t_}}):null)),o=c(i,b(e=>x(el,{isOpen:e,onClose:()=>{i.next(!1)},children:x(l,{children:x(eB,{children:n})})}))),l=Z("div",{displayName:"DialogContainer"})({containerStyle:"sys.surface",width:"95vw",maxHeight:"98vh",roundedBottom:"sm",px:32,pt:16,py:48,top:0,position:"absolute",overflow:"auto",pre:{width:"100%"},"svg,img":{display:"block",m:"0 auto"}}),s=c(r,b(e=>e.description?g(em,{onClick:()=>{i.next(!0)},children:[x(ei,{path:eu}),o]}):null)),d=c(r,b(e=>x(tt,{operation:e,children:x($,{children:Object.entries(e.responses??{}).map(([e,t])=>x(ez,{code:e,response:t},e))})},e.operationId))),u=c(r,b(e=>g(tO,{sx:{containerStyle:{get:"sys.primary-container",post:"sys.success-container",put:"sys.warning-container",delete:"sys.error-container"}[e.method]??"sys.secondary-container"},children:[x("div",{"data-operation-method":!0,children:e.method}),g("div",{"data-operation-desc":!0,children:[x("div",{"data-operation-path":!0,children:e.path}),g("div",{"data-operation-summary":!0,children:[e.summary," ",e.operationId!=e.summary?e.operationId:""]})]}),x(ee,{sx:{flex:1}}),s]})));return c(a,b(e=>e?"SycDatabaseEr"==e.operationId?g(tI,{children:[u,x(tC,{children:x(tn,{op:e})})]},e.operationId):g(tI,{children:[u,x(tC,{children:x(ee,{sx:{flex:1,overflow:"auto"},children:d})})]},e.operationId):null))},{displayName:"OperationView",props:["operationId"]}),tI=Z("div",{displayName:"OperationContainer"})({height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch"}),tC=Z("div",{displayName:"OperationMain"})({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"stretch"}),tO=Z("summary",{displayName:"OperationHeading"})({display:"flex",alignItems:"center",width:"100%",px:16,py:8,gap:16,$data_operation_method:{textTransform:"uppercase",fontSize:24,fontFamily:"code"},$data_operation_path:{fontFamily:"code"},$data_operation_summary:{opacity:.8,textStyle:"sys.body-small"}});export{eN as O,tS as a,eS as b};
