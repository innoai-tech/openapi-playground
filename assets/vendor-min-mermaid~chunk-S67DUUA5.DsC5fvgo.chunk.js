import{m as b}from"./vendor-min-mermaid~chunk-GTKDMUJJ.Cm7bUosf.chunk.js";var n={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function w(a,e){if(a===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};a=r(a),e=r(e);let[i,t]=[a.x,a.y],[h,y]=[e.x,e.y],o=h-i,f=y-t;return{angle:Math.atan(f/o),deltaX:o,deltaY:f}}b(w,"calculateDeltaAndAngle");var r=b(a=>Array.isArray(a)?{x:a[0],y:a[1]}:a,"pointTransformer"),c=b(a=>({x:b(function(e,i,t){let h=0,y=r(t[0]).x<r(t[t.length-1]).x?"left":"right";if(i===0&&Object.hasOwn(n,a.arrowTypeStart)){let{angle:l,deltaX:d}=w(t[0],t[1]);h=n[a.arrowTypeStart]*Math.cos(l)*(d>=0?1:-1)}else if(i===t.length-1&&Object.hasOwn(n,a.arrowTypeEnd)){let{angle:l,deltaX:d}=w(t[t.length-1],t[t.length-2]);h=n[a.arrowTypeEnd]*Math.cos(l)*(d>=0?1:-1)}let o=Math.abs(r(e).x-r(t[t.length-1]).x),f=Math.abs(r(e).y-r(t[t.length-1]).y),s=Math.abs(r(e).x-r(t[0]).x),M=Math.abs(r(e).y-r(t[0]).y),g=n[a.arrowTypeStart],p=n[a.arrowTypeEnd],x=1;if(o<p&&o>0&&f<p){let l=p+x-o;l*=y==="right"?-1:1,h-=l}if(s<g&&s>0&&M<g){let l=g+x-s;l*=y==="right"?-1:1,h+=l}return r(e).x+h},"x"),y:b(function(e,i,t){let h=0,y=r(t[0]).y<r(t[t.length-1]).y?"down":"up";if(i===0&&Object.hasOwn(n,a.arrowTypeStart)){let{angle:l,deltaY:d}=w(t[0],t[1]);h=n[a.arrowTypeStart]*Math.abs(Math.sin(l))*(d>=0?1:-1)}else if(i===t.length-1&&Object.hasOwn(n,a.arrowTypeEnd)){let{angle:l,deltaY:d}=w(t[t.length-1],t[t.length-2]);h=n[a.arrowTypeEnd]*Math.abs(Math.sin(l))*(d>=0?1:-1)}let o=Math.abs(r(e).y-r(t[t.length-1]).y),f=Math.abs(r(e).x-r(t[t.length-1]).x),s=Math.abs(r(e).y-r(t[0]).y),M=Math.abs(r(e).x-r(t[0]).x),g=n[a.arrowTypeStart],p=n[a.arrowTypeEnd],x=1;if(o<p&&o>0&&f<p){let l=p+x-o;l*=y==="up"?-1:1,h-=l}if(s<g&&s>0&&M<g){let l=g+x-s;l*=y==="up"?-1:1,h+=l}return r(e).y+h},"y")}),"getLineFunctionsWithOffset");export{c as d};
